"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-c8c2c2"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureLayerSource-57cfb4dc.js":
/*!**********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureLayerSource-57cfb4dc.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TimeExtent-7f857a39.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeExtent-7f857a39.js");
/* harmony import */ var _zscale_37987104_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./zscale-37987104.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js");
/* harmony import */ var _QueryTask_51edf2d3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./QueryTask-51edf2d3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/QueryTask-51edf2d3.js");
/* harmony import */ var _clientSideDefaults_33b36468_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./clientSideDefaults-33b36468.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/clientSideDefaults-33b36468.js");
/* harmony import */ var _index_4a62c63d_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-4a62c63d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/index-4a62c63d.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");
/* harmony import */ var _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Query-39c34b93.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/Query-39c34b93.js");
/* harmony import */ var _RelationshipQuery_83684adc_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RelationshipQuery-83684adc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/RelationshipQuery-83684adc.js");
/* harmony import */ var _utils_7a79213d_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils-7a79213d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/utils-7a79213d.js");
/* harmony import */ var _query_3d91522a_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./query-3d91522a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js");
/* harmony import */ var _normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./normalizeUtils-69f83c05.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js");
/* harmony import */ var _queryZScale_8fd5a160_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./queryZScale-8fd5a160.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js");
/* harmony import */ var _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pbfQueryUtils-8a9fc87d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbfQueryUtils-8a9fc87d.js");
/* harmony import */ var _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./OptimizedGeometry-8812e4f6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OptimizedGeometry-8812e4f6.js");
/* harmony import */ var _pbf_777d666d_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pbf-777d666d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbf-777d666d.js");
/* harmony import */ var _featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./featureConversionUtils-87d39ccb.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureConversionUtils-87d39ccb.js");
/* harmony import */ var _defaultsJSON_9f2931b5_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./defaultsJSON-9f2931b5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/defaultsJSON-9f2931b5.js");




















/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function b(e){if("string"==typeof e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.br)(e);return t||{data:e}}return new Promise(((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.br)(a.result)),a.onerror=e=>r(e);}))}const F=new Set(["Feature Layer","Table"]);let R=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ac{constructor(){super(...arguments),this.type="feature-layer";}load(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)?e.signal:null;return this.addResolvingPromise(this._fetchService(t)),Promise.resolve(this)}get queryTask(){const{capabilities:{query:{supportsFormatPBF:e}},parsedUrl:r,dynamicDataSource:a,gdbVersion:s,spatialReference:o,fieldsIndex:i}=this.layer,u=(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("featurelayer-pbf")&&e?"pbf":"json";return new _QueryTask_51edf2d3_js__WEBPACK_IMPORTED_MODULE_4__.x({url:r.path,format:u,fieldsIndex:i,dynamicDataSource:a,gdbVersion:s,sourceSpatialReference:o})}async addAttachment(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+"/"+r+"/addAttachment",s=this._getLayerRequestOptions(),o=this._getFormDataForAttachment(t,s.query);try{const e=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(a,{body:o});return this._createFeatureEditResult(e.data.addAttachmentResult)}catch(i){throw this._createAttachmentErrorResult(r,i)}}async updateAttachment(e,t,r){await this.load();const a=e.attributes[this.layer.objectIdField],s=this.layer.parsedUrl.path+"/"+a+"/updateAttachment",o=this._getLayerRequestOptions({query:{attachmentId:t}}),i=this._getFormDataForAttachment(r,o.query);try{const e=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(s,{body:i});return this._createFeatureEditResult(e.data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(a,u)}}async applyEdits(e,t){await this.load();const r=e.addFeatures.map(this._serializeFeature,this),a=e.updateFeatures.map(this._serializeFeature,this),s=this._getFeatureIds(e.deleteFeatures,null==t?void 0:t.globalIdUsed);(0,_zscale_37987104_js__WEBPACK_IMPORTED_MODULE_3__.l)(r,a,this.layer.spatialReference);const o=[],i=[],u=[...e.deleteAttachments];for(const c of e.addAttachments)o.push(await this._serializeAttachment(c));for(const c of e.updateAttachments)i.push(await this._serializeAttachment(c));const n=o.length||i.length||u.length?{adds:o,updates:i,deletes:u}:null,l$1=this._getLayerRequestOptions({method:"post",query:{adds:r.length?JSON.stringify(r):null,updates:a.length?JSON.stringify(a):null,deletes:s.length?null!=t&&t.globalIdUsed?JSON.stringify(s):s.join(","):null,gdbVersion:(null==t?void 0:t.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==t?void 0:t.rollbackOnFailureEnabled,useGlobalIds:null==t?void 0:t.globalIdUsed,attachments:n&&JSON.stringify(n)}}),d=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(this.layer.parsedUrl.path+"/applyEdits",l$1);return this._createEditsResult(d)}async deleteAttachments(e,t){await this.load();const r=e.attributes[this.layer.objectIdField],a=this.layer.parsedUrl.path+"/"+r+"/deleteAttachments";try{return (await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(a,this._getLayerRequestOptions({query:{attachmentIds:t.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(s){throw this._createAttachmentErrorResult(r,s)}}fetchRecomputedExtents(e={}){const t=e.signal;return this.load({signal:t}).then((async()=>{const t=this._getLayerRequestOptions({...e,query:{returnUpdates:!0}}),{layerId:r,url:a}=this.layer,{data:s}=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(`${a}/${r}`,t),{id:o,extent:i,fullExtent:u,timeExtent:n}=s,l=i||u;return {id:o,fullExtent:l&&_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromJSON(l),timeExtent:n&&_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.d.fromJSON({start:n[0],end:n[1]})}}))}async queryAttachments(e,t={}){const{parsedUrl:r}=this.layer,a$1=r.path;await this.load();const s=this._getLayerRequestOptions(t);if(!this.layer.get("capabilities.operations.supportsQueryAttachments")){const{objectIds:t}=e,r=[];for(const e of t){const t=a$1+"/"+e+"/attachments";r.push((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t,s));}return Promise.all(r).then((e=>t.map(((t,r)=>({parentObjectId:t,attachmentInfos:e[r].data.attachmentInfos}))))).then((e=>(0,_QueryTask_51edf2d3_js__WEBPACK_IMPORTED_MODULE_4__.a)(e,a$1)))}return this.queryTask.executeAttachmentQuery(e,s)}async queryFeatures(e,t){return await this.load(),this.queryTask.execute(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeaturesJSON(e,t){return await this.load(),this.queryTask.executeJSON(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryObjectIds(e,t){return await this.load(),this.queryTask.executeForIds(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryFeatureCount(e,t){return await this.load(),this.queryTask.executeForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryExtent(e,t){return await this.load(),this.queryTask.executeForExtent(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeatures(e,t){return await this.load(),this.queryTask.executeRelationshipQuery(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async queryRelatedFeaturesCount(e,t){return await this.load(),this.queryTask.executeRelationshipQueryForCount(e,{...t,query:{...this.layer.customParameters,...null==t?void 0:t.query}})}async _fetchService(e){let r=this.layer.sourceJSON;if(!r){const{data:a}=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:e}));r=a;}this.sourceJSON=this._patchServiceJSON(r);const a=r.type;if(!F.has(a))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("feature-layer-source:unsupported-type",`Source type "${a}" is not supported`)}_patchServiceJSON(e){var t;if("Table"!==e.type&&e.geometryType&&(null==e||null==(t=e.drawingInfo)||!t.renderer)&&!e.defaultSymbol){const t=(0,_clientSideDefaults_33b36468_js__WEBPACK_IMPORTED_MODULE_5__.i)(e.geometryType).renderer;(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bG)("drawingInfo.renderer",t,e);}return e}_serializeFeature(e){const{geometry:t,attributes:r}=e;return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t)?{attributes:r}:"mesh"===t.type||"extent"===t.type?null:{geometry:t.toJSON(),attributes:r}}async _serializeAttachment(e){const{feature:t,attachment:r}=e,{globalId:a,name:s,contentType:o,data:i,uploadId:u}=r,n={globalId:a,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};if(t&&(n.parentGlobalId="attributes"in t?t.attributes&&t.attributes[this.layer.globalIdField]:t.globalId),u)n.uploadId=u;else if(i){const e=await b(i);n.contentType=e.mediaType,n.data=e.data,i instanceof File&&(n.name=i.name);}return s&&(n.name=s),o&&(n.contentType=o),n}_getFeatureIds(e,t){const r=e[0];return r?this._canUseGlobalIds(t,e)?this._getGlobalIdsFromFeatureIdentifier(e):"objectId"in r?this._getObjectIdsFromFeatureIdentifier(e):this._getIdsFromFeatures(e):[]}_getIdsFromFeatures(e){const t=this.layer.objectIdField;return e.map((e=>e.attributes&&e.attributes[t]))}_canUseGlobalIds(e,t){return e&&"globalId"in t[0]}_getObjectIdsFromFeatureIdentifier(e){return e.map((e=>e.objectId))}_getGlobalIdsFromFeatureIdentifier(e){return e.map((e=>e.globalId))}_createEditsResult(e){const t=e.data,r=e.data&&e.data.attachments;return {addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:r&&r.addResults?r.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:r&&r.updateResults?r.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:r&&r.deleteResults?r.deleteResults.map(this._createFeatureEditResult,this):[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return {objectId:e.objectId,globalId:e.globalId,error:t?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_createAttachmentErrorResult(e,t){const r=t.details.messages&&t.details.messages[0]||t.message,a=t.details.httpStatus||t.details.messageCode;return {objectId:e,globalId:null,error:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("feature-layer-source:attachment-failure",r,{code:a})}}_getFormDataForAttachment(e,t){const r=e instanceof FormData?e:e&&e.elements?new FormData(e):null;if(r)for(const a in t){const e=t[a];null!=e&&(r.set?r.set(a,e):r.append(a,e));}return r}_getLayerRequestOptions(e={}){const{parsedUrl:t,gdbVersion:a,dynamicDataSource:s}=this.layer;return {...e,query:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aa)({gdbVersion:a,layer:s?JSON.stringify({source:s}):void 0,...t.query,f:"json",...this.layer.customParameters,...null==e?void 0:e.query}),responseType:"json"}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],R.prototype,"type",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],R.prototype,"layer",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],R.prototype,"queryTask",null),R=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.graphics.sources.FeatureLayerSource")],R);var q=R;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (q);

//# sourceMappingURL=FeatureLayerSource-57cfb4dc.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/clientSideDefaults-33b36468.js":
/*!**********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/clientSideDefaults-33b36468.js ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   s: () => (/* binding */ s),
/* harmony export */   u: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _defaultsJSON_9f2931b5_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaultsJSON-9f2931b5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/defaultsJSON-9f2931b5.js");




/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function i(t){return {renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?_defaultsJSON_9f2931b5_js__WEBPACK_IMPORTED_MODULE_2__.l:"esriGeometryPolyline"===t?_defaultsJSON_9f2931b5_js__WEBPACK_IMPORTED_MODULE_2__.o:_defaultsJSON_9f2931b5_js__WEBPACK_IMPORTED_MODULE_2__.S}}}function s(r,e){if((0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_0__.t)("csp-restrictions"))return ()=>({[e]:null,...r});try{let t=`this.${e} = null;`;for(const e in r){t+=`this${e.indexOf(".")?`["${e}"]`:`.${e}`} = ${JSON.stringify(r[e])};`;}const n=new Function(t);return ()=>new n}catch(n){return ()=>({[e]:null,...r})}}function u(t={}){return [{name:"New Feature",description:"",prototype:{attributes:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.R)(t)}}]}



//# sourceMappingURL=clientSideDefaults-33b36468.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator}),minus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[180,-180],[180,180]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84}),minus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[-180,-180],[-180,180]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84})}};function i$1(e,n){return Math.ceil((e-n)/(2*n))}function o$1(e,n){const t=s$1(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s$1(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.V)(e)?e.rings:e.paths}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function o(o,i,n,m){const p$1="string"==typeof o?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(o):o,a=i[0].spatialReference,u={...m,query:{...p$1.query,f:"json",sr:JSON.stringify(a),target:JSON.stringify({geometryType:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(p$1.path+"/cut",u),{cutIndexes:f,geometries:g=[]}=c.data;return {cutIndexes:f,geometries:g.map((e=>{const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(e);return t.spatialReference=a,t}))}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function i(e,i,f){const m="string"==typeof e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e):e,p=i[0].spatialReference,a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i[0]),u={...f,query:{...m.query,f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(m.path+"/simplify",u)).data,a,p)}function s(r){return {geometryType:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.as)(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const y=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.geometry.support.normalizeUtils");function x(t){return "polygon"===t.type}function d(t){return "polygon"===t[0].type}function w(t){return "polyline"===t[0].type}function R(t,e){if(!(t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v||t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x)){const t="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(t),new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(t)}const n=s$1(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i]);}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i]);}t.push([i,l]);}}return x(t)?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x({rings:o,spatialReference:t.spatialReference}):new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.au)(e,!0);}return n&&(t=o$1(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=i$1(o,e);t[0]=o+n*(-2*e);}else if(o<n){const e=i$1(o,n);t[0]=o+e*(-2*n);}}else {const o=t.x;if(o>e){const n=i$1(o,e);t=t.clone().offset(n*(-2*e),0);}else if(o<n){const e=i$1(o,n);t=t.clone().offset(e*(-2*n),0);}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=s$1(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return !0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n;}n=Number(n.toFixed(9));const o=-360*i$1(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0));}return !0}}));}if(s===n){if(d(t))for(const e of s$1(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of s$1(r))t[s]=t[s].addPath(e);}else n=s,t[s]=r;}return t}async function L(o$2,s,l){if(!Array.isArray(o$2))return L([o$2],s);const p=s?s.url:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aw.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t$1 of o$2)if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t$1))z.push(t$1);else if(y||(y=t$1.spatialReference,x=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(y),d=y.isWebMercator,R=d?102100:4326,w=r[R].maxX,j=r[R].minX,U=r[R].plus180Line,k=r[R].minus180Line),x)if("mesh"===t$1.type)z.push(t$1);else if("point"===t$1.type)z.push(P(t$1.clone(),w,j));else if("multipoint"===t$1.type){const e=t$1.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e);}else if("extent"===t$1.type){const e=t$1.clone()._normalize(!1,!1,x);z.push(e.rings?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x(e):e);}else if(t$1.extent){const e=t$1.extent,n=i$1(e.xmin,j)*(2*w);let o=0===n?t$1.clone():o$1(t$1.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push("cut")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push("cut")):z.push(o);}else z.push(t$1.clone());else z.push(t$1);let I=i$1(v,w),X=-90;const q=I,C=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--;}if(A.length>0&&q>0){const t=b(A,await o(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if("cut"!==r)s.push(r);else {const r=t.shift(),f=o$2[l];(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(f)&&"polygon"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push("simplify")):s.push(d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(r):r);}}if(!e.length)return s;const r=await i(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];"simplify"!==t?f.push(t):f.push(d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(r.shift()):r.shift());}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if("cut"!==e)D.push(e);else {const t=A.shift();D.push(!0===d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(t):t);}}return Promise.resolve(D)}



//# sourceMappingURL=normalizeUtils-69f83c05.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLWM4YzJjMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtSTtBQUNoRTtBQUN0QjtBQUNKO0FBQ007QUFDYTtBQUMvQjtBQUNJO0FBQ0o7QUFDWTtBQUNaO0FBQ0E7QUFDUztBQUNIO0FBQ0U7QUFDSTtBQUNkO0FBQ21CO0FBQ1Y7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QixRQUFRLDREQUFDLElBQUksV0FBVyxRQUFRLDRCQUE0Qix1QkFBdUIsa0NBQWtDLDREQUFDLCtCQUErQixHQUFHLDJDQUEyQyxvQkFBb0Isd0RBQUMsQ0FBQyxjQUFjLCtDQUErQyxRQUFRLFFBQVEsMkRBQUMsa0JBQWtCLDZFQUE2RSxnQkFBZ0IsTUFBTSxjQUFjLE9BQU8scUJBQXFCLCtFQUErRSxjQUFjLGdGQUFDLHFDQUFxQyxXQUFXLHFEQUFDLEVBQUUsNEZBQTRGLEVBQUUseUJBQXlCLGtCQUFrQiwrS0FBK0ssSUFBSSxjQUFjLDJEQUFDLElBQUksT0FBTyxFQUFFLGlFQUFpRSxTQUFTLDhDQUE4Qyw4QkFBOEIsa0JBQWtCLHFJQUFxSSxPQUFPLGdCQUFnQiw4Q0FBOEMsSUFBSSxjQUFjLDJEQUFDLElBQUksT0FBTyxFQUFFLG9FQUFvRSxTQUFTLDhDQUE4QyxzQkFBc0Isa0JBQWtCLGlMQUFpTCxzREFBQyxrQ0FBa0MsMkNBQTJDLDJFQUEyRSw4RUFBOEUsc0NBQXNDLDJCQUEyQix3Q0FBd0MscUJBQXFCLGtXQUFrVyxVQUFVLDJEQUFDLDhDQUE4QyxrQ0FBa0MsNkJBQTZCLGtCQUFrQixzR0FBc0csSUFBSSxjQUFjLDJEQUFDLGlDQUFpQyxPQUFPLDBCQUEwQixlQUFlLG9FQUFvRSxTQUFTLDhDQUE4QywyQkFBMkIsRUFBRSxpQkFBaUIsa0JBQWtCLFNBQVMs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QW1ELFlBQVksV0FBVyxLQUFLLGFBQWEsWUFBWSx1QkFBdUIsUUFBUSxZQUFZLFdBQVcsS0FBSyxnQkFBZ0IsV0FBVyx1QkFBdUIsd0JBQXdCLFlBQVksV0FBVyxLQUFLLHdCQUF3Qix1Q0FBdUMsV0FBVyxJQUFJLFVBQVUsbURBQW1ELHlEQUF5RCxpQkFBaUIsU0FBUywwQkFBMEIseUNBQXlDLGdCQUFnQix3REFBRyxvQkFBb0Isd0JBQXdCLGdCQUFnQix3QkFBd0IsMkRBQUMsa0JBQWtCLHFDQUFxQyw0REFBQyx5SUFBeUksc0RBQXNELGlDQUFpQyxvQkFBb0IsZ0RBQWdELDZCQUE2Qix3Q0FBd0MsbUJBQW1CLHVEQUFHLFFBQVEsb0JBQW9CLHlDQUF5QywyQ0FBMkMsK01BQStNLHlCQUF5QixpQkFBaUIscUJBQXFCLGdCQUFnQix1REFBQyxDQUFDLEtBQUssSUFBSSxFQUFFLGtCQUFrQix1Q0FBdUMsb0JBQW9CLHdDQUF3QyxZQUFZLFdBQVcsS0FBSyxhQUFhLHVCQUF1QixNQUFNLDJCQUEyQiwyREFBRywySEFBMkgsNERBQUcsU0FBUyxzQkFBc0IsNEJBQTRCLFlBQVksV0FBVyxLQUFLLGFBQWEsa0NBQWtDLDREQUFHLHdCQUF3QixTQUFTLFdBQVcsWUFBWSxXQUFXLEtBQUssYUFBYSx1QkFBdUIsTUFBTSxrQkFBa0IsY0FBYyw0REFBRyxTQUFTOztBQUU5MUc7O0FBRWIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vRmVhdHVyZUxheWVyU291cmNlLTU3Y2ZiNGRjLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9jbGllbnRTaWRlRGVmYXVsdHMtMzNiMzY0NjguanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL25vcm1hbGl6ZVV0aWxzLTY5ZjgzYzA1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFogYXMgZSwgXyBhcyB5LCBhMCBhcyBpLCBhYyBhcyBmLCBVLCBNLCBzLCBiRyBhcyBvLCB0IGFzIHQkMSwgYWEgYXMgcCwgYnIgYXMgViwgSCBhcyByIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnLi9hcmNnaXMtZ2VvZW5yaWNobWVudC1kYXRhYnJvd3Nlci02Y2E4ZWExNC5qcyc7XG5pbXBvcnQgeyBkIH0gZnJvbSAnLi9UaW1lRXh0ZW50LTdmODU3YTM5LmpzJztcbmltcG9ydCB7IGwgfSBmcm9tICcuL3pzY2FsZS0zNzk4NzEwNC5qcyc7XG5pbXBvcnQgeyB4LCBhIH0gZnJvbSAnLi9RdWVyeVRhc2stNTFlZGYyZDMuanMnO1xuaW1wb3J0IHsgaSBhcyBpJDEgfSBmcm9tICcuL2NsaWVudFNpZGVEZWZhdWx0cy0zM2IzNjQ2OC5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtNGE2MmM2M2QuanMnO1xuaW1wb3J0ICcuL3VuaXRVdGlscy02MjRjZWViNi5qcyc7XG5pbXBvcnQgJy4vUXVlcnktMzljMzRiOTMuanMnO1xuaW1wb3J0ICcuL1JlbGF0aW9uc2hpcFF1ZXJ5LTgzNjg0YWRjLmpzJztcbmltcG9ydCAnLi91dGlscy03YTc5MjEzZC5qcyc7XG5pbXBvcnQgJy4vcXVlcnktM2Q5MTUyMmEuanMnO1xuaW1wb3J0ICcuL25vcm1hbGl6ZVV0aWxzLTY5ZjgzYzA1LmpzJztcbmltcG9ydCAnLi9xdWVyeVpTY2FsZS04ZmQ1YTE2MC5qcyc7XG5pbXBvcnQgJy4vcGJmUXVlcnlVdGlscy04YTlmYzg3ZC5qcyc7XG5pbXBvcnQgJy4vT3B0aW1pemVkR2VvbWV0cnktODgxMmU0ZjYuanMnO1xuaW1wb3J0ICcuL3BiZi03NzdkNjY2ZC5qcyc7XG5pbXBvcnQgJy4vZmVhdHVyZUNvbnZlcnNpb25VdGlscy04N2QzOWNjYi5qcyc7XG5pbXBvcnQgJy4vZGVmYXVsdHNKU09OLTlmMjkzMWI1LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGIoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9VihlKTtyZXR1cm4gdHx8e2RhdGE6ZX19cmV0dXJuIG5ldyBQcm9taXNlKCgodCxyKT0+e2NvbnN0IGE9bmV3IEZpbGVSZWFkZXI7YS5yZWFkQXNEYXRhVVJMKGUpLGEub25sb2FkPSgpPT50KFYoYS5yZXN1bHQpKSxhLm9uZXJyb3I9ZT0+cihlKTt9KSl9Y29uc3QgRj1uZXcgU2V0KFtcIkZlYXR1cmUgTGF5ZXJcIixcIlRhYmxlXCJdKTtsZXQgUj1jbGFzcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cImZlYXR1cmUtbGF5ZXJcIjt9bG9hZChlKXtjb25zdCB0PXIoZSk/ZS5zaWduYWw6bnVsbDtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMuX2ZldGNoU2VydmljZSh0KSksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfWdldCBxdWVyeVRhc2soKXtjb25zdHtjYXBhYmlsaXRpZXM6e3F1ZXJ5OntzdXBwb3J0c0Zvcm1hdFBCRjplfX0scGFyc2VkVXJsOnIsZHluYW1pY0RhdGFTb3VyY2U6YSxnZGJWZXJzaW9uOnMsc3BhdGlhbFJlZmVyZW5jZTpvLGZpZWxkc0luZGV4Oml9PXRoaXMubGF5ZXIsdT10KFwiZmVhdHVyZWxheWVyLXBiZlwiKSYmZT9cInBiZlwiOlwianNvblwiO3JldHVybiBuZXcgeCh7dXJsOnIucGF0aCxmb3JtYXQ6dSxmaWVsZHNJbmRleDppLGR5bmFtaWNEYXRhU291cmNlOmEsZ2RiVmVyc2lvbjpzLHNvdXJjZVNwYXRpYWxSZWZlcmVuY2U6b30pfWFzeW5jIGFkZEF0dGFjaG1lbnQoZSx0KXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCByPWUuYXR0cmlidXRlc1t0aGlzLmxheWVyLm9iamVjdElkRmllbGRdLGE9dGhpcy5sYXllci5wYXJzZWRVcmwucGF0aCtcIi9cIityK1wiL2FkZEF0dGFjaG1lbnRcIixzPXRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoKSxvPXRoaXMuX2dldEZvcm1EYXRhRm9yQXR0YWNobWVudCh0LHMucXVlcnkpO3RyeXtjb25zdCBlPWF3YWl0IFUoYSx7Ym9keTpvfSk7cmV0dXJuIHRoaXMuX2NyZWF0ZUZlYXR1cmVFZGl0UmVzdWx0KGUuZGF0YS5hZGRBdHRhY2htZW50UmVzdWx0KX1jYXRjaChpKXt0aHJvdyB0aGlzLl9jcmVhdGVBdHRhY2htZW50RXJyb3JSZXN1bHQocixpKX19YXN5bmMgdXBkYXRlQXR0YWNobWVudChlLHQscil7YXdhaXQgdGhpcy5sb2FkKCk7Y29uc3QgYT1lLmF0dHJpYnV0ZXNbdGhpcy5sYXllci5vYmplY3RJZEZpZWxkXSxzPXRoaXMubGF5ZXIucGFyc2VkVXJsLnBhdGgrXCIvXCIrYStcIi91cGRhdGVBdHRhY2htZW50XCIsbz10aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHtxdWVyeTp7YXR0YWNobWVudElkOnR9fSksaT10aGlzLl9nZXRGb3JtRGF0YUZvckF0dGFjaG1lbnQocixvLnF1ZXJ5KTt0cnl7Y29uc3QgZT1hd2FpdCBVKHMse2JvZHk6aX0pO3JldHVybiB0aGlzLl9jcmVhdGVGZWF0dXJlRWRpdFJlc3VsdChlLmRhdGEudXBkYXRlQXR0YWNobWVudFJlc3VsdCl9Y2F0Y2godSl7dGhyb3cgdGhpcy5fY3JlYXRlQXR0YWNobWVudEVycm9yUmVzdWx0KGEsdSl9fWFzeW5jIGFwcGx5RWRpdHMoZSx0KXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCByPWUuYWRkRmVhdHVyZXMubWFwKHRoaXMuX3NlcmlhbGl6ZUZlYXR1cmUsdGhpcyksYT1lLnVwZGF0ZUZlYXR1cmVzLm1hcCh0aGlzLl9zZXJpYWxpemVGZWF0dXJlLHRoaXMpLHM9dGhpcy5fZ2V0RmVhdHVyZUlkcyhlLmRlbGV0ZUZlYXR1cmVzLG51bGw9PXQ/dm9pZCAwOnQuZ2xvYmFsSWRVc2VkKTtsKHIsYSx0aGlzLmxheWVyLnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IG89W10saT1bXSx1PVsuLi5lLmRlbGV0ZUF0dGFjaG1lbnRzXTtmb3IoY29uc3QgYyBvZiBlLmFkZEF0dGFjaG1lbnRzKW8ucHVzaChhd2FpdCB0aGlzLl9zZXJpYWxpemVBdHRhY2htZW50KGMpKTtmb3IoY29uc3QgYyBvZiBlLnVwZGF0ZUF0dGFjaG1lbnRzKWkucHVzaChhd2FpdCB0aGlzLl9zZXJpYWxpemVBdHRhY2htZW50KGMpKTtjb25zdCBuPW8ubGVuZ3RofHxpLmxlbmd0aHx8dS5sZW5ndGg/e2FkZHM6byx1cGRhdGVzOmksZGVsZXRlczp1fTpudWxsLGwkMT10aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHttZXRob2Q6XCJwb3N0XCIscXVlcnk6e2FkZHM6ci5sZW5ndGg/SlNPTi5zdHJpbmdpZnkocik6bnVsbCx1cGRhdGVzOmEubGVuZ3RoP0pTT04uc3RyaW5naWZ5KGEpOm51bGwsZGVsZXRlczpzLmxlbmd0aD9udWxsIT10JiZ0Lmdsb2JhbElkVXNlZD9KU09OLnN0cmluZ2lmeShzKTpzLmpvaW4oXCIsXCIpOm51bGwsZ2RiVmVyc2lvbjoobnVsbD09dD92b2lkIDA6dC5nZGJWZXJzaW9uKXx8dGhpcy5sYXllci5nZGJWZXJzaW9uLHJvbGxiYWNrT25GYWlsdXJlOm51bGw9PXQ/dm9pZCAwOnQucm9sbGJhY2tPbkZhaWx1cmVFbmFibGVkLHVzZUdsb2JhbElkczpudWxsPT10P3ZvaWQgMDp0Lmdsb2JhbElkVXNlZCxhdHRhY2htZW50czpuJiZKU09OLnN0cmluZ2lmeShuKX19KSxkPWF3YWl0IFUodGhpcy5sYXllci5wYXJzZWRVcmwucGF0aCtcIi9hcHBseUVkaXRzXCIsbCQxKTtyZXR1cm4gdGhpcy5fY3JlYXRlRWRpdHNSZXN1bHQoZCl9YXN5bmMgZGVsZXRlQXR0YWNobWVudHMoZSx0KXthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCByPWUuYXR0cmlidXRlc1t0aGlzLmxheWVyLm9iamVjdElkRmllbGRdLGE9dGhpcy5sYXllci5wYXJzZWRVcmwucGF0aCtcIi9cIityK1wiL2RlbGV0ZUF0dGFjaG1lbnRzXCI7dHJ5e3JldHVybiAoYXdhaXQgVShhLHRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnMoe3F1ZXJ5OnthdHRhY2htZW50SWRzOnQuam9pbihcIixcIil9LG1ldGhvZDpcInBvc3RcIn0pKSkuZGF0YS5kZWxldGVBdHRhY2htZW50UmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQpfWNhdGNoKHMpe3Rocm93IHRoaXMuX2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChyLHMpfX1mZXRjaFJlY29tcHV0ZWRFeHRlbnRzKGU9e30pe2NvbnN0IHQ9ZS5zaWduYWw7cmV0dXJuIHRoaXMubG9hZCh7c2lnbmFsOnR9KS50aGVuKChhc3luYygpPT57Y29uc3QgdD10aGlzLl9nZXRMYXllclJlcXVlc3RPcHRpb25zKHsuLi5lLHF1ZXJ5OntyZXR1cm5VcGRhdGVzOiEwfX0pLHtsYXllcklkOnIsdXJsOmF9PXRoaXMubGF5ZXIse2RhdGE6c309YXdhaXQgVShgJHthfS8ke3J9YCx0KSx7aWQ6byxleHRlbnQ6aSxmdWxsRXh0ZW50OnUsdGltZUV4dGVudDpufT1zLGw9aXx8dTtyZXR1cm4ge2lkOm8sZnVsbEV4dGVudDpsJiZNLmZyb21KU09OKGwpLHRpbWVFeHRlbnQ6biYmZC5mcm9tSlNPTih7c3RhcnQ6blswXSxlbmQ6blsxXX0pfX0pKX1hc3luYyBxdWVyeUF0dGFjaG1lbnRzKGUsdD17fSl7Y29uc3R7cGFyc2VkVXJsOnJ9PXRoaXMubGF5ZXIsYSQxPXIucGF0aDthd2FpdCB0aGlzLmxvYWQoKTtjb25zdCBzPXRoaXMuX2dldExheWVyUmVxdWVzdE9wdGlvbnModCk7aWYoIXRoaXMubGF5ZXIuZ2V0KFwiY2FwYWJpbGl0aWVzLm9wZXJhdGlvbnMuc3VwcG9ydHNRdWVyeUF0dGFjaG1lbnRzXCIpKXtjb25zdHtvYmplY3RJZHM6dH09ZSxyPVtdO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9YSQxK1wiL1wiK2UrXCIvYXR0YWNobWVudHNcIjtyLnB1c2goVSh0LHMpKTt9cmV0dXJuIFByb21pc2UuYWxsKHIpLnRoZW4oKGU9PnQubWFwKCgodCxyKT0+KHtwYXJlbnRPYmplY3RJZDp0LGF0dGFjaG1lbnRJbmZvczplW3JdLmRhdGEuYXR0YWNobWVudEluZm9zfSkpKSkpLnRoZW4oKGU9PmEoZSxhJDEpKSl9cmV0dXJuIHRoaXMucXVlcnlUYXNrLmV4ZWN1dGVBdHRhY2htZW50UXVlcnkoZSxzKX1hc3luYyBxdWVyeUZlYXR1cmVzKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMubG9hZCgpLHRoaXMucXVlcnlUYXNrLmV4ZWN1dGUoZSx7Li4udCxxdWVyeTp7Li4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PXQ/dm9pZCAwOnQucXVlcnl9fSl9YXN5bmMgcXVlcnlGZWF0dXJlc0pTT04oZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUpTT04oZSx7Li4udCxxdWVyeTp7Li4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PXQ/dm9pZCAwOnQucXVlcnl9fSl9YXN5bmMgcXVlcnlPYmplY3RJZHMoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUZvcklkcyhlLHsuLi50LHF1ZXJ5OnsuLi50aGlzLmxheWVyLmN1c3RvbVBhcmFtZXRlcnMsLi4ubnVsbD09dD92b2lkIDA6dC5xdWVyeX19KX1hc3luYyBxdWVyeUZlYXR1cmVDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlRm9yQ291bnQoZSx7Li4udCxxdWVyeTp7Li4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PXQ/dm9pZCAwOnQucXVlcnl9fSl9YXN5bmMgcXVlcnlFeHRlbnQoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy5sb2FkKCksdGhpcy5xdWVyeVRhc2suZXhlY3V0ZUZvckV4dGVudChlLHsuLi50LHF1ZXJ5OnsuLi50aGlzLmxheWVyLmN1c3RvbVBhcmFtZXRlcnMsLi4ubnVsbD09dD92b2lkIDA6dC5xdWVyeX19KX1hc3luYyBxdWVyeVJlbGF0ZWRGZWF0dXJlcyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlUmVsYXRpb25zaGlwUXVlcnkoZSx7Li4udCxxdWVyeTp7Li4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PXQ/dm9pZCAwOnQucXVlcnl9fSl9YXN5bmMgcXVlcnlSZWxhdGVkRmVhdHVyZXNDb3VudChlLHQpe3JldHVybiBhd2FpdCB0aGlzLmxvYWQoKSx0aGlzLnF1ZXJ5VGFzay5leGVjdXRlUmVsYXRpb25zaGlwUXVlcnlGb3JDb3VudChlLHsuLi50LHF1ZXJ5OnsuLi50aGlzLmxheWVyLmN1c3RvbVBhcmFtZXRlcnMsLi4ubnVsbD09dD92b2lkIDA6dC5xdWVyeX19KX1hc3luYyBfZmV0Y2hTZXJ2aWNlKGUpe2xldCByPXRoaXMubGF5ZXIuc291cmNlSlNPTjtpZighcil7Y29uc3R7ZGF0YTphfT1hd2FpdCBVKHRoaXMubGF5ZXIucGFyc2VkVXJsLnBhdGgsdGhpcy5fZ2V0TGF5ZXJSZXF1ZXN0T3B0aW9ucyh7cXVlcnk6dChcImZlYXR1cmVsYXllci1hZHZhbmNlZC1zeW1ib2xzXCIpP3tyZXR1cm5BZHZhbmNlZFN5bWJvbHM6ITB9Ont9LHNpZ25hbDplfSkpO3I9YTt9dGhpcy5zb3VyY2VKU09OPXRoaXMuX3BhdGNoU2VydmljZUpTT04ocik7Y29uc3QgYT1yLnR5cGU7aWYoIUYuaGFzKGEpKXRocm93IG5ldyBzKFwiZmVhdHVyZS1sYXllci1zb3VyY2U6dW5zdXBwb3J0ZWQtdHlwZVwiLGBTb3VyY2UgdHlwZSBcIiR7YX1cIiBpcyBub3Qgc3VwcG9ydGVkYCl9X3BhdGNoU2VydmljZUpTT04oZSl7dmFyIHQ7aWYoXCJUYWJsZVwiIT09ZS50eXBlJiZlLmdlb21ldHJ5VHlwZSYmKG51bGw9PWV8fG51bGw9PSh0PWUuZHJhd2luZ0luZm8pfHwhdC5yZW5kZXJlcikmJiFlLmRlZmF1bHRTeW1ib2wpe2NvbnN0IHQ9aSQxKGUuZ2VvbWV0cnlUeXBlKS5yZW5kZXJlcjtvKFwiZHJhd2luZ0luZm8ucmVuZGVyZXJcIix0LGUpO31yZXR1cm4gZX1fc2VyaWFsaXplRmVhdHVyZShlKXtjb25zdHtnZW9tZXRyeTp0LGF0dHJpYnV0ZXM6cn09ZTtyZXR1cm4gdCQxKHQpP3thdHRyaWJ1dGVzOnJ9OlwibWVzaFwiPT09dC50eXBlfHxcImV4dGVudFwiPT09dC50eXBlP251bGw6e2dlb21ldHJ5OnQudG9KU09OKCksYXR0cmlidXRlczpyfX1hc3luYyBfc2VyaWFsaXplQXR0YWNobWVudChlKXtjb25zdHtmZWF0dXJlOnQsYXR0YWNobWVudDpyfT1lLHtnbG9iYWxJZDphLG5hbWU6cyxjb250ZW50VHlwZTpvLGRhdGE6aSx1cGxvYWRJZDp1fT1yLG49e2dsb2JhbElkOmEscGFyZW50R2xvYmFsSWQ6bnVsbCxjb250ZW50VHlwZTpudWxsLG5hbWU6bnVsbCx1cGxvYWRJZDpudWxsLGRhdGE6bnVsbH07aWYodCYmKG4ucGFyZW50R2xvYmFsSWQ9XCJhdHRyaWJ1dGVzXCJpbiB0P3QuYXR0cmlidXRlcyYmdC5hdHRyaWJ1dGVzW3RoaXMubGF5ZXIuZ2xvYmFsSWRGaWVsZF06dC5nbG9iYWxJZCksdSluLnVwbG9hZElkPXU7ZWxzZSBpZihpKXtjb25zdCBlPWF3YWl0IGIoaSk7bi5jb250ZW50VHlwZT1lLm1lZGlhVHlwZSxuLmRhdGE9ZS5kYXRhLGkgaW5zdGFuY2VvZiBGaWxlJiYobi5uYW1lPWkubmFtZSk7fXJldHVybiBzJiYobi5uYW1lPXMpLG8mJihuLmNvbnRlbnRUeXBlPW8pLG59X2dldEZlYXR1cmVJZHMoZSx0KXtjb25zdCByPWVbMF07cmV0dXJuIHI/dGhpcy5fY2FuVXNlR2xvYmFsSWRzKHQsZSk/dGhpcy5fZ2V0R2xvYmFsSWRzRnJvbUZlYXR1cmVJZGVudGlmaWVyKGUpOlwib2JqZWN0SWRcImluIHI/dGhpcy5fZ2V0T2JqZWN0SWRzRnJvbUZlYXR1cmVJZGVudGlmaWVyKGUpOnRoaXMuX2dldElkc0Zyb21GZWF0dXJlcyhlKTpbXX1fZ2V0SWRzRnJvbUZlYXR1cmVzKGUpe2NvbnN0IHQ9dGhpcy5sYXllci5vYmplY3RJZEZpZWxkO3JldHVybiBlLm1hcCgoZT0+ZS5hdHRyaWJ1dGVzJiZlLmF0dHJpYnV0ZXNbdF0pKX1fY2FuVXNlR2xvYmFsSWRzKGUsdCl7cmV0dXJuIGUmJlwiZ2xvYmFsSWRcImluIHRbMF19X2dldE9iamVjdElkc0Zyb21GZWF0dXJlSWRlbnRpZmllcihlKXtyZXR1cm4gZS5tYXAoKGU9PmUub2JqZWN0SWQpKX1fZ2V0R2xvYmFsSWRzRnJvbUZlYXR1cmVJZGVudGlmaWVyKGUpe3JldHVybiBlLm1hcCgoZT0+ZS5nbG9iYWxJZCkpfV9jcmVhdGVFZGl0c1Jlc3VsdChlKXtjb25zdCB0PWUuZGF0YSxyPWUuZGF0YSYmZS5kYXRhLmF0dGFjaG1lbnRzO3JldHVybiB7YWRkRmVhdHVyZVJlc3VsdHM6dC5hZGRSZXN1bHRzP3QuYWRkUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sdXBkYXRlRmVhdHVyZVJlc3VsdHM6dC51cGRhdGVSZXN1bHRzP3QudXBkYXRlUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sZGVsZXRlRmVhdHVyZVJlc3VsdHM6dC5kZWxldGVSZXN1bHRzP3QuZGVsZXRlUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sYWRkQXR0YWNobWVudFJlc3VsdHM6ciYmci5hZGRSZXN1bHRzP3IuYWRkUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sdXBkYXRlQXR0YWNobWVudFJlc3VsdHM6ciYmci51cGRhdGVSZXN1bHRzP3IudXBkYXRlUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W10sZGVsZXRlQXR0YWNobWVudFJlc3VsdHM6ciYmci5kZWxldGVSZXN1bHRzP3IuZGVsZXRlUmVzdWx0cy5tYXAodGhpcy5fY3JlYXRlRmVhdHVyZUVkaXRSZXN1bHQsdGhpcyk6W119fV9jcmVhdGVGZWF0dXJlRWRpdFJlc3VsdChlKXtjb25zdCB0PSEwPT09ZS5zdWNjZXNzP251bGw6ZS5lcnJvcnx8e2NvZGU6dm9pZCAwLGRlc2NyaXB0aW9uOnZvaWQgMH07cmV0dXJuIHtvYmplY3RJZDplLm9iamVjdElkLGdsb2JhbElkOmUuZ2xvYmFsSWQsZXJyb3I6dD9uZXcgcyhcImZlYXR1cmUtbGF5ZXItc291cmNlOmVkaXQtZmFpbHVyZVwiLHQuZGVzY3JpcHRpb24se2NvZGU6dC5jb2RlfSk6bnVsbH19X2NyZWF0ZUF0dGFjaG1lbnRFcnJvclJlc3VsdChlLHQpe2NvbnN0IHI9dC5kZXRhaWxzLm1lc3NhZ2VzJiZ0LmRldGFpbHMubWVzc2FnZXNbMF18fHQubWVzc2FnZSxhPXQuZGV0YWlscy5odHRwU3RhdHVzfHx0LmRldGFpbHMubWVzc2FnZUNvZGU7cmV0dXJuIHtvYmplY3RJZDplLGdsb2JhbElkOm51bGwsZXJyb3I6bmV3IHMoXCJmZWF0dXJlLWxheWVyLXNvdXJjZTphdHRhY2htZW50LWZhaWx1cmVcIixyLHtjb2RlOmF9KX19X2dldEZvcm1EYXRhRm9yQXR0YWNobWVudChlLHQpe2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEZvcm1EYXRhP2U6ZSYmZS5lbGVtZW50cz9uZXcgRm9ybURhdGEoZSk6bnVsbDtpZihyKWZvcihjb25zdCBhIGluIHQpe2NvbnN0IGU9dFthXTtudWxsIT1lJiYoci5zZXQ/ci5zZXQoYSxlKTpyLmFwcGVuZChhLGUpKTt9cmV0dXJuIHJ9X2dldExheWVyUmVxdWVzdE9wdGlvbnMoZT17fSl7Y29uc3R7cGFyc2VkVXJsOnQsZ2RiVmVyc2lvbjphLGR5bmFtaWNEYXRhU291cmNlOnN9PXRoaXMubGF5ZXI7cmV0dXJuIHsuLi5lLHF1ZXJ5OnAoe2dkYlZlcnNpb246YSxsYXllcjpzP0pTT04uc3RyaW5naWZ5KHtzb3VyY2U6c30pOnZvaWQgMCwuLi50LnF1ZXJ5LGY6XCJqc29uXCIsLi4udGhpcy5sYXllci5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PWU/dm9pZCAwOmUucXVlcnl9KSxyZXNwb25zZVR5cGU6XCJqc29uXCJ9fX07ZShbeSgpXSxSLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3koe2NvbnN0cnVjdE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJsYXllclwiLHZvaWQgMCksZShbeSh7cmVhZE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJxdWVyeVRhc2tcIixudWxsKSxSPWUoW2koXCJlc3JpLmxheWVycy5ncmFwaGljcy5zb3VyY2VzLkZlYXR1cmVMYXllclNvdXJjZVwiKV0sUik7dmFyIHE9UjtcblxuZXhwb3J0IGRlZmF1bHQgcTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVhdHVyZUxheWVyU291cmNlLTU3Y2ZiNGRjLmpzLm1hcCIsImltcG9ydCB7IHQgfSBmcm9tICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcbmltcG9ydCB7IFIgYXMgeSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgbCwgbywgUyB9IGZyb20gJy4vZGVmYXVsdHNKU09OLTlmMjkzMWI1LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGkodCl7cmV0dXJuIHtyZW5kZXJlcjp7dHlwZTpcInNpbXBsZVwiLHN5bWJvbDpcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10fHxcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIj09PXQ/bDpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI9PT10P286U319fWZ1bmN0aW9uIHMocixlKXtpZih0KFwiY3NwLXJlc3RyaWN0aW9uc1wiKSlyZXR1cm4gKCk9Pih7W2VdOm51bGwsLi4ucn0pO3RyeXtsZXQgdD1gdGhpcy4ke2V9ID0gbnVsbDtgO2Zvcihjb25zdCBlIGluIHIpe3QrPWB0aGlzJHtlLmluZGV4T2YoXCIuXCIpP2BbXCIke2V9XCJdYDpgLiR7ZX1gfSA9ICR7SlNPTi5zdHJpbmdpZnkocltlXSl9O2A7fWNvbnN0IG49bmV3IEZ1bmN0aW9uKHQpO3JldHVybiAoKT0+bmV3IG59Y2F0Y2gobil7cmV0dXJuICgpPT4oe1tlXTpudWxsLC4uLnJ9KX19ZnVuY3Rpb24gdSh0PXt9KXtyZXR1cm4gW3tuYW1lOlwiTmV3IEZlYXR1cmVcIixkZXNjcmlwdGlvbjpcIlwiLHByb3RvdHlwZTp7YXR0cmlidXRlczp5KHQpfX1dfVxuXG5leHBvcnQgeyBpLCBzLCB1IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudFNpZGVEZWZhdWx0cy0zM2IzNjQ2OC5qcy5tYXAiLCJpbXBvcnQgeyB2IGFzIG0sIE8gYXMgaywgViBhcyB5JDEsIEogYXMgcCwgaiBhcyBVLCBhciBhcyBkJDEsIFUgYXMgVSQxLCBhcyBhcyBHLCBTIGFzIG4kMSwgdCwgeCBhcyB4JDEsIEggYXMgciQxLCBhdCBhcyBkJDIsIGF1IGFzIFIkMSwgYXYgYXMgUywgcyBhcyBzJDIsIGF3IGFzIHMkMyB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgcj17MTAyMTAwOnttYXhYOjIwMDM3NTA4LjM0Mjc4ODkwNSxtaW5YOi0yMDAzNzUwOC4zNDI3ODg5MDUscGx1czE4MExpbmU6bmV3IG0oe3BhdGhzOltbWzIwMDM3NTA4LjM0Mjc4ODkwNSwtMjAwMzc1MDguMzQyNzg4OTA1XSxbMjAwMzc1MDguMzQyNzg4OTA1LDIwMDM3NTA4LjM0Mjc4ODkwNV1dXSxzcGF0aWFsUmVmZXJlbmNlOmsuV2ViTWVyY2F0b3J9KSxtaW51czE4MExpbmU6bmV3IG0oe3BhdGhzOltbWy0yMDAzNzUwOC4zNDI3ODg5MDUsLTIwMDM3NTA4LjM0Mjc4ODkwNV0sWy0yMDAzNzUwOC4zNDI3ODg5MDUsMjAwMzc1MDguMzQyNzg4OTA1XV1dLHNwYXRpYWxSZWZlcmVuY2U6ay5XZWJNZXJjYXRvcn0pfSw0MzI2OnttYXhYOjE4MCxtaW5YOi0xODAscGx1czE4MExpbmU6bmV3IG0oe3BhdGhzOltbWzE4MCwtMTgwXSxbMTgwLDE4MF1dXSxzcGF0aWFsUmVmZXJlbmNlOmsuV0dTODR9KSxtaW51czE4MExpbmU6bmV3IG0oe3BhdGhzOltbWy0xODAsLTE4MF0sWy0xODAsMTgwXV1dLHNwYXRpYWxSZWZlcmVuY2U6ay5XR1M4NH0pfX07ZnVuY3Rpb24gaSQxKGUsbil7cmV0dXJuIE1hdGguY2VpbCgoZS1uKS8oMipuKSl9ZnVuY3Rpb24gbyQxKGUsbil7Y29uc3QgdD1zJDEoZSk7Zm9yKGNvbnN0IHIgb2YgdClmb3IoY29uc3QgZSBvZiByKWVbMF0rPW47cmV0dXJuIGV9ZnVuY3Rpb24gcyQxKGUpe3JldHVybiB5JDEoZSk/ZS5yaW5nczplLnBhdGhzfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuYXN5bmMgZnVuY3Rpb24gbyhvLGksbixtKXtjb25zdCBwJDE9XCJzdHJpbmdcIj09dHlwZW9mIG8/VShvKTpvLGE9aVswXS5zcGF0aWFsUmVmZXJlbmNlLHU9ey4uLm0scXVlcnk6ey4uLnAkMS5xdWVyeSxmOlwianNvblwiLHNyOkpTT04uc3RyaW5naWZ5KGEpLHRhcmdldDpKU09OLnN0cmluZ2lmeSh7Z2VvbWV0cnlUeXBlOmQkMShpWzBdKSxnZW9tZXRyaWVzOml9KSxjdXR0ZXI6SlNPTi5zdHJpbmdpZnkobil9fSxjPWF3YWl0IFUkMShwJDEucGF0aCtcIi9jdXRcIix1KSx7Y3V0SW5kZXhlczpmLGdlb21ldHJpZXM6Zz1bXX09Yy5kYXRhO3JldHVybiB7Y3V0SW5kZXhlczpmLGdlb21ldHJpZXM6Zy5tYXAoKGU9Pntjb25zdCB0PXAoZSk7cmV0dXJuIHQuc3BhdGlhbFJlZmVyZW5jZT1hLHR9KSl9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuYXN5bmMgZnVuY3Rpb24gaShlLGksZil7Y29uc3QgbT1cInN0cmluZ1wiPT10eXBlb2YgZT9VKGUpOmUscD1pWzBdLnNwYXRpYWxSZWZlcmVuY2UsYT1kJDEoaVswXSksdT17Li4uZixxdWVyeTp7Li4ubS5xdWVyeSxmOlwianNvblwiLHNyOnAud2tpZD9wLndraWQ6SlNPTi5zdHJpbmdpZnkocCksZ2VvbWV0cmllczpKU09OLnN0cmluZ2lmeShzKGkpKX19O3JldHVybiBuKChhd2FpdCBVJDEobS5wYXRoK1wiL3NpbXBsaWZ5XCIsdSkpLmRhdGEsYSxwKX1mdW5jdGlvbiBzKHIpe3JldHVybiB7Z2VvbWV0cnlUeXBlOmQkMShyWzBdKSxnZW9tZXRyaWVzOnIubWFwKChyPT5yLnRvSlNPTigpKSl9fWZ1bmN0aW9uIG4ocix0LG8pe2NvbnN0IGk9Ryh0KTtyZXR1cm4gci5tYXAoKHI9Pntjb25zdCB0PWkuZnJvbUpTT04ocik7cmV0dXJuIHQuc3BhdGlhbFJlZmVyZW5jZT1vLHR9KSl9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB5PW4kMS5nZXRMb2dnZXIoXCJlc3JpLmdlb21ldHJ5LnN1cHBvcnQubm9ybWFsaXplVXRpbHNcIik7ZnVuY3Rpb24geCh0KXtyZXR1cm4gXCJwb2x5Z29uXCI9PT10LnR5cGV9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gXCJwb2x5Z29uXCI9PT10WzBdLnR5cGV9ZnVuY3Rpb24gdyh0KXtyZXR1cm4gXCJwb2x5bGluZVwiPT09dFswXS50eXBlfWZ1bmN0aW9uIFIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBtfHx0IGluc3RhbmNlb2YgeCQxKSl7Y29uc3QgdD1cInN0cmFpZ2h0TGluZURlbnNpZnk6IHRoZSBpbnB1dCBnZW9tZXRyeSBpcyBuZWl0aGVyIHBvbHlsaW5lIG5vciBwb2x5Z29uXCI7dGhyb3cgeS5lcnJvcih0KSxuZXcgcyQyKHQpfWNvbnN0IG49cyQxKHQpLG89W107Zm9yKGNvbnN0IHMgb2Ygbil7Y29uc3QgdD1bXTtvLnB1c2godCksdC5wdXNoKFtzWzBdWzBdLHNbMF1bMV1dKTtmb3IobGV0IG49MDtuPHMubGVuZ3RoLTE7bisrKXtjb25zdCBvPXNbbl1bMF0scj1zW25dWzFdLGk9c1tuKzFdWzBdLGw9c1tuKzFdWzFdLGY9TWF0aC5zcXJ0KChpLW8pKihpLW8pKyhsLXIpKihsLXIpKSxjPShsLXIpL2YscD0oaS1vKS9mLHU9Zi9lO2lmKHU+MSl7Zm9yKGxldCBsPTE7bDw9dS0xO2wrKyl7Y29uc3Qgbj1sKmUscz1wKm4rbyxpPWMqbityO3QucHVzaChbcyxpXSk7fWNvbnN0IG49KGYrTWF0aC5mbG9vcih1LTEpKmUpLzIscz1wKm4rbyxpPWMqbityO3QucHVzaChbcyxpXSk7fXQucHVzaChbaSxsXSk7fX1yZXR1cm4geCh0KT9uZXcgeCQxKHtyaW5nczpvLHNwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlfSk6bmV3IG0oe3BhdGhzOm8sc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2V9KX1mdW5jdGlvbiBNKHQsZSxuKXtpZihlKXtjb25zdCBlPVIodCwxZTYpO3Q9UiQxKGUsITApO31yZXR1cm4gbiYmKHQ9byQxKHQsbikpLHR9ZnVuY3Rpb24gUCh0LGUsbil7aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3Qgbz10WzBdO2lmKG8+ZSl7Y29uc3Qgbj1pJDEobyxlKTt0WzBdPW8rbiooLTIqZSk7fWVsc2UgaWYobzxuKXtjb25zdCBlPWkkMShvLG4pO3RbMF09bytlKigtMipuKTt9fWVsc2Uge2NvbnN0IG89dC54O2lmKG8+ZSl7Y29uc3Qgbj1pJDEobyxlKTt0PXQuY2xvbmUoKS5vZmZzZXQobiooLTIqZSksMCk7fWVsc2UgaWYobzxuKXtjb25zdCBlPWkkMShvLG4pO3Q9dC5jbG9uZSgpLm9mZnNldChlKigtMipuKSwwKTt9fXJldHVybiB0fWZ1bmN0aW9uIGIodCxlKXtsZXQgbj0tMTtmb3IobGV0IG89MDtvPGUuY3V0SW5kZXhlcy5sZW5ndGg7bysrKXtjb25zdCBzPWUuY3V0SW5kZXhlc1tvXSxyPWUuZ2VvbWV0cmllc1tvXSxpPXMkMShyKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3QgZT1pW3RdO2Uuc29tZSgobj0+e2lmKG5bMF08MTgwKXJldHVybiAhMDt7bGV0IG49MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbz1lW3RdWzBdO249bz5uP286bjt9bj1OdW1iZXIobi50b0ZpeGVkKDkpKTtjb25zdCBvPS0zNjAqaSQxKG4sMTgwKTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgZT1yLmdldFBvaW50KHQscyk7ci5zZXRQb2ludCh0LHMsZS5jbG9uZSgpLm9mZnNldChvLDApKTt9cmV0dXJuICEwfX0pKTt9aWYocz09PW4pe2lmKGQodCkpZm9yKGNvbnN0IGUgb2YgcyQxKHIpKXRbc109dFtzXS5hZGRSaW5nKGUpO2Vsc2UgaWYodyh0KSlmb3IoY29uc3QgZSBvZiBzJDEocikpdFtzXT10W3NdLmFkZFBhdGgoZSk7fWVsc2Ugbj1zLHRbc109cjt9cmV0dXJuIHR9YXN5bmMgZnVuY3Rpb24gTChvJDIscyxsKXtpZighQXJyYXkuaXNBcnJheShvJDIpKXJldHVybiBMKFtvJDJdLHMpO2NvbnN0IHA9cz9zLnVybDpzJDMuZ2VvbWV0cnlTZXJ2aWNlVXJsO2xldCB5LHgsZCx3LGosUixVLGssdj0wO2NvbnN0IEE9W10sej1bXTtmb3IoY29uc3QgdCQxIG9mIG8kMilpZih0KHQkMSkpei5wdXNoKHQkMSk7ZWxzZSBpZih5fHwoeT10JDEuc3BhdGlhbFJlZmVyZW5jZSx4PVMoeSksZD15LmlzV2ViTWVyY2F0b3IsUj1kPzEwMjEwMDo0MzI2LHc9cltSXS5tYXhYLGo9cltSXS5taW5YLFU9cltSXS5wbHVzMTgwTGluZSxrPXJbUl0ubWludXMxODBMaW5lKSx4KWlmKFwibWVzaFwiPT09dCQxLnR5cGUpei5wdXNoKHQkMSk7ZWxzZSBpZihcInBvaW50XCI9PT10JDEudHlwZSl6LnB1c2goUCh0JDEuY2xvbmUoKSx3LGopKTtlbHNlIGlmKFwibXVsdGlwb2ludFwiPT09dCQxLnR5cGUpe2NvbnN0IGU9dCQxLmNsb25lKCk7ZS5wb2ludHM9ZS5wb2ludHMubWFwKCh0PT5QKHQsdyxqKSkpLHoucHVzaChlKTt9ZWxzZSBpZihcImV4dGVudFwiPT09dCQxLnR5cGUpe2NvbnN0IGU9dCQxLmNsb25lKCkuX25vcm1hbGl6ZSghMSwhMSx4KTt6LnB1c2goZS5yaW5ncz9uZXcgeCQxKGUpOmUpO31lbHNlIGlmKHQkMS5leHRlbnQpe2NvbnN0IGU9dCQxLmV4dGVudCxuPWkkMShlLnhtaW4saikqKDIqdyk7bGV0IG89MD09PW4/dCQxLmNsb25lKCk6byQxKHQkMS5jbG9uZSgpLG4pO2Uub2Zmc2V0KG4sMCksZS5pbnRlcnNlY3RzKFUpJiZlLnhtYXghPT13Pyh2PWUueG1heD52P2UueG1heDp2LG89TShvLGQpLEEucHVzaChvKSx6LnB1c2goXCJjdXRcIikpOmUuaW50ZXJzZWN0cyhrKSYmZS54bWluIT09aj8odj1lLnhtYXgqKDIqdyk+dj9lLnhtYXgqKDIqdyk6dixvPU0obyxkLDM2MCksQS5wdXNoKG8pLHoucHVzaChcImN1dFwiKSk6ei5wdXNoKG8pO31lbHNlIHoucHVzaCh0JDEuY2xvbmUoKSk7ZWxzZSB6LnB1c2godCQxKTtsZXQgST1pJDEodix3KSxYPS05MDtjb25zdCBxPUksQz1uZXcgbTtmb3IoO0k+MDspe2NvbnN0IHQ9MzYwKkktMTgwO0MuYWRkUGF0aChbW3QsWF0sW3QsLTEqWF1dKSxYKj0tMSxJLS07fWlmKEEubGVuZ3RoPjAmJnE+MCl7Y29uc3QgdD1iKEEsYXdhaXQgbyhwLEEsQyxsKSksZT1bXSxzPVtdO2ZvcihsZXQgbD0wO2w8ei5sZW5ndGg7bCsrKXtjb25zdCByPXpbbF07aWYoXCJjdXRcIiE9PXIpcy5wdXNoKHIpO2Vsc2Uge2NvbnN0IHI9dC5zaGlmdCgpLGY9byQyW2xdO3IkMShmKSYmXCJwb2x5Z29uXCI9PT1mLnR5cGUmJmYucmluZ3MmJmYucmluZ3MubGVuZ3RoPjEmJnIucmluZ3MubGVuZ3RoPj1mLnJpbmdzLmxlbmd0aD8oZS5wdXNoKHIpLHMucHVzaChcInNpbXBsaWZ5XCIpKTpzLnB1c2goZD9kJDIocik6cik7fX1pZighZS5sZW5ndGgpcmV0dXJuIHM7Y29uc3Qgcj1hd2FpdCBpKHAsZSxsKSxmPVtdO2ZvcihsZXQgbj0wO248cy5sZW5ndGg7bisrKXtjb25zdCB0PXNbbl07XCJzaW1wbGlmeVwiIT09dD9mLnB1c2godCk6Zi5wdXNoKGQ/ZCQyKHIuc2hpZnQoKSk6ci5zaGlmdCgpKTt9cmV0dXJuIGZ9Y29uc3QgRD1bXTtmb3IobGV0IHQ9MDt0PHoubGVuZ3RoO3QrKyl7Y29uc3QgZT16W3RdO2lmKFwiY3V0XCIhPT1lKUQucHVzaChlKTtlbHNlIHtjb25zdCB0PUEuc2hpZnQoKTtELnB1c2goITA9PT1kP2QkMih0KTp0KTt9fXJldHVybiBQcm9taXNlLnJlc29sdmUoRCl9XG5cbmV4cG9ydCB7IEwgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9ybWFsaXplVXRpbHMtNjlmODNjMDUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9