"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-8ffdb2"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/SceneService-9b27d100.js":
/*!****************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/SceneService-9b27d100.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: () => (/* binding */ R),
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   n: () => (/* binding */ n$1)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PortalItem-036182cd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalItem-036182cd.js");
/* harmony import */ var _arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./arcgisLayerUrl-36b3c3ab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js");
/* harmony import */ var _HeightModelInfo_4863adf0_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HeightModelInfo-4863adf0.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HeightModelInfo-4863adf0.js");
/* harmony import */ var _asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./asyncUtils-af782857.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/asyncUtils-af782857.js");
/* harmony import */ var _resourceUtils_d0c75b61_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./resourceUtils-d0c75b61.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/resourceUtils-d0c75b61.js");
/* harmony import */ var _OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OperationalLayer-733d50fd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OperationalLayer-733d50fd.js");









/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function n$1(n,t,s$1,a,i){let d=null;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(s$1)){const o=`${n}/nodepages/`,t=o+Math.floor(s$1.rootIndex/s$1.nodesPerPage);try{return {type:"page",rootPage:(await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t,{query:{f:"json"},responseType:"json",signal:i})).data,rootIndex:s$1.rootIndex,pageSize:s$1.nodesPerPage,lodMetric:s$1.lodSelectionMetricType,urlPrefix:o}}catch(c){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(a)&&a.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",t,c),d=c;}}if(!t)return null;const l=`${n}/nodes/`,p=l+(t&&t.split("/").pop());try{return {type:"node",rootNode:(await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(p,{query:{f:"json"},responseType:"json",signal:i})).data,urlPrefix:l}}catch(c){throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:root-node-missing","Root node missing.",{pageError:d,nodeError:c,url:p})}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function r(r){r&&r.writtenProperties&&r.writtenProperties.forEach((r=>{const t=r.target;r.newOrigin&&r.oldOrigin!==r.newOrigin&&i(t)&&t.updateOrigin(r.propName,r.newOrigin);}));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function a(s$1,a,u){if(!a||!a.resources)return;const h=a.portalItem===s$1.portalItem?new Set(s$1.paths):new Set;s$1.paths.length=0,s$1.portalItem=a.portalItem;const i=new Set(a.resources.toKeep.map((r=>r.resource.path))),f=new Set,m=[];i.forEach((r=>{h.delete(r),s$1.paths.push(r);}));for(const r of a.resources.toUpdate)if(h.delete(r.resource.path),i.has(r.resource.path)||f.has(r.resource.path)){const{resource:o$1,content:t,finish:a,error:p}=r,h=(0,_resourceUtils_d0c75b61_js__WEBPACK_IMPORTED_MODULE_6__.getSiblingOfSameTypeI)(o$1,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.dc)());s$1.paths.push(h.path),m.push(n({resource:h,content:t,finish:a,error:p},u));}else s$1.paths.push(r.resource.path),m.push(p(r,u)),f.add(r.resource.path);for(const r of a.resources.toAdd)m.push(n(r,u)),s$1.paths.push(r.resource.path);if(h.forEach((r=>{const e=a.portalItem.resourceFromPath(r);m.push(e.portalItem.removeResource(e).catch((()=>{})));})),0===m.length)return;const l=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ai)(m);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(u);const d=l.filter((r=>"error"in r)).map((r=>r.error));if(d.length>0)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("save:resources","Failed to save one or more resources",{errors:d})}async function n(r,e){const o=await (0,_asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_5__.o)(r.resource.portalItem.addResource(r.resource,r.content,e));if(!0!==o.ok)throw r.error&&r.error(o.error),o.error;r.finish&&r.finish(r.resource);}async function p(r,e){const o=await (0,_asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_5__.o)(r.resource.update(r.content,e));if(!0!==o.ok)throw r.error(o.error),o.error;r.finish(r.resource);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const N=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.mixins.SceneService"),R=r$2=>{let R=class extends r$2{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:""},this.copyright=null,this.sublayerTitleMode="item-title",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.dd)((async(e,t,r)=>{switch(e){case 0:return this._save(t);case 1:return this._saveAs(r,t)}}));}readSpatialReference(e,t){return this._readSpatialReference(t)}_readSpatialReference(e){if(null!=e.spatialReference)return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.fromJSON(e.spatialReference);{const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.substring(r.lastIndexOf("/")+1,r.length),10);return null!=o?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O(o):null}}readFullExtent(e,t,r){if(null!=e&&"object"==typeof e)return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromJSON(e,r);const o=t.store,i=this._readSpatialReference(t);return null==i||null==o||null==o.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<O))?null:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():"",i={major:Number.NaN,minor:Number.NaN,versionString:o},s=o.split(".");return s.length>=2&&(i.major=parseInt(s[0],10),i.minor=parseInt(s[1],10)),i}readTitlePortalItem(e){return "item-title"!==this.sublayerTitleMode?void 0:e}readTitleService(e,r){const o=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return (0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_3__.h)(this.url,r.name);let i=r.name;if(!i&&this.url){const e=(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_3__.d)(this.url);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)&&(i=e.title);}return "item-title-and-service-name"===this.sublayerTitleMode&&o&&(i=o+" - "+i),(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_3__.v)(i)}set url(e){const t=(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_3__.g)({layer:this,url:e,nonStandardUrlAllowed:!1,logger:N});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId);}writeUrl(e,t,r,o){(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_3__.O)(this,e,"layers",t,o);}get parsedUrl(){const e=this._get("url");if(!e)return null;const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e);return null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=n$1(this.parsedUrl.path,this.rootNode,e,N,t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo);}_updateExtent(e){if("page"===(null==e?void 0:e.type)){var t,r;const o=e.rootIndex%e.pageSize,i=null==(t=e.rootPage)||null==(r=t.nodes)?void 0:r[o];if(null==i||null==i.obb||null==i.obb.center||null==i.obb.halfSize)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:invalid-node-page","Invalid node page.");if(i.obb.center[0]<O||null==this.fullExtent||this.fullExtent.hasZ)return;const s$1=i.obb.halfSize,a=i.obb.center[2],n=Math.sqrt(s$1[0]*s$1[0]+s$1[1]*s$1[1]+s$1[2]*s$1[2]);this.fullExtent.zmin=a-n,this.fullExtent.zmax=a+n;}else if("node"===(null==e?void 0:e.type)){var o;const t=null==(o=e.rootNode)?void 0:o.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<O)return;const r=t[2],i=t[3];this.fullExtent.zmin=r-i,this.fullExtent.zmax=r+i;}}async _fetchService(e){if(null==this.url)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:url-not-set","Scene service can not be loaded without valid portal item or url");if(null==this.layerId&&/SceneServer\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t);}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const t=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(this.url,{query:{f:"json"},responseType:"json",signal:e});if(t.data&&Array.isArray(t.data.layers)&&t.data.layers.length>0)return t.data.layers[0].id}async _fetchServiceLayer(e){const t=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(this.parsedUrl.path,{query:{f:"json"},responseType:"json",signal:e});t.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const r=t.data;this.read(r,{origin:"service",url:this.parsedUrl}),this.validateLayer(r);}async _ensureLoadBeforeSave(){await this.load(),"beforeSave"in this&&"function"==typeof this.beforeSave&&await this.beforeSave();}validateLayer(e){}_updateTypeKeywords(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),1===r&&(e.typeKeywords=e.typeKeywords.filter((e=>"Hosted Service"!==e))));}async _saveAs(e,t){const r$1={...T,...t};let o=_PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_2__["default"].from(e);o||(N.error("_saveAs(): requires a portal item parameter"),await Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:portal-item-required","_saveAs() requires a portal item to save to"))),o.id&&(o=o.clone(),o.id=null);const i=o.portal||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.w.getDefault();await this._ensureLoadBeforeSave(),o.type=E,o.portal=i;const s$1={origin:"portal-item",url:null,messages:[],portal:i,portalItem:o,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},a$1={layers:[this.write(null,s$1)]};return await Promise.all(s$1.resources.pendingOperations),await this._validateAgainstJSONSchema(a$1,s$1,r$1),o.url=this.url,o.title||(o.title=this.title),this._updateTypeKeywords(o,r$1,1),await i._signIn(),await i.user.addItem({item:o,folder:r$1&&r$1.folder,data:a$1}),await a(this.resourceReferences,s$1,null),this.portalItem=o,r(s$1),s$1.portalItem=o,o}async _save(e){const t={...T,...e};this.portalItem||(N.error("_save(): requires the .portalItem property to be set"),await Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:portal-item-not-set","Portal item to save to has not been set on this SceneService"))),this.portalItem.type!==E&&(N.error("_save(): Non-matching portal item type. Got "+this.portalItem.type+", expected "+E),await Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:portal-item-wrong-type",`Portal item needs to have type "${E}"`))),await this._ensureLoadBeforeSave();const r$1={origin:"portal-item",url:this.portalItem.itemUrl&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(this.portalItem.itemUrl),messages:[],portal:this.portalItem.portal||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.w.getDefault(),portalItem:this.portalItem,writtenProperties:[],blockedRelativeUrls:[],resources:{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}},o={layers:[this.write(null,r$1)]};return await Promise.all(r$1.resources.pendingOperations),await this._validateAgainstJSONSchema(o,r$1,t),this.portalItem.url=this.url,this.portalItem.title||(this.portalItem.title=this.title),this._updateTypeKeywords(this.portalItem,t,0),await this.portalItem.update({data:o}),await a(this.resourceReferences,r$1,null),r(r$1),this.portalItem}async _validateAgainstJSONSchema(e,t,r){let o=t.messages.filter((e=>"error"===e.type)).map((e=>new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(e.name,e.message,e.details)));if(r&&r.validationOptions.ignoreUnsupported&&(o=o.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name&&"scenemodification:unsupported"!==e.name))),r.validationOptions.enabled||U){const t=(await __webpack_require__.e(/*! import() */ "vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc45e5").then(__webpack_require__.bind(__webpack_require__, /*! ./schemaValidator-fdbe7a97.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/schemaValidator-fdbe7a97.js"))).validate(e,r.portalItemLayerType);if(t.length>0){const e=`Layer item did not validate:\n${t.join("\n")}`;if(N.error(`_validateAgainstJSONSchema(): ${e}`),"throw"===r.validationOptions.failPolicy){const e=t.map((e=>new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:schema-validation",e))).concat(o);throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice-validate:error","Failed to save layer item due to schema validation, see `details.errors`.",{combined:e})}}}if(o.length>0)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("sceneservice:save","Failed to save SceneService due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:o})}};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)(_OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_7__.b)],R.prototype,"id",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O})],R.prototype,"spatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("spatialReference",["spatialReference","store.indexCRS","store.geographicCRS"])],R.prototype,"readSpatialReference",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M})],R.prototype,"fullExtent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("fullExtent",["fullExtent","store.extent","spatialReference","store.indexCRS","store.geographicCRS"])],R.prototype,"readFullExtent",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0,type:_HeightModelInfo_4863adf0_js__WEBPACK_IMPORTED_MODULE_4__.v})],R.prototype,"heightModelInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:{source:"minScale"},write:!1}}}})],R.prototype,"minScale",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:{source:"maxScale"},write:!1}}}})],R.prototype,"maxScale",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],R.prototype,"version",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("version",["store.version"])],R.prototype,"readVersion",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:{source:"copyrightText"}}})],R.prototype,"copyright",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:!1}})],R.prototype,"sublayerTitleMode",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String})],R.prototype,"title",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("portal-item","title")],R.prototype,"readTitlePortalItem",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("service","title",["name"])],R.prototype,"readTitleService",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{write:{target:"id",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],R.prototype,"layerId",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)(_OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_7__.f)],R.prototype,"url",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("url")],R.prototype,"writeUrl",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],R.prototype,"parsedUrl",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],R.prototype,"store",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],R.prototype,"rootNode",void 0),R=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.mixins.SceneService")],R),R},O=-1e38,U=!1,E="Scene Service",T={getTypeKeywords:()=>[],portalItemLayerType:"unknown",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:"throw"}};



//# sourceMappingURL=SceneService-9b27d100.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ O),
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   h: () => (/* binding */ h),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   v: () => (/* binding */ v),
/* harmony export */   w: () => (/* binding */ w),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const u=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),f=/(.*)\/(\d+)\/?$/i;function p(e){return !!a.test(e)}function d(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,l]=n,u=i.indexOf("/");return {title:v(-1!==u?i.slice(u+1):i),serverType:o,sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:s}}}function m(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return (e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(r$1,t){const n=[];if(r$1){const t=d(r$1);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&t.title&&n.push(t.title);}if(t){const e=v(t);n.push(e);}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function w(e){if(!e)return !1;const r=".arcgis.com/",t="//services",n="//tiles",s="//features",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function y(e,r){return e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b1)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b2)(e,r)):e}function g(s){let{url:i}=s;if(!i)return {url:i};i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b2)(i,s.logger);const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(i),l=d(o.path);let u;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(l))null!=l.sublayer&&null==s.layer.layerId&&(u=l.sublayer),i=l.url.path;else if(s.nonStandardUrlAllowed){const r$1=m(o.path);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1)&&(i=r$1.serviceUrl,u=r$1.sublayerId);}return {url:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b1)(i),layerId:u}}function O(e,r,t,n,i){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aP)(r,n,"url",i),n.url&&null!=e.layerId&&(n.url=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(n.url,t,e.layerId.toString()));}function S(e){if(!e)return !1;const r=e.toLowerCase(),t=-1!==r.indexOf("/services/"),n=-1!==r.indexOf("/mapserver/wmsserver"),s=-1!==r.indexOf("/imageserver/wmsserver"),i=-1!==r.indexOf("/wmsserver");return t&&(n||s||i)}



//# sourceMappingURL=arcgisLayerUrl-36b3c3ab.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/lengthUtils-ba54deb2.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/lengthUtils-ba54deb2.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const m={inches:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","inches"),feet:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","feet"),"us-feet":(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","us-feet"),yards:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","yards"),miles:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","miles"),"nautical-miles":(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","nautical-miles"),millimeters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","millimeters"),centimeters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","centimeters"),decimeters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","decimeters"),meters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","meters"),kilometers:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","kilometers"),"decimal-degrees":1/(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.R)(1,"meters",_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius)};



//# sourceMappingURL=lengthUtils-ba54deb2.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/resourceUtils-d0c75b61.js":
/*!*****************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/resourceUtils-d0c75b61.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addOrUpdateResource: () => (/* binding */ u),
/* harmony export */   contentToBlob: () => (/* binding */ h),
/* harmony export */   fetchResources: () => (/* binding */ c),
/* harmony export */   getSiblingOfSameType: () => (/* binding */ f),
/* harmony export */   getSiblingOfSameTypeI: () => (/* binding */ w),
/* harmony export */   removeAllResources: () => (/* binding */ i),
/* harmony export */   removeResource: () => (/* binding */ l),
/* harmony export */   splitPrefixFileNameAndExtension: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _index_4a62c63d_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-4a62c63d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/index-4a62c63d.js");




/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function c(t,r={},a){await t.load(a);const s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(t.itemUrl,"resources"),{start:n=1,num:c=10,sortOrder:u="asc",sortField:l="created"}=r,i={query:{start:n,num:c,sortOrder:u,sortField:l},signal:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a3)(a,"signal")},p=await t.portal._request(s,i);return {total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:e,size:r,resource:a})=>({created:new Date(e),size:r,resource:t.resourceFromPath(a)})))}}async function u(r$1,s$1,n,c){if(!r$1.hasPath())throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`portal-item-resource-${s$1}:invalid-path`,"Resource does not have a valid path");await r$1.portalItem.load(c);const u=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(r$1.portalItem.userItemUrl,"add"===s$1?"addResources":"updateResources"),[l,i]=p(r$1.path),m=await h(n),d=new FormData;return l&&"."!==l&&d.append("resourcesPrefix",l),d.append("fileName",i),d.append("file",m,i),d.append("f","json"),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(c)&&c.access&&d.append("access",c.access),await r$1.portalItem.portal._request(u,{method:"post",body:d,signal:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a3)(c,"signal")}),r$1}async function l(t,r,s$1){if(!r.hasPath())throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("portal-item-resources-remove:invalid-path","Resource does not have a valid path");await t.load(s$1);const n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(t.userItemUrl,"removeResources");await t.portal._request(n,{method:"post",query:{resource:r.path},signal:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a3)(s$1,"signal")}),r.portalItem=null;}async function i(t,r){await t.load(r);const a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(t.userItemUrl,"removeResources");return t.portal._request(a,{method:"post",query:{deleteAll:!0},signal:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a3)(r,"signal")})}function p(e){const t=e.lastIndexOf("/");return -1===t?[".",e]:[e.slice(0,t),e.slice(t+1)]}function m(e){const[t,r]=d(e),[a,o]=p(t);return [a,o,r]}function d(e){const t$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ch)(e);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t$1)?[e,""]:[e.slice(0,e.length-t$1.length-1),`.${t$1}`]}async function h(e){if(e instanceof Blob)return e;return (await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(e.url,{responseType:"blob"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=m(e.path);return e.portalItem.resourceFromPath((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(r,t+a))}



//# sourceMappingURL=resourceUtils-d0c75b61.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLThmZmRiMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrTTtBQUMxSTtBQUNiO0FBQ2dDO0FBQ3pCO0FBQ0U7QUFDcUI7QUFDbkI7O0FBRXREO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYzs7QUFFZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxXQUFXLEdBQUcsMkRBQUcsT0FBTyxXQUFXLEVBQUUsNERBQTRELElBQUksUUFBUSw0QkFBNEIsMkRBQUcsSUFBSSxPQUFPLFNBQVMsOEJBQThCLDRHQUE0RyxTQUFTLDJEQUFHLDRHQUE0RyxrQkFBa0IsV0FBVyxFQUFFLHFDQUFxQyxJQUFJLFFBQVEsNEJBQTRCLDJEQUFHLElBQUksT0FBTyxTQUFTLDhCQUE4QixxQkFBcUIsU0FBUyxVQUFVLHVEQUFDLHdEQUF3RCw4QkFBOEI7O0FBRWx1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMseURBQXlELGlCQUFpQixzRkFBc0Y7O0FBRTlLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJCQUEyQixpRUFBaUUsK0NBQStDLDZFQUE2RSxlQUFlLCtCQUErQixHQUFHLGlIQUFpSCxNQUFNLHdDQUF3QyxLQUFLLGlGQUFDLEtBQUssNERBQUMsSUFBSSxpQ0FBaUMsc0NBQXNDLE1BQU0sMkVBQTJFLGdGQUFnRixrQkFBa0IseUNBQXlDLG1EQUFtRCxLQUFLLHVCQUF1QixjQUFjLDREQUFDLElBQUksNERBQUcsSUFBSSxxREFBcUQsd0JBQXdCLHVEQUFDLDBEQUEwRCxTQUFTLEVBQUUsc0JBQXNCLGNBQWMsMERBQUcsNERBQTRELHFEQUFxRCxnQ0FBZ0Msc0JBQXNCLGNBQWMsMERBQUcsaUNBQWlDLDRDQUE0Qzs7QUFFN3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1REFBRyxzREFBc0Qsd0JBQXdCLGNBQWMsNElBQTRJLG1EQUFtRCw2SUFBNkksNERBQUMsaUJBQWlCLFVBQVUsNEJBQTRCLGlDQUFpQyxJQUFJLDBCQUEwQixxQ0FBcUMseUJBQXlCLG1DQUFtQyx1REFBQywrQkFBK0IsMkdBQTJHLG1CQUFtQix1REFBQyxVQUFVLHNCQUFzQixzQ0FBc0MsdURBQUMsZUFBZSxnREFBZ0Qsb0dBQW9HLHVEQUFDLEVBQUUsdUZBQXVGLEVBQUUsaUJBQWlCLDZEQUE2RCxrREFBa0QsZ0JBQWdCLDRFQUE0RSx1QkFBdUIsc0RBQXNELHNCQUFzQiwrQ0FBK0MsZ0RBQWdELDhEQUFDLGtCQUFrQixhQUFhLGlCQUFpQixRQUFRLDhEQUFDLFdBQVcsMkRBQUcsa0JBQWtCLGdGQUFnRiw4REFBRyxJQUFJLFdBQVcsUUFBUSw4REFBQyxFQUFFLG1EQUFtRCxFQUFFLHdFQUF3RSxrQkFBa0IsOERBQUcsdUJBQXVCLGdCQUFnQix5QkFBeUIsa0JBQWtCLFFBQVEsMkRBQUcsSUFBSSxzQ0FBc0MsT0FBTyxVQUFVLGFBQWEsS0FBSyxzQ0FBc0MsbUpBQW1KLGlCQUFpQixxQ0FBcUMsUUFBUSxxRkFBcUYsNEVBQTRFLHVEQUFDLHdEQUF3RCx5RUFBeUUsa0dBQWtHLG1EQUFtRCwwQ0FBMEMsTUFBTSwwQ0FBMEMsa0RBQWtELG9CQUFvQixvREFBb0QsdUJBQXVCLDRCQUE0Qix1REFBQyxnR0FBZ0csMERBQTBELHlDQUF5QywyQkFBMkIsa0NBQWtDLDRCQUE0QixjQUFjLDJEQUFHLFdBQVcsT0FBTyxTQUFTLDhCQUE4QixFQUFFLDJGQUEyRiw0QkFBNEIsY0FBYywyREFBRyxzQkFBc0IsT0FBTyxTQUFTLDhCQUE4QixFQUFFLHVEQUF1RCxlQUFlLGFBQWEsb0NBQW9DLHlCQUF5Qiw4QkFBOEIsb0dBQW9HLGtCQUFrQiwyQkFBMkIsb0NBQW9DLDRCQUE0Qix3Q0FBd0MsOEpBQThKLG1CQUFtQixXQUFXLFdBQVcsTUFBTSwrREFBRyxTQUFTLG9GQUFvRix1REFBQyxvSEFBb0gsa0JBQWtCLHVEQUFHLGNBQWMsdURBQXVELFdBQVcsdUhBQXVILHFEQUFxRCxNQUFNLCtCQUErQixvT0FBb08sdUNBQXVDLHdGQUF3RixlQUFlLFNBQVMsV0FBVywyR0FBMkcsdURBQUMsdVBBQXVQLHVEQUFDLDBFQUEwRSxFQUFFLHlDQUF5QyxXQUFXLGtEQUFrRCwyREFBRyxxRUFBcUUsdURBQUcsZ0dBQWdHLHFEQUFxRCxJQUFJLCtCQUErQiw0UUFBNFEsT0FBTyxtRUFBbUUsd0NBQXdDLDJEQUEyRCx1REFBQywrQkFBK0Isd1NBQXdTLGVBQWUsaVdBQXVDLG9DQUFvQyxlQUFlLHlDQUF5QyxhQUFhLEVBQUUsNENBQTRDLEVBQUUsNkNBQTZDLHNCQUFzQix1REFBQyxpREFBaUQsVUFBVSx1REFBQyw0R0FBNEcsV0FBVyxJQUFJLHdCQUF3Qix1REFBQyw4SUFBOEksU0FBUyxJQUFJLE9BQU8sMkRBQUMsRUFBRSwyREFBQyxDQUFDLDREQUFDLDRCQUE0QiwyREFBQyxFQUFFLDJEQUFDLEVBQUUsS0FBSyx1REFBQyxDQUFDLDBDQUEwQywyREFBQyxFQUFFLDREQUFHLDJIQUEySCwyREFBQyxFQUFFLDJEQUFDLEVBQUUsS0FBSyx1REFBQyxDQUFDLG9DQUFvQywyREFBQyxFQUFFLDREQUFHLDJJQUEySSwyREFBQyxFQUFFLDJEQUFDLEVBQUUsaUJBQWlCLDJEQUFDLENBQUMseUNBQXlDLDJEQUFDLEVBQUUsMkRBQUMsRUFBRSxrQkFBa0Isa0RBQWtELFNBQVMsTUFBTSxrQkFBa0IsYUFBYSxrQ0FBa0MsMkRBQUMsRUFBRSwyREFBQyxFQUFFLGtCQUFrQixrREFBa0QsU0FBUyxNQUFNLGtCQUFrQixhQUFhLGtDQUFrQywyREFBQyxFQUFFLDJEQUFDLEVBQUUsWUFBWSxpQ0FBaUMsMkRBQUMsRUFBRSw0REFBRywrREFBK0QsMkRBQUMsRUFBRSwyREFBQyxFQUFFLGtCQUFrQixNQUFNLHlCQUF5QixtQ0FBbUMsMkRBQUMsRUFBRSwyREFBQyxFQUFFLGtCQUFrQixTQUFTLDJDQUEyQywyREFBQyxFQUFFLDJEQUFDLEVBQUUsWUFBWSwrQkFBK0IsMkRBQUMsRUFBRSw0REFBRyxpRUFBaUUsMkRBQUMsRUFBRSw0REFBRyxtRUFBbUUsMkRBQUMsRUFBRSwyREFBQyxFQUFFLGtCQUFrQixTQUFTLFNBQVMsTUFBTSxhQUFhLGdCQUFnQixPQUFPLDBDQUEwQyxZQUFZLGlDQUFpQywyREFBQyxFQUFFLDJEQUFDLENBQUMsNERBQUMsMkJBQTJCLDJEQUFDLEVBQUUsNERBQUcsc0NBQXNDLDJEQUFDLEVBQUUsMkRBQUMsa0NBQWtDLDJEQUFDLEVBQUUsMkRBQUMsRUFBRSxZQUFZLCtCQUErQiwyREFBQyxFQUFFLDJEQUFDLEVBQUUsOEJBQThCLE1BQU0sMEJBQTBCLG9DQUFvQywyREFBQyxFQUFFLDREQUFHLDBDQUEwQyxtQ0FBbUMsd0VBQXdFOztBQUUzOFI7O0FBRTFCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6Q21HOztBQUVuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJLQUEySyxZQUFZLGlHQUFpRyxZQUFZLDBEQUEwRCxjQUFjLG1CQUFtQixjQUFjLFFBQVEsMkRBQUMsdUNBQXVDLGtCQUFrQixtQ0FBbUMsUUFBUSw4RkFBOEYsU0FBUyxjQUFjLFFBQVEsMkRBQUMsa0JBQWtCLFVBQVUsd0NBQXdDLE1BQU0sY0FBYyxxRUFBcUUsa0JBQWtCLFdBQVcsUUFBUSxlQUFlLDJEQUFDLCtCQUErQixNQUFNLGFBQWEsV0FBVyxpQkFBaUIsbUVBQW1FLG1FQUFtRSxxQkFBcUIsY0FBYyxnQkFBZ0IsaUtBQWlLLFlBQVksZ0JBQWdCLFNBQVMsNERBQUUsQ0FBQyw0REFBRSxTQUFTLGNBQWMsSUFBSSxNQUFNLEdBQUcsY0FBYyxPQUFPLEVBQUUsNERBQUUsYUFBYSxRQUFRLDJEQUFDLGdCQUFnQixNQUFNLEdBQUcsMkRBQUMseUVBQXlFLGlDQUFpQyxvQkFBb0IsMkRBQUMsNENBQTRDLFFBQVEsSUFBSSw0REFBRSxlQUFlLHNCQUFzQiw0REFBRyw2Q0FBNkMsNERBQUMsaUNBQWlDLGNBQWMsZ0JBQWdCLDBLQUEwSzs7QUFFejFEOztBQUV4Qzs7Ozs7Ozs7Ozs7Ozs7OztBQ1ZvRDtBQUNMOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsT0FBTyx5REFBQywyQkFBMkIseURBQUMsOEJBQThCLHlEQUFDLDZCQUE2Qix5REFBQywyQkFBMkIseURBQUMsc0NBQXNDLHlEQUFDLDBDQUEwQyx5REFBQyx1Q0FBdUMseURBQUMsc0NBQXNDLHlEQUFDLGlDQUFpQyx5REFBQyxpQ0FBaUMseURBQUMsOENBQThDLHlEQUFDLFlBQVksd0RBQUM7O0FBRTFaOztBQUViOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNYd0Y7QUFDaEM7QUFDM0I7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLElBQUksZ0JBQWdCLFFBQVEsNERBQUMseUJBQXlCLDJEQUEyRCxNQUFNLE9BQU8sc0NBQXNDLFFBQVEsNERBQUMsYUFBYSxnQ0FBZ0MsUUFBUSxpRUFBaUUsNEJBQTRCLEtBQUssMERBQTBELEtBQUssOEJBQThCLDRCQUE0Qix1REFBQyx5QkFBeUIsSUFBSSxzREFBc0QsNkJBQTZCLFFBQVEsNERBQUMsd0hBQXdILGtIQUFrSCwyREFBQyxtRkFBbUYsNEJBQTRCLDREQUFDLGFBQWEsTUFBTSwwQkFBMEIsMEJBQTBCLHVEQUFDLG9GQUFvRixrQkFBa0IsUUFBUSw0REFBQyxrQ0FBa0MsMkJBQTJCLHFCQUFxQixnQkFBZ0IsUUFBUSw0REFBQyxlQUFlLHFCQUFxQixzQkFBc0IsZ0JBQWdCLFFBQVEsNERBQUMsa0NBQWtDLDRCQUE0QixxQkFBcUIsYUFBYSxRQUFRLDREQUFDLGFBQWEsRUFBRSxjQUFjLDJCQUEyQixrREFBa0QsY0FBYywyQkFBMkIsZUFBZSxjQUFjLFVBQVUsNERBQUUsSUFBSSxPQUFPLDJEQUFDLG1EQUFtRCxJQUFJLEdBQUcsb0JBQW9CLDhCQUE4QixjQUFjLDJEQUFDLFFBQVEsb0JBQW9CLFFBQVEsZ0JBQWdCLDRCQUE0QixzQkFBc0IscUNBQXFDLDREQUFDLFNBQVMsZ0JBQWdCLDRCQUE0QixzQkFBc0IscUNBQXFDLDREQUFDOztBQUUvdUQ7O0FBRXhOIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL1NjZW5lU2VydmljZS05YjI3ZDEwMC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzTGF5ZXJVcmwtMzZiM2MzYWIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL2xlbmd0aFV0aWxzLWJhNTRkZWIyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9yZXNvdXJjZVV0aWxzLWQwYzc1YjYxLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEggYXMgciQxLCBVIGFzIFUkMSwgcywgZGMgYXMgbywgYWkgYXMgQSwgYWggYXMgYSQxLCBTIGFzIG4kMiwgWiBhcyBlLCBfIGFzIHksIE8gYXMgaywgYWIgYXMgZSQxLCBNLCBhaiBhcyBvJDIsIGEwIGFzIGkkMSwgZGQgYXMgeiwgaiBhcyBVJDIsIHcgYXMgdyQxIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgJy4vYXJjZ2lzLWdlb2VucmljaG1lbnQtZGF0YWJyb3dzZXItNmNhOGVhMTQuanMnO1xuaW1wb3J0IGIkMSBmcm9tICcuL1BvcnRhbEl0ZW0tMDM2MTgyY2QuanMnO1xuaW1wb3J0IHsgaCwgZCwgdiBhcyB2JDEsIGcsIE8gYXMgTyQxIH0gZnJvbSAnLi9hcmNnaXNMYXllclVybC0zNmIzYzNhYi5qcyc7XG5pbXBvcnQgeyB2IH0gZnJvbSAnLi9IZWlnaHRNb2RlbEluZm8tNDg2M2FkZjAuanMnO1xuaW1wb3J0IHsgbyBhcyBvJDEgfSBmcm9tICcuL2FzeW5jVXRpbHMtYWY3ODI4NTcuanMnO1xuaW1wb3J0IHsgZ2V0U2libGluZ09mU2FtZVR5cGVJIGFzIHcgfSBmcm9tICcuL3Jlc291cmNlVXRpbHMtZDBjNzViNjEuanMnO1xuaW1wb3J0IHsgYiwgZiB9IGZyb20gJy4vT3BlcmF0aW9uYWxMYXllci03MzNkNTBmZC5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBpKGkpe3JldHVybiBpJiZcImdldEF0T3JpZ2luXCJpbiBpJiZcIm9yaWdpbk9mXCJpbiBpfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuYXN5bmMgZnVuY3Rpb24gbiQxKG4sdCxzJDEsYSxpKXtsZXQgZD1udWxsO2lmKHIkMShzJDEpKXtjb25zdCBvPWAke259L25vZGVwYWdlcy9gLHQ9bytNYXRoLmZsb29yKHMkMS5yb290SW5kZXgvcyQxLm5vZGVzUGVyUGFnZSk7dHJ5e3JldHVybiB7dHlwZTpcInBhZ2VcIixyb290UGFnZTooYXdhaXQgVSQxKHQse3F1ZXJ5OntmOlwianNvblwifSxyZXNwb25zZVR5cGU6XCJqc29uXCIsc2lnbmFsOml9KSkuZGF0YSxyb290SW5kZXg6cyQxLnJvb3RJbmRleCxwYWdlU2l6ZTpzJDEubm9kZXNQZXJQYWdlLGxvZE1ldHJpYzpzJDEubG9kU2VsZWN0aW9uTWV0cmljVHlwZSx1cmxQcmVmaXg6b319Y2F0Y2goYyl7ciQxKGEpJiZhLndhcm4oXCIjZmV0Y2hJbmRleEluZm8oKVwiLFwiRmFpbGVkIHRvIGxvYWQgcm9vdCBub2RlIHBhZ2UuIEZhbGxpbmcgYmFjayB0byBub2RlIGRvY3VtZW50cy5cIix0LGMpLGQ9Yzt9fWlmKCF0KXJldHVybiBudWxsO2NvbnN0IGw9YCR7bn0vbm9kZXMvYCxwPWwrKHQmJnQuc3BsaXQoXCIvXCIpLnBvcCgpKTt0cnl7cmV0dXJuIHt0eXBlOlwibm9kZVwiLHJvb3ROb2RlOihhd2FpdCBVJDEocCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIixzaWduYWw6aX0pKS5kYXRhLHVybFByZWZpeDpsfX1jYXRjaChjKXt0aHJvdyBuZXcgcyhcInNjZW5lc2VydmljZTpyb290LW5vZGUtbWlzc2luZ1wiLFwiUm9vdCBub2RlIG1pc3NpbmcuXCIse3BhZ2VFcnJvcjpkLG5vZGVFcnJvcjpjLHVybDpwfSl9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gcihyKXtyJiZyLndyaXR0ZW5Qcm9wZXJ0aWVzJiZyLndyaXR0ZW5Qcm9wZXJ0aWVzLmZvckVhY2goKHI9Pntjb25zdCB0PXIudGFyZ2V0O3IubmV3T3JpZ2luJiZyLm9sZE9yaWdpbiE9PXIubmV3T3JpZ2luJiZpKHQpJiZ0LnVwZGF0ZU9yaWdpbihyLnByb3BOYW1lLHIubmV3T3JpZ2luKTt9KSk7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuYXN5bmMgZnVuY3Rpb24gYShzJDEsYSx1KXtpZighYXx8IWEucmVzb3VyY2VzKXJldHVybjtjb25zdCBoPWEucG9ydGFsSXRlbT09PXMkMS5wb3J0YWxJdGVtP25ldyBTZXQocyQxLnBhdGhzKTpuZXcgU2V0O3MkMS5wYXRocy5sZW5ndGg9MCxzJDEucG9ydGFsSXRlbT1hLnBvcnRhbEl0ZW07Y29uc3QgaT1uZXcgU2V0KGEucmVzb3VyY2VzLnRvS2VlcC5tYXAoKHI9PnIucmVzb3VyY2UucGF0aCkpKSxmPW5ldyBTZXQsbT1bXTtpLmZvckVhY2goKHI9PntoLmRlbGV0ZShyKSxzJDEucGF0aHMucHVzaChyKTt9KSk7Zm9yKGNvbnN0IHIgb2YgYS5yZXNvdXJjZXMudG9VcGRhdGUpaWYoaC5kZWxldGUoci5yZXNvdXJjZS5wYXRoKSxpLmhhcyhyLnJlc291cmNlLnBhdGgpfHxmLmhhcyhyLnJlc291cmNlLnBhdGgpKXtjb25zdHtyZXNvdXJjZTpvJDEsY29udGVudDp0LGZpbmlzaDphLGVycm9yOnB9PXIsaD13KG8kMSxvKCkpO3MkMS5wYXRocy5wdXNoKGgucGF0aCksbS5wdXNoKG4oe3Jlc291cmNlOmgsY29udGVudDp0LGZpbmlzaDphLGVycm9yOnB9LHUpKTt9ZWxzZSBzJDEucGF0aHMucHVzaChyLnJlc291cmNlLnBhdGgpLG0ucHVzaChwKHIsdSkpLGYuYWRkKHIucmVzb3VyY2UucGF0aCk7Zm9yKGNvbnN0IHIgb2YgYS5yZXNvdXJjZXMudG9BZGQpbS5wdXNoKG4ocix1KSkscyQxLnBhdGhzLnB1c2goci5yZXNvdXJjZS5wYXRoKTtpZihoLmZvckVhY2goKHI9Pntjb25zdCBlPWEucG9ydGFsSXRlbS5yZXNvdXJjZUZyb21QYXRoKHIpO20ucHVzaChlLnBvcnRhbEl0ZW0ucmVtb3ZlUmVzb3VyY2UoZSkuY2F0Y2goKCgpPT57fSkpKTt9KSksMD09PW0ubGVuZ3RoKXJldHVybjtjb25zdCBsPWF3YWl0IEEobSk7YSQxKHUpO2NvbnN0IGQ9bC5maWx0ZXIoKHI9PlwiZXJyb3JcImluIHIpKS5tYXAoKHI9PnIuZXJyb3IpKTtpZihkLmxlbmd0aD4wKXRocm93IG5ldyBzKFwic2F2ZTpyZXNvdXJjZXNcIixcIkZhaWxlZCB0byBzYXZlIG9uZSBvciBtb3JlIHJlc291cmNlc1wiLHtlcnJvcnM6ZH0pfWFzeW5jIGZ1bmN0aW9uIG4ocixlKXtjb25zdCBvPWF3YWl0IG8kMShyLnJlc291cmNlLnBvcnRhbEl0ZW0uYWRkUmVzb3VyY2Uoci5yZXNvdXJjZSxyLmNvbnRlbnQsZSkpO2lmKCEwIT09by5vayl0aHJvdyByLmVycm9yJiZyLmVycm9yKG8uZXJyb3IpLG8uZXJyb3I7ci5maW5pc2gmJnIuZmluaXNoKHIucmVzb3VyY2UpO31hc3luYyBmdW5jdGlvbiBwKHIsZSl7Y29uc3Qgbz1hd2FpdCBvJDEoci5yZXNvdXJjZS51cGRhdGUoci5jb250ZW50LGUpKTtpZighMCE9PW8ub2spdGhyb3cgci5lcnJvcihvLmVycm9yKSxvLmVycm9yO3IuZmluaXNoKHIucmVzb3VyY2UpO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IE49biQyLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLm1peGlucy5TY2VuZVNlcnZpY2VcIiksUj1yJDI9PntsZXQgUj1jbGFzcyBleHRlbmRzIHIkMntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5mdWxsRXh0ZW50PW51bGwsdGhpcy5oZWlnaHRNb2RlbEluZm89bnVsbCx0aGlzLm1pblNjYWxlPTAsdGhpcy5tYXhTY2FsZT0wLHRoaXMudmVyc2lvbj17bWFqb3I6TnVtYmVyLk5hTixtaW5vcjpOdW1iZXIuTmFOLHZlcnNpb25TdHJpbmc6XCJcIn0sdGhpcy5jb3B5cmlnaHQ9bnVsbCx0aGlzLnN1YmxheWVyVGl0bGVNb2RlPVwiaXRlbS10aXRsZVwiLHRoaXMudGl0bGU9bnVsbCx0aGlzLmxheWVySWQ9bnVsbCx0aGlzLmluZGV4SW5mbz1udWxsLHRoaXMuX2RlYm91bmNlZFNhdmVPcGVyYXRpb25zPXooKGFzeW5jKGUsdCxyKT0+e3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIHRoaXMuX3NhdmUodCk7Y2FzZSAxOnJldHVybiB0aGlzLl9zYXZlQXMocix0KX19KSk7fXJlYWRTcGF0aWFsUmVmZXJlbmNlKGUsdCl7cmV0dXJuIHRoaXMuX3JlYWRTcGF0aWFsUmVmZXJlbmNlKHQpfV9yZWFkU3BhdGlhbFJlZmVyZW5jZShlKXtpZihudWxsIT1lLnNwYXRpYWxSZWZlcmVuY2UpcmV0dXJuIGsuZnJvbUpTT04oZS5zcGF0aWFsUmVmZXJlbmNlKTt7Y29uc3QgdD1lLnN0b3JlLHI9dC5pbmRleENSU3x8dC5nZW9ncmFwaGljQ1JTLG89ciYmcGFyc2VJbnQoci5zdWJzdHJpbmcoci5sYXN0SW5kZXhPZihcIi9cIikrMSxyLmxlbmd0aCksMTApO3JldHVybiBudWxsIT1vP25ldyBrKG8pOm51bGx9fXJlYWRGdWxsRXh0ZW50KGUsdCxyKXtpZihudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSlyZXR1cm4gTS5mcm9tSlNPTihlLHIpO2NvbnN0IG89dC5zdG9yZSxpPXRoaXMuX3JlYWRTcGF0aWFsUmVmZXJlbmNlKHQpO3JldHVybiBudWxsPT1pfHxudWxsPT1vfHxudWxsPT1vLmV4dGVudHx8IUFycmF5LmlzQXJyYXkoby5leHRlbnQpfHxvLmV4dGVudC5zb21lKChlPT5lPE8pKT9udWxsOm5ldyBNKHt4bWluOm8uZXh0ZW50WzBdLHltaW46by5leHRlbnRbMV0seG1heDpvLmV4dGVudFsyXSx5bWF4Om8uZXh0ZW50WzNdLHNwYXRpYWxSZWZlcmVuY2U6aX0pfXJlYWRWZXJzaW9uKGUsdCl7Y29uc3Qgcj10LnN0b3JlLG89bnVsbCE9ci52ZXJzaW9uP3IudmVyc2lvbi50b1N0cmluZygpOlwiXCIsaT17bWFqb3I6TnVtYmVyLk5hTixtaW5vcjpOdW1iZXIuTmFOLHZlcnNpb25TdHJpbmc6b30scz1vLnNwbGl0KFwiLlwiKTtyZXR1cm4gcy5sZW5ndGg+PTImJihpLm1ham9yPXBhcnNlSW50KHNbMF0sMTApLGkubWlub3I9cGFyc2VJbnQoc1sxXSwxMCkpLGl9cmVhZFRpdGxlUG9ydGFsSXRlbShlKXtyZXR1cm4gXCJpdGVtLXRpdGxlXCIhPT10aGlzLnN1YmxheWVyVGl0bGVNb2RlP3ZvaWQgMDplfXJlYWRUaXRsZVNlcnZpY2UoZSxyKXtjb25zdCBvPXRoaXMucG9ydGFsSXRlbSYmdGhpcy5wb3J0YWxJdGVtLnRpdGxlO2lmKFwiaXRlbS10aXRsZVwiPT09dGhpcy5zdWJsYXllclRpdGxlTW9kZSlyZXR1cm4gaCh0aGlzLnVybCxyLm5hbWUpO2xldCBpPXIubmFtZTtpZighaSYmdGhpcy51cmwpe2NvbnN0IGU9ZCh0aGlzLnVybCk7ciQxKGUpJiYoaT1lLnRpdGxlKTt9cmV0dXJuIFwiaXRlbS10aXRsZS1hbmQtc2VydmljZS1uYW1lXCI9PT10aGlzLnN1YmxheWVyVGl0bGVNb2RlJiZvJiYoaT1vK1wiIC0gXCIraSksdiQxKGkpfXNldCB1cmwoZSl7Y29uc3QgdD1nKHtsYXllcjp0aGlzLHVybDplLG5vblN0YW5kYXJkVXJsQWxsb3dlZDohMSxsb2dnZXI6Tn0pO3RoaXMuX3NldChcInVybFwiLHQudXJsKSxudWxsIT10LmxheWVySWQmJnRoaXMuX3NldChcImxheWVySWRcIix0LmxheWVySWQpO313cml0ZVVybChlLHQscixvKXtPJDEodGhpcyxlLFwibGF5ZXJzXCIsdCxvKTt9Z2V0IHBhcnNlZFVybCgpe2NvbnN0IGU9dGhpcy5fZ2V0KFwidXJsXCIpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHQ9VSQyKGUpO3JldHVybiBudWxsIT10aGlzLmxheWVySWQmJih0LnBhdGg9YCR7dC5wYXRofS9sYXllcnMvJHt0aGlzLmxheWVySWR9YCksdH1hc3luYyBfZmV0Y2hJbmRleEFuZFVwZGF0ZUV4dGVudChlLHQpe3RoaXMuaW5kZXhJbmZvPW4kMSh0aGlzLnBhcnNlZFVybC5wYXRoLHRoaXMucm9vdE5vZGUsZSxOLHQpLG51bGw9PXRoaXMuZnVsbEV4dGVudHx8dGhpcy5mdWxsRXh0ZW50Lmhhc1p8fHRoaXMuX3VwZGF0ZUV4dGVudChhd2FpdCB0aGlzLmluZGV4SW5mbyk7fV91cGRhdGVFeHRlbnQoZSl7aWYoXCJwYWdlXCI9PT0obnVsbD09ZT92b2lkIDA6ZS50eXBlKSl7dmFyIHQscjtjb25zdCBvPWUucm9vdEluZGV4JWUucGFnZVNpemUsaT1udWxsPT0odD1lLnJvb3RQYWdlKXx8bnVsbD09KHI9dC5ub2Rlcyk/dm9pZCAwOnJbb107aWYobnVsbD09aXx8bnVsbD09aS5vYmJ8fG51bGw9PWkub2JiLmNlbnRlcnx8bnVsbD09aS5vYmIuaGFsZlNpemUpdGhyb3cgbmV3IHMoXCJzY2VuZXNlcnZpY2U6aW52YWxpZC1ub2RlLXBhZ2VcIixcIkludmFsaWQgbm9kZSBwYWdlLlwiKTtpZihpLm9iYi5jZW50ZXJbMF08T3x8bnVsbD09dGhpcy5mdWxsRXh0ZW50fHx0aGlzLmZ1bGxFeHRlbnQuaGFzWilyZXR1cm47Y29uc3QgcyQxPWkub2JiLmhhbGZTaXplLGE9aS5vYmIuY2VudGVyWzJdLG49TWF0aC5zcXJ0KHMkMVswXSpzJDFbMF0rcyQxWzFdKnMkMVsxXStzJDFbMl0qcyQxWzJdKTt0aGlzLmZ1bGxFeHRlbnQuem1pbj1hLW4sdGhpcy5mdWxsRXh0ZW50LnptYXg9YStuO31lbHNlIGlmKFwibm9kZVwiPT09KG51bGw9PWU/dm9pZCAwOmUudHlwZSkpe3ZhciBvO2NvbnN0IHQ9bnVsbD09KG89ZS5yb290Tm9kZSk/dm9pZCAwOm8ubWJzO2lmKCFBcnJheS5pc0FycmF5KHQpfHw0IT09dC5sZW5ndGh8fHRbMF08TylyZXR1cm47Y29uc3Qgcj10WzJdLGk9dFszXTt0aGlzLmZ1bGxFeHRlbnQuem1pbj1yLWksdGhpcy5mdWxsRXh0ZW50LnptYXg9citpO319YXN5bmMgX2ZldGNoU2VydmljZShlKXtpZihudWxsPT10aGlzLnVybCl0aHJvdyBuZXcgcyhcInNjZW5lc2VydmljZTp1cmwtbm90LXNldFwiLFwiU2NlbmUgc2VydmljZSBjYW4gbm90IGJlIGxvYWRlZCB3aXRob3V0IHZhbGlkIHBvcnRhbCBpdGVtIG9yIHVybFwiKTtpZihudWxsPT10aGlzLmxheWVySWQmJi9TY2VuZVNlcnZlclxcLyokL2kudGVzdCh0aGlzLnVybCkpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hGaXJzdExheWVySWQoZSk7bnVsbCE9dCYmKHRoaXMubGF5ZXJJZD10KTt9cmV0dXJuIHRoaXMuX2ZldGNoU2VydmljZUxheWVyKGUpfWFzeW5jIF9mZXRjaEZpcnN0TGF5ZXJJZChlKXtjb25zdCB0PWF3YWl0IFUkMSh0aGlzLnVybCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIixzaWduYWw6ZX0pO2lmKHQuZGF0YSYmQXJyYXkuaXNBcnJheSh0LmRhdGEubGF5ZXJzKSYmdC5kYXRhLmxheWVycy5sZW5ndGg+MClyZXR1cm4gdC5kYXRhLmxheWVyc1swXS5pZH1hc3luYyBfZmV0Y2hTZXJ2aWNlTGF5ZXIoZSl7Y29uc3QgdD1hd2FpdCBVJDEodGhpcy5wYXJzZWRVcmwucGF0aCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHJlc3BvbnNlVHlwZTpcImpzb25cIixzaWduYWw6ZX0pO3Quc3NsJiYodGhpcy51cmw9dGhpcy51cmwucmVwbGFjZSgvXmh0dHA6L2ksXCJodHRwczpcIikpO2NvbnN0IHI9dC5kYXRhO3RoaXMucmVhZChyLHtvcmlnaW46XCJzZXJ2aWNlXCIsdXJsOnRoaXMucGFyc2VkVXJsfSksdGhpcy52YWxpZGF0ZUxheWVyKHIpO31hc3luYyBfZW5zdXJlTG9hZEJlZm9yZVNhdmUoKXthd2FpdCB0aGlzLmxvYWQoKSxcImJlZm9yZVNhdmVcImluIHRoaXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYmVmb3JlU2F2ZSYmYXdhaXQgdGhpcy5iZWZvcmVTYXZlKCk7fXZhbGlkYXRlTGF5ZXIoZSl7fV91cGRhdGVUeXBlS2V5d29yZHMoZSx0LHIpe2UudHlwZUtleXdvcmRzfHwoZS50eXBlS2V5d29yZHM9W10pO2NvbnN0IG89dC5nZXRUeXBlS2V5d29yZHMoKTtmb3IoY29uc3QgaSBvZiBvKWUudHlwZUtleXdvcmRzLnB1c2goaSk7ZS50eXBlS2V5d29yZHMmJihlLnR5cGVLZXl3b3Jkcz1lLnR5cGVLZXl3b3Jkcy5maWx0ZXIoKChlLHQscik9PnIuaW5kZXhPZihlKT09PXQpKSwxPT09ciYmKGUudHlwZUtleXdvcmRzPWUudHlwZUtleXdvcmRzLmZpbHRlcigoZT0+XCJIb3N0ZWQgU2VydmljZVwiIT09ZSkpKSk7fWFzeW5jIF9zYXZlQXMoZSx0KXtjb25zdCByJDE9ey4uLlQsLi4udH07bGV0IG89YiQxLmZyb20oZSk7b3x8KE4uZXJyb3IoXCJfc2F2ZUFzKCk6IHJlcXVpcmVzIGEgcG9ydGFsIGl0ZW0gcGFyYW1ldGVyXCIpLGF3YWl0IFByb21pc2UucmVqZWN0KG5ldyBzKFwic2NlbmVzZXJ2aWNlOnBvcnRhbC1pdGVtLXJlcXVpcmVkXCIsXCJfc2F2ZUFzKCkgcmVxdWlyZXMgYSBwb3J0YWwgaXRlbSB0byBzYXZlIHRvXCIpKSksby5pZCYmKG89by5jbG9uZSgpLG8uaWQ9bnVsbCk7Y29uc3QgaT1vLnBvcnRhbHx8dyQxLmdldERlZmF1bHQoKTthd2FpdCB0aGlzLl9lbnN1cmVMb2FkQmVmb3JlU2F2ZSgpLG8udHlwZT1FLG8ucG9ydGFsPWk7Y29uc3QgcyQxPXtvcmlnaW46XCJwb3J0YWwtaXRlbVwiLHVybDpudWxsLG1lc3NhZ2VzOltdLHBvcnRhbDppLHBvcnRhbEl0ZW06byx3cml0dGVuUHJvcGVydGllczpbXSxibG9ja2VkUmVsYXRpdmVVcmxzOltdLHJlc291cmNlczp7dG9BZGQ6W10sdG9VcGRhdGU6W10sdG9LZWVwOltdLHBlbmRpbmdPcGVyYXRpb25zOltdfX0sYSQxPXtsYXllcnM6W3RoaXMud3JpdGUobnVsbCxzJDEpXX07cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHMkMS5yZXNvdXJjZXMucGVuZGluZ09wZXJhdGlvbnMpLGF3YWl0IHRoaXMuX3ZhbGlkYXRlQWdhaW5zdEpTT05TY2hlbWEoYSQxLHMkMSxyJDEpLG8udXJsPXRoaXMudXJsLG8udGl0bGV8fChvLnRpdGxlPXRoaXMudGl0bGUpLHRoaXMuX3VwZGF0ZVR5cGVLZXl3b3JkcyhvLHIkMSwxKSxhd2FpdCBpLl9zaWduSW4oKSxhd2FpdCBpLnVzZXIuYWRkSXRlbSh7aXRlbTpvLGZvbGRlcjpyJDEmJnIkMS5mb2xkZXIsZGF0YTphJDF9KSxhd2FpdCBhKHRoaXMucmVzb3VyY2VSZWZlcmVuY2VzLHMkMSxudWxsKSx0aGlzLnBvcnRhbEl0ZW09byxyKHMkMSkscyQxLnBvcnRhbEl0ZW09byxvfWFzeW5jIF9zYXZlKGUpe2NvbnN0IHQ9ey4uLlQsLi4uZX07dGhpcy5wb3J0YWxJdGVtfHwoTi5lcnJvcihcIl9zYXZlKCk6IHJlcXVpcmVzIHRoZSAucG9ydGFsSXRlbSBwcm9wZXJ0eSB0byBiZSBzZXRcIiksYXdhaXQgUHJvbWlzZS5yZWplY3QobmV3IHMoXCJzY2VuZXNlcnZpY2U6cG9ydGFsLWl0ZW0tbm90LXNldFwiLFwiUG9ydGFsIGl0ZW0gdG8gc2F2ZSB0byBoYXMgbm90IGJlZW4gc2V0IG9uIHRoaXMgU2NlbmVTZXJ2aWNlXCIpKSksdGhpcy5wb3J0YWxJdGVtLnR5cGUhPT1FJiYoTi5lcnJvcihcIl9zYXZlKCk6IE5vbi1tYXRjaGluZyBwb3J0YWwgaXRlbSB0eXBlLiBHb3QgXCIrdGhpcy5wb3J0YWxJdGVtLnR5cGUrXCIsIGV4cGVjdGVkIFwiK0UpLGF3YWl0IFByb21pc2UucmVqZWN0KG5ldyBzKFwic2NlbmVzZXJ2aWNlOnBvcnRhbC1pdGVtLXdyb25nLXR5cGVcIixgUG9ydGFsIGl0ZW0gbmVlZHMgdG8gaGF2ZSB0eXBlIFwiJHtFfVwiYCkpKSxhd2FpdCB0aGlzLl9lbnN1cmVMb2FkQmVmb3JlU2F2ZSgpO2NvbnN0IHIkMT17b3JpZ2luOlwicG9ydGFsLWl0ZW1cIix1cmw6dGhpcy5wb3J0YWxJdGVtLml0ZW1VcmwmJlUkMih0aGlzLnBvcnRhbEl0ZW0uaXRlbVVybCksbWVzc2FnZXM6W10scG9ydGFsOnRoaXMucG9ydGFsSXRlbS5wb3J0YWx8fHckMS5nZXREZWZhdWx0KCkscG9ydGFsSXRlbTp0aGlzLnBvcnRhbEl0ZW0sd3JpdHRlblByb3BlcnRpZXM6W10sYmxvY2tlZFJlbGF0aXZlVXJsczpbXSxyZXNvdXJjZXM6e3RvQWRkOltdLHRvVXBkYXRlOltdLHRvS2VlcDpbXSxwZW5kaW5nT3BlcmF0aW9uczpbXX19LG89e2xheWVyczpbdGhpcy53cml0ZShudWxsLHIkMSldfTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwociQxLnJlc291cmNlcy5wZW5kaW5nT3BlcmF0aW9ucyksYXdhaXQgdGhpcy5fdmFsaWRhdGVBZ2FpbnN0SlNPTlNjaGVtYShvLHIkMSx0KSx0aGlzLnBvcnRhbEl0ZW0udXJsPXRoaXMudXJsLHRoaXMucG9ydGFsSXRlbS50aXRsZXx8KHRoaXMucG9ydGFsSXRlbS50aXRsZT10aGlzLnRpdGxlKSx0aGlzLl91cGRhdGVUeXBlS2V5d29yZHModGhpcy5wb3J0YWxJdGVtLHQsMCksYXdhaXQgdGhpcy5wb3J0YWxJdGVtLnVwZGF0ZSh7ZGF0YTpvfSksYXdhaXQgYSh0aGlzLnJlc291cmNlUmVmZXJlbmNlcyxyJDEsbnVsbCkscihyJDEpLHRoaXMucG9ydGFsSXRlbX1hc3luYyBfdmFsaWRhdGVBZ2FpbnN0SlNPTlNjaGVtYShlLHQscil7bGV0IG89dC5tZXNzYWdlcy5maWx0ZXIoKGU9PlwiZXJyb3JcIj09PWUudHlwZSkpLm1hcCgoZT0+bmV3IHMoZS5uYW1lLGUubWVzc2FnZSxlLmRldGFpbHMpKSk7aWYociYmci52YWxpZGF0aW9uT3B0aW9ucy5pZ25vcmVVbnN1cHBvcnRlZCYmKG89by5maWx0ZXIoKGU9PlwibGF5ZXI6dW5zdXBwb3J0ZWRcIiE9PWUubmFtZSYmXCJzeW1ib2w6dW5zdXBwb3J0ZWRcIiE9PWUubmFtZSYmXCJzeW1ib2wtbGF5ZXI6dW5zdXBwb3J0ZWRcIiE9PWUubmFtZSYmXCJwcm9wZXJ0eTp1bnN1cHBvcnRlZFwiIT09ZS5uYW1lJiZcInVybDp1bnN1cHBvcnRlZFwiIT09ZS5uYW1lJiZcInNjZW5lbW9kaWZpY2F0aW9uOnVuc3VwcG9ydGVkXCIhPT1lLm5hbWUpKSksci52YWxpZGF0aW9uT3B0aW9ucy5lbmFibGVkfHxVKXtjb25zdCB0PShhd2FpdCBpbXBvcnQoJy4vc2NoZW1hVmFsaWRhdG9yLWZkYmU3YTk3LmpzJykpLnZhbGlkYXRlKGUsci5wb3J0YWxJdGVtTGF5ZXJUeXBlKTtpZih0Lmxlbmd0aD4wKXtjb25zdCBlPWBMYXllciBpdGVtIGRpZCBub3QgdmFsaWRhdGU6XFxuJHt0LmpvaW4oXCJcXG5cIil9YDtpZihOLmVycm9yKGBfdmFsaWRhdGVBZ2FpbnN0SlNPTlNjaGVtYSgpOiAke2V9YCksXCJ0aHJvd1wiPT09ci52YWxpZGF0aW9uT3B0aW9ucy5mYWlsUG9saWN5KXtjb25zdCBlPXQubWFwKChlPT5uZXcgcyhcInNjZW5lc2VydmljZTpzY2hlbWEtdmFsaWRhdGlvblwiLGUpKSkuY29uY2F0KG8pO3Rocm93IG5ldyBzKFwic2NlbmVzZXJ2aWNlLXZhbGlkYXRlOmVycm9yXCIsXCJGYWlsZWQgdG8gc2F2ZSBsYXllciBpdGVtIGR1ZSB0byBzY2hlbWEgdmFsaWRhdGlvbiwgc2VlIGBkZXRhaWxzLmVycm9yc2AuXCIse2NvbWJpbmVkOmV9KX19fWlmKG8ubGVuZ3RoPjApdGhyb3cgbmV3IHMoXCJzY2VuZXNlcnZpY2U6c2F2ZVwiLFwiRmFpbGVkIHRvIHNhdmUgU2NlbmVTZXJ2aWNlIGR1ZSB0byB1bnN1cHBvcnRlZCBvciBpbnZhbGlkIGNvbnRlbnQuIFNlZSAnZGV0YWlscy5lcnJvcnMnIGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uXCIse2Vycm9yczpvfSl9fTtyZXR1cm4gZShbeShiKV0sUi5wcm90b3R5cGUsXCJpZFwiLHZvaWQgMCksZShbeSh7dHlwZTprfSldLFIucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZShbZSQxKFwic3BhdGlhbFJlZmVyZW5jZVwiLFtcInNwYXRpYWxSZWZlcmVuY2VcIixcInN0b3JlLmluZGV4Q1JTXCIsXCJzdG9yZS5nZW9ncmFwaGljQ1JTXCJdKV0sUi5wcm90b3R5cGUsXCJyZWFkU3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGUoW3koe3R5cGU6TX0pXSxSLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW2UkMShcImZ1bGxFeHRlbnRcIixbXCJmdWxsRXh0ZW50XCIsXCJzdG9yZS5leHRlbnRcIixcInNwYXRpYWxSZWZlcmVuY2VcIixcInN0b3JlLmluZGV4Q1JTXCIsXCJzdG9yZS5nZW9ncmFwaGljQ1JTXCJdKV0sUi5wcm90b3R5cGUsXCJyZWFkRnVsbEV4dGVudFwiLG51bGwpLGUoW3koe3JlYWRPbmx5OiEwLHR5cGU6dn0pXSxSLnByb3RvdHlwZSxcImhlaWdodE1vZGVsSW5mb1wiLHZvaWQgMCksZShbeSh7dHlwZTpOdW1iZXIsanNvbjp7bmFtZTpcImxheWVyRGVmaW5pdGlvbi5taW5TY2FsZVwiLHdyaXRlOiEwLG9yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcIm1pblNjYWxlXCJ9LHdyaXRlOiExfX19fSldLFIucHJvdG90eXBlLFwibWluU2NhbGVcIix2b2lkIDApLGUoW3koe3R5cGU6TnVtYmVyLGpzb246e25hbWU6XCJsYXllckRlZmluaXRpb24ubWF4U2NhbGVcIix3cml0ZTohMCxvcmlnaW5zOntzZXJ2aWNlOntyZWFkOntzb3VyY2U6XCJtYXhTY2FsZVwifSx3cml0ZTohMX19fX0pXSxSLnByb3RvdHlwZSxcIm1heFNjYWxlXCIsdm9pZCAwKSxlKFt5KHtyZWFkT25seTohMH0pXSxSLnByb3RvdHlwZSxcInZlcnNpb25cIix2b2lkIDApLGUoW2UkMShcInZlcnNpb25cIixbXCJzdG9yZS52ZXJzaW9uXCJdKV0sUi5wcm90b3R5cGUsXCJyZWFkVmVyc2lvblwiLG51bGwpLGUoW3koe3R5cGU6U3RyaW5nLGpzb246e3JlYWQ6e3NvdXJjZTpcImNvcHlyaWdodFRleHRcIn19fSldLFIucHJvdG90eXBlLFwiY29weXJpZ2h0XCIsdm9pZCAwKSxlKFt5KHt0eXBlOlN0cmluZyxqc29uOntyZWFkOiExfX0pXSxSLnByb3RvdHlwZSxcInN1YmxheWVyVGl0bGVNb2RlXCIsdm9pZCAwKSxlKFt5KHt0eXBlOlN0cmluZ30pXSxSLnByb3RvdHlwZSxcInRpdGxlXCIsdm9pZCAwKSxlKFtlJDEoXCJwb3J0YWwtaXRlbVwiLFwidGl0bGVcIildLFIucHJvdG90eXBlLFwicmVhZFRpdGxlUG9ydGFsSXRlbVwiLG51bGwpLGUoW2UkMShcInNlcnZpY2VcIixcInRpdGxlXCIsW1wibmFtZVwiXSldLFIucHJvdG90eXBlLFwicmVhZFRpdGxlU2VydmljZVwiLG51bGwpLGUoW3koe3R5cGU6TnVtYmVyLGpzb246e29yaWdpbnM6e3NlcnZpY2U6e3JlYWQ6e3NvdXJjZTpcImlkXCJ9fSxcInBvcnRhbC1pdGVtXCI6e3dyaXRlOnt0YXJnZXQ6XCJpZFwiLGlzUmVxdWlyZWQ6ITAsaWdub3JlT3JpZ2luOiEwfSxyZWFkOiExfX19fSldLFIucHJvdG90eXBlLFwibGF5ZXJJZFwiLHZvaWQgMCksZShbeShmKV0sUi5wcm90b3R5cGUsXCJ1cmxcIixudWxsKSxlKFtvJDIoXCJ1cmxcIildLFIucHJvdG90eXBlLFwid3JpdGVVcmxcIixudWxsKSxlKFt5KCldLFIucHJvdG90eXBlLFwicGFyc2VkVXJsXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJzdG9yZVwiLHZvaWQgMCksZShbeSh7dHlwZTpTdHJpbmcscmVhZE9ubHk6ITAsanNvbjp7cmVhZDp7c291cmNlOlwic3RvcmUucm9vdE5vZGVcIn19fSldLFIucHJvdG90eXBlLFwicm9vdE5vZGVcIix2b2lkIDApLFI9ZShbaSQxKFwiZXNyaS5sYXllcnMubWl4aW5zLlNjZW5lU2VydmljZVwiKV0sUiksUn0sTz0tMWUzOCxVPSExLEU9XCJTY2VuZSBTZXJ2aWNlXCIsVD17Z2V0VHlwZUtleXdvcmRzOigpPT5bXSxwb3J0YWxJdGVtTGF5ZXJUeXBlOlwidW5rbm93blwiLHZhbGlkYXRpb25PcHRpb25zOntlbmFibGVkOiEwLGlnbm9yZVVuc3VwcG9ydGVkOiExLGZhaWxQb2xpY3k6XCJ0aHJvd1wifX07XG5cbmV4cG9ydCB7IFIsIGksIG4kMSBhcyBuIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNjZW5lU2VydmljZS05YjI3ZDEwMC5qcy5tYXAiLCJpbXBvcnQgeyBqIGFzIFUsIGIxIGFzIGd0LCBiMiBhcyBVdCwgSCBhcyByLCBhUCBhcyBwJDEsIGIzIGFzIEQgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHU9W1wiTWFwU2VydmVyXCIsXCJJbWFnZVNlcnZlclwiLFwiRmVhdHVyZVNlcnZlclwiLFwiU2NlbmVTZXJ2ZXJcIixcIlN0cmVhbVNlcnZlclwiLFwiVmVjdG9yVGlsZVNlcnZlclwiXSxhPW5ldyBSZWdFeHAoYF4oKD86aHR0cHM/Oik/XFxcXC9cXFxcL1xcXFxTKz9cXFxcL3Jlc3RcXFxcL3NlcnZpY2VzXFxcXC8oLis/KVxcXFwvKCR7dS5qb2luKFwifFwiKX0pKSg/OlxcXFwvKD86bGF5ZXJzXFxcXC8pPyhcXFxcZCspKT9gLFwiaVwiKSxjPW5ldyBSZWdFeHAoYF4oKD86aHR0cHM/Oik/XFxcXC9cXFxcL1xcXFxTKz9cXFxcLyhbXlxcXFwvXFxcXG5dKylcXFxcLygke3Uuam9pbihcInxcIil9KSkoPzpcXFxcLyg/OmxheWVyc1xcXFwvKT8oXFxcXGQrKSk/YCxcImlcIiksZj0vKC4qKVxcLyhcXGQrKVxcLz8kL2k7ZnVuY3Rpb24gcChlKXtyZXR1cm4gISFhLnRlc3QoZSl9ZnVuY3Rpb24gZChlKXtjb25zdCB0PVUoZSksbj10LnBhdGgubWF0Y2goYSl8fHQucGF0aC5tYXRjaChjKTtpZighbilyZXR1cm4gbnVsbDtjb25zdFsscyxpLG8sbF09bix1PWkuaW5kZXhPZihcIi9cIik7cmV0dXJuIHt0aXRsZTp2KC0xIT09dT9pLnNsaWNlKHUrMSk6aSksc2VydmVyVHlwZTpvLHN1YmxheWVyOm51bGwhPWwmJlwiXCIhPT1sP3BhcnNlSW50KGwsMTApOm51bGwsdXJsOntwYXRoOnN9fX1mdW5jdGlvbiBtKGUpe2NvbnN0IHQ9VShlKS5wYXRoLm1hdGNoKGYpO3JldHVybiB0P3tzZXJ2aWNlVXJsOnRbMV0sc3VibGF5ZXJJZDpOdW1iZXIodFsyXSl9Om51bGx9ZnVuY3Rpb24gdihlKXtyZXR1cm4gKGU9ZS5yZXBsYWNlKC9cXHMqWy9fXStcXHMqL2csXCIgXCIpKVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSl9ZnVuY3Rpb24gaChyJDEsdCl7Y29uc3Qgbj1bXTtpZihyJDEpe2NvbnN0IHQ9ZChyJDEpO3IodCkmJnQudGl0bGUmJm4ucHVzaCh0LnRpdGxlKTt9aWYodCl7Y29uc3QgZT12KHQpO24ucHVzaChlKTt9aWYoMj09PW4ubGVuZ3RoKXtpZigtMSE9PW5bMF0udG9Mb3dlckNhc2UoKS5pbmRleE9mKG5bMV0udG9Mb3dlckNhc2UoKSkpcmV0dXJuIG5bMF07aWYoLTEhPT1uWzFdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihuWzBdLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuWzFdfXJldHVybiBuLmpvaW4oXCIgLSBcIil9ZnVuY3Rpb24gdyhlKXtpZighZSlyZXR1cm4gITE7Y29uc3Qgcj1cIi5hcmNnaXMuY29tL1wiLHQ9XCIvL3NlcnZpY2VzXCIsbj1cIi8vdGlsZXNcIixzPVwiLy9mZWF0dXJlc1wiLGk9LTEhPT0oZT1lLnRvTG93ZXJDYXNlKCkpLmluZGV4T2Yociksbz0tMSE9PWUuaW5kZXhPZih0KXx8LTEhPT1lLmluZGV4T2Yobil8fC0xIT09ZS5pbmRleE9mKHMpO3JldHVybiBpJiZvfWZ1bmN0aW9uIHkoZSxyKXtyZXR1cm4gZT9ndChVdChlLHIpKTplfWZ1bmN0aW9uIGcocyl7bGV0e3VybDppfT1zO2lmKCFpKXJldHVybiB7dXJsOml9O2k9VXQoaSxzLmxvZ2dlcik7Y29uc3Qgbz1VKGkpLGw9ZChvLnBhdGgpO2xldCB1O2lmKHIobCkpbnVsbCE9bC5zdWJsYXllciYmbnVsbD09cy5sYXllci5sYXllcklkJiYodT1sLnN1YmxheWVyKSxpPWwudXJsLnBhdGg7ZWxzZSBpZihzLm5vblN0YW5kYXJkVXJsQWxsb3dlZCl7Y29uc3QgciQxPW0oby5wYXRoKTtyKHIkMSkmJihpPXIkMS5zZXJ2aWNlVXJsLHU9ciQxLnN1YmxheWVySWQpO31yZXR1cm4ge3VybDpndChpKSxsYXllcklkOnV9fWZ1bmN0aW9uIE8oZSxyLHQsbixpKXtwJDEocixuLFwidXJsXCIsaSksbi51cmwmJm51bGwhPWUubGF5ZXJJZCYmKG4udXJsPUQobi51cmwsdCxlLmxheWVySWQudG9TdHJpbmcoKSkpO31mdW5jdGlvbiBTKGUpe2lmKCFlKXJldHVybiAhMTtjb25zdCByPWUudG9Mb3dlckNhc2UoKSx0PS0xIT09ci5pbmRleE9mKFwiL3NlcnZpY2VzL1wiKSxuPS0xIT09ci5pbmRleE9mKFwiL21hcHNlcnZlci93bXNzZXJ2ZXJcIikscz0tMSE9PXIuaW5kZXhPZihcIi9pbWFnZXNlcnZlci93bXNzZXJ2ZXJcIiksaT0tMSE9PXIuaW5kZXhPZihcIi93bXNzZXJ2ZXJcIik7cmV0dXJuIHQmJihufHxzfHxpKX1cblxuZXhwb3J0IHsgTywgUywgZCwgZywgaCwgbSwgcCwgdiwgdywgeSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmNnaXNMYXllclVybC0zNmIzYzNhYi5qcy5tYXAiLCJpbXBvcnQgeyBhVyBhcyBzIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyBJLCBSIH0gZnJvbSAnLi91bml0VXRpbHMtNjI0Y2VlYjYuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgbT17aW5jaGVzOkkoMSxcIm1ldGVyc1wiLFwiaW5jaGVzXCIpLGZlZXQ6SSgxLFwibWV0ZXJzXCIsXCJmZWV0XCIpLFwidXMtZmVldFwiOkkoMSxcIm1ldGVyc1wiLFwidXMtZmVldFwiKSx5YXJkczpJKDEsXCJtZXRlcnNcIixcInlhcmRzXCIpLG1pbGVzOkkoMSxcIm1ldGVyc1wiLFwibWlsZXNcIiksXCJuYXV0aWNhbC1taWxlc1wiOkkoMSxcIm1ldGVyc1wiLFwibmF1dGljYWwtbWlsZXNcIiksbWlsbGltZXRlcnM6SSgxLFwibWV0ZXJzXCIsXCJtaWxsaW1ldGVyc1wiKSxjZW50aW1ldGVyczpJKDEsXCJtZXRlcnNcIixcImNlbnRpbWV0ZXJzXCIpLGRlY2ltZXRlcnM6SSgxLFwibWV0ZXJzXCIsXCJkZWNpbWV0ZXJzXCIpLG1ldGVyczpJKDEsXCJtZXRlcnNcIixcIm1ldGVyc1wiKSxraWxvbWV0ZXJzOkkoMSxcIm1ldGVyc1wiLFwia2lsb21ldGVyc1wiKSxcImRlY2ltYWwtZGVncmVlc1wiOjEvUigxLFwibWV0ZXJzXCIscy5yYWRpdXMpfTtcblxuZXhwb3J0IHsgbSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZW5ndGhVdGlscy1iYTU0ZGViMi5qcy5tYXAiLCJpbXBvcnQgeyBiMyBhcyBELCBzLCBIIGFzIHIsIGEzIGFzIGcsIHQsIGNoIGFzIHF0LCBVIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgJy4vYXJjZ2lzLWdlb2VucmljaG1lbnQtZGF0YWJyb3dzZXItNmNhOGVhMTQuanMnO1xuaW1wb3J0ICcuL2luZGV4LTRhNjJjNjNkLmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGModCxyPXt9LGEpe2F3YWl0IHQubG9hZChhKTtjb25zdCBzPUQodC5pdGVtVXJsLFwicmVzb3VyY2VzXCIpLHtzdGFydDpuPTEsbnVtOmM9MTAsc29ydE9yZGVyOnU9XCJhc2NcIixzb3J0RmllbGQ6bD1cImNyZWF0ZWRcIn09cixpPXtxdWVyeTp7c3RhcnQ6bixudW06Yyxzb3J0T3JkZXI6dSxzb3J0RmllbGQ6bH0sc2lnbmFsOmcoYSxcInNpZ25hbFwiKX0scD1hd2FpdCB0LnBvcnRhbC5fcmVxdWVzdChzLGkpO3JldHVybiB7dG90YWw6cC50b3RhbCxuZXh0U3RhcnQ6cC5uZXh0U3RhcnQscmVzb3VyY2VzOnAucmVzb3VyY2VzLm1hcCgoKHtjcmVhdGVkOmUsc2l6ZTpyLHJlc291cmNlOmF9KT0+KHtjcmVhdGVkOm5ldyBEYXRlKGUpLHNpemU6cixyZXNvdXJjZTp0LnJlc291cmNlRnJvbVBhdGgoYSl9KSkpfX1hc3luYyBmdW5jdGlvbiB1KHIkMSxzJDEsbixjKXtpZighciQxLmhhc1BhdGgoKSl0aHJvdyBuZXcgcyhgcG9ydGFsLWl0ZW0tcmVzb3VyY2UtJHtzJDF9OmludmFsaWQtcGF0aGAsXCJSZXNvdXJjZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcGF0aFwiKTthd2FpdCByJDEucG9ydGFsSXRlbS5sb2FkKGMpO2NvbnN0IHU9RChyJDEucG9ydGFsSXRlbS51c2VySXRlbVVybCxcImFkZFwiPT09cyQxP1wiYWRkUmVzb3VyY2VzXCI6XCJ1cGRhdGVSZXNvdXJjZXNcIiksW2wsaV09cChyJDEucGF0aCksbT1hd2FpdCBoKG4pLGQ9bmV3IEZvcm1EYXRhO3JldHVybiBsJiZcIi5cIiE9PWwmJmQuYXBwZW5kKFwicmVzb3VyY2VzUHJlZml4XCIsbCksZC5hcHBlbmQoXCJmaWxlTmFtZVwiLGkpLGQuYXBwZW5kKFwiZmlsZVwiLG0saSksZC5hcHBlbmQoXCJmXCIsXCJqc29uXCIpLHIoYykmJmMuYWNjZXNzJiZkLmFwcGVuZChcImFjY2Vzc1wiLGMuYWNjZXNzKSxhd2FpdCByJDEucG9ydGFsSXRlbS5wb3J0YWwuX3JlcXVlc3QodSx7bWV0aG9kOlwicG9zdFwiLGJvZHk6ZCxzaWduYWw6ZyhjLFwic2lnbmFsXCIpfSksciQxfWFzeW5jIGZ1bmN0aW9uIGwodCxyLHMkMSl7aWYoIXIuaGFzUGF0aCgpKXRocm93IG5ldyBzKFwicG9ydGFsLWl0ZW0tcmVzb3VyY2VzLXJlbW92ZTppbnZhbGlkLXBhdGhcIixcIlJlc291cmNlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCBwYXRoXCIpO2F3YWl0IHQubG9hZChzJDEpO2NvbnN0IG49RCh0LnVzZXJJdGVtVXJsLFwicmVtb3ZlUmVzb3VyY2VzXCIpO2F3YWl0IHQucG9ydGFsLl9yZXF1ZXN0KG4se21ldGhvZDpcInBvc3RcIixxdWVyeTp7cmVzb3VyY2U6ci5wYXRofSxzaWduYWw6ZyhzJDEsXCJzaWduYWxcIil9KSxyLnBvcnRhbEl0ZW09bnVsbDt9YXN5bmMgZnVuY3Rpb24gaSh0LHIpe2F3YWl0IHQubG9hZChyKTtjb25zdCBhPUQodC51c2VySXRlbVVybCxcInJlbW92ZVJlc291cmNlc1wiKTtyZXR1cm4gdC5wb3J0YWwuX3JlcXVlc3QoYSx7bWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntkZWxldGVBbGw6ITB9LHNpZ25hbDpnKHIsXCJzaWduYWxcIil9KX1mdW5jdGlvbiBwKGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuIC0xPT09dD9bXCIuXCIsZV06W2Uuc2xpY2UoMCx0KSxlLnNsaWNlKHQrMSldfWZ1bmN0aW9uIG0oZSl7Y29uc3RbdCxyXT1kKGUpLFthLG9dPXAodCk7cmV0dXJuIFthLG8scl19ZnVuY3Rpb24gZChlKXtjb25zdCB0JDE9cXQoZSk7cmV0dXJuIHQodCQxKT9bZSxcIlwiXTpbZS5zbGljZSgwLGUubGVuZ3RoLXQkMS5sZW5ndGgtMSksYC4ke3QkMX1gXX1hc3luYyBmdW5jdGlvbiBoKGUpe2lmKGUgaW5zdGFuY2VvZiBCbG9iKXJldHVybiBlO3JldHVybiAoYXdhaXQgVShlLnVybCx7cmVzcG9uc2VUeXBlOlwiYmxvYlwifSkpLmRhdGF9ZnVuY3Rpb24gZihlLHQpe2lmKCFlLmhhc1BhdGgoKSlyZXR1cm4gbnVsbDtjb25zdFtyLCxhXT1tKGUucGF0aCk7cmV0dXJuIGUucG9ydGFsSXRlbS5yZXNvdXJjZUZyb21QYXRoKEQocix0K2EpKX1mdW5jdGlvbiB3KGUsdCl7aWYoIWUuaGFzUGF0aCgpKXJldHVybiBudWxsO2NvbnN0W3IsLGFdPW0oZS5wYXRoKTtyZXR1cm4gZS5wb3J0YWxJdGVtLnJlc291cmNlRnJvbVBhdGgoRChyLHQrYSkpfVxuXG5leHBvcnQgeyB1IGFzIGFkZE9yVXBkYXRlUmVzb3VyY2UsIGggYXMgY29udGVudFRvQmxvYiwgYyBhcyBmZXRjaFJlc291cmNlcywgZiBhcyBnZXRTaWJsaW5nT2ZTYW1lVHlwZSwgdyBhcyBnZXRTaWJsaW5nT2ZTYW1lVHlwZUksIGkgYXMgcmVtb3ZlQWxsUmVzb3VyY2VzLCBsIGFzIHJlbW92ZVJlc291cmNlLCBtIGFzIHNwbGl0UHJlZml4RmlsZU5hbWVBbmRFeHRlbnNpb24gfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2VVdGlscy1kMGM3NWI2MS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=