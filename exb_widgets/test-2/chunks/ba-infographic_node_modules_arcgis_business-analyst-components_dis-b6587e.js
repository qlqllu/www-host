"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-b6587e"],{

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/calcite-input-date-picker.entry.js":
/*!****************************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/calcite-input-date-picker.entry.js ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcite_input_date_picker: () => (/* binding */ InputDatePicker)
/* harmony export */ });
/* harmony import */ var _index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-4e647411.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/index-4e647411.js");
/* harmony import */ var _date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./date-d7fbf7fd.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/date-d7fbf7fd.js");
/* harmony import */ var _dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dom-f1ee4d04.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/dom-f1ee4d04.js");
/* harmony import */ var _floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./floating-ui-f29517e7.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/floating-ui-f29517e7.js");
/* harmony import */ var _form_98fe0e7c_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./form-98fe0e7c.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/form-98fe0e7c.js");
/* harmony import */ var _interactive_29995522_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./interactive-29995522.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/interactive-29995522.js");
/* harmony import */ var _key_b75491c4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./key-b75491c4.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/key-b75491c4.js");
/* harmony import */ var _label_6d1e3168_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./label-6d1e3168.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/label-6d1e3168.js");
/* harmony import */ var _loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./loadable-cc14d728.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/loadable-cc14d728.js");
/* harmony import */ var _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./locale-f7b2fbb0.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/locale-f7b2fbb0.js");
/* harmony import */ var _openCloseComponent_7d58834c_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./openCloseComponent-7d58834c.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/openCloseComponent-7d58834c.js");
/* harmony import */ var _utils_b4f95c27_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils-b4f95c27.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/utils-b4f95c27.js");


















/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */
const CSS = {
  menu: "menu-container",
  menuActive: "menu-container--active"
};

const inputDatePickerCss = "@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:inline-block;inline-size:100%;overflow:visible;vertical-align:top;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host .menu-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}:host .menu-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}:host .menu-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}:host .menu-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}:host .menu-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}:host .menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.calendar-picker-wrapper{position:static;inline-size:100%;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transform:translate3d(0, 0, 0)}.input-wrapper{position:relative}:host([range]) .input-container{display:flex}:host([range]) .input-wrapper{flex:1 1 auto}:host([range]) .horizontal-arrow-container{display:flex;align-items:center;border-width:1px;border-inline-start-width:0px;border-inline-end-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);padding-block:0px;padding-inline:0.25rem}:host([range][layout=vertical]) .input-wrapper{inline-size:100%}:host([range][layout=vertical]) .input-container{flex-direction:column;align-items:flex-start}:host([range][layout=vertical]) .calendar-picker-wrapper--end{transform:translate3d(0, 0, 0)}:host([range][layout=vertical]) .vertical-arrow-container{inset-block-start:1.5rem;position:absolute;z-index:1;margin-inline:1px;background-color:var(--calcite-ui-foreground-1);padding-inline:0.625rem;inset-inline-start:0}:host([scale=s][range]:not([layout=vertical])) .calendar-picker-wrapper{inline-size:216px}:host([scale=m][range]:not([layout=vertical])) .calendar-picker-wrapper{inline-size:286px}:host([scale=l][range]:not([layout=vertical])) .calendar-picker-wrapper{inline-size:398px}.menu-container{--calcite-floating-ui-z-index:600;display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.menu-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:transform, visibility, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:1;border-radius:0.25rem}.menu-container[data-placement^=bottom] .calcite-floating-ui-anim{transform:translateY(-5px)}.menu-container[data-placement^=top] .calcite-floating-ui-anim{transform:translateY(5px)}.menu-container[data-placement^=left] .calcite-floating-ui-anim{transform:translateX(5px)}.menu-container[data-placement^=right] .calcite-floating-ui-anim{transform:translateX(-5px)}.menu-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;transform:translate(0)}:host([open]) .menu-container{visibility:visible}.menu-container--active{visibility:visible}.input .calcite-input__wrapper{margin-block-start:0px}:host([range][layout=vertical][scale=m]) .vertical-arrow-container{inset-block-start:1.5rem;padding-inline-start:0.75rem}:host([range][layout=vertical][scale=m]) .vertical-arrow-container calcite-icon{block-size:0.75rem;inline-size:0.75rem;min-inline-size:0px}:host([range][layout=vertical][scale=l]) .vertical-arrow-container{inset-block-start:2.25rem;padding-inline:0.875rem}:host([range][layout=vertical][open]) .vertical-arrow-container{display:none}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}";

const InputDatePicker = class {
  constructor(hostRef) {
    (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.calciteInputDatePickerChange = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInputDatePickerChange", 6);
    this.calciteInputDatePickerBeforeClose = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInputDatePickerBeforeClose", 6);
    this.calciteInputDatePickerClose = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInputDatePickerClose", 6);
    this.calciteInputDatePickerBeforeOpen = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInputDatePickerBeforeOpen", 6);
    this.calciteInputDatePickerOpen = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInputDatePickerOpen", 6);
    this.calciteInternalInputInputHandler = (event) => {
      const target = event.target;
      const value = target.value;
      const parsedValue = this.parseNumerals(value);
      const formattedValue = this.formatNumerals(parsedValue);
      target.value = formattedValue;
      const { year } = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.d)(value, this.localeData);
      if (year && year.length < 4) {
        return;
      }
      const date = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.a)(value, this.localeData);
      if ((0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.i)(date, this.min, this.max)) {
        this.datePickerActiveDate = date;
      }
    };
    this.calciteInternalInputBlurHandler = () => {
      this.commitValue();
    };
    this.userChangedValue = false;
    this.openTransitionProp = "opacity";
    this.valueAsDateChangedExternally = false;
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    this.setFilteredPlacements = () => {
      const { el, flipPlacements } = this;
      this.filteredFlipPlacements = flipPlacements
        ? (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.f)(flipPlacements, el)
        : null;
    };
    this.setTransitionEl = (el) => {
      this.transitionEl = el;
      (0,_openCloseComponent_7d58834c_js__WEBPACK_IMPORTED_MODULE_3__.c)(this);
    };
    this.setStartInput = (el) => {
      this.startInput = el;
    };
    this.setEndInput = (el) => {
      this.endInput = el;
    };
    this.deactivate = () => {
      this.open = false;
    };
    this.keyDownHandler = (event) => {
      const { defaultPrevented, key } = event;
      if (key === "Enter" && !defaultPrevented) {
        this.commitValue();
        if (this.shouldFocusRangeEnd()) {
          this.endInput?.setFocus();
        }
        else if (this.shouldFocusRangeStart()) {
          this.startInput?.setFocus();
        }
        if ((0,_form_98fe0e7c_js__WEBPACK_IMPORTED_MODULE_4__.s)(this)) {
          event.preventDefault();
        }
      }
      else if (key === "Escape" && !defaultPrevented) {
        this.open = false;
        event.preventDefault();
      }
    };
    this.startInputFocus = () => {
      if (!this.readOnly) {
        this.open = true;
      }
      this.focusedInput = "start";
    };
    this.endInputFocus = () => {
      if (!this.readOnly) {
        this.open = true;
      }
      this.focusedInput = "end";
    };
    this.setFloatingEl = (el) => {
      if (el) {
        this.floatingEl = el;
        (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.c)(this, this.referenceEl, this.floatingEl);
      }
    };
    this.setStartWrapper = (el) => {
      this.startWrapper = el;
      this.setReferenceEl();
    };
    this.setEndWrapper = (el) => {
      this.endWrapper = el;
      this.setReferenceEl();
    };
    /**
     * Event handler for when the selected date changes
     *
     * @param event CalciteDatePicker custom change event
     */
    this.handleDateChange = (event) => {
      if (this.range) {
        return;
      }
      event.stopPropagation();
      this.setValue(event.target.valueAsDate);
      this.localizeInputValues();
    };
    this.handleDateRangeChange = (event) => {
      if (!this.range) {
        return;
      }
      event.stopPropagation();
      const value = event.target.valueAsDate;
      this.setRangeValue(value);
      this.localizeInputValues();
      if (this.shouldFocusRangeEnd()) {
        this.endInput?.setFocus();
      }
      else if (this.shouldFocusRangeStart()) {
        this.startInput?.setFocus();
      }
    };
    this.setInputValue = (newValue, input = "start") => {
      const inputEl = this[`${input}Input`];
      if (!inputEl) {
        return;
      }
      inputEl.value = newValue;
    };
    this.setRangeValue = (valueAsDate) => {
      if (!this.range) {
        return;
      }
      const { value: oldValue } = this;
      const oldValueIsArray = Array.isArray(oldValue);
      const valueIsArray = Array.isArray(valueAsDate);
      const newStartDate = valueIsArray ? valueAsDate[0] : null;
      const newStartDateISO = valueIsArray ? (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(newStartDate) : "";
      const newEndDate = valueIsArray ? valueAsDate[1] : null;
      const newEndDateISO = valueIsArray ? (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(newEndDate) : "";
      const newValue = newStartDateISO || newEndDateISO ? [newStartDateISO, newEndDateISO] : "";
      if (newValue === oldValue) {
        return;
      }
      this.userChangedValue = true;
      this.value = newValue;
      this.valueAsDate = newValue ? (0,_utils_b4f95c27_js__WEBPACK_IMPORTED_MODULE_5__.g)(newValue) : undefined;
      const changeEvent = this.calciteInputDatePickerChange.emit();
      if (changeEvent && changeEvent.defaultPrevented) {
        this.value = oldValue;
        if (oldValueIsArray) {
          this.setInputValue(oldValue[0], "start");
          this.setInputValue(oldValue[1], "end");
        }
        else {
          this.value = oldValue;
          this.setInputValue(oldValue);
        }
      }
    };
    this.setValue = (value) => {
      if (this.range) {
        return;
      }
      const oldValue = this.value;
      const newValue = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(value);
      if (newValue === oldValue) {
        return;
      }
      this.userChangedValue = true;
      this.valueAsDate = newValue ? (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(newValue) : undefined;
      this.value = newValue || "";
      const changeEvent = this.calciteInputDatePickerChange.emit();
      if (changeEvent.defaultPrevented) {
        this.value = oldValue;
        this.setInputValue(oldValue);
      }
    };
    this.commonDateSeparators = [".", "-", "/"];
    this.formatNumerals = (value) => value
      ? value
        .split("")
        .map((char) => this.commonDateSeparators?.includes(char)
        ? this.localeData?.separator
        : _key_b75491c4_js__WEBPACK_IMPORTED_MODULE_6__.n?.includes(char)
          ? _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.n?.numberFormatter?.format(Number(char))
          : char)
        .join("")
      : "";
    this.parseNumerals = (value) => value
      ? value
        .split("")
        .map((char) => _key_b75491c4_js__WEBPACK_IMPORTED_MODULE_6__.n.includes(char) ? _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.n.delocalize(char) : char)
        .join("")
      : "";
    this.disabled = false;
    this.readOnly = false;
    this.value = "";
    this.flipPlacements = undefined;
    this.headingLevel = undefined;
    this.valueAsDate = undefined;
    this.minAsDate = undefined;
    this.maxAsDate = undefined;
    this.min = undefined;
    this.max = undefined;
    this.open = false;
    this.name = undefined;
    this.numberingSystem = undefined;
    this.scale = "m";
    this.placement = _floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.d;
    this.range = false;
    this.required = false;
    this.overlayPositioning = "absolute";
    this.proximitySelectionDisabled = false;
    this.layout = "horizontal";
    this.messageOverrides = undefined;
    this.datePickerActiveDate = undefined;
    this.effectiveLocale = "";
    this.focusedInput = "start";
    this.globalAttributes = {};
    this.localeData = undefined;
  }
  handleDisabledAndReadOnlyChange(value) {
    if (!value) {
      this.open = false;
    }
  }
  valueWatcher(newValue) {
    if (!this.userChangedValue) {
      let newValueAsDate;
      if (Array.isArray(newValue)) {
        newValueAsDate = (0,_utils_b4f95c27_js__WEBPACK_IMPORTED_MODULE_5__.g)(newValue);
      }
      else if (newValue) {
        newValueAsDate = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(newValue);
      }
      else {
        newValueAsDate = undefined;
      }
      if (!this.valueAsDateChangedExternally && newValueAsDate !== this.valueAsDate) {
        this.valueAsDate = newValueAsDate;
      }
      this.localizeInputValues();
    }
    this.userChangedValue = false;
  }
  valueAsDateWatcher(valueAsDate) {
    this.datePickerActiveDate = valueAsDate;
    const newValue = this.range && Array.isArray(valueAsDate)
      ? [(0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(valueAsDate[0]), (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(valueAsDate[1])]
      : (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(valueAsDate);
    if (this.value !== newValue) {
      this.valueAsDateChangedExternally = true;
      this.value = newValue;
      this.valueAsDateChangedExternally = false;
    }
  }
  flipPlacementsHandler() {
    this.setFilteredPlacements();
    this.reposition(true);
  }
  onMinChanged(min) {
    if (min) {
      this.minAsDate = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(min);
    }
  }
  onMaxChanged(max) {
    if (max) {
      this.maxAsDate = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(max);
    }
  }
  openHandler(value) {
    if (this.disabled || this.readOnly) {
      if (!value) {
        (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.u)(this.floatingEl);
      }
      this.open = false;
      return;
    }
    if (value) {
      this.reposition(true);
    }
    else {
      (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.u)(this.floatingEl);
    }
  }
  overlayPositioningHandler() {
    this.reposition(true);
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  calciteDaySelectHandler() {
    if (this.shouldFocusRangeStart() || this.shouldFocusRangeEnd()) {
      return;
    }
    this.open = false;
  }
  // --------------------------------------------------------------------------
  //
  //  Public Methods
  //
  // --------------------------------------------------------------------------
  /** Sets focus on the component. */
  async setFocus() {
    await (0,_loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_8__.c)(this);
    this.el.focus();
  }
  /**
   * Updates the position of the component.
   *
   * @param delayed
   */
  async reposition(delayed = false) {
    const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;
    return (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.r)(this, {
      floatingEl,
      referenceEl,
      overlayPositioning,
      placement,
      flipPlacements: filteredFlipPlacements,
      type: "menu"
    }, delayed);
  }
  // --------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  // --------------------------------------------------------------------------
  connectedCallback() {
    (0,_locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.c)(this);
    const { open } = this;
    open && this.openHandler(open);
    if (Array.isArray(this.value)) {
      this.valueAsDate = (0,_utils_b4f95c27_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.value);
    }
    else if (this.value) {
      try {
        this.valueAsDate = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(this.value);
      }
      catch (error) {
        this.warnAboutInvalidValue(this.value);
        this.value = "";
      }
    }
    else if (this.range && this.valueAsDate) {
      this.setRangeValue(this.valueAsDate);
    }
    if (this.min) {
      this.minAsDate = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(this.min);
    }
    if (this.max) {
      this.maxAsDate = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(this.max);
    }
    (0,_label_6d1e3168_js__WEBPACK_IMPORTED_MODULE_9__.c)(this);
    (0,_form_98fe0e7c_js__WEBPACK_IMPORTED_MODULE_4__.c)(this);
    (0,_openCloseComponent_7d58834c_js__WEBPACK_IMPORTED_MODULE_3__.c)(this);
    this.setFilteredPlacements();
    this.reposition(true);
    _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.n.numberFormatOptions = {
      numberingSystem: this.numberingSystem,
      locale: this.effectiveLocale,
      useGrouping: false
    };
  }
  async componentWillLoad() {
    (0,_loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_8__.a)(this);
    await this.loadLocaleData();
    this.onMinChanged(this.min);
    this.onMaxChanged(this.max);
  }
  componentDidLoad() {
    (0,_loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_8__.s)(this);
    this.localizeInputValues();
    this.reposition(true);
  }
  disconnectedCallback() {
    (0,_label_6d1e3168_js__WEBPACK_IMPORTED_MODULE_9__.d)(this);
    (0,_form_98fe0e7c_js__WEBPACK_IMPORTED_MODULE_4__.d)(this);
    (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, this.referenceEl, this.floatingEl);
    (0,_openCloseComponent_7d58834c_js__WEBPACK_IMPORTED_MODULE_3__.d)(this);
    (0,_locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.d)(this);
  }
  componentDidRender() {
    (0,_interactive_29995522_js__WEBPACK_IMPORTED_MODULE_10__.u)(this);
  }
  render() {
    const { disabled, effectiveLocale, numberingSystem, readOnly } = this;
    _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.n.numberFormatOptions = {
      numberingSystem,
      locale: effectiveLocale,
      useGrouping: false
    };
    return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.H, { onBlur: this.deactivate, onKeyDown: this.keyDownHandler, role: "application" }, this.localeData && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { "aria-expanded": (0,_dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_11__.t)(this.open), class: "input-container", role: "application" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-wrapper", ref: this.setStartWrapper }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { class: `input ${this.layout === "vertical" && this.range ? `no-bottom-border` : ``}`, disabled: disabled, icon: "calendar", label: (0,_label_6d1e3168_js__WEBPACK_IMPORTED_MODULE_9__.g)(this), "number-button-type": "none", numberingSystem: numberingSystem, onCalciteInputInput: this.calciteInternalInputInputHandler, onCalciteInternalInputBlur: this.calciteInternalInputBlurHandler, onCalciteInternalInputFocus: this.startInputFocus, placeholder: this.localeData?.placeholder, readOnly: readOnly, ref: this.setStartInput, scale: this.scale, type: "text" })), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { "aria-hidden": (0,_dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_11__.t)(!this.open), class: {
        [CSS.menu]: true,
        [CSS.menuActive]: this.open
      }, ref: this.setFloatingEl }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: {
        ["calendar-picker-wrapper"]: true,
        ["calendar-picker-wrapper--end"]: this.focusedInput === "end",
        [_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.F.animation]: true,
        [_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.F.animationActive]: this.open
      }, ref: this.setTransitionEl }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-date-picker", { activeDate: this.datePickerActiveDate, activeRange: this.focusedInput, headingLevel: this.headingLevel, max: this.max, maxAsDate: this.maxAsDate, messageOverrides: this.messageOverrides, min: this.min, minAsDate: this.minAsDate, numberingSystem: numberingSystem, onCalciteDatePickerChange: this.handleDateChange, onCalciteDatePickerRangeChange: this.handleDateRangeChange, proximitySelectionDisabled: this.proximitySelectionDisabled, range: this.range, scale: this.scale, tabIndex: 0, valueAsDate: this.valueAsDate }))), this.range && this.layout === "horizontal" && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "horizontal-arrow-container" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { flipRtl: true, icon: "arrow-right", scale: this.scale === "l" ? "m" : "s" }))), this.range && this.layout === "vertical" && this.scale !== "s" && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "vertical-arrow-container" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: "arrow-down", scale: this.scale === "l" ? "m" : "s" }))), this.range && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-wrapper", ref: this.setEndWrapper }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { class: {
        input: true,
        "border-top-color-one": this.layout === "vertical" && this.range
      }, disabled: disabled, icon: "calendar", "number-button-type": "none", numberingSystem: numberingSystem, onCalciteInputInput: this.calciteInternalInputInputHandler, onCalciteInternalInputBlur: this.calciteInternalInputBlurHandler, onCalciteInternalInputFocus: this.endInputFocus, placeholder: this.localeData?.placeholder, readOnly: readOnly, ref: this.setEndInput, scale: this.scale, type: "text" }))))), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)(_form_98fe0e7c_js__WEBPACK_IMPORTED_MODULE_4__.H, { component: this })));
  }
  setReferenceEl() {
    const { focusedInput, layout, endWrapper, startWrapper } = this;
    this.referenceEl =
      focusedInput === "end" || layout === "vertical"
        ? endWrapper || startWrapper
        : startWrapper || endWrapper;
    (0,_floating_ui_f29517e7_js__WEBPACK_IMPORTED_MODULE_2__.c)(this, this.referenceEl, this.floatingEl);
  }
  onLabelClick() {
    this.setFocus();
  }
  onBeforeOpen() {
    this.calciteInputDatePickerBeforeOpen.emit();
  }
  onOpen() {
    this.calciteInputDatePickerOpen.emit();
  }
  onBeforeClose() {
    this.calciteInputDatePickerBeforeClose.emit();
  }
  onClose() {
    this.calciteInputDatePickerClose.emit();
  }
  commitValue() {
    const { focusedInput, value } = this;
    const focusedInputName = `${focusedInput}Input`;
    const focusedInputValue = this[focusedInputName].value;
    const date = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.a)(focusedInputValue, this.localeData);
    const dateAsISO = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.b)(date);
    const valueIsArray = Array.isArray(value);
    if (this.range) {
      const focusedInputValueIndex = focusedInput === "start" ? 0 : 1;
      if (valueIsArray) {
        if (dateAsISO === value[focusedInputValueIndex]) {
          return;
        }
        if (date) {
          this.setRangeValue([
            focusedInput === "start" ? date : (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(value[0]),
            focusedInput === "end" ? date : (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(value[1])
          ]);
          this.localizeInputValues();
        }
        else {
          this.setRangeValue([
            focusedInput === "end" && (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(value[0]),
            focusedInput === "start" && (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(value[1])
          ]);
        }
      }
      else {
        if (date) {
          this.setRangeValue([
            focusedInput === "start" ? date : (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(value[0]),
            focusedInput === "end" ? date : (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.c)(value[1])
          ]);
          this.localizeInputValues();
        }
      }
    }
    else {
      if (dateAsISO === value) {
        return;
      }
      this.setValue(date);
      this.localizeInputValues();
    }
  }
  async loadLocaleData() {
    _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.n.numberFormatOptions = {
      numberingSystem: this.numberingSystem,
      locale: this.effectiveLocale,
      useGrouping: false
    };
    this.localeData = await (0,_utils_b4f95c27_js__WEBPACK_IMPORTED_MODULE_5__.a)(this.effectiveLocale);
    this.localizeInputValues();
  }
  shouldFocusRangeStart() {
    const startValue = this.value[0] || undefined;
    const endValue = this.value[1] || undefined;
    return !!(endValue && !startValue && this.focusedInput === "end" && this.startInput);
  }
  shouldFocusRangeEnd() {
    const startValue = this.value[0] || undefined;
    const endValue = this.value[1] || undefined;
    return !!(startValue && !endValue && this.focusedInput === "start" && this.endInput);
  }
  localizeInputValues() {
    const date = (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.e)((this.range
      ? (Array.isArray(this.valueAsDate) && this.valueAsDate[0]) || undefined
      : this.valueAsDate), this.minAsDate, this.maxAsDate);
    const endDate = this.range
      ? (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_1__.e)((Array.isArray(this.valueAsDate) && this.valueAsDate[1]) || undefined, this.minAsDate, this.maxAsDate)
      : null;
    const localizedDate = date && this.formatNumerals(date.toLocaleDateString(this.effectiveLocale));
    const localizedEndDate = endDate && this.formatNumerals(endDate.toLocaleDateString(this.effectiveLocale));
    localizedDate && this.setInputValue(localizedDate, "start");
    this.range && localizedEndDate && this.setInputValue(localizedEndDate, "end");
  }
  warnAboutInvalidValue(value) {
    console.warn(`The specified value "${value}" does not conform to the required format, "YYYY-MM-DD".`);
  }
  static get delegatesFocus() { return true; }
  get el() { return (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
  static get watchers() { return {
    "disabled": ["handleDisabledAndReadOnlyChange"],
    "readOnly": ["handleDisabledAndReadOnlyChange"],
    "value": ["valueWatcher"],
    "valueAsDate": ["valueAsDateWatcher"],
    "flipPlacements": ["flipPlacementsHandler"],
    "min": ["onMinChanged"],
    "max": ["onMaxChanged"],
    "open": ["openHandler"],
    "overlayPositioning": ["overlayPositioningHandler"],
    "layout": ["setReferenceEl"],
    "focusedInput": ["setReferenceEl"],
    "effectiveLocale": ["loadLocaleData"]
  }; }
};
InputDatePicker.style = inputDatePickerCss;



//# sourceMappingURL=calcite-input-date-picker.entry.js.map

/***/ }),

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/date-d7fbf7fd.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/date-d7fbf7fd.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ dateFromLocalizedString),
/* harmony export */   b: () => (/* binding */ dateToISO),
/* harmony export */   c: () => (/* binding */ dateFromISO),
/* harmony export */   d: () => (/* binding */ datePartsFromLocalizedString),
/* harmony export */   e: () => (/* binding */ dateFromRange),
/* harmony export */   f: () => (/* binding */ sameDate),
/* harmony export */   g: () => (/* binding */ getDaysDiff),
/* harmony export */   h: () => (/* binding */ getOrder),
/* harmony export */   i: () => (/* binding */ inRange),
/* harmony export */   n: () => (/* binding */ nextMonth),
/* harmony export */   p: () => (/* binding */ prevMonth),
/* harmony export */   s: () => (/* binding */ setEndOfDay)
/* harmony export */ });
/* harmony import */ var _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./locale-f7b2fbb0.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/locale-f7b2fbb0.js");


/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */
/**
 * Check if date is within a min and max
 *
 * @param date
 * @param min
 * @param max
 */
function inRange(date, min, max) {
  if (!date) {
    return;
  }
  const time = date.getTime();
  const afterMin = !(min instanceof Date) || time >= min.getTime();
  const beforeMax = !(max instanceof Date) || time <= max.getTime();
  return afterMin && beforeMax;
}
/**
 * Ensures date is within range,
 * returns min or max if out of bounds
 *
 * @param date
 * @param min
 * @param max
 */
function dateFromRange(date, min, max) {
  if (!(date instanceof Date)) {
    return null;
  }
  const time = date.getTime();
  const beforeMin = min instanceof Date && time < min.getTime();
  const afterMax = max instanceof Date && time > max.getTime();
  if (beforeMin) {
    return min;
  }
  if (afterMax) {
    return max;
  }
  return date;
}
/**
 * Parse an iso8601 string (YYYY-mm-dd) into a valid date.
 * TODO: handle time when time of day UI is added
 *
 * @param iso8601
 * @param isEndDate
 */
function dateFromISO(iso8601, isEndDate = false) {
  if (iso8601 instanceof Date) {
    return iso8601;
  }
  if (!iso8601 || typeof iso8601 !== "string") {
    return null;
  }
  const d = iso8601.split(/[: T-]/).map(parseFloat);
  const date = new Date(d[0], (d[1] || 1) - 1, d[2] || 1);
  date.setFullYear(d[0]);
  if (isNaN(date.getTime())) {
    throw new Error(`Invalid ISO 8601 date: "${iso8601}"`);
  }
  if (isEndDate) {
    return setEndOfDay(date);
  }
  return date;
}
/**
 * Parse a localized date string into a valid Date.
 * return false if date is invalid, or out of range
 *
 * @param value
 * @param localeData
 */
function dateFromLocalizedString(value, localeData) {
  if (!localeData) {
    return null;
  }
  const { separator } = localeData;
  const { day, month, year } = parseDateString(value, localeData);
  const date = new Date(year, month, day);
  date.setFullYear(year);
  const validDay = day > 0;
  const validMonth = month > -1;
  const validDate = !isNaN(date.getTime());
  const validLength = value.split(separator).filter((c) => c).length > 2;
  const validYear = year.toString().length > 0;
  if (validDay && validMonth && validDate && validLength && validYear) {
    return date;
  }
  return null;
}
/**
 * Retrieve day, month, and year strings from a localized string
 *
 * @param string
 * @param localeData
 */
function datePartsFromLocalizedString(string, localeData) {
  const { separator, unitOrder } = localeData;
  const order = getOrder(unitOrder);
  const values = string.split(separator).map((part) => _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_0__.n.delocalize(part));
  const day = values[order.indexOf("d")];
  const month = values[order.indexOf("m")];
  const year = values[order.indexOf("y")];
  return { day, month, year };
}
/**
 * Return first portion of ISO string (YYYY-mm-dd)
 *
 * @param date
 */
function dateToISO(date) {
  if (date instanceof Date) {
    return new Date(date.getTime() - date.getTimezoneOffset() * 60000).toISOString().split("T")[0];
  }
  return "";
}
/**
 * Check if two dates are the same day, month, year
 *
 * @param d1
 * @param d2
 */
function sameDate(d1, d2) {
  return (d1 instanceof Date &&
    d2 instanceof Date &&
    d1.getDate() === d2.getDate() &&
    d1.getMonth() === d2.getMonth() &&
    d1.getFullYear() === d2.getFullYear());
}
/**
 * Get a date one month in the past
 *
 * @param date
 */
function prevMonth(date) {
  const month = date.getMonth();
  const nextDate = new Date(date);
  nextDate.setMonth(month - 1);
  // date doesn't exist in new month, use last day
  if (month === nextDate.getMonth()) {
    return new Date(date.getFullYear(), month, 0);
  }
  return nextDate;
}
/**
 * Get a date one month in the future
 *
 * @param date
 */
function nextMonth(date) {
  const month = date.getMonth();
  const nextDate = new Date(date);
  nextDate.setMonth(month + 1);
  // date doesn't exist in new month, use last day
  if ((month + 2) % 7 === nextDate.getMonth() % 7) {
    return new Date(date.getFullYear(), month + 2, 0);
  }
  return nextDate;
}
/**
 * Parse numeric units for day, month, and year from a localized string
 * month starts at 0 (can pass to date constructor)
 * can return values as number or string
 *
 * @param string
 * @param localeData
 */
function parseDateString(string, localeData) {
  const { day, month, year } = datePartsFromLocalizedString(string, localeData);
  return {
    day: parseInt(day),
    month: parseInt(month) - 1,
    year: parseInt(year)
  };
}
/**
 * Based on the unitOrder string, find order of month, day, and year for locale
 *
 * @param unitOrder
 */
function getOrder(unitOrder) {
  const signifiers = ["d", "m", "y"];
  const order = unitOrder.toLowerCase();
  return signifiers.sort((a, b) => order.indexOf(a) - order.indexOf(b));
}
/**
 * Get number of days between two dates
 *
 * @param date1
 * @param date2
 */
function getDaysDiff(date1, date2) {
  const ts1 = date1.getTime();
  const ts2 = date2.getTime();
  return (ts1 - ts2) / (1000 * 3600 * 24);
}
/**
 * Set time of the day to the end.
 *
 * @param {Date} date Date.
 * @returns {Date} Date with time set to end of day .
 */
function setEndOfDay(date) {
  date.setHours(23, 59, 59, 999);
  return date;
}



//# sourceMappingURL=date-d7fbf7fd.js.map

/***/ }),

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/utils-b4f95c27.js":
/*!***********************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/utils-b4f95c27.js ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ getLocaleData),
/* harmony export */   g: () => (/* binding */ getValueAsDateRange)
/* harmony export */ });
/* harmony import */ var _index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-4e647411.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/index-4e647411.js");
/* harmony import */ var _date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./date-d7fbf7fd.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/date-d7fbf7fd.js");
/* harmony import */ var _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./locale-f7b2fbb0.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/locale-f7b2fbb0.js");




/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */
/**
 * CLDR cache.
 * Exported for testing purposes.
 *
 * @private
 */
const translationCache = {};
/**
 * CLDR request cache.
 * Exported for testing purposes.
 *
 * @private
 */
const requestCache = {};
/**
 * Fetch calendar data for a given locale from list of supported languages
 *
 * @param lang
 * @public
 */
async function getLocaleData(lang) {
  const locale = (0,_locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_0__.g)(lang);
  if (translationCache[locale]) {
    return translationCache[locale];
  }
  if (!requestCache[locale]) {
    requestCache[locale] = fetch((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.a)(`./assets/date-picker/nls/${locale}.json`))
      .then((resp) => resp.json())
      .catch(() => {
      console.error(`Translations for "${locale}" not found or invalid, falling back to english`);
      return getLocaleData("en");
    });
  }
  const data = await requestCache[locale];
  translationCache[locale] = data;
  return data;
}
/**
 *  Maps value to valueAsDate
 *
 * @param value
 */
function getValueAsDateRange(value) {
  return value.map((v, index) => (0,_date_d7fbf7fd_js__WEBPACK_IMPORTED_MODULE_2__.c)(v, index === 1));
}



//# sourceMappingURL=utils-b4f95c27.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYmEtaW5mb2dyYXBoaWNfbm9kZV9tb2R1bGVzX2FyY2dpc19idXNpbmVzcy1hbmFseXN0LWNvbXBvbmVudHNfZGlzLWI2NTg3ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZHO0FBQzREO0FBQ2xIO0FBQzJKO0FBQzVGO0FBQy9DO0FBQ25CO0FBQzZDO0FBQ21CO0FBQ0Q7QUFDRTtBQUNsQztBQUNsRDtBQUNMO0FBQ0s7QUFDRDtBQUNDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDLEdBQUcsVUFBVSxLQUFLLFdBQVcsbUJBQW1CLEdBQUcsVUFBVSxrQ0FBa0MsS0FBSyxVQUFVLGdDQUFnQyxpQkFBaUIsR0FBRyxVQUFVLGlDQUFpQyxLQUFLLFVBQVUsZ0NBQWdDLG9CQUFvQixHQUFHLFVBQVUsaUNBQWlDLEtBQUssVUFBVSw0QkFBNEIsTUFBTSxpRkFBaUYscUVBQXFFLCtGQUErRixpR0FBaUcsK0ZBQStGLGlCQUFpQixVQUFVLHlCQUF5QixtREFBbUQscUJBQXFCLGtCQUFrQiwwQkFBMEIsdUJBQXVCLHdCQUF3QixxQkFBcUIsMkJBQTJCLHdCQUF3Qix3Q0FBd0MsTUFBTSxzQ0FBc0MsTUFBTSx5QkFBeUIsa0NBQWtDLGtDQUFrQyw4QkFBOEIseUNBQXlDLHVCQUF1Qix1Q0FBdUMsbUNBQW1DLDhCQUE4QiwrQkFBK0IsaUNBQWlDLGlDQUFpQyxNQUFNLGlFQUFpRSxrQ0FBa0MsZ0JBQWdCLGFBQWEsa0JBQWtCLG9CQUFvQixlQUFlLHlCQUF5QixpQkFBaUIsMkNBQTJDLE1BQU0sa0JBQWtCLHFCQUFxQixpQkFBaUIsaUJBQWlCLG1CQUFtQixzQkFBc0IsOEJBQThCLHVHQUF1RyxnREFBZ0Qsa0JBQWtCLGlEQUFpRCxtREFBbUQsVUFBVSwwQ0FBMEMsVUFBVSxzQkFBc0Isd0VBQXdFLDJCQUEyQixxRUFBcUUsMEJBQTBCLHNFQUFzRSww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a0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscURBQVksNkJBQTZCLE9BQU87QUFDakY7QUFDQTtBQUNBLHlDQUF5QyxPQUFPO0FBQ2hEO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQVc7QUFDNUM7O0FBRXdEOztBQUV4RCIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYmEtaW5mb2dyYXBoaWMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYnVzaW5lc3MtYW5hbHlzdC1jb21wb25lbnRzL2Rpc3Qvc3RlbmNpbC1jb21wb25lbnRzL2Rpc3QvZXNtL2NhbGNpdGUtaW5wdXQtZGF0ZS1waWNrZXIuZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9iYS1pbmZvZ3JhcGhpYy9ub2RlX21vZHVsZXMvQGFyY2dpcy9idXNpbmVzcy1hbmFseXN0LWNvbXBvbmVudHMvZGlzdC9zdGVuY2lsLWNvbXBvbmVudHMvZGlzdC9lc20vZGF0ZS1kN2ZiZjdmZC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2JhLWluZm9ncmFwaGljL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2J1c2luZXNzLWFuYWx5c3QtY29tcG9uZW50cy9kaXN0L3N0ZW5jaWwtY29tcG9uZW50cy9kaXN0L2VzbS91dGlscy1iNGY5NWMyNy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCwgZyBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC00ZTY0NzQxMS5qcyc7XG5pbXBvcnQgeyBkIGFzIGRhdGVQYXJ0c0Zyb21Mb2NhbGl6ZWRTdHJpbmcsIGEgYXMgZGF0ZUZyb21Mb2NhbGl6ZWRTdHJpbmcsIGkgYXMgaW5SYW5nZSwgYiBhcyBkYXRlVG9JU08sIGMgYXMgZGF0ZUZyb21JU08sIGUgYXMgZGF0ZUZyb21SYW5nZSB9IGZyb20gJy4vZGF0ZS1kN2ZiZjdmZC5qcyc7XG5pbXBvcnQgeyB0IGFzIHRvQXJpYUJvb2xlYW4gfSBmcm9tICcuL2RvbS1mMWVlNGQwNC5qcyc7XG5pbXBvcnQgeyBmIGFzIGZpbHRlckNvbXB1dGVkUGxhY2VtZW50cywgYyBhcyBjb25uZWN0RmxvYXRpbmdVSSwgZCBhcyBkZWZhdWx0TWVudVBsYWNlbWVudCwgdSBhcyB1cGRhdGVBZnRlckNsb3NlLCByIGFzIHJlcG9zaXRpb24sIGEgYXMgZGlzY29ubmVjdEZsb2F0aW5nVUksIEYgYXMgRmxvYXRpbmdDU1MgfSBmcm9tICcuL2Zsb2F0aW5nLXVpLWYyOTUxN2U3LmpzJztcbmltcG9ydCB7IHMgYXMgc3VibWl0Rm9ybSwgYyBhcyBjb25uZWN0Rm9ybSwgZCBhcyBkaXNjb25uZWN0Rm9ybSwgSCBhcyBIaWRkZW5Gb3JtSW5wdXRTbG90IH0gZnJvbSAnLi9mb3JtLTk4ZmUwZTdjLmpzJztcbmltcG9ydCB7IHUgYXMgdXBkYXRlSG9zdEludGVyYWN0aW9uIH0gZnJvbSAnLi9pbnRlcmFjdGl2ZS0yOTk5NTUyMi5qcyc7XG5pbXBvcnQgeyBuIGFzIG51bWJlcktleXMgfSBmcm9tICcuL2tleS1iNzU0OTFjNC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RMYWJlbCwgZCBhcyBkaXNjb25uZWN0TGFiZWwsIGcgYXMgZ2V0TGFiZWxUZXh0IH0gZnJvbSAnLi9sYWJlbC02ZDFlMzE2OC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbXBvbmVudExvYWRlZCwgYSBhcyBzZXRVcExvYWRhYmxlQ29tcG9uZW50LCBzIGFzIHNldENvbXBvbmVudExvYWRlZCB9IGZyb20gJy4vbG9hZGFibGUtY2MxNGQ3MjguanMnO1xuaW1wb3J0IHsgbiBhcyBudW1iZXJTdHJpbmdGb3JtYXR0ZXIsIGMgYXMgY29ubmVjdExvY2FsaXplZCwgZCBhcyBkaXNjb25uZWN0TG9jYWxpemVkIH0gZnJvbSAnLi9sb2NhbGUtZjdiMmZiYjAuanMnO1xuaW1wb3J0IHsgYyBhcyBjb25uZWN0T3BlbkNsb3NlQ29tcG9uZW50LCBkIGFzIGRpc2Nvbm5lY3RPcGVuQ2xvc2VDb21wb25lbnQgfSBmcm9tICcuL29wZW5DbG9zZUNvbXBvbmVudC03ZDU4ODM0Yy5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFZhbHVlQXNEYXRlUmFuZ2UsIGEgYXMgZ2V0TG9jYWxlRGF0YSB9IGZyb20gJy4vdXRpbHMtYjRmOTVjMjcuanMnO1xuaW1wb3J0ICcuL2luZGV4LmVzbS0xYzY1ZDhjNy5qcyc7XG5pbXBvcnQgJy4vZ3VpZC04OGEzNzI5Zi5qcyc7XG5pbXBvcnQgJy4vcmVzb3VyY2VzLTQ4NDM2ZWVhLmpzJztcbmltcG9ydCAnLi9kZWJvdW5jZS0wNDdlMDlmNC5qcyc7XG5pbXBvcnQgJy4vb2JzZXJ2ZXJzLTU2NzQwZTk5LmpzJztcblxuLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtY29tcG9uZW50cy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjEuMC41XG4gKi9cbmNvbnN0IENTUyA9IHtcbiAgbWVudTogXCJtZW51LWNvbnRhaW5lclwiLFxuICBtZW51QWN0aXZlOiBcIm1lbnUtY29udGFpbmVyLS1hY3RpdmVcIlxufTtcblxuY29uc3QgaW5wdXREYXRlUGlja2VyQ3NzID0gXCJAa2V5ZnJhbWVzIGluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19QGtleWZyYW1lcyBpbi1kb3duezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgLTVweCwgMCl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZTNEKDAsIDAsIDApfX1Aa2V5ZnJhbWVzIGluLXVwezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgNXB4LCAwKX0xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgMCwgMCl9fUBrZXlmcmFtZXMgaW4tc2NhbGV7MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZTNEKDAuOTUsIDAuOTUsIDEpfTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZTNEKDEsIDEsIDEpfX06cm9vdHstLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZzpjYWxjKDE1MG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yOnZhcigtLWNhbGNpdGUtZHVyYXRpb24tZmFjdG9yLCAxKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1mYXN0OmNhbGMoMTAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpOy0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLW1lZGl1bTpjYWxjKDIwMG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1zbG93OmNhbGMoMzAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpfS5jYWxjaXRlLWFuaW1hdGV7b3BhY2l0eTowO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aDthbmltYXRpb24tZHVyYXRpb246dmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKX0uY2FsY2l0ZS1hbmltYXRlX19pbnthbmltYXRpb24tbmFtZTppbn0uY2FsY2l0ZS1hbmltYXRlX19pbi1kb3due2FuaW1hdGlvbi1uYW1lOmluLWRvd259LmNhbGNpdGUtYW5pbWF0ZV9faW4tdXB7YW5pbWF0aW9uLW5hbWU6aW4tdXB9LmNhbGNpdGUtYW5pbWF0ZV9faW4tc2NhbGV7YW5pbWF0aW9uLW5hbWU6aW4tc2NhbGV9QG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2Upezpyb290ey0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3I6MH19Omhvc3R7LS1jYWxjaXRlLWljb24tc2l6ZToxcmVtOy0tY2FsY2l0ZS1zcGFjaW5nLWVpZ2h0aDowLjEyNXJlbTstLWNhbGNpdGUtc3BhY2luZy1xdWFydGVyOjAuMjVyZW07LS1jYWxjaXRlLXNwYWNpbmctaGFsZjowLjVyZW07LS1jYWxjaXRlLXNwYWNpbmctdGhyZWUtcXVhcnRlcnM6MC43NXJlbTstLWNhbGNpdGUtc3BhY2luZzoxcmVtOy0tY2FsY2l0ZS1zcGFjaW5nLXBsdXMtcXVhcnRlcjoxLjI1cmVtOy0tY2FsY2l0ZS1zcGFjaW5nLXBsdXMtaGFsZjoxLjVyZW07LS1jYWxjaXRlLXNwYWNpbmctZG91YmxlOjJyZW07LS1jYWxjaXRlLW1lbnUtbWluLXdpZHRoOjEwcmVtOy0tY2FsY2l0ZS1oZWFkZXItbWluLWhlaWdodDozcmVtOy0tY2FsY2l0ZS1mb290ZXItbWluLWhlaWdodDozcmVtfTpyb290ey0tY2FsY2l0ZS1mbG9hdGluZy11aS10cmFuc2l0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyk7LS1jYWxjaXRlLWZsb2F0aW5nLXVpLXotaW5kZXg6NjAwfTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9Omhvc3QoW2Rpc2FibGVkXSl7cG9pbnRlci1ldmVudHM6bm9uZTtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtvcGFjaXR5OnZhcigtLWNhbGNpdGUtdWktb3BhY2l0eS1kaXNhYmxlZCl9Omhvc3R7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7aW5saW5lLXNpemU6MTAwJTtvdmVyZmxvdzp2aXNpYmxlO3ZlcnRpY2FsLWFsaWduOnRvcDstLXR3LXNoYWRvdzowIDAgIzAwMDA7LS10dy1zaGFkb3ctY29sb3JlZDowIDAgIzAwMDA7Ym94LXNoYWRvdzp2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXJpbmctc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1zaGFkb3cpfTpob3N0IC5tZW51LWNvbnRhaW5lciAuY2FsY2l0ZS1mbG9hdGluZy11aS1hbmlte3Bvc2l0aW9uOnJlbGF0aXZlO3RyYW5zaXRpb246dmFyKC0tY2FsY2l0ZS1mbG9hdGluZy11aS10cmFuc2l0aW9uKTt0cmFuc2l0aW9uLXByb3BlcnR5OnRyYW5zZm9ybSwgdmlzaWJpbGl0eSwgb3BhY2l0eTtvcGFjaXR5OjA7Ym94LXNoYWRvdzowIDAgMTZweCAwIHJnYmEoMCwgMCwgMCwgMC4xNik7ei1pbmRleDoxO2JvcmRlci1yYWRpdXM6MC4yNXJlbX06aG9zdCAubWVudS1jb250YWluZXJbZGF0YS1wbGFjZW1lbnRePWJvdHRvbV0gLmNhbGNpdGUtZmxvYXRpbmctdWktYW5pbXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNXB4KX06aG9zdCAubWVudS1jb250YWluZXJbZGF0YS1wbGFjZW1lbnRePXRvcF0gLmNhbGNpdGUtZmxvYXRpbmctdWktYW5pbXt0cmFuc2Zvcm06dHJhbnNsYXRlWSg1cHgpfTpob3N0IC5tZW51LWNvbnRhaW5lcltkYXRhLXBsYWNlbWVudF49bGVmdF0gLmNhbGNpdGUtZmxvYXRpbmctdWktYW5pbXt0cmFuc2Zvcm06dHJhbnNsYXRlWCg1cHgpfTpob3N0IC5tZW51LWNvbnRhaW5lcltkYXRhLXBsYWNlbWVudF49cmlnaHRdIC5jYWxjaXRlLWZsb2F0aW5nLXVpLWFuaW17dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCl9Omhvc3QgLm1lbnUtY29udGFpbmVyW2RhdGEtcGxhY2VtZW50XSAuY2FsY2l0ZS1mbG9hdGluZy11aS1hbmltLS1hY3RpdmV7b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCl9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfS5jYWxlbmRhci1waWNrZXItd3JhcHBlcntwb3NpdGlvbjpzdGF0aWM7aW5saW5lLXNpemU6MTAwJTstLXR3LXNoYWRvdzowIDAgIzAwMDA7LS10dy1zaGFkb3ctY29sb3JlZDowIDAgIzAwMDA7Ym94LXNoYWRvdzp2YXIoLS10dy1yaW5nLW9mZnNldC1zaGFkb3csIDAgMCAjMDAwMCksIHZhcigtLXR3LXJpbmctc2hhZG93LCAwIDAgIzAwMDApLCB2YXIoLS10dy1zaGFkb3cpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAwLCAwKX0uaW5wdXQtd3JhcHBlcntwb3NpdGlvbjpyZWxhdGl2ZX06aG9zdChbcmFuZ2VdKSAuaW5wdXQtY29udGFpbmVye2Rpc3BsYXk6ZmxleH06aG9zdChbcmFuZ2VdKSAuaW5wdXQtd3JhcHBlcntmbGV4OjEgMSBhdXRvfTpob3N0KFtyYW5nZV0pIC5ob3Jpem9udGFsLWFycm93LWNvbnRhaW5lcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLWlubGluZS1zdGFydC13aWR0aDowcHg7Ym9yZGVyLWlubGluZS1lbmQtd2lkdGg6MHB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItaW5wdXQpO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1iYWNrZ3JvdW5kKTtwYWRkaW5nLWJsb2NrOjBweDtwYWRkaW5nLWlubGluZTowLjI1cmVtfTpob3N0KFtyYW5nZV1bbGF5b3V0PXZlcnRpY2FsXSkgLmlucHV0LXdyYXBwZXJ7aW5saW5lLXNpemU6MTAwJX06aG9zdChbcmFuZ2VdW2xheW91dD12ZXJ0aWNhbF0pIC5pbnB1dC1jb250YWluZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmZsZXgtc3RhcnR9Omhvc3QoW3JhbmdlXVtsYXlvdXQ9dmVydGljYWxdKSAuY2FsZW5kYXItcGlja2VyLXdyYXBwZXItLWVuZHt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgMCwgMCl9Omhvc3QoW3JhbmdlXVtsYXlvdXQ9dmVydGljYWxdKSAudmVydGljYWwtYXJyb3ctY29udGFpbmVye2luc2V0LWJsb2NrLXN0YXJ0OjEuNXJlbTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7bWFyZ2luLWlubGluZToxcHg7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSk7cGFkZGluZy1pbmxpbmU6MC42MjVyZW07aW5zZXQtaW5saW5lLXN0YXJ0OjB9Omhvc3QoW3NjYWxlPXNdW3JhbmdlXTpub3QoW2xheW91dD12ZXJ0aWNhbF0pKSAuY2FsZW5kYXItcGlja2VyLXdyYXBwZXJ7aW5saW5lLXNpemU6MjE2cHh9Omhvc3QoW3NjYWxlPW1dW3JhbmdlXTpub3QoW2xheW91dD12ZXJ0aWNhbF0pKSAuY2FsZW5kYXItcGlja2VyLXdyYXBwZXJ7aW5saW5lLXNpemU6Mjg2cHh9Omhvc3QoW3NjYWxlPWxdW3JhbmdlXTpub3QoW2xheW91dD12ZXJ0aWNhbF0pKSAuY2FsZW5kYXItcGlja2VyLXdyYXBwZXJ7aW5saW5lLXNpemU6Mzk4cHh9Lm1lbnUtY29udGFpbmVyey0tY2FsY2l0ZS1mbG9hdGluZy11aS16LWluZGV4OjYwMDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6dmFyKC0tY2FsY2l0ZS1mbG9hdGluZy11aS16LWluZGV4KTt2aXNpYmlsaXR5OmhpZGRlbn0ubWVudS1jb250YWluZXIgLmNhbGNpdGUtZmxvYXRpbmctdWktYW5pbXtwb3NpdGlvbjpyZWxhdGl2ZTt0cmFuc2l0aW9uOnZhcigtLWNhbGNpdGUtZmxvYXRpbmctdWktdHJhbnNpdGlvbik7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0sIHZpc2liaWxpdHksIG9wYWNpdHk7b3BhY2l0eTowO2JveC1zaGFkb3c6MCAwIDE2cHggMCByZ2JhKDAsIDAsIDAsIDAuMTYpO3otaW5kZXg6MTtib3JkZXItcmFkaXVzOjAuMjVyZW19Lm1lbnUtY29udGFpbmVyW2RhdGEtcGxhY2VtZW50Xj1ib3R0b21dIC5jYWxjaXRlLWZsb2F0aW5nLXVpLWFuaW17dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTVweCl9Lm1lbnUtY29udGFpbmVyW2RhdGEtcGxhY2VtZW50Xj10b3BdIC5jYWxjaXRlLWZsb2F0aW5nLXVpLWFuaW17dHJhbnNmb3JtOnRyYW5zbGF0ZVkoNXB4KX0ubWVudS1jb250YWluZXJbZGF0YS1wbGFjZW1lbnRePWxlZnRdIC5jYWxjaXRlLWZsb2F0aW5nLXVpLWFuaW17dHJhbnNmb3JtOnRyYW5zbGF0ZVgoNXB4KX0ubWVudS1jb250YWluZXJbZGF0YS1wbGFjZW1lbnRePXJpZ2h0XSAuY2FsY2l0ZS1mbG9hdGluZy11aS1hbmlte3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01cHgpfS5tZW51LWNvbnRhaW5lcltkYXRhLXBsYWNlbWVudF0gLmNhbGNpdGUtZmxvYXRpbmctdWktYW5pbS0tYWN0aXZle29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlKDApfTpob3N0KFtvcGVuXSkgLm1lbnUtY29udGFpbmVye3Zpc2liaWxpdHk6dmlzaWJsZX0ubWVudS1jb250YWluZXItLWFjdGl2ZXt2aXNpYmlsaXR5OnZpc2libGV9LmlucHV0IC5jYWxjaXRlLWlucHV0X193cmFwcGVye21hcmdpbi1ibG9jay1zdGFydDowcHh9Omhvc3QoW3JhbmdlXVtsYXlvdXQ9dmVydGljYWxdW3NjYWxlPW1dKSAudmVydGljYWwtYXJyb3ctY29udGFpbmVye2luc2V0LWJsb2NrLXN0YXJ0OjEuNXJlbTtwYWRkaW5nLWlubGluZS1zdGFydDowLjc1cmVtfTpob3N0KFtyYW5nZV1bbGF5b3V0PXZlcnRpY2FsXVtzY2FsZT1tXSkgLnZlcnRpY2FsLWFycm93LWNvbnRhaW5lciBjYWxjaXRlLWljb257YmxvY2stc2l6ZTowLjc1cmVtO2lubGluZS1zaXplOjAuNzVyZW07bWluLWlubGluZS1zaXplOjBweH06aG9zdChbcmFuZ2VdW2xheW91dD12ZXJ0aWNhbF1bc2NhbGU9bF0pIC52ZXJ0aWNhbC1hcnJvdy1jb250YWluZXJ7aW5zZXQtYmxvY2stc3RhcnQ6Mi4yNXJlbTtwYWRkaW5nLWlubGluZTowLjg3NXJlbX06aG9zdChbcmFuZ2VdW2xheW91dD12ZXJ0aWNhbF1bb3Blbl0pIC52ZXJ0aWNhbC1hcnJvdy1jb250YWluZXJ7ZGlzcGxheTpub25lfTo6c2xvdHRlZChpbnB1dFtzbG90PWhpZGRlbi1mb3JtLWlucHV0XSl7bWFyZ2luOjAgIWltcG9ydGFudDtvcGFjaXR5OjAgIWltcG9ydGFudDtvdXRsaW5lOm5vbmUgIWltcG9ydGFudDtwYWRkaW5nOjAgIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSAhaW1wb3J0YW50O2luc2V0OjAgIWltcG9ydGFudDt0cmFuc2Zvcm06bm9uZSAhaW1wb3J0YW50Oy13ZWJraXQtYXBwZWFyYW5jZTpub25lICFpbXBvcnRhbnQ7ei1pbmRleDotMSAhaW1wb3J0YW50fVwiO1xuXG5jb25zdCBJbnB1dERhdGVQaWNrZXIgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xyXG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcclxuICAgIHRoaXMuY2FsY2l0ZUlucHV0RGF0ZVBpY2tlckNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0RGF0ZVBpY2tlckNoYW5nZVwiLCA2KTtcclxuICAgIHRoaXMuY2FsY2l0ZUlucHV0RGF0ZVBpY2tlckJlZm9yZUNsb3NlID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW5wdXREYXRlUGlja2VyQmVmb3JlQ2xvc2VcIiwgNik7XHJcbiAgICB0aGlzLmNhbGNpdGVJbnB1dERhdGVQaWNrZXJDbG9zZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0RGF0ZVBpY2tlckNsb3NlXCIsIDYpO1xyXG4gICAgdGhpcy5jYWxjaXRlSW5wdXREYXRlUGlja2VyQmVmb3JlT3BlbiA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUlucHV0RGF0ZVBpY2tlckJlZm9yZU9wZW5cIiwgNik7XHJcbiAgICB0aGlzLmNhbGNpdGVJbnB1dERhdGVQaWNrZXJPcGVuID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW5wdXREYXRlUGlja2VyT3BlblwiLCA2KTtcclxuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsSW5wdXRJbnB1dEhhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldC52YWx1ZTtcclxuICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSB0aGlzLnBhcnNlTnVtZXJhbHModmFsdWUpO1xyXG4gICAgICBjb25zdCBmb3JtYXR0ZWRWYWx1ZSA9IHRoaXMuZm9ybWF0TnVtZXJhbHMocGFyc2VkVmFsdWUpO1xyXG4gICAgICB0YXJnZXQudmFsdWUgPSBmb3JtYXR0ZWRWYWx1ZTtcclxuICAgICAgY29uc3QgeyB5ZWFyIH0gPSBkYXRlUGFydHNGcm9tTG9jYWxpemVkU3RyaW5nKHZhbHVlLCB0aGlzLmxvY2FsZURhdGEpO1xyXG4gICAgICBpZiAoeWVhciAmJiB5ZWFyLmxlbmd0aCA8IDQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgZGF0ZSA9IGRhdGVGcm9tTG9jYWxpemVkU3RyaW5nKHZhbHVlLCB0aGlzLmxvY2FsZURhdGEpO1xyXG4gICAgICBpZiAoaW5SYW5nZShkYXRlLCB0aGlzLm1pbiwgdGhpcy5tYXgpKSB7XHJcbiAgICAgICAgdGhpcy5kYXRlUGlja2VyQWN0aXZlRGF0ZSA9IGRhdGU7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbElucHV0Qmx1ckhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29tbWl0VmFsdWUoKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnVzZXJDaGFuZ2VkVmFsdWUgPSBmYWxzZTtcclxuICAgIHRoaXMub3BlblRyYW5zaXRpb25Qcm9wID0gXCJvcGFjaXR5XCI7XHJcbiAgICB0aGlzLnZhbHVlQXNEYXRlQ2hhbmdlZEV4dGVybmFsbHkgPSBmYWxzZTtcclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIC8vXHJcbiAgICAvLyAgUHJpdmF0ZSBNZXRob2RzXHJcbiAgICAvL1xyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgdGhpcy5zZXRGaWx0ZXJlZFBsYWNlbWVudHMgPSAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZWwsIGZsaXBQbGFjZW1lbnRzIH0gPSB0aGlzO1xyXG4gICAgICB0aGlzLmZpbHRlcmVkRmxpcFBsYWNlbWVudHMgPSBmbGlwUGxhY2VtZW50c1xyXG4gICAgICAgID8gZmlsdGVyQ29tcHV0ZWRQbGFjZW1lbnRzKGZsaXBQbGFjZW1lbnRzLCBlbClcclxuICAgICAgICA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRUcmFuc2l0aW9uRWwgPSAoZWwpID0+IHtcclxuICAgICAgdGhpcy50cmFuc2l0aW9uRWwgPSBlbDtcclxuICAgICAgY29ubmVjdE9wZW5DbG9zZUNvbXBvbmVudCh0aGlzKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnNldFN0YXJ0SW5wdXQgPSAoZWwpID0+IHtcclxuICAgICAgdGhpcy5zdGFydElucHV0ID0gZWw7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRFbmRJbnB1dCA9IChlbCkgPT4ge1xyXG4gICAgICB0aGlzLmVuZElucHV0ID0gZWw7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5kZWFjdGl2YXRlID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcclxuICAgIH07XHJcbiAgICB0aGlzLmtleURvd25IYW5kbGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZGVmYXVsdFByZXZlbnRlZCwga2V5IH0gPSBldmVudDtcclxuICAgICAgaWYgKGtleSA9PT0gXCJFbnRlclwiICYmICFkZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICAgICAgdGhpcy5jb21taXRWYWx1ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZEZvY3VzUmFuZ2VFbmQoKSkge1xyXG4gICAgICAgICAgdGhpcy5lbmRJbnB1dD8uc2V0Rm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zaG91bGRGb2N1c1JhbmdlU3RhcnQoKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGFydElucHV0Py5zZXRGb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3VibWl0Rm9ybSh0aGlzKSkge1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIkVzY2FwZVwiICYmICFkZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuc3RhcnRJbnB1dEZvY3VzID0gKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMucmVhZE9ubHkpIHtcclxuICAgICAgICB0aGlzLm9wZW4gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZm9jdXNlZElucHV0ID0gXCJzdGFydFwiO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZW5kSW5wdXRGb2N1cyA9ICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnJlYWRPbmx5KSB7XHJcbiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmZvY3VzZWRJbnB1dCA9IFwiZW5kXCI7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRGbG9hdGluZ0VsID0gKGVsKSA9PiB7XHJcbiAgICAgIGlmIChlbCkge1xyXG4gICAgICAgIHRoaXMuZmxvYXRpbmdFbCA9IGVsO1xyXG4gICAgICAgIGNvbm5lY3RGbG9hdGluZ1VJKHRoaXMsIHRoaXMucmVmZXJlbmNlRWwsIHRoaXMuZmxvYXRpbmdFbCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLnNldFN0YXJ0V3JhcHBlciA9IChlbCkgPT4ge1xyXG4gICAgICB0aGlzLnN0YXJ0V3JhcHBlciA9IGVsO1xyXG4gICAgICB0aGlzLnNldFJlZmVyZW5jZUVsKCk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRFbmRXcmFwcGVyID0gKGVsKSA9PiB7XHJcbiAgICAgIHRoaXMuZW5kV3JhcHBlciA9IGVsO1xyXG4gICAgICB0aGlzLnNldFJlZmVyZW5jZUVsKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciB3aGVuIHRoZSBzZWxlY3RlZCBkYXRlIGNoYW5nZXNcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZXZlbnQgQ2FsY2l0ZURhdGVQaWNrZXIgY3VzdG9tIGNoYW5nZSBldmVudFxyXG4gICAgICovXHJcbiAgICB0aGlzLmhhbmRsZURhdGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKHRoaXMucmFuZ2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIHRoaXMuc2V0VmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlQXNEYXRlKTtcclxuICAgICAgdGhpcy5sb2NhbGl6ZUlucHV0VmFsdWVzKCk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5oYW5kbGVEYXRlUmFuZ2VDaGFuZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZUFzRGF0ZTtcclxuICAgICAgdGhpcy5zZXRSYW5nZVZhbHVlKHZhbHVlKTtcclxuICAgICAgdGhpcy5sb2NhbGl6ZUlucHV0VmFsdWVzKCk7XHJcbiAgICAgIGlmICh0aGlzLnNob3VsZEZvY3VzUmFuZ2VFbmQoKSkge1xyXG4gICAgICAgIHRoaXMuZW5kSW5wdXQ/LnNldEZvY3VzKCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zaG91bGRGb2N1c1JhbmdlU3RhcnQoKSkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRJbnB1dD8uc2V0Rm9jdXMoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSA9IChuZXdWYWx1ZSwgaW5wdXQgPSBcInN0YXJ0XCIpID0+IHtcclxuICAgICAgY29uc3QgaW5wdXRFbCA9IHRoaXNbYCR7aW5wdXR9SW5wdXRgXTtcclxuICAgICAgaWYgKCFpbnB1dEVsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlucHV0RWwudmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgIH07XHJcbiAgICB0aGlzLnNldFJhbmdlVmFsdWUgPSAodmFsdWVBc0RhdGUpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHsgdmFsdWU6IG9sZFZhbHVlIH0gPSB0aGlzO1xyXG4gICAgICBjb25zdCBvbGRWYWx1ZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KG9sZFZhbHVlKTtcclxuICAgICAgY29uc3QgdmFsdWVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSh2YWx1ZUFzRGF0ZSk7XHJcbiAgICAgIGNvbnN0IG5ld1N0YXJ0RGF0ZSA9IHZhbHVlSXNBcnJheSA/IHZhbHVlQXNEYXRlWzBdIDogbnVsbDtcclxuICAgICAgY29uc3QgbmV3U3RhcnREYXRlSVNPID0gdmFsdWVJc0FycmF5ID8gZGF0ZVRvSVNPKG5ld1N0YXJ0RGF0ZSkgOiBcIlwiO1xyXG4gICAgICBjb25zdCBuZXdFbmREYXRlID0gdmFsdWVJc0FycmF5ID8gdmFsdWVBc0RhdGVbMV0gOiBudWxsO1xyXG4gICAgICBjb25zdCBuZXdFbmREYXRlSVNPID0gdmFsdWVJc0FycmF5ID8gZGF0ZVRvSVNPKG5ld0VuZERhdGUpIDogXCJcIjtcclxuICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdTdGFydERhdGVJU08gfHwgbmV3RW5kRGF0ZUlTTyA/IFtuZXdTdGFydERhdGVJU08sIG5ld0VuZERhdGVJU09dIDogXCJcIjtcclxuICAgICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnVzZXJDaGFuZ2VkVmFsdWUgPSB0cnVlO1xyXG4gICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgIHRoaXMudmFsdWVBc0RhdGUgPSBuZXdWYWx1ZSA/IGdldFZhbHVlQXNEYXRlUmFuZ2UobmV3VmFsdWUpIDogdW5kZWZpbmVkO1xyXG4gICAgICBjb25zdCBjaGFuZ2VFdmVudCA9IHRoaXMuY2FsY2l0ZUlucHV0RGF0ZVBpY2tlckNoYW5nZS5lbWl0KCk7XHJcbiAgICAgIGlmIChjaGFuZ2VFdmVudCAmJiBjaGFuZ2VFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IG9sZFZhbHVlO1xyXG4gICAgICAgIGlmIChvbGRWYWx1ZUlzQXJyYXkpIHtcclxuICAgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZShvbGRWYWx1ZVswXSwgXCJzdGFydFwiKTtcclxuICAgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZShvbGRWYWx1ZVsxXSwgXCJlbmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy52YWx1ZSA9IG9sZFZhbHVlO1xyXG4gICAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKG9sZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLnNldFZhbHVlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLnJhbmdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgY29uc3QgbmV3VmFsdWUgPSBkYXRlVG9JU08odmFsdWUpO1xyXG4gICAgICBpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudXNlckNoYW5nZWRWYWx1ZSA9IHRydWU7XHJcbiAgICAgIHRoaXMudmFsdWVBc0RhdGUgPSBuZXdWYWx1ZSA/IGRhdGVGcm9tSVNPKG5ld1ZhbHVlKSA6IHVuZGVmaW5lZDtcclxuICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlIHx8IFwiXCI7XHJcbiAgICAgIGNvbnN0IGNoYW5nZUV2ZW50ID0gdGhpcy5jYWxjaXRlSW5wdXREYXRlUGlja2VyQ2hhbmdlLmVtaXQoKTtcclxuICAgICAgaWYgKGNoYW5nZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gb2xkVmFsdWU7XHJcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKG9sZFZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuY29tbW9uRGF0ZVNlcGFyYXRvcnMgPSBbXCIuXCIsIFwiLVwiLCBcIi9cIl07XHJcbiAgICB0aGlzLmZvcm1hdE51bWVyYWxzID0gKHZhbHVlKSA9PiB2YWx1ZVxyXG4gICAgICA/IHZhbHVlXHJcbiAgICAgICAgLnNwbGl0KFwiXCIpXHJcbiAgICAgICAgLm1hcCgoY2hhcikgPT4gdGhpcy5jb21tb25EYXRlU2VwYXJhdG9ycz8uaW5jbHVkZXMoY2hhcilcclxuICAgICAgICA/IHRoaXMubG9jYWxlRGF0YT8uc2VwYXJhdG9yXHJcbiAgICAgICAgOiBudW1iZXJLZXlzPy5pbmNsdWRlcyhjaGFyKVxyXG4gICAgICAgICAgPyBudW1iZXJTdHJpbmdGb3JtYXR0ZXI/Lm51bWJlckZvcm1hdHRlcj8uZm9ybWF0KE51bWJlcihjaGFyKSlcclxuICAgICAgICAgIDogY2hhcilcclxuICAgICAgICAuam9pbihcIlwiKVxyXG4gICAgICA6IFwiXCI7XHJcbiAgICB0aGlzLnBhcnNlTnVtZXJhbHMgPSAodmFsdWUpID0+IHZhbHVlXHJcbiAgICAgID8gdmFsdWVcclxuICAgICAgICAuc3BsaXQoXCJcIilcclxuICAgICAgICAubWFwKChjaGFyKSA9PiBudW1iZXJLZXlzLmluY2x1ZGVzKGNoYXIpID8gbnVtYmVyU3RyaW5nRm9ybWF0dGVyLmRlbG9jYWxpemUoY2hhcikgOiBjaGFyKVxyXG4gICAgICAgIC5qb2luKFwiXCIpXHJcbiAgICAgIDogXCJcIjtcclxuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucmVhZE9ubHkgPSBmYWxzZTtcclxuICAgIHRoaXMudmFsdWUgPSBcIlwiO1xyXG4gICAgdGhpcy5mbGlwUGxhY2VtZW50cyA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuaGVhZGluZ0xldmVsID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy52YWx1ZUFzRGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMubWluQXNEYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5tYXhBc0RhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLm1pbiA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMubWF4ID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLm5hbWUgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcclxuICAgIHRoaXMucGxhY2VtZW50ID0gZGVmYXVsdE1lbnVQbGFjZW1lbnQ7XHJcbiAgICB0aGlzLnJhbmdlID0gZmFsc2U7XHJcbiAgICB0aGlzLnJlcXVpcmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLm92ZXJsYXlQb3NpdGlvbmluZyA9IFwiYWJzb2x1dGVcIjtcclxuICAgIHRoaXMucHJveGltaXR5U2VsZWN0aW9uRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGF5b3V0ID0gXCJob3Jpem9udGFsXCI7XHJcbiAgICB0aGlzLm1lc3NhZ2VPdmVycmlkZXMgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmRhdGVQaWNrZXJBY3RpdmVEYXRlID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5lZmZlY3RpdmVMb2NhbGUgPSBcIlwiO1xyXG4gICAgdGhpcy5mb2N1c2VkSW5wdXQgPSBcInN0YXJ0XCI7XHJcbiAgICB0aGlzLmdsb2JhbEF0dHJpYnV0ZXMgPSB7fTtcclxuICAgIHRoaXMubG9jYWxlRGF0YSA9IHVuZGVmaW5lZDtcclxuICB9XHJcbiAgaGFuZGxlRGlzYWJsZWRBbmRSZWFkT25seUNoYW5nZSh2YWx1ZSkge1xyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgdmFsdWVXYXRjaGVyKG5ld1ZhbHVlKSB7XHJcbiAgICBpZiAoIXRoaXMudXNlckNoYW5nZWRWYWx1ZSkge1xyXG4gICAgICBsZXQgbmV3VmFsdWVBc0RhdGU7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld1ZhbHVlKSkge1xyXG4gICAgICAgIG5ld1ZhbHVlQXNEYXRlID0gZ2V0VmFsdWVBc0RhdGVSYW5nZShuZXdWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAobmV3VmFsdWUpIHtcclxuICAgICAgICBuZXdWYWx1ZUFzRGF0ZSA9IGRhdGVGcm9tSVNPKG5ld1ZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBuZXdWYWx1ZUFzRGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMudmFsdWVBc0RhdGVDaGFuZ2VkRXh0ZXJuYWxseSAmJiBuZXdWYWx1ZUFzRGF0ZSAhPT0gdGhpcy52YWx1ZUFzRGF0ZSkge1xyXG4gICAgICAgIHRoaXMudmFsdWVBc0RhdGUgPSBuZXdWYWx1ZUFzRGF0ZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmxvY2FsaXplSW5wdXRWYWx1ZXMoKTtcclxuICAgIH1cclxuICAgIHRoaXMudXNlckNoYW5nZWRWYWx1ZSA9IGZhbHNlO1xyXG4gIH1cclxuICB2YWx1ZUFzRGF0ZVdhdGNoZXIodmFsdWVBc0RhdGUpIHtcclxuICAgIHRoaXMuZGF0ZVBpY2tlckFjdGl2ZURhdGUgPSB2YWx1ZUFzRGF0ZTtcclxuICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpcy5yYW5nZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlQXNEYXRlKVxyXG4gICAgICA/IFtkYXRlVG9JU08odmFsdWVBc0RhdGVbMF0pLCBkYXRlVG9JU08odmFsdWVBc0RhdGVbMV0pXVxyXG4gICAgICA6IGRhdGVUb0lTTyh2YWx1ZUFzRGF0ZSk7XHJcbiAgICBpZiAodGhpcy52YWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgdGhpcy52YWx1ZUFzRGF0ZUNoYW5nZWRFeHRlcm5hbGx5ID0gdHJ1ZTtcclxuICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICB0aGlzLnZhbHVlQXNEYXRlQ2hhbmdlZEV4dGVybmFsbHkgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgZmxpcFBsYWNlbWVudHNIYW5kbGVyKCkge1xyXG4gICAgdGhpcy5zZXRGaWx0ZXJlZFBsYWNlbWVudHMoKTtcclxuICAgIHRoaXMucmVwb3NpdGlvbih0cnVlKTtcclxuICB9XHJcbiAgb25NaW5DaGFuZ2VkKG1pbikge1xyXG4gICAgaWYgKG1pbikge1xyXG4gICAgICB0aGlzLm1pbkFzRGF0ZSA9IGRhdGVGcm9tSVNPKG1pbik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uTWF4Q2hhbmdlZChtYXgpIHtcclxuICAgIGlmIChtYXgpIHtcclxuICAgICAgdGhpcy5tYXhBc0RhdGUgPSBkYXRlRnJvbUlTTyhtYXgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvcGVuSGFuZGxlcih2YWx1ZSkge1xyXG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5yZWFkT25seSkge1xyXG4gICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgdXBkYXRlQWZ0ZXJDbG9zZSh0aGlzLmZsb2F0aW5nRWwpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgdGhpcy5yZXBvc2l0aW9uKHRydWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHVwZGF0ZUFmdGVyQ2xvc2UodGhpcy5mbG9hdGluZ0VsKTtcclxuICAgIH1cclxuICB9XHJcbiAgb3ZlcmxheVBvc2l0aW9uaW5nSGFuZGxlcigpIHtcclxuICAgIHRoaXMucmVwb3NpdGlvbih0cnVlKTtcclxuICB9XHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vXHJcbiAgLy8gIEV2ZW50IExpc3RlbmVyc1xyXG4gIC8vXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNhbGNpdGVEYXlTZWxlY3RIYW5kbGVyKCkge1xyXG4gICAgaWYgKHRoaXMuc2hvdWxkRm9jdXNSYW5nZVN0YXJ0KCkgfHwgdGhpcy5zaG91bGRGb2N1c1JhbmdlRW5kKCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XHJcbiAgfVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy9cclxuICAvLyAgUHVibGljIE1ldGhvZHNcclxuICAvL1xyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLyoqIFNldHMgZm9jdXMgb24gdGhlIGNvbXBvbmVudC4gKi9cclxuICBhc3luYyBzZXRGb2N1cygpIHtcclxuICAgIGF3YWl0IGNvbXBvbmVudExvYWRlZCh0aGlzKTtcclxuICAgIHRoaXMuZWwuZm9jdXMoKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIGNvbXBvbmVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBkZWxheWVkXHJcbiAgICovXHJcbiAgYXN5bmMgcmVwb3NpdGlvbihkZWxheWVkID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHsgZmxvYXRpbmdFbCwgcmVmZXJlbmNlRWwsIHBsYWNlbWVudCwgb3ZlcmxheVBvc2l0aW9uaW5nLCBmaWx0ZXJlZEZsaXBQbGFjZW1lbnRzIH0gPSB0aGlzO1xyXG4gICAgcmV0dXJuIHJlcG9zaXRpb24odGhpcywge1xyXG4gICAgICBmbG9hdGluZ0VsLFxyXG4gICAgICByZWZlcmVuY2VFbCxcclxuICAgICAgb3ZlcmxheVBvc2l0aW9uaW5nLFxyXG4gICAgICBwbGFjZW1lbnQsXHJcbiAgICAgIGZsaXBQbGFjZW1lbnRzOiBmaWx0ZXJlZEZsaXBQbGFjZW1lbnRzLFxyXG4gICAgICB0eXBlOiBcIm1lbnVcIlxyXG4gICAgfSwgZGVsYXllZCk7XHJcbiAgfVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy9cclxuICAvLyAgTGlmZWN5Y2xlXHJcbiAgLy9cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgY29ubmVjdExvY2FsaXplZCh0aGlzKTtcclxuICAgIGNvbnN0IHsgb3BlbiB9ID0gdGhpcztcclxuICAgIG9wZW4gJiYgdGhpcy5vcGVuSGFuZGxlcihvcGVuKTtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XHJcbiAgICAgIHRoaXMudmFsdWVBc0RhdGUgPSBnZXRWYWx1ZUFzRGF0ZVJhbmdlKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy52YWx1ZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRoaXMudmFsdWVBc0RhdGUgPSBkYXRlRnJvbUlTTyh0aGlzLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLndhcm5BYm91dEludmFsaWRWYWx1ZSh0aGlzLnZhbHVlKTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5yYW5nZSAmJiB0aGlzLnZhbHVlQXNEYXRlKSB7XHJcbiAgICAgIHRoaXMuc2V0UmFuZ2VWYWx1ZSh0aGlzLnZhbHVlQXNEYXRlKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1pbikge1xyXG4gICAgICB0aGlzLm1pbkFzRGF0ZSA9IGRhdGVGcm9tSVNPKHRoaXMubWluKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm1heCkge1xyXG4gICAgICB0aGlzLm1heEFzRGF0ZSA9IGRhdGVGcm9tSVNPKHRoaXMubWF4KTtcclxuICAgIH1cclxuICAgIGNvbm5lY3RMYWJlbCh0aGlzKTtcclxuICAgIGNvbm5lY3RGb3JtKHRoaXMpO1xyXG4gICAgY29ubmVjdE9wZW5DbG9zZUNvbXBvbmVudCh0aGlzKTtcclxuICAgIHRoaXMuc2V0RmlsdGVyZWRQbGFjZW1lbnRzKCk7XHJcbiAgICB0aGlzLnJlcG9zaXRpb24odHJ1ZSk7XHJcbiAgICBudW1iZXJTdHJpbmdGb3JtYXR0ZXIubnVtYmVyRm9ybWF0T3B0aW9ucyA9IHtcclxuICAgICAgbnVtYmVyaW5nU3lzdGVtOiB0aGlzLm51bWJlcmluZ1N5c3RlbSxcclxuICAgICAgbG9jYWxlOiB0aGlzLmVmZmVjdGl2ZUxvY2FsZSxcclxuICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXHJcbiAgICB9O1xyXG4gIH1cclxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcclxuICAgIHNldFVwTG9hZGFibGVDb21wb25lbnQodGhpcyk7XHJcbiAgICBhd2FpdCB0aGlzLmxvYWRMb2NhbGVEYXRhKCk7XHJcbiAgICB0aGlzLm9uTWluQ2hhbmdlZCh0aGlzLm1pbik7XHJcbiAgICB0aGlzLm9uTWF4Q2hhbmdlZCh0aGlzLm1heCk7XHJcbiAgfVxyXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XHJcbiAgICBzZXRDb21wb25lbnRMb2FkZWQodGhpcyk7XHJcbiAgICB0aGlzLmxvY2FsaXplSW5wdXRWYWx1ZXMoKTtcclxuICAgIHRoaXMucmVwb3NpdGlvbih0cnVlKTtcclxuICB9XHJcbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBkaXNjb25uZWN0TGFiZWwodGhpcyk7XHJcbiAgICBkaXNjb25uZWN0Rm9ybSh0aGlzKTtcclxuICAgIGRpc2Nvbm5lY3RGbG9hdGluZ1VJKHRoaXMsIHRoaXMucmVmZXJlbmNlRWwsIHRoaXMuZmxvYXRpbmdFbCk7XHJcbiAgICBkaXNjb25uZWN0T3BlbkNsb3NlQ29tcG9uZW50KHRoaXMpO1xyXG4gICAgZGlzY29ubmVjdExvY2FsaXplZCh0aGlzKTtcclxuICB9XHJcbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xyXG4gICAgdXBkYXRlSG9zdEludGVyYWN0aW9uKHRoaXMpO1xyXG4gIH1cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGRpc2FibGVkLCBlZmZlY3RpdmVMb2NhbGUsIG51bWJlcmluZ1N5c3RlbSwgcmVhZE9ubHkgfSA9IHRoaXM7XHJcbiAgICBudW1iZXJTdHJpbmdGb3JtYXR0ZXIubnVtYmVyRm9ybWF0T3B0aW9ucyA9IHtcclxuICAgICAgbnVtYmVyaW5nU3lzdGVtLFxyXG4gICAgICBsb2NhbGU6IGVmZmVjdGl2ZUxvY2FsZSxcclxuICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChoKEhvc3QsIHsgb25CbHVyOiB0aGlzLmRlYWN0aXZhdGUsIG9uS2V5RG93bjogdGhpcy5rZXlEb3duSGFuZGxlciwgcm9sZTogXCJhcHBsaWNhdGlvblwiIH0sIHRoaXMubG9jYWxlRGF0YSAmJiAoaChcImRpdlwiLCB7IFwiYXJpYS1leHBhbmRlZFwiOiB0b0FyaWFCb29sZWFuKHRoaXMub3BlbiksIGNsYXNzOiBcImlucHV0LWNvbnRhaW5lclwiLCByb2xlOiBcImFwcGxpY2F0aW9uXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImlucHV0LXdyYXBwZXJcIiwgcmVmOiB0aGlzLnNldFN0YXJ0V3JhcHBlciB9LCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGNsYXNzOiBgaW5wdXQgJHt0aGlzLmxheW91dCA9PT0gXCJ2ZXJ0aWNhbFwiICYmIHRoaXMucmFuZ2UgPyBgbm8tYm90dG9tLWJvcmRlcmAgOiBgYH1gLCBkaXNhYmxlZDogZGlzYWJsZWQsIGljb246IFwiY2FsZW5kYXJcIiwgbGFiZWw6IGdldExhYmVsVGV4dCh0aGlzKSwgXCJudW1iZXItYnV0dG9uLXR5cGVcIjogXCJub25lXCIsIG51bWJlcmluZ1N5c3RlbTogbnVtYmVyaW5nU3lzdGVtLCBvbkNhbGNpdGVJbnB1dElucHV0OiB0aGlzLmNhbGNpdGVJbnRlcm5hbElucHV0SW5wdXRIYW5kbGVyLCBvbkNhbGNpdGVJbnRlcm5hbElucHV0Qmx1cjogdGhpcy5jYWxjaXRlSW50ZXJuYWxJbnB1dEJsdXJIYW5kbGVyLCBvbkNhbGNpdGVJbnRlcm5hbElucHV0Rm9jdXM6IHRoaXMuc3RhcnRJbnB1dEZvY3VzLCBwbGFjZWhvbGRlcjogdGhpcy5sb2NhbGVEYXRhPy5wbGFjZWhvbGRlciwgcmVhZE9ubHk6IHJlYWRPbmx5LCByZWY6IHRoaXMuc2V0U3RhcnRJbnB1dCwgc2NhbGU6IHRoaXMuc2NhbGUsIHR5cGU6IFwidGV4dFwiIH0pKSwgaChcImRpdlwiLCB7IFwiYXJpYS1oaWRkZW5cIjogdG9BcmlhQm9vbGVhbighdGhpcy5vcGVuKSwgY2xhc3M6IHtcclxuICAgICAgICBbQ1NTLm1lbnVdOiB0cnVlLFxyXG4gICAgICAgIFtDU1MubWVudUFjdGl2ZV06IHRoaXMub3BlblxyXG4gICAgICB9LCByZWY6IHRoaXMuc2V0RmxvYXRpbmdFbCB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IHtcclxuICAgICAgICBbXCJjYWxlbmRhci1waWNrZXItd3JhcHBlclwiXTogdHJ1ZSxcclxuICAgICAgICBbXCJjYWxlbmRhci1waWNrZXItd3JhcHBlci0tZW5kXCJdOiB0aGlzLmZvY3VzZWRJbnB1dCA9PT0gXCJlbmRcIixcclxuICAgICAgICBbRmxvYXRpbmdDU1MuYW5pbWF0aW9uXTogdHJ1ZSxcclxuICAgICAgICBbRmxvYXRpbmdDU1MuYW5pbWF0aW9uQWN0aXZlXTogdGhpcy5vcGVuXHJcbiAgICAgIH0sIHJlZjogdGhpcy5zZXRUcmFuc2l0aW9uRWwgfSwgaChcImNhbGNpdGUtZGF0ZS1waWNrZXJcIiwgeyBhY3RpdmVEYXRlOiB0aGlzLmRhdGVQaWNrZXJBY3RpdmVEYXRlLCBhY3RpdmVSYW5nZTogdGhpcy5mb2N1c2VkSW5wdXQsIGhlYWRpbmdMZXZlbDogdGhpcy5oZWFkaW5nTGV2ZWwsIG1heDogdGhpcy5tYXgsIG1heEFzRGF0ZTogdGhpcy5tYXhBc0RhdGUsIG1lc3NhZ2VPdmVycmlkZXM6IHRoaXMubWVzc2FnZU92ZXJyaWRlcywgbWluOiB0aGlzLm1pbiwgbWluQXNEYXRlOiB0aGlzLm1pbkFzRGF0ZSwgbnVtYmVyaW5nU3lzdGVtOiBudW1iZXJpbmdTeXN0ZW0sIG9uQ2FsY2l0ZURhdGVQaWNrZXJDaGFuZ2U6IHRoaXMuaGFuZGxlRGF0ZUNoYW5nZSwgb25DYWxjaXRlRGF0ZVBpY2tlclJhbmdlQ2hhbmdlOiB0aGlzLmhhbmRsZURhdGVSYW5nZUNoYW5nZSwgcHJveGltaXR5U2VsZWN0aW9uRGlzYWJsZWQ6IHRoaXMucHJveGltaXR5U2VsZWN0aW9uRGlzYWJsZWQsIHJhbmdlOiB0aGlzLnJhbmdlLCBzY2FsZTogdGhpcy5zY2FsZSwgdGFiSW5kZXg6IDAsIHZhbHVlQXNEYXRlOiB0aGlzLnZhbHVlQXNEYXRlIH0pKSksIHRoaXMucmFuZ2UgJiYgdGhpcy5sYXlvdXQgPT09IFwiaG9yaXpvbnRhbFwiICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaG9yaXpvbnRhbC1hcnJvdy1jb250YWluZXJcIiB9LCBoKFwiY2FsY2l0ZS1pY29uXCIsIHsgZmxpcFJ0bDogdHJ1ZSwgaWNvbjogXCJhcnJvdy1yaWdodFwiLCBzY2FsZTogdGhpcy5zY2FsZSA9PT0gXCJsXCIgPyBcIm1cIiA6IFwic1wiIH0pKSksIHRoaXMucmFuZ2UgJiYgdGhpcy5sYXlvdXQgPT09IFwidmVydGljYWxcIiAmJiB0aGlzLnNjYWxlICE9PSBcInNcIiAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInZlcnRpY2FsLWFycm93LWNvbnRhaW5lclwiIH0sIGgoXCJjYWxjaXRlLWljb25cIiwgeyBpY29uOiBcImFycm93LWRvd25cIiwgc2NhbGU6IHRoaXMuc2NhbGUgPT09IFwibFwiID8gXCJtXCIgOiBcInNcIiB9KSkpLCB0aGlzLnJhbmdlICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5wdXQtd3JhcHBlclwiLCByZWY6IHRoaXMuc2V0RW5kV3JhcHBlciB9LCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGNsYXNzOiB7XHJcbiAgICAgICAgaW5wdXQ6IHRydWUsXHJcbiAgICAgICAgXCJib3JkZXItdG9wLWNvbG9yLW9uZVwiOiB0aGlzLmxheW91dCA9PT0gXCJ2ZXJ0aWNhbFwiICYmIHRoaXMucmFuZ2VcclxuICAgICAgfSwgZGlzYWJsZWQ6IGRpc2FibGVkLCBpY29uOiBcImNhbGVuZGFyXCIsIFwibnVtYmVyLWJ1dHRvbi10eXBlXCI6IFwibm9uZVwiLCBudW1iZXJpbmdTeXN0ZW06IG51bWJlcmluZ1N5c3RlbSwgb25DYWxjaXRlSW5wdXRJbnB1dDogdGhpcy5jYWxjaXRlSW50ZXJuYWxJbnB1dElucHV0SGFuZGxlciwgb25DYWxjaXRlSW50ZXJuYWxJbnB1dEJsdXI6IHRoaXMuY2FsY2l0ZUludGVybmFsSW5wdXRCbHVySGFuZGxlciwgb25DYWxjaXRlSW50ZXJuYWxJbnB1dEZvY3VzOiB0aGlzLmVuZElucHV0Rm9jdXMsIHBsYWNlaG9sZGVyOiB0aGlzLmxvY2FsZURhdGE/LnBsYWNlaG9sZGVyLCByZWFkT25seTogcmVhZE9ubHksIHJlZjogdGhpcy5zZXRFbmRJbnB1dCwgc2NhbGU6IHRoaXMuc2NhbGUsIHR5cGU6IFwidGV4dFwiIH0pKSkpKSwgaChIaWRkZW5Gb3JtSW5wdXRTbG90LCB7IGNvbXBvbmVudDogdGhpcyB9KSkpO1xyXG4gIH1cclxuICBzZXRSZWZlcmVuY2VFbCgpIHtcclxuICAgIGNvbnN0IHsgZm9jdXNlZElucHV0LCBsYXlvdXQsIGVuZFdyYXBwZXIsIHN0YXJ0V3JhcHBlciB9ID0gdGhpcztcclxuICAgIHRoaXMucmVmZXJlbmNlRWwgPVxyXG4gICAgICBmb2N1c2VkSW5wdXQgPT09IFwiZW5kXCIgfHwgbGF5b3V0ID09PSBcInZlcnRpY2FsXCJcclxuICAgICAgICA/IGVuZFdyYXBwZXIgfHwgc3RhcnRXcmFwcGVyXHJcbiAgICAgICAgOiBzdGFydFdyYXBwZXIgfHwgZW5kV3JhcHBlcjtcclxuICAgIGNvbm5lY3RGbG9hdGluZ1VJKHRoaXMsIHRoaXMucmVmZXJlbmNlRWwsIHRoaXMuZmxvYXRpbmdFbCk7XHJcbiAgfVxyXG4gIG9uTGFiZWxDbGljaygpIHtcclxuICAgIHRoaXMuc2V0Rm9jdXMoKTtcclxuICB9XHJcbiAgb25CZWZvcmVPcGVuKCkge1xyXG4gICAgdGhpcy5jYWxjaXRlSW5wdXREYXRlUGlja2VyQmVmb3JlT3Blbi5lbWl0KCk7XHJcbiAgfVxyXG4gIG9uT3BlbigpIHtcclxuICAgIHRoaXMuY2FsY2l0ZUlucHV0RGF0ZVBpY2tlck9wZW4uZW1pdCgpO1xyXG4gIH1cclxuICBvbkJlZm9yZUNsb3NlKCkge1xyXG4gICAgdGhpcy5jYWxjaXRlSW5wdXREYXRlUGlja2VyQmVmb3JlQ2xvc2UuZW1pdCgpO1xyXG4gIH1cclxuICBvbkNsb3NlKCkge1xyXG4gICAgdGhpcy5jYWxjaXRlSW5wdXREYXRlUGlja2VyQ2xvc2UuZW1pdCgpO1xyXG4gIH1cclxuICBjb21taXRWYWx1ZSgpIHtcclxuICAgIGNvbnN0IHsgZm9jdXNlZElucHV0LCB2YWx1ZSB9ID0gdGhpcztcclxuICAgIGNvbnN0IGZvY3VzZWRJbnB1dE5hbWUgPSBgJHtmb2N1c2VkSW5wdXR9SW5wdXRgO1xyXG4gICAgY29uc3QgZm9jdXNlZElucHV0VmFsdWUgPSB0aGlzW2ZvY3VzZWRJbnB1dE5hbWVdLnZhbHVlO1xyXG4gICAgY29uc3QgZGF0ZSA9IGRhdGVGcm9tTG9jYWxpemVkU3RyaW5nKGZvY3VzZWRJbnB1dFZhbHVlLCB0aGlzLmxvY2FsZURhdGEpO1xyXG4gICAgY29uc3QgZGF0ZUFzSVNPID0gZGF0ZVRvSVNPKGRhdGUpO1xyXG4gICAgY29uc3QgdmFsdWVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XHJcbiAgICBpZiAodGhpcy5yYW5nZSkge1xyXG4gICAgICBjb25zdCBmb2N1c2VkSW5wdXRWYWx1ZUluZGV4ID0gZm9jdXNlZElucHV0ID09PSBcInN0YXJ0XCIgPyAwIDogMTtcclxuICAgICAgaWYgKHZhbHVlSXNBcnJheSkge1xyXG4gICAgICAgIGlmIChkYXRlQXNJU08gPT09IHZhbHVlW2ZvY3VzZWRJbnB1dFZhbHVlSW5kZXhdKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRlKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFJhbmdlVmFsdWUoW1xyXG4gICAgICAgICAgICBmb2N1c2VkSW5wdXQgPT09IFwic3RhcnRcIiA/IGRhdGUgOiBkYXRlRnJvbUlTTyh2YWx1ZVswXSksXHJcbiAgICAgICAgICAgIGZvY3VzZWRJbnB1dCA9PT0gXCJlbmRcIiA/IGRhdGUgOiBkYXRlRnJvbUlTTyh2YWx1ZVsxXSlcclxuICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgdGhpcy5sb2NhbGl6ZUlucHV0VmFsdWVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRSYW5nZVZhbHVlKFtcclxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID09PSBcImVuZFwiICYmIGRhdGVGcm9tSVNPKHZhbHVlWzBdKSxcclxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID09PSBcInN0YXJ0XCIgJiYgZGF0ZUZyb21JU08odmFsdWVbMV0pXHJcbiAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGRhdGUpIHtcclxuICAgICAgICAgIHRoaXMuc2V0UmFuZ2VWYWx1ZShbXHJcbiAgICAgICAgICAgIGZvY3VzZWRJbnB1dCA9PT0gXCJzdGFydFwiID8gZGF0ZSA6IGRhdGVGcm9tSVNPKHZhbHVlWzBdKSxcclxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID09PSBcImVuZFwiID8gZGF0ZSA6IGRhdGVGcm9tSVNPKHZhbHVlWzFdKVxyXG4gICAgICAgICAgXSk7XHJcbiAgICAgICAgICB0aGlzLmxvY2FsaXplSW5wdXRWYWx1ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAoZGF0ZUFzSVNPID09PSB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNldFZhbHVlKGRhdGUpO1xyXG4gICAgICB0aGlzLmxvY2FsaXplSW5wdXRWYWx1ZXMoKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXN5bmMgbG9hZExvY2FsZURhdGEoKSB7XHJcbiAgICBudW1iZXJTdHJpbmdGb3JtYXR0ZXIubnVtYmVyRm9ybWF0T3B0aW9ucyA9IHtcclxuICAgICAgbnVtYmVyaW5nU3lzdGVtOiB0aGlzLm51bWJlcmluZ1N5c3RlbSxcclxuICAgICAgbG9jYWxlOiB0aGlzLmVmZmVjdGl2ZUxvY2FsZSxcclxuICAgICAgdXNlR3JvdXBpbmc6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgdGhpcy5sb2NhbGVEYXRhID0gYXdhaXQgZ2V0TG9jYWxlRGF0YSh0aGlzLmVmZmVjdGl2ZUxvY2FsZSk7XHJcbiAgICB0aGlzLmxvY2FsaXplSW5wdXRWYWx1ZXMoKTtcclxuICB9XHJcbiAgc2hvdWxkRm9jdXNSYW5nZVN0YXJ0KCkge1xyXG4gICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMudmFsdWVbMF0gfHwgdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgZW5kVmFsdWUgPSB0aGlzLnZhbHVlWzFdIHx8IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiAhIShlbmRWYWx1ZSAmJiAhc3RhcnRWYWx1ZSAmJiB0aGlzLmZvY3VzZWRJbnB1dCA9PT0gXCJlbmRcIiAmJiB0aGlzLnN0YXJ0SW5wdXQpO1xyXG4gIH1cclxuICBzaG91bGRGb2N1c1JhbmdlRW5kKCkge1xyXG4gICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMudmFsdWVbMF0gfHwgdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgZW5kVmFsdWUgPSB0aGlzLnZhbHVlWzFdIHx8IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiAhIShzdGFydFZhbHVlICYmICFlbmRWYWx1ZSAmJiB0aGlzLmZvY3VzZWRJbnB1dCA9PT0gXCJzdGFydFwiICYmIHRoaXMuZW5kSW5wdXQpO1xyXG4gIH1cclxuICBsb2NhbGl6ZUlucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZGF0ZSA9IGRhdGVGcm9tUmFuZ2UoKHRoaXMucmFuZ2VcclxuICAgICAgPyAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlQXNEYXRlKSAmJiB0aGlzLnZhbHVlQXNEYXRlWzBdKSB8fCB1bmRlZmluZWRcclxuICAgICAgOiB0aGlzLnZhbHVlQXNEYXRlKSwgdGhpcy5taW5Bc0RhdGUsIHRoaXMubWF4QXNEYXRlKTtcclxuICAgIGNvbnN0IGVuZERhdGUgPSB0aGlzLnJhbmdlXHJcbiAgICAgID8gZGF0ZUZyb21SYW5nZSgoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlQXNEYXRlKSAmJiB0aGlzLnZhbHVlQXNEYXRlWzFdKSB8fCB1bmRlZmluZWQsIHRoaXMubWluQXNEYXRlLCB0aGlzLm1heEFzRGF0ZSlcclxuICAgICAgOiBudWxsO1xyXG4gICAgY29uc3QgbG9jYWxpemVkRGF0ZSA9IGRhdGUgJiYgdGhpcy5mb3JtYXROdW1lcmFscyhkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0aGlzLmVmZmVjdGl2ZUxvY2FsZSkpO1xyXG4gICAgY29uc3QgbG9jYWxpemVkRW5kRGF0ZSA9IGVuZERhdGUgJiYgdGhpcy5mb3JtYXROdW1lcmFscyhlbmREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0aGlzLmVmZmVjdGl2ZUxvY2FsZSkpO1xyXG4gICAgbG9jYWxpemVkRGF0ZSAmJiB0aGlzLnNldElucHV0VmFsdWUobG9jYWxpemVkRGF0ZSwgXCJzdGFydFwiKTtcclxuICAgIHRoaXMucmFuZ2UgJiYgbG9jYWxpemVkRW5kRGF0ZSAmJiB0aGlzLnNldElucHV0VmFsdWUobG9jYWxpemVkRW5kRGF0ZSwgXCJlbmRcIik7XHJcbiAgfVxyXG4gIHdhcm5BYm91dEludmFsaWRWYWx1ZSh2YWx1ZSkge1xyXG4gICAgY29uc29sZS53YXJuKGBUaGUgc3BlY2lmaWVkIHZhbHVlIFwiJHt2YWx1ZX1cIiBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSByZXF1aXJlZCBmb3JtYXQsIFwiWVlZWS1NTS1ERFwiLmApO1xyXG4gIH1cclxuICBzdGF0aWMgZ2V0IGRlbGVnYXRlc0ZvY3VzKCkgeyByZXR1cm4gdHJ1ZTsgfVxyXG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cclxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xyXG4gICAgXCJkaXNhYmxlZFwiOiBbXCJoYW5kbGVEaXNhYmxlZEFuZFJlYWRPbmx5Q2hhbmdlXCJdLFxyXG4gICAgXCJyZWFkT25seVwiOiBbXCJoYW5kbGVEaXNhYmxlZEFuZFJlYWRPbmx5Q2hhbmdlXCJdLFxyXG4gICAgXCJ2YWx1ZVwiOiBbXCJ2YWx1ZVdhdGNoZXJcIl0sXHJcbiAgICBcInZhbHVlQXNEYXRlXCI6IFtcInZhbHVlQXNEYXRlV2F0Y2hlclwiXSxcclxuICAgIFwiZmxpcFBsYWNlbWVudHNcIjogW1wiZmxpcFBsYWNlbWVudHNIYW5kbGVyXCJdLFxyXG4gICAgXCJtaW5cIjogW1wib25NaW5DaGFuZ2VkXCJdLFxyXG4gICAgXCJtYXhcIjogW1wib25NYXhDaGFuZ2VkXCJdLFxyXG4gICAgXCJvcGVuXCI6IFtcIm9wZW5IYW5kbGVyXCJdLFxyXG4gICAgXCJvdmVybGF5UG9zaXRpb25pbmdcIjogW1wib3ZlcmxheVBvc2l0aW9uaW5nSGFuZGxlclwiXSxcclxuICAgIFwibGF5b3V0XCI6IFtcInNldFJlZmVyZW5jZUVsXCJdLFxyXG4gICAgXCJmb2N1c2VkSW5wdXRcIjogW1wic2V0UmVmZXJlbmNlRWxcIl0sXHJcbiAgICBcImVmZmVjdGl2ZUxvY2FsZVwiOiBbXCJsb2FkTG9jYWxlRGF0YVwiXVxyXG4gIH07IH1cclxufTtcclxuSW5wdXREYXRlUGlja2VyLnN0eWxlID0gaW5wdXREYXRlUGlja2VyQ3NzO1xuXG5leHBvcnQgeyBJbnB1dERhdGVQaWNrZXIgYXMgY2FsY2l0ZV9pbnB1dF9kYXRlX3BpY2tlciB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxjaXRlLWlucHV0LWRhdGUtcGlja2VyLmVudHJ5LmpzLm1hcCIsImltcG9ydCB7IG4gYXMgbnVtYmVyU3RyaW5nRm9ybWF0dGVyIH0gZnJvbSAnLi9sb2NhbGUtZjdiMmZiYjAuanMnO1xuXG4vKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2MS4wLjVcbiAqL1xuLyoqXG4gKiBDaGVjayBpZiBkYXRlIGlzIHdpdGhpbiBhIG1pbiBhbmQgbWF4XG4gKlxuICogQHBhcmFtIGRhdGVcbiAqIEBwYXJhbSBtaW5cbiAqIEBwYXJhbSBtYXhcbiAqL1xuZnVuY3Rpb24gaW5SYW5nZShkYXRlLCBtaW4sIG1heCkge1xuICBpZiAoIWRhdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGltZSA9IGRhdGUuZ2V0VGltZSgpO1xuICBjb25zdCBhZnRlck1pbiA9ICEobWluIGluc3RhbmNlb2YgRGF0ZSkgfHwgdGltZSA+PSBtaW4uZ2V0VGltZSgpO1xuICBjb25zdCBiZWZvcmVNYXggPSAhKG1heCBpbnN0YW5jZW9mIERhdGUpIHx8IHRpbWUgPD0gbWF4LmdldFRpbWUoKTtcbiAgcmV0dXJuIGFmdGVyTWluICYmIGJlZm9yZU1heDtcbn1cbi8qKlxuICogRW5zdXJlcyBkYXRlIGlzIHdpdGhpbiByYW5nZSxcbiAqIHJldHVybnMgbWluIG9yIG1heCBpZiBvdXQgb2YgYm91bmRzXG4gKlxuICogQHBhcmFtIGRhdGVcbiAqIEBwYXJhbSBtaW5cbiAqIEBwYXJhbSBtYXhcbiAqL1xuZnVuY3Rpb24gZGF0ZUZyb21SYW5nZShkYXRlLCBtaW4sIG1heCkge1xuICBpZiAoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB0aW1lID0gZGF0ZS5nZXRUaW1lKCk7XG4gIGNvbnN0IGJlZm9yZU1pbiA9IG1pbiBpbnN0YW5jZW9mIERhdGUgJiYgdGltZSA8IG1pbi5nZXRUaW1lKCk7XG4gIGNvbnN0IGFmdGVyTWF4ID0gbWF4IGluc3RhbmNlb2YgRGF0ZSAmJiB0aW1lID4gbWF4LmdldFRpbWUoKTtcbiAgaWYgKGJlZm9yZU1pbikge1xuICAgIHJldHVybiBtaW47XG4gIH1cbiAgaWYgKGFmdGVyTWF4KSB7XG4gICAgcmV0dXJuIG1heDtcbiAgfVxuICByZXR1cm4gZGF0ZTtcbn1cbi8qKlxuICogUGFyc2UgYW4gaXNvODYwMSBzdHJpbmcgKFlZWVktbW0tZGQpIGludG8gYSB2YWxpZCBkYXRlLlxuICogVE9ETzogaGFuZGxlIHRpbWUgd2hlbiB0aW1lIG9mIGRheSBVSSBpcyBhZGRlZFxuICpcbiAqIEBwYXJhbSBpc284NjAxXG4gKiBAcGFyYW0gaXNFbmREYXRlXG4gKi9cbmZ1bmN0aW9uIGRhdGVGcm9tSVNPKGlzbzg2MDEsIGlzRW5kRGF0ZSA9IGZhbHNlKSB7XG4gIGlmIChpc284NjAxIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBpc284NjAxO1xuICB9XG4gIGlmICghaXNvODYwMSB8fCB0eXBlb2YgaXNvODYwMSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGQgPSBpc284NjAxLnNwbGl0KC9bOiBULV0vKS5tYXAocGFyc2VGbG9hdCk7XG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkWzBdLCAoZFsxXSB8fCAxKSAtIDEsIGRbMl0gfHwgMSk7XG4gIGRhdGUuc2V0RnVsbFllYXIoZFswXSk7XG4gIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgSVNPIDg2MDEgZGF0ZTogXCIke2lzbzg2MDF9XCJgKTtcbiAgfVxuICBpZiAoaXNFbmREYXRlKSB7XG4gICAgcmV0dXJuIHNldEVuZE9mRGF5KGRhdGUpO1xuICB9XG4gIHJldHVybiBkYXRlO1xufVxuLyoqXG4gKiBQYXJzZSBhIGxvY2FsaXplZCBkYXRlIHN0cmluZyBpbnRvIGEgdmFsaWQgRGF0ZS5cbiAqIHJldHVybiBmYWxzZSBpZiBkYXRlIGlzIGludmFsaWQsIG9yIG91dCBvZiByYW5nZVxuICpcbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIGxvY2FsZURhdGFcbiAqL1xuZnVuY3Rpb24gZGF0ZUZyb21Mb2NhbGl6ZWRTdHJpbmcodmFsdWUsIGxvY2FsZURhdGEpIHtcbiAgaWYgKCFsb2NhbGVEYXRhKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgeyBzZXBhcmF0b3IgfSA9IGxvY2FsZURhdGE7XG4gIGNvbnN0IHsgZGF5LCBtb250aCwgeWVhciB9ID0gcGFyc2VEYXRlU3RyaW5nKHZhbHVlLCBsb2NhbGVEYXRhKTtcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuICBkYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICBjb25zdCB2YWxpZERheSA9IGRheSA+IDA7XG4gIGNvbnN0IHZhbGlkTW9udGggPSBtb250aCA+IC0xO1xuICBjb25zdCB2YWxpZERhdGUgPSAhaXNOYU4oZGF0ZS5nZXRUaW1lKCkpO1xuICBjb25zdCB2YWxpZExlbmd0aCA9IHZhbHVlLnNwbGl0KHNlcGFyYXRvcikuZmlsdGVyKChjKSA9PiBjKS5sZW5ndGggPiAyO1xuICBjb25zdCB2YWxpZFllYXIgPSB5ZWFyLnRvU3RyaW5nKCkubGVuZ3RoID4gMDtcbiAgaWYgKHZhbGlkRGF5ICYmIHZhbGlkTW9udGggJiYgdmFsaWREYXRlICYmIHZhbGlkTGVuZ3RoICYmIHZhbGlkWWVhcikge1xuICAgIHJldHVybiBkYXRlO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZSBkYXksIG1vbnRoLCBhbmQgeWVhciBzdHJpbmdzIGZyb20gYSBsb2NhbGl6ZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHN0cmluZ1xuICogQHBhcmFtIGxvY2FsZURhdGFcbiAqL1xuZnVuY3Rpb24gZGF0ZVBhcnRzRnJvbUxvY2FsaXplZFN0cmluZyhzdHJpbmcsIGxvY2FsZURhdGEpIHtcbiAgY29uc3QgeyBzZXBhcmF0b3IsIHVuaXRPcmRlciB9ID0gbG9jYWxlRGF0YTtcbiAgY29uc3Qgb3JkZXIgPSBnZXRPcmRlcih1bml0T3JkZXIpO1xuICBjb25zdCB2YWx1ZXMgPSBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yKS5tYXAoKHBhcnQpID0+IG51bWJlclN0cmluZ0Zvcm1hdHRlci5kZWxvY2FsaXplKHBhcnQpKTtcbiAgY29uc3QgZGF5ID0gdmFsdWVzW29yZGVyLmluZGV4T2YoXCJkXCIpXTtcbiAgY29uc3QgbW9udGggPSB2YWx1ZXNbb3JkZXIuaW5kZXhPZihcIm1cIildO1xuICBjb25zdCB5ZWFyID0gdmFsdWVzW29yZGVyLmluZGV4T2YoXCJ5XCIpXTtcbiAgcmV0dXJuIHsgZGF5LCBtb250aCwgeWVhciB9O1xufVxuLyoqXG4gKiBSZXR1cm4gZmlyc3QgcG9ydGlvbiBvZiBJU08gc3RyaW5nIChZWVlZLW1tLWRkKVxuICpcbiAqIEBwYXJhbSBkYXRlXG4gKi9cbmZ1bmN0aW9uIGRhdGVUb0lTTyhkYXRlKSB7XG4gIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdHdvIGRhdGVzIGFyZSB0aGUgc2FtZSBkYXksIG1vbnRoLCB5ZWFyXG4gKlxuICogQHBhcmFtIGQxXG4gKiBAcGFyYW0gZDJcbiAqL1xuZnVuY3Rpb24gc2FtZURhdGUoZDEsIGQyKSB7XG4gIHJldHVybiAoZDEgaW5zdGFuY2VvZiBEYXRlICYmXG4gICAgZDIgaW5zdGFuY2VvZiBEYXRlICYmXG4gICAgZDEuZ2V0RGF0ZSgpID09PSBkMi5nZXREYXRlKCkgJiZcbiAgICBkMS5nZXRNb250aCgpID09PSBkMi5nZXRNb250aCgpICYmXG4gICAgZDEuZ2V0RnVsbFllYXIoKSA9PT0gZDIuZ2V0RnVsbFllYXIoKSk7XG59XG4vKipcbiAqIEdldCBhIGRhdGUgb25lIG1vbnRoIGluIHRoZSBwYXN0XG4gKlxuICogQHBhcmFtIGRhdGVcbiAqL1xuZnVuY3Rpb24gcHJldk1vbnRoKGRhdGUpIHtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gIGNvbnN0IG5leHREYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gIG5leHREYXRlLnNldE1vbnRoKG1vbnRoIC0gMSk7XG4gIC8vIGRhdGUgZG9lc24ndCBleGlzdCBpbiBuZXcgbW9udGgsIHVzZSBsYXN0IGRheVxuICBpZiAobW9udGggPT09IG5leHREYXRlLmdldE1vbnRoKCkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBtb250aCwgMCk7XG4gIH1cbiAgcmV0dXJuIG5leHREYXRlO1xufVxuLyoqXG4gKiBHZXQgYSBkYXRlIG9uZSBtb250aCBpbiB0aGUgZnV0dXJlXG4gKlxuICogQHBhcmFtIGRhdGVcbiAqL1xuZnVuY3Rpb24gbmV4dE1vbnRoKGRhdGUpIHtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gIGNvbnN0IG5leHREYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gIG5leHREYXRlLnNldE1vbnRoKG1vbnRoICsgMSk7XG4gIC8vIGRhdGUgZG9lc24ndCBleGlzdCBpbiBuZXcgbW9udGgsIHVzZSBsYXN0IGRheVxuICBpZiAoKG1vbnRoICsgMikgJSA3ID09PSBuZXh0RGF0ZS5nZXRNb250aCgpICUgNykge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIG1vbnRoICsgMiwgMCk7XG4gIH1cbiAgcmV0dXJuIG5leHREYXRlO1xufVxuLyoqXG4gKiBQYXJzZSBudW1lcmljIHVuaXRzIGZvciBkYXksIG1vbnRoLCBhbmQgeWVhciBmcm9tIGEgbG9jYWxpemVkIHN0cmluZ1xuICogbW9udGggc3RhcnRzIGF0IDAgKGNhbiBwYXNzIHRvIGRhdGUgY29uc3RydWN0b3IpXG4gKiBjYW4gcmV0dXJuIHZhbHVlcyBhcyBudW1iZXIgb3Igc3RyaW5nXG4gKlxuICogQHBhcmFtIHN0cmluZ1xuICogQHBhcmFtIGxvY2FsZURhdGFcbiAqL1xuZnVuY3Rpb24gcGFyc2VEYXRlU3RyaW5nKHN0cmluZywgbG9jYWxlRGF0YSkge1xuICBjb25zdCB7IGRheSwgbW9udGgsIHllYXIgfSA9IGRhdGVQYXJ0c0Zyb21Mb2NhbGl6ZWRTdHJpbmcoc3RyaW5nLCBsb2NhbGVEYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXk6IHBhcnNlSW50KGRheSksXG4gICAgbW9udGg6IHBhcnNlSW50KG1vbnRoKSAtIDEsXG4gICAgeWVhcjogcGFyc2VJbnQoeWVhcilcbiAgfTtcbn1cbi8qKlxuICogQmFzZWQgb24gdGhlIHVuaXRPcmRlciBzdHJpbmcsIGZpbmQgb3JkZXIgb2YgbW9udGgsIGRheSwgYW5kIHllYXIgZm9yIGxvY2FsZVxuICpcbiAqIEBwYXJhbSB1bml0T3JkZXJcbiAqL1xuZnVuY3Rpb24gZ2V0T3JkZXIodW5pdE9yZGVyKSB7XG4gIGNvbnN0IHNpZ25pZmllcnMgPSBbXCJkXCIsIFwibVwiLCBcInlcIl07XG4gIGNvbnN0IG9yZGVyID0gdW5pdE9yZGVyLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBzaWduaWZpZXJzLnNvcnQoKGEsIGIpID0+IG9yZGVyLmluZGV4T2YoYSkgLSBvcmRlci5pbmRleE9mKGIpKTtcbn1cbi8qKlxuICogR2V0IG51bWJlciBvZiBkYXlzIGJldHdlZW4gdHdvIGRhdGVzXG4gKlxuICogQHBhcmFtIGRhdGUxXG4gKiBAcGFyYW0gZGF0ZTJcbiAqL1xuZnVuY3Rpb24gZ2V0RGF5c0RpZmYoZGF0ZTEsIGRhdGUyKSB7XG4gIGNvbnN0IHRzMSA9IGRhdGUxLmdldFRpbWUoKTtcbiAgY29uc3QgdHMyID0gZGF0ZTIuZ2V0VGltZSgpO1xuICByZXR1cm4gKHRzMSAtIHRzMikgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XG59XG4vKipcbiAqIFNldCB0aW1lIG9mIHRoZSBkYXkgdG8gdGhlIGVuZC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV9IGRhdGUgRGF0ZS5cbiAqIEByZXR1cm5zIHtEYXRlfSBEYXRlIHdpdGggdGltZSBzZXQgdG8gZW5kIG9mIGRheSAuXG4gKi9cbmZ1bmN0aW9uIHNldEVuZE9mRGF5KGRhdGUpIHtcbiAgZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICByZXR1cm4gZGF0ZTtcbn1cblxuZXhwb3J0IHsgZGF0ZUZyb21Mb2NhbGl6ZWRTdHJpbmcgYXMgYSwgZGF0ZVRvSVNPIGFzIGIsIGRhdGVGcm9tSVNPIGFzIGMsIGRhdGVQYXJ0c0Zyb21Mb2NhbGl6ZWRTdHJpbmcgYXMgZCwgZGF0ZUZyb21SYW5nZSBhcyBlLCBzYW1lRGF0ZSBhcyBmLCBnZXREYXlzRGlmZiBhcyBnLCBnZXRPcmRlciBhcyBoLCBpblJhbmdlIGFzIGksIG5leHRNb250aCBhcyBuLCBwcmV2TW9udGggYXMgcCwgc2V0RW5kT2ZEYXkgYXMgcyB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlLWQ3ZmJmN2ZkLmpzLm1hcCIsImltcG9ydCB7IGEgYXMgZ2V0QXNzZXRQYXRoIH0gZnJvbSAnLi9pbmRleC00ZTY0NzQxMS5qcyc7XG5pbXBvcnQgeyBjIGFzIGRhdGVGcm9tSVNPIH0gZnJvbSAnLi9kYXRlLWQ3ZmJmN2ZkLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0U3VwcG9ydGVkTG9jYWxlIH0gZnJvbSAnLi9sb2NhbGUtZjdiMmZiYjAuanMnO1xuXG4vKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2MS4wLjVcbiAqL1xuLyoqXG4gKiBDTERSIGNhY2hlLlxuICogRXhwb3J0ZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgdHJhbnNsYXRpb25DYWNoZSA9IHt9O1xuLyoqXG4gKiBDTERSIHJlcXVlc3QgY2FjaGUuXG4gKiBFeHBvcnRlZCBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCByZXF1ZXN0Q2FjaGUgPSB7fTtcbi8qKlxuICogRmV0Y2ggY2FsZW5kYXIgZGF0YSBmb3IgYSBnaXZlbiBsb2NhbGUgZnJvbSBsaXN0IG9mIHN1cHBvcnRlZCBsYW5ndWFnZXNcbiAqXG4gKiBAcGFyYW0gbGFuZ1xuICogQHB1YmxpY1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXRMb2NhbGVEYXRhKGxhbmcpIHtcbiAgY29uc3QgbG9jYWxlID0gZ2V0U3VwcG9ydGVkTG9jYWxlKGxhbmcpO1xuICBpZiAodHJhbnNsYXRpb25DYWNoZVtsb2NhbGVdKSB7XG4gICAgcmV0dXJuIHRyYW5zbGF0aW9uQ2FjaGVbbG9jYWxlXTtcbiAgfVxuICBpZiAoIXJlcXVlc3RDYWNoZVtsb2NhbGVdKSB7XG4gICAgcmVxdWVzdENhY2hlW2xvY2FsZV0gPSBmZXRjaChnZXRBc3NldFBhdGgoYC4vYXNzZXRzL2RhdGUtcGlja2VyL25scy8ke2xvY2FsZX0uanNvbmApKVxuICAgICAgLnRoZW4oKHJlc3ApID0+IHJlc3AuanNvbigpKVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRyYW5zbGF0aW9ucyBmb3IgXCIke2xvY2FsZX1cIiBub3QgZm91bmQgb3IgaW52YWxpZCwgZmFsbGluZyBiYWNrIHRvIGVuZ2xpc2hgKTtcbiAgICAgIHJldHVybiBnZXRMb2NhbGVEYXRhKFwiZW5cIik7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcXVlc3RDYWNoZVtsb2NhbGVdO1xuICB0cmFuc2xhdGlvbkNhY2hlW2xvY2FsZV0gPSBkYXRhO1xuICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogIE1hcHMgdmFsdWUgdG8gdmFsdWVBc0RhdGVcbiAqXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWVBc0RhdGVSYW5nZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUubWFwKCh2LCBpbmRleCkgPT4gZGF0ZUZyb21JU08odiwgaW5kZXggPT09IDEpKTtcbn1cblxuZXhwb3J0IHsgZ2V0TG9jYWxlRGF0YSBhcyBhLCBnZXRWYWx1ZUFzRGF0ZVJhbmdlIGFzIGcgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMtYjRmOTVjMjcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9