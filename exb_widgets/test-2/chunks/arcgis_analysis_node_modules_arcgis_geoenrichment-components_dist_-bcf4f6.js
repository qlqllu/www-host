"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-bcf4f6"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureSetReader-32450e35.js":
/*!********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureSetReader-32450e35.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptimizedGeometry-8812e4f6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OptimizedGeometry-8812e4f6.js");
/* harmony import */ var _featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./featureConversionUtils-87d39ccb.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureConversionUtils-87d39ccb.js");
/* harmony import */ var _centroid_f5130435_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./centroid-f5130435.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/centroid-f5130435.js");






/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t{constructor(t,e){this._mask=0,this._buf=t,this._mask=e;}static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return !!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return !0;s++;}for(;r%32&&s!==r;){if(this.has(s))return !0;r--;}if(s===r)return !1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return !0}return !1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r;}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295;}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r;}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s;}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return !0;return !1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0;}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++;}}}countSet(){let t=0;return this.forEachSet((e=>{t++;})),t}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let h=0;class d{constructor(t){this.type="FeatureSetReader",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._xmin=-1,this._xmax=0,this._ymin=0,this._ymax=0,this._deleted=null,this._joined=[],this.instance=t;}static createInstance(){return h++,h=h>65535?0:h,h}get isEmpty(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(this._deleted)&&this._deleted.countSet()===this.getApproximateSize()}get _hasFilter(){return -1!==this._xmin}setArcadeSpatialReference(t){this._arcadeSpatialReference=t;}attachStorage(t){this._storage=t;}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(t){return this.getComputedNumericAtIndex(0)}setComputedNumeric(t,e){return this.setComputedNumericAtIndex(e,0)}getComputedString(t){return this.getComputedStringAtIndex(0)}setComputedString(t,e){return this.setComputedStringAtIndex(0,e)}getComputedNumericAtIndex(t){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),t)}setComputedNumericAtIndex(t,e){this._storage.setComputedNumericAtIndex(this.getDisplayId(),t,e);}getComputedStringAtIndex(t){return this._storage.getComputedStringAtIndex(this.getDisplayId(),t)}setComputedStringAtIndex(t,e){return this._storage.setComputedStringAtIndex(this.getDisplayId(),t,e)}transform(t,e,r,i){const s=this.copy();return s._tx+=t,s._ty+=e,s._sx*=r,s._sy*=i,s}extent(t,e,r,i){const s=this.copy();return s._xmin=t,s._xmax=r,s._ymin=e,s._ymax=i,s}hasFilter(){return this._hasFilter}readAttribute(t,e=!1){const r=this._readAttribute(t,e);if(void 0!==r)return r;for(const i of this._joined){i.setIndex(this.getIndex());const r=i._readAttribute(t,e);if(void 0!==r)return r}}readAttributes(){return this._readAttributes()}joinAttributes(t){this._joined.push(t);}readArcadeFeature(){return this}geometry(){const t=this.readHydratedGeometry(),e=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_3__.e)(t,this.geometryType,this.hasZ,this.hasM),r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.J)(e);return r.spatialReference=this._arcadeSpatialReference,r}field(t){return this.readAttribute(t,!0)}hasField(t){return !0}setField(t,e){}keys(){return []}castToText(){return ""}removeAtIndex(t$2){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(this._deleted)&&(this._deleted=t.create(this.getApproximateSize())),this._deleted.set(t$2);}_getExists(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(this._deleted)||!this._deleted.has(this.getIndex())}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const t=this.readUnquantizedGeometry();if(!t||t.hasIndeterminateRingOrder)return null;const e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.Y)(this.getQuantizationTransform(),null);return (0,_centroid_f5130435_js__WEBPACK_IMPORTED_MODULE_4__.t)(new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_2__.a,t,this.hasM,this.hasZ,e)}copyInto(t){t.seen=this.seen,t._storage=this._storage,t._arcadeSpatialReference=this._arcadeSpatialReference,t._joined=this._joined,t._tx=this._tx,t._ty=this._ty,t._sx=this._sx,t._sy=this._sy,t._xmin=this._xmin,t._xmax=this._xmax,t._ymin=this._ymin,t._ymax=this._ymax;}}



//# sourceMappingURL=FeatureSetReader-32450e35.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HandleOwner-cd6ca1f5.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HandleOwner-cd6ca1f5.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ a),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   l: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let l=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b6,this.scheduleHandleId=0,this.pendingPromises=new Set;}destroy(){this.removeAll(),this.handles.destroy();}add(e,s,t,r=0){const d=0!=(1&r),i=++this.handleId;d||this.installSyncUpdatingWatch(e,s,i);const n=0!=(2&r)?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b7)(e,s,t,d):e.watch(s,t,d);return this.handles.add(n,i),{remove:()=>{this.handles.remove(i);}}}addOnCollectionPropertyChange(e,s,t,r=0){const d=0!=(2&r),i=++this.handleId;return this.handles.add([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d1)(e,s,"after-changes",this.createSyncUpdatingCallback()),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d1)(e,s,"change",t,d?e=>{t({added:e.items,removed:[],moved:[],target:e});}:void 0)],i),{remove:()=>{this.handles.remove(i);}}}addOnCollectionChange(e,s,t=0){const r=0!=(2&t),d=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",s)],d),r&&s({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(d);}}}addPromise(e){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return e;const t$1=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(p)||this._set("updating",!1));}},t$1),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t$1);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1);}installSyncUpdatingWatch(e,s,r$1){const d=this.createSyncUpdatingCallback(),i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d2)((()=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d3)(e,s)),d);return this.handles.add(i,r$1),i}createSyncUpdatingCallback(){return ()=>{this.handles.remove(p),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cS)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(p));})),p);}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],l.prototype,"updating",void 0),l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.support.WatchUpdatingTracking")],l);const p=-42;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const a=t=>{let a=class extends t{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy());}get handles(){return this._get("handles")||new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b6}get updatingHandles(){return this._get("updatingHandles")||new l}};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],a.prototype,"handles",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],a.prototype,"updatingHandles",null),a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.HandleOwner")],a),a};let d=class extends(a(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1)){};d=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.HandleOwner")],d);



//# sourceMappingURL=HandleOwner-cd6ca1f5.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/Pipeline-2d0b1c75.js":
/*!************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/Pipeline-2d0b1c75.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ A$2),
/* harmony export */   E: () => (/* binding */ E$3),
/* harmony export */   K: () => (/* binding */ K),
/* harmony export */   M: () => (/* binding */ M$2),
/* harmony export */   P: () => (/* binding */ P$1),
/* harmony export */   T: () => (/* binding */ T$1),
/* harmony export */   _: () => (/* binding */ _$4),
/* harmony export */   a: () => (/* binding */ _$3),
/* harmony export */   b: () => (/* binding */ Pipeline),
/* harmony export */   o: () => (/* binding */ o$4),
/* harmony export */   t: () => (/* binding */ te),
/* harmony export */   u: () => (/* binding */ u$4),
/* harmony export */   v: () => (/* binding */ v$2)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./HandleOwner-cd6ca1f5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HandleOwner-cd6ca1f5.js");
/* harmony import */ var _TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileInfo-639e5038.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js");
/* harmony import */ var _TileKey_9a222b43_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TileKey-9a222b43.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileKey-9a222b43.js");
/* harmony import */ var _aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./aaBoundingRect-61971fe3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingRect-61971fe3.js");
/* harmony import */ var _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Query-39c34b93.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/Query-39c34b93.js");
/* harmony import */ var _quickselect_1279128f_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./quickselect-1279128f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/quickselect-1279128f.js");
/* harmony import */ var _featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./featureConversionUtils-87d39ccb.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureConversionUtils-87d39ccb.js");
/* harmony import */ var _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FieldsIndex-da237492.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FieldsIndex-da237492.js");
/* harmony import */ var _FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./FeatureSetReader-32450e35.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureSetReader-32450e35.js");
/* harmony import */ var _diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./diffUtils-d9afbcb3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/diffUtils-d9afbcb3.js");
/* harmony import */ var _definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./definitions-e63f4fe2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/definitions-e63f4fe2.js");
/* harmony import */ var _FramebufferObject_ce56921b_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./FramebufferObject-ce56921b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FramebufferObject-ce56921b.js");
/* harmony import */ var _aaBoundingBox_376a2b6e_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./aaBoundingBox-376a2b6e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingBox-376a2b6e.js");
/* harmony import */ var _QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./QueryEngine-5d92bf09.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/QueryEngine-5d92bf09.js");
/* harmony import */ var _arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./arcgisLayerUrl-36b3c3ab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js");
/* harmony import */ var _workers_e0859213_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./workers-e0859213.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/workers-e0859213.js");
/* harmony import */ var _query_3d91522a_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./query-3d91522a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js");
/* harmony import */ var _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./OptimizedGeometry-8812e4f6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OptimizedGeometry-8812e4f6.js");
/* harmony import */ var _geojson_c6c2d2cf_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./geojson-c6c2d2cf.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/geojson-c6c2d2cf.js");
/* harmony import */ var _pbf_777d666d_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./pbf-777d666d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbf-777d666d.js");
/* harmony import */ var _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pbfQueryUtils-8a9fc87d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbfQueryUtils-8a9fc87d.js");
/* harmony import */ var _TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./TimeExtent-7f857a39.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeExtent-7f857a39.js");
/* harmony import */ var _zscale_37987104_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./zscale-37987104.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js");


























/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function o$8(t,r){return [t,r]}function i$5(t,r,o){return t[0]=r,t[1]=o,t}function e$1(t,r,o,i,e){return t[0]=r,t[1]=o,t[2]=i,t[3]=e,t}const s$3=new _TileKey_9a222b43_js__WEBPACK_IMPORTED_MODULE_4__.e("0/0/0/0");class n$7{constructor(t,r,o,i,e,s,n,l,h,a,u,m){this.level=t,this.resolution=r,this.scale=o,this.origin=i,this.first=e,this.last=s,this.size=n,this.norm=l,this.worldStart=h,this.worldEnd=a,this.worldSize=u,this.wrap=m;}static create(r,e,s){const l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(r.spatialReference),h=o$8(r.origin.x,r.origin.y),a=o$8(r.size[0]*e.resolution,r.size[1]*e.resolution),u=o$8(-1/0,-1/0),m=o$8(1/0,1/0),g=o$8(1/0,1/0);let w,d,c,f;return s&&(i$5(u,Math.max(0,Math.floor((s.xmin-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymax)/a[1]))),i$5(m,Math.max(0,Math.floor((s.xmax-h[0])/a[0])),Math.max(0,Math.floor((h[1]-s.ymin)/a[1]))),i$5(g,m[0]-u[0]+1,m[1]-u[1]+1)),r.isWrappable?(w=o$8(Math.ceil(Math.round((l.valid[1]-l.valid[0])/e.resolution)/r.size[0]),g[1]),d=o$8(Math.floor((l.origin[0]-h[0])/a[0]),u[1]),c=o$8(w[0]+d[0]-1,m[1]),f=!0):(d=u,c=m,w=g,f=!1),new n$7(e.level,e.resolution,e.scale,h,u,m,g,a,d,c,w,f)}normalizeCol(t){if(!this.wrap)return t;const r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return (t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return (this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,o=!1){s$3.set(r);const i=o?s$3.col:this.denormalizeCol(s$3.col,s$3.world),n=s$3.row;return e$1(t,this.getXForColumn(i),this.getYForRow(n+1),this.getXForColumn(i+1),this.getYForRow(n)),t}getTileCoords(t,r,o=!1){s$3.set(r);const e=o?s$3.col:this.denormalizeCol(s$3.col,s$3.world);return Array.isArray(t)?i$5(t,this.getXForColumn(e),this.getYForRow(s$3.row)):(t.x=this.getXForColumn(e),t.y=this.getYForRow(s$3.row)),t}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class l$c{constructor(){this.spans=[];}acquire(o){this.lodInfo=o;}release(){this.lodInfo=null,this.spans.length=0;}forEach(o,l){const{spans:s,lodInfo:t}=this,{level:e}=t;if(0!==s.length)for(const{row:r,colFrom:n,colTo:c}of s)for(let s=n;s<=c;s++)o.call(l,e,r,t.normalizeCol(s),t.getWorldForColumn(s));}}l$c.pool=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cg(l$c);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class o$7{constructor(o,t,s){this.row=o,this.colFrom=t,this.colTo=s;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const i$4=new _TileKey_9a222b43_js__WEBPACK_IMPORTED_MODULE_4__.e("0/0/0/0");class n$6{constructor(e,t,o,l,s,i,n,r){this.x=e,this.ymin=t,this.ymax=o,this.invM=l,this.leftAdjust=s,this.rightAdjust=i,this.leftBound=n,this.rightBound=r;}static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[o,l]=e,[s,i]=t,r=s-o,a=i-l,h=0!==a?r/a:0,c=(Math.ceil(l)-l)*h,f=(Math.floor(l)-l)*h;return new n$6(o,Math.floor(l),Math.ceil(i),h,r<0?c:f,r<0?f:c,r<0?s:o,r<0?o:s)}incrRow(){this.x+=this.invM;}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const r$7=[[0,0],[0,0],[0,0],[0,0]],a$6=1e-6;class h$d{constructor(e,t){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const l=e.lods.slice();l.sort((function(e,t){return t.scale-e.scale}));const s=this._lodInfos=l.map((l=>n$7.create(e,l,t)));l.forEach(((e,t)=>{this._infoByLevel[e.level]=s[t],this._infoByScale[e.scale]=s[t],this.scales[t]=e.scale;}),this),this._wrap=e.isWrappable;}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,o=!1){i$4.set(t);const l=this._infoByLevel[i$4.level];return l?l.getTileBounds(e,i$4,o):e}getTileCoords(e,t,o=!1){i$4.set(t);const l=this._infoByLevel[i$4.level];return l?l.getTileCoords(e,i$4,o):e}getTileCoverage(e,t=192,o="closest"){const i="closest"===o?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),a=l$c.pool.acquire(i),h=this._wrap;let c,f,u,m=1/0,g=-1/0;const d=a.spans;r$7[0][0]=r$7[0][1]=r$7[1][1]=r$7[3][0]=-t,r$7[1][0]=r$7[2][0]=e.size[0]+t,r$7[2][1]=r$7[3][1]=e.size[1]+t;for(const l of r$7)e.toMap(l,l),l[0]=i.getColumnForX(l[0]),l[1]=i.getRowForY(l[1]);const y=[];let _=3;for(let l=0;l<4;l++){if(r$7[l][1]===r$7[_][1]){_=l;continue}const e=n$6.create(r$7[l],r$7[_]);m=Math.min(e.ymin,m),g=Math.max(e.ymax,g),void 0===y[e.ymin]&&(y[e.ymin]=[]),y[e.ymin].push(e),_=l;}if(null==m||null==g||g-m>100)return null;let v=[];for(c=m;c<g;){null!=y[c]&&(v=v.concat(y[c])),f=1/0,u=-1/0;for(let e=v.length-1;e>=0;e--){const t=v[e];f=Math.min(f,t.getLeftCol()),u=Math.max(u,t.getRightCol());}if(f=Math.floor(f),u=Math.floor(u),c>=i.first[1]&&c<=i.last[1])if(h)if(i.size[0]<i.worldSize[0]){const e=Math.floor(u/i.worldSize[0]);for(let t=Math.floor(f/i.worldSize[0]);t<=e;t++)d.push(new o$7(c,Math.max(i.getFirstColumnForWorld(t),f),Math.min(i.getLastColumnForWorld(t),u)));}else d.push(new o$7(c,f,u));else f>i.last[0]||u<i.first[0]||(f=Math.max(f,i.first[0]),u=Math.min(u,i.last[0]),d.push(new o$7(c,f,u)));c+=1;for(let e=v.length-1;e>=0;e--){const t=v[e];t.ymax>=c?t.incrRow():v.splice(e,1);}}return a}getTileParentId(e){i$4.set(e);const t=this._infoByLevel[i$4.level],o=this._lodInfos.indexOf(t)-1;return o<0?null:(this._getTileIdAtLOD(i$4,this._lodInfos[o],i$4),i$4.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){i$4.set(t);const o=this._infoByLevel[i$4.level],l=e.lodInfo;if(l.resolution>o.resolution){this._getTileIdAtLOD(i$4,l,i$4);const t=l.denormalizeCol(i$4.col,i$4.world);for(const o of e.spans)if(o.row===i$4.row&&o.colFrom<=t&&o.colTo>=t)return !0}if(l.resolution<o.resolution){const[t,s,n,r]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=o.denormalizeCol(i$4.col,i$4.world),h=l.getColumnForX(o.getXForColumn(a)),c=l.getRowForY(o.getYForRow(i$4.row)),f=l.getColumnForX(o.getXForColumn(a+1))-1,u=l.getRowForY(o.getYForRow(i$4.row+1))-1;return !(h>r||f<n||c>s||u<t)}const s=l.denormalizeCol(i$4.col,i$4.world);return e.spans.some((e=>e.row===i$4.row&&e.colFrom<=s&&e.colTo>=s))}normalizeBounds(t,o,l){if(t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],this._wrap){const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(this.tileInfo.spatialReference),s=-l*(o.valid[1]-o.valid[0]);t[0]+=s,t[2]+=s;}return t}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let o=1;o<t.length-1;o++)if(e>t[o]+a$6)return this._infoByScale[t[o-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,o)=>Math.abs(o-e)<Math.abs(t-e)?o:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let o=t.length-1;o>=0;o--)if(e<t[o]){if(o===t.length-1)return this._infoByScale[t[t.length-1]].level;return this._infoByScale[t[o]].level+(t[o]-e)/(t[o]-t[o+1])}return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}_getTileIdAtLOD(e,t,o){const l=this._infoByLevel[o.level];return e.set(o),t.resolution<l.resolution?null:(t.resolution===l.resolution||(e.level=t.level,e.col=Math.floor(o.col*l.resolution/t.resolution+.01),e.row=Math.floor(o.row*l.resolution/t.resolution+.01)),e)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class l$b{constructor(e,t){this.key=new _TileKey_9a222b43_js__WEBPACK_IMPORTED_MODULE_4__.e(0,0,0,0),this.bounds=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_5__.i)(),this.objectIds=new Set,this.key.set(t);const s=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=s.resolution,this.scale=s.scale,this.level=s.level,this.needsClear=!0;}get id(){return this.key.id}get extent(){return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return {originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}get bbox(){const e=this.bounds;return {minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}}clone(){return new l$b(this.tileInfoView,this.key)}createChildTiles(){const t=this.key.getChildKeys(),i=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cQ.acquire();for(let e=0;e<t.length;e++)i[e]=new l$b(this.tileInfoView,t[e]);return i}getQuantizationParameters(){return _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_6__.a.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function i$3(t,n){if(!(this instanceof i$3))return new i$3(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this.toBBox=n:this._initFormat(n)),this.clear();}function n$5(t,i,n){if(!n)return i.indexOf(t);for(var h=0;h<i.length;h++)if(n(t,i[h]))return h;return -1}function h$c(t,i){a$5(t,0,t.children.length,i,t);}function a$5(t,i,n,h,a){a||(a=x$2(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var e,o=i;o<n;o++)e=t.children[o],r$6(a,t.leaf?h(e):e);return a}function r$6(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function e(t,i){return t.minX-i.minX}function o$6(t,i){return t.minY-i.minY}function s$2(t){return (t.maxX-t.minX)*(t.maxY-t.minY)}function l$a(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m$6(t,i){return (Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function c$7(t,i){var n=Math.max(t.minX,i.minX),h=Math.max(t.minY,i.minY),a=Math.min(t.maxX,i.maxX),r=Math.min(t.maxY,i.maxY);return Math.max(0,a-n)*Math.max(0,r-h)}function u$8(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f$4(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x$2(t){return {children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d$7(i,n,h,a,r){for(var e,o=[n,h];o.length;)(h=o.pop())-(n=o.pop())<=a||(e=n+Math.ceil((h-n)/a/2)*a,(0,_quickselect_1279128f_js__WEBPACK_IMPORTED_MODULE_7__.r)(i,e,n,h,r),o.push(n,e,e,h));}i$3.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],h=this.toBBox;if(!f$4(t,i))return n;for(var a,r,e,o,s=[];i;){for(a=0,r=i.children.length;a<r;a++)e=i.children[a],f$4(t,o=i.leaf?h(e):e)&&(i.leaf?n.push(e):u$8(t,o)?this._all(e,n):s.push(e));i=s.pop();}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f$4(t,i))return !1;for(var h,a,r,e,o=[];i;){for(h=0,a=i.children.length;h<a;h++)if(r=i.children[h],f$4(t,e=i.leaf?n(r):r)){if(i.leaf||u$8(t,e))return !0;o.push(r);}i=o.pop();}return !1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var h=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else {if(this.data.height<h.height){var a=this.data;this.data=h,h=a;}this._insert(h,this.data.height-h.height-1,!0);}else this.data=h;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x$2([]),this},remove:function(t,i){if(!t)return this;for(var h,a,r,e,o=this.data,s=this.toBBox(t),l=[],m=[];o||l.length;){if(o||(o=l.pop(),a=l[l.length-1],h=m.pop(),e=!0),o.leaf&&-1!==(r=n$5(t,o.children,i)))return o.children.splice(r,1),l.push(o),this._condense(l),this;e||o.leaf||!u$8(o,s)?a?(h++,o=a.children[h],e=!1):o=null:(l.push(o),m.push(h),h=0,a=o,o=o.children[0]);}return this},toBBox:function(t){return t},compareMinX:e,compareMinY:o$6,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,a){var r,e=n-i+1,o=this._maxEntries;if(e<=o)return h$c(r=x$2(t.slice(i,n+1)),this.toBBox),r;a||(a=Math.ceil(Math.log(e)/Math.log(o)),o=Math.ceil(e/Math.pow(o,a-1))),(r=x$2([])).leaf=!1,r.height=a;var s,l,m,c,u=Math.ceil(e/o),f=u*Math.ceil(Math.sqrt(o));for(d$7(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d$7(t,s,m=Math.min(s+f-1,n),u,this.compareMinY),l=s;l<=m;l+=u)c=Math.min(l+u-1,m),r.children.push(this._build(t,l,c,a-1));return h$c(r,this.toBBox),r},_chooseSubtree:function(t,i,n,h){for(var a,r,e,o,l,c,u,f;h.push(i),!i.leaf&&h.length-1!==n;){for(u=f=1/0,a=0,r=i.children.length;a<r;a++)l=s$2(e=i.children[a]),(c=m$6(t,e)-l)<f?(f=c,u=l<u?l:u,o=e):c===f&&l<u&&(u=l,o=e);i=o||i.children[0];}return i},_insert:function(t,i,n){var h=this.toBBox,a=n?t:h(t),e=[],o=this._chooseSubtree(a,this.data,i,e);for(o.children.push(t),r$6(o,a);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(a,e,i);},_split:function(t,i){var n=t[i],a=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,a);var e=this._chooseSplitIndex(n,r,a),o=x$2(n.children.splice(e,n.children.length-e));o.height=n.height,o.leaf=n.leaf,h$c(n,this.toBBox),h$c(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o);},_splitRoot:function(t,i){this.data=x$2([t,i]),this.data.height=t.height+1,this.data.leaf=!1,h$c(this.data,this.toBBox);},_chooseSplitIndex:function(t,i,n){var h,r,e,o,l,m,u,f;for(m=u=1/0,h=i;h<=n-i;h++)o=c$7(r=a$5(t,0,h,this.toBBox),e=a$5(t,h,n,this.toBBox)),l=s$2(r)+s$2(e),o<m?(m=o,f=h,u=l<u?l:u):o===m&&l<u&&(u=l,f=h);return f},_chooseSplitAxis:function(t,i,n){var h=t.leaf?this.compareMinX:e,a=t.leaf?this.compareMinY:o$6;this._allDistMargin(t,i,n,h)<this._allDistMargin(t,i,n,a)&&t.children.sort(h);},_allDistMargin:function(t,i,n,h){t.children.sort(h);var e,o,s=this.toBBox,m=a$5(t,0,i,s),c=a$5(t,n-i,n,s),u=l$a(m)+l$a(c);for(e=i;e<n-i;e++)o=t.children[e],r$6(m,t.leaf?s(o):o),u+=l$a(m);for(e=n-i-1;e>=i;e--)o=t.children[e],r$6(c,t.leaf?s(o):o),u+=l$a(c);return u},_adjustParentBBoxes:function(t,i,n){for(var h=n;h>=0;h--)r$6(i[h],t);},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():h$c(t[n],this.toBBox);},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};");}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const h$b={added:[],removed:[]},r$5=new Set,d$6=new _TileKey_9a222b43_js__WEBPACK_IMPORTED_MODULE_4__.e(0,0,0,0);class l$9 extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB{constructor(t){super(),this._tiles=new Map,this._index=i$3(9,(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t;}destroy(){this.clear();}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear();}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}findByKey(e){return this._tiles.get(e.id)}minLOD(){return Math.min(...this.tiles.map((e=>e.level)))}intersections(e,t){const s="string"==typeof e?this.get(e):e;if(!s)return [];const i=t*s.resolution,n=s.bounds[0]-i,o=s.bounds[1]-i,h=s.bounds[2]+i,r=s.bounds[3]+i,d=[];for(const l of this._index.search({minX:n,minY:o,maxX:h,maxY:r})){const e=l.bounds.slice();e[0]=Math.max(e[0],n),e[1]=Math.max(e[1],o),e[2]=Math.min(e[2],h),e[3]=Math.min(e[3],r),e[2]-e[0]>0&&e[3]-e[1]>0&&d.push({bounds:e,tile:l});}return d}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const s of e.added)if(!this.has(s)){const e=new l$b(this.tileScheme,s);this._tiles.set(s,e),this._index.insert(e),t.added.push(e);}for(const s of e.removed)if(this.has(s)){const e=this.get(s);this._tiles.delete(s),this._index.remove(e),t.removed.push(e);}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t);}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:s,lodInfo:o}=t,{level:l}=o;if(s.length>0)for(const{row:i,colFrom:a,colTo:m}of s)for(let e=a;e<=m;e++){const t=d$6.set(l,i,o.normalizeCol(e),o.getWorldForColumn(e)).id;if(r$5.add(t),!this.has(t)){const e=new l$b(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),h$b.added.push(e);}}for(let i=this.tiles.length-1;i>=0;i--){const e=this.tiles[i];r$5.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(i,1),this._index.remove(e),h$b.removed.push(e));}(h$b.added.length||h$b.removed.length)&&this.emit("update",h$b),l$c.pool.release(t),r$5.clear(),h$b.added.length=0,h$b.removed.length=0;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function o$5(o){return "heatmap"===o?__webpack_require__.e(/*! import() */ "extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Heat-e7baa5").then(__webpack_require__.bind(__webpack_require__, /*! ./HeatmapProcessor-1363c34e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HeatmapProcessor-1363c34e.js")):Promise.all(/*! import() */[__webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ecfd9b"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-2b132b"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fe3e9c")]).then(__webpack_require__.bind(__webpack_require__, /*! ./SymbolProcessor-adb60c42.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/SymbolProcessor-adb60c42.js"))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t$5{constructor(){this.source=!1,this.targets={feature:!1,aggregate:!1},this.storage={filters:!1,data:!1},this.mesh=!1,this.queryFilter=!1,this.why={mesh:[],source:[]};}static create(e){const s=new t$5;for(const t in e){const r=e[t];if("object"==typeof r)for(const e in r){const a=r[e];s[t][e]=a;}s[t]=r;}return s}static empty(){return t$5.create({})}static all(){return t$5.create({source:!0,targets:{feature:!0,aggregate:!0},storage:{filters:!0,data:!0},mesh:!0})}unset(t){t.source&&(this.source=!1),t.targets.feature&&(this.targets.feature=!1),t.targets.aggregate&&(this.targets.aggregate=!1),t.storage.filters&&(this.storage.filters=!1),t.storage.data&&(this.storage.data=!1),t.mesh&&(this.mesh=!1),t.queryFilter&&(this.queryFilter=!1);}any(){return this.source||this.mesh||this.storage.filters||this.storage.data||this.targets.feature||this.targets.aggregate||this.queryFilter}describe(){let t=0,e="";if(this.mesh){t+=20,e+="-> (20) Mesh needs update\n";for(const t of this.why.mesh)e+=`    + ${t}\n`;}if(this.source){t+=10,e+="-> (10) The source needs update\n";for(const t of this.why.source)e+=`    + ${t}\n`;}this.targets.feature&&(t+=5,e+="-> (5) Feature target parameters changed\n"),this.storage.filters&&(t+=5,e+="-> (5) Feature filter parameters changed\n"),this.targets.aggregate&&(t+=4,e+="-> (4) Aggregate target parameters changed\n"),this.storage.data&&(t+=1,e+="-> (1) Texture storage parameters changed");const s=t<5?"Fastest":t<10?"Fast":t<15?"Moderate":t<20?"Slow":"Very Slow";console.debug(`Applying ${s} update of cost ${t}/45 `),console.debug(e);}toJSON(){return {queryFilter:this.queryFilter,source:this.source,targets:this.targets,storage:this.storage,mesh:this.mesh}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function h$a({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s;}}class c$6 extends _FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.d{constructor(t,e,r){super(t),this._featureIndex=-1,this._dateFields=new Set,this._geometryType=r,this._features=e;}static fromFeatures(t,e,s){const i=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.K)([],t,e,!1,!1,s);for(let r=0;r<i.length;r++)i[r].displayId=t[r].displayId;return c$6.fromOptimizedFeatures(i,e)}static fromFeatureSet(t,e){const r=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.o)(t,e);return c$6.fromOptimizedFeatureSet(r)}static fromOptimizedFeatureSet(t){const{features:e,geometryType:r}=t,s=c$6.fromOptimizedFeatures(e,r);s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform;for(const i of t.fields)"esriFieldTypeDate"===i.type&&s._dateFields.add(i.name);return s}static fromOptimizedFeatures(t,e,r){const s=_FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.d.createInstance(),i=new c$6(s,t,e);return i._transform=r,i}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return !!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return !1}get hasM(){return !1}getApproximateSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t="";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t;}getObjectId(){return this._current.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t;}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t;}copy(){const t=new c$6(this.instance,this._features,this.geometryType);return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._passesFilter()&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.W)(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readGeometry();return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.e)(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const t=this.readCentroid();return t?{x:t.coords[0]*this._sx+this._tx,y:t.coords[1]*this._sy+this._ty}:null}readGeometryArea(){return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.y)(this._current.geometry,2)}readUnquantizedGeometry(){const t=this.readGeometry();if("esriGeometryPoint"===this.geometryType||!t)return t;const e=t.clone();return h$a(e),e}readHydratedGeometry(){const e=this._current.geometry;if(!e)return null;const r=e.clone();return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._transform)&&(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.a)(r,r,this.hasZ,this.hasM,this._transform),r}getXHydrate(){const t=this._current.geometry.coords[0],r=this.getQuantizationTransform();return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(r)?t:t*r.scale[0]+r.translate[0]}getYHydrate(){const t=this._current.geometry.coords[1],r=this.getQuantizationTransform();return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(r)?t:r.translate[1]-t*r.scale[1]}getX(){return this._current.geometry.coords[0]*this._sx+this._tx}getY(){return this._current.geometry.coords[1]*this._sy+this._ty}readGeometry(){if(!this._current.hasGeometry)return null;const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){if(!this._current.hasGeometry)return null;if(!this._current.centroid){const t=this._computeCentroid();if(!t)return null;t.coords[0]=(t.coords[0]-this._tx)/this._sx,t.coords[1]=(t.coords[1]-this._ty)/this._sy,this._current.centroid=t;}const t=this._current.centroid.clone();return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sx+this._ty,t}_readAttribute(t,e){const r=this._current.attributes[t];if(void 0!==r)return null!=r&&e&&this._dateFields.has(t)?new Date(r):r;const s=this.readAttributes(),i=t.toLocaleLowerCase().trim();for(const n in s)if(n.toLocaleLowerCase().trim()===i){const t=this._current.attributes[n];return null!=t&&e&&this._dateFields.has(n)?new Date(t):t}}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._dateFields=this._dateFields;}_readAttributes(){return this._current.attributes}_passesFilter(){if(!this._hasFilter)return !0;let t=0,e=0;switch(this.geometryType){case"esriGeometryPoint":{const r=this._current.geometry;if(!r)return !1;[t,e]=r.coords;break}case"esriGeometryPolygon":{const r=this.readCentroid();if(!r)return !1;[t,e]=r.coords,t-=this._tx,e-=this._ty;break}default:return !1}return t>=this._xmin&&t<=this._xmax&&e>=this._ymin&&e<=this._ymax}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t$4{constructor(e=(e=>e.values().next().value)){this._peeker=e,this._items=new Set;}get length(){return this._items.size}clear(){this._items.clear();}peek(){if(0!==this._items.size)return this._peeker(this._items)}push(e){this.contains(e)||this._items.add(e);}contains(e){return this._items.has(e)}pop(){if(0===this.length)return;const t=this.peek();return this._items.delete((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aF)(t)),t}remove(e){this._items.delete(e);}filter(e){return this._items.forEach((t=>{e(t)||this._items.delete(t);})),this}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class l$8{constructor(e,s){this.item=e,this.controller=s,this.promise=null;}}class _$4{constructor(s){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,s.concurrency&&(this.concurrency=s.concurrency),this._queue=new t$4(s.peeker),this.process=s.process;const t=s.scheduler;s.task&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&(this._task=t.registerTask(s.task,(e=>this.update(e)),(()=>this.needsUpdate())));}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null);}get length(){return this._processingItems.size+this._queue.length}abort(e){const s=this._controllers.get(e);s&&s.abort();}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext();}forEach(e){this._deferreds.forEach(((s,t)=>e(t)));}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext());}push(s,c){const n=this.get(s);if(n)return n;const u=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)();let l=null;c&&(l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b8)(c,(()=>u.abort())));const _=()=>{const e=this._processingItems.get(s);e&&e.controller.abort(),a(),p.reject((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b9)());},a=()=>{d.remove(),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(l)&&l.remove(),this._deferreds.delete(s),this._controllers.delete(s),this._queue.remove(s),this._processingItems.delete(s),this._scheduleNext();},d=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bj)(u.signal,_),p=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cR)();return this._deferreds.set(s,p),this._controllers.set(s,u),p.promise.then(a,a),this._queue.push(s),this._scheduleNext(),p.promise}reset(){const e=[];this._processingItems.forEach((s=>e.push(s))),this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext();}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext());}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}needsUpdate(){return !this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}update(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress();}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cS)((()=>{this._schedule=null,this._next();})));}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop());}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null);}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s));}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s));}_canProcessFulfillment(e){return !!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return;let r;const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)(),h=new l$8(e,i);this._processingItems.set(e,h);try{r=this.process(e,i.signal);}catch(o){this._processError(h,o);}(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Q)(r)?(h.promise=r,r.then((e=>this._processResult(h,e)),(e=>this._processError(h,e)))):this._processResult(h,r);}get test(){return {update:e=>this.update(e)}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var E$3,T$2,I$3,L$2,A$2,_$3,O$2;!function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL";}(E$3||(E$3={})),function(E){E[E.SUCCEEDED=0]="SUCCEEDED",E[E.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY";}(T$2||(T$2={})),function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES";}(I$3||(I$3={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION";}(L$2||(L$2={})),function(E){E[E.NONE=0]="NONE",E[E.OPACITY=1]="OPACITY",E[E.COLOR=2]="COLOR",E[E.ROTATION=4]="ROTATION",E[E.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",E[E.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",E[E.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",E[E.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE";}(A$2||(A$2={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE";}(_$3||(_$3={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH";}(O$2||(O$2={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class h$9{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0;}acquire(o,h,s,t,i,l,r,e,c){this.color=o,this.haloColor=h,this.haloSize=s,this.size=t,this.angle=i,this.offsetX=l,this.offsetY=r,this.hAnchor=e,this.vAnchor=c;}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0;}}h$9.pool=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cg(h$9);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const u$7=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.2d.engine.webgl.Utils"),f$3="geometry",d$5=[{name:f$3,strideInBytes:32,divisor:0}],p$6=[{name:f$3,strideInBytes:32,divisor:0}],h$8=[{name:f$3,strideInBytes:12,divisor:0}],w$3=[{name:f$3,strideInBytes:36,divisor:0}],v$3=[{name:f$3,strideInBytes:32,divisor:0}],y$5=[{name:f$3,strideInBytes:36,divisor:0}];function g$3(e){const r={};for(const t of e)r[t.name]=t.strideInBytes;return r}const b$1=g$3(d$5),L$1=g$3(p$6),A$1=g$3(h$8),I$2=g$3(w$3),E$2=g$3(v$3),j$2=g$3(y$5);function T$1(e,r){switch(e){case E$3.MARKER:return b$1;case E$3.FILL:return r?A$1:L$1;case E$3.LINE:return I$2;case E$3.TEXT:return E$2;case E$3.LABEL:return j$2}}function k$3(e){return "number"==typeof e}function K(e,t){switch(e){case"butt":return 0;case"round":return t?2:1;case"square":return 2;default:return u$7.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-invalid-type",`Cap type ${e} is not a valid option. Defaulting to round`)),1}}function P$1(e){switch(e){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return u$7.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-invalid-type",`Join type ${e} is not a valid option. Defaulting to round`)),1}}function Y(e){switch(e){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void u$7.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("webgl-utils",`Unable to handle type ${e}`))}}function te(e){e(E$3.MARKER),e(E$3.FILL),e(E$3.LINE),e(E$3.TEXT),e(E$3.LABEL);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const n$4=(n,l)=>n&&((...n)=>l.warn("DEBUG:",...n))||(()=>null),l$7=!1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const l$6=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.2d.engine.webgl");function o$4(e){return k$3(e.minDataValue)&&k$3(e.maxDataValue)&&null!=e.minSize&&null!=e.maxSize?A$2.SIZE_MINMAX_VALUE:(e.expression&&"view.scale"===e.expression||e.valueExpression&&"$view.scale"===e.valueExpression)&&Array.isArray(e.stops)?A$2.SIZE_SCALE_STOPS:(null!=e.field||e.expression&&"view.scale"!==e.expression||e.valueExpression&&"$view.scale"!==e.valueExpression)&&(Array.isArray(e.stops)||"levels"in e&&e.levels)?A$2.SIZE_FIELD_STOPS:(null!=e.field||e.expression&&"view.scale"!==e.expression||e.valueExpression&&"$view.scale"!==e.valueExpression)&&null!=e.valueUnit?A$2.SIZE_UNIT_VALUE:(l$6.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-bad-type","Found invalid size VisualVariable",e)),A$2.NONE)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function r$4(e,t){if(!e||!t)return e;switch(t){case"radius":case"distance":return 2*e;case"diameter":case"width":return e;case"area":return Math.sqrt(e)}return e}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const w$2=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.layers.2d.features.support.AttributeStore"),A=n$4(l$7,w$2),k$2=2147483647,D$1=2147483648,E$1=254,F$1=255,U=0,R$3=1,C$3=t=>(t&D$1)>>>31,M$2=t=>t&k$2,B=t=>C$3(t)===R$3?E$1:F$1;function v$2(t){return C$3(t)===R$3}const j$1={sharedArrayBuffer:(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-shared-array-buffer"),atomics:(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-atomics")};function I$1(t,e){return i=>e(t(i))}class P{constructor(t,e,i,s){this.size=0,this.texelSize=4;const{pixelType:r,layout:a,textureOnly:o}=s;this.textureOnly=o||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,o||(this.data=this._initData(r,i,t,e));}get buffer(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cW)(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1;}setComponentAllTexels(t,e){const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data);for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1;}setComponent(t,e,i){const s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data);for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r);}setComponentTexel(t,e,i){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data)[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i);}unsetComponentTexel(t,e,i){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data)[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i);}getData(t,e){const i=M$2(t);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data)[i*this.texelSize+e]}setData(t,e,i){const s=M$2(t),r=1<<e;0!=(this.layout&r)?(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):w$2.error("mapview-attributes-store","Tried to set a value for a texel's readonly component");}lock(){5121===this.pixelType&&this._shared&&j$1.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,1);}unlock(){5121===this.pixelType&&this._shared&&j$1.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,0);}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data);e.set(i),this.data=e;}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||"local"===this._ctype),r=this.pixelType,a=this.layout,n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.data);if(!n.slice){if(!s)return {start:t,end:e,data:null,pixelType:r,layout:a};return {start:t,end:e,data:new(Y(this.pixelType))(Array.prototype.slice.call(this.data,t*i,(e+1)*i)),pixelType:r,layout:a}}return {start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&"local"!==s?SharedArrayBuffer:ArrayBuffer,a=Y(t),o=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let n=0;n<o.length;n+=4)o[n+1]=255;return o}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0;}}class O$1{constructor(t,e){this._client=t,this.config=e,this._attributeComputeMap=new Map,this._blocks=new Array,this._filters=new Array(_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.N),this._targetType=0,this._abortController=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)(),this._hasScaleExpr=!1,this._size=32,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?5126:5121;A(`Creating AttributeStore ${j$1.sharedArrayBuffer?"with":"without"} shared memory`),this._blockDescriptors=[{pixelType:5121,layout:1},{pixelType:5121,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null));}destroy(){this._abortController.abort();}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}update(i,s){this.config=s;const r=s.schema.processors[0].storage,a=(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.m)(this._schema,r);if((i.targets.feature||i.targets.aggregate)&&(i.storage.data=!0),a&&((0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:",a),i.storage.data=!0,this._schema=r,this._attributeComputeMap.clear(),!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(r))){switch(r.target){case"feature":this._targetType=U;break;case"aggregate":this._targetType=R$3;}for(const t of r.mapping)this._bindAttribute(t);}}onTileData(t,i){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(i.addOrUpdate))return;const s=i.addOrUpdate.getCursor();for(;s.next();){const t=s.getDisplayId();this.setAttributeData(t,s);}}invalidateResources(){this._createResourcesPromise=null,this._abortController.abort(),this._abortController=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)();}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>M$2(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates();}async updateFilters(e,i){const{config:s,service:r,spatialReference:a}=i,{filters:o}=s,n=o.map(((t,e)=>this._updateFilter(t,e,r,a)));(await Promise.all(n)).some((t=>t))&&(e.storage.filters=!0,(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:","Filters changed"));}setData(t,e,i,s){const r=M$2(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s);}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.O:0}unsetAttributeData(t){const e=M$2(t);this._getBlock(0).setData(e,0,0);}setAttributeData(t,e){const i=M$2(t);if(this._ensureSizeForTexel(i),this._getBlock(0).setData(i,0,this.getFilterFlags(e)),this._targetType!==C$3(t))return;const s=this._attributeComputeMap,r=this.config.supportsTextureFloat?1:2,a=4;s.size&&s.forEach(((t,s)=>{const o=s*r%a,n=Math.floor(s*r/a),l=this._getBlock(n+_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.K),h=t(e);if(this.config.supportsTextureFloat)l.setData(i,o,h);else if(h===_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.c)l.setData(i,o,255),l.setData(i,o+1,255);else {const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cq)(Math.round(h),-32767,32766)+32768,e=255&t,s=(65280&t)>>8;l.setData(i,o,e),l.setData(i,o+1,s);}}));}sendUpdates(){if(this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cT)(),this._nextUpdate.promise;const t={blocks:this._blocks.map((t=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const e=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()));}},i=this._client.update(t,this._signal).then(e).catch(e);return this._client.render(this._signal),i})).catch((t=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(t)?(this._createResourcesPromise=null,this._createResources()):(w$2.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-attribute-store","Encountered an error during client update",t)),Promise.resolve()))),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t){function e(){return t.normalizationField?e=>{const i=e.readAttribute(t.normalizationField);if(!i)return null;return e.readAttribute(t.field)/i}:e=>e.readAttribute(t.field)}function i(){return t.normalizationField&&w$2.warn("mapview-arcade","Ignoring normalizationField specified with an arcade expression which is not supported."),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let s;if(null!=t.fieldIndex)s=i();else {if(!t.field)return;s=e();}if(t.valueRepresentation){s=I$1(s,(e=>r$4(e,t.valueRepresentation)));}const r=t=>null===t||isNaN(t)||t===1/0?_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.c:t;this._attributeComputeMap.set(t.binding,I$1(s,r));}_createResources(){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._createResourcesPromise))return this._createResourcesPromise;this._getBlock(_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.J),A("Initializing AttributeStore");const t={shared:j$1.sharedArrayBuffer&&!("local"===this._client.type),size:this._size,blocks:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cU)(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},r=this._client.initialize(t,this._signal).catch((t=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(t)?this._createResourcesPromise=null:w$2.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-attribute-store","Encountered an error during client initialization",t));}));return this._createResourcesPromise=r,r.then((()=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(this._createResourcesPromise)?this._createResources():void 0)),r}_getBlock(t){const e=this._blocks[t];if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e))return e;A(`Initializing AttributeBlock at index ${t}`);const s=j$1.sharedArrayBuffer,r=this._client.type,a=new P(s,r,this._size,this._blockDescriptors[t]);return this._blocks[t]=a,this._createResourcesPromise=null,a}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return A("Expanding block size to",t,this._blocks),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cV)(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return w$2.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-limitations","Maximum number of onscreen features exceeded.")),-1}async _updateFilter(t,s,r,a){const o=this._filters[s],n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(o)&&o.hash;if(!o&&!t)return !1;if(n===JSON.stringify(t))return !1;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t)){const t=1<<s+1,e=this._getBlock(0);return this._filters[s]=null,e.setComponentAllTexels(0,t),this.sendUpdates(),!0}const l=await this._getFilter(s,r);return await l.update(t,a),!0}async _getFilter(t,e){const s=this._filters[t];if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(s))return s;const{default:r}=await __webpack_require__.e(/*! import() */ "extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Feat-6fce58").then(__webpack_require__.bind(__webpack_require__, /*! ./FeatureFilter-05c50d5a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureFilter-05c50d5a.js")),a=new r({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_9__.e(e.fields)});return this._filters[t]=a,a}isVisible(t){return !!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let i=0;const s=B(t.getDisplayId());for(let a=0;a<this._filters.length;a++){const r=!!(s&1<<a),o=this._filters[a];i|=(!r||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(o)||o.check(t)?1:0)<<a;}let r=0;if(this._idsToHighlight.size){const e=t.getObjectId();r=this.getHighlightFlag(e);}return i<<1|r}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const t$3=2147483648;function u$6(e,r){return ((r?t$3:0)|e)>>>0}class d$4{constructor(){this._freeIds=[],this._idCounter=1;}createId(e=!1){return u$6(this._getFreeId(),e)}releaseId(e){this._freeIds.push(e);}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function s$1(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s);}const i$2=2147483647,n$3=2147483648,r$3=(t,e)=>((e?n$3:0)|t)>>>0;class u$5{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new d$4,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[];}createBitset(){const e=this._bitsets.length;return this._bitsets.push(_FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.t.create(this._allocatedSize,i$2)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize);}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);s$1(this._numerics[t],e,0);}_ensureInstanceId(t){s$1(this._instanceIds,t,0);}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);s$1(this._strings[t],e,null);}createDisplayId(t=!1){const e=this._idGenerator.createId();return e>this._allocatedSize&&this._expand(),r$3(e,t)}releaseDisplayId(t){for(const e of this._bitsets)e.unset(t);return this._idGenerator.releaseId(t&i$2)}getComputedNumeric(t,e){return this.getComputedNumericAtIndex(t&i$2,0)}setComputedNumeric(t,e,s){return this.setComputedNumericAtIndex(t&i$2,s,0)}getComputedString(t,e){return this.getComputedStringAtIndex(t&i$2,0)}setComputedString(t,e,s){return this.setComputedStringAtIndex(t&i$2,0,s)}getComputedNumericAtIndex(t,e){const s=t&i$2;return this._ensureNumeric(e,s),this._numerics[e][s]}setComputedNumericAtIndex(t,e,s){const n=t&i$2;this._ensureNumeric(e,n),this._numerics[e][n]=s;}getInstanceId(t){const e=t&i$2;return this._ensureInstanceId(e),this._instanceIds[e]}setInstanceId(t,e){const s=t&i$2;this._ensureInstanceId(s),this._instanceIds[s]=e;}getComputedStringAtIndex(t,e){const s=t&i$2;return this._ensureString(e,s),this._strings[e][s]}setComputedStringAtIndex(t,e,s){const n=t&i$2;this._ensureString(e,n),this._strings[e][n]=s;}getXMin(t){return this._bounds[4*(t&i$2)]}getYMin(t){return this._bounds[4*(t&i$2)+1]}getXMax(t){return this._bounds[4*(t&i$2)+2]}getYMax(t){return this._bounds[4*(t&i$2)+3]}setBounds(t,e){const n=e.readHydratedGeometry();if(!n||!n.coords.length)return !1;let r=1/0,u=1/0,h=-1/0,o=-1/0;n.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),h=Math.max(h,t),o=Math.max(o,e);}));const d=t&i$2;return s$1(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=h,this._bounds[4*d+3]=o,!0}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class s{constructor(t=Number.POSITIVE_INFINITY){this.size=0,this._start=0,this.maxSize=t,this._buffer=isFinite(t)?new Array(t):[];}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=t:this._buffer[this._start+this.size++]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(s){if(0===this.size)return null;for(const i of this._buffer)if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&s(i))return i;return null}clear(s){let i=this.dequeue();for(;(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i);)s&&s(i),i=this.dequeue();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function r$2(r,a,t){r.referencesGeometry();const n=a.readArcadeFeature();try{return r.evaluate({...t,$feature:n})}catch(o){return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",o),null}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const c$5=__webpack_require__.e(/*! import() */ "extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_labe-6b8c12").then(__webpack_require__.bind(__webpack_require__, /*! ./labelFormatUtils-5b2b3d4e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/labelFormatUtils-5b2b3d4e.js"));class o$3{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._bitsets={computed:s.getBitset(s.createBitset())};}invalidate(){this._bitsets.computed.clear();}async updateSchema(t,r){const c=(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.m)(this._schema,r);if(this._schema=r,!r||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(c)||!(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.a)(c,"attributes"))return;(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&console.debug("Applying Update - Store:",c),this._bitsets.computed.clear(),t.targets[r.name]=!0;const o=r.attributes,n=[],p=[];for(const e in o){const s=o[e];switch(s.type){case"field":break;case"expression":n.push(this._createArcadeComputedField(s));break;case"label-expression":n.push(this._createLabelArcadeComputedField(s));break;case"statistic":p.push(s);}}this._computedFields=await Promise.all(n),this._canCacheExpressionValue=!this._computedFields.some((e=>"expression"===e.type&&e.expression.referencesScale())),this._statisticFields=p;}setComputedAttributes(e,s,t,i){const a=this._bitsets.computed;if(!this._canCacheExpressionValue||!a.has(t)){a.set(t);for(const a of this._computedFields){const r=this._evaluateField(s,a,i);switch(a.resultType){case"numeric":e.setComputedNumericAtIndex(t,a.fieldIndex,r);break;case"string":e.setComputedStringAtIndex(t,a.fieldIndex,r);}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return {...e,expression:await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cX)(e.valueExpression,s,i)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fields,{createLabelFunction:i}=await c$5,a=await i(e.label,t,s);return {...e,builder:a}}_evaluateField(e,s,t){switch(s.type){case"label-expression":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||""}case"expression":{const{expression:i}=s;return r$2(i,e,{$view:{scale:t}})}}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class r$1 extends _FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.d{constructor(r,t){super(_FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.d.createInstance()),this._currentIndex=-1,this._reader=r,this._indices=t;}static from(e,t){return new r$1(e.copy(),t)}get hasNext(){return this._currentIndex+1<this._indices.length}getApproximateSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r$1(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._passesFilter()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return ++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e);}attachStorage(e){this._reader.attachStorage(e);}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r);}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}extent(e,r,t,d){const a=this.copy();return a._reader=this._reader.extent(e,r,t,d),a}hasFilter(){return this._reader.hasFilter()}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(){return this._reader.castToText()}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrate(){return this._reader.getXHydrate()}getYHydrate(){return this._reader.getYHydrate()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_passesFilter(){return this._reader._passesFilter()}_readAttribute(e,r){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}_readAttributes(){throw new Error("Error: Should not be called. Underlying _reader should be used instead")}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function h$7(t,e){return t<<16|e}function c$4(t){return (4294901760&t)>>>16}function I(t){return 65535&t}const u$4={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class l$5 extends o$3{constructor(t,e,s$1){super(t,e),this.featureAdapter=u$4,this.events=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new s(50),this._index=i$3(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this._storage=e,this.mode=s$1;}get storage(){return this._storage}get storeStatistics(){return {featureCount:0,vertexCount:0}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(e,s){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(s.addOrUpdate))return s;if(s.addOrUpdate.attachStorage(this._storage),"snapshot"===this.mode){const t=s.addOrUpdate.getCursor();for(;t.next();){const s=t.getDisplayId();this.setComputedAttributes(this._storage,t,s,e.scale);}return s}this._featureSetsByInstance.set(s.addOrUpdate.instance,s.addOrUpdate);const a=s.addOrUpdate.getCursor();for(;a.next();)this._insertFeature(a,e.scale);return this._spatialIndexInvalid=!0,this.events.emit("changed"),s}search(t){this._rebuildIndex();const s=t.id,a=this._indexSearchCache.find((t=>t.tileId===s));if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(a))return a.readers;const r=new Map,n=this._searchIndex(t.bounds),i=[];for(const e of n){const t=this._storage.getInstanceId(e),s=c$4(t),a=I(t);r.has(s)||r.set(s,[]);r.get(s).push(a);}return r.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);i.push(r$1.from(s,t));})),this._indexSearchCache.enqueue({tileId:s,readers:i}),i}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){var a;const t=h$7(e.instance,e.getIndex()),r=e.getObjectId(),n=null!=(a=this._objectIdToDisplayId.get(r))?a:this._storage.createDisplayId();e.setDisplayId(n),s.setInstanceId(n,t),this._objectIdToDisplayId.set(r,n);}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0;}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=I(s),r=c$4(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0;}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a);}));}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=c$4(s),r=I(s),n=this._getFeatureSet(a);n.setIndex(r),t(n);}));}forEachInBounds(t,e){const a=this._searchIndex(t);for(const r of a){const t=this.lookupFeatureByDisplayId(r,this._storage);e((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(t));}}forEachBounds(t,e,s){this._rebuildIndex();const a=[0,0,0,0];for(const r of t){if(!r.readGeometry())continue;const t=r.getDisplayId();a[0]=this._storage.getXMin(t),a[1]=this._storage.getYMin(t),a[2]=this._storage.getXMax(t),a[3]=this._storage.getYMax(t),e((0,_aaBoundingBox_376a2b6e_js__WEBPACK_IMPORTED_MODULE_14__.O)(s,a));}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r));})),this.events.emit("changed");}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s);}));}lookupObjectId(e,s){const a=this.lookupFeatureByDisplayId(e,s);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(a)?null:a.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=c$4(e),a=I(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=h$7(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e);}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];"snapshot"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e);}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e);})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1;}_lookupFeature(t){const e=c$4(t),s=I(t),a=this._getFeatureSet(e);if(!a)return null;const r=a.getCursor();return r.setIndex(s),r}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.graphics.sources.ogcfeature");const h$6="json";function k$1(e){const t=/^http:\/\/www\.opengis\.net\/def\/crs\/(.+)\/(.+)\/(.+)$/i.exec(e);if(!t)return null;const[,r,,i]=t;switch(r.toLowerCase()){case"ogc":switch(i.toLowerCase()){case"crs27":return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.GCS_NAD_1927;case"crs83":return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:4269});case"crs84":case"crs84h":return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84;default:return null}case"esri":case"epsg":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:900913===e?_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:e})}default:return null}}async function D(t,r,i){const{capabilities:{query:{maxRecordCount:s}},collectionId:d,layerDefinition:f,spatialReference:y,supportedCrs:g,url:b}=t,w=`${b}/collections/${d}/items`,{geometry:I,num:j,start:T,timeExtent:S,where:x}=r;if(r.objectIds)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");const N=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.fromJSON(y),$=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Y)(r.outSpatialReference,N),k=$.isWGS84?null:M$1($,g),q=G(I,g),O=v$1(S),D=C$2(x),R=null!=j?j:null!=T&&void 0!==T?10:s,{data:W}=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(w,{...i,query:{...q,crs:k,datetime:O,query:D,limit:R,startindex:T,f:h$6}});let Z=!1;if(W.links){Z=!!W.links.find((e=>"next"===e.rel));}!Z&&Number.isInteger(W.numberMatched)&&Number.isInteger(W.numberReturned)&&(Z=W.numberReturned<W.numberMatched);const{fields:L,globalIdField:J,hasM:E,hasZ:U,objectIdField:_}=f,z=f.geometryType,A=(0,_geojson_c6c2d2cf_js__WEBPACK_IMPORTED_MODULE_20__.T)(W,{geometryType:z,hasZ:U,objectIdFieldName:_});if(!k&&$.isWebMercator)for(const e of A)if(e.geometry){const t=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.e)(e.geometry,z,U,!1);t.spatialReference=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84,e.geometry=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.X)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(t,$));}for(const e of A)e.objectId=e.attributes[_];const B=k||!k&&$.isWebMercator?$.toJSON():_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ct,Q=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.e;return Q.exceededTransferLimit=Z,Q.features=A,Q.fields=L,Q.geometryType=z,Q.globalIdFieldName=J,Q.hasM=E,Q.hasZ=U,Q.objectIdFieldName=_,Q.spatialReference=B,Q}function R$2(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)&&"extent"===e.type}function M$1(e,t){return t.find((t=>{const r=k$1(t);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(r,e)}))}function W(e){const{xmin:t,ymin:r,xmax:i,ymax:n}=e;return `${t},${r},${i},${n}`}function v$1(e){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return null;const{start:r,end:i}=e;return `${r?r.toISOString():".."}/${i?i.toISOString():".."}`}function C$2(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)||!e||"1=1"===e?null:e}function G(e,t){if(!R$2(e))return null;const{spatialReference:r}=e;if(!r||r.isWGS84)return {bbox:W(e)};const i=M$1(r,t);return i?{bbox:W(e),"bbox-crs":i}:r.isWebMercator?{bbox:W((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(e,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84))}:null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const r=268435455;class n$2{constructor(){this.fieldMap=new Map,this.fields=[],this.hasFeatures=!1,this.fieldCount=0,this.featureCount=0,this.objectIdFieldIndex=0,this.offsets={attributes:new Array,geometry:new Array},this.centroid=new Array;}hasField(e){return this.fieldMap.has(e)}isDateField(e){var t;return null==(t=this.fieldMap.get(e))?void 0:t.isDate}getFieldIndex(e){var t;return null==(t=this.fieldMap.get(e))?void 0:t.index}}function a$4(e){const t=1,r=2,n=e.getLength(),a=e.pos()+n,i={name:"",isDate:!1};for(;e.pos()<a&&e.next();)switch(e.tag()){case t:i.name=e.getString();break;case r:"esriFieldTypeDate"===(0,_pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_22__.g)(e.getEnum())&&(i.isDate=!0);break;default:e.skip();}return i}function i$1(e){return e.toLowerCase().trim()}function o$2(s,o,c=!1){const f=1,d=3,l=9,u=12,g=13,p=15,h=s.pos(),m=new n$2;let b=0,w=0;const k=1,y=2,I=4,x=3;let F=null,L=null,A=null,S=!1;for(;s.next();)switch(s.tag()){case f:F=s.getString();break;case d:L=s.getString();break;case u:A=s.processMessage(_pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_22__.I);break;case l:if(m.exceededTransferLimit=s.getBool(),m.exceededTransferLimit){m.offsets.geometry=c?new Float64Array(8e3):new Int32Array(8e3),m.centroid=c?new Float64Array(16e3):new Int32Array(16e3);for(let e=0;e<m.centroid.length;e++)m.centroid[e]=r;}break;case g:{const e=a$4(s),t=e.name,r=i$1(e.name),n={fieldName:t,index:b++,isDate:e.isDate};m.fields.push(n),m.fieldMap.set(e.name,n),m.fieldMap.set(r,n);break}case p:{const e=s.getLength(),t=s.pos()+e;if(!m.exceededTransferLimit){const e=m.offsets.geometry,t=m.centroid;e.push(0),t.push(r),t.push(r);}!S&&m.exceededTransferLimit&&(S=!0,m.offsets.attributes=c?new Float64Array(8e3*b):new Uint32Array(8e3*b));let n=w*b;for(;s.pos()<t&&s.next();)switch(s.tag()){case k:{if(S)m.offsets.attributes[n++]=s.pos();else {m.offsets.attributes.push(s.pos());}const e=s.getLength();s.skipLen(e);break}case y:if(o){const e=s.getLength(),t=s.pos()+e;for(;s.pos()<t&&s.next();)switch(s.tag()){case x:{s.getUInt32();const e=s.getSInt64(),t=s.getSInt64();m.centroid[2*w]=e,m.centroid[2*w+1]=t;break}default:s.skip();}}else {m.offsets.geometry[w]=s.pos();const e=s.getLength();s.skipLen(e);}break;case I:{const e=s.getLength(),t=s.pos()+e;for(;s.pos()<t&&s.next();)switch(s.tag()){case x:{s.getUInt32();const e=s.getSInt64(),t=s.getSInt64();m.centroid[2*w]=e,m.centroid[2*w+1]=t;break}default:s.skip();}break}default:s.skip();}w++,m.hasFeatures=!0;break}default:s.skip();}const M=F||L;if(!M)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("FeatureSet has no objectId or globalId field name");return m.featureCount=w,m.fieldCount=b,m.objectIdFieldIndex=m.getFieldIndex(M),m.transform=A,m.displayIds=new Uint32Array(m.featureCount),m.groupIds=new Uint16Array(m.featureCount),s.move(h),m}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const c$3=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.view.2d.layers.features.support.FeatureSetReaderPBF"),_$2=268435455;function g$2(e){return e.toLowerCase().trim()}function l$4(e){try{const t=2,r=new _pbf_777d666d_js__WEBPACK_IMPORTED_MODULE_21__.n(new Uint8Array(e),new DataView(e));for(;r.next();)switch(r.tag()){case t:return f$2(r.getMessage());default:r.skip();}}catch(t){const e=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:t});c$3.error(e);}return null}function f$2(e){const t=1;for(;e.next();)switch(e.tag()){case t:return e.getMessage();default:e.skip();}return null}function y$4(e){const t=1,r=2,s=3,i=4,a=5,n=6,h=7,o=8,d=9,u=e.getLength(),c=e.pos()+u;for(;e.pos()<c&&e.next();)switch(e.tag()){case t:{const t=e.getString();return ""===t?null:t}case r:return e.getFloat();case s:return e.getDouble();case i:return e.getSInt32();case a:return e.getUInt32();case n:return e.getInt64();case h:return e.getUInt64();case o:return e.getSInt64();case d:return e.getBool();default:return e.skip(),null}return null}class m$5 extends _FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.d{constructor(e,t,r,s){super(e),this._hasNext=!1,this._isPoints=!1,this._isPolygons=!1,this._featureIndex=-1,this._featureOffset=0,this._cache={area:0,unquantGeometry:void 0,geometry:void 0,centroid:void 0,legacyFeature:void 0,optFeature:void 0},this._geometryType=s,this._reader=t,this._header=r,this._hasNext=r.hasFeatures,this._isPoints="esriGeometryPoint"===s,this._isPolygons="esriGeometryPolygon"===s;}static fromBuffer(e,t,r=!1){const s=l$4(e),i=o$2(s,"esriGeometryPoint"===t,r),a=_FeatureSetReader_32450e35_js__WEBPACK_IMPORTED_MODULE_10__.d.createInstance();return new m$5(a,s,i,t)}get geometryType(){return this._geometryType}get size(){return this._header.featureCount}get hasZ(){return !1}get hasM(){return !1}get stride(){return 2+(this.hasZ?1:0)+(this.hasM?1:0)}get hasFeatures(){return this._header.hasFeatures}get hasNext(){return this._hasNext}get exceededTransferLimit(){return this._header.exceededTransferLimit}getApproximateSize(){if(this._hasFilter){const e=Math.abs(this._xmax-this._xmin)*Math.abs(this._ymax-this._ymin),t=this.size*e/262144;return Math.max(Math.round(t),0)}return this.size}getQuantizationTransform(){return this._header.transform}getCursor(){return this.copy()}getIndex(){return this._featureIndex}setIndex(e){this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0,this._featureIndex=e;}getAttributeHash(){let e="";return this._header.fields.forEach((({index:t})=>{e+=this._readAttributeAtIndex(t)+".";})),e}getObjectId(){return this._readAttributeAtIndex(this._header.objectIdFieldIndex)}getDisplayId(){return this._header.displayIds[this._featureIndex]}setDisplayId(e){this._header.displayIds[this._featureIndex]=e;}getGroupId(){return this._header.groupIds[this._featureIndex]}setGroupId(e){this._header.groupIds[this._featureIndex]=e;}readLegacyFeature(){if(void 0===this._cache.legacyFeature){var e;const t=this.readCentroid(),r={attributes:this.readAttributes(),geometry:this._isPoints?this.readLegacyPointGeometry():this.readLegacyGeometry(),centroid:null!=(e=t&&{x:t.coords[0],y:t.coords[1]})?e:null};return this._cache.legacyFeature=r,r}return this._cache.legacyFeature}readOptimizedFeature(){if(void 0===this._cache.optFeature){const e=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.t(this.readGeometry(),this.readAttributes(),this.readCentroid());return e.objectId=this.getObjectId(),e.displayId=this.getDisplayId(),this._cache.optFeature=e,e}return this._cache.optFeature}getXHydrate(){const t=this._header.centroid[2*this._featureIndex],r=this.getQuantizationTransform();return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(r)?t:t*r.scale[0]+r.translate[0]}getYHydrate(){const t=this._header.centroid[2*this._featureIndex+1],r=this.getQuantizationTransform();return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(r)?t:r.translate[1]-t*r.scale[1]}getX(){return this._header.centroid[2*this._featureIndex]*this._sx+this._tx}getY(){return this._header.centroid[2*this._featureIndex+1]*this._sy+this._ty}readLegacyPointGeometry(){return {x:this.getX(),y:this.getY()}}readLegacyGeometry(){const e=this.readGeometry();return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.e)(e,this.geometryType,!1,!1)}readLegacyCentroid(){const e=this.readCentroid();if(!e)return null;const[t,r]=e.coords;return {x:t,y:r}}readGeometryArea(){return this._cache.area||this.readGeometry(),this._cache.area}readUnquantizedGeometry(){if(void 0===this._cache.unquantGeometry){const e=this.readGeometry();if(!e)return this._cache.unquantGeometry=null,null;const t=e.clone(),r=t.lengths,s=t.coords;for(let i=0,a=2;i<r.length;i++,a+=2){const e=r[i];for(let t=1;t<e;t+=1,a+=2)s[a]+=s[a-2],s[a+1]+=s[a-1];}return this._cache.unquantGeometry=t,t}return this._cache.unquantGeometry}readHydratedGeometry(){if(this._isPoints){const e=this.getXHydrate(),t=this.getYHydrate();return new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a([],[e,t])}const e=this.readGeometry();if(!e)return null;const r=e.clone(),s=this.getQuantizationTransform();return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(s)&&(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.a)(r,r,this.hasZ,this.hasM,s),r}readGeometry(){if(void 0===this._cache.geometry){let t=null;if(this._isPoints){const e=this.getX(),r=this.getY();t=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a([],[e,r]);}else {const r=this._header.offsets.geometry[this._featureIndex],s=this._reader;if(0===r)return null;s.move(r);try{t=this._parseGeometry(s);}catch(e){return console.error("Failed to parse geometry!",e),null}}return this._cache.geometry=t,t}return this._cache.geometry}readCentroid(){if(void 0===this._cache.centroid){let e=null;const t=this._header.centroid[2*this._featureIndex]+this._tx,r=this._header.centroid[2*this._featureIndex+1]+this._ty;return t===_$2?(e=this._computeCentroid(),e&&(this._header.centroid[2*this._featureIndex]=e.coords[0]-this._tx,this._header.centroid[2*this._featureIndex+1]=e.coords[1]-this._ty)):e=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a([],[t,r]),this._cache.centroid=e,e}return this._cache.centroid}copy(){const e=this._reader.clone(),t=new m$5(this.instance,e,this._header,this.geometryType);return this.copyInto(t),t}next(){for(this._cache.area=0,this._cache.unquantGeometry=void 0,this._cache.geometry=void 0,this._cache.centroid=void 0,this._cache.legacyFeature=void 0,this._cache.optFeature=void 0;++this._featureIndex<this.size&&!this._passesFilter()&&!this._getExists(););return this._featureIndex<this.size}_readAttribute(e,t){const r=this._header.hasField(e)?e:g$2(e),s=this._header.getFieldIndex(r);if(null==s)return;const i=this._readAttributeAtIndex(s);if(!t)return i;if(null==i)return i;return this._header.isDateField(r)?new Date(i):i}_readAttributes(){const e={};return this._header.fields.forEach((({fieldName:t,index:r})=>{e[t]=this._readAttributeAtIndex(r);})),e}copyInto(e){super.copyInto(e),e._featureIndex=this._featureIndex,e._featureOffset=this._featureOffset,e._hasNext=this._hasNext;}_passesFilter(){if(!this._hasFilter)return !0;let e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];if(e===_$2){if(this._isPolygons&&!this.readCentroid())return !1;e=this._header.centroid[2*this._featureIndex],t=this._header.centroid[2*this._featureIndex+1];}return e>=this._xmin&&e<=this._xmax&&t>=this._ymin&&t<=this._ymax}_readAttributeAtIndex(e){const t=this._header.offsets.attributes[this._featureIndex*this._header.fieldCount+e],r=this._reader;return r.move(t),y$4(r)}_preprocessPolygon(e,t){let r=0,s=0,i=0,n=!1,h=!1,o=!1,d=-1;const u=1e6,c=[];let _=0,g=!1;for(let a=0;a<t.length;a++){const l=t[a];let f=e[2*r],y=e[2*r+1],m=0;for(let t=1;t<l;t++){const s=f,i=y,a=f+e[2*(r+t)],n=y+e[2*(r+t)+1];f=a,y=n,m+=.5*((a-s)*(n+i));}const p=m>0;if(p&&g&&(s+=l),p||(d++,g=!1),d>=u)break;_+=m,n&&p&&h&&(o=!0);{e[2*i]=e[2*s],e[2*i+++1]=e[2*s+++1];let t=1,r=e[2*s],a=e[2*s+++1];for(let n=2;n<l;n++){const n=e[2*s],h=e[2*s+++1];0===r*h-n*a&&r*n+a*h>0?(r+=n,a+=h):(e[2*i]=r,e[2*i+++1]=a,t++,r=n,a=h);}e[2*i]=r,e[2*i+++1]=a,t++,c.push(t);}n=!1,h=!0,r+=l;}return c.length?(this._cache.area=Math.abs(_),new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a(c,e,o)):null}_parseGeometry(e){const t=1,r=2,s=3,i=e.getLength(),n=e.pos()+i,h=[],o=[];for(;e.pos()<n&&e.next();)switch(e.tag()){case r:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)o.push(e.getUInt32());break}case s:{const t=e.getUInt32(),r=e.pos()+t;for(;e.pos()<r;)h.push(e.getSInt32()),h.push(e.getSInt32()),this.hasZ&&e.getSInt32(),this.hasM&&e.getSInt32();break}case t:default:e.skip();}let d=0;for(const a of o)h[2*d]+=this._tx,h[2*d+1]+=this._ty,d+=a;return this._isPolygons?this._preprocessPolygon(h,o):new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a(o,h)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class l$3{constructor(e){this.service=e;}destroy(){}}function m$4(e){return Array.isArray(e.source)}function p$5(e){return e&&e.capabilities&&e.collectionId&&e.layerDefinition&&e.url}function y$3(t){const{capabilities:r}=t;return p$5(t.source)?new v(t):m$4(t)?new f$1(t):r.query.supportsFormatPBF&&(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("featurelayer-pbf")?new d$3(t):new h$5(t)}class f$1 extends l$3{constructor(e){super(e),this._portsOpen=(0,_workers_e0859213_js__WEBPACK_IMPORTED_MODULE_17__.f)(e.source).then((e=>this.client=e));}destroy(){this.client.close(),this.client=null;}async executeQuery(e,t){await this._portsOpen;const r=await this.client.invoke("queryFeatures",e.toJSON(),t);return c$6.fromFeatureSet(r,this.service.objectIdField)}}class d$3 extends l$3{async executeQuery(e,t){const{data:r}=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_18__.d)(this.service.source,e,{...t,query:{...this.service.customParameters,...null==t?void 0:t.query}}),s=!e.quantizationParameters;return m$5.fromBuffer(r,this.service.geometryType,s)}}class h$5 extends l$3{async executeQuery(e,i){const{source:a,capabilities:c,spatialReference:u,objectIdField:l}=this.service;if(e.quantizationParameters&&!c.query.supportsQuantization){const t=e.clone();t.quantizationParameters=null;const{data:c}=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_18__.y)(a,t,u,{...i,query:{...this.service.customParameters,...null==i?void 0:i.query}}),m=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.o)(c,l);return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.s)(i.transform,m),c$6.fromOptimizedFeatureSet(m)}const{data:m}=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_18__.y)(a,e,this.service.spatialReference,{...i,query:{...(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.service.customParameters),...null==i?void 0:i.query}});return c$6.fromFeatureSet(m,this.service.objectIdField)}}class v extends l$3{async executeQuery(e,t){const{capabilities:r}=this.service;if(e.quantizationParameters&&!r.query.supportsQuantization){e.clone().quantizationParameters=null;const r=await D(this.service.source,e,t);return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.s)(t.transform,r),c$6.fromOptimizedFeatureSet(r)}const i=await D(this.service.source,e,t);return c$6.fromOptimizedFeatureSet(i)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let u$3=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1{constructor(e){super(e),this._queue=[],this._onGoingRequest=null,this._abortController=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)();}destroy(){this.clear();}get updating(){return !this.destroyed&&(this._queue.length>0||null!=this._onGoingRequest)}clear(){if(this.destroyed)throw new Error("instance is already destroyed");let e=this._queue.pop();for(;e;)e.resolver.reject((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b9)()),e=this._queue.pop();this._queue.length=0,this._abortController.abort(),this._abortController=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)();}async push(e){if(this.destroyed)throw new Error("instance is already destroyed");const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cT)();return this._queue.push({event:e,resolver:t}),this.notifyChange("updating"),Promise.resolve().then((()=>{this._processNext();})),t.promise}async _processNext(){if(this._onGoingRequest)return;const e=[],t=new Set,s=new Set,r=new Set;let o=this._queue.shift();for(;o;){const{event:{addedFeatures:i,deletedFeatures:n,updatedFeatures:u},resolver:a}=o;e.push(a);for(const{objectId:e,error:o}of i)o||(t.add(e),s.add(e),r.delete(e));for(const{objectId:e,error:t}of u)t||(s.add(e),r.delete(e));for(const{objectId:e,error:o}of n)o||(t.has(e)?t.delete(e):r.add(e),s.delete(e));o=this._queue.shift();}if(!s.size&&!r.size)return this.notifyChange("updating"),void e.forEach((e=>e()));const i=[],n=[];s.size&&s.forEach((e=>{i.push(e);})),r.size&&r.forEach((e=>{n.push(e);})),this._onGoingRequest=Promise.resolve().then((()=>this.processEdits(i,n,{signal:this._abortController.signal}))).catch((()=>{})),this.notifyChange("updating"),await this._onGoingRequest,this._onGoingRequest=null,this.notifyChange("updating"),e.forEach((e=>e())),this._queue.length>0&&this._processNext();}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],u$3.prototype,"processEdits",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],u$3.prototype,"updating",null),u$3=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.2d.layers.features.controllers.EditsQueue")],u$3);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t$2{constructor(s$1){this.requests={done:new Array,stream:new s(10)},this._abortController=new AbortController,this.didSend=!1,this.tile=s$1;}get invalid(){return this._invalid}get signal(){return this._abortController.signal}get options(){return {signal:this._abortController.signal}}sentEnd(){return this.requests.done.some((e=>e.message.end))}clear(){this.requests.done=[];}applyUpdate(e){this.requests.done.forEach((s=>s.message.status.unset(e)));}invalidate(e){switch(e){case"fields":return void("none"===this._invalid&&(this._invalid="fields"));case"all":return void(this._invalid="all")}}done(){this._invalid="none";}add(e){var t;e.message.status=null!=(t=e.message.status)?t:t$5.empty(),this.requests.done.push(e),e.message.end&&(this.resolved=!0);}abort(){this._abortController.abort();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function l$2(e,s){const t=new Set;return e&&e.forEach((e=>t.add(e))),s&&s.forEach((e=>t.add(e))),t.has("*")?["*"]:Array.from(t)}class m$3{constructor(e){this.events=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB,this._pendingEdits=new Set,this._resolver=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cT)(),this._editsQueue=new u$3({processEdits:(e,s)=>this._processEdit(e,s)}),this._subscriptions=new Map,this._outSR=e.outSR,this._serviceInfo=e.serviceInfo,this._onTileUpdateMessage=e.onMessage;}destroy(){this._editsQueue.clear();}async _onMessage(e){var s;const t=this._subscriptions.get(e.id);if(!t)return;const i={...e,remove:null!=(s=e.remove)?s:[],status:e.status};return this._onTileUpdateMessage(i,t.options)}update(s,t){var i;const r=t.fields.length;t.outFields=l$2(null==(i=this._schema)?void 0:i.outFields,t.outFields),t.outFields=t.outFields.length>=.75*r?["*"]:t.outFields,t.outFields.sort();const h=(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.m)(this._schema,t);if(!h)return;(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&console.debug("Applying Update - Source:",h);const d={returnCentroid:(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-query-centroid-enabled")&&"esriGeometryPolygon"===this._serviceInfo.geometryType,returnGeometry:!0,outFields:t.outFields,outSpatialReference:this._outSR,orderByFields:[`${this._serviceInfo.objectIdField} ASC`],where:t.definitionExpression||"1=1",gdbVersion:t.gdbVersion,historicMoment:t.historicMoment?new Date(t.historicMoment):null,timeExtent:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_23__.d.fromJSON(t.timeExtent)},c=this._schema&&(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.a)(h,"outFields");this._schema&&(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.y)(h,["timeExtent","definitionExpression","gdbVersion","historicMoment"])&&(s.why.mesh.push("Layer filter changed"),s.why.source.push("Layer filter changed"),s.mesh=!0,s.source=!0,s.queryFilter=!0,this._invalidate("all")),c&&(s.why.source.push("Layer required fields changed"),s.source=!0,this._invalidate("fields")),(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.m)(d,this._queryInfo)&&(this._queryInfo=d),this._schema=t,this._resolver.resolve();}whenInitialized(){return this._resolver.promise}async applyUpdate(e){e.queryFilter?this.refresh():(this._subscriptions.forEach((s=>s.applyUpdate(e))),await this.resend());}refresh(){for(const e of this._tiles())this.unsubscribe(e),this.subscribe(e);}_tiles(){const e=[];return this._subscriptions.forEach((s=>e.push(s.tile))),e}pause(){this._subscriptions.forEach((e=>e.abort()));}subscribe(e){const s=new t$2(e);this._subscriptions.set(e.id,s);}unsubscribe(e){const t=this.get(e.id);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&t.abort(),this._subscriptions.delete(e.id);}forEachPendingEdit(e){Array.from(this._subscriptions.values()).some((e=>"none"!==e.invalid))?this._pendingEdits.forEach(e):this._pendingEdits.clear();}async edit(e){return this._editsQueue.push(e)}createQuery(e={}){return new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_6__.R({...this._queryInfo,...e})}get(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null}async queryLastEditDate(){throw new Error("Service does not support query type")}async query(e,s){throw new Error("Service does not support query")}_invalidate(e){this._subscriptions.forEach((s=>s.invalidate(e)));}async _processEdit(e,s){s.forEach((e=>{this._pendingEdits.has(e)&&this._pendingEdits.delete(e);})),e.forEach((e=>this._pendingEdits.add(e)));const t=Array.from(this._subscriptions.values()).map((({tile:e})=>e)).map((s=>{const t=this.createTileQuery(s);return t.objectIds=e,{tile:s,query:t}})).map((async({tile:e,query:s})=>({tile:e,result:await this.query(s)}))),r=(await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.P)(t)).map((async({tile:t,result:i})=>{if(!i.hasFeatures&&!s.length&&!e.length)return;return this._subscriptions.get(t.key.id)?this._onMessage({type:"update",id:t.key.id,addOrUpdate:i,remove:[...e,...s],end:!0,status:t$5.empty()}):void 0}));await Promise.all(r),this._invalidate("all");}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const y$2=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.2d.layers.features.sources.BaseFeatureSource"),h$4=4;class m$2 extends m$3{constructor(r){super(r),this.type="feature",this.mode="on-demand",this._adapter=y$3(r.serviceInfo),this._queue=new _$4({concurrency:8,process:async r=>{if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(r),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r.tile)){const t=r.tile.key.id,{tile:s,signal:i}=r,o={query:(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-tiles-debug")?{tile:t.replace(/\//g,"."),depth:r.depth}:void 0,signal:i,transform:s.transform};return this._adapter.executeQuery(r.query,o)}return this._adapter.executeQuery(r.query,r)}}),this._patchQueue=new _$4({concurrency:8,process:async r=>{if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(r),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r.tile)){const t=r.tile.key.id,{tile:s,signal:i}=r,o={query:(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-tiles-debug")?{tile:t.replace(/\//g,"."),depth:r.depth}:void 0,signal:i,transform:s.transform};return this._adapter.executeQuery(r.query,o)}return this._adapter.executeQuery(r.query,r)}});}destroy(){super.destroy(),this._adapter.destroy(),this._queue.destroy(),this._patchQueue.destroy();}get updating(){return !!this._queue.length}get maxRecordCountFactor(){const{query:e}=this._serviceInfo.capabilities;return e.supportsMaxRecordCountFactor?h$4:null}get maxPageSize(){var e;const{query:t}=this._serviceInfo.capabilities;return (null!=(e=t.maxRecordCount)?e:8e3)*(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Y)(this.maxRecordCountFactor,1)}get pageSize(){return Math.min(8e3,this.maxPageSize)}enableEvent(e,t){}subscribe(e){super.subscribe(e),this._fetchDataTile(e).catch((t=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(t)||y$2.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-query-error","Encountered error when fetching tile",{tile:e,error:t}));}));}unsubscribe(e){super.unsubscribe(e);}resume(){this._queue.resume();}forEachRequest(e,t){const r=this._subscriptions.get(e),{requests:s,signal:i}=r;for(const o of s.done)t(o.message,{signal:i});}async query(e,t){return this._adapter.executeQuery(e,t)}async queryLastEditDate(){const e=this._serviceInfo.source,t={...e.query,f:"json"};return (await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(e.path,{query:t,responseType:"json"})).data.editingInfo.lastEditDate}createTileQuery(e){const t=this.createQuery();return t.quantizationParameters=e.getQuantizationParameters(),t.resultType="tile",t.geometry=e.extent,"esriGeometryPolyline"===this._serviceInfo.geometryType&&(t.maxAllowableOffset=e.resolution),this._serviceInfo.capabilities.query.supportsQuantization||(t.quantizationParameters=null,t.maxAllowableOffset=e.resolution),t}_createQuery(e,t){const r=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_6__.R({...this._queryInfo,...t});return this._serviceInfo.capabilities.query.supportsQuantization||(t.quantizationParameters=null,r.maxAllowableOffset=e.resolution),t.quantizationParameters&&"esriGeometryPolyline"===this._serviceInfo.geometryType&&(r.maxAllowableOffset=e.resolution),r.resultType="tile",r.geometry=e.extent,r}async _executePatchQuery(e,r,s,i){const o=r.clone();o.outFields=[this._serviceInfo.objectIdField,...s],o.returnCentroid=!1,o.returnGeometry=!1;const a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(o.start)?o.start/8e3:0,n=i.signal;return this._patchQueue.push({tile:e,query:o,signal:n,depth:a})}async _resend(e,r){const{query:i,message:o}=e,n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i.outFields)?i.outFields:[],u=this._queryInfo.outFields,c=u.filter((e=>-1===n.indexOf(e)));if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(o.addOrUpdate))if(c.length)try{const e=this._subscriptions.get(o.id).tile,t=await this._executePatchQuery(e,i,c,r);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(r),i.outFields=u,o.addOrUpdate.joinAttributes(t),this._onMessage({...o,end:o.end,type:"append"});}catch(l){}else this._onMessage({...o,end:o.end,type:"append"});}async resend(){let e=0,t=!1;const r=[];for(this._subscriptions.forEach((e=>{e.requests.done.length||this._onMessage({id:e.tile.id,addOrUpdate:null,end:!1,type:"append"});}));!t;)t=!0,this._subscriptions.forEach((({requests:s,signal:i})=>{s.done.length>e&&(t=!1,r.push(this._resend(s.done[e],{signal:i})));})),e++;await Promise.all(r);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const i=(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-mobile"),a$3={maxDrillLevel:i?1:4,maxRecordCountFactor:i?1:3};class o$1 extends m$2{constructor(e){super(e);}async _fetchDataTile(e){const s=this._serviceInfo.capabilities.query.supportsMaxRecordCountFactor,i=this._subscriptions.get(e.key.id),o=i.signal,n=e.getQuantizationParameters();let c=0;const d=async(u,p)=>{const l=this._queryInfo,m=this._createQuery(u,{maxRecordCountFactor:s?a$3.maxRecordCountFactor:void 0,returnExceededLimitFeatures:!1,quantizationParameters:n});c++;try{const r=await this._queue.push({tile:e,query:m,signal:o,depth:p});if(c--,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(o),!r)return;if(l!==this._queryInfo)return void d(u,p);if(r.exceededTransferLimit&&p<a$3.maxDrillLevel){for(const e of u.createChildTiles())d(e,p+1);return}const s={id:e.id,addOrUpdate:r,end:0===c,type:"append"};i.add({query:m,message:s}),this._onMessage(s);}catch(h){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(h)||this._onMessage({id:e.id,addOrUpdate:null,end:!0,type:"append"});}};d(e,0);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const o="__esri_stream_id__",d$2="__esri_timestamp__",a$2=1e3;class h$3{constructor(t,e,s,i,r=128){this._trackIdToObservations=new Map,this._idCounter=0,this._lastPurge=performance.now(),this._addOrUpdated=new Map,this._removed=[],this._maxAge=0,this._timeInfo=s,this._purgeOptions=i,this.store=t,this.objectIdField=e,this.purgeInterval=r,this._useGeneratedIds=this.objectIdField===o;}add(s$1){if(this._useGeneratedIds){const t=this._nextId();s$1.attributes[this.objectIdField]=t,s$1.objectId=t;}else s$1.objectId=s$1.attributes[this.objectIdField];if(this._addOrUpdated.set(s$1.objectId,s$1),this._maxAge=Math.max(this._maxAge,s$1.attributes[this._timeInfo.startTimeField]),!this._timeInfo.trackIdField)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(this._trackIdLessObservations)&&(this._trackIdLessObservations=new s(1e5)),void this._trackIdLessObservations.enqueue(s$1.objectId);const o=s$1.attributes[this._timeInfo.trackIdField];if(!this._trackIdToObservations.has(o)){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._purgeOptions)&&null!=this._purgeOptions.maxObservations?this._purgeOptions.maxObservations:a$2,s$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cq)(t,0,a$2);this._trackIdToObservations.set(o,new s(s$1));}const d=this._trackIdToObservations.get(o).enqueue(s$1.objectId);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(d)&&(this._addOrUpdated.has(d)?this._addOrUpdated.delete(d):this._removed.push(d));}checkForUpdates(){const t=this._getToAdd(),s=this._getToRemove(),i=performance.now();i-this._lastPurge>=this.purgeInterval&&(this._purge(i),this._lastPurge=i);const r=[];if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(s))for(const o of s){const t=this.store.removeById(o);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&r.push(t);}if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t))for(const e of t)e.attributes[d$2]=i,this.store.add(e);(t||r)&&this.store.update(t,r);}_getToAdd(){if(!this._addOrUpdated.size)return null;const t=new Array(this._addOrUpdated.size);let e=0;return this._addOrUpdated.forEach((s=>t[e++]=s)),this._addOrUpdated.clear(),t}_getToRemove(){const t=this._removed;return this._removed.length?(this._removed=[],t):null}_nextId(){const t=this._idCounter;return this._idCounter=(this._idCounter+1)%4294967294+1,t}_purge(t){const s=this._purgeOptions;(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(s)&&(this._purgeSomeByDisplayCount(s),this._purgeByAge(s),this._purgeByAgeReceived(t,s),this._purgeTracks());}_purgeSomeByDisplayCount(t){if(!t.displayCount)return;let i=this.store.size;if(i>t.displayCount){if(this._timeInfo.trackIdField)for(const e of this._trackIdToObservations.values())if(i>t.displayCount&&e.size){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(e.dequeue());this._removed.push(t),i--;}if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._trackIdLessObservations)){let s=i-t.displayCount;for(;s-- >0;){const t=this._trackIdLessObservations.dequeue();(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&this._removed.push(t);}}}}_purgeByAge(t){var e;if(!t.age||null==(e=this._timeInfo)||!e.startTimeField)return;const s=60*t.age*1e3,i=this._maxAge-s;this.store.forEach((t=>{t.attributes[this._timeInfo.startTimeField]<i&&this._removed.push(t.objectId);}));}_purgeByAgeReceived(t,e){if(!e.ageReceived)return;const s=t+60*e.ageReceived*1e3;this.store.forEach((t=>{t.attributes[d$2]<s&&this._removed.push(t.objectId);}));}_purgeTracks(){this._trackIdToObservations.forEach(((t,e)=>{0===t.size&&this._trackIdToObservations.delete(e);}));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let t$1=class extends(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB.EventedMixin(_HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_2__.d)){onFeature(r){this.emit("feature",r);}};t$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.graphics.sources.connections.StreamConnection")],t$1);var c$2=t$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const p$4=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.graphics.sources.connections.WebSocketConnection");var h$2;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED";}(h$2||(h$2={}));let u$2=class extends c$2{constructor(e){super(),this.errorString=null;const{geometryType:t,spatialReference:o,sourceSpatialReference:r}=e;this._config=e,this._featureZScaler=(0,_zscale_37987104_js__WEBPACK_IMPORTED_MODULE_24__.t)(t,r,o),this._open();}async _open(){await this._tryCreateWebSocket(),this.destroyed||await this._handshake();}destroy(){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._websocket)&&(this._websocket.onopen=null,this._websocket.onclose=null,this._websocket.onerror=null,this._websocket.onmessage=null,this._websocket.close()),this._websocket=null;}get connectionStatus(){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(this._websocket))return "disconnected";switch(this._websocket.readyState){case h$2.CONNECTING:case h$2.OPEN:return "connected";case h$2.CLOSING:case h$2.CLOSED:return "disconnected"}}async _tryCreateWebSocket(e=this._config.source.path,t=1e3,o=0){try{if(this.destroyed)return;this._websocket=await this._createWebSocket(e),this.notifyChange("connectionStatus");}catch(r){const s=t/1e3;return this._config.maxReconnectionAttempts&&o>=this._config.maxReconnectionAttempts?(p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Exceeded maxReconnectionAttempts attempts. No further attempts will be made")),void this.destroy()):(p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection",`Failed to connect. Attempting to reconnect in ${s}s`,r)),await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cY)(t),this._tryCreateWebSocket(e,Math.min(1.5*t,1e3*this._config.maxReconnectionInterval),o+1))}}_createWebSocket(e){const t=new WebSocket(e),o=new Promise(((e,o)=>{t.onopen=()=>e(t),t.onclose=e=>o(e);}));return o.then((()=>{if(this.destroyed)return t.onclose=()=>{},void t.close();t.onclose=e=>this._onClose(e),t.onerror=e=>this._onError(e),t.onmessage=e=>this._onMessage(e);})),o}async _handshake(e=1e4){const t=this._websocket;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t))return;const r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cT)(),s=t.onmessage,{filter:n,outFields:i,spatialReference:l}=this._config;return r.timeout(e),t.onmessage=e=>{var o;let a=null;try{a=JSON.parse(e.data);}catch(d){}a&&"object"==typeof a||(p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Protocol violation. Handshake failed - malformed message",e.data)),r.reject(),this.destroy()),(null==(o=a.spatialReference)?void 0:o.wkid)!==(null==l?void 0:l.wkid)&&(p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection",`Protocol violation. Handshake failed - expected wkid of ${l.wkid}`,e.data)),r.reject(),this.destroy()),"json"!==a.format&&(p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Protocol violation. Handshake failed - format is not set",e.data)),r.reject(),this.destroy()),n&&a.filter!==n&&p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Tried to set filter, but server doesn't support it")),i&&a.outFields!==i&&p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Tried to set outFields, but server doesn't support it")),t.onmessage=s,r.resolve();},t.send(JSON.stringify({filter:n,outFields:i,format:"json",spatialReference:{wkid:l.wkid}})),r.promise}_onMessage(e){try{const t=JSON.parse(e.data);if("featureResult"!==t.type)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Protocol violation - Expected to find message of type 'featureResult'",t);for(const e of t.features)this._featureZScaler&&this._featureZScaler(e.geometry),this.onFeature(e);}catch(t){return p$4.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("websocket-connection","Failed to parse message",t)),void this.destroy()}}_onError(e){const t="Encountered an error over WebSocket connection";this._set("errorString",t),p$4.error("websocket-connection",t);}_onClose(e){this._websocket=null,this.notifyChange("connectionStatus"),1e3!==e.code&&p$4.error("websocket-connection",`WebSocket closed unexpectedly with error code ${e.code}`),this.destroyed||this._open();}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u$2.prototype,"connectionStatus",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u$2.prototype,"errorString",void 0),u$2=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.graphics.sources.connections.WebSocketConnection")],u$2);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const p$3=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.graphics.sources.connections.GeoEventConnection"),m$1=1e4,g$1={maxQueryDepth:5,maxRecordCountFactor:3};let _$1=class extends u$2{constructor(e){super({...g$1,...e});}async _open(){const e=await this._fetchServiceDefinition(this._config.source);e.timeInfo.trackIdField||p$3.warn("GeoEvent service was configured without a TrackIdField. This may result in certain functionality being disabled. The purgeOptions.maxObservations property will have no effect.");const t=await this._fetchWebSocketUrl(e.streamUrls,this._config.spatialReference);this._buddyServicesQuery||(this._buddyServicesQuery=this._queryBuddyServices()),await this._buddyServicesQuery,await this._tryCreateWebSocket(t);const{filter:r,outFields:o}=this._config;this.destroyed||this._setFilter(r,o);}_onMessage(e){let t;try{t=this._enrich(JSON.parse(e.data)),this._featureZScaler&&this._featureZScaler(t.geometry);}catch(r){return void p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Failed to parse message",r))}this.onFeature(t);}async _fetchServiceDefinition(e){const t={f:"json"},r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(e.path,{query:t,responseType:"json"}),o=(await r).data;return this._serviceDefinition=o,o}async _fetchWebSocketUrl(e,t){const r=e[0],{urls:o,token:s}=r;return `${this._inferWebSocketBaseUrl(o)}/subscribe?outSR=${t.wkid}${s?"&token="+s:""}`}_inferWebSocketBaseUrl(e){if(1===e.length)return e[0];for(const t of e)if(-1!==t.indexOf("wss"))return t;return p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Unable to infer WebSocket url",e)),null}async _setFilter(e,r){const o=this._websocket;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(o)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(r))return;const s=JSON.stringify({filter:this._serializeFilter(e,r)});let i=!1;const n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cT)(),u=()=>{i||(this.destroyed||this._websocket!==o||p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Server timed out when setting filter")),n.reject());},f=e=>{const t=JSON.parse(e.data);t.filter&&(t.error&&(p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Failed to set service filter",t.error)),this._set("errorString",`Could not set service filter - ${t.error}`),n.reject(t.error)),o.onmessage=this._onMessage.bind(this),i=!0,n.resolve());};return o.onmessage=f,o.send(s),setTimeout(u,m$1),n.promise}_serializeFilter(e,o){const s={};if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(o))return s;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)&&e.geometry)try{const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(e.geometry);if("extent"!==t.type)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`Expected extent but found type ${t.type}`);s.geometry=JSON.stringify(t.shiftCentralMeridian());}catch(i){p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Encountered an error when setting connection geometryDefinition",i));}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)&&e.where&&"1 = 1"!==e.where&&(s.where=e.where),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(o)&&(s.outFields=o.join(",")),s}_enrich(e){if(!this._relatedFeatures)return e;const t=this._serviceDefinition.relatedFeatures.joinField,r=e.attributes[t];if(!this._relatedFeatures.has(r))return p$3.warn("geoevent-connection","Feature join failed. Is the join field configured correctly?",e),e;const{attributes:o,geometry:s}=this._relatedFeatures.get(r);for(const i in o)e.attributes[i]=o[i];return s&&(e.geometry=s),e.geometry||e.centroid||p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Found malformed feature - no geometry found",e)),e}async _queryBuddyServices(){try{const{relatedFeatures:e,keepLatestArchive:t}=this._serviceDefinition,r=this._queryRelatedFeatures(e),o=this._queryArchive(t);await r;const s=await o;if(!s)return;for(const i of s.features)this.onFeature(this._enrich(i));}catch(e){p$3.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geoevent-connection","Encountered an error when querying buddy services",{error:e}));}}async _queryRelatedFeatures(e){if(!e)return;const t=await this._queryBuddy(e.featuresUrl);this._addRelatedFeatures(t);}async _queryArchive(e){if(e)return this._queryBuddy(e.featuresUrl)}async _queryBuddy(e){const t=new((await Promise.all(/*! import() */[__webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-90c5a0"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-3d8fe4"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7888b5"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-ecfd9b"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-5b5f1a"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-eafd7d"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-fc2c74"), __webpack_require__.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-025cfd"), __webpack_require__.e("extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_Feat-1e79b3")]).then(__webpack_require__.bind(__webpack_require__, /*! ./FeatureLayer-e34aa1c3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureLayer-e34aa1c3.js")).then(function (n) { return n.F; })).default)({url:e}),{capabilities:r}=await t.load(),i=r.query.supportsMaxRecordCountFactor,n=r.query.supportsPagination,a=r.query.supportsCentroid,c=this._config.maxRecordCountFactor,f=t.capabilities.query.maxRecordCount,d=i?f*c:f,y=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_6__.R;if(y.outFields=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Y)(this._config.outFields,["*"]),y.where=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Y)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a3)(this._config.filter,"where"),"1=1"),y.returnGeometry=!0,y.returnExceededLimitFeatures=!0,y.outSpatialReference=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.fromJSON(this._config.spatialReference),a&&(y.returnCentroid=!0),i&&(y.maxRecordCountFactor=c),n)return y.num=d,t.destroy(),this._queryPages(e,y);const p=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_18__.y)(e,y,this._config.sourceSpatialReference);return t.destroy(),p.data}async _queryPages(e,t,o=[],s=0){t.start=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t.num)?s*t.num:null;const{data:i}=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_18__.y)(e,t,this._config.sourceSpatialReference);return i.exceededTransferLimit&&s<this._config.maxQueryDepth?(i.features.forEach((e=>o.push(e))),this._queryPages(e,t,o,s+1)):(o.forEach((e=>i.features.push(e))),i)}_addRelatedFeatures(e){const t=new Map,r=e.features,o=this._serviceDefinition.relatedFeatures.joinField;for(const s of r){const e=s.attributes[o];t.set(e,s);}this._relatedFeatures=t;}};_$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.graphics.sources.connections.GeoEventConnection")],_$1);var w$1=_$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,o,r,c,i,s,a){const p=0===t.path.indexOf("wss://")||0===t.path.indexOf("ws://"),f={source:t,sourceSpatialReference:o,spatialReference:r,geometryType:c,filter:i,maxReconnectionAttempts:s,maxReconnectionInterval:a};return p?new u$2(f):new w$1(f)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const p$2=2500;function l$1(e,s){const r=e.weakClone(),i=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.p)(s,e.geometry.coords[0]),a=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.I)(s,e.geometry.coords[1]);return r.geometry=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a([],[i,a]),r}function m(e){switch(e){case"esriGeometryPoint":return l$1;case"esriGeometryPolygon":case"esriGeometryPolyline":default:return (s,n)=>{const o=s.weakClone(),i=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a,a=!1,c=!1,d=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.c)(i,s.geometry,a,c,e,n,!1,!1);return o.geometry=d,o}}}function _(e){switch(e){case"esriGeometryPoint":return e=>({minX:e.geometry.coords[0],minY:e.geometry.coords[1],maxX:e.geometry.coords[0],maxY:e.geometry.coords[1]});default:return e=>{let t=1/0,s=1/0,r=-1/0,n=-1/0;return e.geometry.forEachVertex(((e,o)=>{t=Math.min(t,e),s=Math.min(s,o),r=Math.max(r,e),n=Math.max(n,o);})),{minX:t,minY:s,maxX:r,maxY:n}}}}function f(e,t){const s=i$3(9,_(t));return s.load(e),s}function g(e,t){return e.search({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]})}class y$1{constructor(e,t){this.onUpdate=e,this._geometryType=t,this._objectIdToFeature=new Map;}get _features(){const e=[];return this._objectIdToFeature.forEach((t=>e.push(t))),e}add(e){this._objectIdToFeature.set(e.objectId,e),this._index=null;}get(e){return this._objectIdToFeature.has(e)?this._objectIdToFeature.get(e):null}forEach(e){this._objectIdToFeature.forEach(e);}search(e){return this._index||(this._index=f(this._features,this._geometryType)),g(this._index,e)}removeById(e){const t=this._objectIdToFeature.get(e);return t?(this._objectIdToFeature.delete(e),this._index=null,t):null}update(e,t){this.onUpdate(e,t);}get size(){return this._objectIdToFeature.size}}class b extends m$3{constructor(e){super(e),this.type="geoevent",this._dataReceiveEventEnabled=!1,this._level=0,this._updateInfo={websocket:0,client:0};const{outSR:t$1}=e,{geometryType:s,objectIdField:r,timeInfo:n,purgeOptions:o,source:i,spatialReference:a,serviceFilter:u,maxReconnectionAttempts:h,maxReconnectionInterval:l,updateInterval:_}=e.serviceInfo,f=new y$1(this._onUpdate.bind(this),s),g=new h$3(f,r,n,o),b=t(i,a,t$1,s,u,h,l);this._store=f,this._manager=g,this._connection=b,this._quantize=m(s),this._handles=[this._connection.on("feature",(e=>this._onFeature(e))),this._connection.watch("connectionStatus",(e=>this.events.emit("connectionStatus",e))),this._connection.watch("errorString",(e=>this.events.emit("errorString",e)))];let v=performance.now();this._updateIntervalId=setInterval((()=>{const t=performance.now(),s=t-v;if(s>p$2){v=t;const e=Math.round(this._updateInfo.client/(s/1e3)),r=Math.round(this._updateInfo.websocket/(s/1e3));this._updateInfo.client=0,this._updateInfo.websocket=0,this.events.emit("updateRate",{client:e,websocket:r});}e.canAcceptRequest()&&this._manager.checkForUpdates();}),_);}destroy(){super.destroy(),clearInterval(this._updateIntervalId),this._handles.forEach((e=>e.remove())),this._connection.destroy();}_fetchDataTile(){}resume(){}enableEvent(e,t){"data-received"===e&&(this._dataReceiveEventEnabled=t);}get updating(){return !1}subscribe(e){super.subscribe(e);const t=this._subscriptions.get(e.id);this._level=e.level;const s=this._getTileFeatures(e);this._onMessage({type:"append",id:e.key.id,addOrUpdate:s,end:!0}),t.didSend=!0;}unsubscribe(e){super.unsubscribe(e);}forEachRequest(t,s){const r=this._subscriptions.get(t),{tile:n,signal:o}=r,i={type:"append",tile:n,id:t,addOrUpdate:this._getTileFeatures(n),end:!0};s(i,{signal:o}),r.requests.stream.entries.forEach((t=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&s(t,{signal:o});}));}createTileQuery(e){throw new Error("Service does not support tile  queries")}async resend(){this._subscriptions.forEach((e=>{const{tile:t}=e,s={type:"append",id:t.id,addOrUpdate:this._getTileFeatures(t),end:!0};this._onMessage(s);}));}_getTileFeatures(e){const t=this._store.search(e).map((t=>this._quantize(t,e.transform)));return c$6.fromOptimizedFeatures(t,this._serviceInfo.geometryType,e.transform)}_onFeature(e){this._updateInfo.websocket++;try{this._dataReceiveEventEnabled&&this.events.emit("feature",e);const t=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.J)(e,this._serviceInfo.geometryType,!1,!1,this._serviceInfo.objectIdField);this._manager.add(t);}catch(t){}}_onUpdate(t,s){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&(this._updateInfo.client+=t.length),this._subscriptions.forEach(((e,t)=>{e.didSend&&e.tile.level===this._level&&this._onMessage({type:"append",id:t,addOrUpdate:null,clear:!0,end:!1});})),this._subscriptions.forEach(((e,t)=>{if(!e.didSend||e.tile.level!==this._level)return;const s=e.tile,r={type:"append",id:t,addOrUpdate:this._getTileFeatures(s),remove:[],end:!0,status:t$5.empty()};e.requests.stream.enqueue(r),this._onMessage(r);}));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const n$1=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.2d.layers.features.sources.FeatureSource");class d$1 extends m$2{constructor(e){super(e);}async _fetchDataTile(e){const t=6,o=20,i=this._subscriptions.get(e.key.id);let d=!1,c=0,u=0;const p=(t,r)=>{u--,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(i);const a=e.id,o=t.reader,n=t.query;if(!o.exceededTransferLimit){if(d=!0,0!==r&&!o.hasFeatures){const e={id:a,addOrUpdate:o,end:0===u,type:"append"};return i.add({message:e,query:n}),void this._onMessage(e)}const e={id:a,addOrUpdate:o,end:0===u,type:"append"};return i.add({message:e,query:n}),void this._onMessage(e)}const c={id:a,addOrUpdate:o,end:d&&0===u,type:"append"};i.add({message:c,query:n}),this._onMessage(c);};let h=0,m=0;for(;!d&&m++<o;){let o;for(let t=0;t<h+1;t++){const t=c++;u++,o=this._fetchDataTilePage(e,t,i).then((e=>e&&p(e,t))).catch((t=>{d=!0,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(t)||(n$1.error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mapview-query-error","Encountered error when fetching tile",{tile:e,error:t})),this._onMessage({id:e.id,addOrUpdate:null,end:d,type:"append"}));}));}await o,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(i),h=Math.min(h+2,t);}}async _fetchDataTilePage(t,r,a){const i=this._queryInfo,n={start:this.pageSize*r,num:this.pageSize,returnExceededLimitFeatures:!0,quantizationParameters:t.getQuantizationParameters()};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.maxRecordCountFactor)&&(n.maxRecordCountFactor=this.maxRecordCountFactor);const d=this._createQuery(t,n);try{const e=a.signal,o=await this._queue.push({tile:t,query:d,signal:e,depth:r});return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(a),o?i!==this._queryInfo?this._fetchDataTilePage(t,r,a):{reader:o,query:d}:null}catch(c){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cZ)(c),null}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const h$1=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.2d.layers.features.sources.SnapshotFeatureSource");function u$1(e,t,s){const r=e.getXHydrate(),o=e.getYHydrate(),i=t.getColumnForX(r),a=Math.floor(t.normalizeCol(i));return `${s}/${Math.floor(t.getRowForY(o))}/${a}`}function l(e,s){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return null;const r=s.transform,o=e.getQuantizationTransform();if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(o)){const[t,s]=r.scale,[o,i]=r.translate,a=-o/t,n=1/t,d=i/s,h=1/-s;return e.transform(a,d,n,h)}const[i,a]=o.scale,[n,d]=o.translate,[h,u]=r.scale,[l,c]=r.translate,_=i/h,g=(n-l)/h,p=a/u,m=(-d+c)/u;return e.transform(g,m,_,p)}class c$1 extends m$2{constructor(e){super(e),this.mode="snapshot",this._loading=!0,this._controller=new AbortController,this._downloadPromise=null,this._didSendEnd=!1,this._queries=new Array,this._invalidated=!1,this._hasAggregates=!1,this._random=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cE(1e3),this._featureCount=e.featureCount,this._store=e.store,this._markedIdsBufId=this._store.storage.createBitset();}destroy(){super.destroy(),this._controller.abort();}get loading(){return this._loading}get _signal(){return this._controller.signal}update(e,t){super.update(e,t),this._hasAggregates=e.targets.aggregate;}async resend(e=!1){if(await this._downloadPromise,this._invalidated||e)return this._invalidated=!1,this._subscriptions.forEach((e=>e.clear())),this._downloadPromise=this._download(this._featureCount),void await this._downloadPromise;const t=this._queries.map((({query:e,reader:t})=>this._sendPatchQuery(e,t)));await Promise.all(t),this._subscriptions.forEach((e=>{e.requests.done.forEach((e=>this._onMessage(e.message)));}));}async refresh(){await this.resend(!0);}async edit(e){const t=this._signal,s=[...e.addedFeatures.filter((e=>!e.error)).map((e=>e.objectId)),...e.updatedFeatures.filter((e=>!e.error)).map((e=>e.objectId))],r=[...e.deletedFeatures.filter((e=>!e.error)).map((e=>e.objectId)),...s];for(const o of r)this._store.remove(o);const i=this.createQuery();i.objectIds=s;const a=await this._queue.push({query:i,depth:0,signal:t});(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)({signal:t}),this._store.insert(a),this._send(a),this._invalidateQueries();}_invalidateQueries(){this._invalidated=!0;}async _sendPatchQuery(t,s){const r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t.outFields)?t.outFields:[],i=this._queryInfo.outFields,a=i.filter((e=>-1===r.indexOf(e)));if(!a.length)return;const n=t.clone(),d=this._signal;n.returnGeometry=!1,n.returnCentroid=!1,n.outFields=a,t.outFields=i;const h=await this._queue.push({query:n,depth:0,signal:d});(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)({signal:d}),s.joinAttributes(h);}async _fetchDataTile(e){this._downloadPromise||(this._downloadPromise=this._download(this._featureCount));const t=this._store.search(e),s=this._subscriptions.get(e.key.id),r=t.length-1;for(let h=0;h<r;h++){const r=l(t[h],e),o={type:"append",id:e.id,addOrUpdate:r,end:!1,status:t$5.empty()};s.add({query:null,message:o}),this._hasAggregates||await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cY)(1),this._onMessage(o);}const o=l(r>=0?t[r]:null,e),a=this._didSendEnd,d={type:"append",id:e.id,addOrUpdate:o,end:a,status:t$5.empty()};s.add({query:null,message:d}),this._onMessage(d);}async _download(e){try{await this.whenInitialized();const t=this._store.storage.getBitset(this._markedIdsBufId),s=new Set;t.clear();const r=Math.ceil(e/this.pageSize),o=Array.from({length:r},((e,t)=>t)).sort(((e,t)=>this._random.getInt()-this._random.getInt())).map((e=>this._downloadPage(e,t,s)));await Promise.all(o),this._store.sweepFeatures(t,this._store.storage),this._store.sweepFeatureSets(s);}catch(t){h$1.error("mapview-snapshot-source","Encountered and error when downloading feature snapshot",t);}this._sendEnd(),this._loading=!1;}async _downloadPage(t,s,r){const i=this.pageSize,a={start:t*i,num:i,cacheHint:!0};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.maxRecordCountFactor)&&(a.maxRecordCountFactor=this.maxRecordCountFactor);const n=this.createQuery(a),d=this._signal,h=await this._queue.push({query:n,depth:t,signal:d});(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)({signal:d}),this._queries.push({query:n,reader:h}),this._store.insert(h),r.add(h.instance);const u=h.getCursor();for(;u.next();)s.set(u.getDisplayId());this._send(h);}_send(s){if(!this._subscriptions.size)return;let r=null;const o=new Map,i=new Set,d=new Map;this._subscriptions.forEach((e=>{var t;const s=e.tile;o.set(s.key.id,null),r=s.tileInfoView,i.add(s.level);const{row:a,col:n}=s.key,h=`${s.level}/${a}/${n}`,u=null!=(t=d.get(h))?t:[];u.push(e),d.set(h,u);}));for(const e of i){const i=r.getLODInfoAt(e),a=s.getCursor();for(;a.next();){const s=u$1(a,i,e),r=a.getIndex();if(d.has(s))for(const e of d.get(s)){const s=e.tile.id;let i=o.get(s);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(i)&&(i=[],o.set(s,i)),i.push(r);}}}o.forEach(((t,r)=>{if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)){const e=this._subscriptions.get(r),o={type:"append",id:r,addOrUpdate:l(r$1.from(s,t),e.tile),end:!1,status:t$5.empty()};e.add({query:null,message:o}),this._onMessage(o);}}));}_sendEnd(){this._subscriptions.forEach((e=>{const t={type:"append",id:e.tile.id,addOrUpdate:null,end:!0,status:t$5.empty()};e.add({query:null,message:t}),this._onMessage(t);})),this._didSendEnd=!0;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function a$1(e,r,a,u,i,p){const f=c(e,r,a,u,i,p);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new d$1(f);case"snapshot":return new c$1(f);case"unknown":return new o$1(f)}case"geoevent":return new b(f)}}function c(t,o,n,s,a,c){switch(t.type){case"snapshot":return {type:"feature",origin:"snapshot",featureCount:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Y)(t.featureCount,0),serviceInfo:t,onMessage:s,outSR:o,tileInfoView:n,canAcceptRequest:a,store:c};case"stream":return {type:"geoevent",serviceInfo:t,onMessage:s,outSR:o,canAcceptRequest:a};case"memory":case"on-demand":return {type:"feature",serviceInfo:t,onMessage:s,outSR:o,origin:u(t.source),tileInfoView:n,canAcceptRequest:a}}function u(e){return Array.isArray(e)?"local":"path"in e&&(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_16__.w)(e.path)?"hosted":"unknown"}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function x$1(t,n){let o=-90,e=90,r=-180,c=180;for(let h=0;h<n;h++){const n=Math.ceil((h+1)/2),f=Math.floor((h+1)/2),l=1-h%2,a=30-(3*n+2*f),u=30-(2*n+3*f),s=3*l+2*(1-l),i=2*l+3*(1-l),M=3*l+7*(1-l)<<u,g=(7*l+3*(1-l)<<a&t.geohashX)>>a,b=(M&t.geohashY)>>u;for(let t=s-1;t>=0;t--){const n=(r+c)/2,o=g&1<<t?1:0;r=(1-o)*r+o*n,c=(1-o)*n+o*c;}for(let t=i-1;t>=0;t--){const n=(o+e)/2,r=b&1<<t?1:0;o=(1-r)*o+r*n,e=(1-r)*n+r*e;}}return [r,o,c,e]}function y(t,n,o,e){e%2&&(e+=1);let r=0,c=0,h=-90,f=90,l=-180,a=180;for(let u=0;u<e/2;u++){for(let t=0;t<5;t++){const n=(l+a)/2,e=o>n?1:0;r|=e<<29-(t+5*u),l=(1-e)*l+e*n,a=(1-e)*n+e*a;}for(let t=0;t<5;t++){const o=(h+f)/2,e=n>o?1:0;c|=e<<29-(t+5*u),h=(1-e)*h+e*o,f=(1-e)*o+e*f;}}t.geohashX=r,t.geohashY=c;}function p$1(t,n,o,e,r){r%2&&(r+=1);let c=0,h=0,f=-90,l=90,a=-180,u=180;for(let s=0;s<r/2;s++){for(let t=0;t<5;t++){const n=(a+u)/2,o=e>n?1:0;c|=o<<29-(t+5*s),a=(1-o)*a+o*n,u=(1-o)*n+o*u;}for(let t=0;t<5;t++){const n=(f+l)/2,e=o>n?1:0;h|=e<<29-(t+5*s),f=(1-e)*f+e*n,l=(1-e)*n+e*l;}}t[2*n]=c,t[2*n+1]=h;}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class n{constructor(t=[],s$1=8096){this._nodes=0,this._root=new a(0,0,0),this._statisticFields=t,this._pool=s$1?new s(8096):null;}_acquire(s,e,i){this._nodes++;let o=null;return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._pool)&&(o=this._pool.dequeue()),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(o)?o.realloc(s,e,i):new a(s,e,i)}_release(s){this._nodes--,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this._pool)&&this._pool.enqueue(s);}get count(){return this._root.count}get size(){return this._nodes}get poolSize(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c_)(this._pool,0,(t=>t.size))}get depth(){let t=0;return this._forEachNode((s=>t=Math.max(t,s.depth))),t}dropLevels(t){this._forEachNode((s=>{if(s.depth>=t)for(let t=0;t<s.children.length;t++){const e=s.children[t];s.children[t]=null,e&&this._release(e);}}));}clear(){this.dropLevels(0);}insert(t,s,e=0){const i=c$6.fromOptimizedFeatures([t],"esriGeometryPoint").getCursor();i.next();const n=i.readGeometry();if(!n)return;const[a,l]=n.coords,r=t.geohashX,h=t.geohashY;this.insertCursor(i,t.displayId,a,l,r,h,s,e);}insertCursor(t,s,e,i,o,n,a,l=0){let r=this._root,h=0,c=0,d=0;for(;null!==r;){if(r.depth>=l&&(r.count+=1,r.xTotal+=e,r.yTotal+=i,r.xGeohashTotal+=o,r.yGeohashTotal+=n,r.displayId=s,this._updateStatisticsCursor(t,r,1)),h>=a)return void r.add(s);const u=Math.ceil((h+1)/2),f=Math.floor((h+1)/2),x=1-h%2,m=30-(3*u+2*f),p=30-(2*u+3*f),y=(o&7*x+3*(1-x)<<m)>>m,g=(n&3*x+7*(1-x)<<p)>>p,_=y+g*(8*x+4*(1-x));c=c<<3*x+2*(1-x)|y,d=d<<2*x+3*(1-x)|g,null==r.children[_]&&(r.children[_]=this._acquire(c,d,h+1)),h+=1,r=r.children[_];}}remove(t,s){const e=c$6.fromOptimizedFeatures([t],"esriGeometryPoint").getCursor();e.next();const i=e.readGeometry();if(!i)return;const[n,a]=i.coords,l=t.geohashX,r=t.geohashY;this.removeCursor(e,n,a,l,r,s);}removeCursor(t,s,e,i,o,n){let a=this._root,l=0;for(;null!==a;){if(a.count-=1,a.xTotal-=s,a.yTotal-=e,a.xGeohashTotal-=i,a.yGeohashTotal-=o,this._updateStatisticsCursor(t,a,-1),l>=n)return void a.remove(t.getDisplayId());const r=Math.ceil((l+1)/2),h=Math.floor((l+1)/2),c=1-l%2,d=30-(3*r+2*h),u=30-(2*r+3*h),f=((i&7*c+3*(1-c)<<d)>>d)+((o&3*c+7*(1-c)<<u)>>u)*(8*c+4*(1-c)),x=a.children[f];1===x.count&&(this._release(x),a.children[f]=null),l+=1,a=x;}}find(t,s,e){return this._root.find(t,s,e,0,0,0)}findSingleOccupancyNode(t,s,e,i,o){let n=this._root;for(;null!==n;){const a=n.depth,l=n.xNode,r=n.yNode,h=1-a%2,c=n.xGeohashTotal/n.count,d=n.yGeohashTotal/n.count;if(1===n.count&&t<c&&c<=e&&s<d&&d<=i)return n;if(a>=o){n=n.next;continue}const u=Math.ceil((a+1)/2),f=Math.floor((a+1)/2),x=30-(3*u+2*f),m=30-(2*u+3*f),p=~((1<<x)-1),y=~((1<<m)-1),g=(t&p)>>x,_=(s&y)>>m,N=(e&p)>>x,T=(i&y)>>m,M=l<<3*h+2*(1-h),C=r<<2*h+3*(1-h),S=M+8*h+4*(1-h),b=C+4*h+8*(1-h),v=Math.max(M,g),G=Math.max(C,_),k=Math.min(S,N),F=Math.min(b,T);let I=null,z=null;for(let t=G;t<=F;t++)for(let s=v;s<=k;s++){const e=s-M+(t-C)*(8*h+4*(1-h)),i=n.children[e];i&&(I||(I=i,I.next=n.next),z&&(z.next=i),z=i,i.next=n.next);}n=I||n.next;}return null}getRegionDisplayIds(t,s,e,i,o){let n=this._root;const a=[];for(;null!==n;){const l=n.depth,r=n.xNode,h=n.yNode;if(l>=o){const o=n.xGeohashTotal/n.count,l=n.yGeohashTotal/n.count;t<=o&&o<=e&&s<=l&&l<=i&&n.displayIds.forEach((t=>a.push(t))),n=n.next;continue}const c=Math.ceil((l+1)/2),d=Math.floor((l+1)/2),u=1-l%2,f=30-(3*c+2*d),x=30-(2*c+3*d),m=~((1<<f)-1),p=~((1<<x)-1),y=(t&m)>>f,g=(s&p)>>x,_=(e&m)>>f,N=(i&p)>>x,T=r<<3*u+2*(1-u),M=h<<2*u+3*(1-u),C=T+8*u+4*(1-u),S=M+4*u+8*(1-u),b=Math.max(T,y),v=Math.max(M,g),G=Math.min(C,_),k=Math.min(S,N);let F=null,I=null;for(let t=v;t<=k;t++)for(let s=b;s<=G;s++){const e=s-T+(t-M)*(8*u+4*(1-u)),i=n.children[e];i&&(F||(F=i,F.next=n.next),I&&(I.next=i),I=i,i.next=n.next);}n=F||n.next;}return a}getRegionStatistics(t,s,e,i,o){let n=this._root,a=0,l=0,r=0;const h={};let c=0;for(;null!==n;){const d=n.depth,u=n.xNode,f=n.yNode;if(d>=o){const o=n.xGeohashTotal/n.count,d=n.yGeohashTotal/n.count;t<o&&o<=e&&s<d&&d<=i&&(a+=n.count,l+=n.xTotal,r+=n.yTotal,1===n.count&&(c=n.displayId),this._aggregateStatistics(h,n.statistics)),n=n.next;continue}const x=Math.ceil((d+1)/2),m=Math.floor((d+1)/2),p=1-d%2,y=30-(3*x+2*m),g=30-(2*x+3*m),_=~((1<<y)-1),N=~((1<<g)-1),T=(t&_)>>y,M=(s&N)>>g,C=(e&_)>>y,S=(i&N)>>g,b=u<<3*p+2*(1-p),v=f<<2*p+3*(1-p),G=b+8*p+4*(1-p),k=v+4*p+8*(1-p),F=Math.max(b,T),I=Math.max(v,M),z=Math.min(G,C),w=Math.min(k,S);let A=null,j=null;for(let o=I;o<=w;o++)for(let d=F;d<=z;d++){const u=d-b+(o-v)*(8*p+4*(1-p)),f=n.children[u];if(f){if(o!==I&&o!==w&&d!==F&&d!==z){const o=f.xGeohashTotal/f.count,n=f.yGeohashTotal/f.count;t<o&&o<=e&&s<n&&n<=i&&(a+=f.count,l+=f.xTotal,r+=f.yTotal,1===f.count&&(c=f.displayId),this._aggregateStatistics(h,f.statistics));continue}A||(A=f,A.next=n.next),j&&(j.next=f),j=f,f.next=n.next;}}n=A||n.next;}return {count:a,attributes:this._normalizeStatistics(h,a),xTotal:l,yTotal:r,referenceId:c}}_forEachNode(t){let s=this._root;for(;null!==s;){const e=this._linkChildren(s)||s.next;t(s),s=e;}}_linkChildren(t){let s=null,e=null;for(let i=0;i<=t.children.length;i++){const o=t.children[i];o&&(s||(s=o,s.next=t.next),e&&(e.next=o),e=o,o.next=t.next);}return s}_updateStatisticsCursor(t,s,e){for(const i of this._statisticFields){const o=i.name,n=i.inField?t.readAttribute(i.inField):t.getComputedNumericAtIndex(i.inFieldIndex);switch(i.statisticType){case"norm":{s.statistics[o]||(s.statistics[o]={});const a=i.inNormalizationField,l=t.readAttribute(a),r=s.statistics[o].onStatisticField||0,h=s.statistics[o].onStatisticNormalizationField||0;null==n||isNaN(n)||null==l||0===l||isNaN(l)||(s.statistics[o].onStatisticField=r+e*n,s.statistics[o].onStatisticNormalizationField=h+e*l);break}case"sum":case"avg":{s.statistics[o]||(s.statistics[o]={value:0,nanCount:0});const t=s.statistics[o].value,i=s.statistics[o].nanCount;null==n||isNaN(n)?s.statistics[o].nanCount=i+e:s.statistics[o].value=t+e*n;break}case"avg_angle":{s.statistics[o]||(s.statistics[o]={x:0,y:0,nanCount:0});const t=s.statistics[o].x,i=s.statistics[o].y,a=s.statistics[o].nanCount,l=Math.PI/180;null==n||isNaN(n)?s.statistics[o].nanCount=a+e:(s.statistics[o].x=t+e*Math.cos(n*l),s.statistics[o].y=i+e*Math.sin(n*l));break}case"mode":{s.statistics[o]||(s.statistics[o]={});const t=s.statistics[o][n]||0;s.statistics[o][n]=t+e;break}}}}_aggregateStatistics(t,s){for(const e of this._statisticFields){const i=e.name;switch(e.statisticType){case"sum":case"avg":case"avg_angle":case"mode":case"norm":t[i]||(t[i]={});for(const e in s[i]){const o=t[i][e]||0;t[i][e]=o+s[i][e];}}}}_normalizeStatistics(t,s){const e={};for(const i of this._statisticFields){const o=i.name;switch(i.statisticType){case"norm":{const i=t[o];if(s&&null==i.onStatisticNormalizationField)break;if(s&&i.onStatisticNormalizationField){e[o]=i.onStatisticField/i.onStatisticNormalizationField;break}e[o]=0;break}case"sum":{if(!s)break;const{value:i,nanCount:n}=t[o];if(!(s-n))break;e[o]=i;break}case"avg":{if(!s)break;const{value:i,nanCount:n}=t[o];if(!(s-n))break;e[o]=i/(s-n);break}case"avg_angle":{if(!s)break;const{x:i,y:n,nanCount:a}=t[o];if(!(s-a))break;const l=i/(s-a),r=n/(s-a),h=180/Math.PI,c=Math.atan2(r,l)*h;e[o]=c;break}case"mode":{const s=t[o];let i=0,n=null;for(const t in s){const e=s[t];e>i&&(i=e,n=t);}e[o]="null"===n?null:n;break}}}return e}}class a{constructor(t,s,e){this.count=0,this.xTotal=0,this.yTotal=0,this.statistics={},this.displayId=0,this.displayIds=new Set,this.next=null,this.depth=0,this.xNode=0,this.yNode=0,this.xGeohashTotal=0,this.yGeohashTotal=0,this.children=new Array(32);for(let i=0;i<this.children.length;i++)this.children[i]=null;this.xNode=t,this.yNode=s,this.depth=e;}realloc(t,s,e){for(let i=0;i<this.children.length;i++)this.children[i]=null;return this.xNode=t,this.yNode=s,this.depth=e,this.next=null,this.xGeohashTotal=0,this.yGeohashTotal=0,this.xTotal=0,this.yTotal=0,this.count=0,this.statistics={},this.displayIds.clear(),this}add(t){this.displayIds.add(t);}remove(t){this.displayIds.delete(t);}getLngLatBounds(){const t=this.depth,s=Math.ceil(t/2),e=Math.floor(t/2),o=30-(3*s+2*e),n=30-(2*s+3*e),a=this.xNode<<o,l=this.yNode<<n;return x$1({geohashX:a,geohashY:l},this.depth)}find(t,s,e,i,o,n){if(i>=e)return this;const a=1-i%2,l=3*a+2*(1-a),r=2*a+3*(1-a),h=30-o-l,c=30-n-r,d=((t&7*a+3*(1-a)<<h)>>h)+((s&3*a+7*(1-a)<<c)>>c)*(8*a+4*(1-a)),u=this.children[d];return null==u?null:u.find(t,s,e,i+1,o+l,n+r)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const R$1=12,C$1=1;class M extends _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.t{constructor(e,t,s,r,a){super(new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.a([],[t,s]),r,null,e),this.geohashBoundsInfo=a;}get count(){return this.attributes.cluster_count}static create(e,t,s,r,a,i,o,h){const l=new M(t,s,r,i,o);return l.displayId=e.createDisplayId(!0),l.referenceId=h,l.tileLevel=a,l}update(e,t,s,r,a,i){return this.geometry.coords[0]=e,this.geometry.coords[1]=t,this.tileLevel=s,this.attributes=r,this.geohashBoundsInfo=a,this.referenceId=null,this.referenceId=i,this}toJSON(){return {objectId:this.objectId,referenceId:1===this.attributes.cluster_count?this.referenceId:null,attributes:{...this.attributes,clusterId:this.objectId},geometry:{x:this.geometry.coords[0],y:this.geometry.coords[1]}}}}function x(e){return 57.29577951308232*e}class L extends o$3{constructor(e,t,s){super(e,s),this.events=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB,this._geohashLevel=0,this._aggregateValueRanges={},this._aggregateValueRangesChanged=!1,this._geohashBuf=[],this._clusters=new Map,this._tiles=new Map,this.geometryInfo=e.geometryInfo,this._spatialReference=t,this._projectionSupportCheck=(0,_QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_15__.p)(t,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84),this._bitsets.geohash=s.getBitset(s.createBitset()),this._bitsets.inserted=s.getBitset(s.createBitset());}async updateSchema(s,r){const a=this._schema;try{await super.updateSchema(s,r),await this._projectionSupportCheck;}catch(o){}const i=(0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.m)(a,r);r&&(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(i)||s.source||s.storage.filters)?(((0,_diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_11__.a)(i,"params.fields")||!this._tree||s.source)&&(this._tree=new n(this._statisticFields),this._rebuildTree(),(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&console.debug("Aggregate mesh needs update due to tree changing")),(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&console.debug("Applying Update - ClusterStore:",i),s.targets[r.name]=!0,s.mesh=!1,this._aggregateValueRanges={}):a&&(s.mesh=!0);}sweepFeatures(e,t){this._bitsets.inserted.forEachSet((s=>{if(!e.has(s)){const e=t.lookupByDisplayIdUnsafe(s);this._remove(e);}}));}sweepClusters(e,t,s){this._clusters.forEach(((r,a)=>{r&&r.tileLevel!==s&&(e.releaseDisplayId(r.displayId),t.unsetAttributeData(r.displayId),this._clusters.delete(a));}));}onTileData(e,s,r,a,i=!0){if(!this._schema||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(s.addOrUpdate))return s;const o=this._tree,h=this._getTransforms(e,this._spatialReference);{const e=s.addOrUpdate.getCursor();for(;e.next();)this._update(e,a,o);}if(s.status.mesh||!i)return s;const l=new Array,n=this._schema.params.clusterRadius;this._getClustersForTile(l,e,n,r,o,h),s.addOrUpdate=c$6.fromOptimizedFeatures(l,"esriGeometryPoint"),s.addOrUpdate.attachStorage(r),s.end=!0;{const t=s.addOrUpdate.getCursor();for(;t.next();){const s=t.getDisplayId();this._bitsets.computed.unset(s),this.setComputedAttributes(r,t,s,e.scale);}}return this._aggregateValueRangesChanged&&s.end&&(this.events.emit("valueRangesChanged",{valueRanges:this._aggregateValueRanges}),this._aggregateValueRangesChanged=!1),s}onTileUpdate({added:e,removed:t}){if(e.length){const t=e[0].level;this._setGeohashLevel(t);}if(!this._schema)return;const s=this._schema.params.clusterRadius;t.forEach((e=>{this._tiles.delete(e.key.id),this._markTileClustersForDeletion(e,s);}));}getAggregate(e){let t=null;return this._clusters.forEach((s=>{s&&s.displayId===e&&(t=s.toJSON());})),t}getDisplayId(e){const t=this._clusters.get(e);return t?t.displayId:null}getFeatureDisplayIdsForAggregate(e){const t=this._clusters.get(e);if(!t)return [];const s=t.geohashBoundsInfo;return this._tree.getRegionDisplayIds(s.xLL,s.yLL,s.xTR,s.yTR,s.level)}getDisplayIdForReferenceId(e){let t;return this._clusters.forEach((s=>{s&&s.referenceId===e&&(t=s.displayId);})),t}getAggregateValueRanges(){return this._aggregateValueRanges}forEach(e){this._clusters.forEach(((t,s)=>{t&&e(t,s);}));}size(){let e=0;return this.forEach((t=>e++)),e}_rebuildTree(){this._bitsets.computed.clear(),this._bitsets.inserted.clear(),this._tree&&this._tree.clear();}_remove(e){const t=e.getDisplayId(),s=e.getXHydrate(),r=e.getYHydrate(),a=this._geohashBuf[2*t],i=this._geohashBuf[2*t+1];this._bitsets.inserted.has(t)&&(this._bitsets.inserted.unset(t),this._tree.removeCursor(e,s,r,a,i,this._geohashLevel));}_update(e,t,s){const r=e.getDisplayId(),a=this._bitsets.inserted,i=t.isVisible(r);if(i===a.has(r))return;if(!i)return void this._remove(e);const o=e.getXHydrate(),h=e.getYHydrate();if(!this._setGeohash(r,o,h))return;const l=this._geohashBuf[2*r],n=this._geohashBuf[2*r+1];s.insertCursor(e,r,o,h,l,n,this._geohashLevel),a.set(r);}_setGeohash(e,t,s){if(this._bitsets.geohash.has(e))return !0;const r=this._geohashBuf;if(this._spatialReference.isWebMercator){const a=x(t/_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius),i=a-360*Math.floor((a+180)/360),h=x(Math.PI/2-2*Math.atan(Math.exp(-1*s/_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius)));p$1(r,e,h,i,R$1);}else {const a=(0,_QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_15__.y)({x:t,y:s},this._spatialReference,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84);if(!a)return !1;p$1(r,e,a.y,a.x,R$1);}return this._bitsets.geohash.set(e),!0}_getClustersForTile(e,a,i,o,h,l,n=!0){const c=this._schema.params.clusterPixelBuffer,p=2*i,f=this._getGeohashLevel(a.key.level),_=Math.ceil(2**a.key.level*_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o/p),m=Math.ceil(c/p)+0,I=Math.ceil(_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o/p),{row:b,col:v}=a.key,R=v*_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,C=b*_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,M=Math.floor(R/p)-m,x=Math.floor(C/p)-m,L=M+I+2*m,j=x+I+2*m,w=a.tileInfoView.getLODInfoAt(a.key.level);for(let y=M;y<=L;y++)for(let i=x;i<=j;i++){let c=y;w.wrap&&(c=y<0?y+_:y%_);const p=w.wrap&&y<0,m=w.wrap&&y%_!==y,I=this._lookupCluster(o,w,a.key.level,c,i,f,h);if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(I)){const a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cW)(l,(e=>p?e.left:m?e.right:e.tile));if(n&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(a))continue;if(!I.count)continue;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(a)&&n){const t=I.geometry.clone();let r=I.attributes;t.coords[0]=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.p)(a,t.coords[0]),t.coords[1]=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.I)(a,t.coords[1]),1===I.count&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(I.referenceId)&&(r={...I.attributes,referenceId:I.referenceId});const i=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_19__.t(t,r);i.displayId=I.displayId,e.push(i);}}}}_getGeohashLevel(e){return Math.min(Math.ceil(e/2+2),R$1)}_setGeohashLevel(e){const t=this._getGeohashLevel(e),s=(Math.floor(t/C$1)+1)*C$1-1;if(this._geohashLevel!==s)return this._geohashLevel=s,this._rebuildTree(),void this._bitsets.geohash.clear()}_getTransforms(e,t){const s={originPosition:"upperLeft",scale:[e.resolution,e.resolution],translate:[e.bounds[0],e.bounds[3]]},r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(t);if(!r)return {tile:s,left:null,right:null};const[i,o]=r.valid;return {tile:s,left:{...s,translate:[o,e.bounds[3]]},right:{...s,translate:[i-o+e.bounds[0],e.bounds[3]]}}}_getClusterId(e,t,s){return (15&e)<<28|(16383&t)<<14|16383&s}_markForDeletion(e,t,s){const r=this._getClusterId(e,t,s);this._clusters.delete(r);}_getClusterBounds(e,t,s){const r=this._schema.params.clusterRadius,a=2*r;let i=s%2?t*a:t*a-r;const o=s*a;let h=i+a;const l=o-a,n=2**e.level*_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o;e.wrap&&i<0&&(i=0),e.wrap&&h>n&&(h=n);const u=i/_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,c=o/_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,g=h/_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,d=l/_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o;return [e.getXForColumn(u),e.getYForRow(c),e.getXForColumn(g),e.getYForRow(d)]}_lookupCluster(e,t,r,a,h,l,n){const u=this._getClusterId(r,a,h),c=this._clusters.get(u),[g,d,p,_]=this._getClusterBounds(t,a,h),m={x:g,y:d},y$1={x:p,y:_};let I=0,v=0,R=0,C=0;if(this._spatialReference.isWebMercator){{const e=x(m.x/_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius);I=e-360*Math.floor((e+180)/360),v=x(Math.PI/2-2*Math.atan(Math.exp(-1*m.y/_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius)));}{const e=x(y$1.x/_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius);R=e-360*Math.floor((e+180)/360),C=x(Math.PI/2-2*Math.atan(Math.exp(-1*y$1.y/_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius)));}}else {const e=(0,_QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_15__.y)(m,this._spatialReference,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84),t=(0,_QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_15__.y)(y$1,this._spatialReference,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84);if(!e||!t)return null;I=e.x,v=e.y,R=t.x,C=t.y;}const L={geohashX:0,geohashY:0},j={geohashX:0,geohashY:0};y(L,v,I,l),y(j,C,R,l);const w=L.geohashX,V=L.geohashY,F=j.geohashX,S=j.geohashY,D={xLL:w,yLL:V,xTR:F,yTR:S,level:l},T=n.getRegionStatistics(w,V,F,S,l),{count:k,xTotal:B,yTotal:G,referenceId:O}=T,U=k?B/k:0,A=k?G/k:0;if(0===k)return this._clusters.set(u,null),null;const E={cluster_count:k,...T.attributes},X=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(c)?c.update(U,A,r,E,D,O):M.create(e,u,U,A,r,E,D,O);return 0===k&&(X.geometry.coords[0]=(g+p)/2,X.geometry.coords[1]=(d+_)/2),this._clusters.set(u,X),this._updateAggregateValueRangeForCluster(X,X.tileLevel),X}_updateAggregateValueRangeForCluster(e,t){const s=this._aggregateValueRanges[t]||{minValue:1/0,maxValue:0},r=s.minValue,a=s.maxValue;s.minValue=Math.min(r,e.count),s.maxValue=Math.max(a,e.count),this._aggregateValueRanges[t]=s,r===s.minValue&&a===s.maxValue||(this._aggregateValueRangesChanged=!0);}_markTileClustersForDeletion(e,t){const s=2*t,r=Math.ceil(_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o/s),{row:a,col:i}=e.key,o=i*_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,h=a*_definitions_e63f4fe2_js__WEBPACK_IMPORTED_MODULE_12__.o,l=Math.floor(o/s),n=Math.floor(h/s);for(let u=l;u<l+r;u++)for(let t=n;t<n+r;t++)this._markForDeletion(e.key.level,u,t);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const w=5e3,j="tileRenderer.featuresView.attributeView.initialize",C="tileRenderer.featuresView.attributeView.requestUpdate",E="tileRenderer.featuresView.requestRender";function T(e){return "worker:port-closed"===e.name}function k(e){if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(e)&&!T(e))throw e}function F(e){return "feature"===e.type&&"snapshot"===e.mode}let R=class extends _HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_2__.d{constructor(){super(...arguments),this._storage=new u$5,this._markedIdsBufId=this._storage.createBitset(),this._lastCleanup=performance.now(),this._cleanupNeeded=!1,this._invalidated=!1,this._tileToResolver=new Map,this.tileStore=null,this.config=null,this.processor=null,this.remoteClient=null,this.service=null;}initialize(){this._initAttributeStore(),this._initStores(),this._initQueryEngine(),this._initSource(),this._updateQueue=new _$4({concurrency:"geoevent"===this._source.type?1:4,process:(e,t)=>this._onTileMessage(e,{signal:t})}),this.handles.add([this.tileStore.on("update",this.onTileUpdate.bind(this)),this.watch("updating",(e=>!e&&this.onIdle()))]),this._checkUpdating=setInterval((()=>this.notifyChange("updating")),300);}async startup(){this._initAttributeStore(),this.tileStore.tiles.forEach((e=>this._source.subscribe(e)));}_initSource(){const e=this.tileStore.tileScheme,t=()=>this._updateQueue.length<50,r=(e,t)=>(this._invalidated=!0,this._patchTile(e,t));this._source=a$1(this.service,this.spatialReference,e,r,t,this.featureStore),this._proxyEvents();}_proxyEvents(){if("geoevent"===this._source.type){const e=this._source.events;this.handles.add([e.on("connectionStatus",(e=>this.remoteClient.invoke("setProperty",{propertyName:"connectionStatus",value:e}).catch(k))),e.on("errorString",(e=>this.remoteClient.invoke("setProperty",{propertyName:"errorString",value:e}).catch(k))),e.on("feature",(e=>this.remoteClient.invoke("emitEvent",{name:"data-received",event:{attributes:e.attributes,centroid:e.centroid,geometry:e.geometry}}).catch(k))),e.on("updateRate",(e=>this.remoteClient.invoke("emitEvent",{name:"update-rate",event:{...e}}).catch(k)))]);}}_initAttributeStore(){this.attributeStore?this.attributeStore.invalidateResources():this.attributeStore=new O$1({type:"remote",initialize:(e,t)=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c$)(this.remoteClient.invoke(j,e,{signal:t}).catch(k)),update:(e,t)=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c$)(this.remoteClient.invoke(C,e,{signal:t}).catch(k)),render:e=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c$)(this.remoteClient.invoke(E,void 0,{signal:e}).catch(k))},this.config);}_initStores(){const e="snapshot"===this.service.type?"snapshot":"on-demand",t={geometryInfo:{geometryType:this.service.geometryType,hasM:!1,hasZ:!1},spatialReference:this.spatialReference,fieldsIndex:this.fieldsIndex,fields:this.service.fields};this.featureStore=new l$5(t,this._storage,e),this.aggregateStore=new L(t,this.spatialReference,this._storage),this.handles.add(this.aggregateStore.events.on("valueRangesChanged",(e=>{this.remoteClient.invoke("emitEvent",{name:"valueRangesChanged",event:{valueRanges:e.valueRanges}}).catch(k);})));}_initQueryEngine(){var e;const t=this;null==(e=this.queryEngine)||e.destroy(),this.queryEngine=new _QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_15__.Z({definitionExpression:this.config.definitionExpression,fields:this.service.fields,geometryType:this.service.geometryType,objectIdField:this.service.objectIdField,hasM:!1,hasZ:!1,spatialReference:this.spatialReference.toJSON(),cacheSpatialQueries:!0,featureStore:this.featureStore,aggregateAdapter:{getFeatureObjectIds:e=>t.aggregateStore.getFeatureDisplayIdsForAggregate(e).map((e=>t.getObjectId(e)))},timeInfo:this.service.timeInfo});}destroy(){this._updateQueue.destroy(),this._source.destroy(),this.queryEngine.destroy(),this.attributeStore&&this.attributeStore.destroy(),clearInterval(this._checkUpdating);}get fieldsIndex(){return new _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_9__.e(this.service.fields)}get hasAggregates(){return !!this.config.schema.targets.aggregate}get spatialReference(){return this.tileStore.tileScheme.spatialReference}get updating(){return this.isUpdating()}isUpdating(){return this._source.updating||!!this._updateQueue.length}enableEvent(e){this._source.enableEvent(e.name,e.value);}pause(){this._updateQueue.pause(),this._updateQueue.clear();}async update(e,r){this._set("config",r),this._schema=r.schema,this._initQueryEngine(),await Promise.all([this._source.update(e,r.schema.source),this.featureStore.updateSchema(e,r.schema.targets.feature),this.attributeStore.update(e,r),this.attributeStore.updateFilters(e,this)]),await this.aggregateStore.updateSchema(e,r.schema.targets.aggregate),(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)("esri-2d-update-debug")&&e.describe();}async applyUpdate(e){e.mesh&&this.clearTiles(),this._updateQueue.clear(),this._updateQueue.resume(),await this._source.applyUpdate(e),this.notifyChange("updating"),await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d0)(this,"updating",!0),this.hasAggregates&&(await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cY)(10),await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d0)(this,"updating",!0));}async onEdits(e){try{const t=e.deletedFeatures.map((e=>({...e,objectId:e.objectId&&-1!==e.objectId?e.objectId:this._lookupObjectIdByGlobalId(e.globalId)})));this.featureStore.invalidate(),await this._source.edit({...e,deletedFeatures:t});}catch(t){}}async refresh(){this.featureStore.invalidate(),this.clearTiles(),this._source.refresh(),this._cleanupNeeded=!0,this.notifyChange("updating"),await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d0)(this,"updating",!0);}clearTiles(){for(const e of this.tileStore.tiles)this.processor.onTileClear(e);}onTileUpdate(e){this.aggregateStore.onTileUpdate(e);for(const t of e.added)this._source.subscribe(t),this._level=t.level;for(const t of e.removed)this._source.unsubscribe(t),this._cleanupNeeded=!0,this._tileToResolver.has(t.id)&&(this._tileToResolver.get(t.id).resolve(),this._tileToResolver.delete(t.id));this.notifyChange("updating");}onIdle(){this._invalidated&&((this.hasAggregates||"heatmap"===this.processor.type)&&this._repushTiles(),this._invalidated=!1),this._markAndSweep();}queryExtent(e){return this.queryEngine.executeQueryForExtent(e)}queryFeatures(e){return this.queryEngine.executeQuery(e)}queryFeatureCount(e){return this.queryEngine.executeQueryForCount(e)}queryLatestObservations(e){return this.queryEngine.executeQueryForLatestObservations(e)}queryObjectIds(e){return this.queryEngine.executeQueryForIds(e)}async queryStatistics(){return {...this.featureStore.storeStatistics,displayedFeatureCount:0,displayedVertexCount:0,displayPreProcessTime:0}}getObjectId(e){return this.featureStore.lookupObjectId(e,this._storage)}getDisplayId(e){if(this._schema.targets.aggregate){const t=this.aggregateStore.getDisplayId(e);if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t)){const t=this.featureStore.lookupDisplayId(e);return this.aggregateStore.getDisplayIdForReferenceId(t)}return t}return this.featureStore.lookupDisplayId(e)}getFeature(e){const t=this.featureStore.lookupFeatureByDisplayId(e,this._storage);if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t))return null;const s=t.readHydratedGeometry(),i=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_8__.e)(s,t.geometryType,t.hasZ,t.hasM);return {attributes:t.readAttributes(),geometry:i}}getAggregate(e){return this.aggregateStore.getAggregate(e)}async setHighlight(e){const t=e.map((e=>this.getDisplayId(e)));return this.attributeStore.setHighlight(e,t)}_lookupObjectIdByGlobalId(e){const t=this.service.globalIdField;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t))throw new Error("Expected globalIdField to be defined");let s=null;if(this.featureStore.forEach((r=>{e===r.readAttribute(t)&&(s=r.getObjectId());})),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(s))throw new Error(`Expected to find a feature with globalId ${e}`);return s}_repushTiles(){for(const e of this.tileStore.tiles)this._patchTile({type:"append",id:e.key.id,addOrUpdate:c$6.fromOptimizedFeatures([],this.service.geometryType),remove:[],end:!0,status:t$5.empty()});}_maybeForceCleanup(){performance.now()-this._lastCleanup>w&&this._markAndSweep();}_patchTile(e,t){const r=this._updateQueue.push(e,t).then((()=>{this.notifyChange("updating");})).catch((e=>{this.notifyChange("updating");}));return this.notifyChange("updating"),r}async _onTileMessage(e,t){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t);const s=this.tileStore.get(e.id);if(!s)return;if(e.clear)return this.processor.onTileClear(s);const i=e.status;e.remove.length&&(this._cleanupNeeded=!0);const a=[];for(const r of e.remove)a.push(this.featureStore.lookupDisplayId(r));e.remove=a;try{if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e.addOrUpdate))return void this.processor.onTileMessage(s,{...e,addOrUpdate:null},this.hasAggregates,t).catch(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cZ);if(e.addOrUpdate.setArcadeSpatialReference(this.spatialReference),this.featureStore.hasInstance(e.addOrUpdate.instance)&&i.targets.feature||(i.targets.feature=!0,this.featureStore.onTileData(s,e)),i.storage.data&&i.storage.filters||(i.storage.data=!0,i.storage.filters=!0,this.attributeStore.onTileData(s,e),"geoevent"===this._source.type?(await this.attributeStore.sendUpdates(),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t)):this.attributeStore.sendUpdates()),this.hasAggregates&&!i.targets.aggregate){i.targets.aggregate=!0;const t=F(this._source)&&this._source.loading,r=!F(this._source)||t||e.end;if(this.aggregateStore.onTileData(s,e,this._storage,this.attributeStore,r),!r)return;i.mesh||(this.attributeStore.onTileData(s,e),this.attributeStore.sendUpdates(),this.processor.onTileClear(s));}i.mesh||(i.mesh=!0,await this.processor.onTileMessage(s,e,this.hasAggregates,t),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t)),this._maybeForceCleanup();}catch(o){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cZ)(o);}}_mark(e,t,r){const s=(4294901760&this._storage.getInstanceId(e))>>>16;e&&(t.add(s),r.set(e));}_markAndSweep(){this._lastCleanup=performance.now();if(!(!("feature"===this._source.type&&"snapshot"===this._source.mode)&&("geoevent"===this._source.type||this._cleanupNeeded)))return;this._cleanupNeeded=!1;const e=this._storage.getBitset(this._markedIdsBufId),t=new Set;e.clear();for(const s of this.tileStore.tiles)this._source.forEachRequest(s.key.id,(s=>{if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(s.addOrUpdate))return;const i=s.addOrUpdate.getCursor();for(;i.next();){let r=i.getDisplayId();if(!r){const e=i.getObjectId();r=this.featureStore.lookupDisplayId(e);}this._mark(r,t,e);}}));this._source.forEachPendingEdit((r=>{const s=this.featureStore.lookupDisplayId(r);this._mark(s,t,e);})),this._updateQueue.forEach((r=>{for(const s of r.remove){const r=this.featureStore.lookupDisplayId(s);this._mark(r,t,e);}})),this.config.schema.targets.aggregate&&(this.aggregateStore.sweepFeatures(e,this.featureStore),this.aggregateStore.sweepClusters(this._storage,this.attributeStore,this._level)),this.featureStore.sweepFeatures(e,this._storage,this.attributeStore),this.featureStore.sweepFeatureSets(t);}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],R.prototype,"tileStore",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],R.prototype,"config",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],R.prototype,"fieldsIndex",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],R.prototype,"processor",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],R.prototype,"remoteClient",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],R.prototype,"service",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],R.prototype,"spatialReference",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],R.prototype,"updating",null),R=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.2d.layers.features.controllers.FeatureController2D")],R);var O=R;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const p=new Set;function h(){return p}let u=class extends _HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_2__.d{constructor(){super(...arguments),this.controller=null,this.processor=null,this.remoteClient=null,this.tileStore=null,this.service=null,this.viewState=null;}initialize(){this.handles.add(this.watch("updating",(t=>{this.remoteClient.invoke("setUpdating",t).catch((t=>{}));})));}destroy(){var t,e,r;null==(t=this.controller)||t.destroy(),null==(e=this.processor)||e.destroy(),null==(r=this.tileStore)||r.destroy(),this.controller=this.processor=this.tileStore=this.remoteClient=null;}get updating(){return !this.controller||this.controller.updating}async startup({service:t,config:e,tileInfo:r,tiles:o}){if(this.service=t,!this.tileStore){const t=new h$d(_TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_3__.x.fromJSON(r));this.tileStore=new l$9(t);}this.tileStore.clear(),await this._createProcessorAndController(e),await this.update({config:e},!0),this.tileStore.updateTiles(o);}async updateTiles(t){this.tileStore.updateTiles(t);}async update({config:t},e=!1){const r=t$5.empty();return e||this.controller.pause(),await Promise.all([this.processor.update(r,t),this.controller.update(r,t)]),r.toJSON()}async applyUpdate(t){return this.controller.applyUpdate(t$5.create(t))}async _createProcessorAndController(t){await Promise.all([this._handleControllerConfig(t),this._handleProcessorConfig(t)]),this.controller.processor=this.processor;}async _handleControllerConfig(t){const e=await this._createController(this.service,t);return await e.startup(),e}async _handleProcessorConfig(t){return this._createProcessor(this.service,t)}async _createController(t,e){this.controller&&this.controller.destroy();const{tileStore:r,remoteClient:o}=this,s=new O({service:t,config:e,tileStore:r,remoteClient:o});return this.controller=s,s}async _createProcessor(t,e){const r=e.schema.processors[0].type,o=(await o$5(r)).default,{remoteClient:s,tileStore:i}=this,l=new o({service:t,config:e,tileStore:i,remoteClient:s});return this.processor&&this.processor.destroy(),this.processor=l,l}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u.prototype,"controller",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u.prototype,"processor",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u.prototype,"updating",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u.prototype,"viewState",void 0),u=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.2d.layers.features.Pipeline")],u);var d=u;

const Pipeline = /*#__PURE__*/Object.freeze({
	__proto__: null,
	'default': d,
	getInstances: h
});



//# sourceMappingURL=Pipeline-2d0b1c75.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js":
/*!************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   x: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");
/* harmony import */ var _aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aaBoundingRect-61971fe3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingRect-61971fe3.js");





/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var l;let p=l=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(e){super(e),this.level=0,this.levelValue=null,this.resolution=0,this.scale=0;}clone(){return new l({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc,json:{write:!0}})],p.prototype,"level",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],p.prototype,"levelValue",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],p.prototype,"resolution",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],p.prototype,"scale",void 0),p=l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.LOD")],p);var i=p;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var v;const w=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aq({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let j=v=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null;}static create(e={size:256,spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator}){const t=e.resolutionFactor||1,o=e.scales,r=e.size||256,s$1=e.spatialReference||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator;if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bd)(s$1)){const e=[];if(o)for(let t=0;t<o.length;t++){const r=o[t];e.push({level:t,scale:r,resolution:r});}else {let t=5e-4;for(let o=23;o>=0;o--)e.unshift({level:o,scale:t,resolution:t}),t*=2;}return new v({dpi:96,lods:e,origin:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(0,0,s$1),size:[r,r],spatialReference:s$1})}const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(s$1),l=e.origin?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:e.origin.x,y:e.origin.y,spatialReference:s$1}):new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i?{x:i.origin[0],y:i.origin[1],spatialReference:s$1}:{x:0,y:0,spatialReference:s$1}),n=96,u=1/((0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_2__.G)(s$1)*39.37*n),h=[];if(o)for(let p=0;p<o.length;p++){const e=o[p],t=e*u;h.push({level:p,scale:e,resolution:t});}else {let e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.be)(s$1)?512/r*591657527.5917094:256/r*591657527.591555;const o=Math.ceil(24/t);h.push({level:0,scale:e,resolution:e*u});for(let r=1;r<o;r++){const o=e/2**t,s=o*u;h.push({level:r,scale:o,resolution:s}),e=o;}}return new v({dpi:n,lods:h,origin:l,size:[r,r],spatialReference:s$1})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(e);return e.isWrappable&&Math.abs(o.origin[0]-t.x)<=o.dx}return !1}readOrigin(e,t){return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const r=[];this._levelToLOD={},e&&(t=-1/0,o=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,this._levelToLOD[e.level]=e;}))),this._set("scales",r),this._set("minScale",t),this._set("maxScale",o),this._set("lods",e),this._initializeUpsampleLevels();}readSize(e,t){return [t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[0];}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];{const o=Math.round(e-.5),r=Math.round(e);return t[r]+(r-e)*(t[o]-t[r])}}scaleToZoom(e){const t=this.scales,o=t.length-1;let r=0;for(;r<o;r++){const o=t[r],s=t[r+1];if(o<=e)return r;if(s===e)return r+1;if(o>e&&s<e)return r+1-(e-s)/(o-s)}return r}snapScale(e,t=.95){const o=this.scaleToZoom(e);return o%Math.floor(o)>=t?this.zoomToScale(Math.ceil(o)):this.zoomToScale(Math.floor(o))}tileAt(e,t,o,r){const s=this.lodAt(e);if(!s)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,r=o;else {const e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(t,this.spatialReference);if(!e)return null;i=e.x,l=e.y,r=o;}const n=s.resolution*this.size[0],p=s.resolution*this.size[1];return r||(r={id:null,level:0,row:0,col:0,extent:(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_3__.i)()}),r.level=e,r.row=Math.floor((this.origin.y-l)/p+.001),r.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=0){let o=this.lodAt(e.level);if(!o&&1===t){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t);}if(!o)return;const r=e.level-o.level,s=o.resolution*this.size[0]/2**r,i=o.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_3__.i)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+i;}upsampleTile(e){const t=this._upsampleLevels[e.level];return !(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:o}=this.lodAt(t.level),r=o*this.size[0],s=o*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+r,e[3]=e[1]+s,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return v.fromJSON(this.write({}))}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const r=e[o];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r;}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],j.prototype,"compressionQuality",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],j.prototype,"dpi",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:w.read,write:w.write,origins:{"web-scene":{read:!1,write:!1}}}})],j.prototype,"format",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"isWrappable",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q,json:{write:!0}})],j.prototype,"origin",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("origin")],j.prototype,"readOrigin",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:[i],value:null,json:{write:!0}})],j.prototype,"lods",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"minScale",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"maxScale",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"scales",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],j.prototype,"size",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("size",["rows","cols"])],j.prototype,"readSize",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("size",{cols:{type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc},rows:{type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc}})],j.prototype,"writeSize",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O,json:{write:!0}})],j.prototype,"spatialReference",void 0),j=v=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.TileInfo")],j);var x=j;



//# sourceMappingURL=TileInfo-639e5038.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileKey-9a222b43.js":
/*!***********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileKey-9a222b43.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class e{constructor(t,e,l,o){this.set(t,e,l,o);}static getId(t,e,l,o){return "object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${e}/${l}/${o}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t);}acquire(t,e,l,o){this.set(t,e,l,o);}contains(t){const e=t.level-this.level;return this.row===t.row>>e&&this.col===t.col>>e&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new e(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0;}set(t,e,l,o){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){const[e,l,o,s]=t.split("/");this.level=parseFloat(e),this.row=parseFloat(l),this.col=parseFloat(o),this.world=parseFloat(s);}else this.level=+t,this.row=+e,this.col=+l,this.world=+o||0;return this}toString(){return `${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,l=this.row<<1,o=this.col<<1,s=this.world;return [new e(t,l,o,s),new e(t,l,o+1,s),new e(t,l+1,o,s),new e(t,l+1,o+1,s)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}e.pool=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cg(e,null,null,25,50);



//# sourceMappingURL=TileKey-9a222b43.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ O),
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   h: () => (/* binding */ h),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   v: () => (/* binding */ v),
/* harmony export */   w: () => (/* binding */ w),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const u=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),f=/(.*)\/(\d+)\/?$/i;function p(e){return !!a.test(e)}function d(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,l]=n,u=i.indexOf("/");return {title:v(-1!==u?i.slice(u+1):i),serverType:o,sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:s}}}function m(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return (e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(r$1,t){const n=[];if(r$1){const t=d(r$1);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&t.title&&n.push(t.title);}if(t){const e=v(t);n.push(e);}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function w(e){if(!e)return !1;const r=".arcgis.com/",t="//services",n="//tiles",s="//features",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function y(e,r){return e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b1)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b2)(e,r)):e}function g(s){let{url:i}=s;if(!i)return {url:i};i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b2)(i,s.logger);const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(i),l=d(o.path);let u;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(l))null!=l.sublayer&&null==s.layer.layerId&&(u=l.sublayer),i=l.url.path;else if(s.nonStandardUrlAllowed){const r$1=m(o.path);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1)&&(i=r$1.serviceUrl,u=r$1.sublayerId);}return {url:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b1)(i),layerId:u}}function O(e,r,t,n,i){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aP)(r,n,"url",i),n.url&&null!=e.layerId&&(n.url=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(n.url,t,e.layerId.toString()));}function S(e){if(!e)return !1;const r=e.toLowerCase(),t=-1!==r.indexOf("/services/"),n=-1!==r.indexOf("/mapserver/wmsserver"),s=-1!==r.indexOf("/imageserver/wmsserver"),i=-1!==r.indexOf("/wmsserver");return t&&(n||s||i)}



//# sourceMappingURL=arcgisLayerUrl-36b3c3ab.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/definitions-e63f4fe2.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/definitions-e63f4fe2.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ $),
/* harmony export */   J: () => (/* binding */ J),
/* harmony export */   K: () => (/* binding */ K),
/* harmony export */   N: () => (/* binding */ N),
/* harmony export */   O: () => (/* binding */ O),
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   Y: () => (/* binding */ Y),
/* harmony export */   Z: () => (/* binding */ Z),
/* harmony export */   c: () => (/* binding */ c),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   j: () => (/* binding */ j),
/* harmony export */   o: () => (/* binding */ o),
/* harmony export */   s: () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const c=1e-30,i=4294967295,o=512,s=29,g=16,j=8,J=1,K=2,N=2,O=1,S=2.5,Y=2,Z=7,$=500;



//# sourceMappingURL=definitions-e63f4fe2.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/diffUtils-d9afbcb3.js":
/*!*************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/diffUtils-d9afbcb3.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ a),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function i(t){return t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1}function c(t){return t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae?Object.keys(t.items):i(t)?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae?t.items[e]:t[e]}function l(t,e){return !(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function s(t){return t?t.declaredClass:null}function p(t,n){const o=t.diff;if(o&&"function"==typeof o)return o(t,n);const r$1=c(t),a=c(n);if(0===r$1.length&&0===a.length)return;if(!r$1.length||!a.length||l(t,n))return {type:"complete",oldValue:t,newValue:n};const y=a.filter((t=>-1===r$1.indexOf(t))),m=r$1.filter((t=>-1===a.indexOf(t))),d=r$1.filter((e=>a.indexOf(e)>-1&&u(t,e)!==u(n,e))).concat(y,m).sort(),b=s(t);if(b&&f.indexOf(b)>-1&&d.length)return {type:"complete",oldValue:t,newValue:n};let h;const j=i(t)&&i(n);for(const f of d){const r$1=u(t,f),i=u(n,f);let c;(j||"function"!=typeof r$1&&"function"!=typeof i)&&(r$1!==i&&(null==r$1&&null==i||(c=o&&o[f]&&"function"==typeof o[f]?o[f](r$1,i):"object"==typeof r$1&&"object"==typeof i&&s(r$1)===s(i)?p(r$1,i):{type:"complete",oldValue:r$1,newValue:i},(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(c)&&((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(h)?h.diff[f]=c:h={type:"partial",diff:{[f]:c}}))));}return h}function a(e,n){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return !1;const o=n.split(".");let r=e;for(const t of o){if("complete"===r.type)return !0;if("partial"!==r.type)return !1;{const e=r.diff[t];if(!e)return !1;r=e;}}return !0}function y(t,e){for(const n of e)if(a(t,n))return !0;return !1}function m(t,e){if("function"!=typeof t&&"function"!=typeof e&&(t||e))return !t||!e||"object"==typeof t&&"object"==typeof e&&s(t)!==s(e)?{type:"complete",oldValue:t,newValue:e}:p(t,e)}



//# sourceMappingURL=diffUtils-d9afbcb3.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/geojson-c6c2d2cf.js":
/*!***********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/geojson-c6c2d2cf.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ I),
/* harmony export */   N: () => (/* binding */ N),
/* harmony export */   T: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OptimizedGeometry-8812e4f6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OptimizedGeometry-8812e4f6.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function o(e){const n=[];for(;;){const{value:t,done:o}=e.next();if(o)return n;n.push(t);}}function r(e){const n=[];return e.forEach((e=>n.push(e))),n}const i={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function*s(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const n of e.features)n&&(yield n);}}function*u(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const n of e.coordinates)yield*n;break;case"MultiPolygon":for(const n of e.coordinates)for(const e of n)yield*e;}}function*c(e,o={}){const{geometryType:r,objectIdFieldName:s}=o;for(;;){const{value:u,done:c}=e.next();if(c)return;const{geometry:l,properties:f,id:a}=u;if(l&&i[l.type]!==r)continue;const y=f||{};s&&null!=a&&!y[s]&&(y[s]=a);const p=new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_1__.t(l?d(new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_1__.a,l,o):null,y);yield p;}}function l(e){for(;;){const{value:n,done:t}=e.next();if(t)return !1;if(n.length>2)return !0}}function f(e){return !y(e)}function a(e){return y(e)}function y(e){let n=0;for(let t=0;t<e.length;t++){const o=e[t],r=e[(t+1)%e.length];n+=o[0]*r[1]-r[0]*o[1];}return n<=0}function p(e){const n=e[0],t=e[e.length-1];return n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]||e.push(n),e}function d(e,n,t){switch(n.type){case"LineString":return g(e,n,t);case"MultiLineString":return m(e,n,t);case"MultiPoint":return h(e,n,t);case"MultiPolygon":return w(e,n,t);case"Point":return b(e,n,t);case"Polygon":return P(e,n,t)}}function g(e,n,t){return S(e,n.coordinates,t),e}function m(e,n,t){for(const o of n.coordinates)S(e,o,t);return e}function h(e,n,t){return S(e,n.coordinates,t),e}function w(e,n,t){for(const o of n.coordinates){j(e,o[0],t);for(let n=1;n<o.length;n++)F(e,o[n],t);}return e}function b(e,n,t){return G(e,n.coordinates,t),e}function P(e,n,t){const o=n.coordinates;j(e,o[0],t);for(let r=1;r<o.length;r++)F(e,o[r],t);return e}function j(e,n,t){const o=p(n);f(o)?M(e,o,t):S(e,o,t);}function F(e,n,t){const o=p(n);a(o)?M(e,o,t):S(e,o,t);}function S(e,n,t){for(const o of n)G(e,o,t);e.lengths.push(n.length);}function M(e,n,t){for(let o=n.length-1;o>=0;o--)G(e,n[o],t);e.lengths.push(n.length);}function G(e,n,t){const[o,r,i]=n;e.coords.push(o,r),t.hasZ&&e.coords.push(i||0);}function x(e){switch(typeof e){case"string":return "esriFieldTypeString";case"number":return "esriFieldTypeDouble";default:return "unknown"}}function I(n){if(!n)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==n.type&&"FeatureCollection"!==n.type)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:n});const{crs:t}=n;if(!t)return;const o="string"==typeof t?t:"name"===t.type?t.properties.name:null,r=new RegExp(".*(CRS84H?|4326)$","i");if(!o||!r.test(o))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function N(e,n={}){const t=s(e),o=[],c=new Set,f=new Set;let a,y=!1,p=Number.NEGATIVE_INFINITY,d=null,g=!1,{geometryType:m=null}=n,h=!1;for(;;){const{value:e,done:n}=t.next();if(n){const e=d&&1===d.length&&d[0]||null;if(e)for(const n of o)n.name===e&&(n.type="esriFieldTypeOID");return {fields:o,geometryType:m,hasZ:y,maxObjectId:Math.max(0,p),objectIdFieldName:e,objectIdFieldType:a,unknownFields:r(f)}}const{geometry:s,properties:w,id:b}=e;if(!s||(m||(m=i[s.type]),i[s.type]===m)){if(!y){y=l(u(s));}if(g||(g=null!=b,g&&(a=typeof b,"number"===a&&(d=Object.keys(w).filter((e=>w[e]===b))))),g&&"number"===a&&null!=b&&(p=Math.max(p,b),d.length>1?d=d.filter((e=>w[e]===b)):1===d.length&&(d=w[d[0]]===b?d:[])),!h&&w){let e=!0;for(const n in w){if(c.has(n))continue;const t=w[n];if(null==t){e=!1,f.add(n);continue}const r=x(t);"unknown"!==r?(f.delete(n),c.add(n),o.push({name:n,alias:n,type:r})):f.add(n);}h=e;}}}}function T(e,n){return o(c(s(e),n))}



//# sourceMappingURL=geojson-c6c2d2cf.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js":
/*!*********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   c: () => (/* binding */ c),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   f: () => (/* binding */ f),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   q: () => (/* binding */ query),
/* harmony export */   t: () => (/* binding */ t),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./normalizeUtils-69f83c05.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js");
/* harmony import */ var _queryZScale_8fd5a160_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queryZScale-8fd5a160.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js");
/* harmony import */ var _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pbfQueryUtils-8a9fc87d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbfQueryUtils-8a9fc87d.js");





/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(n){const o={};for(const e in n){if("declaredClass"===e)continue;const r=n[e];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n]);}else "object"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r;}return o}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const l="Layer does not support extent calculation.";function m(e,r$1){const i=e.geometry,o=e.toJSON(),s=o;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&(s.geometry=JSON.stringify(i),s.geometryType=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i),s.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(",")),o.objectIds&&(s.objectIds=o.objectIds.join(",")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(",")),!o.outFields||!o.returnDistinctValues&&(null!=r$1&&r$1.returnCountOnly||null!=r$1&&r$1.returnExtentOnly||null!=r$1&&r$1.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf("*")?s.outFields="*":s.outFields=o.outFields.join(","),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):i&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?"null":e},${null==r?"null":r}`),delete o.timeExtent;}return s}async function y(e,r$1,n,i){const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?{data:{features:[]}}:await g(e,r$1,"json",i);return (0,_queryZScale_8fd5a160_js__WEBPACK_IMPORTED_MODULE_2__.t)(r$1,n,o.data),o}async function c(e,r$1,n,i){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(e,r$1,i),s=o;return s.data=(0,_pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_3__.t)(o.data,n),s}function d(t,e,r){return g(t,e,"pbf",r)}function f(e,r$1,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(e,r$1,"json",n,{returnIdsOnly:!0})}function p(e,r$1,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(e,r$1,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(e,r$1,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(e,r$1,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty("extent"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty("count"))throw new Error(l);return t}))}function g(n,s,a,l={},y={}){const c="string"==typeof n?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(n):n,d=s.geometry?[s.geometry]:[];return l.responseType="pbf"===a?"array-buffer":"json",(0,_normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_1__.L)(d,null,l).then((r$1=>{const n=r$1&&r$1[0];(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(n)&&((s=s.clone()).geometry=n);const o=t({...c.query,f:a,...y,...m(s,y)});return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(c.path,"query"),{...l,query:{...o,...l.query}})}))}

const query = /*#__PURE__*/Object.freeze({
	__proto__: null,
	executeQuery: y,
	executeQueryForCount: p,
	executeQueryForExtent: S,
	executeQueryForIds: f,
	executeQueryPBF: c,
	executeQueryPBFBuffer: d,
	queryToQueryStringParameters: m,
	runQuery: g
});



//# sourceMappingURL=query-3d91522a.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _zscale_37987104_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./zscale-37987104.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=(0,_zscale_37987104_js__WEBPACK_IMPORTED_MODULE_0__.t)(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry);}



//# sourceMappingURL=queryZScale-8fd5a160.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js":
/*!**********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ l),
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,c,l){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(c)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(l)||l.vcsWkid||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(c,l))return null;const u=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(c)/(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(l);if(1===u)return null;switch(t){case"point":case"esriGeometryPoint":return n=>i(n,u);case"polyline":case"esriGeometryPolyline":return n=>s(n,u);case"polygon":case"esriGeometryPolygon":return n=>r(n,u);case"multipoint":case"esriGeometryMultipoint":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o);}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o);}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o);}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o);}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e);}function l(n,o,t){if(!n&&!o||!t)return;const i=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(t);u(n,t,i),u(o,t,i);}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e);}function a(n,t,i){if(!n||!n.spatialReference||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(n.spatialReference,t))return;const r=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(n.spatialReference)/i;if(1!==r)if("x"in n)null!=n.z&&(n.z*=r);else if("rings"in n)c(n,n.rings,r);else if("paths"in n)c(n,n.paths,r);else if("points"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r);}



//# sourceMappingURL=zscale-37987104.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLWJjZjRmNi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQ3FCO0FBQ2xCO0FBQ0k7QUFDYjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlCQUFpQix1Q0FBdUMsdUJBQXVCLGtCQUFrQiw4QkFBOEIseUNBQXlDLGtCQUFrQixhQUFhLHdCQUF3QixPQUFPLHFCQUFxQixnREFBZ0QsY0FBYyxZQUFZLEtBQUssWUFBWSxFQUFFLHlCQUF5QixLQUFLLEtBQUssWUFBWSxFQUFFLHlCQUF5QixLQUFLLG1CQUFtQixlQUFlLFNBQVMsS0FBSywwQkFBMEIsVUFBVSxPQUFPLG1EQUFtRCxpQkFBaUIsY0FBYyxZQUFZLEtBQUssWUFBWSxlQUFlLEtBQUssWUFBWSxlQUFlLHdCQUF3QixTQUFTLDZCQUE2QixTQUFTLG1EQUFtRCw0QkFBNEIsVUFBVSxxREFBcUQsc0JBQXNCLE1BQU0sWUFBWSxtQkFBbUIsNEJBQTRCLFlBQVksT0FBTyxZQUFZLG1CQUFtQiw0QkFBNEIsWUFBWSxPQUFPLFlBQVksbUJBQW1CLDRCQUE0QixZQUFZLE9BQU8sWUFBWSxtQkFBbUIsNkJBQTZCLFlBQVksUUFBUSxZQUFZLG1CQUFtQiw2QkFBNkIsWUFBWSxRQUFRLFlBQVksbUJBQW1CLDZCQUE2QixZQUFZLE1BQU0sWUFBWSxtQkFBbUIsOEJBQThCLFVBQVUsUUFBUSxZQUFZLG1CQUFtQiwyQkFBMkIsWUFBWSxRQUFRLDJDQUEyQyxRQUFRLFlBQVksbUJBQW1CLG9CQUFvQixjQUFjLFlBQVksbUJBQW1CLEtBQUssMEJBQTBCLFVBQVUsRUFBRSxFQUFFLHdCQUF3QixXQUFXLFFBQVEsNEJBQTRCLEtBQUs7O0FBRTF4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsUUFBUSxlQUFlLCtNQUErTSx3QkFBd0IsMkJB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REFBc0QsOERBQUMsdUJBQXVCLG9CQUFvQiwyREFBQyxnQ0FBZ0MsV0FBVyw4QkFBOEIsRUFBRSxPQUFPLDJEQUFDLENBQUMsNERBQUMsa0JBQWtCLFlBQVksaUJBQWlCLEVBQUU7O0FBRWp1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRTBDOztBQUUzQzs7Ozs7Ozs7Ozs7Ozs7O0FDL0JnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUNBQW1DLFFBQVEsc0RBQUcseUNBQXlDOztBQUU1Rjs7QUFFYjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNWOEQ7QUFDbEI7O0FBRTVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLEdBQUcsMkRBQUcsS0FBSywyREFBRyxnQkFBZ0IsNERBQUMsa0JBQWtCLFFBQVEseURBQUMsSUFBSSx5REFBQyxJQUFJLHFCQUFxQixVQUFVLHFEQUFxRCwyREFBMkQseURBQXlELCtEQUErRCxxQkFBcUIsZ0JBQWdCLHdCQUF3QixnQkFBZ0Isb0VBQW9FLGdCQUFnQixvRUFBb0UsZ0JBQWdCLG9EQUFvRCxrQkFBa0IsaUZBQWlGLGtCQUFrQixxQkFBcUIsUUFBUSx5REFBQyxJQUFJLG1CQUFtQixrQkFBa0IseUNBQXlDLGtCQUFrQiw0QkFBNEIsNERBQUMsOEJBQThCLFFBQVEseURBQUMsdUJBQXVCLHdDQUF3QyxtQ0FBbUMsbUNBQW1DOztBQUVyakM7O0FBRWhCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL0ZlYXR1cmVTZXRSZWFkZXItMzI0NTBlMzUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL0hhbmRsZU93bmVyLWNkNmNhMWY1LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9QaXBlbGluZS0yZDBiMWM3NS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vVGlsZUluZm8tNjM5ZTUwMzguanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL1RpbGVLZXktOWEyMjJiNDMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpc0xheWVyVXJsLTM2YjNjM2FiLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9kZWZpbml0aW9ucy1lNjNmNGZlMi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vZGlmZlV0aWxzLWQ5YWZiY2IzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9nZW9qc29uLWM2YzJkMmNmLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9xdWVyeS0zZDkxNTIyYS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vcXVlcnlaU2NhbGUtOGZkNWExNjAuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL3pzY2FsZS0zNzk4NzEwNC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vYXJjZ2lzLWdlb2VucmljaG1lbnQtZGF0YWJyb3dzZXItNmNhOGVhMTQuanMnO1xuaW1wb3J0IHsgSCBhcyByLCBKIGFzIHAsIHQgYXMgdCQxLCBZIGFzIGMgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCB7IGEgYXMgdCQzIH0gZnJvbSAnLi9PcHRpbWl6ZWRHZW9tZXRyeS04ODEyZTRmNi5qcyc7XG5pbXBvcnQgeyBlIGFzIGVlIH0gZnJvbSAnLi9mZWF0dXJlQ29udmVyc2lvblV0aWxzLTg3ZDM5Y2NiLmpzJztcbmltcG9ydCB7IHQgYXMgdCQyIH0gZnJvbSAnLi9jZW50cm9pZC1mNTEzMDQzNS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fbWFzaz0wLHRoaXMuX2J1Zj10LHRoaXMuX21hc2s9ZTt9c3RhdGljIGZyb21CdWZmZXIoZSxzKXtyZXR1cm4gbmV3IHQoZSxzKX1zdGF0aWMgY3JlYXRlKGUscz00Mjk0OTY3Mjk1KXtjb25zdCByPW5ldyBVaW50MzJBcnJheShNYXRoLmNlaWwoZS8zMikpO3JldHVybiBuZXcgdChyLHMpfV9nZXRJbmRleCh0KXtyZXR1cm4gTWF0aC5mbG9vcih0LzMyKX1oYXModCl7Y29uc3QgZT10aGlzLl9tYXNrJnQ7cmV0dXJuICEhKHRoaXMuX2J1Zlt0aGlzLl9nZXRJbmRleChlKV0mMTw8ZSUzMil9aGFzUmFuZ2UodCxlKXtsZXQgcz10LHI9ZTtmb3IoO3MlMzImJnMhPT1yOyl7aWYodGhpcy5oYXMocykpcmV0dXJuICEwO3MrKzt9Zm9yKDtyJTMyJiZzIT09cjspe2lmKHRoaXMuaGFzKHMpKXJldHVybiAhMDtyLS07fWlmKHM9PT1yKXJldHVybiAhMTtmb3IobGV0IGg9cy8zMjtoIT09ci8zMjtoKyspe2lmKHRoaXMuX2J1ZltoXSlyZXR1cm4gITB9cmV0dXJuICExfXNldCh0KXtjb25zdCBlPXRoaXMuX21hc2smdCxzPXRoaXMuX2dldEluZGV4KGUpLHI9MTw8ZSUzMjt0aGlzLl9idWZbc118PXI7fXNldFJhbmdlKHQsZSl7bGV0IHM9dCxyPWU7Zm9yKDtzJTMyJiZzIT09cjspdGhpcy5zZXQocysrKTtmb3IoO3IlMzImJnMhPT1yOyl0aGlzLnNldChyLS0pO2lmKHMhPT1yKWZvcihsZXQgaD1zLzMyO2ghPT1yLzMyO2grKyl0aGlzLl9idWZbaF09NDI5NDk2NzI5NTt9dW5zZXQodCl7Y29uc3QgZT10aGlzLl9tYXNrJnQscz10aGlzLl9nZXRJbmRleChlKSxyPTE8PGUlMzI7dGhpcy5fYnVmW3NdJj00Mjk0OTY3Mjk1XnI7fXJlc2l6ZSh0KXtjb25zdCBlPXRoaXMuX2J1ZixzPW5ldyBVaW50MzJBcnJheShNYXRoLmNlaWwodC8zMikpO3Muc2V0KGUpLHRoaXMuX2J1Zj1zO31vcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXXw9dC5fYnVmW2VdO3JldHVybiB0aGlzfWFuZCh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXSY9dC5fYnVmW2VdO3JldHVybiB0aGlzfXhvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXV49dC5fYnVmW2VdO3JldHVybiB0aGlzfWlvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXXw9fnQuX2J1ZltlXTtyZXR1cm4gdGhpc31pYW5kKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdJj1+dC5fYnVmW2VdO3JldHVybiB0aGlzfWl4b3IodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV1ePX50Ll9idWZbZV07cmV0dXJuIHRoaXN9YW55KCl7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWYubGVuZ3RoO3QrKylpZih0aGlzLl9idWZbdF0pcmV0dXJuICEwO3JldHVybiAhMX1jb3B5KHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdPXQuX2J1ZltlXTtyZXR1cm4gdGhpc31jbG9uZSgpe3JldHVybiBuZXcgdCh0aGlzLl9idWYuc2xpY2UoKSx0aGlzLl9tYXNrKX1jbGVhcigpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fYnVmLmxlbmd0aDt0KyspdGhpcy5fYnVmW3RdPTA7fWZvckVhY2hTZXQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl7bGV0IHM9dGhpcy5fYnVmW2VdLHI9MzIqZTtpZihzKWZvcig7czspezEmcyYmdChyKSxzPj4+PTEscisrO319fWNvdW50U2V0KCl7bGV0IHQ9MDtyZXR1cm4gdGhpcy5mb3JFYWNoU2V0KChlPT57dCsrO30pKSx0fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBoPTA7Y2xhc3MgZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnR5cGU9XCJGZWF0dXJlU2V0UmVhZGVyXCIsdGhpcy5zZWVuPSExLHRoaXMuaW5zdGFuY2U9MCx0aGlzLl90eD0wLHRoaXMuX3R5PTAsdGhpcy5fc3g9MSx0aGlzLl9zeT0xLHRoaXMuX3htaW49LTEsdGhpcy5feG1heD0wLHRoaXMuX3ltaW49MCx0aGlzLl95bWF4PTAsdGhpcy5fZGVsZXRlZD1udWxsLHRoaXMuX2pvaW5lZD1bXSx0aGlzLmluc3RhbmNlPXQ7fXN0YXRpYyBjcmVhdGVJbnN0YW5jZSgpe3JldHVybiBoKyssaD1oPjY1NTM1PzA6aCxofWdldCBpc0VtcHR5KCl7cmV0dXJuIHIodGhpcy5fZGVsZXRlZCkmJnRoaXMuX2RlbGV0ZWQuY291bnRTZXQoKT09PXRoaXMuZ2V0QXBwcm94aW1hdGVTaXplKCl9Z2V0IF9oYXNGaWx0ZXIoKXtyZXR1cm4gLTEhPT10aGlzLl94bWlufXNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UodCl7dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZT10O31hdHRhY2hTdG9yYWdlKHQpe3RoaXMuX3N0b3JhZ2U9dDt9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgdHJhbnNmb3JtIGZvciBmZWF0dXJlU2V0XCIpfWdldFN0b3JhZ2UoKXtyZXR1cm4gdGhpcy5fc3RvcmFnZX1nZXRDb21wdXRlZE51bWVyaWModCl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCgwKX1zZXRDb21wdXRlZE51bWVyaWModCxlKXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUsMCl9Z2V0Q29tcHV0ZWRTdHJpbmcodCl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KDApfXNldENvbXB1dGVkU3RyaW5nKHQsZSl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KDAsZSl9Z2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0KXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHRoaXMuZ2V0RGlzcGxheUlkKCksdCl9c2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0LGUpe3RoaXMuX3N0b3JhZ2Uuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0aGlzLmdldERpc3BsYXlJZCgpLHQsZSk7fWdldENvbXB1dGVkU3RyaW5nQXRJbmRleCh0KXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSx0KX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodCxlKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSx0LGUpfXRyYW5zZm9ybSh0LGUscixpKXtjb25zdCBzPXRoaXMuY29weSgpO3JldHVybiBzLl90eCs9dCxzLl90eSs9ZSxzLl9zeCo9cixzLl9zeSo9aSxzfWV4dGVudCh0LGUscixpKXtjb25zdCBzPXRoaXMuY29weSgpO3JldHVybiBzLl94bWluPXQscy5feG1heD1yLHMuX3ltaW49ZSxzLl95bWF4PWksc31oYXNGaWx0ZXIoKXtyZXR1cm4gdGhpcy5faGFzRmlsdGVyfXJlYWRBdHRyaWJ1dGUodCxlPSExKXtjb25zdCByPXRoaXMuX3JlYWRBdHRyaWJ1dGUodCxlKTtpZih2b2lkIDAhPT1yKXJldHVybiByO2Zvcihjb25zdCBpIG9mIHRoaXMuX2pvaW5lZCl7aS5zZXRJbmRleCh0aGlzLmdldEluZGV4KCkpO2NvbnN0IHI9aS5fcmVhZEF0dHJpYnV0ZSh0LGUpO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHJ9fXJlYWRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX3JlYWRBdHRyaWJ1dGVzKCl9am9pbkF0dHJpYnV0ZXModCl7dGhpcy5fam9pbmVkLnB1c2godCk7fXJlYWRBcmNhZGVGZWF0dXJlKCl7cmV0dXJuIHRoaXN9Z2VvbWV0cnkoKXtjb25zdCB0PXRoaXMucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKSxlPWVlKHQsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSkscj1wKGUpO3JldHVybiByLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZSxyfWZpZWxkKHQpe3JldHVybiB0aGlzLnJlYWRBdHRyaWJ1dGUodCwhMCl9aGFzRmllbGQodCl7cmV0dXJuICEwfXNldEZpZWxkKHQsZSl7fWtleXMoKXtyZXR1cm4gW119Y2FzdFRvVGV4dCgpe3JldHVybiBcIlwifXJlbW92ZUF0SW5kZXgodCQyKXt0JDEodGhpcy5fZGVsZXRlZCkmJih0aGlzLl9kZWxldGVkPXQuY3JlYXRlKHRoaXMuZ2V0QXBwcm94aW1hdGVTaXplKCkpKSx0aGlzLl9kZWxldGVkLnNldCh0JDIpO31fZ2V0RXhpc3RzKCl7cmV0dXJuIHQkMSh0aGlzLl9kZWxldGVkKXx8IXRoaXMuX2RlbGV0ZWQuaGFzKHRoaXMuZ2V0SW5kZXgoKSl9X2NvbXB1dGVDZW50cm9pZCgpe2lmKFwiZXNyaUdlb21ldHJ5UG9seWdvblwiIT09dGhpcy5nZW9tZXRyeVR5cGUpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLnJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCk7aWYoIXR8fHQuaGFzSW5kZXRlcm1pbmF0ZVJpbmdPcmRlcilyZXR1cm4gbnVsbDtjb25zdCBlPWModGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKSxudWxsKTtyZXR1cm4gdCQyKG5ldyB0JDMsdCx0aGlzLmhhc00sdGhpcy5oYXNaLGUpfWNvcHlJbnRvKHQpe3Quc2Vlbj10aGlzLnNlZW4sdC5fc3RvcmFnZT10aGlzLl9zdG9yYWdlLHQuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZSx0Ll9qb2luZWQ9dGhpcy5fam9pbmVkLHQuX3R4PXRoaXMuX3R4LHQuX3R5PXRoaXMuX3R5LHQuX3N4PXRoaXMuX3N4LHQuX3N5PXRoaXMuX3N5LHQuX3htaW49dGhpcy5feG1pbix0Ll94bWF4PXRoaXMuX3htYXgsdC5feW1pbj10aGlzLl95bWluLHQuX3ltYXg9dGhpcy5feW1heDt9fVxuXG5leHBvcnQgeyBkLCB0IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlYXR1cmVTZXRSZWFkZXItMzI0NTBlMzUuanMubWFwIiwiaW1wb3J0IHsgWiBhcyBlLCBfIGFzIHksIGEwIGFzIGksIGExIGFzIHUsIGI2IGFzIHUkMSwgYjcgYXMgZCQxLCBkMSBhcyBDLCB0LCBkMiBhcyByLCBjUyBhcyBrLCBkMyBhcyBvIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgbD1jbGFzcyBleHRlbmRzIHV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudXBkYXRpbmc9ITEsdGhpcy5oYW5kbGVJZD0wLHRoaXMuaGFuZGxlcz1uZXcgdSQxLHRoaXMuc2NoZWR1bGVIYW5kbGVJZD0wLHRoaXMucGVuZGluZ1Byb21pc2VzPW5ldyBTZXQ7fWRlc3Ryb3koKXt0aGlzLnJlbW92ZUFsbCgpLHRoaXMuaGFuZGxlcy5kZXN0cm95KCk7fWFkZChlLHMsdCxyPTApe2NvbnN0IGQ9MCE9KDEmciksaT0rK3RoaXMuaGFuZGxlSWQ7ZHx8dGhpcy5pbnN0YWxsU3luY1VwZGF0aW5nV2F0Y2goZSxzLGkpO2NvbnN0IG49MCE9KDImcik/ZCQxKGUscyx0LGQpOmUud2F0Y2gocyx0LGQpO3JldHVybiB0aGlzLmhhbmRsZXMuYWRkKG4saSkse3JlbW92ZTooKT0+e3RoaXMuaGFuZGxlcy5yZW1vdmUoaSk7fX19YWRkT25Db2xsZWN0aW9uUHJvcGVydHlDaGFuZ2UoZSxzLHQscj0wKXtjb25zdCBkPTAhPSgyJnIpLGk9Kyt0aGlzLmhhbmRsZUlkO3JldHVybiB0aGlzLmhhbmRsZXMuYWRkKFtDKGUscyxcImFmdGVyLWNoYW5nZXNcIix0aGlzLmNyZWF0ZVN5bmNVcGRhdGluZ0NhbGxiYWNrKCkpLEMoZSxzLFwiY2hhbmdlXCIsdCxkP2U9Pnt0KHthZGRlZDplLml0ZW1zLHJlbW92ZWQ6W10sbW92ZWQ6W10sdGFyZ2V0OmV9KTt9OnZvaWQgMCldLGkpLHtyZW1vdmU6KCk9Pnt0aGlzLmhhbmRsZXMucmVtb3ZlKGkpO319fWFkZE9uQ29sbGVjdGlvbkNoYW5nZShlLHMsdD0wKXtjb25zdCByPTAhPSgyJnQpLGQ9Kyt0aGlzLmhhbmRsZUlkO3JldHVybiB0aGlzLmhhbmRsZXMuYWRkKFtlLm9uKFwiYWZ0ZXItY2hhbmdlc1wiLHRoaXMuY3JlYXRlU3luY1VwZGF0aW5nQ2FsbGJhY2soKSksZS5vbihcImNoYW5nZVwiLHMpXSxkKSxyJiZzKHthZGRlZDplLml0ZW1zLHJlbW92ZWQ6W10sbW92ZWQ6W10sdGFyZ2V0OmV9KSx7cmVtb3ZlOigpPT57dGhpcy5oYW5kbGVzLnJlbW92ZShkKTt9fX1hZGRQcm9taXNlKGUpe2lmKHQoZSkpcmV0dXJuIGU7Y29uc3QgdCQxPSsrdGhpcy5oYW5kbGVJZDt0aGlzLmhhbmRsZXMuYWRkKHtyZW1vdmU6KCk9Pnt0aGlzLnBlbmRpbmdQcm9taXNlcy5kZWxldGUoZSkmJigwIT09dGhpcy5wZW5kaW5nUHJvbWlzZXMuc2l6ZXx8dGhpcy5oYW5kbGVzLmhhcyhwKXx8dGhpcy5fc2V0KFwidXBkYXRpbmdcIiwhMSkpO319LHQkMSksdGhpcy5wZW5kaW5nUHJvbWlzZXMuYWRkKGUpLHRoaXMuX3NldChcInVwZGF0aW5nXCIsITApO2NvbnN0IHI9KCk9PnRoaXMuaGFuZGxlcy5yZW1vdmUodCQxKTtyZXR1cm4gZS50aGVuKHIsciksZX1yZW1vdmVBbGwoKXt0aGlzLnBlbmRpbmdQcm9taXNlcy5jbGVhcigpLHRoaXMuaGFuZGxlcy5yZW1vdmVBbGwoKSx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCExKTt9aW5zdGFsbFN5bmNVcGRhdGluZ1dhdGNoKGUscyxyJDEpe2NvbnN0IGQ9dGhpcy5jcmVhdGVTeW5jVXBkYXRpbmdDYWxsYmFjaygpLGk9cigoKCk9Pm8oZSxzKSksZCk7cmV0dXJuIHRoaXMuaGFuZGxlcy5hZGQoaSxyJDEpLGl9Y3JlYXRlU3luY1VwZGF0aW5nQ2FsbGJhY2soKXtyZXR1cm4gKCk9Pnt0aGlzLmhhbmRsZXMucmVtb3ZlKHApLCsrdGhpcy5zY2hlZHVsZUhhbmRsZUlkO2NvbnN0IGU9dGhpcy5zY2hlZHVsZUhhbmRsZUlkO3RoaXMuX2dldChcInVwZGF0aW5nXCIpfHx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCEwKSx0aGlzLmhhbmRsZXMuYWRkKGsoKCgpPT57ZT09PXRoaXMuc2NoZWR1bGVIYW5kbGVJZCYmKHRoaXMuX3NldChcInVwZGF0aW5nXCIsdGhpcy5wZW5kaW5nUHJvbWlzZXMuc2l6ZT4wKSx0aGlzLmhhbmRsZXMucmVtb3ZlKHApKTt9KSkscCk7fX19O2UoW3koe3JlYWRPbmx5OiEwfSldLGwucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGw9ZShbaShcImVzcmkudmlld3Muc3VwcG9ydC5XYXRjaFVwZGF0aW5nVHJhY2tpbmdcIildLGwpO2NvbnN0IHA9LTQyO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgYT10PT57bGV0IGE9Y2xhc3MgZXh0ZW5kcyB0e2Rlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuaGFuZGxlcy5kZXN0cm95KCksdGhpcy51cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpKTt9Z2V0IGhhbmRsZXMoKXtyZXR1cm4gdGhpcy5fZ2V0KFwiaGFuZGxlc1wiKXx8bmV3IHUkMX1nZXQgdXBkYXRpbmdIYW5kbGVzKCl7cmV0dXJuIHRoaXMuX2dldChcInVwZGF0aW5nSGFuZGxlc1wiKXx8bmV3IGx9fTtyZXR1cm4gZShbeSh7cmVhZE9ubHk6ITB9KV0sYS5wcm90b3R5cGUsXCJoYW5kbGVzXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITB9KV0sYS5wcm90b3R5cGUsXCJ1cGRhdGluZ0hhbmRsZXNcIixudWxsKSxhPWUoW2koXCJlc3JpLmNvcmUuSGFuZGxlT3duZXJcIildLGEpLGF9O2xldCBkPWNsYXNzIGV4dGVuZHMoYSh1KSl7fTtkPWUoW2koXCJlc3JpLmNvcmUuSGFuZGxlT3duZXJcIildLGQpO1xuXG5leHBvcnQgeyBhLCBkLCBsIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhhbmRsZU93bmVyLWNkNmNhMWY1LmpzLm1hcCIsImltcG9ydCB7IGF2IGFzIFMsIGNnIGFzIGUkMywgTSBhcyBNJDMsIGNRIGFzIG8kOSwgYUIgYXMgbiQ4LCBIIGFzIHIkOSwgdCBhcyB0JDcsIGFGIGFzIG0kNywgYXogYXMgaCRlLCBiOCBhcyB2JDQsIGJqIGFzIFAkMiwgY1IgYXMgRSQ0LCBjUyBhcyBrJDQsIFEgYXMgVSQxLCBiOSBhcyBtJDgsIFMgYXMgbiQ5LCBzIGFzIHMkNCwgY1QgYXMgQiQxLCBhRCBhcyBnJDQsIGNVIGFzIHkkNiwgY1YgYXMgZCQ5LCBjVyBhcyBBJDMsIEkgYXMgZSQ1LCBjcSBhcyBlJDYsIGNYIGFzIGkkNywgTyBhcyBrJDUsIFkgYXMgYyQ5LCBiZiBhcyBkJGEsIFUgYXMgVSQyLCBiZyBhcyBnJDUsIGN0IGFzIEkkNCwgWiBhcyBlJDgsIF8gYXMgeSQ4LCBhMCBhcyBpJDgsIGExIGFzIHUkOSwgUCBhcyBzJDUsIGFoIGFzIGEkOSwgY1kgYXMgQyQ0LCBKIGFzIHAkNywgYTMgYXMgZyQ3LCBjWiBhcyBqJDMsIGNFIGFzIHQkYywgY18gYXMgdiQ1LCBhVyBhcyBzJDYsIGMkIGFzIHkkYiwgZDAgYXMgJCB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgdCBhcyB0JDYgfSBmcm9tICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcbmltcG9ydCB7IGQgYXMgZCRkIH0gZnJvbSAnLi9IYW5kbGVPd25lci1jZDZjYTFmNS5qcyc7XG5pbXBvcnQgeyB4IGFzIHgkMyB9IGZyb20gJy4vVGlsZUluZm8tNjM5ZTUwMzguanMnO1xuaW1wb3J0IHsgZSBhcyBlJDIgfSBmcm9tICcuL1RpbGVLZXktOWEyMjJiNDMuanMnO1xuaW1wb3J0IHsgaSBhcyBpJDYgfSBmcm9tICcuL2FhQm91bmRpbmdSZWN0LTYxOTcxZmUzLmpzJztcbmltcG9ydCB7IGEgYXMgYSQ3LCBSIGFzIFIkNCB9IGZyb20gJy4vUXVlcnktMzljMzRiOTMuanMnO1xuaW1wb3J0IHsgciBhcyByJDggfSBmcm9tICcuL3F1aWNrc2VsZWN0LTEyNzkxMjhmLmpzJztcbmltcG9ydCB7IEsgYXMgSyQxLCBvIGFzIG9lLCBXIGFzIFckMSwgZSBhcyBlZSwgeSBhcyB5ZSwgYSBhcyBhZSwgWCwgcyBhcyBzZSwgSiBhcyBKJDEsIGMgYXMgY2UsIHAgYXMgcCQ4LCBJIGFzIEkkNiB9IGZyb20gJy4vZmVhdHVyZUNvbnZlcnNpb25VdGlscy04N2QzOWNjYi5qcyc7XG5pbXBvcnQgeyBlIGFzIGUkNCB9IGZyb20gJy4vRmllbGRzSW5kZXgtZGEyMzc0OTIuanMnO1xuaW1wb3J0IHsgZCBhcyBkJDgsIHQgYXMgdCQ4IH0gZnJvbSAnLi9GZWF0dXJlU2V0UmVhZGVyLTMyNDUwZTM1LmpzJztcbmltcG9ydCB7IG0gYXMgbSQ5LCBhIGFzIGEkOCwgeSBhcyB5JDkgfSBmcm9tICcuL2RpZmZVdGlscy1kOWFmYmNiMy5qcyc7XG5pbXBvcnQgeyBOLCBPIGFzIE8kMywgSyBhcyBLJDIsIGMgYXMgYyQ4LCBKLCBvIGFzIG8kYSB9IGZyb20gJy4vZGVmaW5pdGlvbnMtZTYzZjRmZTIuanMnO1xuaW1wb3J0ICcuL0ZyYW1lYnVmZmVyT2JqZWN0LWNlNTY5MjFiLmpzJztcbmltcG9ydCB7IE8gYXMgTyQ0IH0gZnJvbSAnLi9hYUJvdW5kaW5nQm94LTM3NmEyYjZlLmpzJztcbmltcG9ydCB7IHAgYXMgcCQ5LCB5IGFzIHkkYSwgWiB9IGZyb20gJy4vUXVlcnlFbmdpbmUtNWQ5MmJmMDkuanMnO1xuaW1wb3J0IHsgdyBhcyB3JDQgfSBmcm9tICcuL2FyY2dpc0xheWVyVXJsLTM2YjNjM2FiLmpzJztcbmltcG9ydCB7IGYgYXMgZiQ1IH0gZnJvbSAnLi93b3JrZXJzLWUwODU5MjEzLmpzJztcbmltcG9ydCB7IGQgYXMgZCRiLCB5IGFzIHkkNyB9IGZyb20gJy4vcXVlcnktM2Q5MTUyMmEuanMnO1xuaW1wb3J0IHsgZSBhcyBlJDcsIHQgYXMgdCQ5LCBhIGFzIHQkYSB9IGZyb20gJy4vT3B0aW1pemVkR2VvbWV0cnktODgxMmU0ZjYuanMnO1xuaW1wb3J0IHsgVCBhcyBUJDMgfSBmcm9tICcuL2dlb2pzb24tYzZjMmQyY2YuanMnO1xuaW1wb3J0IHsgbiBhcyBuJGEgfSBmcm9tICcuL3BiZi03NzdkNjY2ZC5qcyc7XG5pbXBvcnQgeyBJIGFzIEkkNSwgZyBhcyBnJDYgfSBmcm9tICcuL3BiZlF1ZXJ5VXRpbHMtOGE5ZmM4N2QuanMnO1xuaW1wb3J0IHsgZCBhcyBkJGMgfSBmcm9tICcuL1RpbWVFeHRlbnQtN2Y4NTdhMzkuanMnO1xuaW1wb3J0IHsgdCBhcyB0JGIgfSBmcm9tICcuL3pzY2FsZS0zNzk4NzEwNC5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvJDgodCxyKXtyZXR1cm4gW3Qscl19ZnVuY3Rpb24gaSQ1KHQscixvKXtyZXR1cm4gdFswXT1yLHRbMV09byx0fWZ1bmN0aW9uIGUkMSh0LHIsbyxpLGUpe3JldHVybiB0WzBdPXIsdFsxXT1vLHRbMl09aSx0WzNdPWUsdH1jb25zdCBzJDM9bmV3IGUkMihcIjAvMC8wLzBcIik7Y2xhc3MgbiQ3e2NvbnN0cnVjdG9yKHQscixvLGksZSxzLG4sbCxoLGEsdSxtKXt0aGlzLmxldmVsPXQsdGhpcy5yZXNvbHV0aW9uPXIsdGhpcy5zY2FsZT1vLHRoaXMub3JpZ2luPWksdGhpcy5maXJzdD1lLHRoaXMubGFzdD1zLHRoaXMuc2l6ZT1uLHRoaXMubm9ybT1sLHRoaXMud29ybGRTdGFydD1oLHRoaXMud29ybGRFbmQ9YSx0aGlzLndvcmxkU2l6ZT11LHRoaXMud3JhcD1tO31zdGF0aWMgY3JlYXRlKHIsZSxzKXtjb25zdCBsPVMoci5zcGF0aWFsUmVmZXJlbmNlKSxoPW8kOChyLm9yaWdpbi54LHIub3JpZ2luLnkpLGE9byQ4KHIuc2l6ZVswXSplLnJlc29sdXRpb24sci5zaXplWzFdKmUucmVzb2x1dGlvbiksdT1vJDgoLTEvMCwtMS8wKSxtPW8kOCgxLzAsMS8wKSxnPW8kOCgxLzAsMS8wKTtsZXQgdyxkLGMsZjtyZXR1cm4gcyYmKGkkNSh1LE1hdGgubWF4KDAsTWF0aC5mbG9vcigocy54bWluLWhbMF0pL2FbMF0pKSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKGhbMV0tcy55bWF4KS9hWzFdKSkpLGkkNShtLE1hdGgubWF4KDAsTWF0aC5mbG9vcigocy54bWF4LWhbMF0pL2FbMF0pKSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKGhbMV0tcy55bWluKS9hWzFdKSkpLGkkNShnLG1bMF0tdVswXSsxLG1bMV0tdVsxXSsxKSksci5pc1dyYXBwYWJsZT8odz1vJDgoTWF0aC5jZWlsKE1hdGgucm91bmQoKGwudmFsaWRbMV0tbC52YWxpZFswXSkvZS5yZXNvbHV0aW9uKS9yLnNpemVbMF0pLGdbMV0pLGQ9byQ4KE1hdGguZmxvb3IoKGwub3JpZ2luWzBdLWhbMF0pL2FbMF0pLHVbMV0pLGM9byQ4KHdbMF0rZFswXS0xLG1bMV0pLGY9ITApOihkPXUsYz1tLHc9ZyxmPSExKSxuZXcgbiQ3KGUubGV2ZWwsZS5yZXNvbHV0aW9uLGUuc2NhbGUsaCx1LG0sZyxhLGQsYyx3LGYpfW5vcm1hbGl6ZUNvbCh0KXtpZighdGhpcy53cmFwKXJldHVybiB0O2NvbnN0IHI9dGhpcy53b3JsZFNpemVbMF07cmV0dXJuIHQ8MD9yLTEtTWF0aC5hYnMoKHQrMSklcik6dCVyfWRlbm9ybWFsaXplQ29sKHQscil7cmV0dXJuIHRoaXMud3JhcD90aGlzLndvcmxkU2l6ZVswXSpyK3Q6dH1nZXRXb3JsZEZvckNvbHVtbih0KXtyZXR1cm4gdGhpcy53cmFwP01hdGguZmxvb3IodC90aGlzLndvcmxkU2l6ZVswXSk6MH1nZXRGaXJzdENvbHVtbkZvcldvcmxkKHQpe3JldHVybiB0KnRoaXMud29ybGRTaXplWzBdK3RoaXMuZmlyc3RbMF19Z2V0TGFzdENvbHVtbkZvcldvcmxkKHQpe3JldHVybiB0KnRoaXMud29ybGRTaXplWzBdK3RoaXMuZmlyc3RbMF0rdGhpcy5zaXplWzBdLTF9Z2V0Q29sdW1uRm9yWCh0KXtyZXR1cm4gKHQtdGhpcy5vcmlnaW5bMF0pL3RoaXMubm9ybVswXX1nZXRYRm9yQ29sdW1uKHQpe3JldHVybiB0aGlzLm9yaWdpblswXSt0KnRoaXMubm9ybVswXX1nZXRSb3dGb3JZKHQpe3JldHVybiAodGhpcy5vcmlnaW5bMV0tdCkvdGhpcy5ub3JtWzFdfWdldFlGb3JSb3codCl7cmV0dXJuIHRoaXMub3JpZ2luWzFdLXQqdGhpcy5ub3JtWzFdfWdldFRpbGVCb3VuZHModCxyLG89ITEpe3MkMy5zZXQocik7Y29uc3QgaT1vP3MkMy5jb2w6dGhpcy5kZW5vcm1hbGl6ZUNvbChzJDMuY29sLHMkMy53b3JsZCksbj1zJDMucm93O3JldHVybiBlJDEodCx0aGlzLmdldFhGb3JDb2x1bW4oaSksdGhpcy5nZXRZRm9yUm93KG4rMSksdGhpcy5nZXRYRm9yQ29sdW1uKGkrMSksdGhpcy5nZXRZRm9yUm93KG4pKSx0fWdldFRpbGVDb29yZHModCxyLG89ITEpe3MkMy5zZXQocik7Y29uc3QgZT1vP3MkMy5jb2w6dGhpcy5kZW5vcm1hbGl6ZUNvbChzJDMuY29sLHMkMy53b3JsZCk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/aSQ1KHQsdGhpcy5nZXRYRm9yQ29sdW1uKGUpLHRoaXMuZ2V0WUZvclJvdyhzJDMucm93KSk6KHQueD10aGlzLmdldFhGb3JDb2x1bW4oZSksdC55PXRoaXMuZ2V0WUZvclJvdyhzJDMucm93KSksdH19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBsJGN7Y29uc3RydWN0b3IoKXt0aGlzLnNwYW5zPVtdO31hY3F1aXJlKG8pe3RoaXMubG9kSW5mbz1vO31yZWxlYXNlKCl7dGhpcy5sb2RJbmZvPW51bGwsdGhpcy5zcGFucy5sZW5ndGg9MDt9Zm9yRWFjaChvLGwpe2NvbnN0e3NwYW5zOnMsbG9kSW5mbzp0fT10aGlzLHtsZXZlbDplfT10O2lmKDAhPT1zLmxlbmd0aClmb3IoY29uc3R7cm93OnIsY29sRnJvbTpuLGNvbFRvOmN9b2Ygcylmb3IobGV0IHM9bjtzPD1jO3MrKylvLmNhbGwobCxlLHIsdC5ub3JtYWxpemVDb2wocyksdC5nZXRXb3JsZEZvckNvbHVtbihzKSk7fX1sJGMucG9vbD1uZXcgZSQzKGwkYyk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBvJDd7Y29uc3RydWN0b3Iobyx0LHMpe3RoaXMucm93PW8sdGhpcy5jb2xGcm9tPXQsdGhpcy5jb2xUbz1zO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBpJDQ9bmV3IGUkMihcIjAvMC8wLzBcIik7Y2xhc3MgbiQ2e2NvbnN0cnVjdG9yKGUsdCxvLGwscyxpLG4scil7dGhpcy54PWUsdGhpcy55bWluPXQsdGhpcy55bWF4PW8sdGhpcy5pbnZNPWwsdGhpcy5sZWZ0QWRqdXN0PXMsdGhpcy5yaWdodEFkanVzdD1pLHRoaXMubGVmdEJvdW5kPW4sdGhpcy5yaWdodEJvdW5kPXI7fXN0YXRpYyBjcmVhdGUoZSx0KXtlWzFdPnRbMV0mJihbZSx0XT1bdCxlXSk7Y29uc3RbbyxsXT1lLFtzLGldPXQscj1zLW8sYT1pLWwsaD0wIT09YT9yL2E6MCxjPShNYXRoLmNlaWwobCktbCkqaCxmPShNYXRoLmZsb29yKGwpLWwpKmg7cmV0dXJuIG5ldyBuJDYobyxNYXRoLmZsb29yKGwpLE1hdGguY2VpbChpKSxoLHI8MD9jOmYscjwwP2Y6YyxyPDA/czpvLHI8MD9vOnMpfWluY3JSb3coKXt0aGlzLngrPXRoaXMuaW52TTt9Z2V0TGVmdENvbCgpe3JldHVybiBNYXRoLm1heCh0aGlzLngrdGhpcy5sZWZ0QWRqdXN0LHRoaXMubGVmdEJvdW5kKX1nZXRSaWdodENvbCgpe3JldHVybiBNYXRoLm1pbih0aGlzLngrdGhpcy5yaWdodEFkanVzdCx0aGlzLnJpZ2h0Qm91bmQpfX1jb25zdCByJDc9W1swLDBdLFswLDBdLFswLDBdLFswLDBdXSxhJDY9MWUtNjtjbGFzcyBoJGR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnRpbGVJbmZvPWUsdGhpcy5mdWxsRXh0ZW50PXQsdGhpcy5zY2FsZXM9W10sdGhpcy5fbG9kSW5mb3M9bnVsbCx0aGlzLl9pbmZvQnlTY2FsZT17fSx0aGlzLl9pbmZvQnlMZXZlbD17fTtjb25zdCBsPWUubG9kcy5zbGljZSgpO2wuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5zY2FsZS1lLnNjYWxlfSkpO2NvbnN0IHM9dGhpcy5fbG9kSW5mb3M9bC5tYXAoKGw9Pm4kNy5jcmVhdGUoZSxsLHQpKSk7bC5mb3JFYWNoKCgoZSx0KT0+e3RoaXMuX2luZm9CeUxldmVsW2UubGV2ZWxdPXNbdF0sdGhpcy5faW5mb0J5U2NhbGVbZS5zY2FsZV09c1t0XSx0aGlzLnNjYWxlc1t0XT1lLnNjYWxlO30pLHRoaXMpLHRoaXMuX3dyYXA9ZS5pc1dyYXBwYWJsZTt9Z2V0IHNwYXRpYWxSZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy50aWxlSW5mby5zcGF0aWFsUmVmZXJlbmNlfWdldExPREluZm9BdChlKXtyZXR1cm4gdGhpcy5faW5mb0J5TGV2ZWxbXCJudW1iZXJcIj09dHlwZW9mIGU/ZTplLmxldmVsXX1nZXRUaWxlQm91bmRzKGUsdCxvPSExKXtpJDQuc2V0KHQpO2NvbnN0IGw9dGhpcy5faW5mb0J5TGV2ZWxbaSQ0LmxldmVsXTtyZXR1cm4gbD9sLmdldFRpbGVCb3VuZHMoZSxpJDQsbyk6ZX1nZXRUaWxlQ29vcmRzKGUsdCxvPSExKXtpJDQuc2V0KHQpO2NvbnN0IGw9dGhpcy5faW5mb0J5TGV2ZWxbaSQ0LmxldmVsXTtyZXR1cm4gbD9sLmdldFRpbGVDb29yZHMoZSxpJDQsbyk6ZX1nZXRUaWxlQ292ZXJhZ2UoZSx0PTE5MixvPVwiY2xvc2VzdFwiKXtjb25zdCBpPVwiY2xvc2VzdFwiPT09bz90aGlzLmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoZS5zY2FsZSk6dGhpcy5nZXRTbWFsbGVzdEluZm9Gb3JTY2FsZShlLnNjYWxlKSxhPWwkYy5wb29sLmFjcXVpcmUoaSksaD10aGlzLl93cmFwO2xldCBjLGYsdSxtPTEvMCxnPS0xLzA7Y29uc3QgZD1hLnNwYW5zO3IkN1swXVswXT1yJDdbMF1bMV09ciQ3WzFdWzFdPXIkN1szXVswXT0tdCxyJDdbMV1bMF09ciQ3WzJdWzBdPWUuc2l6ZVswXSt0LHIkN1syXVsxXT1yJDdbM11bMV09ZS5zaXplWzFdK3Q7Zm9yKGNvbnN0IGwgb2YgciQ3KWUudG9NYXAobCxsKSxsWzBdPWkuZ2V0Q29sdW1uRm9yWChsWzBdKSxsWzFdPWkuZ2V0Um93Rm9yWShsWzFdKTtjb25zdCB5PVtdO2xldCBfPTM7Zm9yKGxldCBsPTA7bDw0O2wrKyl7aWYociQ3W2xdWzFdPT09ciQ3W19dWzFdKXtfPWw7Y29udGludWV9Y29uc3QgZT1uJDYuY3JlYXRlKHIkN1tsXSxyJDdbX10pO209TWF0aC5taW4oZS55bWluLG0pLGc9TWF0aC5tYXgoZS55bWF4LGcpLHZvaWQgMD09PXlbZS55bWluXSYmKHlbZS55bWluXT1bXSkseVtlLnltaW5dLnB1c2goZSksXz1sO31pZihudWxsPT1tfHxudWxsPT1nfHxnLW0+MTAwKXJldHVybiBudWxsO2xldCB2PVtdO2ZvcihjPW07YzxnOyl7bnVsbCE9eVtjXSYmKHY9di5jb25jYXQoeVtjXSkpLGY9MS8wLHU9LTEvMDtmb3IobGV0IGU9di5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD12W2VdO2Y9TWF0aC5taW4oZix0LmdldExlZnRDb2woKSksdT1NYXRoLm1heCh1LHQuZ2V0UmlnaHRDb2woKSk7fWlmKGY9TWF0aC5mbG9vcihmKSx1PU1hdGguZmxvb3IodSksYz49aS5maXJzdFsxXSYmYzw9aS5sYXN0WzFdKWlmKGgpaWYoaS5zaXplWzBdPGkud29ybGRTaXplWzBdKXtjb25zdCBlPU1hdGguZmxvb3IodS9pLndvcmxkU2l6ZVswXSk7Zm9yKGxldCB0PU1hdGguZmxvb3IoZi9pLndvcmxkU2l6ZVswXSk7dDw9ZTt0KyspZC5wdXNoKG5ldyBvJDcoYyxNYXRoLm1heChpLmdldEZpcnN0Q29sdW1uRm9yV29ybGQodCksZiksTWF0aC5taW4oaS5nZXRMYXN0Q29sdW1uRm9yV29ybGQodCksdSkpKTt9ZWxzZSBkLnB1c2gobmV3IG8kNyhjLGYsdSkpO2Vsc2UgZj5pLmxhc3RbMF18fHU8aS5maXJzdFswXXx8KGY9TWF0aC5tYXgoZixpLmZpcnN0WzBdKSx1PU1hdGgubWluKHUsaS5sYXN0WzBdKSxkLnB1c2gobmV3IG8kNyhjLGYsdSkpKTtjKz0xO2ZvcihsZXQgZT12Lmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PXZbZV07dC55bWF4Pj1jP3QuaW5jclJvdygpOnYuc3BsaWNlKGUsMSk7fX1yZXR1cm4gYX1nZXRUaWxlUGFyZW50SWQoZSl7aSQ0LnNldChlKTtjb25zdCB0PXRoaXMuX2luZm9CeUxldmVsW2kkNC5sZXZlbF0sbz10aGlzLl9sb2RJbmZvcy5pbmRleE9mKHQpLTE7cmV0dXJuIG88MD9udWxsOih0aGlzLl9nZXRUaWxlSWRBdExPRChpJDQsdGhpcy5fbG9kSW5mb3Nbb10saSQ0KSxpJDQuaWQpfWdldFRpbGVSZXNvbHV0aW9uKGUpe2NvbnN0IHQ9dGhpcy5faW5mb0J5TGV2ZWxbXCJvYmplY3RcIj09dHlwZW9mIGU/ZS5sZXZlbDplXTtyZXR1cm4gdD90LnJlc29sdXRpb246LTF9Z2V0VGlsZVNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5faW5mb0J5TGV2ZWxbZS5sZXZlbF07cmV0dXJuIHQ/dC5zY2FsZTotMX1pbnRlcnNlY3RzKGUsdCl7aSQ0LnNldCh0KTtjb25zdCBvPXRoaXMuX2luZm9CeUxldmVsW2kkNC5sZXZlbF0sbD1lLmxvZEluZm87aWYobC5yZXNvbHV0aW9uPm8ucmVzb2x1dGlvbil7dGhpcy5fZ2V0VGlsZUlkQXRMT0QoaSQ0LGwsaSQ0KTtjb25zdCB0PWwuZGVub3JtYWxpemVDb2woaSQ0LmNvbCxpJDQud29ybGQpO2Zvcihjb25zdCBvIG9mIGUuc3BhbnMpaWYoby5yb3c9PT1pJDQucm93JiZvLmNvbEZyb208PXQmJm8uY29sVG8+PXQpcmV0dXJuICEwfWlmKGwucmVzb2x1dGlvbjxvLnJlc29sdXRpb24pe2NvbnN0W3QscyxuLHJdPWUuc3BhbnMucmVkdWNlKCgoZSx0KT0+KGVbMF09TWF0aC5taW4oZVswXSx0LnJvdyksZVsxXT1NYXRoLm1heChlWzFdLHQucm93KSxlWzJdPU1hdGgubWluKGVbMl0sdC5jb2xGcm9tKSxlWzNdPU1hdGgubWF4KGVbM10sdC5jb2xUbyksZSkpLFsxLzAsLTEvMCwxLzAsLTEvMF0pLGE9by5kZW5vcm1hbGl6ZUNvbChpJDQuY29sLGkkNC53b3JsZCksaD1sLmdldENvbHVtbkZvclgoby5nZXRYRm9yQ29sdW1uKGEpKSxjPWwuZ2V0Um93Rm9yWShvLmdldFlGb3JSb3coaSQ0LnJvdykpLGY9bC5nZXRDb2x1bW5Gb3JYKG8uZ2V0WEZvckNvbHVtbihhKzEpKS0xLHU9bC5nZXRSb3dGb3JZKG8uZ2V0WUZvclJvdyhpJDQucm93KzEpKS0xO3JldHVybiAhKGg+cnx8ZjxufHxjPnN8fHU8dCl9Y29uc3Qgcz1sLmRlbm9ybWFsaXplQ29sKGkkNC5jb2wsaSQ0LndvcmxkKTtyZXR1cm4gZS5zcGFucy5zb21lKChlPT5lLnJvdz09PWkkNC5yb3cmJmUuY29sRnJvbTw9cyYmZS5jb2xUbz49cykpfW5vcm1hbGl6ZUJvdW5kcyh0LG8sbCl7aWYodFswXT1vWzBdLHRbMV09b1sxXSx0WzJdPW9bMl0sdFszXT1vWzNdLHRoaXMuX3dyYXApe2NvbnN0IG89Uyh0aGlzLnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2UpLHM9LWwqKG8udmFsaWRbMV0tby52YWxpZFswXSk7dFswXSs9cyx0WzJdKz1zO31yZXR1cm4gdH1nZXRTbWFsbGVzdEluZm9Gb3JTY2FsZShlKXtjb25zdCB0PXRoaXMuc2NhbGVzO2lmKHRoaXMuX2luZm9CeVNjYWxlW2VdKXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVtlXTtpZihlPnRbMF0pcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3RbMF1dO2ZvcihsZXQgbz0xO288dC5sZW5ndGgtMTtvKyspaWYoZT50W29dK2EkNilyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFtvLTFdXTtyZXR1cm4gdGhpcy5faW5mb0J5U2NhbGVbdFt0Lmxlbmd0aC0xXV19Z2V0Q2xvc2VzdEluZm9Gb3JTY2FsZShlKXtjb25zdCB0PXRoaXMuc2NhbGVzO3JldHVybiB0aGlzLl9pbmZvQnlTY2FsZVtlXXx8KGU9dC5yZWR1Y2UoKCh0LG8pPT5NYXRoLmFicyhvLWUpPE1hdGguYWJzKHQtZSk/bzp0KSx0WzBdKSksdGhpcy5faW5mb0J5U2NhbGVbZV19c2NhbGVUb0xldmVsKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7aWYodGhpcy5faW5mb0J5U2NhbGVbZV0pcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW2VdLmxldmVsO2ZvcihsZXQgbz10Lmxlbmd0aC0xO28+PTA7by0tKWlmKGU8dFtvXSl7aWYobz09PXQubGVuZ3RoLTEpcmV0dXJuIHRoaXMuX2luZm9CeVNjYWxlW3RbdC5sZW5ndGgtMV1dLmxldmVsO3JldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0W29dXS5sZXZlbCsodFtvXS1lKS8odFtvXS10W28rMV0pfXJldHVybiB0aGlzLl9pbmZvQnlTY2FsZVt0WzBdXS5sZXZlbH1zY2FsZVRvWm9vbShlKXtyZXR1cm4gdGhpcy50aWxlSW5mby5zY2FsZVRvWm9vbShlKX1fZ2V0VGlsZUlkQXRMT0QoZSx0LG8pe2NvbnN0IGw9dGhpcy5faW5mb0J5TGV2ZWxbby5sZXZlbF07cmV0dXJuIGUuc2V0KG8pLHQucmVzb2x1dGlvbjxsLnJlc29sdXRpb24/bnVsbDoodC5yZXNvbHV0aW9uPT09bC5yZXNvbHV0aW9ufHwoZS5sZXZlbD10LmxldmVsLGUuY29sPU1hdGguZmxvb3Ioby5jb2wqbC5yZXNvbHV0aW9uL3QucmVzb2x1dGlvbisuMDEpLGUucm93PU1hdGguZmxvb3Ioby5yb3cqbC5yZXNvbHV0aW9uL3QucmVzb2x1dGlvbisuMDEpKSxlKX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBsJGJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmtleT1uZXcgZSQyKDAsMCwwLDApLHRoaXMuYm91bmRzPWkkNigpLHRoaXMub2JqZWN0SWRzPW5ldyBTZXQsdGhpcy5rZXkuc2V0KHQpO2NvbnN0IHM9ZS5nZXRMT0RJbmZvQXQodGhpcy5rZXkpO3RoaXMudGlsZUluZm9WaWV3PWUsdGhpcy50aWxlSW5mb1ZpZXcuZ2V0VGlsZUJvdW5kcyh0aGlzLmJvdW5kcyx0aGlzLmtleSwhMCksdGhpcy5yZXNvbHV0aW9uPXMucmVzb2x1dGlvbix0aGlzLnNjYWxlPXMuc2NhbGUsdGhpcy5sZXZlbD1zLmxldmVsLHRoaXMubmVlZHNDbGVhcj0hMDt9Z2V0IGlkKCl7cmV0dXJuIHRoaXMua2V5LmlkfWdldCBleHRlbnQoKXtyZXR1cm4gTSQzLmZyb21Cb3VuZHModGhpcy5ib3VuZHMsdGhpcy50aWxlSW5mb1ZpZXcudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZSl9Z2V0IHRyYW5zZm9ybSgpe3JldHVybiB7b3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIixzY2FsZTpbdGhpcy5yZXNvbHV0aW9uLHRoaXMucmVzb2x1dGlvbl0sdHJhbnNsYXRlOlt0aGlzLmJvdW5kc1swXSx0aGlzLmJvdW5kc1szXV19fWdldCBiYm94KCl7Y29uc3QgZT10aGlzLmJvdW5kcztyZXR1cm4ge21pblg6ZVswXSxtaW5ZOmVbMV0sbWF4WDplWzJdLG1heFk6ZVszXX19Y2xvbmUoKXtyZXR1cm4gbmV3IGwkYih0aGlzLnRpbGVJbmZvVmlldyx0aGlzLmtleSl9Y3JlYXRlQ2hpbGRUaWxlcygpe2NvbnN0IHQ9dGhpcy5rZXkuZ2V0Q2hpbGRLZXlzKCksaT1vJDkuYWNxdWlyZSgpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlbZV09bmV3IGwkYih0aGlzLnRpbGVJbmZvVmlldyx0W2VdKTtyZXR1cm4gaX1nZXRRdWFudGl6YXRpb25QYXJhbWV0ZXJzKCl7cmV0dXJuIGEkNy5mcm9tSlNPTih7bW9kZTpcInZpZXdcIixvcmlnaW5Qb3NpdGlvbjpcInVwcGVyTGVmdFwiLHRvbGVyYW5jZTp0aGlzLnJlc29sdXRpb24sZXh0ZW50Ont4bWluOnRoaXMuYm91bmRzWzBdLHltaW46dGhpcy5ib3VuZHNbMV0seG1heDp0aGlzLmJvdW5kc1syXSx5bWF4OnRoaXMuYm91bmRzWzNdLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy50aWxlSW5mb1ZpZXcudGlsZUluZm8uc3BhdGlhbFJlZmVyZW5jZX19KX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBpJDModCxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpJDMpKXJldHVybiBuZXcgaSQzKHQsbik7dGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHR8fDkpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLG4mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP3RoaXMudG9CQm94PW46dGhpcy5faW5pdEZvcm1hdChuKSksdGhpcy5jbGVhcigpO31mdW5jdGlvbiBuJDUodCxpLG4pe2lmKCFuKXJldHVybiBpLmluZGV4T2YodCk7Zm9yKHZhciBoPTA7aDxpLmxlbmd0aDtoKyspaWYobih0LGlbaF0pKXJldHVybiBoO3JldHVybiAtMX1mdW5jdGlvbiBoJGModCxpKXthJDUodCwwLHQuY2hpbGRyZW4ubGVuZ3RoLGksdCk7fWZ1bmN0aW9uIGEkNSh0LGksbixoLGEpe2F8fChhPXgkMihudWxsKSksYS5taW5YPTEvMCxhLm1pblk9MS8wLGEubWF4WD0tMS8wLGEubWF4WT0tMS8wO2Zvcih2YXIgZSxvPWk7bzxuO28rKyllPXQuY2hpbGRyZW5bb10sciQ2KGEsdC5sZWFmP2goZSk6ZSk7cmV0dXJuIGF9ZnVuY3Rpb24gciQ2KHQsaSl7cmV0dXJuIHQubWluWD1NYXRoLm1pbih0Lm1pblgsaS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGkubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxpLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksaS5tYXhZKSx0fWZ1bmN0aW9uIGUodCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH1mdW5jdGlvbiBvJDYodCxpKXtyZXR1cm4gdC5taW5ZLWkubWluWX1mdW5jdGlvbiBzJDIodCl7cmV0dXJuICh0Lm1heFgtdC5taW5YKSoodC5tYXhZLXQubWluWSl9ZnVuY3Rpb24gbCRhKHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBtJDYodCxpKXtyZXR1cm4gKE1hdGgubWF4KGkubWF4WCx0Lm1heFgpLU1hdGgubWluKGkubWluWCx0Lm1pblgpKSooTWF0aC5tYXgoaS5tYXhZLHQubWF4WSktTWF0aC5taW4oaS5taW5ZLHQubWluWSkpfWZ1bmN0aW9uIGMkNyh0LGkpe3ZhciBuPU1hdGgubWF4KHQubWluWCxpLm1pblgpLGg9TWF0aC5tYXgodC5taW5ZLGkubWluWSksYT1NYXRoLm1pbih0Lm1heFgsaS5tYXhYKSxyPU1hdGgubWluKHQubWF4WSxpLm1heFkpO3JldHVybiBNYXRoLm1heCgwLGEtbikqTWF0aC5tYXgoMCxyLWgpfWZ1bmN0aW9uIHUkOCh0LGkpe3JldHVybiB0Lm1pblg8PWkubWluWCYmdC5taW5ZPD1pLm1pblkmJmkubWF4WDw9dC5tYXhYJiZpLm1heFk8PXQubWF4WX1mdW5jdGlvbiBmJDQodCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24geCQyKHQpe3JldHVybiB7Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIGQkNyhpLG4saCxhLHIpe2Zvcih2YXIgZSxvPVtuLGhdO28ubGVuZ3RoOykoaD1vLnBvcCgpKS0obj1vLnBvcCgpKTw9YXx8KGU9bitNYXRoLmNlaWwoKGgtbikvYS8yKSphLHIkOChpLGUsbixoLHIpLG8ucHVzaChuLGUsZSxoKSk7fWkkMy5wcm90b3R5cGU9e2FsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLFtdKX0sc2VhcmNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZGF0YSxuPVtdLGg9dGhpcy50b0JCb3g7aWYoIWYkNCh0LGkpKXJldHVybiBuO2Zvcih2YXIgYSxyLGUsbyxzPVtdO2k7KXtmb3IoYT0wLHI9aS5jaGlsZHJlbi5sZW5ndGg7YTxyO2ErKyllPWkuY2hpbGRyZW5bYV0sZiQ0KHQsbz1pLmxlYWY/aChlKTplKSYmKGkubGVhZj9uLnB1c2goZSk6dSQ4KHQsbyk/dGhpcy5fYWxsKGUsbik6cy5wdXNoKGUpKTtpPXMucG9wKCk7fXJldHVybiBufSxjb2xsaWRlczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmRhdGEsbj10aGlzLnRvQkJveDtpZighZiQ0KHQsaSkpcmV0dXJuICExO2Zvcih2YXIgaCxhLHIsZSxvPVtdO2k7KXtmb3IoaD0wLGE9aS5jaGlsZHJlbi5sZW5ndGg7aDxhO2grKylpZihyPWkuY2hpbGRyZW5baF0sZiQ0KHQsZT1pLmxlYWY/bihyKTpyKSl7aWYoaS5sZWFmfHx1JDgodCxlKSlyZXR1cm4gITA7by5wdXNoKHIpO31pPW8ucG9wKCk7fXJldHVybiAhMX0sbG9hZDpmdW5jdGlvbih0KXtpZighdHx8IXQubGVuZ3RoKXJldHVybiB0aGlzO2lmKHQubGVuZ3RoPHRoaXMuX21pbkVudHJpZXMpe2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7aTxuO2krKyl0aGlzLmluc2VydCh0W2ldKTtyZXR1cm4gdGhpc312YXIgaD10aGlzLl9idWlsZCh0LnNsaWNlKCksMCx0Lmxlbmd0aC0xLDApO2lmKHRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpaWYodGhpcy5kYXRhLmhlaWdodD09PWguaGVpZ2h0KXRoaXMuX3NwbGl0Um9vdCh0aGlzLmRhdGEsaCk7ZWxzZSB7aWYodGhpcy5kYXRhLmhlaWdodDxoLmhlaWdodCl7dmFyIGE9dGhpcy5kYXRhO3RoaXMuZGF0YT1oLGg9YTt9dGhpcy5faW5zZXJ0KGgsdGhpcy5kYXRhLmhlaWdodC1oLmhlaWdodC0xLCEwKTt9ZWxzZSB0aGlzLmRhdGE9aDtyZXR1cm4gdGhpc30saW5zZXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLmRhdGEuaGVpZ2h0LTEpLHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT14JDIoW10pLHRoaXN9LHJlbW92ZTpmdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiB0aGlzO2Zvcih2YXIgaCxhLHIsZSxvPXRoaXMuZGF0YSxzPXRoaXMudG9CQm94KHQpLGw9W10sbT1bXTtvfHxsLmxlbmd0aDspe2lmKG98fChvPWwucG9wKCksYT1sW2wubGVuZ3RoLTFdLGg9bS5wb3AoKSxlPSEwKSxvLmxlYWYmJi0xIT09KHI9biQ1KHQsby5jaGlsZHJlbixpKSkpcmV0dXJuIG8uY2hpbGRyZW4uc3BsaWNlKHIsMSksbC5wdXNoKG8pLHRoaXMuX2NvbmRlbnNlKGwpLHRoaXM7ZXx8by5sZWFmfHwhdSQ4KG8scyk/YT8oaCsrLG89YS5jaGlsZHJlbltoXSxlPSExKTpvPW51bGw6KGwucHVzaChvKSxtLnB1c2goaCksaD0wLGE9byxvPW8uY2hpbGRyZW5bMF0pO31yZXR1cm4gdGhpc30sdG9CQm94OmZ1bmN0aW9uKHQpe3JldHVybiB0fSxjb21wYXJlTWluWDplLGNvbXBhcmVNaW5ZOm8kNix0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxmcm9tSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhPXQsdGhpc30sX2FsbDpmdW5jdGlvbih0LGkpe2Zvcih2YXIgbj1bXTt0Oyl0LmxlYWY/aS5wdXNoLmFwcGx5KGksdC5jaGlsZHJlbik6bi5wdXNoLmFwcGx5KG4sdC5jaGlsZHJlbiksdD1uLnBvcCgpO3JldHVybiBpfSxfYnVpbGQ6ZnVuY3Rpb24odCxpLG4sYSl7dmFyIHIsZT1uLWkrMSxvPXRoaXMuX21heEVudHJpZXM7aWYoZTw9bylyZXR1cm4gaCRjKHI9eCQyKHQuc2xpY2UoaSxuKzEpKSx0aGlzLnRvQkJveCkscjthfHwoYT1NYXRoLmNlaWwoTWF0aC5sb2coZSkvTWF0aC5sb2cobykpLG89TWF0aC5jZWlsKGUvTWF0aC5wb3cobyxhLTEpKSksKHI9eCQyKFtdKSkubGVhZj0hMSxyLmhlaWdodD1hO3ZhciBzLGwsbSxjLHU9TWF0aC5jZWlsKGUvbyksZj11Kk1hdGguY2VpbChNYXRoLnNxcnQobykpO2ZvcihkJDcodCxpLG4sZix0aGlzLmNvbXBhcmVNaW5YKSxzPWk7czw9bjtzKz1mKWZvcihkJDcodCxzLG09TWF0aC5taW4ocytmLTEsbiksdSx0aGlzLmNvbXBhcmVNaW5ZKSxsPXM7bDw9bTtsKz11KWM9TWF0aC5taW4obCt1LTEsbSksci5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKHQsbCxjLGEtMSkpO3JldHVybiBoJGMocix0aGlzLnRvQkJveCkscn0sX2Nob29zZVN1YnRyZWU6ZnVuY3Rpb24odCxpLG4saCl7Zm9yKHZhciBhLHIsZSxvLGwsYyx1LGY7aC5wdXNoKGkpLCFpLmxlYWYmJmgubGVuZ3RoLTEhPT1uOyl7Zm9yKHU9Zj0xLzAsYT0wLHI9aS5jaGlsZHJlbi5sZW5ndGg7YTxyO2ErKylsPXMkMihlPWkuY2hpbGRyZW5bYV0pLChjPW0kNih0LGUpLWwpPGY/KGY9Yyx1PWw8dT9sOnUsbz1lKTpjPT09ZiYmbDx1JiYodT1sLG89ZSk7aT1vfHxpLmNoaWxkcmVuWzBdO31yZXR1cm4gaX0sX2luc2VydDpmdW5jdGlvbih0LGksbil7dmFyIGg9dGhpcy50b0JCb3gsYT1uP3Q6aCh0KSxlPVtdLG89dGhpcy5fY2hvb3NlU3VidHJlZShhLHRoaXMuZGF0YSxpLGUpO2ZvcihvLmNoaWxkcmVuLnB1c2godCksciQ2KG8sYSk7aT49MCYmZVtpXS5jaGlsZHJlbi5sZW5ndGg+dGhpcy5fbWF4RW50cmllczspdGhpcy5fc3BsaXQoZSxpKSxpLS07dGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKGEsZSxpKTt9LF9zcGxpdDpmdW5jdGlvbih0LGkpe3ZhciBuPXRbaV0sYT1uLmNoaWxkcmVuLmxlbmd0aCxyPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4scixhKTt2YXIgZT10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG4scixhKSxvPXgkMihuLmNoaWxkcmVuLnNwbGljZShlLG4uY2hpbGRyZW4ubGVuZ3RoLWUpKTtvLmhlaWdodD1uLmhlaWdodCxvLmxlYWY9bi5sZWFmLGgkYyhuLHRoaXMudG9CQm94KSxoJGMobyx0aGlzLnRvQkJveCksaT90W2ktMV0uY2hpbGRyZW4ucHVzaChvKTp0aGlzLl9zcGxpdFJvb3QobixvKTt9LF9zcGxpdFJvb3Q6ZnVuY3Rpb24odCxpKXt0aGlzLmRhdGE9eCQyKFt0LGldKSx0aGlzLmRhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsdGhpcy5kYXRhLmxlYWY9ITEsaCRjKHRoaXMuZGF0YSx0aGlzLnRvQkJveCk7fSxfY2hvb3NlU3BsaXRJbmRleDpmdW5jdGlvbih0LGksbil7dmFyIGgscixlLG8sbCxtLHUsZjtmb3IobT11PTEvMCxoPWk7aDw9bi1pO2grKylvPWMkNyhyPWEkNSh0LDAsaCx0aGlzLnRvQkJveCksZT1hJDUodCxoLG4sdGhpcy50b0JCb3gpKSxsPXMkMihyKStzJDIoZSksbzxtPyhtPW8sZj1oLHU9bDx1P2w6dSk6bz09PW0mJmw8dSYmKHU9bCxmPWgpO3JldHVybiBmfSxfY2hvb3NlU3BsaXRBeGlzOmZ1bmN0aW9uKHQsaSxuKXt2YXIgaD10LmxlYWY/dGhpcy5jb21wYXJlTWluWDplLGE9dC5sZWFmP3RoaXMuY29tcGFyZU1pblk6byQ2O3RoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4saCk8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGksbixhKSYmdC5jaGlsZHJlbi5zb3J0KGgpO30sX2FsbERpc3RNYXJnaW46ZnVuY3Rpb24odCxpLG4saCl7dC5jaGlsZHJlbi5zb3J0KGgpO3ZhciBlLG8scz10aGlzLnRvQkJveCxtPWEkNSh0LDAsaSxzKSxjPWEkNSh0LG4taSxuLHMpLHU9bCRhKG0pK2wkYShjKTtmb3IoZT1pO2U8bi1pO2UrKylvPXQuY2hpbGRyZW5bZV0sciQ2KG0sdC5sZWFmP3Mobyk6byksdSs9bCRhKG0pO2ZvcihlPW4taS0xO2U+PWk7ZS0tKW89dC5jaGlsZHJlbltlXSxyJDYoYyx0LmxlYWY/cyhvKTpvKSx1Kz1sJGEoYyk7cmV0dXJuIHV9LF9hZGp1c3RQYXJlbnRCQm94ZXM6ZnVuY3Rpb24odCxpLG4pe2Zvcih2YXIgaD1uO2g+PTA7aC0tKXIkNihpW2hdLHQpO30sX2NvbmRlbnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxuPXQubGVuZ3RoLTE7bj49MDtuLS0pMD09PXRbbl0uY2hpbGRyZW4ubGVuZ3RoP24+MD8oaT10W24tMV0uY2hpbGRyZW4pLnNwbGljZShpLmluZGV4T2YodFtuXSksMSk6dGhpcy5jbGVhcigpOmgkYyh0W25dLHRoaXMudG9CQm94KTt9LF9pbml0Rm9ybWF0OmZ1bmN0aW9uKHQpe3ZhciBpPVtcInJldHVybiBhXCIsXCIgLSBiXCIsXCI7XCJdO3RoaXMuY29tcGFyZU1pblg9bmV3IEZ1bmN0aW9uKFwiYVwiLFwiYlwiLGkuam9pbih0WzBdKSksdGhpcy5jb21wYXJlTWluWT1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMV0pKSx0aGlzLnRvQkJveD1uZXcgRnVuY3Rpb24oXCJhXCIsXCJyZXR1cm4ge21pblg6IGFcIit0WzBdK1wiLCBtaW5ZOiBhXCIrdFsxXStcIiwgbWF4WDogYVwiK3RbMl0rXCIsIG1heFk6IGFcIit0WzNdK1wifTtcIik7fX07XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBoJGI9e2FkZGVkOltdLHJlbW92ZWQ6W119LHIkNT1uZXcgU2V0LGQkNj1uZXcgZSQyKDAsMCwwLDApO2NsYXNzIGwkOSBleHRlbmRzIG4kOHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3RpbGVzPW5ldyBNYXAsdGhpcy5faW5kZXg9aSQzKDksdCQ2KFwiY3NwLXJlc3RyaWN0aW9uc1wiKT9lPT4oe21pblg6ZS5ib3VuZHNbMF0sbWluWTplLmJvdW5kc1sxXSxtYXhYOmUuYm91bmRzWzJdLG1heFk6ZS5ib3VuZHNbM119KTpbXCIuYm91bmRzWzBdXCIsXCIuYm91bmRzWzFdXCIsXCIuYm91bmRzWzJdXCIsXCIuYm91bmRzWzNdXCJdKSx0aGlzLnRpbGVzPVtdLHRoaXMudGlsZVNjaGVtZT10O31kZXN0cm95KCl7dGhpcy5jbGVhcigpO31jbGVhcigpe3RoaXMudGlsZXMubGVuZ3RoPTAsdGhpcy5fdGlsZXMuY2xlYXIoKSx0aGlzLl9pbmRleC5jbGVhcigpO31oYXMoZSl7cmV0dXJuIHRoaXMuX3RpbGVzLmhhcyhlKX1nZXQoZSl7cmV0dXJuIHRoaXMuX3RpbGVzLmdldChlKX1maW5kQnlLZXkoZSl7cmV0dXJuIHRoaXMuX3RpbGVzLmdldChlLmlkKX1taW5MT0QoKXtyZXR1cm4gTWF0aC5taW4oLi4udGhpcy50aWxlcy5tYXAoKGU9PmUubGV2ZWwpKSl9aW50ZXJzZWN0aW9ucyhlLHQpe2NvbnN0IHM9XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5nZXQoZSk6ZTtpZighcylyZXR1cm4gW107Y29uc3QgaT10KnMucmVzb2x1dGlvbixuPXMuYm91bmRzWzBdLWksbz1zLmJvdW5kc1sxXS1pLGg9cy5ib3VuZHNbMl0raSxyPXMuYm91bmRzWzNdK2ksZD1bXTtmb3IoY29uc3QgbCBvZiB0aGlzLl9pbmRleC5zZWFyY2goe21pblg6bixtaW5ZOm8sbWF4WDpoLG1heFk6cn0pKXtjb25zdCBlPWwuYm91bmRzLnNsaWNlKCk7ZVswXT1NYXRoLm1heChlWzBdLG4pLGVbMV09TWF0aC5tYXgoZVsxXSxvKSxlWzJdPU1hdGgubWluKGVbMl0saCksZVszXT1NYXRoLm1pbihlWzNdLHIpLGVbMl0tZVswXT4wJiZlWzNdLWVbMV0+MCYmZC5wdXNoKHtib3VuZHM6ZSx0aWxlOmx9KTt9cmV0dXJuIGR9Ym91bmRzSW50ZXJzZWN0aW9ucyhlKXtyZXR1cm4gdGhpcy5faW5kZXguc2VhcmNoKHttaW5YOmVbMF0sbWluWTplWzFdLG1heFg6ZVsyXSxtYXhZOmVbM119KX11cGRhdGVUaWxlcyhlKXtjb25zdCB0PXthZGRlZDpbXSxyZW1vdmVkOltdfTtmb3IoY29uc3QgcyBvZiBlLmFkZGVkKWlmKCF0aGlzLmhhcyhzKSl7Y29uc3QgZT1uZXcgbCRiKHRoaXMudGlsZVNjaGVtZSxzKTt0aGlzLl90aWxlcy5zZXQocyxlKSx0aGlzLl9pbmRleC5pbnNlcnQoZSksdC5hZGRlZC5wdXNoKGUpO31mb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpaWYodGhpcy5oYXMocykpe2NvbnN0IGU9dGhpcy5nZXQocyk7dGhpcy5fdGlsZXMuZGVsZXRlKHMpLHRoaXMuX2luZGV4LnJlbW92ZShlKSx0LnJlbW92ZWQucHVzaChlKTt9dGhpcy50aWxlcy5sZW5ndGg9MCx0aGlzLl90aWxlcy5mb3JFYWNoKChlPT50aGlzLnRpbGVzLnB1c2goZSkpKSwodC5hZGRlZC5sZW5ndGh8fHQucmVtb3ZlZC5sZW5ndGgpJiZ0aGlzLmVtaXQoXCJ1cGRhdGVcIix0KTt9c2V0Vmlld1N0YXRlKGUpe2NvbnN0IHQ9dGhpcy50aWxlU2NoZW1lLmdldFRpbGVDb3ZlcmFnZShlLDApO2lmKCF0KXJldHVybjtjb25zdHtzcGFuczpzLGxvZEluZm86b309dCx7bGV2ZWw6bH09bztpZihzLmxlbmd0aD4wKWZvcihjb25zdHtyb3c6aSxjb2xGcm9tOmEsY29sVG86bX1vZiBzKWZvcihsZXQgZT1hO2U8PW07ZSsrKXtjb25zdCB0PWQkNi5zZXQobCxpLG8ubm9ybWFsaXplQ29sKGUpLG8uZ2V0V29ybGRGb3JDb2x1bW4oZSkpLmlkO2lmKHIkNS5hZGQodCksIXRoaXMuaGFzKHQpKXtjb25zdCBlPW5ldyBsJGIodGhpcy50aWxlU2NoZW1lLHQpO3RoaXMuX3RpbGVzLnNldCh0LGUpLHRoaXMuX2luZGV4Lmluc2VydChlKSx0aGlzLnRpbGVzLnB1c2goZSksaCRiLmFkZGVkLnB1c2goZSk7fX1mb3IobGV0IGk9dGhpcy50aWxlcy5sZW5ndGgtMTtpPj0wO2ktLSl7Y29uc3QgZT10aGlzLnRpbGVzW2ldO3IkNS5oYXMoZS5pZCl8fCh0aGlzLl90aWxlcy5kZWxldGUoZS5pZCksdGhpcy50aWxlcy5zcGxpY2UoaSwxKSx0aGlzLl9pbmRleC5yZW1vdmUoZSksaCRiLnJlbW92ZWQucHVzaChlKSk7fShoJGIuYWRkZWQubGVuZ3RofHxoJGIucmVtb3ZlZC5sZW5ndGgpJiZ0aGlzLmVtaXQoXCJ1cGRhdGVcIixoJGIpLGwkYy5wb29sLnJlbGVhc2UodCksciQ1LmNsZWFyKCksaCRiLmFkZGVkLmxlbmd0aD0wLGgkYi5yZW1vdmVkLmxlbmd0aD0wO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBvJDUobyl7cmV0dXJuIFwiaGVhdG1hcFwiPT09bz9pbXBvcnQoJy4vSGVhdG1hcFByb2Nlc3Nvci0xMzYzYzM0ZS5qcycpOmltcG9ydCgnLi9TeW1ib2xQcm9jZXNzb3ItYWRiNjBjNDIuanMnKX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHQkNXtjb25zdHJ1Y3Rvcigpe3RoaXMuc291cmNlPSExLHRoaXMudGFyZ2V0cz17ZmVhdHVyZTohMSxhZ2dyZWdhdGU6ITF9LHRoaXMuc3RvcmFnZT17ZmlsdGVyczohMSxkYXRhOiExfSx0aGlzLm1lc2g9ITEsdGhpcy5xdWVyeUZpbHRlcj0hMSx0aGlzLndoeT17bWVzaDpbXSxzb3VyY2U6W119O31zdGF0aWMgY3JlYXRlKGUpe2NvbnN0IHM9bmV3IHQkNTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPWVbdF07aWYoXCJvYmplY3RcIj09dHlwZW9mIHIpZm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgYT1yW2VdO3NbdF1bZV09YTt9c1t0XT1yO31yZXR1cm4gc31zdGF0aWMgZW1wdHkoKXtyZXR1cm4gdCQ1LmNyZWF0ZSh7fSl9c3RhdGljIGFsbCgpe3JldHVybiB0JDUuY3JlYXRlKHtzb3VyY2U6ITAsdGFyZ2V0czp7ZmVhdHVyZTohMCxhZ2dyZWdhdGU6ITB9LHN0b3JhZ2U6e2ZpbHRlcnM6ITAsZGF0YTohMH0sbWVzaDohMH0pfXVuc2V0KHQpe3Quc291cmNlJiYodGhpcy5zb3VyY2U9ITEpLHQudGFyZ2V0cy5mZWF0dXJlJiYodGhpcy50YXJnZXRzLmZlYXR1cmU9ITEpLHQudGFyZ2V0cy5hZ2dyZWdhdGUmJih0aGlzLnRhcmdldHMuYWdncmVnYXRlPSExKSx0LnN0b3JhZ2UuZmlsdGVycyYmKHRoaXMuc3RvcmFnZS5maWx0ZXJzPSExKSx0LnN0b3JhZ2UuZGF0YSYmKHRoaXMuc3RvcmFnZS5kYXRhPSExKSx0Lm1lc2gmJih0aGlzLm1lc2g9ITEpLHQucXVlcnlGaWx0ZXImJih0aGlzLnF1ZXJ5RmlsdGVyPSExKTt9YW55KCl7cmV0dXJuIHRoaXMuc291cmNlfHx0aGlzLm1lc2h8fHRoaXMuc3RvcmFnZS5maWx0ZXJzfHx0aGlzLnN0b3JhZ2UuZGF0YXx8dGhpcy50YXJnZXRzLmZlYXR1cmV8fHRoaXMudGFyZ2V0cy5hZ2dyZWdhdGV8fHRoaXMucXVlcnlGaWx0ZXJ9ZGVzY3JpYmUoKXtsZXQgdD0wLGU9XCJcIjtpZih0aGlzLm1lc2gpe3QrPTIwLGUrPVwiLT4gKDIwKSBNZXNoIG5lZWRzIHVwZGF0ZVxcblwiO2Zvcihjb25zdCB0IG9mIHRoaXMud2h5Lm1lc2gpZSs9YCAgICArICR7dH1cXG5gO31pZih0aGlzLnNvdXJjZSl7dCs9MTAsZSs9XCItPiAoMTApIFRoZSBzb3VyY2UgbmVlZHMgdXBkYXRlXFxuXCI7Zm9yKGNvbnN0IHQgb2YgdGhpcy53aHkuc291cmNlKWUrPWAgICAgKyAke3R9XFxuYDt9dGhpcy50YXJnZXRzLmZlYXR1cmUmJih0Kz01LGUrPVwiLT4gKDUpIEZlYXR1cmUgdGFyZ2V0IHBhcmFtZXRlcnMgY2hhbmdlZFxcblwiKSx0aGlzLnN0b3JhZ2UuZmlsdGVycyYmKHQrPTUsZSs9XCItPiAoNSkgRmVhdHVyZSBmaWx0ZXIgcGFyYW1ldGVycyBjaGFuZ2VkXFxuXCIpLHRoaXMudGFyZ2V0cy5hZ2dyZWdhdGUmJih0Kz00LGUrPVwiLT4gKDQpIEFnZ3JlZ2F0ZSB0YXJnZXQgcGFyYW1ldGVycyBjaGFuZ2VkXFxuXCIpLHRoaXMuc3RvcmFnZS5kYXRhJiYodCs9MSxlKz1cIi0+ICgxKSBUZXh0dXJlIHN0b3JhZ2UgcGFyYW1ldGVycyBjaGFuZ2VkXCIpO2NvbnN0IHM9dDw1P1wiRmFzdGVzdFwiOnQ8MTA/XCJGYXN0XCI6dDwxNT9cIk1vZGVyYXRlXCI6dDwyMD9cIlNsb3dcIjpcIlZlcnkgU2xvd1wiO2NvbnNvbGUuZGVidWcoYEFwcGx5aW5nICR7c30gdXBkYXRlIG9mIGNvc3QgJHt0fS80NSBgKSxjb25zb2xlLmRlYnVnKGUpO310b0pTT04oKXtyZXR1cm4ge3F1ZXJ5RmlsdGVyOnRoaXMucXVlcnlGaWx0ZXIsc291cmNlOnRoaXMuc291cmNlLHRhcmdldHM6dGhpcy50YXJnZXRzLHN0b3JhZ2U6dGhpcy5zdG9yYWdlLG1lc2g6dGhpcy5tZXNofX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBoJGEoe2Nvb3Jkczp0LGxlbmd0aHM6ZX0pe2xldCByPTA7Zm9yKGNvbnN0IHMgb2YgZSl7Zm9yKGxldCBlPTE7ZTxzO2UrKyl0WzIqKHIrZSldKz10WzIqKHIrZSktMl0sdFsyKihyK2UpKzFdKz10WzIqKHIrZSktMV07cis9czt9fWNsYXNzIGMkNiBleHRlbmRzIGQkOHtjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCksdGhpcy5fZmVhdHVyZUluZGV4PS0xLHRoaXMuX2RhdGVGaWVsZHM9bmV3IFNldCx0aGlzLl9nZW9tZXRyeVR5cGU9cix0aGlzLl9mZWF0dXJlcz1lO31zdGF0aWMgZnJvbUZlYXR1cmVzKHQsZSxzKXtjb25zdCBpPUskMShbXSx0LGUsITEsITEscyk7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspaVtyXS5kaXNwbGF5SWQ9dFtyXS5kaXNwbGF5SWQ7cmV0dXJuIGMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZXMoaSxlKX1zdGF0aWMgZnJvbUZlYXR1cmVTZXQodCxlKXtjb25zdCByPW9lKHQsZSk7cmV0dXJuIGMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChyKX1zdGF0aWMgZnJvbU9wdGltaXplZEZlYXR1cmVTZXQodCl7Y29uc3R7ZmVhdHVyZXM6ZSxnZW9tZXRyeVR5cGU6cn09dCxzPWMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZXMoZSxyKTtzLl9leGNlZWRlZFRyYW5zZmVyTGltaXQ9dC5leGNlZWRlZFRyYW5zZmVyTGltaXQscy5fdHJhbnNmb3JtPXQudHJhbnNmb3JtO2Zvcihjb25zdCBpIG9mIHQuZmllbGRzKVwiZXNyaUZpZWxkVHlwZURhdGVcIj09PWkudHlwZSYmcy5fZGF0ZUZpZWxkcy5hZGQoaS5uYW1lKTtyZXR1cm4gc31zdGF0aWMgZnJvbU9wdGltaXplZEZlYXR1cmVzKHQsZSxyKXtjb25zdCBzPWQkOC5jcmVhdGVJbnN0YW5jZSgpLGk9bmV3IGMkNihzLHQsZSk7cmV0dXJuIGkuX3RyYW5zZm9ybT1yLGl9Z2V0IF9jdXJyZW50KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzW3RoaXMuX2ZlYXR1cmVJbmRleF19Z2V0IGdlb21ldHJ5VHlwZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeVR5cGV9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuICEhdGhpcy5fZmVhdHVyZXMubGVuZ3RofWdldCBoYXNOZXh0KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleCsxPHRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1nZXQgZXhjZWVkZWRUcmFuc2ZlckxpbWl0KCl7cmV0dXJuIHRoaXMuX2V4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXQgaGFzWigpe3JldHVybiAhMX1nZXQgaGFzTSgpe3JldHVybiAhMX1nZXRBcHByb3hpbWF0ZVNpemUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXMubGVuZ3RofWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtfWdldEF0dHJpYnV0ZUhhc2goKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBlIGluIHRoaXMuX2N1cnJlbnQuYXR0cmlidXRlcyl0Kz10aGlzLl9jdXJyZW50LmF0dHJpYnV0ZXNbZV07cmV0dXJuIHR9Z2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4fXNldEluZGV4KHQpe3RoaXMuX2ZlYXR1cmVJbmRleD10O31nZXRPYmplY3RJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50Lm9iamVjdElkfWdldERpc3BsYXlJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50LmRpc3BsYXlJZH1zZXREaXNwbGF5SWQodCl7dGhpcy5fY3VycmVudC5kaXNwbGF5SWQ9dDt9Z2V0R3JvdXBJZCgpe3JldHVybiB0aGlzLl9jdXJyZW50Lmdyb3VwSWR9c2V0R3JvdXBJZCh0KXt0aGlzLl9jdXJyZW50Lmdyb3VwSWQ9dDt9Y29weSgpe2NvbnN0IHQ9bmV3IGMkNih0aGlzLmluc3RhbmNlLHRoaXMuX2ZlYXR1cmVzLHRoaXMuZ2VvbWV0cnlUeXBlKTtyZXR1cm4gdGhpcy5jb3B5SW50byh0KSx0fW5leHQoKXtmb3IoOysrdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX2ZlYXR1cmVzLmxlbmd0aCYmIXRoaXMuX3Bhc3Nlc0ZpbHRlcigpJiYhdGhpcy5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1yZWFkTGVnYWN5RmVhdHVyZSgpe3JldHVybiBXJDEodGhpcy5fY3VycmVudCx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe3JldHVybiB0aGlzLl9jdXJyZW50fXJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMucmVhZEdlb21ldHJ5KCk/e3g6dGhpcy5nZXRYKCkseTp0aGlzLmdldFkoKX06bnVsbH1yZWFkTGVnYWN5R2VvbWV0cnkoKXtjb25zdCB0PXRoaXMucmVhZEdlb21ldHJ5KCk7cmV0dXJuIGVlKHQsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSl9cmVhZExlZ2FjeUNlbnRyb2lkKCl7Y29uc3QgdD10aGlzLnJlYWRDZW50cm9pZCgpO3JldHVybiB0P3t4OnQuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4LHk6dC5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHl9Om51bGx9cmVhZEdlb21ldHJ5QXJlYSgpe3JldHVybiB5ZSh0aGlzLl9jdXJyZW50Lmdlb21ldHJ5LDIpfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCl7Y29uc3QgdD10aGlzLnJlYWRHZW9tZXRyeSgpO2lmKFwiZXNyaUdlb21ldHJ5UG9pbnRcIj09PXRoaXMuZ2VvbWV0cnlUeXBlfHwhdClyZXR1cm4gdDtjb25zdCBlPXQuY2xvbmUoKTtyZXR1cm4gaCRhKGUpLGV9cmVhZEh5ZHJhdGVkR2VvbWV0cnkoKXtjb25zdCBlPXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgcj1lLmNsb25lKCk7cmV0dXJuIHIkOSh0aGlzLl90cmFuc2Zvcm0pJiZhZShyLHIsdGhpcy5oYXNaLHRoaXMuaGFzTSx0aGlzLl90cmFuc2Zvcm0pLHJ9Z2V0WEh5ZHJhdGUoKXtjb25zdCB0PXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzBdLHI9dGhpcy5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKTtyZXR1cm4gdCQ3KHIpP3Q6dCpyLnNjYWxlWzBdK3IudHJhbnNsYXRlWzBdfWdldFlIeWRyYXRlKCl7Y29uc3QgdD10aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1sxXSxyPXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIHQkNyhyKT90OnIudHJhbnNsYXRlWzFdLXQqci5zY2FsZVsxXX1nZXRYKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuZ2VvbWV0cnkuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4fWdldFkoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHl9cmVhZEdlb21ldHJ5KCl7aWYoIXRoaXMuX2N1cnJlbnQuaGFzR2VvbWV0cnkpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNsb25lKCk7aWYodC5pc1BvaW50KXJldHVybiB0LmNvb3Jkc1swXT10LmNvb3Jkc1swXSp0aGlzLl9zeCt0aGlzLl90eCx0LmNvb3Jkc1sxXT10LmNvb3Jkc1sxXSp0aGlzLl9zeSt0aGlzLl90eSx0O2xldCBlPTA7Zm9yKGNvbnN0IHIgb2YgdC5sZW5ndGhzKXQuY29vcmRzWzIqZV09dC5jb29yZHNbMiplXSp0aGlzLl9zeCt0aGlzLl90eCx0LmNvb3Jkc1syKmUrMV09dC5jb29yZHNbMiplKzFdKnRoaXMuX3N5K3RoaXMuX3R5LGUrPXI7cmV0dXJuIHR9cmVhZENlbnRyb2lkKCl7aWYoIXRoaXMuX2N1cnJlbnQuaGFzR2VvbWV0cnkpcmV0dXJuIG51bGw7aWYoIXRoaXMuX2N1cnJlbnQuY2VudHJvaWQpe2NvbnN0IHQ9dGhpcy5fY29tcHV0ZUNlbnRyb2lkKCk7aWYoIXQpcmV0dXJuIG51bGw7dC5jb29yZHNbMF09KHQuY29vcmRzWzBdLXRoaXMuX3R4KS90aGlzLl9zeCx0LmNvb3Jkc1sxXT0odC5jb29yZHNbMV0tdGhpcy5fdHkpL3RoaXMuX3N5LHRoaXMuX2N1cnJlbnQuY2VudHJvaWQ9dDt9Y29uc3QgdD10aGlzLl9jdXJyZW50LmNlbnRyb2lkLmNsb25lKCk7cmV0dXJuIHQuY29vcmRzWzBdPXQuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4LHQuY29vcmRzWzFdPXQuY29vcmRzWzFdKnRoaXMuX3N4K3RoaXMuX3R5LHR9X3JlYWRBdHRyaWJ1dGUodCxlKXtjb25zdCByPXRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1t0XTtpZih2b2lkIDAhPT1yKXJldHVybiBudWxsIT1yJiZlJiZ0aGlzLl9kYXRlRmllbGRzLmhhcyh0KT9uZXcgRGF0ZShyKTpyO2NvbnN0IHM9dGhpcy5yZWFkQXR0cmlidXRlcygpLGk9dC50b0xvY2FsZUxvd2VyQ2FzZSgpLnRyaW0oKTtmb3IoY29uc3QgbiBpbiBzKWlmKG4udG9Mb2NhbGVMb3dlckNhc2UoKS50cmltKCk9PT1pKXtjb25zdCB0PXRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1tuXTtyZXR1cm4gbnVsbCE9dCYmZSYmdGhpcy5fZGF0ZUZpZWxkcy5oYXMobik/bmV3IERhdGUodCk6dH19Y29weUludG8odCl7c3VwZXIuY29weUludG8odCksdC5fZmVhdHVyZUluZGV4PXRoaXMuX2ZlYXR1cmVJbmRleCx0Ll90cmFuc2Zvcm09dGhpcy5fdHJhbnNmb3JtLHQuX2RhdGVGaWVsZHM9dGhpcy5fZGF0ZUZpZWxkczt9X3JlYWRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc31fcGFzc2VzRmlsdGVyKCl7aWYoIXRoaXMuX2hhc0ZpbHRlcilyZXR1cm4gITA7bGV0IHQ9MCxlPTA7c3dpdGNoKHRoaXMuZ2VvbWV0cnlUeXBlKXtjYXNlXCJlc3JpR2VvbWV0cnlQb2ludFwiOntjb25zdCByPXRoaXMuX2N1cnJlbnQuZ2VvbWV0cnk7aWYoIXIpcmV0dXJuICExO1t0LGVdPXIuY29vcmRzO2JyZWFrfWNhc2VcImVzcmlHZW9tZXRyeVBvbHlnb25cIjp7Y29uc3Qgcj10aGlzLnJlYWRDZW50cm9pZCgpO2lmKCFyKXJldHVybiAhMTtbdCxlXT1yLmNvb3Jkcyx0LT10aGlzLl90eCxlLT10aGlzLl90eTticmVha31kZWZhdWx0OnJldHVybiAhMX1yZXR1cm4gdD49dGhpcy5feG1pbiYmdDw9dGhpcy5feG1heCYmZT49dGhpcy5feW1pbiYmZTw9dGhpcy5feW1heH19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0JDR7Y29uc3RydWN0b3IoZT0oZT0+ZS52YWx1ZXMoKS5uZXh0KCkudmFsdWUpKXt0aGlzLl9wZWVrZXI9ZSx0aGlzLl9pdGVtcz1uZXcgU2V0O31nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLnNpemV9Y2xlYXIoKXt0aGlzLl9pdGVtcy5jbGVhcigpO31wZWVrKCl7aWYoMCE9PXRoaXMuX2l0ZW1zLnNpemUpcmV0dXJuIHRoaXMuX3BlZWtlcih0aGlzLl9pdGVtcyl9cHVzaChlKXt0aGlzLmNvbnRhaW5zKGUpfHx0aGlzLl9pdGVtcy5hZGQoZSk7fWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLl9pdGVtcy5oYXMoZSl9cG9wKCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybjtjb25zdCB0PXRoaXMucGVlaygpO3JldHVybiB0aGlzLl9pdGVtcy5kZWxldGUobSQ3KHQpKSx0fXJlbW92ZShlKXt0aGlzLl9pdGVtcy5kZWxldGUoZSk7fWZpbHRlcihlKXtyZXR1cm4gdGhpcy5faXRlbXMuZm9yRWFjaCgodD0+e2UodCl8fHRoaXMuX2l0ZW1zLmRlbGV0ZSh0KTt9KSksdGhpc319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBsJDh7Y29uc3RydWN0b3IoZSxzKXt0aGlzLml0ZW09ZSx0aGlzLmNvbnRyb2xsZXI9cyx0aGlzLnByb21pc2U9bnVsbDt9fWNsYXNzIF8kNHtjb25zdHJ1Y3RvcihzKXt0aGlzLl9kZWZlcnJlZHM9bmV3IE1hcCx0aGlzLl9jb250cm9sbGVycz1uZXcgTWFwLHRoaXMuX3Byb2Nlc3NpbmdJdGVtcz1uZXcgTWFwLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX3NjaGVkdWxlPW51bGwsdGhpcy5fdGFzaz1udWxsLHRoaXMuY29uY3VycmVuY3k9MSxzLmNvbmN1cnJlbmN5JiYodGhpcy5jb25jdXJyZW5jeT1zLmNvbmN1cnJlbmN5KSx0aGlzLl9xdWV1ZT1uZXcgdCQ0KHMucGVla2VyKSx0aGlzLnByb2Nlc3M9cy5wcm9jZXNzO2NvbnN0IHQ9cy5zY2hlZHVsZXI7cy50YXNrJiZyJDkodCkmJih0aGlzLl90YXNrPXQucmVnaXN0ZXJUYXNrKHMudGFzaywoZT0+dGhpcy51cGRhdGUoZSkpLCgoKT0+dGhpcy5uZWVkc1VwZGF0ZSgpKSkpO31kZXN0cm95KCl7dGhpcy5jbGVhcigpLHRoaXMuX3NjaGVkdWxlJiYodGhpcy5fc2NoZWR1bGUucmVtb3ZlKCksdGhpcy5fc2NoZWR1bGU9bnVsbCksdGhpcy5fdGFzayYmKHRoaXMuX3Rhc2sucmVtb3ZlKCksdGhpcy5fdGFzaz1udWxsKTt9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZSt0aGlzLl9xdWV1ZS5sZW5ndGh9YWJvcnQoZSl7Y29uc3Qgcz10aGlzLl9jb250cm9sbGVycy5nZXQoZSk7cyYmcy5hYm9ydCgpO31jbGVhcigpe3RoaXMuX3F1ZXVlLmNsZWFyKCk7Y29uc3QgZT1bXTt0aGlzLl9jb250cm9sbGVycy5mb3JFYWNoKChzPT5lLnB1c2gocykpKSx0aGlzLl9jb250cm9sbGVycy5jbGVhcigpLGUuZm9yRWFjaCgoZT0+ZS5hYm9ydCgpKSksdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmNsZWFyKCksdGhpcy5fY2FuY2VsTmV4dCgpO31mb3JFYWNoKGUpe3RoaXMuX2RlZmVycmVkcy5mb3JFYWNoKCgocyx0KT0+ZSh0KSkpO31nZXQoZSl7Y29uc3Qgcz10aGlzLl9kZWZlcnJlZHMuZ2V0KGUpO3JldHVybiBzP3MucHJvbWlzZTp2b2lkIDB9aXNPbmdvaW5nKGUpe3JldHVybiB0aGlzLl9wcm9jZXNzaW5nSXRlbXMuaGFzKGUpfWhhcyhlKXtyZXR1cm4gdGhpcy5fZGVmZXJyZWRzLmhhcyhlKX1wYXVzZSgpe3RoaXMuX2lzUGF1c2VkfHwodGhpcy5faXNQYXVzZWQ9ITAsdGhpcy5fY2FuY2VsTmV4dCgpKTt9cHVzaChzLGMpe2NvbnN0IG49dGhpcy5nZXQocyk7aWYobilyZXR1cm4gbjtjb25zdCB1PWgkZSgpO2xldCBsPW51bGw7YyYmKGw9diQ0KGMsKCgpPT51LmFib3J0KCkpKSk7Y29uc3QgXz0oKT0+e2NvbnN0IGU9dGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLmdldChzKTtlJiZlLmNvbnRyb2xsZXIuYWJvcnQoKSxhKCkscC5yZWplY3QobSQ4KCkpO30sYT0oKT0+e2QucmVtb3ZlKCksciQ5KGwpJiZsLnJlbW92ZSgpLHRoaXMuX2RlZmVycmVkcy5kZWxldGUocyksdGhpcy5fY29udHJvbGxlcnMuZGVsZXRlKHMpLHRoaXMuX3F1ZXVlLnJlbW92ZShzKSx0aGlzLl9wcm9jZXNzaW5nSXRlbXMuZGVsZXRlKHMpLHRoaXMuX3NjaGVkdWxlTmV4dCgpO30sZD1QJDIodS5zaWduYWwsXykscD1FJDQoKTtyZXR1cm4gdGhpcy5fZGVmZXJyZWRzLnNldChzLHApLHRoaXMuX2NvbnRyb2xsZXJzLnNldChzLHUpLHAucHJvbWlzZS50aGVuKGEsYSksdGhpcy5fcXVldWUucHVzaChzKSx0aGlzLl9zY2hlZHVsZU5leHQoKSxwLnByb21pc2V9cmVzZXQoKXtjb25zdCBlPVtdO3RoaXMuX3Byb2Nlc3NpbmdJdGVtcy5mb3JFYWNoKChzPT5lLnB1c2gocykpKSx0aGlzLl9wcm9jZXNzaW5nSXRlbXMuY2xlYXIoKTtmb3IoY29uc3QgcyBvZiBlKXRoaXMuX3F1ZXVlLnB1c2gocy5pdGVtKSxzLmNvbnRyb2xsZXIuYWJvcnQoKTt0aGlzLl9zY2hlZHVsZU5leHQoKTt9cmVzdW1lKCl7dGhpcy5faXNQYXVzZWQmJih0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9zY2hlZHVsZU5leHQoKSk7fXRha2VBbGwoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5fcXVldWUubGVuZ3RoOyllLnB1c2godGhpcy5fcXVldWUucG9wKCkpO3JldHVybiB0aGlzLmNsZWFyKCksZX1uZWVkc1VwZGF0ZSgpe3JldHVybiAhdGhpcy5faXNQYXVzZWQmJnRoaXMuX3F1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZTx0aGlzLmNvbmN1cnJlbmN5fXVwZGF0ZShlKXtmb3IoOyFlLmRvbmUmJnRoaXMuX3F1ZXVlLmxlbmd0aD4wJiZ0aGlzLl9wcm9jZXNzaW5nSXRlbXMuc2l6ZTx0aGlzLmNvbmN1cnJlbmN5Oyl0aGlzLl9wcm9jZXNzKHRoaXMuX3F1ZXVlLnBvcCgpKSxlLm1hZGVQcm9ncmVzcygpO31fc2NoZWR1bGVOZXh0KCl7dGhpcy5fdGFza3x8dGhpcy5faXNQYXVzZWR8fHRoaXMuX3NjaGVkdWxlfHwodGhpcy5fc2NoZWR1bGU9ayQ0KCgoKT0+e3RoaXMuX3NjaGVkdWxlPW51bGwsdGhpcy5fbmV4dCgpO30pKSk7fV9uZXh0KCl7Zm9yKDt0aGlzLl9xdWV1ZS5sZW5ndGg+MCYmdGhpcy5fcHJvY2Vzc2luZ0l0ZW1zLnNpemU8dGhpcy5jb25jdXJyZW5jeTspdGhpcy5fcHJvY2Vzcyh0aGlzLl9xdWV1ZS5wb3AoKSk7fV9jYW5jZWxOZXh0KCl7dGhpcy5fc2NoZWR1bGUmJih0aGlzLl9zY2hlZHVsZS5yZW1vdmUoKSx0aGlzLl9zY2hlZHVsZT1udWxsKTt9X3Byb2Nlc3NSZXN1bHQoZSxzKXt0aGlzLl9jYW5Qcm9jZXNzRnVsZmlsbG1lbnQoZSkmJih0aGlzLl9zY2hlZHVsZU5leHQoKSx0aGlzLl9kZWZlcnJlZHMuZ2V0KGUuaXRlbSkucmVzb2x2ZShzKSk7fV9wcm9jZXNzRXJyb3IoZSxzKXt0aGlzLl9jYW5Qcm9jZXNzRnVsZmlsbG1lbnQoZSkmJih0aGlzLl9zY2hlZHVsZU5leHQoKSx0aGlzLl9kZWZlcnJlZHMuZ2V0KGUuaXRlbSkucmVqZWN0KHMpKTt9X2NhblByb2Nlc3NGdWxmaWxsbWVudChlKXtyZXR1cm4gISF0aGlzLl9kZWZlcnJlZHMuZ2V0KGUuaXRlbSkmJnRoaXMuX3Byb2Nlc3NpbmdJdGVtcy5nZXQoZS5pdGVtKT09PWV9X3Byb2Nlc3MoZSl7aWYodCQ3KGUpKXJldHVybjtsZXQgcjtjb25zdCBpPWgkZSgpLGg9bmV3IGwkOChlLGkpO3RoaXMuX3Byb2Nlc3NpbmdJdGVtcy5zZXQoZSxoKTt0cnl7cj10aGlzLnByb2Nlc3MoZSxpLnNpZ25hbCk7fWNhdGNoKG8pe3RoaXMuX3Byb2Nlc3NFcnJvcihoLG8pO31VJDEocik/KGgucHJvbWlzZT1yLHIudGhlbigoZT0+dGhpcy5fcHJvY2Vzc1Jlc3VsdChoLGUpKSwoZT0+dGhpcy5fcHJvY2Vzc0Vycm9yKGgsZSkpKSk6dGhpcy5fcHJvY2Vzc1Jlc3VsdChoLHIpO31nZXQgdGVzdCgpe3JldHVybiB7dXBkYXRlOmU9PnRoaXMudXBkYXRlKGUpfX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgRSQzLFQkMixJJDMsTCQyLEEkMixfJDMsTyQyOyFmdW5jdGlvbihFKXtFW0UuRklMTD0wXT1cIkZJTExcIixFW0UuTElORT0xXT1cIkxJTkVcIixFW0UuTUFSS0VSPTJdPVwiTUFSS0VSXCIsRVtFLlRFWFQ9M109XCJURVhUXCIsRVtFLkxBQkVMPTRdPVwiTEFCRUxcIjt9KEUkM3x8KEUkMz17fSkpLGZ1bmN0aW9uKEUpe0VbRS5TVUNDRUVERUQ9MF09XCJTVUNDRUVERURcIixFW0UuRkFJTEVEX09VVF9PRl9NRU1PUlk9MV09XCJGQUlMRURfT1VUX09GX01FTU9SWVwiO30oVCQyfHwoVCQyPXt9KSksZnVuY3Rpb24oRSl7RVtFLk5PTkU9MF09XCJOT05FXCIsRVtFLk1BUD0xXT1cIk1BUFwiLEVbRS5MQUJFTD0yXT1cIkxBQkVMXCIsRVtFLkxBQkVMX0FMUEhBPTRdPVwiTEFCRUxfQUxQSEFcIixFW0UuSElUVEVTVD04XT1cIkhJVFRFU1RcIixFW0UuSElHSExJR0hUPTE2XT1cIkhJR0hMSUdIVFwiLEVbRS5DTElQPTMyXT1cIkNMSVBcIixFW0UuREVCVUc9NjRdPVwiREVCVUdcIixFW0UuTlVNX0RSQVdfUEhBU0VTPTldPVwiTlVNX0RSQVdfUEhBU0VTXCI7fShJJDN8fChJJDM9e30pKSxmdW5jdGlvbihFKXtFW0UuU0laRT0wXT1cIlNJWkVcIixFW0UuQ09MT1I9MV09XCJDT0xPUlwiLEVbRS5PUEFDSVRZPTJdPVwiT1BBQ0lUWVwiLEVbRS5ST1RBVElPTj0zXT1cIlJPVEFUSU9OXCI7fShMJDJ8fChMJDI9e30pKSxmdW5jdGlvbihFKXtFW0UuTk9ORT0wXT1cIk5PTkVcIixFW0UuT1BBQ0lUWT0xXT1cIk9QQUNJVFlcIixFW0UuQ09MT1I9Ml09XCJDT0xPUlwiLEVbRS5ST1RBVElPTj00XT1cIlJPVEFUSU9OXCIsRVtFLlNJWkVfTUlOTUFYX1ZBTFVFPThdPVwiU0laRV9NSU5NQVhfVkFMVUVcIixFW0UuU0laRV9TQ0FMRV9TVE9QUz0xNl09XCJTSVpFX1NDQUxFX1NUT1BTXCIsRVtFLlNJWkVfRklFTERfU1RPUFM9MzJdPVwiU0laRV9GSUVMRF9TVE9QU1wiLEVbRS5TSVpFX1VOSVRfVkFMVUU9NjRdPVwiU0laRV9VTklUX1ZBTFVFXCI7fShBJDJ8fChBJDI9e30pKSxmdW5jdGlvbihFKXtFW0UuTUlOTUFYX1RBUkdFVFNfT1VUTElORT0xMjhdPVwiTUlOTUFYX1RBUkdFVFNfT1VUTElORVwiLEVbRS5TQ0FMRV9UQVJHRVRTX09VVExJTkU9MjU2XT1cIlNDQUxFX1RBUkdFVFNfT1VUTElORVwiLEVbRS5GSUVMRF9UQVJHRVRTX09VVExJTkU9NTEyXT1cIkZJRUxEX1RBUkdFVFNfT1VUTElORVwiLEVbRS5VTklUX1RBUkdFVFNfT1VUTElORT0xMDI0XT1cIlVOSVRfVEFSR0VUU19PVVRMSU5FXCI7fShfJDN8fChfJDM9e30pKSxmdW5jdGlvbihFKXtFW0UuU1BSSVRFPTBdPVwiU1BSSVRFXCIsRVtFLkdMWVBIPTFdPVwiR0xZUEhcIjt9KE8kMnx8KE8kMj17fSkpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgaCQ5e2NvbnN0cnVjdG9yKCl7dGhpcy5jb2xvcj1bMCwwLDAsMF0sdGhpcy5oYWxvQ29sb3I9WzAsMCwwLDBdLHRoaXMuaGFsb1NpemU9MCx0aGlzLnNpemU9MTIsdGhpcy5hbmdsZT0wLHRoaXMub2Zmc2V0WD0wLHRoaXMub2Zmc2V0WT0wLHRoaXMuaEFuY2hvcj0wLHRoaXMudkFuY2hvcj0wO31hY3F1aXJlKG8saCxzLHQsaSxsLHIsZSxjKXt0aGlzLmNvbG9yPW8sdGhpcy5oYWxvQ29sb3I9aCx0aGlzLmhhbG9TaXplPXMsdGhpcy5zaXplPXQsdGhpcy5hbmdsZT1pLHRoaXMub2Zmc2V0WD1sLHRoaXMub2Zmc2V0WT1yLHRoaXMuaEFuY2hvcj1lLHRoaXMudkFuY2hvcj1jO31yZWxlYXNlKCl7dGhpcy5jb2xvclswXT10aGlzLmNvbG9yWzFdPXRoaXMuY29sb3JbMl09dGhpcy5jb2xvclszXT0wLHRoaXMuaGFsb0NvbG9yWzBdPXRoaXMuaGFsb0NvbG9yWzFdPXRoaXMuaGFsb0NvbG9yWzJdPXRoaXMuaGFsb0NvbG9yWzNdPTAsdGhpcy5oYWxvU2l6ZT0wLHRoaXMuc2l6ZT0wLHRoaXMuYW5nbGU9MCx0aGlzLm9mZnNldFg9MCx0aGlzLm9mZnNldFk9MCx0aGlzLmhBbmNob3I9MCx0aGlzLnZBbmNob3I9MDt9fWgkOS5wb29sPW5ldyBlJDMoaCQ5KTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHUkNz1uJDkuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5lbmdpbmUud2ViZ2wuVXRpbHNcIiksZiQzPVwiZ2VvbWV0cnlcIixkJDU9W3tuYW1lOmYkMyxzdHJpZGVJbkJ5dGVzOjMyLGRpdmlzb3I6MH1dLHAkNj1be25hbWU6ZiQzLHN0cmlkZUluQnl0ZXM6MzIsZGl2aXNvcjowfV0saCQ4PVt7bmFtZTpmJDMsc3RyaWRlSW5CeXRlczoxMixkaXZpc29yOjB9XSx3JDM9W3tuYW1lOmYkMyxzdHJpZGVJbkJ5dGVzOjM2LGRpdmlzb3I6MH1dLHYkMz1be25hbWU6ZiQzLHN0cmlkZUluQnl0ZXM6MzIsZGl2aXNvcjowfV0seSQ1PVt7bmFtZTpmJDMsc3RyaWRlSW5CeXRlczozNixkaXZpc29yOjB9XTtmdW5jdGlvbiBnJDMoZSl7Y29uc3Qgcj17fTtmb3IoY29uc3QgdCBvZiBlKXJbdC5uYW1lXT10LnN0cmlkZUluQnl0ZXM7cmV0dXJuIHJ9Y29uc3QgYiQxPWckMyhkJDUpLEwkMT1nJDMocCQ2KSxBJDE9ZyQzKGgkOCksSSQyPWckMyh3JDMpLEUkMj1nJDModiQzKSxqJDI9ZyQzKHkkNSk7ZnVuY3Rpb24gVCQxKGUscil7c3dpdGNoKGUpe2Nhc2UgRSQzLk1BUktFUjpyZXR1cm4gYiQxO2Nhc2UgRSQzLkZJTEw6cmV0dXJuIHI/QSQxOkwkMTtjYXNlIEUkMy5MSU5FOnJldHVybiBJJDI7Y2FzZSBFJDMuVEVYVDpyZXR1cm4gRSQyO2Nhc2UgRSQzLkxBQkVMOnJldHVybiBqJDJ9fWZ1bmN0aW9uIGskMyhlKXtyZXR1cm4gXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gSyhlLHQpe3N3aXRjaChlKXtjYXNlXCJidXR0XCI6cmV0dXJuIDA7Y2FzZVwicm91bmRcIjpyZXR1cm4gdD8yOjE7Y2FzZVwic3F1YXJlXCI6cmV0dXJuIDI7ZGVmYXVsdDpyZXR1cm4gdSQ3LmVycm9yKG5ldyBzJDQoXCJtYXB2aWV3LWludmFsaWQtdHlwZVwiLGBDYXAgdHlwZSAke2V9IGlzIG5vdCBhIHZhbGlkIG9wdGlvbi4gRGVmYXVsdGluZyB0byByb3VuZGApKSwxfX1mdW5jdGlvbiBQJDEoZSl7c3dpdGNoKGUpe2Nhc2VcIm1pdGVyXCI6cmV0dXJuIDI7Y2FzZVwiYmV2ZWxcIjpyZXR1cm4gMDtjYXNlXCJyb3VuZFwiOnJldHVybiAxO2RlZmF1bHQ6cmV0dXJuIHUkNy5lcnJvcihuZXcgcyQ0KFwibWFwdmlldy1pbnZhbGlkLXR5cGVcIixgSm9pbiB0eXBlICR7ZX0gaXMgbm90IGEgdmFsaWQgb3B0aW9uLiBEZWZhdWx0aW5nIHRvIHJvdW5kYCkpLDF9fWZ1bmN0aW9uIFkoZSl7c3dpdGNoKGUpe2Nhc2UgNTEyMTpyZXR1cm4gVWludDhBcnJheTtjYXNlIDMyODE5OnJldHVybiBVaW50MTZBcnJheTtjYXNlIDUxMjY6cmV0dXJuIEZsb2F0MzJBcnJheTtkZWZhdWx0OnJldHVybiB2b2lkIHUkNy5lcnJvcihuZXcgcyQ0KFwid2ViZ2wtdXRpbHNcIixgVW5hYmxlIHRvIGhhbmRsZSB0eXBlICR7ZX1gKSl9fWZ1bmN0aW9uIHRlKGUpe2UoRSQzLk1BUktFUiksZShFJDMuRklMTCksZShFJDMuTElORSksZShFJDMuVEVYVCksZShFJDMuTEFCRUwpO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG4kND0obixsKT0+biYmKCguLi5uKT0+bC53YXJuKFwiREVCVUc6XCIsLi4ubikpfHwoKCk9Pm51bGwpLGwkNz0hMTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGwkNj1uJDkuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5lbmdpbmUud2ViZ2xcIik7ZnVuY3Rpb24gbyQ0KGUpe3JldHVybiBrJDMoZS5taW5EYXRhVmFsdWUpJiZrJDMoZS5tYXhEYXRhVmFsdWUpJiZudWxsIT1lLm1pblNpemUmJm51bGwhPWUubWF4U2l6ZT9BJDIuU0laRV9NSU5NQVhfVkFMVUU6KGUuZXhwcmVzc2lvbiYmXCJ2aWV3LnNjYWxlXCI9PT1lLmV4cHJlc3Npb258fGUudmFsdWVFeHByZXNzaW9uJiZcIiR2aWV3LnNjYWxlXCI9PT1lLnZhbHVlRXhwcmVzc2lvbikmJkFycmF5LmlzQXJyYXkoZS5zdG9wcyk/QSQyLlNJWkVfU0NBTEVfU1RPUFM6KG51bGwhPWUuZmllbGR8fGUuZXhwcmVzc2lvbiYmXCJ2aWV3LnNjYWxlXCIhPT1lLmV4cHJlc3Npb258fGUudmFsdWVFeHByZXNzaW9uJiZcIiR2aWV3LnNjYWxlXCIhPT1lLnZhbHVlRXhwcmVzc2lvbikmJihBcnJheS5pc0FycmF5KGUuc3RvcHMpfHxcImxldmVsc1wiaW4gZSYmZS5sZXZlbHMpP0EkMi5TSVpFX0ZJRUxEX1NUT1BTOihudWxsIT1lLmZpZWxkfHxlLmV4cHJlc3Npb24mJlwidmlldy5zY2FsZVwiIT09ZS5leHByZXNzaW9ufHxlLnZhbHVlRXhwcmVzc2lvbiYmXCIkdmlldy5zY2FsZVwiIT09ZS52YWx1ZUV4cHJlc3Npb24pJiZudWxsIT1lLnZhbHVlVW5pdD9BJDIuU0laRV9VTklUX1ZBTFVFOihsJDYuZXJyb3IobmV3IHMkNChcIm1hcHZpZXctYmFkLXR5cGVcIixcIkZvdW5kIGludmFsaWQgc2l6ZSBWaXN1YWxWYXJpYWJsZVwiLGUpKSxBJDIuTk9ORSl9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiByJDQoZSx0KXtpZighZXx8IXQpcmV0dXJuIGU7c3dpdGNoKHQpe2Nhc2VcInJhZGl1c1wiOmNhc2VcImRpc3RhbmNlXCI6cmV0dXJuIDIqZTtjYXNlXCJkaWFtZXRlclwiOmNhc2VcIndpZHRoXCI6cmV0dXJuIGU7Y2FzZVwiYXJlYVwiOnJldHVybiBNYXRoLnNxcnQoZSl9cmV0dXJuIGV9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB3JDI9biQ5LmdldExvZ2dlcihcImVzcmkudmlld3MubGF5ZXJzLjJkLmZlYXR1cmVzLnN1cHBvcnQuQXR0cmlidXRlU3RvcmVcIiksQT1uJDQobCQ3LHckMiksayQyPTIxNDc0ODM2NDcsRCQxPTIxNDc0ODM2NDgsRSQxPTI1NCxGJDE9MjU1LFU9MCxSJDM9MSxDJDM9dD0+KHQmRCQxKT4+PjMxLE0kMj10PT50JmskMixCPXQ9PkMkMyh0KT09PVIkMz9FJDE6RiQxO2Z1bmN0aW9uIHYkMih0KXtyZXR1cm4gQyQzKHQpPT09UiQzfWNvbnN0IGokMT17c2hhcmVkQXJyYXlCdWZmZXI6dCQ2KFwiZXNyaS1zaGFyZWQtYXJyYXktYnVmZmVyXCIpLGF0b21pY3M6dCQ2KFwiZXNyaS1hdG9taWNzXCIpfTtmdW5jdGlvbiBJJDEodCxlKXtyZXR1cm4gaT0+ZSh0KGkpKX1jbGFzcyBQe2NvbnN0cnVjdG9yKHQsZSxpLHMpe3RoaXMuc2l6ZT0wLHRoaXMudGV4ZWxTaXplPTQ7Y29uc3R7cGl4ZWxUeXBlOnIsbGF5b3V0OmEsdGV4dHVyZU9ubHk6b309czt0aGlzLnRleHR1cmVPbmx5PW98fCExLHRoaXMucGl4ZWxUeXBlPXIsdGhpcy5fY3R5cGU9ZSx0aGlzLmxheW91dD1hLHRoaXMuX3Jlc2V0UmFuZ2UoKSx0aGlzLl9zaGFyZWQ9dCx0aGlzLnNpemU9aSxvfHwodGhpcy5kYXRhPXRoaXMuX2luaXREYXRhKHIsaSx0LGUpKTt9Z2V0IGJ1ZmZlcigpe3JldHVybiBBJDModGhpcy5kYXRhLCh0PT50LmJ1ZmZlcikpfXVuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKHQsZSl7Y29uc3QgaT1lJDUodGhpcy5kYXRhKTtmb3IobGV0IHM9MDtzPHRoaXMuc2l6ZSp0aGlzLnNpemU7cysrKWlbcyp0aGlzLnRleGVsU2l6ZSt0XSY9fmU7dGhpcy5kaXJ0eVN0YXJ0PTAsdGhpcy5kaXJ0eUVuZD10aGlzLnNpemUqdGhpcy5zaXplLTE7fXNldENvbXBvbmVudEFsbFRleGVscyh0LGUpe2NvbnN0IGk9ZSQ1KHRoaXMuZGF0YSk7Zm9yKGxldCBzPTA7czx0aGlzLnNpemUqdGhpcy5zaXplO3MrKylpW3MqdGhpcy50ZXhlbFNpemUrdF18PTI1NSZlO3RoaXMuZGlydHlTdGFydD0wLHRoaXMuZGlydHlFbmQ9dGhpcy5zaXplKnRoaXMuc2l6ZS0xO31zZXRDb21wb25lbnQodCxlLGkpe2NvbnN0IHM9ZSQ1KHRoaXMuZGF0YSk7Zm9yKGNvbnN0IHIgb2YgaSlzW3IqdGhpcy50ZXhlbFNpemUrdF18PWUsdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxyKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQscik7fXNldENvbXBvbmVudFRleGVsKHQsZSxpKXtlJDUodGhpcy5kYXRhKVtpKnRoaXMudGV4ZWxTaXplK3RdfD1lLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQsaSksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLGkpO311bnNldENvbXBvbmVudFRleGVsKHQsZSxpKXtlJDUodGhpcy5kYXRhKVtpKnRoaXMudGV4ZWxTaXplK3RdJj1+ZSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LGkpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxpKTt9Z2V0RGF0YSh0LGUpe2NvbnN0IGk9TSQyKHQpO3JldHVybiBlJDUodGhpcy5kYXRhKVtpKnRoaXMudGV4ZWxTaXplK2VdfXNldERhdGEodCxlLGkpe2NvbnN0IHM9TSQyKHQpLHI9MTw8ZTswIT0odGhpcy5sYXlvdXQmcik/KHRoaXMuZGF0YVtzKnRoaXMudGV4ZWxTaXplK2VdPWksdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxzKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQscykpOnckMi5lcnJvcihcIm1hcHZpZXctYXR0cmlidXRlcy1zdG9yZVwiLFwiVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEgdGV4ZWwncyByZWFkb25seSBjb21wb25lbnRcIik7fWxvY2soKXs1MTIxPT09dGhpcy5waXhlbFR5cGUmJnRoaXMuX3NoYXJlZCYmaiQxLmF0b21pY3MmJlwibG9jYWxcIiE9PXRoaXMuX2N0eXBlJiZBdG9taWNzLnN0b3JlKHRoaXMuZGF0YSwwLDEpO311bmxvY2soKXs1MTIxPT09dGhpcy5waXhlbFR5cGUmJnRoaXMuX3NoYXJlZCYmaiQxLmF0b21pY3MmJlwibG9jYWxcIiE9PXRoaXMuX2N0eXBlJiZBdG9taWNzLnN0b3JlKHRoaXMuZGF0YSwwLDApO31leHBhbmQodCl7aWYodGhpcy5zaXplPXQsIXRoaXMudGV4dHVyZU9ubHkpe2NvbnN0IGU9dGhpcy5faW5pdERhdGEodGhpcy5waXhlbFR5cGUsdCx0aGlzLl9zaGFyZWQsdGhpcy5fY3R5cGUpLGk9ZSQ1KHRoaXMuZGF0YSk7ZS5zZXQoaSksdGhpcy5kYXRhPWU7fX10b01lc3NhZ2UoKXtjb25zdCB0PXRoaXMuZGlydHlTdGFydCxlPXRoaXMuZGlydHlFbmQsaT10aGlzLnRleGVsU2l6ZTtpZih0PmUpcmV0dXJuIG51bGw7dGhpcy5fcmVzZXRSYW5nZSgpO2NvbnN0IHM9ISh0aGlzLl9zaGFyZWR8fFwibG9jYWxcIj09PXRoaXMuX2N0eXBlKSxyPXRoaXMucGl4ZWxUeXBlLGE9dGhpcy5sYXlvdXQsbj1lJDUodGhpcy5kYXRhKTtpZighbi5zbGljZSl7aWYoIXMpcmV0dXJuIHtzdGFydDp0LGVuZDplLGRhdGE6bnVsbCxwaXhlbFR5cGU6cixsYXlvdXQ6YX07cmV0dXJuIHtzdGFydDp0LGVuZDplLGRhdGE6bmV3KFkodGhpcy5waXhlbFR5cGUpKShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmRhdGEsdCppLChlKzEpKmkpKSxwaXhlbFR5cGU6cixsYXlvdXQ6YX19cmV0dXJuIHtzdGFydDp0LGVuZDplLGRhdGE6cyYmbi5zbGljZSh0KmksKGUrMSkqaSl8fG51bGwscGl4ZWxUeXBlOnIsbGF5b3V0OmF9fV9pbml0RGF0YSh0LGUsaSxzKXtjb25zdCByPWkmJlwibG9jYWxcIiE9PXM/U2hhcmVkQXJyYXlCdWZmZXI6QXJyYXlCdWZmZXIsYT1ZKHQpLG89bmV3IGEobmV3IHIoZSplKjQqYS5CWVRFU19QRVJfRUxFTUVOVCkpO2ZvcihsZXQgbj0wO248by5sZW5ndGg7bis9NClvW24rMV09MjU1O3JldHVybiBvfV9yZXNldFJhbmdlKCl7dGhpcy5kaXJ0eVN0YXJ0PTIxNDc0ODM2NDcsdGhpcy5kaXJ0eUVuZD0wO319Y2xhc3MgTyQxe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fY2xpZW50PXQsdGhpcy5jb25maWc9ZSx0aGlzLl9hdHRyaWJ1dGVDb21wdXRlTWFwPW5ldyBNYXAsdGhpcy5fYmxvY2tzPW5ldyBBcnJheSx0aGlzLl9maWx0ZXJzPW5ldyBBcnJheShOKSx0aGlzLl90YXJnZXRUeXBlPTAsdGhpcy5fYWJvcnRDb250cm9sbGVyPWgkZSgpLHRoaXMuX2hhc1NjYWxlRXhwcj0hMSx0aGlzLl9zaXplPTMyLHRoaXMuX2lkc1RvSGlnaGxpZ2h0PW5ldyBTZXQ7Y29uc3QgaT1lLnN1cHBvcnRzVGV4dHVyZUZsb2F0PzUxMjY6NTEyMTtBKGBDcmVhdGluZyBBdHRyaWJ1dGVTdG9yZSAke2okMS5zaGFyZWRBcnJheUJ1ZmZlcj9cIndpdGhcIjpcIndpdGhvdXRcIn0gc2hhcmVkIG1lbW9yeWApLHRoaXMuX2Jsb2NrRGVzY3JpcHRvcnM9W3twaXhlbFR5cGU6NTEyMSxsYXlvdXQ6MX0se3BpeGVsVHlwZTo1MTIxLGxheW91dDoxNSx0ZXh0dXJlT25seTohMH0se3BpeGVsVHlwZTppLGxheW91dDoxNX0se3BpeGVsVHlwZTppLGxheW91dDoxNX1dLHRoaXMuX2Jsb2Nrcz10aGlzLl9ibG9ja0Rlc2NyaXB0b3JzLm1hcCgoKCk9Pm51bGwpKTt9ZGVzdHJveSgpe3RoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpO31nZXQgaGFzU2NhbGVFeHByKCl7cmV0dXJuIHRoaXMuX2hhc1NjYWxlRXhwcn1nZXQgX3NpZ25hbCgpe3JldHVybiB0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsfXVwZGF0ZShpLHMpe3RoaXMuY29uZmlnPXM7Y29uc3Qgcj1zLnNjaGVtYS5wcm9jZXNzb3JzWzBdLnN0b3JhZ2UsYT1tJDkodGhpcy5fc2NoZW1hLHIpO2lmKChpLnRhcmdldHMuZmVhdHVyZXx8aS50YXJnZXRzLmFnZ3JlZ2F0ZSkmJihpLnN0b3JhZ2UuZGF0YT0hMCksYSYmKHQkNihcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gQXR0cmlidXRlU3RvcmU6XCIsYSksaS5zdG9yYWdlLmRhdGE9ITAsdGhpcy5fc2NoZW1hPXIsdGhpcy5fYXR0cmlidXRlQ29tcHV0ZU1hcC5jbGVhcigpLCF0JDcocikpKXtzd2l0Y2goci50YXJnZXQpe2Nhc2VcImZlYXR1cmVcIjp0aGlzLl90YXJnZXRUeXBlPVU7YnJlYWs7Y2FzZVwiYWdncmVnYXRlXCI6dGhpcy5fdGFyZ2V0VHlwZT1SJDM7fWZvcihjb25zdCB0IG9mIHIubWFwcGluZyl0aGlzLl9iaW5kQXR0cmlidXRlKHQpO319b25UaWxlRGF0YSh0LGkpe2lmKHQkNyhpLmFkZE9yVXBkYXRlKSlyZXR1cm47Y29uc3Qgcz1pLmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7cy5uZXh0KCk7KXtjb25zdCB0PXMuZ2V0RGlzcGxheUlkKCk7dGhpcy5zZXRBdHRyaWJ1dGVEYXRhKHQscyk7fX1pbnZhbGlkYXRlUmVzb3VyY2VzKCl7dGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsLHRoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpLHRoaXMuX2Fib3J0Q29udHJvbGxlcj1oJGUoKTt9YXN5bmMgc2V0SGlnaGxpZ2h0KHQsZSl7Y29uc3QgaT0xLHM9dGhpcy5fZ2V0QmxvY2soMCkscj1lLm1hcCgodD0+TSQyKHQpKSk7cy5sb2NrKCkscy51bnNldENvbXBvbmVudEFsbFRleGVscygwLGkpLHMuc2V0Q29tcG9uZW50KDAsaSxyKSxzLnVubG9jaygpLHRoaXMuX2lkc1RvSGlnaGxpZ2h0LmNsZWFyKCk7Zm9yKGNvbnN0IGEgb2YgdCl0aGlzLl9pZHNUb0hpZ2hsaWdodC5hZGQoYSk7YXdhaXQgdGhpcy5zZW5kVXBkYXRlcygpO31hc3luYyB1cGRhdGVGaWx0ZXJzKGUsaSl7Y29uc3R7Y29uZmlnOnMsc2VydmljZTpyLHNwYXRpYWxSZWZlcmVuY2U6YX09aSx7ZmlsdGVyczpvfT1zLG49by5tYXAoKCh0LGUpPT50aGlzLl91cGRhdGVGaWx0ZXIodCxlLHIsYSkpKTsoYXdhaXQgUHJvbWlzZS5hbGwobikpLnNvbWUoKHQ9PnQpKSYmKGUuc3RvcmFnZS5maWx0ZXJzPSEwLHQkNihcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXBwbHlpbmcgVXBkYXRlIC0gQXR0cmlidXRlU3RvcmU6XCIsXCJGaWx0ZXJzIGNoYW5nZWRcIikpO31zZXREYXRhKHQsZSxpLHMpe2NvbnN0IHI9TSQyKHQpO3RoaXMuX2Vuc3VyZVNpemVGb3JUZXhlbChyKSx0aGlzLl9nZXRCbG9jayhlKS5zZXREYXRhKHQsaSxzKTt9Z2V0RGF0YSh0LGUsaSl7cmV0dXJuIHRoaXMuX2dldEJsb2NrKGUpLmdldERhdGEodCxpKX1nZXRIaWdobGlnaHRGbGFnKHQpe3JldHVybiB0aGlzLl9pZHNUb0hpZ2hsaWdodC5oYXModCk/TyQzOjB9dW5zZXRBdHRyaWJ1dGVEYXRhKHQpe2NvbnN0IGU9TSQyKHQpO3RoaXMuX2dldEJsb2NrKDApLnNldERhdGEoZSwwLDApO31zZXRBdHRyaWJ1dGVEYXRhKHQsZSl7Y29uc3QgaT1NJDIodCk7aWYodGhpcy5fZW5zdXJlU2l6ZUZvclRleGVsKGkpLHRoaXMuX2dldEJsb2NrKDApLnNldERhdGEoaSwwLHRoaXMuZ2V0RmlsdGVyRmxhZ3MoZSkpLHRoaXMuX3RhcmdldFR5cGUhPT1DJDModCkpcmV0dXJuO2NvbnN0IHM9dGhpcy5fYXR0cmlidXRlQ29tcHV0ZU1hcCxyPXRoaXMuY29uZmlnLnN1cHBvcnRzVGV4dHVyZUZsb2F0PzE6MixhPTQ7cy5zaXplJiZzLmZvckVhY2goKCh0LHMpPT57Y29uc3Qgbz1zKnIlYSxuPU1hdGguZmxvb3IocypyL2EpLGw9dGhpcy5fZ2V0QmxvY2sobitLJDIpLGg9dChlKTtpZih0aGlzLmNvbmZpZy5zdXBwb3J0c1RleHR1cmVGbG9hdClsLnNldERhdGEoaSxvLGgpO2Vsc2UgaWYoaD09PWMkOClsLnNldERhdGEoaSxvLDI1NSksbC5zZXREYXRhKGksbysxLDI1NSk7ZWxzZSB7Y29uc3QgdD1lJDYoTWF0aC5yb3VuZChoKSwtMzI3NjcsMzI3NjYpKzMyNzY4LGU9MjU1JnQscz0oNjUyODAmdCk+Pjg7bC5zZXREYXRhKGksbyxlKSxsLnNldERhdGEoaSxvKzEscyk7fX0pKTt9c2VuZFVwZGF0ZXMoKXtpZih0aGlzLl9uZXh0VXBkYXRlKXJldHVybiB0aGlzLl9uZXh0VXBkYXRlLnByb21pc2U7aWYodGhpcy5fY3VyclVwZGF0ZSlyZXR1cm4gdGhpcy5fbmV4dFVwZGF0ZT1CJDEoKSx0aGlzLl9uZXh0VXBkYXRlLnByb21pc2U7Y29uc3QgdD17YmxvY2tzOnRoaXMuX2Jsb2Nrcy5tYXAoKHQ9PnIkOSh0KT90LnRvTWVzc2FnZSgpOm51bGwpKX07cmV0dXJuIHRoaXMuX2N1cnJVcGRhdGU9dGhpcy5fY3JlYXRlUmVzb3VyY2VzKCkudGhlbigoKCk9Pntjb25zdCBlPSgpPT57aWYodGhpcy5fY3VyclVwZGF0ZT1udWxsLHRoaXMuX25leHRVcGRhdGUpe2NvbnN0IHQ9dGhpcy5fbmV4dFVwZGF0ZTt0aGlzLl9uZXh0VXBkYXRlPW51bGwsdGhpcy5zZW5kVXBkYXRlcygpLnRoZW4oKCgpPT50LnJlc29sdmUoKSkpO319LGk9dGhpcy5fY2xpZW50LnVwZGF0ZSh0LHRoaXMuX3NpZ25hbCkudGhlbihlKS5jYXRjaChlKTtyZXR1cm4gdGhpcy5fY2xpZW50LnJlbmRlcih0aGlzLl9zaWduYWwpLGl9KSkuY2F0Y2goKHQ9PmckNCh0KT8odGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsLHRoaXMuX2NyZWF0ZVJlc291cmNlcygpKToodyQyLmVycm9yKG5ldyBzJDQoXCJtYXB2aWV3LWF0dHJpYnV0ZS1zdG9yZVwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3IgZHVyaW5nIGNsaWVudCB1cGRhdGVcIix0KSksUHJvbWlzZS5yZXNvbHZlKCkpKSksdGhpcy5fY3VyclVwZGF0ZX1fZW5zdXJlU2l6ZUZvclRleGVsKHQpe2Zvcig7dD49dGhpcy5fc2l6ZSp0aGlzLl9zaXplOylpZih0aGlzLl9leHBhbmQoKSlyZXR1cm59X2JpbmRBdHRyaWJ1dGUodCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0Lm5vcm1hbGl6YXRpb25GaWVsZD9lPT57Y29uc3QgaT1lLnJlYWRBdHRyaWJ1dGUodC5ub3JtYWxpemF0aW9uRmllbGQpO2lmKCFpKXJldHVybiBudWxsO3JldHVybiBlLnJlYWRBdHRyaWJ1dGUodC5maWVsZCkvaX06ZT0+ZS5yZWFkQXR0cmlidXRlKHQuZmllbGQpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gdC5ub3JtYWxpemF0aW9uRmllbGQmJnckMi53YXJuKFwibWFwdmlldy1hcmNhZGVcIixcIklnbm9yaW5nIG5vcm1hbGl6YXRpb25GaWVsZCBzcGVjaWZpZWQgd2l0aCBhbiBhcmNhZGUgZXhwcmVzc2lvbiB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLlwiKSxlPT5lLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodC5maWVsZEluZGV4KX1sZXQgcztpZihudWxsIT10LmZpZWxkSW5kZXgpcz1pKCk7ZWxzZSB7aWYoIXQuZmllbGQpcmV0dXJuO3M9ZSgpO31pZih0LnZhbHVlUmVwcmVzZW50YXRpb24pe3M9SSQxKHMsKGU9PnIkNChlLHQudmFsdWVSZXByZXNlbnRhdGlvbikpKTt9Y29uc3Qgcj10PT5udWxsPT09dHx8aXNOYU4odCl8fHQ9PT0xLzA/YyQ4OnQ7dGhpcy5fYXR0cmlidXRlQ29tcHV0ZU1hcC5zZXQodC5iaW5kaW5nLEkkMShzLHIpKTt9X2NyZWF0ZVJlc291cmNlcygpe2lmKHIkOSh0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlKSlyZXR1cm4gdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZTt0aGlzLl9nZXRCbG9jayhKKSxBKFwiSW5pdGlhbGl6aW5nIEF0dHJpYnV0ZVN0b3JlXCIpO2NvbnN0IHQ9e3NoYXJlZDpqJDEuc2hhcmVkQXJyYXlCdWZmZXImJiEoXCJsb2NhbFwiPT09dGhpcy5fY2xpZW50LnR5cGUpLHNpemU6dGhpcy5fc2l6ZSxibG9ja3M6eSQ2KHRoaXMuX2Jsb2NrcywodD0+KHt0ZXh0dXJlT25seTp0LnRleHR1cmVPbmx5LGJ1ZmZlcjp0LmJ1ZmZlcixwaXhlbFR5cGU6dC5waXhlbFR5cGV9KSkpfSxyPXRoaXMuX2NsaWVudC5pbml0aWFsaXplKHQsdGhpcy5fc2lnbmFsKS5jYXRjaCgodD0+e2ckNCh0KT90aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGw6dyQyLmVycm9yKG5ldyBzJDQoXCJtYXB2aWV3LWF0dHJpYnV0ZS1zdG9yZVwiLFwiRW5jb3VudGVyZWQgYW4gZXJyb3IgZHVyaW5nIGNsaWVudCBpbml0aWFsaXphdGlvblwiLHQpKTt9KSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9cixyLnRoZW4oKCgpPT50JDcodGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZSk/dGhpcy5fY3JlYXRlUmVzb3VyY2VzKCk6dm9pZCAwKSkscn1fZ2V0QmxvY2sodCl7Y29uc3QgZT10aGlzLl9ibG9ja3NbdF07aWYociQ5KGUpKXJldHVybiBlO0EoYEluaXRpYWxpemluZyBBdHRyaWJ1dGVCbG9jayBhdCBpbmRleCAke3R9YCk7Y29uc3Qgcz1qJDEuc2hhcmVkQXJyYXlCdWZmZXIscj10aGlzLl9jbGllbnQudHlwZSxhPW5ldyBQKHMscix0aGlzLl9zaXplLHRoaXMuX2Jsb2NrRGVzY3JpcHRvcnNbdF0pO3JldHVybiB0aGlzLl9ibG9ja3NbdF09YSx0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGwsYX1fZXhwYW5kKCl7aWYodGhpcy5fc2l6ZTx0aGlzLmNvbmZpZy5tYXhUZXh0dXJlU2l6ZSl7Y29uc3QgdD10aGlzLl9zaXplPDw9MTtyZXR1cm4gQShcIkV4cGFuZGluZyBibG9jayBzaXplIHRvXCIsdCx0aGlzLl9ibG9ja3MpLGQkOSh0aGlzLl9ibG9ja3MsKGU9PmUuZXhwYW5kKHQpKSksdGhpcy5fY3JlYXRlUmVzb3VyY2VzUHJvbWlzZT1udWxsLHRoaXMuX3NpemU9dCwwfXJldHVybiB3JDIuZXJyb3IobmV3IHMkNChcIm1hcHZpZXctbGltaXRhdGlvbnNcIixcIk1heGltdW0gbnVtYmVyIG9mIG9uc2NyZWVuIGZlYXR1cmVzIGV4Y2VlZGVkLlwiKSksLTF9YXN5bmMgX3VwZGF0ZUZpbHRlcih0LHMscixhKXtjb25zdCBvPXRoaXMuX2ZpbHRlcnNbc10sbj1yJDkobykmJm8uaGFzaDtpZighbyYmIXQpcmV0dXJuICExO2lmKG49PT1KU09OLnN0cmluZ2lmeSh0KSlyZXR1cm4gITE7aWYodCQ3KHQpKXtjb25zdCB0PTE8PHMrMSxlPXRoaXMuX2dldEJsb2NrKDApO3JldHVybiB0aGlzLl9maWx0ZXJzW3NdPW51bGwsZS5zZXRDb21wb25lbnRBbGxUZXhlbHMoMCx0KSx0aGlzLnNlbmRVcGRhdGVzKCksITB9Y29uc3QgbD1hd2FpdCB0aGlzLl9nZXRGaWx0ZXIocyxyKTtyZXR1cm4gYXdhaXQgbC51cGRhdGUodCxhKSwhMH1hc3luYyBfZ2V0RmlsdGVyKHQsZSl7Y29uc3Qgcz10aGlzLl9maWx0ZXJzW3RdO2lmKHIkOShzKSlyZXR1cm4gcztjb25zdHtkZWZhdWx0OnJ9PWF3YWl0IGltcG9ydCgnLi9GZWF0dXJlRmlsdGVyLTA1YzUwZDVhLmpzJyksYT1uZXcgcih7Z2VvbWV0cnlUeXBlOmUuZ2VvbWV0cnlUeXBlLGhhc006ITEsaGFzWjohMSx0aW1lSW5mbzplLnRpbWVJbmZvLGZpZWxkc0luZGV4Om5ldyBlJDQoZS5maWVsZHMpfSk7cmV0dXJuIHRoaXMuX2ZpbHRlcnNbdF09YSxhfWlzVmlzaWJsZSh0KXtyZXR1cm4gISEoMiZ0aGlzLl9nZXRCbG9jaygwKS5nZXREYXRhKHQsMCkpfWdldEZpbHRlckZsYWdzKHQpe2xldCBpPTA7Y29uc3Qgcz1CKHQuZ2V0RGlzcGxheUlkKCkpO2ZvcihsZXQgYT0wO2E8dGhpcy5fZmlsdGVycy5sZW5ndGg7YSsrKXtjb25zdCByPSEhKHMmMTw8YSksbz10aGlzLl9maWx0ZXJzW2FdO2l8PSghcnx8dCQ3KG8pfHxvLmNoZWNrKHQpPzE6MCk8PGE7fWxldCByPTA7aWYodGhpcy5faWRzVG9IaWdobGlnaHQuc2l6ZSl7Y29uc3QgZT10LmdldE9iamVjdElkKCk7cj10aGlzLmdldEhpZ2hsaWdodEZsYWcoZSk7fXJldHVybiBpPDwxfHJ9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdCQzPTIxNDc0ODM2NDg7ZnVuY3Rpb24gdSQ2KGUscil7cmV0dXJuICgocj90JDM6MCl8ZSk+Pj4wfWNsYXNzIGQkNHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2ZyZWVJZHM9W10sdGhpcy5faWRDb3VudGVyPTE7fWNyZWF0ZUlkKGU9ITEpe3JldHVybiB1JDYodGhpcy5fZ2V0RnJlZUlkKCksZSl9cmVsZWFzZUlkKGUpe3RoaXMuX2ZyZWVJZHMucHVzaChlKTt9X2dldEZyZWVJZCgpe3JldHVybiB0aGlzLl9mcmVlSWRzLmxlbmd0aD90aGlzLl9mcmVlSWRzLnBvcCgpOnRoaXMuX2lkQ291bnRlcisrfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHMkMSh0LGUscyl7aWYoISh0Lmxlbmd0aD5lKSlmb3IoO3QubGVuZ3RoPD1lOyl0LnB1c2gocyk7fWNvbnN0IGkkMj0yMTQ3NDgzNjQ3LG4kMz0yMTQ3NDgzNjQ4LHIkMz0odCxlKT0+KChlP24kMzowKXx0KT4+PjA7Y2xhc3MgdSQ1e2NvbnN0cnVjdG9yKCl7dGhpcy5fbnVtZXJpY3M9W10sdGhpcy5fc3RyaW5ncz1bXSx0aGlzLl9pZEdlbmVyYXRvcj1uZXcgZCQ0LHRoaXMuX2FsbG9jYXRlZFNpemU9MjU2LHRoaXMuX2JpdHNldHM9W10sdGhpcy5faW5zdGFuY2VJZHM9W10sdGhpcy5fYm91bmRzPVtdO31jcmVhdGVCaXRzZXQoKXtjb25zdCBlPXRoaXMuX2JpdHNldHMubGVuZ3RoO3JldHVybiB0aGlzLl9iaXRzZXRzLnB1c2godCQ4LmNyZWF0ZSh0aGlzLl9hbGxvY2F0ZWRTaXplLGkkMikpLGUrMX1nZXRCaXRzZXQodCl7cmV0dXJuIHRoaXMuX2JpdHNldHNbdC0xXX1fZXhwYW5kKCl7dGhpcy5fYWxsb2NhdGVkU2l6ZTw8PTE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYml0c2V0cyl0LnJlc2l6ZSh0aGlzLl9hbGxvY2F0ZWRTaXplKTt9X2Vuc3VyZU51bWVyaWModCxlKXt0aGlzLl9udW1lcmljc1t0XXx8KHRoaXMuX251bWVyaWNzW3RdPVtdKTtzJDEodGhpcy5fbnVtZXJpY3NbdF0sZSwwKTt9X2Vuc3VyZUluc3RhbmNlSWQodCl7cyQxKHRoaXMuX2luc3RhbmNlSWRzLHQsMCk7fV9lbnN1cmVTdHJpbmcodCxlKXt0aGlzLl9zdHJpbmdzW3RdfHwodGhpcy5fc3RyaW5nc1t0XT1bXSk7cyQxKHRoaXMuX3N0cmluZ3NbdF0sZSxudWxsKTt9Y3JlYXRlRGlzcGxheUlkKHQ9ITEpe2NvbnN0IGU9dGhpcy5faWRHZW5lcmF0b3IuY3JlYXRlSWQoKTtyZXR1cm4gZT50aGlzLl9hbGxvY2F0ZWRTaXplJiZ0aGlzLl9leHBhbmQoKSxyJDMoZSx0KX1yZWxlYXNlRGlzcGxheUlkKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2JpdHNldHMpZS51bnNldCh0KTtyZXR1cm4gdGhpcy5faWRHZW5lcmF0b3IucmVsZWFzZUlkKHQmaSQyKX1nZXRDb21wdXRlZE51bWVyaWModCxlKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHQmaSQyLDApfXNldENvbXB1dGVkTnVtZXJpYyh0LGUscyl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0JmkkMixzLDApfWdldENvbXB1dGVkU3RyaW5nKHQsZSl7cmV0dXJuIHRoaXMuZ2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHQmaSQyLDApfXNldENvbXB1dGVkU3RyaW5nKHQsZSxzKXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodCZpJDIsMCxzKX1nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KHQsZSl7Y29uc3Qgcz10JmkkMjtyZXR1cm4gdGhpcy5fZW5zdXJlTnVtZXJpYyhlLHMpLHRoaXMuX251bWVyaWNzW2VdW3NdfXNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodCxlLHMpe2NvbnN0IG49dCZpJDI7dGhpcy5fZW5zdXJlTnVtZXJpYyhlLG4pLHRoaXMuX251bWVyaWNzW2VdW25dPXM7fWdldEluc3RhbmNlSWQodCl7Y29uc3QgZT10JmkkMjtyZXR1cm4gdGhpcy5fZW5zdXJlSW5zdGFuY2VJZChlKSx0aGlzLl9pbnN0YW5jZUlkc1tlXX1zZXRJbnN0YW5jZUlkKHQsZSl7Y29uc3Qgcz10JmkkMjt0aGlzLl9lbnN1cmVJbnN0YW5jZUlkKHMpLHRoaXMuX2luc3RhbmNlSWRzW3NdPWU7fWdldENvbXB1dGVkU3RyaW5nQXRJbmRleCh0LGUpe2NvbnN0IHM9dCZpJDI7cmV0dXJuIHRoaXMuX2Vuc3VyZVN0cmluZyhlLHMpLHRoaXMuX3N0cmluZ3NbZV1bc119c2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KHQsZSxzKXtjb25zdCBuPXQmaSQyO3RoaXMuX2Vuc3VyZVN0cmluZyhlLG4pLHRoaXMuX3N0cmluZ3NbZV1bbl09czt9Z2V0WE1pbih0KXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKHQmaSQyKV19Z2V0WU1pbih0KXtyZXR1cm4gdGhpcy5fYm91bmRzWzQqKHQmaSQyKSsxXX1nZXRYTWF4KHQpe3JldHVybiB0aGlzLl9ib3VuZHNbNCoodCZpJDIpKzJdfWdldFlNYXgodCl7cmV0dXJuIHRoaXMuX2JvdW5kc1s0Kih0JmkkMikrM119c2V0Qm91bmRzKHQsZSl7Y29uc3Qgbj1lLnJlYWRIeWRyYXRlZEdlb21ldHJ5KCk7aWYoIW58fCFuLmNvb3Jkcy5sZW5ndGgpcmV0dXJuICExO2xldCByPTEvMCx1PTEvMCxoPS0xLzAsbz0tMS8wO24uZm9yRWFjaFZlcnRleCgoKHQsZSk9PntyPU1hdGgubWluKHIsdCksdT1NYXRoLm1pbih1LGUpLGg9TWF0aC5tYXgoaCx0KSxvPU1hdGgubWF4KG8sZSk7fSkpO2NvbnN0IGQ9dCZpJDI7cmV0dXJuIHMkMSh0aGlzLl9ib3VuZHMsNCpkKzQsMCksdGhpcy5fYm91bmRzWzQqZF09cix0aGlzLl9ib3VuZHNbNCpkKzFdPXUsdGhpcy5fYm91bmRzWzQqZCsyXT1oLHRoaXMuX2JvdW5kc1s0KmQrM109bywhMH19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBze2NvbnN0cnVjdG9yKHQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXt0aGlzLnNpemU9MCx0aGlzLl9zdGFydD0wLHRoaXMubWF4U2l6ZT10LHRoaXMuX2J1ZmZlcj1pc0Zpbml0ZSh0KT9uZXcgQXJyYXkodCk6W107fWdldCBlbnRyaWVzKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1lbnF1ZXVlKHQpe2lmKHRoaXMuc2l6ZT09PXRoaXMubWF4U2l6ZSl7Y29uc3Qgcz10aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdO3JldHVybiB0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnRdPXQsdGhpcy5fc3RhcnQ9KHRoaXMuX3N0YXJ0KzEpJXRoaXMubWF4U2l6ZSxzfXJldHVybiBpc0Zpbml0ZSh0aGlzLm1heFNpemUpP3RoaXMuX2J1ZmZlclsodGhpcy5fc3RhcnQrdGhpcy5zaXplKyspJXRoaXMubWF4U2l6ZV09dDp0aGlzLl9idWZmZXJbdGhpcy5fc3RhcnQrdGhpcy5zaXplKytdPXQsbnVsbH1kZXF1ZXVlKCl7aWYoMD09PXRoaXMuc2l6ZSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF07cmV0dXJuIHRoaXMuX2J1ZmZlclt0aGlzLl9zdGFydF09bnVsbCx0aGlzLnNpemUtLSx0aGlzLl9zdGFydD0odGhpcy5fc3RhcnQrMSkldGhpcy5tYXhTaXplLHR9cGVlaygpe3JldHVybiAwPT09dGhpcy5zaXplP251bGw6dGhpcy5fYnVmZmVyW3RoaXMuX3N0YXJ0XX1maW5kKHMpe2lmKDA9PT10aGlzLnNpemUpcmV0dXJuIG51bGw7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYnVmZmVyKWlmKHIkOShpKSYmcyhpKSlyZXR1cm4gaTtyZXR1cm4gbnVsbH1jbGVhcihzKXtsZXQgaT10aGlzLmRlcXVldWUoKTtmb3IoO3IkOShpKTspcyYmcyhpKSxpPXRoaXMuZGVxdWV1ZSgpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiByJDIocixhLHQpe3IucmVmZXJlbmNlc0dlb21ldHJ5KCk7Y29uc3Qgbj1hLnJlYWRBcmNhZGVGZWF0dXJlKCk7dHJ5e3JldHVybiByLmV2YWx1YXRlKHsuLi50LCRmZWF0dXJlOm59KX1jYXRjaChvKXtyZXR1cm4gbiQ5LmdldExvZ2dlcihcImVzcmkudmlld3MuMmQuc3VwcG9ydC5hcmNhZGVPbkRlbWFuZFwiKS53YXJuKFwiRmVhdHVyZSBhcmNhZGUgZXZhbHVhdGlvbiBmYWlsZWQ6XCIsbyksbnVsbH19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBjJDU9aW1wb3J0KCcuL2xhYmVsRm9ybWF0VXRpbHMtNWIyYjNkNGUuanMnKTtjbGFzcyBvJDN7Y29uc3RydWN0b3IoZSxzKXt0aGlzLl9jYW5DYWNoZUV4cHJlc3Npb25WYWx1ZT0hMSx0aGlzLl9zb3VyY2VJbmZvPWUsdGhpcy5fYml0c2V0cz17Y29tcHV0ZWQ6cy5nZXRCaXRzZXQocy5jcmVhdGVCaXRzZXQoKSl9O31pbnZhbGlkYXRlKCl7dGhpcy5fYml0c2V0cy5jb21wdXRlZC5jbGVhcigpO31hc3luYyB1cGRhdGVTY2hlbWEodCxyKXtjb25zdCBjPW0kOSh0aGlzLl9zY2hlbWEscik7aWYodGhpcy5fc2NoZW1hPXIsIXJ8fHQkNyhjKXx8IWEkOChjLFwiYXR0cmlidXRlc1wiKSlyZXR1cm47dCQ2KFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBTdG9yZTpcIixjKSx0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCksdC50YXJnZXRzW3IubmFtZV09ITA7Y29uc3Qgbz1yLmF0dHJpYnV0ZXMsbj1bXSxwPVtdO2Zvcihjb25zdCBlIGluIG8pe2NvbnN0IHM9b1tlXTtzd2l0Y2gocy50eXBlKXtjYXNlXCJmaWVsZFwiOmJyZWFrO2Nhc2VcImV4cHJlc3Npb25cIjpuLnB1c2godGhpcy5fY3JlYXRlQXJjYWRlQ29tcHV0ZWRGaWVsZChzKSk7YnJlYWs7Y2FzZVwibGFiZWwtZXhwcmVzc2lvblwiOm4ucHVzaCh0aGlzLl9jcmVhdGVMYWJlbEFyY2FkZUNvbXB1dGVkRmllbGQocykpO2JyZWFrO2Nhc2VcInN0YXRpc3RpY1wiOnAucHVzaChzKTt9fXRoaXMuX2NvbXB1dGVkRmllbGRzPWF3YWl0IFByb21pc2UuYWxsKG4pLHRoaXMuX2NhbkNhY2hlRXhwcmVzc2lvblZhbHVlPSF0aGlzLl9jb21wdXRlZEZpZWxkcy5zb21lKChlPT5cImV4cHJlc3Npb25cIj09PWUudHlwZSYmZS5leHByZXNzaW9uLnJlZmVyZW5jZXNTY2FsZSgpKSksdGhpcy5fc3RhdGlzdGljRmllbGRzPXA7fXNldENvbXB1dGVkQXR0cmlidXRlcyhlLHMsdCxpKXtjb25zdCBhPXRoaXMuX2JpdHNldHMuY29tcHV0ZWQ7aWYoIXRoaXMuX2NhbkNhY2hlRXhwcmVzc2lvblZhbHVlfHwhYS5oYXModCkpe2Euc2V0KHQpO2Zvcihjb25zdCBhIG9mIHRoaXMuX2NvbXB1dGVkRmllbGRzKXtjb25zdCByPXRoaXMuX2V2YWx1YXRlRmllbGQocyxhLGkpO3N3aXRjaChhLnJlc3VsdFR5cGUpe2Nhc2VcIm51bWVyaWNcIjplLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodCxhLmZpZWxkSW5kZXgscik7YnJlYWs7Y2FzZVwic3RyaW5nXCI6ZS5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodCxhLmZpZWxkSW5kZXgscik7fX19fWFzeW5jIF9jcmVhdGVBcmNhZGVDb21wdXRlZEZpZWxkKGUpe2NvbnN0IHM9dGhpcy5fc291cmNlSW5mby5zcGF0aWFsUmVmZXJlbmNlLGk9dGhpcy5fc291cmNlSW5mby5maWVsZHNJbmRleDtyZXR1cm4gey4uLmUsZXhwcmVzc2lvbjphd2FpdCBpJDcoZS52YWx1ZUV4cHJlc3Npb24scyxpKX19YXN5bmMgX2NyZWF0ZUxhYmVsQXJjYWRlQ29tcHV0ZWRGaWVsZChlKXtjb25zdCBzPXRoaXMuX3NvdXJjZUluZm8uc3BhdGlhbFJlZmVyZW5jZSx0PXRoaXMuX3NvdXJjZUluZm8uZmllbGRzLHtjcmVhdGVMYWJlbEZ1bmN0aW9uOml9PWF3YWl0IGMkNSxhPWF3YWl0IGkoZS5sYWJlbCx0LHMpO3JldHVybiB7Li4uZSxidWlsZGVyOmF9fV9ldmFsdWF0ZUZpZWxkKGUscyx0KXtzd2l0Y2gocy50eXBlKXtjYXNlXCJsYWJlbC1leHByZXNzaW9uXCI6e2NvbnN0IHQ9ZS5yZWFkQXJjYWRlRmVhdHVyZSgpO3JldHVybiBzLmJ1aWxkZXIuZXZhbHVhdGUodCl8fFwiXCJ9Y2FzZVwiZXhwcmVzc2lvblwiOntjb25zdHtleHByZXNzaW9uOml9PXM7cmV0dXJuIHIkMihpLGUseyR2aWV3OntzY2FsZTp0fX0pfX19fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgciQxIGV4dGVuZHMgZCQ4e2NvbnN0cnVjdG9yKHIsdCl7c3VwZXIoZCQ4LmNyZWF0ZUluc3RhbmNlKCkpLHRoaXMuX2N1cnJlbnRJbmRleD0tMSx0aGlzLl9yZWFkZXI9cix0aGlzLl9pbmRpY2VzPXQ7fXN0YXRpYyBmcm9tKGUsdCl7cmV0dXJuIG5ldyByJDEoZS5jb3B5KCksdCl9Z2V0IGhhc05leHQoKXtyZXR1cm4gdGhpcy5fY3VycmVudEluZGV4KzE8dGhpcy5faW5kaWNlcy5sZW5ndGh9Z2V0QXBwcm94aW1hdGVTaXplKCl7cmV0dXJuIHRoaXMuX2luZGljZXMubGVuZ3RofWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3QgZT1uZXcgciQxKHRoaXMuX3JlYWRlci5jb3B5KCksdGhpcy5faW5kaWNlcyk7cmV0dXJuIGUuX2N1cnJlbnRJbmRleD10aGlzLl9jdXJyZW50SW5kZXgsZX1uZXh0KCl7Zm9yKDt0aGlzLl9uZXh0SW5kZXgoKSYmIXRoaXMuX3JlYWRlci5fcGFzc2VzRmlsdGVyKCkmJiF0aGlzLl9yZWFkZXIuX2dldEV4aXN0cygpOyk7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleDx0aGlzLl9pbmRpY2VzLmxlbmd0aH1fbmV4dEluZGV4KCl7cmV0dXJuICsrdGhpcy5fY3VycmVudEluZGV4PHRoaXMuX2luZGljZXMubGVuZ3RoJiYodGhpcy5fcmVhZGVyLnNldEluZGV4KHRoaXMuX2luZGljZXNbdGhpcy5fY3VycmVudEluZGV4XSksITApfXNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UoZSl7dGhpcy5fcmVhZGVyLnNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UoZSk7fWF0dGFjaFN0b3JhZ2UoZSl7dGhpcy5fcmVhZGVyLmF0dGFjaFN0b3JhZ2UoZSk7fWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdlb21ldHJ5VHlwZX1nZXQgaGFzRmVhdHVyZXMoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmhhc0ZlYXR1cmVzfWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXQgaGFzWigpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzWn1nZXQgaGFzTSgpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzTX1nZXRTdG9yYWdlKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRTdG9yYWdlKCl9Z2V0Q29tcHV0ZWROdW1lcmljKGUpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCgwKX1zZXRDb21wdXRlZE51bWVyaWMoZSxyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgociwwKX1nZXRDb21wdXRlZFN0cmluZyhlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwKX1zZXRDb21wdXRlZFN0cmluZyhlLHIpe3JldHVybiB0aGlzLl9yZWFkZXIuc2V0Q29tcHV0ZWRTdHJpbmdBdEluZGV4KDAscil9Z2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSl9c2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHIpe3RoaXMuX3JlYWRlci5zZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUscik7fWdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlKX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSxyKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHIpfXRyYW5zZm9ybShlLHIsdCxkKXtjb25zdCBhPXRoaXMuY29weSgpO3JldHVybiBhLl9yZWFkZXI9dGhpcy5fcmVhZGVyLnRyYW5zZm9ybShlLHIsdCxkKSxhfWV4dGVudChlLHIsdCxkKXtjb25zdCBhPXRoaXMuY29weSgpO3JldHVybiBhLl9yZWFkZXI9dGhpcy5fcmVhZGVyLmV4dGVudChlLHIsdCxkKSxhfWhhc0ZpbHRlcigpe3JldHVybiB0aGlzLl9yZWFkZXIuaGFzRmlsdGVyKCl9cmVhZEF0dHJpYnV0ZShlLHI9ITEpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEF0dHJpYnV0ZShlLHIpfXJlYWRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkQXR0cmlidXRlcygpfWpvaW5BdHRyaWJ1dGVzKGUpe3JldHVybiB0aGlzLl9yZWFkZXIuam9pbkF0dHJpYnV0ZXMoZSl9cmVhZEFyY2FkZUZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRBcmNhZGVGZWF0dXJlKCl9Z2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdlb21ldHJ5KCl9ZmllbGQoZSl7cmV0dXJuIHRoaXMucmVhZEF0dHJpYnV0ZShlLCEwKX1oYXNGaWVsZChlKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmhhc0ZpZWxkKGUpfXNldEZpZWxkKGUscil7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRGaWVsZChlLHIpfWtleXMoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmtleXMoKX1jYXN0VG9UZXh0KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5jYXN0VG9UZXh0KCl9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRRdWFudGl6YXRpb25UcmFuc2Zvcm0oKX1nZXRBdHRyaWJ1dGVIYXNoKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRBdHRyaWJ1dGVIYXNoKCl9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldE9iamVjdElkKCl9Z2V0RGlzcGxheUlkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXREaXNwbGF5SWQoKX1zZXREaXNwbGF5SWQoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXREaXNwbGF5SWQoZSl9Z2V0R3JvdXBJZCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0R3JvdXBJZCgpfXNldEdyb3VwSWQoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRHcm91cElkKGUpfWdldFhIeWRyYXRlKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRYSHlkcmF0ZSgpfWdldFlIeWRyYXRlKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRZSHlkcmF0ZSgpfWdldFgoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmdldFgoKX1nZXRZKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5nZXRZKCl9c2V0SW5kZXgoZSl7cmV0dXJuIHRoaXMuX3JlYWRlci5zZXRJbmRleChlKX1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9yZWFkZXIuZ2V0SW5kZXgoKX1yZWFkTGVnYWN5RmVhdHVyZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZExlZ2FjeUZlYXR1cmUoKX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZE9wdGltaXplZEZlYXR1cmUoKX1yZWFkTGVnYWN5UG9pbnRHZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKX1yZWFkTGVnYWN5R2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLnJlYWRMZWdhY3lHZW9tZXRyeSgpfXJlYWRMZWdhY3lDZW50cm9pZCgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZExlZ2FjeUNlbnRyb2lkKCl9cmVhZEdlb21ldHJ5QXJlYSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEdlb21ldHJ5QXJlYSgpfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpfXJlYWRIeWRyYXRlZEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpfXJlYWRHZW9tZXRyeSgpe3JldHVybiB0aGlzLl9yZWFkZXIucmVhZEdlb21ldHJ5KCl9cmVhZENlbnRyb2lkKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5yZWFkQ2VudHJvaWQoKX1fcGFzc2VzRmlsdGVyKCl7cmV0dXJuIHRoaXMuX3JlYWRlci5fcGFzc2VzRmlsdGVyKCl9X3JlYWRBdHRyaWJ1dGUoZSxyKXt0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogU2hvdWxkIG5vdCBiZSBjYWxsZWQuIFVuZGVybHlpbmcgX3JlYWRlciBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkXCIpfV9yZWFkQXR0cmlidXRlcygpe3Rocm93IG5ldyBFcnJvcihcIkVycm9yOiBTaG91bGQgbm90IGJlIGNhbGxlZC4gVW5kZXJseWluZyBfcmVhZGVyIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcIil9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gaCQ3KHQsZSl7cmV0dXJuIHQ8PDE2fGV9ZnVuY3Rpb24gYyQ0KHQpe3JldHVybiAoNDI5NDkwMTc2MCZ0KT4+PjE2fWZ1bmN0aW9uIEkodCl7cmV0dXJuIDY1NTM1JnR9Y29uc3QgdSQ0PXtnZXRPYmplY3RJZDp0PT50LmdldE9iamVjdElkKCksZ2V0QXR0cmlidXRlczp0PT50LnJlYWRBdHRyaWJ1dGVzKCksZ2V0QXR0cmlidXRlOih0LGUpPT50LnJlYWRBdHRyaWJ1dGUoZSksY2xvbmVXaXRoR2VvbWV0cnk6KHQsZSk9PnQsZ2V0R2VvbWV0cnk6dD0+dC5yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpLGdldENlbnRyb2lkOih0LGUpPT50LnJlYWRDZW50cm9pZCgpfTtjbGFzcyBsJDUgZXh0ZW5kcyBvJDN7Y29uc3RydWN0b3IodCxlLHMkMSl7c3VwZXIodCxlKSx0aGlzLmZlYXR1cmVBZGFwdGVyPXUkNCx0aGlzLmV2ZW50cz1uZXcgbiQ4LHRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZT1uZXcgTWFwLHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQ9bmV3IE1hcCx0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwLHRoaXMuX2luZGV4U2VhcmNoQ2FjaGU9bmV3IHMoNTApLHRoaXMuX2luZGV4PWkkMyg5LCh0PT4oe21pblg6dGhpcy5fc3RvcmFnZS5nZXRYTWluKHQpLG1pblk6dGhpcy5fc3RvcmFnZS5nZXRZTWluKHQpLG1heFg6dGhpcy5fc3RvcmFnZS5nZXRYTWF4KHQpLG1heFk6dGhpcy5fc3RvcmFnZS5nZXRZTWF4KHQpfSkpKSx0aGlzLl9zdG9yYWdlPWUsdGhpcy5tb2RlPXMkMTt9Z2V0IHN0b3JhZ2UoKXtyZXR1cm4gdGhpcy5fc3RvcmFnZX1nZXQgc3RvcmVTdGF0aXN0aWNzKCl7cmV0dXJuIHtmZWF0dXJlQ291bnQ6MCx2ZXJ0ZXhDb3VudDowfX1oYXNJbnN0YW5jZSh0KXtyZXR1cm4gdGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLmhhcyh0KX1vblRpbGVEYXRhKGUscyl7aWYodCQ3KHMuYWRkT3JVcGRhdGUpKXJldHVybiBzO2lmKHMuYWRkT3JVcGRhdGUuYXR0YWNoU3RvcmFnZSh0aGlzLl9zdG9yYWdlKSxcInNuYXBzaG90XCI9PT10aGlzLm1vZGUpe2NvbnN0IHQ9cy5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO3QubmV4dCgpOyl7Y29uc3Qgcz10LmdldERpc3BsYXlJZCgpO3RoaXMuc2V0Q29tcHV0ZWRBdHRyaWJ1dGVzKHRoaXMuX3N0b3JhZ2UsdCxzLGUuc2NhbGUpO31yZXR1cm4gc310aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2Uuc2V0KHMuYWRkT3JVcGRhdGUuaW5zdGFuY2Uscy5hZGRPclVwZGF0ZSk7Y29uc3QgYT1zLmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7YS5uZXh0KCk7KXRoaXMuX2luc2VydEZlYXR1cmUoYSxlLnNjYWxlKTtyZXR1cm4gdGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZD0hMCx0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKSxzfXNlYXJjaCh0KXt0aGlzLl9yZWJ1aWxkSW5kZXgoKTtjb25zdCBzPXQuaWQsYT10aGlzLl9pbmRleFNlYXJjaENhY2hlLmZpbmQoKHQ9PnQudGlsZUlkPT09cykpO2lmKHIkOShhKSlyZXR1cm4gYS5yZWFkZXJzO2NvbnN0IHI9bmV3IE1hcCxuPXRoaXMuX3NlYXJjaEluZGV4KHQuYm91bmRzKSxpPVtdO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IHQ9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpLHM9YyQ0KHQpLGE9SSh0KTtyLmhhcyhzKXx8ci5zZXQocyxbXSk7ci5nZXQocykucHVzaChhKTt9cmV0dXJuIHIuZm9yRWFjaCgoKHQsZSk9Pntjb25zdCBzPXRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5nZXQoZSk7aS5wdXNoKHIkMS5mcm9tKHMsdCkpO30pKSx0aGlzLl9pbmRleFNlYXJjaENhY2hlLmVucXVldWUoe3RpbGVJZDpzLHJlYWRlcnM6aX0pLGl9aW5zZXJ0KHQpe2NvbnN0IGU9dC5nZXRDdXJzb3IoKSxzPXRoaXMuX3N0b3JhZ2U7Zm9yKDtlLm5leHQoKTspe3ZhciBhO2NvbnN0IHQ9aCQ3KGUuaW5zdGFuY2UsZS5nZXRJbmRleCgpKSxyPWUuZ2V0T2JqZWN0SWQoKSxuPW51bGwhPShhPXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KHIpKT9hOnRoaXMuX3N0b3JhZ2UuY3JlYXRlRGlzcGxheUlkKCk7ZS5zZXREaXNwbGF5SWQobikscy5zZXRJbnN0YW5jZUlkKG4sdCksdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5zZXQocixuKTt9dGhpcy5fZmVhdHVyZVNldHNCeUluc3RhbmNlLnNldCh0Lmluc3RhbmNlLHQpLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITA7fXJlbW92ZSh0KXtjb25zdCBlPXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KHQpO2lmKCFlKXJldHVybjtjb25zdCBzPXRoaXMuX3N0b3JhZ2UuZ2V0SW5zdGFuY2VJZChlKSxhPUkocykscj1jJDQocyksbj10aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZ2V0KHIpO3RoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZGVsZXRlKHQpLHRoaXMuX3N0b3JhZ2UucmVsZWFzZURpc3BsYXlJZChlKSxuLnJlbW92ZUF0SW5kZXgoYSksbi5pc0VtcHR5JiZ0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZGVsZXRlKHIpLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITA7fWZvckVhY2godCl7dGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5mb3JFYWNoKChlPT57Y29uc3Qgcz10aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoZSksYT10aGlzLl9sb29rdXBGZWF0dXJlKHMpO3QoYSk7fSkpO31mb3JFYWNoVW5zYWZlKHQpe3RoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZm9yRWFjaCgoZT0+e2NvbnN0IHM9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpLGE9YyQ0KHMpLHI9SShzKSxuPXRoaXMuX2dldEZlYXR1cmVTZXQoYSk7bi5zZXRJbmRleChyKSx0KG4pO30pKTt9Zm9yRWFjaEluQm91bmRzKHQsZSl7Y29uc3QgYT10aGlzLl9zZWFyY2hJbmRleCh0KTtmb3IoY29uc3QgciBvZiBhKXtjb25zdCB0PXRoaXMubG9va3VwRmVhdHVyZUJ5RGlzcGxheUlkKHIsdGhpcy5fc3RvcmFnZSk7ZShlJDUodCkpO319Zm9yRWFjaEJvdW5kcyh0LGUscyl7dGhpcy5fcmVidWlsZEluZGV4KCk7Y29uc3QgYT1bMCwwLDAsMF07Zm9yKGNvbnN0IHIgb2YgdCl7aWYoIXIucmVhZEdlb21ldHJ5KCkpY29udGludWU7Y29uc3QgdD1yLmdldERpc3BsYXlJZCgpO2FbMF09dGhpcy5fc3RvcmFnZS5nZXRYTWluKHQpLGFbMV09dGhpcy5fc3RvcmFnZS5nZXRZTWluKHQpLGFbMl09dGhpcy5fc3RvcmFnZS5nZXRYTWF4KHQpLGFbM109dGhpcy5fc3RvcmFnZS5nZXRZTWF4KHQpLGUoTyQ0KHMsYSkpO319c3dlZXBGZWF0dXJlcyh0LGUscyl7dGhpcy5fc3BhdGlhbEluZGV4SW52YWxpZD0hMCx0aGlzLl9vYmplY3RJZFRvRGlzcGxheUlkLmZvckVhY2goKChhLHIpPT57dC5oYXMoYSl8fChlLnJlbGVhc2VEaXNwbGF5SWQoYSkscyYmcy51bnNldEF0dHJpYnV0ZURhdGEoYSksdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5kZWxldGUocikpO30pKSx0aGlzLmV2ZW50cy5lbWl0KFwiY2hhbmdlZFwiKTt9c3dlZXBGZWF0dXJlU2V0cyh0KXt0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwLHRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5mb3JFYWNoKCgoZSxzKT0+e3QuaGFzKHMpfHx0aGlzLl9mZWF0dXJlU2V0c0J5SW5zdGFuY2UuZGVsZXRlKHMpO30pKTt9bG9va3VwT2JqZWN0SWQoZSxzKXtjb25zdCBhPXRoaXMubG9va3VwRmVhdHVyZUJ5RGlzcGxheUlkKGUscyk7cmV0dXJuIHQkNyhhKT9udWxsOmEuZ2V0T2JqZWN0SWQoKX1sb29rdXBEaXNwbGF5SWQodCl7cmV0dXJuIHRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KHQpfWxvb2t1cEZlYXR1cmVCeURpc3BsYXlJZCh0LGUpe2NvbnN0IHM9ZS5nZXRJbnN0YW5jZUlkKHQpO3JldHVybiB0aGlzLl9sb29rdXBGZWF0dXJlKHMpfWxvb2t1cEJ5RGlzcGxheUlkVW5zYWZlKHQpe2NvbnN0IGU9dGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKHQpLHM9YyQ0KGUpLGE9SShlKSxyPXRoaXMuX2dldEZlYXR1cmVTZXQocyk7cmV0dXJuIHI/KHIuc2V0SW5kZXgoYSkscik6bnVsbH1faW5zZXJ0RmVhdHVyZSh0LGUpe2NvbnN0IHM9dGhpcy5fc3RvcmFnZSxhPXQuZ2V0T2JqZWN0SWQoKSxyPWgkNyh0Lmluc3RhbmNlLHQuZ2V0SW5kZXgoKSk7cy5nZXRJbnN0YW5jZUlkKHQuZ2V0RGlzcGxheUlkKCkpO2xldCBuPXRoaXMuX29iamVjdElkVG9EaXNwbGF5SWQuZ2V0KGEpO258fChuPXMuY3JlYXRlRGlzcGxheUlkKCksdGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5zZXQoYSxuKSx0aGlzLl9zcGF0aWFsSW5kZXhJbnZhbGlkPSEwKSx0LnNldERpc3BsYXlJZChuKSxzLnNldEluc3RhbmNlSWQobixyKSx0aGlzLnNldENvbXB1dGVkQXR0cmlidXRlcyhzLHQsbixlKTt9X3NlYXJjaEluZGV4KHQpe3RoaXMuX3JlYnVpbGRJbmRleCgpO2NvbnN0IGU9e21pblg6dFswXSxtaW5ZOnRbMV0sbWF4WDp0WzJdLG1heFk6dFszXX07cmV0dXJuIHRoaXMuX2luZGV4LnNlYXJjaChlKX1fcmVidWlsZEluZGV4KCl7aWYoIXRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQpcmV0dXJuO2NvbnN0IHQ9W107XCJzbmFwc2hvdFwiPT09dGhpcy5tb2RlP3RoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5mb3JFYWNoKChlPT57Y29uc3Qgcz1lLmdldEN1cnNvcigpO2Zvcig7cy5uZXh0KCk7KXtjb25zdCBlPXMuZ2V0RGlzcGxheUlkKCk7dGhpcy5fc3RvcmFnZS5zZXRCb3VuZHMoZSxzKSYmdC5wdXNoKGUpO319KSk6dGhpcy5fb2JqZWN0SWRUb0Rpc3BsYXlJZC5mb3JFYWNoKChlPT57Y29uc3Qgcz10aGlzLl9zdG9yYWdlLmdldEluc3RhbmNlSWQoZSk7dGhpcy5fc3RvcmFnZS5zZXRCb3VuZHMoZSx0aGlzLl9sb29rdXBGZWF0dXJlKHMpKSYmdC5wdXNoKGUpO30pKSx0aGlzLl9pbmRleC5jbGVhcigpLHRoaXMuX2luZGV4LmxvYWQodCksdGhpcy5faW5kZXhTZWFyY2hDYWNoZS5jbGVhcigpLHRoaXMuX3NwYXRpYWxJbmRleEludmFsaWQ9ITE7fV9sb29rdXBGZWF0dXJlKHQpe2NvbnN0IGU9YyQ0KHQpLHM9SSh0KSxhPXRoaXMuX2dldEZlYXR1cmVTZXQoZSk7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3Qgcj1hLmdldEN1cnNvcigpO3JldHVybiByLnNldEluZGV4KHMpLHJ9X2dldEZlYXR1cmVTZXQodCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVTZXRzQnlJbnN0YW5jZS5nZXQodCl9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubiQ5LmdldExvZ2dlcihcImVzcmkubGF5ZXJzLmdyYXBoaWNzLnNvdXJjZXMub2djZmVhdHVyZVwiKTtjb25zdCBoJDY9XCJqc29uXCI7ZnVuY3Rpb24gayQxKGUpe2NvbnN0IHQ9L15odHRwOlxcL1xcL3d3d1xcLm9wZW5naXNcXC5uZXRcXC9kZWZcXC9jcnNcXC8oLispXFwvKC4rKVxcLyguKykkL2kuZXhlYyhlKTtpZighdClyZXR1cm4gbnVsbDtjb25zdFssciwsaV09dDtzd2l0Y2goci50b0xvd2VyQ2FzZSgpKXtjYXNlXCJvZ2NcIjpzd2l0Y2goaS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJjcnMyN1wiOnJldHVybiBrJDUuR0NTX05BRF8xOTI3O2Nhc2VcImNyczgzXCI6cmV0dXJuIG5ldyBrJDUoe3draWQ6NDI2OX0pO2Nhc2VcImNyczg0XCI6Y2FzZVwiY3JzODRoXCI6cmV0dXJuIGskNS5XR1M4NDtkZWZhdWx0OnJldHVybiBudWxsfWNhc2VcImVzcmlcIjpjYXNlXCJlcHNnXCI6e2NvbnN0IGU9TnVtYmVyLnBhcnNlSW50KGksMTApO3JldHVybiBOdW1iZXIuaXNOYU4oZSk/bnVsbDo5MDA5MTM9PT1lP2skNS5XZWJNZXJjYXRvcjpuZXcgayQ1KHt3a2lkOmV9KX1kZWZhdWx0OnJldHVybiBudWxsfX1hc3luYyBmdW5jdGlvbiBEKHQscixpKXtjb25zdHtjYXBhYmlsaXRpZXM6e3F1ZXJ5OnttYXhSZWNvcmRDb3VudDpzfX0sY29sbGVjdGlvbklkOmQsbGF5ZXJEZWZpbml0aW9uOmYsc3BhdGlhbFJlZmVyZW5jZTp5LHN1cHBvcnRlZENyczpnLHVybDpifT10LHc9YCR7Yn0vY29sbGVjdGlvbnMvJHtkfS9pdGVtc2Ase2dlb21ldHJ5OkksbnVtOmosc3RhcnQ6VCx0aW1lRXh0ZW50OlMsd2hlcmU6eH09cjtpZihyLm9iamVjdElkcyl0aHJvdyBuZXcgcyQ0KFwib2djLWZlYXR1cmUtbGF5ZXI6cXVlcnktYnktb2JqZWN0aWRzLW5vdC1zdXBwb3J0ZWRcIixcIlF1ZXJpZXMgd2l0aCBvYmplY3RpZHMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7Y29uc3QgTj1rJDUuZnJvbUpTT04oeSksJD1jJDkoci5vdXRTcGF0aWFsUmVmZXJlbmNlLE4pLGs9JC5pc1dHUzg0P251bGw6TSQxKCQsZykscT1HKEksZyksTz12JDEoUyksRD1DJDIoeCksUj1udWxsIT1qP2o6bnVsbCE9VCYmdm9pZCAwIT09VD8xMDpzLHtkYXRhOld9PWF3YWl0IFUkMih3LHsuLi5pLHF1ZXJ5OnsuLi5xLGNyczprLGRhdGV0aW1lOk8scXVlcnk6RCxsaW1pdDpSLHN0YXJ0aW5kZXg6VCxmOmgkNn19KTtsZXQgWj0hMTtpZihXLmxpbmtzKXtaPSEhVy5saW5rcy5maW5kKChlPT5cIm5leHRcIj09PWUucmVsKSk7fSFaJiZOdW1iZXIuaXNJbnRlZ2VyKFcubnVtYmVyTWF0Y2hlZCkmJk51bWJlci5pc0ludGVnZXIoVy5udW1iZXJSZXR1cm5lZCkmJihaPVcubnVtYmVyUmV0dXJuZWQ8Vy5udW1iZXJNYXRjaGVkKTtjb25zdHtmaWVsZHM6TCxnbG9iYWxJZEZpZWxkOkosaGFzTTpFLGhhc1o6VSxvYmplY3RJZEZpZWxkOl99PWYsej1mLmdlb21ldHJ5VHlwZSxBPVQkMyhXLHtnZW9tZXRyeVR5cGU6eixoYXNaOlUsb2JqZWN0SWRGaWVsZE5hbWU6X30pO2lmKCFrJiYkLmlzV2ViTWVyY2F0b3IpZm9yKGNvbnN0IGUgb2YgQSlpZihlLmdlb21ldHJ5KXtjb25zdCB0PWVlKGUuZ2VvbWV0cnkseixVLCExKTt0LnNwYXRpYWxSZWZlcmVuY2U9ayQ1LldHUzg0LGUuZ2VvbWV0cnk9WChnJDUodCwkKSk7fWZvcihjb25zdCBlIG9mIEEpZS5vYmplY3RJZD1lLmF0dHJpYnV0ZXNbX107Y29uc3QgQj1rfHwhayYmJC5pc1dlYk1lcmNhdG9yPyQudG9KU09OKCk6SSQ0LFE9bmV3IGUkNztyZXR1cm4gUS5leGNlZWRlZFRyYW5zZmVyTGltaXQ9WixRLmZlYXR1cmVzPUEsUS5maWVsZHM9TCxRLmdlb21ldHJ5VHlwZT16LFEuZ2xvYmFsSWRGaWVsZE5hbWU9SixRLmhhc009RSxRLmhhc1o9VSxRLm9iamVjdElkRmllbGROYW1lPV8sUS5zcGF0aWFsUmVmZXJlbmNlPUIsUX1mdW5jdGlvbiBSJDIoZSl7cmV0dXJuIHIkOShlKSYmXCJleHRlbnRcIj09PWUudHlwZX1mdW5jdGlvbiBNJDEoZSx0KXtyZXR1cm4gdC5maW5kKCh0PT57Y29uc3Qgcj1rJDEodCk7cmV0dXJuIGQkYShyLGUpfSkpfWZ1bmN0aW9uIFcoZSl7Y29uc3R7eG1pbjp0LHltaW46cix4bWF4OmkseW1heDpufT1lO3JldHVybiBgJHt0fSwke3J9LCR7aX0sJHtufWB9ZnVuY3Rpb24gdiQxKGUpe2lmKHQkNyhlKSlyZXR1cm4gbnVsbDtjb25zdHtzdGFydDpyLGVuZDppfT1lO3JldHVybiBgJHtyP3IudG9JU09TdHJpbmcoKTpcIi4uXCJ9LyR7aT9pLnRvSVNPU3RyaW5nKCk6XCIuLlwifWB9ZnVuY3Rpb24gQyQyKGUpe3JldHVybiB0JDcoZSl8fCFlfHxcIjE9MVwiPT09ZT9udWxsOmV9ZnVuY3Rpb24gRyhlLHQpe2lmKCFSJDIoZSkpcmV0dXJuIG51bGw7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTpyfT1lO2lmKCFyfHxyLmlzV0dTODQpcmV0dXJuIHtiYm94OlcoZSl9O2NvbnN0IGk9TSQxKHIsdCk7cmV0dXJuIGk/e2Jib3g6VyhlKSxcImJib3gtY3JzXCI6aX06ci5pc1dlYk1lcmNhdG9yP3tiYm94OlcoZyQ1KGUsayQ1LldHUzg0KSl9Om51bGx9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCByPTI2ODQzNTQ1NTtjbGFzcyBuJDJ7Y29uc3RydWN0b3IoKXt0aGlzLmZpZWxkTWFwPW5ldyBNYXAsdGhpcy5maWVsZHM9W10sdGhpcy5oYXNGZWF0dXJlcz0hMSx0aGlzLmZpZWxkQ291bnQ9MCx0aGlzLmZlYXR1cmVDb3VudD0wLHRoaXMub2JqZWN0SWRGaWVsZEluZGV4PTAsdGhpcy5vZmZzZXRzPXthdHRyaWJ1dGVzOm5ldyBBcnJheSxnZW9tZXRyeTpuZXcgQXJyYXl9LHRoaXMuY2VudHJvaWQ9bmV3IEFycmF5O31oYXNGaWVsZChlKXtyZXR1cm4gdGhpcy5maWVsZE1hcC5oYXMoZSl9aXNEYXRlRmllbGQoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXRoaXMuZmllbGRNYXAuZ2V0KGUpKT92b2lkIDA6dC5pc0RhdGV9Z2V0RmllbGRJbmRleChlKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9dGhpcy5maWVsZE1hcC5nZXQoZSkpP3ZvaWQgMDp0LmluZGV4fX1mdW5jdGlvbiBhJDQoZSl7Y29uc3QgdD0xLHI9MixuPWUuZ2V0TGVuZ3RoKCksYT1lLnBvcygpK24saT17bmFtZTpcIlwiLGlzRGF0ZTohMX07Zm9yKDtlLnBvcygpPGEmJmUubmV4dCgpOylzd2l0Y2goZS50YWcoKSl7Y2FzZSB0OmkubmFtZT1lLmdldFN0cmluZygpO2JyZWFrO2Nhc2UgcjpcImVzcmlGaWVsZFR5cGVEYXRlXCI9PT1nJDYoZS5nZXRFbnVtKCkpJiYoaS5pc0RhdGU9ITApO2JyZWFrO2RlZmF1bHQ6ZS5za2lwKCk7fXJldHVybiBpfWZ1bmN0aW9uIGkkMShlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpLnRyaW0oKX1mdW5jdGlvbiBvJDIocyxvLGM9ITEpe2NvbnN0IGY9MSxkPTMsbD05LHU9MTIsZz0xMyxwPTE1LGg9cy5wb3MoKSxtPW5ldyBuJDI7bGV0IGI9MCx3PTA7Y29uc3Qgaz0xLHk9MixJPTQseD0zO2xldCBGPW51bGwsTD1udWxsLEE9bnVsbCxTPSExO2Zvcig7cy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIGY6Rj1zLmdldFN0cmluZygpO2JyZWFrO2Nhc2UgZDpMPXMuZ2V0U3RyaW5nKCk7YnJlYWs7Y2FzZSB1OkE9cy5wcm9jZXNzTWVzc2FnZShJJDUpO2JyZWFrO2Nhc2UgbDppZihtLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdD1zLmdldEJvb2woKSxtLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCl7bS5vZmZzZXRzLmdlb21ldHJ5PWM/bmV3IEZsb2F0NjRBcnJheSg4ZTMpOm5ldyBJbnQzMkFycmF5KDhlMyksbS5jZW50cm9pZD1jP25ldyBGbG9hdDY0QXJyYXkoMTZlMyk6bmV3IEludDMyQXJyYXkoMTZlMyk7Zm9yKGxldCBlPTA7ZTxtLmNlbnRyb2lkLmxlbmd0aDtlKyspbS5jZW50cm9pZFtlXT1yO31icmVhaztjYXNlIGc6e2NvbnN0IGU9YSQ0KHMpLHQ9ZS5uYW1lLHI9aSQxKGUubmFtZSksbj17ZmllbGROYW1lOnQsaW5kZXg6YisrLGlzRGF0ZTplLmlzRGF0ZX07bS5maWVsZHMucHVzaChuKSxtLmZpZWxkTWFwLnNldChlLm5hbWUsbiksbS5maWVsZE1hcC5zZXQocixuKTticmVha31jYXNlIHA6e2NvbnN0IGU9cy5nZXRMZW5ndGgoKSx0PXMucG9zKCkrZTtpZighbS5leGNlZWRlZFRyYW5zZmVyTGltaXQpe2NvbnN0IGU9bS5vZmZzZXRzLmdlb21ldHJ5LHQ9bS5jZW50cm9pZDtlLnB1c2goMCksdC5wdXNoKHIpLHQucHVzaChyKTt9IVMmJm0uZXhjZWVkZWRUcmFuc2ZlckxpbWl0JiYoUz0hMCxtLm9mZnNldHMuYXR0cmlidXRlcz1jP25ldyBGbG9hdDY0QXJyYXkoOGUzKmIpOm5ldyBVaW50MzJBcnJheSg4ZTMqYikpO2xldCBuPXcqYjtmb3IoO3MucG9zKCk8dCYmcy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIGs6e2lmKFMpbS5vZmZzZXRzLmF0dHJpYnV0ZXNbbisrXT1zLnBvcygpO2Vsc2Uge20ub2Zmc2V0cy5hdHRyaWJ1dGVzLnB1c2gocy5wb3MoKSk7fWNvbnN0IGU9cy5nZXRMZW5ndGgoKTtzLnNraXBMZW4oZSk7YnJlYWt9Y2FzZSB5OmlmKG8pe2NvbnN0IGU9cy5nZXRMZW5ndGgoKSx0PXMucG9zKCkrZTtmb3IoO3MucG9zKCk8dCYmcy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIHg6e3MuZ2V0VUludDMyKCk7Y29uc3QgZT1zLmdldFNJbnQ2NCgpLHQ9cy5nZXRTSW50NjQoKTttLmNlbnRyb2lkWzIqd109ZSxtLmNlbnRyb2lkWzIqdysxXT10O2JyZWFrfWRlZmF1bHQ6cy5za2lwKCk7fX1lbHNlIHttLm9mZnNldHMuZ2VvbWV0cnlbd109cy5wb3MoKTtjb25zdCBlPXMuZ2V0TGVuZ3RoKCk7cy5za2lwTGVuKGUpO31icmVhaztjYXNlIEk6e2NvbnN0IGU9cy5nZXRMZW5ndGgoKSx0PXMucG9zKCkrZTtmb3IoO3MucG9zKCk8dCYmcy5uZXh0KCk7KXN3aXRjaChzLnRhZygpKXtjYXNlIHg6e3MuZ2V0VUludDMyKCk7Y29uc3QgZT1zLmdldFNJbnQ2NCgpLHQ9cy5nZXRTSW50NjQoKTttLmNlbnRyb2lkWzIqd109ZSxtLmNlbnRyb2lkWzIqdysxXT10O2JyZWFrfWRlZmF1bHQ6cy5za2lwKCk7fWJyZWFrfWRlZmF1bHQ6cy5za2lwKCk7fXcrKyxtLmhhc0ZlYXR1cmVzPSEwO2JyZWFrfWRlZmF1bHQ6cy5za2lwKCk7fWNvbnN0IE09Rnx8TDtpZighTSl0aHJvdyBuZXcgcyQ0KFwiRmVhdHVyZVNldCBoYXMgbm8gb2JqZWN0SWQgb3IgZ2xvYmFsSWQgZmllbGQgbmFtZVwiKTtyZXR1cm4gbS5mZWF0dXJlQ291bnQ9dyxtLmZpZWxkQ291bnQ9YixtLm9iamVjdElkRmllbGRJbmRleD1tLmdldEZpZWxkSW5kZXgoTSksbS50cmFuc2Zvcm09QSxtLmRpc3BsYXlJZHM9bmV3IFVpbnQzMkFycmF5KG0uZmVhdHVyZUNvdW50KSxtLmdyb3VwSWRzPW5ldyBVaW50MTZBcnJheShtLmZlYXR1cmVDb3VudCkscy5tb3ZlKGgpLG19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBjJDM9biQ5LmdldExvZ2dlcihcImVzcmkudmlldy4yZC5sYXllcnMuZmVhdHVyZXMuc3VwcG9ydC5GZWF0dXJlU2V0UmVhZGVyUEJGXCIpLF8kMj0yNjg0MzU0NTU7ZnVuY3Rpb24gZyQyKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCkudHJpbSgpfWZ1bmN0aW9uIGwkNChlKXt0cnl7Y29uc3QgdD0yLHI9bmV3IG4kYShuZXcgVWludDhBcnJheShlKSxuZXcgRGF0YVZpZXcoZSkpO2Zvcig7ci5uZXh0KCk7KXN3aXRjaChyLnRhZygpKXtjYXNlIHQ6cmV0dXJuIGYkMihyLmdldE1lc3NhZ2UoKSk7ZGVmYXVsdDpyLnNraXAoKTt9fWNhdGNoKHQpe2NvbnN0IGU9bmV3IHMkNChcInF1ZXJ5OnBhcnNpbmctcGJmXCIsXCJFcnJvciB3aGlsZSBwYXJzaW5nIEZlYXR1cmVTZXQgUEJGIHBheWxvYWRcIix7ZXJyb3I6dH0pO2MkMy5lcnJvcihlKTt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZiQyKGUpe2NvbnN0IHQ9MTtmb3IoO2UubmV4dCgpOylzd2l0Y2goZS50YWcoKSl7Y2FzZSB0OnJldHVybiBlLmdldE1lc3NhZ2UoKTtkZWZhdWx0OmUuc2tpcCgpO31yZXR1cm4gbnVsbH1mdW5jdGlvbiB5JDQoZSl7Y29uc3QgdD0xLHI9MixzPTMsaT00LGE9NSxuPTYsaD03LG89OCxkPTksdT1lLmdldExlbmd0aCgpLGM9ZS5wb3MoKSt1O2Zvcig7ZS5wb3MoKTxjJiZlLm5leHQoKTspc3dpdGNoKGUudGFnKCkpe2Nhc2UgdDp7Y29uc3QgdD1lLmdldFN0cmluZygpO3JldHVybiBcIlwiPT09dD9udWxsOnR9Y2FzZSByOnJldHVybiBlLmdldEZsb2F0KCk7Y2FzZSBzOnJldHVybiBlLmdldERvdWJsZSgpO2Nhc2UgaTpyZXR1cm4gZS5nZXRTSW50MzIoKTtjYXNlIGE6cmV0dXJuIGUuZ2V0VUludDMyKCk7Y2FzZSBuOnJldHVybiBlLmdldEludDY0KCk7Y2FzZSBoOnJldHVybiBlLmdldFVJbnQ2NCgpO2Nhc2UgbzpyZXR1cm4gZS5nZXRTSW50NjQoKTtjYXNlIGQ6cmV0dXJuIGUuZ2V0Qm9vbCgpO2RlZmF1bHQ6cmV0dXJuIGUuc2tpcCgpLG51bGx9cmV0dXJuIG51bGx9Y2xhc3MgbSQ1IGV4dGVuZHMgZCQ4e2NvbnN0cnVjdG9yKGUsdCxyLHMpe3N1cGVyKGUpLHRoaXMuX2hhc05leHQ9ITEsdGhpcy5faXNQb2ludHM9ITEsdGhpcy5faXNQb2x5Z29ucz0hMSx0aGlzLl9mZWF0dXJlSW5kZXg9LTEsdGhpcy5fZmVhdHVyZU9mZnNldD0wLHRoaXMuX2NhY2hlPXthcmVhOjAsdW5xdWFudEdlb21ldHJ5OnZvaWQgMCxnZW9tZXRyeTp2b2lkIDAsY2VudHJvaWQ6dm9pZCAwLGxlZ2FjeUZlYXR1cmU6dm9pZCAwLG9wdEZlYXR1cmU6dm9pZCAwfSx0aGlzLl9nZW9tZXRyeVR5cGU9cyx0aGlzLl9yZWFkZXI9dCx0aGlzLl9oZWFkZXI9cix0aGlzLl9oYXNOZXh0PXIuaGFzRmVhdHVyZXMsdGhpcy5faXNQb2ludHM9XCJlc3JpR2VvbWV0cnlQb2ludFwiPT09cyx0aGlzLl9pc1BvbHlnb25zPVwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09czt9c3RhdGljIGZyb21CdWZmZXIoZSx0LHI9ITEpe2NvbnN0IHM9bCQ0KGUpLGk9byQyKHMsXCJlc3JpR2VvbWV0cnlQb2ludFwiPT09dCxyKSxhPWQkOC5jcmVhdGVJbnN0YW5jZSgpO3JldHVybiBuZXcgbSQ1KGEscyxpLHQpfWdldCBnZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnlUeXBlfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5mZWF0dXJlQ291bnR9Z2V0IGhhc1ooKXtyZXR1cm4gITF9Z2V0IGhhc00oKXtyZXR1cm4gITF9Z2V0IHN0cmlkZSgpe3JldHVybiAyKyh0aGlzLmhhc1o/MTowKSsodGhpcy5oYXNNPzE6MCl9Z2V0IGhhc0ZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5oYXNGZWF0dXJlc31nZXQgaGFzTmV4dCgpe3JldHVybiB0aGlzLl9oYXNOZXh0fWdldCBleGNlZWRlZFRyYW5zZmVyTGltaXQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdH1nZXRBcHByb3hpbWF0ZVNpemUoKXtpZih0aGlzLl9oYXNGaWx0ZXIpe2NvbnN0IGU9TWF0aC5hYnModGhpcy5feG1heC10aGlzLl94bWluKSpNYXRoLmFicyh0aGlzLl95bWF4LXRoaXMuX3ltaW4pLHQ9dGhpcy5zaXplKmUvMjYyMTQ0O3JldHVybiBNYXRoLm1heChNYXRoLnJvdW5kKHQpLDApfXJldHVybiB0aGlzLnNpemV9Z2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX2hlYWRlci50cmFuc2Zvcm19Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldEluZGV4KCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVJbmRleH1zZXRJbmRleChlKXt0aGlzLl9jYWNoZS5hcmVhPTAsdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5nZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuY2VudHJvaWQ9dm9pZCAwLHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dm9pZCAwLHRoaXMuX2NhY2hlLm9wdEZlYXR1cmU9dm9pZCAwLHRoaXMuX2ZlYXR1cmVJbmRleD1lO31nZXRBdHRyaWJ1dGVIYXNoKCl7bGV0IGU9XCJcIjtyZXR1cm4gdGhpcy5faGVhZGVyLmZpZWxkcy5mb3JFYWNoKCgoe2luZGV4OnR9KT0+e2UrPXRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHQpK1wiLlwiO30pKSxlfWdldE9iamVjdElkKCl7cmV0dXJuIHRoaXMuX3JlYWRBdHRyaWJ1dGVBdEluZGV4KHRoaXMuX2hlYWRlci5vYmplY3RJZEZpZWxkSW5kZXgpfWdldERpc3BsYXlJZCgpe3JldHVybiB0aGlzLl9oZWFkZXIuZGlzcGxheUlkc1t0aGlzLl9mZWF0dXJlSW5kZXhdfXNldERpc3BsYXlJZChlKXt0aGlzLl9oZWFkZXIuZGlzcGxheUlkc1t0aGlzLl9mZWF0dXJlSW5kZXhdPWU7fWdldEdyb3VwSWQoKXtyZXR1cm4gdGhpcy5faGVhZGVyLmdyb3VwSWRzW3RoaXMuX2ZlYXR1cmVJbmRleF19c2V0R3JvdXBJZChlKXt0aGlzLl9oZWFkZXIuZ3JvdXBJZHNbdGhpcy5fZmVhdHVyZUluZGV4XT1lO31yZWFkTGVnYWN5RmVhdHVyZSgpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmUpe3ZhciBlO2NvbnN0IHQ9dGhpcy5yZWFkQ2VudHJvaWQoKSxyPXthdHRyaWJ1dGVzOnRoaXMucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTp0aGlzLl9pc1BvaW50cz90aGlzLnJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCk6dGhpcy5yZWFkTGVnYWN5R2VvbWV0cnkoKSxjZW50cm9pZDpudWxsIT0oZT10JiZ7eDp0LmNvb3Jkc1swXSx5OnQuY29vcmRzWzFdfSk/ZTpudWxsfTtyZXR1cm4gdGhpcy5fY2FjaGUubGVnYWN5RmVhdHVyZT1yLHJ9cmV0dXJuIHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmV9cmVhZE9wdGltaXplZEZlYXR1cmUoKXtpZih2b2lkIDA9PT10aGlzLl9jYWNoZS5vcHRGZWF0dXJlKXtjb25zdCBlPW5ldyB0JDkodGhpcy5yZWFkR2VvbWV0cnkoKSx0aGlzLnJlYWRBdHRyaWJ1dGVzKCksdGhpcy5yZWFkQ2VudHJvaWQoKSk7cmV0dXJuIGUub2JqZWN0SWQ9dGhpcy5nZXRPYmplY3RJZCgpLGUuZGlzcGxheUlkPXRoaXMuZ2V0RGlzcGxheUlkKCksdGhpcy5fY2FjaGUub3B0RmVhdHVyZT1lLGV9cmV0dXJuIHRoaXMuX2NhY2hlLm9wdEZlYXR1cmV9Z2V0WEh5ZHJhdGUoKXtjb25zdCB0PXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0scj10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiB0JDcocik/dDp0KnIuc2NhbGVbMF0rci50cmFuc2xhdGVbMF19Z2V0WUh5ZHJhdGUoKXtjb25zdCB0PXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleCsxXSxyPXRoaXMuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7cmV0dXJuIHQkNyhyKT90OnIudHJhbnNsYXRlWzFdLXQqci5zY2FsZVsxXX1nZXRYKCl7cmV0dXJuIHRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0qdGhpcy5fc3grdGhpcy5fdHh9Z2V0WSgpe3JldHVybiB0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV0qdGhpcy5fc3krdGhpcy5fdHl9cmVhZExlZ2FjeVBvaW50R2VvbWV0cnkoKXtyZXR1cm4ge3g6dGhpcy5nZXRYKCkseTp0aGlzLmdldFkoKX19cmVhZExlZ2FjeUdlb21ldHJ5KCl7Y29uc3QgZT10aGlzLnJlYWRHZW9tZXRyeSgpO3JldHVybiBlZShlLHRoaXMuZ2VvbWV0cnlUeXBlLCExLCExKX1yZWFkTGVnYWN5Q2VudHJvaWQoKXtjb25zdCBlPXRoaXMucmVhZENlbnRyb2lkKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3RbdCxyXT1lLmNvb3JkcztyZXR1cm4ge3g6dCx5OnJ9fXJlYWRHZW9tZXRyeUFyZWEoKXtyZXR1cm4gdGhpcy5fY2FjaGUuYXJlYXx8dGhpcy5yZWFkR2VvbWV0cnkoKSx0aGlzLl9jYWNoZS5hcmVhfXJlYWRVbnF1YW50aXplZEdlb21ldHJ5KCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5KXtjb25zdCBlPXRoaXMucmVhZEdlb21ldHJ5KCk7aWYoIWUpcmV0dXJuIHRoaXMuX2NhY2hlLnVucXVhbnRHZW9tZXRyeT1udWxsLG51bGw7Y29uc3QgdD1lLmNsb25lKCkscj10Lmxlbmd0aHMscz10LmNvb3Jkcztmb3IobGV0IGk9MCxhPTI7aTxyLmxlbmd0aDtpKyssYSs9Mil7Y29uc3QgZT1yW2ldO2ZvcihsZXQgdD0xO3Q8ZTt0Kz0xLGErPTIpc1thXSs9c1thLTJdLHNbYSsxXSs9c1thLTFdO31yZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXQsdH1yZXR1cm4gdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5fXJlYWRIeWRyYXRlZEdlb21ldHJ5KCl7aWYodGhpcy5faXNQb2ludHMpe2NvbnN0IGU9dGhpcy5nZXRYSHlkcmF0ZSgpLHQ9dGhpcy5nZXRZSHlkcmF0ZSgpO3JldHVybiBuZXcgdCRhKFtdLFtlLHRdKX1jb25zdCBlPXRoaXMucmVhZEdlb21ldHJ5KCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgcj1lLmNsb25lKCkscz10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiByJDkocykmJmFlKHIscix0aGlzLmhhc1osdGhpcy5oYXNNLHMpLHJ9cmVhZEdlb21ldHJ5KCl7aWYodm9pZCAwPT09dGhpcy5fY2FjaGUuZ2VvbWV0cnkpe2xldCB0PW51bGw7aWYodGhpcy5faXNQb2ludHMpe2NvbnN0IGU9dGhpcy5nZXRYKCkscj10aGlzLmdldFkoKTt0PW5ldyB0JGEoW10sW2Uscl0pO31lbHNlIHtjb25zdCByPXRoaXMuX2hlYWRlci5vZmZzZXRzLmdlb21ldHJ5W3RoaXMuX2ZlYXR1cmVJbmRleF0scz10aGlzLl9yZWFkZXI7aWYoMD09PXIpcmV0dXJuIG51bGw7cy5tb3ZlKHIpO3RyeXt0PXRoaXMuX3BhcnNlR2VvbWV0cnkocyk7fWNhdGNoKGUpe3JldHVybiBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGdlb21ldHJ5IVwiLGUpLG51bGx9fXJldHVybiB0aGlzLl9jYWNoZS5nZW9tZXRyeT10LHR9cmV0dXJuIHRoaXMuX2NhY2hlLmdlb21ldHJ5fXJlYWRDZW50cm9pZCgpe2lmKHZvaWQgMD09PXRoaXMuX2NhY2hlLmNlbnRyb2lkKXtsZXQgZT1udWxsO2NvbnN0IHQ9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XSt0aGlzLl90eCxyPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleCsxXSt0aGlzLl90eTtyZXR1cm4gdD09PV8kMj8oZT10aGlzLl9jb21wdXRlQ2VudHJvaWQoKSxlJiYodGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4XT1lLmNvb3Jkc1swXS10aGlzLl90eCx0aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV09ZS5jb29yZHNbMV0tdGhpcy5fdHkpKTplPW5ldyB0JGEoW10sW3Qscl0pLHRoaXMuX2NhY2hlLmNlbnRyb2lkPWUsZX1yZXR1cm4gdGhpcy5fY2FjaGUuY2VudHJvaWR9Y29weSgpe2NvbnN0IGU9dGhpcy5fcmVhZGVyLmNsb25lKCksdD1uZXcgbSQ1KHRoaXMuaW5zdGFuY2UsZSx0aGlzLl9oZWFkZXIsdGhpcy5nZW9tZXRyeVR5cGUpO3JldHVybiB0aGlzLmNvcHlJbnRvKHQpLHR9bmV4dCgpe2Zvcih0aGlzLl9jYWNoZS5hcmVhPTAsdGhpcy5fY2FjaGUudW5xdWFudEdlb21ldHJ5PXZvaWQgMCx0aGlzLl9jYWNoZS5nZW9tZXRyeT12b2lkIDAsdGhpcy5fY2FjaGUuY2VudHJvaWQ9dm9pZCAwLHRoaXMuX2NhY2hlLmxlZ2FjeUZlYXR1cmU9dm9pZCAwLHRoaXMuX2NhY2hlLm9wdEZlYXR1cmU9dm9pZCAwOysrdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuc2l6ZSYmIXRoaXMuX3Bhc3Nlc0ZpbHRlcigpJiYhdGhpcy5fZ2V0RXhpc3RzKCk7KTtyZXR1cm4gdGhpcy5fZmVhdHVyZUluZGV4PHRoaXMuc2l6ZX1fcmVhZEF0dHJpYnV0ZShlLHQpe2NvbnN0IHI9dGhpcy5faGVhZGVyLmhhc0ZpZWxkKGUpP2U6ZyQyKGUpLHM9dGhpcy5faGVhZGVyLmdldEZpZWxkSW5kZXgocik7aWYobnVsbD09cylyZXR1cm47Y29uc3QgaT10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleChzKTtpZighdClyZXR1cm4gaTtpZihudWxsPT1pKXJldHVybiBpO3JldHVybiB0aGlzLl9oZWFkZXIuaXNEYXRlRmllbGQocik/bmV3IERhdGUoaSk6aX1fcmVhZEF0dHJpYnV0ZXMoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLl9oZWFkZXIuZmllbGRzLmZvckVhY2goKCh7ZmllbGROYW1lOnQsaW5kZXg6cn0pPT57ZVt0XT10aGlzLl9yZWFkQXR0cmlidXRlQXRJbmRleChyKTt9KSksZX1jb3B5SW50byhlKXtzdXBlci5jb3B5SW50byhlKSxlLl9mZWF0dXJlSW5kZXg9dGhpcy5fZmVhdHVyZUluZGV4LGUuX2ZlYXR1cmVPZmZzZXQ9dGhpcy5fZmVhdHVyZU9mZnNldCxlLl9oYXNOZXh0PXRoaXMuX2hhc05leHQ7fV9wYXNzZXNGaWx0ZXIoKXtpZighdGhpcy5faGFzRmlsdGVyKXJldHVybiAhMDtsZXQgZT10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXhdLHQ9dGhpcy5faGVhZGVyLmNlbnRyb2lkWzIqdGhpcy5fZmVhdHVyZUluZGV4KzFdO2lmKGU9PT1fJDIpe2lmKHRoaXMuX2lzUG9seWdvbnMmJiF0aGlzLnJlYWRDZW50cm9pZCgpKXJldHVybiAhMTtlPXRoaXMuX2hlYWRlci5jZW50cm9pZFsyKnRoaXMuX2ZlYXR1cmVJbmRleF0sdD10aGlzLl9oZWFkZXIuY2VudHJvaWRbMip0aGlzLl9mZWF0dXJlSW5kZXgrMV07fXJldHVybiBlPj10aGlzLl94bWluJiZlPD10aGlzLl94bWF4JiZ0Pj10aGlzLl95bWluJiZ0PD10aGlzLl95bWF4fV9yZWFkQXR0cmlidXRlQXRJbmRleChlKXtjb25zdCB0PXRoaXMuX2hlYWRlci5vZmZzZXRzLmF0dHJpYnV0ZXNbdGhpcy5fZmVhdHVyZUluZGV4KnRoaXMuX2hlYWRlci5maWVsZENvdW50K2VdLHI9dGhpcy5fcmVhZGVyO3JldHVybiByLm1vdmUodCkseSQ0KHIpfV9wcmVwcm9jZXNzUG9seWdvbihlLHQpe2xldCByPTAscz0wLGk9MCxuPSExLGg9ITEsbz0hMSxkPS0xO2NvbnN0IHU9MWU2LGM9W107bGV0IF89MCxnPSExO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7YSsrKXtjb25zdCBsPXRbYV07bGV0IGY9ZVsyKnJdLHk9ZVsyKnIrMV0sbT0wO2ZvcihsZXQgdD0xO3Q8bDt0Kyspe2NvbnN0IHM9ZixpPXksYT1mK2VbMioocit0KV0sbj15K2VbMioocit0KSsxXTtmPWEseT1uLG0rPS41KigoYS1zKSoobitpKSk7fWNvbnN0IHA9bT4wO2lmKHAmJmcmJihzKz1sKSxwfHwoZCsrLGc9ITEpLGQ+PXUpYnJlYWs7Xys9bSxuJiZwJiZoJiYobz0hMCk7e2VbMippXT1lWzIqc10sZVsyKmkrKysxXT1lWzIqcysrKzFdO2xldCB0PTEscj1lWzIqc10sYT1lWzIqcysrKzFdO2ZvcihsZXQgbj0yO248bDtuKyspe2NvbnN0IG49ZVsyKnNdLGg9ZVsyKnMrKysxXTswPT09cipoLW4qYSYmcipuK2EqaD4wPyhyKz1uLGErPWgpOihlWzIqaV09cixlWzIqaSsrKzFdPWEsdCsrLHI9bixhPWgpO31lWzIqaV09cixlWzIqaSsrKzFdPWEsdCsrLGMucHVzaCh0KTt9bj0hMSxoPSEwLHIrPWw7fXJldHVybiBjLmxlbmd0aD8odGhpcy5fY2FjaGUuYXJlYT1NYXRoLmFicyhfKSxuZXcgdCRhKGMsZSxvKSk6bnVsbH1fcGFyc2VHZW9tZXRyeShlKXtjb25zdCB0PTEscj0yLHM9MyxpPWUuZ2V0TGVuZ3RoKCksbj1lLnBvcygpK2ksaD1bXSxvPVtdO2Zvcig7ZS5wb3MoKTxuJiZlLm5leHQoKTspc3dpdGNoKGUudGFnKCkpe2Nhc2Ugcjp7Y29uc3QgdD1lLmdldFVJbnQzMigpLHI9ZS5wb3MoKSt0O2Zvcig7ZS5wb3MoKTxyOylvLnB1c2goZS5nZXRVSW50MzIoKSk7YnJlYWt9Y2FzZSBzOntjb25zdCB0PWUuZ2V0VUludDMyKCkscj1lLnBvcygpK3Q7Zm9yKDtlLnBvcygpPHI7KWgucHVzaChlLmdldFNJbnQzMigpKSxoLnB1c2goZS5nZXRTSW50MzIoKSksdGhpcy5oYXNaJiZlLmdldFNJbnQzMigpLHRoaXMuaGFzTSYmZS5nZXRTSW50MzIoKTticmVha31jYXNlIHQ6ZGVmYXVsdDplLnNraXAoKTt9bGV0IGQ9MDtmb3IoY29uc3QgYSBvZiBvKWhbMipkXSs9dGhpcy5fdHgsaFsyKmQrMV0rPXRoaXMuX3R5LGQrPWE7cmV0dXJuIHRoaXMuX2lzUG9seWdvbnM/dGhpcy5fcHJlcHJvY2Vzc1BvbHlnb24oaCxvKTpuZXcgdCRhKG8saCl9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgbCQze2NvbnN0cnVjdG9yKGUpe3RoaXMuc2VydmljZT1lO31kZXN0cm95KCl7fX1mdW5jdGlvbiBtJDQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zb3VyY2UpfWZ1bmN0aW9uIHAkNShlKXtyZXR1cm4gZSYmZS5jYXBhYmlsaXRpZXMmJmUuY29sbGVjdGlvbklkJiZlLmxheWVyRGVmaW5pdGlvbiYmZS51cmx9ZnVuY3Rpb24geSQzKHQpe2NvbnN0e2NhcGFiaWxpdGllczpyfT10O3JldHVybiBwJDUodC5zb3VyY2UpP25ldyB2KHQpOm0kNCh0KT9uZXcgZiQxKHQpOnIucXVlcnkuc3VwcG9ydHNGb3JtYXRQQkYmJnQkNihcImZlYXR1cmVsYXllci1wYmZcIik/bmV3IGQkMyh0KTpuZXcgaCQ1KHQpfWNsYXNzIGYkMSBleHRlbmRzIGwkM3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9wb3J0c09wZW49ZiQ1KGUuc291cmNlKS50aGVuKChlPT50aGlzLmNsaWVudD1lKSk7fWRlc3Ryb3koKXt0aGlzLmNsaWVudC5jbG9zZSgpLHRoaXMuY2xpZW50PW51bGw7fWFzeW5jIGV4ZWN1dGVRdWVyeShlLHQpe2F3YWl0IHRoaXMuX3BvcnRzT3Blbjtjb25zdCByPWF3YWl0IHRoaXMuY2xpZW50Lmludm9rZShcInF1ZXJ5RmVhdHVyZXNcIixlLnRvSlNPTigpLHQpO3JldHVybiBjJDYuZnJvbUZlYXR1cmVTZXQocix0aGlzLnNlcnZpY2Uub2JqZWN0SWRGaWVsZCl9fWNsYXNzIGQkMyBleHRlbmRzIGwkM3thc3luYyBleGVjdXRlUXVlcnkoZSx0KXtjb25zdHtkYXRhOnJ9PWF3YWl0IGQkYih0aGlzLnNlcnZpY2Uuc291cmNlLGUsey4uLnQscXVlcnk6ey4uLnRoaXMuc2VydmljZS5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PXQ/dm9pZCAwOnQucXVlcnl9fSkscz0hZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzO3JldHVybiBtJDUuZnJvbUJ1ZmZlcihyLHRoaXMuc2VydmljZS5nZW9tZXRyeVR5cGUscyl9fWNsYXNzIGgkNSBleHRlbmRzIGwkM3thc3luYyBleGVjdXRlUXVlcnkoZSxpKXtjb25zdHtzb3VyY2U6YSxjYXBhYmlsaXRpZXM6YyxzcGF0aWFsUmVmZXJlbmNlOnUsb2JqZWN0SWRGaWVsZDpsfT10aGlzLnNlcnZpY2U7aWYoZS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzJiYhYy5xdWVyeS5zdXBwb3J0c1F1YW50aXphdGlvbil7Y29uc3QgdD1lLmNsb25lKCk7dC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGw7Y29uc3R7ZGF0YTpjfT1hd2FpdCB5JDcoYSx0LHUsey4uLmkscXVlcnk6ey4uLnRoaXMuc2VydmljZS5jdXN0b21QYXJhbWV0ZXJzLC4uLm51bGw9PWk/dm9pZCAwOmkucXVlcnl9fSksbT1vZShjLGwpO3JldHVybiBzZShpLnRyYW5zZm9ybSxtKSxjJDYuZnJvbU9wdGltaXplZEZlYXR1cmVTZXQobSl9Y29uc3R7ZGF0YTptfT1hd2FpdCB5JDcoYSxlLHRoaXMuc2VydmljZS5zcGF0aWFsUmVmZXJlbmNlLHsuLi5pLHF1ZXJ5OnsuLi5lJDUodGhpcy5zZXJ2aWNlLmN1c3RvbVBhcmFtZXRlcnMpLC4uLm51bGw9PWk/dm9pZCAwOmkucXVlcnl9fSk7cmV0dXJuIGMkNi5mcm9tRmVhdHVyZVNldChtLHRoaXMuc2VydmljZS5vYmplY3RJZEZpZWxkKX19Y2xhc3MgdiBleHRlbmRzIGwkM3thc3luYyBleGVjdXRlUXVlcnkoZSx0KXtjb25zdHtjYXBhYmlsaXRpZXM6cn09dGhpcy5zZXJ2aWNlO2lmKGUucXVhbnRpemF0aW9uUGFyYW1ldGVycyYmIXIucXVlcnkuc3VwcG9ydHNRdWFudGl6YXRpb24pe2UuY2xvbmUoKS5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGw7Y29uc3Qgcj1hd2FpdCBEKHRoaXMuc2VydmljZS5zb3VyY2UsZSx0KTtyZXR1cm4gc2UodC50cmFuc2Zvcm0sciksYyQ2LmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHIpfWNvbnN0IGk9YXdhaXQgRCh0aGlzLnNlcnZpY2Uuc291cmNlLGUsdCk7cmV0dXJuIGMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZVNldChpKX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgdSQzPWNsYXNzIGV4dGVuZHMgdSQ5e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX3F1ZXVlPVtdLHRoaXMuX29uR29pbmdSZXF1ZXN0PW51bGwsdGhpcy5fYWJvcnRDb250cm9sbGVyPWgkZSgpO31kZXN0cm95KCl7dGhpcy5jbGVhcigpO31nZXQgdXBkYXRpbmcoKXtyZXR1cm4gIXRoaXMuZGVzdHJveWVkJiYodGhpcy5fcXVldWUubGVuZ3RoPjB8fG51bGwhPXRoaXMuX29uR29pbmdSZXF1ZXN0KX1jbGVhcigpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcImluc3RhbmNlIGlzIGFscmVhZHkgZGVzdHJveWVkXCIpO2xldCBlPXRoaXMuX3F1ZXVlLnBvcCgpO2Zvcig7ZTspZS5yZXNvbHZlci5yZWplY3QobSQ4KCkpLGU9dGhpcy5fcXVldWUucG9wKCk7dGhpcy5fcXVldWUubGVuZ3RoPTAsdGhpcy5fYWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fYWJvcnRDb250cm9sbGVyPWgkZSgpO31hc3luYyBwdXNoKGUpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcImluc3RhbmNlIGlzIGFscmVhZHkgZGVzdHJveWVkXCIpO2NvbnN0IHQ9QiQxKCk7cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2goe2V2ZW50OmUscmVzb2x2ZXI6dH0pLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCk9Pnt0aGlzLl9wcm9jZXNzTmV4dCgpO30pKSx0LnByb21pc2V9YXN5bmMgX3Byb2Nlc3NOZXh0KCl7aWYodGhpcy5fb25Hb2luZ1JlcXVlc3QpcmV0dXJuO2NvbnN0IGU9W10sdD1uZXcgU2V0LHM9bmV3IFNldCxyPW5ldyBTZXQ7bGV0IG89dGhpcy5fcXVldWUuc2hpZnQoKTtmb3IoO287KXtjb25zdHtldmVudDp7YWRkZWRGZWF0dXJlczppLGRlbGV0ZWRGZWF0dXJlczpuLHVwZGF0ZWRGZWF0dXJlczp1fSxyZXNvbHZlcjphfT1vO2UucHVzaChhKTtmb3IoY29uc3R7b2JqZWN0SWQ6ZSxlcnJvcjpvfW9mIGkpb3x8KHQuYWRkKGUpLHMuYWRkKGUpLHIuZGVsZXRlKGUpKTtmb3IoY29uc3R7b2JqZWN0SWQ6ZSxlcnJvcjp0fW9mIHUpdHx8KHMuYWRkKGUpLHIuZGVsZXRlKGUpKTtmb3IoY29uc3R7b2JqZWN0SWQ6ZSxlcnJvcjpvfW9mIG4pb3x8KHQuaGFzKGUpP3QuZGVsZXRlKGUpOnIuYWRkKGUpLHMuZGVsZXRlKGUpKTtvPXRoaXMuX3F1ZXVlLnNoaWZ0KCk7fWlmKCFzLnNpemUmJiFyLnNpemUpcmV0dXJuIHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdm9pZCBlLmZvckVhY2goKGU9PmUoKSkpO2NvbnN0IGk9W10sbj1bXTtzLnNpemUmJnMuZm9yRWFjaCgoZT0+e2kucHVzaChlKTt9KSksci5zaXplJiZyLmZvckVhY2goKGU9PntuLnB1c2goZSk7fSkpLHRoaXMuX29uR29pbmdSZXF1ZXN0PVByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT50aGlzLnByb2Nlc3NFZGl0cyhpLG4se3NpZ25hbDp0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSkpKS5jYXRjaCgoKCk9Pnt9KSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxhd2FpdCB0aGlzLl9vbkdvaW5nUmVxdWVzdCx0aGlzLl9vbkdvaW5nUmVxdWVzdD1udWxsLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksZS5mb3JFYWNoKChlPT5lKCkpKSx0aGlzLl9xdWV1ZS5sZW5ndGg+MCYmdGhpcy5fcHJvY2Vzc05leHQoKTt9fTtlJDgoW3kkOCh7Y29uc3RydWN0T25seTohMH0pXSx1JDMucHJvdG90eXBlLFwicHJvY2Vzc0VkaXRzXCIsdm9pZCAwKSxlJDgoW3kkOCh7cmVhZE9ubHk6ITB9KV0sdSQzLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksdSQzPWUkOChbaSQ4KFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuY29udHJvbGxlcnMuRWRpdHNRdWV1ZVwiKV0sdSQzKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHQkMntjb25zdHJ1Y3RvcihzJDEpe3RoaXMucmVxdWVzdHM9e2RvbmU6bmV3IEFycmF5LHN0cmVhbTpuZXcgcygxMCl9LHRoaXMuX2Fib3J0Q29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuZGlkU2VuZD0hMSx0aGlzLnRpbGU9cyQxO31nZXQgaW52YWxpZCgpe3JldHVybiB0aGlzLl9pbnZhbGlkfWdldCBzaWduYWwoKXtyZXR1cm4gdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbH1nZXQgb3B0aW9ucygpe3JldHVybiB7c2lnbmFsOnRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWx9fXNlbnRFbmQoKXtyZXR1cm4gdGhpcy5yZXF1ZXN0cy5kb25lLnNvbWUoKGU9PmUubWVzc2FnZS5lbmQpKX1jbGVhcigpe3RoaXMucmVxdWVzdHMuZG9uZT1bXTt9YXBwbHlVcGRhdGUoZSl7dGhpcy5yZXF1ZXN0cy5kb25lLmZvckVhY2goKHM9PnMubWVzc2FnZS5zdGF0dXMudW5zZXQoZSkpKTt9aW52YWxpZGF0ZShlKXtzd2l0Y2goZSl7Y2FzZVwiZmllbGRzXCI6cmV0dXJuIHZvaWQoXCJub25lXCI9PT10aGlzLl9pbnZhbGlkJiYodGhpcy5faW52YWxpZD1cImZpZWxkc1wiKSk7Y2FzZVwiYWxsXCI6cmV0dXJuIHZvaWQodGhpcy5faW52YWxpZD1cImFsbFwiKX19ZG9uZSgpe3RoaXMuX2ludmFsaWQ9XCJub25lXCI7fWFkZChlKXt2YXIgdDtlLm1lc3NhZ2Uuc3RhdHVzPW51bGwhPSh0PWUubWVzc2FnZS5zdGF0dXMpP3Q6dCQ1LmVtcHR5KCksdGhpcy5yZXF1ZXN0cy5kb25lLnB1c2goZSksZS5tZXNzYWdlLmVuZCYmKHRoaXMucmVzb2x2ZWQ9ITApO31hYm9ydCgpe3RoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBsJDIoZSxzKXtjb25zdCB0PW5ldyBTZXQ7cmV0dXJuIGUmJmUuZm9yRWFjaCgoZT0+dC5hZGQoZSkpKSxzJiZzLmZvckVhY2goKGU9PnQuYWRkKGUpKSksdC5oYXMoXCIqXCIpP1tcIipcIl06QXJyYXkuZnJvbSh0KX1jbGFzcyBtJDN7Y29uc3RydWN0b3IoZSl7dGhpcy5ldmVudHM9bmV3IG4kOCx0aGlzLl9wZW5kaW5nRWRpdHM9bmV3IFNldCx0aGlzLl9yZXNvbHZlcj1CJDEoKSx0aGlzLl9lZGl0c1F1ZXVlPW5ldyB1JDMoe3Byb2Nlc3NFZGl0czooZSxzKT0+dGhpcy5fcHJvY2Vzc0VkaXQoZSxzKX0pLHRoaXMuX3N1YnNjcmlwdGlvbnM9bmV3IE1hcCx0aGlzLl9vdXRTUj1lLm91dFNSLHRoaXMuX3NlcnZpY2VJbmZvPWUuc2VydmljZUluZm8sdGhpcy5fb25UaWxlVXBkYXRlTWVzc2FnZT1lLm9uTWVzc2FnZTt9ZGVzdHJveSgpe3RoaXMuX2VkaXRzUXVldWUuY2xlYXIoKTt9YXN5bmMgX29uTWVzc2FnZShlKXt2YXIgcztjb25zdCB0PXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUuaWQpO2lmKCF0KXJldHVybjtjb25zdCBpPXsuLi5lLHJlbW92ZTpudWxsIT0ocz1lLnJlbW92ZSk/czpbXSxzdGF0dXM6ZS5zdGF0dXN9O3JldHVybiB0aGlzLl9vblRpbGVVcGRhdGVNZXNzYWdlKGksdC5vcHRpb25zKX11cGRhdGUocyx0KXt2YXIgaTtjb25zdCByPXQuZmllbGRzLmxlbmd0aDt0Lm91dEZpZWxkcz1sJDIobnVsbD09KGk9dGhpcy5fc2NoZW1hKT92b2lkIDA6aS5vdXRGaWVsZHMsdC5vdXRGaWVsZHMpLHQub3V0RmllbGRzPXQub3V0RmllbGRzLmxlbmd0aD49Ljc1KnI/W1wiKlwiXTp0Lm91dEZpZWxkcyx0Lm91dEZpZWxkcy5zb3J0KCk7Y29uc3QgaD1tJDkodGhpcy5fc2NoZW1hLHQpO2lmKCFoKXJldHVybjt0JDYoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIFNvdXJjZTpcIixoKTtjb25zdCBkPXtyZXR1cm5DZW50cm9pZDp0JDYoXCJlc3JpLTJkLXF1ZXJ5LWNlbnRyb2lkLWVuYWJsZWRcIikmJlwiZXNyaUdlb21ldHJ5UG9seWdvblwiPT09dGhpcy5fc2VydmljZUluZm8uZ2VvbWV0cnlUeXBlLHJldHVybkdlb21ldHJ5OiEwLG91dEZpZWxkczp0Lm91dEZpZWxkcyxvdXRTcGF0aWFsUmVmZXJlbmNlOnRoaXMuX291dFNSLG9yZGVyQnlGaWVsZHM6W2Ake3RoaXMuX3NlcnZpY2VJbmZvLm9iamVjdElkRmllbGR9IEFTQ2BdLHdoZXJlOnQuZGVmaW5pdGlvbkV4cHJlc3Npb258fFwiMT0xXCIsZ2RiVmVyc2lvbjp0LmdkYlZlcnNpb24saGlzdG9yaWNNb21lbnQ6dC5oaXN0b3JpY01vbWVudD9uZXcgRGF0ZSh0Lmhpc3RvcmljTW9tZW50KTpudWxsLHRpbWVFeHRlbnQ6ZCRjLmZyb21KU09OKHQudGltZUV4dGVudCl9LGM9dGhpcy5fc2NoZW1hJiZhJDgoaCxcIm91dEZpZWxkc1wiKTt0aGlzLl9zY2hlbWEmJnkkOShoLFtcInRpbWVFeHRlbnRcIixcImRlZmluaXRpb25FeHByZXNzaW9uXCIsXCJnZGJWZXJzaW9uXCIsXCJoaXN0b3JpY01vbWVudFwiXSkmJihzLndoeS5tZXNoLnB1c2goXCJMYXllciBmaWx0ZXIgY2hhbmdlZFwiKSxzLndoeS5zb3VyY2UucHVzaChcIkxheWVyIGZpbHRlciBjaGFuZ2VkXCIpLHMubWVzaD0hMCxzLnNvdXJjZT0hMCxzLnF1ZXJ5RmlsdGVyPSEwLHRoaXMuX2ludmFsaWRhdGUoXCJhbGxcIikpLGMmJihzLndoeS5zb3VyY2UucHVzaChcIkxheWVyIHJlcXVpcmVkIGZpZWxkcyBjaGFuZ2VkXCIpLHMuc291cmNlPSEwLHRoaXMuX2ludmFsaWRhdGUoXCJmaWVsZHNcIikpLG0kOShkLHRoaXMuX3F1ZXJ5SW5mbykmJih0aGlzLl9xdWVyeUluZm89ZCksdGhpcy5fc2NoZW1hPXQsdGhpcy5fcmVzb2x2ZXIucmVzb2x2ZSgpO313aGVuSW5pdGlhbGl6ZWQoKXtyZXR1cm4gdGhpcy5fcmVzb2x2ZXIucHJvbWlzZX1hc3luYyBhcHBseVVwZGF0ZShlKXtlLnF1ZXJ5RmlsdGVyP3RoaXMucmVmcmVzaCgpOih0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKHM9PnMuYXBwbHlVcGRhdGUoZSkpKSxhd2FpdCB0aGlzLnJlc2VuZCgpKTt9cmVmcmVzaCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3RpbGVzKCkpdGhpcy51bnN1YnNjcmliZShlKSx0aGlzLnN1YnNjcmliZShlKTt9X3RpbGVzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzPT5lLnB1c2gocy50aWxlKSkpLGV9cGF1c2UoKXt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9PmUuYWJvcnQoKSkpO31zdWJzY3JpYmUoZSl7Y29uc3Qgcz1uZXcgdCQyKGUpO3RoaXMuX3N1YnNjcmlwdGlvbnMuc2V0KGUuaWQscyk7fXVuc3Vic2NyaWJlKGUpe2NvbnN0IHQ9dGhpcy5nZXQoZS5pZCk7ciQ5KHQpJiZ0LmFib3J0KCksdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUoZS5pZCk7fWZvckVhY2hQZW5kaW5nRWRpdChlKXtBcnJheS5mcm9tKHRoaXMuX3N1YnNjcmlwdGlvbnMudmFsdWVzKCkpLnNvbWUoKGU9Plwibm9uZVwiIT09ZS5pbnZhbGlkKSk/dGhpcy5fcGVuZGluZ0VkaXRzLmZvckVhY2goZSk6dGhpcy5fcGVuZGluZ0VkaXRzLmNsZWFyKCk7fWFzeW5jIGVkaXQoZSl7cmV0dXJuIHRoaXMuX2VkaXRzUXVldWUucHVzaChlKX1jcmVhdGVRdWVyeShlPXt9KXtyZXR1cm4gbmV3IFIkNCh7Li4udGhpcy5fcXVlcnlJbmZvLC4uLmV9KX1nZXQoZSl7cmV0dXJuIHRoaXMuX3N1YnNjcmlwdGlvbnMuaGFzKGUpP3RoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUpOm51bGx9YXN5bmMgcXVlcnlMYXN0RWRpdERhdGUoKXt0aHJvdyBuZXcgRXJyb3IoXCJTZXJ2aWNlIGRvZXMgbm90IHN1cHBvcnQgcXVlcnkgdHlwZVwiKX1hc3luYyBxdWVyeShlLHMpe3Rocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgZG9lcyBub3Qgc3VwcG9ydCBxdWVyeVwiKX1faW52YWxpZGF0ZShlKXt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKHM9PnMuaW52YWxpZGF0ZShlKSkpO31hc3luYyBfcHJvY2Vzc0VkaXQoZSxzKXtzLmZvckVhY2goKGU9Pnt0aGlzLl9wZW5kaW5nRWRpdHMuaGFzKGUpJiZ0aGlzLl9wZW5kaW5nRWRpdHMuZGVsZXRlKGUpO30pKSxlLmZvckVhY2goKGU9PnRoaXMuX3BlbmRpbmdFZGl0cy5hZGQoZSkpKTtjb25zdCB0PUFycmF5LmZyb20odGhpcy5fc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSkubWFwKCgoe3RpbGU6ZX0pPT5lKSkubWFwKChzPT57Y29uc3QgdD10aGlzLmNyZWF0ZVRpbGVRdWVyeShzKTtyZXR1cm4gdC5vYmplY3RJZHM9ZSx7dGlsZTpzLHF1ZXJ5OnR9fSkpLm1hcCgoYXN5bmMoe3RpbGU6ZSxxdWVyeTpzfSk9Pih7dGlsZTplLHJlc3VsdDphd2FpdCB0aGlzLnF1ZXJ5KHMpfSkpKSxyPShhd2FpdCBzJDUodCkpLm1hcCgoYXN5bmMoe3RpbGU6dCxyZXN1bHQ6aX0pPT57aWYoIWkuaGFzRmVhdHVyZXMmJiFzLmxlbmd0aCYmIWUubGVuZ3RoKXJldHVybjtyZXR1cm4gdGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQodC5rZXkuaWQpP3RoaXMuX29uTWVzc2FnZSh7dHlwZTpcInVwZGF0ZVwiLGlkOnQua2V5LmlkLGFkZE9yVXBkYXRlOmkscmVtb3ZlOlsuLi5lLC4uLnNdLGVuZDohMCxzdGF0dXM6dCQ1LmVtcHR5KCl9KTp2b2lkIDB9KSk7YXdhaXQgUHJvbWlzZS5hbGwociksdGhpcy5faW52YWxpZGF0ZShcImFsbFwiKTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgeSQyPW4kOS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLjJkLmxheWVycy5mZWF0dXJlcy5zb3VyY2VzLkJhc2VGZWF0dXJlU291cmNlXCIpLGgkND00O2NsYXNzIG0kMiBleHRlbmRzIG0kM3tjb25zdHJ1Y3RvcihyKXtzdXBlcihyKSx0aGlzLnR5cGU9XCJmZWF0dXJlXCIsdGhpcy5tb2RlPVwib24tZGVtYW5kXCIsdGhpcy5fYWRhcHRlcj15JDMoci5zZXJ2aWNlSW5mbyksdGhpcy5fcXVldWU9bmV3IF8kNCh7Y29uY3VycmVuY3k6OCxwcm9jZXNzOmFzeW5jIHI9PntpZihhJDkociksciQ5KHIudGlsZSkpe2NvbnN0IHQ9ci50aWxlLmtleS5pZCx7dGlsZTpzLHNpZ25hbDppfT1yLG89e3F1ZXJ5OnQkNihcImVzcmktdGlsZXMtZGVidWdcIik/e3RpbGU6dC5yZXBsYWNlKC9cXC8vZyxcIi5cIiksZGVwdGg6ci5kZXB0aH06dm9pZCAwLHNpZ25hbDppLHRyYW5zZm9ybTpzLnRyYW5zZm9ybX07cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KHIucXVlcnksbyl9cmV0dXJuIHRoaXMuX2FkYXB0ZXIuZXhlY3V0ZVF1ZXJ5KHIucXVlcnkscil9fSksdGhpcy5fcGF0Y2hRdWV1ZT1uZXcgXyQ0KHtjb25jdXJyZW5jeTo4LHByb2Nlc3M6YXN5bmMgcj0+e2lmKGEkOShyKSxyJDkoci50aWxlKSl7Y29uc3QgdD1yLnRpbGUua2V5LmlkLHt0aWxlOnMsc2lnbmFsOml9PXIsbz17cXVlcnk6dCQ2KFwiZXNyaS10aWxlcy1kZWJ1Z1wiKT97dGlsZTp0LnJlcGxhY2UoL1xcLy9nLFwiLlwiKSxkZXB0aDpyLmRlcHRofTp2b2lkIDAsc2lnbmFsOmksdHJhbnNmb3JtOnMudHJhbnNmb3JtfTtyZXR1cm4gdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoci5xdWVyeSxvKX1yZXR1cm4gdGhpcy5fYWRhcHRlci5leGVjdXRlUXVlcnkoci5xdWVyeSxyKX19KTt9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9hZGFwdGVyLmRlc3Ryb3koKSx0aGlzLl9xdWV1ZS5kZXN0cm95KCksdGhpcy5fcGF0Y2hRdWV1ZS5kZXN0cm95KCk7fWdldCB1cGRhdGluZygpe3JldHVybiAhIXRoaXMuX3F1ZXVlLmxlbmd0aH1nZXQgbWF4UmVjb3JkQ291bnRGYWN0b3IoKXtjb25zdHtxdWVyeTplfT10aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXM7cmV0dXJuIGUuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3Rvcj9oJDQ6bnVsbH1nZXQgbWF4UGFnZVNpemUoKXt2YXIgZTtjb25zdHtxdWVyeTp0fT10aGlzLl9zZXJ2aWNlSW5mby5jYXBhYmlsaXRpZXM7cmV0dXJuIChudWxsIT0oZT10Lm1heFJlY29yZENvdW50KT9lOjhlMykqYyQ5KHRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3IsMSl9Z2V0IHBhZ2VTaXplKCl7cmV0dXJuIE1hdGgubWluKDhlMyx0aGlzLm1heFBhZ2VTaXplKX1lbmFibGVFdmVudChlLHQpe31zdWJzY3JpYmUoZSl7c3VwZXIuc3Vic2NyaWJlKGUpLHRoaXMuX2ZldGNoRGF0YVRpbGUoZSkuY2F0Y2goKHQ9PntnJDQodCl8fHkkMi5lcnJvcihuZXcgcyQ0KFwibWFwdmlldy1xdWVyeS1lcnJvclwiLFwiRW5jb3VudGVyZWQgZXJyb3Igd2hlbiBmZXRjaGluZyB0aWxlXCIse3RpbGU6ZSxlcnJvcjp0fSkpO30pKTt9dW5zdWJzY3JpYmUoZSl7c3VwZXIudW5zdWJzY3JpYmUoZSk7fXJlc3VtZSgpe3RoaXMuX3F1ZXVlLnJlc3VtZSgpO31mb3JFYWNoUmVxdWVzdChlLHQpe2NvbnN0IHI9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZSkse3JlcXVlc3RzOnMsc2lnbmFsOml9PXI7Zm9yKGNvbnN0IG8gb2Ygcy5kb25lKXQoby5tZXNzYWdlLHtzaWduYWw6aX0pO31hc3luYyBxdWVyeShlLHQpe3JldHVybiB0aGlzLl9hZGFwdGVyLmV4ZWN1dGVRdWVyeShlLHQpfWFzeW5jIHF1ZXJ5TGFzdEVkaXREYXRlKCl7Y29uc3QgZT10aGlzLl9zZXJ2aWNlSW5mby5zb3VyY2UsdD17Li4uZS5xdWVyeSxmOlwianNvblwifTtyZXR1cm4gKGF3YWl0IFUkMihlLnBhdGgse3F1ZXJ5OnQscmVzcG9uc2VUeXBlOlwianNvblwifSkpLmRhdGEuZWRpdGluZ0luZm8ubGFzdEVkaXREYXRlfWNyZWF0ZVRpbGVRdWVyeShlKXtjb25zdCB0PXRoaXMuY3JlYXRlUXVlcnkoKTtyZXR1cm4gdC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPWUuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpLHQucmVzdWx0VHlwZT1cInRpbGVcIix0Lmdlb21ldHJ5PWUuZXh0ZW50LFwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSYmKHQubWF4QWxsb3dhYmxlT2Zmc2V0PWUucmVzb2x1dGlvbiksdGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzUXVhbnRpemF0aW9ufHwodC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGwsdC5tYXhBbGxvd2FibGVPZmZzZXQ9ZS5yZXNvbHV0aW9uKSx0fV9jcmVhdGVRdWVyeShlLHQpe2NvbnN0IHI9bmV3IFIkNCh7Li4udGhpcy5fcXVlcnlJbmZvLC4uLnR9KTtyZXR1cm4gdGhpcy5fc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzUXVhbnRpemF0aW9ufHwodC5xdWFudGl6YXRpb25QYXJhbWV0ZXJzPW51bGwsci5tYXhBbGxvd2FibGVPZmZzZXQ9ZS5yZXNvbHV0aW9uKSx0LnF1YW50aXphdGlvblBhcmFtZXRlcnMmJlwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIj09PXRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSYmKHIubWF4QWxsb3dhYmxlT2Zmc2V0PWUucmVzb2x1dGlvbiksci5yZXN1bHRUeXBlPVwidGlsZVwiLHIuZ2VvbWV0cnk9ZS5leHRlbnQscn1hc3luYyBfZXhlY3V0ZVBhdGNoUXVlcnkoZSxyLHMsaSl7Y29uc3Qgbz1yLmNsb25lKCk7by5vdXRGaWVsZHM9W3RoaXMuX3NlcnZpY2VJbmZvLm9iamVjdElkRmllbGQsLi4uc10sby5yZXR1cm5DZW50cm9pZD0hMSxvLnJldHVybkdlb21ldHJ5PSExO2NvbnN0IGE9ciQ5KG8uc3RhcnQpP28uc3RhcnQvOGUzOjAsbj1pLnNpZ25hbDtyZXR1cm4gdGhpcy5fcGF0Y2hRdWV1ZS5wdXNoKHt0aWxlOmUscXVlcnk6byxzaWduYWw6bixkZXB0aDphfSl9YXN5bmMgX3Jlc2VuZChlLHIpe2NvbnN0e3F1ZXJ5OmksbWVzc2FnZTpvfT1lLG49ciQ5KGkub3V0RmllbGRzKT9pLm91dEZpZWxkczpbXSx1PXRoaXMuX3F1ZXJ5SW5mby5vdXRGaWVsZHMsYz11LmZpbHRlcigoZT0+LTE9PT1uLmluZGV4T2YoZSkpKTtpZighdCQ3KG8uYWRkT3JVcGRhdGUpKWlmKGMubGVuZ3RoKXRyeXtjb25zdCBlPXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KG8uaWQpLnRpbGUsdD1hd2FpdCB0aGlzLl9leGVjdXRlUGF0Y2hRdWVyeShlLGksYyxyKTthJDkociksaS5vdXRGaWVsZHM9dSxvLmFkZE9yVXBkYXRlLmpvaW5BdHRyaWJ1dGVzKHQpLHRoaXMuX29uTWVzc2FnZSh7Li4ubyxlbmQ6by5lbmQsdHlwZTpcImFwcGVuZFwifSk7fWNhdGNoKGwpe31lbHNlIHRoaXMuX29uTWVzc2FnZSh7Li4ubyxlbmQ6by5lbmQsdHlwZTpcImFwcGVuZFwifSk7fWFzeW5jIHJlc2VuZCgpe2xldCBlPTAsdD0hMTtjb25zdCByPVtdO2Zvcih0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9PntlLnJlcXVlc3RzLmRvbmUubGVuZ3RofHx0aGlzLl9vbk1lc3NhZ2Uoe2lkOmUudGlsZS5pZCxhZGRPclVwZGF0ZTpudWxsLGVuZDohMSx0eXBlOlwiYXBwZW5kXCJ9KTt9KSk7IXQ7KXQ9ITAsdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCgoe3JlcXVlc3RzOnMsc2lnbmFsOml9KT0+e3MuZG9uZS5sZW5ndGg+ZSYmKHQ9ITEsci5wdXNoKHRoaXMuX3Jlc2VuZChzLmRvbmVbZV0se3NpZ25hbDppfSkpKTt9KSksZSsrO2F3YWl0IFByb21pc2UuYWxsKHIpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBpPXQkNihcImVzcmktbW9iaWxlXCIpLGEkMz17bWF4RHJpbGxMZXZlbDppPzE6NCxtYXhSZWNvcmRDb3VudEZhY3RvcjppPzE6M307Y2xhc3MgbyQxIGV4dGVuZHMgbSQye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpO31hc3luYyBfZmV0Y2hEYXRhVGlsZShlKXtjb25zdCBzPXRoaXMuX3NlcnZpY2VJbmZvLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c01heFJlY29yZENvdW50RmFjdG9yLGk9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZS5rZXkuaWQpLG89aS5zaWduYWwsbj1lLmdldFF1YW50aXphdGlvblBhcmFtZXRlcnMoKTtsZXQgYz0wO2NvbnN0IGQ9YXN5bmModSxwKT0+e2NvbnN0IGw9dGhpcy5fcXVlcnlJbmZvLG09dGhpcy5fY3JlYXRlUXVlcnkodSx7bWF4UmVjb3JkQ291bnRGYWN0b3I6cz9hJDMubWF4UmVjb3JkQ291bnRGYWN0b3I6dm9pZCAwLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMSxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOm59KTtjKys7dHJ5e2NvbnN0IHI9YXdhaXQgdGhpcy5fcXVldWUucHVzaCh7dGlsZTplLHF1ZXJ5Om0sc2lnbmFsOm8sZGVwdGg6cH0pO2lmKGMtLSxhJDkobyksIXIpcmV0dXJuO2lmKGwhPT10aGlzLl9xdWVyeUluZm8pcmV0dXJuIHZvaWQgZCh1LHApO2lmKHIuZXhjZWVkZWRUcmFuc2ZlckxpbWl0JiZwPGEkMy5tYXhEcmlsbExldmVsKXtmb3IoY29uc3QgZSBvZiB1LmNyZWF0ZUNoaWxkVGlsZXMoKSlkKGUscCsxKTtyZXR1cm59Y29uc3Qgcz17aWQ6ZS5pZCxhZGRPclVwZGF0ZTpyLGVuZDowPT09Yyx0eXBlOlwiYXBwZW5kXCJ9O2kuYWRkKHtxdWVyeTptLG1lc3NhZ2U6c30pLHRoaXMuX29uTWVzc2FnZShzKTt9Y2F0Y2goaCl7ZyQ0KGgpfHx0aGlzLl9vbk1lc3NhZ2Uoe2lkOmUuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ITAsdHlwZTpcImFwcGVuZFwifSk7fX07ZChlLDApO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBvPVwiX19lc3JpX3N0cmVhbV9pZF9fXCIsZCQyPVwiX19lc3JpX3RpbWVzdGFtcF9fXCIsYSQyPTFlMztjbGFzcyBoJDN7Y29uc3RydWN0b3IodCxlLHMsaSxyPTEyOCl7dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zPW5ldyBNYXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fbGFzdFB1cmdlPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuX2FkZE9yVXBkYXRlZD1uZXcgTWFwLHRoaXMuX3JlbW92ZWQ9W10sdGhpcy5fbWF4QWdlPTAsdGhpcy5fdGltZUluZm89cyx0aGlzLl9wdXJnZU9wdGlvbnM9aSx0aGlzLnN0b3JlPXQsdGhpcy5vYmplY3RJZEZpZWxkPWUsdGhpcy5wdXJnZUludGVydmFsPXIsdGhpcy5fdXNlR2VuZXJhdGVkSWRzPXRoaXMub2JqZWN0SWRGaWVsZD09PW87fWFkZChzJDEpe2lmKHRoaXMuX3VzZUdlbmVyYXRlZElkcyl7Y29uc3QgdD10aGlzLl9uZXh0SWQoKTtzJDEuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdPXQscyQxLm9iamVjdElkPXQ7fWVsc2UgcyQxLm9iamVjdElkPXMkMS5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF07aWYodGhpcy5fYWRkT3JVcGRhdGVkLnNldChzJDEub2JqZWN0SWQscyQxKSx0aGlzLl9tYXhBZ2U9TWF0aC5tYXgodGhpcy5fbWF4QWdlLHMkMS5hdHRyaWJ1dGVzW3RoaXMuX3RpbWVJbmZvLnN0YXJ0VGltZUZpZWxkXSksIXRoaXMuX3RpbWVJbmZvLnRyYWNrSWRGaWVsZClyZXR1cm4gdCQ3KHRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zKSYmKHRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zPW5ldyBzKDFlNSkpLHZvaWQgdGhpcy5fdHJhY2tJZExlc3NPYnNlcnZhdGlvbnMuZW5xdWV1ZShzJDEub2JqZWN0SWQpO2NvbnN0IG89cyQxLmF0dHJpYnV0ZXNbdGhpcy5fdGltZUluZm8udHJhY2tJZEZpZWxkXTtpZighdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmhhcyhvKSl7Y29uc3QgdD1yJDkodGhpcy5fcHVyZ2VPcHRpb25zKSYmbnVsbCE9dGhpcy5fcHVyZ2VPcHRpb25zLm1heE9ic2VydmF0aW9ucz90aGlzLl9wdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zOmEkMixzJDE9ZSQ2KHQsMCxhJDIpO3RoaXMuX3RyYWNrSWRUb09ic2VydmF0aW9ucy5zZXQobyxuZXcgcyhzJDEpKTt9Y29uc3QgZD10aGlzLl90cmFja0lkVG9PYnNlcnZhdGlvbnMuZ2V0KG8pLmVucXVldWUocyQxLm9iamVjdElkKTtyJDkoZCkmJih0aGlzLl9hZGRPclVwZGF0ZWQuaGFzKGQpP3RoaXMuX2FkZE9yVXBkYXRlZC5kZWxldGUoZCk6dGhpcy5fcmVtb3ZlZC5wdXNoKGQpKTt9Y2hlY2tGb3JVcGRhdGVzKCl7Y29uc3QgdD10aGlzLl9nZXRUb0FkZCgpLHM9dGhpcy5fZ2V0VG9SZW1vdmUoKSxpPXBlcmZvcm1hbmNlLm5vdygpO2ktdGhpcy5fbGFzdFB1cmdlPj10aGlzLnB1cmdlSW50ZXJ2YWwmJih0aGlzLl9wdXJnZShpKSx0aGlzLl9sYXN0UHVyZ2U9aSk7Y29uc3Qgcj1bXTtpZihyJDkocykpZm9yKGNvbnN0IG8gb2Ygcyl7Y29uc3QgdD10aGlzLnN0b3JlLnJlbW92ZUJ5SWQobyk7ciQ5KHQpJiZyLnB1c2godCk7fWlmKHIkOSh0KSlmb3IoY29uc3QgZSBvZiB0KWUuYXR0cmlidXRlc1tkJDJdPWksdGhpcy5zdG9yZS5hZGQoZSk7KHR8fHIpJiZ0aGlzLnN0b3JlLnVwZGF0ZSh0LHIpO31fZ2V0VG9BZGQoKXtpZighdGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpcmV0dXJuIG51bGw7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fYWRkT3JVcGRhdGVkLnNpemUpO2xldCBlPTA7cmV0dXJuIHRoaXMuX2FkZE9yVXBkYXRlZC5mb3JFYWNoKChzPT50W2UrK109cykpLHRoaXMuX2FkZE9yVXBkYXRlZC5jbGVhcigpLHR9X2dldFRvUmVtb3ZlKCl7Y29uc3QgdD10aGlzLl9yZW1vdmVkO3JldHVybiB0aGlzLl9yZW1vdmVkLmxlbmd0aD8odGhpcy5fcmVtb3ZlZD1bXSx0KTpudWxsfV9uZXh0SWQoKXtjb25zdCB0PXRoaXMuX2lkQ291bnRlcjtyZXR1cm4gdGhpcy5faWRDb3VudGVyPSh0aGlzLl9pZENvdW50ZXIrMSklNDI5NDk2NzI5NCsxLHR9X3B1cmdlKHQpe2NvbnN0IHM9dGhpcy5fcHVyZ2VPcHRpb25zO3IkOShzKSYmKHRoaXMuX3B1cmdlU29tZUJ5RGlzcGxheUNvdW50KHMpLHRoaXMuX3B1cmdlQnlBZ2UocyksdGhpcy5fcHVyZ2VCeUFnZVJlY2VpdmVkKHQscyksdGhpcy5fcHVyZ2VUcmFja3MoKSk7fV9wdXJnZVNvbWVCeURpc3BsYXlDb3VudCh0KXtpZighdC5kaXNwbGF5Q291bnQpcmV0dXJuO2xldCBpPXRoaXMuc3RvcmUuc2l6ZTtpZihpPnQuZGlzcGxheUNvdW50KXtpZih0aGlzLl90aW1lSW5mby50cmFja0lkRmllbGQpZm9yKGNvbnN0IGUgb2YgdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLnZhbHVlcygpKWlmKGk+dC5kaXNwbGF5Q291bnQmJmUuc2l6ZSl7Y29uc3QgdD1lJDUoZS5kZXF1ZXVlKCkpO3RoaXMuX3JlbW92ZWQucHVzaCh0KSxpLS07fWlmKHIkOSh0aGlzLl90cmFja0lkTGVzc09ic2VydmF0aW9ucykpe2xldCBzPWktdC5kaXNwbGF5Q291bnQ7Zm9yKDtzLS0gPjA7KXtjb25zdCB0PXRoaXMuX3RyYWNrSWRMZXNzT2JzZXJ2YXRpb25zLmRlcXVldWUoKTtyJDkodCkmJnRoaXMuX3JlbW92ZWQucHVzaCh0KTt9fX19X3B1cmdlQnlBZ2UodCl7dmFyIGU7aWYoIXQuYWdlfHxudWxsPT0oZT10aGlzLl90aW1lSW5mbyl8fCFlLnN0YXJ0VGltZUZpZWxkKXJldHVybjtjb25zdCBzPTYwKnQuYWdlKjFlMyxpPXRoaXMuX21heEFnZS1zO3RoaXMuc3RvcmUuZm9yRWFjaCgodD0+e3QuYXR0cmlidXRlc1t0aGlzLl90aW1lSW5mby5zdGFydFRpbWVGaWVsZF08aSYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQub2JqZWN0SWQpO30pKTt9X3B1cmdlQnlBZ2VSZWNlaXZlZCh0LGUpe2lmKCFlLmFnZVJlY2VpdmVkKXJldHVybjtjb25zdCBzPXQrNjAqZS5hZ2VSZWNlaXZlZCoxZTM7dGhpcy5zdG9yZS5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzW2QkMl08cyYmdGhpcy5fcmVtb3ZlZC5wdXNoKHQub2JqZWN0SWQpO30pKTt9X3B1cmdlVHJhY2tzKCl7dGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmZvckVhY2goKCh0LGUpPT57MD09PXQuc2l6ZSYmdGhpcy5fdHJhY2tJZFRvT2JzZXJ2YXRpb25zLmRlbGV0ZShlKTt9KSk7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCB0JDE9Y2xhc3MgZXh0ZW5kcyhuJDguRXZlbnRlZE1peGluKGQkZCkpe29uRmVhdHVyZShyKXt0aGlzLmVtaXQoXCJmZWF0dXJlXCIscik7fX07dCQxPWUkOChbaSQ4KFwiZXNyaS5sYXllcnMuZ3JhcGhpY3Muc291cmNlcy5jb25uZWN0aW9ucy5TdHJlYW1Db25uZWN0aW9uXCIpXSx0JDEpO3ZhciBjJDI9dCQxO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgcCQ0PW4kOS5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5zb3VyY2VzLmNvbm5lY3Rpb25zLldlYlNvY2tldENvbm5lY3Rpb25cIik7dmFyIGgkMjshZnVuY3Rpb24oZSl7ZVtlLkNPTk5FQ1RJTkc9MF09XCJDT05ORUNUSU5HXCIsZVtlLk9QRU49MV09XCJPUEVOXCIsZVtlLkNMT1NJTkc9Ml09XCJDTE9TSU5HXCIsZVtlLkNMT1NFRD0zXT1cIkNMT1NFRFwiO30oaCQyfHwoaCQyPXt9KSk7bGV0IHUkMj1jbGFzcyBleHRlbmRzIGMkMntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuZXJyb3JTdHJpbmc9bnVsbDtjb25zdHtnZW9tZXRyeVR5cGU6dCxzcGF0aWFsUmVmZXJlbmNlOm8sc291cmNlU3BhdGlhbFJlZmVyZW5jZTpyfT1lO3RoaXMuX2NvbmZpZz1lLHRoaXMuX2ZlYXR1cmVaU2NhbGVyPXQkYih0LHIsbyksdGhpcy5fb3BlbigpO31hc3luYyBfb3Blbigpe2F3YWl0IHRoaXMuX3RyeUNyZWF0ZVdlYlNvY2tldCgpLHRoaXMuZGVzdHJveWVkfHxhd2FpdCB0aGlzLl9oYW5kc2hha2UoKTt9ZGVzdHJveSgpe3IkOSh0aGlzLl93ZWJzb2NrZXQpJiYodGhpcy5fd2Vic29ja2V0Lm9ub3Blbj1udWxsLHRoaXMuX3dlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy5fd2Vic29ja2V0Lm9uZXJyb3I9bnVsbCx0aGlzLl93ZWJzb2NrZXQub25tZXNzYWdlPW51bGwsdGhpcy5fd2Vic29ja2V0LmNsb3NlKCkpLHRoaXMuX3dlYnNvY2tldD1udWxsO31nZXQgY29ubmVjdGlvblN0YXR1cygpe2lmKHQkNyh0aGlzLl93ZWJzb2NrZXQpKXJldHVybiBcImRpc2Nvbm5lY3RlZFwiO3N3aXRjaCh0aGlzLl93ZWJzb2NrZXQucmVhZHlTdGF0ZSl7Y2FzZSBoJDIuQ09OTkVDVElORzpjYXNlIGgkMi5PUEVOOnJldHVybiBcImNvbm5lY3RlZFwiO2Nhc2UgaCQyLkNMT1NJTkc6Y2FzZSBoJDIuQ0xPU0VEOnJldHVybiBcImRpc2Nvbm5lY3RlZFwifX1hc3luYyBfdHJ5Q3JlYXRlV2ViU29ja2V0KGU9dGhpcy5fY29uZmlnLnNvdXJjZS5wYXRoLHQ9MWUzLG89MCl7dHJ5e2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjt0aGlzLl93ZWJzb2NrZXQ9YXdhaXQgdGhpcy5fY3JlYXRlV2ViU29ja2V0KGUpLHRoaXMubm90aWZ5Q2hhbmdlKFwiY29ubmVjdGlvblN0YXR1c1wiKTt9Y2F0Y2gocil7Y29uc3Qgcz10LzFlMztyZXR1cm4gdGhpcy5fY29uZmlnLm1heFJlY29ubmVjdGlvbkF0dGVtcHRzJiZvPj10aGlzLl9jb25maWcubWF4UmVjb25uZWN0aW9uQXR0ZW1wdHM/KHAkNC5lcnJvcihuZXcgcyQ0KFwid2Vic29ja2V0LWNvbm5lY3Rpb25cIixcIkV4Y2VlZGVkIG1heFJlY29ubmVjdGlvbkF0dGVtcHRzIGF0dGVtcHRzLiBObyBmdXJ0aGVyIGF0dGVtcHRzIHdpbGwgYmUgbWFkZVwiKSksdm9pZCB0aGlzLmRlc3Ryb3koKSk6KHAkNC5lcnJvcihuZXcgcyQ0KFwid2Vic29ja2V0LWNvbm5lY3Rpb25cIixgRmFpbGVkIHRvIGNvbm5lY3QuIEF0dGVtcHRpbmcgdG8gcmVjb25uZWN0IGluICR7c31zYCxyKSksYXdhaXQgQyQ0KHQpLHRoaXMuX3RyeUNyZWF0ZVdlYlNvY2tldChlLE1hdGgubWluKDEuNSp0LDFlMyp0aGlzLl9jb25maWcubWF4UmVjb25uZWN0aW9uSW50ZXJ2YWwpLG8rMSkpfX1fY3JlYXRlV2ViU29ja2V0KGUpe2NvbnN0IHQ9bmV3IFdlYlNvY2tldChlKSxvPW5ldyBQcm9taXNlKCgoZSxvKT0+e3Qub25vcGVuPSgpPT5lKHQpLHQub25jbG9zZT1lPT5vKGUpO30pKTtyZXR1cm4gby50aGVuKCgoKT0+e2lmKHRoaXMuZGVzdHJveWVkKXJldHVybiB0Lm9uY2xvc2U9KCk9Pnt9LHZvaWQgdC5jbG9zZSgpO3Qub25jbG9zZT1lPT50aGlzLl9vbkNsb3NlKGUpLHQub25lcnJvcj1lPT50aGlzLl9vbkVycm9yKGUpLHQub25tZXNzYWdlPWU9PnRoaXMuX29uTWVzc2FnZShlKTt9KSksb31hc3luYyBfaGFuZHNoYWtlKGU9MWU0KXtjb25zdCB0PXRoaXMuX3dlYnNvY2tldDtpZih0JDcodCkpcmV0dXJuO2NvbnN0IHI9QiQxKCkscz10Lm9ubWVzc2FnZSx7ZmlsdGVyOm4sb3V0RmllbGRzOmksc3BhdGlhbFJlZmVyZW5jZTpsfT10aGlzLl9jb25maWc7cmV0dXJuIHIudGltZW91dChlKSx0Lm9ubWVzc2FnZT1lPT57dmFyIG87bGV0IGE9bnVsbDt0cnl7YT1KU09OLnBhcnNlKGUuZGF0YSk7fWNhdGNoKGQpe31hJiZcIm9iamVjdFwiPT10eXBlb2YgYXx8KHAkNC5lcnJvcihuZXcgcyQ0KFwid2Vic29ja2V0LWNvbm5lY3Rpb25cIixcIlByb3RvY29sIHZpb2xhdGlvbi4gSGFuZHNoYWtlIGZhaWxlZCAtIG1hbGZvcm1lZCBtZXNzYWdlXCIsZS5kYXRhKSksci5yZWplY3QoKSx0aGlzLmRlc3Ryb3koKSksKG51bGw9PShvPWEuc3BhdGlhbFJlZmVyZW5jZSk/dm9pZCAwOm8ud2tpZCkhPT0obnVsbD09bD92b2lkIDA6bC53a2lkKSYmKHAkNC5lcnJvcihuZXcgcyQ0KFwid2Vic29ja2V0LWNvbm5lY3Rpb25cIixgUHJvdG9jb2wgdmlvbGF0aW9uLiBIYW5kc2hha2UgZmFpbGVkIC0gZXhwZWN0ZWQgd2tpZCBvZiAke2wud2tpZH1gLGUuZGF0YSkpLHIucmVqZWN0KCksdGhpcy5kZXN0cm95KCkpLFwianNvblwiIT09YS5mb3JtYXQmJihwJDQuZXJyb3IobmV3IHMkNChcIndlYnNvY2tldC1jb25uZWN0aW9uXCIsXCJQcm90b2NvbCB2aW9sYXRpb24uIEhhbmRzaGFrZSBmYWlsZWQgLSBmb3JtYXQgaXMgbm90IHNldFwiLGUuZGF0YSkpLHIucmVqZWN0KCksdGhpcy5kZXN0cm95KCkpLG4mJmEuZmlsdGVyIT09biYmcCQ0LmVycm9yKG5ldyBzJDQoXCJ3ZWJzb2NrZXQtY29ubmVjdGlvblwiLFwiVHJpZWQgdG8gc2V0IGZpbHRlciwgYnV0IHNlcnZlciBkb2Vzbid0IHN1cHBvcnQgaXRcIikpLGkmJmEub3V0RmllbGRzIT09aSYmcCQ0LmVycm9yKG5ldyBzJDQoXCJ3ZWJzb2NrZXQtY29ubmVjdGlvblwiLFwiVHJpZWQgdG8gc2V0IG91dEZpZWxkcywgYnV0IHNlcnZlciBkb2Vzbid0IHN1cHBvcnQgaXRcIikpLHQub25tZXNzYWdlPXMsci5yZXNvbHZlKCk7fSx0LnNlbmQoSlNPTi5zdHJpbmdpZnkoe2ZpbHRlcjpuLG91dEZpZWxkczppLGZvcm1hdDpcImpzb25cIixzcGF0aWFsUmVmZXJlbmNlOnt3a2lkOmwud2tpZH19KSksci5wcm9taXNlfV9vbk1lc3NhZ2UoZSl7dHJ5e2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO2lmKFwiZmVhdHVyZVJlc3VsdFwiIT09dC50eXBlKXRocm93IG5ldyBzJDQoXCJ3ZWJzb2NrZXQtY29ubmVjdGlvblwiLFwiUHJvdG9jb2wgdmlvbGF0aW9uIC0gRXhwZWN0ZWQgdG8gZmluZCBtZXNzYWdlIG9mIHR5cGUgJ2ZlYXR1cmVSZXN1bHQnXCIsdCk7Zm9yKGNvbnN0IGUgb2YgdC5mZWF0dXJlcyl0aGlzLl9mZWF0dXJlWlNjYWxlciYmdGhpcy5fZmVhdHVyZVpTY2FsZXIoZS5nZW9tZXRyeSksdGhpcy5vbkZlYXR1cmUoZSk7fWNhdGNoKHQpe3JldHVybiBwJDQuZXJyb3IobmV3IHMkNChcIndlYnNvY2tldC1jb25uZWN0aW9uXCIsXCJGYWlsZWQgdG8gcGFyc2UgbWVzc2FnZVwiLHQpKSx2b2lkIHRoaXMuZGVzdHJveSgpfX1fb25FcnJvcihlKXtjb25zdCB0PVwiRW5jb3VudGVyZWQgYW4gZXJyb3Igb3ZlciBXZWJTb2NrZXQgY29ubmVjdGlvblwiO3RoaXMuX3NldChcImVycm9yU3RyaW5nXCIsdCkscCQ0LmVycm9yKFwid2Vic29ja2V0LWNvbm5lY3Rpb25cIix0KTt9X29uQ2xvc2UoZSl7dGhpcy5fd2Vic29ja2V0PW51bGwsdGhpcy5ub3RpZnlDaGFuZ2UoXCJjb25uZWN0aW9uU3RhdHVzXCIpLDFlMyE9PWUuY29kZSYmcCQ0LmVycm9yKFwid2Vic29ja2V0LWNvbm5lY3Rpb25cIixgV2ViU29ja2V0IGNsb3NlZCB1bmV4cGVjdGVkbHkgd2l0aCBlcnJvciBjb2RlICR7ZS5jb2RlfWApLHRoaXMuZGVzdHJveWVkfHx0aGlzLl9vcGVuKCk7fX07ZSQ4KFt5JDgoKV0sdSQyLnByb3RvdHlwZSxcImNvbm5lY3Rpb25TdGF0dXNcIixudWxsKSxlJDgoW3kkOCgpXSx1JDIucHJvdG90eXBlLFwiZXJyb3JTdHJpbmdcIix2b2lkIDApLHUkMj1lJDgoW2kkOChcImVzcmkubGF5ZXJzLmdyYXBoaWNzLnNvdXJjZXMuY29ubmVjdGlvbnMuV2ViU29ja2V0Q29ubmVjdGlvblwiKV0sdSQyKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHAkMz1uJDkuZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMuZ3JhcGhpY3Muc291cmNlcy5jb25uZWN0aW9ucy5HZW9FdmVudENvbm5lY3Rpb25cIiksbSQxPTFlNCxnJDE9e21heFF1ZXJ5RGVwdGg6NSxtYXhSZWNvcmRDb3VudEZhY3RvcjozfTtsZXQgXyQxPWNsYXNzIGV4dGVuZHMgdSQye2NvbnN0cnVjdG9yKGUpe3N1cGVyKHsuLi5nJDEsLi4uZX0pO31hc3luYyBfb3Blbigpe2NvbnN0IGU9YXdhaXQgdGhpcy5fZmV0Y2hTZXJ2aWNlRGVmaW5pdGlvbih0aGlzLl9jb25maWcuc291cmNlKTtlLnRpbWVJbmZvLnRyYWNrSWRGaWVsZHx8cCQzLndhcm4oXCJHZW9FdmVudCBzZXJ2aWNlIHdhcyBjb25maWd1cmVkIHdpdGhvdXQgYSBUcmFja0lkRmllbGQuIFRoaXMgbWF5IHJlc3VsdCBpbiBjZXJ0YWluIGZ1bmN0aW9uYWxpdHkgYmVpbmcgZGlzYWJsZWQuIFRoZSBwdXJnZU9wdGlvbnMubWF4T2JzZXJ2YXRpb25zIHByb3BlcnR5IHdpbGwgaGF2ZSBubyBlZmZlY3QuXCIpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hXZWJTb2NrZXRVcmwoZS5zdHJlYW1VcmxzLHRoaXMuX2NvbmZpZy5zcGF0aWFsUmVmZXJlbmNlKTt0aGlzLl9idWRkeVNlcnZpY2VzUXVlcnl8fCh0aGlzLl9idWRkeVNlcnZpY2VzUXVlcnk9dGhpcy5fcXVlcnlCdWRkeVNlcnZpY2VzKCkpLGF3YWl0IHRoaXMuX2J1ZGR5U2VydmljZXNRdWVyeSxhd2FpdCB0aGlzLl90cnlDcmVhdGVXZWJTb2NrZXQodCk7Y29uc3R7ZmlsdGVyOnIsb3V0RmllbGRzOm99PXRoaXMuX2NvbmZpZzt0aGlzLmRlc3Ryb3llZHx8dGhpcy5fc2V0RmlsdGVyKHIsbyk7fV9vbk1lc3NhZ2UoZSl7bGV0IHQ7dHJ5e3Q9dGhpcy5fZW5yaWNoKEpTT04ucGFyc2UoZS5kYXRhKSksdGhpcy5fZmVhdHVyZVpTY2FsZXImJnRoaXMuX2ZlYXR1cmVaU2NhbGVyKHQuZ2VvbWV0cnkpO31jYXRjaChyKXtyZXR1cm4gdm9pZCBwJDMuZXJyb3IobmV3IHMkNChcImdlb2V2ZW50LWNvbm5lY3Rpb25cIixcIkZhaWxlZCB0byBwYXJzZSBtZXNzYWdlXCIscikpfXRoaXMub25GZWF0dXJlKHQpO31hc3luYyBfZmV0Y2hTZXJ2aWNlRGVmaW5pdGlvbihlKXtjb25zdCB0PXtmOlwianNvblwifSxyPVUkMihlLnBhdGgse3F1ZXJ5OnQscmVzcG9uc2VUeXBlOlwianNvblwifSksbz0oYXdhaXQgcikuZGF0YTtyZXR1cm4gdGhpcy5fc2VydmljZURlZmluaXRpb249byxvfWFzeW5jIF9mZXRjaFdlYlNvY2tldFVybChlLHQpe2NvbnN0IHI9ZVswXSx7dXJsczpvLHRva2VuOnN9PXI7cmV0dXJuIGAke3RoaXMuX2luZmVyV2ViU29ja2V0QmFzZVVybChvKX0vc3Vic2NyaWJlP291dFNSPSR7dC53a2lkfSR7cz9cIiZ0b2tlbj1cIitzOlwiXCJ9YH1faW5mZXJXZWJTb2NrZXRCYXNlVXJsKGUpe2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gZVswXTtmb3IoY29uc3QgdCBvZiBlKWlmKC0xIT09dC5pbmRleE9mKFwid3NzXCIpKXJldHVybiB0O3JldHVybiBwJDMuZXJyb3IobmV3IHMkNChcImdlb2V2ZW50LWNvbm5lY3Rpb25cIixcIlVuYWJsZSB0byBpbmZlciBXZWJTb2NrZXQgdXJsXCIsZSkpLG51bGx9YXN5bmMgX3NldEZpbHRlcihlLHIpe2NvbnN0IG89dGhpcy5fd2Vic29ja2V0O2lmKHQkNyhvKXx8dCQ3KGUpJiZ0JDcocikpcmV0dXJuO2NvbnN0IHM9SlNPTi5zdHJpbmdpZnkoe2ZpbHRlcjp0aGlzLl9zZXJpYWxpemVGaWx0ZXIoZSxyKX0pO2xldCBpPSExO2NvbnN0IG49QiQxKCksdT0oKT0+e2l8fCh0aGlzLmRlc3Ryb3llZHx8dGhpcy5fd2Vic29ja2V0IT09b3x8cCQzLmVycm9yKG5ldyBzJDQoXCJnZW9ldmVudC1jb25uZWN0aW9uXCIsXCJTZXJ2ZXIgdGltZWQgb3V0IHdoZW4gc2V0dGluZyBmaWx0ZXJcIikpLG4ucmVqZWN0KCkpO30sZj1lPT57Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7dC5maWx0ZXImJih0LmVycm9yJiYocCQzLmVycm9yKG5ldyBzJDQoXCJnZW9ldmVudC1jb25uZWN0aW9uXCIsXCJGYWlsZWQgdG8gc2V0IHNlcnZpY2UgZmlsdGVyXCIsdC5lcnJvcikpLHRoaXMuX3NldChcImVycm9yU3RyaW5nXCIsYENvdWxkIG5vdCBzZXQgc2VydmljZSBmaWx0ZXIgLSAke3QuZXJyb3J9YCksbi5yZWplY3QodC5lcnJvcikpLG8ub25tZXNzYWdlPXRoaXMuX29uTWVzc2FnZS5iaW5kKHRoaXMpLGk9ITAsbi5yZXNvbHZlKCkpO307cmV0dXJuIG8ub25tZXNzYWdlPWYsby5zZW5kKHMpLHNldFRpbWVvdXQodSxtJDEpLG4ucHJvbWlzZX1fc2VyaWFsaXplRmlsdGVyKGUsbyl7Y29uc3Qgcz17fTtpZih0JDcoZSkmJnQkNyhvKSlyZXR1cm4gcztpZihyJDkoZSkmJmUuZ2VvbWV0cnkpdHJ5e2NvbnN0IHQ9cCQ3KGUuZ2VvbWV0cnkpO2lmKFwiZXh0ZW50XCIhPT10LnR5cGUpdGhyb3cgbmV3IHMkNChgRXhwZWN0ZWQgZXh0ZW50IGJ1dCBmb3VuZCB0eXBlICR7dC50eXBlfWApO3MuZ2VvbWV0cnk9SlNPTi5zdHJpbmdpZnkodC5zaGlmdENlbnRyYWxNZXJpZGlhbigpKTt9Y2F0Y2goaSl7cCQzLmVycm9yKG5ldyBzJDQoXCJnZW9ldmVudC1jb25uZWN0aW9uXCIsXCJFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGVuIHNldHRpbmcgY29ubmVjdGlvbiBnZW9tZXRyeURlZmluaXRpb25cIixpKSk7fXJldHVybiByJDkoZSkmJmUud2hlcmUmJlwiMSA9IDFcIiE9PWUud2hlcmUmJihzLndoZXJlPWUud2hlcmUpLHIkOShvKSYmKHMub3V0RmllbGRzPW8uam9pbihcIixcIikpLHN9X2VucmljaChlKXtpZighdGhpcy5fcmVsYXRlZEZlYXR1cmVzKXJldHVybiBlO2NvbnN0IHQ9dGhpcy5fc2VydmljZURlZmluaXRpb24ucmVsYXRlZEZlYXR1cmVzLmpvaW5GaWVsZCxyPWUuYXR0cmlidXRlc1t0XTtpZighdGhpcy5fcmVsYXRlZEZlYXR1cmVzLmhhcyhyKSlyZXR1cm4gcCQzLndhcm4oXCJnZW9ldmVudC1jb25uZWN0aW9uXCIsXCJGZWF0dXJlIGpvaW4gZmFpbGVkLiBJcyB0aGUgam9pbiBmaWVsZCBjb25maWd1cmVkIGNvcnJlY3RseT9cIixlKSxlO2NvbnN0e2F0dHJpYnV0ZXM6byxnZW9tZXRyeTpzfT10aGlzLl9yZWxhdGVkRmVhdHVyZXMuZ2V0KHIpO2Zvcihjb25zdCBpIGluIG8pZS5hdHRyaWJ1dGVzW2ldPW9baV07cmV0dXJuIHMmJihlLmdlb21ldHJ5PXMpLGUuZ2VvbWV0cnl8fGUuY2VudHJvaWR8fHAkMy5lcnJvcihuZXcgcyQ0KFwiZ2VvZXZlbnQtY29ubmVjdGlvblwiLFwiRm91bmQgbWFsZm9ybWVkIGZlYXR1cmUgLSBubyBnZW9tZXRyeSBmb3VuZFwiLGUpKSxlfWFzeW5jIF9xdWVyeUJ1ZGR5U2VydmljZXMoKXt0cnl7Y29uc3R7cmVsYXRlZEZlYXR1cmVzOmUsa2VlcExhdGVzdEFyY2hpdmU6dH09dGhpcy5fc2VydmljZURlZmluaXRpb24scj10aGlzLl9xdWVyeVJlbGF0ZWRGZWF0dXJlcyhlKSxvPXRoaXMuX3F1ZXJ5QXJjaGl2ZSh0KTthd2FpdCByO2NvbnN0IHM9YXdhaXQgbztpZighcylyZXR1cm47Zm9yKGNvbnN0IGkgb2Ygcy5mZWF0dXJlcyl0aGlzLm9uRmVhdHVyZSh0aGlzLl9lbnJpY2goaSkpO31jYXRjaChlKXtwJDMuZXJyb3IobmV3IHMkNChcImdlb2V2ZW50LWNvbm5lY3Rpb25cIixcIkVuY291bnRlcmVkIGFuIGVycm9yIHdoZW4gcXVlcnlpbmcgYnVkZHkgc2VydmljZXNcIix7ZXJyb3I6ZX0pKTt9fWFzeW5jIF9xdWVyeVJlbGF0ZWRGZWF0dXJlcyhlKXtpZighZSlyZXR1cm47Y29uc3QgdD1hd2FpdCB0aGlzLl9xdWVyeUJ1ZGR5KGUuZmVhdHVyZXNVcmwpO3RoaXMuX2FkZFJlbGF0ZWRGZWF0dXJlcyh0KTt9YXN5bmMgX3F1ZXJ5QXJjaGl2ZShlKXtpZihlKXJldHVybiB0aGlzLl9xdWVyeUJ1ZGR5KGUuZmVhdHVyZXNVcmwpfWFzeW5jIF9xdWVyeUJ1ZGR5KGUpe2NvbnN0IHQ9bmV3KChhd2FpdCBpbXBvcnQoJy4vRmVhdHVyZUxheWVyLWUzNGFhMWMzLmpzJykudGhlbihmdW5jdGlvbiAobikgeyByZXR1cm4gbi5GOyB9KSkuZGVmYXVsdCkoe3VybDplfSkse2NhcGFiaWxpdGllczpyfT1hd2FpdCB0LmxvYWQoKSxpPXIucXVlcnkuc3VwcG9ydHNNYXhSZWNvcmRDb3VudEZhY3RvcixuPXIucXVlcnkuc3VwcG9ydHNQYWdpbmF0aW9uLGE9ci5xdWVyeS5zdXBwb3J0c0NlbnRyb2lkLGM9dGhpcy5fY29uZmlnLm1heFJlY29yZENvdW50RmFjdG9yLGY9dC5jYXBhYmlsaXRpZXMucXVlcnkubWF4UmVjb3JkQ291bnQsZD1pP2YqYzpmLHk9bmV3IFIkNDtpZih5Lm91dEZpZWxkcz1jJDkodGhpcy5fY29uZmlnLm91dEZpZWxkcyxbXCIqXCJdKSx5LndoZXJlPWMkOShnJDcodGhpcy5fY29uZmlnLmZpbHRlcixcIndoZXJlXCIpLFwiMT0xXCIpLHkucmV0dXJuR2VvbWV0cnk9ITAseS5yZXR1cm5FeGNlZWRlZExpbWl0RmVhdHVyZXM9ITAseS5vdXRTcGF0aWFsUmVmZXJlbmNlPWskNS5mcm9tSlNPTih0aGlzLl9jb25maWcuc3BhdGlhbFJlZmVyZW5jZSksYSYmKHkucmV0dXJuQ2VudHJvaWQ9ITApLGkmJih5Lm1heFJlY29yZENvdW50RmFjdG9yPWMpLG4pcmV0dXJuIHkubnVtPWQsdC5kZXN0cm95KCksdGhpcy5fcXVlcnlQYWdlcyhlLHkpO2NvbnN0IHA9YXdhaXQgeSQ3KGUseSx0aGlzLl9jb25maWcuc291cmNlU3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIHQuZGVzdHJveSgpLHAuZGF0YX1hc3luYyBfcXVlcnlQYWdlcyhlLHQsbz1bXSxzPTApe3Quc3RhcnQ9ciQ5KHQubnVtKT9zKnQubnVtOm51bGw7Y29uc3R7ZGF0YTppfT1hd2FpdCB5JDcoZSx0LHRoaXMuX2NvbmZpZy5zb3VyY2VTcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gaS5leGNlZWRlZFRyYW5zZmVyTGltaXQmJnM8dGhpcy5fY29uZmlnLm1heFF1ZXJ5RGVwdGg/KGkuZmVhdHVyZXMuZm9yRWFjaCgoZT0+by5wdXNoKGUpKSksdGhpcy5fcXVlcnlQYWdlcyhlLHQsbyxzKzEpKTooby5mb3JFYWNoKChlPT5pLmZlYXR1cmVzLnB1c2goZSkpKSxpKX1fYWRkUmVsYXRlZEZlYXR1cmVzKGUpe2NvbnN0IHQ9bmV3IE1hcCxyPWUuZmVhdHVyZXMsbz10aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbi5yZWxhdGVkRmVhdHVyZXMuam9pbkZpZWxkO2Zvcihjb25zdCBzIG9mIHIpe2NvbnN0IGU9cy5hdHRyaWJ1dGVzW29dO3Quc2V0KGUscyk7fXRoaXMuX3JlbGF0ZWRGZWF0dXJlcz10O319O18kMT1lJDgoW2kkOChcImVzcmkubGF5ZXJzLmdyYXBoaWNzLnNvdXJjZXMuY29ubmVjdGlvbnMuR2VvRXZlbnRDb25uZWN0aW9uXCIpXSxfJDEpO3ZhciB3JDE9XyQxO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCh0LG8scixjLGkscyxhKXtjb25zdCBwPTA9PT10LnBhdGguaW5kZXhPZihcIndzczovL1wiKXx8MD09PXQucGF0aC5pbmRleE9mKFwid3M6Ly9cIiksZj17c291cmNlOnQsc291cmNlU3BhdGlhbFJlZmVyZW5jZTpvLHNwYXRpYWxSZWZlcmVuY2U6cixnZW9tZXRyeVR5cGU6YyxmaWx0ZXI6aSxtYXhSZWNvbm5lY3Rpb25BdHRlbXB0czpzLG1heFJlY29ubmVjdGlvbkludGVydmFsOmF9O3JldHVybiBwP25ldyB1JDIoZik6bmV3IHckMShmKX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHAkMj0yNTAwO2Z1bmN0aW9uIGwkMShlLHMpe2NvbnN0IHI9ZS53ZWFrQ2xvbmUoKSxpPXAkOChzLGUuZ2VvbWV0cnkuY29vcmRzWzBdKSxhPUkkNihzLGUuZ2VvbWV0cnkuY29vcmRzWzFdKTtyZXR1cm4gci5nZW9tZXRyeT1uZXcgdCRhKFtdLFtpLGFdKSxyfWZ1bmN0aW9uIG0oZSl7c3dpdGNoKGUpe2Nhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6cmV0dXJuIGwkMTtjYXNlXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjpkZWZhdWx0OnJldHVybiAocyxuKT0+e2NvbnN0IG89cy53ZWFrQ2xvbmUoKSxpPW5ldyB0JGEsYT0hMSxjPSExLGQ9Y2UoaSxzLmdlb21ldHJ5LGEsYyxlLG4sITEsITEpO3JldHVybiBvLmdlb21ldHJ5PWQsb319fWZ1bmN0aW9uIF8oZSl7c3dpdGNoKGUpe2Nhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6cmV0dXJuIGU9Pih7bWluWDplLmdlb21ldHJ5LmNvb3Jkc1swXSxtaW5ZOmUuZ2VvbWV0cnkuY29vcmRzWzFdLG1heFg6ZS5nZW9tZXRyeS5jb29yZHNbMF0sbWF4WTplLmdlb21ldHJ5LmNvb3Jkc1sxXX0pO2RlZmF1bHQ6cmV0dXJuIGU9PntsZXQgdD0xLzAscz0xLzAscj0tMS8wLG49LTEvMDtyZXR1cm4gZS5nZW9tZXRyeS5mb3JFYWNoVmVydGV4KCgoZSxvKT0+e3Q9TWF0aC5taW4odCxlKSxzPU1hdGgubWluKHMsbykscj1NYXRoLm1heChyLGUpLG49TWF0aC5tYXgobixvKTt9KSkse21pblg6dCxtaW5ZOnMsbWF4WDpyLG1heFk6bn19fX1mdW5jdGlvbiBmKGUsdCl7Y29uc3Qgcz1pJDMoOSxfKHQpKTtyZXR1cm4gcy5sb2FkKGUpLHN9ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBlLnNlYXJjaCh7bWluWDp0LmJvdW5kc1swXSxtaW5ZOnQuYm91bmRzWzFdLG1heFg6dC5ib3VuZHNbMl0sbWF4WTp0LmJvdW5kc1szXX0pfWNsYXNzIHkkMXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMub25VcGRhdGU9ZSx0aGlzLl9nZW9tZXRyeVR5cGU9dCx0aGlzLl9vYmplY3RJZFRvRmVhdHVyZT1uZXcgTWFwO31nZXQgX2ZlYXR1cmVzKCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZm9yRWFjaCgodD0+ZS5wdXNoKHQpKSksZX1hZGQoZSl7dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuc2V0KGUub2JqZWN0SWQsZSksdGhpcy5faW5kZXg9bnVsbDt9Z2V0KGUpe3JldHVybiB0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5oYXMoZSk/dGhpcy5fb2JqZWN0SWRUb0ZlYXR1cmUuZ2V0KGUpOm51bGx9Zm9yRWFjaChlKXt0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5mb3JFYWNoKGUpO31zZWFyY2goZSl7cmV0dXJuIHRoaXMuX2luZGV4fHwodGhpcy5faW5kZXg9Zih0aGlzLl9mZWF0dXJlcyx0aGlzLl9nZW9tZXRyeVR5cGUpKSxnKHRoaXMuX2luZGV4LGUpfXJlbW92ZUJ5SWQoZSl7Y29uc3QgdD10aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5nZXQoZSk7cmV0dXJuIHQ/KHRoaXMuX29iamVjdElkVG9GZWF0dXJlLmRlbGV0ZShlKSx0aGlzLl9pbmRleD1udWxsLHQpOm51bGx9dXBkYXRlKGUsdCl7dGhpcy5vblVwZGF0ZShlLHQpO31nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9vYmplY3RJZFRvRmVhdHVyZS5zaXplfX1jbGFzcyBiIGV4dGVuZHMgbSQze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudHlwZT1cImdlb2V2ZW50XCIsdGhpcy5fZGF0YVJlY2VpdmVFdmVudEVuYWJsZWQ9ITEsdGhpcy5fbGV2ZWw9MCx0aGlzLl91cGRhdGVJbmZvPXt3ZWJzb2NrZXQ6MCxjbGllbnQ6MH07Y29uc3R7b3V0U1I6dCQxfT1lLHtnZW9tZXRyeVR5cGU6cyxvYmplY3RJZEZpZWxkOnIsdGltZUluZm86bixwdXJnZU9wdGlvbnM6byxzb3VyY2U6aSxzcGF0aWFsUmVmZXJlbmNlOmEsc2VydmljZUZpbHRlcjp1LG1heFJlY29ubmVjdGlvbkF0dGVtcHRzOmgsbWF4UmVjb25uZWN0aW9uSW50ZXJ2YWw6bCx1cGRhdGVJbnRlcnZhbDpffT1lLnNlcnZpY2VJbmZvLGY9bmV3IHkkMSh0aGlzLl9vblVwZGF0ZS5iaW5kKHRoaXMpLHMpLGc9bmV3IGgkMyhmLHIsbixvKSxiPXQoaSxhLHQkMSxzLHUsaCxsKTt0aGlzLl9zdG9yZT1mLHRoaXMuX21hbmFnZXI9Zyx0aGlzLl9jb25uZWN0aW9uPWIsdGhpcy5fcXVhbnRpemU9bShzKSx0aGlzLl9oYW5kbGVzPVt0aGlzLl9jb25uZWN0aW9uLm9uKFwiZmVhdHVyZVwiLChlPT50aGlzLl9vbkZlYXR1cmUoZSkpKSx0aGlzLl9jb25uZWN0aW9uLndhdGNoKFwiY29ubmVjdGlvblN0YXR1c1wiLChlPT50aGlzLmV2ZW50cy5lbWl0KFwiY29ubmVjdGlvblN0YXR1c1wiLGUpKSksdGhpcy5fY29ubmVjdGlvbi53YXRjaChcImVycm9yU3RyaW5nXCIsKGU9PnRoaXMuZXZlbnRzLmVtaXQoXCJlcnJvclN0cmluZ1wiLGUpKSldO2xldCB2PXBlcmZvcm1hbmNlLm5vdygpO3RoaXMuX3VwZGF0ZUludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgdD1wZXJmb3JtYW5jZS5ub3coKSxzPXQtdjtpZihzPnAkMil7dj10O2NvbnN0IGU9TWF0aC5yb3VuZCh0aGlzLl91cGRhdGVJbmZvLmNsaWVudC8ocy8xZTMpKSxyPU1hdGgucm91bmQodGhpcy5fdXBkYXRlSW5mby53ZWJzb2NrZXQvKHMvMWUzKSk7dGhpcy5fdXBkYXRlSW5mby5jbGllbnQ9MCx0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldD0wLHRoaXMuZXZlbnRzLmVtaXQoXCJ1cGRhdGVSYXRlXCIse2NsaWVudDplLHdlYnNvY2tldDpyfSk7fWUuY2FuQWNjZXB0UmVxdWVzdCgpJiZ0aGlzLl9tYW5hZ2VyLmNoZWNrRm9yVXBkYXRlcygpO30pLF8pO31kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLGNsZWFySW50ZXJ2YWwodGhpcy5fdXBkYXRlSW50ZXJ2YWxJZCksdGhpcy5faGFuZGxlcy5mb3JFYWNoKChlPT5lLnJlbW92ZSgpKSksdGhpcy5fY29ubmVjdGlvbi5kZXN0cm95KCk7fV9mZXRjaERhdGFUaWxlKCl7fXJlc3VtZSgpe31lbmFibGVFdmVudChlLHQpe1wiZGF0YS1yZWNlaXZlZFwiPT09ZSYmKHRoaXMuX2RhdGFSZWNlaXZlRXZlbnRFbmFibGVkPXQpO31nZXQgdXBkYXRpbmcoKXtyZXR1cm4gITF9c3Vic2NyaWJlKGUpe3N1cGVyLnN1YnNjcmliZShlKTtjb25zdCB0PXRoaXMuX3N1YnNjcmlwdGlvbnMuZ2V0KGUuaWQpO3RoaXMuX2xldmVsPWUubGV2ZWw7Y29uc3Qgcz10aGlzLl9nZXRUaWxlRmVhdHVyZXMoZSk7dGhpcy5fb25NZXNzYWdlKHt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5rZXkuaWQsYWRkT3JVcGRhdGU6cyxlbmQ6ITB9KSx0LmRpZFNlbmQ9ITA7fXVuc3Vic2NyaWJlKGUpe3N1cGVyLnVuc3Vic2NyaWJlKGUpO31mb3JFYWNoUmVxdWVzdCh0LHMpe2NvbnN0IHI9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQodCkse3RpbGU6bixzaWduYWw6b309cixpPXt0eXBlOlwiYXBwZW5kXCIsdGlsZTpuLGlkOnQsYWRkT3JVcGRhdGU6dGhpcy5fZ2V0VGlsZUZlYXR1cmVzKG4pLGVuZDohMH07cyhpLHtzaWduYWw6b30pLHIucmVxdWVzdHMuc3RyZWFtLmVudHJpZXMuZm9yRWFjaCgodD0+e3IkOSh0KSYmcyh0LHtzaWduYWw6b30pO30pKTt9Y3JlYXRlVGlsZVF1ZXJ5KGUpe3Rocm93IG5ldyBFcnJvcihcIlNlcnZpY2UgZG9lcyBub3Qgc3VwcG9ydCB0aWxlICBxdWVyaWVzXCIpfWFzeW5jIHJlc2VuZCgpe3RoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2NvbnN0e3RpbGU6dH09ZSxzPXt0eXBlOlwiYXBwZW5kXCIsaWQ6dC5pZCxhZGRPclVwZGF0ZTp0aGlzLl9nZXRUaWxlRmVhdHVyZXModCksZW5kOiEwfTt0aGlzLl9vbk1lc3NhZ2Uocyk7fSkpO31fZ2V0VGlsZUZlYXR1cmVzKGUpe2NvbnN0IHQ9dGhpcy5fc3RvcmUuc2VhcmNoKGUpLm1hcCgodD0+dGhpcy5fcXVhbnRpemUodCxlLnRyYW5zZm9ybSkpKTtyZXR1cm4gYyQ2LmZyb21PcHRpbWl6ZWRGZWF0dXJlcyh0LHRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSxlLnRyYW5zZm9ybSl9X29uRmVhdHVyZShlKXt0aGlzLl91cGRhdGVJbmZvLndlYnNvY2tldCsrO3RyeXt0aGlzLl9kYXRhUmVjZWl2ZUV2ZW50RW5hYmxlZCYmdGhpcy5ldmVudHMuZW1pdChcImZlYXR1cmVcIixlKTtjb25zdCB0PUokMShlLHRoaXMuX3NlcnZpY2VJbmZvLmdlb21ldHJ5VHlwZSwhMSwhMSx0aGlzLl9zZXJ2aWNlSW5mby5vYmplY3RJZEZpZWxkKTt0aGlzLl9tYW5hZ2VyLmFkZCh0KTt9Y2F0Y2godCl7fX1fb25VcGRhdGUodCxzKXtyJDkodCkmJih0aGlzLl91cGRhdGVJbmZvLmNsaWVudCs9dC5sZW5ndGgpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntlLmRpZFNlbmQmJmUudGlsZS5sZXZlbD09PXRoaXMuX2xldmVsJiZ0aGlzLl9vbk1lc3NhZ2Uoe3R5cGU6XCJhcHBlbmRcIixpZDp0LGFkZE9yVXBkYXRlOm51bGwsY2xlYXI6ITAsZW5kOiExfSk7fSkpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntpZighZS5kaWRTZW5kfHxlLnRpbGUubGV2ZWwhPT10aGlzLl9sZXZlbClyZXR1cm47Y29uc3Qgcz1lLnRpbGUscj17dHlwZTpcImFwcGVuZFwiLGlkOnQsYWRkT3JVcGRhdGU6dGhpcy5fZ2V0VGlsZUZlYXR1cmVzKHMpLHJlbW92ZTpbXSxlbmQ6ITAsc3RhdHVzOnQkNS5lbXB0eSgpfTtlLnJlcXVlc3RzLnN0cmVhbS5lbnF1ZXVlKHIpLHRoaXMuX29uTWVzc2FnZShyKTt9KSk7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG4kMT1uJDkuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuc291cmNlcy5GZWF0dXJlU291cmNlXCIpO2NsYXNzIGQkMSBleHRlbmRzIG0kMntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTt9YXN5bmMgX2ZldGNoRGF0YVRpbGUoZSl7Y29uc3QgdD02LG89MjAsaT10aGlzLl9zdWJzY3JpcHRpb25zLmdldChlLmtleS5pZCk7bGV0IGQ9ITEsYz0wLHU9MDtjb25zdCBwPSh0LHIpPT57dS0tLGEkOShpKTtjb25zdCBhPWUuaWQsbz10LnJlYWRlcixuPXQucXVlcnk7aWYoIW8uZXhjZWVkZWRUcmFuc2ZlckxpbWl0KXtpZihkPSEwLDAhPT1yJiYhby5oYXNGZWF0dXJlcyl7Y29uc3QgZT17aWQ6YSxhZGRPclVwZGF0ZTpvLGVuZDowPT09dSx0eXBlOlwiYXBwZW5kXCJ9O3JldHVybiBpLmFkZCh7bWVzc2FnZTplLHF1ZXJ5Om59KSx2b2lkIHRoaXMuX29uTWVzc2FnZShlKX1jb25zdCBlPXtpZDphLGFkZE9yVXBkYXRlOm8sZW5kOjA9PT11LHR5cGU6XCJhcHBlbmRcIn07cmV0dXJuIGkuYWRkKHttZXNzYWdlOmUscXVlcnk6bn0pLHZvaWQgdGhpcy5fb25NZXNzYWdlKGUpfWNvbnN0IGM9e2lkOmEsYWRkT3JVcGRhdGU6byxlbmQ6ZCYmMD09PXUsdHlwZTpcImFwcGVuZFwifTtpLmFkZCh7bWVzc2FnZTpjLHF1ZXJ5Om59KSx0aGlzLl9vbk1lc3NhZ2UoYyk7fTtsZXQgaD0wLG09MDtmb3IoOyFkJiZtKys8bzspe2xldCBvO2ZvcihsZXQgdD0wO3Q8aCsxO3QrKyl7Y29uc3QgdD1jKys7dSsrLG89dGhpcy5fZmV0Y2hEYXRhVGlsZVBhZ2UoZSx0LGkpLnRoZW4oKGU9PmUmJnAoZSx0KSkpLmNhdGNoKCh0PT57ZD0hMCxnJDQodCl8fChuJDEuZXJyb3IobmV3IHMkNChcIm1hcHZpZXctcXVlcnktZXJyb3JcIixcIkVuY291bnRlcmVkIGVycm9yIHdoZW4gZmV0Y2hpbmcgdGlsZVwiLHt0aWxlOmUsZXJyb3I6dH0pKSx0aGlzLl9vbk1lc3NhZ2Uoe2lkOmUuaWQsYWRkT3JVcGRhdGU6bnVsbCxlbmQ6ZCx0eXBlOlwiYXBwZW5kXCJ9KSk7fSkpO31hd2FpdCBvLGEkOShpKSxoPU1hdGgubWluKGgrMix0KTt9fWFzeW5jIF9mZXRjaERhdGFUaWxlUGFnZSh0LHIsYSl7Y29uc3QgaT10aGlzLl9xdWVyeUluZm8sbj17c3RhcnQ6dGhpcy5wYWdlU2l6ZSpyLG51bTp0aGlzLnBhZ2VTaXplLHJldHVybkV4Y2VlZGVkTGltaXRGZWF0dXJlczohMCxxdWFudGl6YXRpb25QYXJhbWV0ZXJzOnQuZ2V0UXVhbnRpemF0aW9uUGFyYW1ldGVycygpfTtyJDkodGhpcy5tYXhSZWNvcmRDb3VudEZhY3RvcikmJihuLm1heFJlY29yZENvdW50RmFjdG9yPXRoaXMubWF4UmVjb3JkQ291bnRGYWN0b3IpO2NvbnN0IGQ9dGhpcy5fY3JlYXRlUXVlcnkodCxuKTt0cnl7Y29uc3QgZT1hLnNpZ25hbCxvPWF3YWl0IHRoaXMuX3F1ZXVlLnB1c2goe3RpbGU6dCxxdWVyeTpkLHNpZ25hbDplLGRlcHRoOnJ9KTtyZXR1cm4gYSQ5KGEpLG8/aSE9PXRoaXMuX3F1ZXJ5SW5mbz90aGlzLl9mZXRjaERhdGFUaWxlUGFnZSh0LHIsYSk6e3JlYWRlcjpvLHF1ZXJ5OmR9Om51bGx9Y2F0Y2goYyl7cmV0dXJuIGokMyhjKSxudWxsfX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBoJDE9biQ5LmdldExvZ2dlcihcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLnNvdXJjZXMuU25hcHNob3RGZWF0dXJlU291cmNlXCIpO2Z1bmN0aW9uIHUkMShlLHQscyl7Y29uc3Qgcj1lLmdldFhIeWRyYXRlKCksbz1lLmdldFlIeWRyYXRlKCksaT10LmdldENvbHVtbkZvclgociksYT1NYXRoLmZsb29yKHQubm9ybWFsaXplQ29sKGkpKTtyZXR1cm4gYCR7c30vJHtNYXRoLmZsb29yKHQuZ2V0Um93Rm9yWShvKSl9LyR7YX1gfWZ1bmN0aW9uIGwoZSxzKXtpZih0JDcoZSkpcmV0dXJuIG51bGw7Y29uc3Qgcj1zLnRyYW5zZm9ybSxvPWUuZ2V0UXVhbnRpemF0aW9uVHJhbnNmb3JtKCk7aWYodCQ3KG8pKXtjb25zdFt0LHNdPXIuc2NhbGUsW28saV09ci50cmFuc2xhdGUsYT0tby90LG49MS90LGQ9aS9zLGg9MS8tcztyZXR1cm4gZS50cmFuc2Zvcm0oYSxkLG4saCl9Y29uc3RbaSxhXT1vLnNjYWxlLFtuLGRdPW8udHJhbnNsYXRlLFtoLHVdPXIuc2NhbGUsW2wsY109ci50cmFuc2xhdGUsXz1pL2gsZz0obi1sKS9oLHA9YS91LG09KC1kK2MpL3U7cmV0dXJuIGUudHJhbnNmb3JtKGcsbSxfLHApfWNsYXNzIGMkMSBleHRlbmRzIG0kMntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm1vZGU9XCJzbmFwc2hvdFwiLHRoaXMuX2xvYWRpbmc9ITAsdGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX2Rvd25sb2FkUHJvbWlzZT1udWxsLHRoaXMuX2RpZFNlbmRFbmQ9ITEsdGhpcy5fcXVlcmllcz1uZXcgQXJyYXksdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5faGFzQWdncmVnYXRlcz0hMSx0aGlzLl9yYW5kb209bmV3IHQkYygxZTMpLHRoaXMuX2ZlYXR1cmVDb3VudD1lLmZlYXR1cmVDb3VudCx0aGlzLl9zdG9yZT1lLnN0b3JlLHRoaXMuX21hcmtlZElkc0J1ZklkPXRoaXMuX3N0b3JlLnN0b3JhZ2UuY3JlYXRlQml0c2V0KCk7fWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fY29udHJvbGxlci5hYm9ydCgpO31nZXQgbG9hZGluZygpe3JldHVybiB0aGlzLl9sb2FkaW5nfWdldCBfc2lnbmFsKCl7cmV0dXJuIHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsfXVwZGF0ZShlLHQpe3N1cGVyLnVwZGF0ZShlLHQpLHRoaXMuX2hhc0FnZ3JlZ2F0ZXM9ZS50YXJnZXRzLmFnZ3JlZ2F0ZTt9YXN5bmMgcmVzZW5kKGU9ITEpe2lmKGF3YWl0IHRoaXMuX2Rvd25sb2FkUHJvbWlzZSx0aGlzLl9pbnZhbGlkYXRlZHx8ZSlyZXR1cm4gdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5fc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT5lLmNsZWFyKCkpKSx0aGlzLl9kb3dubG9hZFByb21pc2U9dGhpcy5fZG93bmxvYWQodGhpcy5fZmVhdHVyZUNvdW50KSx2b2lkIGF3YWl0IHRoaXMuX2Rvd25sb2FkUHJvbWlzZTtjb25zdCB0PXRoaXMuX3F1ZXJpZXMubWFwKCgoe3F1ZXJ5OmUscmVhZGVyOnR9KT0+dGhpcy5fc2VuZFBhdGNoUXVlcnkoZSx0KSkpO2F3YWl0IFByb21pc2UuYWxsKHQpLHRoaXMuX3N1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e2UucmVxdWVzdHMuZG9uZS5mb3JFYWNoKChlPT50aGlzLl9vbk1lc3NhZ2UoZS5tZXNzYWdlKSkpO30pKTt9YXN5bmMgcmVmcmVzaCgpe2F3YWl0IHRoaXMucmVzZW5kKCEwKTt9YXN5bmMgZWRpdChlKXtjb25zdCB0PXRoaXMuX3NpZ25hbCxzPVsuLi5lLmFkZGVkRmVhdHVyZXMuZmlsdGVyKChlPT4hZS5lcnJvcikpLm1hcCgoZT0+ZS5vYmplY3RJZCkpLC4uLmUudXBkYXRlZEZlYXR1cmVzLmZpbHRlcigoZT0+IWUuZXJyb3IpKS5tYXAoKGU9PmUub2JqZWN0SWQpKV0scj1bLi4uZS5kZWxldGVkRmVhdHVyZXMuZmlsdGVyKChlPT4hZS5lcnJvcikpLm1hcCgoZT0+ZS5vYmplY3RJZCkpLC4uLnNdO2Zvcihjb25zdCBvIG9mIHIpdGhpcy5fc3RvcmUucmVtb3ZlKG8pO2NvbnN0IGk9dGhpcy5jcmVhdGVRdWVyeSgpO2kub2JqZWN0SWRzPXM7Y29uc3QgYT1hd2FpdCB0aGlzLl9xdWV1ZS5wdXNoKHtxdWVyeTppLGRlcHRoOjAsc2lnbmFsOnR9KTthJDkoe3NpZ25hbDp0fSksdGhpcy5fc3RvcmUuaW5zZXJ0KGEpLHRoaXMuX3NlbmQoYSksdGhpcy5faW52YWxpZGF0ZVF1ZXJpZXMoKTt9X2ludmFsaWRhdGVRdWVyaWVzKCl7dGhpcy5faW52YWxpZGF0ZWQ9ITA7fWFzeW5jIF9zZW5kUGF0Y2hRdWVyeSh0LHMpe2NvbnN0IHI9ciQ5KHQub3V0RmllbGRzKT90Lm91dEZpZWxkczpbXSxpPXRoaXMuX3F1ZXJ5SW5mby5vdXRGaWVsZHMsYT1pLmZpbHRlcigoZT0+LTE9PT1yLmluZGV4T2YoZSkpKTtpZighYS5sZW5ndGgpcmV0dXJuO2NvbnN0IG49dC5jbG9uZSgpLGQ9dGhpcy5fc2lnbmFsO24ucmV0dXJuR2VvbWV0cnk9ITEsbi5yZXR1cm5DZW50cm9pZD0hMSxuLm91dEZpZWxkcz1hLHQub3V0RmllbGRzPWk7Y29uc3QgaD1hd2FpdCB0aGlzLl9xdWV1ZS5wdXNoKHtxdWVyeTpuLGRlcHRoOjAsc2lnbmFsOmR9KTthJDkoe3NpZ25hbDpkfSkscy5qb2luQXR0cmlidXRlcyhoKTt9YXN5bmMgX2ZldGNoRGF0YVRpbGUoZSl7dGhpcy5fZG93bmxvYWRQcm9taXNlfHwodGhpcy5fZG93bmxvYWRQcm9taXNlPXRoaXMuX2Rvd25sb2FkKHRoaXMuX2ZlYXR1cmVDb3VudCkpO2NvbnN0IHQ9dGhpcy5fc3RvcmUuc2VhcmNoKGUpLHM9dGhpcy5fc3Vic2NyaXB0aW9ucy5nZXQoZS5rZXkuaWQpLHI9dC5sZW5ndGgtMTtmb3IobGV0IGg9MDtoPHI7aCsrKXtjb25zdCByPWwodFtoXSxlKSxvPXt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS5pZCxhZGRPclVwZGF0ZTpyLGVuZDohMSxzdGF0dXM6dCQ1LmVtcHR5KCl9O3MuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6b30pLHRoaXMuX2hhc0FnZ3JlZ2F0ZXN8fGF3YWl0IEMkNCgxKSx0aGlzLl9vbk1lc3NhZ2Uobyk7fWNvbnN0IG89bChyPj0wP3Rbcl06bnVsbCxlKSxhPXRoaXMuX2RpZFNlbmRFbmQsZD17dHlwZTpcImFwcGVuZFwiLGlkOmUuaWQsYWRkT3JVcGRhdGU6byxlbmQ6YSxzdGF0dXM6dCQ1LmVtcHR5KCl9O3MuYWRkKHtxdWVyeTpudWxsLG1lc3NhZ2U6ZH0pLHRoaXMuX29uTWVzc2FnZShkKTt9YXN5bmMgX2Rvd25sb2FkKGUpe3RyeXthd2FpdCB0aGlzLndoZW5Jbml0aWFsaXplZCgpO2NvbnN0IHQ9dGhpcy5fc3RvcmUuc3RvcmFnZS5nZXRCaXRzZXQodGhpcy5fbWFya2VkSWRzQnVmSWQpLHM9bmV3IFNldDt0LmNsZWFyKCk7Y29uc3Qgcj1NYXRoLmNlaWwoZS90aGlzLnBhZ2VTaXplKSxvPUFycmF5LmZyb20oe2xlbmd0aDpyfSwoKGUsdCk9PnQpKS5zb3J0KCgoZSx0KT0+dGhpcy5fcmFuZG9tLmdldEludCgpLXRoaXMuX3JhbmRvbS5nZXRJbnQoKSkpLm1hcCgoZT0+dGhpcy5fZG93bmxvYWRQYWdlKGUsdCxzKSkpO2F3YWl0IFByb21pc2UuYWxsKG8pLHRoaXMuX3N0b3JlLnN3ZWVwRmVhdHVyZXModCx0aGlzLl9zdG9yZS5zdG9yYWdlKSx0aGlzLl9zdG9yZS5zd2VlcEZlYXR1cmVTZXRzKHMpO31jYXRjaCh0KXtoJDEuZXJyb3IoXCJtYXB2aWV3LXNuYXBzaG90LXNvdXJjZVwiLFwiRW5jb3VudGVyZWQgYW5kIGVycm9yIHdoZW4gZG93bmxvYWRpbmcgZmVhdHVyZSBzbmFwc2hvdFwiLHQpO310aGlzLl9zZW5kRW5kKCksdGhpcy5fbG9hZGluZz0hMTt9YXN5bmMgX2Rvd25sb2FkUGFnZSh0LHMscil7Y29uc3QgaT10aGlzLnBhZ2VTaXplLGE9e3N0YXJ0OnQqaSxudW06aSxjYWNoZUhpbnQ6ITB9O3IkOSh0aGlzLm1heFJlY29yZENvdW50RmFjdG9yKSYmKGEubWF4UmVjb3JkQ291bnRGYWN0b3I9dGhpcy5tYXhSZWNvcmRDb3VudEZhY3Rvcik7Y29uc3Qgbj10aGlzLmNyZWF0ZVF1ZXJ5KGEpLGQ9dGhpcy5fc2lnbmFsLGg9YXdhaXQgdGhpcy5fcXVldWUucHVzaCh7cXVlcnk6bixkZXB0aDp0LHNpZ25hbDpkfSk7YSQ5KHtzaWduYWw6ZH0pLHRoaXMuX3F1ZXJpZXMucHVzaCh7cXVlcnk6bixyZWFkZXI6aH0pLHRoaXMuX3N0b3JlLmluc2VydChoKSxyLmFkZChoLmluc3RhbmNlKTtjb25zdCB1PWguZ2V0Q3Vyc29yKCk7Zm9yKDt1Lm5leHQoKTspcy5zZXQodS5nZXREaXNwbGF5SWQoKSk7dGhpcy5fc2VuZChoKTt9X3NlbmQocyl7aWYoIXRoaXMuX3N1YnNjcmlwdGlvbnMuc2l6ZSlyZXR1cm47bGV0IHI9bnVsbDtjb25zdCBvPW5ldyBNYXAsaT1uZXcgU2V0LGQ9bmV3IE1hcDt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9Pnt2YXIgdDtjb25zdCBzPWUudGlsZTtvLnNldChzLmtleS5pZCxudWxsKSxyPXMudGlsZUluZm9WaWV3LGkuYWRkKHMubGV2ZWwpO2NvbnN0e3JvdzphLGNvbDpufT1zLmtleSxoPWAke3MubGV2ZWx9LyR7YX0vJHtufWAsdT1udWxsIT0odD1kLmdldChoKSk/dDpbXTt1LnB1c2goZSksZC5zZXQoaCx1KTt9KSk7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT1yLmdldExPREluZm9BdChlKSxhPXMuZ2V0Q3Vyc29yKCk7Zm9yKDthLm5leHQoKTspe2NvbnN0IHM9dSQxKGEsaSxlKSxyPWEuZ2V0SW5kZXgoKTtpZihkLmhhcyhzKSlmb3IoY29uc3QgZSBvZiBkLmdldChzKSl7Y29uc3Qgcz1lLnRpbGUuaWQ7bGV0IGk9by5nZXQocyk7dCQ3KGkpJiYoaT1bXSxvLnNldChzLGkpKSxpLnB1c2gocik7fX19by5mb3JFYWNoKCgodCxyKT0+e2lmKHIkOSh0KSl7Y29uc3QgZT10aGlzLl9zdWJzY3JpcHRpb25zLmdldChyKSxvPXt0eXBlOlwiYXBwZW5kXCIsaWQ6cixhZGRPclVwZGF0ZTpsKHIkMS5mcm9tKHMsdCksZS50aWxlKSxlbmQ6ITEsc3RhdHVzOnQkNS5lbXB0eSgpfTtlLmFkZCh7cXVlcnk6bnVsbCxtZXNzYWdlOm99KSx0aGlzLl9vbk1lc3NhZ2Uobyk7fX0pKTt9X3NlbmRFbmQoKXt0aGlzLl9zdWJzY3JpcHRpb25zLmZvckVhY2goKGU9Pntjb25zdCB0PXt0eXBlOlwiYXBwZW5kXCIsaWQ6ZS50aWxlLmlkLGFkZE9yVXBkYXRlOm51bGwsZW5kOiEwLHN0YXR1czp0JDUuZW1wdHkoKX07ZS5hZGQoe3F1ZXJ5Om51bGwsbWVzc2FnZTp0fSksdGhpcy5fb25NZXNzYWdlKHQpO30pKSx0aGlzLl9kaWRTZW5kRW5kPSEwO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBhJDEoZSxyLGEsdSxpLHApe2NvbnN0IGY9YyhlLHIsYSx1LGkscCk7c3dpdGNoKGYudHlwZSl7Y2FzZVwiZmVhdHVyZVwiOnN3aXRjaChmLm9yaWdpbil7Y2FzZVwiaG9zdGVkXCI6Y2FzZVwibG9jYWxcIjpyZXR1cm4gbmV3IGQkMShmKTtjYXNlXCJzbmFwc2hvdFwiOnJldHVybiBuZXcgYyQxKGYpO2Nhc2VcInVua25vd25cIjpyZXR1cm4gbmV3IG8kMShmKX1jYXNlXCJnZW9ldmVudFwiOnJldHVybiBuZXcgYihmKX19ZnVuY3Rpb24gYyh0LG8sbixzLGEsYyl7c3dpdGNoKHQudHlwZSl7Y2FzZVwic25hcHNob3RcIjpyZXR1cm4ge3R5cGU6XCJmZWF0dXJlXCIsb3JpZ2luOlwic25hcHNob3RcIixmZWF0dXJlQ291bnQ6YyQ5KHQuZmVhdHVyZUNvdW50LDApLHNlcnZpY2VJbmZvOnQsb25NZXNzYWdlOnMsb3V0U1I6byx0aWxlSW5mb1ZpZXc6bixjYW5BY2NlcHRSZXF1ZXN0OmEsc3RvcmU6Y307Y2FzZVwic3RyZWFtXCI6cmV0dXJuIHt0eXBlOlwiZ2VvZXZlbnRcIixzZXJ2aWNlSW5mbzp0LG9uTWVzc2FnZTpzLG91dFNSOm8sY2FuQWNjZXB0UmVxdWVzdDphfTtjYXNlXCJtZW1vcnlcIjpjYXNlXCJvbi1kZW1hbmRcIjpyZXR1cm4ge3R5cGU6XCJmZWF0dXJlXCIsc2VydmljZUluZm86dCxvbk1lc3NhZ2U6cyxvdXRTUjpvLG9yaWdpbjp1KHQuc291cmNlKSx0aWxlSW5mb1ZpZXc6bixjYW5BY2NlcHRSZXF1ZXN0OmF9fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/XCJsb2NhbFwiOlwicGF0aFwiaW4gZSYmdyQ0KGUucGF0aCk/XCJob3N0ZWRcIjpcInVua25vd25cIn19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB4JDEodCxuKXtsZXQgbz0tOTAsZT05MCxyPS0xODAsYz0xODA7Zm9yKGxldCBoPTA7aDxuO2grKyl7Y29uc3Qgbj1NYXRoLmNlaWwoKGgrMSkvMiksZj1NYXRoLmZsb29yKChoKzEpLzIpLGw9MS1oJTIsYT0zMC0oMypuKzIqZiksdT0zMC0oMipuKzMqZikscz0zKmwrMiooMS1sKSxpPTIqbCszKigxLWwpLE09MypsKzcqKDEtbCk8PHUsZz0oNypsKzMqKDEtbCk8PGEmdC5nZW9oYXNoWCk+PmEsYj0oTSZ0Lmdlb2hhc2hZKT4+dTtmb3IobGV0IHQ9cy0xO3Q+PTA7dC0tKXtjb25zdCBuPShyK2MpLzIsbz1nJjE8PHQ/MTowO3I9KDEtbykqcitvKm4sYz0oMS1vKSpuK28qYzt9Zm9yKGxldCB0PWktMTt0Pj0wO3QtLSl7Y29uc3Qgbj0obytlKS8yLHI9YiYxPDx0PzE6MDtvPSgxLXIpKm8rcipuLGU9KDEtcikqbityKmU7fX1yZXR1cm4gW3IsbyxjLGVdfWZ1bmN0aW9uIHkodCxuLG8sZSl7ZSUyJiYoZSs9MSk7bGV0IHI9MCxjPTAsaD0tOTAsZj05MCxsPS0xODAsYT0xODA7Zm9yKGxldCB1PTA7dTxlLzI7dSsrKXtmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPShsK2EpLzIsZT1vPm4/MTowO3J8PWU8PDI5LSh0KzUqdSksbD0oMS1lKSpsK2UqbixhPSgxLWUpKm4rZSphO31mb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBvPShoK2YpLzIsZT1uPm8/MTowO2N8PWU8PDI5LSh0KzUqdSksaD0oMS1lKSpoK2UqbyxmPSgxLWUpKm8rZSpmO319dC5nZW9oYXNoWD1yLHQuZ2VvaGFzaFk9Yzt9ZnVuY3Rpb24gcCQxKHQsbixvLGUscil7ciUyJiYocis9MSk7bGV0IGM9MCxoPTAsZj0tOTAsbD05MCxhPS0xODAsdT0xODA7Zm9yKGxldCBzPTA7czxyLzI7cysrKXtmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPShhK3UpLzIsbz1lPm4/MTowO2N8PW88PDI5LSh0KzUqcyksYT0oMS1vKSphK28qbix1PSgxLW8pKm4rbyp1O31mb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBuPShmK2wpLzIsZT1vPm4/MTowO2h8PWU8PDI5LSh0KzUqcyksZj0oMS1lKSpmK2UqbixsPSgxLWUpKm4rZSpsO319dFsyKm5dPWMsdFsyKm4rMV09aDt9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBue2NvbnN0cnVjdG9yKHQ9W10scyQxPTgwOTYpe3RoaXMuX25vZGVzPTAsdGhpcy5fcm9vdD1uZXcgYSgwLDAsMCksdGhpcy5fc3RhdGlzdGljRmllbGRzPXQsdGhpcy5fcG9vbD1zJDE/bmV3IHMoODA5Nik6bnVsbDt9X2FjcXVpcmUocyxlLGkpe3RoaXMuX25vZGVzKys7bGV0IG89bnVsbDtyZXR1cm4gciQ5KHRoaXMuX3Bvb2wpJiYobz10aGlzLl9wb29sLmRlcXVldWUoKSksciQ5KG8pP28ucmVhbGxvYyhzLGUsaSk6bmV3IGEocyxlLGkpfV9yZWxlYXNlKHMpe3RoaXMuX25vZGVzLS0sciQ5KHRoaXMuX3Bvb2wpJiZ0aGlzLl9wb29sLmVucXVldWUocyk7fWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9yb290LmNvdW50fWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX25vZGVzfWdldCBwb29sU2l6ZSgpe3JldHVybiB2JDUodGhpcy5fcG9vbCwwLCh0PT50LnNpemUpKX1nZXQgZGVwdGgoKXtsZXQgdD0wO3JldHVybiB0aGlzLl9mb3JFYWNoTm9kZSgocz0+dD1NYXRoLm1heCh0LHMuZGVwdGgpKSksdH1kcm9wTGV2ZWxzKHQpe3RoaXMuX2ZvckVhY2hOb2RlKChzPT57aWYocy5kZXB0aD49dClmb3IobGV0IHQ9MDt0PHMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl7Y29uc3QgZT1zLmNoaWxkcmVuW3RdO3MuY2hpbGRyZW5bdF09bnVsbCxlJiZ0aGlzLl9yZWxlYXNlKGUpO319KSk7fWNsZWFyKCl7dGhpcy5kcm9wTGV2ZWxzKDApO31pbnNlcnQodCxzLGU9MCl7Y29uc3QgaT1jJDYuZnJvbU9wdGltaXplZEZlYXR1cmVzKFt0XSxcImVzcmlHZW9tZXRyeVBvaW50XCIpLmdldEN1cnNvcigpO2kubmV4dCgpO2NvbnN0IG49aS5yZWFkR2VvbWV0cnkoKTtpZighbilyZXR1cm47Y29uc3RbYSxsXT1uLmNvb3JkcyxyPXQuZ2VvaGFzaFgsaD10Lmdlb2hhc2hZO3RoaXMuaW5zZXJ0Q3Vyc29yKGksdC5kaXNwbGF5SWQsYSxsLHIsaCxzLGUpO31pbnNlcnRDdXJzb3IodCxzLGUsaSxvLG4sYSxsPTApe2xldCByPXRoaXMuX3Jvb3QsaD0wLGM9MCxkPTA7Zm9yKDtudWxsIT09cjspe2lmKHIuZGVwdGg+PWwmJihyLmNvdW50Kz0xLHIueFRvdGFsKz1lLHIueVRvdGFsKz1pLHIueEdlb2hhc2hUb3RhbCs9byxyLnlHZW9oYXNoVG90YWwrPW4sci5kaXNwbGF5SWQ9cyx0aGlzLl91cGRhdGVTdGF0aXN0aWNzQ3Vyc29yKHQsciwxKSksaD49YSlyZXR1cm4gdm9pZCByLmFkZChzKTtjb25zdCB1PU1hdGguY2VpbCgoaCsxKS8yKSxmPU1hdGguZmxvb3IoKGgrMSkvMikseD0xLWglMixtPTMwLSgzKnUrMipmKSxwPTMwLSgyKnUrMypmKSx5PShvJjcqeCszKigxLXgpPDxtKT4+bSxnPShuJjMqeCs3KigxLXgpPDxwKT4+cCxfPXkrZyooOCp4KzQqKDEteCkpO2M9Yzw8Myp4KzIqKDEteCl8eSxkPWQ8PDIqeCszKigxLXgpfGcsbnVsbD09ci5jaGlsZHJlbltfXSYmKHIuY2hpbGRyZW5bX109dGhpcy5fYWNxdWlyZShjLGQsaCsxKSksaCs9MSxyPXIuY2hpbGRyZW5bX107fX1yZW1vdmUodCxzKXtjb25zdCBlPWMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW3RdLFwiZXNyaUdlb21ldHJ5UG9pbnRcIikuZ2V0Q3Vyc29yKCk7ZS5uZXh0KCk7Y29uc3QgaT1lLnJlYWRHZW9tZXRyeSgpO2lmKCFpKXJldHVybjtjb25zdFtuLGFdPWkuY29vcmRzLGw9dC5nZW9oYXNoWCxyPXQuZ2VvaGFzaFk7dGhpcy5yZW1vdmVDdXJzb3IoZSxuLGEsbCxyLHMpO31yZW1vdmVDdXJzb3IodCxzLGUsaSxvLG4pe2xldCBhPXRoaXMuX3Jvb3QsbD0wO2Zvcig7bnVsbCE9PWE7KXtpZihhLmNvdW50LT0xLGEueFRvdGFsLT1zLGEueVRvdGFsLT1lLGEueEdlb2hhc2hUb3RhbC09aSxhLnlHZW9oYXNoVG90YWwtPW8sdGhpcy5fdXBkYXRlU3RhdGlzdGljc0N1cnNvcih0LGEsLTEpLGw+PW4pcmV0dXJuIHZvaWQgYS5yZW1vdmUodC5nZXREaXNwbGF5SWQoKSk7Y29uc3Qgcj1NYXRoLmNlaWwoKGwrMSkvMiksaD1NYXRoLmZsb29yKChsKzEpLzIpLGM9MS1sJTIsZD0zMC0oMypyKzIqaCksdT0zMC0oMipyKzMqaCksZj0oKGkmNypjKzMqKDEtYyk8PGQpPj5kKSsoKG8mMypjKzcqKDEtYyk8PHUpPj51KSooOCpjKzQqKDEtYykpLHg9YS5jaGlsZHJlbltmXTsxPT09eC5jb3VudCYmKHRoaXMuX3JlbGVhc2UoeCksYS5jaGlsZHJlbltmXT1udWxsKSxsKz0xLGE9eDt9fWZpbmQodCxzLGUpe3JldHVybiB0aGlzLl9yb290LmZpbmQodCxzLGUsMCwwLDApfWZpbmRTaW5nbGVPY2N1cGFuY3lOb2RlKHQscyxlLGksbyl7bGV0IG49dGhpcy5fcm9vdDtmb3IoO251bGwhPT1uOyl7Y29uc3QgYT1uLmRlcHRoLGw9bi54Tm9kZSxyPW4ueU5vZGUsaD0xLWElMixjPW4ueEdlb2hhc2hUb3RhbC9uLmNvdW50LGQ9bi55R2VvaGFzaFRvdGFsL24uY291bnQ7aWYoMT09PW4uY291bnQmJnQ8YyYmYzw9ZSYmczxkJiZkPD1pKXJldHVybiBuO2lmKGE+PW8pe249bi5uZXh0O2NvbnRpbnVlfWNvbnN0IHU9TWF0aC5jZWlsKChhKzEpLzIpLGY9TWF0aC5mbG9vcigoYSsxKS8yKSx4PTMwLSgzKnUrMipmKSxtPTMwLSgyKnUrMypmKSxwPX4oKDE8PHgpLTEpLHk9figoMTw8bSktMSksZz0odCZwKT4+eCxfPShzJnkpPj5tLE49KGUmcCk+PngsVD0oaSZ5KT4+bSxNPWw8PDMqaCsyKigxLWgpLEM9cjw8MipoKzMqKDEtaCksUz1NKzgqaCs0KigxLWgpLGI9Qys0KmgrOCooMS1oKSx2PU1hdGgubWF4KE0sZyksRz1NYXRoLm1heChDLF8pLGs9TWF0aC5taW4oUyxOKSxGPU1hdGgubWluKGIsVCk7bGV0IEk9bnVsbCx6PW51bGw7Zm9yKGxldCB0PUc7dDw9Rjt0KyspZm9yKGxldCBzPXY7czw9aztzKyspe2NvbnN0IGU9cy1NKyh0LUMpKig4KmgrNCooMS1oKSksaT1uLmNoaWxkcmVuW2VdO2kmJihJfHwoST1pLEkubmV4dD1uLm5leHQpLHomJih6Lm5leHQ9aSksej1pLGkubmV4dD1uLm5leHQpO31uPUl8fG4ubmV4dDt9cmV0dXJuIG51bGx9Z2V0UmVnaW9uRGlzcGxheUlkcyh0LHMsZSxpLG8pe2xldCBuPXRoaXMuX3Jvb3Q7Y29uc3QgYT1bXTtmb3IoO251bGwhPT1uOyl7Y29uc3QgbD1uLmRlcHRoLHI9bi54Tm9kZSxoPW4ueU5vZGU7aWYobD49byl7Y29uc3Qgbz1uLnhHZW9oYXNoVG90YWwvbi5jb3VudCxsPW4ueUdlb2hhc2hUb3RhbC9uLmNvdW50O3Q8PW8mJm88PWUmJnM8PWwmJmw8PWkmJm4uZGlzcGxheUlkcy5mb3JFYWNoKCh0PT5hLnB1c2godCkpKSxuPW4ubmV4dDtjb250aW51ZX1jb25zdCBjPU1hdGguY2VpbCgobCsxKS8yKSxkPU1hdGguZmxvb3IoKGwrMSkvMiksdT0xLWwlMixmPTMwLSgzKmMrMipkKSx4PTMwLSgyKmMrMypkKSxtPX4oKDE8PGYpLTEpLHA9figoMTw8eCktMSkseT0odCZtKT4+ZixnPShzJnApPj54LF89KGUmbSk+PmYsTj0oaSZwKT4+eCxUPXI8PDMqdSsyKigxLXUpLE09aDw8Mip1KzMqKDEtdSksQz1UKzgqdSs0KigxLXUpLFM9TSs0KnUrOCooMS11KSxiPU1hdGgubWF4KFQseSksdj1NYXRoLm1heChNLGcpLEc9TWF0aC5taW4oQyxfKSxrPU1hdGgubWluKFMsTik7bGV0IEY9bnVsbCxJPW51bGw7Zm9yKGxldCB0PXY7dDw9azt0KyspZm9yKGxldCBzPWI7czw9RztzKyspe2NvbnN0IGU9cy1UKyh0LU0pKig4KnUrNCooMS11KSksaT1uLmNoaWxkcmVuW2VdO2kmJihGfHwoRj1pLEYubmV4dD1uLm5leHQpLEkmJihJLm5leHQ9aSksST1pLGkubmV4dD1uLm5leHQpO31uPUZ8fG4ubmV4dDt9cmV0dXJuIGF9Z2V0UmVnaW9uU3RhdGlzdGljcyh0LHMsZSxpLG8pe2xldCBuPXRoaXMuX3Jvb3QsYT0wLGw9MCxyPTA7Y29uc3QgaD17fTtsZXQgYz0wO2Zvcig7bnVsbCE9PW47KXtjb25zdCBkPW4uZGVwdGgsdT1uLnhOb2RlLGY9bi55Tm9kZTtpZihkPj1vKXtjb25zdCBvPW4ueEdlb2hhc2hUb3RhbC9uLmNvdW50LGQ9bi55R2VvaGFzaFRvdGFsL24uY291bnQ7dDxvJiZvPD1lJiZzPGQmJmQ8PWkmJihhKz1uLmNvdW50LGwrPW4ueFRvdGFsLHIrPW4ueVRvdGFsLDE9PT1uLmNvdW50JiYoYz1uLmRpc3BsYXlJZCksdGhpcy5fYWdncmVnYXRlU3RhdGlzdGljcyhoLG4uc3RhdGlzdGljcykpLG49bi5uZXh0O2NvbnRpbnVlfWNvbnN0IHg9TWF0aC5jZWlsKChkKzEpLzIpLG09TWF0aC5mbG9vcigoZCsxKS8yKSxwPTEtZCUyLHk9MzAtKDMqeCsyKm0pLGc9MzAtKDIqeCszKm0pLF89figoMTw8eSktMSksTj1+KCgxPDxnKS0xKSxUPSh0Jl8pPj55LE09KHMmTik+PmcsQz0oZSZfKT4+eSxTPShpJk4pPj5nLGI9dTw8MypwKzIqKDEtcCksdj1mPDwyKnArMyooMS1wKSxHPWIrOCpwKzQqKDEtcCksaz12KzQqcCs4KigxLXApLEY9TWF0aC5tYXgoYixUKSxJPU1hdGgubWF4KHYsTSksej1NYXRoLm1pbihHLEMpLHc9TWF0aC5taW4oayxTKTtsZXQgQT1udWxsLGo9bnVsbDtmb3IobGV0IG89STtvPD13O28rKylmb3IobGV0IGQ9RjtkPD16O2QrKyl7Y29uc3QgdT1kLWIrKG8tdikqKDgqcCs0KigxLXApKSxmPW4uY2hpbGRyZW5bdV07aWYoZil7aWYobyE9PUkmJm8hPT13JiZkIT09RiYmZCE9PXope2NvbnN0IG89Zi54R2VvaGFzaFRvdGFsL2YuY291bnQsbj1mLnlHZW9oYXNoVG90YWwvZi5jb3VudDt0PG8mJm88PWUmJnM8biYmbjw9aSYmKGErPWYuY291bnQsbCs9Zi54VG90YWwscis9Zi55VG90YWwsMT09PWYuY291bnQmJihjPWYuZGlzcGxheUlkKSx0aGlzLl9hZ2dyZWdhdGVTdGF0aXN0aWNzKGgsZi5zdGF0aXN0aWNzKSk7Y29udGludWV9QXx8KEE9ZixBLm5leHQ9bi5uZXh0KSxqJiYoai5uZXh0PWYpLGo9ZixmLm5leHQ9bi5uZXh0O319bj1BfHxuLm5leHQ7fXJldHVybiB7Y291bnQ6YSxhdHRyaWJ1dGVzOnRoaXMuX25vcm1hbGl6ZVN0YXRpc3RpY3MoaCxhKSx4VG90YWw6bCx5VG90YWw6cixyZWZlcmVuY2VJZDpjfX1fZm9yRWFjaE5vZGUodCl7bGV0IHM9dGhpcy5fcm9vdDtmb3IoO251bGwhPT1zOyl7Y29uc3QgZT10aGlzLl9saW5rQ2hpbGRyZW4ocyl8fHMubmV4dDt0KHMpLHM9ZTt9fV9saW5rQ2hpbGRyZW4odCl7bGV0IHM9bnVsbCxlPW51bGw7Zm9yKGxldCBpPTA7aTw9dC5jaGlsZHJlbi5sZW5ndGg7aSsrKXtjb25zdCBvPXQuY2hpbGRyZW5baV07byYmKHN8fChzPW8scy5uZXh0PXQubmV4dCksZSYmKGUubmV4dD1vKSxlPW8sby5uZXh0PXQubmV4dCk7fXJldHVybiBzfV91cGRhdGVTdGF0aXN0aWNzQ3Vyc29yKHQscyxlKXtmb3IoY29uc3QgaSBvZiB0aGlzLl9zdGF0aXN0aWNGaWVsZHMpe2NvbnN0IG89aS5uYW1lLG49aS5pbkZpZWxkP3QucmVhZEF0dHJpYnV0ZShpLmluRmllbGQpOnQuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChpLmluRmllbGRJbmRleCk7c3dpdGNoKGkuc3RhdGlzdGljVHlwZSl7Y2FzZVwibm9ybVwiOntzLnN0YXRpc3RpY3Nbb118fChzLnN0YXRpc3RpY3Nbb109e30pO2NvbnN0IGE9aS5pbk5vcm1hbGl6YXRpb25GaWVsZCxsPXQucmVhZEF0dHJpYnV0ZShhKSxyPXMuc3RhdGlzdGljc1tvXS5vblN0YXRpc3RpY0ZpZWxkfHwwLGg9cy5zdGF0aXN0aWNzW29dLm9uU3RhdGlzdGljTm9ybWFsaXphdGlvbkZpZWxkfHwwO251bGw9PW58fGlzTmFOKG4pfHxudWxsPT1sfHwwPT09bHx8aXNOYU4obCl8fChzLnN0YXRpc3RpY3Nbb10ub25TdGF0aXN0aWNGaWVsZD1yK2UqbixzLnN0YXRpc3RpY3Nbb10ub25TdGF0aXN0aWNOb3JtYWxpemF0aW9uRmllbGQ9aCtlKmwpO2JyZWFrfWNhc2VcInN1bVwiOmNhc2VcImF2Z1wiOntzLnN0YXRpc3RpY3Nbb118fChzLnN0YXRpc3RpY3Nbb109e3ZhbHVlOjAsbmFuQ291bnQ6MH0pO2NvbnN0IHQ9cy5zdGF0aXN0aWNzW29dLnZhbHVlLGk9cy5zdGF0aXN0aWNzW29dLm5hbkNvdW50O251bGw9PW58fGlzTmFOKG4pP3Muc3RhdGlzdGljc1tvXS5uYW5Db3VudD1pK2U6cy5zdGF0aXN0aWNzW29dLnZhbHVlPXQrZSpuO2JyZWFrfWNhc2VcImF2Z19hbmdsZVwiOntzLnN0YXRpc3RpY3Nbb118fChzLnN0YXRpc3RpY3Nbb109e3g6MCx5OjAsbmFuQ291bnQ6MH0pO2NvbnN0IHQ9cy5zdGF0aXN0aWNzW29dLngsaT1zLnN0YXRpc3RpY3Nbb10ueSxhPXMuc3RhdGlzdGljc1tvXS5uYW5Db3VudCxsPU1hdGguUEkvMTgwO251bGw9PW58fGlzTmFOKG4pP3Muc3RhdGlzdGljc1tvXS5uYW5Db3VudD1hK2U6KHMuc3RhdGlzdGljc1tvXS54PXQrZSpNYXRoLmNvcyhuKmwpLHMuc3RhdGlzdGljc1tvXS55PWkrZSpNYXRoLnNpbihuKmwpKTticmVha31jYXNlXCJtb2RlXCI6e3Muc3RhdGlzdGljc1tvXXx8KHMuc3RhdGlzdGljc1tvXT17fSk7Y29uc3QgdD1zLnN0YXRpc3RpY3Nbb11bbl18fDA7cy5zdGF0aXN0aWNzW29dW25dPXQrZTticmVha319fX1fYWdncmVnYXRlU3RhdGlzdGljcyh0LHMpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3N0YXRpc3RpY0ZpZWxkcyl7Y29uc3QgaT1lLm5hbWU7c3dpdGNoKGUuc3RhdGlzdGljVHlwZSl7Y2FzZVwic3VtXCI6Y2FzZVwiYXZnXCI6Y2FzZVwiYXZnX2FuZ2xlXCI6Y2FzZVwibW9kZVwiOmNhc2VcIm5vcm1cIjp0W2ldfHwodFtpXT17fSk7Zm9yKGNvbnN0IGUgaW4gc1tpXSl7Y29uc3Qgbz10W2ldW2VdfHwwO3RbaV1bZV09bytzW2ldW2VdO319fX1fbm9ybWFsaXplU3RhdGlzdGljcyh0LHMpe2NvbnN0IGU9e307Zm9yKGNvbnN0IGkgb2YgdGhpcy5fc3RhdGlzdGljRmllbGRzKXtjb25zdCBvPWkubmFtZTtzd2l0Y2goaS5zdGF0aXN0aWNUeXBlKXtjYXNlXCJub3JtXCI6e2NvbnN0IGk9dFtvXTtpZihzJiZudWxsPT1pLm9uU3RhdGlzdGljTm9ybWFsaXphdGlvbkZpZWxkKWJyZWFrO2lmKHMmJmkub25TdGF0aXN0aWNOb3JtYWxpemF0aW9uRmllbGQpe2Vbb109aS5vblN0YXRpc3RpY0ZpZWxkL2kub25TdGF0aXN0aWNOb3JtYWxpemF0aW9uRmllbGQ7YnJlYWt9ZVtvXT0wO2JyZWFrfWNhc2VcInN1bVwiOntpZighcylicmVhaztjb25zdHt2YWx1ZTppLG5hbkNvdW50Om59PXRbb107aWYoIShzLW4pKWJyZWFrO2Vbb109aTticmVha31jYXNlXCJhdmdcIjp7aWYoIXMpYnJlYWs7Y29uc3R7dmFsdWU6aSxuYW5Db3VudDpufT10W29dO2lmKCEocy1uKSlicmVhaztlW29dPWkvKHMtbik7YnJlYWt9Y2FzZVwiYXZnX2FuZ2xlXCI6e2lmKCFzKWJyZWFrO2NvbnN0e3g6aSx5Om4sbmFuQ291bnQ6YX09dFtvXTtpZighKHMtYSkpYnJlYWs7Y29uc3QgbD1pLyhzLWEpLHI9bi8ocy1hKSxoPTE4MC9NYXRoLlBJLGM9TWF0aC5hdGFuMihyLGwpKmg7ZVtvXT1jO2JyZWFrfWNhc2VcIm1vZGVcIjp7Y29uc3Qgcz10W29dO2xldCBpPTAsbj1udWxsO2Zvcihjb25zdCB0IGluIHMpe2NvbnN0IGU9c1t0XTtlPmkmJihpPWUsbj10KTt9ZVtvXT1cIm51bGxcIj09PW4/bnVsbDpuO2JyZWFrfX19cmV0dXJuIGV9fWNsYXNzIGF7Y29uc3RydWN0b3IodCxzLGUpe3RoaXMuY291bnQ9MCx0aGlzLnhUb3RhbD0wLHRoaXMueVRvdGFsPTAsdGhpcy5zdGF0aXN0aWNzPXt9LHRoaXMuZGlzcGxheUlkPTAsdGhpcy5kaXNwbGF5SWRzPW5ldyBTZXQsdGhpcy5uZXh0PW51bGwsdGhpcy5kZXB0aD0wLHRoaXMueE5vZGU9MCx0aGlzLnlOb2RlPTAsdGhpcy54R2VvaGFzaFRvdGFsPTAsdGhpcy55R2VvaGFzaFRvdGFsPTAsdGhpcy5jaGlsZHJlbj1uZXcgQXJyYXkoMzIpO2ZvcihsZXQgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXRoaXMuY2hpbGRyZW5baV09bnVsbDt0aGlzLnhOb2RlPXQsdGhpcy55Tm9kZT1zLHRoaXMuZGVwdGg9ZTt9cmVhbGxvYyh0LHMsZSl7Zm9yKGxldCBpPTA7aTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtpKyspdGhpcy5jaGlsZHJlbltpXT1udWxsO3JldHVybiB0aGlzLnhOb2RlPXQsdGhpcy55Tm9kZT1zLHRoaXMuZGVwdGg9ZSx0aGlzLm5leHQ9bnVsbCx0aGlzLnhHZW9oYXNoVG90YWw9MCx0aGlzLnlHZW9oYXNoVG90YWw9MCx0aGlzLnhUb3RhbD0wLHRoaXMueVRvdGFsPTAsdGhpcy5jb3VudD0wLHRoaXMuc3RhdGlzdGljcz17fSx0aGlzLmRpc3BsYXlJZHMuY2xlYXIoKSx0aGlzfWFkZCh0KXt0aGlzLmRpc3BsYXlJZHMuYWRkKHQpO31yZW1vdmUodCl7dGhpcy5kaXNwbGF5SWRzLmRlbGV0ZSh0KTt9Z2V0TG5nTGF0Qm91bmRzKCl7Y29uc3QgdD10aGlzLmRlcHRoLHM9TWF0aC5jZWlsKHQvMiksZT1NYXRoLmZsb29yKHQvMiksbz0zMC0oMypzKzIqZSksbj0zMC0oMipzKzMqZSksYT10aGlzLnhOb2RlPDxvLGw9dGhpcy55Tm9kZTw8bjtyZXR1cm4geCQxKHtnZW9oYXNoWDphLGdlb2hhc2hZOmx9LHRoaXMuZGVwdGgpfWZpbmQodCxzLGUsaSxvLG4pe2lmKGk+PWUpcmV0dXJuIHRoaXM7Y29uc3QgYT0xLWklMixsPTMqYSsyKigxLWEpLHI9MiphKzMqKDEtYSksaD0zMC1vLWwsYz0zMC1uLXIsZD0oKHQmNyphKzMqKDEtYSk8PGgpPj5oKSsoKHMmMyphKzcqKDEtYSk8PGMpPj5jKSooOCphKzQqKDEtYSkpLHU9dGhpcy5jaGlsZHJlbltkXTtyZXR1cm4gbnVsbD09dT9udWxsOnUuZmluZCh0LHMsZSxpKzEsbytsLG4rcil9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgUiQxPTEyLEMkMT0xO2NsYXNzIE0gZXh0ZW5kcyB0JDl7Y29uc3RydWN0b3IoZSx0LHMscixhKXtzdXBlcihuZXcgdCRhKFtdLFt0LHNdKSxyLG51bGwsZSksdGhpcy5nZW9oYXNoQm91bmRzSW5mbz1hO31nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmNsdXN0ZXJfY291bnR9c3RhdGljIGNyZWF0ZShlLHQscyxyLGEsaSxvLGgpe2NvbnN0IGw9bmV3IE0odCxzLHIsaSxvKTtyZXR1cm4gbC5kaXNwbGF5SWQ9ZS5jcmVhdGVEaXNwbGF5SWQoITApLGwucmVmZXJlbmNlSWQ9aCxsLnRpbGVMZXZlbD1hLGx9dXBkYXRlKGUsdCxzLHIsYSxpKXtyZXR1cm4gdGhpcy5nZW9tZXRyeS5jb29yZHNbMF09ZSx0aGlzLmdlb21ldHJ5LmNvb3Jkc1sxXT10LHRoaXMudGlsZUxldmVsPXMsdGhpcy5hdHRyaWJ1dGVzPXIsdGhpcy5nZW9oYXNoQm91bmRzSW5mbz1hLHRoaXMucmVmZXJlbmNlSWQ9bnVsbCx0aGlzLnJlZmVyZW5jZUlkPWksdGhpc310b0pTT04oKXtyZXR1cm4ge29iamVjdElkOnRoaXMub2JqZWN0SWQscmVmZXJlbmNlSWQ6MT09PXRoaXMuYXR0cmlidXRlcy5jbHVzdGVyX2NvdW50P3RoaXMucmVmZXJlbmNlSWQ6bnVsbCxhdHRyaWJ1dGVzOnsuLi50aGlzLmF0dHJpYnV0ZXMsY2x1c3RlcklkOnRoaXMub2JqZWN0SWR9LGdlb21ldHJ5Ont4OnRoaXMuZ2VvbWV0cnkuY29vcmRzWzBdLHk6dGhpcy5nZW9tZXRyeS5jb29yZHNbMV19fX19ZnVuY3Rpb24geChlKXtyZXR1cm4gNTcuMjk1Nzc5NTEzMDgyMzIqZX1jbGFzcyBMIGV4dGVuZHMgbyQze2NvbnN0cnVjdG9yKGUsdCxzKXtzdXBlcihlLHMpLHRoaXMuZXZlbnRzPW5ldyBuJDgsdGhpcy5fZ2VvaGFzaExldmVsPTAsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXM9e30sdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNDaGFuZ2VkPSExLHRoaXMuX2dlb2hhc2hCdWY9W10sdGhpcy5fY2x1c3RlcnM9bmV3IE1hcCx0aGlzLl90aWxlcz1uZXcgTWFwLHRoaXMuZ2VvbWV0cnlJbmZvPWUuZ2VvbWV0cnlJbmZvLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2U9dCx0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrPXAkOSh0LGskNS5XR1M4NCksdGhpcy5fYml0c2V0cy5nZW9oYXNoPXMuZ2V0Qml0c2V0KHMuY3JlYXRlQml0c2V0KCkpLHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQ9cy5nZXRCaXRzZXQocy5jcmVhdGVCaXRzZXQoKSk7fWFzeW5jIHVwZGF0ZVNjaGVtYShzLHIpe2NvbnN0IGE9dGhpcy5fc2NoZW1hO3RyeXthd2FpdCBzdXBlci51cGRhdGVTY2hlbWEocyxyKSxhd2FpdCB0aGlzLl9wcm9qZWN0aW9uU3VwcG9ydENoZWNrO31jYXRjaChvKXt9Y29uc3QgaT1tJDkoYSxyKTtyJiYoIXQkNyhpKXx8cy5zb3VyY2V8fHMuc3RvcmFnZS5maWx0ZXJzKT8oKGEkOChpLFwicGFyYW1zLmZpZWxkc1wiKXx8IXRoaXMuX3RyZWV8fHMuc291cmNlKSYmKHRoaXMuX3RyZWU9bmV3IG4odGhpcy5fc3RhdGlzdGljRmllbGRzKSx0aGlzLl9yZWJ1aWxkVHJlZSgpLHQkNihcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQWdncmVnYXRlIG1lc2ggbmVlZHMgdXBkYXRlIGR1ZSB0byB0cmVlIGNoYW5naW5nXCIpKSx0JDYoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkFwcGx5aW5nIFVwZGF0ZSAtIENsdXN0ZXJTdG9yZTpcIixpKSxzLnRhcmdldHNbci5uYW1lXT0hMCxzLm1lc2g9ITEsdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXM9e30pOmEmJihzLm1lc2g9ITApO31zd2VlcEZlYXR1cmVzKGUsdCl7dGhpcy5fYml0c2V0cy5pbnNlcnRlZC5mb3JFYWNoU2V0KChzPT57aWYoIWUuaGFzKHMpKXtjb25zdCBlPXQubG9va3VwQnlEaXNwbGF5SWRVbnNhZmUocyk7dGhpcy5fcmVtb3ZlKGUpO319KSk7fXN3ZWVwQ2x1c3RlcnMoZSx0LHMpe3RoaXMuX2NsdXN0ZXJzLmZvckVhY2goKChyLGEpPT57ciYmci50aWxlTGV2ZWwhPT1zJiYoZS5yZWxlYXNlRGlzcGxheUlkKHIuZGlzcGxheUlkKSx0LnVuc2V0QXR0cmlidXRlRGF0YShyLmRpc3BsYXlJZCksdGhpcy5fY2x1c3RlcnMuZGVsZXRlKGEpKTt9KSk7fW9uVGlsZURhdGEoZSxzLHIsYSxpPSEwKXtpZighdGhpcy5fc2NoZW1hfHx0JDcocy5hZGRPclVwZGF0ZSkpcmV0dXJuIHM7Y29uc3Qgbz10aGlzLl90cmVlLGg9dGhpcy5fZ2V0VHJhbnNmb3JtcyhlLHRoaXMuX3NwYXRpYWxSZWZlcmVuY2UpO3tjb25zdCBlPXMuYWRkT3JVcGRhdGUuZ2V0Q3Vyc29yKCk7Zm9yKDtlLm5leHQoKTspdGhpcy5fdXBkYXRlKGUsYSxvKTt9aWYocy5zdGF0dXMubWVzaHx8IWkpcmV0dXJuIHM7Y29uc3QgbD1uZXcgQXJyYXksbj10aGlzLl9zY2hlbWEucGFyYW1zLmNsdXN0ZXJSYWRpdXM7dGhpcy5fZ2V0Q2x1c3RlcnNGb3JUaWxlKGwsZSxuLHIsbyxoKSxzLmFkZE9yVXBkYXRlPWMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZXMobCxcImVzcmlHZW9tZXRyeVBvaW50XCIpLHMuYWRkT3JVcGRhdGUuYXR0YWNoU3RvcmFnZShyKSxzLmVuZD0hMDt7Y29uc3QgdD1zLmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7dC5uZXh0KCk7KXtjb25zdCBzPXQuZ2V0RGlzcGxheUlkKCk7dGhpcy5fYml0c2V0cy5jb21wdXRlZC51bnNldChzKSx0aGlzLnNldENvbXB1dGVkQXR0cmlidXRlcyhyLHQscyxlLnNjYWxlKTt9fXJldHVybiB0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc0NoYW5nZWQmJnMuZW5kJiYodGhpcy5ldmVudHMuZW1pdChcInZhbHVlUmFuZ2VzQ2hhbmdlZFwiLHt2YWx1ZVJhbmdlczp0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc30pLHRoaXMuX2FnZ3JlZ2F0ZVZhbHVlUmFuZ2VzQ2hhbmdlZD0hMSksc31vblRpbGVVcGRhdGUoe2FkZGVkOmUscmVtb3ZlZDp0fSl7aWYoZS5sZW5ndGgpe2NvbnN0IHQ9ZVswXS5sZXZlbDt0aGlzLl9zZXRHZW9oYXNoTGV2ZWwodCk7fWlmKCF0aGlzLl9zY2hlbWEpcmV0dXJuO2NvbnN0IHM9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzO3QuZm9yRWFjaCgoZT0+e3RoaXMuX3RpbGVzLmRlbGV0ZShlLmtleS5pZCksdGhpcy5fbWFya1RpbGVDbHVzdGVyc0ZvckRlbGV0aW9uKGUscyk7fSkpO31nZXRBZ2dyZWdhdGUoZSl7bGV0IHQ9bnVsbDtyZXR1cm4gdGhpcy5fY2x1c3RlcnMuZm9yRWFjaCgocz0+e3MmJnMuZGlzcGxheUlkPT09ZSYmKHQ9cy50b0pTT04oKSk7fSkpLHR9Z2V0RGlzcGxheUlkKGUpe2NvbnN0IHQ9dGhpcy5fY2x1c3RlcnMuZ2V0KGUpO3JldHVybiB0P3QuZGlzcGxheUlkOm51bGx9Z2V0RmVhdHVyZURpc3BsYXlJZHNGb3JBZ2dyZWdhdGUoZSl7Y29uc3QgdD10aGlzLl9jbHVzdGVycy5nZXQoZSk7aWYoIXQpcmV0dXJuIFtdO2NvbnN0IHM9dC5nZW9oYXNoQm91bmRzSW5mbztyZXR1cm4gdGhpcy5fdHJlZS5nZXRSZWdpb25EaXNwbGF5SWRzKHMueExMLHMueUxMLHMueFRSLHMueVRSLHMubGV2ZWwpfWdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKGUpe2xldCB0O3JldHVybiB0aGlzLl9jbHVzdGVycy5mb3JFYWNoKChzPT57cyYmcy5yZWZlcmVuY2VJZD09PWUmJih0PXMuZGlzcGxheUlkKTt9KSksdH1nZXRBZ2dyZWdhdGVWYWx1ZVJhbmdlcygpe3JldHVybiB0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc31mb3JFYWNoKGUpe3RoaXMuX2NsdXN0ZXJzLmZvckVhY2goKCh0LHMpPT57dCYmZSh0LHMpO30pKTt9c2l6ZSgpe2xldCBlPTA7cmV0dXJuIHRoaXMuZm9yRWFjaCgodD0+ZSsrKSksZX1fcmVidWlsZFRyZWUoKXt0aGlzLl9iaXRzZXRzLmNvbXB1dGVkLmNsZWFyKCksdGhpcy5fYml0c2V0cy5pbnNlcnRlZC5jbGVhcigpLHRoaXMuX3RyZWUmJnRoaXMuX3RyZWUuY2xlYXIoKTt9X3JlbW92ZShlKXtjb25zdCB0PWUuZ2V0RGlzcGxheUlkKCkscz1lLmdldFhIeWRyYXRlKCkscj1lLmdldFlIeWRyYXRlKCksYT10aGlzLl9nZW9oYXNoQnVmWzIqdF0saT10aGlzLl9nZW9oYXNoQnVmWzIqdCsxXTt0aGlzLl9iaXRzZXRzLmluc2VydGVkLmhhcyh0KSYmKHRoaXMuX2JpdHNldHMuaW5zZXJ0ZWQudW5zZXQodCksdGhpcy5fdHJlZS5yZW1vdmVDdXJzb3IoZSxzLHIsYSxpLHRoaXMuX2dlb2hhc2hMZXZlbCkpO31fdXBkYXRlKGUsdCxzKXtjb25zdCByPWUuZ2V0RGlzcGxheUlkKCksYT10aGlzLl9iaXRzZXRzLmluc2VydGVkLGk9dC5pc1Zpc2libGUocik7aWYoaT09PWEuaGFzKHIpKXJldHVybjtpZighaSlyZXR1cm4gdm9pZCB0aGlzLl9yZW1vdmUoZSk7Y29uc3Qgbz1lLmdldFhIeWRyYXRlKCksaD1lLmdldFlIeWRyYXRlKCk7aWYoIXRoaXMuX3NldEdlb2hhc2gocixvLGgpKXJldHVybjtjb25zdCBsPXRoaXMuX2dlb2hhc2hCdWZbMipyXSxuPXRoaXMuX2dlb2hhc2hCdWZbMipyKzFdO3MuaW5zZXJ0Q3Vyc29yKGUscixvLGgsbCxuLHRoaXMuX2dlb2hhc2hMZXZlbCksYS5zZXQocik7fV9zZXRHZW9oYXNoKGUsdCxzKXtpZih0aGlzLl9iaXRzZXRzLmdlb2hhc2guaGFzKGUpKXJldHVybiAhMDtjb25zdCByPXRoaXMuX2dlb2hhc2hCdWY7aWYodGhpcy5fc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKXtjb25zdCBhPXgodC9zJDYucmFkaXVzKSxpPWEtMzYwKk1hdGguZmxvb3IoKGErMTgwKS8zNjApLGg9eChNYXRoLlBJLzItMipNYXRoLmF0YW4oTWF0aC5leHAoLTEqcy9zJDYucmFkaXVzKSkpO3AkMShyLGUsaCxpLFIkMSk7fWVsc2Uge2NvbnN0IGE9eSRhKHt4OnQseTpzfSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLGskNS5XR1M4NCk7aWYoIWEpcmV0dXJuICExO3AkMShyLGUsYS55LGEueCxSJDEpO31yZXR1cm4gdGhpcy5fYml0c2V0cy5nZW9oYXNoLnNldChlKSwhMH1fZ2V0Q2x1c3RlcnNGb3JUaWxlKGUsYSxpLG8saCxsLG49ITApe2NvbnN0IGM9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUGl4ZWxCdWZmZXIscD0yKmksZj10aGlzLl9nZXRHZW9oYXNoTGV2ZWwoYS5rZXkubGV2ZWwpLF89TWF0aC5jZWlsKDIqKmEua2V5LmxldmVsKm8kYS9wKSxtPU1hdGguY2VpbChjL3ApKzAsST1NYXRoLmNlaWwobyRhL3ApLHtyb3c6Yixjb2w6dn09YS5rZXksUj12Km8kYSxDPWIqbyRhLE09TWF0aC5mbG9vcihSL3ApLW0seD1NYXRoLmZsb29yKEMvcCktbSxMPU0rSSsyKm0saj14K0krMiptLHc9YS50aWxlSW5mb1ZpZXcuZ2V0TE9ESW5mb0F0KGEua2V5LmxldmVsKTtmb3IobGV0IHk9TTt5PD1MO3krKylmb3IobGV0IGk9eDtpPD1qO2krKyl7bGV0IGM9eTt3LndyYXAmJihjPXk8MD95K186eSVfKTtjb25zdCBwPXcud3JhcCYmeTwwLG09dy53cmFwJiZ5JV8hPT15LEk9dGhpcy5fbG9va3VwQ2x1c3RlcihvLHcsYS5rZXkubGV2ZWwsYyxpLGYsaCk7aWYociQ5KEkpKXtjb25zdCBhPUEkMyhsLChlPT5wP2UubGVmdDptP2UucmlnaHQ6ZS50aWxlKSk7aWYobiYmdCQ3KGEpKWNvbnRpbnVlO2lmKCFJLmNvdW50KWNvbnRpbnVlO2lmKHIkOShhKSYmbil7Y29uc3QgdD1JLmdlb21ldHJ5LmNsb25lKCk7bGV0IHI9SS5hdHRyaWJ1dGVzO3QuY29vcmRzWzBdPXAkOChhLHQuY29vcmRzWzBdKSx0LmNvb3Jkc1sxXT1JJDYoYSx0LmNvb3Jkc1sxXSksMT09PUkuY291bnQmJnIkOShJLnJlZmVyZW5jZUlkKSYmKHI9ey4uLkkuYXR0cmlidXRlcyxyZWZlcmVuY2VJZDpJLnJlZmVyZW5jZUlkfSk7Y29uc3QgaT1uZXcgdCQ5KHQscik7aS5kaXNwbGF5SWQ9SS5kaXNwbGF5SWQsZS5wdXNoKGkpO319fX1fZ2V0R2VvaGFzaExldmVsKGUpe3JldHVybiBNYXRoLm1pbihNYXRoLmNlaWwoZS8yKzIpLFIkMSl9X3NldEdlb2hhc2hMZXZlbChlKXtjb25zdCB0PXRoaXMuX2dldEdlb2hhc2hMZXZlbChlKSxzPShNYXRoLmZsb29yKHQvQyQxKSsxKSpDJDEtMTtpZih0aGlzLl9nZW9oYXNoTGV2ZWwhPT1zKXJldHVybiB0aGlzLl9nZW9oYXNoTGV2ZWw9cyx0aGlzLl9yZWJ1aWxkVHJlZSgpLHZvaWQgdGhpcy5fYml0c2V0cy5nZW9oYXNoLmNsZWFyKCl9X2dldFRyYW5zZm9ybXMoZSx0KXtjb25zdCBzPXtvcmlnaW5Qb3NpdGlvbjpcInVwcGVyTGVmdFwiLHNjYWxlOltlLnJlc29sdXRpb24sZS5yZXNvbHV0aW9uXSx0cmFuc2xhdGU6W2UuYm91bmRzWzBdLGUuYm91bmRzWzNdXX0scj1TKHQpO2lmKCFyKXJldHVybiB7dGlsZTpzLGxlZnQ6bnVsbCxyaWdodDpudWxsfTtjb25zdFtpLG9dPXIudmFsaWQ7cmV0dXJuIHt0aWxlOnMsbGVmdDp7Li4ucyx0cmFuc2xhdGU6W28sZS5ib3VuZHNbM11dfSxyaWdodDp7Li4ucyx0cmFuc2xhdGU6W2ktbytlLmJvdW5kc1swXSxlLmJvdW5kc1szXV19fX1fZ2V0Q2x1c3RlcklkKGUsdCxzKXtyZXR1cm4gKDE1JmUpPDwyOHwoMTYzODMmdCk8PDE0fDE2MzgzJnN9X21hcmtGb3JEZWxldGlvbihlLHQscyl7Y29uc3Qgcj10aGlzLl9nZXRDbHVzdGVySWQoZSx0LHMpO3RoaXMuX2NsdXN0ZXJzLmRlbGV0ZShyKTt9X2dldENsdXN0ZXJCb3VuZHMoZSx0LHMpe2NvbnN0IHI9dGhpcy5fc2NoZW1hLnBhcmFtcy5jbHVzdGVyUmFkaXVzLGE9MipyO2xldCBpPXMlMj90KmE6dCphLXI7Y29uc3Qgbz1zKmE7bGV0IGg9aSthO2NvbnN0IGw9by1hLG49MioqZS5sZXZlbCpvJGE7ZS53cmFwJiZpPDAmJihpPTApLGUud3JhcCYmaD5uJiYoaD1uKTtjb25zdCB1PWkvbyRhLGM9by9vJGEsZz1oL28kYSxkPWwvbyRhO3JldHVybiBbZS5nZXRYRm9yQ29sdW1uKHUpLGUuZ2V0WUZvclJvdyhjKSxlLmdldFhGb3JDb2x1bW4oZyksZS5nZXRZRm9yUm93KGQpXX1fbG9va3VwQ2x1c3RlcihlLHQscixhLGgsbCxuKXtjb25zdCB1PXRoaXMuX2dldENsdXN0ZXJJZChyLGEsaCksYz10aGlzLl9jbHVzdGVycy5nZXQodSksW2csZCxwLF9dPXRoaXMuX2dldENsdXN0ZXJCb3VuZHModCxhLGgpLG09e3g6Zyx5OmR9LHkkMT17eDpwLHk6X307bGV0IEk9MCx2PTAsUj0wLEM9MDtpZih0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3Ipe3tjb25zdCBlPXgobS54L3MkNi5yYWRpdXMpO0k9ZS0zNjAqTWF0aC5mbG9vcigoZSsxODApLzM2MCksdj14KE1hdGguUEkvMi0yKk1hdGguYXRhbihNYXRoLmV4cCgtMSptLnkvcyQ2LnJhZGl1cykpKTt9e2NvbnN0IGU9eCh5JDEueC9zJDYucmFkaXVzKTtSPWUtMzYwKk1hdGguZmxvb3IoKGUrMTgwKS8zNjApLEM9eChNYXRoLlBJLzItMipNYXRoLmF0YW4oTWF0aC5leHAoLTEqeSQxLnkvcyQ2LnJhZGl1cykpKTt9fWVsc2Uge2NvbnN0IGU9eSRhKG0sdGhpcy5fc3BhdGlhbFJlZmVyZW5jZSxrJDUuV0dTODQpLHQ9eSRhKHkkMSx0aGlzLl9zcGF0aWFsUmVmZXJlbmNlLGskNS5XR1M4NCk7aWYoIWV8fCF0KXJldHVybiBudWxsO0k9ZS54LHY9ZS55LFI9dC54LEM9dC55O31jb25zdCBMPXtnZW9oYXNoWDowLGdlb2hhc2hZOjB9LGo9e2dlb2hhc2hYOjAsZ2VvaGFzaFk6MH07eShMLHYsSSxsKSx5KGosQyxSLGwpO2NvbnN0IHc9TC5nZW9oYXNoWCxWPUwuZ2VvaGFzaFksRj1qLmdlb2hhc2hYLFM9ai5nZW9oYXNoWSxEPXt4TEw6dyx5TEw6Vix4VFI6Rix5VFI6UyxsZXZlbDpsfSxUPW4uZ2V0UmVnaW9uU3RhdGlzdGljcyh3LFYsRixTLGwpLHtjb3VudDprLHhUb3RhbDpCLHlUb3RhbDpHLHJlZmVyZW5jZUlkOk99PVQsVT1rP0IvazowLEE9az9HL2s6MDtpZigwPT09aylyZXR1cm4gdGhpcy5fY2x1c3RlcnMuc2V0KHUsbnVsbCksbnVsbDtjb25zdCBFPXtjbHVzdGVyX2NvdW50OmssLi4uVC5hdHRyaWJ1dGVzfSxYPXIkOShjKT9jLnVwZGF0ZShVLEEscixFLEQsTyk6TS5jcmVhdGUoZSx1LFUsQSxyLEUsRCxPKTtyZXR1cm4gMD09PWsmJihYLmdlb21ldHJ5LmNvb3Jkc1swXT0oZytwKS8yLFguZ2VvbWV0cnkuY29vcmRzWzFdPShkK18pLzIpLHRoaXMuX2NsdXN0ZXJzLnNldCh1LFgpLHRoaXMuX3VwZGF0ZUFnZ3JlZ2F0ZVZhbHVlUmFuZ2VGb3JDbHVzdGVyKFgsWC50aWxlTGV2ZWwpLFh9X3VwZGF0ZUFnZ3JlZ2F0ZVZhbHVlUmFuZ2VGb3JDbHVzdGVyKGUsdCl7Y29uc3Qgcz10aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc1t0XXx8e21pblZhbHVlOjEvMCxtYXhWYWx1ZTowfSxyPXMubWluVmFsdWUsYT1zLm1heFZhbHVlO3MubWluVmFsdWU9TWF0aC5taW4ocixlLmNvdW50KSxzLm1heFZhbHVlPU1hdGgubWF4KGEsZS5jb3VudCksdGhpcy5fYWdncmVnYXRlVmFsdWVSYW5nZXNbdF09cyxyPT09cy5taW5WYWx1ZSYmYT09PXMubWF4VmFsdWV8fCh0aGlzLl9hZ2dyZWdhdGVWYWx1ZVJhbmdlc0NoYW5nZWQ9ITApO31fbWFya1RpbGVDbHVzdGVyc0ZvckRlbGV0aW9uKGUsdCl7Y29uc3Qgcz0yKnQscj1NYXRoLmNlaWwobyRhL3MpLHtyb3c6YSxjb2w6aX09ZS5rZXksbz1pKm8kYSxoPWEqbyRhLGw9TWF0aC5mbG9vcihvL3MpLG49TWF0aC5mbG9vcihoL3MpO2ZvcihsZXQgdT1sO3U8bCtyO3UrKylmb3IobGV0IHQ9bjt0PG4rcjt0KyspdGhpcy5fbWFya0ZvckRlbGV0aW9uKGUua2V5LmxldmVsLHUsdCk7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHc9NWUzLGo9XCJ0aWxlUmVuZGVyZXIuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcuaW5pdGlhbGl6ZVwiLEM9XCJ0aWxlUmVuZGVyZXIuZmVhdHVyZXNWaWV3LmF0dHJpYnV0ZVZpZXcucmVxdWVzdFVwZGF0ZVwiLEU9XCJ0aWxlUmVuZGVyZXIuZmVhdHVyZXNWaWV3LnJlcXVlc3RSZW5kZXJcIjtmdW5jdGlvbiBUKGUpe3JldHVybiBcIndvcmtlcjpwb3J0LWNsb3NlZFwiPT09ZS5uYW1lfWZ1bmN0aW9uIGsoZSl7aWYoIWckNChlKSYmIVQoZSkpdGhyb3cgZX1mdW5jdGlvbiBGKGUpe3JldHVybiBcImZlYXR1cmVcIj09PWUudHlwZSYmXCJzbmFwc2hvdFwiPT09ZS5tb2RlfWxldCBSPWNsYXNzIGV4dGVuZHMgZCRke2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zdG9yYWdlPW5ldyB1JDUsdGhpcy5fbWFya2VkSWRzQnVmSWQ9dGhpcy5fc3RvcmFnZS5jcmVhdGVCaXRzZXQoKSx0aGlzLl9sYXN0Q2xlYW51cD1wZXJmb3JtYW5jZS5ub3coKSx0aGlzLl9jbGVhbnVwTmVlZGVkPSExLHRoaXMuX2ludmFsaWRhdGVkPSExLHRoaXMuX3RpbGVUb1Jlc29sdmVyPW5ldyBNYXAsdGhpcy50aWxlU3RvcmU9bnVsbCx0aGlzLmNvbmZpZz1udWxsLHRoaXMucHJvY2Vzc29yPW51bGwsdGhpcy5yZW1vdGVDbGllbnQ9bnVsbCx0aGlzLnNlcnZpY2U9bnVsbDt9aW5pdGlhbGl6ZSgpe3RoaXMuX2luaXRBdHRyaWJ1dGVTdG9yZSgpLHRoaXMuX2luaXRTdG9yZXMoKSx0aGlzLl9pbml0UXVlcnlFbmdpbmUoKSx0aGlzLl9pbml0U291cmNlKCksdGhpcy5fdXBkYXRlUXVldWU9bmV3IF8kNCh7Y29uY3VycmVuY3k6XCJnZW9ldmVudFwiPT09dGhpcy5fc291cmNlLnR5cGU/MTo0LHByb2Nlc3M6KGUsdCk9PnRoaXMuX29uVGlsZU1lc3NhZ2UoZSx7c2lnbmFsOnR9KX0pLHRoaXMuaGFuZGxlcy5hZGQoW3RoaXMudGlsZVN0b3JlLm9uKFwidXBkYXRlXCIsdGhpcy5vblRpbGVVcGRhdGUuYmluZCh0aGlzKSksdGhpcy53YXRjaChcInVwZGF0aW5nXCIsKGU9PiFlJiZ0aGlzLm9uSWRsZSgpKSldKSx0aGlzLl9jaGVja1VwZGF0aW5nPXNldEludGVydmFsKCgoKT0+dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSksMzAwKTt9YXN5bmMgc3RhcnR1cCgpe3RoaXMuX2luaXRBdHRyaWJ1dGVTdG9yZSgpLHRoaXMudGlsZVN0b3JlLnRpbGVzLmZvckVhY2goKGU9PnRoaXMuX3NvdXJjZS5zdWJzY3JpYmUoZSkpKTt9X2luaXRTb3VyY2UoKXtjb25zdCBlPXRoaXMudGlsZVN0b3JlLnRpbGVTY2hlbWUsdD0oKT0+dGhpcy5fdXBkYXRlUXVldWUubGVuZ3RoPDUwLHI9KGUsdCk9Pih0aGlzLl9pbnZhbGlkYXRlZD0hMCx0aGlzLl9wYXRjaFRpbGUoZSx0KSk7dGhpcy5fc291cmNlPWEkMSh0aGlzLnNlcnZpY2UsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLGUscix0LHRoaXMuZmVhdHVyZVN0b3JlKSx0aGlzLl9wcm94eUV2ZW50cygpO31fcHJveHlFdmVudHMoKXtpZihcImdlb2V2ZW50XCI9PT10aGlzLl9zb3VyY2UudHlwZSl7Y29uc3QgZT10aGlzLl9zb3VyY2UuZXZlbnRzO3RoaXMuaGFuZGxlcy5hZGQoW2Uub24oXCJjb25uZWN0aW9uU3RhdHVzXCIsKGU9PnRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInNldFByb3BlcnR5XCIse3Byb3BlcnR5TmFtZTpcImNvbm5lY3Rpb25TdGF0dXNcIix2YWx1ZTplfSkuY2F0Y2goaykpKSxlLm9uKFwiZXJyb3JTdHJpbmdcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwic2V0UHJvcGVydHlcIix7cHJvcGVydHlOYW1lOlwiZXJyb3JTdHJpbmdcIix2YWx1ZTplfSkuY2F0Y2goaykpKSxlLm9uKFwiZmVhdHVyZVwiLChlPT50aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoXCJlbWl0RXZlbnRcIix7bmFtZTpcImRhdGEtcmVjZWl2ZWRcIixldmVudDp7YXR0cmlidXRlczplLmF0dHJpYnV0ZXMsY2VudHJvaWQ6ZS5jZW50cm9pZCxnZW9tZXRyeTplLmdlb21ldHJ5fX0pLmNhdGNoKGspKSksZS5vbihcInVwZGF0ZVJhdGVcIiwoZT0+dGhpcy5yZW1vdGVDbGllbnQuaW52b2tlKFwiZW1pdEV2ZW50XCIse25hbWU6XCJ1cGRhdGUtcmF0ZVwiLGV2ZW50OnsuLi5lfX0pLmNhdGNoKGspKSldKTt9fV9pbml0QXR0cmlidXRlU3RvcmUoKXt0aGlzLmF0dHJpYnV0ZVN0b3JlP3RoaXMuYXR0cmlidXRlU3RvcmUuaW52YWxpZGF0ZVJlc291cmNlcygpOnRoaXMuYXR0cmlidXRlU3RvcmU9bmV3IE8kMSh7dHlwZTpcInJlbW90ZVwiLGluaXRpYWxpemU6KGUsdCk9PnkkYih0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoaixlLHtzaWduYWw6dH0pLmNhdGNoKGspKSx1cGRhdGU6KGUsdCk9PnkkYih0aGlzLnJlbW90ZUNsaWVudC5pbnZva2UoQyxlLHtzaWduYWw6dH0pLmNhdGNoKGspKSxyZW5kZXI6ZT0+eSRiKHRoaXMucmVtb3RlQ2xpZW50Lmludm9rZShFLHZvaWQgMCx7c2lnbmFsOmV9KS5jYXRjaChrKSl9LHRoaXMuY29uZmlnKTt9X2luaXRTdG9yZXMoKXtjb25zdCBlPVwic25hcHNob3RcIj09PXRoaXMuc2VydmljZS50eXBlP1wic25hcHNob3RcIjpcIm9uLWRlbWFuZFwiLHQ9e2dlb21ldHJ5SW5mbzp7Z2VvbWV0cnlUeXBlOnRoaXMuc2VydmljZS5nZW9tZXRyeVR5cGUsaGFzTTohMSxoYXNaOiExfSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZSxmaWVsZHNJbmRleDp0aGlzLmZpZWxkc0luZGV4LGZpZWxkczp0aGlzLnNlcnZpY2UuZmllbGRzfTt0aGlzLmZlYXR1cmVTdG9yZT1uZXcgbCQ1KHQsdGhpcy5fc3RvcmFnZSxlKSx0aGlzLmFnZ3JlZ2F0ZVN0b3JlPW5ldyBMKHQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuX3N0b3JhZ2UpLHRoaXMuaGFuZGxlcy5hZGQodGhpcy5hZ2dyZWdhdGVTdG9yZS5ldmVudHMub24oXCJ2YWx1ZVJhbmdlc0NoYW5nZWRcIiwoZT0+e3RoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcImVtaXRFdmVudFwiLHtuYW1lOlwidmFsdWVSYW5nZXNDaGFuZ2VkXCIsZXZlbnQ6e3ZhbHVlUmFuZ2VzOmUudmFsdWVSYW5nZXN9fSkuY2F0Y2goayk7fSkpKTt9X2luaXRRdWVyeUVuZ2luZSgpe3ZhciBlO2NvbnN0IHQ9dGhpcztudWxsPT0oZT10aGlzLnF1ZXJ5RW5naW5lKXx8ZS5kZXN0cm95KCksdGhpcy5xdWVyeUVuZ2luZT1uZXcgWih7ZGVmaW5pdGlvbkV4cHJlc3Npb246dGhpcy5jb25maWcuZGVmaW5pdGlvbkV4cHJlc3Npb24sZmllbGRzOnRoaXMuc2VydmljZS5maWVsZHMsZ2VvbWV0cnlUeXBlOnRoaXMuc2VydmljZS5nZW9tZXRyeVR5cGUsb2JqZWN0SWRGaWVsZDp0aGlzLnNlcnZpY2Uub2JqZWN0SWRGaWVsZCxoYXNNOiExLGhhc1o6ITEsc3BhdGlhbFJlZmVyZW5jZTp0aGlzLnNwYXRpYWxSZWZlcmVuY2UudG9KU09OKCksY2FjaGVTcGF0aWFsUXVlcmllczohMCxmZWF0dXJlU3RvcmU6dGhpcy5mZWF0dXJlU3RvcmUsYWdncmVnYXRlQWRhcHRlcjp7Z2V0RmVhdHVyZU9iamVjdElkczplPT50LmFnZ3JlZ2F0ZVN0b3JlLmdldEZlYXR1cmVEaXNwbGF5SWRzRm9yQWdncmVnYXRlKGUpLm1hcCgoZT0+dC5nZXRPYmplY3RJZChlKSkpfSx0aW1lSW5mbzp0aGlzLnNlcnZpY2UudGltZUluZm99KTt9ZGVzdHJveSgpe3RoaXMuX3VwZGF0ZVF1ZXVlLmRlc3Ryb3koKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpLHRoaXMucXVlcnlFbmdpbmUuZGVzdHJveSgpLHRoaXMuYXR0cmlidXRlU3RvcmUmJnRoaXMuYXR0cmlidXRlU3RvcmUuZGVzdHJveSgpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tVcGRhdGluZyk7fWdldCBmaWVsZHNJbmRleCgpe3JldHVybiBuZXcgZSQ0KHRoaXMuc2VydmljZS5maWVsZHMpfWdldCBoYXNBZ2dyZWdhdGVzKCl7cmV0dXJuICEhdGhpcy5jb25maWcuc2NoZW1hLnRhcmdldHMuYWdncmVnYXRlfWdldCBzcGF0aWFsUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMudGlsZVN0b3JlLnRpbGVTY2hlbWUuc3BhdGlhbFJlZmVyZW5jZX1nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5pc1VwZGF0aW5nKCl9aXNVcGRhdGluZygpe3JldHVybiB0aGlzLl9zb3VyY2UudXBkYXRpbmd8fCEhdGhpcy5fdXBkYXRlUXVldWUubGVuZ3RofWVuYWJsZUV2ZW50KGUpe3RoaXMuX3NvdXJjZS5lbmFibGVFdmVudChlLm5hbWUsZS52YWx1ZSk7fXBhdXNlKCl7dGhpcy5fdXBkYXRlUXVldWUucGF1c2UoKSx0aGlzLl91cGRhdGVRdWV1ZS5jbGVhcigpO31hc3luYyB1cGRhdGUoZSxyKXt0aGlzLl9zZXQoXCJjb25maWdcIixyKSx0aGlzLl9zY2hlbWE9ci5zY2hlbWEsdGhpcy5faW5pdFF1ZXJ5RW5naW5lKCksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuX3NvdXJjZS51cGRhdGUoZSxyLnNjaGVtYS5zb3VyY2UpLHRoaXMuZmVhdHVyZVN0b3JlLnVwZGF0ZVNjaGVtYShlLHIuc2NoZW1hLnRhcmdldHMuZmVhdHVyZSksdGhpcy5hdHRyaWJ1dGVTdG9yZS51cGRhdGUoZSxyKSx0aGlzLmF0dHJpYnV0ZVN0b3JlLnVwZGF0ZUZpbHRlcnMoZSx0aGlzKV0pLGF3YWl0IHRoaXMuYWdncmVnYXRlU3RvcmUudXBkYXRlU2NoZW1hKGUsci5zY2hlbWEudGFyZ2V0cy5hZ2dyZWdhdGUpLHQkNihcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZlLmRlc2NyaWJlKCk7fWFzeW5jIGFwcGx5VXBkYXRlKGUpe2UubWVzaCYmdGhpcy5jbGVhclRpbGVzKCksdGhpcy5fdXBkYXRlUXVldWUuY2xlYXIoKSx0aGlzLl91cGRhdGVRdWV1ZS5yZXN1bWUoKSxhd2FpdCB0aGlzLl9zb3VyY2UuYXBwbHlVcGRhdGUoZSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxhd2FpdCAkKHRoaXMsXCJ1cGRhdGluZ1wiLCEwKSx0aGlzLmhhc0FnZ3JlZ2F0ZXMmJihhd2FpdCBDJDQoMTApLGF3YWl0ICQodGhpcyxcInVwZGF0aW5nXCIsITApKTt9YXN5bmMgb25FZGl0cyhlKXt0cnl7Y29uc3QgdD1lLmRlbGV0ZWRGZWF0dXJlcy5tYXAoKGU9Pih7Li4uZSxvYmplY3RJZDplLm9iamVjdElkJiYtMSE9PWUub2JqZWN0SWQ/ZS5vYmplY3RJZDp0aGlzLl9sb29rdXBPYmplY3RJZEJ5R2xvYmFsSWQoZS5nbG9iYWxJZCl9KSkpO3RoaXMuZmVhdHVyZVN0b3JlLmludmFsaWRhdGUoKSxhd2FpdCB0aGlzLl9zb3VyY2UuZWRpdCh7Li4uZSxkZWxldGVkRmVhdHVyZXM6dH0pO31jYXRjaCh0KXt9fWFzeW5jIHJlZnJlc2goKXt0aGlzLmZlYXR1cmVTdG9yZS5pbnZhbGlkYXRlKCksdGhpcy5jbGVhclRpbGVzKCksdGhpcy5fc291cmNlLnJlZnJlc2goKSx0aGlzLl9jbGVhbnVwTmVlZGVkPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksYXdhaXQgJCh0aGlzLFwidXBkYXRpbmdcIiwhMCk7fWNsZWFyVGlsZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnRpbGVTdG9yZS50aWxlcyl0aGlzLnByb2Nlc3Nvci5vblRpbGVDbGVhcihlKTt9b25UaWxlVXBkYXRlKGUpe3RoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlVXBkYXRlKGUpO2Zvcihjb25zdCB0IG9mIGUuYWRkZWQpdGhpcy5fc291cmNlLnN1YnNjcmliZSh0KSx0aGlzLl9sZXZlbD10LmxldmVsO2Zvcihjb25zdCB0IG9mIGUucmVtb3ZlZCl0aGlzLl9zb3VyY2UudW5zdWJzY3JpYmUodCksdGhpcy5fY2xlYW51cE5lZWRlZD0hMCx0aGlzLl90aWxlVG9SZXNvbHZlci5oYXModC5pZCkmJih0aGlzLl90aWxlVG9SZXNvbHZlci5nZXQodC5pZCkucmVzb2x2ZSgpLHRoaXMuX3RpbGVUb1Jlc29sdmVyLmRlbGV0ZSh0LmlkKSk7dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKTt9b25JZGxlKCl7dGhpcy5faW52YWxpZGF0ZWQmJigodGhpcy5oYXNBZ2dyZWdhdGVzfHxcImhlYXRtYXBcIj09PXRoaXMucHJvY2Vzc29yLnR5cGUpJiZ0aGlzLl9yZXB1c2hUaWxlcygpLHRoaXMuX2ludmFsaWRhdGVkPSExKSx0aGlzLl9tYXJrQW5kU3dlZXAoKTt9cXVlcnlFeHRlbnQoZSl7cmV0dXJuIHRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50KGUpfXF1ZXJ5RmVhdHVyZXMoZSl7cmV0dXJuIHRoaXMucXVlcnlFbmdpbmUuZXhlY3V0ZVF1ZXJ5KGUpfXF1ZXJ5RmVhdHVyZUNvdW50KGUpe3JldHVybiB0aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckNvdW50KGUpfXF1ZXJ5TGF0ZXN0T2JzZXJ2YXRpb25zKGUpe3JldHVybiB0aGlzLnF1ZXJ5RW5naW5lLmV4ZWN1dGVRdWVyeUZvckxhdGVzdE9ic2VydmF0aW9ucyhlKX1xdWVyeU9iamVjdElkcyhlKXtyZXR1cm4gdGhpcy5xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JJZHMoZSl9YXN5bmMgcXVlcnlTdGF0aXN0aWNzKCl7cmV0dXJuIHsuLi50aGlzLmZlYXR1cmVTdG9yZS5zdG9yZVN0YXRpc3RpY3MsZGlzcGxheWVkRmVhdHVyZUNvdW50OjAsZGlzcGxheWVkVmVydGV4Q291bnQ6MCxkaXNwbGF5UHJlUHJvY2Vzc1RpbWU6MH19Z2V0T2JqZWN0SWQoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cE9iamVjdElkKGUsdGhpcy5fc3RvcmFnZSl9Z2V0RGlzcGxheUlkKGUpe2lmKHRoaXMuX3NjaGVtYS50YXJnZXRzLmFnZ3JlZ2F0ZSl7Y29uc3QgdD10aGlzLmFnZ3JlZ2F0ZVN0b3JlLmdldERpc3BsYXlJZChlKTtpZih0JDcodCkpe2NvbnN0IHQ9dGhpcy5mZWF0dXJlU3RvcmUubG9va3VwRGlzcGxheUlkKGUpO3JldHVybiB0aGlzLmFnZ3JlZ2F0ZVN0b3JlLmdldERpc3BsYXlJZEZvclJlZmVyZW5jZUlkKHQpfXJldHVybiB0fXJldHVybiB0aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQoZSl9Z2V0RmVhdHVyZShlKXtjb25zdCB0PXRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cEZlYXR1cmVCeURpc3BsYXlJZChlLHRoaXMuX3N0b3JhZ2UpO2lmKHQkNyh0KSlyZXR1cm4gbnVsbDtjb25zdCBzPXQucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKSxpPWVlKHMsdC5nZW9tZXRyeVR5cGUsdC5oYXNaLHQuaGFzTSk7cmV0dXJuIHthdHRyaWJ1dGVzOnQucmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTppfX1nZXRBZ2dyZWdhdGUoZSl7cmV0dXJuIHRoaXMuYWdncmVnYXRlU3RvcmUuZ2V0QWdncmVnYXRlKGUpfWFzeW5jIHNldEhpZ2hsaWdodChlKXtjb25zdCB0PWUubWFwKChlPT50aGlzLmdldERpc3BsYXlJZChlKSkpO3JldHVybiB0aGlzLmF0dHJpYnV0ZVN0b3JlLnNldEhpZ2hsaWdodChlLHQpfV9sb29rdXBPYmplY3RJZEJ5R2xvYmFsSWQoZSl7Y29uc3QgdD10aGlzLnNlcnZpY2UuZ2xvYmFsSWRGaWVsZDtpZih0JDcodCkpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZ2xvYmFsSWRGaWVsZCB0byBiZSBkZWZpbmVkXCIpO2xldCBzPW51bGw7aWYodGhpcy5mZWF0dXJlU3RvcmUuZm9yRWFjaCgocj0+e2U9PT1yLnJlYWRBdHRyaWJ1dGUodCkmJihzPXIuZ2V0T2JqZWN0SWQoKSk7fSkpLHQkNyhzKSl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIHRvIGZpbmQgYSBmZWF0dXJlIHdpdGggZ2xvYmFsSWQgJHtlfWApO3JldHVybiBzfV9yZXB1c2hUaWxlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKXRoaXMuX3BhdGNoVGlsZSh7dHlwZTpcImFwcGVuZFwiLGlkOmUua2V5LmlkLGFkZE9yVXBkYXRlOmMkNi5mcm9tT3B0aW1pemVkRmVhdHVyZXMoW10sdGhpcy5zZXJ2aWNlLmdlb21ldHJ5VHlwZSkscmVtb3ZlOltdLGVuZDohMCxzdGF0dXM6dCQ1LmVtcHR5KCl9KTt9X21heWJlRm9yY2VDbGVhbnVwKCl7cGVyZm9ybWFuY2Uubm93KCktdGhpcy5fbGFzdENsZWFudXA+dyYmdGhpcy5fbWFya0FuZFN3ZWVwKCk7fV9wYXRjaFRpbGUoZSx0KXtjb25zdCByPXRoaXMuX3VwZGF0ZVF1ZXVlLnB1c2goZSx0KS50aGVuKCgoKT0+e3RoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIik7fSkpLmNhdGNoKChlPT57dGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKTt9KSk7cmV0dXJuIHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIikscn1hc3luYyBfb25UaWxlTWVzc2FnZShlLHQpe2EkOSh0KTtjb25zdCBzPXRoaXMudGlsZVN0b3JlLmdldChlLmlkKTtpZighcylyZXR1cm47aWYoZS5jbGVhcilyZXR1cm4gdGhpcy5wcm9jZXNzb3Iub25UaWxlQ2xlYXIocyk7Y29uc3QgaT1lLnN0YXR1cztlLnJlbW92ZS5sZW5ndGgmJih0aGlzLl9jbGVhbnVwTmVlZGVkPSEwKTtjb25zdCBhPVtdO2Zvcihjb25zdCByIG9mIGUucmVtb3ZlKWEucHVzaCh0aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQocikpO2UucmVtb3ZlPWE7dHJ5e2lmKHQkNyhlLmFkZE9yVXBkYXRlKSlyZXR1cm4gdm9pZCB0aGlzLnByb2Nlc3Nvci5vblRpbGVNZXNzYWdlKHMsey4uLmUsYWRkT3JVcGRhdGU6bnVsbH0sdGhpcy5oYXNBZ2dyZWdhdGVzLHQpLmNhdGNoKGokMyk7aWYoZS5hZGRPclVwZGF0ZS5zZXRBcmNhZGVTcGF0aWFsUmVmZXJlbmNlKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5mZWF0dXJlU3RvcmUuaGFzSW5zdGFuY2UoZS5hZGRPclVwZGF0ZS5pbnN0YW5jZSkmJmkudGFyZ2V0cy5mZWF0dXJlfHwoaS50YXJnZXRzLmZlYXR1cmU9ITAsdGhpcy5mZWF0dXJlU3RvcmUub25UaWxlRGF0YShzLGUpKSxpLnN0b3JhZ2UuZGF0YSYmaS5zdG9yYWdlLmZpbHRlcnN8fChpLnN0b3JhZ2UuZGF0YT0hMCxpLnN0b3JhZ2UuZmlsdGVycz0hMCx0aGlzLmF0dHJpYnV0ZVN0b3JlLm9uVGlsZURhdGEocyxlKSxcImdlb2V2ZW50XCI9PT10aGlzLl9zb3VyY2UudHlwZT8oYXdhaXQgdGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpLGEkOSh0KSk6dGhpcy5hdHRyaWJ1dGVTdG9yZS5zZW5kVXBkYXRlcygpKSx0aGlzLmhhc0FnZ3JlZ2F0ZXMmJiFpLnRhcmdldHMuYWdncmVnYXRlKXtpLnRhcmdldHMuYWdncmVnYXRlPSEwO2NvbnN0IHQ9Rih0aGlzLl9zb3VyY2UpJiZ0aGlzLl9zb3VyY2UubG9hZGluZyxyPSFGKHRoaXMuX3NvdXJjZSl8fHR8fGUuZW5kO2lmKHRoaXMuYWdncmVnYXRlU3RvcmUub25UaWxlRGF0YShzLGUsdGhpcy5fc3RvcmFnZSx0aGlzLmF0dHJpYnV0ZVN0b3JlLHIpLCFyKXJldHVybjtpLm1lc2h8fCh0aGlzLmF0dHJpYnV0ZVN0b3JlLm9uVGlsZURhdGEocyxlKSx0aGlzLmF0dHJpYnV0ZVN0b3JlLnNlbmRVcGRhdGVzKCksdGhpcy5wcm9jZXNzb3Iub25UaWxlQ2xlYXIocykpO31pLm1lc2h8fChpLm1lc2g9ITAsYXdhaXQgdGhpcy5wcm9jZXNzb3Iub25UaWxlTWVzc2FnZShzLGUsdGhpcy5oYXNBZ2dyZWdhdGVzLHQpLGEkOSh0KSksdGhpcy5fbWF5YmVGb3JjZUNsZWFudXAoKTt9Y2F0Y2gobyl7aiQzKG8pO319X21hcmsoZSx0LHIpe2NvbnN0IHM9KDQyOTQ5MDE3NjAmdGhpcy5fc3RvcmFnZS5nZXRJbnN0YW5jZUlkKGUpKT4+PjE2O2UmJih0LmFkZChzKSxyLnNldChlKSk7fV9tYXJrQW5kU3dlZXAoKXt0aGlzLl9sYXN0Q2xlYW51cD1wZXJmb3JtYW5jZS5ub3coKTtpZighKCEoXCJmZWF0dXJlXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmXCJzbmFwc2hvdFwiPT09dGhpcy5fc291cmNlLm1vZGUpJiYoXCJnZW9ldmVudFwiPT09dGhpcy5fc291cmNlLnR5cGV8fHRoaXMuX2NsZWFudXBOZWVkZWQpKSlyZXR1cm47dGhpcy5fY2xlYW51cE5lZWRlZD0hMTtjb25zdCBlPXRoaXMuX3N0b3JhZ2UuZ2V0Qml0c2V0KHRoaXMuX21hcmtlZElkc0J1ZklkKSx0PW5ldyBTZXQ7ZS5jbGVhcigpO2Zvcihjb25zdCBzIG9mIHRoaXMudGlsZVN0b3JlLnRpbGVzKXRoaXMuX3NvdXJjZS5mb3JFYWNoUmVxdWVzdChzLmtleS5pZCwocz0+e2lmKHQkNyhzLmFkZE9yVXBkYXRlKSlyZXR1cm47Y29uc3QgaT1zLmFkZE9yVXBkYXRlLmdldEN1cnNvcigpO2Zvcig7aS5uZXh0KCk7KXtsZXQgcj1pLmdldERpc3BsYXlJZCgpO2lmKCFyKXtjb25zdCBlPWkuZ2V0T2JqZWN0SWQoKTtyPXRoaXMuZmVhdHVyZVN0b3JlLmxvb2t1cERpc3BsYXlJZChlKTt9dGhpcy5fbWFyayhyLHQsZSk7fX0pKTt0aGlzLl9zb3VyY2UuZm9yRWFjaFBlbmRpbmdFZGl0KChyPT57Y29uc3Qgcz10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQocik7dGhpcy5fbWFyayhzLHQsZSk7fSkpLHRoaXMuX3VwZGF0ZVF1ZXVlLmZvckVhY2goKHI9Pntmb3IoY29uc3QgcyBvZiByLnJlbW92ZSl7Y29uc3Qgcj10aGlzLmZlYXR1cmVTdG9yZS5sb29rdXBEaXNwbGF5SWQocyk7dGhpcy5fbWFyayhyLHQsZSk7fX0pKSx0aGlzLmNvbmZpZy5zY2hlbWEudGFyZ2V0cy5hZ2dyZWdhdGUmJih0aGlzLmFnZ3JlZ2F0ZVN0b3JlLnN3ZWVwRmVhdHVyZXMoZSx0aGlzLmZlYXR1cmVTdG9yZSksdGhpcy5hZ2dyZWdhdGVTdG9yZS5zd2VlcENsdXN0ZXJzKHRoaXMuX3N0b3JhZ2UsdGhpcy5hdHRyaWJ1dGVTdG9yZSx0aGlzLl9sZXZlbCkpLHRoaXMuZmVhdHVyZVN0b3JlLnN3ZWVwRmVhdHVyZXMoZSx0aGlzLl9zdG9yYWdlLHRoaXMuYXR0cmlidXRlU3RvcmUpLHRoaXMuZmVhdHVyZVN0b3JlLnN3ZWVwRmVhdHVyZVNldHModCk7fX07ZSQ4KFt5JDgoe2NvbnN0cnVjdE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJ0aWxlU3RvcmVcIix2b2lkIDApLGUkOChbeSQ4KCldLFIucHJvdG90eXBlLFwiY29uZmlnXCIsdm9pZCAwKSxlJDgoW3kkOCh7cmVhZE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJmaWVsZHNJbmRleFwiLG51bGwpLGUkOChbeSQ4KCldLFIucHJvdG90eXBlLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxlJDgoW3kkOCh7Y29uc3RydWN0T25seTohMH0pXSxSLnByb3RvdHlwZSxcInJlbW90ZUNsaWVudFwiLHZvaWQgMCksZSQ4KFt5JDgoe2NvbnN0cnVjdE9ubHk6ITB9KV0sUi5wcm90b3R5cGUsXCJzZXJ2aWNlXCIsdm9pZCAwKSxlJDgoW3kkOCgpXSxSLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIixudWxsKSxlJDgoW3kkOCgpXSxSLnByb3RvdHlwZSxcInVwZGF0aW5nXCIsbnVsbCksUj1lJDgoW2kkOChcImVzcmkudmlld3MuMmQubGF5ZXJzLmZlYXR1cmVzLmNvbnRyb2xsZXJzLkZlYXR1cmVDb250cm9sbGVyMkRcIildLFIpO3ZhciBPPVI7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBwPW5ldyBTZXQ7ZnVuY3Rpb24gaCgpe3JldHVybiBwfWxldCB1PWNsYXNzIGV4dGVuZHMgZCRke2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmNvbnRyb2xsZXI9bnVsbCx0aGlzLnByb2Nlc3Nvcj1udWxsLHRoaXMucmVtb3RlQ2xpZW50PW51bGwsdGhpcy50aWxlU3RvcmU9bnVsbCx0aGlzLnNlcnZpY2U9bnVsbCx0aGlzLnZpZXdTdGF0ZT1udWxsO31pbml0aWFsaXplKCl7dGhpcy5oYW5kbGVzLmFkZCh0aGlzLndhdGNoKFwidXBkYXRpbmdcIiwodD0+e3RoaXMucmVtb3RlQ2xpZW50Lmludm9rZShcInNldFVwZGF0aW5nXCIsdCkuY2F0Y2goKHQ9Pnt9KSk7fSkpKTt9ZGVzdHJveSgpe3ZhciB0LGUscjtudWxsPT0odD10aGlzLmNvbnRyb2xsZXIpfHx0LmRlc3Ryb3koKSxudWxsPT0oZT10aGlzLnByb2Nlc3Nvcil8fGUuZGVzdHJveSgpLG51bGw9PShyPXRoaXMudGlsZVN0b3JlKXx8ci5kZXN0cm95KCksdGhpcy5jb250cm9sbGVyPXRoaXMucHJvY2Vzc29yPXRoaXMudGlsZVN0b3JlPXRoaXMucmVtb3RlQ2xpZW50PW51bGw7fWdldCB1cGRhdGluZygpe3JldHVybiAhdGhpcy5jb250cm9sbGVyfHx0aGlzLmNvbnRyb2xsZXIudXBkYXRpbmd9YXN5bmMgc3RhcnR1cCh7c2VydmljZTp0LGNvbmZpZzplLHRpbGVJbmZvOnIsdGlsZXM6b30pe2lmKHRoaXMuc2VydmljZT10LCF0aGlzLnRpbGVTdG9yZSl7Y29uc3QgdD1uZXcgaCRkKHgkMy5mcm9tSlNPTihyKSk7dGhpcy50aWxlU3RvcmU9bmV3IGwkOSh0KTt9dGhpcy50aWxlU3RvcmUuY2xlYXIoKSxhd2FpdCB0aGlzLl9jcmVhdGVQcm9jZXNzb3JBbmRDb250cm9sbGVyKGUpLGF3YWl0IHRoaXMudXBkYXRlKHtjb25maWc6ZX0sITApLHRoaXMudGlsZVN0b3JlLnVwZGF0ZVRpbGVzKG8pO31hc3luYyB1cGRhdGVUaWxlcyh0KXt0aGlzLnRpbGVTdG9yZS51cGRhdGVUaWxlcyh0KTt9YXN5bmMgdXBkYXRlKHtjb25maWc6dH0sZT0hMSl7Y29uc3Qgcj10JDUuZW1wdHkoKTtyZXR1cm4gZXx8dGhpcy5jb250cm9sbGVyLnBhdXNlKCksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucHJvY2Vzc29yLnVwZGF0ZShyLHQpLHRoaXMuY29udHJvbGxlci51cGRhdGUocix0KV0pLHIudG9KU09OKCl9YXN5bmMgYXBwbHlVcGRhdGUodCl7cmV0dXJuIHRoaXMuY29udHJvbGxlci5hcHBseVVwZGF0ZSh0JDUuY3JlYXRlKHQpKX1hc3luYyBfY3JlYXRlUHJvY2Vzc29yQW5kQ29udHJvbGxlcih0KXthd2FpdCBQcm9taXNlLmFsbChbdGhpcy5faGFuZGxlQ29udHJvbGxlckNvbmZpZyh0KSx0aGlzLl9oYW5kbGVQcm9jZXNzb3JDb25maWcodCldKSx0aGlzLmNvbnRyb2xsZXIucHJvY2Vzc29yPXRoaXMucHJvY2Vzc29yO31hc3luYyBfaGFuZGxlQ29udHJvbGxlckNvbmZpZyh0KXtjb25zdCBlPWF3YWl0IHRoaXMuX2NyZWF0ZUNvbnRyb2xsZXIodGhpcy5zZXJ2aWNlLHQpO3JldHVybiBhd2FpdCBlLnN0YXJ0dXAoKSxlfWFzeW5jIF9oYW5kbGVQcm9jZXNzb3JDb25maWcodCl7cmV0dXJuIHRoaXMuX2NyZWF0ZVByb2Nlc3Nvcih0aGlzLnNlcnZpY2UsdCl9YXN5bmMgX2NyZWF0ZUNvbnRyb2xsZXIodCxlKXt0aGlzLmNvbnRyb2xsZXImJnRoaXMuY29udHJvbGxlci5kZXN0cm95KCk7Y29uc3R7dGlsZVN0b3JlOnIscmVtb3RlQ2xpZW50Om99PXRoaXMscz1uZXcgTyh7c2VydmljZTp0LGNvbmZpZzplLHRpbGVTdG9yZTpyLHJlbW90ZUNsaWVudDpvfSk7cmV0dXJuIHRoaXMuY29udHJvbGxlcj1zLHN9YXN5bmMgX2NyZWF0ZVByb2Nlc3Nvcih0LGUpe2NvbnN0IHI9ZS5zY2hlbWEucHJvY2Vzc29yc1swXS50eXBlLG89KGF3YWl0IG8kNShyKSkuZGVmYXVsdCx7cmVtb3RlQ2xpZW50OnMsdGlsZVN0b3JlOml9PXRoaXMsbD1uZXcgbyh7c2VydmljZTp0LGNvbmZpZzplLHRpbGVTdG9yZTppLHJlbW90ZUNsaWVudDpzfSk7cmV0dXJuIHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci5kZXN0cm95KCksdGhpcy5wcm9jZXNzb3I9bCxsfX07ZSQ4KFt5JDgoKV0sdS5wcm90b3R5cGUsXCJjb250cm9sbGVyXCIsdm9pZCAwKSxlJDgoW3kkOCgpXSx1LnByb3RvdHlwZSxcInByb2Nlc3NvclwiLHZvaWQgMCksZSQ4KFt5JDgoKV0sdS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUkOChbeSQ4KCldLHUucHJvdG90eXBlLFwidmlld1N0YXRlXCIsdm9pZCAwKSx1PWUkOChbaSQ4KFwiZXNyaS52aWV3cy4yZC5sYXllcnMuZmVhdHVyZXMuUGlwZWxpbmVcIildLHUpO3ZhciBkPXU7XG5cbmNvbnN0IFBpcGVsaW5lID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXHRfX3Byb3RvX186IG51bGwsXG5cdCdkZWZhdWx0JzogZCxcblx0Z2V0SW5zdGFuY2VzOiBoXG59KTtcblxuZXhwb3J0IHsgQSQyIGFzIEEsIEUkMyBhcyBFLCBLLCBNJDIgYXMgTSwgUCQxIGFzIFAsIFQkMSBhcyBULCBfJDQgYXMgXywgXyQzIGFzIGEsIFBpcGVsaW5lIGFzIGIsIG8kNCBhcyBvLCB0ZSBhcyB0LCB1JDQgYXMgdSwgdiQyIGFzIHYgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGlwZWxpbmUtMmQwYjFjNzUuanMubWFwIiwiaW1wb3J0IHsgWiBhcyBlLCBfIGFzIHksIGJjIGFzIE4sIGEwIGFzIGkkMSwgYW8gYXMgYSwgYXEgYXMgdCwgcSBhcyBqJDEsIGFiIGFzIGUkMSwgYWogYXMgbywgTyBhcyBrLCBiZCBhcyBzLCBiZSBhcyBSLCBiZiBhcyBkLCBiZyBhcyBnLCBhdiBhcyBTIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgJy4vYXJjZ2lzLWdlb2VucmljaG1lbnQtZGF0YWJyb3dzZXItNmNhOGVhMTQuanMnO1xuaW1wb3J0IHsgRyB9IGZyb20gJy4vdW5pdFV0aWxzLTYyNGNlZWI2LmpzJztcbmltcG9ydCB7IGkgYXMgaSQyIH0gZnJvbSAnLi9hYUJvdW5kaW5nUmVjdC02MTk3MWZlMy5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgbDtsZXQgcD1sPWNsYXNzIGV4dGVuZHMgYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmxldmVsPTAsdGhpcy5sZXZlbFZhbHVlPW51bGwsdGhpcy5yZXNvbHV0aW9uPTAsdGhpcy5zY2FsZT0wO31jbG9uZSgpe3JldHVybiBuZXcgbCh7bGV2ZWw6dGhpcy5sZXZlbCxsZXZlbFZhbHVlOnRoaXMubGV2ZWxWYWx1ZSxyZXNvbHV0aW9uOnRoaXMucmVzb2x1dGlvbixzY2FsZTp0aGlzLnNjYWxlfSl9fTtlKFt5KHt0eXBlOk4sanNvbjp7d3JpdGU6ITB9fSldLHAucHJvdG90eXBlLFwibGV2ZWxcIix2b2lkIDApLGUoW3koe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxwLnByb3RvdHlwZSxcImxldmVsVmFsdWVcIix2b2lkIDApLGUoW3koe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxwLnByb3RvdHlwZSxcInJlc29sdXRpb25cIix2b2lkIDApLGUoW3koe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxwLnByb3RvdHlwZSxcInNjYWxlXCIsdm9pZCAwKSxwPWw9ZShbaSQxKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5MT0RcIildLHApO3ZhciBpPXA7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgdjtjb25zdCB3PW5ldyB0KHtQTkc6XCJwbmdcIixQTkc4OlwicG5nOFwiLFBORzI0OlwicG5nMjRcIixQTkczMjpcInBuZzMyXCIsSlBFRzpcImpwZ1wiLEpQRzpcImpwZ1wiLERJQjpcImRpYlwiLFRJRkY6XCJ0aWZmXCIsRU1GOlwiZW1mXCIsUFM6XCJwc1wiLFBERjpcInBkZlwiLEdJRjpcImdpZlwiLFNWRzpcInN2Z1wiLFNWR1o6XCJzdmd6XCIsTWl4ZWQ6XCJtaXhlZFwiLE1JWEVEOlwibWl4ZWRcIixMRVJDOlwibGVyY1wiLExFUkMyRDpcImxlcmMyZFwiLFJBVzpcInJhd1wiLHBiZjpcInBiZlwifSk7bGV0IGo9dj1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kcGk9OTYsdGhpcy5mb3JtYXQ9bnVsbCx0aGlzLm9yaWdpbj1udWxsLHRoaXMubWluU2NhbGU9MCx0aGlzLm1heFNjYWxlPTAsdGhpcy5zaXplPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW51bGw7fXN0YXRpYyBjcmVhdGUoZT17c2l6ZToyNTYsc3BhdGlhbFJlZmVyZW5jZTprLldlYk1lcmNhdG9yfSl7Y29uc3QgdD1lLnJlc29sdXRpb25GYWN0b3J8fDEsbz1lLnNjYWxlcyxyPWUuc2l6ZXx8MjU2LHMkMT1lLnNwYXRpYWxSZWZlcmVuY2V8fGsuV2ViTWVyY2F0b3I7aWYoIXMocyQxKSl7Y29uc3QgZT1bXTtpZihvKWZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCByPW9bdF07ZS5wdXNoKHtsZXZlbDp0LHNjYWxlOnIscmVzb2x1dGlvbjpyfSk7fWVsc2Uge2xldCB0PTVlLTQ7Zm9yKGxldCBvPTIzO28+PTA7by0tKWUudW5zaGlmdCh7bGV2ZWw6byxzY2FsZTp0LHJlc29sdXRpb246dH0pLHQqPTI7fXJldHVybiBuZXcgdih7ZHBpOjk2LGxvZHM6ZSxvcmlnaW46bmV3IGokMSgwLDAscyQxKSxzaXplOltyLHJdLHNwYXRpYWxSZWZlcmVuY2U6cyQxfSl9Y29uc3QgaT1TKHMkMSksbD1lLm9yaWdpbj9uZXcgaiQxKHt4OmUub3JpZ2luLngseTplLm9yaWdpbi55LHNwYXRpYWxSZWZlcmVuY2U6cyQxfSk6bmV3IGokMShpP3t4Omkub3JpZ2luWzBdLHk6aS5vcmlnaW5bMV0sc3BhdGlhbFJlZmVyZW5jZTpzJDF9Ont4OjAseTowLHNwYXRpYWxSZWZlcmVuY2U6cyQxfSksbj05Nix1PTEvKEcocyQxKSozOS4zNypuKSxoPVtdO2lmKG8pZm9yKGxldCBwPTA7cDxvLmxlbmd0aDtwKyspe2NvbnN0IGU9b1twXSx0PWUqdTtoLnB1c2goe2xldmVsOnAsc2NhbGU6ZSxyZXNvbHV0aW9uOnR9KTt9ZWxzZSB7bGV0IGU9UihzJDEpPzUxMi9yKjU5MTY1NzUyNy41OTE3MDk0OjI1Ni9yKjU5MTY1NzUyNy41OTE1NTU7Y29uc3Qgbz1NYXRoLmNlaWwoMjQvdCk7aC5wdXNoKHtsZXZlbDowLHNjYWxlOmUscmVzb2x1dGlvbjplKnV9KTtmb3IobGV0IHI9MTtyPG87cisrKXtjb25zdCBvPWUvMioqdCxzPW8qdTtoLnB1c2goe2xldmVsOnIsc2NhbGU6byxyZXNvbHV0aW9uOnN9KSxlPW87fX1yZXR1cm4gbmV3IHYoe2RwaTpuLGxvZHM6aCxvcmlnaW46bCxzaXplOltyLHJdLHNwYXRpYWxSZWZlcmVuY2U6cyQxfSl9Z2V0IGlzV3JhcHBhYmxlKCl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTplLG9yaWdpbjp0fT10aGlzO2lmKGUmJnQpe2NvbnN0IG89UyhlKTtyZXR1cm4gZS5pc1dyYXBwYWJsZSYmTWF0aC5hYnMoby5vcmlnaW5bMF0tdC54KTw9by5keH1yZXR1cm4gITF9cmVhZE9yaWdpbihlLHQpe3JldHVybiBqJDEuZnJvbUpTT04oe3NwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlLC4uLmV9KX1zZXQgbG9kcyhlKXtsZXQgdD0wLG89MDtjb25zdCByPVtdO3RoaXMuX2xldmVsVG9MT0Q9e30sZSYmKHQ9LTEvMCxvPTEvMCxlLmZvckVhY2goKGU9PntyLnB1c2goZS5zY2FsZSksdD1lLnNjYWxlPnQ/ZS5zY2FsZTp0LG89ZS5zY2FsZTxvP2Uuc2NhbGU6byx0aGlzLl9sZXZlbFRvTE9EW2UubGV2ZWxdPWU7fSkpKSx0aGlzLl9zZXQoXCJzY2FsZXNcIixyKSx0aGlzLl9zZXQoXCJtaW5TY2FsZVwiLHQpLHRoaXMuX3NldChcIm1heFNjYWxlXCIsbyksdGhpcy5fc2V0KFwibG9kc1wiLGUpLHRoaXMuX2luaXRpYWxpemVVcHNhbXBsZUxldmVscygpO31yZWFkU2l6ZShlLHQpe3JldHVybiBbdC5jb2xzLHQucm93c119d3JpdGVTaXplKGUsdCl7dC5jb2xzPWVbMF0sdC5yb3dzPWVbMF07fXpvb21Ub1NjYWxlKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXM7aWYoZTw9MClyZXR1cm4gdFswXTtpZihlPj10Lmxlbmd0aClyZXR1cm4gdFt0Lmxlbmd0aC0xXTt7Y29uc3Qgbz1NYXRoLnJvdW5kKGUtLjUpLHI9TWF0aC5yb3VuZChlKTtyZXR1cm4gdFtyXSsoci1lKSoodFtvXS10W3JdKX19c2NhbGVUb1pvb20oZSl7Y29uc3QgdD10aGlzLnNjYWxlcyxvPXQubGVuZ3RoLTE7bGV0IHI9MDtmb3IoO3I8bztyKyspe2NvbnN0IG89dFtyXSxzPXRbcisxXTtpZihvPD1lKXJldHVybiByO2lmKHM9PT1lKXJldHVybiByKzE7aWYobz5lJiZzPGUpcmV0dXJuIHIrMS0oZS1zKS8oby1zKX1yZXR1cm4gcn1zbmFwU2NhbGUoZSx0PS45NSl7Y29uc3Qgbz10aGlzLnNjYWxlVG9ab29tKGUpO3JldHVybiBvJU1hdGguZmxvb3Iobyk+PXQ/dGhpcy56b29tVG9TY2FsZShNYXRoLmNlaWwobykpOnRoaXMuem9vbVRvU2NhbGUoTWF0aC5mbG9vcihvKSl9dGlsZUF0KGUsdCxvLHIpe2NvbnN0IHM9dGhpcy5sb2RBdChlKTtpZighcylyZXR1cm4gbnVsbDtsZXQgaSxsO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWk9dCxsPW87ZWxzZSBpZihkKHQuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpKWk9dC54LGw9dC55LHI9bztlbHNlIHtjb25zdCBlPWcodCx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpO2lmKCFlKXJldHVybiBudWxsO2k9ZS54LGw9ZS55LHI9bzt9Y29uc3Qgbj1zLnJlc29sdXRpb24qdGhpcy5zaXplWzBdLHA9cy5yZXNvbHV0aW9uKnRoaXMuc2l6ZVsxXTtyZXR1cm4gcnx8KHI9e2lkOm51bGwsbGV2ZWw6MCxyb3c6MCxjb2w6MCxleHRlbnQ6aSQyKCl9KSxyLmxldmVsPWUsci5yb3c9TWF0aC5mbG9vcigodGhpcy5vcmlnaW4ueS1sKS9wKy4wMDEpLHIuY29sPU1hdGguZmxvb3IoKGktdGhpcy5vcmlnaW4ueCkvbisuMDAxKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKHIpLHJ9dXBkYXRlVGlsZUluZm8oZSx0PTApe2xldCBvPXRoaXMubG9kQXQoZS5sZXZlbCk7aWYoIW8mJjE9PT10KXtjb25zdCB0PXRoaXMubG9kc1t0aGlzLmxvZHMubGVuZ3RoLTFdO3QubGV2ZWw8ZS5sZXZlbCYmKG89dCk7fWlmKCFvKXJldHVybjtjb25zdCByPWUubGV2ZWwtby5sZXZlbCxzPW8ucmVzb2x1dGlvbip0aGlzLnNpemVbMF0vMioqcixpPW8ucmVzb2x1dGlvbip0aGlzLnNpemVbMV0vMioqcjtlLmlkPWAke2UubGV2ZWx9LyR7ZS5yb3d9LyR7ZS5jb2x9YCxlLmV4dGVudHx8KGUuZXh0ZW50PWkkMigpKSxlLmV4dGVudFswXT10aGlzLm9yaWdpbi54K2UuY29sKnMsZS5leHRlbnRbMV09dGhpcy5vcmlnaW4ueS0oZS5yb3crMSkqaSxlLmV4dGVudFsyXT1lLmV4dGVudFswXStzLGUuZXh0ZW50WzNdPWUuZXh0ZW50WzFdK2k7fXVwc2FtcGxlVGlsZShlKXtjb25zdCB0PXRoaXMuX3Vwc2FtcGxlTGV2ZWxzW2UubGV2ZWxdO3JldHVybiAhKCF0fHwtMT09PXQucGFyZW50TGV2ZWwpJiYoZS5sZXZlbD10LnBhcmVudExldmVsLGUucm93PU1hdGguZmxvb3IoZS5yb3cvdC5mYWN0b3IrLjAwMSksZS5jb2w9TWF0aC5mbG9vcihlLmNvbC90LmZhY3RvcisuMDAxKSx0aGlzLnVwZGF0ZVRpbGVJbmZvKGUpLCEwKX1nZXRUaWxlQm91bmRzKGUsdCl7Y29uc3R7cmVzb2x1dGlvbjpvfT10aGlzLmxvZEF0KHQubGV2ZWwpLHI9byp0aGlzLnNpemVbMF0scz1vKnRoaXMuc2l6ZVsxXTtyZXR1cm4gZVswXT10aGlzLm9yaWdpbi54K3QuY29sKnIsZVsxXT10aGlzLm9yaWdpbi55LSh0LnJvdysxKSpzLGVbMl09ZVswXStyLGVbM109ZVsxXStzLGV9bG9kQXQoZSl7cmV0dXJuIHRoaXMuX2xldmVsVG9MT0QmJnRoaXMuX2xldmVsVG9MT0RbZV18fG51bGx9Y2xvbmUoKXtyZXR1cm4gdi5mcm9tSlNPTih0aGlzLndyaXRlKHt9KSl9X2luaXRpYWxpemVVcHNhbXBsZUxldmVscygpe2NvbnN0IGU9dGhpcy5sb2RzO3RoaXMuX3Vwc2FtcGxlTGV2ZWxzPVtdO2xldCB0PW51bGw7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHI9ZVtvXTt0aGlzLl91cHNhbXBsZUxldmVsc1tyLmxldmVsXT17cGFyZW50TGV2ZWw6dD90LmxldmVsOi0xLGZhY3Rvcjp0P3QucmVzb2x1dGlvbi9yLnJlc29sdXRpb246MH0sdD1yO319fTtlKFt5KHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sai5wcm90b3R5cGUsXCJjb21wcmVzc2lvblF1YWxpdHlcIix2b2lkIDApLGUoW3koe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxqLnByb3RvdHlwZSxcImRwaVwiLHZvaWQgMCksZShbeSh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp3LnJlYWQsd3JpdGU6dy53cml0ZSxvcmlnaW5zOntcIndlYi1zY2VuZVwiOntyZWFkOiExLHdyaXRlOiExfX19fSldLGoucHJvdG90eXBlLFwiZm9ybWF0XCIsdm9pZCAwKSxlKFt5KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcImlzV3JhcHBhYmxlXCIsbnVsbCksZShbeSh7dHlwZTpqJDEsanNvbjp7d3JpdGU6ITB9fSldLGoucHJvdG90eXBlLFwib3JpZ2luXCIsdm9pZCAwKSxlKFtlJDEoXCJvcmlnaW5cIildLGoucHJvdG90eXBlLFwicmVhZE9yaWdpblwiLG51bGwpLGUoW3koe3R5cGU6W2ldLHZhbHVlOm51bGwsanNvbjp7d3JpdGU6ITB9fSldLGoucHJvdG90eXBlLFwibG9kc1wiLG51bGwpLGUoW3koe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwibWluU2NhbGVcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwibWF4U2NhbGVcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLGoucHJvdG90eXBlLFwic2NhbGVzXCIsdm9pZCAwKSxlKFt5KHtjYXN0OmU9PkFycmF5LmlzQXJyYXkoZSk/ZTpcIm51bWJlclwiPT10eXBlb2YgZT9bZSxlXTpbMjU2LDI1Nl19KV0sai5wcm90b3R5cGUsXCJzaXplXCIsdm9pZCAwKSxlKFtlJDEoXCJzaXplXCIsW1wicm93c1wiLFwiY29sc1wiXSldLGoucHJvdG90eXBlLFwicmVhZFNpemVcIixudWxsKSxlKFtvKFwic2l6ZVwiLHtjb2xzOnt0eXBlOk59LHJvd3M6e3R5cGU6Tn19KV0sai5wcm90b3R5cGUsXCJ3cml0ZVNpemVcIixudWxsKSxlKFt5KHt0eXBlOmssanNvbjp7d3JpdGU6ITB9fSldLGoucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksaj12PWUoW2kkMShcImVzcmkubGF5ZXJzLnN1cHBvcnQuVGlsZUluZm9cIildLGopO3ZhciB4PWo7XG5cbmV4cG9ydCB7IGksIHggfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGlsZUluZm8tNjM5ZTUwMzguanMubWFwIiwiaW1wb3J0IHsgY2cgYXMgZSQxIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBle2NvbnN0cnVjdG9yKHQsZSxsLG8pe3RoaXMuc2V0KHQsZSxsLG8pO31zdGF0aWMgZ2V0SWQodCxlLGwsbyl7cmV0dXJuIFwib2JqZWN0XCI9PXR5cGVvZiB0P2Ake3QubGV2ZWx9LyR7dC5yb3d9LyR7dC5jb2x9LyR7dC53b3JsZH1gOmAke3R9LyR7ZX0vJHtsfS8ke299YH1nZXQga2V5KCl7cmV0dXJuIHRoaXN9Z2V0IGlkKCl7cmV0dXJuIHRoaXMudG9TdHJpbmcoKX1zZXQgaWQodCl7dGhpcy5zZXQodCk7fWFjcXVpcmUodCxlLGwsbyl7dGhpcy5zZXQodCxlLGwsbyk7fWNvbnRhaW5zKHQpe2NvbnN0IGU9dC5sZXZlbC10aGlzLmxldmVsO3JldHVybiB0aGlzLnJvdz09PXQucm93Pj5lJiZ0aGlzLmNvbD09PXQuY29sPj5lJiZ0aGlzLndvcmxkPT09dC53b3JsZH1lcXVhbHModCl7cmV0dXJuIHRoaXMubGV2ZWw9PT10LmxldmVsJiZ0aGlzLnJvdz09PXQucm93JiZ0aGlzLmNvbD09PXQuY29sJiZ0aGlzLndvcmxkPT09dC53b3JsZH1jbG9uZSgpe3JldHVybiBuZXcgZSh0aGlzKX1yZWxlYXNlKCl7dGhpcy5sZXZlbD0wLHRoaXMucm93PTAsdGhpcy5jb2w9MCx0aGlzLndvcmxkPTA7fXNldCh0LGUsbCxvKXtpZihudWxsPT10KXRoaXMubGV2ZWw9MCx0aGlzLnJvdz0wLHRoaXMuY29sPTAsdGhpcy53b3JsZD0wO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpdGhpcy5sZXZlbD10LmxldmVsfHwwLHRoaXMucm93PXQucm93fHwwLHRoaXMuY29sPXQuY29sfHwwLHRoaXMud29ybGQ9dC53b3JsZHx8MDtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdFtlLGwsbyxzXT10LnNwbGl0KFwiL1wiKTt0aGlzLmxldmVsPXBhcnNlRmxvYXQoZSksdGhpcy5yb3c9cGFyc2VGbG9hdChsKSx0aGlzLmNvbD1wYXJzZUZsb2F0KG8pLHRoaXMud29ybGQ9cGFyc2VGbG9hdChzKTt9ZWxzZSB0aGlzLmxldmVsPSt0LHRoaXMucm93PStlLHRoaXMuY29sPStsLHRoaXMud29ybGQ9K298fDA7cmV0dXJuIHRoaXN9dG9TdHJpbmcoKXtyZXR1cm4gYCR7dGhpcy5sZXZlbH0vJHt0aGlzLnJvd30vJHt0aGlzLmNvbH0vJHt0aGlzLndvcmxkfWB9Z2V0UGFyZW50S2V5KCl7cmV0dXJuIHRoaXMubGV2ZWw8PTA/bnVsbDpuZXcgZSh0aGlzLmxldmVsLTEsdGhpcy5yb3c+PjEsdGhpcy5jb2w+PjEsdGhpcy53b3JsZCl9Z2V0Q2hpbGRLZXlzKCl7Y29uc3QgdD10aGlzLmxldmVsKzEsbD10aGlzLnJvdzw8MSxvPXRoaXMuY29sPDwxLHM9dGhpcy53b3JsZDtyZXR1cm4gW25ldyBlKHQsbCxvLHMpLG5ldyBlKHQsbCxvKzEscyksbmV3IGUodCxsKzEsbyxzKSxuZXcgZSh0LGwrMSxvKzEscyldfWNvbXBhcmVSb3dNYWpvcih0KXtyZXR1cm4gdGhpcy5yb3c8dC5yb3c/LTE6dGhpcy5yb3c+dC5yb3c/MTp0aGlzLmNvbDx0LmNvbD8tMTp0aGlzLmNvbD50LmNvbD8xOjB9fWUucG9vbD1uZXcgZSQxKGUsbnVsbCxudWxsLDI1LDUwKTtcblxuZXhwb3J0IHsgZSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaWxlS2V5LTlhMjIyYjQzLmpzLm1hcCIsImltcG9ydCB7IGogYXMgVSwgYjEgYXMgZ3QsIGIyIGFzIFV0LCBIIGFzIHIsIGFQIGFzIHAkMSwgYjMgYXMgRCB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdT1bXCJNYXBTZXJ2ZXJcIixcIkltYWdlU2VydmVyXCIsXCJGZWF0dXJlU2VydmVyXCIsXCJTY2VuZVNlcnZlclwiLFwiU3RyZWFtU2VydmVyXCIsXCJWZWN0b3JUaWxlU2VydmVyXCJdLGE9bmV3IFJlZ0V4cChgXigoPzpodHRwcz86KT9cXFxcL1xcXFwvXFxcXFMrP1xcXFwvcmVzdFxcXFwvc2VydmljZXNcXFxcLyguKz8pXFxcXC8oJHt1LmpvaW4oXCJ8XCIpfSkpKD86XFxcXC8oPzpsYXllcnNcXFxcLyk/KFxcXFxkKykpP2AsXCJpXCIpLGM9bmV3IFJlZ0V4cChgXigoPzpodHRwcz86KT9cXFxcL1xcXFwvXFxcXFMrP1xcXFwvKFteXFxcXC9cXFxcbl0rKVxcXFwvKCR7dS5qb2luKFwifFwiKX0pKSg/OlxcXFwvKD86bGF5ZXJzXFxcXC8pPyhcXFxcZCspKT9gLFwiaVwiKSxmPS8oLiopXFwvKFxcZCspXFwvPyQvaTtmdW5jdGlvbiBwKGUpe3JldHVybiAhIWEudGVzdChlKX1mdW5jdGlvbiBkKGUpe2NvbnN0IHQ9VShlKSxuPXQucGF0aC5tYXRjaChhKXx8dC5wYXRoLm1hdGNoKGMpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0WyxzLGksbyxsXT1uLHU9aS5pbmRleE9mKFwiL1wiKTtyZXR1cm4ge3RpdGxlOnYoLTEhPT11P2kuc2xpY2UodSsxKTppKSxzZXJ2ZXJUeXBlOm8sc3VibGF5ZXI6bnVsbCE9bCYmXCJcIiE9PWw/cGFyc2VJbnQobCwxMCk6bnVsbCx1cmw6e3BhdGg6c319fWZ1bmN0aW9uIG0oZSl7Y29uc3QgdD1VKGUpLnBhdGgubWF0Y2goZik7cmV0dXJuIHQ/e3NlcnZpY2VVcmw6dFsxXSxzdWJsYXllcklkOk51bWJlcih0WzJdKX06bnVsbH1mdW5jdGlvbiB2KGUpe3JldHVybiAoZT1lLnJlcGxhY2UoL1xccypbL19dK1xccyovZyxcIiBcIikpWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX1mdW5jdGlvbiBoKHIkMSx0KXtjb25zdCBuPVtdO2lmKHIkMSl7Y29uc3QgdD1kKHIkMSk7cih0KSYmdC50aXRsZSYmbi5wdXNoKHQudGl0bGUpO31pZih0KXtjb25zdCBlPXYodCk7bi5wdXNoKGUpO31pZigyPT09bi5sZW5ndGgpe2lmKC0xIT09blswXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoblsxXS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gblswXTtpZigtMSE9PW5bMV0udG9Mb3dlckNhc2UoKS5pbmRleE9mKG5bMF0udG9Mb3dlckNhc2UoKSkpcmV0dXJuIG5bMV19cmV0dXJuIG4uam9pbihcIiAtIFwiKX1mdW5jdGlvbiB3KGUpe2lmKCFlKXJldHVybiAhMTtjb25zdCByPVwiLmFyY2dpcy5jb20vXCIsdD1cIi8vc2VydmljZXNcIixuPVwiLy90aWxlc1wiLHM9XCIvL2ZlYXR1cmVzXCIsaT0tMSE9PShlPWUudG9Mb3dlckNhc2UoKSkuaW5kZXhPZihyKSxvPS0xIT09ZS5pbmRleE9mKHQpfHwtMSE9PWUuaW5kZXhPZihuKXx8LTEhPT1lLmluZGV4T2Yocyk7cmV0dXJuIGkmJm99ZnVuY3Rpb24geShlLHIpe3JldHVybiBlP2d0KFV0KGUscikpOmV9ZnVuY3Rpb24gZyhzKXtsZXR7dXJsOml9PXM7aWYoIWkpcmV0dXJuIHt1cmw6aX07aT1VdChpLHMubG9nZ2VyKTtjb25zdCBvPVUoaSksbD1kKG8ucGF0aCk7bGV0IHU7aWYocihsKSludWxsIT1sLnN1YmxheWVyJiZudWxsPT1zLmxheWVyLmxheWVySWQmJih1PWwuc3VibGF5ZXIpLGk9bC51cmwucGF0aDtlbHNlIGlmKHMubm9uU3RhbmRhcmRVcmxBbGxvd2VkKXtjb25zdCByJDE9bShvLnBhdGgpO3IociQxKSYmKGk9ciQxLnNlcnZpY2VVcmwsdT1yJDEuc3VibGF5ZXJJZCk7fXJldHVybiB7dXJsOmd0KGkpLGxheWVySWQ6dX19ZnVuY3Rpb24gTyhlLHIsdCxuLGkpe3AkMShyLG4sXCJ1cmxcIixpKSxuLnVybCYmbnVsbCE9ZS5sYXllcklkJiYobi51cmw9RChuLnVybCx0LGUubGF5ZXJJZC50b1N0cmluZygpKSk7fWZ1bmN0aW9uIFMoZSl7aWYoIWUpcmV0dXJuICExO2NvbnN0IHI9ZS50b0xvd2VyQ2FzZSgpLHQ9LTEhPT1yLmluZGV4T2YoXCIvc2VydmljZXMvXCIpLG49LTEhPT1yLmluZGV4T2YoXCIvbWFwc2VydmVyL3dtc3NlcnZlclwiKSxzPS0xIT09ci5pbmRleE9mKFwiL2ltYWdlc2VydmVyL3dtc3NlcnZlclwiKSxpPS0xIT09ci5pbmRleE9mKFwiL3dtc3NlcnZlclwiKTtyZXR1cm4gdCYmKG58fHN8fGkpfVxuXG5leHBvcnQgeyBPLCBTLCBkLCBnLCBoLCBtLCBwLCB2LCB3LCB5IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyY2dpc0xheWVyVXJsLTM2YjNjM2FiLmpzLm1hcCIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBjPTFlLTMwLGk9NDI5NDk2NzI5NSxvPTUxMixzPTI5LGc9MTYsaj04LEo9MSxLPTIsTj0yLE89MSxTPTIuNSxZPTIsWj03LCQ9NTAwO1xuXG5leHBvcnQgeyAkLCBKLCBLLCBOLCBPLCBTLCBZLCBaLCBjLCBnLCBpLCBqLCBvLCBzIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmluaXRpb25zLWU2M2Y0ZmUyLmpzLm1hcCIsImltcG9ydCB7IGFlIGFzIEwsIGExIGFzIHUkMSwgYUkgYXMgZSwgSCBhcyByLCB0IH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBmPVtcImVzcmkuQ29sb3JcIixcImVzcmkucG9ydGFsLlBvcnRhbFwiLFwiZXNyaS5zeW1ib2xzLnN1cHBvcnQuU3ltYm9sM0RBbmNob3JQb3NpdGlvbjJEXCIsXCJlc3JpLnN5bWJvbHMuc3VwcG9ydC5TeW1ib2wzREFuY2hvclBvc2l0aW9uM0RcIl07ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHUkMX1mdW5jdGlvbiBjKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTD9PYmplY3Qua2V5cyh0Lml0ZW1zKTppKHQpP2UodCkua2V5cygpOnQ/T2JqZWN0LmtleXModCk6W119ZnVuY3Rpb24gdSh0LGUpe3JldHVybiB0IGluc3RhbmNlb2YgTD90Lml0ZW1zW2VdOnRbZV19ZnVuY3Rpb24gbCh0LGUpe3JldHVybiAhKCFBcnJheS5pc0FycmF5KHQpfHwhQXJyYXkuaXNBcnJheShlKSkmJnQubGVuZ3RoIT09ZS5sZW5ndGh9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdD90LmRlY2xhcmVkQ2xhc3M6bnVsbH1mdW5jdGlvbiBwKHQsbil7Y29uc3Qgbz10LmRpZmY7aWYobyYmXCJmdW5jdGlvblwiPT10eXBlb2YgbylyZXR1cm4gbyh0LG4pO2NvbnN0IHIkMT1jKHQpLGE9YyhuKTtpZigwPT09ciQxLmxlbmd0aCYmMD09PWEubGVuZ3RoKXJldHVybjtpZighciQxLmxlbmd0aHx8IWEubGVuZ3RofHxsKHQsbikpcmV0dXJuIHt0eXBlOlwiY29tcGxldGVcIixvbGRWYWx1ZTp0LG5ld1ZhbHVlOm59O2NvbnN0IHk9YS5maWx0ZXIoKHQ9Pi0xPT09ciQxLmluZGV4T2YodCkpKSxtPXIkMS5maWx0ZXIoKHQ9Pi0xPT09YS5pbmRleE9mKHQpKSksZD1yJDEuZmlsdGVyKChlPT5hLmluZGV4T2YoZSk+LTEmJnUodCxlKSE9PXUobixlKSkpLmNvbmNhdCh5LG0pLnNvcnQoKSxiPXModCk7aWYoYiYmZi5pbmRleE9mKGIpPi0xJiZkLmxlbmd0aClyZXR1cm4ge3R5cGU6XCJjb21wbGV0ZVwiLG9sZFZhbHVlOnQsbmV3VmFsdWU6bn07bGV0IGg7Y29uc3Qgaj1pKHQpJiZpKG4pO2Zvcihjb25zdCBmIG9mIGQpe2NvbnN0IHIkMT11KHQsZiksaT11KG4sZik7bGV0IGM7KGp8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIkMSYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSkmJihyJDEhPT1pJiYobnVsbD09ciQxJiZudWxsPT1pfHwoYz1vJiZvW2ZdJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvW2ZdP29bZl0ociQxLGkpOlwib2JqZWN0XCI9PXR5cGVvZiByJDEmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiZzKHIkMSk9PT1zKGkpP3AociQxLGkpOnt0eXBlOlwiY29tcGxldGVcIixvbGRWYWx1ZTpyJDEsbmV3VmFsdWU6aX0scihjKSYmKHIoaCk/aC5kaWZmW2ZdPWM6aD17dHlwZTpcInBhcnRpYWxcIixkaWZmOntbZl06Y319KSkpKTt9cmV0dXJuIGh9ZnVuY3Rpb24gYShlLG4pe2lmKHQoZSkpcmV0dXJuICExO2NvbnN0IG89bi5zcGxpdChcIi5cIik7bGV0IHI9ZTtmb3IoY29uc3QgdCBvZiBvKXtpZihcImNvbXBsZXRlXCI9PT1yLnR5cGUpcmV0dXJuICEwO2lmKFwicGFydGlhbFwiIT09ci50eXBlKXJldHVybiAhMTt7Y29uc3QgZT1yLmRpZmZbdF07aWYoIWUpcmV0dXJuICExO3I9ZTt9fXJldHVybiAhMH1mdW5jdGlvbiB5KHQsZSl7Zm9yKGNvbnN0IG4gb2YgZSlpZihhKHQsbikpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBtKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKHR8fGUpKXJldHVybiAhdHx8IWV8fFwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmcyh0KSE9PXMoZSk/e3R5cGU6XCJjb21wbGV0ZVwiLG9sZFZhbHVlOnQsbmV3VmFsdWU6ZX06cCh0LGUpfVxuXG5leHBvcnQgeyBhLCBtLCB5IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpZmZVdGlscy1kOWFmYmNiMy5qcy5tYXAiLCJpbXBvcnQgeyBzIGFzIHMkMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgdCwgYSBhcyB0JDEgfSBmcm9tICcuL09wdGltaXplZEdlb21ldHJ5LTg4MTJlNGY2LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG8oZSl7Y29uc3Qgbj1bXTtmb3IoOzspe2NvbnN0e3ZhbHVlOnQsZG9uZTpvfT1lLm5leHQoKTtpZihvKXJldHVybiBuO24ucHVzaCh0KTt9fWZ1bmN0aW9uIHIoZSl7Y29uc3Qgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT5uLnB1c2goZSkpKSxufWNvbnN0IGk9e0xpbmVTdHJpbmc6XCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLE11bHRpTGluZVN0cmluZzpcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCIsTXVsdGlQb2ludDpcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIixQb2ludDpcImVzcmlHZW9tZXRyeVBvaW50XCIsUG9seWdvbjpcImVzcmlHZW9tZXRyeVBvbHlnb25cIixNdWx0aVBvbHlnb246XCJlc3JpR2VvbWV0cnlQb2x5Z29uXCJ9O2Z1bmN0aW9uKnMoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiRmVhdHVyZVwiOnlpZWxkIGU7YnJlYWs7Y2FzZVwiRmVhdHVyZUNvbGxlY3Rpb25cIjpmb3IoY29uc3QgbiBvZiBlLmZlYXR1cmVzKW4mJih5aWVsZCBuKTt9fWZ1bmN0aW9uKnUoZSl7aWYoIWUpcmV0dXJuIG51bGw7c3dpdGNoKGUudHlwZSl7Y2FzZVwiUG9pbnRcIjp5aWVsZCBlLmNvb3JkaW5hdGVzO2JyZWFrO2Nhc2VcIkxpbmVTdHJpbmdcIjpjYXNlXCJNdWx0aVBvaW50XCI6eWllbGQqZS5jb29yZGluYXRlczticmVhaztjYXNlXCJNdWx0aUxpbmVTdHJpbmdcIjpjYXNlXCJQb2x5Z29uXCI6Zm9yKGNvbnN0IG4gb2YgZS5jb29yZGluYXRlcyl5aWVsZCpuO2JyZWFrO2Nhc2VcIk11bHRpUG9seWdvblwiOmZvcihjb25zdCBuIG9mIGUuY29vcmRpbmF0ZXMpZm9yKGNvbnN0IGUgb2Ygbil5aWVsZCplO319ZnVuY3Rpb24qYyhlLG89e30pe2NvbnN0e2dlb21ldHJ5VHlwZTpyLG9iamVjdElkRmllbGROYW1lOnN9PW87Zm9yKDs7KXtjb25zdHt2YWx1ZTp1LGRvbmU6Y309ZS5uZXh0KCk7aWYoYylyZXR1cm47Y29uc3R7Z2VvbWV0cnk6bCxwcm9wZXJ0aWVzOmYsaWQ6YX09dTtpZihsJiZpW2wudHlwZV0hPT1yKWNvbnRpbnVlO2NvbnN0IHk9Znx8e307cyYmbnVsbCE9YSYmIXlbc10mJih5W3NdPWEpO2NvbnN0IHA9bmV3IHQobD9kKG5ldyB0JDEsbCxvKTpudWxsLHkpO3lpZWxkIHA7fX1mdW5jdGlvbiBsKGUpe2Zvcig7Oyl7Y29uc3R7dmFsdWU6bixkb25lOnR9PWUubmV4dCgpO2lmKHQpcmV0dXJuICExO2lmKG4ubGVuZ3RoPjIpcmV0dXJuICEwfX1mdW5jdGlvbiBmKGUpe3JldHVybiAheShlKX1mdW5jdGlvbiBhKGUpe3JldHVybiB5KGUpfWZ1bmN0aW9uIHkoZSl7bGV0IG49MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbz1lW3RdLHI9ZVsodCsxKSVlLmxlbmd0aF07bis9b1swXSpyWzFdLXJbMF0qb1sxXTt9cmV0dXJuIG48PTB9ZnVuY3Rpb24gcChlKXtjb25zdCBuPWVbMF0sdD1lW2UubGVuZ3RoLTFdO3JldHVybiBuWzBdPT09dFswXSYmblsxXT09PXRbMV0mJm5bMl09PT10WzJdfHxlLnB1c2gobiksZX1mdW5jdGlvbiBkKGUsbix0KXtzd2l0Y2gobi50eXBlKXtjYXNlXCJMaW5lU3RyaW5nXCI6cmV0dXJuIGcoZSxuLHQpO2Nhc2VcIk11bHRpTGluZVN0cmluZ1wiOnJldHVybiBtKGUsbix0KTtjYXNlXCJNdWx0aVBvaW50XCI6cmV0dXJuIGgoZSxuLHQpO2Nhc2VcIk11bHRpUG9seWdvblwiOnJldHVybiB3KGUsbix0KTtjYXNlXCJQb2ludFwiOnJldHVybiBiKGUsbix0KTtjYXNlXCJQb2x5Z29uXCI6cmV0dXJuIFAoZSxuLHQpfX1mdW5jdGlvbiBnKGUsbix0KXtyZXR1cm4gUyhlLG4uY29vcmRpbmF0ZXMsdCksZX1mdW5jdGlvbiBtKGUsbix0KXtmb3IoY29uc3QgbyBvZiBuLmNvb3JkaW5hdGVzKVMoZSxvLHQpO3JldHVybiBlfWZ1bmN0aW9uIGgoZSxuLHQpe3JldHVybiBTKGUsbi5jb29yZGluYXRlcyx0KSxlfWZ1bmN0aW9uIHcoZSxuLHQpe2Zvcihjb25zdCBvIG9mIG4uY29vcmRpbmF0ZXMpe2ooZSxvWzBdLHQpO2ZvcihsZXQgbj0xO248by5sZW5ndGg7bisrKUYoZSxvW25dLHQpO31yZXR1cm4gZX1mdW5jdGlvbiBiKGUsbix0KXtyZXR1cm4gRyhlLG4uY29vcmRpbmF0ZXMsdCksZX1mdW5jdGlvbiBQKGUsbix0KXtjb25zdCBvPW4uY29vcmRpbmF0ZXM7aihlLG9bMF0sdCk7Zm9yKGxldCByPTE7cjxvLmxlbmd0aDtyKyspRihlLG9bcl0sdCk7cmV0dXJuIGV9ZnVuY3Rpb24gaihlLG4sdCl7Y29uc3Qgbz1wKG4pO2Yobyk/TShlLG8sdCk6UyhlLG8sdCk7fWZ1bmN0aW9uIEYoZSxuLHQpe2NvbnN0IG89cChuKTthKG8pP00oZSxvLHQpOlMoZSxvLHQpO31mdW5jdGlvbiBTKGUsbix0KXtmb3IoY29uc3QgbyBvZiBuKUcoZSxvLHQpO2UubGVuZ3Rocy5wdXNoKG4ubGVuZ3RoKTt9ZnVuY3Rpb24gTShlLG4sdCl7Zm9yKGxldCBvPW4ubGVuZ3RoLTE7bz49MDtvLS0pRyhlLG5bb10sdCk7ZS5sZW5ndGhzLnB1c2gobi5sZW5ndGgpO31mdW5jdGlvbiBHKGUsbix0KXtjb25zdFtvLHIsaV09bjtlLmNvb3Jkcy5wdXNoKG8sciksdC5oYXNaJiZlLmNvb3Jkcy5wdXNoKGl8fDApO31mdW5jdGlvbiB4KGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIFwiZXNyaUZpZWxkVHlwZVN0cmluZ1wiO2Nhc2VcIm51bWJlclwiOnJldHVybiBcImVzcmlGaWVsZFR5cGVEb3VibGVcIjtkZWZhdWx0OnJldHVybiBcInVua25vd25cIn19ZnVuY3Rpb24gSShuKXtpZighbil0aHJvdyBuZXcgcyQxKFwiZ2VvanNvbi1sYXllcjplbXB0eVwiLFwiR2VvSlNPTiBkYXRhIGlzIGVtcHR5XCIpO2lmKFwiRmVhdHVyZVwiIT09bi50eXBlJiZcIkZlYXR1cmVDb2xsZWN0aW9uXCIhPT1uLnR5cGUpdGhyb3cgbmV3IHMkMShcImdlb2pzb24tbGF5ZXI6dW5zdXBwb3J0ZWQtZ2VvanNvbi1vYmplY3RcIixcIm1pc3Npbmcgb3Igbm90IHN1cHBvcnRlZCBHZW9KU09OIG9iamVjdCB0eXBlXCIse2RhdGE6bn0pO2NvbnN0e2Nyczp0fT1uO2lmKCF0KXJldHVybjtjb25zdCBvPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6XCJuYW1lXCI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzLm5hbWU6bnVsbCxyPW5ldyBSZWdFeHAoXCIuKihDUlM4NEg/fDQzMjYpJFwiLFwiaVwiKTtpZighb3x8IXIudGVzdChvKSl0aHJvdyBuZXcgcyQxKFwiZ2VvanNvbi1sYXllcjp1bnN1cHBvcnRlZC1jcnNcIixcInVuc3VwcG9ydGVkIEdlb0pTT04gJ2NycycgbWVtYmVyXCIse2Nyczp0fSl9ZnVuY3Rpb24gTihlLG49e30pe2NvbnN0IHQ9cyhlKSxvPVtdLGM9bmV3IFNldCxmPW5ldyBTZXQ7bGV0IGEseT0hMSxwPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxkPW51bGwsZz0hMSx7Z2VvbWV0cnlUeXBlOm09bnVsbH09bixoPSExO2Zvcig7Oyl7Y29uc3R7dmFsdWU6ZSxkb25lOm59PXQubmV4dCgpO2lmKG4pe2NvbnN0IGU9ZCYmMT09PWQubGVuZ3RoJiZkWzBdfHxudWxsO2lmKGUpZm9yKGNvbnN0IG4gb2YgbyluLm5hbWU9PT1lJiYobi50eXBlPVwiZXNyaUZpZWxkVHlwZU9JRFwiKTtyZXR1cm4ge2ZpZWxkczpvLGdlb21ldHJ5VHlwZTptLGhhc1o6eSxtYXhPYmplY3RJZDpNYXRoLm1heCgwLHApLG9iamVjdElkRmllbGROYW1lOmUsb2JqZWN0SWRGaWVsZFR5cGU6YSx1bmtub3duRmllbGRzOnIoZil9fWNvbnN0e2dlb21ldHJ5OnMscHJvcGVydGllczp3LGlkOmJ9PWU7aWYoIXN8fChtfHwobT1pW3MudHlwZV0pLGlbcy50eXBlXT09PW0pKXtpZigheSl7eT1sKHUocykpO31pZihnfHwoZz1udWxsIT1iLGcmJihhPXR5cGVvZiBiLFwibnVtYmVyXCI9PT1hJiYoZD1PYmplY3Qua2V5cyh3KS5maWx0ZXIoKGU9PndbZV09PT1iKSkpKSksZyYmXCJudW1iZXJcIj09PWEmJm51bGwhPWImJihwPU1hdGgubWF4KHAsYiksZC5sZW5ndGg+MT9kPWQuZmlsdGVyKChlPT53W2VdPT09YikpOjE9PT1kLmxlbmd0aCYmKGQ9d1tkWzBdXT09PWI/ZDpbXSkpLCFoJiZ3KXtsZXQgZT0hMDtmb3IoY29uc3QgbiBpbiB3KXtpZihjLmhhcyhuKSljb250aW51ZTtjb25zdCB0PXdbbl07aWYobnVsbD09dCl7ZT0hMSxmLmFkZChuKTtjb250aW51ZX1jb25zdCByPXgodCk7XCJ1bmtub3duXCIhPT1yPyhmLmRlbGV0ZShuKSxjLmFkZChuKSxvLnB1c2goe25hbWU6bixhbGlhczpuLHR5cGU6cn0pKTpmLmFkZChuKTt9aD1lO319fX1mdW5jdGlvbiBUKGUsbil7cmV0dXJuIG8oYyhzKGUpLG4pKX1cblxuZXhwb3J0IHsgSSwgTiwgVCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW9qc29uLWM2YzJkMmNmLmpzLm1hcCIsImltcG9ydCB7IEggYXMgciwgYXIgYXMgZCQxLCBVLCBiMyBhcyBELCBqIGFzIFUkMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgTCB9IGZyb20gJy4vbm9ybWFsaXplVXRpbHMtNjlmODNjMDUuanMnO1xuaW1wb3J0IHsgdCBhcyB0JDEgfSBmcm9tICcuL3F1ZXJ5WlNjYWxlLThmZDVhMTYwLmpzJztcbmltcG9ydCB7IHQgYXMgdCQyIH0gZnJvbSAnLi9wYmZRdWVyeVV0aWxzLThhOWZjODdkLmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQobil7Y29uc3Qgbz17fTtmb3IoY29uc3QgZSBpbiBuKXtpZihcImRlY2xhcmVkQ2xhc3NcIj09PWUpY29udGludWU7Y29uc3Qgcj1uW2VdO2lmKG51bGwhPXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpaWYoQXJyYXkuaXNBcnJheShyKSl7b1tlXT1bXTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylvW2VdW25dPXQocltuXSk7fWVsc2UgXCJvYmplY3RcIj09dHlwZW9mIHI/ci50b0pTT04mJihvW2VdPUpTT04uc3RyaW5naWZ5KHIpKTpvW2VdPXI7fXJldHVybiBvfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgbD1cIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgZXh0ZW50IGNhbGN1bGF0aW9uLlwiO2Z1bmN0aW9uIG0oZSxyJDEpe2NvbnN0IGk9ZS5nZW9tZXRyeSxvPWUudG9KU09OKCkscz1vO2lmKHIoaSkmJihzLmdlb21ldHJ5PUpTT04uc3RyaW5naWZ5KGkpLHMuZ2VvbWV0cnlUeXBlPWQkMShpKSxzLmluU1I9aS5zcGF0aWFsUmVmZXJlbmNlLndraWR8fEpTT04uc3RyaW5naWZ5KGkuc3BhdGlhbFJlZmVyZW5jZSkpLG8uZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3MmJihzLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzPW8uZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3Muam9pbihcIixcIikpLG8ub2JqZWN0SWRzJiYocy5vYmplY3RJZHM9by5vYmplY3RJZHMuam9pbihcIixcIikpLG8ub3JkZXJCeUZpZWxkcyYmKHMub3JkZXJCeUZpZWxkcz1vLm9yZGVyQnlGaWVsZHMuam9pbihcIixcIikpLCFvLm91dEZpZWxkc3x8IW8ucmV0dXJuRGlzdGluY3RWYWx1ZXMmJihudWxsIT1yJDEmJnIkMS5yZXR1cm5Db3VudE9ubHl8fG51bGwhPXIkMSYmciQxLnJldHVybkV4dGVudE9ubHl8fG51bGwhPXIkMSYmciQxLnJldHVybklkc09ubHkpP2RlbGV0ZSBzLm91dEZpZWxkczotMSE9PW8ub3V0RmllbGRzLmluZGV4T2YoXCIqXCIpP3Mub3V0RmllbGRzPVwiKlwiOnMub3V0RmllbGRzPW8ub3V0RmllbGRzLmpvaW4oXCIsXCIpLG8ub3V0U1I/cy5vdXRTUj1vLm91dFNSLndraWR8fEpTT04uc3RyaW5naWZ5KG8ub3V0U1IpOmkmJihvLnJldHVybkdlb21ldHJ5fHxvLnJldHVybkNlbnRyb2lkKSYmKHMub3V0U1I9cy5pblNSKSxvLnJldHVybkdlb21ldHJ5JiZkZWxldGUgby5yZXR1cm5HZW9tZXRyeSxvLm91dFN0YXRpc3RpY3MmJihzLm91dFN0YXRpc3RpY3M9SlNPTi5zdHJpbmdpZnkoby5vdXRTdGF0aXN0aWNzKSksby5waXhlbFNpemUmJihzLnBpeGVsU2l6ZT1KU09OLnN0cmluZ2lmeShvLnBpeGVsU2l6ZSkpLG8ucXVhbnRpemF0aW9uUGFyYW1ldGVycyYmKHMucXVhbnRpemF0aW9uUGFyYW1ldGVycz1KU09OLnN0cmluZ2lmeShvLnF1YW50aXphdGlvblBhcmFtZXRlcnMpKSxvLnBhcmFtZXRlclZhbHVlcyYmKHMucGFyYW1ldGVyVmFsdWVzPUpTT04uc3RyaW5naWZ5KG8ucGFyYW1ldGVyVmFsdWVzKSksby5yYW5nZVZhbHVlcyYmKHMucmFuZ2VWYWx1ZXM9SlNPTi5zdHJpbmdpZnkoby5yYW5nZVZhbHVlcykpLG8uZHluYW1pY0RhdGFTb3VyY2UmJihzLmxheWVyPUpTT04uc3RyaW5naWZ5KHtzb3VyY2U6by5keW5hbWljRGF0YVNvdXJjZX0pLGRlbGV0ZSBvLmR5bmFtaWNEYXRhU291cmNlKSxvLnRpbWVFeHRlbnQpe2NvbnN0IHQ9by50aW1lRXh0ZW50LHtzdGFydDplLGVuZDpyfT10O251bGw9PWUmJm51bGw9PXJ8fChzLnRpbWU9ZT09PXI/ZTpgJHtudWxsPT1lP1wibnVsbFwiOmV9LCR7bnVsbD09cj9cIm51bGxcIjpyfWApLGRlbGV0ZSBvLnRpbWVFeHRlbnQ7fXJldHVybiBzfWFzeW5jIGZ1bmN0aW9uIHkoZSxyJDEsbixpKXtjb25zdCBvPXIociQxLnRpbWVFeHRlbnQpJiZyJDEudGltZUV4dGVudC5pc0VtcHR5P3tkYXRhOntmZWF0dXJlczpbXX19OmF3YWl0IGcoZSxyJDEsXCJqc29uXCIsaSk7cmV0dXJuIHQkMShyJDEsbixvLmRhdGEpLG99YXN5bmMgZnVuY3Rpb24gYyhlLHIkMSxuLGkpe2lmKHIociQxLnRpbWVFeHRlbnQpJiZyJDEudGltZUV4dGVudC5pc0VtcHR5KXJldHVybiBQcm9taXNlLnJlc29sdmUoe2RhdGE6bi5jcmVhdGVGZWF0dXJlUmVzdWx0KCl9KTtjb25zdCBvPWF3YWl0IGQoZSxyJDEsaSkscz1vO3JldHVybiBzLmRhdGE9dCQyKG8uZGF0YSxuKSxzfWZ1bmN0aW9uIGQodCxlLHIpe3JldHVybiBnKHQsZSxcInBiZlwiLHIpfWZ1bmN0aW9uIGYoZSxyJDEsbil7cmV0dXJuIHIociQxLnRpbWVFeHRlbnQpJiZyJDEudGltZUV4dGVudC5pc0VtcHR5P1Byb21pc2UucmVzb2x2ZSh7ZGF0YTp7b2JqZWN0SWRzOltdfX0pOmcoZSxyJDEsXCJqc29uXCIsbix7cmV0dXJuSWRzT25seTohMH0pfWZ1bmN0aW9uIHAoZSxyJDEsbil7cmV0dXJuIHIociQxLnRpbWVFeHRlbnQpJiZyJDEudGltZUV4dGVudC5pc0VtcHR5P1Byb21pc2UucmVzb2x2ZSh7ZGF0YTp7Y291bnQ6MH19KTpnKGUsciQxLFwianNvblwiLG4se3JldHVybklkc09ubHk6ITAscmV0dXJuQ291bnRPbmx5OiEwfSl9ZnVuY3Rpb24gUyhlLHIkMSxuKXtyZXR1cm4gcihyJDEudGltZUV4dGVudCkmJnIkMS50aW1lRXh0ZW50LmlzRW1wdHk/UHJvbWlzZS5yZXNvbHZlKHtkYXRhOntjb3VudDowLGV4dGVudDpudWxsfX0pOmcoZSxyJDEsXCJqc29uXCIsbix7cmV0dXJuRXh0ZW50T25seTohMCxyZXR1cm5Db3VudE9ubHk6ITB9KS50aGVuKCh0PT57Y29uc3QgZT10LmRhdGE7aWYoZS5oYXNPd25Qcm9wZXJ0eShcImV4dGVudFwiKSlyZXR1cm4gdDtpZihlLmZlYXR1cmVzKXRocm93IG5ldyBFcnJvcihsKTtpZihlLmhhc093blByb3BlcnR5KFwiY291bnRcIikpdGhyb3cgbmV3IEVycm9yKGwpO3JldHVybiB0fSkpfWZ1bmN0aW9uIGcobixzLGEsbD17fSx5PXt9KXtjb25zdCBjPVwic3RyaW5nXCI9PXR5cGVvZiBuP1UkMShuKTpuLGQ9cy5nZW9tZXRyeT9bcy5nZW9tZXRyeV06W107cmV0dXJuIGwucmVzcG9uc2VUeXBlPVwicGJmXCI9PT1hP1wiYXJyYXktYnVmZmVyXCI6XCJqc29uXCIsTChkLG51bGwsbCkudGhlbigociQxPT57Y29uc3Qgbj1yJDEmJnIkMVswXTtyKG4pJiYoKHM9cy5jbG9uZSgpKS5nZW9tZXRyeT1uKTtjb25zdCBvPXQoey4uLmMucXVlcnksZjphLC4uLnksLi4ubShzLHkpfSk7cmV0dXJuIFUoRChjLnBhdGgsXCJxdWVyeVwiKSx7Li4ubCxxdWVyeTp7Li4ubywuLi5sLnF1ZXJ5fX0pfSkpfVxuXG5jb25zdCBxdWVyeSA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcblx0X19wcm90b19fOiBudWxsLFxuXHRleGVjdXRlUXVlcnk6IHksXG5cdGV4ZWN1dGVRdWVyeUZvckNvdW50OiBwLFxuXHRleGVjdXRlUXVlcnlGb3JFeHRlbnQ6IFMsXG5cdGV4ZWN1dGVRdWVyeUZvcklkczogZixcblx0ZXhlY3V0ZVF1ZXJ5UEJGOiBjLFxuXHRleGVjdXRlUXVlcnlQQkZCdWZmZXI6IGQsXG5cdHF1ZXJ5VG9RdWVyeVN0cmluZ1BhcmFtZXRlcnM6IG0sXG5cdHJ1blF1ZXJ5OiBnXG59KTtcblxuZXhwb3J0IHsgUywgYywgZCwgZiwgcCwgcXVlcnkgYXMgcSwgdCwgeSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS0zZDkxNTIyYS5qcy5tYXAiLCJpbXBvcnQgeyB0IGFzIHQkMSB9IGZyb20gJy4venNjYWxlLTM3OTg3MTA0LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxvLHIpe2lmKCFyfHwhci5mZWF0dXJlc3x8IXIuaGFzWilyZXR1cm47Y29uc3QgZj10JDEoci5nZW9tZXRyeVR5cGUsbyx0Lm91dFNwYXRpYWxSZWZlcmVuY2UpO2lmKGYpZm9yKGNvbnN0IGUgb2Ygci5mZWF0dXJlcylmKGUuZ2VvbWV0cnkpO31cblxuZXhwb3J0IHsgdCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeVpTY2FsZS04ZmQ1YTE2MC5qcy5tYXAiLCJpbXBvcnQgeyBiZiBhcyBkLCB0IGFzIHQkMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgVCB9IGZyb20gJy4vdW5pdFV0aWxzLTYyNGNlZWI2LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCxjLGwpe2lmKHQkMShjKXx8dCQxKGwpfHxsLnZjc1draWR8fGQoYyxsKSlyZXR1cm4gbnVsbDtjb25zdCB1PVQoYykvVChsKTtpZigxPT09dSlyZXR1cm4gbnVsbDtzd2l0Y2godCl7Y2FzZVwicG9pbnRcIjpjYXNlXCJlc3JpR2VvbWV0cnlQb2ludFwiOnJldHVybiBuPT5pKG4sdSk7Y2FzZVwicG9seWxpbmVcIjpjYXNlXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiOnJldHVybiBuPT5zKG4sdSk7Y2FzZVwicG9seWdvblwiOmNhc2VcImVzcmlHZW9tZXRyeVBvbHlnb25cIjpyZXR1cm4gbj0+cihuLHUpO2Nhc2VcIm11bHRpcG9pbnRcIjpjYXNlXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCI6cmV0dXJuIG49PmYobix1KTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBpKG4sbyl7biYmbnVsbCE9bi56JiYobi56Kj1vKTt9ZnVuY3Rpb24gcihuLG8pe2lmKG4pZm9yKGNvbnN0IGUgb2Ygbi5yaW5ncylmb3IoY29uc3QgbiBvZiBlKW4ubGVuZ3RoPjImJihuWzJdKj1vKTt9ZnVuY3Rpb24gcyhuLG8pe2lmKG4pZm9yKGNvbnN0IGUgb2Ygbi5wYXRocylmb3IoY29uc3QgbiBvZiBlKW4ubGVuZ3RoPjImJihuWzJdKj1vKTt9ZnVuY3Rpb24gZihuLG8pe2lmKG4pZm9yKGNvbnN0IGUgb2Ygbi5wb2ludHMpZS5sZW5ndGg+MiYmKGVbMl0qPW8pO31mdW5jdGlvbiBjKG4sbyxlKXtpZihudWxsPT1uLmhhc018fG4uaGFzWilmb3IoY29uc3QgdCBvZiBvKWZvcihjb25zdCBuIG9mIHQpbi5sZW5ndGg+MiYmKG5bMl0qPWUpO31mdW5jdGlvbiBsKG4sbyx0KXtpZighbiYmIW98fCF0KXJldHVybjtjb25zdCBpPVQodCk7dShuLHQsaSksdShvLHQsaSk7fWZ1bmN0aW9uIHUobixvLGUpe2lmKG4pZm9yKGNvbnN0IHQgb2YgbilhKHQuZ2VvbWV0cnksbyxlKTt9ZnVuY3Rpb24gYShuLHQsaSl7aWYoIW58fCFuLnNwYXRpYWxSZWZlcmVuY2V8fGQobi5zcGF0aWFsUmVmZXJlbmNlLHQpKXJldHVybjtjb25zdCByPVQobi5zcGF0aWFsUmVmZXJlbmNlKS9pO2lmKDEhPT1yKWlmKFwieFwiaW4gbiludWxsIT1uLnomJihuLnoqPXIpO2Vsc2UgaWYoXCJyaW5nc1wiaW4gbiljKG4sbi5yaW5ncyxyKTtlbHNlIGlmKFwicGF0aHNcImluIG4pYyhuLG4ucGF0aHMscik7ZWxzZSBpZihcInBvaW50c1wiaW4gbiYmKG51bGw9PW4uaGFzTXx8bi5oYXNaKSlmb3IoY29uc3QgbyBvZiBuLnBvaW50cylvLmxlbmd0aD4yJiYob1syXSo9cik7fVxuXG5leHBvcnQgeyBsLCB0IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpzY2FsZS0zNzk4NzEwNC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=