"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-49445a"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-layers-and-tables-summary.entry.js":
/*!***********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-layers-and-tables-summary.entry.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_layers_and_tables_summary: () => (/* binding */ ArcgisLayersAndTablesSummary)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config-eb5f7dc2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js");
/* harmony import */ var _locale_13e00a75_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./locale-13e00a75.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/locale-13e00a75.js");
/* harmony import */ var _telemetry_2874e433_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./telemetry-2874e433.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/telemetry-2874e433.js");
/* harmony import */ var _type_to_icon_5b71edbc_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./type-to-icon-5b71edbc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-5b71edbc.js");
/* harmony import */ var _utils_69e56978_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils-69e56978.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/utils-69e56978.js");
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/* harmony import */ var _languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./languageUtil-22258c90.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js");
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */











const arcgisLayersAndTablesSummaryCss = ":host{max-width:100%;width:380px}.bg{background-color:var(--calcite-ui-background)}.layers{background-color:var(--calcite-ui-background);padding-top:0.75rem;padding-bottom:0.75rem;padding-left:0.5rem;padding-right:0.5rem;white-space:normal}.field-aliases{padding-top:0.5rem;padding-bottom:0.5rem;-webkit-padding-start:1.75rem;padding-inline-start:1.75rem}.field-aliases-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:-8px}.field-aliases-title{font-weight:400;font-size:0.75rem;color:var(--calcite-ui-text-2);text-decoration:underline;margin:0;padding-left:0;padding-right:0;padding-top:0.5rem;padding-bottom:0.5rem;flex:1 1 0%}.field-aliases-list{list-style-type:none;margin:0;padding:0;overflow:auto;max-height:200px}.field-alias{font-weight:400;font-size:0.75rem;color:var(--calcite-ui-text-2);padding-top:0.5rem;padding-left:0;padding-right:0;margin:0;display:flex}.icon{-webkit-padding-end:0.5rem;padding-inline-end:0.5rem}.post{display:flex;padding-bottom:0.75rem;padding-left:0.5rem;padding-right:0.5rem;justify-content:flex-end;font-size:0.875rem}.page-number{display:inline-block;flex:1 1 0%;color:var(--calcite-ui-text-2)}.pagination{background-color:var(--calcite-ui-foreground-1);display:flex;align-items:center;justify-content:center;padding-top:0.75rem;padding-bottom:1rem;border-top:1px solid var(--calcite-ui-border-1)}.notice{padding-top:1rem;padding-bottom:1rem}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.no-layers{padding:0.75rem 1rem 0 1rem;color:var(--calcite-ui-text-2)}";

const ArcgisLayersAndTablesSummary = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.layersAndTablesFocusEnd = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "layersAndTablesFocusEnd", 7);
    this.expanded = {};
    this.handleTabChage = ({ detail }) => {
      var _a;
      this.activeTab = detail.tab;
      (_a = this.telemetry) === null || _a === void 0 ? void 0 : _a.logEvent({
        category: "preview popup",
        action: "switch tab",
        label: detail.tab ? "matched" : "all",
        pageName: (0,_telemetry_2874e433_js__WEBPACK_IMPORTED_MODULE_3__.g)(),
        pageUrl: window.location.href
      });
    };
    this.renderLayer = (layer, matched) => {
      const { i18n, telemetry } = this;
      const { icon, type } = (0,_utils_69e56978_js__WEBPACK_IMPORTED_MODULE_5__.g)({ geometry: layer.geometryType, type: layer.type });
      return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-accordion-item", { heading: layer.title, description: i18n.layerTypes[type], iconStart: icon, class: "layer", onClick: (e) => {
          if (e.currentTarget.expanded &&
            !this.expanded[layer.id]) {
            telemetry === null || telemetry === void 0 ? void 0 : telemetry.logEvent({
              category: "preview popup",
              action: "expand layer",
              label: matched ? "matched" : "all",
              pageName: (0,_telemetry_2874e433_js__WEBPACK_IMPORTED_MODULE_3__.g)(),
              pageUrl: window.location.href
            });
            this.expanded[layer.id] = true;
          }
        } }, this.renderAliases(layer, matched)));
    };
    this.user = undefined;
    this.item = undefined;
    this.portal = undefined;
    this.layers = [];
    this.showMatched = undefined;
    this.error = undefined;
    this.loading = undefined;
    this.telemetry = undefined;
    this.currentStart = 1;
    this.activeTab = 1;
  }
  async componentWillLoad() {
    const locale = await (0,_locale_13e00a75_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.el);
    this.i18n = locale[0];
  }
  closeAccordion() {
    this.el.shadowRoot
      .querySelectorAll(".layer")
      .forEach((item) => {
      item.expanded = false;
    });
  }
  checkAlias(alias) {
    const blacklist = [
      // exact
      /^fnode_$/i,
      /^tnode_$/i,
      /^lpoly_$/i,
      /^rpoly_$/i,
      /^poly_$/i,
      /^subclass$/i,
      /^subclass_$/i,
      /^rings_ok$/i,
      /^rings_nok$/i,
      // partial
      /shape/i,
      /perimeter/i,
      /objectid/i,
      // ending
      /_i$/i
    ];
    return !blacklist.find((re) => re.test(alias));
  }
  renderAliases(layer, matched) {
    var _a;
    const { config, user } = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_1__.c;
    const mapViewerUrl = config.newMapViewerUrl;
    const oldMapViewerUrl = `${config.baseUrl}webmap/viewer.html`;
    const sceneViewerUrl = `${config.baseUrl}webscene/viewer.html`;
    const oldViewer = (user === null || user === void 0 ? void 0 : user.defaultMapViewer) === "classic";
    const { i18n, loading, checkAlias, telemetry } = this;
    const { id } = this.item;
    const fields = (_a = layer.fields) === null || _a === void 0 ? void 0 : _a.filter((field) => checkAlias(field.alias || field.name));
    return loading ? ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-loader", { scale: "s", label: i18n.loading })) : ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "field-aliases" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "field-aliases-header" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("h5", { class: "field-aliases-title" }, i18n.fields), this.item.type === "Feature Service" && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown", { placement: "bottom-end", width: "m", type: "click", class: "field-aliases-dropdown", onCalciteDropdownOpen: () => {
        telemetry === null || telemetry === void 0 ? void 0 : telemetry.logEvent({
          category: "preview popup",
          action: "open actions",
          label: matched ? "matched" : "all",
          pageName: (0,_telemetry_2874e433_js__WEBPACK_IMPORTED_MODULE_3__.g)(),
          pageUrl: window.location.href
        });
      } }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action", { slot: "trigger", scale: "s", label: "layer actions", appearance: "transparent", icon: "ellipsis", text: "" }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown-group", { selectionMode: "single" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown-item", { href: `${config.baseUrl}item.html?id=${id}&sublayer=${layer.id}`, target: "_blank" }, i18n.viewDetails), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown-item", { href: `${mapViewerUrl}?layers=${id}&layerId=${layer.id}`, target: "_blank" }, i18n.openInMapViewer), oldViewer && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.F, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown-item", { href: `${oldMapViewerUrl}?useExisting=1&layers=${id}&layerId=${layer.id}`, target: "_blank" }, i18n.openInMapViewerClassic), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown-item", { href: `${oldMapViewerUrl}?layers=${id}&layerId=${layer.id}`, target: "_blank" }, i18n.addToNewMap))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-dropdown-item", { href: `${sceneViewerUrl}?layers=${id}&layerId=${layer.id}`, target: "_blank" }, i18n.addToSceneViewer))))), (fields === null || fields === void 0 ? void 0 : fields.length) > 0 ? ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("ul", { class: "field-aliases-list" }, fields.map((field) => ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("li", { class: "field-alias" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: _type_to_icon_5b71edbc_js__WEBPACK_IMPORTED_MODULE_4__.f[field.type] || "string", scale: "s", class: "icon" }), field.alias || field.name))))) : ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "field-alias" }, i18n.noAliasFound))));
  }
  renderPageNumberText() {
    const start = this.currentStart;
    const total = this.layers.length;
    const end = Math.min(start + 5, total);
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "page-number" }, this.i18n.paginationRange
      .replace("${start}", `${start}`)
      .replace("${end}", `${end}`)
      .replace("${total}", `${total}`)));
  }
  render() {
    var _a;
    const { i18n, renderLayer, error, handleTabChage, item, activeTab } = this;
    const sublayers = this.layers || [];
    const matched = (this.layers || []).filter((layer) => layer.matched);
    const layers = sublayers.slice(this.currentStart - 1, this.currentStart + 5);
    const showMatched = this.showMatched && (matched === null || matched === void 0 ? void 0 : matched.length) > 0;
    const showPagination = ((_a = (activeTab && showMatched ? matched : sublayers)) === null || _a === void 0 ? void 0 : _a.length) > 6;
    if (error) {
      return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "layers" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-notice", { icon: true, open: true, scale: "s", width: "full", kind: "warning", class: "notice" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { slot: "title" }, error.title), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { slot: "message" }, error.message)))));
    }
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "bg" }, !sublayers || (sublayers.length === 0 && (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "no-layers" }, this.i18n.noLayers)), showMatched ? ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tabs", { layout: "center" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tab-nav", { slot: "title-group", onCalciteTabChange: handleTabChage }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tab-title", { selected: activeTab === 0 }, i18n.all.replace("${number}", `${sublayers.length}`)), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tab-title", { selected: activeTab === 1 }, i18n.matched.replace("${number}", `${matched.length}`))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tab", { class: "layers", selected: activeTab === 0 }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-accordion", { selectionMode: "single", scale: "m", iconPosition: "end", iconType: "chevron" }, layers.map((layer) => renderLayer(layer)))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tab", { class: "layers", selected: activeTab === 1 }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-accordion", { selectionMode: "single", scale: "m", iconPosition: "end", iconType: "chevron" }, matched.map((layer) => renderLayer(layer, true)))))) : ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "layers" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-accordion", { selectionMode: "single", scale: "m", iconPosition: "end", iconType: "chevron" }, layers.map((layer) => renderLayer(layer))))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "post" }, showPagination && this.renderPageNumberText(), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-link", { href: `item.html?id=${item.id}`, class: "details-link", target: "_blank", rel: "noopener noreferrer", onClick: () => {
        var _a;
        (_a = this.telemetry) === null || _a === void 0 ? void 0 : _a.logEvent({
          category: "preview popup",
          action: "view item details",
          pageName: (0,_telemetry_2874e433_js__WEBPACK_IMPORTED_MODULE_3__.g)(),
          pageUrl: window.location.href
        });
      } }, i18n.viewItemDetails)), showPagination && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "pagination" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-pagination", { scale: "m", totalItems: sublayers.length, pageSize: 6, startItem: this.currentStart, onCalcitePaginationChange: (e) => {
        this.currentStart = e.target.startItem;
        this.closeAccordion();
      } }))))));
  }
  get el() { return (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
};
ArcgisLayersAndTablesSummary.style = arcgisLayersAndTablesSummaryCss;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js":
/*!************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ configState),
/* harmony export */   o: () => (/* binding */ onConfigChange)
/* harmony export */ });
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const configStore = (0,_index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__.c)({
  portal: null,
  user: null,
  api: 4,
  scale: "m"
});
const configState = configStore.state;
const onConfigChange = configStore.onChange;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js":
/*!***********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createStore)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const appendToMap = (map, propName, value) => {
    const items = map.get(propName);
    if (!items) {
        map.set(propName, [value]);
    }
    else if (!items.includes(value)) {
        items.push(value);
    }
};
const debounce = (fn, ms) => {
    let timeoutId;
    return (...args) => {
        if (timeoutId) {
            clearTimeout(timeoutId);
        }
        timeoutId = setTimeout(() => {
            timeoutId = 0;
            fn(...args);
        }, ms);
    };
};

/**
 * Check if a possible element isConnected.
 * The property might not be there, so we check for it.
 *
 * We want it to return true if isConnected is not a property,
 * otherwise we would remove these elements and would not update.
 *
 * Better leak in Edge than to be useless.
 */
const isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;
const cleanupElements = debounce((map) => {
    for (let key of map.keys()) {
        map.set(key, map.get(key).filter(isConnected));
    }
}, 2000);
const stencilSubscription = () => {
    if (typeof _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.g !== 'function') {
        // If we are not in a stencil project, we do nothing.
        // This function is not really exported by @stencil/core.
        return {};
    }
    const elmsToUpdate = new Map();
    return {
        dispose: () => elmsToUpdate.clear(),
        get: (propName) => {
            const elm = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.g)();
            if (elm) {
                appendToMap(elmsToUpdate, propName, elm);
            }
        },
        set: (propName) => {
            const elements = elmsToUpdate.get(propName);
            if (elements) {
                elmsToUpdate.set(propName, elements.filter(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.f));
            }
            cleanupElements(elmsToUpdate);
        },
        reset: () => {
            elmsToUpdate.forEach((elms) => elms.forEach(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.f));
            cleanupElements(elmsToUpdate);
        },
    };
};

const unwrap = (val) => (typeof val === 'function' ? val() : val);
const createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {
    const unwrappedState = unwrap(defaultState);
    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));
    const handlers = {
        dispose: [],
        get: [],
        set: [],
        reset: [],
    };
    const reset = () => {
        var _a;
        // When resetting the state, the default state may be a function - unwrap it to invoke it.
        // otherwise, the state won't be properly reset
        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));
        handlers.reset.forEach((cb) => cb());
    };
    const dispose = () => {
        // Call first dispose as resetting the state would
        // cause less updates ;)
        handlers.dispose.forEach((cb) => cb());
        reset();
    };
    const get = (propName) => {
        handlers.get.forEach((cb) => cb(propName));
        return states.get(propName);
    };
    const set = (propName, value) => {
        const oldValue = states.get(propName);
        if (shouldUpdate(value, oldValue, propName)) {
            states.set(propName, value);
            handlers.set.forEach((cb) => cb(propName, value, oldValue));
        }
    };
    const state = (typeof Proxy === 'undefined'
        ? {}
        : new Proxy(unwrappedState, {
            get(_, propName) {
                return get(propName);
            },
            ownKeys(_) {
                return Array.from(states.keys());
            },
            getOwnPropertyDescriptor() {
                return {
                    enumerable: true,
                    configurable: true,
                };
            },
            has(_, propName) {
                return states.has(propName);
            },
            set(_, propName, value) {
                set(propName, value);
                return true;
            },
        }));
    const on = (eventName, callback) => {
        handlers[eventName].push(callback);
        return () => {
            removeFromArray(handlers[eventName], callback);
        };
    };
    const onChange = (propName, cb) => {
        const unSet = on('set', (key, newValue) => {
            if (key === propName) {
                cb(newValue);
            }
        });
        // We need to unwrap the defaultState because it might be a function.
        // Otherwise we might not be sending the right reset value.
        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));
        return () => {
            unSet();
            unReset();
        };
    };
    const use = (...subscriptions) => {
        const unsubs = subscriptions.reduce((unsubs, subscription) => {
            if (subscription.set) {
                unsubs.push(on('set', subscription.set));
            }
            if (subscription.get) {
                unsubs.push(on('get', subscription.get));
            }
            if (subscription.reset) {
                unsubs.push(on('reset', subscription.reset));
            }
            if (subscription.dispose) {
                unsubs.push(on('dispose', subscription.dispose));
            }
            return unsubs;
        }, []);
        return () => unsubs.forEach((unsub) => unsub());
    };
    const forceUpdate = (key) => {
        const oldValue = states.get(key);
        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));
    };
    return {
        state,
        get,
        set,
        on,
        onChange,
        use,
        dispose,
        reset,
        forceUpdate,
    };
};
const removeFromArray = (array, item) => {
    const index = array.indexOf(item);
    if (index >= 0) {
        array[index] = array[array.length - 1];
        array.length--;
    }
};

const createStore = (defaultState, shouldUpdate) => {
    const map = createObservableMap(defaultState, shouldUpdate);
    map.use(stencilSubscription());
    return map;
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js":
/*!******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ CSS_UTILITY),
/* harmony export */   a: () => (/* binding */ formatDate),
/* harmony export */   f: () => (/* binding */ formatNumber),
/* harmony export */   g: () => (/* binding */ getElementDir),
/* harmony export */   l: () => (/* binding */ languageMap)
/* harmony export */ });
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */



const languageMap = new Map([
  ["ar", "ar"],
  ["bg", "bg"],
  ["bs", "bs"],
  ["ca", "ca"],
  ["cs", "cs"],
  ["da", "da"],
  ["de", "de"],
  ["el", "el"],
  ["en", "en"],
  ["es", "es"],
  ["et", "et"],
  ["fi", "fi"],
  ["fr", "fr"],
  ["he", "he"],
  ["hr", "hr"],
  ["hu", "hu"],
  ["id", "id"],
  ["it", "it"],
  ["ja", "ja"],
  ["ko", "ko"],
  ["lt", "lt"],
  ["lv", "lv"],
  ["nb", "nb"],
  ["nl", "nl"],
  ["pl", "pl"],
  ["pt-br", "pt-BR"],
  ["pt-pt", "pt-PT"],
  ["ro", "ro"],
  ["ru", "ru"],
  ["sk", "sk"],
  ["sl", "sl"],
  ["sr", "sr"],
  ["sv", "sv"],
  ["th", "th"],
  ["tr", "tr"],
  ["uk", "uk"],
  ["vi", "vi"],
  ["zh-cn", "zh-CN"],
  ["zh-hk", "zh-HK"],
  ["zh-tw", "zh-TW"]
]);
// rtl
function getElementDir(el) {
  return getElementProp(el, "dir", "ltr");
}
function getElementProp(el, prop, value) {
  const closestWithProp = (0,_dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_1__.c)(el, `[${prop}]`);
  return closestWithProp ? closestWithProp.getAttribute(prop) : value;
}
// css
const CSS_UTILITY = {
  rtl: "arcgis--rtl"
};
async function formatNumber(number, options) {
  const { api, type, places } = options || {};
  if (api === 4) {
    const [intl] = await (0,_loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_0__.l)(["esri/intl"]);
    const numberFormatIntlOptions = intl.convertNumberFormatToIntlOptions({
      places,
      style: type,
      digitSeparator: true
    });
    return intl.formatNumber(number, Object.assign(Object.assign({}, numberFormatIntlOptions), { style: type }));
  }
  const [dojoNumber] = await (0,_loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_0__.l)(["dojo/number"]);
  return dojoNumber.format(number, {
    type,
    places,
    pattern: options === null || options === void 0 ? void 0 : options.pattern
  });
}
const cache = {};
function formatDate(date) {
  const lang = document.documentElement.lang;
  const dayShortMonthYear = {
    year: "numeric",
    month: "short",
    day: "numeric"
  };
  if (!cache[lang]) {
    cache[lang] = new Intl.DateTimeFormat(document.documentElement.lang, dayShortMonthYear);
  }
  return cache[lang].format(date);
}




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/locale-13e00a75.js":
/*!************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/locale-13e00a75.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ getComponentClosestLanguage),
/* harmony export */   g: () => (/* binding */ getLocaleComponentStrings)
/* harmony export */ });
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/* harmony import */ var _languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./languageUtil-22258c90.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js");
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */




// https://medium.com/stencil-tricks/implementing-internationalisation-i18n-with-stencil-5e6559554117
function getComponentClosestLanguage(element) {
  var _a, _b, _c;
  const closestElement = (_a = (0,_dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_0__.c)(element, "[lang]")) !== null && _a !== void 0 ? _a : (_c = (_b = element.shadowRoot) === null || _b === void 0 ? void 0 : _b.ownerDocument) === null || _c === void 0 ? void 0 : _c.documentElement;
  // language set by the calling application or browser. defaults to english.
  const lang = ((closestElement === null || closestElement === void 0 ? void 0 : closestElement.lang) || (navigator === null || navigator === void 0 ? void 0 : navigator.language) || "en").toLowerCase();
  if (_languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.has(lang)) {
    return _languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.get(lang);
  }
  else {
    // "ru-RU" maps to "ru" use case
    if (_languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.has(lang.slice(0, 2))) {
      return _languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.get(lang.slice(0, 2));
    }
    else {
      return "en";
    }
  }
}
function getComponentClosestLanguageIntl(element) {
  var _a, _b, _c;
  // it's OK if we don't have the 4 letter language file for it
  // 4 letter language code needed for formatting numbers
  const closestElement = (_a = (0,_dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_0__.c)(element, "[lang]")) !== null && _a !== void 0 ? _a : (_c = (_b = element.shadowRoot) === null || _b === void 0 ? void 0 : _b.ownerDocument) === null || _c === void 0 ? void 0 : _c.documentElement;
  // language set by the calling application or browser. defaults to english.
  const lang = ((closestElement === null || closestElement === void 0 ? void 0 : closestElement.lang) || (navigator === null || navigator === void 0 ? void 0 : navigator.language) || "en").toLowerCase();
  if (_languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.has(lang)) {
    return _languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.get(lang);
  }
  else {
    if (_languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.l.has(lang.slice(0, 2))) {
      // we support the 2 letter coded language
      // e.g. it-CH vs it
      return lang;
    }
    else {
      return "en";
    }
  }
}
function fetchLocaleStringsForComponent(componentName, locale) {
  return new Promise((resolve, reject) => {
    fetch((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_2__.a)(`../arcgis-app-assets/i18n/${componentName}.i18n.${locale}.json`)).then((result) => {
      if (result.ok)
        resolve(result.json());
      else
        reject();
    }, () => reject());
  });
}
const stringCache = {};
function fetchLocaleStringsFromCache(componentName, locale) {
  const id = `${componentName}${locale}`;
  if (!stringCache[id]) {
    stringCache[id] = fetchLocaleStringsForComponent(componentName, locale);
  }
  return stringCache[id];
}
/**
 * Get strings and language codes.
 * This method returns 2 language codes.
 * The first one returns a code that's also supported as a language file.
 * The second one returns a code where there is support for the first 2 letters of the code as part of a language file,
 * but will return the original 4 letter code from the page.
 * E.g. For "it-ch" it will return "it" as the first language code and "it-ch" as the second.
 * The second one is required for esri.intl.setLocale() to get the correct formatting.
 *
 * If a tagName is provided it will overwite the element's tagName
 *
 *  @return [ strings, first language code, second language code]
 */
async function getLocaleComponentStrings(element, tagName) {
  const componentName = tagName || element.tagName.toLowerCase();
  const componentLanguage = getComponentClosestLanguage(element);
  const componentLanguageIntl = getComponentClosestLanguageIntl(element);
  let strings;
  try {
    strings = await fetchLocaleStringsFromCache(componentName, componentLanguage);
  }
  catch (e) {
    console.warn(`no locale for ${componentName} (${componentLanguage}) loading default locale en.`);
    strings = await fetchLocaleStringsFromCache(componentName, "en");
  }
  return [strings, componentLanguage, componentLanguageIntl];
}




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/telemetry-2874e433.js":
/*!***************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/telemetry-2874e433.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ getPageName)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
function getPageName() {
  const { hash, pathname } = window.location;
  if (pathname.includes("group.html")) {
    return "group page";
  }
  if (pathname.includes("search.html")) {
    return "search result page";
  }
  switch (hash) {
    case "#favorites":
      return "favorites";
    case "#groups":
      return "my groups content";
    case "#organization":
      return "my org content";
    case "#livingAtlas":
      return "living atlas";
    default:
      return "my content";
  }
}




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-5b71edbc.js":
/*!******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-5b71edbc.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ featureLayerIconInfo),
/* harmony export */   e: () => (/* binding */ esriGeometryIcons),
/* harmony export */   f: () => (/* binding */ fieldTypeIcons)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
const featureLayerIconInfo = {
  point: "point",
  line: "line",
  polygon: "polygon",
  multipatch: "cube",
  table: "table",
  multipoint: "layer-points"
};
const esriGeometryIcons = {
  esriGeometryPoint: "point",
  esriGeometryPolyline: "line",
  esriGeometryPolygon: "polygon",
  esriGeometryMultiPatch: "cube",
  esriGeometryMultipoint: "point",
  none: "table"
};
const fieldTypeIcons = {
  esriFieldTypeOID: "key",
  esriFieldTypeBoolean: "boolean",
  esriFieldTypeString: "string",
  esriFieldTypeSingle: "number",
  esriFieldTypeDouble: "number",
  esriFieldTypeInteger: "integer",
  esriFieldTypeSmallInteger: "integer",
  esriFieldTypeGlobalID: "key",
  esriFieldTypeDate: "date-time",
  esriFieldTypeBigInteger: "integer",
  esriFieldTypeDateOnly: "calendar",
  esriFieldTypeTimeOnly: "clock",
  esriFieldTypeTimestampOffset: "time-zone"
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/utils-69e56978.js":
/*!***********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/utils-69e56978.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ getSublayerTypeInfo)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
/** Get the correct geometry icon based on layer/table type and geometry type
 * will handles types used by the jsapi, the esri types used on the server,
 * and the types returned by the Search API
 */
function getSublayerTypeInfo({ geometry, type }) {
  switch (type) {
    case "Catalog Layer":
      return {
        icon: "catalog-dataset",
        type: "catalog",
        isGeometry: false
      };
    case "Parcel Layer":
      return {
        icon: "parcel-layer",
        type: "parcel",
        isGeometry: false
      };
    case "Oriented Imagery Layer":
      return {
        icon: "oriented-imagery-layer",
        type: "oriented imagery",
        isGeometry: false
      };
    case "Table":
      return {
        icon: "table",
        type: "table",
        isGeometry: true
      };
  }
  switch (geometry) {
    case "point":
    case "esriGeometryPoint":
      return {
        type: "point",
        icon: "point",
        isGeometry: true
      };
    case "esriGeometryMultipoint":
    case "multipoint":
      return {
        type: "multipoint",
        icon: "layer-points",
        isGeometry: true
      };
    case "line":
    case "polyline":
    case "esriGeometryPolyline":
      return {
        type: "line",
        icon: "line",
        isGeometry: true
      };
    case "polygon":
    case "esriGeometryPolygon":
      return {
        type: "polygon",
        icon: "polygon",
        isGeometry: true
      };
    case "multipatch":
    case "esriGeometryMultiPatch":
      return {
        type: "multipatch",
        icon: "cube",
        isGeometry: true
      };
    default:
      return {
        type: "table",
        icon: "table",
        isGeometry: true
      };
  }
}




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLTQ5NDQ1YS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzRIO0FBQ3BFO0FBQ2M7QUFDWDtBQUNNO0FBQ0Y7QUFDbEM7QUFDRjtBQUNTO0FBQ0Q7O0FBRW5DLCtDQUErQyxlQUFlLFlBQVksSUFBSSw4Q0FBOEMsUUFBUSw4Q0FBOEMsb0JBQW9CLHVCQUF1QixvQkFBb0IscUJBQXFCLG1CQUFtQixlQUFlLG1CQUFtQixzQkFBc0IsOEJBQThCLDZCQUE2QixzQkFBc0IsYUFBYSw4QkFBOEIsbUJBQW1CLG1CQUFtQixxQkFBcUIsZ0JBQWdCLGtCQUFrQiwrQkFBK0IsMEJBQTBCLFNBQVMsZUFBZSxnQkFBZ0IsbUJBQW1CLHNCQUFzQixZQUFZLG9CQUFvQixxQkFBcUIsU0FBUyxVQUFVLGNBQWMsaUJBQWlCLGFBQWEsZ0JBQWdCLGtCQUFrQiwrQkFBK0IsbUJBQW1CLGVBQWUsZ0JBQWdCLFNBQVMsYUFBYSxNQUFNLDJCQUEyQiwwQkFBMEIsTUFBTSxhQUFhLHVCQUF1QixvQkFBb0IscUJBQXFCLHlCQUF5QixtQkFBbUIsYUFBYSxxQkFBcUIsWUFBWSwrQkFBK0IsWUFBWSxnREFBZ0QsYUFBYSxtQkFBbUIsdUJBQXVCLG9CQUFvQixvQkFBb0IsZ0RBQWdELFFBQVEsaUJBQWlCLG9CQUFvQixxQkFBcUIsa0JBQWtCLFVBQVUsV0FBVyxVQUFVLFlBQVksZ0JBQWdCLHNCQUFzQixtQkFBbUIsZUFBZSxXQUFXLDRCQUE0QiwrQkFBK0I7O0FBRWhwRDtBQUNBO0FBQ0EsSUFBSSxxREFBZ0I7QUFDcEIsbUNBQW1DLHFEQUFXO0FBQzlDO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHlEQUFXO0FBQzdCO0FB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Q0E7QUFDQTtBQUNBLGtIQUFrSDtBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVHQUF1RztBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDck01QjtBQUNBO0FBQ0E7QUFDQTtBQUM2RDtBQUNjOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1EQUFpQyxTQUFTLEtBQUs7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9CQUFvQjtBQUM5QjtBQUNBLHlCQUF5QiwyREFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtRUFBbUUsOEJBQThCLGFBQWE7QUFDOUc7QUFDQSw2QkFBNkIsMkRBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFc0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3RnRHO0FBQ0E7QUFDQTtBQUNBO0FBQzJFO0FBQ2I7QUFDTjs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1EQUFpQztBQUNoRTtBQUNBO0FBQ0EsTUFBTSx3REFBVztBQUNqQixXQUFXLHdEQUFXO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVc7QUFDbkIsYUFBYSx3REFBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixtREFBaUM7QUFDaEU7QUFDQTtBQUNBLE1BQU0sd0RBQVc7QUFDakIsV0FBVyx3REFBVztBQUN0QjtBQUNBO0FBQ0EsUUFBUSx3REFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBWSw4QkFBOEIsY0FBYyxRQUFRLE9BQU87QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjLEVBQUUsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZUFBZSxHQUFHLGtCQUFrQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFNEU7Ozs7Ozs7Ozs7Ozs7OztBQzlGNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsaUJBQWlCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxQjVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWtGOzs7Ozs7Ozs7Ozs7Ozs7QUNwQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLWxheWVycy1hbmQtdGFibGVzLXN1bW1hcnkuZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vY29uZmlnLWViNWY3ZGMyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2luZGV4LTgxZDU0OGI3LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2xhbmd1YWdlVXRpbC0yMjI1OGM5MC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9sb2NhbGUtMTNlMDBhNzUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdGVsZW1ldHJ5LTI4NzRlNDMzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL3R5cGUtdG8taWNvbi01YjcxZWRiYy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS91dGlscy02OWU1Njk3OC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgRiBhcyBGcmFnbWVudCwgSCBhcyBIb3N0LCBkIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTkyZWJiMzk2LmpzJztcbmltcG9ydCB7IGMgYXMgY29uZmlnU3RhdGUgfSBmcm9tICcuL2NvbmZpZy1lYjVmN2RjMi5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldExvY2FsZUNvbXBvbmVudFN0cmluZ3MgfSBmcm9tICcuL2xvY2FsZS0xM2UwMGE3NS5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFBhZ2VOYW1lIH0gZnJvbSAnLi90ZWxlbWV0cnktMjg3NGU0MzMuanMnO1xuaW1wb3J0IHsgZiBhcyBmaWVsZFR5cGVJY29ucyB9IGZyb20gJy4vdHlwZS10by1pY29uLTViNzFlZGJjLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0U3VibGF5ZXJUeXBlSW5mbyB9IGZyb20gJy4vdXRpbHMtNjllNTY5NzguanMnO1xuaW1wb3J0ICcuL2luZGV4LTgxZDU0OGI3LmpzJztcbmltcG9ydCAnLi9kb20tMTNmNWIwMGMuanMnO1xuaW1wb3J0ICcuL2xhbmd1YWdlVXRpbC0yMjI1OGM5MC5qcyc7XG5pbXBvcnQgJy4vbG9hZE1vZHVsZXMtYWFmMzBiZDYuanMnO1xuXG5jb25zdCBhcmNnaXNMYXllcnNBbmRUYWJsZXNTdW1tYXJ5Q3NzID0gXCI6aG9zdHttYXgtd2lkdGg6MTAwJTt3aWR0aDozODBweH0uYmd7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJhY2tncm91bmQpfS5sYXllcnN7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJhY2tncm91bmQpO3BhZGRpbmctdG9wOjAuNzVyZW07cGFkZGluZy1ib3R0b206MC43NXJlbTtwYWRkaW5nLWxlZnQ6MC41cmVtO3BhZGRpbmctcmlnaHQ6MC41cmVtO3doaXRlLXNwYWNlOm5vcm1hbH0uZmllbGQtYWxpYXNlc3twYWRkaW5nLXRvcDowLjVyZW07cGFkZGluZy1ib3R0b206MC41cmVtOy13ZWJraXQtcGFkZGluZy1zdGFydDoxLjc1cmVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjEuNzVyZW19LmZpZWxkLWFsaWFzZXMtaGVhZGVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbTotOHB4fS5maWVsZC1hbGlhc2VzLXRpdGxle2ZvbnQtd2VpZ2h0OjQwMDtmb250LXNpemU6MC43NXJlbTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMik7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTttYXJnaW46MDtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MC41cmVtO3BhZGRpbmctYm90dG9tOjAuNXJlbTtmbGV4OjEgMSAwJX0uZmllbGQtYWxpYXNlcy1saXN0e2xpc3Qtc3R5bGUtdHlwZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDtvdmVyZmxvdzphdXRvO21heC1oZWlnaHQ6MjAwcHh9LmZpZWxkLWFsaWFze2ZvbnQtd2VpZ2h0OjQwMDtmb250LXNpemU6MC43NXJlbTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMik7cGFkZGluZy10b3A6MC41cmVtO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDttYXJnaW46MDtkaXNwbGF5OmZsZXh9Lmljb257LXdlYmtpdC1wYWRkaW5nLWVuZDowLjVyZW07cGFkZGluZy1pbmxpbmUtZW5kOjAuNXJlbX0ucG9zdHtkaXNwbGF5OmZsZXg7cGFkZGluZy1ib3R0b206MC43NXJlbTtwYWRkaW5nLWxlZnQ6MC41cmVtO3BhZGRpbmctcmlnaHQ6MC41cmVtO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtmb250LXNpemU6MC44NzVyZW19LnBhZ2UtbnVtYmVye2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZsZXg6MSAxIDAlO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0yKX0ucGFnaW5hdGlvbntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xKTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZy10b3A6MC43NXJlbTtwYWRkaW5nLWJvdHRvbToxcmVtO2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWNhbGNpdGUtdWktYm9yZGVyLTEpfS5ub3RpY2V7cGFkZGluZy10b3A6MXJlbTtwYWRkaW5nLWJvdHRvbToxcmVtfS5zY3JlZW4tcmVhZGVycy1vbmx5e3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjFweDtoZWlnaHQ6MXB4O3BhZGRpbmc6MDttYXJnaW46LTFweDtvdmVyZmxvdzpoaWRkZW47Y2xpcDpyZWN0KDAsIDAsIDAsIDApO3doaXRlLXNwYWNlOm5vd3JhcDtib3JkZXItd2lkdGg6MH0ubm8tbGF5ZXJze3BhZGRpbmc6MC43NXJlbSAxcmVtIDAgMXJlbTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMil9XCI7XG5cbmNvbnN0IEFyY2dpc0xheWVyc0FuZFRhYmxlc1N1bW1hcnkgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMubGF5ZXJzQW5kVGFibGVzRm9jdXNFbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImxheWVyc0FuZFRhYmxlc0ZvY3VzRW5kXCIsIDcpO1xuICAgIHRoaXMuZXhwYW5kZWQgPSB7fTtcbiAgICB0aGlzLmhhbmRsZVRhYkNoYWdlID0gKHsgZGV0YWlsIH0pID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHRoaXMuYWN0aXZlVGFiID0gZGV0YWlsLnRhYjtcbiAgICAgIChfYSA9IHRoaXMudGVsZW1ldHJ5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9nRXZlbnQoe1xuICAgICAgICBjYXRlZ29yeTogXCJwcmV2aWV3IHBvcHVwXCIsXG4gICAgICAgIGFjdGlvbjogXCJzd2l0Y2ggdGFiXCIsXG4gICAgICAgIGxhYmVsOiBkZXRhaWwudGFiID8gXCJtYXRjaGVkXCIgOiBcImFsbFwiLFxuICAgICAgICBwYWdlTmFtZTogZ2V0UGFnZU5hbWUoKSxcbiAgICAgICAgcGFnZVVybDogd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5yZW5kZXJMYXllciA9IChsYXllciwgbWF0Y2hlZCkgPT4ge1xuICAgICAgY29uc3QgeyBpMThuLCB0ZWxlbWV0cnkgfSA9IHRoaXM7XG4gICAgICBjb25zdCB7IGljb24sIHR5cGUgfSA9IGdldFN1YmxheWVyVHlwZUluZm8oeyBnZW9tZXRyeTogbGF5ZXIuZ2VvbWV0cnlUeXBlLCB0eXBlOiBsYXllci50eXBlIH0pO1xuICAgICAgcmV0dXJuIChoKFwiY2FsY2l0ZS1hY2NvcmRpb24taXRlbVwiLCB7IGhlYWRpbmc6IGxheWVyLnRpdGxlLCBkZXNjcmlwdGlvbjogaTE4bi5sYXllclR5cGVzW3R5cGVdLCBpY29uU3RhcnQ6IGljb24sIGNsYXNzOiBcImxheWVyXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5leHBhbmRlZCAmJlxuICAgICAgICAgICAgIXRoaXMuZXhwYW5kZWRbbGF5ZXIuaWRdKSB7XG4gICAgICAgICAgICB0ZWxlbWV0cnkgPT09IG51bGwgfHwgdGVsZW1ldHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZWxlbWV0cnkubG9nRXZlbnQoe1xuICAgICAgICAgICAgICBjYXRlZ29yeTogXCJwcmV2aWV3IHBvcHVwXCIsXG4gICAgICAgICAgICAgIGFjdGlvbjogXCJleHBhbmQgbGF5ZXJcIixcbiAgICAgICAgICAgICAgbGFiZWw6IG1hdGNoZWQgPyBcIm1hdGNoZWRcIiA6IFwiYWxsXCIsXG4gICAgICAgICAgICAgIHBhZ2VOYW1lOiBnZXRQYWdlTmFtZSgpLFxuICAgICAgICAgICAgICBwYWdlVXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZGVkW2xheWVyLmlkXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IH0sIHRoaXMucmVuZGVyQWxpYXNlcyhsYXllciwgbWF0Y2hlZCkpKTtcbiAgICB9O1xuICAgIHRoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLml0ZW0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wb3J0YWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgICB0aGlzLnNob3dNYXRjaGVkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sb2FkaW5nID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudGVsZW1ldHJ5ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY3VycmVudFN0YXJ0ID0gMTtcbiAgICB0aGlzLmFjdGl2ZVRhYiA9IDE7XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgY29uc3QgbG9jYWxlID0gYXdhaXQgZ2V0TG9jYWxlQ29tcG9uZW50U3RyaW5ncyh0aGlzLmVsKTtcbiAgICB0aGlzLmkxOG4gPSBsb2NhbGVbMF07XG4gIH1cbiAgY2xvc2VBY2NvcmRpb24oKSB7XG4gICAgdGhpcy5lbC5zaGFkb3dSb290XG4gICAgICAucXVlcnlTZWxlY3RvckFsbChcIi5sYXllclwiKVxuICAgICAgLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uZXhwYW5kZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBjaGVja0FsaWFzKGFsaWFzKSB7XG4gICAgY29uc3QgYmxhY2tsaXN0ID0gW1xuICAgICAgLy8gZXhhY3RcbiAgICAgIC9eZm5vZGVfJC9pLFxuICAgICAgL150bm9kZV8kL2ksXG4gICAgICAvXmxwb2x5XyQvaSxcbiAgICAgIC9ecnBvbHlfJC9pLFxuICAgICAgL15wb2x5XyQvaSxcbiAgICAgIC9ec3ViY2xhc3MkL2ksXG4gICAgICAvXnN1YmNsYXNzXyQvaSxcbiAgICAgIC9ecmluZ3Nfb2skL2ksXG4gICAgICAvXnJpbmdzX25vayQvaSxcbiAgICAgIC8vIHBhcnRpYWxcbiAgICAgIC9zaGFwZS9pLFxuICAgICAgL3BlcmltZXRlci9pLFxuICAgICAgL29iamVjdGlkL2ksXG4gICAgICAvLyBlbmRpbmdcbiAgICAgIC9faSQvaVxuICAgIF07XG4gICAgcmV0dXJuICFibGFja2xpc3QuZmluZCgocmUpID0+IHJlLnRlc3QoYWxpYXMpKTtcbiAgfVxuICByZW5kZXJBbGlhc2VzKGxheWVyLCBtYXRjaGVkKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgY29uZmlnLCB1c2VyIH0gPSBjb25maWdTdGF0ZTtcbiAgICBjb25zdCBtYXBWaWV3ZXJVcmwgPSBjb25maWcubmV3TWFwVmlld2VyVXJsO1xuICAgIGNvbnN0IG9sZE1hcFZpZXdlclVybCA9IGAke2NvbmZpZy5iYXNlVXJsfXdlYm1hcC92aWV3ZXIuaHRtbGA7XG4gICAgY29uc3Qgc2NlbmVWaWV3ZXJVcmwgPSBgJHtjb25maWcuYmFzZVVybH13ZWJzY2VuZS92aWV3ZXIuaHRtbGA7XG4gICAgY29uc3Qgb2xkVmlld2VyID0gKHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci5kZWZhdWx0TWFwVmlld2VyKSA9PT0gXCJjbGFzc2ljXCI7XG4gICAgY29uc3QgeyBpMThuLCBsb2FkaW5nLCBjaGVja0FsaWFzLCB0ZWxlbWV0cnkgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBpZCB9ID0gdGhpcy5pdGVtO1xuICAgIGNvbnN0IGZpZWxkcyA9IChfYSA9IGxheWVyLmZpZWxkcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbHRlcigoZmllbGQpID0+IGNoZWNrQWxpYXMoZmllbGQuYWxpYXMgfHwgZmllbGQubmFtZSkpO1xuICAgIHJldHVybiBsb2FkaW5nID8gKGgoXCJjYWxjaXRlLWxvYWRlclwiLCB7IHNjYWxlOiBcInNcIiwgbGFiZWw6IGkxOG4ubG9hZGluZyB9KSkgOiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImZpZWxkLWFsaWFzZXNcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiZmllbGQtYWxpYXNlcy1oZWFkZXJcIiB9LCBoKFwiaDVcIiwgeyBjbGFzczogXCJmaWVsZC1hbGlhc2VzLXRpdGxlXCIgfSwgaTE4bi5maWVsZHMpLCB0aGlzLml0ZW0udHlwZSA9PT0gXCJGZWF0dXJlIFNlcnZpY2VcIiAmJiAoaChcImNhbGNpdGUtZHJvcGRvd25cIiwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCB3aWR0aDogXCJtXCIsIHR5cGU6IFwiY2xpY2tcIiwgY2xhc3M6IFwiZmllbGQtYWxpYXNlcy1kcm9wZG93blwiLCBvbkNhbGNpdGVEcm9wZG93bk9wZW46ICgpID0+IHtcbiAgICAgICAgdGVsZW1ldHJ5ID09PSBudWxsIHx8IHRlbGVtZXRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGVsZW1ldHJ5LmxvZ0V2ZW50KHtcbiAgICAgICAgICBjYXRlZ29yeTogXCJwcmV2aWV3IHBvcHVwXCIsXG4gICAgICAgICAgYWN0aW9uOiBcIm9wZW4gYWN0aW9uc1wiLFxuICAgICAgICAgIGxhYmVsOiBtYXRjaGVkID8gXCJtYXRjaGVkXCIgOiBcImFsbFwiLFxuICAgICAgICAgIHBhZ2VOYW1lOiBnZXRQYWdlTmFtZSgpLFxuICAgICAgICAgIHBhZ2VVcmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgIH0pO1xuICAgICAgfSB9LCBoKFwiY2FsY2l0ZS1hY3Rpb25cIiwgeyBzbG90OiBcInRyaWdnZXJcIiwgc2NhbGU6IFwic1wiLCBsYWJlbDogXCJsYXllciBhY3Rpb25zXCIsIGFwcGVhcmFuY2U6IFwidHJhbnNwYXJlbnRcIiwgaWNvbjogXCJlbGxpcHNpc1wiLCB0ZXh0OiBcIlwiIH0pLCBoKFwiY2FsY2l0ZS1kcm9wZG93bi1ncm91cFwiLCB7IHNlbGVjdGlvbk1vZGU6IFwic2luZ2xlXCIgfSwgaChcImNhbGNpdGUtZHJvcGRvd24taXRlbVwiLCB7IGhyZWY6IGAke2NvbmZpZy5iYXNlVXJsfWl0ZW0uaHRtbD9pZD0ke2lkfSZzdWJsYXllcj0ke2xheWVyLmlkfWAsIHRhcmdldDogXCJfYmxhbmtcIiB9LCBpMThuLnZpZXdEZXRhaWxzKSwgaChcImNhbGNpdGUtZHJvcGRvd24taXRlbVwiLCB7IGhyZWY6IGAke21hcFZpZXdlclVybH0/bGF5ZXJzPSR7aWR9JmxheWVySWQ9JHtsYXllci5pZH1gLCB0YXJnZXQ6IFwiX2JsYW5rXCIgfSwgaTE4bi5vcGVuSW5NYXBWaWV3ZXIpLCBvbGRWaWV3ZXIgJiYgKGgoRnJhZ21lbnQsIG51bGwsIGgoXCJjYWxjaXRlLWRyb3Bkb3duLWl0ZW1cIiwgeyBocmVmOiBgJHtvbGRNYXBWaWV3ZXJVcmx9P3VzZUV4aXN0aW5nPTEmbGF5ZXJzPSR7aWR9JmxheWVySWQ9JHtsYXllci5pZH1gLCB0YXJnZXQ6IFwiX2JsYW5rXCIgfSwgaTE4bi5vcGVuSW5NYXBWaWV3ZXJDbGFzc2ljKSwgaChcImNhbGNpdGUtZHJvcGRvd24taXRlbVwiLCB7IGhyZWY6IGAke29sZE1hcFZpZXdlclVybH0/bGF5ZXJzPSR7aWR9JmxheWVySWQ9JHtsYXllci5pZH1gLCB0YXJnZXQ6IFwiX2JsYW5rXCIgfSwgaTE4bi5hZGRUb05ld01hcCkpKSwgaChcImNhbGNpdGUtZHJvcGRvd24taXRlbVwiLCB7IGhyZWY6IGAke3NjZW5lVmlld2VyVXJsfT9sYXllcnM9JHtpZH0mbGF5ZXJJZD0ke2xheWVyLmlkfWAsIHRhcmdldDogXCJfYmxhbmtcIiB9LCBpMThuLmFkZFRvU2NlbmVWaWV3ZXIpKSkpKSwgKGZpZWxkcyA9PT0gbnVsbCB8fCBmaWVsZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpZWxkcy5sZW5ndGgpID4gMCA/IChoKFwidWxcIiwgeyBjbGFzczogXCJmaWVsZC1hbGlhc2VzLWxpc3RcIiB9LCBmaWVsZHMubWFwKChmaWVsZCkgPT4gKGgoXCJsaVwiLCB7IGNsYXNzOiBcImZpZWxkLWFsaWFzXCIgfSwgaChcImNhbGNpdGUtaWNvblwiLCB7IGljb246IGZpZWxkVHlwZUljb25zW2ZpZWxkLnR5cGVdIHx8IFwic3RyaW5nXCIsIHNjYWxlOiBcInNcIiwgY2xhc3M6IFwiaWNvblwiIH0pLCBmaWVsZC5hbGlhcyB8fCBmaWVsZC5uYW1lKSkpKSkgOiAoaChcInBcIiwgeyBjbGFzczogXCJmaWVsZC1hbGlhc1wiIH0sIGkxOG4ubm9BbGlhc0ZvdW5kKSkpKTtcbiAgfVxuICByZW5kZXJQYWdlTnVtYmVyVGV4dCgpIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuY3VycmVudFN0YXJ0O1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy5sYXllcnMubGVuZ3RoO1xuICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgNSwgdG90YWwpO1xuICAgIHJldHVybiAoaChcInNwYW5cIiwgeyBjbGFzczogXCJwYWdlLW51bWJlclwiIH0sIHRoaXMuaTE4bi5wYWdpbmF0aW9uUmFuZ2VcbiAgICAgIC5yZXBsYWNlKFwiJHtzdGFydH1cIiwgYCR7c3RhcnR9YClcbiAgICAgIC5yZXBsYWNlKFwiJHtlbmR9XCIsIGAke2VuZH1gKVxuICAgICAgLnJlcGxhY2UoXCIke3RvdGFsfVwiLCBgJHt0b3RhbH1gKSkpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyBpMThuLCByZW5kZXJMYXllciwgZXJyb3IsIGhhbmRsZVRhYkNoYWdlLCBpdGVtLCBhY3RpdmVUYWIgfSA9IHRoaXM7XG4gICAgY29uc3Qgc3VibGF5ZXJzID0gdGhpcy5sYXllcnMgfHwgW107XG4gICAgY29uc3QgbWF0Y2hlZCA9ICh0aGlzLmxheWVycyB8fCBbXSkuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIubWF0Y2hlZCk7XG4gICAgY29uc3QgbGF5ZXJzID0gc3VibGF5ZXJzLnNsaWNlKHRoaXMuY3VycmVudFN0YXJ0IC0gMSwgdGhpcy5jdXJyZW50U3RhcnQgKyA1KTtcbiAgICBjb25zdCBzaG93TWF0Y2hlZCA9IHRoaXMuc2hvd01hdGNoZWQgJiYgKG1hdGNoZWQgPT09IG51bGwgfHwgbWF0Y2hlZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWF0Y2hlZC5sZW5ndGgpID4gMDtcbiAgICBjb25zdCBzaG93UGFnaW5hdGlvbiA9ICgoX2EgPSAoYWN0aXZlVGFiICYmIHNob3dNYXRjaGVkID8gbWF0Y2hlZCA6IHN1YmxheWVycykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gNjtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAoaChIb3N0LCBudWxsLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwibGF5ZXJzXCIgfSwgaChcImNhbGNpdGUtbm90aWNlXCIsIHsgaWNvbjogdHJ1ZSwgb3BlbjogdHJ1ZSwgc2NhbGU6IFwic1wiLCB3aWR0aDogXCJmdWxsXCIsIGtpbmQ6IFwid2FybmluZ1wiLCBjbGFzczogXCJub3RpY2VcIiB9LCBoKFwiZGl2XCIsIHsgc2xvdDogXCJ0aXRsZVwiIH0sIGVycm9yLnRpdGxlKSwgaChcImRpdlwiLCB7IHNsb3Q6IFwibWVzc2FnZVwiIH0sIGVycm9yLm1lc3NhZ2UpKSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJkaXZcIiwgeyBjbGFzczogXCJiZ1wiIH0sICFzdWJsYXllcnMgfHwgKHN1YmxheWVycy5sZW5ndGggPT09IDAgJiYgaChcInBcIiwgeyBjbGFzczogXCJuby1sYXllcnNcIiB9LCB0aGlzLmkxOG4ubm9MYXllcnMpKSwgc2hvd01hdGNoZWQgPyAoaChcImNhbGNpdGUtdGFic1wiLCB7IGxheW91dDogXCJjZW50ZXJcIiB9LCBoKFwiY2FsY2l0ZS10YWItbmF2XCIsIHsgc2xvdDogXCJ0aXRsZS1ncm91cFwiLCBvbkNhbGNpdGVUYWJDaGFuZ2U6IGhhbmRsZVRhYkNoYWdlIH0sIGgoXCJjYWxjaXRlLXRhYi10aXRsZVwiLCB7IHNlbGVjdGVkOiBhY3RpdmVUYWIgPT09IDAgfSwgaTE4bi5hbGwucmVwbGFjZShcIiR7bnVtYmVyfVwiLCBgJHtzdWJsYXllcnMubGVuZ3RofWApKSwgaChcImNhbGNpdGUtdGFiLXRpdGxlXCIsIHsgc2VsZWN0ZWQ6IGFjdGl2ZVRhYiA9PT0gMSB9LCBpMThuLm1hdGNoZWQucmVwbGFjZShcIiR7bnVtYmVyfVwiLCBgJHttYXRjaGVkLmxlbmd0aH1gKSkpLCBoKFwiY2FsY2l0ZS10YWJcIiwgeyBjbGFzczogXCJsYXllcnNcIiwgc2VsZWN0ZWQ6IGFjdGl2ZVRhYiA9PT0gMCB9LCBoKFwiY2FsY2l0ZS1hY2NvcmRpb25cIiwgeyBzZWxlY3Rpb25Nb2RlOiBcInNpbmdsZVwiLCBzY2FsZTogXCJtXCIsIGljb25Qb3NpdGlvbjogXCJlbmRcIiwgaWNvblR5cGU6IFwiY2hldnJvblwiIH0sIGxheWVycy5tYXAoKGxheWVyKSA9PiByZW5kZXJMYXllcihsYXllcikpKSksIGgoXCJjYWxjaXRlLXRhYlwiLCB7IGNsYXNzOiBcImxheWVyc1wiLCBzZWxlY3RlZDogYWN0aXZlVGFiID09PSAxIH0sIGgoXCJjYWxjaXRlLWFjY29yZGlvblwiLCB7IHNlbGVjdGlvbk1vZGU6IFwic2luZ2xlXCIsIHNjYWxlOiBcIm1cIiwgaWNvblBvc2l0aW9uOiBcImVuZFwiLCBpY29uVHlwZTogXCJjaGV2cm9uXCIgfSwgbWF0Y2hlZC5tYXAoKGxheWVyKSA9PiByZW5kZXJMYXllcihsYXllciwgdHJ1ZSkpKSkpKSA6IChoKFwiZGl2XCIsIHsgY2xhc3M6IFwibGF5ZXJzXCIgfSwgaChcImNhbGNpdGUtYWNjb3JkaW9uXCIsIHsgc2VsZWN0aW9uTW9kZTogXCJzaW5nbGVcIiwgc2NhbGU6IFwibVwiLCBpY29uUG9zaXRpb246IFwiZW5kXCIsIGljb25UeXBlOiBcImNoZXZyb25cIiB9LCBsYXllcnMubWFwKChsYXllcikgPT4gcmVuZGVyTGF5ZXIobGF5ZXIpKSkpKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBvc3RcIiB9LCBzaG93UGFnaW5hdGlvbiAmJiB0aGlzLnJlbmRlclBhZ2VOdW1iZXJUZXh0KCksIGgoXCJjYWxjaXRlLWxpbmtcIiwgeyBocmVmOiBgaXRlbS5odG1sP2lkPSR7aXRlbS5pZH1gLCBjbGFzczogXCJkZXRhaWxzLWxpbmtcIiwgdGFyZ2V0OiBcIl9ibGFua1wiLCByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy50ZWxlbWV0cnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2dFdmVudCh7XG4gICAgICAgICAgY2F0ZWdvcnk6IFwicHJldmlldyBwb3B1cFwiLFxuICAgICAgICAgIGFjdGlvbjogXCJ2aWV3IGl0ZW0gZGV0YWlsc1wiLFxuICAgICAgICAgIHBhZ2VOYW1lOiBnZXRQYWdlTmFtZSgpLFxuICAgICAgICAgIHBhZ2VVcmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgIH0pO1xuICAgICAgfSB9LCBpMThuLnZpZXdJdGVtRGV0YWlscykpLCBzaG93UGFnaW5hdGlvbiAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInBhZ2luYXRpb25cIiB9LCBoKFwiY2FsY2l0ZS1wYWdpbmF0aW9uXCIsIHsgc2NhbGU6IFwibVwiLCB0b3RhbEl0ZW1zOiBzdWJsYXllcnMubGVuZ3RoLCBwYWdlU2l6ZTogNiwgc3RhcnRJdGVtOiB0aGlzLmN1cnJlbnRTdGFydCwgb25DYWxjaXRlUGFnaW5hdGlvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhcnQgPSBlLnRhcmdldC5zdGFydEl0ZW07XG4gICAgICAgIHRoaXMuY2xvc2VBY2NvcmRpb24oKTtcbiAgICAgIH0gfSkpKSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuQXJjZ2lzTGF5ZXJzQW5kVGFibGVzU3VtbWFyeS5zdHlsZSA9IGFyY2dpc0xheWVyc0FuZFRhYmxlc1N1bW1hcnlDc3M7XG5cbmV4cG9ydCB7IEFyY2dpc0xheWVyc0FuZFRhYmxlc1N1bW1hcnkgYXMgYXJjZ2lzX2xheWVyc19hbmRfdGFibGVzX3N1bW1hcnkgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVTdG9yZSB9IGZyb20gJy4vaW5kZXgtODFkNTQ4YjcuanMnO1xuXG5jb25zdCBjb25maWdTdG9yZSA9IGNyZWF0ZVN0b3JlKHtcbiAgcG9ydGFsOiBudWxsLFxuICB1c2VyOiBudWxsLFxuICBhcGk6IDQsXG4gIHNjYWxlOiBcIm1cIlxufSk7XG5jb25zdCBjb25maWdTdGF0ZSA9IGNvbmZpZ1N0b3JlLnN0YXRlO1xuY29uc3Qgb25Db25maWdDaGFuZ2UgPSBjb25maWdTdG9yZS5vbkNoYW5nZTtcblxuZXhwb3J0IHsgY29uZmlnU3RhdGUgYXMgYywgb25Db25maWdDaGFuZ2UgYXMgbyB9O1xuIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjMuMC45OVxuICovXG5pbXBvcnQgeyBnIGFzIGdldFJlbmRlcmluZ1JlZiwgZiBhcyBmb3JjZVVwZGF0ZSB9IGZyb20gJy4vaW5kZXgtOTJlYmIzOTYuanMnO1xuXG5jb25zdCBhcHBlbmRUb01hcCA9IChtYXAsIHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gbWFwLmdldChwcm9wTmFtZSk7XG4gICAgaWYgKCFpdGVtcykge1xuICAgICAgICBtYXAuc2V0KHByb3BOYW1lLCBbdmFsdWVdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWl0ZW1zLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgZGVib3VuY2UgPSAoZm4sIG1zKSA9PiB7XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSAwO1xuICAgICAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBvc3NpYmxlIGVsZW1lbnQgaXNDb25uZWN0ZWQuXG4gKiBUaGUgcHJvcGVydHkgbWlnaHQgbm90IGJlIHRoZXJlLCBzbyB3ZSBjaGVjayBmb3IgaXQuXG4gKlxuICogV2Ugd2FudCBpdCB0byByZXR1cm4gdHJ1ZSBpZiBpc0Nvbm5lY3RlZCBpcyBub3QgYSBwcm9wZXJ0eSxcbiAqIG90aGVyd2lzZSB3ZSB3b3VsZCByZW1vdmUgdGhlc2UgZWxlbWVudHMgYW5kIHdvdWxkIG5vdCB1cGRhdGUuXG4gKlxuICogQmV0dGVyIGxlYWsgaW4gRWRnZSB0aGFuIHRvIGJlIHVzZWxlc3MuXG4gKi9cbmNvbnN0IGlzQ29ubmVjdGVkID0gKG1heWJlRWxlbWVudCkgPT4gISgnaXNDb25uZWN0ZWQnIGluIG1heWJlRWxlbWVudCkgfHwgbWF5YmVFbGVtZW50LmlzQ29ubmVjdGVkO1xuY29uc3QgY2xlYW51cEVsZW1lbnRzID0gZGVib3VuY2UoKG1hcCkgPT4ge1xuICAgIGZvciAobGV0IGtleSBvZiBtYXAua2V5cygpKSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCBtYXAuZ2V0KGtleSkuZmlsdGVyKGlzQ29ubmVjdGVkKSk7XG4gICAgfVxufSwgMjAwMCk7XG5jb25zdCBzdGVuY2lsU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2V0UmVuZGVyaW5nUmVmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gYSBzdGVuY2lsIHByb2plY3QsIHdlIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlYWxseSBleHBvcnRlZCBieSBAc3RlbmNpbC9jb3JlLlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGVsbXNUb1VwZGF0ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiBlbG1zVG9VcGRhdGUuY2xlYXIoKSxcbiAgICAgICAgZ2V0OiAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGdldFJlbmRlcmluZ1JlZigpO1xuICAgICAgICAgICAgaWYgKGVsbSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRvTWFwKGVsbXNUb1VwZGF0ZSwgcHJvcE5hbWUsIGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGVsbXNUb1VwZGF0ZS5nZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxtc1RvVXBkYXRlLnNldChwcm9wTmFtZSwgZWxlbWVudHMuZmlsdGVyKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5mb3JFYWNoKChlbG1zKSA9PiBlbG1zLmZvckVhY2goZm9yY2VVcGRhdGUpKTtcbiAgICAgICAgICAgIGNsZWFudXBFbGVtZW50cyhlbG1zVG9VcGRhdGUpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyA/IHZhbCgpIDogdmFsKTtcbmNvbnN0IGNyZWF0ZU9ic2VydmFibGVNYXAgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUgPSAoYSwgYikgPT4gYSAhPT0gYikgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZFN0YXRlID0gdW53cmFwKGRlZmF1bHRTdGF0ZSk7XG4gICAgbGV0IHN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXModW53cmFwcGVkU3RhdGUgIT09IG51bGwgJiYgdW53cmFwcGVkU3RhdGUgIT09IHZvaWQgMCA/IHVud3JhcHBlZFN0YXRlIDoge30pKTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgZGlzcG9zZTogW10sXG4gICAgICAgIGdldDogW10sXG4gICAgICAgIHNldDogW10sXG4gICAgICAgIHJlc2V0OiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFdoZW4gcmVzZXR0aW5nIHRoZSBzdGF0ZSwgdGhlIGRlZmF1bHQgc3RhdGUgbWF5IGJlIGEgZnVuY3Rpb24gLSB1bndyYXAgaXQgdG8gaW52b2tlIGl0LlxuICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBzdGF0ZSB3b24ndCBiZSBwcm9wZXJseSByZXNldFxuICAgICAgICBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKChfYSA9IHVud3JhcChkZWZhdWx0U3RhdGUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICBoYW5kbGVycy5yZXNldC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAvLyBDYWxsIGZpcnN0IGRpc3Bvc2UgYXMgcmVzZXR0aW5nIHRoZSBzdGF0ZSB3b3VsZFxuICAgICAgICAvLyBjYXVzZSBsZXNzIHVwZGF0ZXMgOylcbiAgICAgICAgaGFuZGxlcnMuZGlzcG9zZS5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXQgPSAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgaGFuZGxlcnMuZ2V0LmZvckVhY2goKGNiKSA9PiBjYihwcm9wTmFtZSkpO1xuICAgICAgICByZXR1cm4gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXQgPSAocHJvcE5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUodmFsdWUsIG9sZFZhbHVlLCBwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUsIHZhbHVlLCBvbGRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzdGF0ZSA9ICh0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8ge31cbiAgICAgICAgOiBuZXcgUHJveHkodW53cmFwcGVkU3RhdGUsIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG93bktleXMoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlcy5rZXlzKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVzLmhhcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KF8sIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShoYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBvbkNoYW5nZSA9IChwcm9wTmFtZSwgY2IpID0+IHtcbiAgICAgICAgY29uc3QgdW5TZXQgPSBvbignc2V0JywgKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2IobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byB1bndyYXAgdGhlIGRlZmF1bHRTdGF0ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBtaWdodCBub3QgYmUgc2VuZGluZyB0aGUgcmlnaHQgcmVzZXQgdmFsdWUuXG4gICAgICAgIGNvbnN0IHVuUmVzZXQgPSBvbigncmVzZXQnLCAoKSA9PiBjYih1bndyYXAoZGVmYXVsdFN0YXRlKVtwcm9wTmFtZV0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVuU2V0KCk7XG4gICAgICAgICAgICB1blJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB1c2UgPSAoLi4uc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YnMgPSBzdWJzY3JpcHRpb25zLnJlZHVjZSgodW5zdWJzLCBzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3NldCcsIHN1YnNjcmlwdGlvbi5zZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZ2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ2dldCcsIHN1YnNjcmlwdGlvbi5nZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24ucmVzZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbigncmVzZXQnLCBzdWJzY3JpcHRpb24ucmVzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdkaXNwb3NlJywgc3Vic2NyaXB0aW9uLmRpc3Bvc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnN1YnM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vicy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgfTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdGF0ZXMuZ2V0KGtleSk7XG4gICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2Ioa2V5LCBvbGRWYWx1ZSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIHNldCxcbiAgICAgICAgb24sXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICB1c2UsXG4gICAgICAgIGRpc3Bvc2UsXG4gICAgICAgIHJlc2V0LFxuICAgICAgICBmb3JjZVVwZGF0ZSxcbiAgICB9O1xufTtcbmNvbnN0IHJlbW92ZUZyb21BcnJheSA9IChhcnJheSwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgYXJyYXkubGVuZ3RoLS07XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUpID0+IHtcbiAgICBjb25zdCBtYXAgPSBjcmVhdGVPYnNlcnZhYmxlTWFwKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKTtcbiAgICBtYXAudXNlKHN0ZW5jaWxTdWJzY3JpcHRpb24oKSk7XG4gICAgcmV0dXJuIG1hcDtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlIGFzIGMgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuaW1wb3J0IHsgbCBhcyBsb2FkTW9kdWxlcyB9IGZyb20gJy4vbG9hZE1vZHVsZXMtYWFmMzBiZDYuanMnO1xuaW1wb3J0IHsgYyBhcyBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnkgfSBmcm9tICcuL2RvbS0xM2Y1YjAwYy5qcyc7XG5cbmNvbnN0IGxhbmd1YWdlTWFwID0gbmV3IE1hcChbXG4gIFtcImFyXCIsIFwiYXJcIl0sXG4gIFtcImJnXCIsIFwiYmdcIl0sXG4gIFtcImJzXCIsIFwiYnNcIl0sXG4gIFtcImNhXCIsIFwiY2FcIl0sXG4gIFtcImNzXCIsIFwiY3NcIl0sXG4gIFtcImRhXCIsIFwiZGFcIl0sXG4gIFtcImRlXCIsIFwiZGVcIl0sXG4gIFtcImVsXCIsIFwiZWxcIl0sXG4gIFtcImVuXCIsIFwiZW5cIl0sXG4gIFtcImVzXCIsIFwiZXNcIl0sXG4gIFtcImV0XCIsIFwiZXRcIl0sXG4gIFtcImZpXCIsIFwiZmlcIl0sXG4gIFtcImZyXCIsIFwiZnJcIl0sXG4gIFtcImhlXCIsIFwiaGVcIl0sXG4gIFtcImhyXCIsIFwiaHJcIl0sXG4gIFtcImh1XCIsIFwiaHVcIl0sXG4gIFtcImlkXCIsIFwiaWRcIl0sXG4gIFtcIml0XCIsIFwiaXRcIl0sXG4gIFtcImphXCIsIFwiamFcIl0sXG4gIFtcImtvXCIsIFwia29cIl0sXG4gIFtcImx0XCIsIFwibHRcIl0sXG4gIFtcImx2XCIsIFwibHZcIl0sXG4gIFtcIm5iXCIsIFwibmJcIl0sXG4gIFtcIm5sXCIsIFwibmxcIl0sXG4gIFtcInBsXCIsIFwicGxcIl0sXG4gIFtcInB0LWJyXCIsIFwicHQtQlJcIl0sXG4gIFtcInB0LXB0XCIsIFwicHQtUFRcIl0sXG4gIFtcInJvXCIsIFwicm9cIl0sXG4gIFtcInJ1XCIsIFwicnVcIl0sXG4gIFtcInNrXCIsIFwic2tcIl0sXG4gIFtcInNsXCIsIFwic2xcIl0sXG4gIFtcInNyXCIsIFwic3JcIl0sXG4gIFtcInN2XCIsIFwic3ZcIl0sXG4gIFtcInRoXCIsIFwidGhcIl0sXG4gIFtcInRyXCIsIFwidHJcIl0sXG4gIFtcInVrXCIsIFwidWtcIl0sXG4gIFtcInZpXCIsIFwidmlcIl0sXG4gIFtcInpoLWNuXCIsIFwiemgtQ05cIl0sXG4gIFtcInpoLWhrXCIsIFwiemgtSEtcIl0sXG4gIFtcInpoLXR3XCIsIFwiemgtVFdcIl1cbl0pO1xuLy8gcnRsXG5mdW5jdGlvbiBnZXRFbGVtZW50RGlyKGVsKSB7XG4gIHJldHVybiBnZXRFbGVtZW50UHJvcChlbCwgXCJkaXJcIiwgXCJsdHJcIik7XG59XG5mdW5jdGlvbiBnZXRFbGVtZW50UHJvcChlbCwgcHJvcCwgdmFsdWUpIHtcbiAgY29uc3QgY2xvc2VzdFdpdGhQcm9wID0gY2xvc2VzdEVsZW1lbnRDcm9zc1NoYWRvd0JvdW5kYXJ5KGVsLCBgWyR7cHJvcH1dYCk7XG4gIHJldHVybiBjbG9zZXN0V2l0aFByb3AgPyBjbG9zZXN0V2l0aFByb3AuZ2V0QXR0cmlidXRlKHByb3ApIDogdmFsdWU7XG59XG4vLyBjc3NcbmNvbnN0IENTU19VVElMSVRZID0ge1xuICBydGw6IFwiYXJjZ2lzLS1ydGxcIlxufTtcbmFzeW5jIGZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBhcGksIHR5cGUsIHBsYWNlcyB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKGFwaSA9PT0gNCkge1xuICAgIGNvbnN0IFtpbnRsXSA9IGF3YWl0IGxvYWRNb2R1bGVzKFtcImVzcmkvaW50bFwiXSk7XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0SW50bE9wdGlvbnMgPSBpbnRsLmNvbnZlcnROdW1iZXJGb3JtYXRUb0ludGxPcHRpb25zKHtcbiAgICAgIHBsYWNlcyxcbiAgICAgIHN0eWxlOiB0eXBlLFxuICAgICAgZGlnaXRTZXBhcmF0b3I6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gaW50bC5mb3JtYXROdW1iZXIobnVtYmVyLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG51bWJlckZvcm1hdEludGxPcHRpb25zKSwgeyBzdHlsZTogdHlwZSB9KSk7XG4gIH1cbiAgY29uc3QgW2Rvam9OdW1iZXJdID0gYXdhaXQgbG9hZE1vZHVsZXMoW1wiZG9qby9udW1iZXJcIl0pO1xuICByZXR1cm4gZG9qb051bWJlci5mb3JtYXQobnVtYmVyLCB7XG4gICAgdHlwZSxcbiAgICBwbGFjZXMsXG4gICAgcGF0dGVybjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBhdHRlcm5cbiAgfSk7XG59XG5jb25zdCBjYWNoZSA9IHt9O1xuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7XG4gIGNvbnN0IGxhbmcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubGFuZztcbiAgY29uc3QgZGF5U2hvcnRNb250aFllYXIgPSB7XG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwic2hvcnRcIixcbiAgICBkYXk6IFwibnVtZXJpY1wiXG4gIH07XG4gIGlmICghY2FjaGVbbGFuZ10pIHtcbiAgICBjYWNoZVtsYW5nXSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nLCBkYXlTaG9ydE1vbnRoWWVhcik7XG4gIH1cbiAgcmV0dXJuIGNhY2hlW2xhbmddLmZvcm1hdChkYXRlKTtcbn1cblxuZXhwb3J0IHsgQ1NTX1VUSUxJVFkgYXMgQywgZm9ybWF0RGF0ZSBhcyBhLCBmb3JtYXROdW1iZXIgYXMgZiwgZ2V0RWxlbWVudERpciBhcyBnLCBsYW5ndWFnZU1hcCBhcyBsIH07XG4iLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmltcG9ydCB7IGMgYXMgY2xvc2VzdEVsZW1lbnRDcm9zc1NoYWRvd0JvdW5kYXJ5IH0gZnJvbSAnLi9kb20tMTNmNWIwMGMuanMnO1xuaW1wb3J0IHsgbCBhcyBsYW5ndWFnZU1hcCB9IGZyb20gJy4vbGFuZ3VhZ2VVdGlsLTIyMjU4YzkwLmpzJztcbmltcG9ydCB7IGEgYXMgZ2V0QXNzZXRQYXRoIH0gZnJvbSAnLi9pbmRleC05MmViYjM5Ni5qcyc7XG5cbi8vIGh0dHBzOi8vbWVkaXVtLmNvbS9zdGVuY2lsLXRyaWNrcy9pbXBsZW1lbnRpbmctaW50ZXJuYXRpb25hbGlzYXRpb24taTE4bi13aXRoLXN0ZW5jaWwtNWU2NTU5NTU0MTE3XG5mdW5jdGlvbiBnZXRDb21wb25lbnRDbG9zZXN0TGFuZ3VhZ2UoZWxlbWVudCkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgY2xvc2VzdEVsZW1lbnQgPSAoX2EgPSBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnkoZWxlbWVudCwgXCJbbGFuZ11cIikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChfYyA9IChfYiA9IGVsZW1lbnQuc2hhZG93Um9vdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm93bmVyRG9jdW1lbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kb2N1bWVudEVsZW1lbnQ7XG4gIC8vIGxhbmd1YWdlIHNldCBieSB0aGUgY2FsbGluZyBhcHBsaWNhdGlvbiBvciBicm93c2VyLiBkZWZhdWx0cyB0byBlbmdsaXNoLlxuICBjb25zdCBsYW5nID0gKChjbG9zZXN0RWxlbWVudCA9PT0gbnVsbCB8fCBjbG9zZXN0RWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2xvc2VzdEVsZW1lbnQubGFuZykgfHwgKG5hdmlnYXRvciA9PT0gbnVsbCB8fCBuYXZpZ2F0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5hdmlnYXRvci5sYW5ndWFnZSkgfHwgXCJlblwiKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAobGFuZ3VhZ2VNYXAuaGFzKGxhbmcpKSB7XG4gICAgcmV0dXJuIGxhbmd1YWdlTWFwLmdldChsYW5nKTtcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBcInJ1LVJVXCIgbWFwcyB0byBcInJ1XCIgdXNlIGNhc2VcbiAgICBpZiAobGFuZ3VhZ2VNYXAuaGFzKGxhbmcuc2xpY2UoMCwgMikpKSB7XG4gICAgICByZXR1cm4gbGFuZ3VhZ2VNYXAuZ2V0KGxhbmcuc2xpY2UoMCwgMikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBcImVuXCI7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRDbG9zZXN0TGFuZ3VhZ2VJbnRsKGVsZW1lbnQpIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIC8vIGl0J3MgT0sgaWYgd2UgZG9uJ3QgaGF2ZSB0aGUgNCBsZXR0ZXIgbGFuZ3VhZ2UgZmlsZSBmb3IgaXRcbiAgLy8gNCBsZXR0ZXIgbGFuZ3VhZ2UgY29kZSBuZWVkZWQgZm9yIGZvcm1hdHRpbmcgbnVtYmVyc1xuICBjb25zdCBjbG9zZXN0RWxlbWVudCA9IChfYSA9IGNsb3Nlc3RFbGVtZW50Q3Jvc3NTaGFkb3dCb3VuZGFyeShlbGVtZW50LCBcIltsYW5nXVwiKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9jID0gKF9iID0gZWxlbWVudC5zaGFkb3dSb290KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3duZXJEb2N1bWVudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmRvY3VtZW50RWxlbWVudDtcbiAgLy8gbGFuZ3VhZ2Ugc2V0IGJ5IHRoZSBjYWxsaW5nIGFwcGxpY2F0aW9uIG9yIGJyb3dzZXIuIGRlZmF1bHRzIHRvIGVuZ2xpc2guXG4gIGNvbnN0IGxhbmcgPSAoKGNsb3Nlc3RFbGVtZW50ID09PSBudWxsIHx8IGNsb3Nlc3RFbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbG9zZXN0RWxlbWVudC5sYW5nKSB8fCAobmF2aWdhdG9yID09PSBudWxsIHx8IG5hdmlnYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmF2aWdhdG9yLmxhbmd1YWdlKSB8fCBcImVuXCIpLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChsYW5ndWFnZU1hcC5oYXMobGFuZykpIHtcbiAgICByZXR1cm4gbGFuZ3VhZ2VNYXAuZ2V0KGxhbmcpO1xuICB9XG4gIGVsc2Uge1xuICAgIGlmIChsYW5ndWFnZU1hcC5oYXMobGFuZy5zbGljZSgwLCAyKSkpIHtcbiAgICAgIC8vIHdlIHN1cHBvcnQgdGhlIDIgbGV0dGVyIGNvZGVkIGxhbmd1YWdlXG4gICAgICAvLyBlLmcuIGl0LUNIIHZzIGl0XG4gICAgICByZXR1cm4gbGFuZztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gXCJlblwiO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZmV0Y2hMb2NhbGVTdHJpbmdzRm9yQ29tcG9uZW50KGNvbXBvbmVudE5hbWUsIGxvY2FsZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGZldGNoKGdldEFzc2V0UGF0aChgLi4vYXJjZ2lzLWFwcC1hc3NldHMvaTE4bi8ke2NvbXBvbmVudE5hbWV9LmkxOG4uJHtsb2NhbGV9Lmpzb25gKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0Lm9rKVxuICAgICAgICByZXNvbHZlKHJlc3VsdC5qc29uKCkpO1xuICAgICAgZWxzZVxuICAgICAgICByZWplY3QoKTtcbiAgICB9LCAoKSA9PiByZWplY3QoKSk7XG4gIH0pO1xufVxuY29uc3Qgc3RyaW5nQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGZldGNoTG9jYWxlU3RyaW5nc0Zyb21DYWNoZShjb21wb25lbnROYW1lLCBsb2NhbGUpIHtcbiAgY29uc3QgaWQgPSBgJHtjb21wb25lbnROYW1lfSR7bG9jYWxlfWA7XG4gIGlmICghc3RyaW5nQ2FjaGVbaWRdKSB7XG4gICAgc3RyaW5nQ2FjaGVbaWRdID0gZmV0Y2hMb2NhbGVTdHJpbmdzRm9yQ29tcG9uZW50KGNvbXBvbmVudE5hbWUsIGxvY2FsZSk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZ0NhY2hlW2lkXTtcbn1cbi8qKlxuICogR2V0IHN0cmluZ3MgYW5kIGxhbmd1YWdlIGNvZGVzLlxuICogVGhpcyBtZXRob2QgcmV0dXJucyAyIGxhbmd1YWdlIGNvZGVzLlxuICogVGhlIGZpcnN0IG9uZSByZXR1cm5zIGEgY29kZSB0aGF0J3MgYWxzbyBzdXBwb3J0ZWQgYXMgYSBsYW5ndWFnZSBmaWxlLlxuICogVGhlIHNlY29uZCBvbmUgcmV0dXJucyBhIGNvZGUgd2hlcmUgdGhlcmUgaXMgc3VwcG9ydCBmb3IgdGhlIGZpcnN0IDIgbGV0dGVycyBvZiB0aGUgY29kZSBhcyBwYXJ0IG9mIGEgbGFuZ3VhZ2UgZmlsZSxcbiAqIGJ1dCB3aWxsIHJldHVybiB0aGUgb3JpZ2luYWwgNCBsZXR0ZXIgY29kZSBmcm9tIHRoZSBwYWdlLlxuICogRS5nLiBGb3IgXCJpdC1jaFwiIGl0IHdpbGwgcmV0dXJuIFwiaXRcIiBhcyB0aGUgZmlyc3QgbGFuZ3VhZ2UgY29kZSBhbmQgXCJpdC1jaFwiIGFzIHRoZSBzZWNvbmQuXG4gKiBUaGUgc2Vjb25kIG9uZSBpcyByZXF1aXJlZCBmb3IgZXNyaS5pbnRsLnNldExvY2FsZSgpIHRvIGdldCB0aGUgY29ycmVjdCBmb3JtYXR0aW5nLlxuICpcbiAqIElmIGEgdGFnTmFtZSBpcyBwcm92aWRlZCBpdCB3aWxsIG92ZXJ3aXRlIHRoZSBlbGVtZW50J3MgdGFnTmFtZVxuICpcbiAqICBAcmV0dXJuIFsgc3RyaW5ncywgZmlyc3QgbGFuZ3VhZ2UgY29kZSwgc2Vjb25kIGxhbmd1YWdlIGNvZGVdXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldExvY2FsZUNvbXBvbmVudFN0cmluZ3MoZWxlbWVudCwgdGFnTmFtZSkge1xuICBjb25zdCBjb21wb25lbnROYW1lID0gdGFnTmFtZSB8fCBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgY29tcG9uZW50TGFuZ3VhZ2UgPSBnZXRDb21wb25lbnRDbG9zZXN0TGFuZ3VhZ2UoZWxlbWVudCk7XG4gIGNvbnN0IGNvbXBvbmVudExhbmd1YWdlSW50bCA9IGdldENvbXBvbmVudENsb3Nlc3RMYW5ndWFnZUludGwoZWxlbWVudCk7XG4gIGxldCBzdHJpbmdzO1xuICB0cnkge1xuICAgIHN0cmluZ3MgPSBhd2FpdCBmZXRjaExvY2FsZVN0cmluZ3NGcm9tQ2FjaGUoY29tcG9uZW50TmFtZSwgY29tcG9uZW50TGFuZ3VhZ2UpO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgY29uc29sZS53YXJuKGBubyBsb2NhbGUgZm9yICR7Y29tcG9uZW50TmFtZX0gKCR7Y29tcG9uZW50TGFuZ3VhZ2V9KSBsb2FkaW5nIGRlZmF1bHQgbG9jYWxlIGVuLmApO1xuICAgIHN0cmluZ3MgPSBhd2FpdCBmZXRjaExvY2FsZVN0cmluZ3NGcm9tQ2FjaGUoY29tcG9uZW50TmFtZSwgXCJlblwiKTtcbiAgfVxuICByZXR1cm4gW3N0cmluZ3MsIGNvbXBvbmVudExhbmd1YWdlLCBjb21wb25lbnRMYW5ndWFnZUludGxdO1xufVxuXG5leHBvcnQgeyBnZXRDb21wb25lbnRDbG9zZXN0TGFuZ3VhZ2UgYXMgYSwgZ2V0TG9jYWxlQ29tcG9uZW50U3RyaW5ncyBhcyBnIH07XG4iLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmZ1bmN0aW9uIGdldFBhZ2VOYW1lKCkge1xuICBjb25zdCB7IGhhc2gsIHBhdGhuYW1lIH0gPSB3aW5kb3cubG9jYXRpb247XG4gIGlmIChwYXRobmFtZS5pbmNsdWRlcyhcImdyb3VwLmh0bWxcIikpIHtcbiAgICByZXR1cm4gXCJncm91cCBwYWdlXCI7XG4gIH1cbiAgaWYgKHBhdGhuYW1lLmluY2x1ZGVzKFwic2VhcmNoLmh0bWxcIikpIHtcbiAgICByZXR1cm4gXCJzZWFyY2ggcmVzdWx0IHBhZ2VcIjtcbiAgfVxuICBzd2l0Y2ggKGhhc2gpIHtcbiAgICBjYXNlIFwiI2Zhdm9yaXRlc1wiOlxuICAgICAgcmV0dXJuIFwiZmF2b3JpdGVzXCI7XG4gICAgY2FzZSBcIiNncm91cHNcIjpcbiAgICAgIHJldHVybiBcIm15IGdyb3VwcyBjb250ZW50XCI7XG4gICAgY2FzZSBcIiNvcmdhbml6YXRpb25cIjpcbiAgICAgIHJldHVybiBcIm15IG9yZyBjb250ZW50XCI7XG4gICAgY2FzZSBcIiNsaXZpbmdBdGxhc1wiOlxuICAgICAgcmV0dXJuIFwibGl2aW5nIGF0bGFzXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIm15IGNvbnRlbnRcIjtcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRQYWdlTmFtZSBhcyBnIH07XG4iLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmNvbnN0IGZlYXR1cmVMYXllckljb25JbmZvID0ge1xuICBwb2ludDogXCJwb2ludFwiLFxuICBsaW5lOiBcImxpbmVcIixcbiAgcG9seWdvbjogXCJwb2x5Z29uXCIsXG4gIG11bHRpcGF0Y2g6IFwiY3ViZVwiLFxuICB0YWJsZTogXCJ0YWJsZVwiLFxuICBtdWx0aXBvaW50OiBcImxheWVyLXBvaW50c1wiXG59O1xuY29uc3QgZXNyaUdlb21ldHJ5SWNvbnMgPSB7XG4gIGVzcmlHZW9tZXRyeVBvaW50OiBcInBvaW50XCIsXG4gIGVzcmlHZW9tZXRyeVBvbHlsaW5lOiBcImxpbmVcIixcbiAgZXNyaUdlb21ldHJ5UG9seWdvbjogXCJwb2x5Z29uXCIsXG4gIGVzcmlHZW9tZXRyeU11bHRpUGF0Y2g6IFwiY3ViZVwiLFxuICBlc3JpR2VvbWV0cnlNdWx0aXBvaW50OiBcInBvaW50XCIsXG4gIG5vbmU6IFwidGFibGVcIlxufTtcbmNvbnN0IGZpZWxkVHlwZUljb25zID0ge1xuICBlc3JpRmllbGRUeXBlT0lEOiBcImtleVwiLFxuICBlc3JpRmllbGRUeXBlQm9vbGVhbjogXCJib29sZWFuXCIsXG4gIGVzcmlGaWVsZFR5cGVTdHJpbmc6IFwic3RyaW5nXCIsXG4gIGVzcmlGaWVsZFR5cGVTaW5nbGU6IFwibnVtYmVyXCIsXG4gIGVzcmlGaWVsZFR5cGVEb3VibGU6IFwibnVtYmVyXCIsXG4gIGVzcmlGaWVsZFR5cGVJbnRlZ2VyOiBcImludGVnZXJcIixcbiAgZXNyaUZpZWxkVHlwZVNtYWxsSW50ZWdlcjogXCJpbnRlZ2VyXCIsXG4gIGVzcmlGaWVsZFR5cGVHbG9iYWxJRDogXCJrZXlcIixcbiAgZXNyaUZpZWxkVHlwZURhdGU6IFwiZGF0ZS10aW1lXCIsXG4gIGVzcmlGaWVsZFR5cGVCaWdJbnRlZ2VyOiBcImludGVnZXJcIixcbiAgZXNyaUZpZWxkVHlwZURhdGVPbmx5OiBcImNhbGVuZGFyXCIsXG4gIGVzcmlGaWVsZFR5cGVUaW1lT25seTogXCJjbG9ja1wiLFxuICBlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0OiBcInRpbWUtem9uZVwiXG59O1xuXG5leHBvcnQgeyBmZWF0dXJlTGF5ZXJJY29uSW5mbyBhcyBhLCBlc3JpR2VvbWV0cnlJY29ucyBhcyBlLCBmaWVsZFR5cGVJY29ucyBhcyBmIH07XG4iLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbi8qKiBHZXQgdGhlIGNvcnJlY3QgZ2VvbWV0cnkgaWNvbiBiYXNlZCBvbiBsYXllci90YWJsZSB0eXBlIGFuZCBnZW9tZXRyeSB0eXBlXG4gKiB3aWxsIGhhbmRsZXMgdHlwZXMgdXNlZCBieSB0aGUganNhcGksIHRoZSBlc3JpIHR5cGVzIHVzZWQgb24gdGhlIHNlcnZlcixcbiAqIGFuZCB0aGUgdHlwZXMgcmV0dXJuZWQgYnkgdGhlIFNlYXJjaCBBUElcbiAqL1xuZnVuY3Rpb24gZ2V0U3VibGF5ZXJUeXBlSW5mbyh7IGdlb21ldHJ5LCB0eXBlIH0pIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcIkNhdGFsb2cgTGF5ZXJcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IFwiY2F0YWxvZy1kYXRhc2V0XCIsXG4gICAgICAgIHR5cGU6IFwiY2F0YWxvZ1wiLFxuICAgICAgICBpc0dlb21ldHJ5OiBmYWxzZVxuICAgICAgfTtcbiAgICBjYXNlIFwiUGFyY2VsIExheWVyXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpY29uOiBcInBhcmNlbC1sYXllclwiLFxuICAgICAgICB0eXBlOiBcInBhcmNlbFwiLFxuICAgICAgICBpc0dlb21ldHJ5OiBmYWxzZVxuICAgICAgfTtcbiAgICBjYXNlIFwiT3JpZW50ZWQgSW1hZ2VyeSBMYXllclwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWNvbjogXCJvcmllbnRlZC1pbWFnZXJ5LWxheWVyXCIsXG4gICAgICAgIHR5cGU6IFwib3JpZW50ZWQgaW1hZ2VyeVwiLFxuICAgICAgICBpc0dlb21ldHJ5OiBmYWxzZVxuICAgICAgfTtcbiAgICBjYXNlIFwiVGFibGVcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IFwidGFibGVcIixcbiAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICBpc0dlb21ldHJ5OiB0cnVlXG4gICAgICB9O1xuICB9XG4gIHN3aXRjaCAoZ2VvbWV0cnkpIHtcbiAgICBjYXNlIFwicG9pbnRcIjpcbiAgICBjYXNlIFwiZXNyaUdlb21ldHJ5UG9pbnRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwicG9pbnRcIixcbiAgICAgICAgaWNvbjogXCJwb2ludFwiLFxuICAgICAgICBpc0dlb21ldHJ5OiB0cnVlXG4gICAgICB9O1xuICAgIGNhc2UgXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCI6XG4gICAgY2FzZSBcIm11bHRpcG9pbnRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwibXVsdGlwb2ludFwiLFxuICAgICAgICBpY29uOiBcImxheWVyLXBvaW50c1wiLFxuICAgICAgICBpc0dlb21ldHJ5OiB0cnVlXG4gICAgICB9O1xuICAgIGNhc2UgXCJsaW5lXCI6XG4gICAgY2FzZSBcInBvbHlsaW5lXCI6XG4gICAgY2FzZSBcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImxpbmVcIixcbiAgICAgICAgaWNvbjogXCJsaW5lXCIsXG4gICAgICAgIGlzR2VvbWV0cnk6IHRydWVcbiAgICAgIH07XG4gICAgY2FzZSBcInBvbHlnb25cIjpcbiAgICBjYXNlIFwiZXNyaUdlb21ldHJ5UG9seWdvblwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJwb2x5Z29uXCIsXG4gICAgICAgIGljb246IFwicG9seWdvblwiLFxuICAgICAgICBpc0dlb21ldHJ5OiB0cnVlXG4gICAgICB9O1xuICAgIGNhc2UgXCJtdWx0aXBhdGNoXCI6XG4gICAgY2FzZSBcImVzcmlHZW9tZXRyeU11bHRpUGF0Y2hcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwibXVsdGlwYXRjaFwiLFxuICAgICAgICBpY29uOiBcImN1YmVcIixcbiAgICAgICAgaXNHZW9tZXRyeTogdHJ1ZVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICBpY29uOiBcInRhYmxlXCIsXG4gICAgICAgIGlzR2VvbWV0cnk6IHRydWVcbiAgICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IHsgZ2V0U3VibGF5ZXJUeXBlSW5mbyBhcyBnIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=