"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-782d37"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js":
/*!**************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ addItemState),
/* harmony export */   b: () => (/* binding */ addItemUrlState),
/* harmony export */   c: () => (/* binding */ addItemRequestState),
/* harmony export */   d: () => (/* binding */ addItemStore)
/* harmony export */ });
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const addItemStore = (0,_index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__.c)({
  typeKeywords: [],
  customParameters: [],
  analyzedLocationTypes: [],
  allowStoredAuth: true,
  isSecured: null,
  checkAuth: false
});
// Entire add item state object
const addItemState = addItemStore.state;
// Subsets of add item state
const addItemRequestState = addItemStore.state;
const addItemUrlState = addItemStore.state;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-data-store-select-folder.entry.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-data-store-select-folder.entry.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_data_store_select_folder: () => (/* binding */ ArcgisNewItemPagesDataStoreSelectFolder)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-item-97d577a9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js");
/* harmony import */ var _data_store_e8b5ce2f_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data-store-e8b5ce2f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-e8b5ce2f.js");
/* harmony import */ var _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui-ecf86bba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js");
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/* harmony import */ var _portal_79caaeff_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./portal-79caaeff.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-79caaeff.js");
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./config-eb5f7dc2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js");
/* harmony import */ var _privileges_ccd5f37d_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./privileges-ccd5f37d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/privileges-ccd5f37d.js");
/* harmony import */ var _functional_c82f5ab9_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./functional-c82f5ab9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-c82f5ab9.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */











const arcgisNewItemPagesDataStoreSelectFolderCss = ".input-label{margin-top:1.25rem}.tile-select{margin-bottom:0.125rem}.hostname-info{font-size:0.75rem}";

const ArcgisNewItemPagesDataStoreSelectFolder = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.newItemUpdatePage = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
    this.serverFolderPath = null;
    this.publisherFolderPath = "";
    this.publisherFolderPathIsDriveLetterLocation = false;
    this.publisherFolderPathHostname = "";
    this.newServerFolderPath = "";
    this.nfsHostName = "";
    this.nfsSharePath = "";
    this.error = null;
  }
  async componentWillLoad() {
    this.i18n = _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_3__.u.i18n.dataStoreSelectFolder;
    this.checkIfDriveLetterLocation(_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFolderPath || "");
    this.publisherFolderPathHostname = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFolderPathHostname;
    this.serverFolderPath = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFolderPath || null;
    this.newServerFolderPath = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.newServerFolderPath;
    this.nfsHostName = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.nfsHostName;
    this.nfsSharePath = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.nfsSharePath;
  }
  checkIfDriveLetterLocation(path) {
    this.publisherFolderPath = path;
    this.publisherFolderPathIsDriveLetterLocation = path.split(":")[0].length === 1;
  }
  validateFolderInputs() {
    if (!this.publisherFolderPath) {
      this.error = "invalidPublisherFolderPath";
      return false;
    }
    if (this.publisherFolderPathIsDriveLetterLocation && !this.publisherFolderPathHostname) {
      this.error = "invalidPublisherHostName";
      return false;
    }
    if (this.serverFolderPath === "newPath" && !this.newServerFolderPath) {
      this.error = "invalidServerFolderPath";
      return false;
    }
    if (this.serverFolderPath === "nfsHostAndPath") {
      if (!this.nfsHostName && !this.nfsSharePath) {
        this.error = "invalidNfsHostAndPath";
        return false;
      }
      if (!this.nfsHostName && this.nfsSharePath) {
        this.error = "invalidNfsHostName";
        return false;
      }
      if (this.nfsHostName && !this.nfsSharePath) {
        this.error = "invalidNfsPath";
        return false;
      }
    }
    return true;
  }
  renderErrorItem() {
    var _a, _b;
    const { i18n, error } = this;
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { heading: (_a = i18n.errors[error]) === null || _a === void 0 ? void 0 : _a.heading, description: (_b = i18n.errors[error]) === null || _b === void 0 ? void 0 : _b.description, active: error !== null, onAlertDismiss: () => {
        this.error = null;
      } }));
  }
  handleNext() {
    if (this.validateFolderInputs()) {
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFolderPath = this.publisherFolderPath;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.serverFolderPath = this.serverFolderPath;
      if (this.publisherFolderPathIsDriveLetterLocation && this.publisherFolderPathHostname) {
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFolderPathHostname = this.publisherFolderPathHostname;
      }
      else {
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.publisherFolderPathHostname = null;
      }
      if (this.serverFolderPath === "newPath" && this.newServerFolderPath) {
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.newServerFolderPath = this.newServerFolderPath;
      }
      else {
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.newServerFolderPath = null;
      }
      if (this.serverFolderPath === "nfsHostAndPath") {
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.nfsHostName = this.nfsHostName;
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.nfsSharePath = this.nfsSharePath;
      }
      else {
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.nfsHostName = null;
        _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.nfsSharePath = null;
      }
      this.newItemUpdatePage.emit("dataStoreSelectServerList");
    }
  }
  render() {
    const { i18n, publisherFolderPathIsDriveLetterLocation } = this;
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: i18n.heading }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.publisherFolderPath.heading, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { key: "publisher-folder-path", placeholder: i18n.publisherFolderPath.placeholder, value: this.publisherFolderPath, required: true, onCalciteInputChange: (e) => {
        const publisherFolderPath = e.target.value;
        this.checkIfDriveLetterLocation(publisherFolderPath);
      } }))), publisherFolderPathIsDriveLetterLocation && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.publisherFolderPath.hostname, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { key: "publisher-folder-path-hostname", type: "textarea", value: this.publisherFolderPathHostname, onCalciteInputChange: (e) => {
        const hostname = e.target.value;
        this.publisherFolderPathHostname = hostname;
      } }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "hostname-info" }, i18n.publisherFolderPath.hostnameInfo)))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.serverFolderPath.heading)), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical", key: "server-folder-path-select" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { class: "tile-select", key: "publisher-folder-path-select", checked: this.serverFolderPath === null, description: i18n.serverFolderPath.sameAsPublisher, name: "same-as-publisher-folder-path", "input-enabled": true, width: "full", type: "radio", value: null, onCalciteTileSelectChange: () => {
        this.serverFolderPath = null;
      } }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { class: "tile-select", key: "new-server-folder-path-select", checked: this.serverFolderPath === "newPath", description: i18n.serverFolderPath.newPath, name: "new-path", "input-enabled": true, width: "full", type: "radio", value: "newPath", onCalciteTileSelectChange: () => {
        this.serverFolderPath = "newPath";
      } }), (0,_data_store_e8b5ce2f_js__WEBPACK_IMPORTED_MODULE_2__.i)() && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { key: "nfs-host-and-path-select", checked: this.serverFolderPath === "nfsHostAndPath", description: i18n.serverFolderPath.nfsHostAndPath.description, name: "nfs-host-and-path", "input-enabled": true, width: "full", type: "radio", value: "nfsHostAndPath", onCalciteTileSelectChange: () => {
        this.serverFolderPath = "nfsHostAndPath";
      } }))), this.serverFolderPath === "newPath" && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { key: "new-server-folder-path", placeholder: i18n.serverFolderPath.placeholder, value: this.newServerFolderPath, onCalciteInputChange: (e) => {
        const newServerFolderPath = e.target.value;
        this.newServerFolderPath = newServerFolderPath;
      } }))), this.serverFolderPath === "nfsHostAndPath" && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.serverFolderPath.nfsHostAndPath.hostname, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { key: "nfs-hostname", type: "textarea", value: this.nfsHostName, onCalciteInputChange: (e) => {
        const hostname = e.target.value;
        this.nfsHostName = hostname;
      } }))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "input-label" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", null, i18n.serverFolderPath.nfsHostAndPath.sharePath, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { key: "nfs-sharepath", type: "textarea", value: this.nfsSharePath, onCalciteInputChange: (e) => {
        const sharePath = e.target.value;
        this.nfsSharePath = sharePath;
      } }))))), this.renderErrorItem()));
  }
};
ArcgisNewItemPagesDataStoreSelectFolder.style = arcgisNewItemPagesDataStoreSelectFolderCss;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ uiStore),
/* harmony export */   u: () => (/* binding */ uiStoreState)
/* harmony export */ });
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const uiStore = (0,_index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__.c)({
  nextText: "next",
  workflow: "content",
  scale: "m",
  disableScroll: false,
  featureFlags: { tileLayer3dTiles: false }
});
const uiStoreState = uiStore.state;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLW5ldy1pdGUtNzgyZDM3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDdUQ7O0FBRXZELHFCQUFxQixxREFBVztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ0c7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwQmhHO0FBQ0E7QUFDQTtBQUNBO0FBQ2lGO0FBQ3RCO0FBQ29CO0FBQzFCO0FBQ3hCO0FBQ0M7QUFDSztBQUNMO0FBQ0k7QUFDQTs7QUFFbEMsaUVBQWlFLG1CQUFtQixhQUFhLHVCQUF1QixlQUFlLGtCQUFrQjs7QUFFeko7QUFDQTtBQUNBLElBQUkscURBQWdCO0FBQ3BCLDZCQUE2QixxREFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4Q0FBWTtBQUM1QixvQ0FBb0Msb0RBQVk7QUFDaEQsdUNBQXVDLG9EQUFZO0FBQ25ELDRCQUE0QixvREFBWTtBQUN4QywrQkFBK0Isb0RBQVk7QUFDM0MsdUJBQXVCLG9EQUFZO0FBQ25DLHdCQUF3QixvREFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxxREFBQyw0QkFBNEI7QUFDekM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTSxvREFBWTtBQUNsQixNQUFNLG9EQUFZO0FBQ2xCO0FBQ0EsUUFBUSxvREFBWTtBQUNwQjtBQUNBO0FBQ0EsUUFBUSxvREFBWTtBQUNwQjtBQUNBO0FBQ0EsUUFBUSxvREFBWTtBQUNwQjtBQUNBO0FBQ0EsUUFBUSxvREFBWTtBQUNwQjtBQUNBO0FBQ0EsUUFBUSxvREFBWTtBQUNwQixRQUFRLG9EQUFZO0FBQ3BCO0FBQ0E7QUFDQSxRQUFRLG9EQUFZO0FBQ3BCLFFBQVEsb0RBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaURBQWlEO0FBQzdELFlBQVkscURBQUMsY0FBYyxxREFBQyxrQ0FBa0Msc0JBQXNCLEdBQUcscURBQUMsVUFBVSxzQkFBc0IsRUFBRSxxREFBQywwREFBMEQscURBQUMsb0JBQW9CO0FBQzFNO0FBQ0E7QUFDQSxTQUFTLGtEQUFrRCxxREFBQyxVQUFVLHNCQUFzQixFQUFFLHFEQUFDLDJEQUEyRCxxREFBQyxvQkFBb0I7QUFDL0s7QUFDQTtBQUNBLFNBQVMsR0FBRyxxREFBQyxVQUFVLHdCQUF3Qiw2Q0FBNkMscURBQUMsVUFBVSxzQkFBc0IsRUFBRSxxREFBQyx5REFBeUQscURBQUMsZ0NBQWdDLHNEQUFzRCxFQUFFLHFEQUFDLDBCQUEwQjtBQUM3UztBQUNBLFNBQVMsR0FBRyxxREFBQywwQkFBMEI7QUFDdkM7QUFDQSxTQUFTLEdBQUcsMERBQThCLE9BQU8scURBQUMsMEJBQTBCO0FBQzVFO0FBQ0EsU0FBUyw2Q0FBNkMscURBQUMsVUFBVSxzQkFBc0IsRUFBRSxxREFBQyxvQkFBb0I7QUFDOUc7QUFDQTtBQUNBLFNBQVMsb0RBQW9ELHFEQUFDLGNBQWMscURBQUMsVUFBVSxzQkFBc0IsRUFBRSxxREFBQyx1RUFBdUUscURBQUMsb0JBQW9CO0FBQzVNO0FBQ0E7QUFDQSxTQUFTLEtBQUsscURBQUMsVUFBVSxzQkFBc0IsRUFBRSxxREFBQyx3RUFBd0UscURBQUMsb0JBQW9CO0FBQy9JO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVxRzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0SXJHO0FBQ0E7QUFDQTtBQUNBO0FBQ3VEOztBQUV2RCxnQkFBZ0IscURBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsQ0FBQztBQUNEOztBQUUyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FkZC1pdGVtLTk3ZDU3N2E5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1uZXctaXRlbS1wYWdlcy1kYXRhLXN0b3JlLXNlbGVjdC1mb2xkZXIuZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdWktZWNmODZiYmEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjMuMC45OVxuICovXG5pbXBvcnQgeyBjIGFzIGNyZWF0ZVN0b3JlIH0gZnJvbSAnLi9pbmRleC04MWQ1NDhiNy5qcyc7XG5cbmNvbnN0IGFkZEl0ZW1TdG9yZSA9IGNyZWF0ZVN0b3JlKHtcbiAgdHlwZUtleXdvcmRzOiBbXSxcbiAgY3VzdG9tUGFyYW1ldGVyczogW10sXG4gIGFuYWx5emVkTG9jYXRpb25UeXBlczogW10sXG4gIGFsbG93U3RvcmVkQXV0aDogdHJ1ZSxcbiAgaXNTZWN1cmVkOiBudWxsLFxuICBjaGVja0F1dGg6IGZhbHNlXG59KTtcbi8vIEVudGlyZSBhZGQgaXRlbSBzdGF0ZSBvYmplY3RcbmNvbnN0IGFkZEl0ZW1TdGF0ZSA9IGFkZEl0ZW1TdG9yZS5zdGF0ZTtcbi8vIFN1YnNldHMgb2YgYWRkIGl0ZW0gc3RhdGVcbmNvbnN0IGFkZEl0ZW1SZXF1ZXN0U3RhdGUgPSBhZGRJdGVtU3RvcmUuc3RhdGU7XG5jb25zdCBhZGRJdGVtVXJsU3RhdGUgPSBhZGRJdGVtU3RvcmUuc3RhdGU7XG5cbmV4cG9ydCB7IGFkZEl0ZW1TdGF0ZSBhcyBhLCBhZGRJdGVtVXJsU3RhdGUgYXMgYiwgYWRkSXRlbVJlcXVlc3RTdGF0ZSBhcyBjLCBhZGRJdGVtU3RvcmUgYXMgZCB9O1xuIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjMuMC45OVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGggfSBmcm9tICcuL2luZGV4LTkyZWJiMzk2LmpzJztcbmltcG9ydCB7IGEgYXMgYWRkSXRlbVN0YXRlIH0gZnJvbSAnLi9hZGQtaXRlbS05N2Q1NzdhOS5qcyc7XG5pbXBvcnQgeyBpIGFzIGlzQXJjR0lTRW50ZXJwcmlzZU9uS3ViZXJuZXRlcyB9IGZyb20gJy4vZGF0YS1zdG9yZS1lOGI1Y2UyZi5qcyc7XG5pbXBvcnQgeyB1IGFzIHVpU3RvcmVTdGF0ZSB9IGZyb20gJy4vdWktZWNmODZiYmEuanMnO1xuaW1wb3J0ICcuL2luZGV4LTgxZDU0OGI3LmpzJztcbmltcG9ydCAnLi9wb3J0YWwtNzljYWFlZmYuanMnO1xuaW1wb3J0ICcuL2xvYWRNb2R1bGVzLWFhZjMwYmQ2LmpzJztcbmltcG9ydCAnLi9jb25maWctZWI1ZjdkYzIuanMnO1xuaW1wb3J0ICcuL3ByaXZpbGVnZXMtY2NkNWYzN2QuanMnO1xuaW1wb3J0ICcuL2Z1bmN0aW9uYWwtYzgyZjVhYjkuanMnO1xuXG5jb25zdCBhcmNnaXNOZXdJdGVtUGFnZXNEYXRhU3RvcmVTZWxlY3RGb2xkZXJDc3MgPSBcIi5pbnB1dC1sYWJlbHttYXJnaW4tdG9wOjEuMjVyZW19LnRpbGUtc2VsZWN0e21hcmdpbi1ib3R0b206MC4xMjVyZW19Lmhvc3RuYW1lLWluZm97Zm9udC1zaXplOjAuNzVyZW19XCI7XG5cbmNvbnN0IEFyY2dpc05ld0l0ZW1QYWdlc0RhdGFTdG9yZVNlbGVjdEZvbGRlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5uZXdJdGVtVXBkYXRlUGFnZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwibmV3SXRlbVVwZGF0ZVBhZ2VcIiwgNyk7XG4gICAgdGhpcy5zZXJ2ZXJGb2xkZXJQYXRoID0gbnVsbDtcbiAgICB0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGggPSBcIlwiO1xuICAgIHRoaXMucHVibGlzaGVyRm9sZGVyUGF0aElzRHJpdmVMZXR0ZXJMb2NhdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMucHVibGlzaGVyRm9sZGVyUGF0aEhvc3RuYW1lID0gXCJcIjtcbiAgICB0aGlzLm5ld1NlcnZlckZvbGRlclBhdGggPSBcIlwiO1xuICAgIHRoaXMubmZzSG9zdE5hbWUgPSBcIlwiO1xuICAgIHRoaXMubmZzU2hhcmVQYXRoID0gXCJcIjtcbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgfVxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmkxOG4gPSB1aVN0b3JlU3RhdGUuaTE4bi5kYXRhU3RvcmVTZWxlY3RGb2xkZXI7XG4gICAgdGhpcy5jaGVja0lmRHJpdmVMZXR0ZXJMb2NhdGlvbihhZGRJdGVtU3RhdGUucHVibGlzaGVyRm9sZGVyUGF0aCB8fCBcIlwiKTtcbiAgICB0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGhIb3N0bmFtZSA9IGFkZEl0ZW1TdGF0ZS5wdWJsaXNoZXJGb2xkZXJQYXRoSG9zdG5hbWU7XG4gICAgdGhpcy5zZXJ2ZXJGb2xkZXJQYXRoID0gYWRkSXRlbVN0YXRlLnNlcnZlckZvbGRlclBhdGggfHwgbnVsbDtcbiAgICB0aGlzLm5ld1NlcnZlckZvbGRlclBhdGggPSBhZGRJdGVtU3RhdGUubmV3U2VydmVyRm9sZGVyUGF0aDtcbiAgICB0aGlzLm5mc0hvc3ROYW1lID0gYWRkSXRlbVN0YXRlLm5mc0hvc3ROYW1lO1xuICAgIHRoaXMubmZzU2hhcmVQYXRoID0gYWRkSXRlbVN0YXRlLm5mc1NoYXJlUGF0aDtcbiAgfVxuICBjaGVja0lmRHJpdmVMZXR0ZXJMb2NhdGlvbihwYXRoKSB7XG4gICAgdGhpcy5wdWJsaXNoZXJGb2xkZXJQYXRoID0gcGF0aDtcbiAgICB0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGhJc0RyaXZlTGV0dGVyTG9jYXRpb24gPSBwYXRoLnNwbGl0KFwiOlwiKVswXS5sZW5ndGggPT09IDE7XG4gIH1cbiAgdmFsaWRhdGVGb2xkZXJJbnB1dHMoKSB7XG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBcImludmFsaWRQdWJsaXNoZXJGb2xkZXJQYXRoXCI7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGhJc0RyaXZlTGV0dGVyTG9jYXRpb24gJiYgIXRoaXMucHVibGlzaGVyRm9sZGVyUGF0aEhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmVycm9yID0gXCJpbnZhbGlkUHVibGlzaGVySG9zdE5hbWVcIjtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2VydmVyRm9sZGVyUGF0aCA9PT0gXCJuZXdQYXRoXCIgJiYgIXRoaXMubmV3U2VydmVyRm9sZGVyUGF0aCkge1xuICAgICAgdGhpcy5lcnJvciA9IFwiaW52YWxpZFNlcnZlckZvbGRlclBhdGhcIjtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2VydmVyRm9sZGVyUGF0aCA9PT0gXCJuZnNIb3N0QW5kUGF0aFwiKSB7XG4gICAgICBpZiAoIXRoaXMubmZzSG9zdE5hbWUgJiYgIXRoaXMubmZzU2hhcmVQYXRoKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBcImludmFsaWROZnNIb3N0QW5kUGF0aFwiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMubmZzSG9zdE5hbWUgJiYgdGhpcy5uZnNTaGFyZVBhdGgpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IFwiaW52YWxpZE5mc0hvc3ROYW1lXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm5mc0hvc3ROYW1lICYmICF0aGlzLm5mc1NoYXJlUGF0aCkge1xuICAgICAgICB0aGlzLmVycm9yID0gXCJpbnZhbGlkTmZzUGF0aFwiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJlbmRlckVycm9ySXRlbSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgaTE4biwgZXJyb3IgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChoKFwiYXJjZ2lzLW5ldy1pdGVtLWFsZXJ0XCIsIHsgaGVhZGluZzogKF9hID0gaTE4bi5lcnJvcnNbZXJyb3JdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVhZGluZywgZGVzY3JpcHRpb246IChfYiA9IGkxOG4uZXJyb3JzW2Vycm9yXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlc2NyaXB0aW9uLCBhY3RpdmU6IGVycm9yICE9PSBudWxsLCBvbkFsZXJ0RGlzbWlzczogKCkgPT4ge1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICAgIH0gfSkpO1xuICB9XG4gIGhhbmRsZU5leHQoKSB7XG4gICAgaWYgKHRoaXMudmFsaWRhdGVGb2xkZXJJbnB1dHMoKSkge1xuICAgICAgYWRkSXRlbVN0YXRlLnB1Ymxpc2hlckZvbGRlclBhdGggPSB0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGg7XG4gICAgICBhZGRJdGVtU3RhdGUuc2VydmVyRm9sZGVyUGF0aCA9IHRoaXMuc2VydmVyRm9sZGVyUGF0aDtcbiAgICAgIGlmICh0aGlzLnB1Ymxpc2hlckZvbGRlclBhdGhJc0RyaXZlTGV0dGVyTG9jYXRpb24gJiYgdGhpcy5wdWJsaXNoZXJGb2xkZXJQYXRoSG9zdG5hbWUpIHtcbiAgICAgICAgYWRkSXRlbVN0YXRlLnB1Ymxpc2hlckZvbGRlclBhdGhIb3N0bmFtZSA9IHRoaXMucHVibGlzaGVyRm9sZGVyUGF0aEhvc3RuYW1lO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS5wdWJsaXNoZXJGb2xkZXJQYXRoSG9zdG5hbWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2VydmVyRm9sZGVyUGF0aCA9PT0gXCJuZXdQYXRoXCIgJiYgdGhpcy5uZXdTZXJ2ZXJGb2xkZXJQYXRoKSB7XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS5uZXdTZXJ2ZXJGb2xkZXJQYXRoID0gdGhpcy5uZXdTZXJ2ZXJGb2xkZXJQYXRoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFkZEl0ZW1TdGF0ZS5uZXdTZXJ2ZXJGb2xkZXJQYXRoID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlcnZlckZvbGRlclBhdGggPT09IFwibmZzSG9zdEFuZFBhdGhcIikge1xuICAgICAgICBhZGRJdGVtU3RhdGUubmZzSG9zdE5hbWUgPSB0aGlzLm5mc0hvc3ROYW1lO1xuICAgICAgICBhZGRJdGVtU3RhdGUubmZzU2hhcmVQYXRoID0gdGhpcy5uZnNTaGFyZVBhdGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWRkSXRlbVN0YXRlLm5mc0hvc3ROYW1lID0gbnVsbDtcbiAgICAgICAgYWRkSXRlbVN0YXRlLm5mc1NoYXJlUGF0aCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlLmVtaXQoXCJkYXRhU3RvcmVTZWxlY3RTZXJ2ZXJMaXN0XCIpO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpMThuLCBwdWJsaXNoZXJGb2xkZXJQYXRoSXNEcml2ZUxldHRlckxvY2F0aW9uIH0gPSB0aGlzO1xuICAgIHJldHVybiAoaChcImRpdlwiLCBudWxsLCBoKFwiYXJjZ2lzLW5ldy1pdGVtLWRlc2NyaXB0aW9uXCIsIHsgaGVhZGVyOiBpMThuLmhlYWRpbmcgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbnB1dC1sYWJlbFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIG51bGwsIGkxOG4ucHVibGlzaGVyRm9sZGVyUGF0aC5oZWFkaW5nLCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGtleTogXCJwdWJsaXNoZXItZm9sZGVyLXBhdGhcIiwgcGxhY2Vob2xkZXI6IGkxOG4ucHVibGlzaGVyRm9sZGVyUGF0aC5wbGFjZWhvbGRlciwgdmFsdWU6IHRoaXMucHVibGlzaGVyRm9sZGVyUGF0aCwgcmVxdWlyZWQ6IHRydWUsIG9uQ2FsY2l0ZUlucHV0Q2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICBjb25zdCBwdWJsaXNoZXJGb2xkZXJQYXRoID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMuY2hlY2tJZkRyaXZlTGV0dGVyTG9jYXRpb24ocHVibGlzaGVyRm9sZGVyUGF0aCk7XG4gICAgICB9IH0pKSksIHB1Ymxpc2hlckZvbGRlclBhdGhJc0RyaXZlTGV0dGVyTG9jYXRpb24gJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbnB1dC1sYWJlbFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIG51bGwsIGkxOG4ucHVibGlzaGVyRm9sZGVyUGF0aC5ob3N0bmFtZSwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBrZXk6IFwicHVibGlzaGVyLWZvbGRlci1wYXRoLWhvc3RuYW1lXCIsIHR5cGU6IFwidGV4dGFyZWFcIiwgdmFsdWU6IHRoaXMucHVibGlzaGVyRm9sZGVyUGF0aEhvc3RuYW1lLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgY29uc3QgaG9zdG5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJGb2xkZXJQYXRoSG9zdG5hbWUgPSBob3N0bmFtZTtcbiAgICAgIH0gfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJob3N0bmFtZS1pbmZvXCIgfSwgaTE4bi5wdWJsaXNoZXJGb2xkZXJQYXRoLmhvc3RuYW1lSW5mbykpKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbnB1dC1sYWJlbFwiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIG51bGwsIGkxOG4uc2VydmVyRm9sZGVyUGF0aC5oZWFkaW5nKSksIGgoXCJjYWxjaXRlLXRpbGUtc2VsZWN0LWdyb3VwXCIsIHsgbGF5b3V0OiBcInZlcnRpY2FsXCIsIGtleTogXCJzZXJ2ZXItZm9sZGVyLXBhdGgtc2VsZWN0XCIgfSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3RcIiwgeyBjbGFzczogXCJ0aWxlLXNlbGVjdFwiLCBrZXk6IFwicHVibGlzaGVyLWZvbGRlci1wYXRoLXNlbGVjdFwiLCBjaGVja2VkOiB0aGlzLnNlcnZlckZvbGRlclBhdGggPT09IG51bGwsIGRlc2NyaXB0aW9uOiBpMThuLnNlcnZlckZvbGRlclBhdGguc2FtZUFzUHVibGlzaGVyLCBuYW1lOiBcInNhbWUtYXMtcHVibGlzaGVyLWZvbGRlci1wYXRoXCIsIFwiaW5wdXQtZW5hYmxlZFwiOiB0cnVlLCB3aWR0aDogXCJmdWxsXCIsIHR5cGU6IFwicmFkaW9cIiwgdmFsdWU6IG51bGwsIG9uQ2FsY2l0ZVRpbGVTZWxlY3RDaGFuZ2U6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJGb2xkZXJQYXRoID0gbnVsbDtcbiAgICAgIH0gfSksIGgoXCJjYWxjaXRlLXRpbGUtc2VsZWN0XCIsIHsgY2xhc3M6IFwidGlsZS1zZWxlY3RcIiwga2V5OiBcIm5ldy1zZXJ2ZXItZm9sZGVyLXBhdGgtc2VsZWN0XCIsIGNoZWNrZWQ6IHRoaXMuc2VydmVyRm9sZGVyUGF0aCA9PT0gXCJuZXdQYXRoXCIsIGRlc2NyaXB0aW9uOiBpMThuLnNlcnZlckZvbGRlclBhdGgubmV3UGF0aCwgbmFtZTogXCJuZXctcGF0aFwiLCBcImlucHV0LWVuYWJsZWRcIjogdHJ1ZSwgd2lkdGg6IFwiZnVsbFwiLCB0eXBlOiBcInJhZGlvXCIsIHZhbHVlOiBcIm5ld1BhdGhcIiwgb25DYWxjaXRlVGlsZVNlbGVjdENoYW5nZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnNlcnZlckZvbGRlclBhdGggPSBcIm5ld1BhdGhcIjtcbiAgICAgIH0gfSksIGlzQXJjR0lTRW50ZXJwcmlzZU9uS3ViZXJuZXRlcygpICYmIChoKFwiY2FsY2l0ZS10aWxlLXNlbGVjdFwiLCB7IGtleTogXCJuZnMtaG9zdC1hbmQtcGF0aC1zZWxlY3RcIiwgY2hlY2tlZDogdGhpcy5zZXJ2ZXJGb2xkZXJQYXRoID09PSBcIm5mc0hvc3RBbmRQYXRoXCIsIGRlc2NyaXB0aW9uOiBpMThuLnNlcnZlckZvbGRlclBhdGgubmZzSG9zdEFuZFBhdGguZGVzY3JpcHRpb24sIG5hbWU6IFwibmZzLWhvc3QtYW5kLXBhdGhcIiwgXCJpbnB1dC1lbmFibGVkXCI6IHRydWUsIHdpZHRoOiBcImZ1bGxcIiwgdHlwZTogXCJyYWRpb1wiLCB2YWx1ZTogXCJuZnNIb3N0QW5kUGF0aFwiLCBvbkNhbGNpdGVUaWxlU2VsZWN0Q2hhbmdlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2VydmVyRm9sZGVyUGF0aCA9IFwibmZzSG9zdEFuZFBhdGhcIjtcbiAgICAgIH0gfSkpKSwgdGhpcy5zZXJ2ZXJGb2xkZXJQYXRoID09PSBcIm5ld1BhdGhcIiAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImlucHV0LWxhYmVsXCIgfSwgaChcImNhbGNpdGUtaW5wdXRcIiwgeyBrZXk6IFwibmV3LXNlcnZlci1mb2xkZXItcGF0aFwiLCBwbGFjZWhvbGRlcjogaTE4bi5zZXJ2ZXJGb2xkZXJQYXRoLnBsYWNlaG9sZGVyLCB2YWx1ZTogdGhpcy5uZXdTZXJ2ZXJGb2xkZXJQYXRoLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3U2VydmVyRm9sZGVyUGF0aCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICB0aGlzLm5ld1NlcnZlckZvbGRlclBhdGggPSBuZXdTZXJ2ZXJGb2xkZXJQYXRoO1xuICAgICAgfSB9KSkpLCB0aGlzLnNlcnZlckZvbGRlclBhdGggPT09IFwibmZzSG9zdEFuZFBhdGhcIiAmJiAoaChcImRpdlwiLCBudWxsLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5wdXQtbGFiZWxcIiB9LCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCBudWxsLCBpMThuLnNlcnZlckZvbGRlclBhdGgubmZzSG9zdEFuZFBhdGguaG9zdG5hbWUsIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsga2V5OiBcIm5mcy1ob3N0bmFtZVwiLCB0eXBlOiBcInRleHRhcmVhXCIsIHZhbHVlOiB0aGlzLm5mc0hvc3ROYW1lLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgY29uc3QgaG9zdG5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgdGhpcy5uZnNIb3N0TmFtZSA9IGhvc3RuYW1lO1xuICAgICAgfSB9KSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5wdXQtbGFiZWxcIiB9LCBoKFwiY2FsY2l0ZS1sYWJlbFwiLCBudWxsLCBpMThuLnNlcnZlckZvbGRlclBhdGgubmZzSG9zdEFuZFBhdGguc2hhcmVQYXRoLCBoKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGtleTogXCJuZnMtc2hhcmVwYXRoXCIsIHR5cGU6IFwidGV4dGFyZWFcIiwgdmFsdWU6IHRoaXMubmZzU2hhcmVQYXRoLCBvbkNhbGNpdGVJbnB1dENoYW5nZTogKGUpID0+IHtcbiAgICAgICAgY29uc3Qgc2hhcmVQYXRoID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMubmZzU2hhcmVQYXRoID0gc2hhcmVQYXRoO1xuICAgICAgfSB9KSkpKSksIHRoaXMucmVuZGVyRXJyb3JJdGVtKCkpKTtcbiAgfVxufTtcbkFyY2dpc05ld0l0ZW1QYWdlc0RhdGFTdG9yZVNlbGVjdEZvbGRlci5zdHlsZSA9IGFyY2dpc05ld0l0ZW1QYWdlc0RhdGFTdG9yZVNlbGVjdEZvbGRlckNzcztcblxuZXhwb3J0IHsgQXJjZ2lzTmV3SXRlbVBhZ2VzRGF0YVN0b3JlU2VsZWN0Rm9sZGVyIGFzIGFyY2dpc19uZXdfaXRlbV9wYWdlc19kYXRhX3N0b3JlX3NlbGVjdF9mb2xkZXIgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVTdG9yZSB9IGZyb20gJy4vaW5kZXgtODFkNTQ4YjcuanMnO1xuXG5jb25zdCB1aVN0b3JlID0gY3JlYXRlU3RvcmUoe1xuICBuZXh0VGV4dDogXCJuZXh0XCIsXG4gIHdvcmtmbG93OiBcImNvbnRlbnRcIixcbiAgc2NhbGU6IFwibVwiLFxuICBkaXNhYmxlU2Nyb2xsOiBmYWxzZSxcbiAgZmVhdHVyZUZsYWdzOiB7IHRpbGVMYXllcjNkVGlsZXM6IGZhbHNlIH1cbn0pO1xuY29uc3QgdWlTdG9yZVN0YXRlID0gdWlTdG9yZS5zdGF0ZTtcblxuZXhwb3J0IHsgdWlTdG9yZSBhcyBhLCB1aVN0b3JlU3RhdGUgYXMgdSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9