"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-e9bcf4"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-layer-summary-item.entry.js":
/*!*************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-layer-summary-item.entry.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_layer_summary_item: () => (/* binding */ ArcgisNewItemLayerSummaryItem)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-ecf86bba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js");
/* harmony import */ var _feature_layer_69305a85_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./feature-layer-69305a85.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-69305a85.js");
/* harmony import */ var _type_to_icon_5b71edbc_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type-to-icon-5b71edbc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-5b71edbc.js");
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */






const arcgisNewItemLayerSummaryItemCss = ":host{display:block;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}.outer-container{padding-top:1.25rem;padding-bottom:1.25rem;-webkit-padding-start:1rem;padding-inline-start:1rem}.header{display:flex;align-items:center}.opener{display:flex;justify-content:space-between;width:100%;-webkit-padding-end:1rem;padding-inline-end:1rem;-webkit-padding-start:0rem;padding-inline-start:0rem}.opener-btn{padding:0.75rem;border-style:none;border-radius:0;transition-duration:150ms;cursor:pointer;display:flex;background-color:transparent;outline-color:transparent;outline-offset:0;text-decoration:none;-webkit-appearance:none}.opener-btn:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.opener-btn:hover{background-color:var(--calcite-ui-background)}.opener-btn>.icon{transition-duration:150ms;margin-top:auto;margin-bottom:auto}.opener-btn>.icon--expanded{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));--transform-rotate:90deg}.checkbox{-webkit-padding-end:1rem;padding-inline-end:1rem}.data-container{padding-left:3rem;padding-right:3rem;margin-top:0.5rem}table{border-collapse:collapse;font-size:0.875rem;width:100%}th{font-weight:500;padding-top:0.75rem;padding-bottom:0.75rem;text-align:start}tr{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}tr:last-child{border-bottom-right-radius:var(--calcite-border-radius);border-bottom-left-radius:var(--calcite-border-radius)}tr:first-child{border-top-left-radius:var(--calcite-border-radius);border-top-right-radius:var(--calcite-border-radius)}tr:not(:last-child){border-bottom-width:0}tr:nth-child(odd){background-color:var(--calcite-ui-background)}td{padding-top:0.5rem;padding-bottom:0.5rem;-webkit-padding-start:0.75rem;padding-inline-start:0.75rem}";

const ArcgisNewItemLayerSummaryItem = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.layerSelectionChange = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "layerSelectionChange", 7);
    this.expand = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "expand", 7);
    this.layerInfo = undefined;
    this.selected = undefined;
    this.translatedLayerType = undefined;
    this.translatedFieldType = undefined;
    this.hideSelect = undefined;
    this.expanded = undefined;
  }
  watchExpanded(newValue) {
    this.expand.emit({ expanded: newValue, layerInfo: this.layerInfo });
  }
  async componentWillLoad() {
    // TODO: get correct strings for Field and Field Type here (WebGIS/arcgis-portal-app#37229)
    this.i18n = _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_1__.u.i18n;
  }
  render() {
    const { translatedLayerType, translatedFieldType, expanded, selected, layerSelectionChange, layerInfo, hideSelect } = this;
    const { name, fields } = layerInfo;
    let displayGeometryType;
    let icon;
    if (layerInfo.type === "Table") {
      displayGeometryType = "table";
      icon = _type_to_icon_5b71edbc_js__WEBPACK_IMPORTED_MODULE_3__.a["table"];
    }
    else {
      displayGeometryType = _feature_layer_69305a85_js__WEBPACK_IMPORTED_MODULE_2__.a[layerInfo.geometryType];
      icon = _type_to_icon_5b71edbc_js__WEBPACK_IMPORTED_MODULE_3__.a[displayGeometryType];
    }
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "outer-container" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "header" }, !hideSelect && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { layout: "inline", class: "checkbox" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-checkbox", { checked: selected, scale: "m", onCalciteCheckboxChange: () => {
        layerSelectionChange.emit(!selected);
      } }))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "opener" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: name, content: translatedLayerType[displayGeometryType], trailingIconInfo: { icon, scale: "s" }, scale: "s" }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { onClick: () => (this.expanded = !this.expanded), class: "opener-btn" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: "chevronRight", class: { icon: true, "icon--expanded": expanded }, scale: "s", flipRtl: !expanded })))), expanded && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "data-container" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("table", null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("thead", null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("th", null, this.i18n.csvLocationFields.field), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("th", null, this.i18n.zipSelect.type)), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("tbody", null, fields === null || fields === void 0 ? void 0 : fields.map((field) => ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr", null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", null, field.alias || field.name), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("td", null, translatedFieldType[_feature_layer_69305a85_js__WEBPACK_IMPORTED_MODULE_2__.e[field.type]]))))))))));
  }
  get el() { return (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
  static get watchers() { return {
    "expanded": ["watchExpanded"]
  }; }
};
ArcgisNewItemLayerSummaryItem.style = arcgisNewItemLayerSummaryItemCss;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-69305a85.js":
/*!*******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-69305a85.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ esriGeometryTypes),
/* harmony export */   b: () => (/* binding */ featureLayerPreferences),
/* harmony export */   e: () => (/* binding */ esriDataTypes),
/* harmony export */   f: () => (/* binding */ featureLayerTypes),
/* harmony export */   g: () => (/* binding */ geometryTypes),
/* harmony export */   r: () => (/* binding */ renderers)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
const featureLayerPreferences = ["captureGPS", "enableZDefaults", "enableMDefaults"];
const featureLayerTypes = ["point", "line", "polygon", "multipatch", "multipoint", "table"];
const esriGeometryTypes = {
  esriGeometryPoint: "point",
  esriGeometryPolyline: "line",
  esriGeometryPolygon: "polygon",
  esriGeometryMultiPatch: "multipatch",
  esriGeometryMultipoint: "multipoint"
};
const esriDataTypes = {
  esriFieldTypeOID: "oid",
  esriFieldTypeBoolean: "boolean",
  esriFieldTypeString: "string",
  esriFieldTypeDouble: "number",
  esriFieldTypeInteger: "number",
  esriFieldTypeSmallInteger: "number",
  esriFieldTypeSingle: "number",
  esriFieldTypeGlobalID: "string",
  esriFieldTypeDate: "date",
  esriFieldTypeBigInteger: "number",
  esriFieldTypeDateOnly: "date",
  esriFieldTypeTimeOnly: "date",
  esriFieldTypeTimestampOffset: "date"
};
const geometryTypes = {
  point: "esriGeometryPoint",
  line: "esriGeometryPolyline",
  polygon: "esriGeometryPolygon",
  multipatch: "esriGeometryMultiPatch",
  multipoint: "esriGeometryMultipoint"
};
// TODO: strictly type this
const renderers = {
  line: {
    type: "simple",
    symbol: {
      type: "esriSLS",
      style: "esriSLSSolid",
      color: [165, 83, 183, 255],
      width: 1
    }
  },
  point: {
    type: "simple",
    symbol: {
      type: "esriPMS",
      url: "RedSphere.png",
      imageData: "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS4xTuc4+QAAB3VJREFUeF7tmPlTlEcexnve94U5mANQbgQSbgiHXHINlxpRIBpRI6wHorLERUmIisKCQWM8cqigESVQS1Kx1piNi4mW2YpbcZONrilE140RCTcy3DDAcL/zbJP8CYPDL+9Ufau7uqb7eZ7P+/a8PS8hwkcgIBAQCAgEBAICAYGAQEAgIBAQCAgEBAICAYGAQEAgIBAQCDx/AoowKXFMUhD3lQrioZaQRVRS+fxl51eBTZUTdZ41U1Rox13/0JF9csGJ05Qv4jSz/YPWohtvLmSKN5iTGGqTm1+rc6weICOBRbZs1UVnrv87T1PUeovxyNsUP9P6n5cpHtCxu24cbrmwKLdj+osWiqrVKhI0xzbmZ7m1SpJ+1pFpvE2DPvGTomOxAoNLLKGLscZYvB10cbYYjrJCb7A5mrxleOBqim+cWJRakZY0JfnD/LieI9V1MrKtwokbrAtU4Vm0A3TJnphJD4B+RxD0u0LA7w7FTE4oprOCMbklEGNrfdGf4IqnQTb4wc0MFTYibZqM7JgjO8ZdJkpMln/sKu16pHZGb7IfptIWg389DPp9kcChWODoMuDdBOhL1JgpisbUvghM7AqFbtNiaFP80RLnhbuBdqi0N+1dbUpWGde9gWpuhFi95yL7sS7BA93JAb+Fn8mh4QujgPeTgb9kAZf3Apd2A+fXQ38yHjOHozB1IAJjOSEY2RSIwVUv4dd4X9wJccGHNrJ7CYQ4GGjLeNNfM+dyvgpzQstKf3pbB2A6m97uBRE0/Ergcxr8hyqg7hrwn0vAtRIKIRX6Y2pMl0RhIj8co9nBGFrvh55l3ngU7YObng7IVnFvGS+BYUpmHziY/Ls2zgP9SX50by/G9N5w6I+ogYvpwK1SoOlHQNsGfWcd9Peqof88B/rTyzF9hAIopAByQzC0JQB9ST5oVnvhnt+LOGsprvUhxNIwa0aY7cGR6Cp7tr8+whkjawIxkRWC6YJI6N+lAKq3Qf/Tx+B77oGfaQc/8hB8w2Xwtw9Bf3kzZspXY/JIDEbfpAB2BKLvVV90Jvjgoac9vpRxE8kciTVCBMMkNirJ7k/tRHyjtxwjKV4Yp3t/6s+R4E+/DH3N6+BrS8E314Dvvg2+/Sb4hxfBf5sP/up2TF3ZhonK1zD6dhwGdwail26DzqgX8MRKiq9ZBpkSkmeYOyPM3m9Jjl+1Z9D8AgNtlAq6bZ70qsZi+q+bwV/7I/hbB8D/dAr8Axq89iz474p/G5++koHJy1sx/lkGdBc2YjA3HF0rHNHuboomuQj/5DgclIvOGCGCYRKFFuTMV7YUAD3VDQaLMfyqBcZORGPy01QKYSNm/rYV/Nd/Av9NHvgbueBrsjDzRQamKKDxT9Kgq1iLkbIUDOSHoiNcgnYHgnYZi+9ZExSbiSoMc2eE2flKcuJLa4KGRQz6/U0wlGaP0feiMH4uFpMXEjBVlYjp6lWY+SSZtim0kulYMiYuJEJXuhTDJ9UYPByOvoIwdCxfgE4bAo0Jh39xLAoVpMwIEQyTyFCQvGpLon9sJ0K3J4OBDDcMH1dj9FQsxkrjMPFRPCbOx2GyfLal9VEcxstioTulxjAFNfROJPqLl6Bnfyg6V7ugz5yBhuHwrZjBdiU5YJg7I8wOpifAKoVIW7uQ3rpOBH2b3ekVjYT2WCRG3o+mIGKgO0OrlIaebU/HYOQDNbQnojB4NJyGD0NPfjA0bwTRE6Q7hsUcWhkWN8yZqSQlWWGECAZLmJfJmbrvVSI8taK37xpbdB/wQW8xPee/8xIGjvlj8IQ/hk4G0JbWcX8MHPVDX4kveoq8ocn3xLM33NCZRcPHOGJYZIKfpQyq7JjHS6yJjcHujLHADgkpuC7h8F8zEVqXSNC2awE69lqhs8AamkO26HrbDt2H7dBVQov2NcW26CiwQtu+BWjdY4n2nZboTbfCmKcCnRyDO/YmyLPnDlHvjDH8G6zhS9/wlEnYR7X00fWrFYuWdVI0ZpuhcbcczW/R2qdAcz6t/bRov4mONeaaoYl+p22rHF0bVNAmKtBvweIXGxNcfFH8eNlC4m6wMWMusEnKpn5hyo48pj9gLe4SNG9QoGGLAk8z5XiaJUd99u8122/IpBA2K9BGg2vWWKAvRYVeLzEa7E1R422m2+MsSTem97nSYnfKyN6/mzATv7AUgqcMrUnmaFlLX3ysM0fj+t/b5lQLtK22QEfyAmiSLKFZpUJ7kBRPXKW4HqCYynWVHKSG2LkyZex1uO1mZM9lKem9Tx9jjY5iNEYo0bKMhn7ZAu0r6H5PpLXCAq0rKJClSjSGynE/QIkrQYqBPe6S2X+AJsY2Ped6iWZk6RlL0c2r5szofRsO9R5S1IfQLRCpQL1aifoYFerpsbkuTImaUJXuXIDiH6/Ys8vm3Mg8L2i20YqsO7fItKLcSXyn0kXccclVqv3MS6at9JU/Ox+ouns+SF6Z4cSupz7l8+z1ucs7LF1AQjOdxfGZzmx8Iu1TRcfnrioICAQEAgIBgYBAQCAgEBAICAQEAgIBgYBAQCAgEBAICAQEAv8H44b/6ZiGvGAAAAAASUVORK5CYII=",
      contentType: "image/png",
      width: 15,
      height: 15
    }
  },
  multipoint: {
    type: "simple",
    symbol: {
      type: "esriPMS",
      url: "RedSphere.png",
      imageData: "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",
      contentType: "image/png",
      width: 15,
      height: 15
    }
  },
  polygon: {
    type: "simple",
    symbol: {
      type: "esriSFS",
      style: "esriSFSSolid",
      color: [76, 129, 205, 191],
      outline: {
        type: "esriSLS",
        style: "esriSLSSolid",
        color: [0, 0, 0, 255],
        width: 0.75
      }
    }
  },
  // We don't allow adding multipatch layers in from-scratch flow, so no need for this
  multipatch: {}
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js":
/*!***********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ createStore)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const appendToMap = (map, propName, value) => {
    const items = map.get(propName);
    if (!items) {
        map.set(propName, [value]);
    }
    else if (!items.includes(value)) {
        items.push(value);
    }
};
const debounce = (fn, ms) => {
    let timeoutId;
    return (...args) => {
        if (timeoutId) {
            clearTimeout(timeoutId);
        }
        timeoutId = setTimeout(() => {
            timeoutId = 0;
            fn(...args);
        }, ms);
    };
};

/**
 * Check if a possible element isConnected.
 * The property might not be there, so we check for it.
 *
 * We want it to return true if isConnected is not a property,
 * otherwise we would remove these elements and would not update.
 *
 * Better leak in Edge than to be useless.
 */
const isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;
const cleanupElements = debounce((map) => {
    for (let key of map.keys()) {
        map.set(key, map.get(key).filter(isConnected));
    }
}, 2000);
const stencilSubscription = () => {
    if (typeof _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.g !== 'function') {
        // If we are not in a stencil project, we do nothing.
        // This function is not really exported by @stencil/core.
        return {};
    }
    const elmsToUpdate = new Map();
    return {
        dispose: () => elmsToUpdate.clear(),
        get: (propName) => {
            const elm = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.g)();
            if (elm) {
                appendToMap(elmsToUpdate, propName, elm);
            }
        },
        set: (propName) => {
            const elements = elmsToUpdate.get(propName);
            if (elements) {
                elmsToUpdate.set(propName, elements.filter(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.f));
            }
            cleanupElements(elmsToUpdate);
        },
        reset: () => {
            elmsToUpdate.forEach((elms) => elms.forEach(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.f));
            cleanupElements(elmsToUpdate);
        },
    };
};

const unwrap = (val) => (typeof val === 'function' ? val() : val);
const createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {
    const unwrappedState = unwrap(defaultState);
    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));
    const handlers = {
        dispose: [],
        get: [],
        set: [],
        reset: [],
    };
    const reset = () => {
        var _a;
        // When resetting the state, the default state may be a function - unwrap it to invoke it.
        // otherwise, the state won't be properly reset
        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));
        handlers.reset.forEach((cb) => cb());
    };
    const dispose = () => {
        // Call first dispose as resetting the state would
        // cause less updates ;)
        handlers.dispose.forEach((cb) => cb());
        reset();
    };
    const get = (propName) => {
        handlers.get.forEach((cb) => cb(propName));
        return states.get(propName);
    };
    const set = (propName, value) => {
        const oldValue = states.get(propName);
        if (shouldUpdate(value, oldValue, propName)) {
            states.set(propName, value);
            handlers.set.forEach((cb) => cb(propName, value, oldValue));
        }
    };
    const state = (typeof Proxy === 'undefined'
        ? {}
        : new Proxy(unwrappedState, {
            get(_, propName) {
                return get(propName);
            },
            ownKeys(_) {
                return Array.from(states.keys());
            },
            getOwnPropertyDescriptor() {
                return {
                    enumerable: true,
                    configurable: true,
                };
            },
            has(_, propName) {
                return states.has(propName);
            },
            set(_, propName, value) {
                set(propName, value);
                return true;
            },
        }));
    const on = (eventName, callback) => {
        handlers[eventName].push(callback);
        return () => {
            removeFromArray(handlers[eventName], callback);
        };
    };
    const onChange = (propName, cb) => {
        const unSet = on('set', (key, newValue) => {
            if (key === propName) {
                cb(newValue);
            }
        });
        // We need to unwrap the defaultState because it might be a function.
        // Otherwise we might not be sending the right reset value.
        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));
        return () => {
            unSet();
            unReset();
        };
    };
    const use = (...subscriptions) => {
        const unsubs = subscriptions.reduce((unsubs, subscription) => {
            if (subscription.set) {
                unsubs.push(on('set', subscription.set));
            }
            if (subscription.get) {
                unsubs.push(on('get', subscription.get));
            }
            if (subscription.reset) {
                unsubs.push(on('reset', subscription.reset));
            }
            if (subscription.dispose) {
                unsubs.push(on('dispose', subscription.dispose));
            }
            return unsubs;
        }, []);
        return () => unsubs.forEach((unsub) => unsub());
    };
    const forceUpdate = (key) => {
        const oldValue = states.get(key);
        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));
    };
    return {
        state,
        get,
        set,
        on,
        onChange,
        use,
        dispose,
        reset,
        forceUpdate,
    };
};
const removeFromArray = (array, item) => {
    const index = array.indexOf(item);
    if (index >= 0) {
        array[index] = array[array.length - 1];
        array.length--;
    }
};

const createStore = (defaultState, shouldUpdate) => {
    const map = createObservableMap(defaultState, shouldUpdate);
    map.use(stencilSubscription());
    return map;
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-5b71edbc.js":
/*!******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/type-to-icon-5b71edbc.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ featureLayerIconInfo),
/* harmony export */   e: () => (/* binding */ esriGeometryIcons),
/* harmony export */   f: () => (/* binding */ fieldTypeIcons)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
const featureLayerIconInfo = {
  point: "point",
  line: "line",
  polygon: "polygon",
  multipatch: "cube",
  table: "table",
  multipoint: "layer-points"
};
const esriGeometryIcons = {
  esriGeometryPoint: "point",
  esriGeometryPolyline: "line",
  esriGeometryPolygon: "polygon",
  esriGeometryMultiPatch: "cube",
  esriGeometryMultipoint: "point",
  none: "table"
};
const fieldTypeIcons = {
  esriFieldTypeOID: "key",
  esriFieldTypeBoolean: "boolean",
  esriFieldTypeString: "string",
  esriFieldTypeSingle: "number",
  esriFieldTypeDouble: "number",
  esriFieldTypeInteger: "integer",
  esriFieldTypeSmallInteger: "integer",
  esriFieldTypeGlobalID: "key",
  esriFieldTypeDate: "date-time",
  esriFieldTypeBigInteger: "integer",
  esriFieldTypeDateOnly: "calendar",
  esriFieldTypeTimeOnly: "clock",
  esriFieldTypeTimestampOffset: "time-zone"
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ uiStore),
/* harmony export */   u: () => (/* binding */ uiStoreState)
/* harmony export */ });
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const uiStore = (0,_index_81d548b7_js__WEBPACK_IMPORTED_MODULE_0__.c)({
  nextText: "next",
  workflow: "content",
  scale: "m",
  disableScroll: false,
  featureFlags: { tileLayer3dTiles: false }
});
const uiStoreState = uiStore.state;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLWU5YmNmNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNrRztBQUM3QztBQUNvQztBQUNsQjtBQUMxQzs7QUFFN0IsZ0RBQWdELGNBQWMsaUJBQWlCLG1CQUFtQix3Q0FBd0MsaUJBQWlCLG9CQUFvQix1QkFBdUIsMkJBQTJCLDBCQUEwQixRQUFRLGFBQWEsbUJBQW1CLFFBQVEsYUFBYSw4QkFBOEIsV0FBVyx5QkFBeUIsd0JBQXdCLDJCQUEyQiwwQkFBMEIsWUFBWSxnQkFBZ0Isa0JBQWtCLGdCQUFnQiwwQkFBMEIsZUFBZSxhQUFhLDZCQUE2QiwwQkFBMEIsaUJBQWlCLHFCQUFxQix3QkFBd0Isa0JBQWtCLDBDQUEwQyxtQkFBbUIsa0JBQWtCLDhDQUE4QyxrQkFBa0IsMEJBQTBCLGdCQUFnQixtQkFBbUIsNEJBQTRCLDBCQUEwQiwwQkFBMEIscUJBQXFCLHFCQUFxQixxQkFBcUIsc0JBQXNCLHNCQUFzQiw0UEFBNFAseUJBQXlCLFVBQVUseUJBQXlCLHdCQUF3QixnQkFBZ0Isa0JBQWtCLG1CQUFtQixrQkFBa0IsTUFBTSx5QkFBeUIsbUJBQW1CLFdBQVcsR0FBRyxnQkFBZ0Isb0JBQW9CLHVCQUF1QixpQkFBaUIsR0FBRyxpQkFBaUIsbUJBQW1CLHdDQUF3QyxjQUFjLHdEQUF3RCx1REFBdUQsZUFBZSxvREFBb0QscURBQXFELG9CQUFvQixzQkFBc0Isa0JBQWtCLDhDQUE4QyxHQUFHLG1CQUFtQixzQkFBc0IsOEJBQThCLDZCQUE2Qjs7QUFFam9FO0FBQ0E7QUFDQSxJQUFJLHFEQUFnQjtBQUNwQixnQ0FBZ0MscURBQVc7QUFDM0Msa0JBQWtCLHFEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0NB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Q0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTRCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3JNNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFa0Y7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcENsRjtBQUNBO0FBQ0E7QUFDQTtBQUN1RDs7QUFFdkQsZ0JBQWdCLHFEQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLENBQUM7QUFDRDs7QUFFMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9hcmNnaXMtbmV3LWl0ZW0tbGF5ZXItc3VtbWFyeS1pdGVtLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2ZlYXR1cmUtbGF5ZXItNjkzMDVhODUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vaW5kZXgtODFkNTQ4YjcuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdHlwZS10by1pY29uLTViNzFlZGJjLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL3VpLWVjZjg2YmJhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBkIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTkyZWJiMzk2LmpzJztcbmltcG9ydCB7IHUgYXMgdWlTdG9yZVN0YXRlIH0gZnJvbSAnLi91aS1lY2Y4NmJiYS5qcyc7XG5pbXBvcnQgeyBlIGFzIGVzcmlEYXRhVHlwZXMsIGEgYXMgZXNyaUdlb21ldHJ5VHlwZXMgfSBmcm9tICcuL2ZlYXR1cmUtbGF5ZXItNjkzMDVhODUuanMnO1xuaW1wb3J0IHsgYSBhcyBmZWF0dXJlTGF5ZXJJY29uSW5mbyB9IGZyb20gJy4vdHlwZS10by1pY29uLTViNzFlZGJjLmpzJztcbmltcG9ydCAnLi9pbmRleC04MWQ1NDhiNy5qcyc7XG5cbmNvbnN0IGFyY2dpc05ld0l0ZW1MYXllclN1bW1hcnlJdGVtQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmJsb2NrO2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0xKX0ub3V0ZXItY29udGFpbmVye3BhZGRpbmctdG9wOjEuMjVyZW07cGFkZGluZy1ib3R0b206MS4yNXJlbTstd2Via2l0LXBhZGRpbmctc3RhcnQ6MXJlbTtwYWRkaW5nLWlubGluZS1zdGFydDoxcmVtfS5oZWFkZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcn0ub3BlbmVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbjt3aWR0aDoxMDAlOy13ZWJraXQtcGFkZGluZy1lbmQ6MXJlbTtwYWRkaW5nLWlubGluZS1lbmQ6MXJlbTstd2Via2l0LXBhZGRpbmctc3RhcnQ6MHJlbTtwYWRkaW5nLWlubGluZS1zdGFydDowcmVtfS5vcGVuZXItYnRue3BhZGRpbmc6MC43NXJlbTtib3JkZXItc3R5bGU6bm9uZTtib3JkZXItcmFkaXVzOjA7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtcztjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmZsZXg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtvdXRsaW5lLWNvbG9yOnRyYW5zcGFyZW50O291dGxpbmUtb2Zmc2V0OjA7dGV4dC1kZWNvcmF0aW9uOm5vbmU7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9Lm9wZW5lci1idG46Zm9jdXN7b3V0bGluZToycHggc29saWQgdmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7b3V0bGluZS1vZmZzZXQ6MnB4fS5vcGVuZXItYnRuOmhvdmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1iYWNrZ3JvdW5kKX0ub3BlbmVyLWJ0bj4uaWNvbnt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO21hcmdpbi10b3A6YXV0bzttYXJnaW4tYm90dG9tOmF1dG99Lm9wZW5lci1idG4+Lmljb24tLWV4cGFuZGVkey0tdHJhbnNmb3JtLXRyYW5zbGF0ZS14OjA7LS10cmFuc2Zvcm0tdHJhbnNsYXRlLXk6MDstLXRyYW5zZm9ybS1yb3RhdGU6MDstLXRyYW5zZm9ybS1za2V3LXg6MDstLXRyYW5zZm9ybS1za2V3LXk6MDstLXRyYW5zZm9ybS1zY2FsZS14OjE7LS10cmFuc2Zvcm0tc2NhbGUteToxO3RyYW5zZm9ybTp0cmFuc2xhdGVYKHZhcigtLXRyYW5zZm9ybS10cmFuc2xhdGUteCkpIHRyYW5zbGF0ZVkodmFyKC0tdHJhbnNmb3JtLXRyYW5zbGF0ZS15KSkgcm90YXRlKHZhcigtLXRyYW5zZm9ybS1yb3RhdGUpKSBza2V3WCh2YXIoLS10cmFuc2Zvcm0tc2tldy14KSkgc2tld1kodmFyKC0tdHJhbnNmb3JtLXNrZXcteSkpIHNjYWxlWCh2YXIoLS10cmFuc2Zvcm0tc2NhbGUteCkpIHNjYWxlWSh2YXIoLS10cmFuc2Zvcm0tc2NhbGUteSkpOy0tdHJhbnNmb3JtLXJvdGF0ZTo5MGRlZ30uY2hlY2tib3h7LXdlYmtpdC1wYWRkaW5nLWVuZDoxcmVtO3BhZGRpbmctaW5saW5lLWVuZDoxcmVtfS5kYXRhLWNvbnRhaW5lcntwYWRkaW5nLWxlZnQ6M3JlbTtwYWRkaW5nLXJpZ2h0OjNyZW07bWFyZ2luLXRvcDowLjVyZW19dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2ZvbnQtc2l6ZTowLjg3NXJlbTt3aWR0aDoxMDAlfXRoe2ZvbnQtd2VpZ2h0OjUwMDtwYWRkaW5nLXRvcDowLjc1cmVtO3BhZGRpbmctYm90dG9tOjAuNzVyZW07dGV4dC1hbGlnbjpzdGFydH10cntib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMSl9dHI6bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czp2YXIoLS1jYWxjaXRlLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6dmFyKC0tY2FsY2l0ZS1ib3JkZXItcmFkaXVzKX10cjpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWNhbGNpdGUtYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tY2FsY2l0ZS1ib3JkZXItcmFkaXVzKX10cjpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1ib3R0b20td2lkdGg6MH10cjpudGgtY2hpbGQob2RkKXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYmFja2dyb3VuZCl9dGR7cGFkZGluZy10b3A6MC41cmVtO3BhZGRpbmctYm90dG9tOjAuNXJlbTstd2Via2l0LXBhZGRpbmctc3RhcnQ6MC43NXJlbTtwYWRkaW5nLWlubGluZS1zdGFydDowLjc1cmVtfVwiO1xuXG5jb25zdCBBcmNnaXNOZXdJdGVtTGF5ZXJTdW1tYXJ5SXRlbSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5sYXllclNlbGVjdGlvbkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwibGF5ZXJTZWxlY3Rpb25DaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy5leHBhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImV4cGFuZFwiLCA3KTtcbiAgICB0aGlzLmxheWVySW5mbyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNlbGVjdGVkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudHJhbnNsYXRlZExheWVyVHlwZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRyYW5zbGF0ZWRGaWVsZFR5cGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oaWRlU2VsZWN0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZXhwYW5kZWQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgd2F0Y2hFeHBhbmRlZChuZXdWYWx1ZSkge1xuICAgIHRoaXMuZXhwYW5kLmVtaXQoeyBleHBhbmRlZDogbmV3VmFsdWUsIGxheWVySW5mbzogdGhpcy5sYXllckluZm8gfSk7XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgLy8gVE9ETzogZ2V0IGNvcnJlY3Qgc3RyaW5ncyBmb3IgRmllbGQgYW5kIEZpZWxkIFR5cGUgaGVyZSAoV2ViR0lTL2FyY2dpcy1wb3J0YWwtYXBwIzM3MjI5KVxuICAgIHRoaXMuaTE4biA9IHVpU3RvcmVTdGF0ZS5pMThuO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRyYW5zbGF0ZWRMYXllclR5cGUsIHRyYW5zbGF0ZWRGaWVsZFR5cGUsIGV4cGFuZGVkLCBzZWxlY3RlZCwgbGF5ZXJTZWxlY3Rpb25DaGFuZ2UsIGxheWVySW5mbywgaGlkZVNlbGVjdCB9ID0gdGhpcztcbiAgICBjb25zdCB7IG5hbWUsIGZpZWxkcyB9ID0gbGF5ZXJJbmZvO1xuICAgIGxldCBkaXNwbGF5R2VvbWV0cnlUeXBlO1xuICAgIGxldCBpY29uO1xuICAgIGlmIChsYXllckluZm8udHlwZSA9PT0gXCJUYWJsZVwiKSB7XG4gICAgICBkaXNwbGF5R2VvbWV0cnlUeXBlID0gXCJ0YWJsZVwiO1xuICAgICAgaWNvbiA9IGZlYXR1cmVMYXllckljb25JbmZvW1widGFibGVcIl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUdlb21ldHJ5VHlwZSA9IGVzcmlHZW9tZXRyeVR5cGVzW2xheWVySW5mby5nZW9tZXRyeVR5cGVdO1xuICAgICAgaWNvbiA9IGZlYXR1cmVMYXllckljb25JbmZvW2Rpc3BsYXlHZW9tZXRyeVR5cGVdO1xuICAgIH1cbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJvdXRlci1jb250YWluZXJcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaGVhZGVyXCIgfSwgIWhpZGVTZWxlY3QgJiYgKGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgbGF5b3V0OiBcImlubGluZVwiLCBjbGFzczogXCJjaGVja2JveFwiIH0sIGgoXCJjYWxjaXRlLWNoZWNrYm94XCIsIHsgY2hlY2tlZDogc2VsZWN0ZWQsIHNjYWxlOiBcIm1cIiwgb25DYWxjaXRlQ2hlY2tib3hDaGFuZ2U6ICgpID0+IHtcbiAgICAgICAgbGF5ZXJTZWxlY3Rpb25DaGFuZ2UuZW1pdCghc2VsZWN0ZWQpO1xuICAgICAgfSB9KSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwib3BlbmVyXCIgfSwgaChcImFyY2dpcy1uZXctaXRlbS1kZXNjcmlwdGlvblwiLCB7IGhlYWRlcjogbmFtZSwgY29udGVudDogdHJhbnNsYXRlZExheWVyVHlwZVtkaXNwbGF5R2VvbWV0cnlUeXBlXSwgdHJhaWxpbmdJY29uSW5mbzogeyBpY29uLCBzY2FsZTogXCJzXCIgfSwgc2NhbGU6IFwic1wiIH0pLCBoKFwiYnV0dG9uXCIsIHsgb25DbGljazogKCkgPT4gKHRoaXMuZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZCksIGNsYXNzOiBcIm9wZW5lci1idG5cIiB9LCBoKFwiY2FsY2l0ZS1pY29uXCIsIHsgaWNvbjogXCJjaGV2cm9uUmlnaHRcIiwgY2xhc3M6IHsgaWNvbjogdHJ1ZSwgXCJpY29uLS1leHBhbmRlZFwiOiBleHBhbmRlZCB9LCBzY2FsZTogXCJzXCIsIGZsaXBSdGw6ICFleHBhbmRlZCB9KSkpKSwgZXhwYW5kZWQgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJkYXRhLWNvbnRhaW5lclwiIH0sIGgoXCJ0YWJsZVwiLCBudWxsLCBoKFwidGhlYWRcIiwgbnVsbCwgaChcInRoXCIsIG51bGwsIHRoaXMuaTE4bi5jc3ZMb2NhdGlvbkZpZWxkcy5maWVsZCksIGgoXCJ0aFwiLCBudWxsLCB0aGlzLmkxOG4uemlwU2VsZWN0LnR5cGUpKSwgaChcInRib2R5XCIsIG51bGwsIGZpZWxkcyA9PT0gbnVsbCB8fCBmaWVsZHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpZWxkcy5tYXAoKGZpZWxkKSA9PiAoaChcInRyXCIsIG51bGwsIGgoXCJ0ZFwiLCBudWxsLCBmaWVsZC5hbGlhcyB8fCBmaWVsZC5uYW1lKSwgaChcInRkXCIsIG51bGwsIHRyYW5zbGF0ZWRGaWVsZFR5cGVbZXNyaURhdGFUeXBlc1tmaWVsZC50eXBlXV0pKSkpKSkpKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImV4cGFuZGVkXCI6IFtcIndhdGNoRXhwYW5kZWRcIl1cbiAgfTsgfVxufTtcbkFyY2dpc05ld0l0ZW1MYXllclN1bW1hcnlJdGVtLnN0eWxlID0gYXJjZ2lzTmV3SXRlbUxheWVyU3VtbWFyeUl0ZW1Dc3M7XG5cbmV4cG9ydCB7IEFyY2dpc05ld0l0ZW1MYXllclN1bW1hcnlJdGVtIGFzIGFyY2dpc19uZXdfaXRlbV9sYXllcl9zdW1tYXJ5X2l0ZW0gfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuY29uc3QgZmVhdHVyZUxheWVyUHJlZmVyZW5jZXMgPSBbXCJjYXB0dXJlR1BTXCIsIFwiZW5hYmxlWkRlZmF1bHRzXCIsIFwiZW5hYmxlTURlZmF1bHRzXCJdO1xuY29uc3QgZmVhdHVyZUxheWVyVHlwZXMgPSBbXCJwb2ludFwiLCBcImxpbmVcIiwgXCJwb2x5Z29uXCIsIFwibXVsdGlwYXRjaFwiLCBcIm11bHRpcG9pbnRcIiwgXCJ0YWJsZVwiXTtcbmNvbnN0IGVzcmlHZW9tZXRyeVR5cGVzID0ge1xuICBlc3JpR2VvbWV0cnlQb2ludDogXCJwb2ludFwiLFxuICBlc3JpR2VvbWV0cnlQb2x5bGluZTogXCJsaW5lXCIsXG4gIGVzcmlHZW9tZXRyeVBvbHlnb246IFwicG9seWdvblwiLFxuICBlc3JpR2VvbWV0cnlNdWx0aVBhdGNoOiBcIm11bHRpcGF0Y2hcIixcbiAgZXNyaUdlb21ldHJ5TXVsdGlwb2ludDogXCJtdWx0aXBvaW50XCJcbn07XG5jb25zdCBlc3JpRGF0YVR5cGVzID0ge1xuICBlc3JpRmllbGRUeXBlT0lEOiBcIm9pZFwiLFxuICBlc3JpRmllbGRUeXBlQm9vbGVhbjogXCJib29sZWFuXCIsXG4gIGVzcmlGaWVsZFR5cGVTdHJpbmc6IFwic3RyaW5nXCIsXG4gIGVzcmlGaWVsZFR5cGVEb3VibGU6IFwibnVtYmVyXCIsXG4gIGVzcmlGaWVsZFR5cGVJbnRlZ2VyOiBcIm51bWJlclwiLFxuICBlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyOiBcIm51bWJlclwiLFxuICBlc3JpRmllbGRUeXBlU2luZ2xlOiBcIm51bWJlclwiLFxuICBlc3JpRmllbGRUeXBlR2xvYmFsSUQ6IFwic3RyaW5nXCIsXG4gIGVzcmlGaWVsZFR5cGVEYXRlOiBcImRhdGVcIixcbiAgZXNyaUZpZWxkVHlwZUJpZ0ludGVnZXI6IFwibnVtYmVyXCIsXG4gIGVzcmlGaWVsZFR5cGVEYXRlT25seTogXCJkYXRlXCIsXG4gIGVzcmlGaWVsZFR5cGVUaW1lT25seTogXCJkYXRlXCIsXG4gIGVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXQ6IFwiZGF0ZVwiXG59O1xuY29uc3QgZ2VvbWV0cnlUeXBlcyA9IHtcbiAgcG9pbnQ6IFwiZXNyaUdlb21ldHJ5UG9pbnRcIixcbiAgbGluZTogXCJlc3JpR2VvbWV0cnlQb2x5bGluZVwiLFxuICBwb2x5Z29uOiBcImVzcmlHZW9tZXRyeVBvbHlnb25cIixcbiAgbXVsdGlwYXRjaDogXCJlc3JpR2VvbWV0cnlNdWx0aVBhdGNoXCIsXG4gIG11bHRpcG9pbnQ6IFwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiXG59O1xuLy8gVE9ETzogc3RyaWN0bHkgdHlwZSB0aGlzXG5jb25zdCByZW5kZXJlcnMgPSB7XG4gIGxpbmU6IHtcbiAgICB0eXBlOiBcInNpbXBsZVwiLFxuICAgIHN5bWJvbDoge1xuICAgICAgdHlwZTogXCJlc3JpU0xTXCIsXG4gICAgICBzdHlsZTogXCJlc3JpU0xTU29saWRcIixcbiAgICAgIGNvbG9yOiBbMTY1LCA4MywgMTgzLCAyNTVdLFxuICAgICAgd2lkdGg6IDFcbiAgICB9XG4gIH0sXG4gIHBvaW50OiB7XG4gICAgdHlwZTogXCJzaW1wbGVcIixcbiAgICBzeW1ib2w6IHtcbiAgICAgIHR5cGU6IFwiZXNyaVBNU1wiLFxuICAgICAgdXJsOiBcIlJlZFNwaGVyZS5wbmdcIixcbiAgICAgIGltYWdlRGF0YTogXCJpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUNYQklXWE1BQUE3REFBQU93d0hIYjZoa0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCUVlXbHVkQzVPUlZRZ2RqTXVOUzR4VHVjNCtRQUFCM1ZKUkVGVWVGN3RtUGxUbEVjZXhudmU5NFU1bUFOUWJnUVNiZ2lIWEhJTmx4cFJJQnBSSTZ3SG9yTEVSVW1JaXNLQ1FXTThjcWlnRVNWUVMxS3gxcGlOaTRtVzJZcGJjWk9OcmlsRTE0MFJDVGN5M0REQWNML3piSlA4Q1lQREwrOVVmYXU3dXFiN2VaN1ArL2E4UFM4aHdrY2dJQkFRQ0FnRUJBSUNBWUdBUUVBZ0lCQVFDQWdFQkFJQ0FZR0FRRUFnSUJBUUNEeC9Bb293S1hGTVVoRDNsUXJpb1phUVJWUlMrZnhsNTFlQlRaVVRkWjQxVTFSb3gxMy8wSkY5Y3NHSjA1UXY0alN6L1lQV29odHZMbVNLTjVpVEdHcVRtMStyYzZ3ZUlDT0JSYlpzMVVWbnJ2ODdUMVBVZW92eHlOc1VQOVA2bjVjcEh0Q3h1MjRjYnJtd0tMZGorb3NXaXFyVktoSTB4emJtWjdtMVNwSisxcEZwdkUyRFB2R1RvbU94QW9OTExLR0xzY1pZdkIxMGNiWVlqckpDYjdBNW1yeGxlT0JxaW0rY1dKUmFrWlkwSmZuRC9MaWVJOVYxTXJLdHdva2JyQXRVNFZtMEEzVEpucGhKRDRCK1J4RDB1MExBN3c3RlRFNG9wck9DTWJrbEVHTnJmZEdmNElxblFUYjR3YzBNRlRZaWJacU03SmdqTzhaZEprcE1sbi9zS3UxNnBIWkdiN0lmcHRJV2czODlEUHA5a2NDaFdPRG9NdURkQk9oTDFKZ3Bpc2JVdmdoTTdBcUZidE5pYUZQODBSTG5oYnVCZHFpME4rMWRiVXBXR2RlOWdXcHVoRmk5NXlMN3NTN0JBOTNKQWIrRm44bWg0UXVqZ1BlVGdiOWtBWmYzQXBkMkErZlhRMzh5SGpPSG96QjFJQUpqT1NFWTJSU0l3VlV2NGRkNFg5d0pjY0dITnJKN0NZUTRHR2pMZU5OZk0rZHl2Z3B6UXN0S2YzcGJCMkE2bTk3dUJSRTAvRXJnY3hyOGh5cWc3aHJ3bjB2QXRSSUtJUlg2WTJwTWwwUmhJajhjbzluQkdGcnZoNTVsM25nVTdZT2JuZzdJVm5GdkdTK0JZVXBtSHppWS9MczJ6Z1A5U1g1MGJ5L0c5TjV3Nkkrb2dZdnB3SzFTb09sSFFOc0dmV2NkOVBlcW9mODhCL3JUeXpGOWhBSW9wQUJ5UXpDMEpRQjlTVDVvVm52aG50K0xPR3NwcnZVaHhOSXdhMGFZN2NHUjZDcDd0cjgrd2hramF3SXhrUldDNllKSTZOK2xBS3EzUWYvVHgrQjc3b0dmYVFjLzhoQjh3Mlh3dHc5QmYza3pac3BYWS9KSURFYmZwQUIyQktMdlZWOTBKdmpnb2FjOXZwUnhFOGtjaVRWQ0JNTWtOaXJKN2svdFJIeWp0eHdqS1Y0WXAzdC82cytSNEUrL0RIM042K0JyUzhFMzE0RHZ2ZzIrL1NiNGh4ZkJmNXNQL3VwMlRGM1pob25LMXpENmRod0dkd2FpbDI2RHpxZ1g4TVJLaXE5WkJwa1NrbWVZT3lQTTNtOUpqbCsxWjlEOEFnTnRsQXE2Ylo3MHFzWmkrcStid1YvN0kvaGJCOEQvZEFyOEF4cTg5aXo0NzRwL0c1Kytrb0hKeTFzeC9sa0dkQmMyWWpBM0hGMHJITkh1Ym9vbXVRai81RGdjbEl2T0dDR0NZUktGRnVUTVY3WVVBRDNWRFFhTE1meXFCY1pPUkdQeTAxUUtZU05tL3JZVi9OZC9BdjlOSHZnYnVlQnJzakR6UlFhbUtLRHhUOUtncTFpTGtiSVVET1NIb2lOY2duWUhnbllaaSs5WkV4U2JpU29NYzJlRTJmbEtjdUpMYTRLR1JRejYvVTB3bEdhUDBmZWlNSDR1RnBNWEVqQlZsWWpwNmxXWStTU1p0aW0wa3VsWU1pWXVKRUpYdWhUREo5VVlQQnlPdm9Jd2RDeGZnRTRiQW8wSmgzOXhMQW9WcE13SUVReVR5RkNRdkdwTG9uOXNKMEszSjRPQkREY01IMWRqOUZRc3hrcmpNUEZSUENiT3gyR3lmTGFsOVZFY3hzdGlvVHVseGpBRk5mUk9KUHFMbDZCbmZ5ZzZWN3VnejV5Qmh1SHdyWmpCZGlVNVlKZzdJOHdPcGlmQUtvVklXN3VRM3JwT0JIMmIzZWtWallUMldDUkczbyttSUdLZ08wT3JsSWFlYlUvSFlPUUROYlFub2pCNE5KeUdEME5QZmpBMGJ3VFJFNlE3aHNVY1doa1dOOHlacVNRbFdXR0VDQVpMbUpmSm1icnZWU0k4dGFLMzd4cGJkQi93UVc4eFBlZS84eElHanZsajhJUS9oazRHMEpiV2NYOE1IUFZEWDRrdmVvcThvY24zeExNMzNOQ1pSY1BIT0dKWVpJS2ZwUXlxN0pqSFM2eUpqY0h1akxIQURna3B1QzdoOEY4ekVWcVhTTkMyYXdFNjlscWhzOEFhbWtPMjZIcmJEdDJIN2RCVlFvdjJOY1cyNkNpd1F0dStCV2pkWTRuMm5aYm9UYmZDbUtjQ25SeURPL1lteUxQbkRsSHZqREg4RzZ6aFM5L3dsRW5ZUjdYMDBmV3JGWXVXZFZJMFpwdWhjYmNjelcvUjJxZEFjejZ0L2JSb3Y0bU9OZWFhb1lsK3AyMnJIRjBiVk5BbUt0QnZ3ZUlYR3hOY2ZGSDhlTmxDNG02d01XTXVzRW5LcG41aHlvNDhwajlnTGU0U05HOVFvR0dMQWs4ejVYaWFKVWQ5OXU4MTIyL0lwQkEySzlCR2cydldXS0F2UllWZUx6RWE3RTFSNDIybTIrTXNTVGVtOTduU1luZkt5TjYvbXpBVHY3QVVncWNNclVubWFGbExYM3lzTTBmait0L2I1bFFMdEsyMlFFZnlBbWlTTEtGWnBVSjdrQlJQWEtXNEhxQ1l5bldWSEtTRzJMa3laZXgxdU8xbVpNOWxLZW05VHg5ampZNWlORVlvMGJLTWhuN1pBdTByNkg1UHBMWENBcTByS0pDbFNqU0d5bkUvUUlrclFZcUJQZTZTMlgrQUpzWTJQZWQ2aVdaazZSbEwwYzJyNXN6b2ZSc085UjVTMUlmUUxSQ3BRTDFhaWZvWUZlcnBzYmt1VEltYVVKWHVYSURpSDYvWXM4dm0zTWc4TDJpMjBZcXNPN2ZJdEtMY1NYeW4wa1hjY2NsVnF2M01TNmF0OUpVL094K291bnMrU0Y2WjRjU3VwejdsOCt6MXVjczdMRjFBUWpPZHhmR1p6bXg4SXUxVFJjZm5yaW9JQ0FRRUFnSUJnWUJBUUNBZ0VCQUlDQVFFQWdJQmdZQkFRQ0FnRUJBSUNBUUVBdjhINDRiLzZaaUd2R0FBQUFBQVNVVk9SSzVDWUlJPVwiLFxuICAgICAgY29udGVudFR5cGU6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICB3aWR0aDogMTUsXG4gICAgICBoZWlnaHQ6IDE1XG4gICAgfVxuICB9LFxuICBtdWx0aXBvaW50OiB7XG4gICAgdHlwZTogXCJzaW1wbGVcIixcbiAgICBzeW1ib2w6IHtcbiAgICAgIHR5cGU6IFwiZXNyaVBNU1wiLFxuICAgICAgdXJsOiBcIlJlZFNwaGVyZS5wbmdcIixcbiAgICAgIGltYWdlRGF0YTogXCJpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRUFBQUFCQUNBWUFBQUNxYVhIZUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUNYQklXWE1BQUE3REFBQU93d0hIYjZoa0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCUVlXbHVkQzVPUlZRZ2RqTXVOUzR4VHVjNCtRQUFCM1ZKUkVGVWVGN3RtUGxUbEVjZXhudmU5NFU1bUFOUWJnUVNiZ2lIWEhJTmx4cFJJQnBSSTZ3SG9yTEVSVW1JaXNLQ1FXTThjcWlnRVNWUVMxS3gxcGlOaTRtVzJZcGJjWk9OcmlsRTE0MFJDVGN5M0REQWNML3piSlA4Q1lQREwrOVVmYXU3dXFiN2VaN1ArL2E4UFM4aHdrY2dJQkFRQ0FnRUJBSUNBWUdBUUVBZ0lCQVFDQWdFQkFJQ0FZR0FRRUFnSUJBUUNEeC9Bb293S1hGTVVoRDNsUXJpb1phUVJWUlMrZnhsNTFlQlRaVVRkWjQxVTFSb3gxMy8wSkY5Y3NHSjA1UXY0alN6L1lQV29odHZMbVNLTjVpVEdHcVRtMStyYzZ3ZUlDT0JSYlpzMVVWbnJ2ODdUMVBVZW92eHlOc1VQOVA2bjVjcEh0Q3h1MjRjYnJtd0tMZGorb3NXaXFyVktoSTB4emJtWjdtMVNwSisxcEZwdkUyRFB2R1RvbU94QW9OTExLR0xzY1pZdkIxMGNiWVlqckpDYjdBNW1yeGxlT0JxaW0rY1dKUmFrWlkwSmZuRC9MaWVJOVYxTXJLdHdva2JyQXRVNFZtMEEzVEpucGhKRDRCK1J4RDB1MExBN3c3RlRFNG9wck9DTWJrbEVHTnJmZEdmNElxblFUYjR3YzBNRlRZaWJacU03SmdqTzhaZEprcE1sbi9zS3UxNnBIWkdiN0lmcHRJV2czODlEUHA5a2NDaFdPRG9NdURkQk9oTDFKZ3Bpc2JVdmdoTTdBcUZidE5pYUZQODBSTG5oYnVCZHFpME4rMWRiVXBXR2RlOWdXcHVoRmk5NXlMN3NTN0JBOTNKQWIrRm44bWg0UXVqZ1BlVGdiOWtBWmYzQXBkMkErZlhRMzh5SGpPSG96QjFJQUpqT1NFWTJSU0l3VlV2NGRkNFg5d0pjY0dITnJKN0NZUTRHR2pMZU5OZk0rZHl2Z3B6UXN0S2YzcGJCMkE2bTk3dUJSRTAvRXJnY3hyOGh5cWc3aHJ3bjB2QXRSSUtJUlg2WTJwTWwwUmhJajhjbzluQkdGcnZoNTVsM25nVTdZT2JuZzdJVm5GdkdTK0JZVXBtSHppWS9MczJ6Z1A5U1g1MGJ5L0c5TjV3Nkkrb2dZdnB3SzFTb09sSFFOc0dmV2NkOVBlcW9mODhCL3JUeXpGOWhBSW9wQUJ5UXpDMEpRQjlTVDVvVm52aG50K0xPR3NwcnZVaHhOSXdhMGFZN2NHUjZDcDd0cjgrd2hramF3SXhrUldDNllKSTZOK2xBS3EzUWYvVHgrQjc3b0dmYVFjLzhoQjh3Mlh3dHc5QmYza3pac3BYWS9KSURFYmZwQUIyQktMdlZWOTBKdmpnb2FjOXZwUnhFOGtjaVRWQ0JNTWtOaXJKN2svdFJIeWp0eHdqS1Y0WXAzdC82cytSNEUrL0RIM042K0JyUzhFMzE0RHZ2ZzIrL1NiNGh4ZkJmNXNQL3VwMlRGM1pob25LMXpENmRod0dkd2FpbDI2RHpxZ1g4TVJLaXE5WkJwa1NrbWVZT3lQTTNtOUpqbCsxWjlEOEFnTnRsQXE2Ylo3MHFzWmkrcStid1YvN0kvaGJCOEQvZEFyOEF4cTg5aXo0NzRwL0c1Kytrb0hKeTFzeC9sa0dkQmMyWWpBM0hGMHJITkh1Ym9vbXVRai81RGdjbEl2T0dDR0NZUktGRnVUTVY3WVVBRDNWRFFhTE1meXFCY1pPUkdQeTAxUUtZU05tL3JZVi9OZC9BdjlOSHZnYnVlQnJzakR6UlFhbUtLRHhUOUtncTFpTGtiSVVET1NIb2lOY2duWUhnbllaaSs5WkV4U2JpU29NYzJlRTJmbEtjdUpMYTRLR1JRejYvVTB3bEdhUDBmZWlNSDR1RnBNWEVqQlZsWWpwNmxXWStTU1p0aW0wa3VsWU1pWXVKRUpYdWhUREo5VVlQQnlPdm9Jd2RDeGZnRTRiQW8wSmgzOXhMQW9WcE13SUVReVR5RkNRdkdwTG9uOXNKMEszSjRPQkREY01IMWRqOUZRc3hrcmpNUEZSUENiT3gyR3lmTGFsOVZFY3hzdGlvVHVseGpBRk5mUk9KUHFMbDZCbmZ5ZzZWN3VnejV5Qmh1SHdyWmpCZGlVNVlKZzdJOHdPcGlmQUtvVklXN3VRM3JwT0JIMmIzZWtWallUMldDUkczbyttSUdLZ08wT3JsSWFlYlUvSFlPUUROYlFub2pCNE5KeUdEME5QZmpBMGJ3VFJFNlE3aHNVY1doa1dOOHlacVNRbFdXR0VDQVpMbUpmSm1icnZWU0k4dGFLMzd4cGJkQi93UVc4eFBlZS84eElHanZsajhJUS9oazRHMEpiV2NYOE1IUFZEWDRrdmVvcThvY24zeExNMzNOQ1pSY1BIT0dKWVpJS2ZwUXlxN0pqSFM2eUpqY0h1akxIQURna3B1QzdoOEY4ekVWcVhTTkMyYXdFNjlscWhzOEFhbWtPMjZIcmJEdDJIN2RCVlFvdjJOY1cyNkNpd1F0dStCV2pkWTRuMm5aYm9UYmZDbUtjQ25SeURPL1lteUxQbkRsSHZqREg4RzZ6aFM5L3dsRW5ZUjdYMDBmV3JGWXVXZFZJMFpwdWhjYmNjelcvUjJxZEFjejZ0L2JSb3Y0bU9OZWFhb1lsK3AyMnJIRjBiVk5BbUt0QnZ3ZUlYR3hOY2ZGSDhlTmxDNG02d01XTXVzRW5LcG41aHlvNDhwajlnTGU0U05HOVFvR0dMQWs4ejVYaWFKVWQ5OXU4MTIyL0lwQkEySzlCR2cydldXS0F2UllWZUx6RWE3RTFSNDIybTIrTXNTVGVtOTduU1luZkt5TjYvbXpBVHY3QVVncWNNclVubWFGbExYM3lzTTBmait0L2I1bFFMdEsyMlFFZnlBbWlTTEtGWnBVSjdrQlJQWEtXNEhxQ1l5bldWSEtTRzJMa3laZXgxdU8xbVpNOWxLZW05VHg5ampZNWlORVlvMGJLTWhuN1pBdTByNkg1UHBMWENBcTByS0pDbFNqU0d5bkUvUUlrclFZcUJQZTZTMlgrQUpzWTJQZWQ2aVdaazZSbEwwYzJyNXN6b2ZSc085UjVTMUlmUUxSQ3BRTDFhaWZvWUZlcnBzYmt1VEltYVVKWHVYSURpSDYvWXM4dm0zTWc4TDJpMjBZcXNPN2ZJdEtMY1NYeW4wa1hjY2NsVnF2M01TNmF0OUpVL094K291bnMrU0Y2WjRjU3VwejdsOCt6MXVjczdMRjFBUWpPZHhmR1p6bXg4SXUxVFJjZm5yaW9JQ0FRRUFnSUJnWUJBUUNBZ0VCQUlDQVFFQWdJQmdZQkFRQ0FnRUJBSUNBUUVBdjhINDRiLzZaaUd2R0FBQUFBQVNVVk9SSzVDWUlJPVwiLFxuICAgICAgY29udGVudFR5cGU6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICB3aWR0aDogMTUsXG4gICAgICBoZWlnaHQ6IDE1XG4gICAgfVxuICB9LFxuICBwb2x5Z29uOiB7XG4gICAgdHlwZTogXCJzaW1wbGVcIixcbiAgICBzeW1ib2w6IHtcbiAgICAgIHR5cGU6IFwiZXNyaVNGU1wiLFxuICAgICAgc3R5bGU6IFwiZXNyaVNGU1NvbGlkXCIsXG4gICAgICBjb2xvcjogWzc2LCAxMjksIDIwNSwgMTkxXSxcbiAgICAgIG91dGxpbmU6IHtcbiAgICAgICAgdHlwZTogXCJlc3JpU0xTXCIsXG4gICAgICAgIHN0eWxlOiBcImVzcmlTTFNTb2xpZFwiLFxuICAgICAgICBjb2xvcjogWzAsIDAsIDAsIDI1NV0sXG4gICAgICAgIHdpZHRoOiAwLjc1XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAvLyBXZSBkb24ndCBhbGxvdyBhZGRpbmcgbXVsdGlwYXRjaCBsYXllcnMgaW4gZnJvbS1zY3JhdGNoIGZsb3csIHNvIG5vIG5lZWQgZm9yIHRoaXNcbiAgbXVsdGlwYXRjaDoge31cbn07XG5cbmV4cG9ydCB7IGVzcmlHZW9tZXRyeVR5cGVzIGFzIGEsIGZlYXR1cmVMYXllclByZWZlcmVuY2VzIGFzIGIsIGVzcmlEYXRhVHlwZXMgYXMgZSwgZmVhdHVyZUxheWVyVHlwZXMgYXMgZiwgZ2VvbWV0cnlUeXBlcyBhcyBnLCByZW5kZXJlcnMgYXMgciB9O1xuIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjMuMC45OVxuICovXG5pbXBvcnQgeyBnIGFzIGdldFJlbmRlcmluZ1JlZiwgZiBhcyBmb3JjZVVwZGF0ZSB9IGZyb20gJy4vaW5kZXgtOTJlYmIzOTYuanMnO1xuXG5jb25zdCBhcHBlbmRUb01hcCA9IChtYXAsIHByb3BOYW1lLCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gbWFwLmdldChwcm9wTmFtZSk7XG4gICAgaWYgKCFpdGVtcykge1xuICAgICAgICBtYXAuc2V0KHByb3BOYW1lLCBbdmFsdWVdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWl0ZW1zLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICBpdGVtcy5wdXNoKHZhbHVlKTtcbiAgICB9XG59O1xuY29uc3QgZGVib3VuY2UgPSAoZm4sIG1zKSA9PiB7XG4gICAgbGV0IHRpbWVvdXRJZDtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSAwO1xuICAgICAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIH0sIG1zKTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBvc3NpYmxlIGVsZW1lbnQgaXNDb25uZWN0ZWQuXG4gKiBUaGUgcHJvcGVydHkgbWlnaHQgbm90IGJlIHRoZXJlLCBzbyB3ZSBjaGVjayBmb3IgaXQuXG4gKlxuICogV2Ugd2FudCBpdCB0byByZXR1cm4gdHJ1ZSBpZiBpc0Nvbm5lY3RlZCBpcyBub3QgYSBwcm9wZXJ0eSxcbiAqIG90aGVyd2lzZSB3ZSB3b3VsZCByZW1vdmUgdGhlc2UgZWxlbWVudHMgYW5kIHdvdWxkIG5vdCB1cGRhdGUuXG4gKlxuICogQmV0dGVyIGxlYWsgaW4gRWRnZSB0aGFuIHRvIGJlIHVzZWxlc3MuXG4gKi9cbmNvbnN0IGlzQ29ubmVjdGVkID0gKG1heWJlRWxlbWVudCkgPT4gISgnaXNDb25uZWN0ZWQnIGluIG1heWJlRWxlbWVudCkgfHwgbWF5YmVFbGVtZW50LmlzQ29ubmVjdGVkO1xuY29uc3QgY2xlYW51cEVsZW1lbnRzID0gZGVib3VuY2UoKG1hcCkgPT4ge1xuICAgIGZvciAobGV0IGtleSBvZiBtYXAua2V5cygpKSB7XG4gICAgICAgIG1hcC5zZXQoa2V5LCBtYXAuZ2V0KGtleSkuZmlsdGVyKGlzQ29ubmVjdGVkKSk7XG4gICAgfVxufSwgMjAwMCk7XG5jb25zdCBzdGVuY2lsU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2V0UmVuZGVyaW5nUmVmICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gYSBzdGVuY2lsIHByb2plY3QsIHdlIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlYWxseSBleHBvcnRlZCBieSBAc3RlbmNpbC9jb3JlLlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGVsbXNUb1VwZGF0ZSA9IG5ldyBNYXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiBlbG1zVG9VcGRhdGUuY2xlYXIoKSxcbiAgICAgICAgZ2V0OiAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsbSA9IGdldFJlbmRlcmluZ1JlZigpO1xuICAgICAgICAgICAgaWYgKGVsbSkge1xuICAgICAgICAgICAgICAgIGFwcGVuZFRvTWFwKGVsbXNUb1VwZGF0ZSwgcHJvcE5hbWUsIGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHByb3BOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IGVsbXNUb1VwZGF0ZS5nZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxtc1RvVXBkYXRlLnNldChwcm9wTmFtZSwgZWxlbWVudHMuZmlsdGVyKGZvcmNlVXBkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwRWxlbWVudHMoZWxtc1RvVXBkYXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIGVsbXNUb1VwZGF0ZS5mb3JFYWNoKChlbG1zKSA9PiBlbG1zLmZvckVhY2goZm9yY2VVcGRhdGUpKTtcbiAgICAgICAgICAgIGNsZWFudXBFbGVtZW50cyhlbG1zVG9VcGRhdGUpO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5jb25zdCB1bndyYXAgPSAodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJyA/IHZhbCgpIDogdmFsKTtcbmNvbnN0IGNyZWF0ZU9ic2VydmFibGVNYXAgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUgPSAoYSwgYikgPT4gYSAhPT0gYikgPT4ge1xuICAgIGNvbnN0IHVud3JhcHBlZFN0YXRlID0gdW53cmFwKGRlZmF1bHRTdGF0ZSk7XG4gICAgbGV0IHN0YXRlcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXModW53cmFwcGVkU3RhdGUgIT09IG51bGwgJiYgdW53cmFwcGVkU3RhdGUgIT09IHZvaWQgMCA/IHVud3JhcHBlZFN0YXRlIDoge30pKTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgZGlzcG9zZTogW10sXG4gICAgICAgIGdldDogW10sXG4gICAgICAgIHNldDogW10sXG4gICAgICAgIHJlc2V0OiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFdoZW4gcmVzZXR0aW5nIHRoZSBzdGF0ZSwgdGhlIGRlZmF1bHQgc3RhdGUgbWF5IGJlIGEgZnVuY3Rpb24gLSB1bndyYXAgaXQgdG8gaW52b2tlIGl0LlxuICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBzdGF0ZSB3b24ndCBiZSBwcm9wZXJseSByZXNldFxuICAgICAgICBzdGF0ZXMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKChfYSA9IHVud3JhcChkZWZhdWx0U3RhdGUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICBoYW5kbGVycy5yZXNldC5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAvLyBDYWxsIGZpcnN0IGRpc3Bvc2UgYXMgcmVzZXR0aW5nIHRoZSBzdGF0ZSB3b3VsZFxuICAgICAgICAvLyBjYXVzZSBsZXNzIHVwZGF0ZXMgOylcbiAgICAgICAgaGFuZGxlcnMuZGlzcG9zZS5mb3JFYWNoKChjYikgPT4gY2IoKSk7XG4gICAgICAgIHJlc2V0KCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXQgPSAocHJvcE5hbWUpID0+IHtcbiAgICAgICAgaGFuZGxlcnMuZ2V0LmZvckVhY2goKGNiKSA9PiBjYihwcm9wTmFtZSkpO1xuICAgICAgICByZXR1cm4gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXQgPSAocHJvcE5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc3RhdGVzLmdldChwcm9wTmFtZSk7XG4gICAgICAgIGlmIChzaG91bGRVcGRhdGUodmFsdWUsIG9sZFZhbHVlLCBwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQocHJvcE5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2IocHJvcE5hbWUsIHZhbHVlLCBvbGRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzdGF0ZSA9ICh0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8ge31cbiAgICAgICAgOiBuZXcgUHJveHkodW53cmFwcGVkU3RhdGUsIHtcbiAgICAgICAgICAgIGdldChfLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQocHJvcE5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG93bktleXMoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlcy5rZXlzKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYXMoXywgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGVzLmhhcyhwcm9wTmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KF8sIHByb3BOYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldChwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IG9uID0gKGV2ZW50TmFtZSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheShoYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBvbkNoYW5nZSA9IChwcm9wTmFtZSwgY2IpID0+IHtcbiAgICAgICAgY29uc3QgdW5TZXQgPSBvbignc2V0JywgKGtleSwgbmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgY2IobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byB1bndyYXAgdGhlIGRlZmF1bHRTdGF0ZSBiZWNhdXNlIGl0IG1pZ2h0IGJlIGEgZnVuY3Rpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBtaWdodCBub3QgYmUgc2VuZGluZyB0aGUgcmlnaHQgcmVzZXQgdmFsdWUuXG4gICAgICAgIGNvbnN0IHVuUmVzZXQgPSBvbigncmVzZXQnLCAoKSA9PiBjYih1bndyYXAoZGVmYXVsdFN0YXRlKVtwcm9wTmFtZV0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHVuU2V0KCk7XG4gICAgICAgICAgICB1blJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB1c2UgPSAoLi4uc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICAgICBjb25zdCB1bnN1YnMgPSBzdWJzY3JpcHRpb25zLnJlZHVjZSgodW5zdWJzLCBzdWJzY3JpcHRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uc2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ3NldCcsIHN1YnNjcmlwdGlvbi5zZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZ2V0KSB7XG4gICAgICAgICAgICAgICAgdW5zdWJzLnB1c2gob24oJ2dldCcsIHN1YnNjcmlwdGlvbi5nZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24ucmVzZXQpIHtcbiAgICAgICAgICAgICAgICB1bnN1YnMucHVzaChvbigncmVzZXQnLCBzdWJzY3JpcHRpb24ucmVzZXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24uZGlzcG9zZSkge1xuICAgICAgICAgICAgICAgIHVuc3Vicy5wdXNoKG9uKCdkaXNwb3NlJywgc3Vic2NyaXB0aW9uLmRpc3Bvc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bnN1YnM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vicy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgfTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdGF0ZXMuZ2V0KGtleSk7XG4gICAgICAgIGhhbmRsZXJzLnNldC5mb3JFYWNoKChjYikgPT4gY2Ioa2V5LCBvbGRWYWx1ZSwgb2xkVmFsdWUpKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIHNldCxcbiAgICAgICAgb24sXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICB1c2UsXG4gICAgICAgIGRpc3Bvc2UsXG4gICAgICAgIHJlc2V0LFxuICAgICAgICBmb3JjZVVwZGF0ZSxcbiAgICB9O1xufTtcbmNvbnN0IHJlbW92ZUZyb21BcnJheSA9IChhcnJheSwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgYXJyYXkubGVuZ3RoLS07XG4gICAgfVxufTtcblxuY29uc3QgY3JlYXRlU3RvcmUgPSAoZGVmYXVsdFN0YXRlLCBzaG91bGRVcGRhdGUpID0+IHtcbiAgICBjb25zdCBtYXAgPSBjcmVhdGVPYnNlcnZhYmxlTWFwKGRlZmF1bHRTdGF0ZSwgc2hvdWxkVXBkYXRlKTtcbiAgICBtYXAudXNlKHN0ZW5jaWxTdWJzY3JpcHRpb24oKSk7XG4gICAgcmV0dXJuIG1hcDtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlIGFzIGMgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuY29uc3QgZmVhdHVyZUxheWVySWNvbkluZm8gPSB7XG4gIHBvaW50OiBcInBvaW50XCIsXG4gIGxpbmU6IFwibGluZVwiLFxuICBwb2x5Z29uOiBcInBvbHlnb25cIixcbiAgbXVsdGlwYXRjaDogXCJjdWJlXCIsXG4gIHRhYmxlOiBcInRhYmxlXCIsXG4gIG11bHRpcG9pbnQ6IFwibGF5ZXItcG9pbnRzXCJcbn07XG5jb25zdCBlc3JpR2VvbWV0cnlJY29ucyA9IHtcbiAgZXNyaUdlb21ldHJ5UG9pbnQ6IFwicG9pbnRcIixcbiAgZXNyaUdlb21ldHJ5UG9seWxpbmU6IFwibGluZVwiLFxuICBlc3JpR2VvbWV0cnlQb2x5Z29uOiBcInBvbHlnb25cIixcbiAgZXNyaUdlb21ldHJ5TXVsdGlQYXRjaDogXCJjdWJlXCIsXG4gIGVzcmlHZW9tZXRyeU11bHRpcG9pbnQ6IFwicG9pbnRcIixcbiAgbm9uZTogXCJ0YWJsZVwiXG59O1xuY29uc3QgZmllbGRUeXBlSWNvbnMgPSB7XG4gIGVzcmlGaWVsZFR5cGVPSUQ6IFwia2V5XCIsXG4gIGVzcmlGaWVsZFR5cGVCb29sZWFuOiBcImJvb2xlYW5cIixcbiAgZXNyaUZpZWxkVHlwZVN0cmluZzogXCJzdHJpbmdcIixcbiAgZXNyaUZpZWxkVHlwZVNpbmdsZTogXCJudW1iZXJcIixcbiAgZXNyaUZpZWxkVHlwZURvdWJsZTogXCJudW1iZXJcIixcbiAgZXNyaUZpZWxkVHlwZUludGVnZXI6IFwiaW50ZWdlclwiLFxuICBlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyOiBcImludGVnZXJcIixcbiAgZXNyaUZpZWxkVHlwZUdsb2JhbElEOiBcImtleVwiLFxuICBlc3JpRmllbGRUeXBlRGF0ZTogXCJkYXRlLXRpbWVcIixcbiAgZXNyaUZpZWxkVHlwZUJpZ0ludGVnZXI6IFwiaW50ZWdlclwiLFxuICBlc3JpRmllbGRUeXBlRGF0ZU9ubHk6IFwiY2FsZW5kYXJcIixcbiAgZXNyaUZpZWxkVHlwZVRpbWVPbmx5OiBcImNsb2NrXCIsXG4gIGVzcmlGaWVsZFR5cGVUaW1lc3RhbXBPZmZzZXQ6IFwidGltZS16b25lXCJcbn07XG5cbmV4cG9ydCB7IGZlYXR1cmVMYXllckljb25JbmZvIGFzIGEsIGVzcmlHZW9tZXRyeUljb25zIGFzIGUsIGZpZWxkVHlwZUljb25zIGFzIGYgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVTdG9yZSB9IGZyb20gJy4vaW5kZXgtODFkNTQ4YjcuanMnO1xuXG5jb25zdCB1aVN0b3JlID0gY3JlYXRlU3RvcmUoe1xuICBuZXh0VGV4dDogXCJuZXh0XCIsXG4gIHdvcmtmbG93OiBcImNvbnRlbnRcIixcbiAgc2NhbGU6IFwibVwiLFxuICBkaXNhYmxlU2Nyb2xsOiBmYWxzZSxcbiAgZmVhdHVyZUZsYWdzOiB7IHRpbGVMYXllcjNkVGlsZXM6IGZhbHNlIH1cbn0pO1xuY29uc3QgdWlTdG9yZVN0YXRlID0gdWlTdG9yZS5zdGF0ZTtcblxuZXhwb3J0IHsgdWlTdG9yZSBhcyBhLCB1aVN0b3JlU3RhdGUgYXMgdSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9