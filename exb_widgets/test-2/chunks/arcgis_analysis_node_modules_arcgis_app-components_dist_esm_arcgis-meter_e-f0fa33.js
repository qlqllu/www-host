"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-meter_e-f0fa33"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-meter.entry.js":
/*!***************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-meter.entry.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_meter: () => (/* binding */ ArcGISMeterElement)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./languageUtil-22258c90.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js");
/* harmony import */ var _util_fd5f9668_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util-fd5f9668.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/util-fd5f9668.js");
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */






const arcgisMeterCss = ".meter{background-color:var(--calcite-ui-foreground-3);width:100%;display:flex;margin-bottom:1rem;height:6px;border-radius:3px}.bar{background-color:var(--calcite-ui-brand);inset-inline-start:0;height:6px;border-radius:3px;flex:0 0 auto}.bar--orange{background-color:#fe583e}.bar--red{background-color:var(--calcite-ui-danger)}.indicator{background-color:var(--calcite-ui-foreground-1);width:0.25rem;height:0.25rem;margin-top:1px;position:relative;flex:0 0 auto;border-radius:2px;-webkit-margin-start:-5px;margin-inline-start:-5px}.percent{width:1.5rem;font-size:0.625rem;position:absolute;text-align:center;top:8px;-webkit-margin-start:-6px;margin-inline-start:-6px}.percent--low{-webkit-margin-start:0;margin-inline-start:0;text-align:start}.percent--high{inset-inline-end:0;inset-inline-start:unset;text-align:end}.percent--max{width:auto;white-space:nowrap;color:var(--calcite-ui-danger)}";

const ArcGISMeterElement = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.api = 4;
    this.max = 100;
    this.min = 0;
    this.maxLabel = undefined;
    this.current = 0;
    this.label = undefined;
    this.formattedPercent = undefined;
  }
  async updatePercent() {
    const percent = this.calculatePercent(true);
    this.formattedPercent = await (0,_languageUtil_22258c90_js__WEBPACK_IMPORTED_MODULE_1__.f)(percent, {
      api: this.api,
      type: "percent",
      places: 2
    });
  }
  calculatePercent(asDecimal) {
    const { max, current } = this;
    return (Math.min(current, max) / max) * (asDecimal ? 1 : 100);
  }
  componentWillLoad() {
    this.updatePercent();
  }
  render() {
    const { min, max, current, label, formattedPercent } = this;
    const percent = this.calculatePercent();
    const showMax = this.maxLabel && percent >= 100;
    const color = (0,_util_fd5f9668_js__WEBPACK_IMPORTED_MODULE_2__.g)(current, max);
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { role: "meter", "aria-valuenow": current, "aria-valuemin": min, "aria-valuemax": max, "aria-label": label, class: "meter" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: `bar bar--${color}`, style: { width: `max(6px, ${percent}%)` } }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "indicator" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: {
        percent: true,
        "percent--low": percent < 10,
        "percent--high": percent > 90,
        "percent--max": showMax
      } }, showMax ? this.maxLabel : formattedPercent || ""))));
  }
  get el() { return (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
  static get watchers() { return {
    "current": ["updatePercent"],
    "max": ["updatePercent"]
  }; }
};
ArcGISMeterElement.style = arcgisMeterCss;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js":
/*!******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/languageUtil-22258c90.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ CSS_UTILITY),
/* harmony export */   a: () => (/* binding */ formatDate),
/* harmony export */   f: () => (/* binding */ formatNumber),
/* harmony export */   g: () => (/* binding */ getElementDir),
/* harmony export */   l: () => (/* binding */ languageMap)
/* harmony export */ });
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */



const languageMap = new Map([
  ["ar", "ar"],
  ["bg", "bg"],
  ["bs", "bs"],
  ["ca", "ca"],
  ["cs", "cs"],
  ["da", "da"],
  ["de", "de"],
  ["el", "el"],
  ["en", "en"],
  ["es", "es"],
  ["et", "et"],
  ["fi", "fi"],
  ["fr", "fr"],
  ["he", "he"],
  ["hr", "hr"],
  ["hu", "hu"],
  ["id", "id"],
  ["it", "it"],
  ["ja", "ja"],
  ["ko", "ko"],
  ["lt", "lt"],
  ["lv", "lv"],
  ["nb", "nb"],
  ["nl", "nl"],
  ["pl", "pl"],
  ["pt-br", "pt-BR"],
  ["pt-pt", "pt-PT"],
  ["ro", "ro"],
  ["ru", "ru"],
  ["sk", "sk"],
  ["sl", "sl"],
  ["sr", "sr"],
  ["sv", "sv"],
  ["th", "th"],
  ["tr", "tr"],
  ["uk", "uk"],
  ["vi", "vi"],
  ["zh-cn", "zh-CN"],
  ["zh-hk", "zh-HK"],
  ["zh-tw", "zh-TW"]
]);
// rtl
function getElementDir(el) {
  return getElementProp(el, "dir", "ltr");
}
function getElementProp(el, prop, value) {
  const closestWithProp = (0,_dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_1__.c)(el, `[${prop}]`);
  return closestWithProp ? closestWithProp.getAttribute(prop) : value;
}
// css
const CSS_UTILITY = {
  rtl: "arcgis--rtl"
};
async function formatNumber(number, options) {
  const { api, type, places } = options || {};
  if (api === 4) {
    const [intl] = await (0,_loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_0__.l)(["esri/intl"]);
    const numberFormatIntlOptions = intl.convertNumberFormatToIntlOptions({
      places,
      style: type,
      digitSeparator: true
    });
    return intl.formatNumber(number, Object.assign(Object.assign({}, numberFormatIntlOptions), { style: type }));
  }
  const [dojoNumber] = await (0,_loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_0__.l)(["dojo/number"]);
  return dojoNumber.format(number, {
    type,
    places,
    pattern: options === null || options === void 0 ? void 0 : options.pattern
  });
}
const cache = {};
function formatDate(date) {
  const lang = document.documentElement.lang;
  const dayShortMonthYear = {
    year: "numeric",
    month: "short",
    day: "numeric"
  };
  if (!cache[lang]) {
    cache[lang] = new Intl.DateTimeFormat(document.documentElement.lang, dayShortMonthYear);
  }
  return cache[lang].format(date);
}




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/util-fd5f9668.js":
/*!**********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/util-fd5f9668.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ getMeterColor)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
function getMeterColor(current, max) {
  const percent = current / max;
  if (percent >= 1 || percent < 0) {
    return "red";
  }
  if (percent > 0.8) {
    return "orange";
  }
  return "blue";
}




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLW1ldGVyX2UtZjBmYTMzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dGO0FBQ2pCO0FBQ1A7QUFDckI7QUFDUjs7QUFFM0IsK0JBQStCLGdEQUFnRCxXQUFXLGFBQWEsbUJBQW1CLFdBQVcsa0JBQWtCLEtBQUsseUNBQXlDLHFCQUFxQixXQUFXLGtCQUFrQixjQUFjLGFBQWEseUJBQXlCLFVBQVUsMENBQTBDLFdBQVcsZ0RBQWdELGNBQWMsZUFBZSxlQUFlLGtCQUFrQixjQUFjLGtCQUFrQiwwQkFBMEIseUJBQXlCLFNBQVMsYUFBYSxtQkFBbUIsa0JBQWtCLGtCQUFrQixRQUFRLDBCQUEwQix5QkFBeUIsY0FBYyx1QkFBdUIsc0JBQXNCLGlCQUFpQixlQUFlLG1CQUFtQix5QkFBeUIsZUFBZSxjQUFjLFdBQVcsbUJBQW1CLCtCQUErQjs7QUFFcDVCO0FBQ0E7QUFDQSxJQUFJLHFEQUFnQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0REFBWTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVksZUFBZTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZDQUE2QztBQUN6RDtBQUNBO0FBQ0Esa0JBQWtCLG9EQUFhO0FBQy9CLFlBQVkscURBQUMsVUFBVSwwSEFBMEgsRUFBRSxxREFBQyxVQUFVLG1CQUFtQixNQUFNLFlBQVksbUJBQW1CLFFBQVEsT0FBTyxHQUFHLHFEQUFDLFVBQVUsb0JBQW9CLEVBQUUscURBQUMsV0FBVztBQUNyUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGFBQWEsT0FBTyxxREFBVTtBQUM5QiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFOEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFEOUM7QUFDQTtBQUNBO0FBQ0E7QUFDNkQ7QUFDYzs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtREFBaUMsU0FBUyxLQUFLO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvQkFBb0I7QUFDOUI7QUFDQSx5QkFBeUIsMkRBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUVBQW1FLDhCQUE4QixhQUFhO0FBQzlHO0FBQ0EsNkJBQTZCLDJEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXNHOzs7Ozs7Ozs7Ozs7Ozs7QUM3RnRHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLW1ldGVyLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2xhbmd1YWdlVXRpbC0yMjI1OGM5MC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS91dGlsLWZkNWY5NjY4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBoLCBkIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTkyZWJiMzk2LmpzJztcbmltcG9ydCB7IGYgYXMgZm9ybWF0TnVtYmVyIH0gZnJvbSAnLi9sYW5ndWFnZVV0aWwtMjIyNThjOTAuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRNZXRlckNvbG9yIH0gZnJvbSAnLi91dGlsLWZkNWY5NjY4LmpzJztcbmltcG9ydCAnLi9sb2FkTW9kdWxlcy1hYWYzMGJkNi5qcyc7XG5pbXBvcnQgJy4vZG9tLTEzZjViMDBjLmpzJztcblxuY29uc3QgYXJjZ2lzTWV0ZXJDc3MgPSBcIi5tZXRlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0zKTt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDttYXJnaW4tYm90dG9tOjFyZW07aGVpZ2h0OjZweDtib3JkZXItcmFkaXVzOjNweH0uYmFye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7aW5zZXQtaW5saW5lLXN0YXJ0OjA7aGVpZ2h0OjZweDtib3JkZXItcmFkaXVzOjNweDtmbGV4OjAgMCBhdXRvfS5iYXItLW9yYW5nZXtiYWNrZ3JvdW5kLWNvbG9yOiNmZTU4M2V9LmJhci0tcmVke2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfS5pbmRpY2F0b3J7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSk7d2lkdGg6MC4yNXJlbTtoZWlnaHQ6MC4yNXJlbTttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjpyZWxhdGl2ZTtmbGV4OjAgMCBhdXRvO2JvcmRlci1yYWRpdXM6MnB4Oy13ZWJraXQtbWFyZ2luLXN0YXJ0Oi01cHg7bWFyZ2luLWlubGluZS1zdGFydDotNXB4fS5wZXJjZW50e3dpZHRoOjEuNXJlbTtmb250LXNpemU6MC42MjVyZW07cG9zaXRpb246YWJzb2x1dGU7dGV4dC1hbGlnbjpjZW50ZXI7dG9wOjhweDstd2Via2l0LW1hcmdpbi1zdGFydDotNnB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6LTZweH0ucGVyY2VudC0tbG93ey13ZWJraXQtbWFyZ2luLXN0YXJ0OjA7bWFyZ2luLWlubGluZS1zdGFydDowO3RleHQtYWxpZ246c3RhcnR9LnBlcmNlbnQtLWhpZ2h7aW5zZXQtaW5saW5lLWVuZDowO2luc2V0LWlubGluZS1zdGFydDp1bnNldDt0ZXh0LWFsaWduOmVuZH0ucGVyY2VudC0tbWF4e3dpZHRoOmF1dG87d2hpdGUtc3BhY2U6bm93cmFwO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKX1cIjtcblxuY29uc3QgQXJjR0lTTWV0ZXJFbGVtZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmFwaSA9IDQ7XG4gICAgdGhpcy5tYXggPSAxMDA7XG4gICAgdGhpcy5taW4gPSAwO1xuICAgIHRoaXMubWF4TGFiZWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jdXJyZW50ID0gMDtcbiAgICB0aGlzLmxhYmVsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZm9ybWF0dGVkUGVyY2VudCA9IHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyB1cGRhdGVQZXJjZW50KCkge1xuICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmNhbGN1bGF0ZVBlcmNlbnQodHJ1ZSk7XG4gICAgdGhpcy5mb3JtYXR0ZWRQZXJjZW50ID0gYXdhaXQgZm9ybWF0TnVtYmVyKHBlcmNlbnQsIHtcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICB0eXBlOiBcInBlcmNlbnRcIixcbiAgICAgIHBsYWNlczogMlxuICAgIH0pO1xuICB9XG4gIGNhbGN1bGF0ZVBlcmNlbnQoYXNEZWNpbWFsKSB7XG4gICAgY29uc3QgeyBtYXgsIGN1cnJlbnQgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChNYXRoLm1pbihjdXJyZW50LCBtYXgpIC8gbWF4KSAqIChhc0RlY2ltYWwgPyAxIDogMTAwKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLnVwZGF0ZVBlcmNlbnQoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtaW4sIG1heCwgY3VycmVudCwgbGFiZWwsIGZvcm1hdHRlZFBlcmNlbnQgfSA9IHRoaXM7XG4gICAgY29uc3QgcGVyY2VudCA9IHRoaXMuY2FsY3VsYXRlUGVyY2VudCgpO1xuICAgIGNvbnN0IHNob3dNYXggPSB0aGlzLm1heExhYmVsICYmIHBlcmNlbnQgPj0gMTAwO1xuICAgIGNvbnN0IGNvbG9yID0gZ2V0TWV0ZXJDb2xvcihjdXJyZW50LCBtYXgpO1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IHJvbGU6IFwibWV0ZXJcIiwgXCJhcmlhLXZhbHVlbm93XCI6IGN1cnJlbnQsIFwiYXJpYS12YWx1ZW1pblwiOiBtaW4sIFwiYXJpYS12YWx1ZW1heFwiOiBtYXgsIFwiYXJpYS1sYWJlbFwiOiBsYWJlbCwgY2xhc3M6IFwibWV0ZXJcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IGBiYXIgYmFyLS0ke2NvbG9yfWAsIHN0eWxlOiB7IHdpZHRoOiBgbWF4KDZweCwgJHtwZXJjZW50fSUpYCB9IH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiaW5kaWNhdG9yXCIgfSwgaChcInNwYW5cIiwgeyBjbGFzczoge1xuICAgICAgICBwZXJjZW50OiB0cnVlLFxuICAgICAgICBcInBlcmNlbnQtLWxvd1wiOiBwZXJjZW50IDwgMTAsXG4gICAgICAgIFwicGVyY2VudC0taGlnaFwiOiBwZXJjZW50ID4gOTAsXG4gICAgICAgIFwicGVyY2VudC0tbWF4XCI6IHNob3dNYXhcbiAgICAgIH0gfSwgc2hvd01heCA/IHRoaXMubWF4TGFiZWwgOiBmb3JtYXR0ZWRQZXJjZW50IHx8IFwiXCIpKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImN1cnJlbnRcIjogW1widXBkYXRlUGVyY2VudFwiXSxcbiAgICBcIm1heFwiOiBbXCJ1cGRhdGVQZXJjZW50XCJdXG4gIH07IH1cbn07XG5BcmNHSVNNZXRlckVsZW1lbnQuc3R5bGUgPSBhcmNnaXNNZXRlckNzcztcblxuZXhwb3J0IHsgQXJjR0lTTWV0ZXJFbGVtZW50IGFzIGFyY2dpc19tZXRlciB9O1xuIiwiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjMuMC45OVxuICovXG5pbXBvcnQgeyBsIGFzIGxvYWRNb2R1bGVzIH0gZnJvbSAnLi9sb2FkTW9kdWxlcy1hYWYzMGJkNi5qcyc7XG5pbXBvcnQgeyBjIGFzIGNsb3Nlc3RFbGVtZW50Q3Jvc3NTaGFkb3dCb3VuZGFyeSB9IGZyb20gJy4vZG9tLTEzZjViMDBjLmpzJztcblxuY29uc3QgbGFuZ3VhZ2VNYXAgPSBuZXcgTWFwKFtcbiAgW1wiYXJcIiwgXCJhclwiXSxcbiAgW1wiYmdcIiwgXCJiZ1wiXSxcbiAgW1wiYnNcIiwgXCJic1wiXSxcbiAgW1wiY2FcIiwgXCJjYVwiXSxcbiAgW1wiY3NcIiwgXCJjc1wiXSxcbiAgW1wiZGFcIiwgXCJkYVwiXSxcbiAgW1wiZGVcIiwgXCJkZVwiXSxcbiAgW1wiZWxcIiwgXCJlbFwiXSxcbiAgW1wiZW5cIiwgXCJlblwiXSxcbiAgW1wiZXNcIiwgXCJlc1wiXSxcbiAgW1wiZXRcIiwgXCJldFwiXSxcbiAgW1wiZmlcIiwgXCJmaVwiXSxcbiAgW1wiZnJcIiwgXCJmclwiXSxcbiAgW1wiaGVcIiwgXCJoZVwiXSxcbiAgW1wiaHJcIiwgXCJoclwiXSxcbiAgW1wiaHVcIiwgXCJodVwiXSxcbiAgW1wiaWRcIiwgXCJpZFwiXSxcbiAgW1wiaXRcIiwgXCJpdFwiXSxcbiAgW1wiamFcIiwgXCJqYVwiXSxcbiAgW1wia29cIiwgXCJrb1wiXSxcbiAgW1wibHRcIiwgXCJsdFwiXSxcbiAgW1wibHZcIiwgXCJsdlwiXSxcbiAgW1wibmJcIiwgXCJuYlwiXSxcbiAgW1wibmxcIiwgXCJubFwiXSxcbiAgW1wicGxcIiwgXCJwbFwiXSxcbiAgW1wicHQtYnJcIiwgXCJwdC1CUlwiXSxcbiAgW1wicHQtcHRcIiwgXCJwdC1QVFwiXSxcbiAgW1wicm9cIiwgXCJyb1wiXSxcbiAgW1wicnVcIiwgXCJydVwiXSxcbiAgW1wic2tcIiwgXCJza1wiXSxcbiAgW1wic2xcIiwgXCJzbFwiXSxcbiAgW1wic3JcIiwgXCJzclwiXSxcbiAgW1wic3ZcIiwgXCJzdlwiXSxcbiAgW1widGhcIiwgXCJ0aFwiXSxcbiAgW1widHJcIiwgXCJ0clwiXSxcbiAgW1widWtcIiwgXCJ1a1wiXSxcbiAgW1widmlcIiwgXCJ2aVwiXSxcbiAgW1wiemgtY25cIiwgXCJ6aC1DTlwiXSxcbiAgW1wiemgtaGtcIiwgXCJ6aC1IS1wiXSxcbiAgW1wiemgtdHdcIiwgXCJ6aC1UV1wiXVxuXSk7XG4vLyBydGxcbmZ1bmN0aW9uIGdldEVsZW1lbnREaXIoZWwpIHtcbiAgcmV0dXJuIGdldEVsZW1lbnRQcm9wKGVsLCBcImRpclwiLCBcImx0clwiKTtcbn1cbmZ1bmN0aW9uIGdldEVsZW1lbnRQcm9wKGVsLCBwcm9wLCB2YWx1ZSkge1xuICBjb25zdCBjbG9zZXN0V2l0aFByb3AgPSBjbG9zZXN0RWxlbWVudENyb3NzU2hhZG93Qm91bmRhcnkoZWwsIGBbJHtwcm9wfV1gKTtcbiAgcmV0dXJuIGNsb3Nlc3RXaXRoUHJvcCA/IGNsb3Nlc3RXaXRoUHJvcC5nZXRBdHRyaWJ1dGUocHJvcCkgOiB2YWx1ZTtcbn1cbi8vIGNzc1xuY29uc3QgQ1NTX1VUSUxJVFkgPSB7XG4gIHJ0bDogXCJhcmNnaXMtLXJ0bFwiXG59O1xuYXN5bmMgZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlciwgb3B0aW9ucykge1xuICBjb25zdCB7IGFwaSwgdHlwZSwgcGxhY2VzIH0gPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoYXBpID09PSA0KSB7XG4gICAgY29uc3QgW2ludGxdID0gYXdhaXQgbG9hZE1vZHVsZXMoW1wiZXNyaS9pbnRsXCJdKTtcbiAgICBjb25zdCBudW1iZXJGb3JtYXRJbnRsT3B0aW9ucyA9IGludGwuY29udmVydE51bWJlckZvcm1hdFRvSW50bE9wdGlvbnMoe1xuICAgICAgcGxhY2VzLFxuICAgICAgc3R5bGU6IHR5cGUsXG4gICAgICBkaWdpdFNlcGFyYXRvcjogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBpbnRsLmZvcm1hdE51bWJlcihudW1iZXIsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbnVtYmVyRm9ybWF0SW50bE9wdGlvbnMpLCB7IHN0eWxlOiB0eXBlIH0pKTtcbiAgfVxuICBjb25zdCBbZG9qb051bWJlcl0gPSBhd2FpdCBsb2FkTW9kdWxlcyhbXCJkb2pvL251bWJlclwiXSk7XG4gIHJldHVybiBkb2pvTnVtYmVyLmZvcm1hdChudW1iZXIsIHtcbiAgICB0eXBlLFxuICAgIHBsYWNlcyxcbiAgICBwYXR0ZXJuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucGF0dGVyblxuICB9KTtcbn1cbmNvbnN0IGNhY2hlID0ge307XG5mdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUpIHtcbiAgY29uc3QgbGFuZyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nO1xuICBjb25zdCBkYXlTaG9ydE1vbnRoWWVhciA9IHtcbiAgICB5ZWFyOiBcIm51bWVyaWNcIixcbiAgICBtb250aDogXCJzaG9ydFwiLFxuICAgIGRheTogXCJudW1lcmljXCJcbiAgfTtcbiAgaWYgKCFjYWNoZVtsYW5nXSkge1xuICAgIGNhY2hlW2xhbmddID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcsIGRheVNob3J0TW9udGhZZWFyKTtcbiAgfVxuICByZXR1cm4gY2FjaGVbbGFuZ10uZm9ybWF0KGRhdGUpO1xufVxuXG5leHBvcnQgeyBDU1NfVVRJTElUWSBhcyBDLCBmb3JtYXREYXRlIGFzIGEsIGZvcm1hdE51bWJlciBhcyBmLCBnZXRFbGVtZW50RGlyIGFzIGcsIGxhbmd1YWdlTWFwIGFzIGwgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuZnVuY3Rpb24gZ2V0TWV0ZXJDb2xvcihjdXJyZW50LCBtYXgpIHtcbiAgY29uc3QgcGVyY2VudCA9IGN1cnJlbnQgLyBtYXg7XG4gIGlmIChwZXJjZW50ID49IDEgfHwgcGVyY2VudCA8IDApIHtcbiAgICByZXR1cm4gXCJyZWRcIjtcbiAgfVxuICBpZiAocGVyY2VudCA+IDAuOCkge1xuICAgIHJldHVybiBcIm9yYW5nZVwiO1xuICB9XG4gIHJldHVybiBcImJsdWVcIjtcbn1cblxuZXhwb3J0IHsgZ2V0TWV0ZXJDb2xvciBhcyBnIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=