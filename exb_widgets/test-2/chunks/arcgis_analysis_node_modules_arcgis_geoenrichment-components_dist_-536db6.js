"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-536db6"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/ImageryTileLayer-fcbf444b.js":
/*!********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/ImageryTileLayer-fcbf444b.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _MultiOriginJSONSupport_3469f40f_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MultiOriginJSONSupport-3469f40f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MultiOriginJSONSupport-3469f40f.js");
/* harmony import */ var _OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OperationalLayer-733d50fd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OperationalLayer-733d50fd.js");
/* harmony import */ var _rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./rasterRendererHelper-f8a2a057.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/rasterRendererHelper-f8a2a057.js");
/* harmony import */ var _BlendLayer_cdc29520_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BlendLayer-cdc29520.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/BlendLayer-cdc29520.js");
/* harmony import */ var _PortalLayer_339fca21_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PortalLayer-339fca21.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalLayer-339fca21.js");
/* harmony import */ var _RefreshableLayer_fde13f12_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./RefreshableLayer-fde13f12.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/RefreshableLayer-fde13f12.js");
/* harmony import */ var _ScaleRangeLayer_70c3898e_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ScaleRangeLayer-70c3898e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/ScaleRangeLayer-70c3898e.js");
/* harmony import */ var _popupUtils_71f17418_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./popupUtils-71f17418.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/popupUtils-71f17418.js");
/* harmony import */ var _arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./arcgisLayerUrl-36b3c3ab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js");
/* harmony import */ var _TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TileInfo-639e5038.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js");
/* harmony import */ var _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./RasterSymbolizer-f5f7b0ab.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/RasterSymbolizer-f5f7b0ab.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");
/* harmony import */ var _projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./projection-39da86d7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/projection-39da86d7.js");
/* harmony import */ var _vec3f64_22c0b6cc_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./vec3f64-22c0b6cc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/vec3f64-22c0b6cc.js");
/* harmony import */ var _vec3_a7a72382_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./vec3-a7a72382.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/vec3-a7a72382.js");
/* harmony import */ var _mat4_dbd368d4_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./mat4-dbd368d4.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/mat4-dbd368d4.js");
/* harmony import */ var _TilemapCache_2fea516d_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./TilemapCache-2fea516d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TilemapCache-2fea516d.js");
/* harmony import */ var _index_4a62c63d_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./index-4a62c63d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/index-4a62c63d.js");
/* harmony import */ var _TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./TimeExtent-7f857a39.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeExtent-7f857a39.js");
/* harmony import */ var _lengthUtils_ba54deb2_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./lengthUtils-ba54deb2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/lengthUtils-ba54deb2.js");
/* harmony import */ var _workers_e0859213_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./workers-e0859213.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/workers-e0859213.js");
/* harmony import */ var _UniqueValueRenderer_caf388bd_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./UniqueValueRenderer-caf388bd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/UniqueValueRenderer-caf388bd.js");
/* harmony import */ var _ColorStop_2c8ec076_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ColorStop-2c8ec076.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/ColorStop-2c8ec076.js");
/* harmony import */ var _styleUtils_6019f3b9_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./styleUtils-6019f3b9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/styleUtils-6019f3b9.js");
/* harmony import */ var _sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./sizeVariableUtils-4395730d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/sizeVariableUtils-4395730d.js");
/* harmony import */ var _visualVariableUtils_9b8e388f_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./visualVariableUtils-9b8e388f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/visualVariableUtils-9b8e388f.js");
/* harmony import */ var _diffUtils_d9afbcb3_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./diffUtils-d9afbcb3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/diffUtils-d9afbcb3.js");
/* harmony import */ var _normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./normalizeUtils-69f83c05.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js");
/* harmony import */ var _asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./asyncUtils-af782857.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/asyncUtils-af782857.js");
/* harmony import */ var _ItemCache_fcdda33e_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./ItemCache-fcdda33e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/ItemCache-fcdda33e.js");
/* harmony import */ var _MemCache_54630689_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./MemCache-54630689.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MemCache-54630689.js");
/* harmony import */ var _PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./PortalItem-036182cd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalItem-036182cd.js");
/* harmony import */ var _aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./aaBoundingRect-61971fe3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingRect-61971fe3.js");
/* harmony import */ var _commonjsHelpers_9577ff78_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./_commonjsHelpers-9577ff78.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/_commonjsHelpers-9577ff78.js");
/* harmony import */ var _LercCodec_4a3a5a71_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./LercCodec-4a3a5a71.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/LercCodec-4a3a5a71.js");
/* harmony import */ var _colorUtils_c85d85b1_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./colorUtils-c85d85b1.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/colorUtils-c85d85b1.js");
/* harmony import */ var _LRUCache_08b0cc1c_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./LRUCache-08b0cc1c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/LRUCache-08b0cc1c.js");








































/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const J=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.mixins.ImageryTileMixin"),x$4=r=>{let x=class extends r{constructor(){super(...arguments),this._rasterJobHandler={instance:null,refCount:0,connectionPromise:null},this.bandIds=null,this.copyright=null,this.fullExtent=null,this.interpolation="nearest",this.raster=null,this.rasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.tileInfo=null,this.symbolizer=null;}set multidimensionalDefinition(e){this.raster&&(this._sliceId=this.raster.getSliceIndex(e)),this._set("multidimensionalDefinition",e);}set url(e){this._set("url",(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_10__.y)(e,J));}set renderer(e){this._set("renderer",e),this.updateRenderer();}async updateRenderer(){if(!this.loaded)return;if(JSON.stringify(this._cachedRendererJson)===JSON.stringify(this.renderer))return;const e=this._rasterJobHandler.instance;e&&(this.symbolizer.rendererJSON=(0,_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.K)(this.renderer.toJSON()),this.symbolizer.bind(),await e.updateSymbolizer(this.symbolizer),this._cachedRendererJson=this.renderer.toJSON());}async applyRenderer(e,t){const r=e&&e.pixelBlock;if(!(r&&r.pixels&&r.pixels.length>0))return null;let i;this.updateRenderer();const s=this._rasterJobHandler.instance,{bandIds:n}=this;return i=s?await s.symbolize({...e,simpleStretchParams:t,bandIds:n}):this.symbolizer.symbolize({...e,simpleStretchParams:t,bandIds:n}),i}getTileUrl(e,t,r){return "RasterTileServer"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${r}`:""}getCompatibleTileInfo(e,t){if(!this.loaded)return null;const r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(e);return _TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__.x.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent&&this._compatibleFullExtent.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,t,r,i={}){if(i.requestAsImageElement){const s=this.getTileUrl(e,t,r);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(s,{responseType:"image",query:{sliceId:this._sliceId,_ts:i.timestamp},signal:i.signal}).then((e=>e.data))}await this._initJobHandler();const s="raster-shaded-relief"===this.renderer.type?{cols:1,rows:1}:null;if(this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,buffer:s,...i};}return this.raster.fetchTile(e,t,r,i)}async fetchPixels(e,t,r,i){if(await this._initJobHandler(),this.multidimensionalDefinition){const e=this._sliceId;i={multidimensionalDefinition:this.multidimensionalDefinition,sliceId:e,...i};}return this.raster.fetchPixels(e,t,r,i)}identify(e,t={}){return this.multidimensionalDefinition&&!t.multidimensionalDefinition&&(t={...t,multidimensionalDefinition:this.multidimensionalDefinition}),this.raster.identify(e,t)}increaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount++;}decreaseRasterJobHandlerUsage(){this._rasterJobHandler.refCount--,this._rasterJobHandler.refCount<=0&&this._shutdownJobHandler();}_configDefaultSettings(){this._configDefaultInterpolation(),this._configDefaultSlice(),this._configDefaultRenderer();}_initJobHandler(){if(null!=this._rasterJobHandler.connectionPromise)return this._rasterJobHandler.connectionPromise;const e=new _rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.b;return this._rasterJobHandler.connectionPromise=e.initialize().then((()=>{this._rasterJobHandler.instance=e,this.raster.rasterJobHandler=e,this.renderer&&this.updateRenderer();})).catch((()=>null)),this._rasterJobHandler.connectionPromise}_shutdownJobHandler(){this._rasterJobHandler.instance&&this._rasterJobHandler.instance.destroy(),this._rasterJobHandler.instance=null,this._rasterJobHandler.connectionPromise=null,this._rasterJobHandler.refCount=0,this.raster.rasterJobHandler=null;}_configDefaultInterpolation(){if(null==this.interpolation){var e;const t=(0,_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.M)(this.rasterInfo,this.raster.tileType,null==(e=this.sourceJSON)?void 0:e.defaultResamplingMethod);this._set("interpolation",t);}}_configDefaultSlice(){const{multidimensionalInfo:e}=this.raster.rasterInfo;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)){if(!this.multidimensionalDefinition){const t=e.variables[0],r=[];t.dimensions.forEach((e=>{r.push(new _rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.a({variableName:t.name,dimensionName:e.name,values:e.hasRegularIntervals?e.extent[0]:e.values[0],isSlice:!0}));})),this.multidimensionalDefinition=r;}this._sliceId=this.raster.getSliceIndex(this.multidimensionalDefinition);}}_configDefaultRenderer(){const e=this.raster.rasterInfo;var t,r;(this.bandIds||(this.bandIds=(0,_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.V)(e)),this.renderer)||(this.renderer=(0,_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.j)(e,{bandIds:this.bandIds,variableName:null==(t=this.multidimensionalDefinition)||null==(r=t[0])?void 0:r.variableName}));this.symbolizer?(this.symbolizer.rendererJSON=(0,_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.K)(this.renderer.toJSON()),this.symbolizer.rasterInfo=e):this.symbolizer=new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.N({rendererJSON:this.renderer.toJSON(),rasterInfo:e}),this.symbolizer.bind()||J.warn("imagery-tile-mixin","The given renderer is not supported by the layer.");}};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"_cachedRendererJson",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"_sliceId",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"_compatibleFullExtent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"_rasterJobHandler",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"bandIds",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"copyright",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M}),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b$)("rasterInfo.extent")],x.prototype,"fullExtent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"interpolation",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"ioConfig",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:[_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.a]})],x.prototype,"multidimensionalDefinition",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"raster",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0}),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b$)("raster.rasterInfo")],x.prototype,"rasterInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"sourceJSON",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O}),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b$)("rasterInfo.spatialReference")],x.prototype,"spatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__.x}),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b$)("rasterInfo.storageInfo.tileInfo")],x.prototype,"tileInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)(_OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_3__.f)],x.prototype,"url",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({types:_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.d})],x.prototype,"renderer",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"symbolizer",void 0),x=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.ImageryTileMixin")],x),x};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let s=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.blockBoundary=null;}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],s.prototype,"blockWidth",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],s.prototype,"blockHeight",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],s.prototype,"compression",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q,json:{write:!0}})],s.prototype,"origin",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],s.prototype,"firstPyramidLevel",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],s.prototype,"maximumPyramidLevel",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],s.prototype,"pyramidScalingFactor",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],s.prototype,"pyramidBlockWidth",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],s.prototype,"pyramidBlockHeight",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,json:{write:!0}})],s.prototype,"isVirtualTileInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],s.prototype,"tileInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],s.prototype,"blockBoundary",void 0),s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.RasterStorageInfo")],s);var p$2=s;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const u$4=5e-4,m$3=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return !(e.equals(n)||t)},p$1=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return [Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},f$1=32;async function h$2(){if((0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.V)()||!(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.X)())return null;await (0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.D)();}function M(n,o,r,s=null){if(n.spatialReference.equals(o))return n;const l=m$3(n.spatialReference,o);if(l&&!(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.V)())throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("rasterprojectionhelper-projectResolution","projection engine is not loaded");const c=r.center,u=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:c.x-n.x/2,xmax:c.x+n.x/2,ymin:c.y-n.y/2,ymax:c.y+n.y/2,spatialReference:n.spatialReference}),p=l?(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.H)(u,o,s):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(u,o);if(null==p)return null;return {x:p.xmax-p.xmin,y:p.ymax-p.ymin}}function w$2(e,n=.01){return (0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_13__.G)(e)?n/(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_13__.G)(e):0}function d$2(o,i,r=null,s=!0){const l=o.spatialReference;if(l.equals(i))return o;const c=m$3(l,i);if(c&&!(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.V)())throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("rasterprojectionhelper-projectResolution","projection engine is not loaded");const p=c?(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.H)(o,i,r):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(o,i);if(p&&s&&i.isGeographic){var f,h;const[e,t]=l.isWebMercator?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(l).origin:null!=(f=null==(h=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(l))?void 0:h.valid)?f:[],i=w$2(l);i&&null!=e&&null!=t&&(Math.abs(o.x-e)<i&&Math.abs(180-p.x)<u$4?p.x-=360:Math.abs(o.x-t)<i&&Math.abs(180+p.x)<u$4&&(p.x+=360));}return p}function g$2(i,r,s=null,l=!0){var c,p,f,h;const y=i.spatialReference;if(y.equals(r))return i;const M=m$3(y,r);if(M&&!(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.V)())throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("rasterprojectionhelper-projectExtent","projection engine is not loaded");const g=M?(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.H)(i,r,s):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(i,r);let[R,j]=null!=(c=null==(p=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(y))?void 0:p.origin)?c:[];if(g&&l&&y.isWebMercator&&r.isGeographic&&null!=R&&null!=j){const e=.001,n=1e3;if(Math.abs(i.xmin-R)<e&&Math.abs(j-i.xmax)>n&&Math.abs(180-g.xmax)<u$4){g.xmin=-180;const e=[];e.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i.xmax,i.ymin,y)),e.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i.xmax,(i.ymin+i.ymax)/2,y)),e.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i.xmax,i.ymax,y));const n=e.map((e=>d$2(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmax=Math.max.apply(null,n);}if(Math.abs(i.xmax-j)<e&&Math.abs(R-i.xmin)>n&&Math.abs(180+g.xmin)<u$4){g.xmax=180;const e=[];e.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i.xmin,i.ymin,y)),e.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i.xmin,(i.ymin+i.ymax)/2,y)),e.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i.xmin,i.ymax,y));const n=e.map((e=>d$2(e,r,s))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));g.xmin=Math.min.apply(null,n);}}[R,j]=r.isWebMercator?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(r).origin:null!=(f=null==(h=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(r))?void 0:h.valid)?f:[];const b=w$2(r);return b&&null!=R&&null!=j&&(Math.abs(g.xmin-R)<b&&(g.xmin=R),Math.abs(g.xmax-j)<b&&(g.xmax=j)),g}function R$1(t,i,r,s=null,l=null,c=!1,x=[f$1,f$1]){var u,h;if(m$3(t.spatialReference,i.spatialReference)&&!(0,_projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_14__.V)())throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("rasterprojectionhelper-projectResolution","projection engine is not loaded");if(!(t&&i&&r))return null;const{xmin:y,ymin:M,xmax:w,ymax:g}=t,R=t.spatialReference,j=i.spatialReference,[b,v]=null!=(u=null==(h=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(R))?void 0:h.valid)?u:[],N={x:x[0]*r.x,y:x[1]*r.y},S={cols:Math.ceil((w-y)/N.x-.1)+1,rows:Math.ceil((g-M)/N.y-.1)+1},z=N.x,W=N.y,G=[];let P,L=!1;for(let e=0;e<S.cols;e++){const n=[];for(let t=0;t<S.rows;t++){let r=d$2(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:y+z*e,y:g-W*t,spatialReference:R}),j,s);l&&(r=l.inverseTransform(r)),n.push(r),e>0&&c&&r&&P[t]&&null!=b&&r.x<P[t].x&&(r.x+=v-b),r?(G.push((r.x-i.xmin)/(i.xmax-i.xmin)),G.push((i.ymax-r.y)/(i.ymax-i.ymin))):(G.push(NaN),G.push(NaN),L=!0);}P=n;}const q=p$1(G,S),A=new Float32Array((S.cols-1)*(S.rows-1)*2*6),E=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),F=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<S.cols-1;e++){for(let n=0;n<S.rows-1;n++){let t=e*S.rows*2+2*n;const o=G[t],i=G[t+1],r=G[t+2],a=G[t+3];t+=2*S.rows;const s=G[t],l=G[t+1],c=G[t+2],x=G[t+3];let u=0,m=12*(n*(S.cols-1)+e);for(let e=0;e<3;e++)A[m++]=E[u++]*o+E[u++]*r+E[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=E[u++]*i+E[u++]*a+E[u++]*x;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*o+F[u++]*s+F[u++]*c;u=0;for(let e=0;e<3;e++)A[m++]=F[u++]*i+F[u++]*l+F[u++]*x;}if(L)for(let e=0;e<A.length;e++)isNaN(A[e])&&(A[e]=-1);}return {offsets:G,error:q,coefficients:A,spacing:x,size:[S.cols-1,S.rows-1]}}function j(e,n,t){const i=Math.log(e.x/n.pixelSize.x)/Math.LN2,r=Math.log(e.y/n.pixelSize.y)/Math.LN2,a=n.storageInfo.maximumPyramidLevel||0;let s="down"===t?Math.floor(Math.min(i,r)):"up"===t?Math.ceil(Math.max(i,r)):Math.round((i+r)/2),l=!1;s<0?s=0:s>a&&(l=s>a+3,s=a);const c=2**s;return {pyramidLevel:s,pyramidResolution:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:c*n.nativePixelSize.x,y:c*n.nativePixelSize.y,spatialReference:n.spatialReference}),excessiveReading:l}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t$3{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e);}decreaseRefCount(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+"/"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++;}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer();}deleteBlock(t,e){const s=this._cachedBlocks,r=t+"/"+e;s.has(r)&&s.delete(r);}updateMaxSize(t){this._size=t,this.trim();}empty(){this._cachedBlocks.clear(),this.clearTimer();}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer();}),this._interval);}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0]);}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const c$3=new Map,a$1=new t$3;function i$2(e,t){return null==t?e:`${e}?sliceId=${t}`}function h$1(e,t,n){if(!c$3.has(e))return null==t?a$1.decreaseRefCount(e,n):0;const o=c$3.get(e);if(null==o[t])return a$1.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort();}return e.refCount}return 0}function m$2(e,t,n){if(!c$3.has(e))return null==t?a$1.getBlock(e,n):null;const o=c$3.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a$1.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x$3(e,t,n,o,r=null){if(!c$3.has(e))return void(null==t&&a$1.putBlock(e,n,o,r));const l=c$3.get(e);if(null==l[t])return void a$1.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i);}function d$1(e,t,n){if(!c$3.has(e))return void(null==t&&a$1.deleteBlock(e,n));const o=c$3.get(e);null!=o[t]?o[t].cache.delete(n):a$1.deleteBlock(e,n);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let S=class extends((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bD)(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao)){constructor(){super(...arguments),this.rasterJobHandler=null,this.datasetName=null,this.datasetFormat=null,this.rasterInfo=null,this.ioConfig={sampling:"closest"};}async init(){const e=h$2();this.addResolvingPromise(e),await this.when();}normalizeCtorArgs(e){return e&&e.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:"closest",tileInfo:_TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__.x.create(),...e.ioConfig}}),e}set url(e){this._set("url",(0,_arcgisLayerUrl_36b3c3ab_js__WEBPACK_IMPORTED_MODULE_10__.y)(e,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger(this.declaredClass)));}async open(e){throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("BaseRaster:open-not-implemented","open() is not implemented")}async fetchTile(e,r,o,i={}){var n;const{tileInfo:s}=i,a=s.lodAt(e),l=this.getTileExtent({x:a.resolution,y:a.resolution},r,o,s.origin,s.spatialReference,s.size);return null!=(n=i.multidimensionalDefinition)&&n.length&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.rasterInfo.multidimensionalInfo)&&null==i.sliceId&&(i={...i,sliceId:this.getSliceIndex(i.multidimensionalDefinition)||0}),this.fetchPixels(l,s.size[0],s.size[1],i)}async identify(e,r={}){const{spatialReference:o,extent:i}=this.rasterInfo,{datumTransformation:n}=r;let s=d$2(e,o,n);if(!i.intersects(s))return {location:s,value:null};if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.rasterInfo.transform)){const e=this.rasterInfo.transform.inverseTransform(s);if(!this.rasterInfo.nativeExtent.intersects(e))return {location:e,value:null};s=e;}let a=0;if(r.srcResolution){a=j(r.srcResolution,this.rasterInfo,this.ioConfig.sampling).pyramidLevel;}else if(a=await this.computeBestPyramidLevelForLocation(e,r),null==a)return {location:s,value:null};const l=this.identifyPixelLocation(s,a,null);if(null===l)return {location:s,value:null};const{row:c,col:u,rowOffset:m,colOffset:f}=l,h=i$2(this.url,r.sliceId),d=`${a}/${c}/${u}`;let p=m$2(h,null,d);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(p)||(p=this.fetchRawTile(a,c,u,r),x$3(h,null,d,p));const x=await p;if(!(x&&x.pixels&&x.pixels.length>0))return {location:s,value:null};const y=m*this.rasterInfo.storageInfo.blockHeight+f;return {location:s,value:!x.mask||x.mask[y]?x.pixels.map((e=>e[y])):null,pyramidLevel:a}}async fetchPixels(e,t,o,i={}){const n=e.clone().normalize();e=n[0];const s=this.rasterInfo.spatialReference,a=!e.spatialReference.equals(s),{datumTransformation:l}=i,c=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/o,spatialReference:e.spatialReference}),m=i.srcResolution||(a?M(c,s,e,l):c);if(!m)return null;const{pyramidLevel:f,pyramidResolution:h,excessiveReading:d}=j(m,this.rasterInfo,this.ioConfig.sampling);if(d)return null;const p=this.rasterInfo.storageInfo;let x=a?g$2(e,s,l):e;const y=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(this.rasterInfo.transform);if(y&&(x=y.inverseTransform(x)),null==x)return null;const I={x:Math.floor((x.xmin-p.origin.x)/h.x+.1),y:Math.floor((p.origin.y-x.ymax)/h.y+.1)},k=Math.ceil((x.xmax-x.xmin)/h.x-.1),v=Math.ceil((x.ymax-x.ymin)/h.y-.1);if(k/t>8||v/o>8)return null;const B=await this.fetchRawPixels(f,I,{width:k,height:v},i);if(!B)return null;const P=f>0?p.pyramidBlockWidth:p.blockWidth,j$1=f>0?p.pyramidBlockHeight:p.blockHeight;if(!a&&1===B.pixelBlocks.length&&P===t&&j$1===o&&m.x===c.x&&m.y===c.y)return {extent:e,srcExtent:x,pixelBlock:B.pixelBlocks[0]};const T=R$1(e,B.extent,c,l,y);let F;const S=!i.requestRawData,L={rows:T.spacing[0],cols:T.spacing[1]},{pixelBlocks:D,mosaicSize:H,isPartiallyFilled:U}=B;if(this.rasterJobHandler)F=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:D,srcMosaicSize:H,destDimension:S?{width:t,height:o}:null,coefs:S?T.coefficients:null,sampleSpacing:S?L:null,interpolation:i.interpolation},i);else {const e=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.p)(D,H);F=S?(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.C)(e,{width:t,height:o},T.coefficients,L,i.interpolation):e;}return i.requestRawData?{srcExtent:x,pixelBlock:F,transformGrid:T,extent:e,isPartiallyFilled:U}:{srcExtent:x,extent:e,pixelBlock:F}}async fetchRawPixels(e,t,r,o){const{origin:i,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:a}=this.getBlockWidthHeight(e);let{x:l,y:c}=t,{width:u,height:f}=r;o.buffer&&(l-=o.buffer.cols,c-=o.buffer.rows,u+=2*o.buffer.cols,f+=2*o.buffer.rows);const h=Math.floor(l/s),d=Math.floor(c/a),p=Math.floor((l+u-1)/s),x=Math.floor((c+f-1)/a),y=n[e];if(!y)return null;const{minRow:g,minCol:w,maxCol:I,maxRow:k}=y;if(x<g||p<w||d>k||h>I)return null;const v=[];let R,b=!1;for(let m=d;m<=x;m++)for(let t=h;t<=p;t++)m>=g&&t>=w&&k>=m&&I>=t?(R=this._fetchRawTile(e,m,t,o),this.ioConfig.allowPartialFill&&(R=new Promise((e=>{R.then((t=>e(t))).catch((()=>{b=!0,e(null);}));}))),v.push(R)):v.push(null);if(0===v.length)return null;const M=await Promise.all(v),C={height:(x-d+1)*s,width:(p-h+1)*a},{nativePixelSize:B,spatialReference:P}=this.rasterInfo,j=B.x*2**e,T=B.y*2**e;return {extent:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:i.x+h*s*j,xmax:i.x+(p+1)*s*j,ymin:i.y-(x+1)*a*T,ymax:i.y-d*a*T,spatialReference:P}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:b}}async fetchRawTile(e,t,r,o){throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("BaseRaster:read-not-implemented","fetchRawTile() is not implemented")}computeExtent(e){return g$2(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return !this.rasterJobHandler||t.useCanvas?(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.T)(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,t,r){var o,i;const{customFetchParameters:n}=this.ioConfig,{range:s,query:a,headers:l}=t;r=null!=(o=null!=(i=r)?i:t.retryCount)?o:this.ioConfig.retryCount;const c=s?{Range:`bytes=${s.from}-${s.to}`}:null;try{return await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(e,{...t,query:{...a,...n},headers:{...l,...c}})}catch(u){if(r>0)return r--,this.request(e,t,r);throw u}}getSliceIndex(e){const{multidimensionalInfo:r}=this.rasterInfo;if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r)||null==e||!e.length)return null;let o=0;const i=e[0].variableName;for(let t=0;t<r.variables.length;t++){const n=r.variables[t],s=n.dimensions;if(n.name!==i){o+=s.map((e=>this._getDimensionValuesCount(e))).reduce(((e,t)=>e+t));break}const a=s.map((e=>this._getDimensionValuesCount(e))),l=s.length;for(let t=0;t<l;t++){const r=e.filter((e=>e.dimensionName===s[t].name))[0];if(null==r)return null;const i=Array.isArray(r.values[0])?r.values[0][0]:r.values[0],n=this._getIndexFromDimensions(i,s[t]);if(-1===n)return null;a.shift(),o+=t===l-1?n:n*a.reduce(((e,t)=>e+t));}}return o}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:r,pixelSize:o}=this.rasterInfo;if(!e.tileInfo){const i=[],n=e.maximumPyramidLevel||0;let s=Math.max(o.x,o.y),a=1/.0254*96*s;for(let e=0;e<=n;e++)i.push({level:n-e,resolution:s,scale:a}),s*=2,a*=2;const l=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:r.xmin,y:r.ymax,spatialReference:t});e.tileInfo=new _TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__.x({origin:l,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:i}),e.isVirtualTileInfo=!0;}}createRemoteDatasetStorageInfo(e,t=512,r=512,o){const{width:i,height:n,nativeExtent:s,pixelSize:a,spatialReference:l}=e,c=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:s.xmin,y:s.ymax,spatialReference:l});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(i,n))/Math.LN2-8)));const m=this._computeBlockBoundary(s,a,o,512,512);e.storageInfo=new p$2({blockWidth:t,blockHeight:r,pyramidBlockWidth:t,pyramidBlockHeight:r,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:m});}async computeBestPyramidLevelForLocation(e,t={}){return 0}identifyPixelLocation(e,t,r){const{spatialReference:o,nativePixelSize:i,nativeExtent:n}=this.rasterInfo,{blockWidth:s,blockHeight:a,maximumPyramidLevel:l,pyramidScalingFactor:c,origin:u}=this.rasterInfo.storageInfo,m=d$2(e,o,r);if(!n.intersects(m))return null;if(t<0||t>l)return null;const f=c**t,h=f*i.x,d=f*i.y,p=(u.y-m.y)/d/a,x=(m.x-u.x)/h/s,y=Math.min(a-1,Math.floor((p-Math.floor(p))*a)),g=Math.min(s-1,Math.floor((x-Math.floor(x))*s));return {pyramidLevel:t,row:Math.floor(p),col:Math.floor(x),rowOffset:y,colOffset:g,srcLocation:m}}getTileExtent(e,t,r,o,i,n){const[s,a]=n,l=o.x+r*s*e.x,c=l+s*e.x,u=o.y-t*a*e.y,f=u-a*e.y;return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:l,xmax:c,ymin:f,ymax:u,spatialReference:i})}getBlockWidthHeight(e){return {blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,r){const o=this.rasterInfo.storageInfo.blockBoundary[e];return !o||o.maxRow<t||o.maxCol<r||o.minRow>t||o.minCol>r}_computeBlockBoundary(e,t,r,o,i){let{x:n,y:s}=t;const a=e.xmin,l=e.ymax,c=[{minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/s),maxRow:Math.floor((l-e.ymin-.1*s)/i/s)}];if(r>0)for(let u=0;u<r;u++)n*=2,s*=2,c.push({minCol:Math.floor((e.xmin-a+.1*n)/o/n),maxCol:Math.floor((e.xmax-a-.1*n)/o/n),minRow:Math.floor((l-e.ymax+.1*s)/i/n),maxRow:Math.floor((l-e.ymin-.1*s)/i/n)});return c}_fetchRawTile(e,r,o,i){const n=this.rasterInfo.storageInfo.blockBoundary[e];if(!n)return Promise.resolve(null);const{minRow:s,minCol:c,maxCol:u,maxRow:m}=n;if(r<s||o<c||r>m||o>u)return Promise.resolve(null);const f=i$2(this.url,i.sliceId),h=`${e}/${r}/${o}`;let d=m$2(f,i.registryId,h);if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(d)){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)();d=this.fetchRawTile(e,r,o,{...i,signal:t.signal}),x$3(f,i.registryId,h,d,t),d.catch((()=>{d$1(f,i.registryId,h);}));}return i.signal&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b8)(i,(()=>{h$1(f,i.registryId,h);})),d}_getIndexFromDimensions(e,t){const{extent:r,interval:o,unit:i,values:n}=t;if(null!=n&&n.length)return Array.isArray(n[0])?n.findIndex((t=>t[0]<=e&&t[1]>=e)):n.indexOf(e);if(e>r[1])return -1;const s=r[0];let a=-1;if("ISO8601"===i){var l;switch((null==(l=t.intervalUnit)?void 0:l.toLowerCase())||"seconds"){case"seconds":a=Math.round((e-s)/1e3/o);break;case"minutes":a=Math.round((e-s)/6e4/o);break;case"hours":a=Math.round((e-s)/36e5/o);break;case"days":a=Math.round((e-s)/864e5/o);break;case"years":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/o);break;case"decades":a=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/o);}return a}return Math.round((e-s)/o)}_getDimensionValuesCount(e){const{extent:t,interval:r,unit:o,values:i}=e;let n=(null==i?void 0:i.length)||0;if(n)return n;const s=t[0];if(0===n&&"ISO8601"===o){var a;switch((null==(a=e.intervalUnit)?void 0:a.toLowerCase())||"seconds"){case"seconds":n=Math.round((t[1]-t[0])/1e3/r);break;case"minutes":n=Math.round((t[1]-t[0])/6e4/r);break;case"hours":n=Math.round((t[1]-t[0])/36e5/r);break;case"days":n=Math.round((t[1]-t[0])/864e5/r);break;case"years":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/r);break;case"decades":n=Math.round((new Date(t[1]).getUTCFullYear()-new Date(s).getUTCFullYear())/10/r);}return n}return Math.round((t[1]-t[0])/r)}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)(_OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_3__.f)],S.prototype,"url",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],S.prototype,"datasetName",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],S.prototype,"datasetFormat",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],S.prototype,"rasterInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],S.prototype,"ioConfig",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],S.prototype,"sourceJSON",void 0),S=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterDatasets.BaseRaster")],S);var L=S;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t$2(e){const t=e.fields,r=e.records,n=t.some((e=>"oid"===e.name.toLowerCase()))?"OBJECTID":"OID",i=[{name:n,type:"esriFieldTypeOID",alias:"OID"}].concat(t.map((e=>({name:e.name,type:"esriFieldType"+e.typeName,alias:e.name})))),s=i.map((e=>e.name)),a=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<s.length;l++)t[s[l]]=e[l-1];a.push({attributes:t});})),{displayFieldName:"",fields:i,features:a}}class r$1{static get supportedVersions(){return [5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return {header:{version:i},recordSet:null};const s=n.getUint32(4,!0),a=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:s,headerByteCount:a,recordByteCount:o};let p=32;const g=[],u=[];let d;if(3===i){for(;13!==n.getUint8(p);)d=String.fromCharCode(n.getUint8(p+11)).trim(),g.push({name:(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.b)(new Uint8Array(r,p,11)),type:d,typeName:["String","Date","Double","Boolean","String","Integer"][["C","D","F","L","M","N"].indexOf(d)],length:n.getUint8(p+16)}),p+=32;if(p+=1,g.length>0)for(;u.length<s&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,g.forEach((n=>{if("C"===n.type)t.push((0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.b)(new Uint8Array(r,p,n.length)).trim());else if("N"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if("F"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if("D"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.substring(0,4),10),parseInt(e.substring(4,6),10)-1,parseInt(e.substring(6,8),10)));}p+=n.length;})),u.push(t)):p+=o;}}return {header:l,fields:g,records:u,recordSet:t$2({fields:g,records:u})}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let p=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(){super(...arguments),this.type="identity";}forwardTransform(r){return r}inverseTransform(r){return r}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],p.prototype,"spatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bv)({IdentityXform:"identity"})],p.prototype,"type",void 0),p=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterTransforms.IdentityTransform")],p);var i$1=p;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function l$2(e,r,o){const{x:t,y:s}=r;if(o<2){return {x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,n=t*s;return {x:e[0]+t*e[2]+s*e[4]+r*e[6]+n*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+n*e[9]+o*e[11]}}const n=t*t,i=s*s,f=t*s,p=n*t,l=n*s,c=t*i,a=s*i;return {x:e[0]+t*e[2]+s*e[4]+n*e[6]+f*e[8]+i*e[10]+p*e[12]+l*e[14]+c*e[16]+a*e[18],y:e[1]+t*e[3]+s*e[5]+n*e[7]+f*e[9]+i*e[11]+p*e[13]+l*e[15]+c*e[17]+a*e[19]}}function c$2(e,r,o){const{xmin:t,ymin:s,xmax:n,ymax:i,spatialReference:f}=r;let c=[];if(o<2)c.push({x:t,y:i}),c.push({x:n,y:i}),c.push({x:t,y:s}),c.push({x:n,y:s});else {let e=10;for(let r=0;r<e;r++)c.push({x:t,y:s+(i-s)*r/(e-1)}),c.push({x:n,y:s+(i-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)c.push({x:t+(n-t)*r/e,y:s}),c.push({x:t+(n-t)*r/e,y:i});}c=c.map((r=>l$2(e,r,o)));const a=c.map((e=>e.x)),u=c.map((e=>e.y));return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:Math.min.apply(null,a),xmax:Math.max.apply(null,a),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:f})}function a(e){const[r,o,t,s,n,i]=e,f=t*i-n*s,p=n*s-t*i;return [(n*o-r*i)/f,(t*o-r*s)/p,i/f,s/p,-n/f,-t/p]}let u$3=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial";}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.coeffX=t,r.coeffY=s;}get inverseCoefficients(){let e=this._get("inverseCoefficients");const r=this._get("forwardCoefficients");return !e&&r&&this.polynomialOrder<2&&(e=a(r)),e}set inverseCoefficients(e){this._set("inverseCoefficients",e);}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(null==o||!o.length||null==t||!t.length||o.length!==t.length)return null;const s=[];for(let n=0;n<o.length;n++)s.push(o[n]),s.push(t[n]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let n=0;n<(null==e?void 0:e.length);n++)n%2==0?t.push(e[n]):s.push(e[n]);r.inverseCoeffX=t,r.inverseCoeffY=s;}forwardTransform(e){if("point"===e.type){const r=l$2(this.forwardCoefficients,e,this.polynomialOrder);return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c$2(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if("point"===e.type){const r=l$2(this.inverseCoefficients,e,this.polynomialOrder);return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c$2(this.inverseCoefficients,e,this.polynomialOrder)}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],u$3.prototype,"polynomialOrder",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u$3.prototype,"forwardCoefficients",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("forwardCoefficients",["coeffX","coeffY"])],u$3.prototype,"readForwardCoefficients",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("forwardCoefficients")],u$3.prototype,"writeForwardCoefficients",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],u$3.prototype,"inverseCoefficients",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],u$3.prototype,"readInverseCoefficients",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("inverseCoefficients")],u$3.prototype,"writeInverseCoefficients",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],u$3.prototype,"spatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bv)({PolynomialXform:"polynomial"})],u$3.prototype,"type",void 0),u$3=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterTransforms.PolynomialTransform")],u$3);var m$1=u$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const t$1={PolynomialXform:m$1,IdentityXform:i$1},r=Object.keys(t$1);function e$1(n){const o=null==n?void 0:n.type;return !n||r.includes(o)}function l$1(n){if(!(null==n?void 0:n.type))return null;const o=t$1[null==n?void 0:n.type];if(o){const t=new o;return t.read(n),t}return null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const g$1=new Map;g$1.set("int16","esriFieldTypeSmallInteger"),g$1.set("int32","esriFieldTypeInteger"),g$1.set("int64","esriFieldTypeInteger"),g$1.set("float32","esriFieldTypeSingle"),g$1.set("float64","esriFieldTypeDouble"),g$1.set("text","esriFieldTypeString");const y=8;let x$2=class extends L{constructor(){super(...arguments),this.storageInfo=null,this.datasetFormat="CRF";}async open(e){await this.init();const{data:t}=await this.request(this.url+"/conf.json",{signal:null==e?void 0:e.signal});if(!this._validateHeader(t))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("cloudraster:open","Invalid or unsupported conf.json.");this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const{storageInfo:r,rasterInfo:o}=this._parseHeader(t);if("thematic"===o.dataType){const e=await this._fetchAuxiliaryInformation();o.attributeTable=e;}this._set("storageInfo",r),this._set("rasterInfo",o),this.ioConfig.retryCount=this.ioConfig.retryCount||0;}async fetchRawTile(e,t,r,o={}){const i=this.rasterInfo.storageInfo.maximumPyramidLevel-e;if(i<0)return null;const s=this._buildCacheFilePath(i,t,r,o.multidimensionalDefinition),a=this._getIndexRecordFromBundle(t,r),n=await this.request(s,{range:{from:0,to:this.storageInfo.headerSize-1},responseType:"array-buffer",signal:o.signal});if(!n)return null;const l=new Uint8Array(n.data),f=this._getTileEndAndContentType(l,a);if(0===f.recordSize)return null;const m=await this.request(s,{range:{from:f.position,to:f.position+f.recordSize},responseType:"array-buffer",signal:o.signal});return m?this.decodePixelBlock(m.data,{width:this.rasterInfo.storageInfo.tileInfo.size[0],height:this.rasterInfo.storageInfo.tileInfo.size[1],planes:null,pixelType:null}):null}_validateHeader(e){const t=["origin","extent","geodataXform","LODInfos","blockWidth","blockHeight","bandCount","pixelType","pixelSizeX","pixelSizeY","format","packetSize"];return e&&"RasterInfo"===e.type&&!t.some((t=>!e[t]))}_parseHeader(e){var t,r;const o=["u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64"][e.pixelType],{bandCount:i,histograms:l,colormap:c,blockWidth:u,blockHeight:d,firstPyramidLevel:h,maximumPyramidLevel:g}=e,x=e.statistics&&e.statistics.map((e=>({min:e.min,max:e.max,avg:e.mean,stddev:e.standardDeviation,median:e.median,mode:e.mode}))),I=e.extent.spatialReference,S=null==(t=e.geodataXform)?void 0:t.spatialReference,v=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O(null!=I&&I.wkid||null!=I&&I.wkt?I:S);let w=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:e.extent.xmin,ymin:e.extent.ymin,xmax:e.extent.xmax,ymax:e.extent.ymax,spatialReference:v});const b=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:e.pixelSizeX,y:e.pixelSizeY,spatialReference:v}),T=Math.round((w.xmax-w.xmin)/b.x),j=Math.round((w.ymax-w.ymin)/b.y),k$1=this._parseTransform(e.geodataXform),z=k$1?w:null;k$1&&(w=k$1.forwardTransform(w),b.x=(w.xmax-w.xmin)/T,b.y=(w.ymax-w.ymin)/j);const _=null!=(r=e.properties)?r:{},C=e.format.toLowerCase().replace("cache/",""),R=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(e.origin.x,e.origin.y,v);let F,P,H,L;if(c&&c.colors)for(F=[],P=0;P<c.colors.length;P++)H=c.colors[P],L=c.values?c.values[P]:P,F.push([L,255&H,H<<16>>>24,H<<8>>>24,H>>>24]);const D=e.LODInfos,M=[];for(P=0;P<D.levels.length;P++)M.push({level:D.levels[P],resolution:D.resolutions[P],scale:96/.0254*D.resolutions[P]});const B=new _TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__.x({dpi:96,lods:M,format:C,origin:R,size:[u,d],spatialReference:v}),O={recordSize:y,packetSize:e.packetSize,headerSize:e.packetSize*e.packetSize*y+64},$=[{maxCol:Math.ceil(T/u)-1,maxRow:Math.ceil(j/d)-1,minCol:0,minRow:0}];let q=2;if(g>0)for(P=0;P<g;P++)$.push({maxCol:Math.ceil(T/q/u)-1,maxRow:Math.ceil(j/q/d)-1,minCol:0,minRow:0}),q*=2;const E=e.mdInfo;return {storageInfo:O,rasterInfo:new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.a({width:T,height:j,pixelType:o,bandCount:i,extent:w,nativeExtent:z,transform:k$1,spatialReference:v,pixelSize:b,keyProperties:_,statistics:x,histograms:l,multidimensionalInfo:E,colormap:F,storageInfo:new p$2({blockWidth:u,blockHeight:d,pyramidBlockWidth:u,pyramidBlockHeight:d,origin:R,tileInfo:B,firstPyramidLevel:h,maximumPyramidLevel:g,blockBoundary:$})})}}_parseTransform(e){var t,r;if(!e$1(e))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("cloudraster:open","the data contains unsupported geodata transform types");const o=l$1(e);if("identity"===o.type)return null;if(null==(t=o.forwardCoefficients)||!t.length||null==(r=o.inverseCoefficients)||!r.length)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("cloudraster:open","the data contains unsupported geodata transforms - both forward and inverse coefficients are required currently");return o}async _fetchAuxiliaryInformation(e){const t=this.request(this.url+"/conf.vat.json",{signal:e}).then((e=>e.data)).catch((()=>null)),r=this.request(this.url+"/conf.vat.dbf",{responseType:"array-buffer",signal:e}).then((e=>e.data)).catch((()=>null)),o=await Promise.all([t,r]);let i;if(o[0]){let e=o[0].fields;const t=o[0].values;if(e&&t){e=e.map((e=>({type:"OID"===e.name?"esriFieldTypeOID":g$1.get(e.type),name:e.name,alias:e.alias||e.name})));const r=t.map((e=>({attributes:e})));e&&t&&(i={fields:e,features:r});}}if(!i&&o[1]){i=r$1.parse(o[1]).recordSet;}return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ap.fromJSON(i)}_buildCacheFilePath(e,r,o,i){const s=this.storageInfo.packetSize,a=Math.floor(r/s)*s,n=Math.floor(o/s)*s,l="R"+this._toHexString4(a)+"C"+this._toHexString4(n);let f="L";f+=e>=10?e.toString():"0"+e.toString();const{multidimensionalInfo:m}=this.rasterInfo,p=null==i?void 0:i[0];if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(m)||!p)return `${this.url}/_alllayers/${f}/${l}.bundle`;let c=m.variables.filter((e=>e.name===p.variableName))[0].dimensions[0].values.indexOf(p.values[0]).toString(16);const u=4-c.length;for(let t=0;t<u;t++)c="0"+c;return c="S"+c,`${this.url}/_alllayers/${p.variableName}/${c}/${f}/${l}.bundle`}_getIndexRecordFromBundle(e,t){const r=this.storageInfo.packetSize,o=r*(e%r)+t%r;if(o<0)throw "Invalid level / row / col";return 20+o*this.storageInfo.recordSize+44}_getTileEndAndContentType(e,t){const r=e.subarray(t,t+8);let o,i=0;for(o=0;o<5;o++)i|=(255&r[o])<<8*o;const s=0xffffffffff&i;for(i=0,o=5;o<8;o++)i|=(255&r[o])<<8*(o-5);return {position:s,recordSize:0xffffffffff&i}}_toHexString4(e){let t=e.toString(16);if(4!==t.length){let e=4-t.length;for(;e-- >0;)t="0"+t;}return t}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],x$2.prototype,"storageInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],x$2.prototype,"datasetFormat",void 0),x$2=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterDatasets.CloudRaster")],x$2);var I$3=x$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let h=class extends L{constructor(){super(...arguments),this.datasetFormat="MEMORY";}async open(t){var e;await this.init();const{pixelBlock:s,statistics:r,histograms:i,name:o,keyProperties:l,nativeExtent:p,transform:c}=this.data,{width:h,height:u,pixelType:d}=s,f=this.data.extent||new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:-.5,ymin:.5,xmax:h-.5,ymax:u-.5,spatialReference:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:3857})}),y=null!=(e=this.data.isPseudoSpatialReference)?e:!this.data.extent,x={x:f.width/h,y:f.height/u},g=new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.a({width:h,height:u,pixelType:d,extent:f,nativeExtent:p,transform:c,pixelSize:x,spatialReference:f.spatialReference,bandCount:3,keyProperties:l||{},statistics:r,isPseudoSpatialReference:y,histograms:i});this.createRemoteDatasetStorageInfo(g,512,512),this._set("rasterInfo",g),this.updateTileInfo(),await this._buildInMemoryRaster(s,{width:512,height:512},t),this.datasetName=o,this.url="/InMemory/"+o;}fetchRawTile(t,e,s,r={}){const i=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(i)}async _buildInMemoryRaster(t,s,r){const a=this.rasterInfo.storageInfo.maximumPyramidLevel,m=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:s,maximumPyramidLevel:a},r):Promise.resolve((0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.U)(t,s,a)),n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.rasterInfo.statistics),c=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.rasterInfo.histograms),h=n&&c?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},r):Promise.resolve((0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.r)(t)),u=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ai)([m,h]);if(!u[0].value&&u[1].value)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("inmemory-raster:open","failed to build in memory raster");var d,f;(this._pixelBlockTiles=u[0].value,n)||(this.rasterInfo.statistics=null==(d=u[1].value)?void 0:d.statistics);c&&(this.rasterInfo.histograms=null==(f=u[1].value)?void 0:f.histograms);}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],h.prototype,"datasetFormat",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],h.prototype,"data",void 0),h=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterDatasets.InMemoryRaster")],h);var u$2=h;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function n$1(e,t){if(!e||!t)return [];let l=t;t.indexOf("/")>-1?(l=t.slice(0,t.indexOf("/")),t=t.slice(t.indexOf("/")+1)):t="";const r=[];if(t){const u=n$1(e,l);for(let e=0;e<u.length;e++){n$1(u[e],t).forEach((n=>r.push(n)));}return r}const u=e.getElementsByTagNameNS("*",l);if(!u||0===u.length)return [];for(let n=0;n<u.length;n++)r.push(u[n]||u.item[n]);return r}function e(t,l){if(!t||!l)return null;let r=l;l.indexOf("/")>-1?(r=l.slice(0,l.indexOf("/")),l=l.slice(l.indexOf("/")+1)):l="";const u=n$1(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n$1(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),""!==u&&r.push(u));return r}function u$1(n,e){return l(n,e).map((n=>Number(n)))}function o$1(n,e){const l=t(n,e);return Number(l)}function i(n,e){var t;const l=null==n||null==(t=n.nodeName)?void 0:t.toLowerCase(),r=e.toLowerCase();return l.slice(l.lastIndexOf(":")+1)===r}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function o(e,t){if(!e||!t)return null;const n=[];for(let a=0;a<e.length;a++)n.push(e[a]),n.push(t[a]);return n}function u(e$1){var n;const r=e(e$1,"GeodataXform"),u=c$1(o$1(r,"SpatialReference/WKID")||t(r,"SpatialReference/WKT"));if("typens:PolynomialXform"!==r.getAttribute("xsi:type"))return {spatialReference:u,transform:null};const f=null!=(n=o$1(r,"PolynomialOrder"))?n:1,m=u$1(r,"CoeffX/Double"),d=u$1(r,"CoeffY/Double"),p=u$1(r,"InverseCoeffX/Double"),S=u$1(r,"InverseCoeffY/Double"),I=o(m,d),g=o(p,S);return {spatialReference:u,transform:new m$1({spatialReference:u,polynomialOrder:f,forwardCoefficients:I,inverseCoefficients:g})}}function f(e$1){var t$1;const n=o$1(e$1,"NoDataValue"),i=e(e$1,"Histograms/HistItem"),o=o$1(i,"HistMin"),u=o$1(i,"HistMax"),f=o$1(i,"BucketCount"),c=null==(t$1=t(i,"HistCounts"))?void 0:t$1.split("|").map((e=>Number(e)));let m,d,p,S;n$1(e$1,"Metadata/MDI").forEach((e=>{var t;const n=Number(null!=(t=e.textContent)?t:e.nodeValue);switch(e.getAttribute("key").toUpperCase()){case"STATISTICS_MINIMUM":m=n;break;case"STATISTICS_MAXIMUM":d=n;break;case"STATISTICS_MEAN":p=n;break;case"STATISTICS_STDDEV":S=n;}}));const I=o$1(e$1,"Metadata/SourceBandIndex");return {noDataValue:n,histogram:null!=c&&c.length&&null!=m&&null!=d?{min:o,max:u,size:f||c.length,counts:c}:null,sourceBandIndex:I,statistics:null!=m&&null!=d?{min:m,max:d,avg:p,stddev:S}:null}}function c$1(t){if(!t)return null;let n=Number(t);if(!isNaN(n)&&0!==n)return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:n});if(!(t=String(t)).startsWith("GEOGCS")&&!t.startsWith("PROJCS"))return null;const a=t.replace(/\]/g,"[").replace(/\"/g,"").split("[").map((e=>e.trim())).filter((e=>""!==e)),r=a[a.length-1].split(",");return "EPSG"===r[0]&&t.endsWith('"]]')&&(n=Number(r[1]),!isNaN(n)&&0!==n)?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:n}):new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkt:t})}function m(e){var t$1;if("pamdataset"!==(null==e||null==(t$1=e.documentElement.tagName)?void 0:t$1.toLowerCase()))return {};const s={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};e.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if(i(e,"SRS")){if(!s.spatialReference){const t$1=t(e);s.spatialReference=c$1(t$1);}}else if(i(e,"Metadata"))if("xml:ESRI"===e.getAttribute("domain")){const{spatialReference:t,transform:n}=u(e);s.transform=n,s.spatialReference||(s.spatialReference=t);}else {n$1(e,"MDI").forEach((e=>s.metadata[e.getAttribute("key")]=t(e)));}else if(i(e,"PAMRasterBand")){const t=f(e);null!=t.sourceBandIndex&&null==s.rasterBands[t.sourceBandIndex]?s.rasterBands[t.sourceBandIndex]=t:s.rasterBands.push(t);}}));const l=s.rasterBands;if(l){const e=!!l[0].statistics;s.statistics=e?l.map((e=>e.statistics)):null;const t=!!l[0].histogram;s.histograms=t?l.map((e=>e.histogram)):null;}return s}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let d=class extends L{async open(t){await this.init();const r=await this._fetchData(t);let{spatialReference:e,statistics:s,histograms:o,transform:a}=await this._fetchAuxiliaryData(t);const i=!e;i&&(e=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:3857})),null!=o&&o.length&&null==s&&(s=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.o)(o));const{width:m,height:c}=r;let f=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:-.5,ymin:.5-c,xmax:m-.5,ymax:.5,spatialReference:e});const h=a?a.forwardTransform(f):f;let d=!0;if(a){const t=a.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(a=null,f=h);}const x=new u$2({data:{extent:h,nativeExtent:f,transform:a,pixelBlock:r,statistics:s,histograms:o,keyProperties:{DateType:"Processed"},isPseudoSpatialReference:i}});await x.open(),this._set("rasterInfo",x.rasterInfo),this._inMemoryRaster=x;}fetchRawTile(t,r,e,s={}){return this._inMemoryRaster.fetchRawTile(t,r,e,s)}async _fetchData(t){const{data:r}=await this.request(this.url,{responseType:"array-buffer",signal:null==t?void 0:t.signal}),e=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.D)(r).toUpperCase();if("JPG"!==e&&"PNG"!==e&&"GIF"!==e&&"BMP"!==e)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("image-aux-raster:open","the data is not a supported format");this._set("datasetFormat",e);return await this.decodePixelBlock(r,{format:"jpg",width:1,height:1,useCanvas:!0})}async _fetchAuxiliaryData(t){var e,s;const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(null==t?void 0:t.signal),n=null!=(e=this.ioConfig.skipExtensions)?e:[],l=n.indexOf("aux.xml")>-1?null:this.request(this.url+".aux.xml",{responseType:"xml",signal:o}),m$2=this.datasetFormat,p="JPG"===m$2?"jgw":"PNG"===m$2?"pgw":"BMP"===m$2?"bpw":null,c=n.indexOf(p)>-1?null:this.request(this.url.slice(0,this.url.lastIndexOf("."))+"."+p,{responseType:"text",signal:o}),u=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ai)([l,c]);if(null!=o&&o.aborted)throw (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b9)();const d=m(null==(s=u[0].value)?void 0:s.data);if(!d.transform){const t=u[1].value?u[1].value.data.split("\n").slice(0,6).map((t=>Number(t))):null;d.transform=6===(null==t?void 0:t.length)?new m$1({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null;}return d}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],d.prototype,"datasetFormat",void 0),d=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterDatasets.ImageAuxRaster")],d);var x$1=d;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let g=class extends L{constructor(){super(...arguments),this._levelOffset=0,this._slices=null,this._tilemapCache=null,this.datasetFormat="RasterTileServer";}async open(e){await this.init();const i=e&&e.signal,s=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:"json"},signal:i});s.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const a=s.data;if(this.sourceJSON=a,!a)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("imageserverraster:open","cannot initialize tiled image service, missing service info");if(!a.tileInfo)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("imageserverraster:open","use ImageryLayer to open non-tiled image services");this._fixScaleInServiceInfo();const o=["jpg","jpeg","png","png8","png24","png32","mixed"];this.tileType=a.cacheType,null==this.tileType&&(o.indexOf(a.tileInfo.format.toLowerCase())>-1?this.tileType="Map":"lerc"===a.tileInfo.format.toLowerCase()?this.tileType="Elevation":this.tileType="Raster"),this.datasetName=a.name.slice(a.name.indexOf("/")+1);const n=await this._fetchRasterInfo({signal:i});if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(n))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("image-server-raster:open","cannot initialize image service");{const e="Map"===this.tileType?(0,_TilemapCache_2fea516d_js__WEBPACK_IMPORTED_MODULE_18__.n)(a.tileInfo,a):_TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_11__.x.fromJSON(a.tileInfo),{extent:t,pixelSize:i}=n,s=.5/n.width*i.x;let l,r;const o=e.lodAt(Math.max.apply(null,e.lods.map((e=>e.level))));"Map"!==this.tileType&&0!==a.maxScale&&("Raster"===this.tileType?(l=e.lods.filter((e=>e.resolution===i.x))[0],l||(l=e.lods[e.lods.length-1])):(l=e.lods.filter((e=>Math.abs(e.scale-a.maxScale)<s))[0],l||(l=e.lods.filter((e=>e.scale>a.maxScale)).sort(((e,t)=>e.scale>t.scale?1:-1))[0])),i.x=i.y=l.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1)),l||(l=o);const m=e.lodAt(Math.min.apply(null,e.lods.map((e=>e.level))));"Map"===this.tileType?this._levelOffset=e.lods[0].level:0!==a.minScale&&"Elevation"===this.tileType&&(r=e.lods.filter((e=>Math.abs(e.scale-a.minScale)<s))[0],this._levelOffset=r.level-m.level),r||(r=m);const h=Math.max(i.x,i.y);(Math.abs(i.x-i.y)>s||!e.lods.some((e=>Math.abs(e.resolution-h)<s)))&&(i.x=i.y=l.resolution,n.width=Math.ceil((t.xmax-t.xmin)/i.x-.1),n.height=Math.ceil((t.ymax-t.ymin)/i.y-.1));const p=l.level-r.level,[f,x]=e.size,y=e.origin;let{x:g,y:v}=i;const S=[{minCol:Math.floor((t.xmin-y.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-y.x-.1*g)/f/g),minRow:Math.floor((y.y-t.ymax+.1*v)/x/v),maxRow:Math.floor((y.y-t.ymin-.1*v)/x/v)}];if(p>0)for(let a=0;a<p;a++)g*=2,v*=2,S.push({minCol:Math.floor((t.xmin-y.x+.1*g)/f/g),maxCol:Math.floor((t.xmax-y.x-.1*g)/f/g),minRow:Math.floor((y.y-t.ymax+.1*v)/x/g),maxRow:Math.floor((y.y-t.ymin-.1*v)/x/g)});n.storageInfo=new p$2({blockWidth:e.size[0],blockHeight:e.size[1],pyramidBlockWidth:e.size[0],pyramidBlockHeight:e.size[1],compression:e.format,origin:e.origin,firstPyramidLevel:1,maximumPyramidLevel:p,tileInfo:e,blockBoundary:S}),this._set("rasterInfo",n);}if(a.capabilities.toLowerCase().indexOf("tilemap")>-1){const e={tileInfo:n.storageInfo.tileInfo,parsedUrl:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(this.url),url:this.url,tileServers:[],type:"tile"};this._tilemapCache=new _TilemapCache_2fea516d_js__WEBPACK_IMPORTED_MODULE_18__.j({layer:e});}}async fetchRawTile(e,t,i,s={}){const{storageInfo:a,extent:l,pixelSize:r}=this.rasterInfo,o=a.maximumPyramidLevel-e+this._levelOffset,n=`${this.url}/tile/${o}/${t}/${i}`,m=this._slices?{sliceId:s.sliceId||0}:null,{data:h}=await this.request(n,{query:m,responseType:"array-buffer",signal:s.signal});if(!h)return null;const c=await this.decodePixelBlock(h,{width:a.tileInfo.size[0],height:a.tileInfo.size[1],planes:null,pixelType:null,isPoint:"Elevation"===this.tileType}),u=a.blockBoundary[e];if("jpg"!==a.compression||i>u.minCol&&i<u.maxCol&&t>u.minRow&&t<u.maxRow)return c;const{origin:p,blockWidth:f,blockHeight:d}=a,y=2**e,g=Math.round((l.xmin-p.x)/(r.x*y))%f,v=Math.round((l.xmax-p.x)/(r.x*y))%f,S=Math.round((p.y-l.ymax)/(r.x*y))%d,w=Math.round((p.y-l.ymin)/(r.x*y))%d,I=i===u.minCol?g:0,j=t===u.minRow?S:0,b=i===u.maxCol?v:f,M=t===u.maxRow?w:d;return (0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.d)(c,{x:I,y:j},{width:b-I,height:M-j}),c}getSliceIndex(e){if(null==e||!e.length||!this._slices)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.filter((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName))[0];if(!i)return !0;return (Array.isArray(e.values[0])?e.values[0][0]:e.values[0])!==(Array.isArray(i.values[0])?i.values[0][0]:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+"/statistics",{query:{variable:e,f:"json"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.statistics})),s=this.request(this.url+"/histograms",{query:{variable:e,f:"json"},signal:t}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),a=await Promise.all([i,s]);return a[0]&&a[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation;})),{statistics:a[0]||null,histograms:a[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let s=this.identifyPixelLocation(e,0,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(t.datumTransformation));if(null===s)return null;let a=0;const{maximumPyramidLevel:l}=this.rasterInfo.storageInfo;let r=l-a+this._levelOffset;const o=s.srcLocation;for(;r>=0;){try{if("available"===await this._tilemapCache.fetchAvailability(r,s.row,s.col,t))break}catch{}if(r--,a++,s=this.identifyPixelLocation(o,a,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(t.datumTransformation)),null===s)return null}return -1===r||null==s?null:a}async _fetchRasterInfo(e){const t=this.sourceJSON,i=Math.ceil((t.extent.xmax-t.extent.xmin)/t.pixelSizeX-.1),s=Math.ceil((t.extent.ymax-t.extent.ymin)/t.pixelSizeY-.1),a=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.fromJSON(t.spatialReference||t.extent.spatialReference);if("Map"===this.tileType)return new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.a({width:i,height:s,bandCount:3,extent:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromJSON(t.extent),spatialReference:a,pixelSize:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:"u8",statistics:null,keyProperties:{DataType:"processed"}});const{slice:l,signal:r}=e,c=!!t.hasRasterAttributeTable&&this.request(this.url+"/rasterAttributeTable",{query:{slice:l,f:"json"},signal:r}).then((e=>_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ap.fromJSON(e.data))).catch((()=>null)),u=!!t.hasColormap&&this.request(this.url+"/colormap",{query:{slice:l,f:"json"},signal:r}).then((e=>{var t;return null==(t=e.data)?void 0:t.colormap})),p=!!t.hasHistograms&&this.request(this.url+"/histograms",{query:{slice:l,f:"json"},signal:r}).then((e=>{var t;return null==(t=e.data)?void 0:t.histograms})),x=this.request(this.url+"/keyProperties",{query:{f:"json"},signal:r}).then((e=>e.data)).catch((()=>{})),d=!!t.hasMultidimensions&&this._fetchMultidimensionalInfo(),y=!!t.hasMultidimensions&&this.request(this.url+"/slices",{query:{f:"json"},signal:r}).then((e=>e.data&&e.data.slices)).catch((()=>{}));return Promise.all([c,u,p,x,d,y]).then((e=>{let l=null;if(t.minValues&&t.minValues.length===t.bandCount){l=[];for(let e=0;e<t.minValues.length;e++)l.push({min:t.minValues[e],max:t.maxValues[e],avg:t.meanValues[e],stddev:t.stdvValues[e]});}return this._slices=e[5]||null,new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.a({width:i,height:s,bandCount:t.bandCount,extent:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromJSON(t.extent),spatialReference:a,pixelSize:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:a}),pixelType:t.pixelType.toLowerCase(),statistics:l,attributeTable:e[0]||null,colormap:e[1]||null,histograms:e[2]||null,keyProperties:e[3]||{},multidimensionalInfo:e[4]||null})}))}async _fetchMultidimensionalInfo(e){var t;const i=await this.request(this.url+"/multidimensionalInfo",{query:{f:"json"},signal:e}).then((e=>{var t;return null==(t=e.data)?void 0:t.multidimensionalInfo}));return null!=(t=i.variables)&&t.length&&i.variables.forEach((e=>{var t;null!=(t=e.statistics)&&t.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation;}));})),i}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0);}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],g.prototype,"datasetFormat",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],g.prototype,"tileType",void 0),g=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterDatasets.ImageServerRaster")],g);var v=g;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const w$1=new Map;w$1.set("Int8","s8"),w$1.set("UInt8","u8"),w$1.set("Int16","s16"),w$1.set("UInt16","u16"),w$1.set("Int32","s32"),w$1.set("UInt32","u32"),w$1.set("Float32","f32"),w$1.set("Float64","f32"),w$1.set("Double64","f32");const I$2=new Map;I$2.set("lerc",".lrc"),I$2.set("none",".til"),I$2.set("deflate",".pzp"),I$2.set("jpeg",".jzp");let b=class extends L{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat="MRF";}async open(t){var s;await this.init(),this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const o=t?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(t.signal):null,i=await this.request(this.url,{responseType:"xml",signal:o}),{rasterInfo:a,files:n}=this._parseHeader(i.data);if(-1===(null==(s=this.ioConfig.skipExtensions)?void 0:s.indexOf("aux.xml"))){const e=await this._fetchAuxiliaryData(t);var l;if(null!=e)a.statistics=null!=(l=e.statistics)?l:a.statistics,a.histograms=e.histograms,e.histograms&&!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(a.statistics)&&(a.statistics=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.o)(e.histograms));}this._set("rasterInfo",a),this._files=n;const p=await this.request(n.index,{responseType:"array-buffer",signal:o});this._storageIndex=this._parseIndex(p.data);let c,f,h=0,u=-1;const{blockWidth:g,blockHeight:d,compression:y}=this.rasterInfo.storageInfo,x=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:w,height:I,bandCount:b}=this.rasterInfo,A=[],j="none"===y?1:b;for(;h<this._storageIndex.length;)u++,c=Math.ceil(w/g/x**u),f=Math.ceil(I/d/x**u),h+=c*f*j*4,A.push({maxRow:f,maxCol:c,minCol:0,minRow:0});this.rasterInfo.storageInfo.blockBoundary=A,u>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=u),this.updateTileInfo();}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:i,blockBoundary:a,compression:n}=this.rasterInfo.storageInfo,l=a[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:c,pixelType:f}=this.rasterInfo,{ranges:m,actualTileWidth:h,actualTileHeight:u}=this._getTileLocation(t,e,r);if(!m||0===m.length)return null;if(0===m[0].from&&0===m[0].to){const t=new Uint8Array(o*i);return new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.u({width:o,height:i,pixels:null,mask:t,validPixelCount:0})}const{bandIds:g}=this.ioConfig,d="none"===n?1:c,y=[];let x=0;for(x=0;x<d;x++)(!g||g.indexOf[x]>-1)&&y.push(this.request(this._files.data,{range:{from:m[x].from,to:m[x].to},responseType:"array-buffer",signal:s.signal}));const w=await Promise.all(y),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I);let A=0;for(x=0;x<d;x++)b.set(new Uint8Array(w[x].data),A),A+=w[x].data.byteLength;const j="lerc"===this.rasterInfo.storageInfo.compression?"lerc":"bip",R=await this.decodePixelBlock(b.buffer,{width:o,height:i,format:j,pixelType:f});let _=0,F=0;if(h!==o||u!==i){let t=R.mask;if(t)for(x=0;x<i;x++)if(F=x*o,x<u)for(_=h;_<o;_++)t[F+_]=0;else for(_=0;_<o;_++)t[F+_]=0;else for(t=new Uint8Array(o*i),R.mask=t,x=0;x<u;x++)for(F=x*o,_=0;_<h;_++)t[F+_]=1;}return R}_parseIndex(t){if(t.byteLength%16>0)throw "invalid array buffer must be multiples of 16";let e,r,s,o,i,a;if(_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.c){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),i=0;i<t.byteLength/4;i++)for(a=0;a<4;a++)s[4*i+a]=r[4*i+3-a];e=new Uint32Array(o);}else e=new Uint32Array(t);return e}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:i,compression:a}=this.rasterInfo.storageInfo,{width:n,height:l,bandCount:p}=this.rasterInfo,c="none"===a?1:p;let f,m,h,u=0,g=0;for(h=0;h<t;h++)g=i**h,f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=f*m;g=i**t,f=Math.ceil(n/s/g),m=Math.ceil(l/o/g),u+=e*f+r,u*=4*c;const d=this._storageIndex.subarray(u,u+4*c);let y=0,x=0;const w=[];for(let I=0;I<c;I++)y=d[4*I+0]*2**32+d[4*I+1],x=y+d[4*I+2]*2**32+d[4*I+3],w.push({from:y,to:x});return {ranges:w,actualTileWidth:r<f-1?s:Math.ceil(n/g)-s*(f-1),actualTileHeight:e<m-1?o:Math.ceil(l/g)-o*(m-1)}}_parseHeader(t$1){const e$1=e(t$1,"MRF_META/Raster");if(!e$1)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mrf:open","not a valid MRF format");const r=e(e$1,"Size"),s=parseInt(r.getAttribute("x"),10),o=parseInt(r.getAttribute("y"),10),p=parseInt(r.getAttribute("c"),10),f=(t(e$1,"Compression")||"none").toLowerCase();if(!f||-1===["none","lerc"].indexOf(f))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mrf:open","currently does not support compression "+f);const m=t(e$1,"DataType")||"UInt8",u=w$1.get(m);if(null==u)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mrf:open","currently does not support pixel type "+m);const x=e(e$1,"PageSize"),b=parseInt(x.getAttribute("x"),10),A=parseInt(x.getAttribute("y"),10),j=e(e$1,"DataValues");let R,_;j&&(_=j.getAttribute("NoData"),null!=_&&(R=_.trim().split(" ").map((t=>parseFloat(t)))));if(e(t$1,"MRF_META/CachedSource"))throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mrf:open","currently does not support MRF referencing other data files");const F=e(t$1,"MRF_META/GeoTags"),M=e(F,"BoundingBox");if(null==M)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("mrf:open","missing node MRF_META/GeoTags/BoundingBox");const T=parseFloat(M.getAttribute("minx")),k$1=parseFloat(M.getAttribute("miny")),C=parseFloat(M.getAttribute("maxx")),U=parseFloat(M.getAttribute("maxy")),L=t(F,"Projection")||"",S=t(t$1,"datafile"),v=t(t$1,"IndexFile");let B;if("LOCAL_CS[]"!==L)if(L.toLowerCase().startsWith("epsg:")){const t=Number(L.slice(5));isNaN(t)||0===t||(B=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:t}));}else B=c$1(L);const P=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M(T,k$1,C,U);P.spatialReference=B;const E=e(t$1,"MRF_META/Rsets"),H=parseInt(E&&E.getAttribute("scale")||"2",10),W=new p$2({origin:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:P.xmin,y:P.ymax,spatialReference:B}),blockWidth:b,blockHeight:A,pyramidBlockWidth:b,pyramidBlockHeight:A,compression:f,pyramidScalingFactor:H}),D=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:(C-T)/s,y:(U-k$1)/o,spatialReference:B});return {rasterInfo:new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.a({width:s,height:o,extent:P,spatialReference:B,bandCount:p,pixelType:u,pixelSize:D,noDataValue:R,storageInfo:W}),files:{mrf:this.url,index:v||this.url.replace(".mrf",".idx"),data:S||this.url.replace(".mrf",I$2.get(f))}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:null==t?void 0:t.signal});return m(e)}catch{return null}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],b.prototype,"_files",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],b.prototype,"_storageIndex",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],b.prototype,"datasetFormat",void 0),b=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterIO.MRFRaster")],b);var A=b;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const T=function(e,t){const r=e.get(t);return r&&r.values},I$1=function(e,t){const r=e.get(t);return r&&r.values[0]};let w=class extends L{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this.datasetFormat="TIFF";}async open(e){var i;await this.init();const s=e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(e.signal):null,{data:l}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:"array-buffer",signal:s});if(!l)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("tiffraster:open","failed to open url "+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const{littleEndian:p,firstIFD:c,isBigTiff:y}=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.e)(l),x=[];await this.readIFDs(x,l,p,c,0,y?8:4,s);const T=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.y)(x),{width:I,height:w,tileWidth:E,tileHeight:F,planes:S,pixelType:v,compression:b,firstPyramidLevel:_,maximumPyramidLevel:j,pyramidBlockWidth:R,pyramidBlockHeight:B,tileBoundary:D,affine:k,metadata:L}=T,O=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromJSON(T.extent),z=O.spatialReference,H=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(O?{x:O.xmin,y:O.ymax,spatialReference:z}:{x:0,y:0}),P=new p$2({blockWidth:E,blockHeight:F,pyramidBlockWidth:R,pyramidBlockHeight:B,compression:b,origin:H,firstPyramidLevel:_,maximumPyramidLevel:j,blockBoundary:D}),G=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:(O.xmax-O.xmin)/I,y:(O.ymax-O.ymin)/w,spatialReference:z}),q=L?{BandProperties:L.bandProperties,DataType:L.dataType}:{},W=new _RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.a({width:I,height:w,bandCount:S,pixelType:v,compression:b,pixelSize:G,storageInfo:P,spatialReference:z,keyProperties:q,extent:O,statistics:L?L.statistics:null});if(null!=k&&k.length&&(W.nativeExtent=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M({xmin:-.5,ymin:.5-w,xmax:I-.5,ymax:.5,spatialReference:z}),W.transform=new m$1({polynomialOrder:1,forwardCoefficients:[k[2]+k[0]/2,k[5]-k[3]/2,k[0],k[3],-k[1],-k[4]]}),W.extent=W.transform.forwardTransform(W.nativeExtent),W.pixelSize=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:(O.xmax-O.xmin)/I,y:(O.ymax-O.ymin)/w,spatialReference:z}),P.origin.x=-.5,P.origin.y=.5),null==(i=this.ioConfig.skipExtensions)||!i.includes("aux.xml")){const t=await this._fetchAuxiliaryData(e);if(null!=t){var C;if(W.statistics=null!=(C=t.statistics)?C:W.statistics,W.histograms=t.histograms,t.histograms&&!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(W.statistics)&&(W.statistics=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.o)(t.histograms)),t.transform&&!k){W.transform=t.transform,W.nativeExtent=W.extent;const e=W.transform.forwardTransform(W.nativeExtent);W.pixelSize=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:(e.xmax-e.xmin)/I,y:(e.ymax-e.ymin)/w,spatialReference:z}),W.extent=e;}W.spatialReference||(W.spatialReference=t.spatialReference);}}if(this._set("rasterInfo",W),this._headerInfo={littleEndian:p,isBigTiff:y,ifds:x,...T},!this._headerInfo.isSupported)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("tiffraster:open","this tiff is not supported: "+this._headerInfo.message);this.updateTileInfo();}async fetchRawTile(e,t,r,i={}){var s;if(null==(s=this._headerInfo)||!s.isSupported||this.isBlockOutside(e,t,r))return null;const a=this.getTileLocation(e,t,r);if(!a)return null;const{range:o,actualTileWidth:n,actualTileHeight:f,ifd:l}=a,{data:u}=await this.request(this.url,{range:o,responseType:"array-buffer",signal:i.signal}),{blockWidth:m,blockHeight:p}=this.getBlockWidthHeight(e),c=await this.decodePixelBlock(u,{format:"tiff",customOptions:{headerInfo:this._headerInfo,ifd:l,offset:0,size:0},width:m,height:p,planes:null,pixelType:null});let h,d,y;if(n!==m||f!==p){let e=c.mask;if(e)for(h=0;h<p;h++)if(y=h*m,h<f)for(d=n;d<m;d++)e[y+d]=0;else for(d=0;d<m;d++)e[y+d]=0;else for(e=new Uint8Array(m*p),c.mask=e,h=0;h<f;h++)for(y=h*m,d=0;d<n;d++)e[y+d]=1;}return c}async readIFDs(e,t,r,i,s,a=4,o){if(!i)return null;if(i>=t.byteLength||i<0){t=(await this.request(this.url,{range:{from:i+s,to:i+s+this._bufferSize},responseType:"array-buffer",signal:o})).data,s=i+s,i=0;}const n=await this.readIFD(t,r,i,s,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.g.TIFF_TAGS,a,o);if(e.push(n.ifd),!n.nextIFD)return null;await this.readIFDs(e,t,r,n.nextIFD-s,s,a,o);}async readIFD(e,t,r,i,s=_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.g.TIFF_TAGS,a=4,o){if(!e)return null;const n=(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.x)(e,t,r,i,s,a);if(n.success){const r=[];if(n.ifd.forEach((e=>{e.values||r.push(e);})),r.length>0){const s=r.map((e=>e.offlineOffsetSize)),a=Math.min.apply(null,s.map((e=>e[0])));if(Math.min.apply(null,s.map((e=>e[0]+e[1])))-a<=this._bufferSize){const{data:s}=await this.request(this.url,{range:{from:a,to:a+this._bufferSize},responseType:"array-buffer",signal:o});e=s,i=a,r.forEach((r=>(0,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.E)(e,t,r,i)));}}if(n.ifd.has("GEOKEYDIRECTORY")){const r=n.ifd.get("GEOKEYDIRECTORY"),s=r.values;if(s&&s.length>4){const a=s[0]+"."+s[1]+"."+s[2],n=await this.readIFD(e,t,r.valueOffset+6-i,i,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.g.GEO_KEYS,2,o);r.data=n.ifd,r.data&&r.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]});}}return n}if(n.requiredBufferSize&&n.requiredBufferSize!==e.byteLength){const r=await this.request(this.url,{range:{from:i,to:i+n.requiredBufferSize+4},responseType:"array-buffer",signal:o});return (e=r.data).byteLength<n.requiredBufferSize?null:this.readIFD(e,t,0,i,_RasterSymbolizer_f5f7b0ab_js__WEBPACK_IMPORTED_MODULE_12__.g.TIFF_TAGS,4,o)}}getTileLocation(e,t,r){const{firstPyramidLevel:i,blockBoundary:s}=this.rasterInfo.storageInfo,a=0===e?0:e-(i-1),o=this._headerInfo.ifds[a];if(!o)return null;const n=T(o,"TILEOFFSETS");if(void 0===n)return null;const f=T(o,"TILEBYTECOUNTS"),{minRow:l,minCol:u,maxRow:m,maxCol:p}=s[a];if(t>m||r>p||t<l||r<u)return null;const c=I$1(o,"IMAGEWIDTH"),h=I$1(o,"IMAGELENGTH"),d=I$1(o,"TILEWIDTH"),y=I$1(o,"TILELENGTH"),g=t*(p+1)+r,x=n[g],w=f[g];if(null==x||null==w)return null;return {range:{from:x,to:x+w-1},ifd:o,actualTileWidth:r===p?c%d:d,actualTileHeight:t===m?h%y:y}}async _fetchAuxiliaryData(e){try{const{data:t}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:null==e?void 0:e.signal});return m(t)}catch{return null}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],w.prototype,"_files",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],w.prototype,"_headerInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],w.prototype,"_bufferSize",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],w.prototype,"datasetFormat",void 0),w=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.rasterDatasets.TIFFRaster")],w);var E=w;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const c=new Map;c.set("CRF",{desc:"Cloud Raster Format",constructor:I$3}),c.set("MRF",{desc:"Meta Raster Format",constructor:A}),c.set("TIFF",{desc:"GeoTIFF",constructor:E}),c.set("RasterTileServer",{desc:"Raster Tile Server",constructor:v}),c.set("JPG",{desc:"JPG Raster Format",constructor:x$1}),c.set("PNG",{desc:"PNG Raster Format",constructor:x$1}),c.set("GIF",{desc:"GIF Raster Format",constructor:x$1}),c.set("BMP",{desc:"BMP Raster Format",constructor:x$1});class n{static get supportedFormats(){const t=new Set;return c.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,sourceJSON:o}=r;let a=r.datasetFormat;null==a&&e.lastIndexOf(".")&&(a=e.slice(e.lastIndexOf(".")+1).toUpperCase()),"OVR"===a||"TIF"===a?a="TIFF":"JPG"!==a&&"JPEG"!==a&&"JFIF"!==a||(a="JPG"),e.toLowerCase().indexOf("/imageserver")>-1&&-1===e.toLowerCase().indexOf("/wcsserver")&&(a="RasterTileServer");const n={url:e,sourceJSON:o,datasetFormat:a,ioConfig:s||{bandIds:null,sampling:null}};let i,u;if(this.supportedFormats.has(a))return i=c.get(a).constructor,u=new i(n),await u.open({signal:r.signal}),u;if(a)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("rasterfactory:open","not a supported format "+a);const l=Array.from(c.keys());let m=0;const F=function(){return a=l[m++],a?(i=c.get(a).constructor,u=new i(n),u.open({signal:r.signal}).then((()=>u)).catch((()=>F()))):null};return F()}static register(t,r,e){c.has(t.toUpperCase())||c.set(t.toUpperCase(),{desc:r,constructor:e});}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const R=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aL)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"});function I(){return {enabled:!this.loaded||"RasterTileServer"===this.raster.datasetFormat&&"Raster"===this.raster.tileType}}let O=class extends((0,_BlendLayer_cdc29520_js__WEBPACK_IMPORTED_MODULE_5__.t)((0,_ScaleRangeLayer_70c3898e_js__WEBPACK_IMPORTED_MODULE_8__.s)((0,_RefreshableLayer_fde13f12_js__WEBPACK_IMPORTED_MODULE_7__.o)((0,_OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_3__.l)((0,_PortalLayer_339fca21_js__WEBPACK_IMPORTED_MODULE_6__.u)(x$4((0,_MultiOriginJSONSupport_3469f40f_js__WEBPACK_IMPORTED_MODULE_2__.l)(_MultiOriginJSONSupport_3469f40f_js__WEBPACK_IMPORTED_MODULE_2__.b)))))))){constructor(...e){super(...e),this.bandIds=null,this.interpolation=null,this.legendEnabled=!0,this.isReference=null,this.listMode="show",this.sourceJSON=null,this.version=null,this.title=null,this.type="imagery-tile",this.operationalLayerType="ArcGISTiledImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null;}normalizeCtorArgs(e,r){return "string"==typeof e?{url:e,...r}:e}load(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).then((()=>this._openRaster(t)),(()=>this._openRaster(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get fields(){var e,r;let t=[new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E({name:"Raster.ServicePixelValue",alias:"Pixel Value",domain:null,editable:!1,length:50,type:"string"})];const o=null==(e=this.rasterInfo)||null==(r=e.attributeTable)?void 0:r.fields,i="Raster.";if(o){const e=o.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const r=e.clone();return r.name=i+e.name,r}));t=t.concat(e);}return t}set renderer(e){this._set("renderer",e),this.updateRenderer();}readRenderer(e,r,t){const o=r&&r.layerDefinition&&r.layerDefinition.drawingInfo&&r.layerDefinition.drawingInfo.renderer,i=(0,_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.p)(o,t)||void 0;if(null!=i)return i}createPopupTemplate(e){return (0,_popupUtils_71f17418_js__WEBPACK_IMPORTED_MODULE_9__.a)(this,e)}write(e,r){const{raster:t}=this;if(this.loaded?"RasterTileServer"===t.datasetFormat&&("Raster"===t.tileType||"Map"===t.tileType):this.url&&/\/ImageServer(\/|\/?$)/i.test(this.url))return super.write(e,r);if(r&&r.messages){const e=`${r.origin}/${r.layerContainerType||"operational-layers"}`;r.messages.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}));}return null}async _openRaster(e){this.raster?(this.raster.rasterInfo||await this.raster.open(),this.url=this.raster.url):this.raster=await n.open({url:this.url,sourceJSON:this.sourceJSON,ioConfig:this.ioConfig,signal:e});const{rasterInfo:r}=this.raster;if(!r)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("imagery-tile-layer:load","cannot load resources on "+this.url);this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON&&(this._set("version",this.sourceJSON.currentVersion),this._set("copyright",this.sourceJSON.copyrightText)),null==this.title&&(this.title=this.raster.datasetName),"Map"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings();}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:[_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc],json:{write:{overridePolicy:I}}})],O.prototype,"bandIds",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:{overridePolicy:I}}}),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bv)(R)],O.prototype,"interpolation",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],O.prototype,"multidimensionalDefinition",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)(_OperationalLayer_733d50fd_js__WEBPACK_IMPORTED_MODULE_3__.d)],O.prototype,"legendEnabled",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],O.prototype,"isReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:["show","hide"]})],O.prototype,"listMode",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],O.prototype,"sourceJSON",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],O.prototype,"version",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],O.prototype,"title",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0,json:{read:!1}})],O.prototype,"type",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:["ArcGISTiledImageServiceLayer"]})],O.prototype,"operationalLayerType",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,r)=>!r.disablePopup},write:{target:"disablePopup",overridePolicy:I,writer(e,r,t){r[t]=!e;}}}})],O.prototype,"popupEnabled",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bL,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:I}}})],O.prototype,"popupTemplate",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],O.prototype,"defaultPopupTemplate",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0,type:[_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E]})],O.prototype,"fields",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({types:_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.d,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:I},origins:{"web-scene":{types:_rasterRendererHelper_f8a2a057_js__WEBPACK_IMPORTED_MODULE_4__.i,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type})}}}}})],O.prototype,"renderer",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("renderer")],O.prototype,"readRenderer",null),O=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.ImageryTileLayer")],O);var x=O;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (x);

//# sourceMappingURL=ImageryTileLayer-fcbf444b.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/LRUCache-08b0cc1c.js":
/*!************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/LRUCache-08b0cc1c.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _MemCache_54630689_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MemCache-54630689.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MemCache-54630689.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class e{constructor(e,s){this._storage=new _MemCache_54630689_js__WEBPACK_IMPORTED_MODULE_0__.i,this._storage.maxSize=e,s&&this._storage.registerRemoveFunc("",s);}put(t,e,s){this._storage.put(t,e,s,1);}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll();}destroy(){this._storage.destroy();}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t;}}



//# sourceMappingURL=LRUCache-08b0cc1c.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MultiOriginJSONSupport-3469f40f.js":
/*!**************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MultiOriginJSONSupport-3469f40f.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ O),
/* harmony export */   b: () => (/* binding */ b),
/* harmony export */   l: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let m=0;const h=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.Layer");let f$1=class extends(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB.EventedMixin((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aC)(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ac))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M(-180,-90,180,90,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84),this.id=Date.now().toString(16)+"-layer-"+m++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0;}static async fromArcGISServerUrl(t){const r="string"==typeof t?{url:t}:t,e=await __webpack_require__.e(/*! import() */ "extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_arcg-28437f").then(__webpack_require__.bind(__webpack_require__, /*! ./arcgisLayers-15fdd8e4.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayers-15fdd8e4.js"));try{return await e.fromUrl(r)}catch(o){throw h.error("#fromArcGISServerUrl({ url: '"+r.url+"'})","Failed to create layer from arcgis server url",o),o}}static async fromPortalItem(t){const e="portalItem"in t?t:{portalItem:t},o=await __webpack_require__.e(/*! import() */ "extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_port-6846a6").then(__webpack_require__.bind(__webpack_require__, /*! ./portalLayers-a1786929.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/portalLayers-a1786929.js")).then(function (n) { return n.p; });try{return await o.fromItem(e)}catch(i){const t=e&&e.portalItem,o=t&&t.id||"unset",a=t&&t.portal&&t.portal.url||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aw.portalUrl;throw h.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+a+"', id: '"+o+"')",i),i}}initialize(){this.when().catch((t=>{var r,o;(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(t)||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(r=this.title)?r:"no title"}', id: '${null!=(o=this.id)?o:"no id"}')`,{error:t});}));}destroy(){if(this.parent){const t=this,r=this.parent;"layers"in r&&r.layers.includes(t)?r.layers.remove(t):"tables"in r&&r.tables.includes(t)?r.tables.remove(t):"baseLayers"in r&&r.baseLayers.includes(t)?r.baseLayers.remove(t):"baseLayers"in r&&r.referenceLayers.includes(t)&&r.referenceLayers.remove(t);}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){const t=this.url;return t?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(t):null}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t){return (await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t,{query:{f:"json"},responseType:"json"})).data}throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("layer:no-attribution-data","Layer does not have attribution data")}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String})],f$1.prototype,"attributionDataUrl",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M})],f$1.prototype,"fullExtent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],f$1.prototype,"hasAttributionData",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String})],f$1.prototype,"id",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,nonNullable:!0})],f$1.prototype,"legendEnabled",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:["show","hide","hide-children"]})],f$1.prototype,"listMode",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,range:{min:0,max:1},nonNullable:!0})],f$1.prototype,"opacity",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],f$1.prototype,"parent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],f$1.prototype,"parsedUrl",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean})],f$1.prototype,"popupEnabled",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean})],f$1.prototype,"attributionVisible",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O})],f$1.prototype,"spatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String})],f$1.prototype,"title",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,readOnly:!0,json:{read:!1}})],f$1.prototype,"type",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],f$1.prototype,"url",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,nonNullable:!0})],f$1.prototype,"visible",void 0),f$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.Layer")],f$1);var b=f$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aE),this._values=new Map;}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R)(s),0);}));for(let r=2;r<_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aE;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R)(e),r);}));}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aF)(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return !1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return !!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const a=n=>{let a=class extends n{constructor(...r$1){super(...r$1);const s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aF)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(this)),o=s.metadatas,i=s.store,n=new r;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0);})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0);}));}read(r,t){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aG)(this,r,t);}getAtOrigin(r,t$1){const e=u$1(this),s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aJ)(t$1);if("string"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s);})),o}originOf(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aH)(this.originIdOf(r))}originIdOf(r){return u$1(this).originOf(r)}revert(r,t$1){const s=u$1(this),o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aJ)(t$1),n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(this);let c;c="string"==typeof r?"*"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r);}));}};return a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.ReadOnlyMultiOriginJSONSupport")],a),a};function u$1(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(r).store}let f=class extends(a(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1)){};f=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.ReadOnlyMultiOriginJSONSupport")],f);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const p=i$1=>{let n=class extends i$1{constructor(...r){super(...r);}clear(r,t$1="user"){return u(this).delete(r,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aJ)(t$1))}write(r={},t){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aK)(this,r=r||{},t),r}setAtOrigin(r,s,o){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(this).setAtOrigin(r,s,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aJ)(o));}removeOrigin(r){const t$1=u(this),s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aJ)(r),o=t$1.keys(s);for(const e of o)t$1.originOf(e)===s&&t$1.set(e,t$1.get(e,s),6);}updateOrigin(r,t$1){const s=u(this),i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aJ)(t$1),c=this.get(r);for(let e=i+1;e<_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aE;++e)s.delete(r,e);s.set(r,c,i);}toJSON(r){return this.write({},r)}};return n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.WriteableMultiOriginJSONSupport")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(r).store}const l=t=>{let e$1=class extends(p(a(t))){constructor(...r){super(...r);}};return e$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.MultiOriginJSONSupport")],e$1),e$1};let O=class extends(l(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1)){};O=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.MultiOriginJSONSupport")],O);



//# sourceMappingURL=MultiOriginJSONSupport-3469f40f.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalLayer-339fca21.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalLayer-339fca21.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PortalItem-036182cd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalItem-036182cd.js");




/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const d=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.mixins.PortalLayer"),u=r=>{let u=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]};}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null;}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t));}readPortalItem(t,r,e){if(r.itemId)return new _PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_2__["default"]({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id);}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await __webpack_require__.e(/*! import() */ "extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_laye-5edbb8").then(__webpack_require__.bind(__webpack_require__, /*! ./layersLoader-e11c3549.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/layersLoader-e11c3549.js"));return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(e){throw (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aD)(e)||d.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}read(t,r){r&&(r.layer=this),super.read(t,r);}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.w.getDefault());return e&&o&&!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aT)(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_2__["default"]})],u.prototype,"portalItem",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("web-document","portalItem",["itemId"])],u.prototype,"readPortalItem",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("web-document","portalItem",{itemId:{type:String}})],u.prototype,"writePortalItem",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],u.prototype,"resourceReferences",void 0),u=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.mixins.PortalLayer")],u),u};



//# sourceMappingURL=PortalLayer-339fca21.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLTUzNmRiNi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFWO0FBQzdSO0FBQ2tCO0FBQ0k7QUFDa0Q7QUFDNUU7QUFDQztBQUNLO0FBQ0Q7QUFDTDtBQUNJO0FBQ047QUFDb0s7QUFDMUs7QUFDaUI7QUFDOUI7QUFDSDtBQUNBO0FBQ29DO0FBQ25DO0FBQ0s7QUFDQztBQUNKO0FBQ1k7QUFDVjtBQUNDO0FBQ087QUFDRTtBQUNWO0FBQ0s7QUFDSjtBQUNEO0FBQ0Q7QUFDRTtBQUNJO0FBQ0U7QUFDUDtBQUNDO0FBQ0Y7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1REFBRywwREFBMEQsc0JBQXNCLGNBQWMsNENBQTRDLGdEQUFnRCx3TkFBd04sa0NBQWtDLHFHQUFxRyxXQUFXLGdCQUFnQiwrREFBRyxRQUFRLGdCQUFnQiwrQ0FBK0MsdUJBQXVCLHVCQUF1QixtRkFBbUYsd0NBQXdDLGlDQUFpQyxvRUFBQyw0SUFBNEkseUJBQXlCLHdCQUF3QixpREFBaUQsTUFBTSxzQkFBc0IseUNBQXlDLFVBQVUsTUFBTSw4QkFBOEIscUNBQXFDLDZCQUE2QixxQ0FBcUMsSUFBSSxrQkFBa0IseURBQXlELFNBQVMsUUFBUSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSywyQkFBMkIsNEJBQTRCLFFBQVEsNERBQUcsSUFBSSxPQUFPLHFEQUFHLFNBQVMsc0NBQXNDLDRCQUE0QixFQUFFLG1CQUFtQixFQUFFLDJCQUEyQixrTUFBa00sMEJBQTBCLEVBQUUsNEJBQTRCLCtCQUErQixPQUFPLDJEQUFDLElBQUksNEJBQTRCLHNDQUFzQyxpQkFBaUIsb0JBQW9CLDZCQUE2QixxREFBcUQsY0FBYyxNQUFNLG9DQUFvQyxzQkFBc0IsR0FB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QUMsZ0RBQWdELHNCQUFzQix3REFBRyxLQUFLLEVBQUUsMkRBQUMsRUFBRSw0REFBQzs7QUFFendCOztBQUVuQjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3QmlJO0FBQ3pFO0FBQ2Y7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1REFBQyxtREFBbUQsc0JBQXNCLGNBQWMsNkNBQTZDLDJCQUEyQixVQUFVLE1BQU0sNkRBQTZELGtCQUFrQiwyRkFBMkYsc0JBQXNCLHVCQUF1QiwrREFBQyxFQUFFLCtCQUErQixFQUFFLHFCQUFxQiwwQkFBMEIsMEJBQTBCLDJDQUEyQyxjQUFjLDJWQUFvQyxDQUFDLE9BQU8sNERBQUMsa0JBQWtCLHNHQUFzRyxJQUFJLFNBQVMsTUFBTSw0REFBQyxxQ0FBcUMsV0FBVyxJQUFJLFFBQVEsaUJBQWlCLG1CQUFtQixPQUFPLEVBQUUsTUFBTSxVQUFVLG1DQUFtQyxXQUFXLG9GQUFvRix1REFBQyxlQUFlLGNBQWMsNERBQUMsdURBQXVELHVEQUFDLG9DQUFvQyxZQUFZLEdBQUcsUUFBUSx3T0FBd08sV0FBVyx3QkFBd0IsZ0JBQWdCLElBQUksT0FBTywyREFBQyxFQUFFLDJEQUFDLEVBQUUsS0FBSywrREFBQyxDQUFDLGtDQUFrQywyREFBQyxFQUFFLDREQUFHLDZFQUE2RSwyREFBQyxFQUFFLDREQUFDLDhCQUE4QixRQUFRLGFBQWEsdUNBQXVDLDJEQUFDLEVBQUUsMkRBQUMsK0NBQStDLDJEQUFDLEVBQUUsNERBQUM7O0FBRTNxRDs7QUFFYiIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9JbWFnZXJ5VGlsZUxheWVyLWZjYmY0NDRiLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9MUlVDYWNoZS0wOGIwY2MxYy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vTXVsdGlPcmlnaW5KU09OU3VwcG9ydC0zNDY5ZjQwZi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vUG9ydGFsTGF5ZXItMzM5ZmNhMjEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUyBhcyBuJDIsIFogYXMgZSQyLCBfIGFzIHkkMSwgTSBhcyBNJDEsIGIkIGFzIG8kMiwgTyBhcyBrLCBhMCBhcyBpJDMsIFUsIEggYXMgciQyLCBhdiBhcyBTJDEsIHEgYXMgaiQyLCBhbyBhcyBhJDIsIHMgYXMgcyQxLCBiZyBhcyBnJDMsIGJEIGFzIG4kNSwgYXogYXMgaCQzLCBiOCBhcyB2JDEsIEkgYXMgZSQzLCBidiBhcyByJDQsIGFiIGFzIGUkNCwgYWogYXMgbyQzLCBhcCBhcyBnJDQsIGFpIGFzIEEkMSwgYjkgYXMgbSQ0LCBqIGFzIFUkMiwgYUwgYXMgbyQ1LCBFIGFzIHkkNCwgYmMgYXMgTiQxLCBiTCBhcyBNJDMgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCAnLi9hcmNnaXMtZ2VvZW5yaWNobWVudC1kYXRhYnJvd3Nlci02Y2E4ZWExNC5qcyc7XG5pbXBvcnQgeyBsIGFzIGwkNCwgYiBhcyBiJDIgfSBmcm9tICcuL011bHRpT3JpZ2luSlNPTlN1cHBvcnQtMzQ2OWY0MGYuanMnO1xuaW1wb3J0IHsgZiBhcyBmJDIsIGwgYXMgbCQzLCBkIGFzIGQkNSB9IGZyb20gJy4vT3BlcmF0aW9uYWxMYXllci03MzNkNTBmZC5qcyc7XG5pbXBvcnQgeyBhIGFzIG4kMywgZCBhcyBkJDMsIEssIE0gYXMgTSQyLCBWLCBqIGFzIGokMSwgYiBhcyBuJDQsIHAgYXMgcCQ1LCBpIGFzIGkkNCB9IGZyb20gJy4vcmFzdGVyUmVuZGVyZXJIZWxwZXItZjhhMmEwNTcuanMnO1xuaW1wb3J0IHsgdCBhcyB0JDQgfSBmcm9tICcuL0JsZW5kTGF5ZXItY2RjMjk1MjAuanMnO1xuaW1wb3J0IHsgdSBhcyB1JDYgfSBmcm9tICcuL1BvcnRhbExheWVyLTMzOWZjYTIxLmpzJztcbmltcG9ydCB7IG8gYXMgbyQ2IH0gZnJvbSAnLi9SZWZyZXNoYWJsZUxheWVyLWZkZTEzZjEyLmpzJztcbmltcG9ydCB7IHMgYXMgcyQyIH0gZnJvbSAnLi9TY2FsZVJhbmdlTGF5ZXItNzBjMzg5OGUuanMnO1xuaW1wb3J0IHsgYSBhcyBhJDMgfSBmcm9tICcuL3BvcHVwVXRpbHMtNzFmMTc0MTguanMnO1xuaW1wb3J0IHsgeSBhcyB5JDIgfSBmcm9tICcuL2FyY2dpc0xheWVyVXJsLTM2YjNjM2FiLmpzJztcbmltcG9ydCB7IHggYXMgeCQ1IH0gZnJvbSAnLi9UaWxlSW5mby02MzllNTAzOC5qcyc7XG5pbXBvcnQgeyBOLCBwIGFzIHAkMywgQywgVCBhcyBUJDEsIGIgYXMgciQzLCBhIGFzIHAkNCwgVSBhcyBVJDEsIHIgYXMgciQ1LCBvIGFzIG8kNCwgRCBhcyBEJDEsIGQgYXMgZCQ0LCB1IGFzIHUkNSwgYyBhcyByJDYsIGUgYXMgYiQxLCB5IGFzIHkkMywgZyBhcyBuJDcsIHggYXMgeCQ2LCBFIGFzIEUkMSB9IGZyb20gJy4vUmFzdGVyU3ltYm9saXplci1mNWY3YjBhYi5qcyc7XG5pbXBvcnQgeyBHIH0gZnJvbSAnLi91bml0VXRpbHMtNjI0Y2VlYjYuanMnO1xuaW1wb3J0IHsgViBhcyBWJDEsIFgsIEQsIEggfSBmcm9tICcuL3Byb2plY3Rpb24tMzlkYTg2ZDcuanMnO1xuaW1wb3J0ICcuL3ZlYzNmNjQtMjJjMGI2Y2MuanMnO1xuaW1wb3J0ICcuL3ZlYzMtYTdhNzIzODIuanMnO1xuaW1wb3J0ICcuL21hdDQtZGJkMzY4ZDQuanMnO1xuaW1wb3J0IHsgbiBhcyBuJDYsIGogYXMgaiQzIH0gZnJvbSAnLi9UaWxlbWFwQ2FjaGUtMmZlYTUxNmQuanMnO1xuaW1wb3J0ICcuL2luZGV4LTRhNjJjNjNkLmpzJztcbmltcG9ydCAnLi9UaW1lRXh0ZW50LTdmODU3YTM5LmpzJztcbmltcG9ydCAnLi9sZW5ndGhVdGlscy1iYTU0ZGViMi5qcyc7XG5pbXBvcnQgJy4vd29ya2Vycy1lMDg1OTIxMy5qcyc7XG5pbXBvcnQgJy4vVW5pcXVlVmFsdWVSZW5kZXJlci1jYWYzODhiZC5qcyc7XG5pbXBvcnQgJy4vQ29sb3JTdG9wLTJjOGVjMDc2LmpzJztcbmltcG9ydCAnLi9zdHlsZVV0aWxzLTYwMTlmM2I5LmpzJztcbmltcG9ydCAnLi9zaXplVmFyaWFibGVVdGlscy00Mzk1NzMwZC5qcyc7XG5pbXBvcnQgJy4vdmlzdWFsVmFyaWFibGVVdGlscy05YjhlMzg4Zi5qcyc7XG5pbXBvcnQgJy4vZGlmZlV0aWxzLWQ5YWZiY2IzLmpzJztcbmltcG9ydCAnLi9ub3JtYWxpemVVdGlscy02OWY4M2MwNS5qcyc7XG5pbXBvcnQgJy4vYXN5bmNVdGlscy1hZjc4Mjg1Ny5qcyc7XG5pbXBvcnQgJy4vSXRlbUNhY2hlLWZjZGRhMzNlLmpzJztcbmltcG9ydCAnLi9NZW1DYWNoZS01NDYzMDY4OS5qcyc7XG5pbXBvcnQgJy4vUG9ydGFsSXRlbS0wMzYxODJjZC5qcyc7XG5pbXBvcnQgJy4vYWFCb3VuZGluZ1JlY3QtNjE5NzFmZTMuanMnO1xuaW1wb3J0ICcuL19jb21tb25qc0hlbHBlcnMtOTU3N2ZmNzguanMnO1xuaW1wb3J0ICcuL0xlcmNDb2RlYy00YTNhNWE3MS5qcyc7XG5pbXBvcnQgJy4vY29sb3JVdGlscy1jODVkODViMS5qcyc7XG5pbXBvcnQgJy4vTFJVQ2FjaGUtMDhiMGNjMWMuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgSj1uJDIuZ2V0TG9nZ2VyKFwiZXNyaS5sYXllcnMubWl4aW5zLkltYWdlcnlUaWxlTWl4aW5cIikseCQ0PXI9PntsZXQgeD1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXI9e2luc3RhbmNlOm51bGwscmVmQ291bnQ6MCxjb25uZWN0aW9uUHJvbWlzZTpudWxsfSx0aGlzLmJhbmRJZHM9bnVsbCx0aGlzLmNvcHlyaWdodD1udWxsLHRoaXMuZnVsbEV4dGVudD1udWxsLHRoaXMuaW50ZXJwb2xhdGlvbj1cIm5lYXJlc3RcIix0aGlzLnJhc3Rlcj1udWxsLHRoaXMucmFzdGVySW5mbz1udWxsLHRoaXMuc291cmNlSlNPTj1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMudGlsZUluZm89bnVsbCx0aGlzLnN5bWJvbGl6ZXI9bnVsbDt9c2V0IG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKGUpe3RoaXMucmFzdGVyJiYodGhpcy5fc2xpY2VJZD10aGlzLnJhc3Rlci5nZXRTbGljZUluZGV4KGUpKSx0aGlzLl9zZXQoXCJtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvblwiLGUpO31zZXQgdXJsKGUpe3RoaXMuX3NldChcInVybFwiLHkkMihlLEopKTt9c2V0IHJlbmRlcmVyKGUpe3RoaXMuX3NldChcInJlbmRlcmVyXCIsZSksdGhpcy51cGRhdGVSZW5kZXJlcigpO31hc3luYyB1cGRhdGVSZW5kZXJlcigpe2lmKCF0aGlzLmxvYWRlZClyZXR1cm47aWYoSlNPTi5zdHJpbmdpZnkodGhpcy5fY2FjaGVkUmVuZGVyZXJKc29uKT09PUpTT04uc3RyaW5naWZ5KHRoaXMucmVuZGVyZXIpKXJldHVybjtjb25zdCBlPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U7ZSYmKHRoaXMuc3ltYm9saXplci5yZW5kZXJlckpTT049Syh0aGlzLnJlbmRlcmVyLnRvSlNPTigpKSx0aGlzLnN5bWJvbGl6ZXIuYmluZCgpLGF3YWl0IGUudXBkYXRlU3ltYm9saXplcih0aGlzLnN5bWJvbGl6ZXIpLHRoaXMuX2NhY2hlZFJlbmRlcmVySnNvbj10aGlzLnJlbmRlcmVyLnRvSlNPTigpKTt9YXN5bmMgYXBwbHlSZW5kZXJlcihlLHQpe2NvbnN0IHI9ZSYmZS5waXhlbEJsb2NrO2lmKCEociYmci5waXhlbHMmJnIucGl4ZWxzLmxlbmd0aD4wKSlyZXR1cm4gbnVsbDtsZXQgaTt0aGlzLnVwZGF0ZVJlbmRlcmVyKCk7Y29uc3Qgcz10aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmluc3RhbmNlLHtiYW5kSWRzOm59PXRoaXM7cmV0dXJuIGk9cz9hd2FpdCBzLnN5bWJvbGl6ZSh7Li4uZSxzaW1wbGVTdHJldGNoUGFyYW1zOnQsYmFuZElkczpufSk6dGhpcy5zeW1ib2xpemVyLnN5bWJvbGl6ZSh7Li4uZSxzaW1wbGVTdHJldGNoUGFyYW1zOnQsYmFuZElkczpufSksaX1nZXRUaWxlVXJsKGUsdCxyKXtyZXR1cm4gXCJSYXN0ZXJUaWxlU2VydmVyXCI9PT10aGlzLnJhc3Rlci5kYXRhc2V0Rm9ybWF0P2Ake3RoaXMudXJsfS90aWxlLyR7ZX0vJHt0fS8ke3J9YDpcIlwifWdldENvbXBhdGlibGVUaWxlSW5mbyhlLHQpe2lmKCF0aGlzLmxvYWRlZClyZXR1cm4gbnVsbDtjb25zdCByPVMkMShlKTtyZXR1cm4geCQ1LmNyZWF0ZSh7c2l6ZToyNTYsc3BhdGlhbFJlZmVyZW5jZTplLG9yaWdpbjpyP3t4OnIub3JpZ2luWzBdLHk6ci5vcmlnaW5bMV19Ont4OnQueG1pbix5OnQueW1heH19KX1nZXRDb21wYXRpYmxlRnVsbEV4dGVudChlKXtyZXR1cm4gdGhpcy5sb2FkZWQ/KHRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50JiZ0aGlzLl9jb21wYXRpYmxlRnVsbEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhlKXx8KHRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50PXRoaXMucmFzdGVyLmNvbXB1dGVFeHRlbnQoZSkpLHRoaXMuX2NvbXBhdGlibGVGdWxsRXh0ZW50KTpudWxsfWFzeW5jIGZldGNoVGlsZShlLHQscixpPXt9KXtpZihpLnJlcXVlc3RBc0ltYWdlRWxlbWVudCl7Y29uc3Qgcz10aGlzLmdldFRpbGVVcmwoZSx0LHIpO3JldHVybiBVKHMse3Jlc3BvbnNlVHlwZTpcImltYWdlXCIscXVlcnk6e3NsaWNlSWQ6dGhpcy5fc2xpY2VJZCxfdHM6aS50aW1lc3RhbXB9LHNpZ25hbDppLnNpZ25hbH0pLnRoZW4oKGU9PmUuZGF0YSkpfWF3YWl0IHRoaXMuX2luaXRKb2JIYW5kbGVyKCk7Y29uc3Qgcz1cInJhc3Rlci1zaGFkZWQtcmVsaWVmXCI9PT10aGlzLnJlbmRlcmVyLnR5cGU/e2NvbHM6MSxyb3dzOjF9Om51bGw7aWYodGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil7Y29uc3QgZT10aGlzLl9zbGljZUlkO2k9e211bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOnRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24sc2xpY2VJZDplLGJ1ZmZlcjpzLC4uLml9O31yZXR1cm4gdGhpcy5yYXN0ZXIuZmV0Y2hUaWxlKGUsdCxyLGkpfWFzeW5jIGZldGNoUGl4ZWxzKGUsdCxyLGkpe2lmKGF3YWl0IHRoaXMuX2luaXRKb2JIYW5kbGVyKCksdGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil7Y29uc3QgZT10aGlzLl9zbGljZUlkO2k9e211bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOnRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24sc2xpY2VJZDplLC4uLml9O31yZXR1cm4gdGhpcy5yYXN0ZXIuZmV0Y2hQaXhlbHMoZSx0LHIsaSl9aWRlbnRpZnkoZSx0PXt9KXtyZXR1cm4gdGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbiYmIXQubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24mJih0PXsuLi50LG11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uOnRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb259KSx0aGlzLnJhc3Rlci5pZGVudGlmeShlLHQpfWluY3JlYXNlUmFzdGVySm9iSGFuZGxlclVzYWdlKCl7dGhpcy5fcmFzdGVySm9iSGFuZGxlci5yZWZDb3VudCsrO31kZWNyZWFzZVJhc3RlckpvYkhhbmRsZXJVc2FnZSgpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIucmVmQ291bnQtLSx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLnJlZkNvdW50PD0wJiZ0aGlzLl9zaHV0ZG93bkpvYkhhbmRsZXIoKTt9X2NvbmZpZ0RlZmF1bHRTZXR0aW5ncygpe3RoaXMuX2NvbmZpZ0RlZmF1bHRJbnRlcnBvbGF0aW9uKCksdGhpcy5fY29uZmlnRGVmYXVsdFNsaWNlKCksdGhpcy5fY29uZmlnRGVmYXVsdFJlbmRlcmVyKCk7fV9pbml0Sm9iSGFuZGxlcigpe2lmKG51bGwhPXRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2UpcmV0dXJuIHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2U7Y29uc3QgZT1uZXcgbiQ0O3JldHVybiB0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlPWUuaW5pdGlhbGl6ZSgpLnRoZW4oKCgpPT57dGhpcy5fcmFzdGVySm9iSGFuZGxlci5pbnN0YW5jZT1lLHRoaXMucmFzdGVyLnJhc3RlckpvYkhhbmRsZXI9ZSx0aGlzLnJlbmRlcmVyJiZ0aGlzLnVwZGF0ZVJlbmRlcmVyKCk7fSkpLmNhdGNoKCgoKT0+bnVsbCkpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuY29ubmVjdGlvblByb21pc2V9X3NodXRkb3duSm9iSGFuZGxlcigpe3RoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UmJnRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2UuZGVzdHJveSgpLHRoaXMuX3Jhc3RlckpvYkhhbmRsZXIuaW5zdGFuY2U9bnVsbCx0aGlzLl9yYXN0ZXJKb2JIYW5kbGVyLmNvbm5lY3Rpb25Qcm9taXNlPW51bGwsdGhpcy5fcmFzdGVySm9iSGFuZGxlci5yZWZDb3VudD0wLHRoaXMucmFzdGVyLnJhc3RlckpvYkhhbmRsZXI9bnVsbDt9X2NvbmZpZ0RlZmF1bHRJbnRlcnBvbGF0aW9uKCl7aWYobnVsbD09dGhpcy5pbnRlcnBvbGF0aW9uKXt2YXIgZTtjb25zdCB0PU0kMih0aGlzLnJhc3RlckluZm8sdGhpcy5yYXN0ZXIudGlsZVR5cGUsbnVsbD09KGU9dGhpcy5zb3VyY2VKU09OKT92b2lkIDA6ZS5kZWZhdWx0UmVzYW1wbGluZ01ldGhvZCk7dGhpcy5fc2V0KFwiaW50ZXJwb2xhdGlvblwiLHQpO319X2NvbmZpZ0RlZmF1bHRTbGljZSgpe2NvbnN0e211bHRpZGltZW5zaW9uYWxJbmZvOmV9PXRoaXMucmFzdGVyLnJhc3RlckluZm87aWYociQyKGUpKXtpZighdGhpcy5tdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvbil7Y29uc3QgdD1lLnZhcmlhYmxlc1swXSxyPVtdO3QuZGltZW5zaW9ucy5mb3JFYWNoKChlPT57ci5wdXNoKG5ldyBuJDMoe3ZhcmlhYmxlTmFtZTp0Lm5hbWUsZGltZW5zaW9uTmFtZTplLm5hbWUsdmFsdWVzOmUuaGFzUmVndWxhckludGVydmFscz9lLmV4dGVudFswXTplLnZhbHVlc1swXSxpc1NsaWNlOiEwfSkpO30pKSx0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uPXI7fXRoaXMuX3NsaWNlSWQ9dGhpcy5yYXN0ZXIuZ2V0U2xpY2VJbmRleCh0aGlzLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKTt9fV9jb25maWdEZWZhdWx0UmVuZGVyZXIoKXtjb25zdCBlPXRoaXMucmFzdGVyLnJhc3RlckluZm87dmFyIHQscjsodGhpcy5iYW5kSWRzfHwodGhpcy5iYW5kSWRzPVYoZSkpLHRoaXMucmVuZGVyZXIpfHwodGhpcy5yZW5kZXJlcj1qJDEoZSx7YmFuZElkczp0aGlzLmJhbmRJZHMsdmFyaWFibGVOYW1lOm51bGw9PSh0PXRoaXMubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24pfHxudWxsPT0ocj10WzBdKT92b2lkIDA6ci52YXJpYWJsZU5hbWV9KSk7dGhpcy5zeW1ib2xpemVyPyh0aGlzLnN5bWJvbGl6ZXIucmVuZGVyZXJKU09OPUsodGhpcy5yZW5kZXJlci50b0pTT04oKSksdGhpcy5zeW1ib2xpemVyLnJhc3RlckluZm89ZSk6dGhpcy5zeW1ib2xpemVyPW5ldyBOKHtyZW5kZXJlckpTT046dGhpcy5yZW5kZXJlci50b0pTT04oKSxyYXN0ZXJJbmZvOmV9KSx0aGlzLnN5bWJvbGl6ZXIuYmluZCgpfHxKLndhcm4oXCJpbWFnZXJ5LXRpbGUtbWl4aW5cIixcIlRoZSBnaXZlbiByZW5kZXJlciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBsYXllci5cIik7fX07cmV0dXJuIGUkMihbeSQxKCldLHgucHJvdG90eXBlLFwiX2NhY2hlZFJlbmRlcmVySnNvblwiLHZvaWQgMCksZSQyKFt5JDEoKV0seC5wcm90b3R5cGUsXCJfc2xpY2VJZFwiLHZvaWQgMCksZSQyKFt5JDEoKV0seC5wcm90b3R5cGUsXCJfY29tcGF0aWJsZUZ1bGxFeHRlbnRcIix2b2lkIDApLGUkMihbeSQxKCldLHgucHJvdG90eXBlLFwiX3Jhc3RlckpvYkhhbmRsZXJcIix2b2lkIDApLGUkMihbeSQxKCldLHgucHJvdG90eXBlLFwiYmFuZElkc1wiLHZvaWQgMCksZSQyKFt5JDEoKV0seC5wcm90b3R5cGUsXCJjb3B5cmlnaHRcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOk0kMX0pLG8kMihcInJhc3RlckluZm8uZXh0ZW50XCIpXSx4LnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUkMihbeSQxKCldLHgucHJvdG90eXBlLFwiaW50ZXJwb2xhdGlvblwiLHZvaWQgMCksZSQyKFt5JDEoKV0seC5wcm90b3R5cGUsXCJpb0NvbmZpZ1wiLHZvaWQgMCksZSQyKFt5JDEoe3R5cGU6W24kM119KV0seC5wcm90b3R5cGUsXCJtdWx0aWRpbWVuc2lvbmFsRGVmaW5pdGlvblwiLG51bGwpLGUkMihbeSQxKCldLHgucHJvdG90eXBlLFwicmFzdGVyXCIsdm9pZCAwKSxlJDIoW3kkMSh7cmVhZE9ubHk6ITB9KSxvJDIoXCJyYXN0ZXIucmFzdGVySW5mb1wiKV0seC5wcm90b3R5cGUsXCJyYXN0ZXJJbmZvXCIsdm9pZCAwKSxlJDIoW3kkMSgpXSx4LnByb3RvdHlwZSxcInNvdXJjZUpTT05cIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOmt9KSxvJDIoXCJyYXN0ZXJJbmZvLnNwYXRpYWxSZWZlcmVuY2VcIildLHgucHJvdG90eXBlLFwic3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZSQyKFt5JDEoe3R5cGU6eCQ1fSksbyQyKFwicmFzdGVySW5mby5zdG9yYWdlSW5mby50aWxlSW5mb1wiKV0seC5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksZSQyKFt5JDEoZiQyKV0seC5wcm90b3R5cGUsXCJ1cmxcIixudWxsKSxlJDIoW3kkMSh7dHlwZXM6ZCQzfSldLHgucHJvdG90eXBlLFwicmVuZGVyZXJcIixudWxsKSxlJDIoW3kkMSgpXSx4LnByb3RvdHlwZSxcInN5bWJvbGl6ZXJcIix2b2lkIDApLHg9ZSQyKFtpJDMoXCJlc3JpLmxheWVycy5JbWFnZXJ5VGlsZU1peGluXCIpXSx4KSx4fTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBzPWNsYXNzIGV4dGVuZHMgYSQye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmJsb2NrV2lkdGg9dm9pZCAwLHRoaXMuYmxvY2tIZWlnaHQ9dm9pZCAwLHRoaXMuY29tcHJlc3Npb249bnVsbCx0aGlzLm9yaWdpbj1udWxsLHRoaXMuZmlyc3RQeXJhbWlkTGV2ZWw9bnVsbCx0aGlzLm1heGltdW1QeXJhbWlkTGV2ZWw9bnVsbCx0aGlzLnB5cmFtaWRTY2FsaW5nRmFjdG9yPTIsdGhpcy5weXJhbWlkQmxvY2tXaWR0aD1udWxsLHRoaXMucHlyYW1pZEJsb2NrSGVpZ2h0PW51bGwsdGhpcy5pc1ZpcnR1YWxUaWxlSW5mbz0hMSx0aGlzLnRpbGVJbmZvPW51bGwsdGhpcy5ibG9ja0JvdW5kYXJ5PW51bGw7fX07ZSQyKFt5JDEoe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxzLnByb3RvdHlwZSxcImJsb2NrV2lkdGhcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0scy5wcm90b3R5cGUsXCJibG9ja0hlaWdodFwiLHZvaWQgMCksZSQyKFt5JDEoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxzLnByb3RvdHlwZSxcImNvbXByZXNzaW9uXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpqJDIsanNvbjp7d3JpdGU6ITB9fSldLHMucHJvdG90eXBlLFwib3JpZ2luXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLHMucHJvdG90eXBlLFwiZmlyc3RQeXJhbWlkTGV2ZWxcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0scy5wcm90b3R5cGUsXCJtYXhpbXVtUHlyYW1pZExldmVsXCIsdm9pZCAwKSxlJDIoW3kkMSgpXSxzLnByb3RvdHlwZSxcInB5cmFtaWRTY2FsaW5nRmFjdG9yXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLHMucHJvdG90eXBlLFwicHlyYW1pZEJsb2NrV2lkdGhcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0scy5wcm90b3R5cGUsXCJweXJhbWlkQmxvY2tIZWlnaHRcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOkJvb2xlYW4sanNvbjp7d3JpdGU6ITB9fSldLHMucHJvdG90eXBlLFwiaXNWaXJ0dWFsVGlsZUluZm9cIix2b2lkIDApLGUkMihbeSQxKHtqc29uOnt3cml0ZTohMH19KV0scy5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLHZvaWQgMCksZSQyKFt5JDEoKV0scy5wcm90b3R5cGUsXCJibG9ja0JvdW5kYXJ5XCIsdm9pZCAwKSxzPWUkMihbaSQzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5SYXN0ZXJTdG9yYWdlSW5mb1wiKV0scyk7dmFyIHAkMj1zO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdSQ0PTVlLTQsbSQzPWZ1bmN0aW9uKGUsbil7Y29uc3QgdD0oZS5pc1dHUzg0fHxlLmlzV2ViTWVyY2F0b3IpJiYobi5pc1dHUzg0fHxuLmlzV2ViTWVyY2F0b3IpO3JldHVybiAhKGUuZXF1YWxzKG4pfHx0KX0scCQxPWZ1bmN0aW9uKGUsbil7Y29uc3QgdD0oZVswXStlWzRdK2VbNCpuLmNvbHNdK2VbNCpuLmNvbHMrNF0pLzQsbz0oZVsxXStlWzVdK2VbNCpuLnJvd3MrMV0rZVs0Km4ucm93cys1XSkvNDtyZXR1cm4gW01hdGguYWJzKHQtZVsyKm4ucm93cysyXSksTWF0aC5hYnMoby1lWzIqbi5yb3dzKzNdKV19LGYkMT0zMjthc3luYyBmdW5jdGlvbiBoJDIoKXtpZihWJDEoKXx8IVgoKSlyZXR1cm4gbnVsbDthd2FpdCBEKCk7fWZ1bmN0aW9uIE0obixvLHIscz1udWxsKXtpZihuLnNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKG8pKXJldHVybiBuO2NvbnN0IGw9bSQzKG4uc3BhdGlhbFJlZmVyZW5jZSxvKTtpZihsJiYhViQxKCkpdGhyb3cgbmV3IHMkMShcInJhc3RlcnByb2plY3Rpb25oZWxwZXItcHJvamVjdFJlc29sdXRpb25cIixcInByb2plY3Rpb24gZW5naW5lIGlzIG5vdCBsb2FkZWRcIik7Y29uc3QgYz1yLmNlbnRlcix1PW5ldyBNJDEoe3htaW46Yy54LW4ueC8yLHhtYXg6Yy54K24ueC8yLHltaW46Yy55LW4ueS8yLHltYXg6Yy55K24ueS8yLHNwYXRpYWxSZWZlcmVuY2U6bi5zcGF0aWFsUmVmZXJlbmNlfSkscD1sP0godSxvLHMpOmckMyh1LG8pO2lmKG51bGw9PXApcmV0dXJuIG51bGw7cmV0dXJuIHt4OnAueG1heC1wLnhtaW4seTpwLnltYXgtcC55bWlufX1mdW5jdGlvbiB3JDIoZSxuPS4wMSl7cmV0dXJuIEcoZSk/bi9HKGUpOjB9ZnVuY3Rpb24gZCQyKG8saSxyPW51bGwscz0hMCl7Y29uc3QgbD1vLnNwYXRpYWxSZWZlcmVuY2U7aWYobC5lcXVhbHMoaSkpcmV0dXJuIG87Y29uc3QgYz1tJDMobCxpKTtpZihjJiYhViQxKCkpdGhyb3cgbmV3IHMkMShcInJhc3RlcnByb2plY3Rpb25oZWxwZXItcHJvamVjdFJlc29sdXRpb25cIixcInByb2plY3Rpb24gZW5naW5lIGlzIG5vdCBsb2FkZWRcIik7Y29uc3QgcD1jP0gobyxpLHIpOmckMyhvLGkpO2lmKHAmJnMmJmkuaXNHZW9ncmFwaGljKXt2YXIgZixoO2NvbnN0W2UsdF09bC5pc1dlYk1lcmNhdG9yP1MkMShsKS5vcmlnaW46bnVsbCE9KGY9bnVsbD09KGg9UyQxKGwpKT92b2lkIDA6aC52YWxpZCk/ZjpbXSxpPXckMihsKTtpJiZudWxsIT1lJiZudWxsIT10JiYoTWF0aC5hYnMoby54LWUpPGkmJk1hdGguYWJzKDE4MC1wLngpPHUkND9wLngtPTM2MDpNYXRoLmFicyhvLngtdCk8aSYmTWF0aC5hYnMoMTgwK3AueCk8dSQ0JiYocC54Kz0zNjApKTt9cmV0dXJuIHB9ZnVuY3Rpb24gZyQyKGkscixzPW51bGwsbD0hMCl7dmFyIGMscCxmLGg7Y29uc3QgeT1pLnNwYXRpYWxSZWZlcmVuY2U7aWYoeS5lcXVhbHMocikpcmV0dXJuIGk7Y29uc3QgTT1tJDMoeSxyKTtpZihNJiYhViQxKCkpdGhyb3cgbmV3IHMkMShcInJhc3RlcnByb2plY3Rpb25oZWxwZXItcHJvamVjdEV4dGVudFwiLFwicHJvamVjdGlvbiBlbmdpbmUgaXMgbm90IGxvYWRlZFwiKTtjb25zdCBnPU0/SChpLHIscyk6ZyQzKGkscik7bGV0W1Isal09bnVsbCE9KGM9bnVsbD09KHA9UyQxKHkpKT92b2lkIDA6cC5vcmlnaW4pP2M6W107aWYoZyYmbCYmeS5pc1dlYk1lcmNhdG9yJiZyLmlzR2VvZ3JhcGhpYyYmbnVsbCE9UiYmbnVsbCE9ail7Y29uc3QgZT0uMDAxLG49MWUzO2lmKE1hdGguYWJzKGkueG1pbi1SKTxlJiZNYXRoLmFicyhqLWkueG1heCk+biYmTWF0aC5hYnMoMTgwLWcueG1heCk8dSQ0KXtnLnhtaW49LTE4MDtjb25zdCBlPVtdO2UucHVzaChuZXcgaiQyKGkueG1heCxpLnltaW4seSkpLGUucHVzaChuZXcgaiQyKGkueG1heCwoaS55bWluK2kueW1heCkvMix5KSksZS5wdXNoKG5ldyBqJDIoaS54bWF4LGkueW1heCx5KSk7Y29uc3Qgbj1lLm1hcCgoZT0+ZCQyKGUscixzKSkpLmZpbHRlcigoZT0+IWlzTmFOKG51bGw9PWU/dm9pZCAwOmUueCkpKS5tYXAoKGU9PmUueCkpO2cueG1heD1NYXRoLm1heC5hcHBseShudWxsLG4pO31pZihNYXRoLmFicyhpLnhtYXgtaik8ZSYmTWF0aC5hYnMoUi1pLnhtaW4pPm4mJk1hdGguYWJzKDE4MCtnLnhtaW4pPHUkNCl7Zy54bWF4PTE4MDtjb25zdCBlPVtdO2UucHVzaChuZXcgaiQyKGkueG1pbixpLnltaW4seSkpLGUucHVzaChuZXcgaiQyKGkueG1pbiwoaS55bWluK2kueW1heCkvMix5KSksZS5wdXNoKG5ldyBqJDIoaS54bWluLGkueW1heCx5KSk7Y29uc3Qgbj1lLm1hcCgoZT0+ZCQyKGUscixzKSkpLmZpbHRlcigoZT0+IWlzTmFOKG51bGw9PWU/dm9pZCAwOmUueCkpKS5tYXAoKGU9PmUueCkpO2cueG1pbj1NYXRoLm1pbi5hcHBseShudWxsLG4pO319W1Isal09ci5pc1dlYk1lcmNhdG9yP1MkMShyKS5vcmlnaW46bnVsbCE9KGY9bnVsbD09KGg9UyQxKHIpKT92b2lkIDA6aC52YWxpZCk/ZjpbXTtjb25zdCBiPXckMihyKTtyZXR1cm4gYiYmbnVsbCE9UiYmbnVsbCE9aiYmKE1hdGguYWJzKGcueG1pbi1SKTxiJiYoZy54bWluPVIpLE1hdGguYWJzKGcueG1heC1qKTxiJiYoZy54bWF4PWopKSxnfWZ1bmN0aW9uIFIkMSh0LGkscixzPW51bGwsbD1udWxsLGM9ITEseD1bZiQxLGYkMV0pe3ZhciB1LGg7aWYobSQzKHQuc3BhdGlhbFJlZmVyZW5jZSxpLnNwYXRpYWxSZWZlcmVuY2UpJiYhViQxKCkpdGhyb3cgbmV3IHMkMShcInJhc3RlcnByb2plY3Rpb25oZWxwZXItcHJvamVjdFJlc29sdXRpb25cIixcInByb2plY3Rpb24gZW5naW5lIGlzIG5vdCBsb2FkZWRcIik7aWYoISh0JiZpJiZyKSlyZXR1cm4gbnVsbDtjb25zdHt4bWluOnkseW1pbjpNLHhtYXg6dyx5bWF4Omd9PXQsUj10LnNwYXRpYWxSZWZlcmVuY2Usaj1pLnNwYXRpYWxSZWZlcmVuY2UsW2Isdl09bnVsbCE9KHU9bnVsbD09KGg9UyQxKFIpKT92b2lkIDA6aC52YWxpZCk/dTpbXSxOPXt4OnhbMF0qci54LHk6eFsxXSpyLnl9LFM9e2NvbHM6TWF0aC5jZWlsKCh3LXkpL04ueC0uMSkrMSxyb3dzOk1hdGguY2VpbCgoZy1NKS9OLnktLjEpKzF9LHo9Ti54LFc9Ti55LEc9W107bGV0IFAsTD0hMTtmb3IobGV0IGU9MDtlPFMuY29scztlKyspe2NvbnN0IG49W107Zm9yKGxldCB0PTA7dDxTLnJvd3M7dCsrKXtsZXQgcj1kJDIobmV3IGokMih7eDp5K3oqZSx5OmctVyp0LHNwYXRpYWxSZWZlcmVuY2U6Un0pLGoscyk7bCYmKHI9bC5pbnZlcnNlVHJhbnNmb3JtKHIpKSxuLnB1c2gociksZT4wJiZjJiZyJiZQW3RdJiZudWxsIT1iJiZyLng8UFt0XS54JiYoci54Kz12LWIpLHI/KEcucHVzaCgoci54LWkueG1pbikvKGkueG1heC1pLnhtaW4pKSxHLnB1c2goKGkueW1heC1yLnkpLyhpLnltYXgtaS55bWluKSkpOihHLnB1c2goTmFOKSxHLnB1c2goTmFOKSxMPSEwKTt9UD1uO31jb25zdCBxPXAkMShHLFMpLEE9bmV3IEZsb2F0MzJBcnJheSgoUy5jb2xzLTEpKihTLnJvd3MtMSkqMio2KSxFPW5ldyBGbG9hdDMyQXJyYXkoWy0wLC0xLDEsLTEsMSwtMCwxLC0wLC0wXSksRj1uZXcgRmxvYXQzMkFycmF5KFstMSwxLDAsMCwtMSwxLDEsMCwwXSk7Zm9yKGxldCBlPTA7ZTxTLmNvbHMtMTtlKyspe2ZvcihsZXQgbj0wO248Uy5yb3dzLTE7bisrKXtsZXQgdD1lKlMucm93cyoyKzIqbjtjb25zdCBvPUdbdF0saT1HW3QrMV0scj1HW3QrMl0sYT1HW3QrM107dCs9MipTLnJvd3M7Y29uc3Qgcz1HW3RdLGw9R1t0KzFdLGM9R1t0KzJdLHg9R1t0KzNdO2xldCB1PTAsbT0xMioobiooUy5jb2xzLTEpK2UpO2ZvcihsZXQgZT0wO2U8MztlKyspQVttKytdPUVbdSsrXSpvK0VbdSsrXSpyK0VbdSsrXSpjO3U9MDtmb3IobGV0IGU9MDtlPDM7ZSsrKUFbbSsrXT1FW3UrK10qaStFW3UrK10qYStFW3UrK10qeDt1PTA7Zm9yKGxldCBlPTA7ZTwzO2UrKylBW20rK109Rlt1KytdKm8rRlt1KytdKnMrRlt1KytdKmM7dT0wO2ZvcihsZXQgZT0wO2U8MztlKyspQVttKytdPUZbdSsrXSppK0ZbdSsrXSpsK0ZbdSsrXSp4O31pZihMKWZvcihsZXQgZT0wO2U8QS5sZW5ndGg7ZSsrKWlzTmFOKEFbZV0pJiYoQVtlXT0tMSk7fXJldHVybiB7b2Zmc2V0czpHLGVycm9yOnEsY29lZmZpY2llbnRzOkEsc3BhY2luZzp4LHNpemU6W1MuY29scy0xLFMucm93cy0xXX19ZnVuY3Rpb24gaihlLG4sdCl7Y29uc3QgaT1NYXRoLmxvZyhlLngvbi5waXhlbFNpemUueCkvTWF0aC5MTjIscj1NYXRoLmxvZyhlLnkvbi5waXhlbFNpemUueSkvTWF0aC5MTjIsYT1uLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWx8fDA7bGV0IHM9XCJkb3duXCI9PT10P01hdGguZmxvb3IoTWF0aC5taW4oaSxyKSk6XCJ1cFwiPT09dD9NYXRoLmNlaWwoTWF0aC5tYXgoaSxyKSk6TWF0aC5yb3VuZCgoaStyKS8yKSxsPSExO3M8MD9zPTA6cz5hJiYobD1zPmErMyxzPWEpO2NvbnN0IGM9MioqcztyZXR1cm4ge3B5cmFtaWRMZXZlbDpzLHB5cmFtaWRSZXNvbHV0aW9uOm5ldyBqJDIoe3g6YypuLm5hdGl2ZVBpeGVsU2l6ZS54LHk6YypuLm5hdGl2ZVBpeGVsU2l6ZS55LHNwYXRpYWxSZWZlcmVuY2U6bi5zcGF0aWFsUmVmZXJlbmNlfSksZXhjZXNzaXZlUmVhZGluZzpsfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHQkM3tjb25zdHJ1Y3Rvcih0PTE1ZTMsZT01ZTMpe3RoaXMuX3RpbWVyPW51bGwsdGhpcy5fY2FjaGVkQmxvY2tzPW5ldyBNYXAsdGhpcy5fc2l6ZT0tMSx0aGlzLl9kdXJhdGlvbj10LHRoaXMuX2ludGVydmFsPU1hdGgubWluKHQsZSk7fWRlY3JlYXNlUmVmQ291bnQodCxlKXtjb25zdCBzPXQrXCIvXCIrZSxyPXRoaXMuX2NhY2hlZEJsb2NrcztpZihyLmhhcyhzKSl7Y29uc3QgdD1yLmdldChzKTtyZXR1cm4gdC5yZWZDb3VudC0tLHQucmVmQ291bnQ8PTAmJihyLmRlbGV0ZShzKSx0LmNvbnRyb2xsZXImJnQuY29udHJvbGxlci5hYm9ydCgpKSx0LnJlZkNvdW50fXJldHVybiAwfWdldEJsb2NrKHQsZSl7Y29uc3Qgcz10K1wiL1wiK2Uscj10aGlzLl9jYWNoZWRCbG9ja3M7aWYoci5oYXMocykpe2NvbnN0IHQ9ci5nZXQocyk7cmV0dXJuIHQudHM9RGF0ZS5ub3coKSx0LnJlZkNvdW50Kyssci5kZWxldGUocyksci5zZXQocyx0KSx0LmJsb2NrfXJldHVybiBudWxsfXB1dEJsb2NrKHQsZSxzLHI9bnVsbCl7Y29uc3QgaT10aGlzLl9jYWNoZWRCbG9ja3MsYz10K1wiL1wiK2U7aWYoaS5oYXMoYykpe2NvbnN0IHQ9aS5nZXQoYyk7dC50cz1EYXRlLm5vdygpLHQucmVmQ291bnQrKzt9ZWxzZSBpLnNldChjLHtibG9jazpzLHRzOkRhdGUubm93KCkscmVmQ291bnQ6MSxjb250cm9sbGVyOnJ9KTt0aGlzLnRyaW0oKSx0aGlzLnVwZGF0ZVRpbWVyKCk7fWRlbGV0ZUJsb2NrKHQsZSl7Y29uc3Qgcz10aGlzLl9jYWNoZWRCbG9ja3Mscj10K1wiL1wiK2U7cy5oYXMocikmJnMuZGVsZXRlKHIpO311cGRhdGVNYXhTaXplKHQpe3RoaXMuX3NpemU9dCx0aGlzLnRyaW0oKTt9ZW1wdHkoKXt0aGlzLl9jYWNoZWRCbG9ja3MuY2xlYXIoKSx0aGlzLmNsZWFyVGltZXIoKTt9Z2V0Q3VycmVudFNpemUoKXtyZXR1cm4gdGhpcy5fY2FjaGVkQmxvY2tzLnNpemV9dXBkYXRlVGltZXIoKXtpZihudWxsIT10aGlzLl90aW1lcilyZXR1cm47Y29uc3QgdD10aGlzLl9jYWNoZWRCbG9ja3M7dGhpcy5fdGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgZT1BcnJheS5mcm9tKHQpLHM9RGF0ZS5ub3coKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoJiZlW3JdWzFdLnRzPD1zLXRoaXMuX2R1cmF0aW9uO3IrKyl0LmRlbGV0ZShlW3JdWzBdKTswPT09dC5zaXplJiZ0aGlzLmNsZWFyVGltZXIoKTt9KSx0aGlzLl9pbnRlcnZhbCk7fXRyaW0oKXtjb25zdCB0PXRoaXMuX2NhY2hlZEJsb2NrcztpZigtMT09PXRoaXMuX3NpemV8fHRoaXMuX3NpemU+PXQuc2l6ZSlyZXR1cm47Y29uc3QgZT1BcnJheS5mcm9tKHQpO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGgtdGhpcy5fc2l6ZTtzKyspdC5kZWxldGUoZVtzXVswXSk7fWNsZWFyVGltZXIoKXtudWxsIT10aGlzLl90aW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPW51bGwpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBjJDM9bmV3IE1hcCxhJDE9bmV3IHQkMztmdW5jdGlvbiBpJDIoZSx0KXtyZXR1cm4gbnVsbD09dD9lOmAke2V9P3NsaWNlSWQ9JHt0fWB9ZnVuY3Rpb24gaCQxKGUsdCxuKXtpZighYyQzLmhhcyhlKSlyZXR1cm4gbnVsbD09dD9hJDEuZGVjcmVhc2VSZWZDb3VudChlLG4pOjA7Y29uc3Qgbz1jJDMuZ2V0KGUpO2lmKG51bGw9PW9bdF0pcmV0dXJuIGEkMS5kZWNyZWFzZVJlZkNvdW50KGUsbik7Y29uc3Qgcj1vW3RdLmNhY2hlO2lmKHIuaGFzKG4pKXtjb25zdCBlPXIuZ2V0KG4pO2lmKGUucmVmQ291bnQtLSwwPT09ZS5yZWZDb3VudCl7ci5kZWxldGUobik7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspb1tlXSYmb1tlXS5jYWNoZS5oYXMobikmJm9bZV0uY2FjaGUuZGVsZXRlKG4pO2UuY29udHJvbGxlciYmZS5jb250cm9sbGVyLmFib3J0KCk7fXJldHVybiBlLnJlZkNvdW50fXJldHVybiAwfWZ1bmN0aW9uIG0kMihlLHQsbil7aWYoIWMkMy5oYXMoZSkpcmV0dXJuIG51bGw9PXQ/YSQxLmdldEJsb2NrKGUsbik6bnVsbDtjb25zdCBvPWMkMy5nZXQoZSk7aWYobnVsbD09b1t0XSl7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspaWYob1tlXSYmb1tlXS5jYWNoZS5oYXMobikpe2NvbnN0IHQ9b1tlXS5jYWNoZS5nZXQobik7cmV0dXJuIHQucmVmQ291bnQrKyx0LmJsb2NrfXJldHVybiBhJDEuZ2V0QmxvY2soZSxuKX1jb25zdCByPW9bdF0uY2FjaGU7aWYoci5oYXMobikpe2NvbnN0IGU9ci5nZXQobik7cmV0dXJuIGUucmVmQ291bnQrKyxlLmJsb2NrfWZvcihsZXQgbD0wO2w8by5sZW5ndGg7bCsrKWlmKGwhPT10JiZvW2xdJiZvW2xdJiZvW2xdLmNhY2hlLmhhcyhuKSl7Y29uc3QgZT1vW2xdLmNhY2hlLmdldChuKTtyZXR1cm4gZS5yZWZDb3VudCsrLHIuc2V0KG4sZSksZS5ibG9ja31yZXR1cm4gbnVsbH1mdW5jdGlvbiB4JDMoZSx0LG4sbyxyPW51bGwpe2lmKCFjJDMuaGFzKGUpKXJldHVybiB2b2lkKG51bGw9PXQmJmEkMS5wdXRCbG9jayhlLG4sbyxyKSk7Y29uc3QgbD1jJDMuZ2V0KGUpO2lmKG51bGw9PWxbdF0pcmV0dXJuIHZvaWQgYSQxLnB1dEJsb2NrKGUsbixvLHIpO2NvbnN0IGk9e3JlZkNvdW50OjEsYmxvY2s6byxpc1Jlc29sdmVkOiExLGlzUmVqZWN0ZWQ6ITEsY29udHJvbGxlcjpyfTtvLnRoZW4oKCgpPT5pLmlzUmVzb2x2ZWQ9ITApKS5jYXRjaCgoKCk9PmkuaXNSZWplY3RlZD0hMCkpLGxbdF0uY2FjaGUuc2V0KG4saSk7fWZ1bmN0aW9uIGQkMShlLHQsbil7aWYoIWMkMy5oYXMoZSkpcmV0dXJuIHZvaWQobnVsbD09dCYmYSQxLmRlbGV0ZUJsb2NrKGUsbikpO2NvbnN0IG89YyQzLmdldChlKTtudWxsIT1vW3RdP29bdF0uY2FjaGUuZGVsZXRlKG4pOmEkMS5kZWxldGVCbG9jayhlLG4pO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBTPWNsYXNzIGV4dGVuZHMobiQ1KGEkMikpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnJhc3RlckpvYkhhbmRsZXI9bnVsbCx0aGlzLmRhdGFzZXROYW1lPW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PW51bGwsdGhpcy5yYXN0ZXJJbmZvPW51bGwsdGhpcy5pb0NvbmZpZz17c2FtcGxpbmc6XCJjbG9zZXN0XCJ9O31hc3luYyBpbml0KCl7Y29uc3QgZT1oJDIoKTt0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoZSksYXdhaXQgdGhpcy53aGVuKCk7fW5vcm1hbGl6ZUN0b3JBcmdzKGUpe3JldHVybiBlJiZlLmlvQ29uZmlnJiYoZT17Li4uZSxpb0NvbmZpZzp7cmVzb2x1dGlvbjpudWxsLGJhbmRJZHM6bnVsbCxzYW1wbGluZzpcImNsb3Nlc3RcIix0aWxlSW5mbzp4JDUuY3JlYXRlKCksLi4uZS5pb0NvbmZpZ319KSxlfXNldCB1cmwoZSl7dGhpcy5fc2V0KFwidXJsXCIseSQyKGUsbiQyLmdldExvZ2dlcih0aGlzLmRlY2xhcmVkQ2xhc3MpKSk7fWFzeW5jIG9wZW4oZSl7dGhyb3cgbmV3IHMkMShcIkJhc2VSYXN0ZXI6b3Blbi1ub3QtaW1wbGVtZW50ZWRcIixcIm9wZW4oKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9YXN5bmMgZmV0Y2hUaWxlKGUscixvLGk9e30pe3ZhciBuO2NvbnN0e3RpbGVJbmZvOnN9PWksYT1zLmxvZEF0KGUpLGw9dGhpcy5nZXRUaWxlRXh0ZW50KHt4OmEucmVzb2x1dGlvbix5OmEucmVzb2x1dGlvbn0scixvLHMub3JpZ2luLHMuc3BhdGlhbFJlZmVyZW5jZSxzLnNpemUpO3JldHVybiBudWxsIT0obj1pLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKSYmbi5sZW5ndGgmJnIkMih0aGlzLnJhc3RlckluZm8ubXVsdGlkaW1lbnNpb25hbEluZm8pJiZudWxsPT1pLnNsaWNlSWQmJihpPXsuLi5pLHNsaWNlSWQ6dGhpcy5nZXRTbGljZUluZGV4KGkubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb24pfHwwfSksdGhpcy5mZXRjaFBpeGVscyhsLHMuc2l6ZVswXSxzLnNpemVbMV0saSl9YXN5bmMgaWRlbnRpZnkoZSxyPXt9KXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOm8sZXh0ZW50Oml9PXRoaXMucmFzdGVySW5mbyx7ZGF0dW1UcmFuc2Zvcm1hdGlvbjpufT1yO2xldCBzPWQkMihlLG8sbik7aWYoIWkuaW50ZXJzZWN0cyhzKSlyZXR1cm4ge2xvY2F0aW9uOnMsdmFsdWU6bnVsbH07aWYociQyKHRoaXMucmFzdGVySW5mby50cmFuc2Zvcm0pKXtjb25zdCBlPXRoaXMucmFzdGVySW5mby50cmFuc2Zvcm0uaW52ZXJzZVRyYW5zZm9ybShzKTtpZighdGhpcy5yYXN0ZXJJbmZvLm5hdGl2ZUV4dGVudC5pbnRlcnNlY3RzKGUpKXJldHVybiB7bG9jYXRpb246ZSx2YWx1ZTpudWxsfTtzPWU7fWxldCBhPTA7aWYoci5zcmNSZXNvbHV0aW9uKXthPWooci5zcmNSZXNvbHV0aW9uLHRoaXMucmFzdGVySW5mbyx0aGlzLmlvQ29uZmlnLnNhbXBsaW5nKS5weXJhbWlkTGV2ZWw7fWVsc2UgaWYoYT1hd2FpdCB0aGlzLmNvbXB1dGVCZXN0UHlyYW1pZExldmVsRm9yTG9jYXRpb24oZSxyKSxudWxsPT1hKXJldHVybiB7bG9jYXRpb246cyx2YWx1ZTpudWxsfTtjb25zdCBsPXRoaXMuaWRlbnRpZnlQaXhlbExvY2F0aW9uKHMsYSxudWxsKTtpZihudWxsPT09bClyZXR1cm4ge2xvY2F0aW9uOnMsdmFsdWU6bnVsbH07Y29uc3R7cm93OmMsY29sOnUscm93T2Zmc2V0Om0sY29sT2Zmc2V0OmZ9PWwsaD1pJDIodGhpcy51cmwsci5zbGljZUlkKSxkPWAke2F9LyR7Y30vJHt1fWA7bGV0IHA9bSQyKGgsbnVsbCxkKTtyJDIocCl8fChwPXRoaXMuZmV0Y2hSYXdUaWxlKGEsYyx1LHIpLHgkMyhoLG51bGwsZCxwKSk7Y29uc3QgeD1hd2FpdCBwO2lmKCEoeCYmeC5waXhlbHMmJngucGl4ZWxzLmxlbmd0aD4wKSlyZXR1cm4ge2xvY2F0aW9uOnMsdmFsdWU6bnVsbH07Y29uc3QgeT1tKnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5ibG9ja0hlaWdodCtmO3JldHVybiB7bG9jYXRpb246cyx2YWx1ZToheC5tYXNrfHx4Lm1hc2tbeV0/eC5waXhlbHMubWFwKChlPT5lW3ldKSk6bnVsbCxweXJhbWlkTGV2ZWw6YX19YXN5bmMgZmV0Y2hQaXhlbHMoZSx0LG8saT17fSl7Y29uc3Qgbj1lLmNsb25lKCkubm9ybWFsaXplKCk7ZT1uWzBdO2NvbnN0IHM9dGhpcy5yYXN0ZXJJbmZvLnNwYXRpYWxSZWZlcmVuY2UsYT0hZS5zcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhzKSx7ZGF0dW1UcmFuc2Zvcm1hdGlvbjpsfT1pLGM9bmV3IGokMih7eDooZS54bWF4LWUueG1pbikvdCx5OihlLnltYXgtZS55bWluKS9vLHNwYXRpYWxSZWZlcmVuY2U6ZS5zcGF0aWFsUmVmZXJlbmNlfSksbT1pLnNyY1Jlc29sdXRpb258fChhP00oYyxzLGUsbCk6Yyk7aWYoIW0pcmV0dXJuIG51bGw7Y29uc3R7cHlyYW1pZExldmVsOmYscHlyYW1pZFJlc29sdXRpb246aCxleGNlc3NpdmVSZWFkaW5nOmR9PWoobSx0aGlzLnJhc3RlckluZm8sdGhpcy5pb0NvbmZpZy5zYW1wbGluZyk7aWYoZClyZXR1cm4gbnVsbDtjb25zdCBwPXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbztsZXQgeD1hP2ckMihlLHMsbCk6ZTtjb25zdCB5PWUkMyh0aGlzLnJhc3RlckluZm8udHJhbnNmb3JtKTtpZih5JiYoeD15LmludmVyc2VUcmFuc2Zvcm0oeCkpLG51bGw9PXgpcmV0dXJuIG51bGw7Y29uc3QgST17eDpNYXRoLmZsb29yKCh4LnhtaW4tcC5vcmlnaW4ueCkvaC54Ky4xKSx5Ok1hdGguZmxvb3IoKHAub3JpZ2luLnkteC55bWF4KS9oLnkrLjEpfSxrPU1hdGguY2VpbCgoeC54bWF4LXgueG1pbikvaC54LS4xKSx2PU1hdGguY2VpbCgoeC55bWF4LXgueW1pbikvaC55LS4xKTtpZihrL3Q+OHx8di9vPjgpcmV0dXJuIG51bGw7Y29uc3QgQj1hd2FpdCB0aGlzLmZldGNoUmF3UGl4ZWxzKGYsSSx7d2lkdGg6ayxoZWlnaHQ6dn0saSk7aWYoIUIpcmV0dXJuIG51bGw7Y29uc3QgUD1mPjA/cC5weXJhbWlkQmxvY2tXaWR0aDpwLmJsb2NrV2lkdGgsaiQxPWY+MD9wLnB5cmFtaWRCbG9ja0hlaWdodDpwLmJsb2NrSGVpZ2h0O2lmKCFhJiYxPT09Qi5waXhlbEJsb2Nrcy5sZW5ndGgmJlA9PT10JiZqJDE9PT1vJiZtLng9PT1jLngmJm0ueT09PWMueSlyZXR1cm4ge2V4dGVudDplLHNyY0V4dGVudDp4LHBpeGVsQmxvY2s6Qi5waXhlbEJsb2Nrc1swXX07Y29uc3QgVD1SJDEoZSxCLmV4dGVudCxjLGwseSk7bGV0IEY7Y29uc3QgUz0haS5yZXF1ZXN0UmF3RGF0YSxMPXtyb3dzOlQuc3BhY2luZ1swXSxjb2xzOlQuc3BhY2luZ1sxXX0se3BpeGVsQmxvY2tzOkQsbW9zYWljU2l6ZTpILGlzUGFydGlhbGx5RmlsbGVkOlV9PUI7aWYodGhpcy5yYXN0ZXJKb2JIYW5kbGVyKUY9YXdhaXQgdGhpcy5yYXN0ZXJKb2JIYW5kbGVyLm1vc2FpY0FuZFRyYW5zZm9ybSh7c3JjUGl4ZWxCbG9ja3M6RCxzcmNNb3NhaWNTaXplOkgsZGVzdERpbWVuc2lvbjpTP3t3aWR0aDp0LGhlaWdodDpvfTpudWxsLGNvZWZzOlM/VC5jb2VmZmljaWVudHM6bnVsbCxzYW1wbGVTcGFjaW5nOlM/TDpudWxsLGludGVycG9sYXRpb246aS5pbnRlcnBvbGF0aW9ufSxpKTtlbHNlIHtjb25zdCBlPXAkMyhELEgpO0Y9Uz9DKGUse3dpZHRoOnQsaGVpZ2h0Om99LFQuY29lZmZpY2llbnRzLEwsaS5pbnRlcnBvbGF0aW9uKTplO31yZXR1cm4gaS5yZXF1ZXN0UmF3RGF0YT97c3JjRXh0ZW50OngscGl4ZWxCbG9jazpGLHRyYW5zZm9ybUdyaWQ6VCxleHRlbnQ6ZSxpc1BhcnRpYWxseUZpbGxlZDpVfTp7c3JjRXh0ZW50OngsZXh0ZW50OmUscGl4ZWxCbG9jazpGfX1hc3luYyBmZXRjaFJhd1BpeGVscyhlLHQscixvKXtjb25zdHtvcmlnaW46aSxibG9ja0JvdW5kYXJ5Om59PXRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mbyx7YmxvY2tXaWR0aDpzLGJsb2NrSGVpZ2h0OmF9PXRoaXMuZ2V0QmxvY2tXaWR0aEhlaWdodChlKTtsZXR7eDpsLHk6Y309dCx7d2lkdGg6dSxoZWlnaHQ6Zn09cjtvLmJ1ZmZlciYmKGwtPW8uYnVmZmVyLmNvbHMsYy09by5idWZmZXIucm93cyx1Kz0yKm8uYnVmZmVyLmNvbHMsZis9MipvLmJ1ZmZlci5yb3dzKTtjb25zdCBoPU1hdGguZmxvb3IobC9zKSxkPU1hdGguZmxvb3IoYy9hKSxwPU1hdGguZmxvb3IoKGwrdS0xKS9zKSx4PU1hdGguZmxvb3IoKGMrZi0xKS9hKSx5PW5bZV07aWYoIXkpcmV0dXJuIG51bGw7Y29uc3R7bWluUm93OmcsbWluQ29sOncsbWF4Q29sOkksbWF4Um93Omt9PXk7aWYoeDxnfHxwPHd8fGQ+a3x8aD5JKXJldHVybiBudWxsO2NvbnN0IHY9W107bGV0IFIsYj0hMTtmb3IobGV0IG09ZDttPD14O20rKylmb3IobGV0IHQ9aDt0PD1wO3QrKyltPj1nJiZ0Pj13JiZrPj1tJiZJPj10PyhSPXRoaXMuX2ZldGNoUmF3VGlsZShlLG0sdCxvKSx0aGlzLmlvQ29uZmlnLmFsbG93UGFydGlhbEZpbGwmJihSPW5ldyBQcm9taXNlKChlPT57Ui50aGVuKCh0PT5lKHQpKSkuY2F0Y2goKCgpPT57Yj0hMCxlKG51bGwpO30pKTt9KSkpLHYucHVzaChSKSk6di5wdXNoKG51bGwpO2lmKDA9PT12Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBNPWF3YWl0IFByb21pc2UuYWxsKHYpLEM9e2hlaWdodDooeC1kKzEpKnMsd2lkdGg6KHAtaCsxKSphfSx7bmF0aXZlUGl4ZWxTaXplOkIsc3BhdGlhbFJlZmVyZW5jZTpQfT10aGlzLnJhc3RlckluZm8saj1CLngqMioqZSxUPUIueSoyKiplO3JldHVybiB7ZXh0ZW50Om5ldyBNJDEoe3htaW46aS54K2gqcypqLHhtYXg6aS54KyhwKzEpKnMqaix5bWluOmkueS0oeCsxKSphKlQseW1heDppLnktZCphKlQsc3BhdGlhbFJlZmVyZW5jZTpQfSkscGl4ZWxCbG9ja3M6TSxtb3NhaWNTaXplOkMsaXNQYXJ0aWFsbHlGaWxsZWQ6Yn19YXN5bmMgZmV0Y2hSYXdUaWxlKGUsdCxyLG8pe3Rocm93IG5ldyBzJDEoXCJCYXNlUmFzdGVyOnJlYWQtbm90LWltcGxlbWVudGVkXCIsXCJmZXRjaFJhd1RpbGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9Y29tcHV0ZUV4dGVudChlKXtyZXR1cm4gZyQyKHRoaXMucmFzdGVySW5mby5leHRlbnQsZSl9ZGVjb2RlUGl4ZWxCbG9jayhlLHQpe3JldHVybiAhdGhpcy5yYXN0ZXJKb2JIYW5kbGVyfHx0LnVzZUNhbnZhcz9UJDEoZSx0KTp0aGlzLnJhc3RlckpvYkhhbmRsZXIuZGVjb2RlKHtkYXRhOmUsb3B0aW9uczp0fSl9YXN5bmMgcmVxdWVzdChlLHQscil7dmFyIG8saTtjb25zdHtjdXN0b21GZXRjaFBhcmFtZXRlcnM6bn09dGhpcy5pb0NvbmZpZyx7cmFuZ2U6cyxxdWVyeTphLGhlYWRlcnM6bH09dDtyPW51bGwhPShvPW51bGwhPShpPXIpP2k6dC5yZXRyeUNvdW50KT9vOnRoaXMuaW9Db25maWcucmV0cnlDb3VudDtjb25zdCBjPXM/e1JhbmdlOmBieXRlcz0ke3MuZnJvbX0tJHtzLnRvfWB9Om51bGw7dHJ5e3JldHVybiBhd2FpdCBVKGUsey4uLnQscXVlcnk6ey4uLmEsLi4ubn0saGVhZGVyczp7Li4ubCwuLi5jfX0pfWNhdGNoKHUpe2lmKHI+MClyZXR1cm4gci0tLHRoaXMucmVxdWVzdChlLHQscik7dGhyb3cgdX19Z2V0U2xpY2VJbmRleChlKXtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzpyfT10aGlzLnJhc3RlckluZm87aWYoIXIkMihyKXx8bnVsbD09ZXx8IWUubGVuZ3RoKXJldHVybiBudWxsO2xldCBvPTA7Y29uc3QgaT1lWzBdLnZhcmlhYmxlTmFtZTtmb3IobGV0IHQ9MDt0PHIudmFyaWFibGVzLmxlbmd0aDt0Kyspe2NvbnN0IG49ci52YXJpYWJsZXNbdF0scz1uLmRpbWVuc2lvbnM7aWYobi5uYW1lIT09aSl7bys9cy5tYXAoKGU9PnRoaXMuX2dldERpbWVuc2lvblZhbHVlc0NvdW50KGUpKSkucmVkdWNlKCgoZSx0KT0+ZSt0KSk7YnJlYWt9Y29uc3QgYT1zLm1hcCgoZT0+dGhpcy5fZ2V0RGltZW5zaW9uVmFsdWVzQ291bnQoZSkpKSxsPXMubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8bDt0Kyspe2NvbnN0IHI9ZS5maWx0ZXIoKGU9PmUuZGltZW5zaW9uTmFtZT09PXNbdF0ubmFtZSkpWzBdO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7Y29uc3QgaT1BcnJheS5pc0FycmF5KHIudmFsdWVzWzBdKT9yLnZhbHVlc1swXVswXTpyLnZhbHVlc1swXSxuPXRoaXMuX2dldEluZGV4RnJvbURpbWVuc2lvbnMoaSxzW3RdKTtpZigtMT09PW4pcmV0dXJuIG51bGw7YS5zaGlmdCgpLG8rPXQ9PT1sLTE/bjpuKmEucmVkdWNlKCgoZSx0KT0+ZSt0KSk7fX1yZXR1cm4gb311cGRhdGVUaWxlSW5mbygpe2NvbnN0e3N0b3JhZ2VJbmZvOmUsc3BhdGlhbFJlZmVyZW5jZTp0LGV4dGVudDpyLHBpeGVsU2l6ZTpvfT10aGlzLnJhc3RlckluZm87aWYoIWUudGlsZUluZm8pe2NvbnN0IGk9W10sbj1lLm1heGltdW1QeXJhbWlkTGV2ZWx8fDA7bGV0IHM9TWF0aC5tYXgoby54LG8ueSksYT0xLy4wMjU0Kjk2KnM7Zm9yKGxldCBlPTA7ZTw9bjtlKyspaS5wdXNoKHtsZXZlbDpuLWUscmVzb2x1dGlvbjpzLHNjYWxlOmF9KSxzKj0yLGEqPTI7Y29uc3QgbD1uZXcgaiQyKHt4OnIueG1pbix5OnIueW1heCxzcGF0aWFsUmVmZXJlbmNlOnR9KTtlLnRpbGVJbmZvPW5ldyB4JDUoe29yaWdpbjpsLHNpemU6W2UuYmxvY2tXaWR0aCxlLmJsb2NrSGVpZ2h0XSxzcGF0aWFsUmVmZXJlbmNlOnQsbG9kczppfSksZS5pc1ZpcnR1YWxUaWxlSW5mbz0hMDt9fWNyZWF0ZVJlbW90ZURhdGFzZXRTdG9yYWdlSW5mbyhlLHQ9NTEyLHI9NTEyLG8pe2NvbnN0e3dpZHRoOmksaGVpZ2h0Om4sbmF0aXZlRXh0ZW50OnMscGl4ZWxTaXplOmEsc3BhdGlhbFJlZmVyZW5jZTpsfT1lLGM9bmV3IGokMih7eDpzLnhtaW4seTpzLnltYXgsc3BhdGlhbFJlZmVyZW5jZTpsfSk7bnVsbD09byYmKG89TWF0aC5tYXgoMCxNYXRoLnJvdW5kKE1hdGgubG9nKE1hdGgubWF4KGksbikpL01hdGguTE4yLTgpKSk7Y29uc3QgbT10aGlzLl9jb21wdXRlQmxvY2tCb3VuZGFyeShzLGEsbyw1MTIsNTEyKTtlLnN0b3JhZ2VJbmZvPW5ldyBwJDIoe2Jsb2NrV2lkdGg6dCxibG9ja0hlaWdodDpyLHB5cmFtaWRCbG9ja1dpZHRoOnQscHlyYW1pZEJsb2NrSGVpZ2h0OnIsb3JpZ2luOmMsZmlyc3RQeXJhbWlkTGV2ZWw6MSxtYXhpbXVtUHlyYW1pZExldmVsOm8sYmxvY2tCb3VuZGFyeTptfSk7fWFzeW5jIGNvbXB1dGVCZXN0UHlyYW1pZExldmVsRm9yTG9jYXRpb24oZSx0PXt9KXtyZXR1cm4gMH1pZGVudGlmeVBpeGVsTG9jYXRpb24oZSx0LHIpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6byxuYXRpdmVQaXhlbFNpemU6aSxuYXRpdmVFeHRlbnQ6bn09dGhpcy5yYXN0ZXJJbmZvLHtibG9ja1dpZHRoOnMsYmxvY2tIZWlnaHQ6YSxtYXhpbXVtUHlyYW1pZExldmVsOmwscHlyYW1pZFNjYWxpbmdGYWN0b3I6YyxvcmlnaW46dX09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLG09ZCQyKGUsbyxyKTtpZighbi5pbnRlcnNlY3RzKG0pKXJldHVybiBudWxsO2lmKHQ8MHx8dD5sKXJldHVybiBudWxsO2NvbnN0IGY9YyoqdCxoPWYqaS54LGQ9ZippLnkscD0odS55LW0ueSkvZC9hLHg9KG0ueC11LngpL2gvcyx5PU1hdGgubWluKGEtMSxNYXRoLmZsb29yKChwLU1hdGguZmxvb3IocCkpKmEpKSxnPU1hdGgubWluKHMtMSxNYXRoLmZsb29yKCh4LU1hdGguZmxvb3IoeCkpKnMpKTtyZXR1cm4ge3B5cmFtaWRMZXZlbDp0LHJvdzpNYXRoLmZsb29yKHApLGNvbDpNYXRoLmZsb29yKHgpLHJvd09mZnNldDp5LGNvbE9mZnNldDpnLHNyY0xvY2F0aW9uOm19fWdldFRpbGVFeHRlbnQoZSx0LHIsbyxpLG4pe2NvbnN0W3MsYV09bixsPW8ueCtyKnMqZS54LGM9bCtzKmUueCx1PW8ueS10KmEqZS55LGY9dS1hKmUueTtyZXR1cm4gbmV3IE0kMSh7eG1pbjpsLHhtYXg6Yyx5bWluOmYseW1heDp1LHNwYXRpYWxSZWZlcmVuY2U6aX0pfWdldEJsb2NrV2lkdGhIZWlnaHQoZSl7cmV0dXJuIHtibG9ja1dpZHRoOmU+MD90aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ucHlyYW1pZEJsb2NrV2lkdGg6dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrV2lkdGgsYmxvY2tIZWlnaHQ6ZT4wP3RoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby5weXJhbWlkQmxvY2tIZWlnaHQ6dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrSGVpZ2h0fX1pc0Jsb2NrT3V0c2lkZShlLHQscil7Y29uc3Qgbz10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uYmxvY2tCb3VuZGFyeVtlXTtyZXR1cm4gIW98fG8ubWF4Um93PHR8fG8ubWF4Q29sPHJ8fG8ubWluUm93PnR8fG8ubWluQ29sPnJ9X2NvbXB1dGVCbG9ja0JvdW5kYXJ5KGUsdCxyLG8saSl7bGV0e3g6bix5OnN9PXQ7Y29uc3QgYT1lLnhtaW4sbD1lLnltYXgsYz1be21pbkNvbDpNYXRoLmZsb29yKChlLnhtaW4tYSsuMSpuKS9vL24pLG1heENvbDpNYXRoLmZsb29yKChlLnhtYXgtYS0uMSpuKS9vL24pLG1pblJvdzpNYXRoLmZsb29yKChsLWUueW1heCsuMSpzKS9pL3MpLG1heFJvdzpNYXRoLmZsb29yKChsLWUueW1pbi0uMSpzKS9pL3MpfV07aWYocj4wKWZvcihsZXQgdT0wO3U8cjt1Kyspbio9MixzKj0yLGMucHVzaCh7bWluQ29sOk1hdGguZmxvb3IoKGUueG1pbi1hKy4xKm4pL28vbiksbWF4Q29sOk1hdGguZmxvb3IoKGUueG1heC1hLS4xKm4pL28vbiksbWluUm93Ok1hdGguZmxvb3IoKGwtZS55bWF4Ky4xKnMpL2kvbiksbWF4Um93Ok1hdGguZmxvb3IoKGwtZS55bWluLS4xKnMpL2kvbil9KTtyZXR1cm4gY31fZmV0Y2hSYXdUaWxlKGUscixvLGkpe2NvbnN0IG49dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnlbZV07aWYoIW4pcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdHttaW5Sb3c6cyxtaW5Db2w6YyxtYXhDb2w6dSxtYXhSb3c6bX09bjtpZihyPHN8fG88Y3x8cj5tfHxvPnUpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdCBmPWkkMih0aGlzLnVybCxpLnNsaWNlSWQpLGg9YCR7ZX0vJHtyfS8ke299YDtsZXQgZD1tJDIoZixpLnJlZ2lzdHJ5SWQsaCk7aWYoIXIkMihkKSl7Y29uc3QgdD1oJDMoKTtkPXRoaXMuZmV0Y2hSYXdUaWxlKGUscixvLHsuLi5pLHNpZ25hbDp0LnNpZ25hbH0pLHgkMyhmLGkucmVnaXN0cnlJZCxoLGQsdCksZC5jYXRjaCgoKCk9PntkJDEoZixpLnJlZ2lzdHJ5SWQsaCk7fSkpO31yZXR1cm4gaS5zaWduYWwmJnYkMShpLCgoKT0+e2gkMShmLGkucmVnaXN0cnlJZCxoKTt9KSksZH1fZ2V0SW5kZXhGcm9tRGltZW5zaW9ucyhlLHQpe2NvbnN0e2V4dGVudDpyLGludGVydmFsOm8sdW5pdDppLHZhbHVlczpufT10O2lmKG51bGwhPW4mJm4ubGVuZ3RoKXJldHVybiBBcnJheS5pc0FycmF5KG5bMF0pP24uZmluZEluZGV4KCh0PT50WzBdPD1lJiZ0WzFdPj1lKSk6bi5pbmRleE9mKGUpO2lmKGU+clsxXSlyZXR1cm4gLTE7Y29uc3Qgcz1yWzBdO2xldCBhPS0xO2lmKFwiSVNPODYwMVwiPT09aSl7dmFyIGw7c3dpdGNoKChudWxsPT0obD10LmludGVydmFsVW5pdCk/dm9pZCAwOmwudG9Mb3dlckNhc2UoKSl8fFwic2Vjb25kc1wiKXtjYXNlXCJzZWNvbmRzXCI6YT1NYXRoLnJvdW5kKChlLXMpLzFlMy9vKTticmVhaztjYXNlXCJtaW51dGVzXCI6YT1NYXRoLnJvdW5kKChlLXMpLzZlNC9vKTticmVhaztjYXNlXCJob3Vyc1wiOmE9TWF0aC5yb3VuZCgoZS1zKS8zNmU1L28pO2JyZWFrO2Nhc2VcImRheXNcIjphPU1hdGgucm91bmQoKGUtcykvODY0ZTUvbyk7YnJlYWs7Y2FzZVwieWVhcnNcIjphPU1hdGgucm91bmQoKG5ldyBEYXRlKGUpLmdldFVUQ0Z1bGxZZWFyKCktbmV3IERhdGUocykuZ2V0VVRDRnVsbFllYXIoKSkvbyk7YnJlYWs7Y2FzZVwiZGVjYWRlc1wiOmE9TWF0aC5yb3VuZCgobmV3IERhdGUoZSkuZ2V0VVRDRnVsbFllYXIoKS1uZXcgRGF0ZShzKS5nZXRVVENGdWxsWWVhcigpKS8xMC9vKTt9cmV0dXJuIGF9cmV0dXJuIE1hdGgucm91bmQoKGUtcykvbyl9X2dldERpbWVuc2lvblZhbHVlc0NvdW50KGUpe2NvbnN0e2V4dGVudDp0LGludGVydmFsOnIsdW5pdDpvLHZhbHVlczppfT1lO2xldCBuPShudWxsPT1pP3ZvaWQgMDppLmxlbmd0aCl8fDA7aWYobilyZXR1cm4gbjtjb25zdCBzPXRbMF07aWYoMD09PW4mJlwiSVNPODYwMVwiPT09byl7dmFyIGE7c3dpdGNoKChudWxsPT0oYT1lLmludGVydmFsVW5pdCk/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSl8fFwic2Vjb25kc1wiKXtjYXNlXCJzZWNvbmRzXCI6bj1NYXRoLnJvdW5kKCh0WzFdLXRbMF0pLzFlMy9yKTticmVhaztjYXNlXCJtaW51dGVzXCI6bj1NYXRoLnJvdW5kKCh0WzFdLXRbMF0pLzZlNC9yKTticmVhaztjYXNlXCJob3Vyc1wiOm49TWF0aC5yb3VuZCgodFsxXS10WzBdKS8zNmU1L3IpO2JyZWFrO2Nhc2VcImRheXNcIjpuPU1hdGgucm91bmQoKHRbMV0tdFswXSkvODY0ZTUvcik7YnJlYWs7Y2FzZVwieWVhcnNcIjpuPU1hdGgucm91bmQoKG5ldyBEYXRlKHRbMV0pLmdldFVUQ0Z1bGxZZWFyKCktbmV3IERhdGUocykuZ2V0VVRDRnVsbFllYXIoKSkvcik7YnJlYWs7Y2FzZVwiZGVjYWRlc1wiOm49TWF0aC5yb3VuZCgobmV3IERhdGUodFsxXSkuZ2V0VVRDRnVsbFllYXIoKS1uZXcgRGF0ZShzKS5nZXRVVENGdWxsWWVhcigpKS8xMC9yKTt9cmV0dXJuIG59cmV0dXJuIE1hdGgucm91bmQoKHRbMV0tdFswXSkvcil9fTtlJDIoW3kkMShmJDIpXSxTLnByb3RvdHlwZSxcInVybFwiLG51bGwpLGUkMihbeSQxKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sUy5wcm90b3R5cGUsXCJkYXRhc2V0TmFtZVwiLHZvaWQgMCksZSQyKFt5JDEoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxTLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLGUkMihbeSQxKCldLFMucHJvdG90eXBlLFwicmFzdGVySW5mb1wiLHZvaWQgMCksZSQyKFt5JDEoKV0sUy5wcm90b3R5cGUsXCJpb0NvbmZpZ1wiLHZvaWQgMCksZSQyKFt5JDEoKV0sUy5wcm90b3R5cGUsXCJzb3VyY2VKU09OXCIsdm9pZCAwKSxTPWUkMihbaSQzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5CYXNlUmFzdGVyXCIpXSxTKTt2YXIgTD1TO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCQyKGUpe2NvbnN0IHQ9ZS5maWVsZHMscj1lLnJlY29yZHMsbj10LnNvbWUoKGU9Plwib2lkXCI9PT1lLm5hbWUudG9Mb3dlckNhc2UoKSkpP1wiT0JKRUNUSURcIjpcIk9JRFwiLGk9W3tuYW1lOm4sdHlwZTpcImVzcmlGaWVsZFR5cGVPSURcIixhbGlhczpcIk9JRFwifV0uY29uY2F0KHQubWFwKChlPT4oe25hbWU6ZS5uYW1lLHR5cGU6XCJlc3JpRmllbGRUeXBlXCIrZS50eXBlTmFtZSxhbGlhczplLm5hbWV9KSkpKSxzPWkubWFwKChlPT5lLm5hbWUpKSxhPVtdO2xldCBvPTAsbD0wO3JldHVybiByLmZvckVhY2goKGU9Pntjb25zdCB0PXt9O2Zvcih0W25dPW8rKyxsPTE7bDxzLmxlbmd0aDtsKyspdFtzW2xdXT1lW2wtMV07YS5wdXNoKHthdHRyaWJ1dGVzOnR9KTt9KSkse2Rpc3BsYXlGaWVsZE5hbWU6XCJcIixmaWVsZHM6aSxmZWF0dXJlczphfX1jbGFzcyByJDF7c3RhdGljIGdldCBzdXBwb3J0ZWRWZXJzaW9ucygpe3JldHVybiBbNV19c3RhdGljIHBhcnNlKHIpe2NvbnN0IG49bmV3IERhdGFWaWV3KHIpLGk9MyZuLmdldFVpbnQ4KDApO2lmKDMhPT1pKXJldHVybiB7aGVhZGVyOnt2ZXJzaW9uOml9LHJlY29yZFNldDpudWxsfTtjb25zdCBzPW4uZ2V0VWludDMyKDQsITApLGE9bi5nZXRVaW50MTYoOCwhMCksbz1uLmdldFVpbnQxNigxMCwhMCksbD17dmVyc2lvbjppLHJlY29yZENvdW50OnMsaGVhZGVyQnl0ZUNvdW50OmEscmVjb3JkQnl0ZUNvdW50Om99O2xldCBwPTMyO2NvbnN0IGc9W10sdT1bXTtsZXQgZDtpZigzPT09aSl7Zm9yKDsxMyE9PW4uZ2V0VWludDgocCk7KWQ9U3RyaW5nLmZyb21DaGFyQ29kZShuLmdldFVpbnQ4KHArMTEpKS50cmltKCksZy5wdXNoKHtuYW1lOnIkMyhuZXcgVWludDhBcnJheShyLHAsMTEpKSx0eXBlOmQsdHlwZU5hbWU6W1wiU3RyaW5nXCIsXCJEYXRlXCIsXCJEb3VibGVcIixcIkJvb2xlYW5cIixcIlN0cmluZ1wiLFwiSW50ZWdlclwiXVtbXCJDXCIsXCJEXCIsXCJGXCIsXCJMXCIsXCJNXCIsXCJOXCJdLmluZGV4T2YoZCldLGxlbmd0aDpuLmdldFVpbnQ4KHArMTYpfSkscCs9MzI7aWYocCs9MSxnLmxlbmd0aD4wKWZvcig7dS5sZW5ndGg8cyYmci5ieXRlTGVuZ3RoLXA+bzspe2NvbnN0IHQ9W107MzI9PT1uLmdldFVpbnQ4KHApPyhwKz0xLGcuZm9yRWFjaCgobj0+e2lmKFwiQ1wiPT09bi50eXBlKXQucHVzaChyJDMobmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpKTtlbHNlIGlmKFwiTlwiPT09bi50eXBlKXQucHVzaChwYXJzZUludChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpLDEwKSk7ZWxzZSBpZihcIkZcIj09PW4udHlwZSl0LnB1c2gocGFyc2VGbG9hdChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpKSk7ZWxzZSBpZihcIkRcIj09PW4udHlwZSl7Y29uc3QgZT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkocixwLG4ubGVuZ3RoKSkudHJpbSgpO3QucHVzaChuZXcgRGF0ZShwYXJzZUludChlLnN1YnN0cmluZygwLDQpLDEwKSxwYXJzZUludChlLnN1YnN0cmluZyg0LDYpLDEwKS0xLHBhcnNlSW50KGUuc3Vic3RyaW5nKDYsOCksMTApKSk7fXArPW4ubGVuZ3RoO30pKSx1LnB1c2godCkpOnArPW87fX1yZXR1cm4ge2hlYWRlcjpsLGZpZWxkczpnLHJlY29yZHM6dSxyZWNvcmRTZXQ6dCQyKHtmaWVsZHM6ZyxyZWNvcmRzOnV9KX19fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IHA9Y2xhc3MgZXh0ZW5kcyBhJDJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT1cImlkZW50aXR5XCI7fWZvcndhcmRUcmFuc2Zvcm0ocil7cmV0dXJuIHJ9aW52ZXJzZVRyYW5zZm9ybShyKXtyZXR1cm4gcn19O2UkMihbeSQxKHtqc29uOnt3cml0ZTohMH19KV0scC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlJDIoW3IkNCh7SWRlbnRpdHlYZm9ybTpcImlkZW50aXR5XCJ9KV0scC5wcm90b3R5cGUsXCJ0eXBlXCIsdm9pZCAwKSxwPWUkMihbaSQzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJUcmFuc2Zvcm1zLklkZW50aXR5VHJhbnNmb3JtXCIpXSxwKTt2YXIgaSQxPXA7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBsJDIoZSxyLG8pe2NvbnN0e3g6dCx5OnN9PXI7aWYobzwyKXtyZXR1cm4ge3g6ZVswXSt0KmVbMl0rcyplWzRdLHk6ZVsxXSt0KmVbM10rcyplWzVdfX1pZigyPT09byl7Y29uc3Qgcj10KnQsbz1zKnMsbj10KnM7cmV0dXJuIHt4OmVbMF0rdCplWzJdK3MqZVs0XStyKmVbNl0rbiplWzhdK28qZVsxMF0seTplWzFdK3QqZVszXStzKmVbNV0rciplWzddK24qZVs5XStvKmVbMTFdfX1jb25zdCBuPXQqdCxpPXMqcyxmPXQqcyxwPW4qdCxsPW4qcyxjPXQqaSxhPXMqaTtyZXR1cm4ge3g6ZVswXSt0KmVbMl0rcyplWzRdK24qZVs2XStmKmVbOF0raSplWzEwXStwKmVbMTJdK2wqZVsxNF0rYyplWzE2XSthKmVbMThdLHk6ZVsxXSt0KmVbM10rcyplWzVdK24qZVs3XStmKmVbOV0raSplWzExXStwKmVbMTNdK2wqZVsxNV0rYyplWzE3XSthKmVbMTldfX1mdW5jdGlvbiBjJDIoZSxyLG8pe2NvbnN0e3htaW46dCx5bWluOnMseG1heDpuLHltYXg6aSxzcGF0aWFsUmVmZXJlbmNlOmZ9PXI7bGV0IGM9W107aWYobzwyKWMucHVzaCh7eDp0LHk6aX0pLGMucHVzaCh7eDpuLHk6aX0pLGMucHVzaCh7eDp0LHk6c30pLGMucHVzaCh7eDpuLHk6c30pO2Vsc2Uge2xldCBlPTEwO2ZvcihsZXQgcj0wO3I8ZTtyKyspYy5wdXNoKHt4OnQseTpzKyhpLXMpKnIvKGUtMSl9KSxjLnB1c2goe3g6bix5OnMrKGktcykqci8oZS0xKX0pO2U9ODtmb3IobGV0IHI9MTtyPD1lO3IrKyljLnB1c2goe3g6dCsobi10KSpyL2UseTpzfSksYy5wdXNoKHt4OnQrKG4tdCkqci9lLHk6aX0pO31jPWMubWFwKChyPT5sJDIoZSxyLG8pKSk7Y29uc3QgYT1jLm1hcCgoZT0+ZS54KSksdT1jLm1hcCgoZT0+ZS55KSk7cmV0dXJuIG5ldyBNJDEoe3htaW46TWF0aC5taW4uYXBwbHkobnVsbCxhKSx4bWF4Ok1hdGgubWF4LmFwcGx5KG51bGwsYSkseW1pbjpNYXRoLm1pbi5hcHBseShudWxsLHUpLHltYXg6TWF0aC5tYXguYXBwbHkobnVsbCx1KSxzcGF0aWFsUmVmZXJlbmNlOmZ9KX1mdW5jdGlvbiBhKGUpe2NvbnN0W3Isbyx0LHMsbixpXT1lLGY9dCppLW4qcyxwPW4qcy10Kmk7cmV0dXJuIFsobipvLXIqaSkvZiwodCpvLXIqcykvcCxpL2Yscy9wLC1uL2YsLXQvcF19bGV0IHUkMz1jbGFzcyBleHRlbmRzIGEkMntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5wb2x5bm9taWFsT3JkZXI9MSx0aGlzLnR5cGU9XCJwb2x5bm9taWFsXCI7fXJlYWRGb3J3YXJkQ29lZmZpY2llbnRzKGUscil7Y29uc3R7Y29lZmZYOm8sY29lZmZZOnR9PXI7aWYobnVsbD09b3x8IW8ubGVuZ3RofHxudWxsPT10fHwhdC5sZW5ndGh8fG8ubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3Qgcz1bXTtmb3IobGV0IG49MDtuPG8ubGVuZ3RoO24rKylzLnB1c2gob1tuXSkscy5wdXNoKHRbbl0pO3JldHVybiBzfXdyaXRlRm9yd2FyZENvZWZmaWNpZW50cyhlLHIsbyl7Y29uc3QgdD1bXSxzPVtdO2ZvcihsZXQgbj0wO248KG51bGw9PWU/dm9pZCAwOmUubGVuZ3RoKTtuKyspbiUyPT0wP3QucHVzaChlW25dKTpzLnB1c2goZVtuXSk7ci5jb2VmZlg9dCxyLmNvZWZmWT1zO31nZXQgaW52ZXJzZUNvZWZmaWNpZW50cygpe2xldCBlPXRoaXMuX2dldChcImludmVyc2VDb2VmZmljaWVudHNcIik7Y29uc3Qgcj10aGlzLl9nZXQoXCJmb3J3YXJkQ29lZmZpY2llbnRzXCIpO3JldHVybiAhZSYmciYmdGhpcy5wb2x5bm9taWFsT3JkZXI8MiYmKGU9YShyKSksZX1zZXQgaW52ZXJzZUNvZWZmaWNpZW50cyhlKXt0aGlzLl9zZXQoXCJpbnZlcnNlQ29lZmZpY2llbnRzXCIsZSk7fXJlYWRJbnZlcnNlQ29lZmZpY2llbnRzKGUscil7Y29uc3R7aW52ZXJzZUNvZWZmWDpvLGludmVyc2VDb2VmZlk6dH09cjtpZihudWxsPT1vfHwhby5sZW5ndGh8fG51bGw9PXR8fCF0Lmxlbmd0aHx8by5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBzPVtdO2ZvcihsZXQgbj0wO248by5sZW5ndGg7bisrKXMucHVzaChvW25dKSxzLnB1c2godFtuXSk7cmV0dXJuIHN9d3JpdGVJbnZlcnNlQ29lZmZpY2llbnRzKGUscixvKXtjb25zdCB0PVtdLHM9W107Zm9yKGxldCBuPTA7bjwobnVsbD09ZT92b2lkIDA6ZS5sZW5ndGgpO24rKyluJTI9PTA/dC5wdXNoKGVbbl0pOnMucHVzaChlW25dKTtyLmludmVyc2VDb2VmZlg9dCxyLmludmVyc2VDb2VmZlk9czt9Zm9yd2FyZFRyYW5zZm9ybShlKXtpZihcInBvaW50XCI9PT1lLnR5cGUpe2NvbnN0IHI9bCQyKHRoaXMuZm9yd2FyZENvZWZmaWNpZW50cyxlLHRoaXMucG9seW5vbWlhbE9yZGVyKTtyZXR1cm4gbmV3IGokMih7eDpyLngseTpyLnksc3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2V9KX1yZXR1cm4gYyQyKHRoaXMuZm9yd2FyZENvZWZmaWNpZW50cyxlLHRoaXMucG9seW5vbWlhbE9yZGVyKX1pbnZlcnNlVHJhbnNmb3JtKGUpe2lmKFwicG9pbnRcIj09PWUudHlwZSl7Y29uc3Qgcj1sJDIodGhpcy5pbnZlcnNlQ29lZmZpY2llbnRzLGUsdGhpcy5wb2x5bm9taWFsT3JkZXIpO3JldHVybiBuZXcgaiQyKHt4OnIueCx5OnIueSxzcGF0aWFsUmVmZXJlbmNlOmUuc3BhdGlhbFJlZmVyZW5jZX0pfXJldHVybiBjJDIodGhpcy5pbnZlcnNlQ29lZmZpY2llbnRzLGUsdGhpcy5wb2x5bm9taWFsT3JkZXIpfX07ZSQyKFt5JDEoe2pzb246e3dyaXRlOiEwfX0pXSx1JDMucHJvdG90eXBlLFwicG9seW5vbWlhbE9yZGVyXCIsdm9pZCAwKSxlJDIoW3kkMSgpXSx1JDMucHJvdG90eXBlLFwiZm9yd2FyZENvZWZmaWNpZW50c1wiLHZvaWQgMCksZSQyKFtlJDQoXCJmb3J3YXJkQ29lZmZpY2llbnRzXCIsW1wiY29lZmZYXCIsXCJjb2VmZllcIl0pXSx1JDMucHJvdG90eXBlLFwicmVhZEZvcndhcmRDb2VmZmljaWVudHNcIixudWxsKSxlJDIoW28kMyhcImZvcndhcmRDb2VmZmljaWVudHNcIildLHUkMy5wcm90b3R5cGUsXCJ3cml0ZUZvcndhcmRDb2VmZmljaWVudHNcIixudWxsKSxlJDIoW3kkMSh7anNvbjp7d3JpdGU6ITB9fSldLHUkMy5wcm90b3R5cGUsXCJpbnZlcnNlQ29lZmZpY2llbnRzXCIsbnVsbCksZSQyKFtlJDQoXCJpbnZlcnNlQ29lZmZpY2llbnRzXCIsW1wiaW52ZXJzZUNvZWZmWFwiLFwiaW52ZXJzZUNvZWZmWVwiXSldLHUkMy5wcm90b3R5cGUsXCJyZWFkSW52ZXJzZUNvZWZmaWNpZW50c1wiLG51bGwpLGUkMihbbyQzKFwiaW52ZXJzZUNvZWZmaWNpZW50c1wiKV0sdSQzLnByb3RvdHlwZSxcIndyaXRlSW52ZXJzZUNvZWZmaWNpZW50c1wiLG51bGwpLGUkMihbeSQxKHtqc29uOnt3cml0ZTohMH19KV0sdSQzLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUkMihbciQ0KHtQb2x5bm9taWFsWGZvcm06XCJwb2x5bm9taWFsXCJ9KV0sdSQzLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLHUkMz1lJDIoW2kkMyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyVHJhbnNmb3Jtcy5Qb2x5bm9taWFsVHJhbnNmb3JtXCIpXSx1JDMpO3ZhciBtJDE9dSQzO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdCQxPXtQb2x5bm9taWFsWGZvcm06bSQxLElkZW50aXR5WGZvcm06aSQxfSxyPU9iamVjdC5rZXlzKHQkMSk7ZnVuY3Rpb24gZSQxKG4pe2NvbnN0IG89bnVsbD09bj92b2lkIDA6bi50eXBlO3JldHVybiAhbnx8ci5pbmNsdWRlcyhvKX1mdW5jdGlvbiBsJDEobil7aWYoIShudWxsPT1uP3ZvaWQgMDpuLnR5cGUpKXJldHVybiBudWxsO2NvbnN0IG89dCQxW251bGw9PW4/dm9pZCAwOm4udHlwZV07aWYobyl7Y29uc3QgdD1uZXcgbztyZXR1cm4gdC5yZWFkKG4pLHR9cmV0dXJuIG51bGx9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBnJDE9bmV3IE1hcDtnJDEuc2V0KFwiaW50MTZcIixcImVzcmlGaWVsZFR5cGVTbWFsbEludGVnZXJcIiksZyQxLnNldChcImludDMyXCIsXCJlc3JpRmllbGRUeXBlSW50ZWdlclwiKSxnJDEuc2V0KFwiaW50NjRcIixcImVzcmlGaWVsZFR5cGVJbnRlZ2VyXCIpLGckMS5zZXQoXCJmbG9hdDMyXCIsXCJlc3JpRmllbGRUeXBlU2luZ2xlXCIpLGckMS5zZXQoXCJmbG9hdDY0XCIsXCJlc3JpRmllbGRUeXBlRG91YmxlXCIpLGckMS5zZXQoXCJ0ZXh0XCIsXCJlc3JpRmllbGRUeXBlU3RyaW5nXCIpO2NvbnN0IHk9ODtsZXQgeCQyPWNsYXNzIGV4dGVuZHMgTHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zdG9yYWdlSW5mbz1udWxsLHRoaXMuZGF0YXNldEZvcm1hdD1cIkNSRlwiO31hc3luYyBvcGVuKGUpe2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0e2RhdGE6dH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbmYuanNvblwiLHtzaWduYWw6bnVsbD09ZT92b2lkIDA6ZS5zaWduYWx9KTtpZighdGhpcy5fdmFsaWRhdGVIZWFkZXIodCkpdGhyb3cgbmV3IHMkMShcImNsb3VkcmFzdGVyOm9wZW5cIixcIkludmFsaWQgb3IgdW5zdXBwb3J0ZWQgY29uZi5qc29uLlwiKTt0aGlzLmRhdGFzZXROYW1lPXRoaXMudXJsLnNsaWNlKHRoaXMudXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtjb25zdHtzdG9yYWdlSW5mbzpyLHJhc3RlckluZm86b309dGhpcy5fcGFyc2VIZWFkZXIodCk7aWYoXCJ0aGVtYXRpY1wiPT09by5kYXRhVHlwZSl7Y29uc3QgZT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeUluZm9ybWF0aW9uKCk7by5hdHRyaWJ1dGVUYWJsZT1lO310aGlzLl9zZXQoXCJzdG9yYWdlSW5mb1wiLHIpLHRoaXMuX3NldChcInJhc3RlckluZm9cIixvKSx0aGlzLmlvQ29uZmlnLnJldHJ5Q291bnQ9dGhpcy5pb0NvbmZpZy5yZXRyeUNvdW50fHwwO31hc3luYyBmZXRjaFJhd1RpbGUoZSx0LHIsbz17fSl7Y29uc3QgaT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ubWF4aW11bVB5cmFtaWRMZXZlbC1lO2lmKGk8MClyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMuX2J1aWxkQ2FjaGVGaWxlUGF0aChpLHQscixvLm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uKSxhPXRoaXMuX2dldEluZGV4UmVjb3JkRnJvbUJ1bmRsZSh0LHIpLG49YXdhaXQgdGhpcy5yZXF1ZXN0KHMse3JhbmdlOntmcm9tOjAsdG86dGhpcy5zdG9yYWdlSW5mby5oZWFkZXJTaXplLTF9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvLnNpZ25hbH0pO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGw9bmV3IFVpbnQ4QXJyYXkobi5kYXRhKSxmPXRoaXMuX2dldFRpbGVFbmRBbmRDb250ZW50VHlwZShsLGEpO2lmKDA9PT1mLnJlY29yZFNpemUpcmV0dXJuIG51bGw7Y29uc3QgbT1hd2FpdCB0aGlzLnJlcXVlc3Qocyx7cmFuZ2U6e2Zyb206Zi5wb3NpdGlvbix0bzpmLnBvc2l0aW9uK2YucmVjb3JkU2l6ZX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm8uc2lnbmFsfSk7cmV0dXJuIG0/dGhpcy5kZWNvZGVQaXhlbEJsb2NrKG0uZGF0YSx7d2lkdGg6dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLnRpbGVJbmZvLnNpemVbMF0saGVpZ2h0OnRoaXMucmFzdGVySW5mby5zdG9yYWdlSW5mby50aWxlSW5mby5zaXplWzFdLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsfSk6bnVsbH1fdmFsaWRhdGVIZWFkZXIoZSl7Y29uc3QgdD1bXCJvcmlnaW5cIixcImV4dGVudFwiLFwiZ2VvZGF0YVhmb3JtXCIsXCJMT0RJbmZvc1wiLFwiYmxvY2tXaWR0aFwiLFwiYmxvY2tIZWlnaHRcIixcImJhbmRDb3VudFwiLFwicGl4ZWxUeXBlXCIsXCJwaXhlbFNpemVYXCIsXCJwaXhlbFNpemVZXCIsXCJmb3JtYXRcIixcInBhY2tldFNpemVcIl07cmV0dXJuIGUmJlwiUmFzdGVySW5mb1wiPT09ZS50eXBlJiYhdC5zb21lKCh0PT4hZVt0XSkpfV9wYXJzZUhlYWRlcihlKXt2YXIgdCxyO2NvbnN0IG89W1widTFcIixcInUyXCIsXCJ1NFwiLFwidThcIixcInM4XCIsXCJ1MTZcIixcInMxNlwiLFwidTMyXCIsXCJzMzJcIixcImYzMlwiLFwiZjY0XCJdW2UucGl4ZWxUeXBlXSx7YmFuZENvdW50OmksaGlzdG9ncmFtczpsLGNvbG9ybWFwOmMsYmxvY2tXaWR0aDp1LGJsb2NrSGVpZ2h0OmQsZmlyc3RQeXJhbWlkTGV2ZWw6aCxtYXhpbXVtUHlyYW1pZExldmVsOmd9PWUseD1lLnN0YXRpc3RpY3MmJmUuc3RhdGlzdGljcy5tYXAoKGU9Pih7bWluOmUubWluLG1heDplLm1heCxhdmc6ZS5tZWFuLHN0ZGRldjplLnN0YW5kYXJkRGV2aWF0aW9uLG1lZGlhbjplLm1lZGlhbixtb2RlOmUubW9kZX0pKSksST1lLmV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLFM9bnVsbD09KHQ9ZS5nZW9kYXRhWGZvcm0pP3ZvaWQgMDp0LnNwYXRpYWxSZWZlcmVuY2Usdj1uZXcgayhudWxsIT1JJiZJLndraWR8fG51bGwhPUkmJkkud2t0P0k6Uyk7bGV0IHc9bmV3IE0kMSh7eG1pbjplLmV4dGVudC54bWluLHltaW46ZS5leHRlbnQueW1pbix4bWF4OmUuZXh0ZW50LnhtYXgseW1heDplLmV4dGVudC55bWF4LHNwYXRpYWxSZWZlcmVuY2U6dn0pO2NvbnN0IGI9bmV3IGokMih7eDplLnBpeGVsU2l6ZVgseTplLnBpeGVsU2l6ZVksc3BhdGlhbFJlZmVyZW5jZTp2fSksVD1NYXRoLnJvdW5kKCh3LnhtYXgtdy54bWluKS9iLngpLGo9TWF0aC5yb3VuZCgody55bWF4LXcueW1pbikvYi55KSxrJDE9dGhpcy5fcGFyc2VUcmFuc2Zvcm0oZS5nZW9kYXRhWGZvcm0pLHo9ayQxP3c6bnVsbDtrJDEmJih3PWskMS5mb3J3YXJkVHJhbnNmb3JtKHcpLGIueD0ody54bWF4LXcueG1pbikvVCxiLnk9KHcueW1heC13LnltaW4pL2opO2NvbnN0IF89bnVsbCE9KHI9ZS5wcm9wZXJ0aWVzKT9yOnt9LEM9ZS5mb3JtYXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwiY2FjaGUvXCIsXCJcIiksUj1uZXcgaiQyKGUub3JpZ2luLngsZS5vcmlnaW4ueSx2KTtsZXQgRixQLEgsTDtpZihjJiZjLmNvbG9ycylmb3IoRj1bXSxQPTA7UDxjLmNvbG9ycy5sZW5ndGg7UCsrKUg9Yy5jb2xvcnNbUF0sTD1jLnZhbHVlcz9jLnZhbHVlc1tQXTpQLEYucHVzaChbTCwyNTUmSCxIPDwxNj4+PjI0LEg8PDg+Pj4yNCxIPj4+MjRdKTtjb25zdCBEPWUuTE9ESW5mb3MsTT1bXTtmb3IoUD0wO1A8RC5sZXZlbHMubGVuZ3RoO1ArKylNLnB1c2goe2xldmVsOkQubGV2ZWxzW1BdLHJlc29sdXRpb246RC5yZXNvbHV0aW9uc1tQXSxzY2FsZTo5Ni8uMDI1NCpELnJlc29sdXRpb25zW1BdfSk7Y29uc3QgQj1uZXcgeCQ1KHtkcGk6OTYsbG9kczpNLGZvcm1hdDpDLG9yaWdpbjpSLHNpemU6W3UsZF0sc3BhdGlhbFJlZmVyZW5jZTp2fSksTz17cmVjb3JkU2l6ZTp5LHBhY2tldFNpemU6ZS5wYWNrZXRTaXplLGhlYWRlclNpemU6ZS5wYWNrZXRTaXplKmUucGFja2V0U2l6ZSp5KzY0fSwkPVt7bWF4Q29sOk1hdGguY2VpbChUL3UpLTEsbWF4Um93Ok1hdGguY2VpbChqL2QpLTEsbWluQ29sOjAsbWluUm93OjB9XTtsZXQgcT0yO2lmKGc+MClmb3IoUD0wO1A8ZztQKyspJC5wdXNoKHttYXhDb2w6TWF0aC5jZWlsKFQvcS91KS0xLG1heFJvdzpNYXRoLmNlaWwoai9xL2QpLTEsbWluQ29sOjAsbWluUm93OjB9KSxxKj0yO2NvbnN0IEU9ZS5tZEluZm87cmV0dXJuIHtzdG9yYWdlSW5mbzpPLHJhc3RlckluZm86bmV3IHAkNCh7d2lkdGg6VCxoZWlnaHQ6aixwaXhlbFR5cGU6byxiYW5kQ291bnQ6aSxleHRlbnQ6dyxuYXRpdmVFeHRlbnQ6eix0cmFuc2Zvcm06ayQxLHNwYXRpYWxSZWZlcmVuY2U6dixwaXhlbFNpemU6YixrZXlQcm9wZXJ0aWVzOl8sc3RhdGlzdGljczp4LGhpc3RvZ3JhbXM6bCxtdWx0aWRpbWVuc2lvbmFsSW5mbzpFLGNvbG9ybWFwOkYsc3RvcmFnZUluZm86bmV3IHAkMih7YmxvY2tXaWR0aDp1LGJsb2NrSGVpZ2h0OmQscHlyYW1pZEJsb2NrV2lkdGg6dSxweXJhbWlkQmxvY2tIZWlnaHQ6ZCxvcmlnaW46Uix0aWxlSW5mbzpCLGZpcnN0UHlyYW1pZExldmVsOmgsbWF4aW11bVB5cmFtaWRMZXZlbDpnLGJsb2NrQm91bmRhcnk6JH0pfSl9fV9wYXJzZVRyYW5zZm9ybShlKXt2YXIgdCxyO2lmKCFlJDEoZSkpdGhyb3cgbmV3IHMkMShcImNsb3VkcmFzdGVyOm9wZW5cIixcInRoZSBkYXRhIGNvbnRhaW5zIHVuc3VwcG9ydGVkIGdlb2RhdGEgdHJhbnNmb3JtIHR5cGVzXCIpO2NvbnN0IG89bCQxKGUpO2lmKFwiaWRlbnRpdHlcIj09PW8udHlwZSlyZXR1cm4gbnVsbDtpZihudWxsPT0odD1vLmZvcndhcmRDb2VmZmljaWVudHMpfHwhdC5sZW5ndGh8fG51bGw9PShyPW8uaW52ZXJzZUNvZWZmaWNpZW50cyl8fCFyLmxlbmd0aCl0aHJvdyBuZXcgcyQxKFwiY2xvdWRyYXN0ZXI6b3BlblwiLFwidGhlIGRhdGEgY29udGFpbnMgdW5zdXBwb3J0ZWQgZ2VvZGF0YSB0cmFuc2Zvcm1zIC0gYm90aCBmb3J3YXJkIGFuZCBpbnZlcnNlIGNvZWZmaWNpZW50cyBhcmUgcmVxdWlyZWQgY3VycmVudGx5XCIpO3JldHVybiBvfWFzeW5jIF9mZXRjaEF1eGlsaWFyeUluZm9ybWF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbmYudmF0Lmpzb25cIix7c2lnbmFsOmV9KS50aGVuKChlPT5lLmRhdGEpKS5jYXRjaCgoKCk9Pm51bGwpKSxyPXRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9jb25mLnZhdC5kYmZcIix7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOmV9KS50aGVuKChlPT5lLmRhdGEpKS5jYXRjaCgoKCk9Pm51bGwpKSxvPWF3YWl0IFByb21pc2UuYWxsKFt0LHJdKTtsZXQgaTtpZihvWzBdKXtsZXQgZT1vWzBdLmZpZWxkcztjb25zdCB0PW9bMF0udmFsdWVzO2lmKGUmJnQpe2U9ZS5tYXAoKGU9Pih7dHlwZTpcIk9JRFwiPT09ZS5uYW1lP1wiZXNyaUZpZWxkVHlwZU9JRFwiOmckMS5nZXQoZS50eXBlKSxuYW1lOmUubmFtZSxhbGlhczplLmFsaWFzfHxlLm5hbWV9KSkpO2NvbnN0IHI9dC5tYXAoKGU9Pih7YXR0cmlidXRlczplfSkpKTtlJiZ0JiYoaT17ZmllbGRzOmUsZmVhdHVyZXM6cn0pO319aWYoIWkmJm9bMV0pe2k9ciQxLnBhcnNlKG9bMV0pLnJlY29yZFNldDt9cmV0dXJuIGckNC5mcm9tSlNPTihpKX1fYnVpbGRDYWNoZUZpbGVQYXRoKGUscixvLGkpe2NvbnN0IHM9dGhpcy5zdG9yYWdlSW5mby5wYWNrZXRTaXplLGE9TWF0aC5mbG9vcihyL3MpKnMsbj1NYXRoLmZsb29yKG8vcykqcyxsPVwiUlwiK3RoaXMuX3RvSGV4U3RyaW5nNChhKStcIkNcIit0aGlzLl90b0hleFN0cmluZzQobik7bGV0IGY9XCJMXCI7Zis9ZT49MTA/ZS50b1N0cmluZygpOlwiMFwiK2UudG9TdHJpbmcoKTtjb25zdHttdWx0aWRpbWVuc2lvbmFsSW5mbzptfT10aGlzLnJhc3RlckluZm8scD1udWxsPT1pP3ZvaWQgMDppWzBdO2lmKCFyJDIobSl8fCFwKXJldHVybiBgJHt0aGlzLnVybH0vX2FsbGxheWVycy8ke2Z9LyR7bH0uYnVuZGxlYDtsZXQgYz1tLnZhcmlhYmxlcy5maWx0ZXIoKGU9PmUubmFtZT09PXAudmFyaWFibGVOYW1lKSlbMF0uZGltZW5zaW9uc1swXS52YWx1ZXMuaW5kZXhPZihwLnZhbHVlc1swXSkudG9TdHJpbmcoMTYpO2NvbnN0IHU9NC1jLmxlbmd0aDtmb3IobGV0IHQ9MDt0PHU7dCsrKWM9XCIwXCIrYztyZXR1cm4gYz1cIlNcIitjLGAke3RoaXMudXJsfS9fYWxsbGF5ZXJzLyR7cC52YXJpYWJsZU5hbWV9LyR7Y30vJHtmfS8ke2x9LmJ1bmRsZWB9X2dldEluZGV4UmVjb3JkRnJvbUJ1bmRsZShlLHQpe2NvbnN0IHI9dGhpcy5zdG9yYWdlSW5mby5wYWNrZXRTaXplLG89ciooZSVyKSt0JXI7aWYobzwwKXRocm93IFwiSW52YWxpZCBsZXZlbCAvIHJvdyAvIGNvbFwiO3JldHVybiAyMCtvKnRoaXMuc3RvcmFnZUluZm8ucmVjb3JkU2l6ZSs0NH1fZ2V0VGlsZUVuZEFuZENvbnRlbnRUeXBlKGUsdCl7Y29uc3Qgcj1lLnN1YmFycmF5KHQsdCs4KTtsZXQgbyxpPTA7Zm9yKG89MDtvPDU7bysrKWl8PSgyNTUmcltvXSk8PDgqbztjb25zdCBzPTB4ZmZmZmZmZmZmZiZpO2ZvcihpPTAsbz01O288ODtvKyspaXw9KDI1NSZyW29dKTw8OCooby01KTtyZXR1cm4ge3Bvc2l0aW9uOnMscmVjb3JkU2l6ZToweGZmZmZmZmZmZmYmaX19X3RvSGV4U3RyaW5nNChlKXtsZXQgdD1lLnRvU3RyaW5nKDE2KTtpZig0IT09dC5sZW5ndGgpe2xldCBlPTQtdC5sZW5ndGg7Zm9yKDtlLS0gPjA7KXQ9XCIwXCIrdDt9cmV0dXJuIHR9fTtlJDIoW3kkMSh7cmVhZE9ubHk6ITB9KV0seCQyLnByb3RvdHlwZSxcInN0b3JhZ2VJbmZvXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLHgkMi5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx4JDI9ZSQyKFtpJDMoXCJlc3JpLmxheWVycy5zdXBwb3J0LnJhc3RlckRhdGFzZXRzLkNsb3VkUmFzdGVyXCIpXSx4JDIpO3ZhciBJJDM9eCQyO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IGg9Y2xhc3MgZXh0ZW5kcyBMe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJNRU1PUllcIjt9YXN5bmMgb3Blbih0KXt2YXIgZTthd2FpdCB0aGlzLmluaXQoKTtjb25zdHtwaXhlbEJsb2NrOnMsc3RhdGlzdGljczpyLGhpc3RvZ3JhbXM6aSxuYW1lOm8sa2V5UHJvcGVydGllczpsLG5hdGl2ZUV4dGVudDpwLHRyYW5zZm9ybTpjfT10aGlzLmRhdGEse3dpZHRoOmgsaGVpZ2h0OnUscGl4ZWxUeXBlOmR9PXMsZj10aGlzLmRhdGEuZXh0ZW50fHxuZXcgTSQxKHt4bWluOi0uNSx5bWluOi41LHhtYXg6aC0uNSx5bWF4OnUtLjUsc3BhdGlhbFJlZmVyZW5jZTpuZXcgayh7d2tpZDozODU3fSl9KSx5PW51bGwhPShlPXRoaXMuZGF0YS5pc1BzZXVkb1NwYXRpYWxSZWZlcmVuY2UpP2U6IXRoaXMuZGF0YS5leHRlbnQseD17eDpmLndpZHRoL2gseTpmLmhlaWdodC91fSxnPW5ldyBwJDQoe3dpZHRoOmgsaGVpZ2h0OnUscGl4ZWxUeXBlOmQsZXh0ZW50OmYsbmF0aXZlRXh0ZW50OnAsdHJhbnNmb3JtOmMscGl4ZWxTaXplOngsc3BhdGlhbFJlZmVyZW5jZTpmLnNwYXRpYWxSZWZlcmVuY2UsYmFuZENvdW50OjMsa2V5UHJvcGVydGllczpsfHx7fSxzdGF0aXN0aWNzOnIsaXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlOnksaGlzdG9ncmFtczppfSk7dGhpcy5jcmVhdGVSZW1vdGVEYXRhc2V0U3RvcmFnZUluZm8oZyw1MTIsNTEyKSx0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIsZyksdGhpcy51cGRhdGVUaWxlSW5mbygpLGF3YWl0IHRoaXMuX2J1aWxkSW5NZW1vcnlSYXN0ZXIocyx7d2lkdGg6NTEyLGhlaWdodDo1MTJ9LHQpLHRoaXMuZGF0YXNldE5hbWU9byx0aGlzLnVybD1cIi9Jbk1lbW9yeS9cIitvO31mZXRjaFJhd1RpbGUodCxlLHMscj17fSl7Y29uc3QgaT10aGlzLl9waXhlbEJsb2NrVGlsZXMuZ2V0KGAke3R9LyR7ZX0vJHtzfWApO3JldHVybiBQcm9taXNlLnJlc29sdmUoaSl9YXN5bmMgX2J1aWxkSW5NZW1vcnlSYXN0ZXIodCxzLHIpe2NvbnN0IGE9dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLm1heGltdW1QeXJhbWlkTGV2ZWwsbT10aGlzLnJhc3RlckpvYkhhbmRsZXI/dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLnNwbGl0KHtwaXhlbEJsb2NrOnQsdGlsZVNpemU6cyxtYXhpbXVtUHlyYW1pZExldmVsOmF9LHIpOlByb21pc2UucmVzb2x2ZShVJDEodCxzLGEpKSxuPXIkMih0aGlzLnJhc3RlckluZm8uc3RhdGlzdGljcyksYz1yJDIodGhpcy5yYXN0ZXJJbmZvLmhpc3RvZ3JhbXMpLGg9biYmYz9Qcm9taXNlLnJlc29sdmUoe3N0YXRpc3RpY3M6bnVsbCxoaXN0b2dyYW1zOm51bGx9KTp0aGlzLnJhc3RlckpvYkhhbmRsZXI/dGhpcy5yYXN0ZXJKb2JIYW5kbGVyLmVzdGltYXRlU3RhdGlzdGljc0hpc3RvZ3JhbXMoe3BpeGVsQmxvY2s6dH0scik6UHJvbWlzZS5yZXNvbHZlKHIkNSh0KSksdT1hd2FpdCBBJDEoW20saF0pO2lmKCF1WzBdLnZhbHVlJiZ1WzFdLnZhbHVlKXRocm93IG5ldyBzJDEoXCJpbm1lbW9yeS1yYXN0ZXI6b3BlblwiLFwiZmFpbGVkIHRvIGJ1aWxkIGluIG1lbW9yeSByYXN0ZXJcIik7dmFyIGQsZjsodGhpcy5fcGl4ZWxCbG9ja1RpbGVzPXVbMF0udmFsdWUsbil8fCh0aGlzLnJhc3RlckluZm8uc3RhdGlzdGljcz1udWxsPT0oZD11WzFdLnZhbHVlKT92b2lkIDA6ZC5zdGF0aXN0aWNzKTtjJiYodGhpcy5yYXN0ZXJJbmZvLmhpc3RvZ3JhbXM9bnVsbD09KGY9dVsxXS52YWx1ZSk/dm9pZCAwOmYuaGlzdG9ncmFtcyk7fX07ZSQyKFt5JDEoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxoLnByb3RvdHlwZSxcImRhdGFzZXRGb3JtYXRcIix2b2lkIDApLGUkMihbeSQxKCldLGgucHJvdG90eXBlLFwiZGF0YVwiLHZvaWQgMCksaD1lJDIoW2kkMyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW5NZW1vcnlSYXN0ZXJcIildLGgpO3ZhciB1JDI9aDtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4kMShlLHQpe2lmKCFlfHwhdClyZXR1cm4gW107bGV0IGw9dDt0LmluZGV4T2YoXCIvXCIpPi0xPyhsPXQuc2xpY2UoMCx0LmluZGV4T2YoXCIvXCIpKSx0PXQuc2xpY2UodC5pbmRleE9mKFwiL1wiKSsxKSk6dD1cIlwiO2NvbnN0IHI9W107aWYodCl7Y29uc3QgdT1uJDEoZSxsKTtmb3IobGV0IGU9MDtlPHUubGVuZ3RoO2UrKyl7biQxKHVbZV0sdCkuZm9yRWFjaCgobj0+ci5wdXNoKG4pKSk7fXJldHVybiByfWNvbnN0IHU9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFwiKlwiLGwpO2lmKCF1fHwwPT09dS5sZW5ndGgpcmV0dXJuIFtdO2ZvcihsZXQgbj0wO248dS5sZW5ndGg7bisrKXIucHVzaCh1W25dfHx1Lml0ZW1bbl0pO3JldHVybiByfWZ1bmN0aW9uIGUodCxsKXtpZighdHx8IWwpcmV0dXJuIG51bGw7bGV0IHI9bDtsLmluZGV4T2YoXCIvXCIpPi0xPyhyPWwuc2xpY2UoMCxsLmluZGV4T2YoXCIvXCIpKSxsPWwuc2xpY2UobC5pbmRleE9mKFwiL1wiKSsxKSk6bD1cIlwiO2NvbnN0IHU9biQxKHQscik7cmV0dXJuIHUubGVuZ3RoPjA/bD9lKHVbMF0sbCk6dVswXTpudWxsfWZ1bmN0aW9uIHQobix0PW51bGwpe2NvbnN0IGw9dD9lKG4sdCk6bjtsZXQgcjtyZXR1cm4gbD8ocj1sLnRleHRDb250ZW50fHxsLm5vZGVWYWx1ZSxyP3IudHJpbSgpOm51bGwpOm51bGx9ZnVuY3Rpb24gbChlLHQpe2NvbnN0IGw9biQxKGUsdCkscj1bXTtsZXQgdTtmb3IobGV0IG49MDtuPGwubGVuZ3RoO24rKyl1PWxbbl0udGV4dENvbnRlbnR8fGxbbl0ubm9kZVZhbHVlLHUmJih1PXUudHJpbSgpLFwiXCIhPT11JiZyLnB1c2godSkpO3JldHVybiByfWZ1bmN0aW9uIHUkMShuLGUpe3JldHVybiBsKG4sZSkubWFwKChuPT5OdW1iZXIobikpKX1mdW5jdGlvbiBvJDEobixlKXtjb25zdCBsPXQobixlKTtyZXR1cm4gTnVtYmVyKGwpfWZ1bmN0aW9uIGkobixlKXt2YXIgdDtjb25zdCBsPW51bGw9PW58fG51bGw9PSh0PW4ubm9kZU5hbWUpP3ZvaWQgMDp0LnRvTG93ZXJDYXNlKCkscj1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGwuc2xpY2UobC5sYXN0SW5kZXhPZihcIjpcIikrMSk9PT1yfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhlLHQpe2lmKCFlfHwhdClyZXR1cm4gbnVsbDtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKW4ucHVzaChlW2FdKSxuLnB1c2godFthXSk7cmV0dXJuIG59ZnVuY3Rpb24gdShlJDEpe3ZhciBuO2NvbnN0IHI9ZShlJDEsXCJHZW9kYXRhWGZvcm1cIiksdT1jJDEobyQxKHIsXCJTcGF0aWFsUmVmZXJlbmNlL1dLSURcIil8fHQocixcIlNwYXRpYWxSZWZlcmVuY2UvV0tUXCIpKTtpZihcInR5cGVuczpQb2x5bm9taWFsWGZvcm1cIiE9PXIuZ2V0QXR0cmlidXRlKFwieHNpOnR5cGVcIikpcmV0dXJuIHtzcGF0aWFsUmVmZXJlbmNlOnUsdHJhbnNmb3JtOm51bGx9O2NvbnN0IGY9bnVsbCE9KG49byQxKHIsXCJQb2x5bm9taWFsT3JkZXJcIikpP246MSxtPXUkMShyLFwiQ29lZmZYL0RvdWJsZVwiKSxkPXUkMShyLFwiQ29lZmZZL0RvdWJsZVwiKSxwPXUkMShyLFwiSW52ZXJzZUNvZWZmWC9Eb3VibGVcIiksUz11JDEocixcIkludmVyc2VDb2VmZlkvRG91YmxlXCIpLEk9byhtLGQpLGc9byhwLFMpO3JldHVybiB7c3BhdGlhbFJlZmVyZW5jZTp1LHRyYW5zZm9ybTpuZXcgbSQxKHtzcGF0aWFsUmVmZXJlbmNlOnUscG9seW5vbWlhbE9yZGVyOmYsZm9yd2FyZENvZWZmaWNpZW50czpJLGludmVyc2VDb2VmZmljaWVudHM6Z30pfX1mdW5jdGlvbiBmKGUkMSl7dmFyIHQkMTtjb25zdCBuPW8kMShlJDEsXCJOb0RhdGFWYWx1ZVwiKSxpPWUoZSQxLFwiSGlzdG9ncmFtcy9IaXN0SXRlbVwiKSxvPW8kMShpLFwiSGlzdE1pblwiKSx1PW8kMShpLFwiSGlzdE1heFwiKSxmPW8kMShpLFwiQnVja2V0Q291bnRcIiksYz1udWxsPT0odCQxPXQoaSxcIkhpc3RDb3VudHNcIikpP3ZvaWQgMDp0JDEuc3BsaXQoXCJ8XCIpLm1hcCgoZT0+TnVtYmVyKGUpKSk7bGV0IG0sZCxwLFM7biQxKGUkMSxcIk1ldGFkYXRhL01ESVwiKS5mb3JFYWNoKChlPT57dmFyIHQ7Y29uc3Qgbj1OdW1iZXIobnVsbCE9KHQ9ZS50ZXh0Q29udGVudCk/dDplLm5vZGVWYWx1ZSk7c3dpdGNoKGUuZ2V0QXR0cmlidXRlKFwia2V5XCIpLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIlNUQVRJU1RJQ1NfTUlOSU1VTVwiOm09bjticmVhaztjYXNlXCJTVEFUSVNUSUNTX01BWElNVU1cIjpkPW47YnJlYWs7Y2FzZVwiU1RBVElTVElDU19NRUFOXCI6cD1uO2JyZWFrO2Nhc2VcIlNUQVRJU1RJQ1NfU1REREVWXCI6Uz1uO319KSk7Y29uc3QgST1vJDEoZSQxLFwiTWV0YWRhdGEvU291cmNlQmFuZEluZGV4XCIpO3JldHVybiB7bm9EYXRhVmFsdWU6bixoaXN0b2dyYW06bnVsbCE9YyYmYy5sZW5ndGgmJm51bGwhPW0mJm51bGwhPWQ/e21pbjpvLG1heDp1LHNpemU6Znx8Yy5sZW5ndGgsY291bnRzOmN9Om51bGwsc291cmNlQmFuZEluZGV4Okksc3RhdGlzdGljczpudWxsIT1tJiZudWxsIT1kP3ttaW46bSxtYXg6ZCxhdmc6cCxzdGRkZXY6U306bnVsbH19ZnVuY3Rpb24gYyQxKHQpe2lmKCF0KXJldHVybiBudWxsO2xldCBuPU51bWJlcih0KTtpZighaXNOYU4obikmJjAhPT1uKXJldHVybiBuZXcgayh7d2tpZDpufSk7aWYoISh0PVN0cmluZyh0KSkuc3RhcnRzV2l0aChcIkdFT0dDU1wiKSYmIXQuc3RhcnRzV2l0aChcIlBST0pDU1wiKSlyZXR1cm4gbnVsbDtjb25zdCBhPXQucmVwbGFjZSgvXFxdL2csXCJbXCIpLnJlcGxhY2UoL1xcXCIvZyxcIlwiKS5zcGxpdChcIltcIikubWFwKChlPT5lLnRyaW0oKSkpLmZpbHRlcigoZT0+XCJcIiE9PWUpKSxyPWFbYS5sZW5ndGgtMV0uc3BsaXQoXCIsXCIpO3JldHVybiBcIkVQU0dcIj09PXJbMF0mJnQuZW5kc1dpdGgoJ1wiXV0nKSYmKG49TnVtYmVyKHJbMV0pLCFpc05hTihuKSYmMCE9PW4pP25ldyBrKHt3a2lkOm59KTpuZXcgayh7d2t0OnR9KX1mdW5jdGlvbiBtKGUpe3ZhciB0JDE7aWYoXCJwYW1kYXRhc2V0XCIhPT0obnVsbD09ZXx8bnVsbD09KHQkMT1lLmRvY3VtZW50RWxlbWVudC50YWdOYW1lKT92b2lkIDA6dCQxLnRvTG93ZXJDYXNlKCkpKXJldHVybiB7fTtjb25zdCBzPXtzcGF0aWFsUmVmZXJlbmNlOm51bGwsdHJhbnNmb3JtOm51bGwsbWV0YWRhdGE6e30scmFzdGVyQmFuZHM6W10sc3RhdGlzdGljczpudWxsLGhpc3RvZ3JhbXM6bnVsbH07ZS5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChlPT57aWYoMT09PWUubm9kZVR5cGUpaWYoaShlLFwiU1JTXCIpKXtpZighcy5zcGF0aWFsUmVmZXJlbmNlKXtjb25zdCB0JDE9dChlKTtzLnNwYXRpYWxSZWZlcmVuY2U9YyQxKHQkMSk7fX1lbHNlIGlmKGkoZSxcIk1ldGFkYXRhXCIpKWlmKFwieG1sOkVTUklcIj09PWUuZ2V0QXR0cmlidXRlKFwiZG9tYWluXCIpKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnQsdHJhbnNmb3JtOm59PXUoZSk7cy50cmFuc2Zvcm09bixzLnNwYXRpYWxSZWZlcmVuY2V8fChzLnNwYXRpYWxSZWZlcmVuY2U9dCk7fWVsc2Uge24kMShlLFwiTURJXCIpLmZvckVhY2goKGU9PnMubWV0YWRhdGFbZS5nZXRBdHRyaWJ1dGUoXCJrZXlcIildPXQoZSkpKTt9ZWxzZSBpZihpKGUsXCJQQU1SYXN0ZXJCYW5kXCIpKXtjb25zdCB0PWYoZSk7bnVsbCE9dC5zb3VyY2VCYW5kSW5kZXgmJm51bGw9PXMucmFzdGVyQmFuZHNbdC5zb3VyY2VCYW5kSW5kZXhdP3MucmFzdGVyQmFuZHNbdC5zb3VyY2VCYW5kSW5kZXhdPXQ6cy5yYXN0ZXJCYW5kcy5wdXNoKHQpO319KSk7Y29uc3QgbD1zLnJhc3RlckJhbmRzO2lmKGwpe2NvbnN0IGU9ISFsWzBdLnN0YXRpc3RpY3M7cy5zdGF0aXN0aWNzPWU/bC5tYXAoKGU9PmUuc3RhdGlzdGljcykpOm51bGw7Y29uc3QgdD0hIWxbMF0uaGlzdG9ncmFtO3MuaGlzdG9ncmFtcz10P2wubWFwKChlPT5lLmhpc3RvZ3JhbSkpOm51bGw7fXJldHVybiBzfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IGQ9Y2xhc3MgZXh0ZW5kcyBMe2FzeW5jIG9wZW4odCl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3Qgcj1hd2FpdCB0aGlzLl9mZXRjaERhdGEodCk7bGV0e3NwYXRpYWxSZWZlcmVuY2U6ZSxzdGF0aXN0aWNzOnMsaGlzdG9ncmFtczpvLHRyYW5zZm9ybTphfT1hd2FpdCB0aGlzLl9mZXRjaEF1eGlsaWFyeURhdGEodCk7Y29uc3QgaT0hZTtpJiYoZT1uZXcgayh7d2tpZDozODU3fSkpLG51bGwhPW8mJm8ubGVuZ3RoJiZudWxsPT1zJiYocz1vJDQobykpO2NvbnN0e3dpZHRoOm0saGVpZ2h0OmN9PXI7bGV0IGY9bmV3IE0kMSh7eG1pbjotLjUseW1pbjouNS1jLHhtYXg6bS0uNSx5bWF4Oi41LHNwYXRpYWxSZWZlcmVuY2U6ZX0pO2NvbnN0IGg9YT9hLmZvcndhcmRUcmFuc2Zvcm0oZik6ZjtsZXQgZD0hMDtpZihhKXtjb25zdCB0PWEuZm9yd2FyZENvZWZmaWNpZW50cztkPXQmJjA9PT10WzFdJiYwPT09dFsyXSxkJiYoYT1udWxsLGY9aCk7fWNvbnN0IHg9bmV3IHUkMih7ZGF0YTp7ZXh0ZW50OmgsbmF0aXZlRXh0ZW50OmYsdHJhbnNmb3JtOmEscGl4ZWxCbG9jazpyLHN0YXRpc3RpY3M6cyxoaXN0b2dyYW1zOm8sa2V5UHJvcGVydGllczp7RGF0ZVR5cGU6XCJQcm9jZXNzZWRcIn0saXNQc2V1ZG9TcGF0aWFsUmVmZXJlbmNlOml9fSk7YXdhaXQgeC5vcGVuKCksdGhpcy5fc2V0KFwicmFzdGVySW5mb1wiLHgucmFzdGVySW5mbyksdGhpcy5faW5NZW1vcnlSYXN0ZXI9eDt9ZmV0Y2hSYXdUaWxlKHQscixlLHM9e30pe3JldHVybiB0aGlzLl9pbk1lbW9yeVJhc3Rlci5mZXRjaFJhd1RpbGUodCxyLGUscyl9YXN5bmMgX2ZldGNoRGF0YSh0KXtjb25zdHtkYXRhOnJ9PWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm51bGw9PXQ/dm9pZCAwOnQuc2lnbmFsfSksZT1EJDEocikudG9VcHBlckNhc2UoKTtpZihcIkpQR1wiIT09ZSYmXCJQTkdcIiE9PWUmJlwiR0lGXCIhPT1lJiZcIkJNUFwiIT09ZSl0aHJvdyBuZXcgcyQxKFwiaW1hZ2UtYXV4LXJhc3RlcjpvcGVuXCIsXCJ0aGUgZGF0YSBpcyBub3QgYSBzdXBwb3J0ZWQgZm9ybWF0XCIpO3RoaXMuX3NldChcImRhdGFzZXRGb3JtYXRcIixlKTtyZXR1cm4gYXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKHIse2Zvcm1hdDpcImpwZ1wiLHdpZHRoOjEsaGVpZ2h0OjEsdXNlQ2FudmFzOiEwfSl9YXN5bmMgX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KXt2YXIgZSxzO2NvbnN0IG89ZSQzKG51bGw9PXQ/dm9pZCAwOnQuc2lnbmFsKSxuPW51bGwhPShlPXRoaXMuaW9Db25maWcuc2tpcEV4dGVuc2lvbnMpP2U6W10sbD1uLmluZGV4T2YoXCJhdXgueG1sXCIpPi0xP251bGw6dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiLmF1eC54bWxcIix7cmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOm99KSxtJDI9dGhpcy5kYXRhc2V0Rm9ybWF0LHA9XCJKUEdcIj09PW0kMj9cImpnd1wiOlwiUE5HXCI9PT1tJDI/XCJwZ3dcIjpcIkJNUFwiPT09bSQyP1wiYnB3XCI6bnVsbCxjPW4uaW5kZXhPZihwKT4tMT9udWxsOnRoaXMucmVxdWVzdCh0aGlzLnVybC5zbGljZSgwLHRoaXMudXJsLmxhc3RJbmRleE9mKFwiLlwiKSkrXCIuXCIrcCx7cmVzcG9uc2VUeXBlOlwidGV4dFwiLHNpZ25hbDpvfSksdT1hd2FpdCBBJDEoW2wsY10pO2lmKG51bGwhPW8mJm8uYWJvcnRlZCl0aHJvdyBtJDQoKTtjb25zdCBkPW0obnVsbD09KHM9dVswXS52YWx1ZSk/dm9pZCAwOnMuZGF0YSk7aWYoIWQudHJhbnNmb3JtKXtjb25zdCB0PXVbMV0udmFsdWU/dVsxXS52YWx1ZS5kYXRhLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDAsNikubWFwKCh0PT5OdW1iZXIodCkpKTpudWxsO2QudHJhbnNmb3JtPTY9PT0obnVsbD09dD92b2lkIDA6dC5sZW5ndGgpP25ldyBtJDEoe2ZvcndhcmRDb2VmZmljaWVudHM6W3RbNF0sdFs1XSx0WzBdLC10WzFdLHRbMl0sLXRbM11dfSk6bnVsbDt9cmV0dXJuIGR9fTtlJDIoW3kkMSh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGQucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksZD1lJDIoW2kkMyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW1hZ2VBdXhSYXN0ZXJcIildLGQpO3ZhciB4JDE9ZDtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBnPWNsYXNzIGV4dGVuZHMgTHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fbGV2ZWxPZmZzZXQ9MCx0aGlzLl9zbGljZXM9bnVsbCx0aGlzLl90aWxlbWFwQ2FjaGU9bnVsbCx0aGlzLmRhdGFzZXRGb3JtYXQ9XCJSYXN0ZXJUaWxlU2VydmVyXCI7fWFzeW5jIG9wZW4oZSl7YXdhaXQgdGhpcy5pbml0KCk7Y29uc3QgaT1lJiZlLnNpZ25hbCxzPXRoaXMuc291cmNlSlNPTj97ZGF0YTp0aGlzLnNvdXJjZUpTT059OmF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cXVlcnk6e2Y6XCJqc29uXCJ9LHNpZ25hbDppfSk7cy5zc2wmJih0aGlzLnVybD10aGlzLnVybC5yZXBsYWNlKC9eaHR0cDovaSxcImh0dHBzOlwiKSk7Y29uc3QgYT1zLmRhdGE7aWYodGhpcy5zb3VyY2VKU09OPWEsIWEpdGhyb3cgbmV3IHMkMShcImltYWdlc2VydmVycmFzdGVyOm9wZW5cIixcImNhbm5vdCBpbml0aWFsaXplIHRpbGVkIGltYWdlIHNlcnZpY2UsIG1pc3Npbmcgc2VydmljZSBpbmZvXCIpO2lmKCFhLnRpbGVJbmZvKXRocm93IG5ldyBzJDEoXCJpbWFnZXNlcnZlcnJhc3RlcjpvcGVuXCIsXCJ1c2UgSW1hZ2VyeUxheWVyIHRvIG9wZW4gbm9uLXRpbGVkIGltYWdlIHNlcnZpY2VzXCIpO3RoaXMuX2ZpeFNjYWxlSW5TZXJ2aWNlSW5mbygpO2NvbnN0IG89W1wianBnXCIsXCJqcGVnXCIsXCJwbmdcIixcInBuZzhcIixcInBuZzI0XCIsXCJwbmczMlwiLFwibWl4ZWRcIl07dGhpcy50aWxlVHlwZT1hLmNhY2hlVHlwZSxudWxsPT10aGlzLnRpbGVUeXBlJiYoby5pbmRleE9mKGEudGlsZUluZm8uZm9ybWF0LnRvTG93ZXJDYXNlKCkpPi0xP3RoaXMudGlsZVR5cGU9XCJNYXBcIjpcImxlcmNcIj09PWEudGlsZUluZm8uZm9ybWF0LnRvTG93ZXJDYXNlKCk/dGhpcy50aWxlVHlwZT1cIkVsZXZhdGlvblwiOnRoaXMudGlsZVR5cGU9XCJSYXN0ZXJcIiksdGhpcy5kYXRhc2V0TmFtZT1hLm5hbWUuc2xpY2UoYS5uYW1lLmluZGV4T2YoXCIvXCIpKzEpO2NvbnN0IG49YXdhaXQgdGhpcy5fZmV0Y2hSYXN0ZXJJbmZvKHtzaWduYWw6aX0pO2lmKCFyJDIobikpdGhyb3cgbmV3IHMkMShcImltYWdlLXNlcnZlci1yYXN0ZXI6b3BlblwiLFwiY2Fubm90IGluaXRpYWxpemUgaW1hZ2Ugc2VydmljZVwiKTt7Y29uc3QgZT1cIk1hcFwiPT09dGhpcy50aWxlVHlwZT9uJDYoYS50aWxlSW5mbyxhKTp4JDUuZnJvbUpTT04oYS50aWxlSW5mbykse2V4dGVudDp0LHBpeGVsU2l6ZTppfT1uLHM9LjUvbi53aWR0aCppLng7bGV0IGwscjtjb25zdCBvPWUubG9kQXQoTWF0aC5tYXguYXBwbHkobnVsbCxlLmxvZHMubWFwKChlPT5lLmxldmVsKSkpKTtcIk1hcFwiIT09dGhpcy50aWxlVHlwZSYmMCE9PWEubWF4U2NhbGUmJihcIlJhc3RlclwiPT09dGhpcy50aWxlVHlwZT8obD1lLmxvZHMuZmlsdGVyKChlPT5lLnJlc29sdXRpb249PT1pLngpKVswXSxsfHwobD1lLmxvZHNbZS5sb2RzLmxlbmd0aC0xXSkpOihsPWUubG9kcy5maWx0ZXIoKGU9Pk1hdGguYWJzKGUuc2NhbGUtYS5tYXhTY2FsZSk8cykpWzBdLGx8fChsPWUubG9kcy5maWx0ZXIoKGU9PmUuc2NhbGU+YS5tYXhTY2FsZSkpLnNvcnQoKChlLHQpPT5lLnNjYWxlPnQuc2NhbGU/MTotMSkpWzBdKSksaS54PWkueT1sLnJlc29sdXRpb24sbi53aWR0aD1NYXRoLmNlaWwoKHQueG1heC10LnhtaW4pL2kueC0uMSksbi5oZWlnaHQ9TWF0aC5jZWlsKCh0LnltYXgtdC55bWluKS9pLnktLjEpKSxsfHwobD1vKTtjb25zdCBtPWUubG9kQXQoTWF0aC5taW4uYXBwbHkobnVsbCxlLmxvZHMubWFwKChlPT5lLmxldmVsKSkpKTtcIk1hcFwiPT09dGhpcy50aWxlVHlwZT90aGlzLl9sZXZlbE9mZnNldD1lLmxvZHNbMF0ubGV2ZWw6MCE9PWEubWluU2NhbGUmJlwiRWxldmF0aW9uXCI9PT10aGlzLnRpbGVUeXBlJiYocj1lLmxvZHMuZmlsdGVyKChlPT5NYXRoLmFicyhlLnNjYWxlLWEubWluU2NhbGUpPHMpKVswXSx0aGlzLl9sZXZlbE9mZnNldD1yLmxldmVsLW0ubGV2ZWwpLHJ8fChyPW0pO2NvbnN0IGg9TWF0aC5tYXgoaS54LGkueSk7KE1hdGguYWJzKGkueC1pLnkpPnN8fCFlLmxvZHMuc29tZSgoZT0+TWF0aC5hYnMoZS5yZXNvbHV0aW9uLWgpPHMpKSkmJihpLng9aS55PWwucmVzb2x1dGlvbixuLndpZHRoPU1hdGguY2VpbCgodC54bWF4LXQueG1pbikvaS54LS4xKSxuLmhlaWdodD1NYXRoLmNlaWwoKHQueW1heC10LnltaW4pL2kueS0uMSkpO2NvbnN0IHA9bC5sZXZlbC1yLmxldmVsLFtmLHhdPWUuc2l6ZSx5PWUub3JpZ2luO2xldHt4OmcseTp2fT1pO2NvbnN0IFM9W3ttaW5Db2w6TWF0aC5mbG9vcigodC54bWluLXkueCsuMSpnKS9mL2cpLG1heENvbDpNYXRoLmZsb29yKCh0LnhtYXgteS54LS4xKmcpL2YvZyksbWluUm93Ok1hdGguZmxvb3IoKHkueS10LnltYXgrLjEqdikveC92KSxtYXhSb3c6TWF0aC5mbG9vcigoeS55LXQueW1pbi0uMSp2KS94L3YpfV07aWYocD4wKWZvcihsZXQgYT0wO2E8cDthKyspZyo9Mix2Kj0yLFMucHVzaCh7bWluQ29sOk1hdGguZmxvb3IoKHQueG1pbi15LngrLjEqZykvZi9nKSxtYXhDb2w6TWF0aC5mbG9vcigodC54bWF4LXkueC0uMSpnKS9mL2cpLG1pblJvdzpNYXRoLmZsb29yKCh5LnktdC55bWF4Ky4xKnYpL3gvZyksbWF4Um93Ok1hdGguZmxvb3IoKHkueS10LnltaW4tLjEqdikveC9nKX0pO24uc3RvcmFnZUluZm89bmV3IHAkMih7YmxvY2tXaWR0aDplLnNpemVbMF0sYmxvY2tIZWlnaHQ6ZS5zaXplWzFdLHB5cmFtaWRCbG9ja1dpZHRoOmUuc2l6ZVswXSxweXJhbWlkQmxvY2tIZWlnaHQ6ZS5zaXplWzFdLGNvbXByZXNzaW9uOmUuZm9ybWF0LG9yaWdpbjplLm9yaWdpbixmaXJzdFB5cmFtaWRMZXZlbDoxLG1heGltdW1QeXJhbWlkTGV2ZWw6cCx0aWxlSW5mbzplLGJsb2NrQm91bmRhcnk6U30pLHRoaXMuX3NldChcInJhc3RlckluZm9cIixuKTt9aWYoYS5jYXBhYmlsaXRpZXMudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwidGlsZW1hcFwiKT4tMSl7Y29uc3QgZT17dGlsZUluZm86bi5zdG9yYWdlSW5mby50aWxlSW5mbyxwYXJzZWRVcmw6VSQyKHRoaXMudXJsKSx1cmw6dGhpcy51cmwsdGlsZVNlcnZlcnM6W10sdHlwZTpcInRpbGVcIn07dGhpcy5fdGlsZW1hcENhY2hlPW5ldyBqJDMoe2xheWVyOmV9KTt9fWFzeW5jIGZldGNoUmF3VGlsZShlLHQsaSxzPXt9KXtjb25zdHtzdG9yYWdlSW5mbzphLGV4dGVudDpsLHBpeGVsU2l6ZTpyfT10aGlzLnJhc3RlckluZm8sbz1hLm1heGltdW1QeXJhbWlkTGV2ZWwtZSt0aGlzLl9sZXZlbE9mZnNldCxuPWAke3RoaXMudXJsfS90aWxlLyR7b30vJHt0fS8ke2l9YCxtPXRoaXMuX3NsaWNlcz97c2xpY2VJZDpzLnNsaWNlSWR8fDB9Om51bGwse2RhdGE6aH09YXdhaXQgdGhpcy5yZXF1ZXN0KG4se3F1ZXJ5Om0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOnMuc2lnbmFsfSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgYz1hd2FpdCB0aGlzLmRlY29kZVBpeGVsQmxvY2soaCx7d2lkdGg6YS50aWxlSW5mby5zaXplWzBdLGhlaWdodDphLnRpbGVJbmZvLnNpemVbMV0scGxhbmVzOm51bGwscGl4ZWxUeXBlOm51bGwsaXNQb2ludDpcIkVsZXZhdGlvblwiPT09dGhpcy50aWxlVHlwZX0pLHU9YS5ibG9ja0JvdW5kYXJ5W2VdO2lmKFwianBnXCIhPT1hLmNvbXByZXNzaW9ufHxpPnUubWluQ29sJiZpPHUubWF4Q29sJiZ0PnUubWluUm93JiZ0PHUubWF4Um93KXJldHVybiBjO2NvbnN0e29yaWdpbjpwLGJsb2NrV2lkdGg6ZixibG9ja0hlaWdodDpkfT1hLHk9MioqZSxnPU1hdGgucm91bmQoKGwueG1pbi1wLngpLyhyLngqeSkpJWYsdj1NYXRoLnJvdW5kKChsLnhtYXgtcC54KS8oci54KnkpKSVmLFM9TWF0aC5yb3VuZCgocC55LWwueW1heCkvKHIueCp5KSklZCx3PU1hdGgucm91bmQoKHAueS1sLnltaW4pLyhyLngqeSkpJWQsST1pPT09dS5taW5Db2w/ZzowLGo9dD09PXUubWluUm93P1M6MCxiPWk9PT11Lm1heENvbD92OmYsTT10PT09dS5tYXhSb3c/dzpkO3JldHVybiBkJDQoYyx7eDpJLHk6an0se3dpZHRoOmItSSxoZWlnaHQ6TS1qfSksY31nZXRTbGljZUluZGV4KGUpe2lmKG51bGw9PWV8fCFlLmxlbmd0aHx8IXRoaXMuX3NsaWNlcylyZXR1cm4gbnVsbDtjb25zdCB0PWU7Zm9yKGxldCBpPTA7aTx0aGlzLl9zbGljZXMubGVuZ3RoO2krKyl7Y29uc3QgZT10aGlzLl9zbGljZXNbaV0ubXVsdGlkaW1lbnNpb25hbERlZmluaXRpb247aWYoZS5sZW5ndGg9PT10Lmxlbmd0aCYmIWUuc29tZSgoZT0+e2NvbnN0IGk9dC5maWx0ZXIoKHQ9PmUudmFyaWFibGVOYW1lPT09dC52YXJpYWJsZU5hbWUmJnQuZGltZW5zaW9uTmFtZT09PWUuZGltZW5zaW9uTmFtZSkpWzBdO2lmKCFpKXJldHVybiAhMDtyZXR1cm4gKEFycmF5LmlzQXJyYXkoZS52YWx1ZXNbMF0pP2UudmFsdWVzWzBdWzBdOmUudmFsdWVzWzBdKSE9PShBcnJheS5pc0FycmF5KGkudmFsdWVzWzBdKT9pLnZhbHVlc1swXVswXTppLnZhbHVlc1swXSl9KSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9YXN5bmMgZmV0Y2hWYXJpYWJsZVN0YXRpc3RpY3NIaXN0b2dyYW1zKGUsdCl7Y29uc3QgaT10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvc3RhdGlzdGljc1wiLHtxdWVyeTp7dmFyaWFibGU6ZSxmOlwianNvblwifSxzaWduYWw6dH0pLnRoZW4oKGU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9ZS5kYXRhKT92b2lkIDA6dC5zdGF0aXN0aWNzfSkpLHM9dGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2hpc3RvZ3JhbXNcIix7cXVlcnk6e3ZhcmlhYmxlOmUsZjpcImpzb25cIn0sc2lnbmFsOnR9KS50aGVuKChlPT57dmFyIHQ7cmV0dXJuIG51bGw9PSh0PWUuZGF0YSk/dm9pZCAwOnQuaGlzdG9ncmFtc30pKSxhPWF3YWl0IFByb21pc2UuYWxsKFtpLHNdKTtyZXR1cm4gYVswXSYmYVswXS5mb3JFYWNoKChlPT57ZS5hdmc9ZS5tZWFuLGUuc3RkZGV2PWUuc3RhbmRhcmREZXZpYXRpb247fSkpLHtzdGF0aXN0aWNzOmFbMF18fG51bGwsaGlzdG9ncmFtczphWzFdfHxudWxsfX1hc3luYyBjb21wdXRlQmVzdFB5cmFtaWRMZXZlbEZvckxvY2F0aW9uKGUsdD17fSl7aWYoIXRoaXMuX3RpbGVtYXBDYWNoZSlyZXR1cm4gMDtsZXQgcz10aGlzLmlkZW50aWZ5UGl4ZWxMb2NhdGlvbihlLDAsZSQzKHQuZGF0dW1UcmFuc2Zvcm1hdGlvbikpO2lmKG51bGw9PT1zKXJldHVybiBudWxsO2xldCBhPTA7Y29uc3R7bWF4aW11bVB5cmFtaWRMZXZlbDpsfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm87bGV0IHI9bC1hK3RoaXMuX2xldmVsT2Zmc2V0O2NvbnN0IG89cy5zcmNMb2NhdGlvbjtmb3IoO3I+PTA7KXt0cnl7aWYoXCJhdmFpbGFibGVcIj09PWF3YWl0IHRoaXMuX3RpbGVtYXBDYWNoZS5mZXRjaEF2YWlsYWJpbGl0eShyLHMucm93LHMuY29sLHQpKWJyZWFrfWNhdGNoe31pZihyLS0sYSsrLHM9dGhpcy5pZGVudGlmeVBpeGVsTG9jYXRpb24obyxhLGUkMyh0LmRhdHVtVHJhbnNmb3JtYXRpb24pKSxudWxsPT09cylyZXR1cm4gbnVsbH1yZXR1cm4gLTE9PT1yfHxudWxsPT1zP251bGw6YX1hc3luYyBfZmV0Y2hSYXN0ZXJJbmZvKGUpe2NvbnN0IHQ9dGhpcy5zb3VyY2VKU09OLGk9TWF0aC5jZWlsKCh0LmV4dGVudC54bWF4LXQuZXh0ZW50LnhtaW4pL3QucGl4ZWxTaXplWC0uMSkscz1NYXRoLmNlaWwoKHQuZXh0ZW50LnltYXgtdC5leHRlbnQueW1pbikvdC5waXhlbFNpemVZLS4xKSxhPWsuZnJvbUpTT04odC5zcGF0aWFsUmVmZXJlbmNlfHx0LmV4dGVudC5zcGF0aWFsUmVmZXJlbmNlKTtpZihcIk1hcFwiPT09dGhpcy50aWxlVHlwZSlyZXR1cm4gbmV3IHAkNCh7d2lkdGg6aSxoZWlnaHQ6cyxiYW5kQ291bnQ6MyxleHRlbnQ6TSQxLmZyb21KU09OKHQuZXh0ZW50KSxzcGF0aWFsUmVmZXJlbmNlOmEscGl4ZWxTaXplOm5ldyBqJDIoe3g6dC5waXhlbFNpemVYLHk6dC5waXhlbFNpemVZLHNwYXRpYWxSZWZlcmVuY2U6YX0pLHBpeGVsVHlwZTpcInU4XCIsc3RhdGlzdGljczpudWxsLGtleVByb3BlcnRpZXM6e0RhdGFUeXBlOlwicHJvY2Vzc2VkXCJ9fSk7Y29uc3R7c2xpY2U6bCxzaWduYWw6cn09ZSxjPSEhdC5oYXNSYXN0ZXJBdHRyaWJ1dGVUYWJsZSYmdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL3Jhc3RlckF0dHJpYnV0ZVRhYmxlXCIse3F1ZXJ5OntzbGljZTpsLGY6XCJqc29uXCJ9LHNpZ25hbDpyfSkudGhlbigoZT0+ZyQ0LmZyb21KU09OKGUuZGF0YSkpKS5jYXRjaCgoKCk9Pm51bGwpKSx1PSEhdC5oYXNDb2xvcm1hcCYmdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL2NvbG9ybWFwXCIse3F1ZXJ5OntzbGljZTpsLGY6XCJqc29uXCJ9LHNpZ25hbDpyfSkudGhlbigoZT0+e3ZhciB0O3JldHVybiBudWxsPT0odD1lLmRhdGEpP3ZvaWQgMDp0LmNvbG9ybWFwfSkpLHA9ISF0Lmhhc0hpc3RvZ3JhbXMmJnRoaXMucmVxdWVzdCh0aGlzLnVybCtcIi9oaXN0b2dyYW1zXCIse3F1ZXJ5OntzbGljZTpsLGY6XCJqc29uXCJ9LHNpZ25hbDpyfSkudGhlbigoZT0+e3ZhciB0O3JldHVybiBudWxsPT0odD1lLmRhdGEpP3ZvaWQgMDp0Lmhpc3RvZ3JhbXN9KSkseD10aGlzLnJlcXVlc3QodGhpcy51cmwrXCIva2V5UHJvcGVydGllc1wiLHtxdWVyeTp7ZjpcImpzb25cIn0sc2lnbmFsOnJ9KS50aGVuKChlPT5lLmRhdGEpKS5jYXRjaCgoKCk9Pnt9KSksZD0hIXQuaGFzTXVsdGlkaW1lbnNpb25zJiZ0aGlzLl9mZXRjaE11bHRpZGltZW5zaW9uYWxJbmZvKCkseT0hIXQuaGFzTXVsdGlkaW1lbnNpb25zJiZ0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIvc2xpY2VzXCIse3F1ZXJ5OntmOlwianNvblwifSxzaWduYWw6cn0pLnRoZW4oKGU9PmUuZGF0YSYmZS5kYXRhLnNsaWNlcykpLmNhdGNoKCgoKT0+e30pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2MsdSxwLHgsZCx5XSkudGhlbigoZT0+e2xldCBsPW51bGw7aWYodC5taW5WYWx1ZXMmJnQubWluVmFsdWVzLmxlbmd0aD09PXQuYmFuZENvdW50KXtsPVtdO2ZvcihsZXQgZT0wO2U8dC5taW5WYWx1ZXMubGVuZ3RoO2UrKylsLnB1c2goe21pbjp0Lm1pblZhbHVlc1tlXSxtYXg6dC5tYXhWYWx1ZXNbZV0sYXZnOnQubWVhblZhbHVlc1tlXSxzdGRkZXY6dC5zdGR2VmFsdWVzW2VdfSk7fXJldHVybiB0aGlzLl9zbGljZXM9ZVs1XXx8bnVsbCxuZXcgcCQ0KHt3aWR0aDppLGhlaWdodDpzLGJhbmRDb3VudDp0LmJhbmRDb3VudCxleHRlbnQ6TSQxLmZyb21KU09OKHQuZXh0ZW50KSxzcGF0aWFsUmVmZXJlbmNlOmEscGl4ZWxTaXplOm5ldyBqJDIoe3g6dC5waXhlbFNpemVYLHk6dC5waXhlbFNpemVZLHNwYXRpYWxSZWZlcmVuY2U6YX0pLHBpeGVsVHlwZTp0LnBpeGVsVHlwZS50b0xvd2VyQ2FzZSgpLHN0YXRpc3RpY3M6bCxhdHRyaWJ1dGVUYWJsZTplWzBdfHxudWxsLGNvbG9ybWFwOmVbMV18fG51bGwsaGlzdG9ncmFtczplWzJdfHxudWxsLGtleVByb3BlcnRpZXM6ZVszXXx8e30sbXVsdGlkaW1lbnNpb25hbEluZm86ZVs0XXx8bnVsbH0pfSkpfWFzeW5jIF9mZXRjaE11bHRpZGltZW5zaW9uYWxJbmZvKGUpe3ZhciB0O2NvbnN0IGk9YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiL211bHRpZGltZW5zaW9uYWxJbmZvXCIse3F1ZXJ5OntmOlwianNvblwifSxzaWduYWw6ZX0pLnRoZW4oKGU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9ZS5kYXRhKT92b2lkIDA6dC5tdWx0aWRpbWVuc2lvbmFsSW5mb30pKTtyZXR1cm4gbnVsbCE9KHQ9aS52YXJpYWJsZXMpJiZ0Lmxlbmd0aCYmaS52YXJpYWJsZXMuZm9yRWFjaCgoZT0+e3ZhciB0O251bGwhPSh0PWUuc3RhdGlzdGljcykmJnQubGVuZ3RoJiZlLnN0YXRpc3RpY3MuZm9yRWFjaCgoZT0+e2UuYXZnPWUubWVhbixlLnN0ZGRldj1lLnN0YW5kYXJkRGV2aWF0aW9uO30pKTt9KSksaX1fZml4U2NhbGVJblNlcnZpY2VJbmZvKCl7Y29uc3R7c291cmNlSlNPTjplfT10aGlzO2UubWluU2NhbGUmJmUubWluU2NhbGU8MCYmKGUubWluU2NhbGU9MCksZS5tYXhTY2FsZSYmZS5tYXhTY2FsZTwwJiYoZS5tYXhTY2FsZT0wKTt9fTtlJDIoW3kkMSh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGcucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksZSQyKFt5JDEoKV0sZy5wcm90b3R5cGUsXCJ0aWxlVHlwZVwiLHZvaWQgMCksZz1lJDIoW2kkMyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVyRGF0YXNldHMuSW1hZ2VTZXJ2ZXJSYXN0ZXJcIildLGcpO3ZhciB2PWc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB3JDE9bmV3IE1hcDt3JDEuc2V0KFwiSW50OFwiLFwiczhcIiksdyQxLnNldChcIlVJbnQ4XCIsXCJ1OFwiKSx3JDEuc2V0KFwiSW50MTZcIixcInMxNlwiKSx3JDEuc2V0KFwiVUludDE2XCIsXCJ1MTZcIiksdyQxLnNldChcIkludDMyXCIsXCJzMzJcIiksdyQxLnNldChcIlVJbnQzMlwiLFwidTMyXCIpLHckMS5zZXQoXCJGbG9hdDMyXCIsXCJmMzJcIiksdyQxLnNldChcIkZsb2F0NjRcIixcImYzMlwiKSx3JDEuc2V0KFwiRG91YmxlNjRcIixcImYzMlwiKTtjb25zdCBJJDI9bmV3IE1hcDtJJDIuc2V0KFwibGVyY1wiLFwiLmxyY1wiKSxJJDIuc2V0KFwibm9uZVwiLFwiLnRpbFwiKSxJJDIuc2V0KFwiZGVmbGF0ZVwiLFwiLnB6cFwiKSxJJDIuc2V0KFwianBlZ1wiLFwiLmp6cFwiKTtsZXQgYj1jbGFzcyBleHRlbmRzIEx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX2ZpbGVzPW51bGwsdGhpcy5fc3RvcmFnZUluZGV4PW51bGwsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiTVJGXCI7fWFzeW5jIG9wZW4odCl7dmFyIHM7YXdhaXQgdGhpcy5pbml0KCksdGhpcy5kYXRhc2V0TmFtZT10aGlzLnVybC5zbGljZSh0aGlzLnVybC5sYXN0SW5kZXhPZihcIi9cIikrMSk7Y29uc3Qgbz10P2UkMyh0LnNpZ25hbCk6bnVsbCxpPWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOm99KSx7cmFzdGVySW5mbzphLGZpbGVzOm59PXRoaXMuX3BhcnNlSGVhZGVyKGkuZGF0YSk7aWYoLTE9PT0obnVsbD09KHM9dGhpcy5pb0NvbmZpZy5za2lwRXh0ZW5zaW9ucyk/dm9pZCAwOnMuaW5kZXhPZihcImF1eC54bWxcIikpKXtjb25zdCBlPWF3YWl0IHRoaXMuX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KTt2YXIgbDtpZihudWxsIT1lKWEuc3RhdGlzdGljcz1udWxsIT0obD1lLnN0YXRpc3RpY3MpP2w6YS5zdGF0aXN0aWNzLGEuaGlzdG9ncmFtcz1lLmhpc3RvZ3JhbXMsZS5oaXN0b2dyYW1zJiYhciQyKGEuc3RhdGlzdGljcykmJihhLnN0YXRpc3RpY3M9byQ0KGUuaGlzdG9ncmFtcykpO310aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIsYSksdGhpcy5fZmlsZXM9bjtjb25zdCBwPWF3YWl0IHRoaXMucmVxdWVzdChuLmluZGV4LHtyZXNwb25zZVR5cGU6XCJhcnJheS1idWZmZXJcIixzaWduYWw6b30pO3RoaXMuX3N0b3JhZ2VJbmRleD10aGlzLl9wYXJzZUluZGV4KHAuZGF0YSk7bGV0IGMsZixoPTAsdT0tMTtjb25zdHtibG9ja1dpZHRoOmcsYmxvY2tIZWlnaHQ6ZCxjb21wcmVzc2lvbjp5fT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8seD10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ucHlyYW1pZFNjYWxpbmdGYWN0b3Ise3dpZHRoOncsaGVpZ2h0OkksYmFuZENvdW50OmJ9PXRoaXMucmFzdGVySW5mbyxBPVtdLGo9XCJub25lXCI9PT15PzE6Yjtmb3IoO2g8dGhpcy5fc3RvcmFnZUluZGV4Lmxlbmd0aDspdSsrLGM9TWF0aC5jZWlsKHcvZy94Kip1KSxmPU1hdGguY2VpbChJL2QveCoqdSksaCs9YypmKmoqNCxBLnB1c2goe21heFJvdzpmLG1heENvbDpjLG1pbkNvbDowLG1pblJvdzowfSk7dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLmJsb2NrQm91bmRhcnk9QSx1PjAmJih0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uZmlyc3RQeXJhbWlkTGV2ZWw9MSx0aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8ubWF4aW11bVB5cmFtaWRMZXZlbD11KSx0aGlzLnVwZGF0ZVRpbGVJbmZvKCk7fWFzeW5jIGZldGNoUmF3VGlsZSh0LGUscixzPXt9KXtjb25zdHtibG9ja1dpZHRoOm8sYmxvY2tIZWlnaHQ6aSxibG9ja0JvdW5kYXJ5OmEsY29tcHJlc3Npb246bn09dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLGw9YVt0XTtpZighbHx8bC5tYXhSb3c8ZXx8bC5tYXhDb2w8cnx8bC5taW5Sb3c+ZXx8bC5taW5Db2w+cilyZXR1cm4gbnVsbDtjb25zdHtiYW5kQ291bnQ6YyxwaXhlbFR5cGU6Zn09dGhpcy5yYXN0ZXJJbmZvLHtyYW5nZXM6bSxhY3R1YWxUaWxlV2lkdGg6aCxhY3R1YWxUaWxlSGVpZ2h0OnV9PXRoaXMuX2dldFRpbGVMb2NhdGlvbih0LGUscik7aWYoIW18fDA9PT1tLmxlbmd0aClyZXR1cm4gbnVsbDtpZigwPT09bVswXS5mcm9tJiYwPT09bVswXS50byl7Y29uc3QgdD1uZXcgVWludDhBcnJheShvKmkpO3JldHVybiBuZXcgdSQ1KHt3aWR0aDpvLGhlaWdodDppLHBpeGVsczpudWxsLG1hc2s6dCx2YWxpZFBpeGVsQ291bnQ6MH0pfWNvbnN0e2JhbmRJZHM6Z309dGhpcy5pb0NvbmZpZyxkPVwibm9uZVwiPT09bj8xOmMseT1bXTtsZXQgeD0wO2Zvcih4PTA7eDxkO3grKykoIWd8fGcuaW5kZXhPZlt4XT4tMSkmJnkucHVzaCh0aGlzLnJlcXVlc3QodGhpcy5fZmlsZXMuZGF0YSx7cmFuZ2U6e2Zyb206bVt4XS5mcm9tLHRvOm1beF0udG99LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzLnNpZ25hbH0pKTtjb25zdCB3PWF3YWl0IFByb21pc2UuYWxsKHkpLEk9dy5tYXAoKHQ9PnQuZGF0YS5ieXRlTGVuZ3RoKSkucmVkdWNlKCgodCxlKT0+dCtlKSksYj1uZXcgVWludDhBcnJheShJKTtsZXQgQT0wO2Zvcih4PTA7eDxkO3grKyliLnNldChuZXcgVWludDhBcnJheSh3W3hdLmRhdGEpLEEpLEErPXdbeF0uZGF0YS5ieXRlTGVuZ3RoO2NvbnN0IGo9XCJsZXJjXCI9PT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8uY29tcHJlc3Npb24/XCJsZXJjXCI6XCJiaXBcIixSPWF3YWl0IHRoaXMuZGVjb2RlUGl4ZWxCbG9jayhiLmJ1ZmZlcix7d2lkdGg6byxoZWlnaHQ6aSxmb3JtYXQ6aixwaXhlbFR5cGU6Zn0pO2xldCBfPTAsRj0wO2lmKGghPT1vfHx1IT09aSl7bGV0IHQ9Ui5tYXNrO2lmKHQpZm9yKHg9MDt4PGk7eCsrKWlmKEY9eCpvLHg8dSlmb3IoXz1oO188bztfKyspdFtGK19dPTA7ZWxzZSBmb3IoXz0wO188bztfKyspdFtGK19dPTA7ZWxzZSBmb3IodD1uZXcgVWludDhBcnJheShvKmkpLFIubWFzaz10LHg9MDt4PHU7eCsrKWZvcihGPXgqbyxfPTA7XzxoO18rKyl0W0YrX109MTt9cmV0dXJuIFJ9X3BhcnNlSW5kZXgodCl7aWYodC5ieXRlTGVuZ3RoJTE2PjApdGhyb3cgXCJpbnZhbGlkIGFycmF5IGJ1ZmZlciBtdXN0IGJlIG11bHRpcGxlcyBvZiAxNlwiO2xldCBlLHIscyxvLGksYTtpZihyJDYpe2ZvcihyPW5ldyBVaW50OEFycmF5KHQpLG89bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCkscz1uZXcgVWludDhBcnJheShvKSxpPTA7aTx0LmJ5dGVMZW5ndGgvNDtpKyspZm9yKGE9MDthPDQ7YSsrKXNbNCppK2FdPXJbNCppKzMtYV07ZT1uZXcgVWludDMyQXJyYXkobyk7fWVsc2UgZT1uZXcgVWludDMyQXJyYXkodCk7cmV0dXJuIGV9X2dldFRpbGVMb2NhdGlvbih0LGUscil7Y29uc3R7YmxvY2tXaWR0aDpzLGJsb2NrSGVpZ2h0Om8scHlyYW1pZFNjYWxpbmdGYWN0b3I6aSxjb21wcmVzc2lvbjphfT10aGlzLnJhc3RlckluZm8uc3RvcmFnZUluZm8se3dpZHRoOm4saGVpZ2h0OmwsYmFuZENvdW50OnB9PXRoaXMucmFzdGVySW5mbyxjPVwibm9uZVwiPT09YT8xOnA7bGV0IGYsbSxoLHU9MCxnPTA7Zm9yKGg9MDtoPHQ7aCsrKWc9aSoqaCxmPU1hdGguY2VpbChuL3MvZyksbT1NYXRoLmNlaWwobC9vL2cpLHUrPWYqbTtnPWkqKnQsZj1NYXRoLmNlaWwobi9zL2cpLG09TWF0aC5jZWlsKGwvby9nKSx1Kz1lKmYrcix1Kj00KmM7Y29uc3QgZD10aGlzLl9zdG9yYWdlSW5kZXguc3ViYXJyYXkodSx1KzQqYyk7bGV0IHk9MCx4PTA7Y29uc3Qgdz1bXTtmb3IobGV0IEk9MDtJPGM7SSsrKXk9ZFs0KkkrMF0qMioqMzIrZFs0KkkrMV0seD15K2RbNCpJKzJdKjIqKjMyK2RbNCpJKzNdLHcucHVzaCh7ZnJvbTp5LHRvOnh9KTtyZXR1cm4ge3Jhbmdlczp3LGFjdHVhbFRpbGVXaWR0aDpyPGYtMT9zOk1hdGguY2VpbChuL2cpLXMqKGYtMSksYWN0dWFsVGlsZUhlaWdodDplPG0tMT9vOk1hdGguY2VpbChsL2cpLW8qKG0tMSl9fV9wYXJzZUhlYWRlcih0JDEpe2NvbnN0IGUkMT1lKHQkMSxcIk1SRl9NRVRBL1Jhc3RlclwiKTtpZighZSQxKXRocm93IG5ldyBzJDEoXCJtcmY6b3BlblwiLFwibm90IGEgdmFsaWQgTVJGIGZvcm1hdFwiKTtjb25zdCByPWUoZSQxLFwiU2l6ZVwiKSxzPXBhcnNlSW50KHIuZ2V0QXR0cmlidXRlKFwieFwiKSwxMCksbz1wYXJzZUludChyLmdldEF0dHJpYnV0ZShcInlcIiksMTApLHA9cGFyc2VJbnQoci5nZXRBdHRyaWJ1dGUoXCJjXCIpLDEwKSxmPSh0KGUkMSxcIkNvbXByZXNzaW9uXCIpfHxcIm5vbmVcIikudG9Mb3dlckNhc2UoKTtpZighZnx8LTE9PT1bXCJub25lXCIsXCJsZXJjXCJdLmluZGV4T2YoZikpdGhyb3cgbmV3IHMkMShcIm1yZjpvcGVuXCIsXCJjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCBjb21wcmVzc2lvbiBcIitmKTtjb25zdCBtPXQoZSQxLFwiRGF0YVR5cGVcIil8fFwiVUludDhcIix1PXckMS5nZXQobSk7aWYobnVsbD09dSl0aHJvdyBuZXcgcyQxKFwibXJmOm9wZW5cIixcImN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IHBpeGVsIHR5cGUgXCIrbSk7Y29uc3QgeD1lKGUkMSxcIlBhZ2VTaXplXCIpLGI9cGFyc2VJbnQoeC5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSxBPXBhcnNlSW50KHguZ2V0QXR0cmlidXRlKFwieVwiKSwxMCksaj1lKGUkMSxcIkRhdGFWYWx1ZXNcIik7bGV0IFIsXztqJiYoXz1qLmdldEF0dHJpYnV0ZShcIk5vRGF0YVwiKSxudWxsIT1fJiYoUj1fLnRyaW0oKS5zcGxpdChcIiBcIikubWFwKCh0PT5wYXJzZUZsb2F0KHQpKSkpKTtpZihlKHQkMSxcIk1SRl9NRVRBL0NhY2hlZFNvdXJjZVwiKSl0aHJvdyBuZXcgcyQxKFwibXJmOm9wZW5cIixcImN1cnJlbnRseSBkb2VzIG5vdCBzdXBwb3J0IE1SRiByZWZlcmVuY2luZyBvdGhlciBkYXRhIGZpbGVzXCIpO2NvbnN0IEY9ZSh0JDEsXCJNUkZfTUVUQS9HZW9UYWdzXCIpLE09ZShGLFwiQm91bmRpbmdCb3hcIik7aWYobnVsbD09TSl0aHJvdyBuZXcgcyQxKFwibXJmOm9wZW5cIixcIm1pc3Npbmcgbm9kZSBNUkZfTUVUQS9HZW9UYWdzL0JvdW5kaW5nQm94XCIpO2NvbnN0IFQ9cGFyc2VGbG9hdChNLmdldEF0dHJpYnV0ZShcIm1pbnhcIikpLGskMT1wYXJzZUZsb2F0KE0uZ2V0QXR0cmlidXRlKFwibWlueVwiKSksQz1wYXJzZUZsb2F0KE0uZ2V0QXR0cmlidXRlKFwibWF4eFwiKSksVT1wYXJzZUZsb2F0KE0uZ2V0QXR0cmlidXRlKFwibWF4eVwiKSksTD10KEYsXCJQcm9qZWN0aW9uXCIpfHxcIlwiLFM9dCh0JDEsXCJkYXRhZmlsZVwiKSx2PXQodCQxLFwiSW5kZXhGaWxlXCIpO2xldCBCO2lmKFwiTE9DQUxfQ1NbXVwiIT09TClpZihMLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChcImVwc2c6XCIpKXtjb25zdCB0PU51bWJlcihMLnNsaWNlKDUpKTtpc05hTih0KXx8MD09PXR8fChCPW5ldyBrKHt3a2lkOnR9KSk7fWVsc2UgQj1jJDEoTCk7Y29uc3QgUD1uZXcgTSQxKFQsayQxLEMsVSk7UC5zcGF0aWFsUmVmZXJlbmNlPUI7Y29uc3QgRT1lKHQkMSxcIk1SRl9NRVRBL1JzZXRzXCIpLEg9cGFyc2VJbnQoRSYmRS5nZXRBdHRyaWJ1dGUoXCJzY2FsZVwiKXx8XCIyXCIsMTApLFc9bmV3IHAkMih7b3JpZ2luOm5ldyBqJDIoe3g6UC54bWluLHk6UC55bWF4LHNwYXRpYWxSZWZlcmVuY2U6Qn0pLGJsb2NrV2lkdGg6YixibG9ja0hlaWdodDpBLHB5cmFtaWRCbG9ja1dpZHRoOmIscHlyYW1pZEJsb2NrSGVpZ2h0OkEsY29tcHJlc3Npb246ZixweXJhbWlkU2NhbGluZ0ZhY3RvcjpIfSksRD1uZXcgaiQyKHt4OihDLVQpL3MseTooVS1rJDEpL28sc3BhdGlhbFJlZmVyZW5jZTpCfSk7cmV0dXJuIHtyYXN0ZXJJbmZvOm5ldyBwJDQoe3dpZHRoOnMsaGVpZ2h0Om8sZXh0ZW50OlAsc3BhdGlhbFJlZmVyZW5jZTpCLGJhbmRDb3VudDpwLHBpeGVsVHlwZTp1LHBpeGVsU2l6ZTpELG5vRGF0YVZhbHVlOlIsc3RvcmFnZUluZm86V30pLGZpbGVzOnttcmY6dGhpcy51cmwsaW5kZXg6dnx8dGhpcy51cmwucmVwbGFjZShcIi5tcmZcIixcIi5pZHhcIiksZGF0YTpTfHx0aGlzLnVybC5yZXBsYWNlKFwiLm1yZlwiLEkkMi5nZXQoZikpfX19YXN5bmMgX2ZldGNoQXV4aWxpYXJ5RGF0YSh0KXt0cnl7Y29uc3R7ZGF0YTplfT1hd2FpdCB0aGlzLnJlcXVlc3QodGhpcy51cmwrXCIuYXV4LnhtbFwiLHtyZXNwb25zZVR5cGU6XCJ4bWxcIixzaWduYWw6bnVsbD09dD92b2lkIDA6dC5zaWduYWx9KTtyZXR1cm4gbShlKX1jYXRjaHtyZXR1cm4gbnVsbH19fTtlJDIoW3kkMSgpXSxiLnByb3RvdHlwZSxcIl9maWxlc1wiLHZvaWQgMCksZSQyKFt5JDEoKV0sYi5wcm90b3R5cGUsXCJfc3RvcmFnZUluZGV4XCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGIucHJvdG90eXBlLFwiZGF0YXNldEZvcm1hdFwiLHZvaWQgMCksYj1lJDIoW2kkMyhcImVzcmkubGF5ZXJzLnN1cHBvcnQucmFzdGVySU8uTVJGUmFzdGVyXCIpXSxiKTt2YXIgQT1iO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgVD1mdW5jdGlvbihlLHQpe2NvbnN0IHI9ZS5nZXQodCk7cmV0dXJuIHImJnIudmFsdWVzfSxJJDE9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWUuZ2V0KHQpO3JldHVybiByJiZyLnZhbHVlc1swXX07bGV0IHc9Y2xhc3MgZXh0ZW5kcyBMe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9maWxlcz1udWxsLHRoaXMuX2hlYWRlckluZm89bnVsbCx0aGlzLl9idWZmZXJTaXplPTEwNDg1NzYsdGhpcy5kYXRhc2V0Rm9ybWF0PVwiVElGRlwiO31hc3luYyBvcGVuKGUpe3ZhciBpO2F3YWl0IHRoaXMuaW5pdCgpO2NvbnN0IHM9ZT9lJDMoZS5zaWduYWwpOm51bGwse2RhdGE6bH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTowLHRvOnRoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpzfSk7aWYoIWwpdGhyb3cgbmV3IHMkMShcInRpZmZyYXN0ZXI6b3BlblwiLFwiZmFpbGVkIHRvIG9wZW4gdXJsIFwiK3RoaXMudXJsKTt0aGlzLmRhdGFzZXROYW1lPXRoaXMudXJsLnNsaWNlKHRoaXMudXJsLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtjb25zdHtsaXR0bGVFbmRpYW46cCxmaXJzdElGRDpjLGlzQmlnVGlmZjp5fT1iJDEobCkseD1bXTthd2FpdCB0aGlzLnJlYWRJRkRzKHgsbCxwLGMsMCx5Pzg6NCxzKTtjb25zdCBUPXkkMyh4KSx7d2lkdGg6SSxoZWlnaHQ6dyx0aWxlV2lkdGg6RSx0aWxlSGVpZ2h0OkYscGxhbmVzOlMscGl4ZWxUeXBlOnYsY29tcHJlc3Npb246YixmaXJzdFB5cmFtaWRMZXZlbDpfLG1heGltdW1QeXJhbWlkTGV2ZWw6aixweXJhbWlkQmxvY2tXaWR0aDpSLHB5cmFtaWRCbG9ja0hlaWdodDpCLHRpbGVCb3VuZGFyeTpELGFmZmluZTprLG1ldGFkYXRhOkx9PVQsTz1NJDEuZnJvbUpTT04oVC5leHRlbnQpLHo9Ty5zcGF0aWFsUmVmZXJlbmNlLEg9bmV3IGokMihPP3t4Ok8ueG1pbix5Ok8ueW1heCxzcGF0aWFsUmVmZXJlbmNlOnp9Ont4OjAseTowfSksUD1uZXcgcCQyKHtibG9ja1dpZHRoOkUsYmxvY2tIZWlnaHQ6RixweXJhbWlkQmxvY2tXaWR0aDpSLHB5cmFtaWRCbG9ja0hlaWdodDpCLGNvbXByZXNzaW9uOmIsb3JpZ2luOkgsZmlyc3RQeXJhbWlkTGV2ZWw6XyxtYXhpbXVtUHlyYW1pZExldmVsOmosYmxvY2tCb3VuZGFyeTpEfSksRz1uZXcgaiQyKHt4OihPLnhtYXgtTy54bWluKS9JLHk6KE8ueW1heC1PLnltaW4pL3csc3BhdGlhbFJlZmVyZW5jZTp6fSkscT1MP3tCYW5kUHJvcGVydGllczpMLmJhbmRQcm9wZXJ0aWVzLERhdGFUeXBlOkwuZGF0YVR5cGV9Ont9LFc9bmV3IHAkNCh7d2lkdGg6SSxoZWlnaHQ6dyxiYW5kQ291bnQ6UyxwaXhlbFR5cGU6dixjb21wcmVzc2lvbjpiLHBpeGVsU2l6ZTpHLHN0b3JhZ2VJbmZvOlAsc3BhdGlhbFJlZmVyZW5jZTp6LGtleVByb3BlcnRpZXM6cSxleHRlbnQ6TyxzdGF0aXN0aWNzOkw/TC5zdGF0aXN0aWNzOm51bGx9KTtpZihudWxsIT1rJiZrLmxlbmd0aCYmKFcubmF0aXZlRXh0ZW50PW5ldyBNJDEoe3htaW46LS41LHltaW46LjUtdyx4bWF4OkktLjUseW1heDouNSxzcGF0aWFsUmVmZXJlbmNlOnp9KSxXLnRyYW5zZm9ybT1uZXcgbSQxKHtwb2x5bm9taWFsT3JkZXI6MSxmb3J3YXJkQ29lZmZpY2llbnRzOltrWzJdK2tbMF0vMixrWzVdLWtbM10vMixrWzBdLGtbM10sLWtbMV0sLWtbNF1dfSksVy5leHRlbnQ9Vy50cmFuc2Zvcm0uZm9yd2FyZFRyYW5zZm9ybShXLm5hdGl2ZUV4dGVudCksVy5waXhlbFNpemU9bmV3IGokMih7eDooTy54bWF4LU8ueG1pbikvSSx5OihPLnltYXgtTy55bWluKS93LHNwYXRpYWxSZWZlcmVuY2U6en0pLFAub3JpZ2luLng9LS41LFAub3JpZ2luLnk9LjUpLG51bGw9PShpPXRoaXMuaW9Db25maWcuc2tpcEV4dGVuc2lvbnMpfHwhaS5pbmNsdWRlcyhcImF1eC54bWxcIikpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZmV0Y2hBdXhpbGlhcnlEYXRhKGUpO2lmKG51bGwhPXQpe3ZhciBDO2lmKFcuc3RhdGlzdGljcz1udWxsIT0oQz10LnN0YXRpc3RpY3MpP0M6Vy5zdGF0aXN0aWNzLFcuaGlzdG9ncmFtcz10Lmhpc3RvZ3JhbXMsdC5oaXN0b2dyYW1zJiYhciQyKFcuc3RhdGlzdGljcykmJihXLnN0YXRpc3RpY3M9byQ0KHQuaGlzdG9ncmFtcykpLHQudHJhbnNmb3JtJiYhayl7Vy50cmFuc2Zvcm09dC50cmFuc2Zvcm0sVy5uYXRpdmVFeHRlbnQ9Vy5leHRlbnQ7Y29uc3QgZT1XLnRyYW5zZm9ybS5mb3J3YXJkVHJhbnNmb3JtKFcubmF0aXZlRXh0ZW50KTtXLnBpeGVsU2l6ZT1uZXcgaiQyKHt4OihlLnhtYXgtZS54bWluKS9JLHk6KGUueW1heC1lLnltaW4pL3csc3BhdGlhbFJlZmVyZW5jZTp6fSksVy5leHRlbnQ9ZTt9Vy5zcGF0aWFsUmVmZXJlbmNlfHwoVy5zcGF0aWFsUmVmZXJlbmNlPXQuc3BhdGlhbFJlZmVyZW5jZSk7fX1pZih0aGlzLl9zZXQoXCJyYXN0ZXJJbmZvXCIsVyksdGhpcy5faGVhZGVySW5mbz17bGl0dGxlRW5kaWFuOnAsaXNCaWdUaWZmOnksaWZkczp4LC4uLlR9LCF0aGlzLl9oZWFkZXJJbmZvLmlzU3VwcG9ydGVkKXRocm93IG5ldyBzJDEoXCJ0aWZmcmFzdGVyOm9wZW5cIixcInRoaXMgdGlmZiBpcyBub3Qgc3VwcG9ydGVkOiBcIit0aGlzLl9oZWFkZXJJbmZvLm1lc3NhZ2UpO3RoaXMudXBkYXRlVGlsZUluZm8oKTt9YXN5bmMgZmV0Y2hSYXdUaWxlKGUsdCxyLGk9e30pe3ZhciBzO2lmKG51bGw9PShzPXRoaXMuX2hlYWRlckluZm8pfHwhcy5pc1N1cHBvcnRlZHx8dGhpcy5pc0Jsb2NrT3V0c2lkZShlLHQscikpcmV0dXJuIG51bGw7Y29uc3QgYT10aGlzLmdldFRpbGVMb2NhdGlvbihlLHQscik7aWYoIWEpcmV0dXJuIG51bGw7Y29uc3R7cmFuZ2U6byxhY3R1YWxUaWxlV2lkdGg6bixhY3R1YWxUaWxlSGVpZ2h0OmYsaWZkOmx9PWEse2RhdGE6dX09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTpvLHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDppLnNpZ25hbH0pLHtibG9ja1dpZHRoOm0sYmxvY2tIZWlnaHQ6cH09dGhpcy5nZXRCbG9ja1dpZHRoSGVpZ2h0KGUpLGM9YXdhaXQgdGhpcy5kZWNvZGVQaXhlbEJsb2NrKHUse2Zvcm1hdDpcInRpZmZcIixjdXN0b21PcHRpb25zOntoZWFkZXJJbmZvOnRoaXMuX2hlYWRlckluZm8saWZkOmwsb2Zmc2V0OjAsc2l6ZTowfSx3aWR0aDptLGhlaWdodDpwLHBsYW5lczpudWxsLHBpeGVsVHlwZTpudWxsfSk7bGV0IGgsZCx5O2lmKG4hPT1tfHxmIT09cCl7bGV0IGU9Yy5tYXNrO2lmKGUpZm9yKGg9MDtoPHA7aCsrKWlmKHk9aCptLGg8Zilmb3IoZD1uO2Q8bTtkKyspZVt5K2RdPTA7ZWxzZSBmb3IoZD0wO2Q8bTtkKyspZVt5K2RdPTA7ZWxzZSBmb3IoZT1uZXcgVWludDhBcnJheShtKnApLGMubWFzaz1lLGg9MDtoPGY7aCsrKWZvcih5PWgqbSxkPTA7ZDxuO2QrKyllW3krZF09MTt9cmV0dXJuIGN9YXN5bmMgcmVhZElGRHMoZSx0LHIsaSxzLGE9NCxvKXtpZighaSlyZXR1cm4gbnVsbDtpZihpPj10LmJ5dGVMZW5ndGh8fGk8MCl7dD0oYXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTppK3MsdG86aStzK3RoaXMuX2J1ZmZlclNpemV9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvfSkpLmRhdGEscz1pK3MsaT0wO31jb25zdCBuPWF3YWl0IHRoaXMucmVhZElGRCh0LHIsaSxzLG4kNy5USUZGX1RBR1MsYSxvKTtpZihlLnB1c2gobi5pZmQpLCFuLm5leHRJRkQpcmV0dXJuIG51bGw7YXdhaXQgdGhpcy5yZWFkSUZEcyhlLHQscixuLm5leHRJRkQtcyxzLGEsbyk7fWFzeW5jIHJlYWRJRkQoZSx0LHIsaSxzPW4kNy5USUZGX1RBR1MsYT00LG8pe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49eCQ2KGUsdCxyLGkscyxhKTtpZihuLnN1Y2Nlc3Mpe2NvbnN0IHI9W107aWYobi5pZmQuZm9yRWFjaCgoZT0+e2UudmFsdWVzfHxyLnB1c2goZSk7fSkpLHIubGVuZ3RoPjApe2NvbnN0IHM9ci5tYXAoKGU9PmUub2ZmbGluZU9mZnNldFNpemUpKSxhPU1hdGgubWluLmFwcGx5KG51bGwscy5tYXAoKGU9PmVbMF0pKSk7aWYoTWF0aC5taW4uYXBwbHkobnVsbCxzLm1hcCgoZT0+ZVswXStlWzFdKSkpLWE8PXRoaXMuX2J1ZmZlclNpemUpe2NvbnN0e2RhdGE6c309YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsLHtyYW5nZTp7ZnJvbTphLHRvOmErdGhpcy5fYnVmZmVyU2l6ZX0scmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCIsc2lnbmFsOm99KTtlPXMsaT1hLHIuZm9yRWFjaCgocj0+RSQxKGUsdCxyLGkpKSk7fX1pZihuLmlmZC5oYXMoXCJHRU9LRVlESVJFQ1RPUllcIikpe2NvbnN0IHI9bi5pZmQuZ2V0KFwiR0VPS0VZRElSRUNUT1JZXCIpLHM9ci52YWx1ZXM7aWYocyYmcy5sZW5ndGg+NCl7Y29uc3QgYT1zWzBdK1wiLlwiK3NbMV0rXCIuXCIrc1syXSxuPWF3YWl0IHRoaXMucmVhZElGRChlLHQsci52YWx1ZU9mZnNldCs2LWksaSxuJDcuR0VPX0tFWVMsMixvKTtyLmRhdGE9bi5pZmQsci5kYXRhJiZyLmRhdGEuc2V0KFwiR0VPVElGRlZlcnNpb25cIix7aWQ6MCx0eXBlOjIsdmFsdWVDb3VudDoxLHZhbHVlT2Zmc2V0Om51bGwsdmFsdWVzOlthXX0pO319cmV0dXJuIG59aWYobi5yZXF1aXJlZEJ1ZmZlclNpemUmJm4ucmVxdWlyZWRCdWZmZXJTaXplIT09ZS5ieXRlTGVuZ3RoKXtjb25zdCByPWF3YWl0IHRoaXMucmVxdWVzdCh0aGlzLnVybCx7cmFuZ2U6e2Zyb206aSx0bzppK24ucmVxdWlyZWRCdWZmZXJTaXplKzR9LHJlc3BvbnNlVHlwZTpcImFycmF5LWJ1ZmZlclwiLHNpZ25hbDpvfSk7cmV0dXJuIChlPXIuZGF0YSkuYnl0ZUxlbmd0aDxuLnJlcXVpcmVkQnVmZmVyU2l6ZT9udWxsOnRoaXMucmVhZElGRChlLHQsMCxpLG4kNy5USUZGX1RBR1MsNCxvKX19Z2V0VGlsZUxvY2F0aW9uKGUsdCxyKXtjb25zdHtmaXJzdFB5cmFtaWRMZXZlbDppLGJsb2NrQm91bmRhcnk6c309dGhpcy5yYXN0ZXJJbmZvLnN0b3JhZ2VJbmZvLGE9MD09PWU/MDplLShpLTEpLG89dGhpcy5faGVhZGVySW5mby5pZmRzW2FdO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IG49VChvLFwiVElMRU9GRlNFVFNcIik7aWYodm9pZCAwPT09bilyZXR1cm4gbnVsbDtjb25zdCBmPVQobyxcIlRJTEVCWVRFQ09VTlRTXCIpLHttaW5Sb3c6bCxtaW5Db2w6dSxtYXhSb3c6bSxtYXhDb2w6cH09c1thXTtpZih0Pm18fHI+cHx8dDxsfHxyPHUpcmV0dXJuIG51bGw7Y29uc3QgYz1JJDEobyxcIklNQUdFV0lEVEhcIiksaD1JJDEobyxcIklNQUdFTEVOR1RIXCIpLGQ9SSQxKG8sXCJUSUxFV0lEVEhcIikseT1JJDEobyxcIlRJTEVMRU5HVEhcIiksZz10KihwKzEpK3IseD1uW2ddLHc9ZltnXTtpZihudWxsPT14fHxudWxsPT13KXJldHVybiBudWxsO3JldHVybiB7cmFuZ2U6e2Zyb206eCx0bzp4K3ctMX0saWZkOm8sYWN0dWFsVGlsZVdpZHRoOnI9PT1wP2MlZDpkLGFjdHVhbFRpbGVIZWlnaHQ6dD09PW0/aCV5Onl9fWFzeW5jIF9mZXRjaEF1eGlsaWFyeURhdGEoZSl7dHJ5e2NvbnN0e2RhdGE6dH09YXdhaXQgdGhpcy5yZXF1ZXN0KHRoaXMudXJsK1wiLmF1eC54bWxcIix7cmVzcG9uc2VUeXBlOlwieG1sXCIsc2lnbmFsOm51bGw9PWU/dm9pZCAwOmUuc2lnbmFsfSk7cmV0dXJuIG0odCl9Y2F0Y2h7cmV0dXJuIG51bGx9fX07ZSQyKFt5JDEoKV0sdy5wcm90b3R5cGUsXCJfZmlsZXNcIix2b2lkIDApLGUkMihbeSQxKCldLHcucHJvdG90eXBlLFwiX2hlYWRlckluZm9cIix2b2lkIDApLGUkMihbeSQxKCldLHcucHJvdG90eXBlLFwiX2J1ZmZlclNpemVcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sdy5wcm90b3R5cGUsXCJkYXRhc2V0Rm9ybWF0XCIsdm9pZCAwKSx3PWUkMihbaSQzKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5yYXN0ZXJEYXRhc2V0cy5USUZGUmFzdGVyXCIpXSx3KTt2YXIgRT13O1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgYz1uZXcgTWFwO2Muc2V0KFwiQ1JGXCIse2Rlc2M6XCJDbG91ZCBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6SSQzfSksYy5zZXQoXCJNUkZcIix7ZGVzYzpcIk1ldGEgUmFzdGVyIEZvcm1hdFwiLGNvbnN0cnVjdG9yOkF9KSxjLnNldChcIlRJRkZcIix7ZGVzYzpcIkdlb1RJRkZcIixjb25zdHJ1Y3RvcjpFfSksYy5zZXQoXCJSYXN0ZXJUaWxlU2VydmVyXCIse2Rlc2M6XCJSYXN0ZXIgVGlsZSBTZXJ2ZXJcIixjb25zdHJ1Y3Rvcjp2fSksYy5zZXQoXCJKUEdcIix7ZGVzYzpcIkpQRyBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6eCQxfSksYy5zZXQoXCJQTkdcIix7ZGVzYzpcIlBORyBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6eCQxfSksYy5zZXQoXCJHSUZcIix7ZGVzYzpcIkdJRiBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6eCQxfSksYy5zZXQoXCJCTVBcIix7ZGVzYzpcIkJNUCBSYXN0ZXIgRm9ybWF0XCIsY29uc3RydWN0b3I6eCQxfSk7Y2xhc3MgbntzdGF0aWMgZ2V0IHN1cHBvcnRlZEZvcm1hdHMoKXtjb25zdCB0PW5ldyBTZXQ7cmV0dXJuIGMuZm9yRWFjaCgoKHIsZSk9PnQuYWRkKGUpKSksdH1zdGF0aWMgYXN5bmMgb3BlbihyKXtjb25zdHt1cmw6ZSxpb0NvbmZpZzpzLHNvdXJjZUpTT046b309cjtsZXQgYT1yLmRhdGFzZXRGb3JtYXQ7bnVsbD09YSYmZS5sYXN0SW5kZXhPZihcIi5cIikmJihhPWUuc2xpY2UoZS5sYXN0SW5kZXhPZihcIi5cIikrMSkudG9VcHBlckNhc2UoKSksXCJPVlJcIj09PWF8fFwiVElGXCI9PT1hP2E9XCJUSUZGXCI6XCJKUEdcIiE9PWEmJlwiSlBFR1wiIT09YSYmXCJKRklGXCIhPT1hfHwoYT1cIkpQR1wiKSxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi9pbWFnZXNlcnZlclwiKT4tMSYmLTE9PT1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi93Y3NzZXJ2ZXJcIikmJihhPVwiUmFzdGVyVGlsZVNlcnZlclwiKTtjb25zdCBuPXt1cmw6ZSxzb3VyY2VKU09OOm8sZGF0YXNldEZvcm1hdDphLGlvQ29uZmlnOnN8fHtiYW5kSWRzOm51bGwsc2FtcGxpbmc6bnVsbH19O2xldCBpLHU7aWYodGhpcy5zdXBwb3J0ZWRGb3JtYXRzLmhhcyhhKSlyZXR1cm4gaT1jLmdldChhKS5jb25zdHJ1Y3Rvcix1PW5ldyBpKG4pLGF3YWl0IHUub3Blbih7c2lnbmFsOnIuc2lnbmFsfSksdTtpZihhKXRocm93IG5ldyBzJDEoXCJyYXN0ZXJmYWN0b3J5Om9wZW5cIixcIm5vdCBhIHN1cHBvcnRlZCBmb3JtYXQgXCIrYSk7Y29uc3QgbD1BcnJheS5mcm9tKGMua2V5cygpKTtsZXQgbT0wO2NvbnN0IEY9ZnVuY3Rpb24oKXtyZXR1cm4gYT1sW20rK10sYT8oaT1jLmdldChhKS5jb25zdHJ1Y3Rvcix1PW5ldyBpKG4pLHUub3Blbih7c2lnbmFsOnIuc2lnbmFsfSkudGhlbigoKCk9PnUpKS5jYXRjaCgoKCk9PkYoKSkpKTpudWxsfTtyZXR1cm4gRigpfXN0YXRpYyByZWdpc3Rlcih0LHIsZSl7Yy5oYXModC50b1VwcGVyQ2FzZSgpKXx8Yy5zZXQodC50b1VwcGVyQ2FzZSgpLHtkZXNjOnIsY29uc3RydWN0b3I6ZX0pO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBSPW8kNSgpKHtSU1BfTmVhcmVzdE5laWdoYm9yOlwibmVhcmVzdFwiLFJTUF9CaWxpbmVhckludGVycG9sYXRpb246XCJiaWxpbmVhclwiLFJTUF9DdWJpY0NvbnZvbHV0aW9uOlwiY3ViaWNcIixSU1BfTWFqb3JpdHk6XCJtYWpvcml0eVwifSk7ZnVuY3Rpb24gSSgpe3JldHVybiB7ZW5hYmxlZDohdGhpcy5sb2FkZWR8fFwiUmFzdGVyVGlsZVNlcnZlclwiPT09dGhpcy5yYXN0ZXIuZGF0YXNldEZvcm1hdCYmXCJSYXN0ZXJcIj09PXRoaXMucmFzdGVyLnRpbGVUeXBlfX1sZXQgTz1jbGFzcyBleHRlbmRzKHQkNChzJDIobyQ2KGwkMyh1JDYoeCQ0KGwkNChiJDIpKSkpKSkpKXtjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmJhbmRJZHM9bnVsbCx0aGlzLmludGVycG9sYXRpb249bnVsbCx0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5pc1JlZmVyZW5jZT1udWxsLHRoaXMubGlzdE1vZGU9XCJzaG93XCIsdGhpcy5zb3VyY2VKU09OPW51bGwsdGhpcy52ZXJzaW9uPW51bGwsdGhpcy50aXRsZT1udWxsLHRoaXMudHlwZT1cImltYWdlcnktdGlsZVwiLHRoaXMub3BlcmF0aW9uYWxMYXllclR5cGU9XCJBcmNHSVNUaWxlZEltYWdlU2VydmljZUxheWVyXCIsdGhpcy5wb3B1cEVuYWJsZWQ9ITAsdGhpcy5wb3B1cFRlbXBsYXRlPW51bGw7fW5vcm1hbGl6ZUN0b3JBcmdzKGUscil7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlP3t1cmw6ZSwuLi5yfTplfWxvYWQoZSl7Y29uc3QgdD1yJDIoZSk/ZS5zaWduYWw6bnVsbDtyZXR1cm4gdGhpcy5hZGRSZXNvbHZpbmdQcm9taXNlKHRoaXMubG9hZEZyb21Qb3J0YWwoe3N1cHBvcnRlZFR5cGVzOltcIkltYWdlIFNlcnZpY2VcIl19LGUpLnRoZW4oKCgpPT50aGlzLl9vcGVuUmFzdGVyKHQpKSwoKCk9PnRoaXMuX29wZW5SYXN0ZXIodCkpKSksUHJvbWlzZS5yZXNvbHZlKHRoaXMpfWdldCBkZWZhdWx0UG9wdXBUZW1wbGF0ZSgpe3JldHVybiB0aGlzLmNyZWF0ZVBvcHVwVGVtcGxhdGUoKX1nZXQgZmllbGRzKCl7dmFyIGUscjtsZXQgdD1bbmV3IHkkNCh7bmFtZTpcIlJhc3Rlci5TZXJ2aWNlUGl4ZWxWYWx1ZVwiLGFsaWFzOlwiUGl4ZWwgVmFsdWVcIixkb21haW46bnVsbCxlZGl0YWJsZTohMSxsZW5ndGg6NTAsdHlwZTpcInN0cmluZ1wifSldO2NvbnN0IG89bnVsbD09KGU9dGhpcy5yYXN0ZXJJbmZvKXx8bnVsbD09KHI9ZS5hdHRyaWJ1dGVUYWJsZSk/dm9pZCAwOnIuZmllbGRzLGk9XCJSYXN0ZXIuXCI7aWYobyl7Y29uc3QgZT1vLmZpbHRlcigoZT0+XCJvaWRcIiE9PWUudHlwZSYmXCJ2YWx1ZVwiIT09ZS5uYW1lLnRvTG93ZXJDYXNlKCkpKS5tYXAoKGU9Pntjb25zdCByPWUuY2xvbmUoKTtyZXR1cm4gci5uYW1lPWkrZS5uYW1lLHJ9KSk7dD10LmNvbmNhdChlKTt9cmV0dXJuIHR9c2V0IHJlbmRlcmVyKGUpe3RoaXMuX3NldChcInJlbmRlcmVyXCIsZSksdGhpcy51cGRhdGVSZW5kZXJlcigpO31yZWFkUmVuZGVyZXIoZSxyLHQpe2NvbnN0IG89ciYmci5sYXllckRlZmluaXRpb24mJnIubGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvJiZyLmxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mby5yZW5kZXJlcixpPXAkNShvLHQpfHx2b2lkIDA7aWYobnVsbCE9aSlyZXR1cm4gaX1jcmVhdGVQb3B1cFRlbXBsYXRlKGUpe3JldHVybiBhJDModGhpcyxlKX13cml0ZShlLHIpe2NvbnN0e3Jhc3Rlcjp0fT10aGlzO2lmKHRoaXMubG9hZGVkP1wiUmFzdGVyVGlsZVNlcnZlclwiPT09dC5kYXRhc2V0Rm9ybWF0JiYoXCJSYXN0ZXJcIj09PXQudGlsZVR5cGV8fFwiTWFwXCI9PT10LnRpbGVUeXBlKTp0aGlzLnVybCYmL1xcL0ltYWdlU2VydmVyKFxcL3xcXC8/JCkvaS50ZXN0KHRoaXMudXJsKSlyZXR1cm4gc3VwZXIud3JpdGUoZSxyKTtpZihyJiZyLm1lc3NhZ2VzKXtjb25zdCBlPWAke3Iub3JpZ2lufS8ke3IubGF5ZXJDb250YWluZXJUeXBlfHxcIm9wZXJhdGlvbmFsLWxheWVyc1wifWA7ci5tZXNzYWdlcy5wdXNoKG5ldyBzJDEoXCJsYXllcjp1bnN1cHBvcnRlZFwiLGBMYXllcnMgKCR7dGhpcy50aXRsZX0sICR7dGhpcy5pZH0pIG9mIHR5cGUgJyR7dGhpcy5kZWNsYXJlZENsYXNzfScgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGNvbnRleHQgb2YgJyR7ZX0nYCx7bGF5ZXI6dGhpc30pKTt9cmV0dXJuIG51bGx9YXN5bmMgX29wZW5SYXN0ZXIoZSl7dGhpcy5yYXN0ZXI/KHRoaXMucmFzdGVyLnJhc3RlckluZm98fGF3YWl0IHRoaXMucmFzdGVyLm9wZW4oKSx0aGlzLnVybD10aGlzLnJhc3Rlci51cmwpOnRoaXMucmFzdGVyPWF3YWl0IG4ub3Blbih7dXJsOnRoaXMudXJsLHNvdXJjZUpTT046dGhpcy5zb3VyY2VKU09OLGlvQ29uZmlnOnRoaXMuaW9Db25maWcsc2lnbmFsOmV9KTtjb25zdHtyYXN0ZXJJbmZvOnJ9PXRoaXMucmFzdGVyO2lmKCFyKXRocm93IG5ldyBzJDEoXCJpbWFnZXJ5LXRpbGUtbGF5ZXI6bG9hZFwiLFwiY2Fubm90IGxvYWQgcmVzb3VyY2VzIG9uIFwiK3RoaXMudXJsKTt0aGlzLnNvdXJjZUpTT049dGhpcy5zb3VyY2VKU09OfHx0aGlzLnJhc3Rlci5zb3VyY2VKU09OLG51bGwhPXRoaXMuc291cmNlSlNPTiYmKHRoaXMuX3NldChcInZlcnNpb25cIix0aGlzLnNvdXJjZUpTT04uY3VycmVudFZlcnNpb24pLHRoaXMuX3NldChcImNvcHlyaWdodFwiLHRoaXMuc291cmNlSlNPTi5jb3B5cmlnaHRUZXh0KSksbnVsbD09dGhpcy50aXRsZSYmKHRoaXMudGl0bGU9dGhpcy5yYXN0ZXIuZGF0YXNldE5hbWUpLFwiTWFwXCI9PT10aGlzLnJhc3Rlci50aWxlVHlwZSYmKHRoaXMucG9wdXBFbmFibGVkPSExKSx0aGlzLl9jb25maWdEZWZhdWx0U2V0dGluZ3MoKTt9fTtlJDIoW3kkMSh7dHlwZTpbTiQxXSxqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6SX19fSldLE8ucHJvdG90eXBlLFwiYmFuZElkc1wiLHZvaWQgMCksZSQyKFt5JDEoe2pzb246e3dyaXRlOntvdmVycmlkZVBvbGljeTpJfX19KSxyJDQoUildLE8ucHJvdG90eXBlLFwiaW50ZXJwb2xhdGlvblwiLHZvaWQgMCksZSQyKFt5JDEoe2pzb246e3dyaXRlOiEwfX0pXSxPLnByb3RvdHlwZSxcIm11bHRpZGltZW5zaW9uYWxEZWZpbml0aW9uXCIsdm9pZCAwKSxlJDIoW3kkMShkJDUpXSxPLnByb3RvdHlwZSxcImxlZ2VuZEVuYWJsZWRcIix2b2lkIDApLGUkMihbeSQxKHt0eXBlOkJvb2xlYW4sanNvbjp7cmVhZDohMSx3cml0ZTp7ZW5hYmxlZDohMCxvdmVycmlkZVBvbGljeTooKT0+KHtlbmFibGVkOiExfSl9fX0pXSxPLnByb3RvdHlwZSxcImlzUmVmZXJlbmNlXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCJdfSldLE8ucHJvdG90eXBlLFwibGlzdE1vZGVcIix2b2lkIDApLGUkMihbeSQxKCldLE8ucHJvdG90eXBlLFwic291cmNlSlNPTlwiLHZvaWQgMCksZSQyKFt5JDEoe3JlYWRPbmx5OiEwfSldLE8ucHJvdG90eXBlLFwidmVyc2lvblwiLHZvaWQgMCksZSQyKFt5JDEoKV0sTy5wcm90b3R5cGUsXCJ0aXRsZVwiLHZvaWQgMCksZSQyKFt5JDEoe3JlYWRPbmx5OiEwLGpzb246e3JlYWQ6ITF9fSldLE8ucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZSQyKFt5JDEoe3R5cGU6W1wiQXJjR0lTVGlsZWRJbWFnZVNlcnZpY2VMYXllclwiXX0pXSxPLnByb3RvdHlwZSxcIm9wZXJhdGlvbmFsTGF5ZXJUeXBlXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpCb29sZWFuLHZhbHVlOiEwLGpzb246e3JlYWQ6e3NvdXJjZTpcImRpc2FibGVQb3B1cFwiLHJlYWRlcjooZSxyKT0+IXIuZGlzYWJsZVBvcHVwfSx3cml0ZTp7dGFyZ2V0OlwiZGlzYWJsZVBvcHVwXCIsb3ZlcnJpZGVQb2xpY3k6SSx3cml0ZXIoZSxyLHQpe3JbdF09IWU7fX19fSldLE8ucHJvdG90eXBlLFwicG9wdXBFbmFibGVkXCIsdm9pZCAwKSxlJDIoW3kkMSh7dHlwZTpNJDMsanNvbjp7cmVhZDp7c291cmNlOlwicG9wdXBJbmZvXCJ9LHdyaXRlOnt0YXJnZXQ6XCJwb3B1cEluZm9cIixvdmVycmlkZVBvbGljeTpJfX19KV0sTy5wcm90b3R5cGUsXCJwb3B1cFRlbXBsYXRlXCIsdm9pZCAwKSxlJDIoW3kkMSh7cmVhZE9ubHk6ITB9KV0sTy5wcm90b3R5cGUsXCJkZWZhdWx0UG9wdXBUZW1wbGF0ZVwiLG51bGwpLGUkMihbeSQxKHtyZWFkT25seTohMCx0eXBlOlt5JDRdfSldLE8ucHJvdG90eXBlLFwiZmllbGRzXCIsbnVsbCksZSQyKFt5JDEoe3R5cGVzOmQkMyxqc29uOntuYW1lOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnJlbmRlcmVyXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5Okl9LG9yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3R5cGVzOmkkNCxuYW1lOlwibGF5ZXJEZWZpbml0aW9uLmRyYXdpbmdJbmZvLnJlbmRlcmVyXCIsd3JpdGU6e292ZXJyaWRlUG9saWN5OmU9Pih7ZW5hYmxlZDplJiZcInZlY3Rvci1maWVsZFwiIT09ZS50eXBlfSl9fX19fSldLE8ucHJvdG90eXBlLFwicmVuZGVyZXJcIixudWxsKSxlJDIoW2UkNChcInJlbmRlcmVyXCIpXSxPLnByb3RvdHlwZSxcInJlYWRSZW5kZXJlclwiLG51bGwpLE89ZSQyKFtpJDMoXCJlc3JpLmxheWVycy5JbWFnZXJ5VGlsZUxheWVyXCIpXSxPKTt2YXIgeD1PO1xuXG5leHBvcnQgZGVmYXVsdCB4O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbWFnZXJ5VGlsZUxheWVyLWZjYmY0NDRiLmpzLm1hcCIsImltcG9ydCB7IGkgfSBmcm9tICcuL01lbUNhY2hlLTU0NjMwNjg5LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGV7Y29uc3RydWN0b3IoZSxzKXt0aGlzLl9zdG9yYWdlPW5ldyBpLHRoaXMuX3N0b3JhZ2UubWF4U2l6ZT1lLHMmJnRoaXMuX3N0b3JhZ2UucmVnaXN0ZXJSZW1vdmVGdW5jKFwiXCIscyk7fXB1dCh0LGUscyl7dGhpcy5fc3RvcmFnZS5wdXQodCxlLHMsMSk7fXBvcCh0KXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5wb3AodCl9Z2V0KHQpe3JldHVybiB0aGlzLl9zdG9yYWdlLmdldCh0KX1jbGVhcigpe3RoaXMuX3N0b3JhZ2UuY2xlYXJBbGwoKTt9ZGVzdHJveSgpe3RoaXMuX3N0b3JhZ2UuZGVzdHJveSgpO31nZXQgbWF4U2l6ZSgpe3JldHVybiB0aGlzLl9zdG9yYWdlLm1heFNpemV9c2V0IG1heFNpemUodCl7dGhpcy5fc3RvcmFnZS5tYXhTaXplPXQ7fX1cblxuZXhwb3J0IHsgZSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1MUlVDYWNoZS0wOGIwY2MxYy5qcy5tYXAiLCJpbXBvcnQgeyBTIGFzIG4sIGFCIGFzIG4kMSwgYUMgYXMgciQxLCBNLCBPIGFzIGssIGFEIGFzIGcsIGogYXMgVSwgVSBhcyBVJDEsIHMsIFogYXMgZSwgXyBhcyB5LCBhMCBhcyBpLCBhYyBhcyBmJDIsIGF3IGFzIHMkMSwgYUUgYXMgciQyLCBSIGFzIHkkMSwgYUYgYXMgbSQxLCBhRyBhcyB1JDIsIGFIIGFzIG4kMiwgYUkgYXMgZSQxLCBhMSBhcyB1JDMsIGFKIGFzIHQsIGFLIGFzIGckMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0ICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBtPTA7Y29uc3QgaD1uLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLkxheWVyXCIpO2xldCBmJDE9Y2xhc3MgZXh0ZW5kcyhuJDEuRXZlbnRlZE1peGluKHIkMShmJDIpKSl7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuYXR0cmlidXRpb25EYXRhVXJsPW51bGwsdGhpcy5mdWxsRXh0ZW50PW5ldyBNKC0xODAsLTkwLDE4MCw5MCxrLldHUzg0KSx0aGlzLmlkPURhdGUubm93KCkudG9TdHJpbmcoMTYpK1wiLWxheWVyLVwiK20rKyx0aGlzLmxlZ2VuZEVuYWJsZWQ9ITAsdGhpcy5saXN0TW9kZT1cInNob3dcIix0aGlzLm9wYWNpdHk9MSx0aGlzLnBhcmVudD1udWxsLHRoaXMucG9wdXBFbmFibGVkPSEwLHRoaXMuYXR0cmlidXRpb25WaXNpYmxlPSEwLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1rLldHUzg0LHRoaXMudGl0bGU9bnVsbCx0aGlzLnR5cGU9bnVsbCx0aGlzLnVybD1udWxsLHRoaXMudmlzaWJsZT0hMDt9c3RhdGljIGFzeW5jIGZyb21BcmNHSVNTZXJ2ZXJVcmwodCl7Y29uc3Qgcj1cInN0cmluZ1wiPT10eXBlb2YgdD97dXJsOnR9OnQsZT1hd2FpdCBpbXBvcnQoJy4vYXJjZ2lzTGF5ZXJzLTE1ZmRkOGU0LmpzJyk7dHJ5e3JldHVybiBhd2FpdCBlLmZyb21Vcmwocil9Y2F0Y2gobyl7dGhyb3cgaC5lcnJvcihcIiNmcm9tQXJjR0lTU2VydmVyVXJsKHsgdXJsOiAnXCIrci51cmwrXCInfSlcIixcIkZhaWxlZCB0byBjcmVhdGUgbGF5ZXIgZnJvbSBhcmNnaXMgc2VydmVyIHVybFwiLG8pLG99fXN0YXRpYyBhc3luYyBmcm9tUG9ydGFsSXRlbSh0KXtjb25zdCBlPVwicG9ydGFsSXRlbVwiaW4gdD90Ontwb3J0YWxJdGVtOnR9LG89YXdhaXQgaW1wb3J0KCcuL3BvcnRhbExheWVycy1hMTc4NjkyOS5qcycpLnRoZW4oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4ucDsgfSk7dHJ5e3JldHVybiBhd2FpdCBvLmZyb21JdGVtKGUpfWNhdGNoKGkpe2NvbnN0IHQ9ZSYmZS5wb3J0YWxJdGVtLG89dCYmdC5pZHx8XCJ1bnNldFwiLGE9dCYmdC5wb3J0YWwmJnQucG9ydGFsLnVybHx8cyQxLnBvcnRhbFVybDt0aHJvdyBoLmVycm9yKFwiI2Zyb21Qb3J0YWxJdGVtKClcIixcIkZhaWxlZCB0byBjcmVhdGUgbGF5ZXIgZnJvbSBwb3J0YWwgaXRlbSAocG9ydGFsOiAnXCIrYStcIicsIGlkOiAnXCIrbytcIicpXCIsaSksaX19aW5pdGlhbGl6ZSgpe3RoaXMud2hlbigpLmNhdGNoKCh0PT57dmFyIHIsbztnKHQpfHxuLmdldExvZ2dlcih0aGlzLmRlY2xhcmVkQ2xhc3MpLmVycm9yKFwiI2xvYWQoKVwiLGBGYWlsZWQgdG8gbG9hZCBsYXllciAodGl0bGU6ICcke251bGwhPShyPXRoaXMudGl0bGUpP3I6XCJubyB0aXRsZVwifScsIGlkOiAnJHtudWxsIT0obz10aGlzLmlkKT9vOlwibm8gaWRcIn0nKWAse2Vycm9yOnR9KTt9KSk7fWRlc3Ryb3koKXtpZih0aGlzLnBhcmVudCl7Y29uc3QgdD10aGlzLHI9dGhpcy5wYXJlbnQ7XCJsYXllcnNcImluIHImJnIubGF5ZXJzLmluY2x1ZGVzKHQpP3IubGF5ZXJzLnJlbW92ZSh0KTpcInRhYmxlc1wiaW4gciYmci50YWJsZXMuaW5jbHVkZXModCk/ci50YWJsZXMucmVtb3ZlKHQpOlwiYmFzZUxheWVyc1wiaW4gciYmci5iYXNlTGF5ZXJzLmluY2x1ZGVzKHQpP3IuYmFzZUxheWVycy5yZW1vdmUodCk6XCJiYXNlTGF5ZXJzXCJpbiByJiZyLnJlZmVyZW5jZUxheWVycy5pbmNsdWRlcyh0KSYmci5yZWZlcmVuY2VMYXllcnMucmVtb3ZlKHQpO319Z2V0IGhhc0F0dHJpYnV0aW9uRGF0YSgpe3JldHVybiBudWxsIT10aGlzLmF0dHJpYnV0aW9uRGF0YVVybH1nZXQgcGFyc2VkVXJsKCl7Y29uc3QgdD10aGlzLnVybDtyZXR1cm4gdD9VKHQpOm51bGx9YXN5bmMgZmV0Y2hBdHRyaWJ1dGlvbkRhdGEoKXtjb25zdCB0PXRoaXMuYXR0cmlidXRpb25EYXRhVXJsO2lmKHRoaXMuaGFzQXR0cmlidXRpb25EYXRhJiZ0KXtyZXR1cm4gKGF3YWl0IFUkMSh0LHtxdWVyeTp7ZjpcImpzb25cIn0scmVzcG9uc2VUeXBlOlwianNvblwifSkpLmRhdGF9dGhyb3cgbmV3IHMoXCJsYXllcjpuby1hdHRyaWJ1dGlvbi1kYXRhXCIsXCJMYXllciBkb2VzIG5vdCBoYXZlIGF0dHJpYnV0aW9uIGRhdGFcIil9fTtlKFt5KHt0eXBlOlN0cmluZ30pXSxmJDEucHJvdG90eXBlLFwiYXR0cmlidXRpb25EYXRhVXJsXCIsdm9pZCAwKSxlKFt5KHt0eXBlOk19KV0sZiQxLnByb3RvdHlwZSxcImZ1bGxFeHRlbnRcIix2b2lkIDApLGUoW3koe3JlYWRPbmx5OiEwfSldLGYkMS5wcm90b3R5cGUsXCJoYXNBdHRyaWJ1dGlvbkRhdGFcIixudWxsKSxlKFt5KHt0eXBlOlN0cmluZ30pXSxmJDEucHJvdG90eXBlLFwiaWRcIix2b2lkIDApLGUoW3koe3R5cGU6Qm9vbGVhbixub25OdWxsYWJsZTohMH0pXSxmJDEucHJvdG90eXBlLFwibGVnZW5kRW5hYmxlZFwiLHZvaWQgMCksZShbeSh7dHlwZTpbXCJzaG93XCIsXCJoaWRlXCIsXCJoaWRlLWNoaWxkcmVuXCJdfSldLGYkMS5wcm90b3R5cGUsXCJsaXN0TW9kZVwiLHZvaWQgMCksZShbeSh7dHlwZTpOdW1iZXIscmFuZ2U6e21pbjowLG1heDoxfSxub25OdWxsYWJsZTohMH0pXSxmJDEucHJvdG90eXBlLFwib3BhY2l0eVwiLHZvaWQgMCksZShbeSgpXSxmJDEucHJvdG90eXBlLFwicGFyZW50XCIsdm9pZCAwKSxlKFt5KHtyZWFkT25seTohMH0pXSxmJDEucHJvdG90eXBlLFwicGFyc2VkVXJsXCIsbnVsbCksZShbeSh7dHlwZTpCb29sZWFufSldLGYkMS5wcm90b3R5cGUsXCJwb3B1cEVuYWJsZWRcIix2b2lkIDApLGUoW3koe3R5cGU6Qm9vbGVhbn0pXSxmJDEucHJvdG90eXBlLFwiYXR0cmlidXRpb25WaXNpYmxlXCIsdm9pZCAwKSxlKFt5KHt0eXBlOmt9KV0sZiQxLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGUoW3koe3R5cGU6U3RyaW5nfSldLGYkMS5wcm90b3R5cGUsXCJ0aXRsZVwiLHZvaWQgMCksZShbeSh7dHlwZTpTdHJpbmcscmVhZE9ubHk6ITAsanNvbjp7cmVhZDohMX19KV0sZiQxLnByb3RvdHlwZSxcInR5cGVcIix2b2lkIDApLGUoW3koKV0sZiQxLnByb3RvdHlwZSxcInVybFwiLHZvaWQgMCksZShbeSh7dHlwZTpCb29sZWFuLG5vbk51bGxhYmxlOiEwfSldLGYkMS5wcm90b3R5cGUsXCJ2aXNpYmxlXCIsdm9pZCAwKSxmJDE9ZShbaShcImVzcmkubGF5ZXJzLkxheWVyXCIpXSxmJDEpO3ZhciBiPWYkMTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHJ7Y29uc3RydWN0b3IoKXt0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcD1uZXcgTWFwLHRoaXMuX29yaWdpblN0b3Jlcz1uZXcgQXJyYXkociQyKSx0aGlzLl92YWx1ZXM9bmV3IE1hcDt9Y2xvbmUocyl7Y29uc3QgaT1uZXcgcixvPXRoaXMuX29yaWdpblN0b3Jlc1swXTtvJiZvLmZvckVhY2goKChzLGUpPT57aS5zZXQoZSx5JDEocyksMCk7fSkpO2ZvcihsZXQgcj0yO3I8ciQyO3IrKyl7Y29uc3QgZT10aGlzLl9vcmlnaW5TdG9yZXNbcl07ZSYmZS5mb3JFYWNoKCgoZSxvKT0+e3MmJnMuaGFzKG8pfHxpLnNldChvLHkkMShlKSxyKTt9KSk7fXJldHVybiBpfWdldCh0LHMpe2NvbnN0IGU9dm9pZCAwPT09cz90aGlzLl92YWx1ZXM6dGhpcy5fb3JpZ2luU3RvcmVzW3NdO3JldHVybiBlP2UuZ2V0KHQpOnZvaWQgMH1rZXlzKHQpe2NvbnN0IHM9bnVsbD09dD90aGlzLl92YWx1ZXM6dGhpcy5fb3JpZ2luU3RvcmVzW3RdO3JldHVybiBzP1suLi5zLmtleXMoKV06W119c2V0KHQsZSxyPTYpe2xldCBpPXRoaXMuX29yaWdpblN0b3Jlc1tyXTtpZihpfHwoaT1uZXcgTWFwLHRoaXMuX29yaWdpblN0b3Jlc1tyXT1pKSxpLnNldCh0LGUpLCF0aGlzLl92YWx1ZXMuaGFzKHQpfHxtJDEodGhpcy5fcHJvcGVydHlPcmlnaW5NYXAuZ2V0KHQpKTw9cil7Y29uc3Qgcz10aGlzLl92YWx1ZXMuZ2V0KHQpO3JldHVybiB0aGlzLl92YWx1ZXMuc2V0KHQsZSksdGhpcy5fcHJvcGVydHlPcmlnaW5NYXAuc2V0KHQscikscyE9PWV9cmV0dXJuICExfWRlbGV0ZSh0LHM9Nil7Y29uc3QgZT10aGlzLl9vcmlnaW5TdG9yZXNbc107aWYoIWUpcmV0dXJuO2NvbnN0IHI9ZS5nZXQodCk7aWYoZS5kZWxldGUodCksdGhpcy5fdmFsdWVzLmhhcyh0KSYmdGhpcy5fcHJvcGVydHlPcmlnaW5NYXAuZ2V0KHQpPT09cyl7dGhpcy5fdmFsdWVzLmRlbGV0ZSh0KTtmb3IobGV0IGU9cy0xO2U+PTA7ZS0tKXtjb25zdCBzPXRoaXMuX29yaWdpblN0b3Jlc1tlXTtpZihzJiZzLmhhcyh0KSl7dGhpcy5fdmFsdWVzLnNldCh0LHMuZ2V0KHQpKSx0aGlzLl9wcm9wZXJ0eU9yaWdpbk1hcC5zZXQodCxlKTticmVha319fXJldHVybiByfWhhcyh0LHMpe2NvbnN0IGU9dm9pZCAwPT09cz90aGlzLl92YWx1ZXM6dGhpcy5fb3JpZ2luU3RvcmVzW3NdO3JldHVybiAhIWUmJmUuaGFzKHQpfXJldmVydCh0LHMpe2Zvcig7cz4wJiYhdGhpcy5oYXModCxzKTspLS1zO2NvbnN0IGU9dGhpcy5fb3JpZ2luU3RvcmVzW3NdLHI9ZSYmZS5nZXQodCksaT10aGlzLl92YWx1ZXMuZ2V0KHQpO3JldHVybiB0aGlzLl92YWx1ZXMuc2V0KHQsciksdGhpcy5fcHJvcGVydHlPcmlnaW5NYXAuc2V0KHQscyksaSE9PXJ9b3JpZ2luT2YodCl7cmV0dXJuIHRoaXMuX3Byb3BlcnR5T3JpZ2luTWFwLmdldCh0KXx8MH1mb3JFYWNoKHQpe3RoaXMuX3ZhbHVlcy5mb3JFYWNoKHQpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBhPW49PntsZXQgYT1jbGFzcyBleHRlbmRzIG57Y29uc3RydWN0b3IoLi4uciQxKXtzdXBlciguLi5yJDEpO2NvbnN0IHM9bSQxKGUkMSh0aGlzKSksbz1zLm1ldGFkYXRhcyxpPXMuc3RvcmUsbj1uZXcgcjtzLnN0b3JlPW4saS5rZXlzKCkuZm9yRWFjaCgocj0+e24uc2V0KHIsaS5nZXQociksMCk7fSkpLE9iamVjdC5rZXlzKG8pLmZvckVhY2goKHI9PntzLmludGVybmFsR2V0KHIpJiZuLnNldChyLHMuaW50ZXJuYWxHZXQociksMCk7fSkpO31yZWFkKHIsdCl7dSQyKHRoaXMscix0KTt9Z2V0QXRPcmlnaW4ocix0JDEpe2NvbnN0IGU9dSQxKHRoaXMpLHM9dCh0JDEpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXJldHVybiBlLmdldChyLHMpO2NvbnN0IG89e307cmV0dXJuIHIuZm9yRWFjaCgocj0+e29bcl09ZS5nZXQocixzKTt9KSksb31vcmlnaW5PZihyKXtyZXR1cm4gbiQyKHRoaXMub3JpZ2luSWRPZihyKSl9b3JpZ2luSWRPZihyKXtyZXR1cm4gdSQxKHRoaXMpLm9yaWdpbk9mKHIpfXJldmVydChyLHQkMSl7Y29uc3Qgcz11JDEodGhpcyksbz10KHQkMSksbj1lJDEodGhpcyk7bGV0IGM7Yz1cInN0cmluZ1wiPT10eXBlb2Ygcj9cIipcIj09PXI/cy5rZXlzKG8pOltyXTpyLGMuZm9yRWFjaCgocj0+e24ucHJvcGVydHlJbnZhbGlkYXRlZChyKSxzLnJldmVydChyLG8pLG4ucHJvcGVydHlDb21taXR0ZWQocik7fSkpO319O3JldHVybiBhPWUoW2koXCJlc3JpLmNvcmUuUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxhKSxhfTtmdW5jdGlvbiB1JDEocil7cmV0dXJuIGUkMShyKS5zdG9yZX1sZXQgZj1jbGFzcyBleHRlbmRzKGEodSQzKSl7fTtmPWUoW2koXCJlc3JpLmNvcmUuUmVhZE9ubHlNdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxmKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHA9aSQxPT57bGV0IG49Y2xhc3MgZXh0ZW5kcyBpJDF7Y29uc3RydWN0b3IoLi4ucil7c3VwZXIoLi4ucik7fWNsZWFyKHIsdCQxPVwidXNlclwiKXtyZXR1cm4gdSh0aGlzKS5kZWxldGUocix0KHQkMSkpfXdyaXRlKHI9e30sdCl7cmV0dXJuIGckMSh0aGlzLHI9cnx8e30sdCkscn1zZXRBdE9yaWdpbihyLHMsbyl7ZSQxKHRoaXMpLnNldEF0T3JpZ2luKHIscyx0KG8pKTt9cmVtb3ZlT3JpZ2luKHIpe2NvbnN0IHQkMT11KHRoaXMpLHM9dChyKSxvPXQkMS5rZXlzKHMpO2Zvcihjb25zdCBlIG9mIG8pdCQxLm9yaWdpbk9mKGUpPT09cyYmdCQxLnNldChlLHQkMS5nZXQoZSxzKSw2KTt9dXBkYXRlT3JpZ2luKHIsdCQxKXtjb25zdCBzPXUodGhpcyksaT10KHQkMSksYz10aGlzLmdldChyKTtmb3IobGV0IGU9aSsxO2U8ciQyOysrZSlzLmRlbGV0ZShyLGUpO3Muc2V0KHIsYyxpKTt9dG9KU09OKHIpe3JldHVybiB0aGlzLndyaXRlKHt9LHIpfX07cmV0dXJuIG49ZShbaShcImVzcmkuY29yZS5Xcml0ZWFibGVNdWx0aU9yaWdpbkpTT05TdXBwb3J0XCIpXSxuKSxuLnByb3RvdHlwZS50b0pTT04uaXNEZWZhdWx0VG9KU09OPSEwLG59O2Z1bmN0aW9uIHUocil7cmV0dXJuIGUkMShyKS5zdG9yZX1jb25zdCBsPXQ9PntsZXQgZSQxPWNsYXNzIGV4dGVuZHMocChhKHQpKSl7Y29uc3RydWN0b3IoLi4ucil7c3VwZXIoLi4ucik7fX07cmV0dXJuIGUkMT1lKFtpKFwiZXNyaS5jb3JlLk11bHRpT3JpZ2luSlNPTlN1cHBvcnRcIildLGUkMSksZSQxfTtsZXQgTz1jbGFzcyBleHRlbmRzKGwodSQzKSl7fTtPPWUoW2koXCJlc3JpLmNvcmUuTXVsdGlPcmlnaW5KU09OU3VwcG9ydFwiKV0sTyk7XG5cbmV4cG9ydCB7IE8sIGIsIGwgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlPcmlnaW5KU09OU3VwcG9ydC0zNDY5ZjQwZi5qcy5tYXAiLCJpbXBvcnQgeyBTIGFzIG4sIFogYXMgZSwgXyBhcyB5LCBhYiBhcyBlJDEsIGFqIGFzIG8sIGEwIGFzIGksIGFoIGFzIGEsIGFEIGFzIGcsIHcsIGFUIGFzIFAsIHMgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCAnLi9hcmNnaXMtZ2VvZW5yaWNobWVudC1kYXRhYnJvd3Nlci02Y2E4ZWExNC5qcyc7XG5pbXBvcnQgYiBmcm9tICcuL1BvcnRhbEl0ZW0tMDM2MTgyY2QuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgZD1uLmdldExvZ2dlcihcImVzcmkubGF5ZXJzLm1peGlucy5Qb3J0YWxMYXllclwiKSx1PXI9PntsZXQgdT1jbGFzcyBleHRlbmRzIHJ7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmVzb3VyY2VSZWZlcmVuY2VzPXtwb3J0YWxJdGVtOm51bGwscGF0aHM6W119O31kZXN0cm95KCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy5wb3J0YWxJdGVtKXx8dC5kZXN0cm95KCksdGhpcy5wb3J0YWxJdGVtPW51bGw7fXNldCBwb3J0YWxJdGVtKHQpe3QhPT10aGlzLl9nZXQoXCJwb3J0YWxJdGVtXCIpJiYodGhpcy5yZW1vdmVPcmlnaW4oXCJwb3J0YWwtaXRlbVwiKSx0aGlzLl9zZXQoXCJwb3J0YWxJdGVtXCIsdCkpO31yZWFkUG9ydGFsSXRlbSh0LHIsZSl7aWYoci5pdGVtSWQpcmV0dXJuIG5ldyBiKHtpZDpyLml0ZW1JZCxwb3J0YWw6ZSYmZS5wb3J0YWx9KX13cml0ZVBvcnRhbEl0ZW0odCxyKXt0JiZ0LmlkJiYoci5pdGVtSWQ9dC5pZCk7fWFzeW5jIGxvYWRGcm9tUG9ydGFsKHQscil7aWYodGhpcy5wb3J0YWxJdGVtJiZ0aGlzLnBvcnRhbEl0ZW0uaWQpdHJ5e2NvbnN0IGU9YXdhaXQgaW1wb3J0KCcuL2xheWVyc0xvYWRlci1lMTFjMzU0OS5qcycpO3JldHVybiBhKHIpLGF3YWl0IGUubG9hZCh7aW5zdGFuY2U6dGhpcyxzdXBwb3J0ZWRUeXBlczp0LnN1cHBvcnRlZFR5cGVzLHZhbGlkYXRlSXRlbTp0LnZhbGlkYXRlSXRlbSxzdXBwb3J0c0RhdGE6dC5zdXBwb3J0c0RhdGF9LHIpfWNhdGNoKGUpe3Rocm93IGcoZSl8fGQud2FybihgRmFpbGVkIHRvIGxvYWQgbGF5ZXIgKCR7dGhpcy50aXRsZX0sICR7dGhpcy5pZH0pIHBvcnRhbCBpdGVtICgke3RoaXMucG9ydGFsSXRlbS5pZH0pXFxuICAke2V9YCksZX19cmVhZCh0LHIpe3ImJihyLmxheWVyPXRoaXMpLHN1cGVyLnJlYWQodCxyKTt9d3JpdGUodCxyKXtjb25zdCBlPXImJnIucG9ydGFsLG89dGhpcy5wb3J0YWxJdGVtJiZ0aGlzLnBvcnRhbEl0ZW0uaWQmJih0aGlzLnBvcnRhbEl0ZW0ucG9ydGFsfHx3LmdldERlZmF1bHQoKSk7cmV0dXJuIGUmJm8mJiFQKG8ucmVzdFVybCxlLnJlc3RVcmwpPyhyLm1lc3NhZ2VzJiZyLm1lc3NhZ2VzLnB1c2gobmV3IHMoXCJsYXllcjpjcm9zcy1wb3J0YWxcIixgVGhlIGxheWVyICcke3RoaXMudGl0bGV9ICgke3RoaXMuaWR9KScgY2Fubm90IGJlIHBlcnNpc3RlZCBiZWNhdXNlIGl0IHJlZmVycyB0byBhbiBpdGVtIG9uIGEgZGlmZmVyZW50IHBvcnRhbCB0aGFuIHRoZSBvbmUgYmVpbmcgc2F2ZWQgdG8uIFRvIHNhdmUgdGhlIHNjZW5lLCBzZXQgdGhlIGxheWVyLnBvcnRhbEl0ZW0gdG8gbnVsbCBvciBzYXZlIHRoZSBzY2VuZSB0byB0aGUgc2FtZSBwb3J0YWwgYXMgdGhlIGl0ZW0gYXNzb2NpYXRlZCB3aXRoIHRoZSBsYXllcmAse2xheWVyOnRoaXN9KSksbnVsbCk6c3VwZXIud3JpdGUodCx7Li4ucixsYXllcjp0aGlzfSl9fTtyZXR1cm4gZShbeSh7dHlwZTpifSldLHUucHJvdG90eXBlLFwicG9ydGFsSXRlbVwiLG51bGwpLGUoW2UkMShcIndlYi1kb2N1bWVudFwiLFwicG9ydGFsSXRlbVwiLFtcIml0ZW1JZFwiXSldLHUucHJvdG90eXBlLFwicmVhZFBvcnRhbEl0ZW1cIixudWxsKSxlKFtvKFwid2ViLWRvY3VtZW50XCIsXCJwb3J0YWxJdGVtXCIse2l0ZW1JZDp7dHlwZTpTdHJpbmd9fSldLHUucHJvdG90eXBlLFwid3JpdGVQb3J0YWxJdGVtXCIsbnVsbCksZShbeSgpXSx1LnByb3RvdHlwZSxcInJlc291cmNlUmVmZXJlbmNlc1wiLHZvaWQgMCksdT1lKFtpKFwiZXNyaS5sYXllcnMubWl4aW5zLlBvcnRhbExheWVyXCIpXSx1KSx1fTtcblxuZXhwb3J0IHsgdSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb3J0YWxMYXllci0zMzlmY2EyMS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=