"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-8f16b7"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-from-existing.entry.js":
/*!*************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-from-existing.entry.js ***!
  \*************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_tile_layer_from_existing: () => (/* binding */ ArcgisNewItemPagesTileLayerFromExisting)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _portal_79caaeff_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./portal-79caaeff.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-79caaeff.js");
/* harmony import */ var _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config-eb5f7dc2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js");
/* harmony import */ var _feature_layer_38cdae87_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./feature-layer-38cdae87.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-38cdae87.js");
/* harmony import */ var _server_item_f12153e6_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./server-item-f12153e6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-f12153e6.js");
/* harmony import */ var _tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tile-layer-f8be7028.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-f8be7028.js");
/* harmony import */ var _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./add-item-97d577a9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js");
/* harmony import */ var _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ui-ecf86bba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js");
/* harmony import */ var _feature_layer_d33ea114_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./feature-layer-d33ea114.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-d33ea114.js");
/* harmony import */ var _feature_layer_d0f64b81_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./feature-layer-d0f64b81.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-d0f64b81.js");
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _privileges_ccd5f37d_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./privileges-ccd5f37d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/privileges-ccd5f37d.js");
/* harmony import */ var _functional_c82f5ab9_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./functional-c82f5ab9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-c82f5ab9.js");
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/* harmony import */ var _item_properties_e6412a9a_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./item-properties-e6412a9a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-properties-e6412a9a.js");
/* harmony import */ var _functional_9f648bee_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./functional-9f648bee.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-9f648bee.js");
/* harmony import */ var _ags_68d4ae20_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ags-68d4ae20.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ags-68d4ae20.js");
/* harmony import */ var _url_f3b82cc7_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./url-f3b82cc7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-f3b82cc7.js");
/* harmony import */ var _storage_d7f5822e_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./storage-d7f5822e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/storage-d7f5822e.js");
/* harmony import */ var _file_f36193e9_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./file-f36193e9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/file-f36193e9.js");
/* harmony import */ var _item_types_b4fe86ad_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./item-types-b4fe86ad.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-types-b4fe86ad.js");
/* harmony import */ var _guid_4f4176ba_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./guid-4f4176ba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/guid-4f4176ba.js");
/* harmony import */ var _store_3210b604_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./store-3210b604.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/store-3210b604.js");
/* harmony import */ var _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./tile-layer-90a6b901.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-90a6b901.js");
/* harmony import */ var _thumbnail_0b7adfcd_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./thumbnail-0b7adfcd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/thumbnail-0b7adfcd.js");
/* harmony import */ var _query_4f7b7e4d_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./query-4f7b7e4d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/query-4f7b7e4d.js");
/* harmony import */ var _user_e3dedc4a_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./user-e3dedc4a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/user-e3dedc4a.js");
/* harmony import */ var _api_f7934cd7_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./api-f7934cd7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/api-f7934cd7.js");
/* harmony import */ var _item_d9d70416_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./item-d9d70416.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-d9d70416.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/* harmony import */ var _feature_layer_69305a85_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./feature-layer-69305a85.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-69305a85.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
































const ArcgisNewItemPagesTileLayerFromExisting = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.newItemUpdatePage = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
    this.selectedItem = undefined;
    this.error = undefined;
    this.isProcessing = false;
  }
  async handleNext() {
    var _a;
    if (_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
      // 3D Tiles doesn't support this flow
      return;
    }
    this.error = null;
    const { selectedItem } = this;
    if (!selectedItem) {
      (0,_feature_layer_d0f64b81_js__WEBPACK_IMPORTED_MODULE_9__.f)("No layer selected");
      this.error = "noLayerSelected";
      return;
    }
    const { id, url, title } = selectedItem;
    try {
      const publishType = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType;
      this.isProcessing = true;
      const portal = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__.c.portal;
      const [{ layers, tables, serviceInfo }, { total: totalRelatedItem, relatedItems }] = await Promise.all([
        (0,_feature_layer_38cdae87_js__WEBPACK_IMPORTED_MODULE_3__.g)(url, (0,_portal_79caaeff_js__WEBPACK_IMPORTED_MODULE_1__.g)(portal), true),
        (0,_server_item_f12153e6_js__WEBPACK_IMPORTED_MODULE_4__.b)(id, "Service2Service")
      ]);
      const { result: updatedItemData } = await (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.f)({
        itemId: id,
        itemUrl: url,
        publishType: _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "vectorTiles" ? "vector" : "raster",
        portal,
        fullLayers: layers
      });
      if (totalRelatedItem > 0) {
        if ((publishType === "vectorTiles" &&
          relatedItems.some((item) => item.type === "Vector Tile Service")) ||
          (publishType === "tiles" && relatedItems.some((item) => item.type === "Map Service"))) {
          this.error = "tileLayerAlreadyExist";
          return;
        }
      }
      const hasBadRenderer = (layers) => (layers !== null && layers !== void 0 ? layers : []).some((layer) => {
        var _a, _b;
        const { drawingInfo, fields, layerDefinition } = layer;
        // TODO: make this official once we start support new Map Viewer
        // New map viewer has `drawingInfo` stored in `layerDefinition` but
        //  everything else within that is the same
        const newDrawingInfo = layerDefinition === null || layerDefinition === void 0 ? void 0 : layerDefinition.drawingInfo;
        const renderer = (_a = newDrawingInfo === null || newDrawingInfo === void 0 ? void 0 : newDrawingInfo.renderer) !== null && _a !== void 0 ? _a : drawingInfo === null || drawingInfo === void 0 ? void 0 : drawingInfo.renderer;
        if (!renderer || !fields) {
          return (_b = (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.l)(layer)) !== null && _b !== void 0 ? _b : false;
        }
        return (!(0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.c)(renderer, layer.geometryType, fields) ||
          (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.l)(layer));
      });
      if (hasBadRenderer(layers) || hasBadRenderer(updatedItemData.layers)) {
        this.error = "badRenderer";
        return;
      }
      const canUseForPublishTiles = (layer) => (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.a)(layer, true);
      if (!layers.some(canUseForPublishTiles) ||
        (((_a = updatedItemData === null || updatedItemData === void 0 ? void 0 : updatedItemData.layers) === null || _a === void 0 ? void 0 : _a.length) > 0 && !updatedItemData.layers.some(canUseForPublishTiles))) {
        this.error = "badLayer";
        return;
      }
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.sourceTitle = title;
      (0,_feature_layer_d33ea114_js__WEBPACK_IMPORTED_MODULE_8__.s)(selectedItem);
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileAutoCreation = true;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapType = "standard";
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapUrl = "";
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerFromFeatureLayer = true;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerLayers = layers;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerTables = tables;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerServiceInfo = serviceInfo;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerData = updatedItemData;
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.item = selectedItem;
      this.isProcessing = false;
      this.newItemUpdatePage.emit("tileLayerSettings");
    }
    catch (error) {
      console.error(error);
    }
  }
  onError() {
    this.isProcessing = false;
  }
  componentWillLoad() {
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.serviceInfo = null;
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.selectedServiceInfoLayersNames = null;
    this.i18n = _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_7__.u.i18n.tileLayerFromExisting;
  }
  render() {
    var _a, _b;
    const { error, i18n, isProcessing } = this;
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-loader", { active: isProcessing }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-feature-layer-browser", { itemBrowserBucket: ["my"], onItemSelected: ({ detail }) => (this.selectedItem = detail), query: `type:"Feature Service" AND typekeywords:"Hosted Service" NOT typekeywords:"Spatiotemporal"` }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { heading: 
      // TODO: change this once we have an official string
      error === "badLayer" ? i18n.error.tileLayerAlreadyExist.title : (_a = i18n.error[error]) === null || _a === void 0 ? void 0 : _a.title, description: 
      // TODO: change this once we have an official string
      error === "badLayer" ? undefined : (_b = i18n.error[error]) === null || _b === void 0 ? void 0 : _b.description, active: error != null, onAlertDismiss: () => {
        this.error = null;
      } })));
  }
  static get watchers() { return {
    "error": ["onError"]
  }; }
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-d0f64b81.js":
/*!*******************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-d0f64b81.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ featureServiceEndTelemetry),
/* harmony export */   b: () => (/* binding */ filterChangeTelemetry),
/* harmony export */   c: () => (/* binding */ featureLayerTypeTelemetry),
/* harmony export */   e: () => (/* binding */ enableLayerPreferenceTelemetry),
/* harmony export */   f: () => (/* binding */ featureLayerErrorTelemetry),
/* harmony export */   i: () => (/* binding */ itemExpandedTelemetry)
/* harmony export */ });
/* harmony import */ var _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config-eb5f7dc2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js");
/* harmony import */ var _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-item-97d577a9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */



const TELEMETRY_ID = "create feature layer";
const TELEMETRY_PAGE_NAME = "my content";
const addFeatureLayerTypeToTelemetry = (type) => {
  switch (type) {
    case "build":
      return "blank";
    case "existing":
      return "fs";
    case "template":
      return "template";
    case "link":
      return "url";
  }
};
const enableLayerPreferenceTelemetry = (type) => {
  const telemetry = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
  telemetry === null || telemetry === void 0 ? void 0 : telemetry.stepWorkflow(TELEMETRY_ID, `enable ${type === "captureGPS" ? "gps" : type === "enableZDefaults" ? "z" : "m"}`, {
    category: TELEMETRY_ID,
    attribute: addFeatureLayerTypeToTelemetry(_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.addFeatureLayerType),
    pageName: TELEMETRY_PAGE_NAME
  });
};
const itemExpandedTelemetry = (type) => {
  const telemetry = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
  telemetry === null || telemetry === void 0 ? void 0 : telemetry.stepWorkflow(TELEMETRY_ID, `expand ${type} details`, {
    category: TELEMETRY_ID,
    attribute: addFeatureLayerTypeToTelemetry(_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.addFeatureLayerType),
    pageName: TELEMETRY_PAGE_NAME
  });
};
const filterChangeTelemetry = () => {
  const telemetry = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
  telemetry === null || telemetry === void 0 ? void 0 : telemetry.stepWorkflow(TELEMETRY_ID, "filter", {
    category: TELEMETRY_ID,
    attribute: addFeatureLayerTypeToTelemetry(_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a.addFeatureLayerType),
    pageName: TELEMETRY_PAGE_NAME
  });
};
const featureLayerTypeTelemetry = (type) => {
  const telemetryType = addFeatureLayerTypeToTelemetry(type);
  const telemetry = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
  telemetry === null || telemetry === void 0 ? void 0 : telemetry.stepWorkflow(TELEMETRY_ID, "from option", {
    category: TELEMETRY_ID,
    attribute: telemetryType,
    pageName: TELEMETRY_PAGE_NAME
  });
};
const featureServiceEndTelemetry = () => {
  const { addFeatureLayerType, serviceInfo } = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_1__.a;
  const featureLayerServiceInfo = serviceInfo;
  const telemetry = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry;
  telemetry === null || telemetry === void 0 ? void 0 : telemetry.endWorkflow(TELEMETRY_ID, {
    category: TELEMETRY_ID,
    attribute: addFeatureLayerTypeToTelemetry(addFeatureLayerType),
    pageName: TELEMETRY_PAGE_NAME,
    count: featureLayerServiceInfo.layers.length,
    number: featureLayerServiceInfo.tables.length
  });
};
const featureLayerErrorTelemetry = (errString) => {
  var _a;
  (_a = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_0__.c.telemetry) === null || _a === void 0 ? void 0 : _a.logError({
    category: TELEMETRY_ID,
    error: errString
  });
};




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-90a6b901.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-90a6b901.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE),
/* harmony export */   T: () => (/* binding */ TILE_LAYER_SCALE_MIN),
/* harmony export */   a: () => (/* binding */ presetRasterTileCacheInfo),
/* harmony export */   b: () => (/* binding */ presetVectorTileImageInfo),
/* harmony export */   c: () => (/* binding */ presetRasterTileImageInfo),
/* harmony export */   d: () => (/* binding */ tileLayerTypes),
/* harmony export */   e: () => (/* binding */ TILE_LAYER_SCALE_MAX),
/* harmony export */   f: () => (/* binding */ tileLayerBasemaps),
/* harmony export */   g: () => (/* binding */ presetLods),
/* harmony export */   p: () => (/* binding */ presetVectorTileCacheInfo),
/* harmony export */   t: () => (/* binding */ tilesLayer3dTilesLayerTypes)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
const tileLayerBasemaps = ["standard", "custom"];
const tilesLayer3dTilesLayerTypes = ["IntegratedMesh", "3DObject"];
const DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE = tilesLayer3dTilesLayerTypes[0];
const tileLayerTypes = ["vector", "raster", "3dTiles"];
// TODO: switch this back once the SettingTileLayer supports this number
// export const TILE_LAYER_SCALE_MIN = 591657527.591555;
const TILE_LAYER_SCALE_MIN = 147914382;
const TILE_LAYER_SCALE_MAX = 0;
const presetLods = [
  { level: 0, label: "1:591,657,528", scale: 591657527.591555 },
  { level: 1, label: "1:295,828,764", scale: 295828763.795777 },
  { level: 2, label: "1:147,914,382", scale: 147914381.897889 },
  { level: 3, label: "1:73,957,191", scale: 73957190.948944 },
  { level: 4, label: "1:36,978,595", scale: 36978595.474472 },
  { level: 5, label: "1:18,489,298", scale: 18489297.737236 },
  { level: 6, label: "1:9,244,649", scale: 9244648.868618 },
  { level: 7, label: "1:4,622,324", scale: 4622324.434309 },
  { level: 8, label: "1:2,311,162", scale: 2311162.217155 },
  { level: 9, label: "1:1,155,581", scale: 1155581.108577 },
  { level: 10, label: "1:577,791", scale: 577790.554289 },
  { level: 11, label: "1:288,895", scale: 288895.277144 },
  { level: 12, label: "1:144,448", scale: 144447.638572 },
  { level: 13, label: "1:72,224", scale: 72223.819286 },
  { level: 14, label: "1:36,112", scale: 36111.909643 },
  { level: 15, label: "1:18,056", scale: 18055.954822 },
  { level: 16, label: "1:9,028", scale: 9027.977411 },
  { level: 17, label: "1:4,514", scale: 4513.988705 },
  { level: 18, label: "1:2,257", scale: 2256.994353 },
  { level: 19, label: "1:1,128", scale: 1128.497176 },
  { level: 20, label: "1:564", scale: 564.248588 },
  { level: 21, label: "1:282", scale: 282.124294 },
  { level: 22, label: "1:141", scale: 141.062147 }
];
const presetRasterTileCacheInfo = {
  spatialReference: { wkid: 102100, latestWkid: 3857 },
  origin: { x: -20037508.342787, y: 20037508.342787 },
  rows: 256,
  cols: 256,
  dpi: 96,
  preciseDpi: 96,
  lods: [
    { level: 0, resolution: 156543.033928, scale: 591657527.591555 },
    { level: 1, resolution: 78271.5169639999, scale: 295828763.795777 },
    { level: 2, resolution: 39135.7584820001, scale: 147914381.897889 },
    { level: 3, resolution: 19567.8792409999, scale: 73957190.948944 },
    { level: 4, resolution: 9783.93962049996, scale: 36978595.474472 },
    { level: 5, resolution: 4891.96981024998, scale: 18489297.737236 },
    { level: 6, resolution: 2445.98490512499, scale: 9244648.868618 },
    { level: 7, resolution: 1222.99245256249, scale: 4622324.434309 },
    { level: 8, resolution: 611.49622628138, scale: 2311162.217155 },
    { level: 9, resolution: 305.748113140558, scale: 1155581.108577 },
    { level: 10, resolution: 152.874056570411, scale: 577790.554289 },
    { level: 11, resolution: 76.4370282850732, scale: 288895.277144 },
    { level: 12, resolution: 38.2185141425366, scale: 144447.638572 },
    { level: 13, resolution: 19.1092570712683, scale: 72223.819286 },
    { level: 14, resolution: 9.55462853563415, scale: 36111.909643 },
    { level: 15, resolution: 4.77731426794937, scale: 18055.954822 },
    { level: 16, resolution: 2.38865713397468, scale: 9027.977411 },
    { level: 17, resolution: 1.19432856685505, scale: 4513.988705 },
    { level: 18, resolution: 0.597164283559817, scale: 2256.994353 },
    { level: 19, resolution: 0.298582141647617, scale: 1128.497176 },
    { level: 20, resolution: 0.14929107082380833, scale: 564.248588 },
    { level: 21, resolution: 0.07464553541190416, scale: 282.124294 },
    { level: 22, resolution: 0.03732276770595208, scale: 141.062147 }
  ]
};
const presetVectorTileCacheInfo = {
  spatialReference: {
    wkid: 102100,
    latestWkid: 3857
  },
  origin: {
    x: -2.0037508342787e7,
    y: 2.0037508342787e7
  },
  rows: 512,
  cols: 512,
  dpi: 96,
  preciseDpi: 96,
  lods: [
    { level: 0, resolution: 78271.51696399994, scale: 2.95828763795777e8 },
    { level: 1, resolution: 39135.75848200009, scale: 1.47914381897889e8 },
    { level: 2, resolution: 19567.87924099992, scale: 7.3957190948944e7 },
    { level: 3, resolution: 9783.93962049996, scale: 3.6978595474472e7 },
    { level: 4, resolution: 4891.96981024998, scale: 1.8489297737236e7 },
    { level: 5, resolution: 2445.98490512499, scale: 9244648.868618 },
    { level: 6, resolution: 1222.992452562495, scale: 4622324.434309 },
    { level: 7, resolution: 611.4962262813797, scale: 2311162.217155 },
    { level: 8, resolution: 305.74811314055756, scale: 1155581.108577 },
    { level: 9, resolution: 152.87405657041106, scale: 577790.554289 },
    { level: 10, resolution: 76.43702828507324, scale: 288895.277144 },
    { level: 11, resolution: 38.21851414253662, scale: 144447.638572 },
    { level: 12, resolution: 19.10925707126831, scale: 72223.819286 },
    { level: 13, resolution: 9.554628535634155, scale: 36111.909643 },
    { level: 14, resolution: 4.77731426794937, scale: 18055.954822 },
    { level: 15, resolution: 2.388657133974685, scale: 9027.977411 },
    { level: 16, resolution: 1.1943285668550503, scale: 4513.988705 },
    { level: 17, resolution: 0.5971642835598172, scale: 2256.994353 },
    { level: 18, resolution: 0.29858214164761665, scale: 1128.497176 },
    { level: 19, resolution: 0.14929107082380833, scale: 564.248588 },
    { level: 20, resolution: 0.07464553541190416, scale: 282.124294 },
    { level: 21, resolution: 0.03732276770595208, scale: 141.062147 },
    { level: 22, resolution: 0.01866138385297604, scale: 70.5310735 },
    { level: 23, resolution: 0.0093306919293428040466217365, scale: 35.265536760789715032412079626 }
  ]
};
const presetVectorTileImageInfo = {
  format: "indexedVector",
  compressionQuality: 0,
  antialiasing: false
};
const presetRasterTileImageInfo = {
  format: "PNG32",
  compressionQuality: 0,
  antialiasing: true
};




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLThmMTZiNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQzRGO0FBQ2pDO0FBQ0g7QUFDa0I7QUFDVDtBQUM0RztBQUNsSDtBQUNOO0FBQzJCO0FBQ0Y7QUFDM0M7QUFDRDtBQUNBO0FBQ0w7QUFDVTtBQUNMO0FBQ1A7QUFDQTtBQUNJO0FBQ0g7QUFDTTtBQUNOO0FBQ0M7QUFDSztBQUNEO0FBQ0o7QUFDRDtBQUNEO0FBQ0M7QUFDRDtBQUNVOztBQUVyQztBQUNBO0FBQ0EsSUFBSSxxREFBZ0I7QUFDcEIsNkJBQTZCLHFEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0RBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQSxNQUFNLDZEQUEwQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBLDBCQUEwQixvREFBWTtBQUN0QztBQUNBLHFCQUFxQixrREFBVztBQUNoQyxlQUFlLDZCQUE2QixJQUFJLHVDQUF1QztBQUN2RixRQUFRLDZEQUFzQixNQUFNLHNEQUFjO0FBQ2xELFFBQVEsMkRBQWU7QUFDdkI7QUFDQSxjQUFjLDBCQUEwQixRQUFRLDBEQUE4QjtBQUM5RTtBQUNBO0FBQ0EscUJBQXFCLG9EQUFZO0FBQ2pDO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUNBQXVDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwREFBa0I7QUFDekM7QUFDQSxpQkFBaUIsMERBQTZCO0FBQzlDLFVB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNlUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9hcmNnaXMtbmV3LWl0ZW0tcGFnZXMtdGlsZS1sYXllci1mcm9tLWV4aXN0aW5nLmVudHJ5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2ZlYXR1cmUtbGF5ZXItZDBmNjRiODEuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdGlsZS1sYXllci05MGE2YjkwMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0IH0gZnJvbSAnLi9pbmRleC05MmViYjM5Ni5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFJlc3RCYXNlVXJsIH0gZnJvbSAnLi9wb3J0YWwtNzljYWFlZmYuanMnO1xuaW1wb3J0IHsgYyBhcyBjb25maWdTdGF0ZSB9IGZyb20gJy4vY29uZmlnLWViNWY3ZGMyLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0U2VydmljZUFuZExheWVySW5mbyB9IGZyb20gJy4vZmVhdHVyZS1sYXllci0zOGNkYWU4Ny5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldFJlbGF0ZWRJdGVtcyB9IGZyb20gJy4vc2VydmVyLWl0ZW0tZjEyMTUzZTYuanMnO1xuaW1wb3J0IHsgZiBhcyBmb3JtVXBkYXRlSXRlbURhdGFGb3JUaWxlTGF5ZXIsIGwgYXMgbGF5ZXJIYXNDbHVzdGVyaW5nLCBjIGFzIGNhblVzZVJlbmRlcmVyRm9yUHVibGlzaFRpbGVzLCBhIGFzIGNhblVzZUxheWVyRm9yUHVibGlzaFRpbGVzIH0gZnJvbSAnLi90aWxlLWxheWVyLWY4YmU3MDI4LmpzJztcbmltcG9ydCB7IGEgYXMgYWRkSXRlbVN0YXRlIH0gZnJvbSAnLi9hZGQtaXRlbS05N2Q1NzdhOS5qcyc7XG5pbXBvcnQgeyB1IGFzIHVpU3RvcmVTdGF0ZSB9IGZyb20gJy4vdWktZWNmODZiYmEuanMnO1xuaW1wb3J0IHsgcyBhcyBzYXZlRmVhdHVyZUxheWVyU2VhcmNoUmVzdWx0IH0gZnJvbSAnLi9mZWF0dXJlLWxheWVyLWQzM2VhMTE0LmpzJztcbmltcG9ydCB7IGYgYXMgZmVhdHVyZUxheWVyRXJyb3JUZWxlbWV0cnkgfSBmcm9tICcuL2ZlYXR1cmUtbGF5ZXItZDBmNjRiODEuanMnO1xuaW1wb3J0ICcuL2xvYWRNb2R1bGVzLWFhZjMwYmQ2LmpzJztcbmltcG9ydCAnLi9wcml2aWxlZ2VzLWNjZDVmMzdkLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLWM4MmY1YWI5LmpzJztcbmltcG9ydCAnLi9pbmRleC04MWQ1NDhiNy5qcyc7XG5pbXBvcnQgJy4vaXRlbS1wcm9wZXJ0aWVzLWU2NDEyYTlhLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLTlmNjQ4YmVlLmpzJztcbmltcG9ydCAnLi9hZ3MtNjhkNGFlMjAuanMnO1xuaW1wb3J0ICcuL3VybC1mM2I4MmNjNy5qcyc7XG5pbXBvcnQgJy4vc3RvcmFnZS1kN2Y1ODIyZS5qcyc7XG5pbXBvcnQgJy4vZmlsZS1mMzYxOTNlOS5qcyc7XG5pbXBvcnQgJy4vaXRlbS10eXBlcy1iNGZlODZhZC5qcyc7XG5pbXBvcnQgJy4vZ3VpZC00ZjQxNzZiYS5qcyc7XG5pbXBvcnQgJy4vc3RvcmUtMzIxMGI2MDQuanMnO1xuaW1wb3J0ICcuL3RpbGUtbGF5ZXItOTBhNmI5MDEuanMnO1xuaW1wb3J0ICcuL3RodW1ibmFpbC0wYjdhZGZjZC5qcyc7XG5pbXBvcnQgJy4vcXVlcnktNGY3YjdlNGQuanMnO1xuaW1wb3J0ICcuL3VzZXItZTNkZWRjNGEuanMnO1xuaW1wb3J0ICcuL2FwaS1mNzkzNGNkNy5qcyc7XG5pbXBvcnQgJy4vaXRlbS1kOWQ3MDQxNi5qcyc7XG5pbXBvcnQgJy4vZG9tLTEzZjViMDBjLmpzJztcbmltcG9ydCAnLi9mZWF0dXJlLWxheWVyLTY5MzA1YTg1LmpzJztcblxuY29uc3QgQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyRnJvbUV4aXN0aW5nID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJuZXdJdGVtVXBkYXRlUGFnZVwiLCA3KTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVycm9yID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgaGFuZGxlTmV4dCgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJQdWJsaXNoVHlwZSA9PT0gXCIzZFRpbGVzXCIpIHtcbiAgICAgIC8vIDNEIFRpbGVzIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIGZsb3dcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgY29uc3QgeyBzZWxlY3RlZEl0ZW0gfSA9IHRoaXM7XG4gICAgaWYgKCFzZWxlY3RlZEl0ZW0pIHtcbiAgICAgIGZlYXR1cmVMYXllckVycm9yVGVsZW1ldHJ5KFwiTm8gbGF5ZXIgc2VsZWN0ZWRcIik7XG4gICAgICB0aGlzLmVycm9yID0gXCJub0xheWVyU2VsZWN0ZWRcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBpZCwgdXJsLCB0aXRsZSB9ID0gc2VsZWN0ZWRJdGVtO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwdWJsaXNoVHlwZSA9IGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJQdWJsaXNoVHlwZTtcbiAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHBvcnRhbCA9IGNvbmZpZ1N0YXRlLnBvcnRhbDtcbiAgICAgIGNvbnN0IFt7IGxheWVycywgdGFibGVzLCBzZXJ2aWNlSW5mbyB9LCB7IHRvdGFsOiB0b3RhbFJlbGF0ZWRJdGVtLCByZWxhdGVkSXRlbXMgfV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldFNlcnZpY2VBbmRMYXllckluZm8odXJsLCBnZXRSZXN0QmFzZVVybChwb3J0YWwpLCB0cnVlKSxcbiAgICAgICAgZ2V0UmVsYXRlZEl0ZW1zKGlkLCBcIlNlcnZpY2UyU2VydmljZVwiKVxuICAgICAgXSk7XG4gICAgICBjb25zdCB7IHJlc3VsdDogdXBkYXRlZEl0ZW1EYXRhIH0gPSBhd2FpdCBmb3JtVXBkYXRlSXRlbURhdGFGb3JUaWxlTGF5ZXIoe1xuICAgICAgICBpdGVtSWQ6IGlkLFxuICAgICAgICBpdGVtVXJsOiB1cmwsXG4gICAgICAgIHB1Ymxpc2hUeXBlOiBhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPT09IFwidmVjdG9yVGlsZXNcIiA/IFwidmVjdG9yXCIgOiBcInJhc3RlclwiLFxuICAgICAgICBwb3J0YWwsXG4gICAgICAgIGZ1bGxMYXllcnM6IGxheWVyc1xuICAgICAgfSk7XG4gICAgICBpZiAodG90YWxSZWxhdGVkSXRlbSA+IDApIHtcbiAgICAgICAgaWYgKChwdWJsaXNoVHlwZSA9PT0gXCJ2ZWN0b3JUaWxlc1wiICYmXG4gICAgICAgICAgcmVsYXRlZEl0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gXCJWZWN0b3IgVGlsZSBTZXJ2aWNlXCIpKSB8fFxuICAgICAgICAgIChwdWJsaXNoVHlwZSA9PT0gXCJ0aWxlc1wiICYmIHJlbGF0ZWRJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09IFwiTWFwIFNlcnZpY2VcIikpKSB7XG4gICAgICAgICAgdGhpcy5lcnJvciA9IFwidGlsZUxheWVyQWxyZWFkeUV4aXN0XCI7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBoYXNCYWRSZW5kZXJlciA9IChsYXllcnMpID0+IChsYXllcnMgIT09IG51bGwgJiYgbGF5ZXJzICE9PSB2b2lkIDAgPyBsYXllcnMgOiBbXSkuc29tZSgobGF5ZXIpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgeyBkcmF3aW5nSW5mbywgZmllbGRzLCBsYXllckRlZmluaXRpb24gfSA9IGxheWVyO1xuICAgICAgICAvLyBUT0RPOiBtYWtlIHRoaXMgb2ZmaWNpYWwgb25jZSB3ZSBzdGFydCBzdXBwb3J0IG5ldyBNYXAgVmlld2VyXG4gICAgICAgIC8vIE5ldyBtYXAgdmlld2VyIGhhcyBgZHJhd2luZ0luZm9gIHN0b3JlZCBpbiBgbGF5ZXJEZWZpbml0aW9uYCBidXRcbiAgICAgICAgLy8gIGV2ZXJ5dGhpbmcgZWxzZSB3aXRoaW4gdGhhdCBpcyB0aGUgc2FtZVxuICAgICAgICBjb25zdCBuZXdEcmF3aW5nSW5mbyA9IGxheWVyRGVmaW5pdGlvbiA9PT0gbnVsbCB8fCBsYXllckRlZmluaXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxheWVyRGVmaW5pdGlvbi5kcmF3aW5nSW5mbztcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSAoX2EgPSBuZXdEcmF3aW5nSW5mbyA9PT0gbnVsbCB8fCBuZXdEcmF3aW5nSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV3RHJhd2luZ0luZm8ucmVuZGVyZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRyYXdpbmdJbmZvID09PSBudWxsIHx8IGRyYXdpbmdJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkcmF3aW5nSW5mby5yZW5kZXJlcjtcbiAgICAgICAgaWYgKCFyZW5kZXJlciB8fCAhZmllbGRzKSB7XG4gICAgICAgICAgcmV0dXJuIChfYiA9IGxheWVySGFzQ2x1c3RlcmluZyhsYXllcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoIWNhblVzZVJlbmRlcmVyRm9yUHVibGlzaFRpbGVzKHJlbmRlcmVyLCBsYXllci5nZW9tZXRyeVR5cGUsIGZpZWxkcykgfHxcbiAgICAgICAgICBsYXllckhhc0NsdXN0ZXJpbmcobGF5ZXIpKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGhhc0JhZFJlbmRlcmVyKGxheWVycykgfHwgaGFzQmFkUmVuZGVyZXIodXBkYXRlZEl0ZW1EYXRhLmxheWVycykpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IFwiYmFkUmVuZGVyZXJcIjtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2FuVXNlRm9yUHVibGlzaFRpbGVzID0gKGxheWVyKSA9PiBjYW5Vc2VMYXllckZvclB1Ymxpc2hUaWxlcyhsYXllciwgdHJ1ZSk7XG4gICAgICBpZiAoIWxheWVycy5zb21lKGNhblVzZUZvclB1Ymxpc2hUaWxlcykgfHxcbiAgICAgICAgKCgoX2EgPSB1cGRhdGVkSXRlbURhdGEgPT09IG51bGwgfHwgdXBkYXRlZEl0ZW1EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1cGRhdGVkSXRlbURhdGEubGF5ZXJzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSA+IDAgJiYgIXVwZGF0ZWRJdGVtRGF0YS5sYXllcnMuc29tZShjYW5Vc2VGb3JQdWJsaXNoVGlsZXMpKSkge1xuICAgICAgICB0aGlzLmVycm9yID0gXCJiYWRMYXllclwiO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhZGRJdGVtU3RhdGUuc291cmNlVGl0bGUgPSB0aXRsZTtcbiAgICAgIHNhdmVGZWF0dXJlTGF5ZXJTZWFyY2hSZXN1bHQoc2VsZWN0ZWRJdGVtKTtcbiAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlQXV0b0NyZWF0aW9uID0gdHJ1ZTtcbiAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJCYXNlbWFwVHlwZSA9IFwic3RhbmRhcmRcIjtcbiAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJCYXNlbWFwVXJsID0gXCJcIjtcbiAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJGcm9tRmVhdHVyZUxheWVyID0gdHJ1ZTtcbiAgICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJMYXllcnMgPSBsYXllcnM7XG4gICAgICBhZGRJdGVtU3RhdGUudGlsZUxheWVyVGFibGVzID0gdGFibGVzO1xuICAgICAgYWRkSXRlbVN0YXRlLnRpbGVMYXllclNlcnZpY2VJbmZvID0gc2VydmljZUluZm87XG4gICAgICBhZGRJdGVtU3RhdGUudGlsZUxheWVyRGF0YSA9IHVwZGF0ZWRJdGVtRGF0YTtcbiAgICAgIGFkZEl0ZW1TdGF0ZS5pdGVtID0gc2VsZWN0ZWRJdGVtO1xuICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMubmV3SXRlbVVwZGF0ZVBhZ2UuZW1pdChcInRpbGVMYXllclNldHRpbmdzXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuICBvbkVycm9yKCkge1xuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgYWRkSXRlbVN0YXRlLnNlcnZpY2VJbmZvID0gbnVsbDtcbiAgICBhZGRJdGVtU3RhdGUuc2VsZWN0ZWRTZXJ2aWNlSW5mb0xheWVyc05hbWVzID0gbnVsbDtcbiAgICB0aGlzLmkxOG4gPSB1aVN0b3JlU3RhdGUuaTE4bi50aWxlTGF5ZXJGcm9tRXhpc3Rpbmc7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgeyBlcnJvciwgaTE4biwgaXNQcm9jZXNzaW5nIH0gPSB0aGlzO1xuICAgIHJldHVybiAoaChIb3N0LCBudWxsLCBoKFwiYXJjZ2lzLW5ldy1pdGVtLWxvYWRlclwiLCB7IGFjdGl2ZTogaXNQcm9jZXNzaW5nIH0pLCBoKFwiYXJjZ2lzLW5ldy1pdGVtLWZlYXR1cmUtbGF5ZXItYnJvd3NlclwiLCB7IGl0ZW1Ccm93c2VyQnVja2V0OiBbXCJteVwiXSwgb25JdGVtU2VsZWN0ZWQ6ICh7IGRldGFpbCB9KSA9PiAodGhpcy5zZWxlY3RlZEl0ZW0gPSBkZXRhaWwpLCBxdWVyeTogYHR5cGU6XCJGZWF0dXJlIFNlcnZpY2VcIiBBTkQgdHlwZWtleXdvcmRzOlwiSG9zdGVkIFNlcnZpY2VcIiBOT1QgdHlwZWtleXdvcmRzOlwiU3BhdGlvdGVtcG9yYWxcImAgfSksIGgoXCJhcmNnaXMtbmV3LWl0ZW0tYWxlcnRcIiwgeyBoZWFkaW5nOiBcbiAgICAgIC8vIFRPRE86IGNoYW5nZSB0aGlzIG9uY2Ugd2UgaGF2ZSBhbiBvZmZpY2lhbCBzdHJpbmdcbiAgICAgIGVycm9yID09PSBcImJhZExheWVyXCIgPyBpMThuLmVycm9yLnRpbGVMYXllckFscmVhZHlFeGlzdC50aXRsZSA6IChfYSA9IGkxOG4uZXJyb3JbZXJyb3JdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGl0bGUsIGRlc2NyaXB0aW9uOiBcbiAgICAgIC8vIFRPRE86IGNoYW5nZSB0aGlzIG9uY2Ugd2UgaGF2ZSBhbiBvZmZpY2lhbCBzdHJpbmdcbiAgICAgIGVycm9yID09PSBcImJhZExheWVyXCIgPyB1bmRlZmluZWQgOiAoX2IgPSBpMThuLmVycm9yW2Vycm9yXSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlc2NyaXB0aW9uLCBhY3RpdmU6IGVycm9yICE9IG51bGwsIG9uQWxlcnREaXNtaXNzOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgICAgfSB9KSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJlcnJvclwiOiBbXCJvbkVycm9yXCJdXG4gIH07IH1cbn07XG5cbmV4cG9ydCB7IEFyY2dpc05ld0l0ZW1QYWdlc1RpbGVMYXllckZyb21FeGlzdGluZyBhcyBhcmNnaXNfbmV3X2l0ZW1fcGFnZXNfdGlsZV9sYXllcl9mcm9tX2V4aXN0aW5nIH07XG4iLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmltcG9ydCB7IGMgYXMgY29uZmlnU3RhdGUgfSBmcm9tICcuL2NvbmZpZy1lYjVmN2RjMi5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEl0ZW1TdGF0ZSB9IGZyb20gJy4vYWRkLWl0ZW0tOTdkNTc3YTkuanMnO1xuXG5jb25zdCBURUxFTUVUUllfSUQgPSBcImNyZWF0ZSBmZWF0dXJlIGxheWVyXCI7XG5jb25zdCBURUxFTUVUUllfUEFHRV9OQU1FID0gXCJteSBjb250ZW50XCI7XG5jb25zdCBhZGRGZWF0dXJlTGF5ZXJUeXBlVG9UZWxlbWV0cnkgPSAodHlwZSkgPT4ge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiYnVpbGRcIjpcbiAgICAgIHJldHVybiBcImJsYW5rXCI7XG4gICAgY2FzZSBcImV4aXN0aW5nXCI6XG4gICAgICByZXR1cm4gXCJmc1wiO1xuICAgIGNhc2UgXCJ0ZW1wbGF0ZVwiOlxuICAgICAgcmV0dXJuIFwidGVtcGxhdGVcIjtcbiAgICBjYXNlIFwibGlua1wiOlxuICAgICAgcmV0dXJuIFwidXJsXCI7XG4gIH1cbn07XG5jb25zdCBlbmFibGVMYXllclByZWZlcmVuY2VUZWxlbWV0cnkgPSAodHlwZSkgPT4ge1xuICBjb25zdCB0ZWxlbWV0cnkgPSBjb25maWdTdGF0ZS50ZWxlbWV0cnk7XG4gIHRlbGVtZXRyeSA9PT0gbnVsbCB8fCB0ZWxlbWV0cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5zdGVwV29ya2Zsb3coVEVMRU1FVFJZX0lELCBgZW5hYmxlICR7dHlwZSA9PT0gXCJjYXB0dXJlR1BTXCIgPyBcImdwc1wiIDogdHlwZSA9PT0gXCJlbmFibGVaRGVmYXVsdHNcIiA/IFwielwiIDogXCJtXCJ9YCwge1xuICAgIGNhdGVnb3J5OiBURUxFTUVUUllfSUQsXG4gICAgYXR0cmlidXRlOiBhZGRGZWF0dXJlTGF5ZXJUeXBlVG9UZWxlbWV0cnkoYWRkSXRlbVN0YXRlLmFkZEZlYXR1cmVMYXllclR5cGUpLFxuICAgIHBhZ2VOYW1lOiBURUxFTUVUUllfUEFHRV9OQU1FXG4gIH0pO1xufTtcbmNvbnN0IGl0ZW1FeHBhbmRlZFRlbGVtZXRyeSA9ICh0eXBlKSA9PiB7XG4gIGNvbnN0IHRlbGVtZXRyeSA9IGNvbmZpZ1N0YXRlLnRlbGVtZXRyeTtcbiAgdGVsZW1ldHJ5ID09PSBudWxsIHx8IHRlbGVtZXRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGVsZW1ldHJ5LnN0ZXBXb3JrZmxvdyhURUxFTUVUUllfSUQsIGBleHBhbmQgJHt0eXBlfSBkZXRhaWxzYCwge1xuICAgIGNhdGVnb3J5OiBURUxFTUVUUllfSUQsXG4gICAgYXR0cmlidXRlOiBhZGRGZWF0dXJlTGF5ZXJUeXBlVG9UZWxlbWV0cnkoYWRkSXRlbVN0YXRlLmFkZEZlYXR1cmVMYXllclR5cGUpLFxuICAgIHBhZ2VOYW1lOiBURUxFTUVUUllfUEFHRV9OQU1FXG4gIH0pO1xufTtcbmNvbnN0IGZpbHRlckNoYW5nZVRlbGVtZXRyeSA9ICgpID0+IHtcbiAgY29uc3QgdGVsZW1ldHJ5ID0gY29uZmlnU3RhdGUudGVsZW1ldHJ5O1xuICB0ZWxlbWV0cnkgPT09IG51bGwgfHwgdGVsZW1ldHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZWxlbWV0cnkuc3RlcFdvcmtmbG93KFRFTEVNRVRSWV9JRCwgXCJmaWx0ZXJcIiwge1xuICAgIGNhdGVnb3J5OiBURUxFTUVUUllfSUQsXG4gICAgYXR0cmlidXRlOiBhZGRGZWF0dXJlTGF5ZXJUeXBlVG9UZWxlbWV0cnkoYWRkSXRlbVN0YXRlLmFkZEZlYXR1cmVMYXllclR5cGUpLFxuICAgIHBhZ2VOYW1lOiBURUxFTUVUUllfUEFHRV9OQU1FXG4gIH0pO1xufTtcbmNvbnN0IGZlYXR1cmVMYXllclR5cGVUZWxlbWV0cnkgPSAodHlwZSkgPT4ge1xuICBjb25zdCB0ZWxlbWV0cnlUeXBlID0gYWRkRmVhdHVyZUxheWVyVHlwZVRvVGVsZW1ldHJ5KHR5cGUpO1xuICBjb25zdCB0ZWxlbWV0cnkgPSBjb25maWdTdGF0ZS50ZWxlbWV0cnk7XG4gIHRlbGVtZXRyeSA9PT0gbnVsbCB8fCB0ZWxlbWV0cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5zdGVwV29ya2Zsb3coVEVMRU1FVFJZX0lELCBcImZyb20gb3B0aW9uXCIsIHtcbiAgICBjYXRlZ29yeTogVEVMRU1FVFJZX0lELFxuICAgIGF0dHJpYnV0ZTogdGVsZW1ldHJ5VHlwZSxcbiAgICBwYWdlTmFtZTogVEVMRU1FVFJZX1BBR0VfTkFNRVxuICB9KTtcbn07XG5jb25zdCBmZWF0dXJlU2VydmljZUVuZFRlbGVtZXRyeSA9ICgpID0+IHtcbiAgY29uc3QgeyBhZGRGZWF0dXJlTGF5ZXJUeXBlLCBzZXJ2aWNlSW5mbyB9ID0gYWRkSXRlbVN0YXRlO1xuICBjb25zdCBmZWF0dXJlTGF5ZXJTZXJ2aWNlSW5mbyA9IHNlcnZpY2VJbmZvO1xuICBjb25zdCB0ZWxlbWV0cnkgPSBjb25maWdTdGF0ZS50ZWxlbWV0cnk7XG4gIHRlbGVtZXRyeSA9PT0gbnVsbCB8fCB0ZWxlbWV0cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5lbmRXb3JrZmxvdyhURUxFTUVUUllfSUQsIHtcbiAgICBjYXRlZ29yeTogVEVMRU1FVFJZX0lELFxuICAgIGF0dHJpYnV0ZTogYWRkRmVhdHVyZUxheWVyVHlwZVRvVGVsZW1ldHJ5KGFkZEZlYXR1cmVMYXllclR5cGUpLFxuICAgIHBhZ2VOYW1lOiBURUxFTUVUUllfUEFHRV9OQU1FLFxuICAgIGNvdW50OiBmZWF0dXJlTGF5ZXJTZXJ2aWNlSW5mby5sYXllcnMubGVuZ3RoLFxuICAgIG51bWJlcjogZmVhdHVyZUxheWVyU2VydmljZUluZm8udGFibGVzLmxlbmd0aFxuICB9KTtcbn07XG5jb25zdCBmZWF0dXJlTGF5ZXJFcnJvclRlbGVtZXRyeSA9IChlcnJTdHJpbmcpID0+IHtcbiAgdmFyIF9hO1xuICAoX2EgPSBjb25maWdTdGF0ZS50ZWxlbWV0cnkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2dFcnJvcih7XG4gICAgY2F0ZWdvcnk6IFRFTEVNRVRSWV9JRCxcbiAgICBlcnJvcjogZXJyU3RyaW5nXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgZmVhdHVyZVNlcnZpY2VFbmRUZWxlbWV0cnkgYXMgYSwgZmlsdGVyQ2hhbmdlVGVsZW1ldHJ5IGFzIGIsIGZlYXR1cmVMYXllclR5cGVUZWxlbWV0cnkgYXMgYywgZW5hYmxlTGF5ZXJQcmVmZXJlbmNlVGVsZW1ldHJ5IGFzIGUsIGZlYXR1cmVMYXllckVycm9yVGVsZW1ldHJ5IGFzIGYsIGl0ZW1FeHBhbmRlZFRlbGVtZXRyeSBhcyBpIH07XG4iLCIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmNvbnN0IHRpbGVMYXllckJhc2VtYXBzID0gW1wic3RhbmRhcmRcIiwgXCJjdXN0b21cIl07XG5jb25zdCB0aWxlc0xheWVyM2RUaWxlc0xheWVyVHlwZXMgPSBbXCJJbnRlZ3JhdGVkTWVzaFwiLCBcIjNET2JqZWN0XCJdO1xuY29uc3QgREVGQVVMVF9USUxFX0xBWUVSXzNEX1RJTEVTX0xBWUVSX1RZUEUgPSB0aWxlc0xheWVyM2RUaWxlc0xheWVyVHlwZXNbMF07XG5jb25zdCB0aWxlTGF5ZXJUeXBlcyA9IFtcInZlY3RvclwiLCBcInJhc3RlclwiLCBcIjNkVGlsZXNcIl07XG4vLyBUT0RPOiBzd2l0Y2ggdGhpcyBiYWNrIG9uY2UgdGhlIFNldHRpbmdUaWxlTGF5ZXIgc3VwcG9ydHMgdGhpcyBudW1iZXJcbi8vIGV4cG9ydCBjb25zdCBUSUxFX0xBWUVSX1NDQUxFX01JTiA9IDU5MTY1NzUyNy41OTE1NTU7XG5jb25zdCBUSUxFX0xBWUVSX1NDQUxFX01JTiA9IDE0NzkxNDM4MjtcbmNvbnN0IFRJTEVfTEFZRVJfU0NBTEVfTUFYID0gMDtcbmNvbnN0IHByZXNldExvZHMgPSBbXG4gIHsgbGV2ZWw6IDAsIGxhYmVsOiBcIjE6NTkxLDY1Nyw1MjhcIiwgc2NhbGU6IDU5MTY1NzUyNy41OTE1NTUgfSxcbiAgeyBsZXZlbDogMSwgbGFiZWw6IFwiMToyOTUsODI4LDc2NFwiLCBzY2FsZTogMjk1ODI4NzYzLjc5NTc3NyB9LFxuICB7IGxldmVsOiAyLCBsYWJlbDogXCIxOjE0Nyw5MTQsMzgyXCIsIHNjYWxlOiAxNDc5MTQzODEuODk3ODg5IH0sXG4gIHsgbGV2ZWw6IDMsIGxhYmVsOiBcIjE6NzMsOTU3LDE5MVwiLCBzY2FsZTogNzM5NTcxOTAuOTQ4OTQ0IH0sXG4gIHsgbGV2ZWw6IDQsIGxhYmVsOiBcIjE6MzYsOTc4LDU5NVwiLCBzY2FsZTogMzY5Nzg1OTUuNDc0NDcyIH0sXG4gIHsgbGV2ZWw6IDUsIGxhYmVsOiBcIjE6MTgsNDg5LDI5OFwiLCBzY2FsZTogMTg0ODkyOTcuNzM3MjM2IH0sXG4gIHsgbGV2ZWw6IDYsIGxhYmVsOiBcIjE6OSwyNDQsNjQ5XCIsIHNjYWxlOiA5MjQ0NjQ4Ljg2ODYxOCB9LFxuICB7IGxldmVsOiA3LCBsYWJlbDogXCIxOjQsNjIyLDMyNFwiLCBzY2FsZTogNDYyMjMyNC40MzQzMDkgfSxcbiAgeyBsZXZlbDogOCwgbGFiZWw6IFwiMToyLDMxMSwxNjJcIiwgc2NhbGU6IDIzMTExNjIuMjE3MTU1IH0sXG4gIHsgbGV2ZWw6IDksIGxhYmVsOiBcIjE6MSwxNTUsNTgxXCIsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICB7IGxldmVsOiAxMCwgbGFiZWw6IFwiMTo1NzcsNzkxXCIsIHNjYWxlOiA1Nzc3OTAuNTU0Mjg5IH0sXG4gIHsgbGV2ZWw6IDExLCBsYWJlbDogXCIxOjI4OCw4OTVcIiwgc2NhbGU6IDI4ODg5NS4yNzcxNDQgfSxcbiAgeyBsZXZlbDogMTIsIGxhYmVsOiBcIjE6MTQ0LDQ0OFwiLCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICB7IGxldmVsOiAxMywgbGFiZWw6IFwiMTo3MiwyMjRcIiwgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICB7IGxldmVsOiAxNCwgbGFiZWw6IFwiMTozNiwxMTJcIiwgc2NhbGU6IDM2MTExLjkwOTY0MyB9LFxuICB7IGxldmVsOiAxNSwgbGFiZWw6IFwiMToxOCwwNTZcIiwgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICB7IGxldmVsOiAxNiwgbGFiZWw6IFwiMTo5LDAyOFwiLCBzY2FsZTogOTAyNy45Nzc0MTEgfSxcbiAgeyBsZXZlbDogMTcsIGxhYmVsOiBcIjE6NCw1MTRcIiwgc2NhbGU6IDQ1MTMuOTg4NzA1IH0sXG4gIHsgbGV2ZWw6IDE4LCBsYWJlbDogXCIxOjIsMjU3XCIsIHNjYWxlOiAyMjU2Ljk5NDM1MyB9LFxuICB7IGxldmVsOiAxOSwgbGFiZWw6IFwiMToxLDEyOFwiLCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgeyBsZXZlbDogMjAsIGxhYmVsOiBcIjE6NTY0XCIsIHNjYWxlOiA1NjQuMjQ4NTg4IH0sXG4gIHsgbGV2ZWw6IDIxLCBsYWJlbDogXCIxOjI4MlwiLCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICB7IGxldmVsOiAyMiwgbGFiZWw6IFwiMToxNDFcIiwgc2NhbGU6IDE0MS4wNjIxNDcgfVxuXTtcbmNvbnN0IHByZXNldFJhc3RlclRpbGVDYWNoZUluZm8gPSB7XG4gIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogMTAyMTAwLCBsYXRlc3RXa2lkOiAzODU3IH0sXG4gIG9yaWdpbjogeyB4OiAtMjAwMzc1MDguMzQyNzg3LCB5OiAyMDAzNzUwOC4zNDI3ODcgfSxcbiAgcm93czogMjU2LFxuICBjb2xzOiAyNTYsXG4gIGRwaTogOTYsXG4gIHByZWNpc2VEcGk6IDk2LFxuICBsb2RzOiBbXG4gICAgeyBsZXZlbDogMCwgcmVzb2x1dGlvbjogMTU2NTQzLjAzMzkyOCwgc2NhbGU6IDU5MTY1NzUyNy41OTE1NTUgfSxcbiAgICB7IGxldmVsOiAxLCByZXNvbHV0aW9uOiA3ODI3MS41MTY5NjM5OTk5LCBzY2FsZTogMjk1ODI4NzYzLjc5NTc3NyB9LFxuICAgIHsgbGV2ZWw6IDIsIHJlc29sdXRpb246IDM5MTM1Ljc1ODQ4MjAwMDEsIHNjYWxlOiAxNDc5MTQzODEuODk3ODg5IH0sXG4gICAgeyBsZXZlbDogMywgcmVzb2x1dGlvbjogMTk1NjcuODc5MjQwOTk5OSwgc2NhbGU6IDczOTU3MTkwLjk0ODk0NCB9LFxuICAgIHsgbGV2ZWw6IDQsIHJlc29sdXRpb246IDk3ODMuOTM5NjIwNDk5OTYsIHNjYWxlOiAzNjk3ODU5NS40NzQ0NzIgfSxcbiAgICB7IGxldmVsOiA1LCByZXNvbHV0aW9uOiA0ODkxLjk2OTgxMDI0OTk4LCBzY2FsZTogMTg0ODkyOTcuNzM3MjM2IH0sXG4gICAgeyBsZXZlbDogNiwgcmVzb2x1dGlvbjogMjQ0NS45ODQ5MDUxMjQ5OSwgc2NhbGU6IDkyNDQ2NDguODY4NjE4IH0sXG4gICAgeyBsZXZlbDogNywgcmVzb2x1dGlvbjogMTIyMi45OTI0NTI1NjI0OSwgc2NhbGU6IDQ2MjIzMjQuNDM0MzA5IH0sXG4gICAgeyBsZXZlbDogOCwgcmVzb2x1dGlvbjogNjExLjQ5NjIyNjI4MTM4LCBzY2FsZTogMjMxMTE2Mi4yMTcxNTUgfSxcbiAgICB7IGxldmVsOiA5LCByZXNvbHV0aW9uOiAzMDUuNzQ4MTEzMTQwNTU4LCBzY2FsZTogMTE1NTU4MS4xMDg1NzcgfSxcbiAgICB7IGxldmVsOiAxMCwgcmVzb2x1dGlvbjogMTUyLjg3NDA1NjU3MDQxMSwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICB7IGxldmVsOiAxMSwgcmVzb2x1dGlvbjogNzYuNDM3MDI4Mjg1MDczMiwgc2NhbGU6IDI4ODg5NS4yNzcxNDQgfSxcbiAgICB7IGxldmVsOiAxMiwgcmVzb2x1dGlvbjogMzguMjE4NTE0MTQyNTM2Niwgc2NhbGU6IDE0NDQ0Ny42Mzg1NzIgfSxcbiAgICB7IGxldmVsOiAxMywgcmVzb2x1dGlvbjogMTkuMTA5MjU3MDcxMjY4Mywgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICAgIHsgbGV2ZWw6IDE0LCByZXNvbHV0aW9uOiA5LjU1NDYyODUzNTYzNDE1LCBzY2FsZTogMzYxMTEuOTA5NjQzIH0sXG4gICAgeyBsZXZlbDogMTUsIHJlc29sdXRpb246IDQuNzc3MzE0MjY3OTQ5MzcsIHNjYWxlOiAxODA1NS45NTQ4MjIgfSxcbiAgICB7IGxldmVsOiAxNiwgcmVzb2x1dGlvbjogMi4zODg2NTcxMzM5NzQ2OCwgc2NhbGU6IDkwMjcuOTc3NDExIH0sXG4gICAgeyBsZXZlbDogMTcsIHJlc29sdXRpb246IDEuMTk0MzI4NTY2ODU1MDUsIHNjYWxlOiA0NTEzLjk4ODcwNSB9LFxuICAgIHsgbGV2ZWw6IDE4LCByZXNvbHV0aW9uOiAwLjU5NzE2NDI4MzU1OTgxNywgc2NhbGU6IDIyNTYuOTk0MzUzIH0sXG4gICAgeyBsZXZlbDogMTksIHJlc29sdXRpb246IDAuMjk4NTgyMTQxNjQ3NjE3LCBzY2FsZTogMTEyOC40OTcxNzYgfSxcbiAgICB7IGxldmVsOiAyMCwgcmVzb2x1dGlvbjogMC4xNDkyOTEwNzA4MjM4MDgzMywgc2NhbGU6IDU2NC4yNDg1ODggfSxcbiAgICB7IGxldmVsOiAyMSwgcmVzb2x1dGlvbjogMC4wNzQ2NDU1MzU0MTE5MDQxNiwgc2NhbGU6IDI4Mi4xMjQyOTQgfSxcbiAgICB7IGxldmVsOiAyMiwgcmVzb2x1dGlvbjogMC4wMzczMjI3Njc3MDU5NTIwOCwgc2NhbGU6IDE0MS4wNjIxNDcgfVxuICBdXG59O1xuY29uc3QgcHJlc2V0VmVjdG9yVGlsZUNhY2hlSW5mbyA9IHtcbiAgc3BhdGlhbFJlZmVyZW5jZToge1xuICAgIHdraWQ6IDEwMjEwMCxcbiAgICBsYXRlc3RXa2lkOiAzODU3XG4gIH0sXG4gIG9yaWdpbjoge1xuICAgIHg6IC0yLjAwMzc1MDgzNDI3ODdlNyxcbiAgICB5OiAyLjAwMzc1MDgzNDI3ODdlN1xuICB9LFxuICByb3dzOiA1MTIsXG4gIGNvbHM6IDUxMixcbiAgZHBpOiA5NixcbiAgcHJlY2lzZURwaTogOTYsXG4gIGxvZHM6IFtcbiAgICB7IGxldmVsOiAwLCByZXNvbHV0aW9uOiA3ODI3MS41MTY5NjM5OTk5NCwgc2NhbGU6IDIuOTU4Mjg3NjM3OTU3NzdlOCB9LFxuICAgIHsgbGV2ZWw6IDEsIHJlc29sdXRpb246IDM5MTM1Ljc1ODQ4MjAwMDA5LCBzY2FsZTogMS40NzkxNDM4MTg5Nzg4OWU4IH0sXG4gICAgeyBsZXZlbDogMiwgcmVzb2x1dGlvbjogMTk1NjcuODc5MjQwOTk5OTIsIHNjYWxlOiA3LjM5NTcxOTA5NDg5NDRlNyB9LFxuICAgIHsgbGV2ZWw6IDMsIHJlc29sdXRpb246IDk3ODMuOTM5NjIwNDk5OTYsIHNjYWxlOiAzLjY5Nzg1OTU0NzQ0NzJlNyB9LFxuICAgIHsgbGV2ZWw6IDQsIHJlc29sdXRpb246IDQ4OTEuOTY5ODEwMjQ5OTgsIHNjYWxlOiAxLjg0ODkyOTc3MzcyMzZlNyB9LFxuICAgIHsgbGV2ZWw6IDUsIHJlc29sdXRpb246IDI0NDUuOTg0OTA1MTI0OTksIHNjYWxlOiA5MjQ0NjQ4Ljg2ODYxOCB9LFxuICAgIHsgbGV2ZWw6IDYsIHJlc29sdXRpb246IDEyMjIuOTkyNDUyNTYyNDk1LCBzY2FsZTogNDYyMjMyNC40MzQzMDkgfSxcbiAgICB7IGxldmVsOiA3LCByZXNvbHV0aW9uOiA2MTEuNDk2MjI2MjgxMzc5Nywgc2NhbGU6IDIzMTExNjIuMjE3MTU1IH0sXG4gICAgeyBsZXZlbDogOCwgcmVzb2x1dGlvbjogMzA1Ljc0ODExMzE0MDU1NzU2LCBzY2FsZTogMTE1NTU4MS4xMDg1NzcgfSxcbiAgICB7IGxldmVsOiA5LCByZXNvbHV0aW9uOiAxNTIuODc0MDU2NTcwNDExMDYsIHNjYWxlOiA1Nzc3OTAuNTU0Mjg5IH0sXG4gICAgeyBsZXZlbDogMTAsIHJlc29sdXRpb246IDc2LjQzNzAyODI4NTA3MzI0LCBzY2FsZTogMjg4ODk1LjI3NzE0NCB9LFxuICAgIHsgbGV2ZWw6IDExLCByZXNvbHV0aW9uOiAzOC4yMTg1MTQxNDI1MzY2Miwgc2NhbGU6IDE0NDQ0Ny42Mzg1NzIgfSxcbiAgICB7IGxldmVsOiAxMiwgcmVzb2x1dGlvbjogMTkuMTA5MjU3MDcxMjY4MzEsIHNjYWxlOiA3MjIyMy44MTkyODYgfSxcbiAgICB7IGxldmVsOiAxMywgcmVzb2x1dGlvbjogOS41NTQ2Mjg1MzU2MzQxNTUsIHNjYWxlOiAzNjExMS45MDk2NDMgfSxcbiAgICB7IGxldmVsOiAxNCwgcmVzb2x1dGlvbjogNC43NzczMTQyNjc5NDkzNywgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgIHsgbGV2ZWw6IDE1LCByZXNvbHV0aW9uOiAyLjM4ODY1NzEzMzk3NDY4NSwgc2NhbGU6IDkwMjcuOTc3NDExIH0sXG4gICAgeyBsZXZlbDogMTYsIHJlc29sdXRpb246IDEuMTk0MzI4NTY2ODU1MDUwMywgc2NhbGU6IDQ1MTMuOTg4NzA1IH0sXG4gICAgeyBsZXZlbDogMTcsIHJlc29sdXRpb246IDAuNTk3MTY0MjgzNTU5ODE3Miwgc2NhbGU6IDIyNTYuOTk0MzUzIH0sXG4gICAgeyBsZXZlbDogMTgsIHJlc29sdXRpb246IDAuMjk4NTgyMTQxNjQ3NjE2NjUsIHNjYWxlOiAxMTI4LjQ5NzE3NiB9LFxuICAgIHsgbGV2ZWw6IDE5LCByZXNvbHV0aW9uOiAwLjE0OTI5MTA3MDgyMzgwODMzLCBzY2FsZTogNTY0LjI0ODU4OCB9LFxuICAgIHsgbGV2ZWw6IDIwLCByZXNvbHV0aW9uOiAwLjA3NDY0NTUzNTQxMTkwNDE2LCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgIHsgbGV2ZWw6IDIxLCByZXNvbHV0aW9uOiAwLjAzNzMyMjc2NzcwNTk1MjA4LCBzY2FsZTogMTQxLjA2MjE0NyB9LFxuICAgIHsgbGV2ZWw6IDIyLCByZXNvbHV0aW9uOiAwLjAxODY2MTM4Mzg1Mjk3NjA0LCBzY2FsZTogNzAuNTMxMDczNSB9LFxuICAgIHsgbGV2ZWw6IDIzLCByZXNvbHV0aW9uOiAwLjAwOTMzMDY5MTkyOTM0MjgwNDA0NjYyMTczNjUsIHNjYWxlOiAzNS4yNjU1MzY3NjA3ODk3MTUwMzI0MTIwNzk2MjYgfVxuICBdXG59O1xuY29uc3QgcHJlc2V0VmVjdG9yVGlsZUltYWdlSW5mbyA9IHtcbiAgZm9ybWF0OiBcImluZGV4ZWRWZWN0b3JcIixcbiAgY29tcHJlc3Npb25RdWFsaXR5OiAwLFxuICBhbnRpYWxpYXNpbmc6IGZhbHNlXG59O1xuY29uc3QgcHJlc2V0UmFzdGVyVGlsZUltYWdlSW5mbyA9IHtcbiAgZm9ybWF0OiBcIlBORzMyXCIsXG4gIGNvbXByZXNzaW9uUXVhbGl0eTogMCxcbiAgYW50aWFsaWFzaW5nOiB0cnVlXG59O1xuXG5leHBvcnQgeyBERUZBVUxUX1RJTEVfTEFZRVJfM0RfVElMRVNfTEFZRVJfVFlQRSBhcyBELCBUSUxFX0xBWUVSX1NDQUxFX01JTiBhcyBULCBwcmVzZXRSYXN0ZXJUaWxlQ2FjaGVJbmZvIGFzIGEsIHByZXNldFZlY3RvclRpbGVJbWFnZUluZm8gYXMgYiwgcHJlc2V0UmFzdGVyVGlsZUltYWdlSW5mbyBhcyBjLCB0aWxlTGF5ZXJUeXBlcyBhcyBkLCBUSUxFX0xBWUVSX1NDQUxFX01BWCBhcyBlLCB0aWxlTGF5ZXJCYXNlbWFwcyBhcyBmLCBwcmVzZXRMb2RzIGFzIGcsIHByZXNldFZlY3RvclRpbGVDYWNoZUluZm8gYXMgcCwgdGlsZXNMYXllcjNkVGlsZXNMYXllclR5cGVzIGFzIHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==