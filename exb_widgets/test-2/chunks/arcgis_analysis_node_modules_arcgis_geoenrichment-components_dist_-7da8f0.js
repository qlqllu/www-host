"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-7da8f0"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FieldsIndex-da237492.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FieldsIndex-da237492.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t){return "date"===t.type||"esriFieldTypeDate"===t.type}class e{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const i=[];for(const d of e){const e=d&&d.name;if(e){const a=s(e);this._fieldsMap.set(e,d),this._fieldsMap.set(a,d),i.push(a),t(d)&&(this.dateFields.push(d),this._dateFieldsSet.add(d));}}i.sort(),this.uid=i.join(",");}destroy(){this._fieldsMap.clear();}has(t){return null!=this.get(t)}get(t){return null!=t?this._fieldsMap.get(t)||this._fieldsMap.get(s(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}normalizeFieldName(t){const e=this.get(t);if(e)return e.name}}function s(t){return t.toLowerCase().trim()}



//# sourceMappingURL=FieldsIndex-da237492.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/SpatialFilter-033e0689.js":
/*!*****************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/SpatialFilter-033e0689.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ E),
/* harmony export */   a: () => (/* binding */ a),
/* harmony export */   b: () => (/* binding */ a$1),
/* harmony export */   c: () => (/* binding */ n),
/* harmony export */   f: () => (/* binding */ f$1),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   h: () => (/* binding */ h$1),
/* harmony export */   i: () => (/* binding */ i$1),
/* harmony export */   l: () => (/* binding */ l),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   n: () => (/* binding */ n$2),
/* harmony export */   o: () => (/* binding */ o$1),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   s: () => (/* binding */ s$1),
/* harmony export */   t: () => (/* binding */ t),
/* harmony export */   u: () => (/* binding */ u),
/* harmony export */   v: () => (/* binding */ v),
/* harmony export */   w: () => (/* binding */ w$1)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcadeUtils-d1c69dcc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcadeUtils-d1c69dcc.js");
/* harmony import */ var _geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geometryEngineAsync-0a08ab41.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/geometryEngineAsync-0a08ab41.js");
/* harmony import */ var _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WhereClause-63375e5b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/WhereClause-63375e5b.js");
/* harmony import */ var _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FieldsIndex-da237492.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FieldsIndex-da237492.js");






/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class a$1{constructor(){this._databaseTypeMetaData={},this._layerInfo={};}clearDatabaseType(a){void 0===this._databaseTypeMetaData[a]&&delete this._databaseTypeMetaData[a];}getDatabaseType(a){return "MUSTBESET"===a||void 0===this._databaseTypeMetaData[a]?null:this._databaseTypeMetaData[a]}setDatabaseType(a,e){this._databaseTypeMetaData[a]=e;}getLayerInfo(a){return void 0===this._layerInfo[a]?null:this._layerInfo[a]}setLayerInfo(a,e){this._layerInfo[a]=e;}clearLayerInfo(a){void 0!==this._layerInfo[a]&&delete this._layerInfo[a];}}a$1.applicationCache=null;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t{constructor(t,i,s,e){this._candidates=null,this._known=null,this._lastFetchedIndex=0,this._ordered=!1,this.pagesDefinition=null,this._candidates=t,this._known=i,this._ordered=s,this.pagesDefinition=e;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function n$2(e,r){return c(e.parseTree,r,e.parameters)}function a(e,r,t){return c(e,r,t)}function s$1(e,n,a,s){return _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(c(e.parseTree,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised,e.parameters,n,a),s)}function o$1(e,a,s="AND"){return _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create("(("+n$2(e,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised)+")"+s+"("+n$2(a,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised)+"))",e.fieldsIndex)}function c(e,r,t,n=null,a=null){let s,o,f,g;switch(e.type){case"interval":return w$1(c(e.value,r,t,n,a),e.qualifier,e.op);case"case_expression":{let s=" CASE ";"simple"===e.format&&(s+=c(e.operand,r,t,n,a));for(let o=0;o<e.clauses.length;o++)s+=" WHEN "+c(e.clauses[o].operand,r,t,n,a)+" THEN "+c(e.clauses[o].value,r,t,n,a);return null!==e.else&&(s+=" ELSE "+c(e.else,r,t,n,a)),s+=" END ",s}case"param":{const n=t[e.value.toLowerCase()];if("string"==typeof n){return "'"+t[e.value.toLowerCase()].toString().replace(/'/g,"''")+"'"}if(n instanceof Date)return u(n,r);if(n instanceof Array){const e=[];for(let t=0;t<n.length;t++)"string"==typeof n[t]?e.push("'"+n[t].toString().replace(/'/g,"''")+"'"):n[t]instanceof Date?e.push(u(n[t],r)):e.push(n[t].toString());return e}return n.toString()}case"expr_list":o=[];for(const s of e.value)o.push(c(s,r,t,n,a));return o;case"unary_expr":return " ( NOT "+c(e.expr,r,t,n,a)+" ) ";case"binary_expr":switch(e.operator){case"AND":return " ("+c(e.left,r,t,n,a)+" AND "+c(e.right,r,t,n,a)+") ";case"OR":return " ("+c(e.left,r,t,n,a)+" OR "+c(e.right,r,t,n,a)+") ";case"IS":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return " ("+c(e.left,r,t,n,a)+" IS NULL )";case"ISNOT":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return " ("+c(e.left,r,t,n,a)+" IS NOT NULL )";case"IN":return s=[],"expr_list"===e.right.type?(s=c(e.right,r,t,n,a)," ("+c(e.left,r,t,n,a)+" IN ("+s.join(",")+")) "):(g=c(e.right,r,t,n,a),g instanceof Array?" ("+c(e.left,r,t,n,a)+" IN ("+g.join(",")+")) ":" ("+c(e.left,r,t,n,a)+" IN ("+g+")) ");case"NOT IN":return s=[],"expr_list"===e.right.type?(s=c(e.right,r,t,n,a)," ("+c(e.left,r,t,n,a)+" NOT IN ("+s.join(",")+")) "):(g=c(e.right,r,t,n,a),g instanceof Array?" ("+c(e.left,r,t,n,a)+" NOT IN ("+g.join(",")+")) ":" ("+c(e.left,r,t,n,a)+" NOT IN ("+g+")) ");case"BETWEEN":return f=c(e.right,r,t,n,a)," ("+c(e.left,r,t,n,a)+" BETWEEN "+f[0]+" AND "+f[1]+" ) ";case"NOTBETWEEN":return f=c(e.right,r,t,n,a)," ("+c(e.left,r,t,n,a)+" NOT BETWEEN "+f[0]+" AND "+f[1]+" ) ";case"LIKE":return ""!==e.escape?" ("+c(e.left,r,t,n,a)+" LIKE "+c(e.right,r,t,n,a)+" ESCAPE '"+e.escape+"') ":" ("+c(e.left,r,t,n,a)+" LIKE "+c(e.right,r,t,n,a)+") ";case"NOT LIKE":return ""!==e.escape?" ("+c(e.left,r,t,n,a)+" NOT LIKE "+c(e.right,r,t,n,a)+" ESCAPE '"+e.escape+"') ":" ("+c(e.left,r,t,n,a)+" NOT LIKE "+c(e.right,r,t,n,a)+") ";case"<>":case"<":case">":case">=":case"<=":case"=":case"*":case"-":case"+":case"/":return " ("+c(e.left,r,t,n,a)+" "+e.operator+" "+c(e.right,r,t,n,a)+") "}throw new Error("Not Supported Operator "+e.operator);case"null":return "null";case"bool":return !0===e.value?"1":"0";case"string":return "'"+e.value.toString().replace(/'/g,"''")+"'";case"timestamp":case"date":return u(e.value,r);case"number":return e.value.toString();case"current_time":return i$1("date"===e.mode,r);case"column_ref":return n&&n.toLowerCase()===e.column.toLowerCase()?"("+a+")":e.column;case"function":{const s=c(e.args,r,t,n,a);return l(e.name,s,r)}}throw new Error("Unsupported sql syntax "+e.type)}function l(e,t,n){switch(e.toLowerCase().trim()){case"abs":if(1!==t.length)throw new Error("Invalid Parameter for call to ABS");return "abs("+t[0]+")";case"ceiling":case"ceil":if(1!==t.length)throw new Error("Invalid Parameter for call to CEILING");switch(n){case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.StandardisedNoInterval:default:return "CEILING("+t[0]+")"}case"floor":if(1!==t.length)throw new Error("Invalid Parameter for call to Floor");return "FLOOR("+t[0]+")";case"log":if(1!==t.length)throw new Error("Invalid Parameter for call to LOG");return "LOG("+t[0]+")";case"log10":if(1!==t.length)throw new Error("Invalid Parameter for call to LOG10");return "LOG10("+t[0]+")";case"power":if(2!==t.length)throw new Error("Invalid Parameter for call to POWER");return "POWER("+t[0]+","+t[1]+")";case"round":if(2===t.length)return "ROUND("+t[0]+","+t[1]+")";if(1===t.length)return "ROUND("+t[0]+")";throw new Error("Invalid Parameter for call to ROUND");case"truncate":if(t.length<1||t.length>2)throw new Error("Invalid Parameter for TRUNCATE function");switch(n){case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.SqlServer:return "ROUND("+t[0]+(1===t.length?"0":","+t[1])+",1)";default:return "TRUNCATE("+t[0]+(1===t.length?")":","+t[1]+")")}case"char_length":case"len":if(1!==t.length)throw new Error("Invalid Parameter for CHAR_LENGTH function");switch(n){case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.SqlServer:return "LEN("+t[0]+")";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Oracle:return "LENGTH("+t[0]+")";default:return "CHAR_LENGTH("+t[0]+")"}case"concat":if(t.length<1)throw new Error("Invalid Parameter for CONCAT function");{let e="CONCAT(";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=t[r];return e+=")",e}case"lower":case"lcase":if(1!==t.length)throw new Error("Invalid Parameter for Lower function");return "LOWER("+t[0]+")";case"upper":case"ucase":if(1!==t.length)throw new Error("Invalid Parameter for Upper function");return "UPPER("+t[0]+")";case"substring":{let e="";switch(n){case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Oracle:return e="SUBSTR("+t[0]+","+t[1],3===t.length&&(e+=","+t[2]),e+=")",e;case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.SqlServer:return e=3===t.length?"SUBSTRING("+t[0]+","+t[1]+","+t[2]+")":"SUBSTRING("+t[0]+",  "+t[1]+", LEN("+t[0]+") - "+t[1]+")",e;default:return e="SUBSTRING("+t[0]+" FROM "+t[1],3===t.length&&(e+=" FOR "+t[2]),e+=")",e}}case"extract":return "EXTRACT("+t[0].replace(/\'/g,"")+" FROM "+t[1]+")"}throw new Error("Function Not Recognised")}function u(t,n){const a=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a8.Moment(t),s=0===a.minute()&&0===a.hour()&&0===a.second()&&0===a.millisecond();switch(n){case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.FILEGDB:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.StandardisedNoInterval:return s?"date '"+a.format("YYYY-MM-DD")+"'":"date '"+a.format("YYYY-MM-DD HH:mm:ss")+"'";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Oracle:return s?"TO_DATE('"+a.format("YYYY-MM-DD")+"','YYYY-MM-DD')":"TO_DATE('"+a.format("YYYY-MM-DD HH:mm:ss")+"','YYYY-MM-DD HH24:MI:SS')";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.SqlServer:return "'"+a.format(s?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss")+"'";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.PGDB:return "#"+a.format(s?"MM-DD-YYYY":"MM-DD-YYYY HH:mm:ss")+"#";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Postgres:return "TIMESTAMP '"+a.format(s?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss")+"'";default:return "date '"+a.format("YYYY-MM-DD HH:mm:ss")+"'"}}function i$1(e,t){switch(t){case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.FILEGDB:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.StandardisedNoInterval:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Oracle:return e?"CURRENT_DATE":"CURRENT_TIMESTAMP";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.SqlServer:return e?"CAST(GETDATE() AS DATE)":"GETDATE()";case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.PGDB:case _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Postgres:default:return e?"CURRENT_DATE":"CURRENT_TIMESTAMP"}}function f$1(e,r,t={}){const n={},a={},s={esriFieldTypeSmallInteger:"integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"double",esriFieldTypeDouble:"double",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"integer",oid:"integer",long:"integer","small-integer":"integer",integer:"integer",single:"double",double:"double",date:"date",string:"string"};for(const o of r){const e=s[o.type];n[o.name.toLowerCase()]=void 0===e?"":e;}for(const o in t){const e=s[t[o]];a[o.toLowerCase()]=void 0===e?"":e;}switch(g$2(n,e.parseTree,e.parameters,a)){case"double":return "double";case"integer":return "integer";case"double":return "double";case"date":return "date";case"string":return "string"}return ""}function g$2(e,r,t,n){let a;switch(r.type){case"interval":return "integer";case"case_expression":{const a=[];if("simple"===r.format){for(let s=0;s<r.clauses.length;s++)a.push(g$2(e,r.clauses[s].value,t,n));null!==r.else&&a.push(g$2(e,r.else,t,n));}else {for(let s=0;s<r.clauses.length;s++)a.push(g$2(e,r.else,t,n));null!==r.else&&a.push(g$2(e,r.else,t,n));}return d$1(a)}case"param":{const e=n[r.value.toLowerCase()];if(void 0===e&&t){const e=t[r.value.toLowerCase()];if(void 0===e)return "";if(null===e)return "";if("string"==typeof e||e instanceof String)return "string";if("boolean"==typeof e)return "boolean";if(e instanceof Date)return "date";if("number"==typeof e)return e%1==0?"integer":"double"}return void 0===e?"":e}case"expr_list":{const a=[];for(const s of r.value)a.push(g$2(e,s,t,n));return a}case"unary_expr":return "boolean";case"binary_expr":switch(r.operator){case"AND":case"OR":return "boolean";case"IS":case"ISNOT":if("null"!==r.right.type)throw new Error("Unsupported RHS for IS");return "boolean";case"IN":case"NOT IN":case"BETWEEN":case"NOTBETWEEN":case"LIKE":case"NOT LIKE":return "boolean";case"<>":case"<":case">":case">=":case"<=":case"=":return "boolean";case"*":case"-":case"+":case"/":return d$1([g$2(e,r.left,t,n),g$2(e,r.right,t,n)]);default:throw new Error("Not Supported Operator "+r.operator)}case"null":return "";case"bool":return "boolean";case"string":return "string";case"number":return null===r.value?"":r.value%1==0?"integer":"double";case"date":case"timestamp":case"current_time":return "date";case"column_ref":{const t=e[r.column.toLowerCase()];return void 0===t?"":t}case"function":switch(r.name.toLowerCase()){case"position":case"extract":case"char_length":return "integer";case"round":return a=g$2(e,r.args,t,n),a instanceof Array?a.length>0?a[0]:"":a;case"sign":return a=g$2(e,r.args,t,n),a instanceof Array&&(a=d$1(a)),"integer"===a||"double"===a?a:"double";case"ceiling":case"floor":case"abs":{const a=g$2(e,r.args,t,n);return a instanceof Array?d$1(a):a}case"area":case"length":case"log":case"log10":case"sin":case"cos":case"tan":case"asin":case"acos":case"atan":case"power":return "double";case"substring":case"trim":case"concat":case"lower":case"upper":return "string";case"truncate":return "double";case"round":return a=g$2(e,r.args,t,n),a instanceof Array?a.length>0?a[0]:"":a}return ""}throw new Error("Unsupported sql syntax "+r.type)}const p$1={boolean:1,string:2,integer:3,double:4,date:5};function d$1(e){if(e){let r="";for(const t of e)""!==t&&(r=""===r||p$1[r]<p$1[t]?t:r);return r}return ""}function h$1(e,r){return m$1(e.parseTree,r)}function E(e){return "column_ref"===e.parseTree.type}function m$1(e,r){if(null==e)return !1;switch(e.type){case"when_clause":return m$1(e.operand,r)||m$1(e.value,r);case"case_expression":for(const t of e.clauses)if(m$1(t,r))return !0;return !("simple"!==e.format||!m$1(e.operand,r))||!(null===e.else||!m$1(e.else,r));case"param":return !1;case"expr_list":for(const t of e.value)if(m$1(t,r))return !0;return !1;case"unary_expr":return m$1(e.expr,r);case"binary_expr":return m$1(e.left,r)||m$1(e.right,r);case"null":case"bool":case"date":case"timestamp":case"string":case"number":return !1;case"column_ref":return r.toLowerCase()===e.column.toLowerCase();case"function":return m$1(e.args,r)}return !1}function T(e){let r="";return r+=e.period.toUpperCase(),r}function w$1(e,r,t){let n="";return n="interval-period"===r.type?T(r):T(r.start)+" TO "+T(r.end),"INTERVAL "+t+" "+e+" "+n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class n$1{constructor(t,e){this._lastId=-1,this._progress=e,this._parent=t;}reset(){this._lastId=-1;}nextBatch(e){if(null!==this._parent._mainSetInUse)return this._parent._mainSetInUse.then((t=>this.nextBatch(e)),(t=>this.nextBatch(e)));const n={returnpromise:null,hasset:!1},s=[];return n.returnpromise=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((t,a)=>{this._parent._getSet(this._progress).then((h=>{let _=h._known.length-1;if("GETPAGES"===h._known[h._known.length-1]&&(_-=1),this._lastId+e>_&&h._known.length>0&&"GETPAGES"===h._known[h._known.length-1])this._parent._expandPagedSet(h,this._parent._maxQueryRate(),0,0,this._progress).then((s=>{n.hasset=!0,this._parent._mainSetInUse=null,this.nextBatch(e).then(t,a);}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,a(t);}));else {if(_>=this._lastId+e||0===h._candidates.length){for(let t=0;t<e;t++){const e=t+this._lastId+1;if(e>=h._known.length)break;s[t]=h._known[e];}return this._lastId+=s.length,0===s.length&&(n.hasset=!0,this._parent._mainSetInUse=null,t([])),void this._parent._getFeatureBatch(s,this._progress).then((e=>{n.hasset=!0,this._parent._mainSetInUse=null,t(e);}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,a(t);}))}this._parent._refineSetBlock(h,this._parent._maxProcessingRate(),this._progress).then((()=>{n.hasset=!0,this._parent._mainSetInUse=null,this.nextBatch(e).then(t,a);}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,a(t);}));}}),(t=>{n.hasset=!0,this._parent._mainSetInUse=null,a(t);}));})),!1===n.hasset&&(this._parent._mainSetInUse=n.returnpromise,n.hasset=!0),n.returnpromise}next(){if(null!==this._parent._mainSetInUse)return this._parent._mainSetInUse.then((t=>this.next()),(t=>this.next()));const e={returnpromise:null,hasset:!1};return e.returnpromise=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((t,n)=>{this._parent._getSet(this._progress).then((s=>{this._lastId<s._known.length-1?"GETPAGES"===s._known[this._lastId+1]?this._parent._expandPagedSet(s,this._parent._maxQueryRate(),0,0,this._progress).then((t=>(e.hasset=!0,this._parent._mainSetInUse=null,this.next()))).then(t,n):(this._lastId+=1,this._parent._getFeature(s,s._known[this._lastId],this._progress).then((n=>{e.hasset=!0,this._parent._mainSetInUse=null,t(n);}),(t=>{e.hasset=!0,this._parent._mainSetInUse=null,n(t);}))):s._candidates.length>0?this._parent._refineSetBlock(s,this._parent._maxProcessingRate(),this._progress).then((()=>{e.hasset=!0,this._parent._mainSetInUse=null,this.next().then(t,n);}),(t=>{e.hasset=!0,this._parent._mainSetInUse=null,n(t);})):(e.hasset=!0,this._parent._mainSetInUse=null,t(null));}),(t=>{e.hasset=!0,this._parent._mainSetInUse=null,n(t);}));})),!1===e.hasset&&(this._parent._mainSetInUse=e.returnpromise,e.hasset=!0),e.returnpromise}count(){return -1!==this._parent._totalCount?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._parent._totalCount):this._parent._getSet(this._progress).then((t=>this._refineAllSets(t))).then((t=>(this._parent._totalCount=t._known.length,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._parent._totalCount))))}_refineAllSets(t){return t._known.length>0&&"GETPAGES"===t._known[t._known.length-1]?this._parent._expandPagedSet(t,this._parent._maxQueryRate(),0,1,this._progress).then((e=>this._refineAllSets(t))).then((t=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(t))):t._candidates.length>0?"GETPAGES"===t._known[t._candidates.length-1]?this._parent._expandPagedSet(t,this._parent._maxQueryRate(),0,2,this._progress).then((e=>this._refineAllSets(t))).then((t=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(t))):this._parent._refineSetBlock(t,this._parent._maxProcessingRate(),this._progress).then((t=>t._candidates.length>0?this._refineAllSets(t):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(t))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(t)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function s(t){return t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t}function i(t){let n=0;for(let e=0;e<t.length;e++)n+=t[e];return n/t.length}function o(t){const n=i(t);let e=0;for(let r=0;r<t.length;r++)e+=(n-t[r])**2;return e/t.length}function h(t){const n=i(t);let e=0;for(let r=0;r<t.length;r++)e+=(n-t[r])**2;return e/(t.length-1)}function f(t){let n=0;for(let e=0;e<t.length;e++)n+=t[e];return n}function g$1(t,n){const e=[],c={},a=[];for(let s=0;s<t.length;s++){if(void 0!==t[s]&&null!==t[s]){const n=t[s];if((0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a9)(n)||(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.aa)(n))void 0===c[n]&&(e.push(n),c[n]=1);else {let t=!1;for(let e=0;e<a.length;e++)!0===(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ab)(a[e],n)&&(t=!0);!1===t&&(a.push(n),e.push(n));}}if(e.length>=n&&-1!==n)return e}return e}function m(t){switch(t.toLowerCase()){case"distinct":return "distinct";case"avg":case"mean":return "avg";case"min":return "min";case"sum":return "sum";case"max":return "max";case"stdev":case"stddev":return "stddev";case"var":case"variance":return "var";case"count":return "count"}return ""}function p(t,n,e=1e3){switch(t.toLowerCase()){case"distinct":return g$1(n,e);case"avg":case"mean":return i(n);case"min":return Math.min.apply(Math,n);case"sum":return f(n);case"max":return Math.max.apply(Math,n);case"stdev":case"stddev":return Math.sqrt(o(n));case"var":case"variance":return o(n);case"count":return n.length}return 0}function d(t,n,e){return q(t,n,e,!0).then((t=>0===t.length?null:Math.min.apply(Math,t)))}function v$1(t,n,e){return q(t,n,e,!0).then((t=>0===t.length?null:Math.max.apply(Math,t)))}function M(t,n,e){let r="";return !1===E(n)&&(r=f$1(n,t.fields,null)),q(t,n,e,!0).then((t=>{if(0===t.length)return null;const n=i(t);return null===n?n:"integer"===r?s(n):n}))}function x(t,n,e){return q(t,n,e,!0).then((t=>0===t.length?null:h(t)))}function y(t,n,e){return q(t,n,e,!0).then((t=>0===t.length?null:Math.sqrt(h(t))))}function j(t,n,e){return q(t,n,e,!0).then((t=>0===t.length?null:f(t)))}function w(n,e){try{return n.iterator(e).count()}catch(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(r)}}function q(e,r,u,l=!1){try{const t=e.iterator(u);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((n,e)=>{U(t,[],r,l,n,e);}))}catch(c){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(c)}}function U(t,n,r,u,l,c){(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a2)(t.next().then((e=>{try{if(null!==e){const a=r.calculateValue(e);return null===a?!1===u&&(n[n.length]=a):n[n.length]=a,U(t,n,r,u,l,c)}l(n);}catch(a){c(a);}}),c));}function C(t,n,e=1e3,r=null){return L(t,n,e,r)}function L(n,e,r,u){try{return V(n.iterator(u),{},[],e,r)}catch(l){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(l)}}function V(t,n,e,r,u){return t.next().then((l=>{if(null!==l){const c=r.calculateValue(l);return null!=c&&void 0===n[c]&&(e.push(c),n[c]=1),e.length>=u&&-1!==u?e:V(t,n,e,r,u)}return e}))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class v{constructor(e){this.recentlyUsedQueries=null,this.featureSetQueryInterceptor=null,this._idstates=[],this._parent=null,this._wset=null,this._mainSetInUse=null,this._maxProcessing=200,this._maxQuery=500,this._totalCount=-1,this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.NotEvaluated,this._databaseTypeProbed=null,this.declaredRootClass="esri.arcade.featureset.support.FeatureSet",this._featureCache=[],this.types=null,this.fields=null,this.geometryType="",this.objectIdField="",this.globalIdField="",this.spatialReference=null,this.hasM=!1,this.hasZ=!1,this._transparent=!1,this.loaded=!1,this._loadPromise=null,this._fieldsIndex=null,e&&e.lrucache&&(this.recentlyUsedQueries=e.lrucache),e&&e.interceptor&&(this.featureSetQueryInterceptor=e.interceptor);}optimisePagingFeatureQueries(e){this._parent&&this._parent.optimisePagingFeatureQueries(e);}_hasMemorySource(){return !0}prop(e,t){return void 0===t?this[e]:(void 0!==this[e]&&(this[e]=t),this)}end(){return null!==this._parent&&!0===this._parent._transparent?this._parent.end():this._parent}_ensureLoaded(){return this.load()}load(){return null===this._loadPromise&&(this._loadPromise=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{if(!0===this._parent.loaded)return this._initialiseFeatureSet(),void e(this);this._parent.load().then((()=>{try{this._initialiseFeatureSet(),e(this);}catch(r){t(r);}}),t);}))),this._loadPromise}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.typeIdField="",this.objectIdField="",this.globalIdField="",this.spatialReference=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:4326}),this.geometryType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a0.point);}getField(e,t){let r;return (t=t||this.fields)&&(e=e.toLowerCase(),t.some((t=>(t&&t.name.toLowerCase()===e&&(r=t),!!r)))),r}getFieldsIndex(){return null===this._fieldsIndex&&(this._fieldsIndex=new _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_4__.e(this.fields)),this._fieldsIndex}_maxProcessingRate(){return null!==this._parent?Math.min(this._maxProcessing,this._parent._maxProcessingRate()):Math.min(this._maxProcessing,this._maxQueryRate())}_maxQueryRate(){return null!==this._parent?Math.max(this._maxQuery,this._parent._maxQueryRate()):this._maxQuery}_checkCancelled(e){if(null!==e&&e.aborted)throw new Error("Operation has been cancelled.")}nativeCapabilities(){return this._parent.nativeCapabilities()}_canDoAggregates(e,r,n,s,i){return null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1):this._parent._canDoAggregates(e,r,n,s,i)}_getAggregatePagesDataSourceDefinition(e,t,n,s,i,a,h){return null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called")):this._parent._getAggregatePagesDataSourceDefinition(e,t,n,s,i,a,h)}_getAgregagtePhysicalPage(e,t,n){return null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called")):this._parent._getAgregagtePhysicalPage(e,t,n)}databaseType(){if(this._databaseType===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.NotEvaluated){if(null!==a$1.applicationCache){const e=a$1.applicationCache.getDatabaseType(this._cacheableFeatureSetSourceKey());if(null!==e)return e}if(null!==this._databaseTypeProbed)return this._databaseTypeProbed;const t=[{thetype:_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.SqlServer,testwhere:"(CAST( '2015-01-01' as DATETIME) = CAST( '2015-01-01' as DATETIME)) AND OBJECTID<0"},{thetype:_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Oracle,testwhere:"(TO_DATE('2003-11-18','YYYY-MM-DD') = TO_DATE('2003-11-18','YYYY-MM-DD')) AND OBJECTID<0"},{thetype:_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.StandardisedNoInterval,testwhere:"(date '2015-01-01 10:10:10' = date '2015-01-01 10:10:10') AND OBJECTID<0"}];let r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,r)=>{this._getDatabaseTypeImpl(t,0).then((t=>{this._databaseType=t,e(this._databaseType);}),(e=>{r(e);}));}));return null!==a$1.applicationCache&&(a$1.applicationCache.setDatabaseType(this._cacheableFeatureSetSourceKey(),r),r=r.catch((e=>{throw a$1.applicationCache.clearDatabaseType(this._cacheableFeatureSetSourceKey()),e}))),this._databaseTypeProbed=r,this._databaseTypeProbed}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._databaseType)}_cacheableFeatureSetSourceKey(){return "MUSTBESET"}_getDatabaseTypeImpl(e,r){return r>=e.length?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.StandardisedNoInterval):this._runDatabaseProbe(e[r].testwhere).then((t=>!0===t?e[r].thetype:this._getDatabaseTypeImpl(e,r+1)))}_runDatabaseProbe(e){return null!==this._parent?this._parent._runDatabaseProbe(e):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Not Implemented"))}isTable(){return this._parent.isTable()}_featureFromCache(e){if(void 0!==this._featureCache[e])return this._featureCache[e]}_isInFeatureSet(e){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.Unknown}_getSet(e){throw new Error("Not implemented in abstract class")}_getFeature(e,n,s){try{return this._checkCancelled(s),void 0!==this._featureFromCache(n)?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._featureFromCache(n)):this._getFeatures(e,n,this._maxProcessingRate(),s).then((()=>(this._checkCancelled(s),void 0!==this._featureFromCache(n)?this._featureFromCache(n):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Feature Not Found")))))}catch(i){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(i)}}_getFeatureBatch(e,t$1){try{this._checkCancelled(t$1);const r=new t([],e,!1,null),n=[];return this._getFeatures(r,-1,e.length,t$1).then((()=>{this._checkCancelled(t$1);for(const t of e)void 0!==this._featureFromCache(t)&&n.push(this._featureFromCache(t));return n}))}catch(n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(n)}}_getFeatures(e,r,n,s){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success")}_getFilteredSet(e,t,r,n,s){throw new Error("Not implemented in abstract class")}_refineSetBlock(e,n,s){try{if(!0===this._checkIfNeedToExpandCandidatePage(e,this._maxQueryRate()))return this._expandPagedSet(e,this._maxQueryRate(),0,0,s).then((()=>this._refineSetBlock(e,n,s)));this._checkCancelled(s);const r=e._candidates.length;this._refineKnowns(e,n);let i=r-e._candidates.length;return 0===e._candidates.length||i>=n?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(e):this._refineIfParentKnown(e,n-i,s).then((()=>{if(this._checkCancelled(s),this._refineKnowns(e,n-i),i=r-e._candidates.length,i<n&&e._candidates.length>0){const t=n-i,r=this._prepareFetchAndRefineSet(e._candidates);return this._fetchAndRefineFeatures(r,r.length>t?t:e._candidates.length,s).then((()=>(this._checkCancelled(s),this._refineKnowns(e,n-i),e)))}return e}))}catch(i){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(i)}}_fetchAndRefineFeatures(e,t,r){return null}_prepareFetchAndRefineSet(e){const t=[];for(let r=0;r<e.length;r++)this._isPhysicalFeature(e[r])&&t.push(e[r]);return t}_isPhysicalFeature(e){return null===this._parent||this._parent._isPhysicalFeature(e)}_refineKnowns(e,t){let r=0,n=null;const s=[];t=this._maxQueryRate();for(let i=0;i<e._candidates.length&&"GETPAGES"!==e._candidates[i];i++){let a=!1;const l=this._candidateIdTransform(e._candidates[i]);l!==e._candidates[i]&&(a=!0);const u=this._isInFeatureSet(l);if(u===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.InFeatureSet)!0===a?e._known.indexOf(l)<0&&(e._known.push(l),r+=1):(e._known.push(e._candidates[i]),r+=1),null===n?n={start:i,end:i}:n.end===i-1?n.end=i:(s.push(n),n={start:i,end:i});else if(u===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.NotInFeatureSet)null===n?n={start:i,end:i}:n.end===i-1?n.end=i:(s.push(n),n={start:i,end:i}),r+=1;else if(u===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.Unknown&&(r+=1,!0===e._ordered))break;if(r>=t)break}null!==n&&s.push(n);for(let i=s.length-1;i>=0;i--)e._candidates.splice(s[i].start,s[i].end-s[i].start+1);}_refineIfParentKnown(e,t$1,r){const n=new t([],[],e._ordered,null);return n._candidates=e._candidates.slice(0),this._parent._refineSetBlock(n,t$1,r)}_candidateIdTransform(e){return this._parent._candidateIdTransform(e)}_checkIfNeedToExpandKnownPage(e,t){if(null===e.pagesDefinition)return !1;let r=0;for(let n=e._lastFetchedIndex;n<e._known.length;n++){if("GETPAGES"===e._known[n])return !0;if(void 0===this._featureCache[e._known[n]]&&(r+=1,r>=t))break}return !1}_checkIfNeedToExpandCandidatePage(e,t){if(null===e.pagesDefinition)return !1;let r=0;for(let n=0;n<e._candidates.length;n++){if("GETPAGES"===e._candidates[n])return !0;if(r+=1,r>=t)break}return !1}_expandPagedSet(e,t,n,s,i){return null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Parent Paging not implemented")):this._parent._expandPagedSet(e,t,n,s,i)}_expandPagedSetFeatureSet(e,r,n,s,i){return e._known.length>0&&"GETPAGES"===e._known[e._known.length-1]&&(s=1),0===s&&e._candidates.length>0&&"GETPAGES"===e._candidates[e._candidates.length-1]&&(s=2),0===s?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("finished"):this._getPage(e,s,i).then((t=>n+t<r?this._expandPagedSet(e,r,n+t,0,i):"success"))}_getPage(e,r,n){const s=1===r?e._known:e._candidates;if(e.pagesDefinition.internal.set.length>e.pagesDefinition.resultOffset||!0===e.pagesDefinition.internal.fullyResolved){s.length=s.length-1;let r=0;for(let t=0;t<e.pagesDefinition.resultRecordCount&&!(e.pagesDefinition.resultOffset+t>=e.pagesDefinition.internal.set.length);t++)s[s.length]=e.pagesDefinition.internal.set[e.pagesDefinition.resultOffset+t],r++;e.pagesDefinition.resultOffset+=r;let n=!1;return !0===e.pagesDefinition.internal.fullyResolved&&e.pagesDefinition.internal.set.length<=e.pagesDefinition.resultOffset&&(n=!0),!1===n&&s.push("GETPAGES"),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(r)}return this._getPhysicalPage(e,r,n).then((()=>this._getPage(e,r,n)))}_getPhysicalPage(e,t,r){return null}_clonePageDefinition(e){return null===this._parent?null:this._parent._clonePageDefinition(e)}_first(e){return this.iterator(e).next()}first(e){return this._first(e)}calculateStatistic(e,t,r,n){return this._ensureLoaded().then((()=>this._stat(e,t,"",null,null,r,n).then((s=>!1===s.calculated?this._manualStat(e,t,r,n).then((e=>e.result)):s.result))))}_manualStat(e,r,n,s){switch(e.toLowerCase()){case"count":return w(this,s).then((e=>({calculated:!0,result:e})));case"distinct":return C(this,r,n).then((e=>({calculated:!0,result:e})));case"avg":case"mean":return M(this,r,s).then((e=>({calculated:!0,result:e})));case"stdev":return y(this,r,s).then((e=>({calculated:!0,result:e})));case"variance":return x(this,r,s).then((e=>({calculated:!0,result:e})));case"sum":return j(this,r,s).then((e=>({calculated:!0,result:e})));case"min":return d(this,r,s).then((e=>({calculated:!0,result:e})));case"max":return v$1(this,r,s).then((e=>({calculated:!0,result:e})));default:return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!0,result:0})}}_stat(e,t,r,n,s,i,a){return this._parent._stat(e,t,r,n,s,i,a).then((h=>!1===h.calculated?null===s&&""===r&&null===n?this._manualStat(e,t,i,a):{calculated:!1}:h))}_unionAllGeomSelf(t){const r=this.iterator(this._defaultTracker(t)),n=[];return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{this._unionShapeInBatches(n,r,e,t);}))}_unionAllGeom(t){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,r)=>{const n=this.iterator(this._defaultTracker(t)),s=[];this._unionShapeInBatches(s,n,e,r);}))}_unionShapeInBatches(e,t,r,n){t.next().then((s=>{try{null!==s&&null!==s.geometry&&e.push(s.geometry),e.length>30||null===s&&e.length>1?(0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.k)(e).then((i=>{try{null===s?r(i):(e=[i],this._unionShapeInBatches(e,t,r,n));}catch(a){n(a);}}),n):null===s?1===e.length?r(e[0]):r(null):this._unionShapeInBatches(e,t,r,n);}catch(i){n(i);}}),n);}iterator(e){return new n$1(this,e)}intersection(e,t=!1){return v._featuresetFunctions.intersection.bind(this)(e,t)}difference(e,t=!1,r=!0){return v._featuresetFunctions.difference.bind(this)(e,t,r)}symmetricDifference(e,t=!1,r=!0){return v._featuresetFunctions.symmetricDifference.bind(this)(e,t,r)}morphShape(e,t,r="unknown",n=null){return v._featuresetFunctions.morphShape.bind(this)(e,t,r,n)}morphShapeAndAttributes(e,t,r="unknown"){return v._featuresetFunctions.morphShapeAndAttributes.bind(this)(e,t,r)}union(e,t=!1){return v._featuresetFunctions.union.bind(this)(e,t)}intersects(e){return v._featuresetFunctions.intersects.bind(this)(e)}envelopeIntersects(e){return v._featuresetFunctions.envelopeIntersects.bind(this)(e)}contains(e){return v._featuresetFunctions.contains.bind(this)(e)}overlaps(e){return v._featuresetFunctions.overlaps.bind(this)(e)}relate(e,t){return v._featuresetFunctions.relate.bind(this)(e,t)}within(e){return v._featuresetFunctions.within.bind(this)(e)}touches(e){return v._featuresetFunctions.touches.bind(this)(e)}top(e){return v._featuresetFunctions.top.bind(this)(e)}crosses(e){return v._featuresetFunctions.crosses.bind(this)(e)}buffer(e,t,r,n=!0){return v._featuresetFunctions.buffer.bind(this)(e,t,r,n)}filter(e,t=null){return v._featuresetFunctions.filter.bind(this)(e,t)}orderBy(e){return v._featuresetFunctions.orderBy.bind(this)(e)}dissolve(e,t){return v._featuresetFunctions.dissolve.bind(this)(e,t)}groupby(e,t){return v._featuresetFunctions.groupby.bind(this)(e,t)}reduce(t,r=null,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,s)=>{this._reduceImpl(this.iterator(this._defaultTracker(n)),t,r,0,e,s,0);}))}_reduceImpl(e,t,r,s,i,a,h){try{if(++h>1e3)return void setTimeout((()=>{h=0,this._reduceImpl(e,t,r,s,i,a,h);}));e.next().then((l=>{try{if(null===l)i(r);else {const u=t(r,l,s,this);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Q)(u)?u.then((r=>{this._reduceImpl(e,t,r,s+1,i,a,h);}),a):this._reduceImpl(e,t,u,s+1,i,a,h);}}catch(u){a(u);}}),a);}catch(l){a(l);}}removeField(e){return v._featuresetFunctions.removeField.bind(this)(e)}addField(e,t,r=null){return v._featuresetFunctions.addField.bind(this)(e,t,r)}sumArea(e,t=!1,r){const n=(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ac)(e);return this.reduce(((e,r)=>null===r.geometry?0:t?(0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.K)(r.geometry,n).then((t=>e+t)):(0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.W)(r.geometry,n).then((t=>e+t))),0,r)}sumLength(e,t=!1,r){const n=(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ad)(e);return this.reduce(((e,r)=>null===r.geometry?0:t?(0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.M)(r.geometry,n).then((t=>e+t)):(0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.F)(r.geometry,n).then((t=>e+t))),0,r)}_substituteVars(e,t){if(null!==t){const r={};for(const e in t)r[e.toLowerCase()]=t[e];e.parameters=r;}}distinct(e,t=1e3,r=null,n){return this.load().then((()=>{const s=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(s,r),this.calculateStatistic("distinct",s,t,this._defaultTracker(n))}))}min(e,t=null,r){return this.load().then((()=>{const n=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,t),this.calculateStatistic("min",n,-1,this._defaultTracker(r))}))}max(e,t=null,r){return this.load().then((()=>{const n=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,t),this.calculateStatistic("max",n,-1,this._defaultTracker(r))}))}avg(e,t=null,r){return this.load().then((()=>{const n=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,t),this.calculateStatistic("avg",n,-1,this._defaultTracker(r))}))}sum(e,t=null,r){return this.load().then((()=>{const n=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,t),this.calculateStatistic("sum",n,-1,this._defaultTracker(r))}))}stdev(e,t=null,r){return this.load().then((()=>{const n=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,t),this.calculateStatistic("stdev",n,-1,this._defaultTracker(r))}))}variance(e,t=null,r){return this.load().then((()=>{const n=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create(e,this.getFieldsIndex());return this._substituteVars(n,t),this.calculateStatistic("variance",n,-1,this._defaultTracker(r))}))}count(e){return this.load().then((()=>this.calculateStatistic("count",_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_3__.WhereClause.create("1",this.getFieldsIndex()),-1,this._defaultTracker(e))))}_defaultTracker(e){return e||{aborted:!1}}forEach(t,r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,n)=>{this._forEachImpl(this.iterator(this._defaultTracker(r)),t,this,e,n,0);}))}_forEachImpl(e,t,r,s,i,a){try{if(++a>1e3)return void setTimeout((()=>{a=0,this._forEachImpl(e,t,r,s,i,a);}),0);e.next().then((h=>{try{if(null===h)s(r);else {const l=t(h);null==l?this._forEachImpl(e,t,r,s,i,a):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Q)(l)?l.then((()=>{try{this._forEachImpl(e,t,r,s,i,a);}catch(n){i(n);}}),i):this._forEachImpl(e,t,r,s,i,a);}}catch(l){i(l);}}),i);}catch(h){i(h);}}convertToJSON(e){const t={layerDefinition:{geometryType:this.geometryType,fields:[]},featureSet:{features:[],geometryType:this.geometryType}};for(let r=0;r<this.fields.length;r++)t.layerDefinition.fields.push((0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ae)(this.fields[r]));return this.reduce(((e,r)=>{const n={geometry:r.geometry&&r.geometry.toJSON(),attributes:{}};for(const t in r.attributes)n.attributes[t]=r.attributes[t];return t.featureSet.features.push(n),1}),0,e).then((()=>t))}castToText(){return "object, FeatureSet"}queryAttachments(e,t,r,n){return this._parent.queryAttachments(e,t,r,n)}serviceUrl(){return this._parent.serviceUrl()}subtypes(){return this.typeIdField?{subtypeField:this.typeIdField,subtypes:this.types?this.types.map((e=>({name:e.name,code:e.id}))):[]}:null}relationshipMetaData(){return this._parent.relationshipMetaData()}get gdbVersion(){return this._parent?this._parent.gdbVersion:""}schema(){const e=[];for(const t of this.fields)e.push((0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ae)(t));return {objectIdField:this.objectIdField,globalIdField:this.globalIdField,geometryType:void 0===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.af[this.geometryType]?"":_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.af[this.geometryType],fields:e}}convertToText(e,r){return "schema"===e?this._ensureLoaded().then((()=>JSON.stringify(this.schema()))):"featureset"===e?this._ensureLoaded().then((()=>{const e=[];return this.reduce(((t,r)=>{const n={geometry:r.geometry?r.geometry.toJSON():null,attributes:r.attributes};return null!==n.geometry&&n.geometry.spatialReference&&delete n.geometry.spatialReference,e.push(n),1}),0,r).then((()=>{const t=this.schema();return t.features=e,t.spatialReference=this.spatialReference.toJSON(),JSON.stringify(t)}))})):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this.castToText())}getFeatureByObjectId(e,t){return this._parent.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this._parent.getOwningSystemUrl()}getIdentityUser(){return this._parent.getIdentityUser()}}v._featuresetFunctions={};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class n extends v{constructor(e){super(e),this.declaredClass="esri.layers.featureset.sources.Empty",this._maxProcessing=1e3,this._wset=new t([],[],!1,null),this._parent=e.parentfeatureset,this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a4.Standardised;}_getSet(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}optimisePagingFeatureQueries(){}_isInFeatureSet(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.NotInFeatureSet}_getFeature(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("No Feature Found in EmptySet"))}queryAttachments(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)([])}_getFeatures(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success")}_featureFromCache(){return null}_fetchAndRefineFeatures(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Fetch and Refine should not be called in this featureset"))}_getFilteredSet(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(new t([],[],!1,null))}_stat(e,t,r,s,u,a,n){return this._manualStat(e,t,a,n)}_canDoAggregates(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class g extends v{constructor(e){super(e),this._relation="",this._relationGeom=null,this._relationString="",this.declaredClass="esri.arcade.featureset.actions.SpatialFilter",this._relationString=e.relationString,this._parent=e.parentfeatureset,this._maxProcessing=40,this._relation=e.relation,this._relationGeom=e.relationGeom;}_getSet(t$1){return null===this._wset?this._ensureLoaded().then((()=>this._parent._getFilteredSet("esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,null,null,t$1))).then((e=>(this._checkCancelled(t$1),this._wset=new t(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition)),this._wset))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_isInFeatureSet(e){let t=this._parent._isInFeatureSet(e);return t===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.NotInFeatureSet?t:(t=this._idstates[e],void 0===t?_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.Unknown:t)}_getFeature(e,t,r){return this._parent._getFeature(e,t,r)}_getFeatures(e,t,r,i){return this._parent._getFeatures(e,t,r,i)}_featureFromCache(e){return this._parent._featureFromCache(e)}executeSpatialRelationTest(t){if(null===t.geometry)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1);switch(this._relation){case"esriSpatialRelEnvelopeIntersects":{const e=(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ag)(this._relationGeom),r=(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.ag)(t.geometry);return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.g)(e,r)}case"esriSpatialRelIntersects":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.g)(this._relationGeom,t.geometry);case"esriSpatialRelContains":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.p)(this._relationGeom,t.geometry);case"esriSpatialRelOverlaps":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.O)(this._relationGeom,t.geometry);case"esriSpatialRelWithin":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.x)(this._relationGeom,t.geometry);case"esriSpatialRelTouches":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.A)(this._relationGeom,t.geometry);case"esriSpatialRelCrosses":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.w)(this._relationGeom,t.geometry);case"esriSpatialRelRelation":return (0,_geometryEngineAsync_0a08ab41_js__WEBPACK_IMPORTED_MODULE_2__.h)(this._relationGeom,t.geometry,this._relationString)}}_fetchAndRefineFeatures(e,r,n){const a=new t([],e,!1,null),s=Math.min(r,e.length);return this._parent._getFeatures(a,-1,s,n).then((()=>{this._checkCancelled(n);const r=[];for(let t=0;t<s;t++){const i=this._parent._featureFromCache(e[t]);r.push(this.executeSpatialRelationTest(i));}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.P)(r)})).then((t=>{for(let n=0;n<r;n++)!0===t[n]?this._idstates[e[n]]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.InFeatureSet:this._idstates[e[n]]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_1__.a1.NotInFeatureSet;return "success"}))}_getFilteredSet(e,t$1,r,i,n){return this._ensureLoaded().then((()=>this._parent._getFilteredSet("esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,r,i,n))).then((e=>{let r;return this._checkCancelled(n),r=null!==t$1?new t(e._candidates.slice(0).concat(e._known.slice(0)),[],e._ordered,this._clonePageDefinition(e.pagesDefinition)):new t(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition)),r}))}_stat(t,r,i,n,a,s,l){return ""!==i?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1}):this._parent._stat(t,r,"esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,a,s,l).then((e=>!1===e.calculated?null===a&&""===i&&null===n?this._manualStat(t,r,s,l):{calculated:!1}:e))}_canDoAggregates(t,r,i,n,a){return ""!==i||null!==n||null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1):this._parent._canDoAggregates(t,r,"esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,a)}_getAggregatePagesDataSourceDefinition(e,t,i,n,a,s,l){return null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called")):this._parent._getAggregatePagesDataSourceDefinition(e,t,"esriSpatialRelRelation"!==this._relation?this._relation:this._relation+":"+this._relationString,this._relationGeom,a,s,l)}static registerAction(){v._featuresetFunctions.intersects=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelIntersects",relationGeom:e})},v._featuresetFunctions.envelopeIntersects=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelEnvelopeIntersects",relationGeom:e})},v._featuresetFunctions.contains=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelContains",relationGeom:e})},v._featuresetFunctions.overlaps=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelOverlaps",relationGeom:e})},v._featuresetFunctions.within=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelWithin",relationGeom:e})},v._featuresetFunctions.touches=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelTouches",relationGeom:e})},v._featuresetFunctions.crosses=function(e){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelCrosses",relationGeom:e})},v._featuresetFunctions.relate=function(e,t){return null==e?new n({parentfeatureset:this}):new g({parentfeatureset:this,relation:"esriSpatialRelRelation",relationGeom:e,relationString:t})};}}



//# sourceMappingURL=SpatialFilter-033e0689.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/geometryEngineAsync-0a08ab41.js":
/*!***********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/geometryEngineAsync-0a08ab41.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ A),
/* harmony export */   E: () => (/* binding */ E),
/* harmony export */   F: () => (/* binding */ F),
/* harmony export */   G: () => (/* binding */ G),
/* harmony export */   I: () => (/* binding */ I),
/* harmony export */   J: () => (/* binding */ J),
/* harmony export */   K: () => (/* binding */ K),
/* harmony export */   M: () => (/* binding */ M),
/* harmony export */   O: () => (/* binding */ O),
/* harmony export */   P: () => (/* binding */ P),
/* harmony export */   R: () => (/* binding */ R),
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   U: () => (/* binding */ U),
/* harmony export */   V: () => (/* binding */ V),
/* harmony export */   W: () => (/* binding */ W),
/* harmony export */   b: () => (/* binding */ b),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   h: () => (/* binding */ h),
/* harmony export */   j: () => (/* binding */ j),
/* harmony export */   k: () => (/* binding */ k),
/* harmony export */   l: () => (/* binding */ l),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   q: () => (/* binding */ q),
/* harmony export */   v: () => (/* binding */ v),
/* harmony export */   w: () => (/* binding */ w),
/* harmony export */   x: () => (/* binding */ x),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _workers_e0859213_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./workers-e0859213.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/workers-e0859213.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function e(n){var t;return Array.isArray(n)?null==(t=n[0])?void 0:t.spatialReference:null==n?void 0:n.spatialReference}function i(n){return n?Array.isArray(n)?n.map(i):n.toJSON?n.toJSON():n:n}function a(n){return Array.isArray(n)?n.map((n=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(n))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(n)}function o(n,t){let r;return Array.isArray(n)?r=n:(r=[],r.push(n),null!=t&&r.push(t)),r}let c;async function u(){return c||(c=(0,_workers_e0859213_js__WEBPACK_IMPORTED_MODULE_1__.p)("geometryEngineWorker",{strategy:"distributed"})),c}async function s(n,t){return (await u()).invoke("executeGEOperation",{operation:n,parameters:i(t)})}async function l(n,t){return a(await s("clip",[e(n),n,t]))}async function y(n,t){return a(await s("cut",[e(n),n,t]))}function p(n,t){return s("contains",[e(n),n,t])}function w(n,t){return s("crosses",[e(n),n,t])}function m(n,t,r){return s("distance",[e(n),n,t,r])}function d(n,t){return s("equals",[e(n),n,t])}function g(n,t){return s("intersects",[e(n),n,t])}function A(n,t){return s("touches",[e(n),n,t])}function x(n,t){return s("within",[e(n),n,t])}function S(n,t){return s("disjoint",[e(n),n,t])}function O(n,t){return s("overlaps",[e(n),n,t])}function h(n,t,r){return s("relate",[e(n),n,t,r])}function v(n){return s("isSimple",[e(n),n])}async function J(n){return a(await s("simplify",[e(n),n]))}async function R(n,t){return a(await s("difference",[e(n),n,t]))}async function E(n,t){return a(await s("symmetricDifference",[e(n),n,t]))}async function j(n,t){return a(await s("intersect",[e(n),n,t]))}async function k(n,t=null){const r=o(n,t);return a(await s("union",[e(r),r]))}async function I(n,t,r,i,o,c){return a(await s("offset",[e(n),n,t,r,i,o,c]))}async function V(n,t,r,i=!1){const o=[e(n),n,t,r,i];return a(await s("buffer",o))}async function b(n,t,r,i,o,c){const u=[e(n),n,t,r,i,o,c];return a(await s("geodesicBuffer",u))}function L(n){return "xmin"in n?n.center:"x"in n?n:n.extent.center}async function q(n,t,r){var e;if(null==n)throw new Error("Illegal Argument Exception");const i=n.spatialReference;r=null!=(e=r)?e:L(n);const a=n.constructor.fromJSON(await s("rotate",[i,n,t,r]));return a.spatialReference=i,a}async function G(n,t,r,i){return a(await s("generalize",[e(n),n,t,r,i]))}async function P(n,t,r){return a(await s("densify",[e(n),n,t,r]))}async function U(n,t,r,i=0){return a(await s("geodesicDensify",[e(n),n,t,r,i]))}function W(n,t){return s("planarArea",[e(n),n,t])}function F(n,t){return s("planarLength",[e(n),n,t])}function K(n,t,r){return s("geodesicArea",[e(n),n,t,r])}function M(n,t,r){return s("geodesicLength",[e(n),n,t,r])}



//# sourceMappingURL=geometryEngineAsync-0a08ab41.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLTdkYThmMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFxRCxRQUFRLGVBQWUsa0dBQWtHLFdBQVcsa0JBQWtCLGtCQUFrQixNQUFNLGFBQWEseUhBQXlILCtCQUErQixVQUFVLHlCQUF5QixPQUFPLHlCQUF5QixPQUFPLHdFQUF3RSxlQUFlLDRDQUE0QyxzQkFBc0Isb0JBQW9CLG9CQUFvQixjQUFjOztBQUVscUI7O0FBRWI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1JxRztBQUM2RTtBQUMxQztBQUN6RTtBQUNqQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGNBQWMsNkJBQTZCLHFCQUFxQixxQkFBcUIsOEVBQThFLG1CQUFtQixrR0FBa0cscUJBQXFCLGlDQUFpQyxnQkFBZ0IsMkRBQTJELGtCQUFrQixzQkFBc0Isa0JBQWtCLHlEQUF5RDs7QUFFdGhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxQkFBcUI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFDQUFxQyxrQkFBa0IsZ0JBQWdCLHNCQUFzQixPQUFPLGlFQUFHLHNCQUFzQix3REFBRyxtQ0FBbUMsMEJBQTBCLE9BQU8saUVBQUcsbUJBQW1CLHdEQUFHLCtCQUErQix3REFBRyxtQ0FBbUMsZ0NBQWdDLFlBQVksZUFBZSwrREFBK0QsdUJBQXVCLGVBQWUsK0NBQStDLFlBQVksbUJBQW1CLHVGQUF1RixtRUFBbUUsYUFBYSxpQ0FBaUMsdUJBQXVCLHNFQUFzRSxtQ0FBbUMsdUJBQXVCLFdBQVcsWUFBWSxXQUFXLDJJQUEySSxTQUFTLG9CQUFvQixxQkFBcUIsNENBQTRDLFNBQVMsMERBQTBELHFDQUFxQyx3RUFBd0Usc0VBQXNFLDRF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QkFBa0IsZ0NBQWdDLGNBQWMsOEJBQThCLG9CQUFvQix1Q0FBdUMsc0JBQXNCLDJDQUEyQyxzQkFBc0Isb0RBQW9ELHNCQUFzQiwwQ0FBMEMsMkJBQTJCLGVBQWUsb0NBQW9DLDhCQUE4QiwrQ0FBK0MsNkJBQTZCLHVCQUF1Qiw4QkFBOEIsOEJBQThCLDJCQUEyQixzQ0FBc0MsY0FBYyxxREFBcUQsd0JBQXdCLE1BQU0seURBQXlELDJCQUEyQixxQkFBcUIsNERBQTRELDhCQUE4QiwwQkFBMEIsK0NBQStDLHdCQUF3QiwwQ0FBMEMsNEJBQTRCLG9EQUFvRCxnQkFBZ0Isa0NBQWtDLGdCQUFnQixvQ0FBb0Msa0JBQWtCLHNDQUFzQyxrQkFBa0I7O0FBRTd6RTs7QUFFakciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vRmllbGRzSW5kZXgtZGEyMzc0OTIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL1NwYXRpYWxGaWx0ZXItMDMzZTA2ODkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL2dlb21ldHJ5RW5naW5lQXN5bmMtMGEwOGFiNDEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQodCl7cmV0dXJuIFwiZGF0ZVwiPT09dC50eXBlfHxcImVzcmlGaWVsZFR5cGVEYXRlXCI9PT10LnR5cGV9Y2xhc3MgZXtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmZpZWxkcz1lLHRoaXMuX2ZpZWxkc01hcD1uZXcgTWFwLHRoaXMuX2RhdGVGaWVsZHNTZXQ9bmV3IFNldCx0aGlzLmRhdGVGaWVsZHM9W10sIWUpcmV0dXJuO2NvbnN0IGk9W107Zm9yKGNvbnN0IGQgb2YgZSl7Y29uc3QgZT1kJiZkLm5hbWU7aWYoZSl7Y29uc3QgYT1zKGUpO3RoaXMuX2ZpZWxkc01hcC5zZXQoZSxkKSx0aGlzLl9maWVsZHNNYXAuc2V0KGEsZCksaS5wdXNoKGEpLHQoZCkmJih0aGlzLmRhdGVGaWVsZHMucHVzaChkKSx0aGlzLl9kYXRlRmllbGRzU2V0LmFkZChkKSk7fX1pLnNvcnQoKSx0aGlzLnVpZD1pLmpvaW4oXCIsXCIpO31kZXN0cm95KCl7dGhpcy5fZmllbGRzTWFwLmNsZWFyKCk7fWhhcyh0KXtyZXR1cm4gbnVsbCE9dGhpcy5nZXQodCl9Z2V0KHQpe3JldHVybiBudWxsIT10P3RoaXMuX2ZpZWxkc01hcC5nZXQodCl8fHRoaXMuX2ZpZWxkc01hcC5nZXQocyh0KSk6dm9pZCAwfWlzRGF0ZUZpZWxkKHQpe3JldHVybiB0aGlzLl9kYXRlRmllbGRzU2V0Lmhhcyh0aGlzLmdldCh0KSl9bm9ybWFsaXplRmllbGROYW1lKHQpe2NvbnN0IGU9dGhpcy5nZXQodCk7aWYoZSlyZXR1cm4gZS5uYW1lfX1mdW5jdGlvbiBzKHQpe3JldHVybiB0LnRvTG93ZXJDYXNlKCkudHJpbSgpfVxuXG5leHBvcnQgeyBlIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpZWxkc0luZGV4LWRhMjM3NDkyLmpzLm1hcCIsImltcG9ydCB7IEQgYXMgbCQxLCBHIGFzIHgkMSwgRiBhcyBMJDEsIE8gYXMgaywgUSBhcyBVJDEsIFAgYXMgcyQyIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyBhNCBhcyBvJDIsIGE4IGFzIGRlLCBhOSBhcyBjJDEsIGFhIGFzIHUkMSwgYWIgYXMgZiQzLCBhMiBhcyBoZSwgYTAgYXMgSSwgYTEgYXMgbCQyLCBhYyBhcyBnJDMsIGFkIGFzIEcsIGFlIGFzIHkkMSwgYWYgYXMgYiwgYWcgYXMgRiQxIH0gZnJvbSAnLi9hcmNhZGVVdGlscy1kMWM2OWRjYy5qcyc7XG5pbXBvcnQgeyBrIGFzIGskMSwgSywgVywgTSBhcyBNJDEsIEYsIGggYXMgaCQyLCB3IGFzIHckMiwgQSwgeCBhcyB4JDIsIE8sIHAgYXMgcCQyLCBnIGFzIGckNCB9IGZyb20gJy4vZ2VvbWV0cnlFbmdpbmVBc3luYy0wYTA4YWI0MS5qcyc7XG5pbXBvcnQgeyBXaGVyZUNsYXVzZSBhcyBmJDIgfSBmcm9tICcuL1doZXJlQ2xhdXNlLTYzMzc1ZTViLmpzJztcbmltcG9ydCB7IGUgfSBmcm9tICcuL0ZpZWxkc0luZGV4LWRhMjM3NDkyLmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGEkMXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RhdGFiYXNlVHlwZU1ldGFEYXRhPXt9LHRoaXMuX2xheWVySW5mbz17fTt9Y2xlYXJEYXRhYmFzZVR5cGUoYSl7dm9pZCAwPT09dGhpcy5fZGF0YWJhc2VUeXBlTWV0YURhdGFbYV0mJmRlbGV0ZSB0aGlzLl9kYXRhYmFzZVR5cGVNZXRhRGF0YVthXTt9Z2V0RGF0YWJhc2VUeXBlKGEpe3JldHVybiBcIk1VU1RCRVNFVFwiPT09YXx8dm9pZCAwPT09dGhpcy5fZGF0YWJhc2VUeXBlTWV0YURhdGFbYV0/bnVsbDp0aGlzLl9kYXRhYmFzZVR5cGVNZXRhRGF0YVthXX1zZXREYXRhYmFzZVR5cGUoYSxlKXt0aGlzLl9kYXRhYmFzZVR5cGVNZXRhRGF0YVthXT1lO31nZXRMYXllckluZm8oYSl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2xheWVySW5mb1thXT9udWxsOnRoaXMuX2xheWVySW5mb1thXX1zZXRMYXllckluZm8oYSxlKXt0aGlzLl9sYXllckluZm9bYV09ZTt9Y2xlYXJMYXllckluZm8oYSl7dm9pZCAwIT09dGhpcy5fbGF5ZXJJbmZvW2FdJiZkZWxldGUgdGhpcy5fbGF5ZXJJbmZvW2FdO319YSQxLmFwcGxpY2F0aW9uQ2FjaGU9bnVsbDtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IodCxpLHMsZSl7dGhpcy5fY2FuZGlkYXRlcz1udWxsLHRoaXMuX2tub3duPW51bGwsdGhpcy5fbGFzdEZldGNoZWRJbmRleD0wLHRoaXMuX29yZGVyZWQ9ITEsdGhpcy5wYWdlc0RlZmluaXRpb249bnVsbCx0aGlzLl9jYW5kaWRhdGVzPXQsdGhpcy5fa25vd249aSx0aGlzLl9vcmRlcmVkPXMsdGhpcy5wYWdlc0RlZmluaXRpb249ZTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbiQyKGUscil7cmV0dXJuIGMoZS5wYXJzZVRyZWUscixlLnBhcmFtZXRlcnMpfWZ1bmN0aW9uIGEoZSxyLHQpe3JldHVybiBjKGUscix0KX1mdW5jdGlvbiBzJDEoZSxuLGEscyl7cmV0dXJuIGYkMi5jcmVhdGUoYyhlLnBhcnNlVHJlZSxvJDIuU3RhbmRhcmRpc2VkLGUucGFyYW1ldGVycyxuLGEpLHMpfWZ1bmN0aW9uIG8kMShlLGEscz1cIkFORFwiKXtyZXR1cm4gZiQyLmNyZWF0ZShcIigoXCIrbiQyKGUsbyQyLlN0YW5kYXJkaXNlZCkrXCIpXCIrcytcIihcIituJDIoYSxvJDIuU3RhbmRhcmRpc2VkKStcIikpXCIsZS5maWVsZHNJbmRleCl9ZnVuY3Rpb24gYyhlLHIsdCxuPW51bGwsYT1udWxsKXtsZXQgcyxvLGYsZztzd2l0Y2goZS50eXBlKXtjYXNlXCJpbnRlcnZhbFwiOnJldHVybiB3JDEoYyhlLnZhbHVlLHIsdCxuLGEpLGUucXVhbGlmaWVyLGUub3ApO2Nhc2VcImNhc2VfZXhwcmVzc2lvblwiOntsZXQgcz1cIiBDQVNFIFwiO1wic2ltcGxlXCI9PT1lLmZvcm1hdCYmKHMrPWMoZS5vcGVyYW5kLHIsdCxuLGEpKTtmb3IobGV0IG89MDtvPGUuY2xhdXNlcy5sZW5ndGg7bysrKXMrPVwiIFdIRU4gXCIrYyhlLmNsYXVzZXNbb10ub3BlcmFuZCxyLHQsbixhKStcIiBUSEVOIFwiK2MoZS5jbGF1c2VzW29dLnZhbHVlLHIsdCxuLGEpO3JldHVybiBudWxsIT09ZS5lbHNlJiYocys9XCIgRUxTRSBcIitjKGUuZWxzZSxyLHQsbixhKSkscys9XCIgRU5EIFwiLHN9Y2FzZVwicGFyYW1cIjp7Y29uc3Qgbj10W2UudmFsdWUudG9Mb3dlckNhc2UoKV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pe3JldHVybiBcIidcIit0W2UudmFsdWUudG9Mb3dlckNhc2UoKV0udG9TdHJpbmcoKS5yZXBsYWNlKC8nL2csXCInJ1wiKStcIidcIn1pZihuIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gdShuLHIpO2lmKG4gaW5zdGFuY2VvZiBBcnJheSl7Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylcInN0cmluZ1wiPT10eXBlb2Ygblt0XT9lLnB1c2goXCInXCIrblt0XS50b1N0cmluZygpLnJlcGxhY2UoLycvZyxcIicnXCIpK1wiJ1wiKTpuW3RdaW5zdGFuY2VvZiBEYXRlP2UucHVzaCh1KG5bdF0scikpOmUucHVzaChuW3RdLnRvU3RyaW5nKCkpO3JldHVybiBlfXJldHVybiBuLnRvU3RyaW5nKCl9Y2FzZVwiZXhwcl9saXN0XCI6bz1bXTtmb3IoY29uc3QgcyBvZiBlLnZhbHVlKW8ucHVzaChjKHMscix0LG4sYSkpO3JldHVybiBvO2Nhc2VcInVuYXJ5X2V4cHJcIjpyZXR1cm4gXCIgKCBOT1QgXCIrYyhlLmV4cHIscix0LG4sYSkrXCIgKSBcIjtjYXNlXCJiaW5hcnlfZXhwclwiOnN3aXRjaChlLm9wZXJhdG9yKXtjYXNlXCJBTkRcIjpyZXR1cm4gXCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIEFORCBcIitjKGUucmlnaHQscix0LG4sYSkrXCIpIFwiO2Nhc2VcIk9SXCI6cmV0dXJuIFwiIChcIitjKGUubGVmdCxyLHQsbixhKStcIiBPUiBcIitjKGUucmlnaHQscix0LG4sYSkrXCIpIFwiO2Nhc2VcIklTXCI6aWYoXCJudWxsXCIhPT1lLnJpZ2h0LnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgUkhTIGZvciBJU1wiKTtyZXR1cm4gXCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIElTIE5VTEwgKVwiO2Nhc2VcIklTTk9UXCI6aWYoXCJudWxsXCIhPT1lLnJpZ2h0LnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgUkhTIGZvciBJU1wiKTtyZXR1cm4gXCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIElTIE5PVCBOVUxMIClcIjtjYXNlXCJJTlwiOnJldHVybiBzPVtdLFwiZXhwcl9saXN0XCI9PT1lLnJpZ2h0LnR5cGU/KHM9YyhlLnJpZ2h0LHIsdCxuLGEpLFwiIChcIitjKGUubGVmdCxyLHQsbixhKStcIiBJTiAoXCIrcy5qb2luKFwiLFwiKStcIikpIFwiKTooZz1jKGUucmlnaHQscix0LG4sYSksZyBpbnN0YW5jZW9mIEFycmF5P1wiIChcIitjKGUubGVmdCxyLHQsbixhKStcIiBJTiAoXCIrZy5qb2luKFwiLFwiKStcIikpIFwiOlwiIChcIitjKGUubGVmdCxyLHQsbixhKStcIiBJTiAoXCIrZytcIikpIFwiKTtjYXNlXCJOT1QgSU5cIjpyZXR1cm4gcz1bXSxcImV4cHJfbGlzdFwiPT09ZS5yaWdodC50eXBlPyhzPWMoZS5yaWdodCxyLHQsbixhKSxcIiAoXCIrYyhlLmxlZnQscix0LG4sYSkrXCIgTk9UIElOIChcIitzLmpvaW4oXCIsXCIpK1wiKSkgXCIpOihnPWMoZS5yaWdodCxyLHQsbixhKSxnIGluc3RhbmNlb2YgQXJyYXk/XCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIE5PVCBJTiAoXCIrZy5qb2luKFwiLFwiKStcIikpIFwiOlwiIChcIitjKGUubGVmdCxyLHQsbixhKStcIiBOT1QgSU4gKFwiK2crXCIpKSBcIik7Y2FzZVwiQkVUV0VFTlwiOnJldHVybiBmPWMoZS5yaWdodCxyLHQsbixhKSxcIiAoXCIrYyhlLmxlZnQscix0LG4sYSkrXCIgQkVUV0VFTiBcIitmWzBdK1wiIEFORCBcIitmWzFdK1wiICkgXCI7Y2FzZVwiTk9UQkVUV0VFTlwiOnJldHVybiBmPWMoZS5yaWdodCxyLHQsbixhKSxcIiAoXCIrYyhlLmxlZnQscix0LG4sYSkrXCIgTk9UIEJFVFdFRU4gXCIrZlswXStcIiBBTkQgXCIrZlsxXStcIiApIFwiO2Nhc2VcIkxJS0VcIjpyZXR1cm4gXCJcIiE9PWUuZXNjYXBlP1wiIChcIitjKGUubGVmdCxyLHQsbixhKStcIiBMSUtFIFwiK2MoZS5yaWdodCxyLHQsbixhKStcIiBFU0NBUEUgJ1wiK2UuZXNjYXBlK1wiJykgXCI6XCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIExJS0UgXCIrYyhlLnJpZ2h0LHIsdCxuLGEpK1wiKSBcIjtjYXNlXCJOT1QgTElLRVwiOnJldHVybiBcIlwiIT09ZS5lc2NhcGU/XCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIE5PVCBMSUtFIFwiK2MoZS5yaWdodCxyLHQsbixhKStcIiBFU0NBUEUgJ1wiK2UuZXNjYXBlK1wiJykgXCI6XCIgKFwiK2MoZS5sZWZ0LHIsdCxuLGEpK1wiIE5PVCBMSUtFIFwiK2MoZS5yaWdodCxyLHQsbixhKStcIikgXCI7Y2FzZVwiPD5cIjpjYXNlXCI8XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6Y2FzZVwiPD1cIjpjYXNlXCI9XCI6Y2FzZVwiKlwiOmNhc2VcIi1cIjpjYXNlXCIrXCI6Y2FzZVwiL1wiOnJldHVybiBcIiAoXCIrYyhlLmxlZnQscix0LG4sYSkrXCIgXCIrZS5vcGVyYXRvcitcIiBcIitjKGUucmlnaHQscix0LG4sYSkrXCIpIFwifXRocm93IG5ldyBFcnJvcihcIk5vdCBTdXBwb3J0ZWQgT3BlcmF0b3IgXCIrZS5vcGVyYXRvcik7Y2FzZVwibnVsbFwiOnJldHVybiBcIm51bGxcIjtjYXNlXCJib29sXCI6cmV0dXJuICEwPT09ZS52YWx1ZT9cIjFcIjpcIjBcIjtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gXCInXCIrZS52YWx1ZS50b1N0cmluZygpLnJlcGxhY2UoLycvZyxcIicnXCIpK1wiJ1wiO2Nhc2VcInRpbWVzdGFtcFwiOmNhc2VcImRhdGVcIjpyZXR1cm4gdShlLnZhbHVlLHIpO2Nhc2VcIm51bWJlclwiOnJldHVybiBlLnZhbHVlLnRvU3RyaW5nKCk7Y2FzZVwiY3VycmVudF90aW1lXCI6cmV0dXJuIGkkMShcImRhdGVcIj09PWUubW9kZSxyKTtjYXNlXCJjb2x1bW5fcmVmXCI6cmV0dXJuIG4mJm4udG9Mb3dlckNhc2UoKT09PWUuY29sdW1uLnRvTG93ZXJDYXNlKCk/XCIoXCIrYStcIilcIjplLmNvbHVtbjtjYXNlXCJmdW5jdGlvblwiOntjb25zdCBzPWMoZS5hcmdzLHIsdCxuLGEpO3JldHVybiBsKGUubmFtZSxzLHIpfX10aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBzcWwgc3ludGF4IFwiK2UudHlwZSl9ZnVuY3Rpb24gbChlLHQsbil7c3dpdGNoKGUudG9Mb3dlckNhc2UoKS50cmltKCkpe2Nhc2VcImFic1wiOmlmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhcmFtZXRlciBmb3IgY2FsbCB0byBBQlNcIik7cmV0dXJuIFwiYWJzKFwiK3RbMF0rXCIpXCI7Y2FzZVwiY2VpbGluZ1wiOmNhc2VcImNlaWxcIjppZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQYXJhbWV0ZXIgZm9yIGNhbGwgdG8gQ0VJTElOR1wiKTtzd2l0Y2gobil7Y2FzZSBvJDIuU3RhbmRhcmRpc2VkOmNhc2UgbyQyLlN0YW5kYXJkaXNlZE5vSW50ZXJ2YWw6ZGVmYXVsdDpyZXR1cm4gXCJDRUlMSU5HKFwiK3RbMF0rXCIpXCJ9Y2FzZVwiZmxvb3JcIjppZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQYXJhbWV0ZXIgZm9yIGNhbGwgdG8gRmxvb3JcIik7cmV0dXJuIFwiRkxPT1IoXCIrdFswXStcIilcIjtjYXNlXCJsb2dcIjppZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQYXJhbWV0ZXIgZm9yIGNhbGwgdG8gTE9HXCIpO3JldHVybiBcIkxPRyhcIit0WzBdK1wiKVwiO2Nhc2VcImxvZzEwXCI6aWYoMSE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUGFyYW1ldGVyIGZvciBjYWxsIHRvIExPRzEwXCIpO3JldHVybiBcIkxPRzEwKFwiK3RbMF0rXCIpXCI7Y2FzZVwicG93ZXJcIjppZigyIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQYXJhbWV0ZXIgZm9yIGNhbGwgdG8gUE9XRVJcIik7cmV0dXJuIFwiUE9XRVIoXCIrdFswXStcIixcIit0WzFdK1wiKVwiO2Nhc2VcInJvdW5kXCI6aWYoMj09PXQubGVuZ3RoKXJldHVybiBcIlJPVU5EKFwiK3RbMF0rXCIsXCIrdFsxXStcIilcIjtpZigxPT09dC5sZW5ndGgpcmV0dXJuIFwiUk9VTkQoXCIrdFswXStcIilcIjt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhcmFtZXRlciBmb3IgY2FsbCB0byBST1VORFwiKTtjYXNlXCJ0cnVuY2F0ZVwiOmlmKHQubGVuZ3RoPDF8fHQubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQYXJhbWV0ZXIgZm9yIFRSVU5DQVRFIGZ1bmN0aW9uXCIpO3N3aXRjaChuKXtjYXNlIG8kMi5TcWxTZXJ2ZXI6cmV0dXJuIFwiUk9VTkQoXCIrdFswXSsoMT09PXQubGVuZ3RoP1wiMFwiOlwiLFwiK3RbMV0pK1wiLDEpXCI7ZGVmYXVsdDpyZXR1cm4gXCJUUlVOQ0FURShcIit0WzBdKygxPT09dC5sZW5ndGg/XCIpXCI6XCIsXCIrdFsxXStcIilcIil9Y2FzZVwiY2hhcl9sZW5ndGhcIjpjYXNlXCJsZW5cIjppZigxIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBQYXJhbWV0ZXIgZm9yIENIQVJfTEVOR1RIIGZ1bmN0aW9uXCIpO3N3aXRjaChuKXtjYXNlIG8kMi5TcWxTZXJ2ZXI6cmV0dXJuIFwiTEVOKFwiK3RbMF0rXCIpXCI7Y2FzZSBvJDIuT3JhY2xlOnJldHVybiBcIkxFTkdUSChcIit0WzBdK1wiKVwiO2RlZmF1bHQ6cmV0dXJuIFwiQ0hBUl9MRU5HVEgoXCIrdFswXStcIilcIn1jYXNlXCJjb25jYXRcIjppZih0Lmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUGFyYW1ldGVyIGZvciBDT05DQVQgZnVuY3Rpb25cIik7e2xldCBlPVwiQ09OQ0FUKFwiO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKTAhPT1yJiYoZSs9XCIsXCIpLGUrPXRbcl07cmV0dXJuIGUrPVwiKVwiLGV9Y2FzZVwibG93ZXJcIjpjYXNlXCJsY2FzZVwiOmlmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhcmFtZXRlciBmb3IgTG93ZXIgZnVuY3Rpb25cIik7cmV0dXJuIFwiTE9XRVIoXCIrdFswXStcIilcIjtjYXNlXCJ1cHBlclwiOmNhc2VcInVjYXNlXCI6aWYoMSE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgUGFyYW1ldGVyIGZvciBVcHBlciBmdW5jdGlvblwiKTtyZXR1cm4gXCJVUFBFUihcIit0WzBdK1wiKVwiO2Nhc2VcInN1YnN0cmluZ1wiOntsZXQgZT1cIlwiO3N3aXRjaChuKXtjYXNlIG8kMi5PcmFjbGU6cmV0dXJuIGU9XCJTVUJTVFIoXCIrdFswXStcIixcIit0WzFdLDM9PT10Lmxlbmd0aCYmKGUrPVwiLFwiK3RbMl0pLGUrPVwiKVwiLGU7Y2FzZSBvJDIuU3FsU2VydmVyOnJldHVybiBlPTM9PT10Lmxlbmd0aD9cIlNVQlNUUklORyhcIit0WzBdK1wiLFwiK3RbMV0rXCIsXCIrdFsyXStcIilcIjpcIlNVQlNUUklORyhcIit0WzBdK1wiLCAgXCIrdFsxXStcIiwgTEVOKFwiK3RbMF0rXCIpIC0gXCIrdFsxXStcIilcIixlO2RlZmF1bHQ6cmV0dXJuIGU9XCJTVUJTVFJJTkcoXCIrdFswXStcIiBGUk9NIFwiK3RbMV0sMz09PXQubGVuZ3RoJiYoZSs9XCIgRk9SIFwiK3RbMl0pLGUrPVwiKVwiLGV9fWNhc2VcImV4dHJhY3RcIjpyZXR1cm4gXCJFWFRSQUNUKFwiK3RbMF0ucmVwbGFjZSgvXFwnL2csXCJcIikrXCIgRlJPTSBcIit0WzFdK1wiKVwifXRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIE5vdCBSZWNvZ25pc2VkXCIpfWZ1bmN0aW9uIHUodCxuKXtjb25zdCBhPWRlLk1vbWVudCh0KSxzPTA9PT1hLm1pbnV0ZSgpJiYwPT09YS5ob3VyKCkmJjA9PT1hLnNlY29uZCgpJiYwPT09YS5taWxsaXNlY29uZCgpO3N3aXRjaChuKXtjYXNlIG8kMi5GSUxFR0RCOmNhc2UgbyQyLlN0YW5kYXJkaXNlZDpjYXNlIG8kMi5TdGFuZGFyZGlzZWROb0ludGVydmFsOnJldHVybiBzP1wiZGF0ZSAnXCIrYS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpK1wiJ1wiOlwiZGF0ZSAnXCIrYS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tOnNzXCIpK1wiJ1wiO2Nhc2UgbyQyLk9yYWNsZTpyZXR1cm4gcz9cIlRPX0RBVEUoJ1wiK2EuZm9ybWF0KFwiWVlZWS1NTS1ERFwiKStcIicsJ1lZWVktTU0tREQnKVwiOlwiVE9fREFURSgnXCIrYS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tOnNzXCIpK1wiJywnWVlZWS1NTS1ERCBISDI0Ok1JOlNTJylcIjtjYXNlIG8kMi5TcWxTZXJ2ZXI6cmV0dXJuIFwiJ1wiK2EuZm9ybWF0KHM/XCJZWVlZLU1NLUREXCI6XCJZWVlZLU1NLUREIEhIOm1tOnNzXCIpK1wiJ1wiO2Nhc2UgbyQyLlBHREI6cmV0dXJuIFwiI1wiK2EuZm9ybWF0KHM/XCJNTS1ERC1ZWVlZXCI6XCJNTS1ERC1ZWVlZIEhIOm1tOnNzXCIpK1wiI1wiO2Nhc2UgbyQyLlBvc3RncmVzOnJldHVybiBcIlRJTUVTVEFNUCAnXCIrYS5mb3JtYXQocz9cIllZWVktTU0tRERcIjpcIllZWVktTU0tREQgSEg6bW06c3NcIikrXCInXCI7ZGVmYXVsdDpyZXR1cm4gXCJkYXRlICdcIithLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW06c3NcIikrXCInXCJ9fWZ1bmN0aW9uIGkkMShlLHQpe3N3aXRjaCh0KXtjYXNlIG8kMi5GSUxFR0RCOmNhc2UgbyQyLlN0YW5kYXJkaXNlZDpjYXNlIG8kMi5TdGFuZGFyZGlzZWROb0ludGVydmFsOmNhc2UgbyQyLk9yYWNsZTpyZXR1cm4gZT9cIkNVUlJFTlRfREFURVwiOlwiQ1VSUkVOVF9USU1FU1RBTVBcIjtjYXNlIG8kMi5TcWxTZXJ2ZXI6cmV0dXJuIGU/XCJDQVNUKEdFVERBVEUoKSBBUyBEQVRFKVwiOlwiR0VUREFURSgpXCI7Y2FzZSBvJDIuUEdEQjpjYXNlIG8kMi5Qb3N0Z3JlczpkZWZhdWx0OnJldHVybiBlP1wiQ1VSUkVOVF9EQVRFXCI6XCJDVVJSRU5UX1RJTUVTVEFNUFwifX1mdW5jdGlvbiBmJDEoZSxyLHQ9e30pe2NvbnN0IG49e30sYT17fSxzPXtlc3JpRmllbGRUeXBlU21hbGxJbnRlZ2VyOlwiaW50ZWdlclwiLGVzcmlGaWVsZFR5cGVJbnRlZ2VyOlwiaW50ZWdlclwiLGVzcmlGaWVsZFR5cGVTaW5nbGU6XCJkb3VibGVcIixlc3JpRmllbGRUeXBlRG91YmxlOlwiZG91YmxlXCIsZXNyaUZpZWxkVHlwZVN0cmluZzpcInN0cmluZ1wiLGVzcmlGaWVsZFR5cGVEYXRlOlwiZGF0ZVwiLGVzcmlGaWVsZFR5cGVPSUQ6XCJpbnRlZ2VyXCIsb2lkOlwiaW50ZWdlclwiLGxvbmc6XCJpbnRlZ2VyXCIsXCJzbWFsbC1pbnRlZ2VyXCI6XCJpbnRlZ2VyXCIsaW50ZWdlcjpcImludGVnZXJcIixzaW5nbGU6XCJkb3VibGVcIixkb3VibGU6XCJkb3VibGVcIixkYXRlOlwiZGF0ZVwiLHN0cmluZzpcInN0cmluZ1wifTtmb3IoY29uc3QgbyBvZiByKXtjb25zdCBlPXNbby50eXBlXTtuW28ubmFtZS50b0xvd2VyQ2FzZSgpXT12b2lkIDA9PT1lP1wiXCI6ZTt9Zm9yKGNvbnN0IG8gaW4gdCl7Y29uc3QgZT1zW3Rbb11dO2Fbby50b0xvd2VyQ2FzZSgpXT12b2lkIDA9PT1lP1wiXCI6ZTt9c3dpdGNoKGckMihuLGUucGFyc2VUcmVlLGUucGFyYW1ldGVycyxhKSl7Y2FzZVwiZG91YmxlXCI6cmV0dXJuIFwiZG91YmxlXCI7Y2FzZVwiaW50ZWdlclwiOnJldHVybiBcImludGVnZXJcIjtjYXNlXCJkb3VibGVcIjpyZXR1cm4gXCJkb3VibGVcIjtjYXNlXCJkYXRlXCI6cmV0dXJuIFwiZGF0ZVwiO2Nhc2VcInN0cmluZ1wiOnJldHVybiBcInN0cmluZ1wifXJldHVybiBcIlwifWZ1bmN0aW9uIGckMihlLHIsdCxuKXtsZXQgYTtzd2l0Y2goci50eXBlKXtjYXNlXCJpbnRlcnZhbFwiOnJldHVybiBcImludGVnZXJcIjtjYXNlXCJjYXNlX2V4cHJlc3Npb25cIjp7Y29uc3QgYT1bXTtpZihcInNpbXBsZVwiPT09ci5mb3JtYXQpe2ZvcihsZXQgcz0wO3M8ci5jbGF1c2VzLmxlbmd0aDtzKyspYS5wdXNoKGckMihlLHIuY2xhdXNlc1tzXS52YWx1ZSx0LG4pKTtudWxsIT09ci5lbHNlJiZhLnB1c2goZyQyKGUsci5lbHNlLHQsbikpO31lbHNlIHtmb3IobGV0IHM9MDtzPHIuY2xhdXNlcy5sZW5ndGg7cysrKWEucHVzaChnJDIoZSxyLmVsc2UsdCxuKSk7bnVsbCE9PXIuZWxzZSYmYS5wdXNoKGckMihlLHIuZWxzZSx0LG4pKTt9cmV0dXJuIGQkMShhKX1jYXNlXCJwYXJhbVwiOntjb25zdCBlPW5bci52YWx1ZS50b0xvd2VyQ2FzZSgpXTtpZih2b2lkIDA9PT1lJiZ0KXtjb25zdCBlPXRbci52YWx1ZS50b0xvd2VyQ2FzZSgpXTtpZih2b2lkIDA9PT1lKXJldHVybiBcIlwiO2lmKG51bGw9PT1lKXJldHVybiBcIlwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nKXJldHVybiBcInN0cmluZ1wiO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4gXCJib29sZWFuXCI7aWYoZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIFwiZGF0ZVwiO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlJTE9PTA/XCJpbnRlZ2VyXCI6XCJkb3VibGVcIn1yZXR1cm4gdm9pZCAwPT09ZT9cIlwiOmV9Y2FzZVwiZXhwcl9saXN0XCI6e2NvbnN0IGE9W107Zm9yKGNvbnN0IHMgb2Ygci52YWx1ZSlhLnB1c2goZyQyKGUscyx0LG4pKTtyZXR1cm4gYX1jYXNlXCJ1bmFyeV9leHByXCI6cmV0dXJuIFwiYm9vbGVhblwiO2Nhc2VcImJpbmFyeV9leHByXCI6c3dpdGNoKHIub3BlcmF0b3Ipe2Nhc2VcIkFORFwiOmNhc2VcIk9SXCI6cmV0dXJuIFwiYm9vbGVhblwiO2Nhc2VcIklTXCI6Y2FzZVwiSVNOT1RcIjppZihcIm51bGxcIiE9PXIucmlnaHQudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBSSFMgZm9yIElTXCIpO3JldHVybiBcImJvb2xlYW5cIjtjYXNlXCJJTlwiOmNhc2VcIk5PVCBJTlwiOmNhc2VcIkJFVFdFRU5cIjpjYXNlXCJOT1RCRVRXRUVOXCI6Y2FzZVwiTElLRVwiOmNhc2VcIk5PVCBMSUtFXCI6cmV0dXJuIFwiYm9vbGVhblwiO2Nhc2VcIjw+XCI6Y2FzZVwiPFwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmNhc2VcIjw9XCI6Y2FzZVwiPVwiOnJldHVybiBcImJvb2xlYW5cIjtjYXNlXCIqXCI6Y2FzZVwiLVwiOmNhc2VcIitcIjpjYXNlXCIvXCI6cmV0dXJuIGQkMShbZyQyKGUsci5sZWZ0LHQsbiksZyQyKGUsci5yaWdodCx0LG4pXSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJOb3QgU3VwcG9ydGVkIE9wZXJhdG9yIFwiK3Iub3BlcmF0b3IpfWNhc2VcIm51bGxcIjpyZXR1cm4gXCJcIjtjYXNlXCJib29sXCI6cmV0dXJuIFwiYm9vbGVhblwiO2Nhc2VcInN0cmluZ1wiOnJldHVybiBcInN0cmluZ1wiO2Nhc2VcIm51bWJlclwiOnJldHVybiBudWxsPT09ci52YWx1ZT9cIlwiOnIudmFsdWUlMT09MD9cImludGVnZXJcIjpcImRvdWJsZVwiO2Nhc2VcImRhdGVcIjpjYXNlXCJ0aW1lc3RhbXBcIjpjYXNlXCJjdXJyZW50X3RpbWVcIjpyZXR1cm4gXCJkYXRlXCI7Y2FzZVwiY29sdW1uX3JlZlwiOntjb25zdCB0PWVbci5jb2x1bW4udG9Mb3dlckNhc2UoKV07cmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0fWNhc2VcImZ1bmN0aW9uXCI6c3dpdGNoKHIubmFtZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJwb3NpdGlvblwiOmNhc2VcImV4dHJhY3RcIjpjYXNlXCJjaGFyX2xlbmd0aFwiOnJldHVybiBcImludGVnZXJcIjtjYXNlXCJyb3VuZFwiOnJldHVybiBhPWckMihlLHIuYXJncyx0LG4pLGEgaW5zdGFuY2VvZiBBcnJheT9hLmxlbmd0aD4wP2FbMF06XCJcIjphO2Nhc2VcInNpZ25cIjpyZXR1cm4gYT1nJDIoZSxyLmFyZ3MsdCxuKSxhIGluc3RhbmNlb2YgQXJyYXkmJihhPWQkMShhKSksXCJpbnRlZ2VyXCI9PT1hfHxcImRvdWJsZVwiPT09YT9hOlwiZG91YmxlXCI7Y2FzZVwiY2VpbGluZ1wiOmNhc2VcImZsb29yXCI6Y2FzZVwiYWJzXCI6e2NvbnN0IGE9ZyQyKGUsci5hcmdzLHQsbik7cmV0dXJuIGEgaW5zdGFuY2VvZiBBcnJheT9kJDEoYSk6YX1jYXNlXCJhcmVhXCI6Y2FzZVwibGVuZ3RoXCI6Y2FzZVwibG9nXCI6Y2FzZVwibG9nMTBcIjpjYXNlXCJzaW5cIjpjYXNlXCJjb3NcIjpjYXNlXCJ0YW5cIjpjYXNlXCJhc2luXCI6Y2FzZVwiYWNvc1wiOmNhc2VcImF0YW5cIjpjYXNlXCJwb3dlclwiOnJldHVybiBcImRvdWJsZVwiO2Nhc2VcInN1YnN0cmluZ1wiOmNhc2VcInRyaW1cIjpjYXNlXCJjb25jYXRcIjpjYXNlXCJsb3dlclwiOmNhc2VcInVwcGVyXCI6cmV0dXJuIFwic3RyaW5nXCI7Y2FzZVwidHJ1bmNhdGVcIjpyZXR1cm4gXCJkb3VibGVcIjtjYXNlXCJyb3VuZFwiOnJldHVybiBhPWckMihlLHIuYXJncyx0LG4pLGEgaW5zdGFuY2VvZiBBcnJheT9hLmxlbmd0aD4wP2FbMF06XCJcIjphfXJldHVybiBcIlwifXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHNxbCBzeW50YXggXCIrci50eXBlKX1jb25zdCBwJDE9e2Jvb2xlYW46MSxzdHJpbmc6MixpbnRlZ2VyOjMsZG91YmxlOjQsZGF0ZTo1fTtmdW5jdGlvbiBkJDEoZSl7aWYoZSl7bGV0IHI9XCJcIjtmb3IoY29uc3QgdCBvZiBlKVwiXCIhPT10JiYocj1cIlwiPT09cnx8cCQxW3JdPHAkMVt0XT90OnIpO3JldHVybiByfXJldHVybiBcIlwifWZ1bmN0aW9uIGgkMShlLHIpe3JldHVybiBtJDEoZS5wYXJzZVRyZWUscil9ZnVuY3Rpb24gRShlKXtyZXR1cm4gXCJjb2x1bW5fcmVmXCI9PT1lLnBhcnNlVHJlZS50eXBlfWZ1bmN0aW9uIG0kMShlLHIpe2lmKG51bGw9PWUpcmV0dXJuICExO3N3aXRjaChlLnR5cGUpe2Nhc2VcIndoZW5fY2xhdXNlXCI6cmV0dXJuIG0kMShlLm9wZXJhbmQscil8fG0kMShlLnZhbHVlLHIpO2Nhc2VcImNhc2VfZXhwcmVzc2lvblwiOmZvcihjb25zdCB0IG9mIGUuY2xhdXNlcylpZihtJDEodCxyKSlyZXR1cm4gITA7cmV0dXJuICEoXCJzaW1wbGVcIiE9PWUuZm9ybWF0fHwhbSQxKGUub3BlcmFuZCxyKSl8fCEobnVsbD09PWUuZWxzZXx8IW0kMShlLmVsc2UscikpO2Nhc2VcInBhcmFtXCI6cmV0dXJuICExO2Nhc2VcImV4cHJfbGlzdFwiOmZvcihjb25zdCB0IG9mIGUudmFsdWUpaWYobSQxKHQscikpcmV0dXJuICEwO3JldHVybiAhMTtjYXNlXCJ1bmFyeV9leHByXCI6cmV0dXJuIG0kMShlLmV4cHIscik7Y2FzZVwiYmluYXJ5X2V4cHJcIjpyZXR1cm4gbSQxKGUubGVmdCxyKXx8bSQxKGUucmlnaHQscik7Y2FzZVwibnVsbFwiOmNhc2VcImJvb2xcIjpjYXNlXCJkYXRlXCI6Y2FzZVwidGltZXN0YW1wXCI6Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6cmV0dXJuICExO2Nhc2VcImNvbHVtbl9yZWZcIjpyZXR1cm4gci50b0xvd2VyQ2FzZSgpPT09ZS5jb2x1bW4udG9Mb3dlckNhc2UoKTtjYXNlXCJmdW5jdGlvblwiOnJldHVybiBtJDEoZS5hcmdzLHIpfXJldHVybiAhMX1mdW5jdGlvbiBUKGUpe2xldCByPVwiXCI7cmV0dXJuIHIrPWUucGVyaW9kLnRvVXBwZXJDYXNlKCkscn1mdW5jdGlvbiB3JDEoZSxyLHQpe2xldCBuPVwiXCI7cmV0dXJuIG49XCJpbnRlcnZhbC1wZXJpb2RcIj09PXIudHlwZT9UKHIpOlQoci5zdGFydCkrXCIgVE8gXCIrVChyLmVuZCksXCJJTlRFUlZBTCBcIit0K1wiIFwiK2UrXCIgXCIrbn1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIG4kMXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2xhc3RJZD0tMSx0aGlzLl9wcm9ncmVzcz1lLHRoaXMuX3BhcmVudD10O31yZXNldCgpe3RoaXMuX2xhc3RJZD0tMTt9bmV4dEJhdGNoKGUpe2lmKG51bGwhPT10aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZSlyZXR1cm4gdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2UudGhlbigodD0+dGhpcy5uZXh0QmF0Y2goZSkpLCh0PT50aGlzLm5leHRCYXRjaChlKSkpO2NvbnN0IG49e3JldHVybnByb21pc2U6bnVsbCxoYXNzZXQ6ITF9LHM9W107cmV0dXJuIG4ucmV0dXJucHJvbWlzZT1sJDEoKCh0LGEpPT57dGhpcy5fcGFyZW50Ll9nZXRTZXQodGhpcy5fcHJvZ3Jlc3MpLnRoZW4oKGg9PntsZXQgXz1oLl9rbm93bi5sZW5ndGgtMTtpZihcIkdFVFBBR0VTXCI9PT1oLl9rbm93bltoLl9rbm93bi5sZW5ndGgtMV0mJihfLT0xKSx0aGlzLl9sYXN0SWQrZT5fJiZoLl9rbm93bi5sZW5ndGg+MCYmXCJHRVRQQUdFU1wiPT09aC5fa25vd25baC5fa25vd24ubGVuZ3RoLTFdKXRoaXMuX3BhcmVudC5fZXhwYW5kUGFnZWRTZXQoaCx0aGlzLl9wYXJlbnQuX21heFF1ZXJ5UmF0ZSgpLDAsMCx0aGlzLl9wcm9ncmVzcykudGhlbigocz0+e24uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsdGhpcy5uZXh0QmF0Y2goZSkudGhlbih0LGEpO30pLCh0PT57bi5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxhKHQpO30pKTtlbHNlIHtpZihfPj10aGlzLl9sYXN0SWQrZXx8MD09PWguX2NhbmRpZGF0ZXMubGVuZ3RoKXtmb3IobGV0IHQ9MDt0PGU7dCsrKXtjb25zdCBlPXQrdGhpcy5fbGFzdElkKzE7aWYoZT49aC5fa25vd24ubGVuZ3RoKWJyZWFrO3NbdF09aC5fa25vd25bZV07fXJldHVybiB0aGlzLl9sYXN0SWQrPXMubGVuZ3RoLDA9PT1zLmxlbmd0aCYmKG4uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsdChbXSkpLHZvaWQgdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlQmF0Y2gocyx0aGlzLl9wcm9ncmVzcykudGhlbigoZT0+e24uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsdChlKTt9KSwodD0+e24uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsYSh0KTt9KSl9dGhpcy5fcGFyZW50Ll9yZWZpbmVTZXRCbG9jayhoLHRoaXMuX3BhcmVudC5fbWF4UHJvY2Vzc2luZ1JhdGUoKSx0aGlzLl9wcm9ncmVzcykudGhlbigoKCk9PntuLmhhc3NldD0hMCx0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1udWxsLHRoaXMubmV4dEJhdGNoKGUpLnRoZW4odCxhKTt9KSwodD0+e24uaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsYSh0KTt9KSk7fX0pLCh0PT57bi5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxhKHQpO30pKTt9KSksITE9PT1uLmhhc3NldCYmKHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW4ucmV0dXJucHJvbWlzZSxuLmhhc3NldD0hMCksbi5yZXR1cm5wcm9taXNlfW5leHQoKXtpZihudWxsIT09dGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2UpcmV0dXJuIHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlLnRoZW4oKHQ9PnRoaXMubmV4dCgpKSwodD0+dGhpcy5uZXh0KCkpKTtjb25zdCBlPXtyZXR1cm5wcm9taXNlOm51bGwsaGFzc2V0OiExfTtyZXR1cm4gZS5yZXR1cm5wcm9taXNlPWwkMSgoKHQsbik9Pnt0aGlzLl9wYXJlbnQuX2dldFNldCh0aGlzLl9wcm9ncmVzcykudGhlbigocz0+e3RoaXMuX2xhc3RJZDxzLl9rbm93bi5sZW5ndGgtMT9cIkdFVFBBR0VTXCI9PT1zLl9rbm93blt0aGlzLl9sYXN0SWQrMV0/dGhpcy5fcGFyZW50Ll9leHBhbmRQYWdlZFNldChzLHRoaXMuX3BhcmVudC5fbWF4UXVlcnlSYXRlKCksMCwwLHRoaXMuX3Byb2dyZXNzKS50aGVuKCh0PT4oZS5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCx0aGlzLm5leHQoKSkpKS50aGVuKHQsbik6KHRoaXMuX2xhc3RJZCs9MSx0aGlzLl9wYXJlbnQuX2dldEZlYXR1cmUocyxzLl9rbm93blt0aGlzLl9sYXN0SWRdLHRoaXMuX3Byb2dyZXNzKS50aGVuKChuPT57ZS5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCx0KG4pO30pLCh0PT57ZS5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxuKHQpO30pKSk6cy5fY2FuZGlkYXRlcy5sZW5ndGg+MD90aGlzLl9wYXJlbnQuX3JlZmluZVNldEJsb2NrKHMsdGhpcy5fcGFyZW50Ll9tYXhQcm9jZXNzaW5nUmF0ZSgpLHRoaXMuX3Byb2dyZXNzKS50aGVuKCgoKT0+e2UuaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsdGhpcy5uZXh0KCkudGhlbih0LG4pO30pLCh0PT57ZS5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCxuKHQpO30pKTooZS5oYXNzZXQ9ITAsdGhpcy5fcGFyZW50Ll9tYWluU2V0SW5Vc2U9bnVsbCx0KG51bGwpKTt9KSwodD0+e2UuaGFzc2V0PSEwLHRoaXMuX3BhcmVudC5fbWFpblNldEluVXNlPW51bGwsbih0KTt9KSk7fSkpLCExPT09ZS5oYXNzZXQmJih0aGlzLl9wYXJlbnQuX21haW5TZXRJblVzZT1lLnJldHVybnByb21pc2UsZS5oYXNzZXQ9ITApLGUucmV0dXJucHJvbWlzZX1jb3VudCgpe3JldHVybiAtMSE9PXRoaXMuX3BhcmVudC5fdG90YWxDb3VudD94JDEodGhpcy5fcGFyZW50Ll90b3RhbENvdW50KTp0aGlzLl9wYXJlbnQuX2dldFNldCh0aGlzLl9wcm9ncmVzcykudGhlbigodD0+dGhpcy5fcmVmaW5lQWxsU2V0cyh0KSkpLnRoZW4oKHQ9Pih0aGlzLl9wYXJlbnQuX3RvdGFsQ291bnQ9dC5fa25vd24ubGVuZ3RoLHgkMSh0aGlzLl9wYXJlbnQuX3RvdGFsQ291bnQpKSkpfV9yZWZpbmVBbGxTZXRzKHQpe3JldHVybiB0Ll9rbm93bi5sZW5ndGg+MCYmXCJHRVRQQUdFU1wiPT09dC5fa25vd25bdC5fa25vd24ubGVuZ3RoLTFdP3RoaXMuX3BhcmVudC5fZXhwYW5kUGFnZWRTZXQodCx0aGlzLl9wYXJlbnQuX21heFF1ZXJ5UmF0ZSgpLDAsMSx0aGlzLl9wcm9ncmVzcykudGhlbigoZT0+dGhpcy5fcmVmaW5lQWxsU2V0cyh0KSkpLnRoZW4oKHQ9PngkMSh0KSkpOnQuX2NhbmRpZGF0ZXMubGVuZ3RoPjA/XCJHRVRQQUdFU1wiPT09dC5fa25vd25bdC5fY2FuZGlkYXRlcy5sZW5ndGgtMV0/dGhpcy5fcGFyZW50Ll9leHBhbmRQYWdlZFNldCh0LHRoaXMuX3BhcmVudC5fbWF4UXVlcnlSYXRlKCksMCwyLHRoaXMuX3Byb2dyZXNzKS50aGVuKChlPT50aGlzLl9yZWZpbmVBbGxTZXRzKHQpKSkudGhlbigodD0+eCQxKHQpKSk6dGhpcy5fcGFyZW50Ll9yZWZpbmVTZXRCbG9jayh0LHRoaXMuX3BhcmVudC5fbWF4UHJvY2Vzc2luZ1JhdGUoKSx0aGlzLl9wcm9ncmVzcykudGhlbigodD0+dC5fY2FuZGlkYXRlcy5sZW5ndGg+MD90aGlzLl9yZWZpbmVBbGxTZXRzKHQpOngkMSh0KSkpOngkMSh0KX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBzKHQpe3JldHVybiB0PSt0LGlzRmluaXRlKHQpP3QtdCUxfHwodDwwPy0wOjA9PT10P3Q6MCk6dH1mdW5jdGlvbiBpKHQpe2xldCBuPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbis9dFtlXTtyZXR1cm4gbi90Lmxlbmd0aH1mdW5jdGlvbiBvKHQpe2NvbnN0IG49aSh0KTtsZXQgZT0wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWUrPShuLXRbcl0pKioyO3JldHVybiBlL3QubGVuZ3RofWZ1bmN0aW9uIGgodCl7Y29uc3Qgbj1pKHQpO2xldCBlPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspZSs9KG4tdFtyXSkqKjI7cmV0dXJuIGUvKHQubGVuZ3RoLTEpfWZ1bmN0aW9uIGYodCl7bGV0IG49MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyluKz10W2VdO3JldHVybiBufWZ1bmN0aW9uIGckMSh0LG4pe2NvbnN0IGU9W10sYz17fSxhPVtdO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXtpZih2b2lkIDAhPT10W3NdJiZudWxsIT09dFtzXSl7Y29uc3Qgbj10W3NdO2lmKGMkMShuKXx8dSQxKG4pKXZvaWQgMD09PWNbbl0mJihlLnB1c2gobiksY1tuXT0xKTtlbHNlIHtsZXQgdD0hMTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKykhMD09PWYkMyhhW2VdLG4pJiYodD0hMCk7ITE9PT10JiYoYS5wdXNoKG4pLGUucHVzaChuKSk7fX1pZihlLmxlbmd0aD49biYmLTEhPT1uKXJldHVybiBlfXJldHVybiBlfWZ1bmN0aW9uIG0odCl7c3dpdGNoKHQudG9Mb3dlckNhc2UoKSl7Y2FzZVwiZGlzdGluY3RcIjpyZXR1cm4gXCJkaXN0aW5jdFwiO2Nhc2VcImF2Z1wiOmNhc2VcIm1lYW5cIjpyZXR1cm4gXCJhdmdcIjtjYXNlXCJtaW5cIjpyZXR1cm4gXCJtaW5cIjtjYXNlXCJzdW1cIjpyZXR1cm4gXCJzdW1cIjtjYXNlXCJtYXhcIjpyZXR1cm4gXCJtYXhcIjtjYXNlXCJzdGRldlwiOmNhc2VcInN0ZGRldlwiOnJldHVybiBcInN0ZGRldlwiO2Nhc2VcInZhclwiOmNhc2VcInZhcmlhbmNlXCI6cmV0dXJuIFwidmFyXCI7Y2FzZVwiY291bnRcIjpyZXR1cm4gXCJjb3VudFwifXJldHVybiBcIlwifWZ1bmN0aW9uIHAodCxuLGU9MWUzKXtzd2l0Y2godC50b0xvd2VyQ2FzZSgpKXtjYXNlXCJkaXN0aW5jdFwiOnJldHVybiBnJDEobixlKTtjYXNlXCJhdmdcIjpjYXNlXCJtZWFuXCI6cmV0dXJuIGkobik7Y2FzZVwibWluXCI6cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsbik7Y2FzZVwic3VtXCI6cmV0dXJuIGYobik7Y2FzZVwibWF4XCI6cmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsbik7Y2FzZVwic3RkZXZcIjpjYXNlXCJzdGRkZXZcIjpyZXR1cm4gTWF0aC5zcXJ0KG8obikpO2Nhc2VcInZhclwiOmNhc2VcInZhcmlhbmNlXCI6cmV0dXJuIG8obik7Y2FzZVwiY291bnRcIjpyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gZCh0LG4sZSl7cmV0dXJuIHEodCxuLGUsITApLnRoZW4oKHQ9PjA9PT10Lmxlbmd0aD9udWxsOk1hdGgubWluLmFwcGx5KE1hdGgsdCkpKX1mdW5jdGlvbiB2JDEodCxuLGUpe3JldHVybiBxKHQsbixlLCEwKS50aGVuKCh0PT4wPT09dC5sZW5ndGg/bnVsbDpNYXRoLm1heC5hcHBseShNYXRoLHQpKSl9ZnVuY3Rpb24gTSh0LG4sZSl7bGV0IHI9XCJcIjtyZXR1cm4gITE9PT1FKG4pJiYocj1mJDEobix0LmZpZWxkcyxudWxsKSkscSh0LG4sZSwhMCkudGhlbigodD0+e2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBuPWkodCk7cmV0dXJuIG51bGw9PT1uP246XCJpbnRlZ2VyXCI9PT1yP3Mobik6bn0pKX1mdW5jdGlvbiB4KHQsbixlKXtyZXR1cm4gcSh0LG4sZSwhMCkudGhlbigodD0+MD09PXQubGVuZ3RoP251bGw6aCh0KSkpfWZ1bmN0aW9uIHkodCxuLGUpe3JldHVybiBxKHQsbixlLCEwKS50aGVuKCh0PT4wPT09dC5sZW5ndGg/bnVsbDpNYXRoLnNxcnQoaCh0KSkpKX1mdW5jdGlvbiBqKHQsbixlKXtyZXR1cm4gcSh0LG4sZSwhMCkudGhlbigodD0+MD09PXQubGVuZ3RoP251bGw6Zih0KSkpfWZ1bmN0aW9uIHcobixlKXt0cnl7cmV0dXJuIG4uaXRlcmF0b3IoZSkuY291bnQoKX1jYXRjaChyKXtyZXR1cm4gTCQxKHIpfX1mdW5jdGlvbiBxKGUscix1LGw9ITEpe3RyeXtjb25zdCB0PWUuaXRlcmF0b3IodSk7cmV0dXJuIGwkMSgoKG4sZSk9PntVKHQsW10scixsLG4sZSk7fSkpfWNhdGNoKGMpe3JldHVybiBMJDEoYyl9fWZ1bmN0aW9uIFUodCxuLHIsdSxsLGMpe2hlKHQubmV4dCgpLnRoZW4oKGU9Pnt0cnl7aWYobnVsbCE9PWUpe2NvbnN0IGE9ci5jYWxjdWxhdGVWYWx1ZShlKTtyZXR1cm4gbnVsbD09PWE/ITE9PT11JiYobltuLmxlbmd0aF09YSk6bltuLmxlbmd0aF09YSxVKHQsbixyLHUsbCxjKX1sKG4pO31jYXRjaChhKXtjKGEpO319KSxjKSk7fWZ1bmN0aW9uIEModCxuLGU9MWUzLHI9bnVsbCl7cmV0dXJuIEwodCxuLGUscil9ZnVuY3Rpb24gTChuLGUscix1KXt0cnl7cmV0dXJuIFYobi5pdGVyYXRvcih1KSx7fSxbXSxlLHIpfWNhdGNoKGwpe3JldHVybiBMJDEobCl9fWZ1bmN0aW9uIFYodCxuLGUscix1KXtyZXR1cm4gdC5uZXh0KCkudGhlbigobD0+e2lmKG51bGwhPT1sKXtjb25zdCBjPXIuY2FsY3VsYXRlVmFsdWUobCk7cmV0dXJuIG51bGwhPWMmJnZvaWQgMD09PW5bY10mJihlLnB1c2goYyksbltjXT0xKSxlLmxlbmd0aD49dSYmLTEhPT11P2U6Vih0LG4sZSxyLHUpfXJldHVybiBlfSkpfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3Mgdntjb25zdHJ1Y3RvcihlKXt0aGlzLnJlY2VudGx5VXNlZFF1ZXJpZXM9bnVsbCx0aGlzLmZlYXR1cmVTZXRRdWVyeUludGVyY2VwdG9yPW51bGwsdGhpcy5faWRzdGF0ZXM9W10sdGhpcy5fcGFyZW50PW51bGwsdGhpcy5fd3NldD1udWxsLHRoaXMuX21haW5TZXRJblVzZT1udWxsLHRoaXMuX21heFByb2Nlc3Npbmc9MjAwLHRoaXMuX21heFF1ZXJ5PTUwMCx0aGlzLl90b3RhbENvdW50PS0xLHRoaXMuX2RhdGFiYXNlVHlwZT1vJDIuTm90RXZhbHVhdGVkLHRoaXMuX2RhdGFiYXNlVHlwZVByb2JlZD1udWxsLHRoaXMuZGVjbGFyZWRSb290Q2xhc3M9XCJlc3JpLmFyY2FkZS5mZWF0dXJlc2V0LnN1cHBvcnQuRmVhdHVyZVNldFwiLHRoaXMuX2ZlYXR1cmVDYWNoZT1bXSx0aGlzLnR5cGVzPW51bGwsdGhpcy5maWVsZHM9bnVsbCx0aGlzLmdlb21ldHJ5VHlwZT1cIlwiLHRoaXMub2JqZWN0SWRGaWVsZD1cIlwiLHRoaXMuZ2xvYmFsSWRGaWVsZD1cIlwiLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsLHRoaXMuaGFzTT0hMSx0aGlzLmhhc1o9ITEsdGhpcy5fdHJhbnNwYXJlbnQ9ITEsdGhpcy5sb2FkZWQ9ITEsdGhpcy5fbG9hZFByb21pc2U9bnVsbCx0aGlzLl9maWVsZHNJbmRleD1udWxsLGUmJmUubHJ1Y2FjaGUmJih0aGlzLnJlY2VudGx5VXNlZFF1ZXJpZXM9ZS5scnVjYWNoZSksZSYmZS5pbnRlcmNlcHRvciYmKHRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3I9ZS5pbnRlcmNlcHRvcik7fW9wdGltaXNlUGFnaW5nRmVhdHVyZVF1ZXJpZXMoZSl7dGhpcy5fcGFyZW50JiZ0aGlzLl9wYXJlbnQub3B0aW1pc2VQYWdpbmdGZWF0dXJlUXVlcmllcyhlKTt9X2hhc01lbW9yeVNvdXJjZSgpe3JldHVybiAhMH1wcm9wKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpc1tlXToodm9pZCAwIT09dGhpc1tlXSYmKHRoaXNbZV09dCksdGhpcyl9ZW5kKCl7cmV0dXJuIG51bGwhPT10aGlzLl9wYXJlbnQmJiEwPT09dGhpcy5fcGFyZW50Ll90cmFuc3BhcmVudD90aGlzLl9wYXJlbnQuZW5kKCk6dGhpcy5fcGFyZW50fV9lbnN1cmVMb2FkZWQoKXtyZXR1cm4gdGhpcy5sb2FkKCl9bG9hZCgpe3JldHVybiBudWxsPT09dGhpcy5fbG9hZFByb21pc2UmJih0aGlzLl9sb2FkUHJvbWlzZT1sJDEoKChlLHQpPT57aWYoITA9PT10aGlzLl9wYXJlbnQubG9hZGVkKXJldHVybiB0aGlzLl9pbml0aWFsaXNlRmVhdHVyZVNldCgpLHZvaWQgZSh0aGlzKTt0aGlzLl9wYXJlbnQubG9hZCgpLnRoZW4oKCgpPT57dHJ5e3RoaXMuX2luaXRpYWxpc2VGZWF0dXJlU2V0KCksZSh0aGlzKTt9Y2F0Y2gocil7dChyKTt9fSksdCk7fSkpKSx0aGlzLl9sb2FkUHJvbWlzZX1faW5pdGlhbGlzZUZlYXR1cmVTZXQoKXtudWxsIT09dGhpcy5fcGFyZW50Pyh0aGlzLmZpZWxkcz10aGlzLl9wYXJlbnQuZmllbGRzLnNsaWNlKDApLHRoaXMuZ2VvbWV0cnlUeXBlPXRoaXMuX3BhcmVudC5nZW9tZXRyeVR5cGUsdGhpcy5vYmplY3RJZEZpZWxkPXRoaXMuX3BhcmVudC5vYmplY3RJZEZpZWxkLHRoaXMuZ2xvYmFsSWRGaWVsZD10aGlzLl9wYXJlbnQuZ2xvYmFsSWRGaWVsZCx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fcGFyZW50LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5oYXNNPXRoaXMuX3BhcmVudC5oYXNNLHRoaXMuaGFzWj10aGlzLl9wYXJlbnQuaGFzWix0aGlzLnR5cGVJZEZpZWxkPXRoaXMuX3BhcmVudC50eXBlSWRGaWVsZCx0aGlzLnR5cGVzPXRoaXMuX3BhcmVudC50eXBlcyk6KHRoaXMuZmllbGRzPVtdLHRoaXMudHlwZUlkRmllbGQ9XCJcIix0aGlzLm9iamVjdElkRmllbGQ9XCJcIix0aGlzLmdsb2JhbElkRmllbGQ9XCJcIix0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bmV3IGsoe3draWQ6NDMyNn0pLHRoaXMuZ2VvbWV0cnlUeXBlPUkucG9pbnQpO31nZXRGaWVsZChlLHQpe2xldCByO3JldHVybiAodD10fHx0aGlzLmZpZWxkcykmJihlPWUudG9Mb3dlckNhc2UoKSx0LnNvbWUoKHQ9Pih0JiZ0Lm5hbWUudG9Mb3dlckNhc2UoKT09PWUmJihyPXQpLCEhcikpKSkscn1nZXRGaWVsZHNJbmRleCgpe3JldHVybiBudWxsPT09dGhpcy5fZmllbGRzSW5kZXgmJih0aGlzLl9maWVsZHNJbmRleD1uZXcgZSh0aGlzLmZpZWxkcykpLHRoaXMuX2ZpZWxkc0luZGV4fV9tYXhQcm9jZXNzaW5nUmF0ZSgpe3JldHVybiBudWxsIT09dGhpcy5fcGFyZW50P01hdGgubWluKHRoaXMuX21heFByb2Nlc3NpbmcsdGhpcy5fcGFyZW50Ll9tYXhQcm9jZXNzaW5nUmF0ZSgpKTpNYXRoLm1pbih0aGlzLl9tYXhQcm9jZXNzaW5nLHRoaXMuX21heFF1ZXJ5UmF0ZSgpKX1fbWF4UXVlcnlSYXRlKCl7cmV0dXJuIG51bGwhPT10aGlzLl9wYXJlbnQ/TWF0aC5tYXgodGhpcy5fbWF4UXVlcnksdGhpcy5fcGFyZW50Ll9tYXhRdWVyeVJhdGUoKSk6dGhpcy5fbWF4UXVlcnl9X2NoZWNrQ2FuY2VsbGVkKGUpe2lmKG51bGwhPT1lJiZlLmFib3J0ZWQpdGhyb3cgbmV3IEVycm9yKFwiT3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZC5cIil9bmF0aXZlQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5uYXRpdmVDYXBhYmlsaXRpZXMoKX1fY2FuRG9BZ2dyZWdhdGVzKGUscixuLHMsaSl7cmV0dXJuIG51bGw9PT10aGlzLl9wYXJlbnQ/eCQxKCExKTp0aGlzLl9wYXJlbnQuX2NhbkRvQWdncmVnYXRlcyhlLHIsbixzLGkpfV9nZXRBZ2dyZWdhdGVQYWdlc0RhdGFTb3VyY2VEZWZpbml0aW9uKGUsdCxuLHMsaSxhLGgpe3JldHVybiBudWxsPT09dGhpcy5fcGFyZW50P0wkMShuZXcgRXJyb3IoXCJTaG91bGQgbmV2ZXIgYmUgY2FsbGVkXCIpKTp0aGlzLl9wYXJlbnQuX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSx0LG4scyxpLGEsaCl9X2dldEFncmVnYWd0ZVBoeXNpY2FsUGFnZShlLHQsbil7cmV0dXJuIG51bGw9PT10aGlzLl9wYXJlbnQ/TCQxKG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBiZSBjYWxsZWRcIikpOnRoaXMuX3BhcmVudC5fZ2V0QWdyZWdhZ3RlUGh5c2ljYWxQYWdlKGUsdCxuKX1kYXRhYmFzZVR5cGUoKXtpZih0aGlzLl9kYXRhYmFzZVR5cGU9PT1vJDIuTm90RXZhbHVhdGVkKXtpZihudWxsIT09YSQxLmFwcGxpY2F0aW9uQ2FjaGUpe2NvbnN0IGU9YSQxLmFwcGxpY2F0aW9uQ2FjaGUuZ2V0RGF0YWJhc2VUeXBlKHRoaXMuX2NhY2hlYWJsZUZlYXR1cmVTZXRTb3VyY2VLZXkoKSk7aWYobnVsbCE9PWUpcmV0dXJuIGV9aWYobnVsbCE9PXRoaXMuX2RhdGFiYXNlVHlwZVByb2JlZClyZXR1cm4gdGhpcy5fZGF0YWJhc2VUeXBlUHJvYmVkO2NvbnN0IHQ9W3t0aGV0eXBlOm8kMi5TcWxTZXJ2ZXIsdGVzdHdoZXJlOlwiKENBU1QoICcyMDE1LTAxLTAxJyBhcyBEQVRFVElNRSkgPSBDQVNUKCAnMjAxNS0wMS0wMScgYXMgREFURVRJTUUpKSBBTkQgT0JKRUNUSUQ8MFwifSx7dGhldHlwZTpvJDIuT3JhY2xlLHRlc3R3aGVyZTpcIihUT19EQVRFKCcyMDAzLTExLTE4JywnWVlZWS1NTS1ERCcpID0gVE9fREFURSgnMjAwMy0xMS0xOCcsJ1lZWVktTU0tREQnKSkgQU5EIE9CSkVDVElEPDBcIn0se3RoZXR5cGU6byQyLlN0YW5kYXJkaXNlZE5vSW50ZXJ2YWwsdGVzdHdoZXJlOlwiKGRhdGUgJzIwMTUtMDEtMDEgMTA6MTA6MTAnID0gZGF0ZSAnMjAxNS0wMS0wMSAxMDoxMDoxMCcpIEFORCBPQkpFQ1RJRDwwXCJ9XTtsZXQgcj1sJDEoKChlLHIpPT57dGhpcy5fZ2V0RGF0YWJhc2VUeXBlSW1wbCh0LDApLnRoZW4oKHQ9Pnt0aGlzLl9kYXRhYmFzZVR5cGU9dCxlKHRoaXMuX2RhdGFiYXNlVHlwZSk7fSksKGU9PntyKGUpO30pKTt9KSk7cmV0dXJuIG51bGwhPT1hJDEuYXBwbGljYXRpb25DYWNoZSYmKGEkMS5hcHBsaWNhdGlvbkNhY2hlLnNldERhdGFiYXNlVHlwZSh0aGlzLl9jYWNoZWFibGVGZWF0dXJlU2V0U291cmNlS2V5KCkscikscj1yLmNhdGNoKChlPT57dGhyb3cgYSQxLmFwcGxpY2F0aW9uQ2FjaGUuY2xlYXJEYXRhYmFzZVR5cGUodGhpcy5fY2FjaGVhYmxlRmVhdHVyZVNldFNvdXJjZUtleSgpKSxlfSkpKSx0aGlzLl9kYXRhYmFzZVR5cGVQcm9iZWQ9cix0aGlzLl9kYXRhYmFzZVR5cGVQcm9iZWR9cmV0dXJuIHgkMSh0aGlzLl9kYXRhYmFzZVR5cGUpfV9jYWNoZWFibGVGZWF0dXJlU2V0U291cmNlS2V5KCl7cmV0dXJuIFwiTVVTVEJFU0VUXCJ9X2dldERhdGFiYXNlVHlwZUltcGwoZSxyKXtyZXR1cm4gcj49ZS5sZW5ndGg/eCQxKG8kMi5TdGFuZGFyZGlzZWROb0ludGVydmFsKTp0aGlzLl9ydW5EYXRhYmFzZVByb2JlKGVbcl0udGVzdHdoZXJlKS50aGVuKCh0PT4hMD09PXQ/ZVtyXS50aGV0eXBlOnRoaXMuX2dldERhdGFiYXNlVHlwZUltcGwoZSxyKzEpKSl9X3J1bkRhdGFiYXNlUHJvYmUoZSl7cmV0dXJuIG51bGwhPT10aGlzLl9wYXJlbnQ/dGhpcy5fcGFyZW50Ll9ydW5EYXRhYmFzZVByb2JlKGUpOkwkMShuZXcgRXJyb3IoXCJOb3QgSW1wbGVtZW50ZWRcIikpfWlzVGFibGUoKXtyZXR1cm4gdGhpcy5fcGFyZW50LmlzVGFibGUoKX1fZmVhdHVyZUZyb21DYWNoZShlKXtpZih2b2lkIDAhPT10aGlzLl9mZWF0dXJlQ2FjaGVbZV0pcmV0dXJuIHRoaXMuX2ZlYXR1cmVDYWNoZVtlXX1faXNJbkZlYXR1cmVTZXQoZSl7cmV0dXJuIGwkMi5Vbmtub3dufV9nZXRTZXQoZSl7dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIGluIGFic3RyYWN0IGNsYXNzXCIpfV9nZXRGZWF0dXJlKGUsbixzKXt0cnl7cmV0dXJuIHRoaXMuX2NoZWNrQ2FuY2VsbGVkKHMpLHZvaWQgMCE9PXRoaXMuX2ZlYXR1cmVGcm9tQ2FjaGUobik/eCQxKHRoaXMuX2ZlYXR1cmVGcm9tQ2FjaGUobikpOnRoaXMuX2dldEZlYXR1cmVzKGUsbix0aGlzLl9tYXhQcm9jZXNzaW5nUmF0ZSgpLHMpLnRoZW4oKCgpPT4odGhpcy5fY2hlY2tDYW5jZWxsZWQocyksdm9pZCAwIT09dGhpcy5fZmVhdHVyZUZyb21DYWNoZShuKT90aGlzLl9mZWF0dXJlRnJvbUNhY2hlKG4pOkwkMShuZXcgRXJyb3IoXCJGZWF0dXJlIE5vdCBGb3VuZFwiKSkpKSl9Y2F0Y2goaSl7cmV0dXJuIEwkMShpKX19X2dldEZlYXR1cmVCYXRjaChlLHQkMSl7dHJ5e3RoaXMuX2NoZWNrQ2FuY2VsbGVkKHQkMSk7Y29uc3Qgcj1uZXcgdChbXSxlLCExLG51bGwpLG49W107cmV0dXJuIHRoaXMuX2dldEZlYXR1cmVzKHIsLTEsZS5sZW5ndGgsdCQxKS50aGVuKCgoKT0+e3RoaXMuX2NoZWNrQ2FuY2VsbGVkKHQkMSk7Zm9yKGNvbnN0IHQgb2YgZSl2b2lkIDAhPT10aGlzLl9mZWF0dXJlRnJvbUNhY2hlKHQpJiZuLnB1c2godGhpcy5fZmVhdHVyZUZyb21DYWNoZSh0KSk7cmV0dXJuIG59KSl9Y2F0Y2gobil7cmV0dXJuIEwkMShuKX19X2dldEZlYXR1cmVzKGUscixuLHMpe3JldHVybiB4JDEoXCJzdWNjZXNzXCIpfV9nZXRGaWx0ZXJlZFNldChlLHQscixuLHMpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCBpbiBhYnN0cmFjdCBjbGFzc1wiKX1fcmVmaW5lU2V0QmxvY2soZSxuLHMpe3RyeXtpZighMD09PXRoaXMuX2NoZWNrSWZOZWVkVG9FeHBhbmRDYW5kaWRhdGVQYWdlKGUsdGhpcy5fbWF4UXVlcnlSYXRlKCkpKXJldHVybiB0aGlzLl9leHBhbmRQYWdlZFNldChlLHRoaXMuX21heFF1ZXJ5UmF0ZSgpLDAsMCxzKS50aGVuKCgoKT0+dGhpcy5fcmVmaW5lU2V0QmxvY2soZSxuLHMpKSk7dGhpcy5fY2hlY2tDYW5jZWxsZWQocyk7Y29uc3Qgcj1lLl9jYW5kaWRhdGVzLmxlbmd0aDt0aGlzLl9yZWZpbmVLbm93bnMoZSxuKTtsZXQgaT1yLWUuX2NhbmRpZGF0ZXMubGVuZ3RoO3JldHVybiAwPT09ZS5fY2FuZGlkYXRlcy5sZW5ndGh8fGk+PW4/eCQxKGUpOnRoaXMuX3JlZmluZUlmUGFyZW50S25vd24oZSxuLWkscykudGhlbigoKCk9PntpZih0aGlzLl9jaGVja0NhbmNlbGxlZChzKSx0aGlzLl9yZWZpbmVLbm93bnMoZSxuLWkpLGk9ci1lLl9jYW5kaWRhdGVzLmxlbmd0aCxpPG4mJmUuX2NhbmRpZGF0ZXMubGVuZ3RoPjApe2NvbnN0IHQ9bi1pLHI9dGhpcy5fcHJlcGFyZUZldGNoQW5kUmVmaW5lU2V0KGUuX2NhbmRpZGF0ZXMpO3JldHVybiB0aGlzLl9mZXRjaEFuZFJlZmluZUZlYXR1cmVzKHIsci5sZW5ndGg+dD90OmUuX2NhbmRpZGF0ZXMubGVuZ3RoLHMpLnRoZW4oKCgpPT4odGhpcy5fY2hlY2tDYW5jZWxsZWQocyksdGhpcy5fcmVmaW5lS25vd25zKGUsbi1pKSxlKSkpfXJldHVybiBlfSkpfWNhdGNoKGkpe3JldHVybiBMJDEoaSl9fV9mZXRjaEFuZFJlZmluZUZlYXR1cmVzKGUsdCxyKXtyZXR1cm4gbnVsbH1fcHJlcGFyZUZldGNoQW5kUmVmaW5lU2V0KGUpe2NvbnN0IHQ9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5faXNQaHlzaWNhbEZlYXR1cmUoZVtyXSkmJnQucHVzaChlW3JdKTtyZXR1cm4gdH1faXNQaHlzaWNhbEZlYXR1cmUoZSl7cmV0dXJuIG51bGw9PT10aGlzLl9wYXJlbnR8fHRoaXMuX3BhcmVudC5faXNQaHlzaWNhbEZlYXR1cmUoZSl9X3JlZmluZUtub3ducyhlLHQpe2xldCByPTAsbj1udWxsO2NvbnN0IHM9W107dD10aGlzLl9tYXhRdWVyeVJhdGUoKTtmb3IobGV0IGk9MDtpPGUuX2NhbmRpZGF0ZXMubGVuZ3RoJiZcIkdFVFBBR0VTXCIhPT1lLl9jYW5kaWRhdGVzW2ldO2krKyl7bGV0IGE9ITE7Y29uc3QgbD10aGlzLl9jYW5kaWRhdGVJZFRyYW5zZm9ybShlLl9jYW5kaWRhdGVzW2ldKTtsIT09ZS5fY2FuZGlkYXRlc1tpXSYmKGE9ITApO2NvbnN0IHU9dGhpcy5faXNJbkZlYXR1cmVTZXQobCk7aWYodT09PWwkMi5JbkZlYXR1cmVTZXQpITA9PT1hP2UuX2tub3duLmluZGV4T2YobCk8MCYmKGUuX2tub3duLnB1c2gobCkscis9MSk6KGUuX2tub3duLnB1c2goZS5fY2FuZGlkYXRlc1tpXSkscis9MSksbnVsbD09PW4/bj17c3RhcnQ6aSxlbmQ6aX06bi5lbmQ9PT1pLTE/bi5lbmQ9aToocy5wdXNoKG4pLG49e3N0YXJ0OmksZW5kOml9KTtlbHNlIGlmKHU9PT1sJDIuTm90SW5GZWF0dXJlU2V0KW51bGw9PT1uP249e3N0YXJ0OmksZW5kOml9Om4uZW5kPT09aS0xP24uZW5kPWk6KHMucHVzaChuKSxuPXtzdGFydDppLGVuZDppfSkscis9MTtlbHNlIGlmKHU9PT1sJDIuVW5rbm93biYmKHIrPTEsITA9PT1lLl9vcmRlcmVkKSlicmVhaztpZihyPj10KWJyZWFrfW51bGwhPT1uJiZzLnB1c2gobik7Zm9yKGxldCBpPXMubGVuZ3RoLTE7aT49MDtpLS0pZS5fY2FuZGlkYXRlcy5zcGxpY2Uoc1tpXS5zdGFydCxzW2ldLmVuZC1zW2ldLnN0YXJ0KzEpO31fcmVmaW5lSWZQYXJlbnRLbm93bihlLHQkMSxyKXtjb25zdCBuPW5ldyB0KFtdLFtdLGUuX29yZGVyZWQsbnVsbCk7cmV0dXJuIG4uX2NhbmRpZGF0ZXM9ZS5fY2FuZGlkYXRlcy5zbGljZSgwKSx0aGlzLl9wYXJlbnQuX3JlZmluZVNldEJsb2NrKG4sdCQxLHIpfV9jYW5kaWRhdGVJZFRyYW5zZm9ybShlKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9jYW5kaWRhdGVJZFRyYW5zZm9ybShlKX1fY2hlY2tJZk5lZWRUb0V4cGFuZEtub3duUGFnZShlLHQpe2lmKG51bGw9PT1lLnBhZ2VzRGVmaW5pdGlvbilyZXR1cm4gITE7bGV0IHI9MDtmb3IobGV0IG49ZS5fbGFzdEZldGNoZWRJbmRleDtuPGUuX2tub3duLmxlbmd0aDtuKyspe2lmKFwiR0VUUEFHRVNcIj09PWUuX2tub3duW25dKXJldHVybiAhMDtpZih2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbZS5fa25vd25bbl1dJiYocis9MSxyPj10KSlicmVha31yZXR1cm4gITF9X2NoZWNrSWZOZWVkVG9FeHBhbmRDYW5kaWRhdGVQYWdlKGUsdCl7aWYobnVsbD09PWUucGFnZXNEZWZpbml0aW9uKXJldHVybiAhMTtsZXQgcj0wO2ZvcihsZXQgbj0wO248ZS5fY2FuZGlkYXRlcy5sZW5ndGg7bisrKXtpZihcIkdFVFBBR0VTXCI9PT1lLl9jYW5kaWRhdGVzW25dKXJldHVybiAhMDtpZihyKz0xLHI+PXQpYnJlYWt9cmV0dXJuICExfV9leHBhbmRQYWdlZFNldChlLHQsbixzLGkpe3JldHVybiBudWxsPT09dGhpcy5fcGFyZW50P0wkMShuZXcgRXJyb3IoXCJQYXJlbnQgUGFnaW5nIG5vdCBpbXBsZW1lbnRlZFwiKSk6dGhpcy5fcGFyZW50Ll9leHBhbmRQYWdlZFNldChlLHQsbixzLGkpfV9leHBhbmRQYWdlZFNldEZlYXR1cmVTZXQoZSxyLG4scyxpKXtyZXR1cm4gZS5fa25vd24ubGVuZ3RoPjAmJlwiR0VUUEFHRVNcIj09PWUuX2tub3duW2UuX2tub3duLmxlbmd0aC0xXSYmKHM9MSksMD09PXMmJmUuX2NhbmRpZGF0ZXMubGVuZ3RoPjAmJlwiR0VUUEFHRVNcIj09PWUuX2NhbmRpZGF0ZXNbZS5fY2FuZGlkYXRlcy5sZW5ndGgtMV0mJihzPTIpLDA9PT1zP3gkMShcImZpbmlzaGVkXCIpOnRoaXMuX2dldFBhZ2UoZSxzLGkpLnRoZW4oKHQ9Pm4rdDxyP3RoaXMuX2V4cGFuZFBhZ2VkU2V0KGUscixuK3QsMCxpKTpcInN1Y2Nlc3NcIikpfV9nZXRQYWdlKGUscixuKXtjb25zdCBzPTE9PT1yP2UuX2tub3duOmUuX2NhbmRpZGF0ZXM7aWYoZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuc2V0Lmxlbmd0aD5lLnBhZ2VzRGVmaW5pdGlvbi5yZXN1bHRPZmZzZXR8fCEwPT09ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuZnVsbHlSZXNvbHZlZCl7cy5sZW5ndGg9cy5sZW5ndGgtMTtsZXQgcj0wO2ZvcihsZXQgdD0wO3Q8ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0UmVjb3JkQ291bnQmJiEoZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0K3Q+PWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLnNldC5sZW5ndGgpO3QrKylzW3MubGVuZ3RoXT1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5zZXRbZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0K3RdLHIrKztlLnBhZ2VzRGVmaW5pdGlvbi5yZXN1bHRPZmZzZXQrPXI7bGV0IG49ITE7cmV0dXJuICEwPT09ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuZnVsbHlSZXNvbHZlZCYmZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuc2V0Lmxlbmd0aDw9ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0JiYobj0hMCksITE9PT1uJiZzLnB1c2goXCJHRVRQQUdFU1wiKSx4JDEocil9cmV0dXJuIHRoaXMuX2dldFBoeXNpY2FsUGFnZShlLHIsbikudGhlbigoKCk9PnRoaXMuX2dldFBhZ2UoZSxyLG4pKSl9X2dldFBoeXNpY2FsUGFnZShlLHQscil7cmV0dXJuIG51bGx9X2Nsb25lUGFnZURlZmluaXRpb24oZSl7cmV0dXJuIG51bGw9PT10aGlzLl9wYXJlbnQ/bnVsbDp0aGlzLl9wYXJlbnQuX2Nsb25lUGFnZURlZmluaXRpb24oZSl9X2ZpcnN0KGUpe3JldHVybiB0aGlzLml0ZXJhdG9yKGUpLm5leHQoKX1maXJzdChlKXtyZXR1cm4gdGhpcy5fZmlyc3QoZSl9Y2FsY3VsYXRlU3RhdGlzdGljKGUsdCxyLG4pe3JldHVybiB0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5fc3RhdChlLHQsXCJcIixudWxsLG51bGwscixuKS50aGVuKChzPT4hMT09PXMuY2FsY3VsYXRlZD90aGlzLl9tYW51YWxTdGF0KGUsdCxyLG4pLnRoZW4oKGU9PmUucmVzdWx0KSk6cy5yZXN1bHQpKSkpfV9tYW51YWxTdGF0KGUscixuLHMpe3N3aXRjaChlLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImNvdW50XCI6cmV0dXJuIHcodGhpcyxzKS50aGVuKChlPT4oe2NhbGN1bGF0ZWQ6ITAscmVzdWx0OmV9KSkpO2Nhc2VcImRpc3RpbmN0XCI6cmV0dXJuIEModGhpcyxyLG4pLnRoZW4oKGU9Pih7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6ZX0pKSk7Y2FzZVwiYXZnXCI6Y2FzZVwibWVhblwiOnJldHVybiBNKHRoaXMscixzKS50aGVuKChlPT4oe2NhbGN1bGF0ZWQ6ITAscmVzdWx0OmV9KSkpO2Nhc2VcInN0ZGV2XCI6cmV0dXJuIHkodGhpcyxyLHMpLnRoZW4oKGU9Pih7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6ZX0pKSk7Y2FzZVwidmFyaWFuY2VcIjpyZXR1cm4geCh0aGlzLHIscykudGhlbigoZT0+KHtjYWxjdWxhdGVkOiEwLHJlc3VsdDplfSkpKTtjYXNlXCJzdW1cIjpyZXR1cm4gaih0aGlzLHIscykudGhlbigoZT0+KHtjYWxjdWxhdGVkOiEwLHJlc3VsdDplfSkpKTtjYXNlXCJtaW5cIjpyZXR1cm4gZCh0aGlzLHIscykudGhlbigoZT0+KHtjYWxjdWxhdGVkOiEwLHJlc3VsdDplfSkpKTtjYXNlXCJtYXhcIjpyZXR1cm4gdiQxKHRoaXMscixzKS50aGVuKChlPT4oe2NhbGN1bGF0ZWQ6ITAscmVzdWx0OmV9KSkpO2RlZmF1bHQ6cmV0dXJuIHgkMSh7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6MH0pfX1fc3RhdChlLHQscixuLHMsaSxhKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9zdGF0KGUsdCxyLG4scyxpLGEpLnRoZW4oKGg9PiExPT09aC5jYWxjdWxhdGVkP251bGw9PT1zJiZcIlwiPT09ciYmbnVsbD09PW4/dGhpcy5fbWFudWFsU3RhdChlLHQsaSxhKTp7Y2FsY3VsYXRlZDohMX06aCkpfV91bmlvbkFsbEdlb21TZWxmKHQpe2NvbnN0IHI9dGhpcy5pdGVyYXRvcih0aGlzLl9kZWZhdWx0VHJhY2tlcih0KSksbj1bXTtyZXR1cm4gbCQxKCgoZSx0KT0+e3RoaXMuX3VuaW9uU2hhcGVJbkJhdGNoZXMobixyLGUsdCk7fSkpfV91bmlvbkFsbEdlb20odCl7cmV0dXJuIGwkMSgoKGUscik9Pntjb25zdCBuPXRoaXMuaXRlcmF0b3IodGhpcy5fZGVmYXVsdFRyYWNrZXIodCkpLHM9W107dGhpcy5fdW5pb25TaGFwZUluQmF0Y2hlcyhzLG4sZSxyKTt9KSl9X3VuaW9uU2hhcGVJbkJhdGNoZXMoZSx0LHIsbil7dC5uZXh0KCkudGhlbigocz0+e3RyeXtudWxsIT09cyYmbnVsbCE9PXMuZ2VvbWV0cnkmJmUucHVzaChzLmdlb21ldHJ5KSxlLmxlbmd0aD4zMHx8bnVsbD09PXMmJmUubGVuZ3RoPjE/ayQxKGUpLnRoZW4oKGk9Pnt0cnl7bnVsbD09PXM/cihpKTooZT1baV0sdGhpcy5fdW5pb25TaGFwZUluQmF0Y2hlcyhlLHQscixuKSk7fWNhdGNoKGEpe24oYSk7fX0pLG4pOm51bGw9PT1zPzE9PT1lLmxlbmd0aD9yKGVbMF0pOnIobnVsbCk6dGhpcy5fdW5pb25TaGFwZUluQmF0Y2hlcyhlLHQscixuKTt9Y2F0Y2goaSl7bihpKTt9fSksbik7fWl0ZXJhdG9yKGUpe3JldHVybiBuZXcgbiQxKHRoaXMsZSl9aW50ZXJzZWN0aW9uKGUsdD0hMSl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuaW50ZXJzZWN0aW9uLmJpbmQodGhpcykoZSx0KX1kaWZmZXJlbmNlKGUsdD0hMSxyPSEwKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5kaWZmZXJlbmNlLmJpbmQodGhpcykoZSx0LHIpfXN5bW1ldHJpY0RpZmZlcmVuY2UoZSx0PSExLHI9ITApe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLnN5bW1ldHJpY0RpZmZlcmVuY2UuYmluZCh0aGlzKShlLHQscil9bW9ycGhTaGFwZShlLHQscj1cInVua25vd25cIixuPW51bGwpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLm1vcnBoU2hhcGUuYmluZCh0aGlzKShlLHQscixuKX1tb3JwaFNoYXBlQW5kQXR0cmlidXRlcyhlLHQscj1cInVua25vd25cIil7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMubW9ycGhTaGFwZUFuZEF0dHJpYnV0ZXMuYmluZCh0aGlzKShlLHQscil9dW5pb24oZSx0PSExKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy51bmlvbi5iaW5kKHRoaXMpKGUsdCl9aW50ZXJzZWN0cyhlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5pbnRlcnNlY3RzLmJpbmQodGhpcykoZSl9ZW52ZWxvcGVJbnRlcnNlY3RzKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmVudmVsb3BlSW50ZXJzZWN0cy5iaW5kKHRoaXMpKGUpfWNvbnRhaW5zKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmNvbnRhaW5zLmJpbmQodGhpcykoZSl9b3ZlcmxhcHMoZSl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMub3ZlcmxhcHMuYmluZCh0aGlzKShlKX1yZWxhdGUoZSx0KXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5yZWxhdGUuYmluZCh0aGlzKShlLHQpfXdpdGhpbihlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy53aXRoaW4uYmluZCh0aGlzKShlKX10b3VjaGVzKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLnRvdWNoZXMuYmluZCh0aGlzKShlKX10b3AoZSl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMudG9wLmJpbmQodGhpcykoZSl9Y3Jvc3NlcyhlKXtyZXR1cm4gdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5jcm9zc2VzLmJpbmQodGhpcykoZSl9YnVmZmVyKGUsdCxyLG49ITApe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmJ1ZmZlci5iaW5kKHRoaXMpKGUsdCxyLG4pfWZpbHRlcihlLHQ9bnVsbCl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuZmlsdGVyLmJpbmQodGhpcykoZSx0KX1vcmRlckJ5KGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLm9yZGVyQnkuYmluZCh0aGlzKShlKX1kaXNzb2x2ZShlLHQpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLmRpc3NvbHZlLmJpbmQodGhpcykoZSx0KX1ncm91cGJ5KGUsdCl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuZ3JvdXBieS5iaW5kKHRoaXMpKGUsdCl9cmVkdWNlKHQscj1udWxsLG4pe3JldHVybiBsJDEoKChlLHMpPT57dGhpcy5fcmVkdWNlSW1wbCh0aGlzLml0ZXJhdG9yKHRoaXMuX2RlZmF1bHRUcmFja2VyKG4pKSx0LHIsMCxlLHMsMCk7fSkpfV9yZWR1Y2VJbXBsKGUsdCxyLHMsaSxhLGgpe3RyeXtpZigrK2g+MWUzKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKCgpPT57aD0wLHRoaXMuX3JlZHVjZUltcGwoZSx0LHIscyxpLGEsaCk7fSkpO2UubmV4dCgpLnRoZW4oKGw9Pnt0cnl7aWYobnVsbD09PWwpaShyKTtlbHNlIHtjb25zdCB1PXQocixsLHMsdGhpcyk7VSQxKHUpP3UudGhlbigocj0+e3RoaXMuX3JlZHVjZUltcGwoZSx0LHIscysxLGksYSxoKTt9KSxhKTp0aGlzLl9yZWR1Y2VJbXBsKGUsdCx1LHMrMSxpLGEsaCk7fX1jYXRjaCh1KXthKHUpO319KSxhKTt9Y2F0Y2gobCl7YShsKTt9fXJlbW92ZUZpZWxkKGUpe3JldHVybiB2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLnJlbW92ZUZpZWxkLmJpbmQodGhpcykoZSl9YWRkRmllbGQoZSx0LHI9bnVsbCl7cmV0dXJuIHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuYWRkRmllbGQuYmluZCh0aGlzKShlLHQscil9c3VtQXJlYShlLHQ9ITEscil7Y29uc3Qgbj1nJDMoZSk7cmV0dXJuIHRoaXMucmVkdWNlKCgoZSxyKT0+bnVsbD09PXIuZ2VvbWV0cnk/MDp0P0soci5nZW9tZXRyeSxuKS50aGVuKCh0PT5lK3QpKTpXKHIuZ2VvbWV0cnksbikudGhlbigodD0+ZSt0KSkpLDAscil9c3VtTGVuZ3RoKGUsdD0hMSxyKXtjb25zdCBuPUcoZSk7cmV0dXJuIHRoaXMucmVkdWNlKCgoZSxyKT0+bnVsbD09PXIuZ2VvbWV0cnk/MDp0P00kMShyLmdlb21ldHJ5LG4pLnRoZW4oKHQ9PmUrdCkpOkYoci5nZW9tZXRyeSxuKS50aGVuKCh0PT5lK3QpKSksMCxyKX1fc3Vic3RpdHV0ZVZhcnMoZSx0KXtpZihudWxsIT09dCl7Y29uc3Qgcj17fTtmb3IoY29uc3QgZSBpbiB0KXJbZS50b0xvd2VyQ2FzZSgpXT10W2VdO2UucGFyYW1ldGVycz1yO319ZGlzdGluY3QoZSx0PTFlMyxyPW51bGwsbil7cmV0dXJuIHRoaXMubG9hZCgpLnRoZW4oKCgpPT57Y29uc3Qgcz1mJDIuY3JlYXRlKGUsdGhpcy5nZXRGaWVsZHNJbmRleCgpKTtyZXR1cm4gdGhpcy5fc3Vic3RpdHV0ZVZhcnMocyxyKSx0aGlzLmNhbGN1bGF0ZVN0YXRpc3RpYyhcImRpc3RpbmN0XCIscyx0LHRoaXMuX2RlZmF1bHRUcmFja2VyKG4pKX0pKX1taW4oZSx0PW51bGwscil7cmV0dXJuIHRoaXMubG9hZCgpLnRoZW4oKCgpPT57Y29uc3Qgbj1mJDIuY3JlYXRlKGUsdGhpcy5nZXRGaWVsZHNJbmRleCgpKTtyZXR1cm4gdGhpcy5fc3Vic3RpdHV0ZVZhcnMobix0KSx0aGlzLmNhbGN1bGF0ZVN0YXRpc3RpYyhcIm1pblwiLG4sLTEsdGhpcy5fZGVmYXVsdFRyYWNrZXIocikpfSkpfW1heChlLHQ9bnVsbCxyKXtyZXR1cm4gdGhpcy5sb2FkKCkudGhlbigoKCk9Pntjb25zdCBuPWYkMi5jcmVhdGUoZSx0aGlzLmdldEZpZWxkc0luZGV4KCkpO3JldHVybiB0aGlzLl9zdWJzdGl0dXRlVmFycyhuLHQpLHRoaXMuY2FsY3VsYXRlU3RhdGlzdGljKFwibWF4XCIsbiwtMSx0aGlzLl9kZWZhdWx0VHJhY2tlcihyKSl9KSl9YXZnKGUsdD1udWxsLHIpe3JldHVybiB0aGlzLmxvYWQoKS50aGVuKCgoKT0+e2NvbnN0IG49ZiQyLmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKG4sdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJhdmdcIixuLC0xLHRoaXMuX2RlZmF1bHRUcmFja2VyKHIpKX0pKX1zdW0oZSx0PW51bGwscil7cmV0dXJuIHRoaXMubG9hZCgpLnRoZW4oKCgpPT57Y29uc3Qgbj1mJDIuY3JlYXRlKGUsdGhpcy5nZXRGaWVsZHNJbmRleCgpKTtyZXR1cm4gdGhpcy5fc3Vic3RpdHV0ZVZhcnMobix0KSx0aGlzLmNhbGN1bGF0ZVN0YXRpc3RpYyhcInN1bVwiLG4sLTEsdGhpcy5fZGVmYXVsdFRyYWNrZXIocikpfSkpfXN0ZGV2KGUsdD1udWxsLHIpe3JldHVybiB0aGlzLmxvYWQoKS50aGVuKCgoKT0+e2NvbnN0IG49ZiQyLmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKG4sdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJzdGRldlwiLG4sLTEsdGhpcy5fZGVmYXVsdFRyYWNrZXIocikpfSkpfXZhcmlhbmNlKGUsdD1udWxsLHIpe3JldHVybiB0aGlzLmxvYWQoKS50aGVuKCgoKT0+e2NvbnN0IG49ZiQyLmNyZWF0ZShlLHRoaXMuZ2V0RmllbGRzSW5kZXgoKSk7cmV0dXJuIHRoaXMuX3N1YnN0aXR1dGVWYXJzKG4sdCksdGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJ2YXJpYW5jZVwiLG4sLTEsdGhpcy5fZGVmYXVsdFRyYWNrZXIocikpfSkpfWNvdW50KGUpe3JldHVybiB0aGlzLmxvYWQoKS50aGVuKCgoKT0+dGhpcy5jYWxjdWxhdGVTdGF0aXN0aWMoXCJjb3VudFwiLGYkMi5jcmVhdGUoXCIxXCIsdGhpcy5nZXRGaWVsZHNJbmRleCgpKSwtMSx0aGlzLl9kZWZhdWx0VHJhY2tlcihlKSkpKX1fZGVmYXVsdFRyYWNrZXIoZSl7cmV0dXJuIGV8fHthYm9ydGVkOiExfX1mb3JFYWNoKHQscil7cmV0dXJuIGwkMSgoKGUsbik9Pnt0aGlzLl9mb3JFYWNoSW1wbCh0aGlzLml0ZXJhdG9yKHRoaXMuX2RlZmF1bHRUcmFja2VyKHIpKSx0LHRoaXMsZSxuLDApO30pKX1fZm9yRWFjaEltcGwoZSx0LHIscyxpLGEpe3RyeXtpZigrK2E+MWUzKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKCgpPT57YT0wLHRoaXMuX2ZvckVhY2hJbXBsKGUsdCxyLHMsaSxhKTt9KSwwKTtlLm5leHQoKS50aGVuKChoPT57dHJ5e2lmKG51bGw9PT1oKXMocik7ZWxzZSB7Y29uc3QgbD10KGgpO251bGw9PWw/dGhpcy5fZm9yRWFjaEltcGwoZSx0LHIscyxpLGEpOlUkMShsKT9sLnRoZW4oKCgpPT57dHJ5e3RoaXMuX2ZvckVhY2hJbXBsKGUsdCxyLHMsaSxhKTt9Y2F0Y2gobil7aShuKTt9fSksaSk6dGhpcy5fZm9yRWFjaEltcGwoZSx0LHIscyxpLGEpO319Y2F0Y2gobCl7aShsKTt9fSksaSk7fWNhdGNoKGgpe2koaCk7fX1jb252ZXJ0VG9KU09OKGUpe2NvbnN0IHQ9e2xheWVyRGVmaW5pdGlvbjp7Z2VvbWV0cnlUeXBlOnRoaXMuZ2VvbWV0cnlUeXBlLGZpZWxkczpbXX0sZmVhdHVyZVNldDp7ZmVhdHVyZXM6W10sZ2VvbWV0cnlUeXBlOnRoaXMuZ2VvbWV0cnlUeXBlfX07Zm9yKGxldCByPTA7cjx0aGlzLmZpZWxkcy5sZW5ndGg7cisrKXQubGF5ZXJEZWZpbml0aW9uLmZpZWxkcy5wdXNoKHkkMSh0aGlzLmZpZWxkc1tyXSkpO3JldHVybiB0aGlzLnJlZHVjZSgoKGUscik9Pntjb25zdCBuPXtnZW9tZXRyeTpyLmdlb21ldHJ5JiZyLmdlb21ldHJ5LnRvSlNPTigpLGF0dHJpYnV0ZXM6e319O2Zvcihjb25zdCB0IGluIHIuYXR0cmlidXRlcyluLmF0dHJpYnV0ZXNbdF09ci5hdHRyaWJ1dGVzW3RdO3JldHVybiB0LmZlYXR1cmVTZXQuZmVhdHVyZXMucHVzaChuKSwxfSksMCxlKS50aGVuKCgoKT0+dCkpfWNhc3RUb1RleHQoKXtyZXR1cm4gXCJvYmplY3QsIEZlYXR1cmVTZXRcIn1xdWVyeUF0dGFjaG1lbnRzKGUsdCxyLG4pe3JldHVybiB0aGlzLl9wYXJlbnQucXVlcnlBdHRhY2htZW50cyhlLHQscixuKX1zZXJ2aWNlVXJsKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5zZXJ2aWNlVXJsKCl9c3VidHlwZXMoKXtyZXR1cm4gdGhpcy50eXBlSWRGaWVsZD97c3VidHlwZUZpZWxkOnRoaXMudHlwZUlkRmllbGQsc3VidHlwZXM6dGhpcy50eXBlcz90aGlzLnR5cGVzLm1hcCgoZT0+KHtuYW1lOmUubmFtZSxjb2RlOmUuaWR9KSkpOltdfTpudWxsfXJlbGF0aW9uc2hpcE1ldGFEYXRhKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5yZWxhdGlvbnNoaXBNZXRhRGF0YSgpfWdldCBnZGJWZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3BhcmVudD90aGlzLl9wYXJlbnQuZ2RiVmVyc2lvbjpcIlwifXNjaGVtYSgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5maWVsZHMpZS5wdXNoKHkkMSh0KSk7cmV0dXJuIHtvYmplY3RJZEZpZWxkOnRoaXMub2JqZWN0SWRGaWVsZCxnbG9iYWxJZEZpZWxkOnRoaXMuZ2xvYmFsSWRGaWVsZCxnZW9tZXRyeVR5cGU6dm9pZCAwPT09Ylt0aGlzLmdlb21ldHJ5VHlwZV0/XCJcIjpiW3RoaXMuZ2VvbWV0cnlUeXBlXSxmaWVsZHM6ZX19Y29udmVydFRvVGV4dChlLHIpe3JldHVybiBcInNjaGVtYVwiPT09ZT90aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+SlNPTi5zdHJpbmdpZnkodGhpcy5zY2hlbWEoKSkpKTpcImZlYXR1cmVzZXRcIj09PWU/dGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9Pntjb25zdCBlPVtdO3JldHVybiB0aGlzLnJlZHVjZSgoKHQscik9Pntjb25zdCBuPXtnZW9tZXRyeTpyLmdlb21ldHJ5P3IuZ2VvbWV0cnkudG9KU09OKCk6bnVsbCxhdHRyaWJ1dGVzOnIuYXR0cmlidXRlc307cmV0dXJuIG51bGwhPT1uLmdlb21ldHJ5JiZuLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UmJmRlbGV0ZSBuLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UsZS5wdXNoKG4pLDF9KSwwLHIpLnRoZW4oKCgpPT57Y29uc3QgdD10aGlzLnNjaGVtYSgpO3JldHVybiB0LmZlYXR1cmVzPWUsdC5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSxKU09OLnN0cmluZ2lmeSh0KX0pKX0pKTp4JDEodGhpcy5jYXN0VG9UZXh0KCkpfWdldEZlYXR1cmVCeU9iamVjdElkKGUsdCl7cmV0dXJuIHRoaXMuX3BhcmVudC5nZXRGZWF0dXJlQnlPYmplY3RJZChlLHQpfWdldE93bmluZ1N5c3RlbVVybCgpe3JldHVybiB0aGlzLl9wYXJlbnQuZ2V0T3duaW5nU3lzdGVtVXJsKCl9Z2V0SWRlbnRpdHlVc2VyKCl7cmV0dXJuIHRoaXMuX3BhcmVudC5nZXRJZGVudGl0eVVzZXIoKX19di5fZmVhdHVyZXNldEZ1bmN0aW9ucz17fTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIG4gZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZGVjbGFyZWRDbGFzcz1cImVzcmkubGF5ZXJzLmZlYXR1cmVzZXQuc291cmNlcy5FbXB0eVwiLHRoaXMuX21heFByb2Nlc3Npbmc9MWUzLHRoaXMuX3dzZXQ9bmV3IHQoW10sW10sITEsbnVsbCksdGhpcy5fcGFyZW50PWUucGFyZW50ZmVhdHVyZXNldCx0aGlzLl9kYXRhYmFzZVR5cGU9byQyLlN0YW5kYXJkaXNlZDt9X2dldFNldCgpe3JldHVybiB4JDEodGhpcy5fd3NldCl9b3B0aW1pc2VQYWdpbmdGZWF0dXJlUXVlcmllcygpe31faXNJbkZlYXR1cmVTZXQoKXtyZXR1cm4gbCQyLk5vdEluRmVhdHVyZVNldH1fZ2V0RmVhdHVyZSgpe3JldHVybiBMJDEobmV3IEVycm9yKFwiTm8gRmVhdHVyZSBGb3VuZCBpbiBFbXB0eVNldFwiKSl9cXVlcnlBdHRhY2htZW50cygpe3JldHVybiB4JDEoW10pfV9nZXRGZWF0dXJlcygpe3JldHVybiB4JDEoXCJzdWNjZXNzXCIpfV9mZWF0dXJlRnJvbUNhY2hlKCl7cmV0dXJuIG51bGx9X2ZldGNoQW5kUmVmaW5lRmVhdHVyZXMoKXtyZXR1cm4gTCQxKG5ldyBFcnJvcihcIkZldGNoIGFuZCBSZWZpbmUgc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gdGhpcyBmZWF0dXJlc2V0XCIpKX1fZ2V0RmlsdGVyZWRTZXQoKXtyZXR1cm4geCQxKG5ldyB0KFtdLFtdLCExLG51bGwpKX1fc3RhdChlLHQscixzLHUsYSxuKXtyZXR1cm4gdGhpcy5fbWFudWFsU3RhdChlLHQsYSxuKX1fY2FuRG9BZ2dyZWdhdGVzKCl7cmV0dXJuIHgkMSghMSl9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgZyBleHRlbmRzIHZ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fcmVsYXRpb249XCJcIix0aGlzLl9yZWxhdGlvbkdlb209bnVsbCx0aGlzLl9yZWxhdGlvblN0cmluZz1cIlwiLHRoaXMuZGVjbGFyZWRDbGFzcz1cImVzcmkuYXJjYWRlLmZlYXR1cmVzZXQuYWN0aW9ucy5TcGF0aWFsRmlsdGVyXCIsdGhpcy5fcmVsYXRpb25TdHJpbmc9ZS5yZWxhdGlvblN0cmluZyx0aGlzLl9wYXJlbnQ9ZS5wYXJlbnRmZWF0dXJlc2V0LHRoaXMuX21heFByb2Nlc3Npbmc9NDAsdGhpcy5fcmVsYXRpb249ZS5yZWxhdGlvbix0aGlzLl9yZWxhdGlvbkdlb209ZS5yZWxhdGlvbkdlb207fV9nZXRTZXQodCQxKXtyZXR1cm4gbnVsbD09PXRoaXMuX3dzZXQ/dGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9PnRoaXMuX3BhcmVudC5fZ2V0RmlsdGVyZWRTZXQoXCJlc3JpU3BhdGlhbFJlbFJlbGF0aW9uXCIhPT10aGlzLl9yZWxhdGlvbj90aGlzLl9yZWxhdGlvbjp0aGlzLl9yZWxhdGlvbitcIjpcIit0aGlzLl9yZWxhdGlvblN0cmluZyx0aGlzLl9yZWxhdGlvbkdlb20sbnVsbCxudWxsLHQkMSkpKS50aGVuKChlPT4odGhpcy5fY2hlY2tDYW5jZWxsZWQodCQxKSx0aGlzLl93c2V0PW5ldyB0KGUuX2NhbmRpZGF0ZXMuc2xpY2UoMCksZS5fa25vd24uc2xpY2UoMCksZS5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKGUucGFnZXNEZWZpbml0aW9uKSksdGhpcy5fd3NldCkpKTp4JDEodGhpcy5fd3NldCl9X2lzSW5GZWF0dXJlU2V0KGUpe2xldCB0PXRoaXMuX3BhcmVudC5faXNJbkZlYXR1cmVTZXQoZSk7cmV0dXJuIHQ9PT1sJDIuTm90SW5GZWF0dXJlU2V0P3Q6KHQ9dGhpcy5faWRzdGF0ZXNbZV0sdm9pZCAwPT09dD9sJDIuVW5rbm93bjp0KX1fZ2V0RmVhdHVyZShlLHQscil7cmV0dXJuIHRoaXMuX3BhcmVudC5fZ2V0RmVhdHVyZShlLHQscil9X2dldEZlYXR1cmVzKGUsdCxyLGkpe3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEZlYXR1cmVzKGUsdCxyLGkpfV9mZWF0dXJlRnJvbUNhY2hlKGUpe3JldHVybiB0aGlzLl9wYXJlbnQuX2ZlYXR1cmVGcm9tQ2FjaGUoZSl9ZXhlY3V0ZVNwYXRpYWxSZWxhdGlvblRlc3QodCl7aWYobnVsbD09PXQuZ2VvbWV0cnkpcmV0dXJuIHgkMSghMSk7c3dpdGNoKHRoaXMuX3JlbGF0aW9uKXtjYXNlXCJlc3JpU3BhdGlhbFJlbEVudmVsb3BlSW50ZXJzZWN0c1wiOntjb25zdCBlPUYkMSh0aGlzLl9yZWxhdGlvbkdlb20pLHI9RiQxKHQuZ2VvbWV0cnkpO3JldHVybiBnJDQoZSxyKX1jYXNlXCJlc3JpU3BhdGlhbFJlbEludGVyc2VjdHNcIjpyZXR1cm4gZyQ0KHRoaXMuX3JlbGF0aW9uR2VvbSx0Lmdlb21ldHJ5KTtjYXNlXCJlc3JpU3BhdGlhbFJlbENvbnRhaW5zXCI6cmV0dXJuIHAkMih0aGlzLl9yZWxhdGlvbkdlb20sdC5nZW9tZXRyeSk7Y2FzZVwiZXNyaVNwYXRpYWxSZWxPdmVybGFwc1wiOnJldHVybiBPKHRoaXMuX3JlbGF0aW9uR2VvbSx0Lmdlb21ldHJ5KTtjYXNlXCJlc3JpU3BhdGlhbFJlbFdpdGhpblwiOnJldHVybiB4JDIodGhpcy5fcmVsYXRpb25HZW9tLHQuZ2VvbWV0cnkpO2Nhc2VcImVzcmlTcGF0aWFsUmVsVG91Y2hlc1wiOnJldHVybiBBKHRoaXMuX3JlbGF0aW9uR2VvbSx0Lmdlb21ldHJ5KTtjYXNlXCJlc3JpU3BhdGlhbFJlbENyb3NzZXNcIjpyZXR1cm4gdyQyKHRoaXMuX3JlbGF0aW9uR2VvbSx0Lmdlb21ldHJ5KTtjYXNlXCJlc3JpU3BhdGlhbFJlbFJlbGF0aW9uXCI6cmV0dXJuIGgkMih0aGlzLl9yZWxhdGlvbkdlb20sdC5nZW9tZXRyeSx0aGlzLl9yZWxhdGlvblN0cmluZyl9fV9mZXRjaEFuZFJlZmluZUZlYXR1cmVzKGUscixuKXtjb25zdCBhPW5ldyB0KFtdLGUsITEsbnVsbCkscz1NYXRoLm1pbihyLGUubGVuZ3RoKTtyZXR1cm4gdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlcyhhLC0xLHMsbikudGhlbigoKCk9Pnt0aGlzLl9jaGVja0NhbmNlbGxlZChuKTtjb25zdCByPVtdO2ZvcihsZXQgdD0wO3Q8czt0Kyspe2NvbnN0IGk9dGhpcy5fcGFyZW50Ll9mZWF0dXJlRnJvbUNhY2hlKGVbdF0pO3IucHVzaCh0aGlzLmV4ZWN1dGVTcGF0aWFsUmVsYXRpb25UZXN0KGkpKTt9cmV0dXJuIHMkMihyKX0pKS50aGVuKCh0PT57Zm9yKGxldCBuPTA7bjxyO24rKykhMD09PXRbbl0/dGhpcy5faWRzdGF0ZXNbZVtuXV09bCQyLkluRmVhdHVyZVNldDp0aGlzLl9pZHN0YXRlc1tlW25dXT1sJDIuTm90SW5GZWF0dXJlU2V0O3JldHVybiBcInN1Y2Nlc3NcIn0pKX1fZ2V0RmlsdGVyZWRTZXQoZSx0JDEscixpLG4pe3JldHVybiB0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5fcGFyZW50Ll9nZXRGaWx0ZXJlZFNldChcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIiE9PXRoaXMuX3JlbGF0aW9uP3RoaXMuX3JlbGF0aW9uOnRoaXMuX3JlbGF0aW9uK1wiOlwiK3RoaXMuX3JlbGF0aW9uU3RyaW5nLHRoaXMuX3JlbGF0aW9uR2VvbSxyLGksbikpKS50aGVuKChlPT57bGV0IHI7cmV0dXJuIHRoaXMuX2NoZWNrQ2FuY2VsbGVkKG4pLHI9bnVsbCE9PXQkMT9uZXcgdChlLl9jYW5kaWRhdGVzLnNsaWNlKDApLmNvbmNhdChlLl9rbm93bi5zbGljZSgwKSksW10sZS5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKGUucGFnZXNEZWZpbml0aW9uKSk6bmV3IHQoZS5fY2FuZGlkYXRlcy5zbGljZSgwKSxlLl9rbm93bi5zbGljZSgwKSxlLl9vcmRlcmVkLHRoaXMuX2Nsb25lUGFnZURlZmluaXRpb24oZS5wYWdlc0RlZmluaXRpb24pKSxyfSkpfV9zdGF0KHQscixpLG4sYSxzLGwpe3JldHVybiBcIlwiIT09aT94JDEoe2NhbGN1bGF0ZWQ6ITF9KTp0aGlzLl9wYXJlbnQuX3N0YXQodCxyLFwiZXNyaVNwYXRpYWxSZWxSZWxhdGlvblwiIT09dGhpcy5fcmVsYXRpb24/dGhpcy5fcmVsYXRpb246dGhpcy5fcmVsYXRpb24rXCI6XCIrdGhpcy5fcmVsYXRpb25TdHJpbmcsdGhpcy5fcmVsYXRpb25HZW9tLGEscyxsKS50aGVuKChlPT4hMT09PWUuY2FsY3VsYXRlZD9udWxsPT09YSYmXCJcIj09PWkmJm51bGw9PT1uP3RoaXMuX21hbnVhbFN0YXQodCxyLHMsbCk6e2NhbGN1bGF0ZWQ6ITF9OmUpKX1fY2FuRG9BZ2dyZWdhdGVzKHQscixpLG4sYSl7cmV0dXJuIFwiXCIhPT1pfHxudWxsIT09bnx8bnVsbD09PXRoaXMuX3BhcmVudD94JDEoITEpOnRoaXMuX3BhcmVudC5fY2FuRG9BZ2dyZWdhdGVzKHQscixcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIiE9PXRoaXMuX3JlbGF0aW9uP3RoaXMuX3JlbGF0aW9uOnRoaXMuX3JlbGF0aW9uK1wiOlwiK3RoaXMuX3JlbGF0aW9uU3RyaW5nLHRoaXMuX3JlbGF0aW9uR2VvbSxhKX1fZ2V0QWdncmVnYXRlUGFnZXNEYXRhU291cmNlRGVmaW5pdGlvbihlLHQsaSxuLGEscyxsKXtyZXR1cm4gbnVsbD09PXRoaXMuX3BhcmVudD9MJDEobmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGJlIGNhbGxlZFwiKSk6dGhpcy5fcGFyZW50Ll9nZXRBZ2dyZWdhdGVQYWdlc0RhdGFTb3VyY2VEZWZpbml0aW9uKGUsdCxcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIiE9PXRoaXMuX3JlbGF0aW9uP3RoaXMuX3JlbGF0aW9uOnRoaXMuX3JlbGF0aW9uK1wiOlwiK3RoaXMuX3JlbGF0aW9uU3RyaW5nLHRoaXMuX3JlbGF0aW9uR2VvbSxhLHMsbCl9c3RhdGljIHJlZ2lzdGVyQWN0aW9uKCl7di5fZmVhdHVyZXNldEZ1bmN0aW9ucy5pbnRlcnNlY3RzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP25ldyBuKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXN9KTpuZXcgZyh7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHJlbGF0aW9uOlwiZXNyaVNwYXRpYWxSZWxJbnRlcnNlY3RzXCIscmVsYXRpb25HZW9tOmV9KX0sdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5lbnZlbG9wZUludGVyc2VjdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bmV3IG4oe3BhcmVudGZlYXR1cmVzZXQ6dGhpc30pOm5ldyBnKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXMscmVsYXRpb246XCJlc3JpU3BhdGlhbFJlbEVudmVsb3BlSW50ZXJzZWN0c1wiLHJlbGF0aW9uR2VvbTplfSl9LHYuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuY29udGFpbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/bmV3IG4oe3BhcmVudGZlYXR1cmVzZXQ6dGhpc30pOm5ldyBnKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXMscmVsYXRpb246XCJlc3JpU3BhdGlhbFJlbENvbnRhaW5zXCIscmVsYXRpb25HZW9tOmV9KX0sdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5vdmVybGFwcz1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9uZXcgbih7cGFyZW50ZmVhdHVyZXNldDp0aGlzfSk6bmV3IGcoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcyxyZWxhdGlvbjpcImVzcmlTcGF0aWFsUmVsT3ZlcmxhcHNcIixyZWxhdGlvbkdlb206ZX0pfSx2Ll9mZWF0dXJlc2V0RnVuY3Rpb25zLndpdGhpbj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9uZXcgbih7cGFyZW50ZmVhdHVyZXNldDp0aGlzfSk6bmV3IGcoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcyxyZWxhdGlvbjpcImVzcmlTcGF0aWFsUmVsV2l0aGluXCIscmVsYXRpb25HZW9tOmV9KX0sdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy50b3VjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP25ldyBuKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXN9KTpuZXcgZyh7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHJlbGF0aW9uOlwiZXNyaVNwYXRpYWxSZWxUb3VjaGVzXCIscmVsYXRpb25HZW9tOmV9KX0sdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5jcm9zc2VzPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP25ldyBuKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXN9KTpuZXcgZyh7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHJlbGF0aW9uOlwiZXNyaVNwYXRpYWxSZWxDcm9zc2VzXCIscmVsYXRpb25HZW9tOmV9KX0sdi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5yZWxhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT9uZXcgbih7cGFyZW50ZmVhdHVyZXNldDp0aGlzfSk6bmV3IGcoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcyxyZWxhdGlvbjpcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIixyZWxhdGlvbkdlb206ZSxyZWxhdGlvblN0cmluZzp0fSl9O319XG5cbmV4cG9ydCB7IEUsIGEsIGEkMSBhcyBiLCBuIGFzIGMsIGYkMSBhcyBmLCBnLCBoJDEgYXMgaCwgaSQxIGFzIGksIGwsIG0sIG4kMiBhcyBuLCBvJDEgYXMgbywgcCwgcyQxIGFzIHMsIHQsIHUsIHYsIHckMSBhcyB3IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwYXRpYWxGaWx0ZXItMDMzZTA2ODkuanMubWFwIiwiaW1wb3J0IHsgSiBhcyBwJDIgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCB7IHAgYXMgcCQxIH0gZnJvbSAnLi93b3JrZXJzLWUwODU5MjEzLmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUobil7dmFyIHQ7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bnVsbD09KHQ9blswXSk/dm9pZCAwOnQuc3BhdGlhbFJlZmVyZW5jZTpudWxsPT1uP3ZvaWQgMDpuLnNwYXRpYWxSZWZlcmVuY2V9ZnVuY3Rpb24gaShuKXtyZXR1cm4gbj9BcnJheS5pc0FycmF5KG4pP24ubWFwKGkpOm4udG9KU09OP24udG9KU09OKCk6bjpufWZ1bmN0aW9uIGEobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bi5tYXAoKG49PnAkMihuKSkpOnAkMihuKX1mdW5jdGlvbiBvKG4sdCl7bGV0IHI7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/cj1uOihyPVtdLHIucHVzaChuKSxudWxsIT10JiZyLnB1c2godCkpLHJ9bGV0IGM7YXN5bmMgZnVuY3Rpb24gdSgpe3JldHVybiBjfHwoYz1wJDEoXCJnZW9tZXRyeUVuZ2luZVdvcmtlclwiLHtzdHJhdGVneTpcImRpc3RyaWJ1dGVkXCJ9KSksY31hc3luYyBmdW5jdGlvbiBzKG4sdCl7cmV0dXJuIChhd2FpdCB1KCkpLmludm9rZShcImV4ZWN1dGVHRU9wZXJhdGlvblwiLHtvcGVyYXRpb246bixwYXJhbWV0ZXJzOmkodCl9KX1hc3luYyBmdW5jdGlvbiBsKG4sdCl7cmV0dXJuIGEoYXdhaXQgcyhcImNsaXBcIixbZShuKSxuLHRdKSl9YXN5bmMgZnVuY3Rpb24geShuLHQpe3JldHVybiBhKGF3YWl0IHMoXCJjdXRcIixbZShuKSxuLHRdKSl9ZnVuY3Rpb24gcChuLHQpe3JldHVybiBzKFwiY29udGFpbnNcIixbZShuKSxuLHRdKX1mdW5jdGlvbiB3KG4sdCl7cmV0dXJuIHMoXCJjcm9zc2VzXCIsW2Uobiksbix0XSl9ZnVuY3Rpb24gbShuLHQscil7cmV0dXJuIHMoXCJkaXN0YW5jZVwiLFtlKG4pLG4sdCxyXSl9ZnVuY3Rpb24gZChuLHQpe3JldHVybiBzKFwiZXF1YWxzXCIsW2Uobiksbix0XSl9ZnVuY3Rpb24gZyhuLHQpe3JldHVybiBzKFwiaW50ZXJzZWN0c1wiLFtlKG4pLG4sdF0pfWZ1bmN0aW9uIEEobix0KXtyZXR1cm4gcyhcInRvdWNoZXNcIixbZShuKSxuLHRdKX1mdW5jdGlvbiB4KG4sdCl7cmV0dXJuIHMoXCJ3aXRoaW5cIixbZShuKSxuLHRdKX1mdW5jdGlvbiBTKG4sdCl7cmV0dXJuIHMoXCJkaXNqb2ludFwiLFtlKG4pLG4sdF0pfWZ1bmN0aW9uIE8obix0KXtyZXR1cm4gcyhcIm92ZXJsYXBzXCIsW2Uobiksbix0XSl9ZnVuY3Rpb24gaChuLHQscil7cmV0dXJuIHMoXCJyZWxhdGVcIixbZShuKSxuLHQscl0pfWZ1bmN0aW9uIHYobil7cmV0dXJuIHMoXCJpc1NpbXBsZVwiLFtlKG4pLG5dKX1hc3luYyBmdW5jdGlvbiBKKG4pe3JldHVybiBhKGF3YWl0IHMoXCJzaW1wbGlmeVwiLFtlKG4pLG5dKSl9YXN5bmMgZnVuY3Rpb24gUihuLHQpe3JldHVybiBhKGF3YWl0IHMoXCJkaWZmZXJlbmNlXCIsW2Uobiksbix0XSkpfWFzeW5jIGZ1bmN0aW9uIEUobix0KXtyZXR1cm4gYShhd2FpdCBzKFwic3ltbWV0cmljRGlmZmVyZW5jZVwiLFtlKG4pLG4sdF0pKX1hc3luYyBmdW5jdGlvbiBqKG4sdCl7cmV0dXJuIGEoYXdhaXQgcyhcImludGVyc2VjdFwiLFtlKG4pLG4sdF0pKX1hc3luYyBmdW5jdGlvbiBrKG4sdD1udWxsKXtjb25zdCByPW8obix0KTtyZXR1cm4gYShhd2FpdCBzKFwidW5pb25cIixbZShyKSxyXSkpfWFzeW5jIGZ1bmN0aW9uIEkobix0LHIsaSxvLGMpe3JldHVybiBhKGF3YWl0IHMoXCJvZmZzZXRcIixbZShuKSxuLHQscixpLG8sY10pKX1hc3luYyBmdW5jdGlvbiBWKG4sdCxyLGk9ITEpe2NvbnN0IG89W2Uobiksbix0LHIsaV07cmV0dXJuIGEoYXdhaXQgcyhcImJ1ZmZlclwiLG8pKX1hc3luYyBmdW5jdGlvbiBiKG4sdCxyLGksbyxjKXtjb25zdCB1PVtlKG4pLG4sdCxyLGksbyxjXTtyZXR1cm4gYShhd2FpdCBzKFwiZ2VvZGVzaWNCdWZmZXJcIix1KSl9ZnVuY3Rpb24gTChuKXtyZXR1cm4gXCJ4bWluXCJpbiBuP24uY2VudGVyOlwieFwiaW4gbj9uOm4uZXh0ZW50LmNlbnRlcn1hc3luYyBmdW5jdGlvbiBxKG4sdCxyKXt2YXIgZTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgQXJndW1lbnQgRXhjZXB0aW9uXCIpO2NvbnN0IGk9bi5zcGF0aWFsUmVmZXJlbmNlO3I9bnVsbCE9KGU9cik/ZTpMKG4pO2NvbnN0IGE9bi5jb25zdHJ1Y3Rvci5mcm9tSlNPTihhd2FpdCBzKFwicm90YXRlXCIsW2ksbix0LHJdKSk7cmV0dXJuIGEuc3BhdGlhbFJlZmVyZW5jZT1pLGF9YXN5bmMgZnVuY3Rpb24gRyhuLHQscixpKXtyZXR1cm4gYShhd2FpdCBzKFwiZ2VuZXJhbGl6ZVwiLFtlKG4pLG4sdCxyLGldKSl9YXN5bmMgZnVuY3Rpb24gUChuLHQscil7cmV0dXJuIGEoYXdhaXQgcyhcImRlbnNpZnlcIixbZShuKSxuLHQscl0pKX1hc3luYyBmdW5jdGlvbiBVKG4sdCxyLGk9MCl7cmV0dXJuIGEoYXdhaXQgcyhcImdlb2Rlc2ljRGVuc2lmeVwiLFtlKG4pLG4sdCxyLGldKSl9ZnVuY3Rpb24gVyhuLHQpe3JldHVybiBzKFwicGxhbmFyQXJlYVwiLFtlKG4pLG4sdF0pfWZ1bmN0aW9uIEYobix0KXtyZXR1cm4gcyhcInBsYW5hckxlbmd0aFwiLFtlKG4pLG4sdF0pfWZ1bmN0aW9uIEsobix0LHIpe3JldHVybiBzKFwiZ2VvZGVzaWNBcmVhXCIsW2Uobiksbix0LHJdKX1mdW5jdGlvbiBNKG4sdCxyKXtyZXR1cm4gcyhcImdlb2Rlc2ljTGVuZ3RoXCIsW2Uobiksbix0LHJdKX1cblxuZXhwb3J0IHsgQSwgRSwgRiwgRywgSSwgSiwgSywgTSwgTywgUCwgUiwgUywgVSwgViwgVywgYiwgZCwgZywgaCwgaiwgaywgbCwgbSwgcCwgcSwgdiwgdywgeCwgeSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW9tZXRyeUVuZ2luZUFzeW5jLTBhMDhhYjQxLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==