"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-580ff9"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureStore-198bf28a.js":
/*!****************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureStore-198bf28a.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ e),
/* harmony export */   u: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aaBoundingRect-61971fe3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingRect-61971fe3.js");
/* harmony import */ var _featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./featureConversionUtils-87d39ccb.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureConversionUtils-87d39ccb.js");
/* harmony import */ var _aaBoundingBox_376a2b6e_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aaBoundingBox-376a2b6e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingBox-376a2b6e.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _PooledRBush_b06edc81_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PooledRBush-b06edc81.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PooledRBush-b06edc81.js");
/* harmony import */ var _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptimizedGeometry-8812e4f6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OptimizedGeometry-8812e4f6.js");
/* harmony import */ var _centroid_f5130435_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./centroid-f5130435.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/centroid-f5130435.js");









/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i,s,d){n.minX=s[0],n.minY=s[1],n.maxX=s[2],n.maxY=s[3],i.search(n,d);}class e{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new _PooledRBush_b06edc81_js__WEBPACK_IMPORTED_MODULE_5__.h(9,(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_4__.t)("csp-restrictions")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n;})),this._indexInvalid=!1,this._index.clear(),this._index.load(i);}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))),this._boundsToLoad.length=0);};}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear();}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s));}forEachInBounds(i,s){this._loadIndex(),t(this._index,i,(i=>s(this._idByBounds.get(i))));}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0);}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s));}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_6__.t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,o)=>(t.centroid||(t.centroid=(0,_centroid_f5130435_js__WEBPACK_IMPORTED_MODULE_7__.t)(new _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_6__.a,t.geometry,o.hasZ,o.hasM)),t.centroid)};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class u{constructor(e$1){this.geometryInfo=e$1,this._boundsStore=new e,this._featuresById=new Map,this._markedIds=new Set,this.events=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB,this.featureAdapter=o;}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_1__.i)(_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_1__.J);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]));})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length);})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged();}addMany(e){for(const t of e)this._add(t);this._emitChanged();}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged();}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e);}this._emitChanged();}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t((0,_aaBoundingBox_376a2b6e_js__WEBPACK_IMPORTED_MODULE_3__.O)(r,e));}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)));}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e));}));}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear();}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t));})),this._markedIds.clear(),e&&this._emitChanged();}_emitChanged(){this.events.emit("changed",void 0);}_add(s$1){if(!s$1)return;const i$1=s$1.objectId;if(null==i$1)return void _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.layers.graphics.data.FeatureStore").error(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("featurestore:invalid-feature","feature id is missing",{feature:s$1}));const d=this._featuresById.get(i$1);let n;if(this._markedIds.add(i$1),d?(s$1.displayId=d.displayId,n=this._boundsStore.get(i$1),this._boundsStore.delete(i$1)):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.onFeatureAdd)&&this.onFeatureAdd(s$1),!s$1.geometry||!s$1.geometry.coords||!s$1.geometry.coords.length)return this._boundsStore.set(i$1,null),void this._featuresById.set(i$1,s$1);n=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_2__.f)(n||(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_1__.i)(),s$1.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(i$1,n),this._featuresById.set(i$1,s$1);}_remove(t){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}



//# sourceMappingURL=FeatureStore-198bf28a.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PooledRBush-b06edc81.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PooledRBush-b06edc81.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   h: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _quickselect_1279128f_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quickselect-1279128f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/quickselect-1279128f.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class h{constructor(t=9,i){this.compareMinX=l,this.compareMinY=c,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&("function"==typeof i?this.toBBox=i:this._initFormat(i)),this.clear();}destroy(){this.clear(),M.prune(),X.prune(),Y.prune(),B.prune();}all(t){this._all(this.data,t);}search(t,i){let n=this.data;const e=this.toBBox;if(p(t,n))for(M.clear();n;){for(let s=0,h=n.children.length;s<h;s++){const h=n.children[s],a=n.leaf?e(h):h;p(t,a)&&(n.leaf?i(h):x(t,a)?this._all(h,i):M.push(h));}n=M.pop();}}collides(t){let i=this.data;const n=this.toBBox;if(!p(t,i))return !1;for(M.clear();i;){for(let e=0,s=i.children.length;e<s;e++){const s=i.children[e],h=i.leaf?n(s):s;if(p(t,h)){if(i.leaf||x(t,h))return !0;M.push(s);}}i=M.pop();}return !1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else {if(this.data.height<i.height){const t=this.data;this.data=i,i=t;}this._insert(i,this.data.height-i.height-1,!0);}else this.data=i;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=new b([]),this}remove(n){if(!n)return this;let e,s=this.data,h=null,a=0,r=!1;const o=this.toBBox(n);for(Y.clear(),B.clear();s||Y.length>0;){var l;if(!s)s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aF)(Y.pop()),h=Y.data[Y.length-1],a=null!=(l=B.pop())?l:0,r=!0;if(s.leaf&&(e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cB)(s.children,n,s.children.length,s.indexHint),-1!==e))return s.children.splice(e,1),Y.push(s),this._condense(Y),this;r||s.leaf||!x(s,o)?h?(a++,s=h.children[a],r=!1):s=null:(Y.push(s),B.push(a),a=0,h=s,s=s.children[0]);}return this}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,i){let n=t;for(X.clear();n;){var e;if(!0===n.leaf)for(const t of n.children)i(t);else X.pushArray(n.children);n=null!=(e=X.pop())?e:null;}}_build(t,i,n,e){const s=n-i+1;let h=this._maxEntries;if(s<=h){const e=new b(t.slice(i,n+1));return a(e,this.toBBox),e}e||(e=Math.ceil(Math.log(s)/Math.log(h)),h=Math.ceil(s/h**(e-1)));const r=new j([]);r.height=e;const o=Math.ceil(s/h),l=o*Math.ceil(Math.sqrt(h));g(t,i,n,l,this.compareMinX);for(let a=i;a<=n;a+=l){const i=Math.min(a+l-1,n);g(t,a,i,o,this.compareMinY);for(let n=a;n<=i;n+=o){const s=Math.min(n+o-1,i);r.children.push(this._build(t,n,s,e-1));}}return a(r,this.toBBox),r}_chooseSubtree(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,s=1/0;for(let h=0,a=i.children.length;h<a;h++){const a=i.children[h],r=m(a),o=d(t,a)-r;o<s?(s=o,e=r<e?r:e,n=a):o===s&&r<e&&(e=r,n=a);}i=n||i.children[0];}return i}_insert(t,i,n){const e=this.toBBox,s=n?t:e(t);Y.clear();const h=this._chooseSubtree(s,this.data,i,Y);for(h.children.push(t),o(h,s);i>=0&&Y.data[i].children.length>this._maxEntries;)this._split(Y,i),i--;this._adjustParentBBoxes(s,Y,i);}_split(t,i){const n=t.data[i],e=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,e);const h=this._chooseSplitIndex(n,s,e);if(!h)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const r=n.children.splice(h,n.children.length-h),o=n.leaf?new b(r):new j(r);o.height=n.height,a(n,this.toBBox),a(o,this.toBBox),i?t.data[i-1].children.push(o):this._splitRoot(n,o);}_splitRoot(t,i){this.data=new j([t,i]),this.data.height=t.height+1,a(this.data,this.toBBox);}_chooseSplitIndex(t,i,n){let e,s,h;e=s=1/0;for(let a=i;a<=n-i;a++){const i=r(t,0,a,this.toBBox),o=r(t,a,n,this.toBBox),l=f(i,o),c=m(i)+m(o);l<e?(e=l,h=a,s=c<s?c:s):l===e&&c<s&&(s=c,h=a);}return h}_chooseSplitAxis(t,i,n){const e=t.leaf?this.compareMinX:l,s=t.leaf?this.compareMinY:c;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,s)&&t.children.sort(e);}_allDistMargin(t,i,n,e){t.children.sort(e);const s=this.toBBox,h=r(t,0,i,s),a=r(t,n-i,n,s);let l=u(h)+u(a);for(let r=i;r<n-i;r++){const i=t.children[r];o(h,t.leaf?s(i):i),l+=u(h);}for(let r=n-i-1;r>=i;r--){const i=t.children[r];o(a,t.leaf?s(i):i),l+=u(a);}return l}_adjustParentBBoxes(t,i,n){for(let e=n;e>=0;e--)o(i.data[e],t);}_condense(t){for(let n=t.length-1;n>=0;n--){const e=t.data[n];if(0===e.children.length)if(n>0){const s=t.data[n-1],h=s.children;h.splice((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cB)(h,e,h.length,s.indexHint),1);}else this.clear();else a(e,this.toBBox);}}_initFormat(t){const i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};");}}function a(t,i){r(t,0,t.children.length,i,t);}function r(t,i,n,e,s){s||(s=new b([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let h,a=i;a<n;a++)h=t.children[a],o(s,t.leaf?e(h):h);return s}function o(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY);}function l(t,i){return t.minX-i.minX}function c(t,i){return t.minY-i.minY}function m(t){return (t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return (Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function f(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),s=Math.min(t.maxX,i.maxX),h=Math.min(t.maxY,i.maxY);return Math.max(0,s-n)*Math.max(0,h-e)}function x(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function p(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function g(i,n,e,h,a){const r=[n,e];for(;r.length;){const n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aF)(r.pop()),e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aF)(r.pop());if(n-e<=h)continue;const o=e+Math.ceil((n-e)/h/2)*h;(0,_quickselect_1279128f_js__WEBPACK_IMPORTED_MODULE_1__.r)(i,o,e,n,a),r.push(e,o,o,n);}}const M=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b5,X=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b5,Y=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b5,B=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b5({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0;}}class w extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cC;}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!0;}}class j extends w{constructor(t){super(),this.children=t,this.leaf=!1;}}



//# sourceMappingURL=PooledRBush-b06edc81.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLTU4MGZmOS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJFO0FBQ3ZCO0FBQ1c7QUFDZjtBQUMwQjtBQUM1QjtBQUN1QjtBQUNuQjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZCQUE2QixrQkFBa0IsK0RBQStELFFBQVEsY0FBYyw4R0FBOEcsdURBQUMsR0FBRyxnRkFBRywwQkFBMEIsd0NBQXdDLGtEQUFrRCx1QkFBdUIseUNBQXlDLFFBQVEsa0NBQWtDLFVBQVUsa0VBQWtFLDJJQUEySSxRQUFRLHlIQUF5SCxVQUFVLGdDQUFnQyxzR0FBc0cscUJBQXFCLG9FQUFvRSxPQUFPLCtCQUErQixPQUFPLCtCQUErQixrQkFBa0IseUVBQXlFLFNBQVMsd0JBQXdCLGdDQUFnQyx1REFBdUQ7O0FBRXQwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseUhBQXlILDZEQUFHLHVHQUF1Ryx3REFBRyxLQUFLLDZEQUFHOztBQUV2UDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUJBQWlCLGlIQUFpSCx3REFBRyx3QkFBd0IsbUJBQW1CLHNDQUFzQyxXQUFXLDhCQUE4QixXQUFXLDhCQUE4QixrQkFBa0IsK0JBQStCLGlCQUFpQixpQ0FBaUMsUUFBUSw4REFBQyxDQUFDLDBEQUFDLEVBQUUsdUNBQXVDLDBDQUEwQywwR0FBMEcsS0FBSyxzQkFBc0IsUUFBUSx1Q0FBdUMsOERBQThELElBQUksNEZBQTRGLE9BQU8sa0NBQWtDLFdBQVcsOEJBQThCLHFCQUFxQixRQUFRLDBFQUEwRSxjQUFjLGtDQUFrQyxzREFBc0Qsa0JBQWtCLG9DQUFvQyxrQkFBa0Isa0NBQWtDLG9CQUFvQixxQkFBcUIscUJBQXFCLGtCQUFrQiwwQ0FBMEMsS0FBSyw2REFBQyxTQUFTLGNBQWMsaUNBQWlDLE9BQU8s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QUFxRCx3REFBRyxHQUFHLGtCQUFrQixlQUFlLHVDQUF1QyxrQkFBa0IsZUFBZTs7QUFFLzlMOztBQUViIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL0ZlYXR1cmVTdG9yZS0xOThiZjI4YS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vUG9vbGVkUkJ1c2gtYjA2ZWRjODEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYUIgYXMgbiQxLCBTIGFzIG4kMiwgcywgSCBhcyByIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyBpLCBKIH0gZnJvbSAnLi9hYUJvdW5kaW5nUmVjdC02MTk3MWZlMy5qcyc7XG5pbXBvcnQgeyBmIGFzIGZlIH0gZnJvbSAnLi9mZWF0dXJlQ29udmVyc2lvblV0aWxzLTg3ZDM5Y2NiLmpzJztcbmltcG9ydCB7IE8gfSBmcm9tICcuL2FhQm91bmRpbmdCb3gtMzc2YTJiNmUuanMnO1xuaW1wb3J0IHsgdCBhcyB0JDEgfSBmcm9tICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcbmltcG9ydCB7IGggfSBmcm9tICcuL1Bvb2xlZFJCdXNoLWIwNmVkYzgxLmpzJztcbmltcG9ydCB7IHQgYXMgdCQyLCBhIGFzIHQkNCB9IGZyb20gJy4vT3B0aW1pemVkR2VvbWV0cnktODgxMmU0ZjYuanMnO1xuaW1wb3J0IHsgdCBhcyB0JDMgfSBmcm9tICcuL2NlbnRyb2lkLWY1MTMwNDM1LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGQ9NWU0LG49e21pblg6MCxtaW5ZOjAsbWF4WDowLG1heFk6MH07ZnVuY3Rpb24gdChpLHMsZCl7bi5taW5YPXNbMF0sbi5taW5ZPXNbMV0sbi5tYXhYPXNbMl0sbi5tYXhZPXNbM10saS5zZWFyY2gobixkKTt9Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2luZGV4SW52YWxpZD0hMSx0aGlzLl9ib3VuZHNUb0xvYWQ9W10sdGhpcy5fYm91bmRzQnlJZD1uZXcgTWFwLHRoaXMuX2lkQnlCb3VuZHM9bmV3IE1hcCx0aGlzLl9pbmRleD1uZXcgaCg5LHQkMShcImNzcC1yZXN0cmljdGlvbnNcIik/aT0+KHttaW5YOmlbMF0sbWluWTppWzFdLG1heFg6aVsyXSxtYXhZOmlbM119KTpbXCJbMF1cIixcIlsxXVwiLFwiWzJdXCIsXCJbM11cIl0pLHRoaXMuX2xvYWRJbmRleD0oKT0+e2lmKHRoaXMuX2luZGV4SW52YWxpZCl7Y29uc3QgaT1uZXcgQXJyYXkodGhpcy5faWRCeUJvdW5kcy5zaXplKTtsZXQgcz0wO3RoaXMuX2lkQnlCb3VuZHMuZm9yRWFjaCgoKGQsbik9PntpW3MrK109bjt9KSksdGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2luZGV4LmNsZWFyKCksdGhpcy5faW5kZXgubG9hZChpKTt9ZWxzZSB0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoJiYodGhpcy5faW5kZXgubG9hZCh0aGlzLl9ib3VuZHNUb0xvYWQuZmlsdGVyKChpPT50aGlzLl9pZEJ5Qm91bmRzLmhhcyhpKSkpKSx0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoPTApO307fWNsZWFyKCl7dGhpcy5faW5kZXhJbnZhbGlkPSExLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg9MCx0aGlzLl9ib3VuZHNCeUlkLmNsZWFyKCksdGhpcy5faWRCeUJvdW5kcy5jbGVhcigpLHRoaXMuX2luZGV4LmNsZWFyKCk7fWRlbGV0ZShpKXtjb25zdCBzPXRoaXMuX2JvdW5kc0J5SWQuZ2V0KGkpO3RoaXMuX2JvdW5kc0J5SWQuZGVsZXRlKGkpLHMmJih0aGlzLl9pZEJ5Qm91bmRzLmRlbGV0ZShzKSx0aGlzLl9pbmRleEludmFsaWR8fHRoaXMuX2luZGV4LnJlbW92ZShzKSk7fWZvckVhY2hJbkJvdW5kcyhpLHMpe3RoaXMuX2xvYWRJbmRleCgpLHQodGhpcy5faW5kZXgsaSwoaT0+cyh0aGlzLl9pZEJ5Qm91bmRzLmdldChpKSkpKTt9Z2V0KGkpe3JldHVybiB0aGlzLl9ib3VuZHNCeUlkLmdldChpKX1oYXMoaSl7cmV0dXJuIHRoaXMuX2JvdW5kc0J5SWQuaGFzKGkpfWludmFsaWRhdGVJbmRleCgpe3RoaXMuX2luZGV4SW52YWxpZHx8KHRoaXMuX2luZGV4SW52YWxpZD0hMCx0aGlzLl9ib3VuZHNUb0xvYWQubGVuZ3RoPTApO31zZXQoaSxzKXtpZighdGhpcy5faW5kZXhJbnZhbGlkKXtjb25zdCBzPXRoaXMuX2JvdW5kc0J5SWQuZ2V0KGkpO3MmJih0aGlzLl9pbmRleC5yZW1vdmUocyksdGhpcy5faWRCeUJvdW5kcy5kZWxldGUocykpO310aGlzLl9ib3VuZHNCeUlkLnNldChpLHMpLHMmJih0aGlzLl9pZEJ5Qm91bmRzLnNldChzLGkpLHRoaXMuX2luZGV4SW52YWxpZHx8KHRoaXMuX2JvdW5kc1RvTG9hZC5wdXNoKHMpLHRoaXMuX2JvdW5kc1RvTG9hZC5sZW5ndGg+ZCYmdGhpcy5fbG9hZEluZGV4KCkpKTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbz17Z2V0T2JqZWN0SWQ6dD0+dC5vYmplY3RJZCxnZXRBdHRyaWJ1dGVzOnQ9PnQuYXR0cmlidXRlcyxnZXRBdHRyaWJ1dGU6KHQsZSk9PnQuYXR0cmlidXRlc1tlXSxjbG9uZVdpdGhHZW9tZXRyeTooZSxyKT0+bmV3IHQkMihyLGUuYXR0cmlidXRlcyxudWxsLGUub2JqZWN0SWQpLGdldEdlb21ldHJ5OnQ9PnQuZ2VvbWV0cnksZ2V0Q2VudHJvaWQ6KHQsbyk9Pih0LmNlbnRyb2lkfHwodC5jZW50cm9pZD10JDMobmV3IHQkNCx0Lmdlb21ldHJ5LG8uaGFzWixvLmhhc00pKSx0LmNlbnRyb2lkKX07XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB1e2NvbnN0cnVjdG9yKGUkMSl7dGhpcy5nZW9tZXRyeUluZm89ZSQxLHRoaXMuX2JvdW5kc1N0b3JlPW5ldyBlLHRoaXMuX2ZlYXR1cmVzQnlJZD1uZXcgTWFwLHRoaXMuX21hcmtlZElkcz1uZXcgU2V0LHRoaXMuZXZlbnRzPW5ldyBuJDEsdGhpcy5mZWF0dXJlQWRhcHRlcj1vO31nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnlJbmZvLmdlb21ldHJ5VHlwZX1nZXQgaGFzTSgpe3JldHVybiB0aGlzLmdlb21ldHJ5SW5mby5oYXNNfWdldCBoYXNaKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnlJbmZvLmhhc1p9Z2V0IG51bUZlYXR1cmVzKCl7cmV0dXJuIHRoaXMuX2ZlYXR1cmVzQnlJZC5zaXplfWdldCBmdWxsQm91bmRzKCl7aWYoIXRoaXMubnVtRmVhdHVyZXMpcmV0dXJuIG51bGw7Y29uc3QgZT1pKEopO3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuZm9yRWFjaCgodD0+e2NvbnN0IHI9dGhpcy5fYm91bmRzU3RvcmUuZ2V0KHQub2JqZWN0SWQpO3ImJihlWzBdPU1hdGgubWluKHJbMF0sZVswXSksZVsxXT1NYXRoLm1pbihyWzFdLGVbMV0pLGVbMl09TWF0aC5tYXgoclsyXSxlWzJdKSxlWzNdPU1hdGgubWF4KHJbM10sZVszXSkpO30pKSxlfWdldCBzdG9yZVN0YXRpc3RpY3MoKXtsZXQgZT0wO3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuZm9yRWFjaCgodD0+e3QuZ2VvbWV0cnkmJnQuZ2VvbWV0cnkuY29vcmRzJiYoZSs9dC5nZW9tZXRyeS5jb29yZHMubGVuZ3RoKTt9KSkse2ZlYXR1cmVDb3VudDp0aGlzLl9mZWF0dXJlc0J5SWQuc2l6ZSx2ZXJ0ZXhDb3VudDplLyh0aGlzLmhhc1o/dGhpcy5oYXNNPzQ6Mzp0aGlzLmhhc00/MzoyKX19YWRkKGUpe3RoaXMuX2FkZChlKSx0aGlzLl9lbWl0Q2hhbmdlZCgpO31hZGRNYW55KGUpe2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fYWRkKHQpO3RoaXMuX2VtaXRDaGFuZ2VkKCk7fWNsZWFyKCl7dGhpcy5fZmVhdHVyZXNCeUlkLmNsZWFyKCksdGhpcy5fYm91bmRzU3RvcmUuY2xlYXIoKSx0aGlzLl9lbWl0Q2hhbmdlZCgpO31yZW1vdmVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5fZmVhdHVyZXNCeUlkLmdldChlKTtyZXR1cm4gdD8odGhpcy5fcmVtb3ZlKHQpLHRoaXMuX2VtaXRDaGFuZ2VkKCksdCk6bnVsbH1yZW1vdmVNYW55QnlJZChlKXt0aGlzLl9ib3VuZHNTdG9yZS5pbnZhbGlkYXRlSW5kZXgoKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQodCk7ZSYmdGhpcy5fcmVtb3ZlKGUpO310aGlzLl9lbWl0Q2hhbmdlZCgpO31mb3JFYWNoQm91bmRzKGUsdCxyKXtmb3IoY29uc3QgcyBvZiBlKXtjb25zdCBlPXRoaXMuX2JvdW5kc1N0b3JlLmdldChzLm9iamVjdElkKTtlJiZ0KE8ocixlKSk7fX1nZXRGZWF0dXJlKGUpe3JldHVybiB0aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KGUpfWhhcyhlKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNCeUlkLmhhcyhlKX1mb3JFYWNoKGUpe3RoaXMuX2ZlYXR1cmVzQnlJZC5mb3JFYWNoKCh0PT5lKHQpKSk7fWZvckVhY2hJbkJvdW5kcyhlLHQpe3RoaXMuX2JvdW5kc1N0b3JlLmZvckVhY2hJbkJvdW5kcyhlLChlPT57dCh0aGlzLl9mZWF0dXJlc0J5SWQuZ2V0KGUpKTt9KSk7fXN0YXJ0TWFya2luZ1VzZWRGZWF0dXJlcygpe3RoaXMuX2JvdW5kc1N0b3JlLmludmFsaWRhdGVJbmRleCgpLHRoaXMuX21hcmtlZElkcy5jbGVhcigpO31zd2VlcCgpe2xldCBlPSExO3RoaXMuX2ZlYXR1cmVzQnlJZC5mb3JFYWNoKCgodCxyKT0+e3RoaXMuX21hcmtlZElkcy5oYXMocil8fChlPSEwLHRoaXMuX3JlbW92ZSh0KSk7fSkpLHRoaXMuX21hcmtlZElkcy5jbGVhcigpLGUmJnRoaXMuX2VtaXRDaGFuZ2VkKCk7fV9lbWl0Q2hhbmdlZCgpe3RoaXMuZXZlbnRzLmVtaXQoXCJjaGFuZ2VkXCIsdm9pZCAwKTt9X2FkZChzJDEpe2lmKCFzJDEpcmV0dXJuO2NvbnN0IGkkMT1zJDEub2JqZWN0SWQ7aWYobnVsbD09aSQxKXJldHVybiB2b2lkIG4kMi5nZXRMb2dnZXIoXCJlc3JpLmxheWVycy5ncmFwaGljcy5kYXRhLkZlYXR1cmVTdG9yZVwiKS5lcnJvcihuZXcgcyhcImZlYXR1cmVzdG9yZTppbnZhbGlkLWZlYXR1cmVcIixcImZlYXR1cmUgaWQgaXMgbWlzc2luZ1wiLHtmZWF0dXJlOnMkMX0pKTtjb25zdCBkPXRoaXMuX2ZlYXR1cmVzQnlJZC5nZXQoaSQxKTtsZXQgbjtpZih0aGlzLl9tYXJrZWRJZHMuYWRkKGkkMSksZD8ocyQxLmRpc3BsYXlJZD1kLmRpc3BsYXlJZCxuPXRoaXMuX2JvdW5kc1N0b3JlLmdldChpJDEpLHRoaXMuX2JvdW5kc1N0b3JlLmRlbGV0ZShpJDEpKTpyKHRoaXMub25GZWF0dXJlQWRkKSYmdGhpcy5vbkZlYXR1cmVBZGQocyQxKSwhcyQxLmdlb21ldHJ5fHwhcyQxLmdlb21ldHJ5LmNvb3Jkc3x8IXMkMS5nZW9tZXRyeS5jb29yZHMubGVuZ3RoKXJldHVybiB0aGlzLl9ib3VuZHNTdG9yZS5zZXQoaSQxLG51bGwpLHZvaWQgdGhpcy5fZmVhdHVyZXNCeUlkLnNldChpJDEscyQxKTtuPWZlKG58fGkoKSxzJDEuZ2VvbWV0cnksdGhpcy5nZW9tZXRyeUluZm8uaGFzWix0aGlzLmdlb21ldHJ5SW5mby5oYXNNKSx0aGlzLl9ib3VuZHNTdG9yZS5zZXQoaSQxLG4pLHRoaXMuX2ZlYXR1cmVzQnlJZC5zZXQoaSQxLHMkMSk7fV9yZW1vdmUodCl7cmV0dXJuIHIodGhpcy5vbkZlYXR1cmVSZW1vdmUpJiZ0aGlzLm9uRmVhdHVyZVJlbW92ZSh0KSx0aGlzLl9tYXJrZWRJZHMuZGVsZXRlKHQub2JqZWN0SWQpLHRoaXMuX2JvdW5kc1N0b3JlLmRlbGV0ZSh0Lm9iamVjdElkKSx0aGlzLl9mZWF0dXJlc0J5SWQuZGVsZXRlKHQub2JqZWN0SWQpLHR9fVxuXG5leHBvcnQgeyBlLCB1IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlYXR1cmVTdG9yZS0xOThiZjI4YS5qcy5tYXAiLCJpbXBvcnQgeyBiNSBhcyBuLCBhRiBhcyBtJDEsIGNCIGFzIGIkMSwgY0MgYXMgdyQxIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyByIGFzIHIkMSB9IGZyb20gJy4vcXVpY2tzZWxlY3QtMTI3OTEyOGYuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgaHtjb25zdHJ1Y3Rvcih0PTksaSl7dGhpcy5jb21wYXJlTWluWD1sLHRoaXMuY29tcGFyZU1pblk9Yyx0aGlzLnRvQkJveD1mdW5jdGlvbih0KXtyZXR1cm4gdH0sdGhpcy5fbWF4RW50cmllcz1NYXRoLm1heCg0LHR8fDkpLHRoaXMuX21pbkVudHJpZXM9TWF0aC5tYXgoMixNYXRoLmNlaWwoLjQqdGhpcy5fbWF4RW50cmllcykpLGkmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpP3RoaXMudG9CQm94PWk6dGhpcy5faW5pdEZvcm1hdChpKSksdGhpcy5jbGVhcigpO31kZXN0cm95KCl7dGhpcy5jbGVhcigpLE0ucHJ1bmUoKSxYLnBydW5lKCksWS5wcnVuZSgpLEIucHJ1bmUoKTt9YWxsKHQpe3RoaXMuX2FsbCh0aGlzLmRhdGEsdCk7fXNlYXJjaCh0LGkpe2xldCBuPXRoaXMuZGF0YTtjb25zdCBlPXRoaXMudG9CQm94O2lmKHAodCxuKSlmb3IoTS5jbGVhcigpO247KXtmb3IobGV0IHM9MCxoPW4uY2hpbGRyZW4ubGVuZ3RoO3M8aDtzKyspe2NvbnN0IGg9bi5jaGlsZHJlbltzXSxhPW4ubGVhZj9lKGgpOmg7cCh0LGEpJiYobi5sZWFmP2koaCk6eCh0LGEpP3RoaXMuX2FsbChoLGkpOk0ucHVzaChoKSk7fW49TS5wb3AoKTt9fWNvbGxpZGVzKHQpe2xldCBpPXRoaXMuZGF0YTtjb25zdCBuPXRoaXMudG9CQm94O2lmKCFwKHQsaSkpcmV0dXJuICExO2ZvcihNLmNsZWFyKCk7aTspe2ZvcihsZXQgZT0wLHM9aS5jaGlsZHJlbi5sZW5ndGg7ZTxzO2UrKyl7Y29uc3Qgcz1pLmNoaWxkcmVuW2VdLGg9aS5sZWFmP24ocyk6cztpZihwKHQsaCkpe2lmKGkubGVhZnx8eCh0LGgpKXJldHVybiAhMDtNLnB1c2gocyk7fX1pPU0ucG9wKCk7fXJldHVybiAhMX1sb2FkKHQpe2lmKCF0Lmxlbmd0aClyZXR1cm4gdGhpcztpZih0Lmxlbmd0aDx0aGlzLl9taW5FbnRyaWVzKXtmb3IobGV0IGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspdGhpcy5pbnNlcnQodFtpXSk7cmV0dXJuIHRoaXN9bGV0IGk9dGhpcy5fYnVpbGQodC5zbGljZSgwLHQubGVuZ3RoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09aS5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxpKTtlbHNlIHtpZih0aGlzLmRhdGEuaGVpZ2h0PGkuaGVpZ2h0KXtjb25zdCB0PXRoaXMuZGF0YTt0aGlzLmRhdGE9aSxpPXQ7fXRoaXMuX2luc2VydChpLHRoaXMuZGF0YS5oZWlnaHQtaS5oZWlnaHQtMSwhMCk7fWVsc2UgdGhpcy5kYXRhPWk7cmV0dXJuIHRoaXN9aW5zZXJ0KHQpe3JldHVybiB0JiZ0aGlzLl9pbnNlcnQodCx0aGlzLmRhdGEuaGVpZ2h0LTEpLHRoaXN9Y2xlYXIoKXtyZXR1cm4gdGhpcy5kYXRhPW5ldyBiKFtdKSx0aGlzfXJlbW92ZShuKXtpZighbilyZXR1cm4gdGhpcztsZXQgZSxzPXRoaXMuZGF0YSxoPW51bGwsYT0wLHI9ITE7Y29uc3Qgbz10aGlzLnRvQkJveChuKTtmb3IoWS5jbGVhcigpLEIuY2xlYXIoKTtzfHxZLmxlbmd0aD4wOyl7dmFyIGw7aWYoIXMpcz1tJDEoWS5wb3AoKSksaD1ZLmRhdGFbWS5sZW5ndGgtMV0sYT1udWxsIT0obD1CLnBvcCgpKT9sOjAscj0hMDtpZihzLmxlYWYmJihlPWIkMShzLmNoaWxkcmVuLG4scy5jaGlsZHJlbi5sZW5ndGgscy5pbmRleEhpbnQpLC0xIT09ZSkpcmV0dXJuIHMuY2hpbGRyZW4uc3BsaWNlKGUsMSksWS5wdXNoKHMpLHRoaXMuX2NvbmRlbnNlKFkpLHRoaXM7cnx8cy5sZWFmfHwheChzLG8pP2g/KGErKyxzPWguY2hpbGRyZW5bYV0scj0hMSk6cz1udWxsOihZLnB1c2gocyksQi5wdXNoKGEpLGE9MCxoPXMscz1zLmNoaWxkcmVuWzBdKTt9cmV0dXJuIHRoaXN9dG9KU09OKCl7cmV0dXJuIHRoaXMuZGF0YX1mcm9tSlNPTih0KXtyZXR1cm4gdGhpcy5kYXRhPXQsdGhpc31fYWxsKHQsaSl7bGV0IG49dDtmb3IoWC5jbGVhcigpO247KXt2YXIgZTtpZighMD09PW4ubGVhZilmb3IoY29uc3QgdCBvZiBuLmNoaWxkcmVuKWkodCk7ZWxzZSBYLnB1c2hBcnJheShuLmNoaWxkcmVuKTtuPW51bGwhPShlPVgucG9wKCkpP2U6bnVsbDt9fV9idWlsZCh0LGksbixlKXtjb25zdCBzPW4taSsxO2xldCBoPXRoaXMuX21heEVudHJpZXM7aWYoczw9aCl7Y29uc3QgZT1uZXcgYih0LnNsaWNlKGksbisxKSk7cmV0dXJuIGEoZSx0aGlzLnRvQkJveCksZX1lfHwoZT1NYXRoLmNlaWwoTWF0aC5sb2cocykvTWF0aC5sb2coaCkpLGg9TWF0aC5jZWlsKHMvaCoqKGUtMSkpKTtjb25zdCByPW5ldyBqKFtdKTtyLmhlaWdodD1lO2NvbnN0IG89TWF0aC5jZWlsKHMvaCksbD1vKk1hdGguY2VpbChNYXRoLnNxcnQoaCkpO2codCxpLG4sbCx0aGlzLmNvbXBhcmVNaW5YKTtmb3IobGV0IGE9aTthPD1uO2ErPWwpe2NvbnN0IGk9TWF0aC5taW4oYStsLTEsbik7Zyh0LGEsaSxvLHRoaXMuY29tcGFyZU1pblkpO2ZvcihsZXQgbj1hO248PWk7bis9byl7Y29uc3Qgcz1NYXRoLm1pbihuK28tMSxpKTtyLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCxuLHMsZS0xKSk7fX1yZXR1cm4gYShyLHRoaXMudG9CQm94KSxyfV9jaG9vc2VTdWJ0cmVlKHQsaSxuLGUpe2Zvcig7ZS5wdXNoKGkpLCEwIT09aS5sZWFmJiZlLmxlbmd0aC0xIT09bjspe2xldCBuLGU9MS8wLHM9MS8wO2ZvcihsZXQgaD0wLGE9aS5jaGlsZHJlbi5sZW5ndGg7aDxhO2grKyl7Y29uc3QgYT1pLmNoaWxkcmVuW2hdLHI9bShhKSxvPWQodCxhKS1yO288cz8ocz1vLGU9cjxlP3I6ZSxuPWEpOm89PT1zJiZyPGUmJihlPXIsbj1hKTt9aT1ufHxpLmNoaWxkcmVuWzBdO31yZXR1cm4gaX1faW5zZXJ0KHQsaSxuKXtjb25zdCBlPXRoaXMudG9CQm94LHM9bj90OmUodCk7WS5jbGVhcigpO2NvbnN0IGg9dGhpcy5fY2hvb3NlU3VidHJlZShzLHRoaXMuZGF0YSxpLFkpO2ZvcihoLmNoaWxkcmVuLnB1c2godCksbyhoLHMpO2k+PTAmJlkuZGF0YVtpXS5jaGlsZHJlbi5sZW5ndGg+dGhpcy5fbWF4RW50cmllczspdGhpcy5fc3BsaXQoWSxpKSxpLS07dGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKHMsWSxpKTt9X3NwbGl0KHQsaSl7Y29uc3Qgbj10LmRhdGFbaV0sZT1uLmNoaWxkcmVuLmxlbmd0aCxzPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG4scyxlKTtjb25zdCBoPXRoaXMuX2Nob29zZVNwbGl0SW5kZXgobixzLGUpO2lmKCFoKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFwiICBFcnJvcjogYXNzZXJ0aW9uIGZhaWxlZCBhdCBQb29sZWRSQnVzaC5fc3BsaXQ6IG5vIHZhbGlkIHNwbGl0IGluZGV4XCIpO2NvbnN0IHI9bi5jaGlsZHJlbi5zcGxpY2UoaCxuLmNoaWxkcmVuLmxlbmd0aC1oKSxvPW4ubGVhZj9uZXcgYihyKTpuZXcgaihyKTtvLmhlaWdodD1uLmhlaWdodCxhKG4sdGhpcy50b0JCb3gpLGEobyx0aGlzLnRvQkJveCksaT90LmRhdGFbaS0xXS5jaGlsZHJlbi5wdXNoKG8pOnRoaXMuX3NwbGl0Um9vdChuLG8pO31fc3BsaXRSb290KHQsaSl7dGhpcy5kYXRhPW5ldyBqKFt0LGldKSx0aGlzLmRhdGEuaGVpZ2h0PXQuaGVpZ2h0KzEsYSh0aGlzLmRhdGEsdGhpcy50b0JCb3gpO31fY2hvb3NlU3BsaXRJbmRleCh0LGksbil7bGV0IGUscyxoO2U9cz0xLzA7Zm9yKGxldCBhPWk7YTw9bi1pO2ErKyl7Y29uc3QgaT1yKHQsMCxhLHRoaXMudG9CQm94KSxvPXIodCxhLG4sdGhpcy50b0JCb3gpLGw9ZihpLG8pLGM9bShpKSttKG8pO2w8ZT8oZT1sLGg9YSxzPWM8cz9jOnMpOmw9PT1lJiZjPHMmJihzPWMsaD1hKTt9cmV0dXJuIGh9X2Nob29zZVNwbGl0QXhpcyh0LGksbil7Y29uc3QgZT10LmxlYWY/dGhpcy5jb21wYXJlTWluWDpsLHM9dC5sZWFmP3RoaXMuY29tcGFyZU1pblk6Yzt0aGlzLl9hbGxEaXN0TWFyZ2luKHQsaSxuLGUpPHRoaXMuX2FsbERpc3RNYXJnaW4odCxpLG4scykmJnQuY2hpbGRyZW4uc29ydChlKTt9X2FsbERpc3RNYXJnaW4odCxpLG4sZSl7dC5jaGlsZHJlbi5zb3J0KGUpO2NvbnN0IHM9dGhpcy50b0JCb3gsaD1yKHQsMCxpLHMpLGE9cih0LG4taSxuLHMpO2xldCBsPXUoaCkrdShhKTtmb3IobGV0IHI9aTtyPG4taTtyKyspe2NvbnN0IGk9dC5jaGlsZHJlbltyXTtvKGgsdC5sZWFmP3MoaSk6aSksbCs9dShoKTt9Zm9yKGxldCByPW4taS0xO3I+PWk7ci0tKXtjb25zdCBpPXQuY2hpbGRyZW5bcl07byhhLHQubGVhZj9zKGkpOmkpLGwrPXUoYSk7fXJldHVybiBsfV9hZGp1c3RQYXJlbnRCQm94ZXModCxpLG4pe2ZvcihsZXQgZT1uO2U+PTA7ZS0tKW8oaS5kYXRhW2VdLHQpO31fY29uZGVuc2UodCl7Zm9yKGxldCBuPXQubGVuZ3RoLTE7bj49MDtuLS0pe2NvbnN0IGU9dC5kYXRhW25dO2lmKDA9PT1lLmNoaWxkcmVuLmxlbmd0aClpZihuPjApe2NvbnN0IHM9dC5kYXRhW24tMV0saD1zLmNoaWxkcmVuO2guc3BsaWNlKGIkMShoLGUsaC5sZW5ndGgscy5pbmRleEhpbnQpLDEpO31lbHNlIHRoaXMuY2xlYXIoKTtlbHNlIGEoZSx0aGlzLnRvQkJveCk7fX1faW5pdEZvcm1hdCh0KXtjb25zdCBpPVtcInJldHVybiBhXCIsXCIgLSBiXCIsXCI7XCJdO3RoaXMuY29tcGFyZU1pblg9bmV3IEZ1bmN0aW9uKFwiYVwiLFwiYlwiLGkuam9pbih0WzBdKSksdGhpcy5jb21wYXJlTWluWT1uZXcgRnVuY3Rpb24oXCJhXCIsXCJiXCIsaS5qb2luKHRbMV0pKSx0aGlzLnRvQkJveD1uZXcgRnVuY3Rpb24oXCJhXCIsXCJyZXR1cm4ge21pblg6IGFcIit0WzBdK1wiLCBtaW5ZOiBhXCIrdFsxXStcIiwgbWF4WDogYVwiK3RbMl0rXCIsIG1heFk6IGFcIit0WzNdK1wifTtcIik7fX1mdW5jdGlvbiBhKHQsaSl7cih0LDAsdC5jaGlsZHJlbi5sZW5ndGgsaSx0KTt9ZnVuY3Rpb24gcih0LGksbixlLHMpe3N8fChzPW5ldyBiKFtdKSkscy5taW5YPTEvMCxzLm1pblk9MS8wLHMubWF4WD0tMS8wLHMubWF4WT0tMS8wO2ZvcihsZXQgaCxhPWk7YTxuO2ErKyloPXQuY2hpbGRyZW5bYV0sbyhzLHQubGVhZj9lKGgpOmgpO3JldHVybiBzfWZ1bmN0aW9uIG8odCxpKXt0Lm1pblg9TWF0aC5taW4odC5taW5YLGkubWluWCksdC5taW5ZPU1hdGgubWluKHQubWluWSxpLm1pblkpLHQubWF4WD1NYXRoLm1heCh0Lm1heFgsaS5tYXhYKSx0Lm1heFk9TWF0aC5tYXgodC5tYXhZLGkubWF4WSk7fWZ1bmN0aW9uIGwodCxpKXtyZXR1cm4gdC5taW5YLWkubWluWH1mdW5jdGlvbiBjKHQsaSl7cmV0dXJuIHQubWluWS1pLm1pbll9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gKHQubWF4WC10Lm1pblgpKih0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiB1KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBkKHQsaSl7cmV0dXJuIChNYXRoLm1heChpLm1heFgsdC5tYXhYKS1NYXRoLm1pbihpLm1pblgsdC5taW5YKSkqKE1hdGgubWF4KGkubWF4WSx0Lm1heFkpLU1hdGgubWluKGkubWluWSx0Lm1pblkpKX1mdW5jdGlvbiBmKHQsaSl7Y29uc3Qgbj1NYXRoLm1heCh0Lm1pblgsaS5taW5YKSxlPU1hdGgubWF4KHQubWluWSxpLm1pblkpLHM9TWF0aC5taW4odC5tYXhYLGkubWF4WCksaD1NYXRoLm1pbih0Lm1heFksaS5tYXhZKTtyZXR1cm4gTWF0aC5tYXgoMCxzLW4pKk1hdGgubWF4KDAsaC1lKX1mdW5jdGlvbiB4KHQsaSl7cmV0dXJuIHQubWluWDw9aS5taW5YJiZ0Lm1pblk8PWkubWluWSYmaS5tYXhYPD10Lm1heFgmJmkubWF4WTw9dC5tYXhZfWZ1bmN0aW9uIHAodCxpKXtyZXR1cm4gaS5taW5YPD10Lm1heFgmJmkubWluWTw9dC5tYXhZJiZpLm1heFg+PXQubWluWCYmaS5tYXhZPj10Lm1pbll9ZnVuY3Rpb24gZyhpLG4sZSxoLGEpe2NvbnN0IHI9W24sZV07Zm9yKDtyLmxlbmd0aDspe2NvbnN0IG49bSQxKHIucG9wKCkpLGU9bSQxKHIucG9wKCkpO2lmKG4tZTw9aCljb250aW51ZTtjb25zdCBvPWUrTWF0aC5jZWlsKChuLWUpL2gvMikqaDtyJDEoaSxvLGUsbixhKSxyLnB1c2goZSxvLG8sbik7fX1jb25zdCBNPW5ldyBuLFg9bmV3IG4sWT1uZXcgbixCPW5ldyBuKHtkZWFsbG9jYXRvcjp2b2lkIDB9KTtjbGFzcyBfe2NvbnN0cnVjdG9yKCl7dGhpcy5taW5YPTEvMCx0aGlzLm1pblk9MS8wLHRoaXMubWF4WD0tMS8wLHRoaXMubWF4WT0tMS8wO319Y2xhc3MgdyBleHRlbmRzIF97Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuaGVpZ2h0PTEsdGhpcy5pbmRleEhpbnQ9bmV3IHckMTt9fWNsYXNzIGIgZXh0ZW5kcyB3e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jaGlsZHJlbj10LHRoaXMubGVhZj0hMDt9fWNsYXNzIGogZXh0ZW5kcyB3e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5jaGlsZHJlbj10LHRoaXMubGVhZj0hMTt9fVxuXG5leHBvcnQgeyBoIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvb2xlZFJCdXNoLWIwNmVkYzgxLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==