"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_esm_styl-7aa056"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/styleUtils-6019f3b9.js":
/*!**************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/styleUtils-6019f3b9.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ t),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   s: () => (/* binding */ styleUtils),
/* harmony export */   t: () => (/* binding */ t$1)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function p(p,S=!1,a=!1,c$1=!0){if(!p)return {symbol:null};let j;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c)(p)||p instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b)j=p.clone();else if("cim"===p.type)j=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.L.fromCIMSymbol(p);else if(p instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d)j=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.u.fromSimpleLineSymbol(p);else if(p instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.y)j=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.L.fromSimpleMarkerSymbol(p);else if(p instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.n)j=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.L.fromPictureMarkerSymbol(p);else if(p instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a)j=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.h.fromSimpleFillSymbol(p);else {if(!(p instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.e))return {error:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${p.type||p.declaredClass}' is unsupported in 3D`,{symbol:p})};j=c$1?_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.f.fromTextSymbol(p):_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.L.fromTextSymbol(p);}if(S&&(j.id=p.id),a&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c)(j))for(let o=0;o<j.symbolLayers.length;++o)j.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return {symbol:j}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t$1(e,s,o,n){const r=m$1(e,{},n);r&&(s[o]=r);}function m$1(n,t,m){if(!n)return null;if(m&&"web-scene"===m.origin&&!(n instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.A)&&!(n instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b)){const s="cim"!==n.type?p(n):{symbol:null,error:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:n})};return s.symbol?s.symbol.write(t,m):(m.messages&&m.messages.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:n,context:m,error:s.error})),null)}return m&&"web-map"===m.origin&&"web-style"===n.type?(m.messages&&m.messages.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:n,context:m})),null):n.write(t,m)}function i(e,s){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.k)(e,null,s)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function a(a){return a=a||_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.e.location.hostname,e.some((c=>{var t;return null!=(null==(t=a)?void 0:t.match(c))}))}function t(a,t){return a&&(t=t||_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.e.location.hostname)?null!=t.match(r$1)||null!=t.match(m)?a.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(n)||null!=t.match(s)?a.replace("static.arcgis.com","staticqa.arcgis.com"):a:a}const r$1=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,m=/^[\w-]*\.mapsdevext.arcgis.com$/,s=/^[\w-]*\.mapsqa.arcgis.com$/,e=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,r$1,n,/^jsapps.esri.com$/,m,s];

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function o(o){return !!(0,_arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__.t)(`enable-feature:${o}`)}const r=()=>o("force-wosr");

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const b={};function d(e,t){return P(e,t).then((t=>({data:t.data,baseUrl:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.g)(e),styleUrl:e})))}function h(e,t,r){const o=t.portal||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.w.getDefault();let s;const n=`${o.url} - ${o.user&&o.user.username} - ${e}`;return b[n]||(b[n]=j(e,o,r).then((e=>(s=e,e.fetchData()))).then((t=>({data:t,baseUrl:s.itemUrl,styleName:e})))),b[n]}function j(t,r,o){return r.load(o).then((()=>{const e=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.i({disableExtraQuery:!0,query:`owner:${D} AND type:${R} AND typekeywords:"${t}"`});return r.queryItems(e,o)})).then((({results:r})=>{let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r))for(const e of r){if(e.typeKeywords.some((e=>e.toLowerCase()===n))&&e.type===R&&e.owner===D){s=e;break}}if(!s)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return s.load(o)}))}function g(t,r,o){return t.styleUrl?d(t.styleUrl,o):t.styleName?h(t.styleName,r,o):Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function w(t,r,o,s){return t.name?t.styleName&&"Esri2DPointSymbolsStyle"===t.styleName?E(t,r,s):g(t,r,s).then((e=>U(e,t.name,r,o,s))):Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function U(t$1,n,l$1,a$1,p){const b=t$1.data,d={portal:l$1.portal,url:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(t$1.baseUrl),origin:"portal-item"},h=b.items.find((e=>e.name===n));if(!h){const t=`The symbol name '${n}' could not be found`;return Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s("symbolstyleutils:symbol-name-not-found",t,{symbolName:n}))}let j=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.l)(S(h,a$1),d),g=h.thumbnail&&h.thumbnail.href;const w=h.thumbnail&&h.thumbnail.imageData;a()&&(j=t(j),g=t(g));const U={portal:l$1.portal,url:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.g)(j)),origin:"portal-item"};return P(j,p).then((e=>{const r="cimRef"===a$1?N(e.data):e.data,o=i(r,U);if(o&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c)(o)){if(g){const e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.l)(g,d);o.thumbnail=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.m({url:e});}else w&&(o.thumbnail=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.m({url:`data:image/png;base64,${w}`}));t$1.styleUrl?o.styleOrigin=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.p({portal:l$1.portal,styleUrl:t$1.styleUrl,name:n}):t$1.styleName&&(o.styleOrigin=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.p({portal:l$1.portal,styleName:t$1.styleName,name:n}));}return o}))}function N(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function S(e,t){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!r())for(const r of e.formatInfos)if("gltf"===r.type)return r.href;return e.webRef}function $(e){for(const t of e.typeKeywords)if(/^Esri.*Style$/.test(t)&&"Esri Style"!==t)return t}function E(e,t,s){const n=q.replace(/\{SymbolName\}/gi,e.name);return P(n,s).then((e=>{const s=N(e.data);return i(s,{portal:t.portal,url:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.g)(n)),origin:"portal-item"})}))}function P(e,r){const o={responseType:"json",query:{f:"json"},...r};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.z)(e),o)}const D="esri_en",R="Style",q="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";

const styleUtils = /*#__PURE__*/Object.freeze({
	__proto__: null,
	fetchStyle: g,
	fetchSymbolFromStyle: U,
	resolveWebStyleSymbol: w,
	styleNameFromItem: $
});



//# sourceMappingURL=styleUtils-6019f3b9.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfZXNtX3N0eWwtN2FhMDU2LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNk47QUFDekk7O0FBRXBGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGNBQWMsYUFBYSxNQUFNLEdBQUcsMkRBQUMsa0JBQWtCLHVEQUFHLGFBQWEseUJBQXlCLHVEQUFDLGtCQUFrQixxQkFBcUIsdURBQUcsR0FBRyx1REFBQyx5QkFBeUIscUJBQXFCLHVEQUFDLEdBQUcsdURBQUMsMkJBQTJCLHFCQUFxQix1REFBRyxHQUFHLHVEQUFDLDRCQUE0QixxQkFBcUIsdURBQUcsR0FBRyx1REFBRyx5QkFBeUIsTUFBTSxrQkFBa0IsdURBQUcsVUFBVSxVQUFVLHVEQUFHLGlFQUFpRSx3QkFBd0IseUJBQXlCLFNBQVMsR0FBRyxNQUFNLHVEQUFHLG1CQUFtQix1REFBQyxvQkFBb0IscUJBQXFCLDJEQUFDLGdCQUFnQix3QkFBd0Isa0RBQWtELFFBQVE7O0FBRXBzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsSUFBSSxhQUFhLG9CQUFvQixrQkFBa0IsNkNBQTZDLHVEQUFDLGtCQUFrQix1REFBRyxHQUFHLDZCQUE2QixzQkFBc0IsdURBQUcsdUZBQXVGLFNBQVMsR0FBRyxxRUFBcUUsdURBQUcsMENBQTBDLGdCQUFnQixtR0FBbUcsaUNBQWlDLFNBQVMsc0ZBQXNGLHVEQUFHLDBDQUEwQyxnQkFBZ0IsNkZBQTZGLG1CQUFtQixzQkFBc0IsZ0JBQWdCLE9BQU8sMkRBQUM7O0FBRTUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsWUFBWSw0RUFBRywrQkFBK0IsTUFBTSw2Q0FBNkMsR0FBRyxnQkFBZ0IsZ0JBQWdCLDRFQUFHLDJNQUEyTTs7QUFFaFc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVMsZ0ZBQUcsbUJBQW1CLEVBQUUsR0FBRzs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQix5QkFBeUIsb0JBQW9CLDJEQUFFLGVBQWUsSUFBSSxrQkFBa0Isa0JBQWtCLHVEQUFHLGNBQWMsTUFBTSxXQUFXLE9BQU8sSUFBSSx5QkFBeUIsSUFBSSxFQUFFLEVBQUUsc0VBQXNFLHFDQUFxQyxVQUFVLGtCQUFrQiw0QkFBNEIsWUFBWSx1REFBRyxFQUFFLG9DQUFvQyxHQUFHLFdBQVcsR0FBRyxvQkFBb0IsRUFBRSxHQUFHLEVBQUUseUJBQXlCLFdBQVcsVUFBVSxJQUFJLFdBQVcsd0JBQXdCLHlDQUF5QywyRUFBMkUsSUFBSSxPQUFPLGdCQUFnQix1REFBRyxrREFBa0QsRUFBRSx1QkFBdUIsWUFBWSxFQUFFLGlCQUFpQixHQUFHLGtCQUFrQixvRkFBb0YsdURBQUcsK0dBQStHLG9CQUFvQixxSUFBcUksdURBQUcsbUdBQW1HLDRCQUE0QixvQkFBb0Isc0JBQXNCLDJEQUFHLG1DQUFtQyxpQ0FBaUMsT0FBTyw0QkFBNEIsRUFBRSxzQkFBc0IsMEJBQTBCLHVEQUFHLDZDQUE2QyxhQUFhLEdBQUcsTUFBTSwyREFBRyw2Q0FBNkMsMkNBQTJDLHFCQUFxQixTQUFTLHNCQUFzQiwyREFBRyxDQUFDLDJEQUFFLDJCQUEyQix3QkFBd0IsaURBQWlELE1BQU0sMkRBQUMsS0FBSyxNQUFNLFFBQVEsMkRBQUcsTUFBTSxnQkFBZ0IsdURBQUcsRUFBRSxNQUFNLEdBQUcseUJBQXlCLHVEQUFHLEVBQUUsb0JBQW9CLFNBQVMsRUFBRSxFQUFFLEdBQUcsK0JBQStCLHVEQUFDLEVBQUUsK0NBQStDLG9DQUFvQyx1REFBQyxFQUFFLGlEQUFpRCxJQUFJLFNBQVMsR0FBRyxjQUFjLGtEQUFrRCxvQ0FBb0MsZ0JBQWdCLGdDQUFnQyxxRkFBcUYsZ0JBQWdCLGNBQWMsb0ZBQW9GLGtCQUFrQixxQkFBcUIsWUFBWSxZQUFZLHdCQUF3QixrQkFBa0IsWUFBWSxvQkFBb0IsMkRBQUcsQ0FBQywyREFBRSwwQkFBMEIsRUFBRSxHQUFHLGdCQUFnQixTQUFTLDJCQUEyQixTQUFTLE9BQU8sT0FBTywyREFBRyxDQUFDLDJEQUFDLE9BQU8sd0lBQXdJLFdBQVc7O0FBRTkwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVrRDs7QUFFbkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vc3R5bGVVdGlscy02MDE5ZjNiOS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjLCBiIGFzIGIkMSwgTCwgZCBhcyBkJDEsIHUsIHksIG4gYXMgbiQxLCBhIGFzIHUkMSwgaCBhcyBoJDEsIGUgYXMgeSQxLCBzIGFzIHMkMSwgZiBhcyBiJDIsIGssIEEsIFUgYXMgVSQxLCB6LCBnIGFzIGh0LCBpIGFzIGMkMSwgaiBhcyBVJDIsIGwgYXMgYyQyLCBtIGFzIGMkMywgcCBhcyBsLCB3IGFzIHckMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgZSBhcyBlJDEsIHQgYXMgdCQyIH0gZnJvbSAnLi9hcmNnaXMtZ2VvZW5yaWNobWVudC1kYXRhYnJvd3Nlci02Y2E4ZWExNC5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBwKHAsUz0hMSxhPSExLGMkMT0hMCl7aWYoIXApcmV0dXJuIHtzeW1ib2w6bnVsbH07bGV0IGo7aWYoYyhwKXx8cCBpbnN0YW5jZW9mIGIkMSlqPXAuY2xvbmUoKTtlbHNlIGlmKFwiY2ltXCI9PT1wLnR5cGUpaj1MLmZyb21DSU1TeW1ib2wocCk7ZWxzZSBpZihwIGluc3RhbmNlb2YgZCQxKWo9dS5mcm9tU2ltcGxlTGluZVN5bWJvbChwKTtlbHNlIGlmKHAgaW5zdGFuY2VvZiB5KWo9TC5mcm9tU2ltcGxlTWFya2VyU3ltYm9sKHApO2Vsc2UgaWYocCBpbnN0YW5jZW9mIG4kMSlqPUwuZnJvbVBpY3R1cmVNYXJrZXJTeW1ib2wocCk7ZWxzZSBpZihwIGluc3RhbmNlb2YgdSQxKWo9aCQxLmZyb21TaW1wbGVGaWxsU3ltYm9sKHApO2Vsc2Uge2lmKCEocCBpbnN0YW5jZW9mIHkkMSkpcmV0dXJuIHtlcnJvcjpuZXcgcyQxKFwic3ltYm9sLWNvbnZlcnNpb246dW5zdXBwb3J0ZWQtMmQtc3ltYm9sXCIsYDJEIHN5bWJvbCBvZiB0eXBlICcke3AudHlwZXx8cC5kZWNsYXJlZENsYXNzfScgaXMgdW5zdXBwb3J0ZWQgaW4gM0RgLHtzeW1ib2w6cH0pfTtqPWMkMT9iJDIuZnJvbVRleHRTeW1ib2wocCk6TC5mcm9tVGV4dFN5bWJvbChwKTt9aWYoUyYmKGouaWQ9cC5pZCksYSYmYyhqKSlmb3IobGV0IG89MDtvPGouc3ltYm9sTGF5ZXJzLmxlbmd0aDsrK28pai5zeW1ib2xMYXllcnMuZ2V0SXRlbUF0KG8pLl9pZ25vcmVEcml2ZXJzPSEwO3JldHVybiB7c3ltYm9sOmp9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCQxKGUscyxvLG4pe2NvbnN0IHI9bSQxKGUse30sbik7ciYmKHNbb109cik7fWZ1bmN0aW9uIG0kMShuLHQsbSl7aWYoIW4pcmV0dXJuIG51bGw7aWYobSYmXCJ3ZWItc2NlbmVcIj09PW0ub3JpZ2luJiYhKG4gaW5zdGFuY2VvZiBBKSYmIShuIGluc3RhbmNlb2YgYiQxKSl7Y29uc3Qgcz1cImNpbVwiIT09bi50eXBlP3Aobik6e3N5bWJvbDpudWxsLGVycm9yOm5ldyBzJDEoXCJzeW1ib2wtY29udmVyc2lvbjp1bnN1cHBvcnRlZC1jaW0tc3ltYm9sXCIsXCJDSU0gc3ltYm9sIGlzIHVuc3VwcG9ydGVkIGluIHdlYiBzY2VuZXNcIix7c3ltYm9sOm59KX07cmV0dXJuIHMuc3ltYm9sP3Muc3ltYm9sLndyaXRlKHQsbSk6KG0ubWVzc2FnZXMmJm0ubWVzc2FnZXMucHVzaChuZXcgcyQxKFwic3ltYm9sOnVuc3VwcG9ydGVkXCIsYFN5bWJvbHMgb2YgdHlwZSAnJHtuLmRlY2xhcmVkQ2xhc3N9JyBhcmUgbm90IHN1cHBvcnRlZCBpbiBzY2VuZXMuIFVzZSAzRCBzeW1ib2xvZ3kgaW5zdGVhZCB3aGVuIHdvcmtpbmcgd2l0aCBXZWJTY2VuZSBhbmQgU2NlbmVWaWV3YCx7c3ltYm9sOm4sY29udGV4dDptLGVycm9yOnMuZXJyb3J9KSksbnVsbCl9cmV0dXJuIG0mJlwid2ViLW1hcFwiPT09bS5vcmlnaW4mJlwid2ViLXN0eWxlXCI9PT1uLnR5cGU/KG0ubWVzc2FnZXMmJm0ubWVzc2FnZXMucHVzaChuZXcgcyQxKFwic3ltYm9sOnVuc3VwcG9ydGVkXCIsYFN5bWJvbHMgb2YgdHlwZSAnJHtuLmRlY2xhcmVkQ2xhc3N9JyBhcmUgbm90IHN1cHBvcnRlZCBpbiB3ZWJtYXBzLiBVc2UgQ0lNU3ltYm9sIGluc3RlYWQgd2hlbiB3b3JraW5nIHdpdGggV2ViTWFwIGluIE1hcFZpZXcuYCx7c3ltYm9sOm4sY29udGV4dDptfSkpLG51bGwpOm4ud3JpdGUodCxtKX1mdW5jdGlvbiBpKGUscyl7cmV0dXJuIGsoZSxudWxsLHMpfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gYShhKXtyZXR1cm4gYT1hfHxlJDEubG9jYXRpb24uaG9zdG5hbWUsZS5zb21lKChjPT57dmFyIHQ7cmV0dXJuIG51bGwhPShudWxsPT0odD1hKT92b2lkIDA6dC5tYXRjaChjKSl9KSl9ZnVuY3Rpb24gdChhLHQpe3JldHVybiBhJiYodD10fHxlJDEubG9jYXRpb24uaG9zdG5hbWUpP251bGwhPXQubWF0Y2gociQxKXx8bnVsbCE9dC5tYXRjaChtKT9hLnJlcGxhY2UoXCJzdGF0aWMuYXJjZ2lzLmNvbVwiLFwic3RhdGljZGV2LmFyY2dpcy5jb21cIik6bnVsbCE9dC5tYXRjaChuKXx8bnVsbCE9dC5tYXRjaChzKT9hLnJlcGxhY2UoXCJzdGF0aWMuYXJjZ2lzLmNvbVwiLFwic3RhdGljcWEuYXJjZ2lzLmNvbVwiKTphOmF9Y29uc3QgciQxPS9eZGV2ZXh0LmFyY2dpcy5jb20kLyxuPS9ecWFleHQuYXJjZ2lzLmNvbSQvLG09L15bXFx3LV0qXFwubWFwc2RldmV4dC5hcmNnaXMuY29tJC8scz0vXltcXHctXSpcXC5tYXBzcWEuYXJjZ2lzLmNvbSQvLGU9Wy9eKFtcXHctXSpcXC4pP1tcXHctXSpcXC56cmgtZGV2LWxvY2FsLmVzcmkuY29tJC8sciQxLG4sL15qc2FwcHMuZXNyaS5jb20kLyxtLHNdO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyhvKXtyZXR1cm4gISF0JDIoYGVuYWJsZS1mZWF0dXJlOiR7b31gKX1jb25zdCByPSgpPT5vKFwiZm9yY2Utd29zclwiKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGI9e307ZnVuY3Rpb24gZChlLHQpe3JldHVybiBQKGUsdCkudGhlbigodD0+KHtkYXRhOnQuZGF0YSxiYXNlVXJsOmh0KGUpLHN0eWxlVXJsOmV9KSkpfWZ1bmN0aW9uIGgoZSx0LHIpe2NvbnN0IG89dC5wb3J0YWx8fHckMS5nZXREZWZhdWx0KCk7bGV0IHM7Y29uc3Qgbj1gJHtvLnVybH0gLSAke28udXNlciYmby51c2VyLnVzZXJuYW1lfSAtICR7ZX1gO3JldHVybiBiW25dfHwoYltuXT1qKGUsbyxyKS50aGVuKChlPT4ocz1lLGUuZmV0Y2hEYXRhKCkpKSkudGhlbigodD0+KHtkYXRhOnQsYmFzZVVybDpzLml0ZW1Vcmwsc3R5bGVOYW1lOmV9KSkpKSxiW25dfWZ1bmN0aW9uIGoodCxyLG8pe3JldHVybiByLmxvYWQobykudGhlbigoKCk9Pntjb25zdCBlPW5ldyBjJDEoe2Rpc2FibGVFeHRyYVF1ZXJ5OiEwLHF1ZXJ5OmBvd25lcjoke0R9IEFORCB0eXBlOiR7Un0gQU5EIHR5cGVrZXl3b3JkczpcIiR7dH1cImB9KTtyZXR1cm4gci5xdWVyeUl0ZW1zKGUsbyl9KSkudGhlbigoKHtyZXN1bHRzOnJ9KT0+e2xldCBzPW51bGw7Y29uc3Qgbj10LnRvTG93ZXJDYXNlKCk7aWYociYmQXJyYXkuaXNBcnJheShyKSlmb3IoY29uc3QgZSBvZiByKXtpZihlLnR5cGVLZXl3b3Jkcy5zb21lKChlPT5lLnRvTG93ZXJDYXNlKCk9PT1uKSkmJmUudHlwZT09PVImJmUub3duZXI9PT1EKXtzPWU7YnJlYWt9fWlmKCFzKXRocm93IG5ldyBzJDEoXCJzeW1ib2xzdHlsZXV0aWxzOnN0eWxlLW5vdC1mb3VuZFwiLGBUaGUgc3R5bGUgJyR7dH0nIGNvdWxkIG5vdCBiZSBmb3VuZGAse3N0eWxlTmFtZTp0fSk7cmV0dXJuIHMubG9hZChvKX0pKX1mdW5jdGlvbiBnKHQscixvKXtyZXR1cm4gdC5zdHlsZVVybD9kKHQuc3R5bGVVcmwsbyk6dC5zdHlsZU5hbWU/aCh0LnN0eWxlTmFtZSxyLG8pOlByb21pc2UucmVqZWN0KG5ldyBzJDEoXCJzeW1ib2xzdHlsZXV0aWxzOnN0eWxlLXVybC1hbmQtbmFtZS1taXNzaW5nXCIsXCJFaXRoZXIgc3R5bGVVcmwgb3Igc3R5bGVOYW1lIGlzIHJlcXVpcmVkIHRvIHJlc29sdmUgYSBzdHlsZVwiKSl9ZnVuY3Rpb24gdyh0LHIsbyxzKXtyZXR1cm4gdC5uYW1lP3Quc3R5bGVOYW1lJiZcIkVzcmkyRFBvaW50U3ltYm9sc1N0eWxlXCI9PT10LnN0eWxlTmFtZT9FKHQscixzKTpnKHQscixzKS50aGVuKChlPT5VKGUsdC5uYW1lLHIsbyxzKSkpOlByb21pc2UucmVqZWN0KG5ldyBzJDEoXCJzeW1ib2xzdHlsZXV0aWxzOnN0eWxlLXN5bWJvbC1yZWZlcmVuY2UtbmFtZS1taXNzaW5nXCIsXCJNaXNzaW5nIG5hbWUgaW4gc3R5bGUgc3ltYm9sIHJlZmVyZW5jZVwiKSl9ZnVuY3Rpb24gVSh0JDEsbixsJDEsYSQxLHApe2NvbnN0IGI9dCQxLmRhdGEsZD17cG9ydGFsOmwkMS5wb3J0YWwsdXJsOlUkMih0JDEuYmFzZVVybCksb3JpZ2luOlwicG9ydGFsLWl0ZW1cIn0saD1iLml0ZW1zLmZpbmQoKGU9PmUubmFtZT09PW4pKTtpZighaCl7Y29uc3QgdD1gVGhlIHN5bWJvbCBuYW1lICcke259JyBjb3VsZCBub3QgYmUgZm91bmRgO3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgcyQxKFwic3ltYm9sc3R5bGV1dGlsczpzeW1ib2wtbmFtZS1ub3QtZm91bmRcIix0LHtzeW1ib2xOYW1lOm59KSl9bGV0IGo9YyQyKFMoaCxhJDEpLGQpLGc9aC50aHVtYm5haWwmJmgudGh1bWJuYWlsLmhyZWY7Y29uc3Qgdz1oLnRodW1ibmFpbCYmaC50aHVtYm5haWwuaW1hZ2VEYXRhO2EoKSYmKGo9dChqKSxnPXQoZykpO2NvbnN0IFU9e3BvcnRhbDpsJDEucG9ydGFsLHVybDpVJDIoaHQoaikpLG9yaWdpbjpcInBvcnRhbC1pdGVtXCJ9O3JldHVybiBQKGoscCkudGhlbigoZT0+e2NvbnN0IHI9XCJjaW1SZWZcIj09PWEkMT9OKGUuZGF0YSk6ZS5kYXRhLG89aShyLFUpO2lmKG8mJmMobykpe2lmKGcpe2NvbnN0IGU9YyQyKGcsZCk7by50aHVtYm5haWw9bmV3IGMkMyh7dXJsOmV9KTt9ZWxzZSB3JiYoby50aHVtYm5haWw9bmV3IGMkMyh7dXJsOmBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHt3fWB9KSk7dCQxLnN0eWxlVXJsP28uc3R5bGVPcmlnaW49bmV3IGwoe3BvcnRhbDpsJDEucG9ydGFsLHN0eWxlVXJsOnQkMS5zdHlsZVVybCxuYW1lOm59KTp0JDEuc3R5bGVOYW1lJiYoby5zdHlsZU9yaWdpbj1uZXcgbCh7cG9ydGFsOmwkMS5wb3J0YWwsc3R5bGVOYW1lOnQkMS5zdHlsZU5hbWUsbmFtZTpufSkpO31yZXR1cm4gb30pKX1mdW5jdGlvbiBOKGUpe3JldHVybiBudWxsPT09ZXx8XCJDSU1TeW1ib2xSZWZlcmVuY2VcIj09PWUudHlwZT9lOnt0eXBlOlwiQ0lNU3ltYm9sUmVmZXJlbmNlXCIsc3ltYm9sOmV9fWZ1bmN0aW9uIFMoZSx0KXtpZihcImNpbVJlZlwiPT09dClyZXR1cm4gZS5jaW1SZWY7aWYoZS5mb3JtYXRJbmZvcyYmIXIoKSlmb3IoY29uc3QgciBvZiBlLmZvcm1hdEluZm9zKWlmKFwiZ2x0ZlwiPT09ci50eXBlKXJldHVybiByLmhyZWY7cmV0dXJuIGUud2ViUmVmfWZ1bmN0aW9uICQoZSl7Zm9yKGNvbnN0IHQgb2YgZS50eXBlS2V5d29yZHMpaWYoL15Fc3JpLipTdHlsZSQvLnRlc3QodCkmJlwiRXNyaSBTdHlsZVwiIT09dClyZXR1cm4gdH1mdW5jdGlvbiBFKGUsdCxzKXtjb25zdCBuPXEucmVwbGFjZSgvXFx7U3ltYm9sTmFtZVxcfS9naSxlLm5hbWUpO3JldHVybiBQKG4scykudGhlbigoZT0+e2NvbnN0IHM9TihlLmRhdGEpO3JldHVybiBpKHMse3BvcnRhbDp0LnBvcnRhbCx1cmw6VSQyKGh0KG4pKSxvcmlnaW46XCJwb3J0YWwtaXRlbVwifSl9KSl9ZnVuY3Rpb24gUChlLHIpe2NvbnN0IG89e3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIn0sLi4ucn07cmV0dXJuIFUkMSh6KGUpLG8pfWNvbnN0IEQ9XCJlc3JpX2VuXCIsUj1cIlN0eWxlXCIscT1cImh0dHBzOi8vY2RuLmFyY2dpcy5jb20vc2hhcmluZy9yZXN0L2NvbnRlbnQvaXRlbXMvMjIwOTM2Y2M2ZWQzNDJjOTkzN2FiZDhmMTgwZTdkMWUvcmVzb3VyY2VzL3N0eWxlcy9jaW0ve1N5bWJvbE5hbWV9Lmpzb24/Zj1qc29uXCI7XG5cbmNvbnN0IHN0eWxlVXRpbHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5cdF9fcHJvdG9fXzogbnVsbCxcblx0ZmV0Y2hTdHlsZTogZyxcblx0ZmV0Y2hTeW1ib2xGcm9tU3R5bGU6IFUsXG5cdHJlc29sdmVXZWJTdHlsZVN5bWJvbDogdyxcblx0c3R5bGVOYW1lRnJvbUl0ZW06ICRcbn0pO1xuXG5leHBvcnQgeyB0IGFzIGEsIGcsIGksIHN0eWxlVXRpbHMgYXMgcywgdCQxIGFzIHQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVVdGlscy02MDE5ZjNiOS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=