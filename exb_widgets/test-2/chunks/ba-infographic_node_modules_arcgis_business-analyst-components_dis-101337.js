"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-101337"],{

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/calcite-action-bar.entry.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/calcite-action-bar.entry.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcite_action_bar: () => (/* binding */ ActionBar)
/* harmony export */ });
/* harmony import */ var _index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-4e647411.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/index-4e647411.js");
/* harmony import */ var _conditionalSlot_a4837caf_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./conditionalSlot-a4837caf.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/conditionalSlot-a4837caf.js");
/* harmony import */ var _dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dom-f1ee4d04.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/dom-f1ee4d04.js");
/* harmony import */ var _loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loadable-cc14d728.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/loadable-cc14d728.js");
/* harmony import */ var _locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./locale-f7b2fbb0.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/locale-f7b2fbb0.js");
/* harmony import */ var _observers_56740e99_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./observers-56740e99.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/observers-56740e99.js");
/* harmony import */ var _t9n_dc67ab96_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./t9n-dc67ab96.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/t9n-dc67ab96.js");
/* harmony import */ var _ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExpandToggle-223c318c.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/ExpandToggle-223c318c.js");
/* harmony import */ var _debounce_047e09f4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./debounce-047e09f4.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/debounce-047e09f4.js");
















/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */
const CSS = {
  actionGroupBottom: "action-group--bottom"
};
const SLOTS = {
  bottomActions: "bottom-actions",
  expandTooltip: "expand-tooltip"
};

const actionBarCss = "@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{pointer-events:auto;display:inline-flex;align-self:stretch;background:transparent;--calcite-action-bar-expanded-max-width:auto}:host([layout=vertical]){flex-direction:column}:host([layout=horizontal]){flex-direction:row}:host([layout=vertical][overflow-actions-disabled]){overflow-y:auto}:host([layout=horizontal][overflow-actions-disabled]){overflow-x:auto}:host([layout=vertical][expanded]){max-inline-size:var(--calcite-action-bar-expanded-max-width)}::slotted(calcite-action-group){border-width:0px;border-block-end-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-width:0px;border-inline-end-width:1px;border-style:solid}::slotted(calcite-action-group:last-child){border-block-end-width:0px;border-inline-end-width:0px}.action-group--bottom{flex-grow:1;justify-content:flex-end;padding-block-end:0px;padding-inline-end:0px}";

const ActionBar = class {
  constructor(hostRef) {
    (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.calciteActionBarToggle = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteActionBarToggle", 6);
    this.mutationObserver = (0,_observers_56740e99_js__WEBPACK_IMPORTED_MODULE_1__.c)("mutation", () => {
      const { el, expanded } = this;
      (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.t)({ parent: el, expanded });
      this.conditionallyOverflowActions();
    });
    this.resizeObserver = (0,_observers_56740e99_js__WEBPACK_IMPORTED_MODULE_1__.c)("resize", (entries) => this.resizeHandlerEntries(entries));
    // --------------------------------------------------------------------------
    //
    //  Private Methods
    //
    // --------------------------------------------------------------------------
    this.actionMenuOpenHandler = (event) => {
      if (event.target.menuOpen) {
        const composedPath = event.composedPath();
        Array.from(this.el.querySelectorAll("calcite-action-group")).forEach((group) => {
          if (!composedPath.includes(group)) {
            group.menuOpen = false;
          }
        });
      }
    };
    this.resizeHandlerEntries = (entries) => {
      entries.forEach(this.resizeHandler);
    };
    this.resizeHandler = (entry) => {
      const { width, height } = entry.contentRect;
      this.resize({ width, height });
    };
    this.resize = (0,_debounce_047e09f4_js__WEBPACK_IMPORTED_MODULE_3__.d)(({ width, height }) => {
      const { el, expanded, expandDisabled, layout } = this;
      if ((layout === "vertical" && !height) || (layout === "horizontal" && !width)) {
        return;
      }
      const actions = (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.q)(el);
      const actionCount = expandDisabled ? actions.length : actions.length + 1;
      const actionGroups = Array.from(el.querySelectorAll("calcite-action-group"));
      const groupCount = (0,_dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_4__.g)(el, SLOTS.bottomActions) || !expandDisabled
        ? actionGroups.length + 1
        : actionGroups.length;
      const { actionHeight, actionWidth } = (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.g)(actions);
      const overflowCount = (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.b)({
        layout,
        actionCount,
        actionHeight,
        actionWidth,
        height,
        width,
        groupCount
      });
      (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.a)({
        actionGroups,
        expanded,
        overflowCount
      });
    }, _ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.o);
    this.conditionallyOverflowActions = () => {
      if (!this.overflowActionsDisabled) {
        this.overflowActions();
      }
    };
    this.toggleExpand = () => {
      this.expanded = !this.expanded;
      this.calciteActionBarToggle.emit();
    };
    this.setExpandToggleRef = (el) => {
      this.expandToggleEl = el;
    };
    this.expandDisabled = false;
    this.expanded = false;
    this.layout = "vertical";
    this.overflowActionsDisabled = false;
    this.position = undefined;
    this.scale = undefined;
    this.messages = undefined;
    this.messageOverrides = undefined;
    this.effectiveLocale = undefined;
    this.defaultMessages = undefined;
  }
  expandHandler() {
    this.conditionallyOverflowActions();
  }
  expandedHandler(expanded) {
    (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.t)({ parent: this.el, expanded });
    this.conditionallyOverflowActions();
  }
  overflowDisabledHandler(overflowActionsDisabled) {
    overflowActionsDisabled
      ? this.resizeObserver.disconnect()
      : this.resizeObserver.observe(this.el);
  }
  onMessagesChange() {
    /* wired up by t9n util */
  }
  effectiveLocaleChange() {
    (0,_t9n_dc67ab96_js__WEBPACK_IMPORTED_MODULE_5__.u)(this, this.effectiveLocale);
  }
  // --------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  // --------------------------------------------------------------------------
  componentDidLoad() {
    (0,_loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_6__.s)(this);
    this.conditionallyOverflowActions();
  }
  connectedCallback() {
    const { el, expanded } = this;
    (0,_locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.c)(this);
    (0,_t9n_dc67ab96_js__WEBPACK_IMPORTED_MODULE_5__.c)(this);
    (0,_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.t)({ parent: el, expanded });
    this.mutationObserver?.observe(el, { childList: true, subtree: true });
    if (!this.overflowActionsDisabled) {
      this.resizeObserver?.observe(el);
    }
    this.conditionallyOverflowActions();
    (0,_conditionalSlot_a4837caf_js__WEBPACK_IMPORTED_MODULE_8__.c)(this);
  }
  async componentWillLoad() {
    (0,_loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_6__.a)(this);
    await (0,_t9n_dc67ab96_js__WEBPACK_IMPORTED_MODULE_5__.s)(this);
  }
  disconnectedCallback() {
    this.mutationObserver?.disconnect();
    this.resizeObserver?.disconnect();
    (0,_conditionalSlot_a4837caf_js__WEBPACK_IMPORTED_MODULE_8__.d)(this);
    (0,_locale_f7b2fbb0_js__WEBPACK_IMPORTED_MODULE_7__.d)(this);
    (0,_t9n_dc67ab96_js__WEBPACK_IMPORTED_MODULE_5__.d)(this);
  }
  // --------------------------------------------------------------------------
  //
  //  Methods
  //
  // --------------------------------------------------------------------------
  /**
   * Overflows actions that won't fit into menus.
   *
   * @internal
   */
  async overflowActions() {
    this.resize({ width: this.el.clientWidth, height: this.el.clientHeight });
  }
  /**
   * Sets focus on the component's first focusable element.
   */
  async setFocus() {
    await (0,_loadable_cc14d728_js__WEBPACK_IMPORTED_MODULE_6__.c)(this);
    this.el?.focus();
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  renderBottomActionGroup() {
    const { expanded, expandDisabled, el, position, toggleExpand, scale, layout, messages } = this;
    const tooltip = (0,_dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_4__.g)(el, SLOTS.expandTooltip);
    const expandToggleNode = !expandDisabled ? ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)(_ExpandToggle_223c318c_js__WEBPACK_IMPORTED_MODULE_2__.E, { el: el, expanded: expanded, intlCollapse: messages.collapse, intlExpand: messages.expand, position: position, ref: this.setExpandToggleRef, scale: scale, toggle: toggleExpand, tooltip: tooltip })) : null;
    return (0,_dom_f1ee4d04_js__WEBPACK_IMPORTED_MODULE_4__.g)(el, SLOTS.bottomActions) || expandToggleNode ? ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-action-group", { class: CSS.actionGroupBottom, layout: layout, scale: scale }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.bottomActions }), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: SLOTS.expandTooltip }), expandToggleNode)) : null;
  }
  render() {
    return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.H, { onCalciteActionMenuOpen: this.actionMenuOpenHandler }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null), this.renderBottomActionGroup()));
  }
  static get delegatesFocus() { return true; }
  static get assetsDirs() { return ["assets"]; }
  get el() { return (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_0__.g)(this); }
  static get watchers() { return {
    "expandDisabled": ["expandHandler"],
    "expanded": ["expandedHandler"],
    "overflowActionsDisabled": ["overflowDisabledHandler"],
    "messageOverrides": ["onMessagesChange"],
    "effectiveLocale": ["effectiveLocaleChange"]
  }; }
};
ActionBar.style = actionBarCss;



//# sourceMappingURL=calcite-action-bar.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYmEtaW5mb2dyYXBoaWNfbm9kZV9tb2R1bGVzX2FyY2dpc19idXNpbmVzcy1hbmFseXN0LWNvbXBvbmVudHNfZGlzLTEwMTMzNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZHO0FBQ2lCO0FBQzFFO0FBQ2dFO0FBQzdCO0FBQ3pCO0FBQzZEO0FBQzJGO0FBQy9KO0FBQ3RCO0FBQ0w7QUFDSztBQUNOO0FBQ007QUFDQTs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxHQUFHLFVBQVUsS0FBSyxXQUFXLG1CQUFtQixHQUFHLFVBQVUsa0NBQWtDLEtBQUssVUFBVSxnQ0FBZ0MsaUJBQWlCLEdBQUcsVUFBVSxpQ0FBaUMsS0FBSyxVQUFVLGdDQUFnQyxvQkFBb0IsR0FBRyxVQUFVLGlDQUFpQyxLQUFLLFVBQVUsNEJBQTRCLE1BQU0saUZBQWlGLHFFQUFxRSwrRkFBK0YsaUdBQWlHLCtGQUErRixpQkFBaUIsVUFBVSx5QkFBeUIsbURBQW1ELHFCQUFxQixrQkFBa0IsMEJBQTBCLHVCQUF1Qix3QkFBd0IscUJBQXFCLDJCQUEyQix3QkFBd0Isd0NBQXdDLE1BQU0sc0NBQXNDLE1BQU0sc0JBQXNCLGdEQUFnRCwrQkFBK0Isc0NBQXNDLFFBQVEsc0JBQXNCLE1BQU0saUVBQWlFLGtDQUFrQyxnQkFBZ0IsYUFBYSxNQUFNLG9CQUFvQixvQkFBb0IsbUJBQW1CLHVCQUF1Qiw2Q0FBNkMseUJBQXlCLHNCQUFzQiwyQkFBMkIsbUJBQW1CLG9EQUFvRCxnQkFBZ0Isc0RBQXNELGdCQUFnQixtQ0FBbUMsNkRBQTZELGdDQUFnQyxpQkFBaUIsMkJBQTJCLG1CQUFtQix3Q0FBd0MsMkRBQTJELGlCQUFpQiw0QkFBNEIsbUJBQW1CLDJDQUEyQywyQkFBMkIsNEJBQTRCLHNCQUFzQixZQUFZLHlCQUF5QixzQkFBc0IsdUJBQXVCOztBQUV4NEU7QUFDQTtBQUNBLElBQUkscURBQWdCO0FBQ3BCLGtDQUFrQyxxREFBVztBQUM3Qyw0QkFBNEIseURBQWM7QUFDMUMsY0FBYyxlQUFlO0FBQzdCLE1BQU0sNERBQXFCLEdBQUcsc0JBQXNCO0FBQ3BEO0FBQ0EsS0FBSztBQUNMLDBCQUEwQix5REFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUIsb0JBQW9CLGVBQWU7QUFDbkM7QUFDQSxrQkFBa0Isd0RBQVEsSUFBSSxlQUFlO0FBQzdDLGNBQWMsdUNBQXVDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw0REFBWTtBQUNsQztBQUNBO0FBQ0EseUJBQXlCLG1EQUFVO0FBQ25DO0FBQ0E7QUFDQSxjQUFjLDRCQUE0QixFQUFFLDREQUFrQjtBQUM5RCw0QkFBNEIsNERBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU0sNERBQWU7QUFDckI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUssRUFBRSx3REFBMkI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw0REFBcUIsR0FBRywyQkFBMkI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksbURBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHdEQUFrQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0IsSUFBSSxzREFBZ0I7QUFDcEIsSUFBSSxtREFBZTtBQUNuQixJQUFJLDREQUFxQixHQUFHLHNCQUFzQjtBQUNsRCx5Q0FBeUMsZ0NBQWdDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwrREFBK0I7QUFDbkM7QUFDQTtBQUNBLElBQUksd0RBQXNCO0FBQzFCLFVBQVUsbURBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtEQUFrQztBQUN0QyxJQUFJLHNEQUFtQjtBQUN2QixJQUFJLG1EQUFrQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMERBQTBEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdEQUFlO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdGQUFnRjtBQUM1RixvQkFBb0IsbURBQVU7QUFDOUIsZ0RBQWdELHFEQUFDLENBQUMsd0RBQVksSUFBSSxrTUFBa007QUFDcFEsV0FBVyxtREFBVSxpREFBaUQscURBQUMsMkJBQTJCLDREQUE0RCxFQUFFLHFEQUFDLFdBQVcsMkJBQTJCLEdBQUcscURBQUMsV0FBVywyQkFBMkI7QUFDalA7QUFDQTtBQUNBLFlBQVkscURBQUMsQ0FBQyxpREFBSSxJQUFJLHFEQUFxRCxFQUFFLHFEQUFDO0FBQzlFO0FBQ0EsZ0NBQWdDO0FBQ2hDLDRCQUE0QjtBQUM1QixhQUFhLE9BQU8scURBQVU7QUFDOUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJDOztBQUUzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYmEtaW5mb2dyYXBoaWMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYnVzaW5lc3MtYW5hbHlzdC1jb21wb25lbnRzL2Rpc3Qvc3RlbmNpbC1jb21wb25lbnRzL2Rpc3QvZXNtL2NhbGNpdGUtYWN0aW9uLWJhci5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCwgZyBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC00ZTY0NzQxMS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQsIGQgYXMgZGlzY29ubmVjdENvbmRpdGlvbmFsU2xvdENvbXBvbmVudCB9IGZyb20gJy4vY29uZGl0aW9uYWxTbG90LWE0ODM3Y2FmLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0U2xvdHRlZCB9IGZyb20gJy4vZG9tLWYxZWU0ZDA0LmpzJztcbmltcG9ydCB7IHMgYXMgc2V0Q29tcG9uZW50TG9hZGVkLCBhIGFzIHNldFVwTG9hZGFibGVDb21wb25lbnQsIGMgYXMgY29tcG9uZW50TG9hZGVkIH0gZnJvbSAnLi9sb2FkYWJsZS1jYzE0ZDcyOC5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbm5lY3RMb2NhbGl6ZWQsIGQgYXMgZGlzY29ubmVjdExvY2FsaXplZCB9IGZyb20gJy4vbG9jYWxlLWY3YjJmYmIwLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlT2JzZXJ2ZXIgfSBmcm9tICcuL29ic2VydmVycy01Njc0MGU5OS5qcyc7XG5pbXBvcnQgeyB1IGFzIHVwZGF0ZU1lc3NhZ2VzLCBjIGFzIGNvbm5lY3RNZXNzYWdlcywgcyBhcyBzZXRVcE1lc3NhZ2VzLCBkIGFzIGRpc2Nvbm5lY3RNZXNzYWdlcyB9IGZyb20gJy4vdDluLWRjNjdhYjk2LmpzJztcbmltcG9ydCB7IHQgYXMgdG9nZ2xlQ2hpbGRBY3Rpb25UZXh0LCBvIGFzIG92ZXJmbG93QWN0aW9uc0RlYm91bmNlSW5NcywgcSBhcyBxdWVyeUFjdGlvbnMsIGcgYXMgZ2VBY3Rpb25EaW1lbnNpb25zLCBhIGFzIG92ZXJmbG93QWN0aW9ucywgRSBhcyBFeHBhbmRUb2dnbGUsIGIgYXMgZ2V0T3ZlcmZsb3dDb3VudCB9IGZyb20gJy4vRXhwYW5kVG9nZ2xlLTIyM2MzMThjLmpzJztcbmltcG9ydCB7IGQgYXMgZGVib3VuY2UgfSBmcm9tICcuL2RlYm91bmNlLTA0N2UwOWY0LmpzJztcbmltcG9ydCAnLi9pbmRleC5lc20tMWM2NWQ4YzcuanMnO1xuaW1wb3J0ICcuL2d1aWQtODhhMzcyOWYuanMnO1xuaW1wb3J0ICcuL3Jlc291cmNlcy00ODQzNmVlYS5qcyc7XG5pbXBvcnQgJy4va2V5LWI3NTQ5MWM0LmpzJztcbmltcG9ydCAnLi9yZXNvdXJjZXMtNmNjMzk2NjYuanMnO1xuaW1wb3J0ICcuL3Jlc291cmNlcy01ZDI1Zjk3Ni5qcyc7XG5cbi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbiAqIHYxLjAuNVxuICovXG5jb25zdCBDU1MgPSB7XG4gIGFjdGlvbkdyb3VwQm90dG9tOiBcImFjdGlvbi1ncm91cC0tYm90dG9tXCJcbn07XG5jb25zdCBTTE9UUyA9IHtcbiAgYm90dG9tQWN0aW9uczogXCJib3R0b20tYWN0aW9uc1wiLFxuICBleHBhbmRUb29sdGlwOiBcImV4cGFuZC10b29sdGlwXCJcbn07XG5cbmNvbnN0IGFjdGlvbkJhckNzcyA9IFwiQGtleWZyYW1lcyBpbnswJXtvcGFjaXR5OjB9MTAwJXtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgaW4tZG93bnswJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNEKDAsIC01cHgsIDApfTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGUzRCgwLCAwLCAwKX19QGtleWZyYW1lcyBpbi11cHswJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZTNEKDAsIDVweCwgMCl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZTNEKDAsIDAsIDApfX1Aa2V5ZnJhbWVzIGluLXNjYWxlezAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUzRCgwLjk1LCAwLjk1LCAxKX0xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06c2NhbGUzRCgxLCAxLCAxKX19OnJvb3R7LS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmc6Y2FsYygxNTBtcyAqIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSk7LS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3Rvcjp2YXIoLS1jYWxjaXRlLWR1cmF0aW9uLWZhY3RvciwgMSk7LS1jYWxjaXRlLWludGVybmFsLWFuaW1hdGlvbi10aW1pbmctZmFzdDpjYWxjKDEwMG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1tZWRpdW06Y2FsYygyMDBtcyAqIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSk7LS1jYWxjaXRlLWludGVybmFsLWFuaW1hdGlvbi10aW1pbmctc2xvdzpjYWxjKDMwMG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKX0uY2FsY2l0ZS1hbmltYXRle29wYWNpdHk6MDthbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWR1cmF0aW9uOnZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZyl9LmNhbGNpdGUtYW5pbWF0ZV9faW57YW5pbWF0aW9uLW5hbWU6aW59LmNhbGNpdGUtYW5pbWF0ZV9faW4tZG93bnthbmltYXRpb24tbmFtZTppbi1kb3dufS5jYWxjaXRlLWFuaW1hdGVfX2luLXVwe2FuaW1hdGlvbi1uYW1lOmluLXVwfS5jYWxjaXRlLWFuaW1hdGVfX2luLXNjYWxle2FuaW1hdGlvbi1uYW1lOmluLXNjYWxlfUBtZWRpYSAocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKXs6cm9vdHstLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yOjB9fTpob3N0e2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMik7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKX06aG9zdCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH06cm9vdHstLWNhbGNpdGUtZmxvYXRpbmctdWktdHJhbnNpdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpOy0tY2FsY2l0ZS1mbG9hdGluZy11aS16LWluZGV4OjYwMH06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfTpob3N0e3BvaW50ZXItZXZlbnRzOmF1dG87ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1zZWxmOnN0cmV0Y2g7YmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNhbGNpdGUtYWN0aW9uLWJhci1leHBhbmRlZC1tYXgtd2lkdGg6YXV0b306aG9zdChbbGF5b3V0PXZlcnRpY2FsXSl7ZmxleC1kaXJlY3Rpb246Y29sdW1ufTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF0pe2ZsZXgtZGlyZWN0aW9uOnJvd306aG9zdChbbGF5b3V0PXZlcnRpY2FsXVtvdmVyZmxvdy1hY3Rpb25zLWRpc2FibGVkXSl7b3ZlcmZsb3cteTphdXRvfTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF1bb3ZlcmZsb3ctYWN0aW9ucy1kaXNhYmxlZF0pe292ZXJmbG93LXg6YXV0b306aG9zdChbbGF5b3V0PXZlcnRpY2FsXVtleHBhbmRlZF0pe21heC1pbmxpbmUtc2l6ZTp2YXIoLS1jYWxjaXRlLWFjdGlvbi1iYXItZXhwYW5kZWQtbWF4LXdpZHRoKX06OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24tZ3JvdXApe2JvcmRlci13aWR0aDowcHg7Ym9yZGVyLWJsb2NrLWVuZC13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0zKX06aG9zdChbbGF5b3V0PWhvcml6b250YWxdKSA6OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24tZ3JvdXApe2JvcmRlci13aWR0aDowcHg7Ym9yZGVyLWlubGluZS1lbmQtd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZH06OnNsb3R0ZWQoY2FsY2l0ZS1hY3Rpb24tZ3JvdXA6bGFzdC1jaGlsZCl7Ym9yZGVyLWJsb2NrLWVuZC13aWR0aDowcHg7Ym9yZGVyLWlubGluZS1lbmQtd2lkdGg6MHB4fS5hY3Rpb24tZ3JvdXAtLWJvdHRvbXtmbGV4LWdyb3c6MTtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7cGFkZGluZy1ibG9jay1lbmQ6MHB4O3BhZGRpbmctaW5saW5lLWVuZDowcHh9XCI7XG5cbmNvbnN0IEFjdGlvbkJhciA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XHJcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xyXG4gICAgdGhpcy5jYWxjaXRlQWN0aW9uQmFyVG9nZ2xlID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlQWN0aW9uQmFyVG9nZ2xlXCIsIDYpO1xyXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gY3JlYXRlT2JzZXJ2ZXIoXCJtdXRhdGlvblwiLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZWwsIGV4cGFuZGVkIH0gPSB0aGlzO1xyXG4gICAgICB0b2dnbGVDaGlsZEFjdGlvblRleHQoeyBwYXJlbnQ6IGVsLCBleHBhbmRlZCB9KTtcclxuICAgICAgdGhpcy5jb25kaXRpb25hbGx5T3ZlcmZsb3dBY3Rpb25zKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIgPSBjcmVhdGVPYnNlcnZlcihcInJlc2l6ZVwiLCAoZW50cmllcykgPT4gdGhpcy5yZXNpemVIYW5kbGVyRW50cmllcyhlbnRyaWVzKSk7XHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgLy9cclxuICAgIC8vICBQcml2YXRlIE1ldGhvZHNcclxuICAgIC8vXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgdGhpcy5hY3Rpb25NZW51T3BlbkhhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5tZW51T3Blbikge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvc2VkUGF0aCA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpO1xyXG4gICAgICAgIEFycmF5LmZyb20odGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKFwiY2FsY2l0ZS1hY3Rpb24tZ3JvdXBcIikpLmZvckVhY2goKGdyb3VwKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWNvbXBvc2VkUGF0aC5pbmNsdWRlcyhncm91cCkpIHtcclxuICAgICAgICAgICAgZ3JvdXAubWVudU9wZW4gPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMucmVzaXplSGFuZGxlckVudHJpZXMgPSAoZW50cmllcykgPT4ge1xyXG4gICAgICBlbnRyaWVzLmZvckVhY2godGhpcy5yZXNpemVIYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICB0aGlzLnJlc2l6ZUhhbmRsZXIgPSAoZW50cnkpID0+IHtcclxuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDtcclxuICAgICAgdGhpcy5yZXNpemUoeyB3aWR0aCwgaGVpZ2h0IH0pO1xyXG4gICAgfTtcclxuICAgIHRoaXMucmVzaXplID0gZGVib3VuY2UoKHsgd2lkdGgsIGhlaWdodCB9KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZWwsIGV4cGFuZGVkLCBleHBhbmREaXNhYmxlZCwgbGF5b3V0IH0gPSB0aGlzO1xyXG4gICAgICBpZiAoKGxheW91dCA9PT0gXCJ2ZXJ0aWNhbFwiICYmICFoZWlnaHQpIHx8IChsYXlvdXQgPT09IFwiaG9yaXpvbnRhbFwiICYmICF3aWR0aCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgYWN0aW9ucyA9IHF1ZXJ5QWN0aW9ucyhlbCk7XHJcbiAgICAgIGNvbnN0IGFjdGlvbkNvdW50ID0gZXhwYW5kRGlzYWJsZWQgPyBhY3Rpb25zLmxlbmd0aCA6IGFjdGlvbnMubGVuZ3RoICsgMTtcclxuICAgICAgY29uc3QgYWN0aW9uR3JvdXBzID0gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKFwiY2FsY2l0ZS1hY3Rpb24tZ3JvdXBcIikpO1xyXG4gICAgICBjb25zdCBncm91cENvdW50ID0gZ2V0U2xvdHRlZChlbCwgU0xPVFMuYm90dG9tQWN0aW9ucykgfHwgIWV4cGFuZERpc2FibGVkXHJcbiAgICAgICAgPyBhY3Rpb25Hcm91cHMubGVuZ3RoICsgMVxyXG4gICAgICAgIDogYWN0aW9uR3JvdXBzLmxlbmd0aDtcclxuICAgICAgY29uc3QgeyBhY3Rpb25IZWlnaHQsIGFjdGlvbldpZHRoIH0gPSBnZUFjdGlvbkRpbWVuc2lvbnMoYWN0aW9ucyk7XHJcbiAgICAgIGNvbnN0IG92ZXJmbG93Q291bnQgPSBnZXRPdmVyZmxvd0NvdW50KHtcclxuICAgICAgICBsYXlvdXQsXHJcbiAgICAgICAgYWN0aW9uQ291bnQsXHJcbiAgICAgICAgYWN0aW9uSGVpZ2h0LFxyXG4gICAgICAgIGFjdGlvbldpZHRoLFxyXG4gICAgICAgIGhlaWdodCxcclxuICAgICAgICB3aWR0aCxcclxuICAgICAgICBncm91cENvdW50XHJcbiAgICAgIH0pO1xyXG4gICAgICBvdmVyZmxvd0FjdGlvbnMoe1xyXG4gICAgICAgIGFjdGlvbkdyb3VwcyxcclxuICAgICAgICBleHBhbmRlZCxcclxuICAgICAgICBvdmVyZmxvd0NvdW50XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgb3ZlcmZsb3dBY3Rpb25zRGVib3VuY2VJbk1zKTtcclxuICAgIHRoaXMuY29uZGl0aW9uYWxseU92ZXJmbG93QWN0aW9ucyA9ICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLm92ZXJmbG93QWN0aW9uc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgdGhpcy5vdmVyZmxvd0FjdGlvbnMoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMudG9nZ2xlRXhwYW5kID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLmV4cGFuZGVkID0gIXRoaXMuZXhwYW5kZWQ7XHJcbiAgICAgIHRoaXMuY2FsY2l0ZUFjdGlvbkJhclRvZ2dsZS5lbWl0KCk7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5zZXRFeHBhbmRUb2dnbGVSZWYgPSAoZWwpID0+IHtcclxuICAgICAgdGhpcy5leHBhbmRUb2dnbGVFbCA9IGVsO1xyXG4gICAgfTtcclxuICAgIHRoaXMuZXhwYW5kRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZXhwYW5kZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGF5b3V0ID0gXCJ2ZXJ0aWNhbFwiO1xyXG4gICAgdGhpcy5vdmVyZmxvd0FjdGlvbnNEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuc2NhbGUgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLm1lc3NhZ2VzID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5tZXNzYWdlT3ZlcnJpZGVzID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5lZmZlY3RpdmVMb2NhbGUgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmRlZmF1bHRNZXNzYWdlcyA9IHVuZGVmaW5lZDtcclxuICB9XHJcbiAgZXhwYW5kSGFuZGxlcigpIHtcclxuICAgIHRoaXMuY29uZGl0aW9uYWxseU92ZXJmbG93QWN0aW9ucygpO1xyXG4gIH1cclxuICBleHBhbmRlZEhhbmRsZXIoZXhwYW5kZWQpIHtcclxuICAgIHRvZ2dsZUNoaWxkQWN0aW9uVGV4dCh7IHBhcmVudDogdGhpcy5lbCwgZXhwYW5kZWQgfSk7XHJcbiAgICB0aGlzLmNvbmRpdGlvbmFsbHlPdmVyZmxvd0FjdGlvbnMoKTtcclxuICB9XHJcbiAgb3ZlcmZsb3dEaXNhYmxlZEhhbmRsZXIob3ZlcmZsb3dBY3Rpb25zRGlzYWJsZWQpIHtcclxuICAgIG92ZXJmbG93QWN0aW9uc0Rpc2FibGVkXHJcbiAgICAgID8gdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgOiB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5lbCk7XHJcbiAgfVxyXG4gIG9uTWVzc2FnZXNDaGFuZ2UoKSB7XHJcbiAgICAvKiB3aXJlZCB1cCBieSB0OW4gdXRpbCAqL1xyXG4gIH1cclxuICBlZmZlY3RpdmVMb2NhbGVDaGFuZ2UoKSB7XHJcbiAgICB1cGRhdGVNZXNzYWdlcyh0aGlzLCB0aGlzLmVmZmVjdGl2ZUxvY2FsZSk7XHJcbiAgfVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy9cclxuICAvLyAgTGlmZWN5Y2xlXHJcbiAgLy9cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XHJcbiAgICBzZXRDb21wb25lbnRMb2FkZWQodGhpcyk7XHJcbiAgICB0aGlzLmNvbmRpdGlvbmFsbHlPdmVyZmxvd0FjdGlvbnMoKTtcclxuICB9XHJcbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICBjb25zdCB7IGVsLCBleHBhbmRlZCB9ID0gdGhpcztcclxuICAgIGNvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XHJcbiAgICBjb25uZWN0TWVzc2FnZXModGhpcyk7XHJcbiAgICB0b2dnbGVDaGlsZEFjdGlvblRleHQoeyBwYXJlbnQ6IGVsLCBleHBhbmRlZCB9KTtcclxuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlcj8ub2JzZXJ2ZShlbCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XHJcbiAgICBpZiAoIXRoaXMub3ZlcmZsb3dBY3Rpb25zRGlzYWJsZWQpIHtcclxuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlcj8ub2JzZXJ2ZShlbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbmRpdGlvbmFsbHlPdmVyZmxvd0FjdGlvbnMoKTtcclxuICAgIGNvbm5lY3RDb25kaXRpb25hbFNsb3RDb21wb25lbnQodGhpcyk7XHJcbiAgfVxyXG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xyXG4gICAgc2V0VXBMb2FkYWJsZUNvbXBvbmVudCh0aGlzKTtcclxuICAgIGF3YWl0IHNldFVwTWVzc2FnZXModGhpcyk7XHJcbiAgfVxyXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xyXG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyPy5kaXNjb25uZWN0KCk7XHJcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KCk7XHJcbiAgICBkaXNjb25uZWN0Q29uZGl0aW9uYWxTbG90Q29tcG9uZW50KHRoaXMpO1xyXG4gICAgZGlzY29ubmVjdExvY2FsaXplZCh0aGlzKTtcclxuICAgIGRpc2Nvbm5lY3RNZXNzYWdlcyh0aGlzKTtcclxuICB9XHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvL1xyXG4gIC8vICBNZXRob2RzXHJcbiAgLy9cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8qKlxyXG4gICAqIE92ZXJmbG93cyBhY3Rpb25zIHRoYXQgd29uJ3QgZml0IGludG8gbWVudXMuXHJcbiAgICpcclxuICAgKiBAaW50ZXJuYWxcclxuICAgKi9cclxuICBhc3luYyBvdmVyZmxvd0FjdGlvbnMoKSB7XHJcbiAgICB0aGlzLnJlc2l6ZSh7IHdpZHRoOiB0aGlzLmVsLmNsaWVudFdpZHRoLCBoZWlnaHQ6IHRoaXMuZWwuY2xpZW50SGVpZ2h0IH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBTZXRzIGZvY3VzIG9uIHRoZSBjb21wb25lbnQncyBmaXJzdCBmb2N1c2FibGUgZWxlbWVudC5cclxuICAgKi9cclxuICBhc3luYyBzZXRGb2N1cygpIHtcclxuICAgIGF3YWl0IGNvbXBvbmVudExvYWRlZCh0aGlzKTtcclxuICAgIHRoaXMuZWw/LmZvY3VzKCk7XHJcbiAgfVxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgLy9cclxuICAvLyAgUmVuZGVyIE1ldGhvZHNcclxuICAvL1xyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgcmVuZGVyQm90dG9tQWN0aW9uR3JvdXAoKSB7XHJcbiAgICBjb25zdCB7IGV4cGFuZGVkLCBleHBhbmREaXNhYmxlZCwgZWwsIHBvc2l0aW9uLCB0b2dnbGVFeHBhbmQsIHNjYWxlLCBsYXlvdXQsIG1lc3NhZ2VzIH0gPSB0aGlzO1xyXG4gICAgY29uc3QgdG9vbHRpcCA9IGdldFNsb3R0ZWQoZWwsIFNMT1RTLmV4cGFuZFRvb2x0aXApO1xyXG4gICAgY29uc3QgZXhwYW5kVG9nZ2xlTm9kZSA9ICFleHBhbmREaXNhYmxlZCA/IChoKEV4cGFuZFRvZ2dsZSwgeyBlbDogZWwsIGV4cGFuZGVkOiBleHBhbmRlZCwgaW50bENvbGxhcHNlOiBtZXNzYWdlcy5jb2xsYXBzZSwgaW50bEV4cGFuZDogbWVzc2FnZXMuZXhwYW5kLCBwb3NpdGlvbjogcG9zaXRpb24sIHJlZjogdGhpcy5zZXRFeHBhbmRUb2dnbGVSZWYsIHNjYWxlOiBzY2FsZSwgdG9nZ2xlOiB0b2dnbGVFeHBhbmQsIHRvb2x0aXA6IHRvb2x0aXAgfSkpIDogbnVsbDtcclxuICAgIHJldHVybiBnZXRTbG90dGVkKGVsLCBTTE9UUy5ib3R0b21BY3Rpb25zKSB8fCBleHBhbmRUb2dnbGVOb2RlID8gKGgoXCJjYWxjaXRlLWFjdGlvbi1ncm91cFwiLCB7IGNsYXNzOiBDU1MuYWN0aW9uR3JvdXBCb3R0b20sIGxheW91dDogbGF5b3V0LCBzY2FsZTogc2NhbGUgfSwgaChcInNsb3RcIiwgeyBuYW1lOiBTTE9UUy5ib3R0b21BY3Rpb25zIH0pLCBoKFwic2xvdFwiLCB7IG5hbWU6IFNMT1RTLmV4cGFuZFRvb2x0aXAgfSksIGV4cGFuZFRvZ2dsZU5vZGUpKSA6IG51bGw7XHJcbiAgfVxyXG4gIHJlbmRlcigpIHtcclxuICAgIHJldHVybiAoaChIb3N0LCB7IG9uQ2FsY2l0ZUFjdGlvbk1lbnVPcGVuOiB0aGlzLmFjdGlvbk1lbnVPcGVuSGFuZGxlciB9LCBoKFwic2xvdFwiLCBudWxsKSwgdGhpcy5yZW5kZXJCb3R0b21BY3Rpb25Hcm91cCgpKSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBnZXQgZGVsZWdhdGVzRm9jdXMoKSB7IHJldHVybiB0cnVlOyB9XHJcbiAgc3RhdGljIGdldCBhc3NldHNEaXJzKCkgeyByZXR1cm4gW1wiYXNzZXRzXCJdOyB9XHJcbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxyXG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XHJcbiAgICBcImV4cGFuZERpc2FibGVkXCI6IFtcImV4cGFuZEhhbmRsZXJcIl0sXHJcbiAgICBcImV4cGFuZGVkXCI6IFtcImV4cGFuZGVkSGFuZGxlclwiXSxcclxuICAgIFwib3ZlcmZsb3dBY3Rpb25zRGlzYWJsZWRcIjogW1wib3ZlcmZsb3dEaXNhYmxlZEhhbmRsZXJcIl0sXHJcbiAgICBcIm1lc3NhZ2VPdmVycmlkZXNcIjogW1wib25NZXNzYWdlc0NoYW5nZVwiXSxcclxuICAgIFwiZWZmZWN0aXZlTG9jYWxlXCI6IFtcImVmZmVjdGl2ZUxvY2FsZUNoYW5nZVwiXVxyXG4gIH07IH1cclxufTtcclxuQWN0aW9uQmFyLnN0eWxlID0gYWN0aW9uQmFyQ3NzO1xuXG5leHBvcnQgeyBBY3Rpb25CYXIgYXMgY2FsY2l0ZV9hY3Rpb25fYmFyIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGNpdGUtYWN0aW9uLWJhci5lbnRyeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=