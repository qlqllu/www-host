"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-edcb83"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureType-9388a039.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureType-9388a039.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ u$1),
/* harmony export */   e: () => (/* binding */ e),
/* harmony export */   u: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null;}};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0,origins:{"web-scene":{write:!1}}}})],t.prototype,"customParameters",void 0),t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.mixins.CustomParametersMixin")],t),t};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const a=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aq({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let n=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(o){super(o),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null;}writeDrawingTool(o,r){r.drawingTool=a.toJSON(o);}writePrototype(o,t){t.prototype=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aa)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R)(o),!0);}writeThumbnail(o,t){t.thumbnail=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aa)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R)(o));}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],n.prototype,"name",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],n.prototype,"description",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{read:a.read,write:a.write}})],n.prototype,"drawingTool",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("drawingTool")],n.prototype,"writeDrawingTool",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],n.prototype,"prototype",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("prototype")],n.prototype,"writePrototype",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],n.prototype,"thumbnail",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("thumbnail")],n.prototype,"writeThumbnail",null),n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.FeatureTemplate")],n);var u$1=n;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let l=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(o){super(o),this.id=null,this.name=null,this.domains=null,this.templates=null;}readDomains(o){const r={};for(const e in o)if(o.hasOwnProperty(e)){const t=o[e];switch(t.type){case"range":r[e]=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c2.fromJSON(t);break;case"codedValue":r[e]=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c1.fromJSON(t);break;case"inherited":r[e]=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.c0.fromJSON(t);}}return r}writeDomains(o,e){const t={};for(const r in o)o.hasOwnProperty(r)&&(t[r]=o[r]&&o[r].toJSON());(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aa)(t),e.domains=t;}readTemplates(o){return o&&o.map((o=>new u$1(o)))}writeTemplates(o,r){r.templates=o&&o.map((o=>o.toJSON()));}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],l.prototype,"id",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],l.prototype,"name",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],l.prototype,"domains",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("domains")],l.prototype,"readDomains",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("domains")],l.prototype,"writeDomains",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({json:{write:!0}})],l.prototype,"templates",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("templates")],l.prototype,"readTemplates",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("templates")],l.prototype,"writeTemplates",null),l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.FeatureType")],l);var u=l;



//# sourceMappingURL=FeatureType-9388a039.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MemCache-54630689.js":
/*!************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MemCache-54630689.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   s: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0);}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null;}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0;}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i);}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s);}clear(){this._storage.clear(this._namespace);}clearAll(){this._storage.clearAll();}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats();}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b5,this._users=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b5;}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null;}register(t){this._users.push(t);}deregister(t){this._users.removeUnordered(t);}registerRemoveFunc(t,e){this._removeFuncs.push([t,e]);}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t));}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit();}put(t,s,i,h){const r=this._db.get(t);if(r&&(this._size-=r.size,this._db.delete(t),r.entry!==s&&this._notifyRemoved(t,r.entry)),i>this._maxSize)return void this._notifyRemoved(t,s);if(void 0===s)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const _=1+Math.max(h,e)-e;this._db.set(t,{entry:s,size:i,lifetime:_,lives:_}),this._size+=i,this._checkSizeLimit();}updateSize(t,e,s){const i=this._db.get(t);if(i&&i.entry===e){if(this._size-=i.size,s>this._maxSize)return this._db.delete(t),void this._notifyRemoved(t,e);i.size=s,this._size+=s,this._checkSizeLimit();}}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss;}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss;}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},s={},i=new Array;this._db.forEach(((t,e)=>{const h=t.lifetime;i[h]=(i[h]||0)+t.size,this._users.forAll((i=>{const h=i.namespace;if(e.startsWith(h)){const e=s[h]||0;s[h]=e+t.size;}}));}));const h={};this._users.forAll((t=>{const e=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const i=s[e]||0;s[e]=i,h[e]=Math.round(100*t.hitRate)+"%";}else h[e]="0%";}));const r=Object.keys(s);r.forEach((t=>s[t]=s[t]/this._size*100)),r.sort(((t,e)=>s[e]-s[t])),r.forEach((e=>t[e]=Math.round(s[e])+"% / "+h[e]));for(let _=i.length-1;_>=0;--_){const s=i[_];s&&(t["Priority "+(_+e-1)]=Math.round(s/this.size*100)+"%");}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()));}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry));}));}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear();}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forAll((s=>{t.startsWith(s[0])&&s[1](e);}));}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}



//# sourceMappingURL=MemCache-54630689.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgisLayerUrl-36b3c3ab.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ O),
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   g: () => (/* binding */ g),
/* harmony export */   h: () => (/* binding */ h),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   v: () => (/* binding */ v),
/* harmony export */   w: () => (/* binding */ w),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const u=["MapServer","ImageServer","FeatureServer","SceneServer","StreamServer","VectorTileServer"],a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),f=/(.*)\/(\d+)\/?$/i;function p(e){return !!a.test(e)}function d(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e),n=t.path.match(a)||t.path.match(c);if(!n)return null;const[,s,i,o,l]=n,u=i.indexOf("/");return {title:v(-1!==u?i.slice(u+1):i),serverType:o,sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:s}}}function m(e){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e).path.match(f);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function v(e){return (e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(r$1,t){const n=[];if(r$1){const t=d(r$1);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(t)&&t.title&&n.push(t.title);}if(t){const e=v(t);n.push(e);}if(2===n.length){if(-1!==n[0].toLowerCase().indexOf(n[1].toLowerCase()))return n[0];if(-1!==n[1].toLowerCase().indexOf(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function w(e){if(!e)return !1;const r=".arcgis.com/",t="//services",n="//tiles",s="//features",i=-1!==(e=e.toLowerCase()).indexOf(r),o=-1!==e.indexOf(t)||-1!==e.indexOf(n)||-1!==e.indexOf(s);return i&&o}function y(e,r){return e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b1)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b2)(e,r)):e}function g(s){let{url:i}=s;if(!i)return {url:i};i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b2)(i,s.logger);const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(i),l=d(o.path);let u;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(l))null!=l.sublayer&&null==s.layer.layerId&&(u=l.sublayer),i=l.url.path;else if(s.nonStandardUrlAllowed){const r$1=m(o.path);(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1)&&(i=r$1.serviceUrl,u=r$1.sublayerId);}return {url:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b1)(i),layerId:u}}function O(e,r,t,n,i){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aP)(r,n,"url",i),n.url&&null!=e.layerId&&(n.url=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(n.url,t,e.layerId.toString()));}function S(e){if(!e)return !1;const r=e.toLowerCase(),t=-1!==r.indexOf("/services/"),n=-1!==r.indexOf("/mapserver/wmsserver"),s=-1!==r.indexOf("/imageserver/wmsserver"),i=-1!==r.indexOf("/wmsserver");return t&&(n||s||i)}



//# sourceMappingURL=arcgisLayerUrl-36b3c3ab.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/diffUtils-d9afbcb3.js":
/*!*************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/diffUtils-d9afbcb3.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ a),
/* harmony export */   m: () => (/* binding */ m),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function i(t){return t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1}function c(t){return t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae?Object.keys(t.items):i(t)?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aI)(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae?t.items[e]:t[e]}function l(t,e){return !(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function s(t){return t?t.declaredClass:null}function p(t,n){const o=t.diff;if(o&&"function"==typeof o)return o(t,n);const r$1=c(t),a=c(n);if(0===r$1.length&&0===a.length)return;if(!r$1.length||!a.length||l(t,n))return {type:"complete",oldValue:t,newValue:n};const y=a.filter((t=>-1===r$1.indexOf(t))),m=r$1.filter((t=>-1===a.indexOf(t))),d=r$1.filter((e=>a.indexOf(e)>-1&&u(t,e)!==u(n,e))).concat(y,m).sort(),b=s(t);if(b&&f.indexOf(b)>-1&&d.length)return {type:"complete",oldValue:t,newValue:n};let h;const j=i(t)&&i(n);for(const f of d){const r$1=u(t,f),i=u(n,f);let c;(j||"function"!=typeof r$1&&"function"!=typeof i)&&(r$1!==i&&(null==r$1&&null==i||(c=o&&o[f]&&"function"==typeof o[f]?o[f](r$1,i):"object"==typeof r$1&&"object"==typeof i&&s(r$1)===s(i)?p(r$1,i):{type:"complete",oldValue:r$1,newValue:i},(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(c)&&((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(h)?h.diff[f]=c:h={type:"partial",diff:{[f]:c}}))));}return h}function a(e,n){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return !1;const o=n.split(".");let r=e;for(const t of o){if("complete"===r.type)return !0;if("partial"!==r.type)return !1;{const e=r.diff[t];if(!e)return !1;r=e;}}return !0}function y(t,e){for(const n of e)if(a(t,n))return !0;return !1}function m(t,e){if("function"!=typeof t&&"function"!=typeof e&&(t||e))return !t||!e||"object"==typeof t&&"object"==typeof e&&s(t)!==s(e)?{type:"complete",oldValue:t,newValue:e}:p(t,e)}



//# sourceMappingURL=diffUtils-d9afbcb3.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureSetUtils-b0fce935.js":
/*!*******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureSetUtils-b0fce935.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ A),
/* harmony export */   C: () => (/* binding */ C$2),
/* harmony export */   D: () => (/* binding */ D),
/* harmony export */   E: () => (/* binding */ E$1),
/* harmony export */   T: () => (/* binding */ T),
/* harmony export */   _: () => (/* binding */ _),
/* harmony export */   a: () => (/* binding */ a$3),
/* harmony export */   b: () => (/* binding */ b),
/* harmony export */   c: () => (/* binding */ a),
/* harmony export */   d: () => (/* binding */ T$1),
/* harmony export */   e: () => (/* binding */ e$1),
/* harmony export */   f: () => (/* binding */ featureSetUtils),
/* harmony export */   j: () => (/* binding */ j),
/* harmony export */   k: () => (/* binding */ k),
/* harmony export */   q: () => (/* binding */ q),
/* harmony export */   r: () => (/* binding */ r$1),
/* harmony export */   v: () => (/* binding */ v$1),
/* harmony export */   w: () => (/* binding */ w$1),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PortalItem-036182cd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PortalItem-036182cd.js");
/* harmony import */ var _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./arcadeUtils-d1c69dcc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcadeUtils-d1c69dcc.js");
/* harmony import */ var _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SpatialFilter-033e0689.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/SpatialFilter-033e0689.js");
/* harmony import */ var _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WhereClause-63375e5b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/WhereClause-63375e5b.js");
/* harmony import */ var _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FieldsIndex-da237492.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FieldsIndex-da237492.js");
/* harmony import */ var _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FeatureLayer-e34aa1c3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureLayer-e34aa1c3.js");
/* harmony import */ var _featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./featureConversionUtils-87d39ccb.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureConversionUtils-87d39ccb.js");
/* harmony import */ var _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Query-39c34b93.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/Query-39c34b93.js");
/* harmony import */ var _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pbfQueryUtils-8a9fc87d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbfQueryUtils-8a9fc87d.js");
/* harmony import */ var _query_3d91522a_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./query-3d91522a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js");
/* harmony import */ var _QueryTask_51edf2d3_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./QueryTask-51edf2d3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/QueryTask-51edf2d3.js");
/* harmony import */ var _FeatureType_9388a039_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./FeatureType-9388a039.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureType-9388a039.js");
/* harmony import */ var _RelationshipQuery_83684adc_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./RelationshipQuery-83684adc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/RelationshipQuery-83684adc.js");















/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class r$1{constructor(){this.declaredRootClass="esri.arcade.featureSetCollection",this._layerById={},this._layerByName={};}add(e,r,t){this._layerById[r]=t,this._layerByName[e]=t;}featureSetByName(e,r=!0,t=["*"]){return void 0===this._layerByName[e]?this.resolvePromise(null):this.resolvePromise(this._layerByName[e])}featureSetById(e,r=!0,t=["*"]){return void 0===this._layerById[e]?this.resolvePromise(null):this.resolvePromise(this._layerById[e])}castToText(){return "object, FeatureSetCollection"}resolvePromise(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(r)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class _ extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.actions.AttributeFilter",this._maxProcessing=1e3,this._parent=e.parentfeatureset,e.whereclause instanceof _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause?(this._whereclause=e.whereclause,this._whereClauseFunction=null):(this._whereClauseFunction=e.whereclause,this._whereclause=null);}_initialiseFeatureSet(){null!==this._parent?(this.fields=this._parent.fields.slice(0),this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.fields=[],this.typeIdField="",this.objectIdField="",this.globalIdField="",this.spatialReference=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:4326}),this.geometryType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a0.point);}_getSet(t){return null===this._wset?this._ensureLoaded().then((()=>this._parent._getFilteredSet("",null,this._whereclause,null,t))).then((e=>(this._checkCancelled(t),null!==this._whereClauseFunction?this._wset=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0).concat(e._known.slice(0)),[],e._ordered,this._clonePageDefinition(e.pagesDefinition)):this._wset=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition)),this._wset))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_isInFeatureSet(e){let t=this._parent._isInFeatureSet(e);return t===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet?t:(t=this._idstates[e],void 0===t?_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.Unknown:t)}_getFeature(e,t,s){return this._parent._getFeature(e,t,s)}_getFeatures(e,t,s,i){return this._parent._getFeatures(e,t,s,i)}_featureFromCache(e){return this._parent._featureFromCache(e)}executeWhereClause(e){return this._whereclause.testFeature(e)}executeWhereClauseDeferred(i){if(null!==this._whereClauseFunction)try{const s=this._whereClauseFunction(i);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Q)(s)?s:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(s)}catch(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(r)}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this.executeWhereClause(i))}_fetchAndRefineFeatures(e,t,s){const r=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],e,!1,null),n=Math.min(t,e.length);return this._parent._getFeatures(r,-1,n,s).then((()=>{if(this._checkCancelled(s),null==this._whereClauseFunction){for(let t=0;t<n;t++){const s=this._parent._featureFromCache(e[t]);!0===this.executeWhereClause(s)?this._idstates[e[t]]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet:this._idstates[e[t]]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet;}return "success"}const r=[];for(let t=0;t<n;t++){const s=this._parent._featureFromCache(e[t]);r.push(this.executeWhereClauseDeferred(s));}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.P)(r).then((s=>{for(let i=0;i<t;i++)!0===s[i]?this._idstates[e[i]]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet:this._idstates[e[i]]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet;return "success"}))}))}_getFilteredSet(e,t,s,i,r){return null!==this._whereClauseFunction||(null!==s?null!==this._whereclause&&(s=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._whereclause,s)):s=this._whereclause),this._ensureLoaded().then((()=>this._parent._getFilteredSet(e,t,s,i,r))).then((e=>{let t;return this._checkCancelled(r),t=null!==this._whereClauseFunction?new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0).concat(e._known.slice(0)),[],e._ordered,this._clonePageDefinition(e.pagesDefinition)):new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition)),t}))}_stat(t,s,i,r,n,a,l){if(null!==this._whereClauseFunction)return null===n&&""===i&&null===r?this._manualStat(t,s,a,l):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1});let h=this._whereclause;return null!==n&&null!==this._whereclause&&(h=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._whereclause,n)),this._parent._stat(t,s,i,r,h,a,l).then((e=>!1===e.calculated?null===n&&""===i&&null===r?this._manualStat(t,s,a,l):{calculated:!1}:e))}_canDoAggregates(t,s,i,r,n){return null!==this._whereClauseFunction?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1):(null!==n?null!==this._whereclause&&(n=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._whereclause,n)):n=this._whereclause,null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1):this._parent._canDoAggregates(t,s,i,r,n))}_getAggregatePagesDataSourceDefinition(e,t,i,r,n,a,l){return null===this._parent?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called")):(null!==n?null!==this._whereclause&&(n=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._whereclause,n)):n=this._whereclause,this._parent._getAggregatePagesDataSourceDefinition(e,t,i,r,n,a,l))}static registerAction(){_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v._featuresetFunctions.filter=function(e){if("function"==typeof e)return new _({parentfeatureset:this,whereclause:e});let t=null;return e instanceof _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause&&(t=e),new _({parentfeatureset:this,whereclause:t})};}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t$1(t,e){return t===e?0:null===t?-1:null===e?1:t<e?-1:1}class e$1{constructor(t){const e=t.split(",");this._fields=[],this._directions=[];for(let s=0;s<e.length;s++){const t=e[s].match(/\S+/g);this._fields.push(t[0]),2===t.length?"asc"===t[1].toLowerCase()?this._directions.push(1):this._directions.push(0):this._directions.push(1);}}constructClause(){let t="";for(let e=0;e<this._fields.length;e++)0!==e&&(t+=","),t+=this._fields[e],1===this._directions[e]?t+=" ASC":t+=" DESC";return t}order(e){e.sort(((e,s)=>{for(let i=0;i<this._fields.length;i++){const r=this.featureValue(e.feature,this._fields[i],i),l=this.featureValue(s.feature,this._fields[i],i);let o=0;if(o=1===this._directions[i]?t$1(r,l):-1*t$1(r,l),0!==o)return o}return 0}));}scanForField(t){for(let e=0;e<this._fields.length;e++)if(this._fields[e].toLowerCase().trim()===t.toLowerCase().trim())return !0;return !1}replaceFields(t){let s="";for(let e=0;e<this._fields.length;e++){0!==e&&(s+=",");let i=this._fields[e];for(const e of t)if(i.toLowerCase()===e.field.toLowerCase()){i=e.newfield;break}s+=i,1===this._directions[e]?s+=" ASC":s+=" DESC";}return new e$1(s)}featureValue(t,e,s){const i=t.attributes[e];if(void 0!==i)return i;for(const r in t.attributes)if(e.toLowerCase()===r.toLowerCase())return this._fields[s]=r,t.attributes[r];return null}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class a$3 extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this._orderbyclause=null,this.declaredClass="esri.arcade.featureset.actions.OrderBy",this._maxProcessing=100,this._orderbyclause=e.orderbyclause,this._parent=e.parentfeatureset;}_getSet(t){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,this._orderbyclause,t))).then((e=>(this._checkCancelled(t),this._wset=e,this._wset))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}manualOrderSet(e,t){return this.getIdColumnDictionary(e,[],-1,t).then((e=>{this._orderbyclause.order(e);const t=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],!0,null);for(let r=0;r<e.length;r++)t._known.push(e[r].id);return t}))}getIdColumnDictionary(t,n,s,i){if(s<t._known.length-1){const e=this._maxQueryRate();if("GETPAGES"===t._known[s+1])return (0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a2)(this._parent._expandPagedSet(t,e,0,0,i)).then((()=>this.getIdColumnDictionary(t,n,s,i)));let a=s+1;const o=[];for(;a<t._known.length&&"GETPAGES"!==t._known[a];)o.push(t._known[a]),a++;return s+=o.length,(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a2)(this._parent._getFeatureBatch(o,i)).then((e=>{this._checkCancelled(i);for(const t of e)n.push({id:t.attributes[this.objectIdField],feature:t});return this.getIdColumnDictionary(t,n,s,i)}))}return t._candidates.length>0?(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a2)(this._refineSetBlock(t,this._maxProcessingRate(),i)).then((()=>(this._checkCancelled(i),this.getIdColumnDictionary(t,n,s,i)))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(n)}_isInFeatureSet(e){return this._parent._isInFeatureSet(e)}_getFeatures(e,t,r,n){return this._parent._getFeatures(e,t,r,n)}_featureFromCache(e){if(void 0===this._featureCache[e]){const t=this._parent._featureFromCache(e);if(void 0===t)return;return null===t?null:(this._featureCache[e]=t,t)}return this._featureCache[e]}_fetchAndRefineFeatures(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Fetch and Refine should not be called in this featureset"))}_getFilteredSet(e,t,r,s,i){return this._ensureLoaded().then((()=>this._parent._getFilteredSet(e,t,r,null===s?this._orderbyclause:s,i))).then((e=>{this._checkCancelled(i);const s=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition));let a=!0;return e._candidates.length>0&&(a=!1),!1===s._ordered?this.manualOrderSet(s,i).then((e=>(!1===a&&(null===t&&null===r||(e=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0).concat(e._known.slice(0)),[],e._ordered,this._clonePageDefinition(e.pagesDefinition)))),e))):s}))}static registerAction(){_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v._featuresetFunctions.orderBy=function(e){return ""===e?this:new a$3({parentfeatureset:this,orderbyclause:new e$1(e)})};}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class m{constructor(){this.sqlRewritable=!1;}postInitialization(e,t){}}class w$1 extends m{constructor(e){super(),this.field=e,this.sqlRewritable=!0;}extractValue(e){return e.attributes[this.field.name]}rewriteSql(e){return {rewritten:this.sqlRewritable,where:e}}}class v$1 extends m{constructor(e,t,r){super(),this.originalField=e,this.sqlRewritable=!0,this.field=(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a3)(e),this.field.name=t,this.field.alias=r;}rewriteSql(e,t){return {rewritten:this.sqlRewritable,where:(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.s)(e,this.field.name,this.originalField.name,t.getFieldsIndex())}}extractValue(e){return e.attributes[this.originalField.name]}}class C$2 extends m{constructor(e,t,r){super(),this.field=e,this.codefield=t,this.lkp=r,this.reverseLkp={};for(const s in r)this.reverseLkp[r[s]]=s;this.sqlRewritable=!0;}rewriteSql(e,t){const r=this.evaluateNodeToWhereClause(e.parseTree,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised,this.field.name,this.codefield instanceof _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause?(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(this.codefield,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised):this.codefield,e.parameters);return r.indexOf(C$2.BADNESS)>=0?{rewritten:!1,where:e}:{rewritten:this.sqlRewritable,where:_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create(r,t._parent.getFieldsIndex())}}evaluateNodeToWhereClause(e,t,r=null,s=null,i){let a,l,n,o;switch(e.type){case"interval":return (0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.w)(this.evaluateNodeToWhereClause(e.value,t,r,s,i),e.qualifier,e.op);case"case_expression":{let s=" CASE ";"simple"===e.format&&(s+=this.evaluateNodeToWhereClause(e.operand,t,r,C$2.BADNESS,i));for(let a=0;a<e.clauses.length;a++)s+=" WHEN "+this.evaluateNodeToWhereClause(e.clauses[a].operand,t,r,C$2.BADNESS,i)+" THEN "+this.evaluateNodeToWhereClause(e.clauses[a].value,t,r,C$2.BADNESS,i);return null!==e.else&&(s+=" ELSE "+this.evaluateNodeToWhereClause(e.else,t,r,C$2.BADNESS,i)),s+=" END ",s}case"param":{const r=i[e.value.toLowerCase()];if("string"==typeof r){return "'"+i[e.value.toLowerCase()].toString().replace(/'/g,"''")+"'"}if(r instanceof Date)return (0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.u)(r,t);if(r instanceof Array){const e=[];for(let s=0;s<r.length;s++)"string"==typeof r[s]?e.push("'"+r[s].toString().replace(/'/g,"''")+"'"):r[s]instanceof Date?e.push((0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.u)(r[s],t)):e.push(r[s].toString());return e}return r.toString()}case"expr_list":l=[];for(const a of e.value)l.push(this.evaluateNodeToWhereClause(a,t,r,s,i));return l;case"unary_expr":return " ( NOT "+this.evaluateNodeToWhereClause(e.expr,t,r,C$2.BADNESS,i)+" ) ";case"binary_expr":switch(e.operator){case"AND":return " ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" AND "+this.evaluateNodeToWhereClause(e.right,t,r,s,i)+") ";case"OR":return " ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" OR "+this.evaluateNodeToWhereClause(e.right,t,r,s,i)+") ";case"IS":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return " ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" IS NULL )";case"ISNOT":if("null"!==e.right.type)throw new Error("Unsupported RHS for IS");return " ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" IS NOT NULL )";case"IN":if(a=[],"expr_list"===e.right.type){if("column_ref"===e.left.type&&e.left.column.toUpperCase()===this.field.name.toUpperCase()){const a=[];let l=!0;for(const t of e.right.value){if("string"!==t.type){l=!1;break}if(void 0===this.lkp[t.value]){l=!1;break}a.push(this.lkp[t.value].toString());}if(l)return " ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" IN ("+a.join(",")+")) "}return a=this.evaluateNodeToWhereClause(e.right,t,r,s,i)," ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" IN ("+a.join(",")+")) "}return o=this.evaluateNodeToWhereClause(e.right,t,r,s,i),o instanceof Array?" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" IN ("+o.join(",")+")) ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" IN ("+o+")) ";case"NOT IN":if(a=[],"expr_list"===e.right.type){if("column_ref"===e.left.type&&e.left.column.toUpperCase()===this.field.name.toUpperCase()){const a=[];let l=!0;for(const t of e.right.value){if("string"!==t.type){l=!1;break}if(void 0===this.lkp[t.value]){l=!1;break}a.push(this.lkp[t.value].toString());}if(l)return " ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" NOT IN ("+a.join(",")+")) "}return a=this.evaluateNodeToWhereClause(e.right,t,r,s,i)," ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" NOT IN ("+a.join(",")+")) "}return o=this.evaluateNodeToWhereClause(e.right,t,r,s,i),o instanceof Array?" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" NOT IN ("+o.join(",")+")) ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,s,i)+" NOT IN ("+o+")) ";case"BETWEEN":return n=this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)," ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" BETWEEN "+n[0]+" AND "+n[1]+" ) ";case"NOTBETWEEN":return n=this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)," ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" NOT BETWEEN "+n[0]+" AND "+n[1]+" ) ";case"LIKE":return ""!==e.escape?" ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)+" ESCAPE '"+e.escape+"') ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)+") ";case"NOT LIKE":return ""!==e.escape?" ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" NOT LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)+" ESCAPE '"+e.escape+"') ":" ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" NOT LIKE "+this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)+") ";case"<>":case"=":if("column_ref"===e.left.type&&"string"===e.right.type){if(e.left.column.toUpperCase()===this.field.name.toUpperCase()&&void 0!==this.lkp[e.right.value.toString()])return " ("+s+" "+e.operator+" "+this.lkp[e.right.value.toString()].toString()+") "}else if("column_ref"===e.right.type&&"string"===e.left.type&&e.right.column.toUpperCase()===this.field.name.toUpperCase())return " ("+this.lkp[e.right.value.toString()].toString()+" "+e.operator+" "+s+") ";return " ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" "+e.operator+" "+this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)+") ";case"<":case">":case">=":case"<=":case"*":case"-":case"+":case"/":return " ("+this.evaluateNodeToWhereClause(e.left,t,r,C$2.BADNESS,i)+" "+e.operator+" "+this.evaluateNodeToWhereClause(e.right,t,r,C$2.BADNESS,i)+") "}throw new Error("Not Supported Operator "+e.operator);case"null":return "null";case"bool":return !0===e.value?"1":"0";case"string":return "'"+e.value.toString().replace(/'/g,"''")+"'";case"timestamp":case"date":return (0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.u)(e.value,t);case"number":return e.value.toString();case"current_time":return (0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.i)("date"===e.mode,t);case"column_ref":return r&&r.toLowerCase()===e.column.toLowerCase()?"("+s+")":e.column;case"function":{const s=this.evaluateNodeToWhereClause(e.args,t,r,C$2.BADNESS,i);return (0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.l)(e.name,s,t)}}throw new Error("Unsupported sql syntax "+e.type)}extractValue(e){return this.codefield instanceof _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause?this.reverseLkp[this.codefield.calculateValueCompiled(e)]:this.reverseLkp[e.attributes[this.codefield]]}}C$2.BADNESS="_!!!_BAD_LKP_!!!!";class T$1 extends m{constructor(e,t){super(),this.field=e,this.sql=t;}rewriteSql(e,t){return {rewritten:!0,where:(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.s)(e,this.field.name,(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(this.sql,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised),t.getFieldsIndex())}}extractValue(e){return this.sql.calculateValueCompiled(e)}}class E$1 extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this._calcFunc=null,this.declaredClass="esri.arcade.featureset.actions.Adapted",this.adaptedFields=null,this._extraFilter=null,this._extraFilter=e.extraFilter,this._parent=e.parentfeatureset,this._maxProcessing=30,this.adaptedFields=e.adaptedFields;}static findField(e,t){for(const r of e)if(r.name.toLowerCase()===t.toString().toLowerCase())return r;return null}_initialiseFeatureSet(){null!==this._parent?(this.geometryType=this._parent.geometryType,this.objectIdField=this._parent.objectIdField,this.globalIdField=this._parent.globalIdField,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField=this._parent.typeIdField,this.types=this._parent.types):(this.spatialReference=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:4326}),this.objectIdField="",this.globalIdField="",this.geometryType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a0.point,this.typeIdField="",this.types=null),this.fields=[];for(const e of this.adaptedFields)e.postInitialization(this,this._parent),this.fields.push(e.field);}_getSet(t){return null===this._wset?this._ensureLoaded().then((()=>this._extraFilter?this._getFilteredSet("",null,null,null,t):this._parent._getSet(t))).then((e=>(this._checkCancelled(t),this._wset=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0),e._known.slice(0),e._ordered,this._clonePageDefinition(e.pagesDefinition)),this._wset))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_isInFeatureSet(e){return this._parent._isInFeatureSet(e)}_getFeatures(t,r,i,a){const l=[];-1!==r&&void 0===this._featureCache[r]&&l.push(r);const h=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(t,h))return this._expandPagedSet(t,h,0,0,a).then((()=>this._getFeatures(t,r,i,a)));let u=0;for(let e=t._lastFetchedIndex;e<t._known.length&&(u++,u<=i&&(t._lastFetchedIndex+=1),!(void 0===this._featureCache[t._known[e]]&&(t._known[e]!==r&&l.push(t._known[e]),l.length>=h-1)));e++);if(0===l.length)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success");t=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],l,t._ordered,null);const d=Math.min(l.length,i);return this._parent._getFeatures(t,-1,d,a).then((()=>{this._checkCancelled(a);const e=[];for(let t=0;t<d;t++){const r=this._parent._featureFromCache(l[t]);void 0!==r&&e.push({geometry:r.geometry,attributes:r.attributes,id:l[t]});}for(const t of e){const e=[];for(const r of this.adaptedFields)e[r.field.name]=r.extractValue(t);this._featureCache[t.id]=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an({attributes:e,geometry:(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.H)(t.geometry)});}return "success"}))}_fetchAndRefineFeatures(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Fetch and Refine should not be called in this featureset"))}_getFilteredSet(e,t,r,s,i){let a=!1;const l=this.reformulateWithoutAdaptions(r);a=l.cannot,r=l.where;let n=!1;if(null!==s){n=!0;const e=[];for(const t of this.adaptedFields)if(!(t instanceof w$1)&&!0===s.scanForField(t.field.name)){if(!(t instanceof v$1)){s=null,n=!1;break}e.push({field:t.field.name,newfield:t.originalField.name});}s&&e.length>0&&(s=s.replaceFields(e));}return null!==r?null!==this._extraFilter&&(r=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._extraFilter,r)):r=this._extraFilter,this._ensureLoaded().then((()=>this._parent._getFilteredSet(e,t,r,s,i))).then((e=>{let t;return this._checkCancelled(i),t=!0===a?new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0).concat(e._known.slice(0)),[],!0===n&&e._ordered,this._clonePageDefinition(e.pagesDefinition)):new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0),e._known.slice(0),!0===n&&e._ordered,this._clonePageDefinition(e.pagesDefinition)),t}))}reformulateWithoutAdaptions(e){const t={cannot:!1,where:e};if(null!==e)for(const r of this.adaptedFields)if(!0===(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.h)(e,r.field.name)){const s=r.rewriteSql(e,this);if(!0!==s.rewritten){t.cannot=!0,t.where=null;break}t.where=s.where;}return t}_stat(t,r,s,i,a,l,n){let o=!1,h=this.reformulateWithoutAdaptions(r);return o=h.cannot,r=h.where,h=this.reformulateWithoutAdaptions(a),o=o||h.cannot,null!==(a=h.where)?null!==this._extraFilter&&(a=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._extraFilter,a)):a=this._extraFilter,!0===o?null===a&&""===s&&null===i?this._manualStat(t,r,l,n):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1}):this._parent._stat(t,r,s,i,a,l,n).then((e=>!1===e.calculated?null===a&&""===s&&null===i?this._manualStat(t,r,l,n):{calculated:!1}:e))}_canDoAggregates(t,r,s,i,a){if(null===this._parent)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1);for(let o=0;o<t.length;o++)for(const r of this.adaptedFields)if(t[o].toLowerCase()===r.field.name.toLowerCase()&&!(r instanceof w$1))return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1);const l=[];for(let o=0;o<r.length;o++){const t=r[o];if(null!==t.workingexpr){const r=this.reformulateWithoutAdaptions(t.workingexpr);if(r.cannot)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1);const s=t.clone();s.workingexpr=r.where,l.push(s);}else l.push(t);}const n=this.reformulateWithoutAdaptions(a);return n.cannot?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1):(null!==(a=n.where)?null!==this._extraFilter&&(a=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._extraFilter,a)):a=this._extraFilter,this._parent._canDoAggregates(t,l,s,i,a))}_getAggregatePagesDataSourceDefinition(e,r,s,i,a,l,n){if(null===this._parent)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called"));const o=[];for(let u=0;u<r.length;u++){const e=r[u];if(null!==e.workingexpr){const r=this.reformulateWithoutAdaptions(e.workingexpr);if(r.cannot)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called"));const s=e.clone();s.workingexpr=r.where,o.push(s);}else o.push(e);}const h=this.reformulateWithoutAdaptions(a);return h.cannot?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Should never be called")):(null!==(a=h.where)?null!==this._extraFilter&&(a=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.o)(this._extraFilter,a)):a=this._extraFilter,this._parent._getAggregatePagesDataSourceDefinition(e,o,s,i,a,l,n))}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function n$1(n){if("function"===n.parseTree.type){if(0===n.parseTree.args.value.length)return {name:n.parseTree.name,expr:null};if(n.parseTree.args.value.length>1)throw new Error("Statistic does not have 1 or 0 Parameters");const a=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create((0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.a)(n.parseTree.args.value[0],_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised,n.parameters),n.fieldsIndex);return {name:n.parseTree.name,expr:a}}return null}class a$2{clone(){const e=new a$2;return e.field=this.field,e.tofieldname=this.tofieldname,e.typeofstat=this.typeofstat,e.workingexpr=this.workingexpr,e}static parseStatField(e,t,i){const s=new a$2;s.field=e;const o=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create(t,i),l=n$1(o);if(null===l)throw new Error("Invalid Statistic Function");const p=l.name.toUpperCase().trim();if("MIN"===p){if(s.typeofstat="MIN",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("MAX"===p){if(s.typeofstat="MAX",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("COUNT"===p)s.typeofstat="COUNT",s.workingexpr=l.expr;else if("STDEV"===p){if(s.typeofstat="STDDEV",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("SUM"===p){if(s.typeofstat="SUM",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("MEAN"===p){if(s.typeofstat="AVG",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else if("AVG"===p){if(s.typeofstat="AVG",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}else {if("VAR"!==p)throw new Error("Invalid Statistic Function");if(s.typeofstat="VAR",s.workingexpr=l.expr,null===o)throw new Error("Invalid Statistic Function Parameters")}return s}toStatisticsName(){switch(this.typeofstat.toUpperCase()){case"MIN":return "min";case"MAX":return "max";case"SUM":return "sum";case"COUNT":return "count";case"VAR":return "var";case"STDDEV":return "stddev";case"AVG":return "avg";default:return "count"}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const n={Base64:0,Hex:1,String:2,Raw:3},t=8,r=(1<<t)-1;function e(n,t){const r=(65535&n)+(65535&t);return (n>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(n){const e=[];for(let o=0,u=n.length*t;o<u;o+=t)e[o>>5]|=(n.charCodeAt(o/t)&r)<<o%32;return e}function u$1(n){const e=[];for(let o=0,u=32*n.length;o<u;o+=t)e.push(String.fromCharCode(n[o>>5]>>>o%32&r));return e.join("")}function c(n){const t="0123456789abcdef",r=[];for(let e=0,o=4*n.length;e<o;e++)r.push(t.charAt(n[e>>2]>>e%4*8+4&15)+t.charAt(n[e>>2]>>e%4*8&15));return r.join("")}function f(n){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=[];for(let o=0,u=4*n.length;o<u;o+=3){const u=(n[o>>2]>>o%4*8&255)<<16|(n[o+1>>2]>>(o+1)%4*8&255)<<8|n[o+2>>2]>>(o+2)%4*8&255;for(let c=0;c<4;c++)8*o+6*c>32*n.length?e.push(t):e.push(r.charAt(u>>6*(3-c)&63));}return e.join("")}function s(n,t){return n<<t|n>>>32-t}function i(n,t,r,o,u,c){return e(s(e(e(t,n),e(o,c)),u),r)}function h(n,t,r,e,o,u,c){return i(t&r|~t&e,n,t,o,u,c)}function a$1(n,t,r,e,o,u,c){return i(t&e|r&~e,n,t,o,u,c)}function l(n,t,r,e,o,u,c){return i(t^r^e,n,t,o,u,c)}function g$1(n,t,r,e,o,u,c){return i(r^(t|~e),n,t,o,u,c)}function p(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;let r=1732584193,o=-271733879,u=-1732584194,c=271733878;for(let f=0;f<n.length;f+=16){const t=r,s=o,i=u,p=c;r=h(r,o,u,c,n[f+0],7,-680876936),c=h(c,r,o,u,n[f+1],12,-389564586),u=h(u,c,r,o,n[f+2],17,606105819),o=h(o,u,c,r,n[f+3],22,-1044525330),r=h(r,o,u,c,n[f+4],7,-176418897),c=h(c,r,o,u,n[f+5],12,1200080426),u=h(u,c,r,o,n[f+6],17,-1473231341),o=h(o,u,c,r,n[f+7],22,-45705983),r=h(r,o,u,c,n[f+8],7,1770035416),c=h(c,r,o,u,n[f+9],12,-1958414417),u=h(u,c,r,o,n[f+10],17,-42063),o=h(o,u,c,r,n[f+11],22,-1990404162),r=h(r,o,u,c,n[f+12],7,1804603682),c=h(c,r,o,u,n[f+13],12,-40341101),u=h(u,c,r,o,n[f+14],17,-1502002290),o=h(o,u,c,r,n[f+15],22,1236535329),r=a$1(r,o,u,c,n[f+1],5,-165796510),c=a$1(c,r,o,u,n[f+6],9,-1069501632),u=a$1(u,c,r,o,n[f+11],14,643717713),o=a$1(o,u,c,r,n[f+0],20,-373897302),r=a$1(r,o,u,c,n[f+5],5,-701558691),c=a$1(c,r,o,u,n[f+10],9,38016083),u=a$1(u,c,r,o,n[f+15],14,-660478335),o=a$1(o,u,c,r,n[f+4],20,-405537848),r=a$1(r,o,u,c,n[f+9],5,568446438),c=a$1(c,r,o,u,n[f+14],9,-1019803690),u=a$1(u,c,r,o,n[f+3],14,-187363961),o=a$1(o,u,c,r,n[f+8],20,1163531501),r=a$1(r,o,u,c,n[f+13],5,-1444681467),c=a$1(c,r,o,u,n[f+2],9,-51403784),u=a$1(u,c,r,o,n[f+7],14,1735328473),o=a$1(o,u,c,r,n[f+12],20,-1926607734),r=l(r,o,u,c,n[f+5],4,-378558),c=l(c,r,o,u,n[f+8],11,-2022574463),u=l(u,c,r,o,n[f+11],16,1839030562),o=l(o,u,c,r,n[f+14],23,-35309556),r=l(r,o,u,c,n[f+1],4,-1530992060),c=l(c,r,o,u,n[f+4],11,1272893353),u=l(u,c,r,o,n[f+7],16,-155497632),o=l(o,u,c,r,n[f+10],23,-1094730640),r=l(r,o,u,c,n[f+13],4,681279174),c=l(c,r,o,u,n[f+0],11,-358537222),u=l(u,c,r,o,n[f+3],16,-722521979),o=l(o,u,c,r,n[f+6],23,76029189),r=l(r,o,u,c,n[f+9],4,-640364487),c=l(c,r,o,u,n[f+12],11,-421815835),u=l(u,c,r,o,n[f+15],16,530742520),o=l(o,u,c,r,n[f+2],23,-995338651),r=g$1(r,o,u,c,n[f+0],6,-198630844),c=g$1(c,r,o,u,n[f+7],10,1126891415),u=g$1(u,c,r,o,n[f+14],15,-1416354905),o=g$1(o,u,c,r,n[f+5],21,-57434055),r=g$1(r,o,u,c,n[f+12],6,1700485571),c=g$1(c,r,o,u,n[f+3],10,-1894986606),u=g$1(u,c,r,o,n[f+10],15,-1051523),o=g$1(o,u,c,r,n[f+1],21,-2054922799),r=g$1(r,o,u,c,n[f+8],6,1873313359),c=g$1(c,r,o,u,n[f+15],10,-30611744),u=g$1(u,c,r,o,n[f+6],15,-1560198380),o=g$1(o,u,c,r,n[f+13],21,1309151649),r=g$1(r,o,u,c,n[f+4],6,-145523070),c=g$1(c,r,o,u,n[f+11],10,-1120210379),u=g$1(u,c,r,o,n[f+2],15,718787259),o=g$1(o,u,c,r,n[f+9],21,-343485551),r=e(r,t),o=e(o,s),u=e(u,i),c=e(c,p);}return [r,o,u,c]}function x(r,e=n.Hex){const s=e||n.Base64,i=p(o(r),r.length*t);switch(s){case n.Raw:return i;case n.Hex:return c(i);case n.String:return u$1(i);case n.Base64:return f(i)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function C$1(e){if(!e)return "COUNT";switch(e.toLowerCase()){case"max":return "MAX";case"var":case"variance":return "VAR";case"avg":case"average":case"mean":return "AVG";case"min":return "MIN";case"sum":return "SUM";case"stdev":case"stddev":return "STDDEV";case"count":return "COUNT"}return "COUNT"}class G extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this._decodedStatsfield=[],this._decodedGroupbyfield=[],this._candosimplegroupby=!0,this.phsyicalgroupbyfields=[],this.objectIdField="ROW__ID",this._internalObjectIdField="ROW__ID",this._adaptedFields=[],this.declaredClass="esri.arcade.featureset.actions.Aggregate",this._uniqueIds=1,this._maxQuery=10,this._maxProcessing=10,this._parent=e.parentfeatureset,this._config=e;}isTable(){return !0}_getSet(t){return null===this._wset?this._getFilteredSet("",null,null,null,t).then((e=>(this._wset=e,this._wset))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_isInFeatureSet(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet}nextUniqueName(e){for(;1===e["T"+this._uniqueIds.toString()];)this._uniqueIds++;const t="T"+this._uniqueIds.toString();return e[t]=1,t}convertToEsriFieldType(e){return e}_initialiseFeatureSet(){const e={};let t=!1,i=1;const n=this._parent?this._parent.getFieldsIndex():new _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_5__.e([]);for(this.objectIdField="ROW__ID",this.globalIdField="";!1===t;){let e=!1;for(let t=0;t<this._config.groupbyfields.length;t++)if(this._config.groupbyfields[t].name.toLowerCase()===this.objectIdField.toLowerCase()){e=!0;break}if(!1===e)for(let t=0;t<this._config.statsfields.length;t++)if(this._config.statsfields[t].name.toLowerCase()===this.objectIdField.toLowerCase()){e=!0;break}!1===e?t=!0:(this.objectIdField="ROW__ID"+i.toString(),i++);}for(const s of this._config.statsfields){const e=new a$2;e.field=s.name,e.tofieldname=s.name,e.workingexpr=s.expression instanceof _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause?s.expression:_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create(s.expression,n),e.typeofstat=C$1(s.statistic),this._decodedStatsfield.push(e);}this._decodedGroupbyfield=[];for(const s of this._config.groupbyfields){const e={name:s.name,singlefield:null,tofieldname:s.name,expression:s.expression instanceof _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause?s.expression:_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create(s.expression,n)};this._decodedGroupbyfield.push(e);}if(null!==this._parent){this.geometryType=this._parent.geometryType,this.spatialReference=this._parent.spatialReference,this.hasM=this._parent.hasM,this.hasZ=this._parent.hasZ,this.typeIdField="";for(const t of this._parent.fields)e[t.name.toUpperCase()]=1;this.types=null;}else this.geometryType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a0.point,this.typeIdField="",this.types=null,this.spatialReference=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O({wkid:4326});this.fields=[];const r=new a$2;r.field=this.nextUniqueName(e),r.tofieldname=this.objectIdField,r.workingexpr=_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create(this._parent.objectIdField,this._parent.getFieldsIndex()),r.typeofstat="MIN",this._decodedStatsfield.push(r);for(const s of this._decodedGroupbyfield){const t=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E;if(s.name=this.nextUniqueName(e),t.name=s.tofieldname,t.alias=t.name,(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.E)(s.expression)){const e=this._parent.getField((0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(s.expression,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised));if(!e)throw new Error("Field is not present for Aggregation");s.name=e.name,s.singlefield=e.name,this.phsyicalgroupbyfields.push(e.name),t.type=e.type;}else {t.type=this.convertToEsriFieldType((0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.f)(s.expression,this._parent.fields));const e=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E;e.name=s.name,e.alias=e.name,this.phsyicalgroupbyfields.push(s.name),this._adaptedFields.push(new T$1(e,s.expression)),this._candosimplegroupby=!1;}this.fields.push(t);}if(this._adaptedFields.length>0)for(const s of this._parent.fields)this._adaptedFields.push(new w$1(s));for(let s=0;s<this._decodedStatsfield.length;s++){const t=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E;let i=null;const n=this._decodedStatsfield[s];n.field=this.nextUniqueName(e),n.tofieldname===this.objectIdField&&(this._internalObjectIdField=n.field),t.name=n.tofieldname,t.alias=t.name;const r=null!==n.workingexpr&&(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.E)(n.workingexpr)?(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(n.workingexpr,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised):"";switch(this._decodedStatsfield[s].typeofstat){case"SUM":if(""!==r){if(i=this._parent.getField(r),!i)throw new Error("Field is not present for Aggregation");t.type=i.type;}else t.type="double";break;case"MIN":case"MAX":if(""!==r){if(i=this._parent.getField(r),!i)throw new Error("Field is not present for Aggregation");t.type=i.type;}else t.type="double";break;case"COUNT":t.type="integer";break;case"STDDEV":case"VAR":case"AVG":if(""!==r&&(i=this._parent.getField(r),!i))throw new Error("Field is not present for Aggregation");t.type="double";}this.fields.push(t);}}_canDoAggregates(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1)}_getFeatures(t,i,s,n){const r=this._maxQuery;return !0===this._checkIfNeedToExpandKnownPage(t,r)?this._expandPagedSet(t,r,0,0,n).then((()=>this._getFeatures(t,i,s,n))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success")}_getFilteredSet(t,i,s,n,r){if(""!==t)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],!0,null));let a=null;const l={ordered:!1,nowhereclause:!1};return this._ensureLoaded().then((()=>{if(null!==s)for(let e=0;e<this._decodedStatsfield.length;e++)if(!0===(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.h)(s,this._decodedStatsfield[e].tofieldname)){l.nowhereclause=!0,s=null;break}if(null!==n){l.ordered=!0;for(let e=0;e<this._decodedStatsfield.length;e++)if(!0===n.scanForField(this._decodedStatsfield[e].tofieldname)){n=null,l.ordered=!1;break}if(null!==n)for(const e of this._decodedGroupbyfield)if(null===e.singlefield&&!0===n.scanForField(e.tofieldname)){n=null,l.ordered=!1;break}}return !1===this._candosimplegroupby?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1):this._parent._canDoAggregates(this.phsyicalgroupbyfields,this._decodedStatsfield,"",null,null)})).then((e=>{if(e){let e=null;s&&(e=this._reformulateWhereClauseWithoutGroupByFields(s));let t=null;return n&&(t=this._reformulateOrderClauseWithoutGroupByFields(n)),this._parent._getAggregatePagesDataSourceDefinition(this.phsyicalgroupbyfields,this._decodedStatsfield,"",null,e,t,this._internalObjectIdField).then((e=>(this._checkCancelled(r),a=!0===l.nowhereclause?new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0).concat(e._known.slice(0)),[],!0===l.ordered&&e._ordered,this._clonePageDefinition(e.pagesDefinition)):new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(e._candidates.slice(0),e._known.slice(0),!0===l.ordered&&e._ordered,this._clonePageDefinition(e.pagesDefinition)),a)))}let t=this._parent;if(this._adaptedFields.length>0&&(t=new E$1({parentfeatureset:this._parent,adaptedFields:this._adaptedFields,extraFilter:null})),!0===l.nowhereclause)a=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(["GETPAGES"],[],!1,{aggregatefeaturesetpagedefinition:!0,resultOffset:0,resultRecordCount:this._maxQuery,internal:{fullyResolved:!1,workingItem:null,type:"manual",iterator:null,set:[],subfeatureset:new a$3({parentfeatureset:t,orderbyclause:new e$1(this.phsyicalgroupbyfields.join(",")+","+this._parent.objectIdField+" ASC")})}});else {let e=t;if(null!==s){let t=null;s&&(t=this._reformulateWhereClauseWithoutGroupByFields(s)),e=new _({parentfeatureset:e,whereclause:t});}a=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(["GETPAGES"],[],!1,{aggregatefeaturesetpagedefinition:!0,resultOffset:0,resultRecordCount:this._maxQuery,internal:{fullyResolved:!1,workingItem:null,type:"manual",iterator:null,set:[],subfeatureset:new a$3({parentfeatureset:e,orderbyclause:new e$1(this.phsyicalgroupbyfields.join(",")+","+this._parent.objectIdField+" ASC")})}});}return a}))}_reformulateWhereClauseWithoutStatsFields(e){for(const t of this._decodedStatsfield)e=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.s)(e,t.tofieldname,(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(t.workingexpr,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised),this._parent.getFieldsIndex());return e}_reformulateWhereClauseWithoutGroupByFields(e){for(const t of this._decodedGroupbyfield)t.tofieldname!==t.name&&(e=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.s)(e,t.tofieldname,(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(t.expression,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised),this._parent.getFieldsIndex()));return e}_reformulateOrderClauseWithoutGroupByFields(e){const t=[];for(const i of this._decodedGroupbyfield)i.tofieldname!==i.name&&t.push({field:i.tofieldname,newfield:i.name});return t.length>0?e.replaceFields(t):e}_clonePageDefinition(e){return null===e?null:!0===e.aggregatefeaturesetpagedefinition?{aggregatefeaturesetpagedefinition:!0,resultRecordCount:e.resultRecordCount,resultOffset:e.resultOffset,internal:e.internal}:this._parent._clonePageDefinition(e)}_refineSetBlock(i,s,n){try{if(!0===this._checkIfNeedToExpandCandidatePage(i,this._maxQuery))return this._expandPagedSet(i,this._maxQuery,0,0,n).then((()=>this._refineSetBlock(i,s,n)));this._checkCancelled(n);this._refineKnowns(i,s);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(i)}catch(r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(r)}}_expandPagedSet(e,t,i,s,n){return this._expandPagedSetFeatureSet(e,t,i,s,n)}_getPhysicalPage(e,t,s){return !0===e.pagesDefinition.aggregatefeaturesetpagedefinition?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((t,i)=>{this._sequentialGetPhysicalItem(e,e.pagesDefinition.resultRecordCount,s,[]).then((e=>{t(e);}),i);})):this._getAgregagtePhysicalPage(e,t,s).then((e=>{for(const t of e){const e={geometry:t.geometry,attributes:{}};for(const i of this._decodedGroupbyfield)e.attributes[i.tofieldname]=t.attributes[i.name];for(const i of this._decodedStatsfield)e.attributes[i.tofieldname]=t.attributes[i.field];this._featureCache[e.attributes[this.objectIdField]]=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an(e);}return e.length}))}_sequentialGetPhysicalItem(e,t,s,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((i,r)=>{null===e.pagesDefinition.internal.iterator&&(e.pagesDefinition.internal.iterator=e.pagesDefinition.internal.subfeatureset.iterator(s)),!0===e.pagesDefinition.internal.fullyResolved||0===t?i(n.length):this._nextAggregateItem(e,t,s,n,(r=>{null===r?i(n.length):(t-=1,i(this._sequentialGetPhysicalItem(e,t,s,n)));}),r);}))}_nextAggregateItem(e,t,i,s,n,a){try{(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a2)(e.pagesDefinition.internal.iterator.next()).then((r=>{if(null===r)if(null!==e.pagesDefinition.internal.workingItem){const t=this._calculateAndAppendAggregateItem(e.pagesDefinition.internal.workingItem);s.push(t),e.pagesDefinition.internal.workingItem=null,e.pagesDefinition.internal.set.push(t.attributes[this.objectIdField]),e.pagesDefinition.internal.fullyResolved=!0,n(null);}else e.pagesDefinition.internal.fullyResolved=!0,n(null);else {const l=this._generateAggregateHash(r);if(null===e.pagesDefinition.internal.workingItem)e.pagesDefinition.internal.workingItem={features:[r],id:l};else {if(l!==e.pagesDefinition.internal.workingItem.id){const i=this._calculateAndAppendAggregateItem(e.pagesDefinition.internal.workingItem);return s.push(i),e.pagesDefinition.internal.workingItem=null,e.pagesDefinition.internal.set.push(i.attributes[this.objectIdField]),t-=1,e.pagesDefinition.internal.workingItem={features:[r],id:l},void n(i)}e.pagesDefinition.internal.workingItem.features.push(r);}this._nextAggregateItem(e,t,i,s,n,a);}}),a);}catch(l){a(l);}}_calculateFieldStat(e,t,i){const s=[];for(let n=0;n<e.features.length;n++)if(null!==t.workingexpr){const i=t.workingexpr.calculateValue(e.features[n]);null!==i&&s.push(i);}else s.push(null);switch(t.typeofstat){case"MIN":i.attributes[t.tofieldname]=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.p)("min",s,-1);break;case"MAX":i.attributes[t.tofieldname]=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.p)("max",s,-1);break;case"SUM":i.attributes[t.tofieldname]=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.p)("sum",s,-1);break;case"COUNT":i.attributes[t.tofieldname]=s.length;break;case"VAR":i.attributes[t.tofieldname]=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.p)("var",s,-1);break;case"STDDEV":i.attributes[t.tofieldname]=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.p)("stddev",s,-1);break;case"AVG":i.attributes[t.tofieldname]=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.p)("avg",s,-1);}return !0}_calculateAndAppendAggregateItem(e){const t={attributes:{},geometry:null};for(const s of this._decodedGroupbyfield){const i=s.singlefield?e.features[0].attributes[s.singlefield]:s.expression.calculateValue(e.features[0]);t.attributes[s.tofieldname]=i;}for(const s of this._decodedStatsfield)this._calculateFieldStat(e,s,t);const i=[];for(let s=0;s<this._decodedStatsfield.length;s++)i.push(this._calculateFieldStat(e,this._decodedStatsfield[s],t));return this._featureCache[t.attributes[this.objectIdField]]=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an({attributes:t.attributes,geometry:t.geometry}),t}_generateAggregateHash(e){let t="";for(const i of this._decodedGroupbyfield){const s=i.singlefield?e.attributes[i.singlefield]:i.expression.calculateValue(e);t+=null==s?":":":"+s.toString();}return x(t,n.String)}_stat(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1})}getFeatureByObjectId(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(null)}static registerAction(){_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v._featuresetFunctions.groupby=function(e,t){return new G({parentfeatureset:this,groupbyfields:e,statsfields:t})};}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class a extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(t){super(t),this._topnum=0,this.declaredClass="esri.arcade.featureset.actions.Top",this._countedin=0,this._maxProcessing=100,this._topnum=t.topnum,this._parent=t.parentfeatureset;}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._parent._getSet(e))).then((t=>(this._wset=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(t._candidates.slice(0),t._known.slice(0),!1,this._clonePageDefinition(t.pagesDefinition)),this._setKnownLength(this._wset)>this._topnum&&(this._wset._known=this._wset._known.slice(0,this._topnum)),this._setKnownLength(this._wset)>=this._topnum&&(this._wset._candidates=[]),this._wset))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_setKnownLength(t){return t._known.length>0&&"GETPAGES"===t._known[t._known.length-1]?t._known.length-1:t._known.length}_isInFeatureSet(t){const e=this._parent._isInFeatureSet(t);if(e===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet)return e;const s=this._idstates[t];return s===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet||s===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet?s:e===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet&&void 0===s?this._countedin<this._topnum?(this._idstates[t]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet,this._countedin++,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet):(this._idstates[t]=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet):_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.Unknown}_expandPagedSet(n,s,i,a,r){if(null===this._parent)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Parent Paging not implemented"));if(s>this._topnum&&(s=this._topnum),this._countedin>=this._topnum&&n.pagesDefinition.internal.set.length<=n.pagesDefinition.resultOffset){let e=n._known.length;return e>0&&"GETPAGES"===n._known[e-1]&&(n._known.length=e-1),e=n._candidates.length,e>0&&"GETPAGES"===n._candidates[e-1]&&(n._candidates.length=e-1),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success")}return this._parent._expandPagedSet(n,s,i,a,r).then((t=>(this._setKnownLength(n)>this._topnum&&(n._known.length=this._topnum),this._setKnownLength(n)>=this._topnum&&(n._candidates.length=0),t)))}_getFeatures(e,n,i,a){const r=[],o=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(e,o))return this._expandPagedSet(e,o,0,0,a).then((()=>this._getFeatures(e,n,i,a)));-1!==n&&void 0===this._featureCache[n]&&r.push(n);let _=0;for(let t=e._lastFetchedIndex;t<e._known.length&&(_++,_<=i&&(e._lastFetchedIndex+=1),!(void 0===this._featureCache[e._known[t]]&&(e._known[t]!==n&&r.push(e._known[t]),r.length>o-1)));t++);if(0===r.length)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success");const h=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],r,!1,null),u=Math.min(r.length,i);return this._parent._getFeatures(h,-1,u,a).then((()=>{for(let t=0;t<u;t++){const e=this._parent._featureFromCache(r[t]);void 0!==e&&(this._featureCache[r[t]]=e);}return "success"}))}_getFilteredSet(t,e,n,i,a){return this._ensureLoaded().then((()=>this._getSet(a))).then((t=>new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(t._candidates.slice(0).concat(t._known.slice(0)),[],!1,this._clonePageDefinition(t.pagesDefinition))))}_refineKnowns(t,e){let s=0,i=null;const a=[];for(let r=0;r<t._candidates.length;r++){const o=this._isInFeatureSet(t._candidates[r]);if(o===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet){if(t._known.push(t._candidates[r]),s+=1,null===i?i={start:r,end:r}:i.end===r-1?i.end=r:(a.push(i),i={start:r,end:r}),t._known.length>=this._topnum)break}else if(o===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.NotInFeatureSet)null===i?i={start:r,end:r}:i.end===r-1?i.end=r:(a.push(i),i={start:r,end:r}),s+=1;else if(o===_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.Unknown)break;if(s>=e)break}null!==i&&a.push(i);for(let n=a.length-1;n>=0;n--)t._candidates.splice(a[n].start,a[n].end-a[n].start+1);this._setKnownLength(t)>this._topnum&&(t._known=t._known.slice(0,this._topnum)),this._setKnownLength(t)>=this._topnum&&(t._candidates=[]);}_stat(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1})}_canDoAggregates(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1)}static registerAction(){_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v._featuresetFunctions.top=function(t){return new a({parentfeatureset:this,topnum:t})};}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class q$1 extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.sources.FeatureLayerDynamic",this._removeGeometry=!1,this._overrideFields=null,this.formulaCredential=null,this._pageJustIds=!1,this._requestStandardised=!1,e.spatialReference&&(this.spatialReference=e.spatialReference),this._transparent=!0,this._maxProcessing=1e3,this._layer=e.layer,this._wset=null,void 0!==e.outFields&&(this._overrideFields=e.outFields),void 0!==e.includeGeometry&&(this._removeGeometry=!1===e.includeGeometry);}_maxQueryRate(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a5}end(){return this._layer}optimisePagingFeatureQueries(e){this._pageJustIds=e;}convertQueryToLruCacheKey(e){const t=(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a6)(e.toJSON());return x(t,n.String)}load(){return null===this._loadPromise&&(this._loadPromise=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{try{if(!0===this._layer.loaded)return this._initialiseFeatureSet(),void e(this);this._layer.when().then((()=>{try{this._initialiseFeatureSet(),e(this);}catch(r){t(r);}}),t),this._layer.load();}catch(r){t(r);}}))),this._loadPromise}_initialiseFeatureSet(){if(null==this.spatialReference&&(this.spatialReference=this._layer.spatialReference),this.geometryType=this._layer.geometryType,this.fields=this._layer.fields.slice(0),this._layer.outFields)if(1===this._layer.outFields.length&&"*"===this._layer.outFields[0]);else {const e=[];for(const t of this.fields)if("oid"===t.type)e.push(t);else for(const r of this._layer.outFields)if(r.toLowerCase()===t.name.toLowerCase()){e.push(t);break}this.fields=e;}if(null!==this._overrideFields)if(1===this._overrideFields.length&&"*"===this._overrideFields[0])this._overrideFields=null;else {const e=[],t=[];for(const r of this.fields)if("oid"===r.type)e.push(r),t.push(r.name);else for(const i of this._overrideFields)if(i.toLowerCase()===r.name.toLowerCase()){e.push(r),t.push(r.name);break}this.fields=e,this._overrideFields=t;}if(this._layer.source&&this._layer.source.sourceJSON){const e=this._layer.source.sourceJSON.currentVersion;!0===this._layer.source.sourceJSON.useStandardizedQueries?(this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.StandardisedNoInterval,null!=e&&e>=10.61&&(this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised)):null!=e&&(e>=10.5&&(this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.StandardisedNoInterval,this._requestStandardised=!0),e>=10.61&&(this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised));}this.objectIdField=this._layer.objectIdField;for(const e of this.fields)"global-id"===e.type&&(this.globalIdField=e.name);this.hasM=this._layer.supportsM,this.hasZ=this._layer.supportsZ,this.typeIdField=this._layer.typeIdField,this.types=this._layer.types;}_isInFeatureSet(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet}_refineSetBlock(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(e)}_candidateIdTransform(e){return e}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,null,e))).then((e=>(this._wset=e,e))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_runDatabaseProbe(t){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,r)=>{try{this._ensureLoaded().then((()=>{try{const i=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;i.where=t.replace("OBJECTID",this._layer.objectIdField),this._layer.queryObjectIds(i).then((()=>{e(!0);}),(()=>{try{e(!1);}catch(t){r(t);}}));}catch(i){r(i);}}));}catch(i){r(i);}}))}_canUsePagination(){return !(!this._layer.capabilities||!this._layer.capabilities.query||!0!==this._layer.capabilities.query.supportsPagination)}_cacheableFeatureSetSourceKey(){return this._layer.url}pbfSupportedForQuery(e){return !e.outStatistics&&this._layer&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsFormatPBF&&!0===this._layer.capabilities.query.supportsQuantizationEditMode}queryPBF(e){return e.quantizationParameters={mode:"edit"},(0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_10__.c)(this._layer.parsedUrl,e,new _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_9__.n({})).then((e=>_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ap.fromJSON((0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_7__.n)(e.data)).unquantize()))}get gdbVersion(){return this._layer&&this._layer.capabilities&&this._layer.capabilities.data&&this._layer.capabilities.data.isVersioned?this._layer.gdbVersion?this._layer.gdbVersion:"SDE.DEFAULT":""}nativeCapabilities(){return {title:this._layer.title,source:this,canQueryRelated:!0,capabilities:this._layer.capabilities,databaseType:this._databaseType,requestStandardised:this._requestStandardised}}executeQuery(e,t){const r=new _QueryTask_51edf2d3_js__WEBPACK_IMPORTED_MODULE_11__.x({url:this._layer.parsedUrl.path}),i="execute"===t&&this.pbfSupportedForQuery(e);let s=null;if(this.recentlyUsedQueries){const a=this.convertQueryToLruCacheKey(e);s=this.recentlyUsedQueries.getFromCache(a),null===s&&(s=!0!==i?r[t](e):this.queryPBF(e),this.recentlyUsedQueries.addToCache(a,s),s=s.catch((e=>{throw this.recentlyUsedQueries.removeFromCache(a),e})));}return this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preLayerQueryCallback({layer:this._layer,query:e,method:t}),null===s&&(s=!0!==i?r[t](e):this.queryPBF(e)),s}_getFilteredSet(e,t,r,i,s){return this.databaseType().then((a=>{if(this.isTable()&&t&&null!==e&&""!==e){return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],!0,null)}if(this._canUsePagination())return this._getFilteredSetUsingPaging(e,t,r,i,s);let n="",l=!1;null!==i&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsOrderBy&&(n=i.constructClause(),l=!0);const o=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return o.where=null===r?null===t?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(r,a),this._requestStandardised&&(o.sqlFormat="standard"),o.spatialRelationship=this._makeRelationshipEnum(e),o.outSpatialReference=this.spatialReference,o.orderByFields=""!==n?n.split(","):null,o.geometry=null===t?null:t,o.relationParameter=this._makeRelationshipParam(e),this.executeQuery(o,"executeForIds").then((e=>{null===e&&(e=[]),this._checkCancelled(s);return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],e,l,null)}))}))}_expandPagedSet(e,t,r,i,s){return this._expandPagedSetFeatureSet(e,t,r,i,s)}_getFilteredSetUsingPaging(e,t,i,s,a){try{let r="",n=!1;return null!==s&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsOrderBy&&(r=s.constructClause(),n=!0),this.databaseType().then((s=>{let l=null===i?null===t?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(i,s);this._layer.definitionExpression&&(l=""!==l?"(("+this._layer.definitionExpression+") AND ("+l+"))":this._layer.definitionExpression);let o=this._maxQueryRate();const u=this._layer.capabilities.query.maxRecordCount;void 0!==u&&u<o&&(o=u);let d=null;if(!0===this._pageJustIds)d=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],["GETPAGES"],n,{spatialRel:this._makeRelationshipEnum(e),relationParam:this._makeRelationshipParam(e),outFields:this._layer.objectIdField,resultRecordCount:o,resultOffset:0,geometry:null===t?null:t,where:l,orderByFields:r,returnGeometry:!1,returnIdsOnly:"false",internal:{set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}});else {let i=!0;!0===this._removeGeometry&&(i=!1);const s=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this._layer.outFields?this._layer.outFields:["*"]);d=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],["GETPAGES"],n,{spatialRel:this._makeRelationshipEnum(e),relationParam:this._makeRelationshipParam(e),outFields:s.join(","),resultRecordCount:o,resultOffset:0,geometry:null===t?null:t,where:l,orderByFields:r,returnGeometry:i,returnIdsOnly:"false",internal:{set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}});}return this._expandPagedSet(d,o,0,1,a).then((()=>d))}))}catch(n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(n)}}_clonePageDefinition(e){return null===e?null:!0!==e.groupbypage?{groupbypage:!1,spatialRel:e.spatialRel,relationParam:e.relationParam,outFields:e.outFields,resultRecordCount:e.resultRecordCount,resultOffset:e.resultOffset,geometry:e.geometry,where:e.where,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}:{groupbypage:!0,spatialRel:e.spatialRel,relationParam:e.relationParam,outFields:e.outFields,resultRecordCount:e.resultRecordCount,useOIDpagination:e.useOIDpagination,generatedOid:e.generatedOid,groupByFieldsForStatistics:e.groupByFieldsForStatistics,resultOffset:e.resultOffset,outStatistics:e.outStatistics,geometry:e.geometry,where:e.where,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}}_getPhysicalPage(e,t,i){try{const t=e.pagesDefinition.internal.lastRetrieved,r=t,s=e.pagesDefinition.internal.lastPage,a=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return this._requestStandardised&&(a.sqlFormat="standard"),a.spatialRelationship=e.pagesDefinition.spatialRel,a.relationParameter=e.pagesDefinition.relationParam,a.outFields=e.pagesDefinition.outFields.split(","),a.num=e.pagesDefinition.resultRecordCount,a.start=e.pagesDefinition.internal.lastPage,a.geometry=e.pagesDefinition.geometry,a.where=e.pagesDefinition.where,a.orderByFields=""!==e.pagesDefinition.orderByFields?e.pagesDefinition.orderByFields.split(","):null,a.returnGeometry=e.pagesDefinition.returnGeometry,a.outSpatialReference=this.spatialReference,this.executeQuery(a,"execute").then((a=>{if(this._checkCancelled(i),e.pagesDefinition.internal.lastPage!==s)return "done";for(let t=0;t<a.features.length;t++)e.pagesDefinition.internal.set[r+t]=a.features[t].attributes[this._layer.objectIdField];if(!1===this._pageJustIds)for(let e=0;e<a.features.length;e++)this._featureCache[a.features[e].attributes[this._layer.objectIdField]]=a.features[e];return (void 0===a.exceededTransferLimit&&a.features.length!==e.pagesDefinition.resultRecordCount||!1===a.exceededTransferLimit)&&(e.pagesDefinition.internal.fullyResolved=!0),e.pagesDefinition.internal.lastRetrieved=t+a.features.length,e.pagesDefinition.internal.lastPage+=e.pagesDefinition.resultRecordCount,"done"}))}catch(s){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(s)}}_fieldsIncludingObjectId(e){if(null===e)return [this.objectIdField];const t=e.slice(0);if(t.indexOf("*")>-1)return t;let r=!1;for(const i of t)if(i.toUpperCase()===this.objectIdField.toUpperCase()){r=!0;break}return !1===r&&t.push(this.objectIdField),t}_getFeatures(e,i,s,a){const n=[];try{if(-1!==i&&void 0===this._featureCache[i]&&n.push(i),!0===this._checkIfNeedToExpandKnownPage(e,this._maxProcessingRate()))return this._expandPagedSet(e,this._maxProcessingRate(),0,0,a).then((()=>this._getFeatures(e,i,s,a)));let o=0;for(let t=e._lastFetchedIndex;t<e._known.length;t++){if(e._lastFetchedIndex+=1,o++,void 0===this._featureCache[e._known[t]]){let r=!1;if(null!==this._layer._mode&&void 0!==this._layer._mode){const i=this._layer._mode;if(void 0!==i._featureMap[e._known[t]]){const s=i._featureMap[e._known[t]];null!==s&&(r=!0,this._featureCache[e._known[t]]=s);}}if(!1===r&&(e._known[t]!==i&&n.push(e._known[t]),n.length>=this._maxProcessingRate()-1))break}if(o>=s&&0===n.length)break}if(0===n.length)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success");try{const e=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return this._requestStandardised&&(e.sqlFormat="standard"),e.objectIds=n,e.outFields=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this._layer.outFields?this._layer.outFields:["*"]),e.returnGeometry=!0,!0===this._removeGeometry&&(e.returnGeometry=!1),e.outSpatialReference=this.spatialReference,this.executeQuery(e,"execute").then((e=>{if(this._checkCancelled(a),void 0!==e.error)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error(e.error));for(let t=0;t<e.features.length;t++)this._featureCache[e.features[t].attributes[this._layer.objectIdField]]=e.features[t];return "success"}))}catch(l){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(l)}}catch(l){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(l)}}_getDistinctPages(e,t,i,s,a,n,l,o,u){return this._ensureLoaded().then((()=>this.databaseType())).then((d=>{let h=i.parseTree.column;for(let e=0;e<this._layer.fields.length;e++)if(this._layer.fields[e].name.toLowerCase()===h.toLowerCase()){h=this._layer.fields[e].name;break}const c=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;this._requestStandardised&&(c.sqlFormat="standard");let p=null===n?null===a?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(n,d);return this._layer.definitionExpression&&(p=""!==p?"(("+this._layer.definitionExpression+") AND ("+p+"))":this._layer.definitionExpression),c.where=p,c.spatialRelationship=this._makeRelationshipEnum(s),c.relationParameter=this._makeRelationshipParam(s),c.geometry=null===a?null:a,c.returnDistinctValues=!0,c.returnGeometry=!1,c.outFields=[h],this.executeQuery(c,"execute").then((d=>{if(this._checkCancelled(u),!d.hasOwnProperty("features"))return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Unnexected Result querying statistics from layer"));let c=!1;for(let e=0;e<this._layer.fields.length;e++)if(this._layer.fields[e].name===h){"date"===this._layer.fields[e].type&&(c=!0);break}for(let e=0;e<d.features.length;e++){if(c){const t=d.features[e].attributes[h];null!==t?o.push(new Date(t)):o.push(t);}else o.push(d.features[e].attributes[h]);if(o.length>=l)break}return 0===d.features.length?o:d.features.length===this._layer.capabilities.query.maxRecordCount&&o.length<l?this._getDistinctPages(e+d.features.length,t,i,s,a,n,l,o,u).then((e=>({calculated:!0,result:e}))):o}))}))}_distinctStat(e,t,r,i,s,a,n){return this._getDistinctPages(0,e,t,r,i,s,a,[],n).then((e=>({calculated:!0,result:e})))}isTable(){return this._layer.isTable||null===this._layer.geometryType||"table"===this._layer.type||""===this._layer.geometryType}_countstat(e,t,r,i){return this.databaseType().then((e=>{const s=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;if(this._requestStandardised&&(s.sqlFormat="standard"),this.isTable()&&r&&null!==t&&""!==t)return {calculated:!0,result:0};let a=null===i?null===r?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(i,e);return this._layer.definitionExpression&&(a=""!==a?"(("+this._layer.definitionExpression+") AND ("+a+"))":this._layer.definitionExpression),s.where=a,s.where=a,s.spatialRelationship=this._makeRelationshipEnum(t),s.relationParameter=this._makeRelationshipParam(t),s.geometry=null===r?null:r,s.returnGeometry=!1,this.executeQuery(s,"executeForCount").then((e=>({calculated:!0,result:e})))}))}_stats(e,t,i,s,a,n,l){return this._ensureLoaded().then((()=>{const o=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsSqlExpression,u=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsStatistics,d=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsDistinct;return "count"===e?d?this._countstat(e,i,s,a):{calculated:!1}:!1===u||!1===(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.E)(t)&&!1===o||!1===t.isStandardized?""!==i||null!==a?{calculated:!1}:this._manualStat(e,t,n,l):"distinct"===e?!1===d?""!==i||null!==a?{calculated:!1}:this._manualStat(e,t,n,l):this._distinctStat(e,t,i,s,a,n,l):this.databaseType().then((n=>{if(this.isTable()&&s&&null!==i&&""!==i)return {calculated:!0,result:null};const l=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;this._requestStandardised&&(l.sqlFormat="standard");let o=null===a?null===s?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(a,n);this._layer.definitionExpression&&(o=""!==o?"(("+this._layer.definitionExpression+") AND ("+o+"))":this._layer.definitionExpression),l.where=o,l.spatialRelationship=this._makeRelationshipEnum(i),l.relationParameter=this._makeRelationshipParam(i),l.geometry=null===s?null:s;const u=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.m;u.statisticType=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.m)(e),u.onStatisticField=(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(t,n),u.outStatisticFieldName="ARCADE_STAT_RESULT",l.returnGeometry=!1;let d="ARCADE_STAT_RESULT";return l.outStatistics=[u],this.executeQuery(l,"execute").then((e=>{if(!e.hasOwnProperty("features")||0===e.features.length)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Unnexected Result querying statistics from layer"));let t=!1;for(let r=0;r<e.fields.length;r++)if("ARCADE_STAT_RESULT"===e.fields[r].name.toUpperCase()){d=e.fields[r].name,"date"===e.fields[r].type&&(t=!0);break}if(t){let t=e.features[0].attributes[d];return null!==t&&(t=new Date(e.features[0].attributes[d])),{calculated:!0,result:t}}return {calculated:!0,result:e.features[0].attributes[d]}}))}))}))}_stat(e,t,r,i,s,a,n){return this._stats(e,t,r,i,s,a,n)}_canDoAggregates(e,t){return this._ensureLoaded().then((()=>{let e=!1;const r=this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsSqlExpression;if(void 0!==this._layer.capabilities&&null!==this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsStatistics&&!0===this._layer.capabilities.query.supportsOrderBy&&(e=!0),e)for(let i=0;i<t.length-1;i++)null!==t[i].workingexpr&&(!1===t[i].workingexpr.isStandardized||!1===(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.E)(t[i].workingexpr)&&!1===r)&&(e=!1);return !1!==e}))}_makeRelationshipEnum(e){if(e.indexOf("esriSpatialRelRelation")>=0)return "relation";switch(e){case"esriSpatialRelRelation":return "relation";case"esriSpatialRelIntersects":return "intersects";case"esriSpatialRelContains":return "contains";case"esriSpatialRelOverlaps":return "overlaps";case"esriSpatialRelWithin":return "within";case"esriSpatialRelTouches":return "touches";case"esriSpatialRelCrosses":return "crosses";case"esriSpatialRelEnvelopeIntersects":return "envelope-intersects"}return e}_makeRelationshipParam(e){return e.indexOf("esriSpatialRelRelation")>=0?e.split(":")[1]:""}_getAggregatePagesDataSourceDefinition(e,t,r,i,s,a,n){return this._ensureLoaded().then((()=>this.databaseType())).then((l=>{let o="",u=!1,d=!1;null!==a&&this._layer.capabilities&&this._layer.capabilities.query&&!0===this._layer.capabilities.query.supportsOrderBy&&(o=a.constructClause(),d=!0),this._layer.capabilities&&this._layer.capabilities.query&&!1===this._layer.capabilities.query.supportsPagination&&(d=!1,u=!0,o=this._layer.objectIdField);const h=[];for(let e=0;e<t.length;e++){const r=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.m;r.onStatisticField=null!==t[e].workingexpr?(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(t[e].workingexpr,l):"",r.outStatisticFieldName=t[e].field,r.statisticType=t[e].toStatisticsName(),h.push(r);}""===o&&(o=e.join(","));let c=this._maxQueryRate();const p=this._layer.capabilities.query.maxRecordCount;void 0!==p&&p<c&&(c=p);let _=null===s?null===i?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(s,l);this._layer.definitionExpression&&(_=""!==_?"(("+this._layer.definitionExpression+") AND ("+_+"))":this._layer.definitionExpression);return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],["GETPAGES"],d,{groupbypage:!0,spatialRel:this._makeRelationshipEnum(r),relationParam:this._makeRelationshipParam(r),outFields:["*"],useOIDpagination:u,generatedOid:n,resultRecordCount:c,resultOffset:0,groupByFieldsForStatistics:e,outStatistics:h,geometry:null===i?null:i,where:_,orderByFields:o,returnGeometry:!1,returnIdsOnly:!1,internal:{lastMaxId:-1,set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}})}))}_getAgregagtePhysicalPage(e,i,s){try{let i=e.pagesDefinition.where;!0===e.pagesDefinition.useOIDpagination&&(i=""!==i?"("+i+") AND ("+e.pagesDefinition.generatedOid+">"+e.pagesDefinition.internal.lastMaxId.toString()+")":e.pagesDefinition.generatedOid+">"+e.pagesDefinition.internal.lastMaxId.toString());const a=e.pagesDefinition.internal.lastRetrieved,l=a,o=e.pagesDefinition.internal.lastPage,u=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return this._requestStandardised&&(u.sqlFormat="standard"),u.where=i,u.spatialRelationship=e.pagesDefinition.spatialRel,u.relationParameter=e.pagesDefinition.relationParam,u.outFields=e.pagesDefinition.outFields,u.outStatistics=e.pagesDefinition.outStatistics,u.geometry=e.pagesDefinition.geometry,u.groupByFieldsForStatistics=e.pagesDefinition.groupByFieldsForStatistics,u.num=e.pagesDefinition.resultRecordCount,u.start=e.pagesDefinition.internal.lastPage,u.returnGeometry=e.pagesDefinition.returnGeometry,u.orderByFields=""!==e.pagesDefinition.orderByFields?e.pagesDefinition.orderByFields.split(","):null,this.isTable()&&u.geometry&&u.spatialRelationship?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)([]):this.executeQuery(u,"execute").then((t=>{if(this._checkCancelled(s),!t.hasOwnProperty("features"))return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Unnexected Result querying aggregates from layer"));const i=[];if(e.pagesDefinition.internal.lastPage!==o)return [];for(let r=0;r<t.features.length;r++)e.pagesDefinition.internal.set[l+r]=t.features[r].attributes[e.pagesDefinition.generatedOid];for(let e=0;e<t.features.length;e++)i.push(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an({attributes:t.features[e].attributes,geometry:null}));return !0===e.pagesDefinition.useOIDpagination?0===t.features.length?e.pagesDefinition.internal.fullyResolved=!0:e.pagesDefinition.internal.lastMaxId=t.features[t.features.length-1].attributes[e.pagesDefinition.generatedOid]:(void 0===t.exceededTransferLimit&&t.features.length!==e.pagesDefinition.resultRecordCount||!1===t.exceededTransferLimit)&&(e.pagesDefinition.internal.fullyResolved=!0),e.pagesDefinition.internal.lastRetrieved=a+t.features.length,e.pagesDefinition.internal.lastPage+=e.pagesDefinition.resultRecordCount,i}))}catch(a){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(a)}}static create(e,t,r,i,s){const a=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k({url:e,outFields:null===t?["*"]:t});return new q$1({layer:a,spatialReference:r,lrucache:i,interceptor:s})}relationshipMetaData(){return this._layer&&this._layer.source&&this._layer.source.sourceJSON&&this._layer.source.sourceJSON.relationships?this._layer.source.sourceJSON.relationships:[]}serviceUrl(){return (0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a7)(this._layer.parsedUrl.path)}queryAttachments(e,r,i,s){if(this._layer.capabilities.data.supportsAttachment&&this._layer.capabilities.operations.supportsQueryAttachments){const t={objectIds:[e]};return (r&&r>0||i&&i>0)&&(t.size=[r&&r>0?r:0,i&&i>0?i:r+1]),s&&s.length>0&&(t.attachmentTypes=s),this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preLayerQueryCallback({layer:this._layer,query:t,method:"attachments"}),this._layer.queryAttachments(t).then((t=>{const r=[];return t&&t[e]&&t[e].forEach((t=>{const i=this._layer.parsedUrl.path+"/"+e.toString()+"/attachments/"+t.id.toString();r.push(new _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.x(t.id,t.name,t.contentType,t.size,i));})),r}))}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)([])}queryRelatedFeatures(e){const t={f:"json",relationshipId:e.relationshipId.toString(),definitionExpression:e.where,outFields:e.outFields.join(","),returnGeometry:e.returnGeometry.toString()};return void 0!==e.resultOffset&&null!==e.resultOffset&&(t.resultOffset=e.resultOffset.toString()),void 0!==e.resultRecordCount&&null!==e.resultRecordCount&&(t.resultRecordCount=e.resultRecordCount.toString()),e.orderByFields&&(t.orderByFields=e.orderByFields.join(",")),e.objectIds.length>0&&(t.objectIds=e.objectIds.join(",")),e.outSpatialReference&&(t.outSR=JSON.stringify(e.outSpatialReference.toJSON())),this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preRequestCallback({layer:this._layer,queryPayload:t,method:"relatedrecords",url:this._layer.parsedUrl.path+"/queryRelatedRecords"}),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(this._layer.parsedUrl.path+"/queryRelatedRecords",{responseType:"json",query:t}).then((e=>{if(e.data){const t={},r=e.data;if(r&&r.relatedRecordGroups){const e=r.spatialReference;for(const s of r.relatedRecordGroups){const a=s.objectId,l=[];for(const t of s.relatedRecords){t.geometry&&(t.geometry.spatialReference=e);const r=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an({geometry:t.geometry?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(t.geometry):null,attributes:t.attributes});l.push(r);}t[a]={features:l,exceededTransferLimit:!0===r.exceededTransferLimit};}}return t}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)("Invalid Request")}))}getFeatureByObjectId(e,t){const r=new _QueryTask_51edf2d3_js__WEBPACK_IMPORTED_MODULE_11__.x({url:this._layer.parsedUrl.path}),i=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return i.outFields=t,i.returnGeometry=!1,i.outSpatialReference=this.spatialReference,i.where=this.objectIdField+"="+e.toString(),this.featureSetQueryInterceptor&&this.featureSetQueryInterceptor.preLayerQueryCallback({layer:this._layer,query:i,method:"execute"}),r.execute(i).then((e=>1===e.features.length?e.features[0]:null))}getIdentityUser(){return this.load().then((()=>{var e;const t=null==(e=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bs)?void 0:e.findCredential(this._layer.url);return t?t.userId:null}))}getOwningSystemUrl(){return this.load().then((()=>{var r;const i=null==(r=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bs)?void 0:r.findServerInfo(this._layer.url);if(i)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(i.owningSystemUrl);let n=this._layer.url;const l=n.toLowerCase().indexOf("/rest/services");return n=l>-1?n.substring(0,l):n,n?(n+="/rest/info",(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(n,{query:{f:"json"}}).then((t=>{let r="";t.data&&t.data.owningSystemUrl&&(r=t.data.owningSystemUrl),e(r);}),(t=>{e("");}));}))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("")}))}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class y extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.sources.FeatureLayerMemory",this._removeGeometry=!1,this._overrideFields=null,this._forceIsTable=!1,e.spatialReference&&(this.spatialReference=e.spatialReference),this._transparent=!0,this._maxProcessing=1e3,this._layer=e.layer,this._wset=null,!0===e.isTable&&(this._forceIsTable=!0),void 0!==e.outFields&&(this._overrideFields=e.outFields),void 0!==e.includeGeometry&&(this._removeGeometry=!1===e.includeGeometry);}_maxQueryRate(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a5}end(){return this._layer}optimisePagingFeatureQueries(){}load(){return null===this._loadPromise&&(this._loadPromise=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{if(!0===this._layer.loaded)return this._initialiseFeatureSet(),void e(this);this._layer.when().then((()=>{try{this._initialiseFeatureSet(),e(this);}catch(r){t(r);}}),t),this._layer.load();}))),this._loadPromise}get gdbVersion(){return ""}_initialiseFeatureSet(){if(null==this.spatialReference&&(this.spatialReference=this._layer.spatialReference),this.geometryType=this._layer.geometryType,this.fields=this._layer.fields.slice(0),this._layer.outFields)if(1===this._layer.outFields.length&&"*"===this._layer.outFields[0]);else {const e=[];for(const t of this.fields)if("oid"===t.type)e.push(t);else for(const r of this._layer.outFields)if(r.toLowerCase()===t.name.toLowerCase()){e.push(t);break}this.fields=e;}if(null!==this._overrideFields)if(1===this._overrideFields.length&&"*"===this._overrideFields[0])this._overrideFields=null;else {const e=[],t=[];for(const r of this.fields)if("oid"===r.type)e.push(r),t.push(r.name);else for(const s of this._overrideFields)if(s.toLowerCase()===r.name.toLowerCase()){e.push(r),t.push(r.name);break}this.fields=e,this._overrideFields=t;}this.objectIdField=this._layer.objectIdField;for(const e of this.fields)"global-id"===e.type&&(this.globalIdField=e.name);this.hasM=this._layer.supportsM,this.hasZ=this._layer.supportsZ,this._databaseType=_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised,this.typeIdField=this._layer.typeIdField,this.types=this._layer.types;}isTable(){return this._forceIsTable||this._layer.isTable||"table"===this._layer.type||!this._layer.geometryType}_isInFeatureSet(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet}_candidateIdTransform(e){return e}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,null,e))).then((e=>(this._wset=e,e))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_changeFeature(e){const t={};for(const r of this.fields)t[r.name]=e.attributes[r.name];return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an({geometry:!0===this._removeGeometry?null:e.geometry,attributes:t})}_getFilteredSet(e,r,s,i,a){let l="",o=!1;if(null!==i&&(l=i.constructClause(),o=!0),this.isTable()&&r&&null!==e&&""!==e){const e=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],!0,null);return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(e)}const c=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return c.where=null===s?null===r?"1=1":"":(0,_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.n)(s,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a4.Standardised),c.spatialRelationship=this._makeRelationshipEnum(e),c.outSpatialReference=this.spatialReference,c.orderByFields=""!==l?l.split(","):null,c.geometry=null===r?null:r,c.returnGeometry=!0,c.relationParameter=this._makeRelationshipParam(e),this._layer.queryFeatures(c).then((e=>{if(null===e)return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],o,null);this._checkCancelled(a);const t=[];e.features.forEach((e=>{const r=e.attributes[this._layer.objectIdField];t.push(r),this._featureCache[r]=this._changeFeature(e);}));return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],t,o,null)}))}_makeRelationshipEnum(e){if(e.indexOf("esriSpatialRelRelation")>=0)return "relation";switch(e){case"esriSpatialRelRelation":return "relation";case"esriSpatialRelIntersects":return "intersects";case"esriSpatialRelContains":return "contains";case"esriSpatialRelOverlaps":return "overlaps";case"esriSpatialRelWithin":return "within";case"esriSpatialRelTouches":return "touches";case"esriSpatialRelCrosses":return "crosses";case"esriSpatialRelEnvelopeIntersects":return "envelope-intersects"}return e}_makeRelationshipParam(e){return e.indexOf("esriSpatialRelRelation")>=0?e.split(":")[1]:""}_queryAllFeatures(){if(this._wset)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset);const e=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return e.where="1=1",this._ensureLoaded().then((()=>{if(this._layer.source&&this._layer.source.items){const e=[];return this._layer.source.items.forEach((t=>{const r=t.attributes[this._layer.objectIdField];e.push(r),this._featureCache[r]=this._changeFeature(t);})),this._wset=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],e,!1,null),this._wset}return this._layer.queryFeatures(e).then((e=>{const t=[];return e.features.forEach((e=>{const r=e.attributes[this._layer.objectIdField];t.push(r),this._featureCache[r]=this._changeFeature(e);})),this._wset=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],t,!1,null),this._wset}))}))}_getFeatures(e,s,i){const a=[];-1!==s&&void 0===this._featureCache[s]&&a.push(s);for(let t=e._lastFetchedIndex;t<e._known.length&&(e._lastFetchedIndex+=1,!(void 0===this._featureCache[e._known[t]]&&(e._known[t]!==s&&a.push(e._known[t]),a.length>i)));t++);return 0===a.length?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success"):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Unaccounted for Features. Not in Feature Collection"))}_refineSetBlock(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(e)}_stat(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1})}_canDoAggregates(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1)}relationshipMetaData(){return []}static _cloneAttr(e){const t={};for(const r in e)t[r]=e[r];return t}nativeCapabilities(){return {title:this._layer.title,canQueryRelated:!1,source:this,capabilities:this._layer.capabilities,databaseType:this._databaseType,requestStandardised:!0}}static create(e,t){let r=e.layerDefinition.objectIdField;const i=e.layerDefinition.typeIdField?e.layerDefinition.typeIdField:"",l=[];if(e.layerDefinition.types)for(const s of e.layerDefinition.types)l.push(_FeatureType_9388a039_js__WEBPACK_IMPORTED_MODULE_12__.u.fromJSON(s));let n=e.layerDefinition.geometryType;void 0===n&&(n=e.featureSet.geometryType||"");let o=e.featureSet.features;const u=t.toJSON();if(""===r||void 0===r){let t=!1;for(const s of e.layerDefinition.fields)if("oid"===s.type||"esriFieldTypeOID"===s.type){r=s.name,t=!0;break}if(!1===t){let t="FID",s=!0,i=0;for(;s;){let r=!0;for(const s of e.layerDefinition.fields)if(s.name===t){r=!1;break}!0===r?s=!1:(i++,t="FID"+i.toString());}e.layerDefinition.fields.push({type:"esriFieldTypeOID",name:t,alias:t});const a=[];for(let r=0;r<o.length;r++)a.push({geometry:e.featureSet.features[r].geometry,attributes:e.featureSet.features[r].attributes?this._cloneAttr(e.featureSet.features[r].attributes):{}}),a[r].attributes[t]=r;o=a,r=t;}}const h=[];for(const s of e.layerDefinition.fields)s instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E?h.push(s):h.push(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.E.fromJSON(s));let c=n;switch(c){case"esriGeometryPoint":c="point";break;case"esriGeometryPolyline":c="polyline";break;case"esriGeometryPolygon":c="polygon";break;case"esriGeometryExtent":c="extent";break;case"esriGeometryMultipoint":c="multipoint";}for(const a of o)a.geometry&&a.geometry instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.r==!1&&(a.geometry.type=c,void 0===a.geometry.spatialReference&&(a.geometry.spatialReference=u));const f={outFields:["*"],source:o,fields:h,types:l,typeIdField:i,objectIdField:r,spatialReference:t};f.geometryType=c||"point";const _=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k(f);return new y({layer:_,spatialReference:t,isTable:null===c||""===c})}queryAttachments(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)([])}getFeatureByObjectId(e){const t=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_8__.R;return t.where=this.objectIdField+"="+e.toString(),this._layer.queryFeatures(t).then((e=>1===e.features.length?e.features[0]:null))}getOwningSystemUrl(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("")}getIdentityUser(){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("")}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class u extends _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.v{constructor(e){super(e),this.declaredClass="esri.arcade.featureset.sources.FeatureLayerRelated",this._findObjectId=-1,this._requestStandardised=!1,this._removeGeometry=!1,this._overrideFields=null,this.featureObjectId=null,this.relatedLayer=null,this.relationship=null,e.spatialReference&&(this.spatialReference=e.spatialReference),this._transparent=!0,this._maxProcessing=1e3,this._layer=e.layer,this._wset=null,this._findObjectId=e.objectId,this.featureObjectId=e.objectId,this.relationship=e.relationship,this.relatedLayer=e.relatedLayer,void 0!==e.outFields&&(this._overrideFields=e.outFields),void 0!==e.includeGeometry&&(this._removeGeometry=!1===e.includeGeometry);}_maxQueryRate(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a5}end(){return this._layer}optimisePagingFeatureQueries(){}load(){return null===this._loadPromise&&(this._loadPromise=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,i)=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.P)([this._layer.load(),this.relatedLayer.load()]).then((()=>{this._initialiseFeatureSet(),e(this);}),i);}))),this._loadPromise}nativeCapabilities(){return this.relatedLayer.nativeCapabilities()}_initialiseFeatureSet(){if(null==this.spatialReference&&(this.spatialReference=this._layer.spatialReference),this.geometryType=this.relatedLayer.geometryType,this.fields=this.relatedLayer.fields.slice(0),null!==this._overrideFields)if(1===this._overrideFields.length&&"*"===this._overrideFields[0])this._overrideFields=null;else {const e=[],t=[];for(const i of this.fields)if("oid"===i.type)e.push(i),t.push(i.name);else for(const r of this._overrideFields)if(r.toLowerCase()===i.name.toLowerCase()){e.push(i),t.push(i.name);break}this.fields=e,this._overrideFields=t;}const e=this._layer.nativeCapabilities();e&&(this._databaseType=e.databaseType,this._requestStandardised=e.requestStandardised),this.objectIdField=this.relatedLayer.objectIdField,this.globalIdField=this.relatedLayer.globalIdField,this.hasM=this.relatedLayer.supportsM,this.hasZ=this.relatedLayer.supportsZ,this.typeIdField=this.relatedLayer.typeIdField,this.types=this.relatedLayer.types;}databaseType(){return this.relatedLayer.databaseType().then((()=>(this._databaseType=this.relatedLayer._databaseType,this._databaseType)))}isTable(){return this.relatedLayer.isTable()}_isInFeatureSet(){return _arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a1.InFeatureSet}_candidateIdTransform(e){return e}_getSet(e){return null===this._wset?this._ensureLoaded().then((()=>this._getFilteredSet("",null,null,null,e))).then((e=>(this._wset=e,e))):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(this._wset)}_changeFeature(e){const t={};for(const i of this.fields)t[i.name]=e.attributes[i.name];return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an({geometry:!0===this._removeGeometry?null:e.geometry,attributes:t})}_getFilteredSet(e,t,i,r,s){return this.databaseType().then((()=>{if(this.isTable()&&t&&null!==e&&""!==e){return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],!0,null)}const a=this._layer.nativeCapabilities();if(!1===a.canQueryRelated){return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t([],[],!0,null)}if(a.capabilities.queryRelated&&a.capabilities.queryRelated.supportsPagination)return this._getFilteredSetUsingPaging(e,t,i,r,s);let n="",d=!1;null!==r&&a.capabilities&&a.capabilities.queryRelated&&!0===a.capabilities.queryRelated.supportsOrderBy&&(n=r.constructClause(),d=!0);const u=new _RelationshipQuery_83684adc_js__WEBPACK_IMPORTED_MODULE_13__.l;u.objectIds=[this._findObjectId];const h=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this.relatedLayer.fields?this.relatedLayer.fields.map((e=>e.name)):["*"]);u.outFields=h,u.relationshipId=this.relationship.id,u.where="1=1";let c=!0;return !0===this._removeGeometry&&(c=!1),u.returnGeometry=c,this._requestStandardised&&(u.sqlFormat="standard"),u.outSpatialReference=this.spatialReference,u.orderByFields=""!==n?n.split(","):null,a.source.queryRelatedFeatures(u).then((r=>{this._checkCancelled(s);const a=r[this._findObjectId]?r[this._findObjectId].features:[],n=[];for(let e=0;e<a.length;e++)this._featureCache[a[e].attributes[this._layer.objectIdField]]=a[e],n.push(a[e].attributes[this._layer.objectIdField]);const o=t&&null!==e&&""!==e,u=null!=i;return new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(o||u?n:[],o||u?[]:n,d,null)}))}))}_fieldsIncludingObjectId(e){if(null===e)return [this.objectIdField];const t=e.slice(0);if(t.indexOf("*")>-1)return t;let i=!1;for(const r of t)if(r.toUpperCase()===this.objectIdField.toUpperCase()){i=!0;break}return !1===i&&t.push(this.objectIdField),t}_getFilteredSetUsingPaging(e,t,i,s,a){try{let r="",n=!1;const d=this._layer.nativeCapabilities();return null!==s&&d&&d.capabilities.queryRelated&&!0===d.capabilities.queryRelated.supportsOrderBy&&(r=s.constructClause(),n=!0),this.databaseType().then((()=>{const s="1=1";let o=this._maxQueryRate();const u=d.capabilities.query.maxRecordCount;void 0!==u&&u<o&&(o=u);const h=t&&null!==e&&""!==e,c=null!=i;let p=null,y=!0;!0===this._removeGeometry&&(y=!1);const f=null!==this._overrideFields?this._overrideFields:this._fieldsIncludingObjectId(this.relatedLayer.fields?this.relatedLayer.fields.map((e=>e.name)):["*"]);return p=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.t(h||c?["GETPAGES"]:[],h||c?[]:["GETPAGES"],n,{outFields:f.join(","),resultRecordCount:o,resultOffset:0,objectIds:[this._findObjectId],where:s,orderByFields:r,returnGeometry:y,returnIdsOnly:"false",internal:{set:[],lastRetrieved:0,lastPage:0,fullyResolved:!1}}),this._expandPagedSet(p,o,0,0,a).then((()=>p))}))}catch(n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(n)}}_expandPagedSet(e,t,i,r,s){return this._expandPagedSetFeatureSet(e,t,i,r,s)}_clonePageDefinition(e){return null===e?null:!0!==e.groupbypage?{groupbypage:!1,outFields:e.outFields,resultRecordCount:e.resultRecordCount,resultOffset:e.resultOffset,where:e.where,objectIds:e.objectIds,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}:{groupbypage:!0,outFields:e.outFields,resultRecordCount:e.resultRecordCount,useOIDpagination:e.useOIDpagination,generatedOid:e.generatedOid,groupByFieldsForStatistics:e.groupByFieldsForStatistics,resultOffset:e.resultOffset,outStatistics:e.outStatistics,geometry:e.geometry,where:e.where,objectIds:e.objectIds,orderByFields:e.orderByFields,returnGeometry:e.returnGeometry,returnIdsOnly:e.returnIdsOnly,internal:e.internal}}_getPhysicalPage(e,t,i){try{const t=e.pagesDefinition.internal.lastRetrieved,r=t,s=e.pagesDefinition.internal.lastPage,a=this._layer.nativeCapabilities(),n=new _RelationshipQuery_83684adc_js__WEBPACK_IMPORTED_MODULE_13__.l;return !0===this._requestStandardised&&(n.sqlFormat="standard"),n.relationshipId=this.relationship.id,n.objectIds=e.pagesDefinition.objectIds,n.resultOffset=e.pagesDefinition.internal.lastPage,n.resultRecordCount=e.pagesDefinition.resultRecordCount,n.outFields=e.pagesDefinition.outFields.split(","),n.where=e.pagesDefinition.where,n.orderByFields=""!==e.pagesDefinition.orderByFields?e.pagesDefinition.orderByFields.split(","):null,n.returnGeometry=e.pagesDefinition.returnGeometry,n.outSpatialReference=this.spatialReference,a.source.queryRelatedFeatures(n).then((a=>{if(this._checkCancelled(i),e.pagesDefinition.internal.lastPage!==s)return 0;const n=a[this._findObjectId]?a[this._findObjectId].features:[];for(let t=0;t<n.length;t++)e.pagesDefinition.internal.set[r+t]=n[t].attributes[this._layer.objectIdField];for(let e=0;e<n.length;e++)this._featureCache[n[e].attributes[this._layer.objectIdField]]=n[e];const l=!a[this._findObjectId]||!1===a[this._findObjectId].exceededTransferLimit;return n.length!==e.pagesDefinition.resultRecordCount&&l&&(e.pagesDefinition.internal.fullyResolved=!0),e.pagesDefinition.internal.lastRetrieved=t+n.length,e.pagesDefinition.internal.lastPage+=e.pagesDefinition.resultRecordCount,n.length}))}catch(s){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(s)}}_getFeatures(e,t,s,a){const n=[];-1!==t&&void 0===this._featureCache[t]&&n.push(t);const l=this._maxQueryRate();if(!0===this._checkIfNeedToExpandKnownPage(e,l))return this._expandPagedSet(e,l,0,0,a).then((()=>this._getFeatures(e,t,s,a)));let d=0;for(let i=e._lastFetchedIndex;i<e._known.length&&(d++,d<=s&&(e._lastFetchedIndex+=1),!("GETPAGES"!==e._known[i]&&void 0===this._featureCache[e._known[i]]&&(e._known[i]!==t&&n.push(e._known[i]),n.length>s)))&&!(d>=s&&0===n.length);i++);return 0===n.length?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)("success"):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(new Error("Unaccounted for Features. Not in Feature Collection"))}_refineSetBlock(e,t,r){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(e)}_stat(e,t,r,s,a,n,l){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({calculated:!1})}get gdbVersion(){return this.relatedLayer.gdbVersion}_canDoAggregates(e,t,r,s,a){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(!1)}relationshipMetaData(){return this.relatedLayer.relationshipMetaData()}serviceUrl(){return this.relatedLayer.serviceUrl()}queryAttachments(e,t,i,r){return this.relatedLayer.queryAttachments(e,t,i,r)}getFeatureByObjectId(e,t){return this.relatedLayer.getFeatureByObjectId(e,t)}getOwningSystemUrl(){return this.relatedLayer.getOwningSystemUrl()}getIdentityUser(){return this.relatedLayer.getIdentityUser()}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function S(){null===_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache=new _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b);}function N(t,n){if(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache){const a=_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.getLayerInfo(t);if(a)return a.then((r=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k({url:t,outFields:n,sourceJSON:r}))));const s=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k({url:t,outFields:n});let i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{s.load().then((()=>{e(s.sourceJSON);}),(e=>{t(e);}));}));return _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.setLayerInfo(t,i),i=i.catch((e=>{throw _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.clearLayerInfo(t),e}))),i.then((()=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(s)))}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k({url:t,outFields:n}))}function T(t,r,n,a,s,i=null){return N(t,["*"]).then((t=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(A(t,r,n,a,s,i))))}function A(e,t=null,r=null,n=!0,a=null,s=null){return !0===e._hasMemorySource()?new y({layer:e,spatialReference:t,outFields:r,includeGeometry:n,lrucache:a,interceptor:s}):new q$1({layer:e,spatialReference:t,outFields:r,includeGeometry:n,lrucache:a,interceptor:s})}function C(t){if(null!==_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache){const e=_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.getLayerInfo(t);if(null!==e)return e}let r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t,{responseType:"json",query:{f:"json"}}).then((t=>{if(t.data){const r=t.data;return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(r)}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(null)}));return null!==_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.setLayerInfo(t,r),r=r.catch((e=>{throw _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.clearLayerInfo(t),e}))),r}function F(e,t){const r="QUERYDATAELEMTS:"+t.toString()+":"+e;if(null!==_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache){const e=_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.getLayerInfo(r);if(null!==e)return e}let n=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(e+"/queryDataElements",{method:"post",responseType:"json",query:{layers:JSON.stringify([t.toString()]),f:"json"}}).then((e=>{if(e.data){const t=e.data;if(t.layerDataElements&&t.layerDataElements[0])return t.layerDataElements[0]}throw new Error("Not Found")}));return null!==_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.setLayerInfo(r,n),n=n.catch((e=>{throw _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.clearLayerInfo(r),e}))),n}function g(t){if(null!==_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache){const e=_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.getLayerInfo(t);if(null!==e)return e}let r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t,{responseType:"json",query:{f:"json"}}).then((t=>{if(t.data){const r=t.data;return r.layers||(r.layers=[]),r.tables||(r.tables=[]),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(r)}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)({layers:[],tables:[]})}));return null!==_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.setLayerInfo(t,r),r=r.catch((e=>{throw _SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.clearLayerInfo(t),e}))),r}function k(e,t){const r={metadata:null,networkId:-1,unVersion:3,terminals:[],queryelem:null,layerNameLkp:{},lkp:null};return g(e).then((n=>{if(r.metadata=n,n.controllerDatasetLayers&&void 0!==n.controllerDatasetLayers.utilityNetworkLayerId&&null!==n.controllerDatasetLayers.utilityNetworkLayerId){if(n.layers)for(const e of n.layers)r.layerNameLkp[e.id]=e.name;if(n.tables)for(const e of n.tables)r.layerNameLkp[e.id]=e.name;const a=n.controllerDatasetLayers.utilityNetworkLayerId;return r.networkId=a,F(e,a).then((n=>{if(n){r.queryelem=n,r.queryelem&&r.queryelem.dataElement&&void 0!==r.queryelem.dataElement.schemaGeneration&&(r.unVersion=r.queryelem.dataElement.schemaGeneration),r.lkp={},r.queryelem.dataElement.domainNetworks||(r.queryelem.dataElement.domainNetworks=[]);for(const e of r.queryelem.dataElement.domainNetworks){for(const t of e.edgeSources?e.edgeSources:[]){const e={layerId:t.layerId,sourceId:t.sourceId,className:r.layerNameLkp[t.layerId]?r.layerNameLkp[t.layerId]:null};e.className&&(r.lkp[e.className]=e);}for(const t of e.junctionSources?e.junctionSources:[]){const e={layerId:t.layerId,sourceId:t.sourceId,className:r.layerNameLkp[t.layerId]?r.layerNameLkp[t.layerId]:null};e.className&&(r.lkp[e.className]=e);}}if(r.queryelem.dataElement.terminalConfigurations)for(const e of r.queryelem.dataElement.terminalConfigurations)for(const t of e.terminals)r.terminals.push({terminalId:t.terminalId,terminalName:t.terminalName});return C(e+"/"+a).then((n=>{if(n.systemLayers&&void 0!==n.systemLayers.associationsTableId&&null!==n.systemLayers.associationsTableId){const a=[];return r.unVersion>=4&&(a.push("STATUS"),a.push("PERCENTALONG")),T(e+"/"+n.systemLayers.associationsTableId.toString(),t,["OBJECTID","FROMNETWORKSOURCEID","TONETWORKSOURCEID","FROMGLOBALID","TOGLOBALID","TOTERMINALID","FROMTERMINALID","ASSOCIATIONTYPE","ISCONTENTVISIBLE","GLOBALID",...a],!1,null,null).then((e=>e.load())).then((e=>r.unVersion>=4?(e=e.filter(_WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_4__.WhereClause.create("STATUS NOT IN (1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22, 23, 25, 26, 27, 28, 29, 30, 31, 33, 34, 35, 36, 37, 38, 39, 41, 42, 43, 44, 45, 46, 47, 49, 50, 51, 52, 53, 54, 55, 57, 58, 59, 60, 61, 62,63)",e.getFieldsIndex()))).load():e)).then((e=>({lkp:r.lkp,associations:e,unVersion:r.unVersion,terminals:r.terminals})))}return {associations:null,unVersion:r.unVersion,lkp:null,terminals:[]}}))}return {associations:null,unVersion:r.unVersion,lkp:null,terminals:[]}}))}return {associations:null,unVersion:r.unVersion,lkp:null,terminals:[]}}))}function j(e,t,r,n=null,a=null,s=!0,i=null,l=null){let o=e.serviceUrl();return o?(o="/"===o.charAt(o.length-1)?o+t.relatedTableId.toString():o+"/"+t.relatedTableId.toString(),T(o,n,a,s,i,l).then((o=>new u({layer:e,relatedLayer:o,relationship:t,objectId:r,spatialReference:n,outFields:a,includeGeometry:s,lrucache:i,interceptor:l})))):null}_.registerAction(),G.registerAction(),a$3.registerAction(),_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.g.registerAction(),a.registerAction();class O extends r$1{constructor(e,t=null,r=null,n=null){super(),this._map=e,this._overridespref=t,this.lrucache=r,this.interceptor=n,this._instantLayers=[];}makeAndAddFeatureSet(e,t=!0,r=null){const n=A(e,this._overridespref,null===r?["*"]:r,t,this.lrucache,this.interceptor);return this._instantLayers.push({featureset:n,opitem:e,includeGeometry:t,outFields:JSON.stringify(r)}),n}featureSetByName(e,r=!0,n=null){if(void 0!==this._map.loaded&&void 0!==this._map.load&&!1===this._map.loaded)return this._map.load().then((()=>{try{return this.featureSetByName(e,r,n)}catch(a){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(a)}}));null===n&&(n=["*"]),n=(n=n.slice(0)).sort();const a=JSON.stringify(n);for(let t=0;t<this._instantLayers.length;t++){const n=this._instantLayers[t];if(n.opitem.title===e&&n.includeGeometry===r&&n.outFields===a)return this.resolvePromise(this._instantLayers[t].featureset)}const s=this._map.layers.find((t=>t instanceof _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k&&t.title===e));if(s)return this.resolvePromise(this.makeAndAddFeatureSet(s,r,n));if(this._map.tables){const t=this._map.tables.find((t=>!!(t.title&&t.title===e||t.title&&t.title===e)));if(t){if(t instanceof _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k)return this.resolvePromise(this.makeAndAddFeatureSet(t,r,n));if(t._materializedTable);else {const e=t.outFields?t:{...t,outFields:["*"]};t._materializedTable=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k(e);}return t._materializedTable.load().then((()=>this.resolvePromise(this.makeAndAddFeatureSet(t._materializedTable,r,n))))}}return this.resolvePromise(null)}featureSetById(e,r=!0,n=["*"]){if(void 0!==this._map.loaded&&void 0!==this._map.load&&!1===this._map.loaded)return this._map.load().then((()=>{try{return this.featureSetById(e,r,n)}catch(a){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(a)}}));null===n&&(n=["*"]),n=(n=n.slice(0)).sort();const a=JSON.stringify(n);for(let t=0;t<this._instantLayers.length;t++){const n=this._instantLayers[t];if(n.opitem.id===e&&n.includeGeometry===r&&n.outFields===a)return this.resolvePromise(this._instantLayers[t].featureset)}const s=this._map.layers.find((t=>t instanceof _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k&&t.id===e));if(s)return this.resolvePromise(this.makeAndAddFeatureSet(s,r,n));if(this._map.tables){const t=this._map.tables.find((t=>t.id===e));if(t){if(t instanceof _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k)return this.resolvePromise(this.makeAndAddFeatureSet(t,r,n));if(t._materializedTable);else {const e={...t,outFields:["*"]};t._materializedTable=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k(e);}return t._materializedTable.load().then((()=>this.resolvePromise(this.makeAndAddFeatureSet(t._materializedTable,r,n))))}}return this.resolvePromise(null)}}class w extends r$1{constructor(e,t=null,r=null,n=null){super(),this._url=e,this._overridespref=t,this.lrucache=r,this.interceptor=n,this.metadata=null,this._instantLayers=[];}get url(){return this._url}makeAndAddFeatureSet(e,t=!0,r=null){const n=A(e,this._overridespref,null===r?["*"]:r,t,this.lrucache);return this._instantLayers.push({featureset:n,opitem:e,includeGeometry:t,outFields:JSON.stringify(r)}),n}_loadMetaData(){return g(this._url).then((e=>(this.metadata=e,e)))}load(){return this._loadMetaData()}clone(){return new w(this._url,this._overridespref,this.lrucache,this.interceptor)}featureSetByName(e,t=!0,r=null){null===r&&(r=["*"]),r=(r=r.slice(0)).sort();const n=JSON.stringify(r);for(let a=0;a<this._instantLayers.length;a++){const r=this._instantLayers[a];if(r.opitem.title===e&&r.includeGeometry===t&&r.outFields===n)return this.resolvePromise(this._instantLayers[a].featureset)}return this._loadMetaData().then((n=>{let a=null;for(const t of n.layers?n.layers:[])t.name===e&&(a=t);if(!a)for(const t of n.tables?n.tables:[])t.name===e&&(a=t);return a?N(this._url+"/"+a.id,["*"]).then((e=>this.makeAndAddFeatureSet(e,t,r))):this.resolvePromise(null)}))}featureSetById(e,t=!0,r=["*"]){null===r&&(r=["*"]),r=(r=r.slice(0)).sort();const n=JSON.stringify(r);e=null!=e?e.toString():"";for(let a=0;a<this._instantLayers.length;a++){const r=this._instantLayers[a];if(r.opitem.id===e&&r.includeGeometry===t&&r.outFields===n)return this.resolvePromise(this._instantLayers[a].featureset)}return this._loadMetaData().then((n=>{let a=null;for(const t of n.layers?n.layers:[])null!==t.id&&void 0!==t.id&&t.id.toString()===e&&(a=t);if(!a)for(const t of n.tables?n.tables:[])null!==t.id&&void 0!==t.id&&t.id.toString()===e&&(a=t);return a?N(this._url+"/"+a.id,["*"]).then((e=>this.makeAndAddFeatureSet(e,t,r))):this.resolvePromise(null)}))}}function v(e,t,r=null,n=null){return new O(e,t,r,n)}function E(e,t,r=null,n=null){return new w(e,t,r,n)}function b(e,t){if(null===e)return t;return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.w({url:e.field("url")})}function D(t,r,s){return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bs.findCredential(t.restUrl)?"loaded"===t.loadStatus&&""===r&&t.user&&t.user.sourceJSON&&!1===s?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(t.user.sourceJSON):""===r?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t.restUrl+"/community/self",{responseType:"json",query:{f:"json",...!1===s?{}:{returnUserLicenseTypeExtensions:!0}}}).then((t=>{if(t.data){const r=t.data;if(r&&r.username)return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(r)}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(null)})):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(t.restUrl+"/community/users/"+r,{responseType:"json",query:{f:"json"}}).then((t=>{if(t.data){const r=t.data;return r.error?null:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(r)}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(null)})):(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(null)}function q(n,a,s,o,c,d,m,h=null){if(_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache){const r=_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.getLayerInfo(n+":"+d.url);if(r)return r.then((r=>{try{const t=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k({url:(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a7)(r.url)+"/"+a,outFields:["*"]});return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.G)(A(t,s,o,c,m,h))}catch(n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(n)}}),(e=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.F)(e)))}return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.D)(((e,t)=>{const r=new _PortalItem_036182cd_js__WEBPACK_IMPORTED_MODULE_1__["default"]({id:n,portal:d}).load();_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.setLayerInfo(n+":"+d.url,r),r.then((r=>{try{const t=new _FeatureLayer_e34aa1c3_js__WEBPACK_IMPORTED_MODULE_6__.k({url:(0,_arcadeUtils_d1c69dcc_js__WEBPACK_IMPORTED_MODULE_2__.a7)(r.url)+"/"+a,outFields:["*"]});e(A(t,s,o,c,m,h));}catch(n){t(n);}}),(e=>{_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache&&_SpatialFilter_033e0689_js__WEBPACK_IMPORTED_MODULE_3__.b.applicationCache.clearLayerInfo(n+":"+d.url),t(e);}));}))}

const featureSetUtils = /*#__PURE__*/Object.freeze({
	__proto__: null,
	constructAssociationMetaDataFeatureSetFromUrl: k,
	constructFeatureSet: A,
	constructFeatureSetFromPortalItem: q,
	constructFeatureSetFromRelationship: j,
	constructFeatureSetFromUrl: T,
	createFeatureSetCollectionFromMap: v,
	createFeatureSetCollectionFromService: E,
	getPortal: b,
	initialiseMetaDataCache: S,
	lookupUser: D
});



//# sourceMappingURL=featureSetUtils-b0fce935.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/lengthUtils-ba54deb2.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/lengthUtils-ba54deb2.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const m={inches:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","inches"),feet:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","feet"),"us-feet":(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","us-feet"),yards:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","yards"),miles:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","miles"),"nautical-miles":(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","nautical-miles"),millimeters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","millimeters"),centimeters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","centimeters"),decimeters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","decimeters"),meters:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","meters"),kilometers:(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.I)(1,"meters","kilometers"),"decimal-degrees":1/(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.R)(1,"meters",_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aW.radius)};



//# sourceMappingURL=lengthUtils-ba54deb2.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator}),minus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[180,-180],[180,180]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84}),minus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[-180,-180],[-180,180]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84})}};function i$1(e,n){return Math.ceil((e-n)/(2*n))}function o$1(e,n){const t=s$1(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s$1(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.V)(e)?e.rings:e.paths}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function o(o,i,n,m){const p$1="string"==typeof o?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(o):o,a=i[0].spatialReference,u={...m,query:{...p$1.query,f:"json",sr:JSON.stringify(a),target:JSON.stringify({geometryType:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(p$1.path+"/cut",u),{cutIndexes:f,geometries:g=[]}=c.data;return {cutIndexes:f,geometries:g.map((e=>{const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(e);return t.spatialReference=a,t}))}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function i(e,i,f){const m="string"==typeof e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e):e,p=i[0].spatialReference,a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i[0]),u={...f,query:{...m.query,f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(m.path+"/simplify",u)).data,a,p)}function s(r){return {geometryType:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.as)(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const y=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.geometry.support.normalizeUtils");function x(t){return "polygon"===t.type}function d(t){return "polygon"===t[0].type}function w(t){return "polyline"===t[0].type}function R(t,e){if(!(t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v||t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x)){const t="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(t),new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(t)}const n=s$1(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i]);}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i]);}t.push([i,l]);}}return x(t)?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x({rings:o,spatialReference:t.spatialReference}):new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.au)(e,!0);}return n&&(t=o$1(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=i$1(o,e);t[0]=o+n*(-2*e);}else if(o<n){const e=i$1(o,n);t[0]=o+e*(-2*n);}}else {const o=t.x;if(o>e){const n=i$1(o,e);t=t.clone().offset(n*(-2*e),0);}else if(o<n){const e=i$1(o,n);t=t.clone().offset(e*(-2*n),0);}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=s$1(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return !0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n;}n=Number(n.toFixed(9));const o=-360*i$1(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0));}return !0}}));}if(s===n){if(d(t))for(const e of s$1(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of s$1(r))t[s]=t[s].addPath(e);}else n=s,t[s]=r;}return t}async function L(o$2,s,l){if(!Array.isArray(o$2))return L([o$2],s);const p=s?s.url:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aw.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t$1 of o$2)if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t$1))z.push(t$1);else if(y||(y=t$1.spatialReference,x=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(y),d=y.isWebMercator,R=d?102100:4326,w=r[R].maxX,j=r[R].minX,U=r[R].plus180Line,k=r[R].minus180Line),x)if("mesh"===t$1.type)z.push(t$1);else if("point"===t$1.type)z.push(P(t$1.clone(),w,j));else if("multipoint"===t$1.type){const e=t$1.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e);}else if("extent"===t$1.type){const e=t$1.clone()._normalize(!1,!1,x);z.push(e.rings?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x(e):e);}else if(t$1.extent){const e=t$1.extent,n=i$1(e.xmin,j)*(2*w);let o=0===n?t$1.clone():o$1(t$1.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push("cut")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push("cut")):z.push(o);}else z.push(t$1.clone());else z.push(t$1);let I=i$1(v,w),X=-90;const q=I,C=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--;}if(A.length>0&&q>0){const t=b(A,await o(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if("cut"!==r)s.push(r);else {const r=t.shift(),f=o$2[l];(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(f)&&"polygon"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push("simplify")):s.push(d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(r):r);}}if(!e.length)return s;const r=await i(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];"simplify"!==t?f.push(t):f.push(d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(r.shift()):r.shift());}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if("cut"!==e)D.push(e);else {const t=A.shift();D.push(!0===d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(t):t);}}return Promise.resolve(D)}



//# sourceMappingURL=normalizeUtils-69f83c05.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _zscale_37987104_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./zscale-37987104.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=(0,_zscale_37987104_js__WEBPACK_IMPORTED_MODULE_0__.t)(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry);}



//# sourceMappingURL=queryZScale-8fd5a160.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/visualVariableUtils-9b8e388f.js":
/*!***********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/visualVariableUtils-9b8e388f.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ N),
/* harmony export */   U: () => (/* binding */ U),
/* harmony export */   V: () => (/* binding */ V),
/* harmony export */   b: () => (/* binding */ b),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   v: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _lengthUtils_ba54deb2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lengthUtils-ba54deb2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/lengthUtils-ba54deb2.js");
/* harmony import */ var _sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sizeVariableUtils-4395730d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/sizeVariableUtils-4395730d.js");





/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const c=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.S.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.an,f=Math.PI,p=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function d(e,r$1,i){const t="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"color"===e.type))[0]:e;if(!t)return;if("esri.renderers.visualVariables.ColorVariable"!==t.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof r$1,o$1=s?null:r$1,l=o$1&&o$1.attributes;let u=s?r$1:null;const f=t.field,{ipData:p,hasExpression:d}=t.cache;let v=t.cache.compiledFunc;if(!f&&!d){const e=t.stops;return e&&e[0]&&e[0].color}if("number"!=typeof u)if(d){if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(i)||!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r$1=i.arcade.arcadeUtils,n=r$1.getViewInfo(e),s=r$1.createExecContext(o$1,n);if(!v){const e=r$1.createSyntaxTree(t.valueExpression);v=r$1.createFunction(e),t.cache.compiledFunc=v;}u=r$1.executeFunction(v,s);}else l&&(u=l[f]);const b=t.normalizationField,h=l?parseFloat(l[b]):void 0;if(null!=u&&(!b||s||!isNaN(h)&&0!==h)){isNaN(h)||s||(u/=h);const e=C(u,p);if(e){const r$1=e[0],s=e[1],o$1=r$1===s?t.stops[r$1].color:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.bu.blendColors(t.stops[r$1].color,t.stops[s].color,e[2],(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(i)?i.color:void 0);return new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.bu(o$1)}}}function v(e,a,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"opacity"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.OpacityVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const t$1="number"==typeof a,s=t$1?null:a,o=s&&s.attributes;let l=t$1?a:null;const u=n.field,{ipData:f,hasExpression:p}=n.cache;let d=n.cache.compiledFunc;if(!u&&!p){const e=n.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof l)if(p){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(i)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,t$1=a.getViewInfo(e),o=a.createExecContext(s,t$1);if(!d){const e=a.createSyntaxTree(n.valueExpression);d=a.createFunction(e),n.cache.compiledFunc=d;}l=a.executeFunction(d,o);}else o&&(l=o[u]);const v=n.normalizationField,b=o?parseFloat(o[v]):void 0;if(null!=l&&(!v||t$1||!isNaN(b)&&0!==b)){isNaN(b)||t$1||(l/=b);const e=C(l,f);if(e){const a=e[0],r=e[1];if(a===r)return n.stops[a].opacity;{const i=n.stops[a].opacity;return i+(n.stops[r].opacity-i)*e[2]}}}}function b(e,a,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"rotation"===e.type))[0]:e;if(!n)return;if("esri.renderers.visualVariables.RotationVariable"!==n.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const t$1=n.axis||"heading",s="heading"===t$1&&"arithmetic"===n.rotationType?90:0,o="heading"===t$1&&"arithmetic"===n.rotationType?-1:1,l="number"==typeof a?null:a,u=l&&l.attributes,f=n.field,{hasExpression:p}=n.cache;let d=n.cache.compiledFunc,v=0;if(!f&&!p)return v;if(p){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(i)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(i.arcade))return void c.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},a=i.arcade.arcadeUtils,t$1=a.getViewInfo(e),s=a.createExecContext(l,t$1);if(!d){const e=a.createSyntaxTree(n.valueExpression);d=a.createFunction(e),n.cache.compiledFunc=d;}v=a.executeFunction(d,s);}else u&&(v=u[f]||0);return v="number"!=typeof v||isNaN(v)?null:s+o*v,v}function h(e$1,i,n){const t$1="number"==typeof i,s=t$1?null:i,o=s&&s.attributes;let u=t$1?i:null;const{isScaleDriven:f}=e$1.cache;let p=e$1.cache.compiledFunc;if(f){const r$1=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(n)?n.scale:void 0,i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(n)?n.view:void 0;u=null==r$1||"3d"===i?m(e$1):r$1;}else if(!t$1)switch(e$1.inputValueType){case"expression":{if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(n)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.t)(n.arcade))return void c.error("Use of arcade expressions requires an arcade context");const a={viewingMode:n.viewingMode,scale:n.scale,spatialReference:n.spatialReference},i=n.arcade.arcadeUtils,t$1=i.getViewInfo(a),o=i.createExecContext(s,t$1);if(!p){const a=i.createSyntaxTree(e$1.valueExpression);p=i.createFunction(a),e$1.cache.compiledFunc=p;}u=i.executeFunction(p,o);break}case"field":o&&(u=o[e$1.field]);break;case"unknown":u=null;}if(!(0,_sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__.e)(u))return null;if(t$1||!e$1.normalizationField)return u;const d=o?parseFloat(o[e$1.normalizationField]):null;return (0,_sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__.e)(d)&&0!==d?u/d:null}function m(e){let a=null,r=null;const i=e.stops;return i?(a=i[0].value,r=i[i.length-1].value):(a=e.minDataValue||0,r=e.maxDataValue||0),(a+r)/2}function V(e,a,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((e=>"size"===e.type))[0]:e;if(!i)return;if("esri.renderers.visualVariables.SizeVariable"!==i.declaredClass)return void c.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=M(h(i,a,r),i,a,r,i.cache.ipData);return null==n||isNaN(n)?0:n}function x(e$1,a,r){return null==e$1?null:(0,_sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__.n)(e$1)?V(e$1,a,r):(0,_sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__.e)(e$1)?e$1:null}function y(e$1,a,r){return (0,_sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__.e)(r)&&e$1>r?r:(0,_sizeVariableUtils_4395730d_js__WEBPACK_IMPORTED_MODULE_3__.e)(a)&&e$1<a?a:e$1}function w(e,a,r,i){return e+(x(a.minSize,r,i)||a.minDataValue)}function g(e,a,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),x(n,a,r)}function z(e,r$1,i,n){const t=(e-r$1.minDataValue)/(r$1.maxDataValue-r$1.minDataValue),s=x(r$1.minSize,i,n),o=x(r$1.maxSize,i,n),l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(n)?n.shape:void 0;if(e<=r$1.minDataValue)return s;if(e>=r$1.maxDataValue)return o;if("area"===r$1.scaleBy&&l){const e="circle"===l,a=e?f*(s/2)**2:s*s,r=a+t*((e?f*(o/2)**2:o*o)-a);return e?2*Math.sqrt(r/f):Math.sqrt(r)}return s+t*(o-s)}function F(e,r$1,i,n){const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(n)?n.shape:void 0,s=e/r$1.minDataValue,o=x(r$1.minSize,i,n),l=x(r$1.maxSize,i,n);let c=null;return c="circle"===t?2*Math.sqrt(s*(o/2)**2):"square"===t||"diamond"===t||"image"===t?Math.sqrt(s*o**2):s*o,y(c,o,l)}function S(e,a,r,i,n){const[t,s,o]=C(e,n);if(t===s)return x(a.stops[t].size,r,i);{const e=x(a.stops[t].size,r,i);return e+(x(a.stops[s].size,r,i)-e)*o}}function E(e,r$1,i,n){const t=((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_1__.H)(n)&&n.resolution?n.resolution:1)*_lengthUtils_ba54deb2_js__WEBPACK_IMPORTED_MODULE_2__.m[r$1.valueUnit],o=x(r$1.minSize,i,n),l=x(r$1.maxSize,i,n),{valueRepresentation:c}=r$1;let u=null;return u="area"===c?2*Math.sqrt(e/f)/t:"radius"===c||"distance"===c?2*e/t:e/t,y(u,o,l)}function D(e){return e}function M(e,a,r,i,n){switch(a.transformationType){case"additive":return w(e,a,r,i);case"constant":return g(a,r,i);case"clamped-linear":return z(e,a,r,i);case"proportional":return F(e,a,r,i);case"stops":return S(e,a,r,i,n);case"real-world-size":return E(e,a,r,i);case"identity":return D(e);case"unknown":return null}}function U(e,a,r){const{isScaleDriven:i}=e.cache;if(!(i&&"3d"===r||a))return null;const n={scale:a,view:r};let t=x(e.minSize,u,n),s=x(e.maxSize,u,n);if(null!=t||null!=s){if(t>s){const e=s;s=t,t=e;}return {minSize:t,maxSize:s}}}function C(e,a){if(!a)return;let r=0,i=a.length-1;return a.some(((a,n)=>e<a?(i=n,!0):(r=n,!1))),[r,i,(e-a[r])/(a[i]-a[r])]}function N(a,r,i){const n=["proportional","proportional","proportional"];for(const t of a){const a=t.useSymbolValue?"symbol-value":V(t,r,i);switch(t.axis){case"width":n[0]=a;break;case"depth":n[1]=a;break;case"height":n[2]=a;break;case"width-and-depth":n[0]=a,n[1]=a;break;case"all":case void 0:case null:n[0]=a,n[1]=a,n[2]=a;break;}}return n}



//# sourceMappingURL=visualVariableUtils-9b8e388f.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js":
/*!**********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ l),
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,c,l){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(c)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(l)||l.vcsWkid||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(c,l))return null;const u=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(c)/(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(l);if(1===u)return null;switch(t){case"point":case"esriGeometryPoint":return n=>i(n,u);case"polyline":case"esriGeometryPolyline":return n=>s(n,u);case"polygon":case"esriGeometryPolygon":return n=>r(n,u);case"multipoint":case"esriGeometryMultipoint":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o);}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o);}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o);}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o);}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e);}function l(n,o,t){if(!n&&!o||!t)return;const i=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(t);u(n,t,i),u(o,t,i);}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e);}function a(n,t,i){if(!n||!n.spatialReference||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(n.spatialReference,t))return;const r=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(n.spatialReference)/i;if(1!==r)if("x"in n)null!=n.z&&(n.z*=r);else if("rings"in n)c(n,n.rings,r);else if("paths"in n)c(n,n.paths,r);else if("points"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r);}



//# sourceMappingURL=zscale-37987104.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLWVkY2I4My5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFrSztBQUMxRzs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNCQUFzQixjQUFjLGtEQUFrRCxPQUFPLDJEQUFHLEVBQUUsMkRBQUMsRUFBRSxNQUFNLGtCQUFrQixhQUFhLFlBQVksNENBQTRDLDJEQUFHLEVBQUUsNERBQUM7O0FBRXBOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBQyxFQUFFLHlrQkFBeWtCLEVBQUUsb0JBQW9CLHdEQUFHLENBQUMsZUFBZSw2R0FBNkcsc0JBQXNCLDJCQUEyQixvQkFBb0IsWUFBWSw0REFBQyxDQUFDLDJEQUFHLFNBQVMsb0JBQW9CLFlBQVksNERBQUMsQ0FBQywyREFBRyxRQUFRLDJEQUFHLEVBQUUsMkRBQUMsRUFBRSxNQUFNLFVBQVUsOEJBQThCLDJEQUFHLEVBQUUsMkRBQUMsRUFBRSxNQUFNLFVBQVUscUNBQXFDLDJEQUFHLEVBQUUsMkRBQUMsRUFBRSxNQUFNLDJCQUEyQixxQ0FBcUMsMkRBQUcsRUFBRSw0REFBQyxzREFBc0QsMkRBQUcsRUFBRSwyREFBQyxFQUFFLE1BQU0sVUFBVSxtQ0FBbUMsMkRBQUcsRUFBRSw0REFBQyxrREFBa0QsMkRBQUcsRUFBRSwyREFBQyxFQUFFLE1BQU0sVUFBVSxtQ0FBbUMsMkRBQUcsRUFBRSw0REFBQyxvREFBb0QsMkRBQUcsRUFBRSw0REFBQyw0Q0FBNEM7O0FBRWo1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3REFBRyxDQUFDLGVBQWUsNEVBQTRFLGVBQWUsV0FBVyx5Q0FBeUMsYUFBYSxlQUFlLGlCQUFpQix3REFBRyxhQUFhLE1BQU0sc0JBQXNCLHdEQUFHLGFBQWEsTUFBTSxxQkFBcUIsd0RBQUcsZUFBZSxTQUFTLGtCQUFr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YXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9GZWF0dXJlVHlwZS05Mzg4YTAzOS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vTWVtQ2FjaGUtNTQ2MzA2ODkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpc0xheWVyVXJsLTM2YjNjM2FiLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9kaWZmVXRpbHMtZDlhZmJjYjMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL2ZlYXR1cmVTZXRVdGlscy1iMGZjZTkzNS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vbGVuZ3RoVXRpbHMtYmE1NGRlYjIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL25vcm1hbGl6ZVV0aWxzLTY5ZjgzYzA1LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9xdWVyeVpTY2FsZS04ZmQ1YTE2MC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vdmlzdWFsVmFyaWFibGVVdGlscy05YjhlMzg4Zi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20venNjYWxlLTM3OTg3MTA0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFogYXMgZSQxLCBfIGFzIHksIGEwIGFzIGksIGFxIGFzIHQsIGFqIGFzIG8sIGFvIGFzIGEkMSwgYWEgYXMgcCwgUiBhcyB5JDEsIGFiIGFzIGUkMiwgYzAgYXMgaSQxLCBjMSBhcyB1JDIsIGMyIGFzIG4kMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0ICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGU9ZT0+e2xldCB0PWNsYXNzIGV4dGVuZHMgZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5jdXN0b21QYXJhbWV0ZXJzPW51bGw7fX07cmV0dXJuIGUkMShbeSh7anNvbjp7d3JpdGU6ITAsb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7d3JpdGU6ITF9fX19KV0sdC5wcm90b3R5cGUsXCJjdXN0b21QYXJhbWV0ZXJzXCIsdm9pZCAwKSx0PWUkMShbaShcImVzcmkubGF5ZXJzLm1peGlucy5DdXN0b21QYXJhbWV0ZXJzTWl4aW5cIildLHQpLHR9O1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgYT1uZXcgdCh7ZXNyaUZlYXR1cmVFZGl0VG9vbEF1dG9Db21wbGV0ZVBvbHlnb246XCJhdXRvLWNvbXBsZXRlLXBvbHlnb25cIixlc3JpRmVhdHVyZUVkaXRUb29sQ2lyY2xlOlwiY2lyY2xlXCIsZXNyaUZlYXR1cmVFZGl0VG9vbEVsbGlwc2U6XCJlbGxpcHNlXCIsZXNyaUZlYXR1cmVFZGl0VG9vbEZyZWVoYW5kOlwiZnJlZWhhbmRcIixlc3JpRmVhdHVyZUVkaXRUb29sTGluZTpcImxpbmVcIixlc3JpRmVhdHVyZUVkaXRUb29sTm9uZTpcIm5vbmVcIixlc3JpRmVhdHVyZUVkaXRUb29sUG9pbnQ6XCJwb2ludFwiLGVzcmlGZWF0dXJlRWRpdFRvb2xQb2x5Z29uOlwicG9seWdvblwiLGVzcmlGZWF0dXJlRWRpdFRvb2xSZWN0YW5nbGU6XCJyZWN0YW5nbGVcIixlc3JpRmVhdHVyZUVkaXRUb29sQXJyb3c6XCJhcnJvd1wiLGVzcmlGZWF0dXJlRWRpdFRvb2xUcmlhbmdsZTpcInRyaWFuZ2xlXCIsZXNyaUZlYXR1cmVFZGl0VG9vbExlZnRBcnJvdzpcImxlZnQtYXJyb3dcIixlc3JpRmVhdHVyZUVkaXRUb29sUmlnaHRBcnJvdzpcInJpZ2h0LWFycm93XCIsZXNyaUZlYXR1cmVFZGl0VG9vbFVwQXJyb3c6XCJ1cC1hcnJvd1wiLGVzcmlGZWF0dXJlRWRpdFRvb2xEb3duQXJyb3c6XCJkb3duLWFycm93XCJ9KTtsZXQgbj1jbGFzcyBleHRlbmRzIGEkMXtjb25zdHJ1Y3RvcihvKXtzdXBlcihvKSx0aGlzLm5hbWU9bnVsbCx0aGlzLmRlc2NyaXB0aW9uPW51bGwsdGhpcy5kcmF3aW5nVG9vbD1udWxsLHRoaXMucHJvdG90eXBlPW51bGwsdGhpcy50aHVtYm5haWw9bnVsbDt9d3JpdGVEcmF3aW5nVG9vbChvLHIpe3IuZHJhd2luZ1Rvb2w9YS50b0pTT04obyk7fXdyaXRlUHJvdG90eXBlKG8sdCl7dC5wcm90b3R5cGU9cCh5JDEobyksITApO313cml0ZVRodW1ibmFpbChvLHQpe3QudGh1bWJuYWlsPXAoeSQxKG8pKTt9fTtlJDEoW3koe2pzb246e3dyaXRlOiEwfX0pXSxuLnByb3RvdHlwZSxcIm5hbWVcIix2b2lkIDApLGUkMShbeSh7anNvbjp7d3JpdGU6ITB9fSldLG4ucHJvdG90eXBlLFwiZGVzY3JpcHRpb25cIix2b2lkIDApLGUkMShbeSh7anNvbjp7cmVhZDphLnJlYWQsd3JpdGU6YS53cml0ZX19KV0sbi5wcm90b3R5cGUsXCJkcmF3aW5nVG9vbFwiLHZvaWQgMCksZSQxKFtvKFwiZHJhd2luZ1Rvb2xcIildLG4ucHJvdG90eXBlLFwid3JpdGVEcmF3aW5nVG9vbFwiLG51bGwpLGUkMShbeSh7anNvbjp7d3JpdGU6ITB9fSldLG4ucHJvdG90eXBlLFwicHJvdG90eXBlXCIsdm9pZCAwKSxlJDEoW28oXCJwcm90b3R5cGVcIildLG4ucHJvdG90eXBlLFwid3JpdGVQcm90b3R5cGVcIixudWxsKSxlJDEoW3koe2pzb246e3dyaXRlOiEwfX0pXSxuLnByb3RvdHlwZSxcInRodW1ibmFpbFwiLHZvaWQgMCksZSQxKFtvKFwidGh1bWJuYWlsXCIpXSxuLnByb3RvdHlwZSxcIndyaXRlVGh1bWJuYWlsXCIsbnVsbCksbj1lJDEoW2koXCJlc3JpLmxheWVycy5zdXBwb3J0LkZlYXR1cmVUZW1wbGF0ZVwiKV0sbik7dmFyIHUkMT1uO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IGw9Y2xhc3MgZXh0ZW5kcyBhJDF7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5pZD1udWxsLHRoaXMubmFtZT1udWxsLHRoaXMuZG9tYWlucz1udWxsLHRoaXMudGVtcGxhdGVzPW51bGw7fXJlYWREb21haW5zKG8pe2NvbnN0IHI9e307Zm9yKGNvbnN0IGUgaW4gbylpZihvLmhhc093blByb3BlcnR5KGUpKXtjb25zdCB0PW9bZV07c3dpdGNoKHQudHlwZSl7Y2FzZVwicmFuZ2VcIjpyW2VdPW4kMS5mcm9tSlNPTih0KTticmVhaztjYXNlXCJjb2RlZFZhbHVlXCI6cltlXT11JDIuZnJvbUpTT04odCk7YnJlYWs7Y2FzZVwiaW5oZXJpdGVkXCI6cltlXT1pJDEuZnJvbUpTT04odCk7fX1yZXR1cm4gcn13cml0ZURvbWFpbnMobyxlKXtjb25zdCB0PXt9O2Zvcihjb25zdCByIGluIG8pby5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09b1tyXSYmb1tyXS50b0pTT04oKSk7cCh0KSxlLmRvbWFpbnM9dDt9cmVhZFRlbXBsYXRlcyhvKXtyZXR1cm4gbyYmby5tYXAoKG89Pm5ldyB1JDEobykpKX13cml0ZVRlbXBsYXRlcyhvLHIpe3IudGVtcGxhdGVzPW8mJm8ubWFwKChvPT5vLnRvSlNPTigpKSk7fX07ZSQxKFt5KHtqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJpZFwiLHZvaWQgMCksZSQxKFt5KHtqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJuYW1lXCIsdm9pZCAwKSxlJDEoW3koe2pzb246e3dyaXRlOiEwfX0pXSxsLnByb3RvdHlwZSxcImRvbWFpbnNcIix2b2lkIDApLGUkMShbZSQyKFwiZG9tYWluc1wiKV0sbC5wcm90b3R5cGUsXCJyZWFkRG9tYWluc1wiLG51bGwpLGUkMShbbyhcImRvbWFpbnNcIildLGwucHJvdG90eXBlLFwid3JpdGVEb21haW5zXCIsbnVsbCksZSQxKFt5KHtqc29uOnt3cml0ZTohMH19KV0sbC5wcm90b3R5cGUsXCJ0ZW1wbGF0ZXNcIix2b2lkIDApLGUkMShbZSQyKFwidGVtcGxhdGVzXCIpXSxsLnByb3RvdHlwZSxcInJlYWRUZW1wbGF0ZXNcIixudWxsKSxlJDEoW28oXCJ0ZW1wbGF0ZXNcIildLGwucHJvdG90eXBlLFwid3JpdGVUZW1wbGF0ZXNcIixudWxsKSxsPWUkMShbaShcImVzcmkubGF5ZXJzLnN1cHBvcnQuRmVhdHVyZVR5cGVcIildLGwpO3ZhciB1PWw7XG5cbmV4cG9ydCB7IHUkMSBhcyBhLCBlLCB1IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlYXR1cmVUeXBlLTkzODhhMDM5LmpzLm1hcCIsImltcG9ydCB7IGI1IGFzIG4gfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGU9LTM7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0LGUscyl7dGhpcy5fbmFtZXNwYWNlPXQsdGhpcy5fc3RvcmFnZT1lLHRoaXMuX3JlbW92ZUZ1bmM9ITEsdGhpcy5faGl0PTAsdGhpcy5fbWlzcz0wLHRoaXMuX3N0b3JhZ2UucmVnaXN0ZXIodGhpcyksdGhpcy5fbmFtZXNwYWNlKz1cIjpcIixzJiYodGhpcy5fc3RvcmFnZS5yZWdpc3RlclJlbW92ZUZ1bmModGhpcy5fbmFtZXNwYWNlLHMpLHRoaXMuX3JlbW92ZUZ1bmM9ITApO31kZXN0cm95KCl7dGhpcy5fc3RvcmFnZS5jbGVhcih0aGlzLl9uYW1lc3BhY2UpLHRoaXMuX3JlbW92ZUZ1bmMmJnRoaXMuX3N0b3JhZ2UuZGVyZWdpc3RlclJlbW92ZUZ1bmModGhpcy5fbmFtZXNwYWNlKSx0aGlzLl9zdG9yYWdlLmRlcmVnaXN0ZXIodGhpcyksdGhpcy5fc3RvcmFnZT1udWxsO31nZXQgbmFtZXNwYWNlKCl7cmV0dXJuIHRoaXMuX25hbWVzcGFjZS5zbGljZSgwLC0xKX1nZXQgaGl0UmF0ZSgpe3JldHVybiB0aGlzLl9oaXQvKHRoaXMuX2hpdCt0aGlzLl9taXNzKX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLl9zdG9yYWdlLnNpemV9Z2V0IG1heFNpemUoKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5tYXhTaXplfXJlc2V0SGl0UmF0ZSgpe3RoaXMuX2hpdD10aGlzLl9taXNzPTA7fXB1dCh0LGUscyxpPTApe3RoaXMuX3N0b3JhZ2UucHV0KHRoaXMuX25hbWVzcGFjZSt0LGUscyxpKTt9Z2V0KHQpe2NvbnN0IGU9dGhpcy5fc3RvcmFnZS5nZXQodGhpcy5fbmFtZXNwYWNlK3QpO3JldHVybiB2b2lkIDA9PT1lPysrdGhpcy5fbWlzczorK3RoaXMuX2hpdCxlfXBvcCh0KXtjb25zdCBlPXRoaXMuX3N0b3JhZ2UucG9wKHRoaXMuX25hbWVzcGFjZSt0KTtyZXR1cm4gdm9pZCAwPT09ZT8rK3RoaXMuX21pc3M6Kyt0aGlzLl9oaXQsZX11cGRhdGVTaXplKHQsZSxzKXt0aGlzLl9zdG9yYWdlLnVwZGF0ZVNpemUodGhpcy5fbmFtZXNwYWNlK3QsZSxzKTt9Y2xlYXIoKXt0aGlzLl9zdG9yYWdlLmNsZWFyKHRoaXMuX25hbWVzcGFjZSk7fWNsZWFyQWxsKCl7dGhpcy5fc3RvcmFnZS5jbGVhckFsbCgpO31nZXRTdGF0cygpe3JldHVybiB0aGlzLl9zdG9yYWdlLmdldFN0YXRzKCl9cmVzZXRTdGF0cygpe3RoaXMuX3N0b3JhZ2UucmVzZXRTdGF0cygpO319Y2xhc3MgaXtjb25zdHJ1Y3RvcihlPTEwNDg1NzYwKXt0aGlzLl9tYXhTaXplPWUsdGhpcy5fZGI9bmV3IE1hcCx0aGlzLl9zaXplPTAsdGhpcy5faGl0PTAsdGhpcy5fbWlzcz0wLHRoaXMuX3JlbW92ZUZ1bmNzPW5ldyBuLHRoaXMuX3VzZXJzPW5ldyBuO31kZXN0cm95KCl7dGhpcy5jbGVhckFsbCgpLHRoaXMuX3JlbW92ZUZ1bmNzLmNsZWFyKCksdGhpcy5fdXNlcnMuY2xlYXIoKSx0aGlzLl9kYj1udWxsO31yZWdpc3Rlcih0KXt0aGlzLl91c2Vycy5wdXNoKHQpO31kZXJlZ2lzdGVyKHQpe3RoaXMuX3VzZXJzLnJlbW92ZVVub3JkZXJlZCh0KTt9cmVnaXN0ZXJSZW1vdmVGdW5jKHQsZSl7dGhpcy5fcmVtb3ZlRnVuY3MucHVzaChbdCxlXSk7fWRlcmVnaXN0ZXJSZW1vdmVGdW5jKHQpe3RoaXMuX3JlbW92ZUZ1bmNzLmZpbHRlckluUGxhY2UoKGU9PmVbMF0hPT10KSk7fWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX3NpemV9Z2V0IG1heFNpemUoKXtyZXR1cm4gdGhpcy5fbWF4U2l6ZX1zZXQgbWF4U2l6ZSh0KXt0aGlzLl9tYXhTaXplPU1hdGgubWF4KHQsMCksdGhpcy5fY2hlY2tTaXplTGltaXQoKTt9cHV0KHQscyxpLGgpe2NvbnN0IHI9dGhpcy5fZGIuZ2V0KHQpO2lmKHImJih0aGlzLl9zaXplLT1yLnNpemUsdGhpcy5fZGIuZGVsZXRlKHQpLHIuZW50cnkhPT1zJiZ0aGlzLl9ub3RpZnlSZW1vdmVkKHQsci5lbnRyeSkpLGk+dGhpcy5fbWF4U2l6ZSlyZXR1cm4gdm9pZCB0aGlzLl9ub3RpZnlSZW1vdmVkKHQscyk7aWYodm9pZCAwPT09cylyZXR1cm4gdm9pZCBjb25zb2xlLndhcm4oXCJSZWZ1c2luZyB0byBjYWNoZSB1bmRlZmluZWQgZW50cnkgXCIpO2lmKCFpfHxpPDApcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiUmVmdXNpbmcgdG8gY2FjaGUgZW50cnkgd2l0aCBpbnZhbGlkIHNpemUgXCIraSk7Y29uc3QgXz0xK01hdGgubWF4KGgsZSktZTt0aGlzLl9kYi5zZXQodCx7ZW50cnk6cyxzaXplOmksbGlmZXRpbWU6XyxsaXZlczpffSksdGhpcy5fc2l6ZSs9aSx0aGlzLl9jaGVja1NpemVMaW1pdCgpO311cGRhdGVTaXplKHQsZSxzKXtjb25zdCBpPXRoaXMuX2RiLmdldCh0KTtpZihpJiZpLmVudHJ5PT09ZSl7aWYodGhpcy5fc2l6ZS09aS5zaXplLHM+dGhpcy5fbWF4U2l6ZSlyZXR1cm4gdGhpcy5fZGIuZGVsZXRlKHQpLHZvaWQgdGhpcy5fbm90aWZ5UmVtb3ZlZCh0LGUpO2kuc2l6ZT1zLHRoaXMuX3NpemUrPXMsdGhpcy5fY2hlY2tTaXplTGltaXQoKTt9fXBvcCh0KXtjb25zdCBlPXRoaXMuX2RiLmdldCh0KTtpZihlKXJldHVybiB0aGlzLl9zaXplLT1lLnNpemUsdGhpcy5fZGIuZGVsZXRlKHQpLCsrdGhpcy5faGl0LGUuZW50cnk7Kyt0aGlzLl9taXNzO31nZXQodCl7Y29uc3QgZT10aGlzLl9kYi5nZXQodCk7aWYodm9pZCAwIT09ZSlyZXR1cm4gdGhpcy5fZGIuZGVsZXRlKHQpLGUubGl2ZXM9ZS5saWZldGltZSx0aGlzLl9kYi5zZXQodCxlKSwrK3RoaXMuX2hpdCxlLmVudHJ5OysrdGhpcy5fbWlzczt9Z2V0U3RhdHMoKXtjb25zdCB0PXtTaXplOk1hdGgucm91bmQodGhpcy5fc2l6ZS8xMDQ4NTc2KStcIi9cIitNYXRoLnJvdW5kKHRoaXMuX21heFNpemUvMTA0ODU3NikrXCJNQlwiLFwiSGl0IHJhdGVcIjpNYXRoLnJvdW5kKDEwMCp0aGlzLl9nZXRIaXRSYXRlKCkpK1wiJVwiLEVudHJpZXM6dGhpcy5fZGIuc2l6ZS50b1N0cmluZygpfSxzPXt9LGk9bmV3IEFycmF5O3RoaXMuX2RiLmZvckVhY2goKCh0LGUpPT57Y29uc3QgaD10LmxpZmV0aW1lO2lbaF09KGlbaF18fDApK3Quc2l6ZSx0aGlzLl91c2Vycy5mb3JBbGwoKGk9Pntjb25zdCBoPWkubmFtZXNwYWNlO2lmKGUuc3RhcnRzV2l0aChoKSl7Y29uc3QgZT1zW2hdfHwwO3NbaF09ZSt0LnNpemU7fX0pKTt9KSk7Y29uc3QgaD17fTt0aGlzLl91c2Vycy5mb3JBbGwoKHQ9Pntjb25zdCBlPXQubmFtZXNwYWNlO2lmKCFpc05hTih0LmhpdFJhdGUpJiZ0LmhpdFJhdGU+MCl7Y29uc3QgaT1zW2VdfHwwO3NbZV09aSxoW2VdPU1hdGgucm91bmQoMTAwKnQuaGl0UmF0ZSkrXCIlXCI7fWVsc2UgaFtlXT1cIjAlXCI7fSkpO2NvbnN0IHI9T2JqZWN0LmtleXMocyk7ci5mb3JFYWNoKCh0PT5zW3RdPXNbdF0vdGhpcy5fc2l6ZSoxMDApKSxyLnNvcnQoKCh0LGUpPT5zW2VdLXNbdF0pKSxyLmZvckVhY2goKGU9PnRbZV09TWF0aC5yb3VuZChzW2VdKStcIiUgLyBcIitoW2VdKSk7Zm9yKGxldCBfPWkubGVuZ3RoLTE7Xz49MDstLV8pe2NvbnN0IHM9aVtfXTtzJiYodFtcIlByaW9yaXR5IFwiKyhfK2UtMSldPU1hdGgucm91bmQocy90aGlzLnNpemUqMTAwKStcIiVcIik7fXJldHVybiB0fXJlc2V0U3RhdHMoKXt0aGlzLl9oaXQ9dGhpcy5fbWlzcz0wLHRoaXMuX3VzZXJzLmZvckFsbCgodD0+dC5yZXNldEhpdFJhdGUoKSkpO31jbGVhcih0KXt0aGlzLl9kYi5mb3JFYWNoKCgoZSxzKT0+e3Muc3RhcnRzV2l0aCh0KSYmKHRoaXMuX3NpemUtPWUuc2l6ZSx0aGlzLl9kYi5kZWxldGUocyksdGhpcy5fbm90aWZ5UmVtb3ZlZChzLGUuZW50cnkpKTt9KSk7fWNsZWFyQWxsKCl7dGhpcy5fZGIuZm9yRWFjaCgoKHQsZSk9PnRoaXMuX25vdGlmeVJlbW92ZWQoZSx0LmVudHJ5KSkpLHRoaXMuX3NpemU9MCx0aGlzLl9kYi5jbGVhcigpO31fZ2V0SGl0UmF0ZSgpe3JldHVybiB0aGlzLl9oaXQvKHRoaXMuX2hpdCt0aGlzLl9taXNzKX1fbm90aWZ5UmVtb3ZlZCh0LGUpe3RoaXMuX3JlbW92ZUZ1bmNzLmZvckFsbCgocz0+e3Quc3RhcnRzV2l0aChzWzBdKSYmc1sxXShlKTt9KSk7fV9jaGVja1NpemVMaW1pdCgpe2lmKCEodGhpcy5fc2l6ZTw9dGhpcy5fbWF4U2l6ZSkpZm9yKGNvbnN0W3QsZV1vZiB0aGlzLl9kYilpZih0aGlzLl9kYi5kZWxldGUodCksZS5saXZlczw9MT8odGhpcy5fc2l6ZS09ZS5zaXplLHRoaXMuX25vdGlmeVJlbW92ZWQodCxlLmVudHJ5KSk6KC0tZS5saXZlcyx0aGlzLl9kYi5zZXQodCxlKSksdGhpcy5fc2l6ZTw9LjkqdGhpcy5tYXhTaXplKXJldHVybn19XG5cbmV4cG9ydCB7IGksIHMgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVtQ2FjaGUtNTQ2MzA2ODkuanMubWFwIiwiaW1wb3J0IHsgaiBhcyBVLCBiMSBhcyBndCwgYjIgYXMgVXQsIEggYXMgciwgYVAgYXMgcCQxLCBiMyBhcyBEIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB1PVtcIk1hcFNlcnZlclwiLFwiSW1hZ2VTZXJ2ZXJcIixcIkZlYXR1cmVTZXJ2ZXJcIixcIlNjZW5lU2VydmVyXCIsXCJTdHJlYW1TZXJ2ZXJcIixcIlZlY3RvclRpbGVTZXJ2ZXJcIl0sYT1uZXcgUmVnRXhwKGBeKCg/Omh0dHBzPzopP1xcXFwvXFxcXC9cXFxcUys/XFxcXC9yZXN0XFxcXC9zZXJ2aWNlc1xcXFwvKC4rPylcXFxcLygke3Uuam9pbihcInxcIil9KSkoPzpcXFxcLyg/OmxheWVyc1xcXFwvKT8oXFxcXGQrKSk/YCxcImlcIiksYz1uZXcgUmVnRXhwKGBeKCg/Omh0dHBzPzopP1xcXFwvXFxcXC9cXFxcUys/XFxcXC8oW15cXFxcL1xcXFxuXSspXFxcXC8oJHt1LmpvaW4oXCJ8XCIpfSkpKD86XFxcXC8oPzpsYXllcnNcXFxcLyk/KFxcXFxkKykpP2AsXCJpXCIpLGY9LyguKilcXC8oXFxkKylcXC8/JC9pO2Z1bmN0aW9uIHAoZSl7cmV0dXJuICEhYS50ZXN0KGUpfWZ1bmN0aW9uIGQoZSl7Y29uc3QgdD1VKGUpLG49dC5wYXRoLm1hdGNoKGEpfHx0LnBhdGgubWF0Y2goYyk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3RbLHMsaSxvLGxdPW4sdT1pLmluZGV4T2YoXCIvXCIpO3JldHVybiB7dGl0bGU6digtMSE9PXU/aS5zbGljZSh1KzEpOmkpLHNlcnZlclR5cGU6byxzdWJsYXllcjpudWxsIT1sJiZcIlwiIT09bD9wYXJzZUludChsLDEwKTpudWxsLHVybDp7cGF0aDpzfX19ZnVuY3Rpb24gbShlKXtjb25zdCB0PVUoZSkucGF0aC5tYXRjaChmKTtyZXR1cm4gdD97c2VydmljZVVybDp0WzFdLHN1YmxheWVySWQ6TnVtYmVyKHRbMl0pfTpudWxsfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIChlPWUucmVwbGFjZSgvXFxzKlsvX10rXFxzKi9nLFwiIFwiKSlbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpfWZ1bmN0aW9uIGgociQxLHQpe2NvbnN0IG49W107aWYociQxKXtjb25zdCB0PWQociQxKTtyKHQpJiZ0LnRpdGxlJiZuLnB1c2godC50aXRsZSk7fWlmKHQpe2NvbnN0IGU9dih0KTtuLnB1c2goZSk7fWlmKDI9PT1uLmxlbmd0aCl7aWYoLTEhPT1uWzBdLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihuWzFdLnRvTG93ZXJDYXNlKCkpKXJldHVybiBuWzBdO2lmKC0xIT09blsxXS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoblswXS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4gblsxXX1yZXR1cm4gbi5qb2luKFwiIC0gXCIpfWZ1bmN0aW9uIHcoZSl7aWYoIWUpcmV0dXJuICExO2NvbnN0IHI9XCIuYXJjZ2lzLmNvbS9cIix0PVwiLy9zZXJ2aWNlc1wiLG49XCIvL3RpbGVzXCIscz1cIi8vZmVhdHVyZXNcIixpPS0xIT09KGU9ZS50b0xvd2VyQ2FzZSgpKS5pbmRleE9mKHIpLG89LTEhPT1lLmluZGV4T2YodCl8fC0xIT09ZS5pbmRleE9mKG4pfHwtMSE9PWUuaW5kZXhPZihzKTtyZXR1cm4gaSYmb31mdW5jdGlvbiB5KGUscil7cmV0dXJuIGU/Z3QoVXQoZSxyKSk6ZX1mdW5jdGlvbiBnKHMpe2xldHt1cmw6aX09cztpZighaSlyZXR1cm4ge3VybDppfTtpPVV0KGkscy5sb2dnZXIpO2NvbnN0IG89VShpKSxsPWQoby5wYXRoKTtsZXQgdTtpZihyKGwpKW51bGwhPWwuc3VibGF5ZXImJm51bGw9PXMubGF5ZXIubGF5ZXJJZCYmKHU9bC5zdWJsYXllciksaT1sLnVybC5wYXRoO2Vsc2UgaWYocy5ub25TdGFuZGFyZFVybEFsbG93ZWQpe2NvbnN0IHIkMT1tKG8ucGF0aCk7cihyJDEpJiYoaT1yJDEuc2VydmljZVVybCx1PXIkMS5zdWJsYXllcklkKTt9cmV0dXJuIHt1cmw6Z3QoaSksbGF5ZXJJZDp1fX1mdW5jdGlvbiBPKGUscix0LG4saSl7cCQxKHIsbixcInVybFwiLGkpLG4udXJsJiZudWxsIT1lLmxheWVySWQmJihuLnVybD1EKG4udXJsLHQsZS5sYXllcklkLnRvU3RyaW5nKCkpKTt9ZnVuY3Rpb24gUyhlKXtpZighZSlyZXR1cm4gITE7Y29uc3Qgcj1lLnRvTG93ZXJDYXNlKCksdD0tMSE9PXIuaW5kZXhPZihcIi9zZXJ2aWNlcy9cIiksbj0tMSE9PXIuaW5kZXhPZihcIi9tYXBzZXJ2ZXIvd21zc2VydmVyXCIpLHM9LTEhPT1yLmluZGV4T2YoXCIvaW1hZ2VzZXJ2ZXIvd21zc2VydmVyXCIpLGk9LTEhPT1yLmluZGV4T2YoXCIvd21zc2VydmVyXCIpO3JldHVybiB0JiYobnx8c3x8aSl9XG5cbmV4cG9ydCB7IE8sIFMsIGQsIGcsIGgsIG0sIHAsIHYsIHcsIHkgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJjZ2lzTGF5ZXJVcmwtMzZiM2MzYWIuanMubWFwIiwiaW1wb3J0IHsgYWUgYXMgTCwgYTEgYXMgdSQxLCBhSSBhcyBlLCBIIGFzIHIsIHQgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGY9W1wiZXNyaS5Db2xvclwiLFwiZXNyaS5wb3J0YWwuUG9ydGFsXCIsXCJlc3JpLnN5bWJvbHMuc3VwcG9ydC5TeW1ib2wzREFuY2hvclBvc2l0aW9uMkRcIixcImVzcmkuc3ltYm9scy5zdXBwb3J0LlN5bWJvbDNEQW5jaG9yUG9zaXRpb24zRFwiXTtmdW5jdGlvbiBpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdSQxfWZ1bmN0aW9uIGModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBMP09iamVjdC5rZXlzKHQuaXRlbXMpOmkodCk/ZSh0KS5rZXlzKCk6dD9PYmplY3Qua2V5cyh0KTpbXX1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBMP3QuaXRlbXNbZV06dFtlXX1mdW5jdGlvbiBsKHQsZSl7cmV0dXJuICEoIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpKSYmdC5sZW5ndGghPT1lLmxlbmd0aH1mdW5jdGlvbiBzKHQpe3JldHVybiB0P3QuZGVjbGFyZWRDbGFzczpudWxsfWZ1bmN0aW9uIHAodCxuKXtjb25zdCBvPXQuZGlmZjtpZihvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvKXJldHVybiBvKHQsbik7Y29uc3QgciQxPWModCksYT1jKG4pO2lmKDA9PT1yJDEubGVuZ3RoJiYwPT09YS5sZW5ndGgpcmV0dXJuO2lmKCFyJDEubGVuZ3RofHwhYS5sZW5ndGh8fGwodCxuKSlyZXR1cm4ge3R5cGU6XCJjb21wbGV0ZVwiLG9sZFZhbHVlOnQsbmV3VmFsdWU6bn07Y29uc3QgeT1hLmZpbHRlcigodD0+LTE9PT1yJDEuaW5kZXhPZih0KSkpLG09ciQxLmZpbHRlcigodD0+LTE9PT1hLmluZGV4T2YodCkpKSxkPXIkMS5maWx0ZXIoKGU9PmEuaW5kZXhPZihlKT4tMSYmdSh0LGUpIT09dShuLGUpKSkuY29uY2F0KHksbSkuc29ydCgpLGI9cyh0KTtpZihiJiZmLmluZGV4T2YoYik+LTEmJmQubGVuZ3RoKXJldHVybiB7dHlwZTpcImNvbXBsZXRlXCIsb2xkVmFsdWU6dCxuZXdWYWx1ZTpufTtsZXQgaDtjb25zdCBqPWkodCkmJmkobik7Zm9yKGNvbnN0IGYgb2YgZCl7Y29uc3QgciQxPXUodCxmKSxpPXUobixmKTtsZXQgYzsoanx8XCJmdW5jdGlvblwiIT10eXBlb2YgciQxJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKSYmKHIkMSE9PWkmJihudWxsPT1yJDEmJm51bGw9PWl8fChjPW8mJm9bZl0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG9bZl0/b1tmXShyJDEsaSk6XCJvYmplY3RcIj09dHlwZW9mIHIkMSYmXCJvYmplY3RcIj09dHlwZW9mIGkmJnMociQxKT09PXMoaSk/cChyJDEsaSk6e3R5cGU6XCJjb21wbGV0ZVwiLG9sZFZhbHVlOnIkMSxuZXdWYWx1ZTppfSxyKGMpJiYocihoKT9oLmRpZmZbZl09YzpoPXt0eXBlOlwicGFydGlhbFwiLGRpZmY6e1tmXTpjfX0pKSkpO31yZXR1cm4gaH1mdW5jdGlvbiBhKGUsbil7aWYodChlKSlyZXR1cm4gITE7Y29uc3Qgbz1uLnNwbGl0KFwiLlwiKTtsZXQgcj1lO2Zvcihjb25zdCB0IG9mIG8pe2lmKFwiY29tcGxldGVcIj09PXIudHlwZSlyZXR1cm4gITA7aWYoXCJwYXJ0aWFsXCIhPT1yLnR5cGUpcmV0dXJuICExO3tjb25zdCBlPXIuZGlmZlt0XTtpZighZSlyZXR1cm4gITE7cj1lO319cmV0dXJuICEwfWZ1bmN0aW9uIHkodCxlKXtmb3IoY29uc3QgbiBvZiBlKWlmKGEodCxuKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIG0odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYodHx8ZSkpcmV0dXJuICF0fHwhZXx8XCJvYmplY3RcIj09dHlwZW9mIHQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZzKHQpIT09cyhlKT97dHlwZTpcImNvbXBsZXRlXCIsb2xkVmFsdWU6dCxuZXdWYWx1ZTplfTpwKHQsZSl9XG5cbmV4cG9ydCB7IGEsIG0sIHkgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlmZlV0aWxzLWQ5YWZiY2IzLmpzLm1hcCIsImltcG9ydCB7IEcgYXMgeCQxLCBPIGFzIGskMSwgUSBhcyBVLCBGIGFzIEwsIFAgYXMgcyQxLCBhbiBhcyBuJDMsIEUgYXMgeSQxLCBEIGFzIGwkMywgYXAgYXMgZyQyLCBVIGFzIFUkMSwgSiBhcyBwJDIsIGJzIGFzIHMkNCwgciBhcyBjJDMsIHcgYXMgdyQzIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgYiQxIGZyb20gJy4vUG9ydGFsSXRlbS0wMzYxODJjZC5qcyc7XG5pbXBvcnQgeyBhMCBhcyBJLCBhMSBhcyBsJDEsIGEyIGFzIGhlLCBhMyBhcyBzJDIsIGE0IGFzIG8kMiwgSCBhcyBjJDEsIGE1IGFzIFMkMSwgYTYgYXMgRSQzLCBhNyBhcyBOJDEsIHggYXMgZSQzIH0gZnJvbSAnLi9hcmNhZGVVdGlscy1kMWM2OWRjYy5qcyc7XG5pbXBvcnQgeyB2IGFzIHYkMiwgdCBhcyB0JDIsIG8gYXMgbyQxLCBzIGFzIHMkMywgbiBhcyBuJDIsIGwgYXMgbCQyLCBpIGFzIGkkMSwgdSBhcyB1JDIsIHcgYXMgdyQyLCBoIGFzIGgkMSwgYSBhcyBhJDQsIEUgYXMgRSQyLCBmIGFzIGYkMiwgcCBhcyBwJDEsIG0gYXMgbSQyLCBnIGFzIGckMywgYiBhcyBhJDUgfSBmcm9tICcuL1NwYXRpYWxGaWx0ZXItMDMzZTA2ODkuanMnO1xuaW1wb3J0IHsgV2hlcmVDbGF1c2UgYXMgZiQxIH0gZnJvbSAnLi9XaGVyZUNsYXVzZS02MzM3NWU1Yi5qcyc7XG5pbXBvcnQgeyBlIGFzIGUkMiB9IGZyb20gJy4vRmllbGRzSW5kZXgtZGEyMzc0OTIuanMnO1xuaW1wb3J0IHsgayBhcyBrZSB9IGZyb20gJy4vRmVhdHVyZUxheWVyLWUzNGFhMWMzLmpzJztcbmltcG9ydCB7IG4gYXMgbmUgfSBmcm9tICcuL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMtODdkMzljY2IuanMnO1xuaW1wb3J0IHsgUiwgbSBhcyBtJDEgfSBmcm9tICcuL1F1ZXJ5LTM5YzM0YjkzLmpzJztcbmltcG9ydCB7IG4gYXMgbiQ0IH0gZnJvbSAnLi9wYmZRdWVyeVV0aWxzLThhOWZjODdkLmpzJztcbmltcG9ydCB7IGMgYXMgYyQyIH0gZnJvbSAnLi9xdWVyeS0zZDkxNTIyYS5qcyc7XG5pbXBvcnQgeyB4IGFzIHgkMiB9IGZyb20gJy4vUXVlcnlUYXNrLTUxZWRmMmQzLmpzJztcbmltcG9ydCB7IHUgYXMgdSQzIH0gZnJvbSAnLi9GZWF0dXJlVHlwZS05Mzg4YTAzOS5qcyc7XG5pbXBvcnQgeyBsIGFzIGwkNCB9IGZyb20gJy4vUmVsYXRpb25zaGlwUXVlcnktODM2ODRhZGMuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgciQxe2NvbnN0cnVjdG9yKCl7dGhpcy5kZWNsYXJlZFJvb3RDbGFzcz1cImVzcmkuYXJjYWRlLmZlYXR1cmVTZXRDb2xsZWN0aW9uXCIsdGhpcy5fbGF5ZXJCeUlkPXt9LHRoaXMuX2xheWVyQnlOYW1lPXt9O31hZGQoZSxyLHQpe3RoaXMuX2xheWVyQnlJZFtyXT10LHRoaXMuX2xheWVyQnlOYW1lW2VdPXQ7fWZlYXR1cmVTZXRCeU5hbWUoZSxyPSEwLHQ9W1wiKlwiXSl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2xheWVyQnlOYW1lW2VdP3RoaXMucmVzb2x2ZVByb21pc2UobnVsbCk6dGhpcy5yZXNvbHZlUHJvbWlzZSh0aGlzLl9sYXllckJ5TmFtZVtlXSl9ZmVhdHVyZVNldEJ5SWQoZSxyPSEwLHQ9W1wiKlwiXSl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2xheWVyQnlJZFtlXT90aGlzLnJlc29sdmVQcm9taXNlKG51bGwpOnRoaXMucmVzb2x2ZVByb21pc2UodGhpcy5fbGF5ZXJCeUlkW2VdKX1jYXN0VG9UZXh0KCl7cmV0dXJuIFwib2JqZWN0LCBGZWF0dXJlU2V0Q29sbGVjdGlvblwifXJlc29sdmVQcm9taXNlKHIpe3JldHVybiB4JDEocil9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgXyBleHRlbmRzIHYkMntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmRlY2xhcmVkQ2xhc3M9XCJlc3JpLmFyY2FkZS5mZWF0dXJlc2V0LmFjdGlvbnMuQXR0cmlidXRlRmlsdGVyXCIsdGhpcy5fbWF4UHJvY2Vzc2luZz0xZTMsdGhpcy5fcGFyZW50PWUucGFyZW50ZmVhdHVyZXNldCxlLndoZXJlY2xhdXNlIGluc3RhbmNlb2YgZiQxPyh0aGlzLl93aGVyZWNsYXVzZT1lLndoZXJlY2xhdXNlLHRoaXMuX3doZXJlQ2xhdXNlRnVuY3Rpb249bnVsbCk6KHRoaXMuX3doZXJlQ2xhdXNlRnVuY3Rpb249ZS53aGVyZWNsYXVzZSx0aGlzLl93aGVyZWNsYXVzZT1udWxsKTt9X2luaXRpYWxpc2VGZWF0dXJlU2V0KCl7bnVsbCE9PXRoaXMuX3BhcmVudD8odGhpcy5maWVsZHM9dGhpcy5fcGFyZW50LmZpZWxkcy5zbGljZSgwKSx0aGlzLmdlb21ldHJ5VHlwZT10aGlzLl9wYXJlbnQuZ2VvbWV0cnlUeXBlLHRoaXMub2JqZWN0SWRGaWVsZD10aGlzLl9wYXJlbnQub2JqZWN0SWRGaWVsZCx0aGlzLmdsb2JhbElkRmllbGQ9dGhpcy5fcGFyZW50Lmdsb2JhbElkRmllbGQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuX3BhcmVudC5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuaGFzTT10aGlzLl9wYXJlbnQuaGFzTSx0aGlzLmhhc1o9dGhpcy5fcGFyZW50Lmhhc1osdGhpcy50eXBlSWRGaWVsZD10aGlzLl9wYXJlbnQudHlwZUlkRmllbGQsdGhpcy50eXBlcz10aGlzLl9wYXJlbnQudHlwZXMpOih0aGlzLmZpZWxkcz1bXSx0aGlzLnR5cGVJZEZpZWxkPVwiXCIsdGhpcy5vYmplY3RJZEZpZWxkPVwiXCIsdGhpcy5nbG9iYWxJZEZpZWxkPVwiXCIsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW5ldyBrJDEoe3draWQ6NDMyNn0pLHRoaXMuZ2VvbWV0cnlUeXBlPUkucG9pbnQpO31fZ2V0U2V0KHQpe3JldHVybiBudWxsPT09dGhpcy5fd3NldD90aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5fcGFyZW50Ll9nZXRGaWx0ZXJlZFNldChcIlwiLG51bGwsdGhpcy5fd2hlcmVjbGF1c2UsbnVsbCx0KSkpLnRoZW4oKGU9Pih0aGlzLl9jaGVja0NhbmNlbGxlZCh0KSxudWxsIT09dGhpcy5fd2hlcmVDbGF1c2VGdW5jdGlvbj90aGlzLl93c2V0PW5ldyB0JDIoZS5fY2FuZGlkYXRlcy5zbGljZSgwKS5jb25jYXQoZS5fa25vd24uc2xpY2UoMCkpLFtdLGUuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihlLnBhZ2VzRGVmaW5pdGlvbikpOnRoaXMuX3dzZXQ9bmV3IHQkMihlLl9jYW5kaWRhdGVzLnNsaWNlKDApLGUuX2tub3duLnNsaWNlKDApLGUuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihlLnBhZ2VzRGVmaW5pdGlvbikpLHRoaXMuX3dzZXQpKSk6eCQxKHRoaXMuX3dzZXQpfV9pc0luRmVhdHVyZVNldChlKXtsZXQgdD10aGlzLl9wYXJlbnQuX2lzSW5GZWF0dXJlU2V0KGUpO3JldHVybiB0PT09bCQxLk5vdEluRmVhdHVyZVNldD90Oih0PXRoaXMuX2lkc3RhdGVzW2VdLHZvaWQgMD09PXQ/bCQxLlVua25vd246dCl9X2dldEZlYXR1cmUoZSx0LHMpe3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEZlYXR1cmUoZSx0LHMpfV9nZXRGZWF0dXJlcyhlLHQscyxpKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlcyhlLHQscyxpKX1fZmVhdHVyZUZyb21DYWNoZShlKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9mZWF0dXJlRnJvbUNhY2hlKGUpfWV4ZWN1dGVXaGVyZUNsYXVzZShlKXtyZXR1cm4gdGhpcy5fd2hlcmVjbGF1c2UudGVzdEZlYXR1cmUoZSl9ZXhlY3V0ZVdoZXJlQ2xhdXNlRGVmZXJyZWQoaSl7aWYobnVsbCE9PXRoaXMuX3doZXJlQ2xhdXNlRnVuY3Rpb24pdHJ5e2NvbnN0IHM9dGhpcy5fd2hlcmVDbGF1c2VGdW5jdGlvbihpKTtyZXR1cm4gVShzKT9zOngkMShzKX1jYXRjaChyKXtyZXR1cm4gTChyKX1yZXR1cm4geCQxKHRoaXMuZXhlY3V0ZVdoZXJlQ2xhdXNlKGkpKX1fZmV0Y2hBbmRSZWZpbmVGZWF0dXJlcyhlLHQscyl7Y29uc3Qgcj1uZXcgdCQyKFtdLGUsITEsbnVsbCksbj1NYXRoLm1pbih0LGUubGVuZ3RoKTtyZXR1cm4gdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlcyhyLC0xLG4scykudGhlbigoKCk9PntpZih0aGlzLl9jaGVja0NhbmNlbGxlZChzKSxudWxsPT10aGlzLl93aGVyZUNsYXVzZUZ1bmN0aW9uKXtmb3IobGV0IHQ9MDt0PG47dCsrKXtjb25zdCBzPXRoaXMuX3BhcmVudC5fZmVhdHVyZUZyb21DYWNoZShlW3RdKTshMD09PXRoaXMuZXhlY3V0ZVdoZXJlQ2xhdXNlKHMpP3RoaXMuX2lkc3RhdGVzW2VbdF1dPWwkMS5JbkZlYXR1cmVTZXQ6dGhpcy5faWRzdGF0ZXNbZVt0XV09bCQxLk5vdEluRmVhdHVyZVNldDt9cmV0dXJuIFwic3VjY2Vzc1wifWNvbnN0IHI9W107Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgcz10aGlzLl9wYXJlbnQuX2ZlYXR1cmVGcm9tQ2FjaGUoZVt0XSk7ci5wdXNoKHRoaXMuZXhlY3V0ZVdoZXJlQ2xhdXNlRGVmZXJyZWQocykpO31yZXR1cm4gcyQxKHIpLnRoZW4oKHM9Pntmb3IobGV0IGk9MDtpPHQ7aSsrKSEwPT09c1tpXT90aGlzLl9pZHN0YXRlc1tlW2ldXT1sJDEuSW5GZWF0dXJlU2V0OnRoaXMuX2lkc3RhdGVzW2VbaV1dPWwkMS5Ob3RJbkZlYXR1cmVTZXQ7cmV0dXJuIFwic3VjY2Vzc1wifSkpfSkpfV9nZXRGaWx0ZXJlZFNldChlLHQscyxpLHIpe3JldHVybiBudWxsIT09dGhpcy5fd2hlcmVDbGF1c2VGdW5jdGlvbnx8KG51bGwhPT1zP251bGwhPT10aGlzLl93aGVyZWNsYXVzZSYmKHM9byQxKHRoaXMuX3doZXJlY2xhdXNlLHMpKTpzPXRoaXMuX3doZXJlY2xhdXNlKSx0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5fcGFyZW50Ll9nZXRGaWx0ZXJlZFNldChlLHQscyxpLHIpKSkudGhlbigoZT0+e2xldCB0O3JldHVybiB0aGlzLl9jaGVja0NhbmNlbGxlZChyKSx0PW51bGwhPT10aGlzLl93aGVyZUNsYXVzZUZ1bmN0aW9uP25ldyB0JDIoZS5fY2FuZGlkYXRlcy5zbGljZSgwKS5jb25jYXQoZS5fa25vd24uc2xpY2UoMCkpLFtdLGUuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihlLnBhZ2VzRGVmaW5pdGlvbikpOm5ldyB0JDIoZS5fY2FuZGlkYXRlcy5zbGljZSgwKSxlLl9rbm93bi5zbGljZSgwKSxlLl9vcmRlcmVkLHRoaXMuX2Nsb25lUGFnZURlZmluaXRpb24oZS5wYWdlc0RlZmluaXRpb24pKSx0fSkpfV9zdGF0KHQscyxpLHIsbixhLGwpe2lmKG51bGwhPT10aGlzLl93aGVyZUNsYXVzZUZ1bmN0aW9uKXJldHVybiBudWxsPT09biYmXCJcIj09PWkmJm51bGw9PT1yP3RoaXMuX21hbnVhbFN0YXQodCxzLGEsbCk6eCQxKHtjYWxjdWxhdGVkOiExfSk7bGV0IGg9dGhpcy5fd2hlcmVjbGF1c2U7cmV0dXJuIG51bGwhPT1uJiZudWxsIT09dGhpcy5fd2hlcmVjbGF1c2UmJihoPW8kMSh0aGlzLl93aGVyZWNsYXVzZSxuKSksdGhpcy5fcGFyZW50Ll9zdGF0KHQscyxpLHIsaCxhLGwpLnRoZW4oKGU9PiExPT09ZS5jYWxjdWxhdGVkP251bGw9PT1uJiZcIlwiPT09aSYmbnVsbD09PXI/dGhpcy5fbWFudWFsU3RhdCh0LHMsYSxsKTp7Y2FsY3VsYXRlZDohMX06ZSkpfV9jYW5Eb0FnZ3JlZ2F0ZXModCxzLGkscixuKXtyZXR1cm4gbnVsbCE9PXRoaXMuX3doZXJlQ2xhdXNlRnVuY3Rpb24/eCQxKCExKToobnVsbCE9PW4/bnVsbCE9PXRoaXMuX3doZXJlY2xhdXNlJiYobj1vJDEodGhpcy5fd2hlcmVjbGF1c2UsbikpOm49dGhpcy5fd2hlcmVjbGF1c2UsbnVsbD09PXRoaXMuX3BhcmVudD94JDEoITEpOnRoaXMuX3BhcmVudC5fY2FuRG9BZ2dyZWdhdGVzKHQscyxpLHIsbikpfV9nZXRBZ2dyZWdhdGVQYWdlc0RhdGFTb3VyY2VEZWZpbml0aW9uKGUsdCxpLHIsbixhLGwpe3JldHVybiBudWxsPT09dGhpcy5fcGFyZW50P0wobmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGJlIGNhbGxlZFwiKSk6KG51bGwhPT1uP251bGwhPT10aGlzLl93aGVyZWNsYXVzZSYmKG49byQxKHRoaXMuX3doZXJlY2xhdXNlLG4pKTpuPXRoaXMuX3doZXJlY2xhdXNlLHRoaXMuX3BhcmVudC5fZ2V0QWdncmVnYXRlUGFnZXNEYXRhU291cmNlRGVmaW5pdGlvbihlLHQsaSxyLG4sYSxsKSl9c3RhdGljIHJlZ2lzdGVyQWN0aW9uKCl7diQyLl9mZWF0dXJlc2V0RnVuY3Rpb25zLmZpbHRlcj1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBuZXcgXyh7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHdoZXJlY2xhdXNlOmV9KTtsZXQgdD1udWxsO3JldHVybiBlIGluc3RhbmNlb2YgZiQxJiYodD1lKSxuZXcgXyh7cGFyZW50ZmVhdHVyZXNldDp0aGlzLHdoZXJlY2xhdXNlOnR9KX07fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQkMSh0LGUpe3JldHVybiB0PT09ZT8wOm51bGw9PT10Py0xOm51bGw9PT1lPzE6dDxlPy0xOjF9Y2xhc3MgZSQxe2NvbnN0cnVjdG9yKHQpe2NvbnN0IGU9dC5zcGxpdChcIixcIik7dGhpcy5fZmllbGRzPVtdLHRoaXMuX2RpcmVjdGlvbnM9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHQ9ZVtzXS5tYXRjaCgvXFxTKy9nKTt0aGlzLl9maWVsZHMucHVzaCh0WzBdKSwyPT09dC5sZW5ndGg/XCJhc2NcIj09PXRbMV0udG9Mb3dlckNhc2UoKT90aGlzLl9kaXJlY3Rpb25zLnB1c2goMSk6dGhpcy5fZGlyZWN0aW9ucy5wdXNoKDApOnRoaXMuX2RpcmVjdGlvbnMucHVzaCgxKTt9fWNvbnN0cnVjdENsYXVzZSgpe2xldCB0PVwiXCI7Zm9yKGxldCBlPTA7ZTx0aGlzLl9maWVsZHMubGVuZ3RoO2UrKykwIT09ZSYmKHQrPVwiLFwiKSx0Kz10aGlzLl9maWVsZHNbZV0sMT09PXRoaXMuX2RpcmVjdGlvbnNbZV0/dCs9XCIgQVNDXCI6dCs9XCIgREVTQ1wiO3JldHVybiB0fW9yZGVyKGUpe2Uuc29ydCgoKGUscyk9Pntmb3IobGV0IGk9MDtpPHRoaXMuX2ZpZWxkcy5sZW5ndGg7aSsrKXtjb25zdCByPXRoaXMuZmVhdHVyZVZhbHVlKGUuZmVhdHVyZSx0aGlzLl9maWVsZHNbaV0saSksbD10aGlzLmZlYXR1cmVWYWx1ZShzLmZlYXR1cmUsdGhpcy5fZmllbGRzW2ldLGkpO2xldCBvPTA7aWYobz0xPT09dGhpcy5fZGlyZWN0aW9uc1tpXT90JDEocixsKTotMSp0JDEocixsKSwwIT09bylyZXR1cm4gb31yZXR1cm4gMH0pKTt9c2NhbkZvckZpZWxkKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fZmllbGRzLmxlbmd0aDtlKyspaWYodGhpcy5fZmllbGRzW2VdLnRvTG93ZXJDYXNlKCkudHJpbSgpPT09dC50b0xvd2VyQ2FzZSgpLnRyaW0oKSlyZXR1cm4gITA7cmV0dXJuICExfXJlcGxhY2VGaWVsZHModCl7bGV0IHM9XCJcIjtmb3IobGV0IGU9MDtlPHRoaXMuX2ZpZWxkcy5sZW5ndGg7ZSsrKXswIT09ZSYmKHMrPVwiLFwiKTtsZXQgaT10aGlzLl9maWVsZHNbZV07Zm9yKGNvbnN0IGUgb2YgdClpZihpLnRvTG93ZXJDYXNlKCk9PT1lLmZpZWxkLnRvTG93ZXJDYXNlKCkpe2k9ZS5uZXdmaWVsZDticmVha31zKz1pLDE9PT10aGlzLl9kaXJlY3Rpb25zW2VdP3MrPVwiIEFTQ1wiOnMrPVwiIERFU0NcIjt9cmV0dXJuIG5ldyBlJDEocyl9ZmVhdHVyZVZhbHVlKHQsZSxzKXtjb25zdCBpPXQuYXR0cmlidXRlc1tlXTtpZih2b2lkIDAhPT1pKXJldHVybiBpO2Zvcihjb25zdCByIGluIHQuYXR0cmlidXRlcylpZihlLnRvTG93ZXJDYXNlKCk9PT1yLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHRoaXMuX2ZpZWxkc1tzXT1yLHQuYXR0cmlidXRlc1tyXTtyZXR1cm4gbnVsbH19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBhJDMgZXh0ZW5kcyB2JDJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fb3JkZXJieWNsYXVzZT1udWxsLHRoaXMuZGVjbGFyZWRDbGFzcz1cImVzcmkuYXJjYWRlLmZlYXR1cmVzZXQuYWN0aW9ucy5PcmRlckJ5XCIsdGhpcy5fbWF4UHJvY2Vzc2luZz0xMDAsdGhpcy5fb3JkZXJieWNsYXVzZT1lLm9yZGVyYnljbGF1c2UsdGhpcy5fcGFyZW50PWUucGFyZW50ZmVhdHVyZXNldDt9X2dldFNldCh0KXtyZXR1cm4gbnVsbD09PXRoaXMuX3dzZXQ/dGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9PnRoaXMuX2dldEZpbHRlcmVkU2V0KFwiXCIsbnVsbCxudWxsLHRoaXMuX29yZGVyYnljbGF1c2UsdCkpKS50aGVuKChlPT4odGhpcy5fY2hlY2tDYW5jZWxsZWQodCksdGhpcy5fd3NldD1lLHRoaXMuX3dzZXQpKSk6eCQxKHRoaXMuX3dzZXQpfW1hbnVhbE9yZGVyU2V0KGUsdCl7cmV0dXJuIHRoaXMuZ2V0SWRDb2x1bW5EaWN0aW9uYXJ5KGUsW10sLTEsdCkudGhlbigoZT0+e3RoaXMuX29yZGVyYnljbGF1c2Uub3JkZXIoZSk7Y29uc3QgdD1uZXcgdCQyKFtdLFtdLCEwLG51bGwpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXQuX2tub3duLnB1c2goZVtyXS5pZCk7cmV0dXJuIHR9KSl9Z2V0SWRDb2x1bW5EaWN0aW9uYXJ5KHQsbixzLGkpe2lmKHM8dC5fa25vd24ubGVuZ3RoLTEpe2NvbnN0IGU9dGhpcy5fbWF4UXVlcnlSYXRlKCk7aWYoXCJHRVRQQUdFU1wiPT09dC5fa25vd25bcysxXSlyZXR1cm4gaGUodGhpcy5fcGFyZW50Ll9leHBhbmRQYWdlZFNldCh0LGUsMCwwLGkpKS50aGVuKCgoKT0+dGhpcy5nZXRJZENvbHVtbkRpY3Rpb25hcnkodCxuLHMsaSkpKTtsZXQgYT1zKzE7Y29uc3Qgbz1bXTtmb3IoO2E8dC5fa25vd24ubGVuZ3RoJiZcIkdFVFBBR0VTXCIhPT10Ll9rbm93blthXTspby5wdXNoKHQuX2tub3duW2FdKSxhKys7cmV0dXJuIHMrPW8ubGVuZ3RoLGhlKHRoaXMuX3BhcmVudC5fZ2V0RmVhdHVyZUJhdGNoKG8saSkpLnRoZW4oKGU9Pnt0aGlzLl9jaGVja0NhbmNlbGxlZChpKTtmb3IoY29uc3QgdCBvZiBlKW4ucHVzaCh7aWQ6dC5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF0sZmVhdHVyZTp0fSk7cmV0dXJuIHRoaXMuZ2V0SWRDb2x1bW5EaWN0aW9uYXJ5KHQsbixzLGkpfSkpfXJldHVybiB0Ll9jYW5kaWRhdGVzLmxlbmd0aD4wP2hlKHRoaXMuX3JlZmluZVNldEJsb2NrKHQsdGhpcy5fbWF4UHJvY2Vzc2luZ1JhdGUoKSxpKSkudGhlbigoKCk9Pih0aGlzLl9jaGVja0NhbmNlbGxlZChpKSx0aGlzLmdldElkQ29sdW1uRGljdGlvbmFyeSh0LG4scyxpKSkpKTp4JDEobil9X2lzSW5GZWF0dXJlU2V0KGUpe3JldHVybiB0aGlzLl9wYXJlbnQuX2lzSW5GZWF0dXJlU2V0KGUpfV9nZXRGZWF0dXJlcyhlLHQscixuKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlcyhlLHQscixuKX1fZmVhdHVyZUZyb21DYWNoZShlKXtpZih2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbZV0pe2NvbnN0IHQ9dGhpcy5fcGFyZW50Ll9mZWF0dXJlRnJvbUNhY2hlKGUpO2lmKHZvaWQgMD09PXQpcmV0dXJuO3JldHVybiBudWxsPT09dD9udWxsOih0aGlzLl9mZWF0dXJlQ2FjaGVbZV09dCx0KX1yZXR1cm4gdGhpcy5fZmVhdHVyZUNhY2hlW2VdfV9mZXRjaEFuZFJlZmluZUZlYXR1cmVzKCl7cmV0dXJuIEwobmV3IEVycm9yKFwiRmV0Y2ggYW5kIFJlZmluZSBzaG91bGQgbm90IGJlIGNhbGxlZCBpbiB0aGlzIGZlYXR1cmVzZXRcIikpfV9nZXRGaWx0ZXJlZFNldChlLHQscixzLGkpe3JldHVybiB0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5fcGFyZW50Ll9nZXRGaWx0ZXJlZFNldChlLHQscixudWxsPT09cz90aGlzLl9vcmRlcmJ5Y2xhdXNlOnMsaSkpKS50aGVuKChlPT57dGhpcy5fY2hlY2tDYW5jZWxsZWQoaSk7Y29uc3Qgcz1uZXcgdCQyKGUuX2NhbmRpZGF0ZXMuc2xpY2UoMCksZS5fa25vd24uc2xpY2UoMCksZS5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKGUucGFnZXNEZWZpbml0aW9uKSk7bGV0IGE9ITA7cmV0dXJuIGUuX2NhbmRpZGF0ZXMubGVuZ3RoPjAmJihhPSExKSwhMT09PXMuX29yZGVyZWQ/dGhpcy5tYW51YWxPcmRlclNldChzLGkpLnRoZW4oKGU9PighMT09PWEmJihudWxsPT09dCYmbnVsbD09PXJ8fChlPW5ldyB0JDIoZS5fY2FuZGlkYXRlcy5zbGljZSgwKS5jb25jYXQoZS5fa25vd24uc2xpY2UoMCkpLFtdLGUuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihlLnBhZ2VzRGVmaW5pdGlvbikpKSksZSkpKTpzfSkpfXN0YXRpYyByZWdpc3RlckFjdGlvbigpe3YkMi5fZmVhdHVyZXNldEZ1bmN0aW9ucy5vcmRlckJ5PWZ1bmN0aW9uKGUpe3JldHVybiBcIlwiPT09ZT90aGlzOm5ldyBhJDMoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcyxvcmRlcmJ5Y2xhdXNlOm5ldyBlJDEoZSl9KX07fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIG17Y29uc3RydWN0b3IoKXt0aGlzLnNxbFJld3JpdGFibGU9ITE7fXBvc3RJbml0aWFsaXphdGlvbihlLHQpe319Y2xhc3MgdyQxIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuZmllbGQ9ZSx0aGlzLnNxbFJld3JpdGFibGU9ITA7fWV4dHJhY3RWYWx1ZShlKXtyZXR1cm4gZS5hdHRyaWJ1dGVzW3RoaXMuZmllbGQubmFtZV19cmV3cml0ZVNxbChlKXtyZXR1cm4ge3Jld3JpdHRlbjp0aGlzLnNxbFJld3JpdGFibGUsd2hlcmU6ZX19fWNsYXNzIHYkMSBleHRlbmRzIG17Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKCksdGhpcy5vcmlnaW5hbEZpZWxkPWUsdGhpcy5zcWxSZXdyaXRhYmxlPSEwLHRoaXMuZmllbGQ9cyQyKGUpLHRoaXMuZmllbGQubmFtZT10LHRoaXMuZmllbGQuYWxpYXM9cjt9cmV3cml0ZVNxbChlLHQpe3JldHVybiB7cmV3cml0dGVuOnRoaXMuc3FsUmV3cml0YWJsZSx3aGVyZTpzJDMoZSx0aGlzLmZpZWxkLm5hbWUsdGhpcy5vcmlnaW5hbEZpZWxkLm5hbWUsdC5nZXRGaWVsZHNJbmRleCgpKX19ZXh0cmFjdFZhbHVlKGUpe3JldHVybiBlLmF0dHJpYnV0ZXNbdGhpcy5vcmlnaW5hbEZpZWxkLm5hbWVdfX1jbGFzcyBDJDIgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUsdCxyKXtzdXBlcigpLHRoaXMuZmllbGQ9ZSx0aGlzLmNvZGVmaWVsZD10LHRoaXMubGtwPXIsdGhpcy5yZXZlcnNlTGtwPXt9O2Zvcihjb25zdCBzIGluIHIpdGhpcy5yZXZlcnNlTGtwW3Jbc11dPXM7dGhpcy5zcWxSZXdyaXRhYmxlPSEwO31yZXdyaXRlU3FsKGUsdCl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5wYXJzZVRyZWUsbyQyLlN0YW5kYXJkaXNlZCx0aGlzLmZpZWxkLm5hbWUsdGhpcy5jb2RlZmllbGQgaW5zdGFuY2VvZiBmJDE/biQyKHRoaXMuY29kZWZpZWxkLG8kMi5TdGFuZGFyZGlzZWQpOnRoaXMuY29kZWZpZWxkLGUucGFyYW1ldGVycyk7cmV0dXJuIHIuaW5kZXhPZihDJDIuQkFETkVTUyk+PTA/e3Jld3JpdHRlbjohMSx3aGVyZTplfTp7cmV3cml0dGVuOnRoaXMuc3FsUmV3cml0YWJsZSx3aGVyZTpmJDEuY3JlYXRlKHIsdC5fcGFyZW50LmdldEZpZWxkc0luZGV4KCkpfX1ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUsdCxyPW51bGwscz1udWxsLGkpe2xldCBhLGwsbixvO3N3aXRjaChlLnR5cGUpe2Nhc2VcImludGVydmFsXCI6cmV0dXJuIHckMih0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS52YWx1ZSx0LHIscyxpKSxlLnF1YWxpZmllcixlLm9wKTtjYXNlXCJjYXNlX2V4cHJlc3Npb25cIjp7bGV0IHM9XCIgQ0FTRSBcIjtcInNpbXBsZVwiPT09ZS5mb3JtYXQmJihzKz10aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5vcGVyYW5kLHQscixDJDIuQkFETkVTUyxpKSk7Zm9yKGxldCBhPTA7YTxlLmNsYXVzZXMubGVuZ3RoO2ErKylzKz1cIiBXSEVOIFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmNsYXVzZXNbYV0ub3BlcmFuZCx0LHIsQyQyLkJBRE5FU1MsaSkrXCIgVEhFTiBcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5jbGF1c2VzW2FdLnZhbHVlLHQscixDJDIuQkFETkVTUyxpKTtyZXR1cm4gbnVsbCE9PWUuZWxzZSYmKHMrPVwiIEVMU0UgXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUuZWxzZSx0LHIsQyQyLkJBRE5FU1MsaSkpLHMrPVwiIEVORCBcIixzfWNhc2VcInBhcmFtXCI6e2NvbnN0IHI9aVtlLnZhbHVlLnRvTG93ZXJDYXNlKCldO2lmKFwic3RyaW5nXCI9PXR5cGVvZiByKXtyZXR1cm4gXCInXCIraVtlLnZhbHVlLnRvTG93ZXJDYXNlKCldLnRvU3RyaW5nKCkucmVwbGFjZSgvJy9nLFwiJydcIikrXCInXCJ9aWYociBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIHUkMihyLHQpO2lmKHIgaW5zdGFuY2VvZiBBcnJheSl7Y29uc3QgZT1bXTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKylcInN0cmluZ1wiPT10eXBlb2YgcltzXT9lLnB1c2goXCInXCIrcltzXS50b1N0cmluZygpLnJlcGxhY2UoLycvZyxcIicnXCIpK1wiJ1wiKTpyW3NdaW5zdGFuY2VvZiBEYXRlP2UucHVzaCh1JDIocltzXSx0KSk6ZS5wdXNoKHJbc10udG9TdHJpbmcoKSk7cmV0dXJuIGV9cmV0dXJuIHIudG9TdHJpbmcoKX1jYXNlXCJleHByX2xpc3RcIjpsPVtdO2Zvcihjb25zdCBhIG9mIGUudmFsdWUpbC5wdXNoKHRoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShhLHQscixzLGkpKTtyZXR1cm4gbDtjYXNlXCJ1bmFyeV9leHByXCI6cmV0dXJuIFwiICggTk9UIFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmV4cHIsdCxyLEMkMi5CQURORVNTLGkpK1wiICkgXCI7Y2FzZVwiYmluYXJ5X2V4cHJcIjpzd2l0Y2goZS5vcGVyYXRvcil7Y2FzZVwiQU5EXCI6cmV0dXJuIFwiIChcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5sZWZ0LHQscixzLGkpK1wiIEFORCBcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5yaWdodCx0LHIscyxpKStcIikgXCI7Y2FzZVwiT1JcIjpyZXR1cm4gXCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLHMsaSkrXCIgT1IgXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUucmlnaHQsdCxyLHMsaSkrXCIpIFwiO2Nhc2VcIklTXCI6aWYoXCJudWxsXCIhPT1lLnJpZ2h0LnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgUkhTIGZvciBJU1wiKTtyZXR1cm4gXCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLHMsaSkrXCIgSVMgTlVMTCApXCI7Y2FzZVwiSVNOT1RcIjppZihcIm51bGxcIiE9PWUucmlnaHQudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBSSFMgZm9yIElTXCIpO3JldHVybiBcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIscyxpKStcIiBJUyBOT1QgTlVMTCApXCI7Y2FzZVwiSU5cIjppZihhPVtdLFwiZXhwcl9saXN0XCI9PT1lLnJpZ2h0LnR5cGUpe2lmKFwiY29sdW1uX3JlZlwiPT09ZS5sZWZ0LnR5cGUmJmUubGVmdC5jb2x1bW4udG9VcHBlckNhc2UoKT09PXRoaXMuZmllbGQubmFtZS50b1VwcGVyQ2FzZSgpKXtjb25zdCBhPVtdO2xldCBsPSEwO2Zvcihjb25zdCB0IG9mIGUucmlnaHQudmFsdWUpe2lmKFwic3RyaW5nXCIhPT10LnR5cGUpe2w9ITE7YnJlYWt9aWYodm9pZCAwPT09dGhpcy5sa3BbdC52YWx1ZV0pe2w9ITE7YnJlYWt9YS5wdXNoKHRoaXMubGtwW3QudmFsdWVdLnRvU3RyaW5nKCkpO31pZihsKXJldHVybiBcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIscyxpKStcIiBJTiAoXCIrYS5qb2luKFwiLFwiKStcIikpIFwifXJldHVybiBhPXRoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLnJpZ2h0LHQscixzLGkpLFwiIChcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5sZWZ0LHQscixzLGkpK1wiIElOIChcIithLmpvaW4oXCIsXCIpK1wiKSkgXCJ9cmV0dXJuIG89dGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUucmlnaHQsdCxyLHMsaSksbyBpbnN0YW5jZW9mIEFycmF5P1wiIChcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5sZWZ0LHQscixzLGkpK1wiIElOIChcIitvLmpvaW4oXCIsXCIpK1wiKSkgXCI6XCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLHMsaSkrXCIgSU4gKFwiK28rXCIpKSBcIjtjYXNlXCJOT1QgSU5cIjppZihhPVtdLFwiZXhwcl9saXN0XCI9PT1lLnJpZ2h0LnR5cGUpe2lmKFwiY29sdW1uX3JlZlwiPT09ZS5sZWZ0LnR5cGUmJmUubGVmdC5jb2x1bW4udG9VcHBlckNhc2UoKT09PXRoaXMuZmllbGQubmFtZS50b1VwcGVyQ2FzZSgpKXtjb25zdCBhPVtdO2xldCBsPSEwO2Zvcihjb25zdCB0IG9mIGUucmlnaHQudmFsdWUpe2lmKFwic3RyaW5nXCIhPT10LnR5cGUpe2w9ITE7YnJlYWt9aWYodm9pZCAwPT09dGhpcy5sa3BbdC52YWx1ZV0pe2w9ITE7YnJlYWt9YS5wdXNoKHRoaXMubGtwW3QudmFsdWVdLnRvU3RyaW5nKCkpO31pZihsKXJldHVybiBcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIscyxpKStcIiBOT1QgSU4gKFwiK2Euam9pbihcIixcIikrXCIpKSBcIn1yZXR1cm4gYT10aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5yaWdodCx0LHIscyxpKSxcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIscyxpKStcIiBOT1QgSU4gKFwiK2Euam9pbihcIixcIikrXCIpKSBcIn1yZXR1cm4gbz10aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5yaWdodCx0LHIscyxpKSxvIGluc3RhbmNlb2YgQXJyYXk/XCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLHMsaSkrXCIgTk9UIElOIChcIitvLmpvaW4oXCIsXCIpK1wiKSkgXCI6XCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLHMsaSkrXCIgTk9UIElOIChcIitvK1wiKSkgXCI7Y2FzZVwiQkVUV0VFTlwiOnJldHVybiBuPXRoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLnJpZ2h0LHQscixDJDIuQkFETkVTUyxpKSxcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIsQyQyLkJBRE5FU1MsaSkrXCIgQkVUV0VFTiBcIituWzBdK1wiIEFORCBcIituWzFdK1wiICkgXCI7Y2FzZVwiTk9UQkVUV0VFTlwiOnJldHVybiBuPXRoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLnJpZ2h0LHQscixDJDIuQkFETkVTUyxpKSxcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIsQyQyLkJBRE5FU1MsaSkrXCIgTk9UIEJFVFdFRU4gXCIrblswXStcIiBBTkQgXCIrblsxXStcIiApIFwiO2Nhc2VcIkxJS0VcIjpyZXR1cm4gXCJcIiE9PWUuZXNjYXBlP1wiIChcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5sZWZ0LHQscixDJDIuQkFETkVTUyxpKStcIiBMSUtFIFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLnJpZ2h0LHQscixDJDIuQkFETkVTUyxpKStcIiBFU0NBUEUgJ1wiK2UuZXNjYXBlK1wiJykgXCI6XCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLEMkMi5CQURORVNTLGkpK1wiIExJS0UgXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUucmlnaHQsdCxyLEMkMi5CQURORVNTLGkpK1wiKSBcIjtjYXNlXCJOT1QgTElLRVwiOnJldHVybiBcIlwiIT09ZS5lc2NhcGU/XCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLEMkMi5CQURORVNTLGkpK1wiIE5PVCBMSUtFIFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLnJpZ2h0LHQscixDJDIuQkFETkVTUyxpKStcIiBFU0NBUEUgJ1wiK2UuZXNjYXBlK1wiJykgXCI6XCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLEMkMi5CQURORVNTLGkpK1wiIE5PVCBMSUtFIFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLnJpZ2h0LHQscixDJDIuQkFETkVTUyxpKStcIikgXCI7Y2FzZVwiPD5cIjpjYXNlXCI9XCI6aWYoXCJjb2x1bW5fcmVmXCI9PT1lLmxlZnQudHlwZSYmXCJzdHJpbmdcIj09PWUucmlnaHQudHlwZSl7aWYoZS5sZWZ0LmNvbHVtbi50b1VwcGVyQ2FzZSgpPT09dGhpcy5maWVsZC5uYW1lLnRvVXBwZXJDYXNlKCkmJnZvaWQgMCE9PXRoaXMubGtwW2UucmlnaHQudmFsdWUudG9TdHJpbmcoKV0pcmV0dXJuIFwiIChcIitzK1wiIFwiK2Uub3BlcmF0b3IrXCIgXCIrdGhpcy5sa3BbZS5yaWdodC52YWx1ZS50b1N0cmluZygpXS50b1N0cmluZygpK1wiKSBcIn1lbHNlIGlmKFwiY29sdW1uX3JlZlwiPT09ZS5yaWdodC50eXBlJiZcInN0cmluZ1wiPT09ZS5sZWZ0LnR5cGUmJmUucmlnaHQuY29sdW1uLnRvVXBwZXJDYXNlKCk9PT10aGlzLmZpZWxkLm5hbWUudG9VcHBlckNhc2UoKSlyZXR1cm4gXCIgKFwiK3RoaXMubGtwW2UucmlnaHQudmFsdWUudG9TdHJpbmcoKV0udG9TdHJpbmcoKStcIiBcIitlLm9wZXJhdG9yK1wiIFwiK3MrXCIpIFwiO3JldHVybiBcIiAoXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUubGVmdCx0LHIsQyQyLkJBRE5FU1MsaSkrXCIgXCIrZS5vcGVyYXRvcitcIiBcIit0aGlzLmV2YWx1YXRlTm9kZVRvV2hlcmVDbGF1c2UoZS5yaWdodCx0LHIsQyQyLkJBRE5FU1MsaSkrXCIpIFwiO2Nhc2VcIjxcIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpjYXNlXCI8PVwiOmNhc2VcIipcIjpjYXNlXCItXCI6Y2FzZVwiK1wiOmNhc2VcIi9cIjpyZXR1cm4gXCIgKFwiK3RoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmxlZnQsdCxyLEMkMi5CQURORVNTLGkpK1wiIFwiK2Uub3BlcmF0b3IrXCIgXCIrdGhpcy5ldmFsdWF0ZU5vZGVUb1doZXJlQ2xhdXNlKGUucmlnaHQsdCxyLEMkMi5CQURORVNTLGkpK1wiKSBcIn10aHJvdyBuZXcgRXJyb3IoXCJOb3QgU3VwcG9ydGVkIE9wZXJhdG9yIFwiK2Uub3BlcmF0b3IpO2Nhc2VcIm51bGxcIjpyZXR1cm4gXCJudWxsXCI7Y2FzZVwiYm9vbFwiOnJldHVybiAhMD09PWUudmFsdWU/XCIxXCI6XCIwXCI7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIFwiJ1wiK2UudmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC8nL2csXCInJ1wiKStcIidcIjtjYXNlXCJ0aW1lc3RhbXBcIjpjYXNlXCJkYXRlXCI6cmV0dXJuIHUkMihlLnZhbHVlLHQpO2Nhc2VcIm51bWJlclwiOnJldHVybiBlLnZhbHVlLnRvU3RyaW5nKCk7Y2FzZVwiY3VycmVudF90aW1lXCI6cmV0dXJuIGkkMShcImRhdGVcIj09PWUubW9kZSx0KTtjYXNlXCJjb2x1bW5fcmVmXCI6cmV0dXJuIHImJnIudG9Mb3dlckNhc2UoKT09PWUuY29sdW1uLnRvTG93ZXJDYXNlKCk/XCIoXCIrcytcIilcIjplLmNvbHVtbjtjYXNlXCJmdW5jdGlvblwiOntjb25zdCBzPXRoaXMuZXZhbHVhdGVOb2RlVG9XaGVyZUNsYXVzZShlLmFyZ3MsdCxyLEMkMi5CQURORVNTLGkpO3JldHVybiBsJDIoZS5uYW1lLHMsdCl9fXRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHNxbCBzeW50YXggXCIrZS50eXBlKX1leHRyYWN0VmFsdWUoZSl7cmV0dXJuIHRoaXMuY29kZWZpZWxkIGluc3RhbmNlb2YgZiQxP3RoaXMucmV2ZXJzZUxrcFt0aGlzLmNvZGVmaWVsZC5jYWxjdWxhdGVWYWx1ZUNvbXBpbGVkKGUpXTp0aGlzLnJldmVyc2VMa3BbZS5hdHRyaWJ1dGVzW3RoaXMuY29kZWZpZWxkXV19fUMkMi5CQURORVNTPVwiXyEhIV9CQURfTEtQXyEhISFcIjtjbGFzcyBUJDEgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSx0aGlzLmZpZWxkPWUsdGhpcy5zcWw9dDt9cmV3cml0ZVNxbChlLHQpe3JldHVybiB7cmV3cml0dGVuOiEwLHdoZXJlOnMkMyhlLHRoaXMuZmllbGQubmFtZSxuJDIodGhpcy5zcWwsbyQyLlN0YW5kYXJkaXNlZCksdC5nZXRGaWVsZHNJbmRleCgpKX19ZXh0cmFjdFZhbHVlKGUpe3JldHVybiB0aGlzLnNxbC5jYWxjdWxhdGVWYWx1ZUNvbXBpbGVkKGUpfX1jbGFzcyBFJDEgZXh0ZW5kcyB2JDJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fY2FsY0Z1bmM9bnVsbCx0aGlzLmRlY2xhcmVkQ2xhc3M9XCJlc3JpLmFyY2FkZS5mZWF0dXJlc2V0LmFjdGlvbnMuQWRhcHRlZFwiLHRoaXMuYWRhcHRlZEZpZWxkcz1udWxsLHRoaXMuX2V4dHJhRmlsdGVyPW51bGwsdGhpcy5fZXh0cmFGaWx0ZXI9ZS5leHRyYUZpbHRlcix0aGlzLl9wYXJlbnQ9ZS5wYXJlbnRmZWF0dXJlc2V0LHRoaXMuX21heFByb2Nlc3Npbmc9MzAsdGhpcy5hZGFwdGVkRmllbGRzPWUuYWRhcHRlZEZpZWxkczt9c3RhdGljIGZpbmRGaWVsZChlLHQpe2Zvcihjb25zdCByIG9mIGUpaWYoci5uYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSlyZXR1cm4gcjtyZXR1cm4gbnVsbH1faW5pdGlhbGlzZUZlYXR1cmVTZXQoKXtudWxsIT09dGhpcy5fcGFyZW50Pyh0aGlzLmdlb21ldHJ5VHlwZT10aGlzLl9wYXJlbnQuZ2VvbWV0cnlUeXBlLHRoaXMub2JqZWN0SWRGaWVsZD10aGlzLl9wYXJlbnQub2JqZWN0SWRGaWVsZCx0aGlzLmdsb2JhbElkRmllbGQ9dGhpcy5fcGFyZW50Lmdsb2JhbElkRmllbGQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuX3BhcmVudC5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuaGFzTT10aGlzLl9wYXJlbnQuaGFzTSx0aGlzLmhhc1o9dGhpcy5fcGFyZW50Lmhhc1osdGhpcy50eXBlSWRGaWVsZD10aGlzLl9wYXJlbnQudHlwZUlkRmllbGQsdGhpcy50eXBlcz10aGlzLl9wYXJlbnQudHlwZXMpOih0aGlzLnNwYXRpYWxSZWZlcmVuY2U9bmV3IGskMSh7d2tpZDo0MzI2fSksdGhpcy5vYmplY3RJZEZpZWxkPVwiXCIsdGhpcy5nbG9iYWxJZEZpZWxkPVwiXCIsdGhpcy5nZW9tZXRyeVR5cGU9SS5wb2ludCx0aGlzLnR5cGVJZEZpZWxkPVwiXCIsdGhpcy50eXBlcz1udWxsKSx0aGlzLmZpZWxkcz1bXTtmb3IoY29uc3QgZSBvZiB0aGlzLmFkYXB0ZWRGaWVsZHMpZS5wb3N0SW5pdGlhbGl6YXRpb24odGhpcyx0aGlzLl9wYXJlbnQpLHRoaXMuZmllbGRzLnB1c2goZS5maWVsZCk7fV9nZXRTZXQodCl7cmV0dXJuIG51bGw9PT10aGlzLl93c2V0P3RoaXMuX2Vuc3VyZUxvYWRlZCgpLnRoZW4oKCgpPT50aGlzLl9leHRyYUZpbHRlcj90aGlzLl9nZXRGaWx0ZXJlZFNldChcIlwiLG51bGwsbnVsbCxudWxsLHQpOnRoaXMuX3BhcmVudC5fZ2V0U2V0KHQpKSkudGhlbigoZT0+KHRoaXMuX2NoZWNrQ2FuY2VsbGVkKHQpLHRoaXMuX3dzZXQ9bmV3IHQkMihlLl9jYW5kaWRhdGVzLnNsaWNlKDApLGUuX2tub3duLnNsaWNlKDApLGUuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihlLnBhZ2VzRGVmaW5pdGlvbikpLHRoaXMuX3dzZXQpKSk6eCQxKHRoaXMuX3dzZXQpfV9pc0luRmVhdHVyZVNldChlKXtyZXR1cm4gdGhpcy5fcGFyZW50Ll9pc0luRmVhdHVyZVNldChlKX1fZ2V0RmVhdHVyZXModCxyLGksYSl7Y29uc3QgbD1bXTstMSE9PXImJnZvaWQgMD09PXRoaXMuX2ZlYXR1cmVDYWNoZVtyXSYmbC5wdXNoKHIpO2NvbnN0IGg9dGhpcy5fbWF4UXVlcnlSYXRlKCk7aWYoITA9PT10aGlzLl9jaGVja0lmTmVlZFRvRXhwYW5kS25vd25QYWdlKHQsaCkpcmV0dXJuIHRoaXMuX2V4cGFuZFBhZ2VkU2V0KHQsaCwwLDAsYSkudGhlbigoKCk9PnRoaXMuX2dldEZlYXR1cmVzKHQscixpLGEpKSk7bGV0IHU9MDtmb3IobGV0IGU9dC5fbGFzdEZldGNoZWRJbmRleDtlPHQuX2tub3duLmxlbmd0aCYmKHUrKyx1PD1pJiYodC5fbGFzdEZldGNoZWRJbmRleCs9MSksISh2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbdC5fa25vd25bZV1dJiYodC5fa25vd25bZV0hPT1yJiZsLnB1c2godC5fa25vd25bZV0pLGwubGVuZ3RoPj1oLTEpKSk7ZSsrKTtpZigwPT09bC5sZW5ndGgpcmV0dXJuIHgkMShcInN1Y2Nlc3NcIik7dD1uZXcgdCQyKFtdLGwsdC5fb3JkZXJlZCxudWxsKTtjb25zdCBkPU1hdGgubWluKGwubGVuZ3RoLGkpO3JldHVybiB0aGlzLl9wYXJlbnQuX2dldEZlYXR1cmVzKHQsLTEsZCxhKS50aGVuKCgoKT0+e3RoaXMuX2NoZWNrQ2FuY2VsbGVkKGEpO2NvbnN0IGU9W107Zm9yKGxldCB0PTA7dDxkO3QrKyl7Y29uc3Qgcj10aGlzLl9wYXJlbnQuX2ZlYXR1cmVGcm9tQ2FjaGUobFt0XSk7dm9pZCAwIT09ciYmZS5wdXNoKHtnZW9tZXRyeTpyLmdlb21ldHJ5LGF0dHJpYnV0ZXM6ci5hdHRyaWJ1dGVzLGlkOmxbdF19KTt9Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBvZiB0aGlzLmFkYXB0ZWRGaWVsZHMpZVtyLmZpZWxkLm5hbWVdPXIuZXh0cmFjdFZhbHVlKHQpO3RoaXMuX2ZlYXR1cmVDYWNoZVt0LmlkXT1uZXcgbiQzKHthdHRyaWJ1dGVzOmUsZ2VvbWV0cnk6YyQxKHQuZ2VvbWV0cnkpfSk7fXJldHVybiBcInN1Y2Nlc3NcIn0pKX1fZmV0Y2hBbmRSZWZpbmVGZWF0dXJlcygpe3JldHVybiBMKG5ldyBFcnJvcihcIkZldGNoIGFuZCBSZWZpbmUgc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gdGhpcyBmZWF0dXJlc2V0XCIpKX1fZ2V0RmlsdGVyZWRTZXQoZSx0LHIscyxpKXtsZXQgYT0hMTtjb25zdCBsPXRoaXMucmVmb3JtdWxhdGVXaXRob3V0QWRhcHRpb25zKHIpO2E9bC5jYW5ub3Qscj1sLndoZXJlO2xldCBuPSExO2lmKG51bGwhPT1zKXtuPSEwO2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5hZGFwdGVkRmllbGRzKWlmKCEodCBpbnN0YW5jZW9mIHckMSkmJiEwPT09cy5zY2FuRm9yRmllbGQodC5maWVsZC5uYW1lKSl7aWYoISh0IGluc3RhbmNlb2YgdiQxKSl7cz1udWxsLG49ITE7YnJlYWt9ZS5wdXNoKHtmaWVsZDp0LmZpZWxkLm5hbWUsbmV3ZmllbGQ6dC5vcmlnaW5hbEZpZWxkLm5hbWV9KTt9cyYmZS5sZW5ndGg+MCYmKHM9cy5yZXBsYWNlRmllbGRzKGUpKTt9cmV0dXJuIG51bGwhPT1yP251bGwhPT10aGlzLl9leHRyYUZpbHRlciYmKHI9byQxKHRoaXMuX2V4dHJhRmlsdGVyLHIpKTpyPXRoaXMuX2V4dHJhRmlsdGVyLHRoaXMuX2Vuc3VyZUxvYWRlZCgpLnRoZW4oKCgpPT50aGlzLl9wYXJlbnQuX2dldEZpbHRlcmVkU2V0KGUsdCxyLHMsaSkpKS50aGVuKChlPT57bGV0IHQ7cmV0dXJuIHRoaXMuX2NoZWNrQ2FuY2VsbGVkKGkpLHQ9ITA9PT1hP25ldyB0JDIoZS5fY2FuZGlkYXRlcy5zbGljZSgwKS5jb25jYXQoZS5fa25vd24uc2xpY2UoMCkpLFtdLCEwPT09biYmZS5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKGUucGFnZXNEZWZpbml0aW9uKSk6bmV3IHQkMihlLl9jYW5kaWRhdGVzLnNsaWNlKDApLGUuX2tub3duLnNsaWNlKDApLCEwPT09biYmZS5fb3JkZXJlZCx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKGUucGFnZXNEZWZpbml0aW9uKSksdH0pKX1yZWZvcm11bGF0ZVdpdGhvdXRBZGFwdGlvbnMoZSl7Y29uc3QgdD17Y2Fubm90OiExLHdoZXJlOmV9O2lmKG51bGwhPT1lKWZvcihjb25zdCByIG9mIHRoaXMuYWRhcHRlZEZpZWxkcylpZighMD09PWgkMShlLHIuZmllbGQubmFtZSkpe2NvbnN0IHM9ci5yZXdyaXRlU3FsKGUsdGhpcyk7aWYoITAhPT1zLnJld3JpdHRlbil7dC5jYW5ub3Q9ITAsdC53aGVyZT1udWxsO2JyZWFrfXQud2hlcmU9cy53aGVyZTt9cmV0dXJuIHR9X3N0YXQodCxyLHMsaSxhLGwsbil7bGV0IG89ITEsaD10aGlzLnJlZm9ybXVsYXRlV2l0aG91dEFkYXB0aW9ucyhyKTtyZXR1cm4gbz1oLmNhbm5vdCxyPWgud2hlcmUsaD10aGlzLnJlZm9ybXVsYXRlV2l0aG91dEFkYXB0aW9ucyhhKSxvPW98fGguY2Fubm90LG51bGwhPT0oYT1oLndoZXJlKT9udWxsIT09dGhpcy5fZXh0cmFGaWx0ZXImJihhPW8kMSh0aGlzLl9leHRyYUZpbHRlcixhKSk6YT10aGlzLl9leHRyYUZpbHRlciwhMD09PW8/bnVsbD09PWEmJlwiXCI9PT1zJiZudWxsPT09aT90aGlzLl9tYW51YWxTdGF0KHQscixsLG4pOngkMSh7Y2FsY3VsYXRlZDohMX0pOnRoaXMuX3BhcmVudC5fc3RhdCh0LHIscyxpLGEsbCxuKS50aGVuKChlPT4hMT09PWUuY2FsY3VsYXRlZD9udWxsPT09YSYmXCJcIj09PXMmJm51bGw9PT1pP3RoaXMuX21hbnVhbFN0YXQodCxyLGwsbik6e2NhbGN1bGF0ZWQ6ITF9OmUpKX1fY2FuRG9BZ2dyZWdhdGVzKHQscixzLGksYSl7aWYobnVsbD09PXRoaXMuX3BhcmVudClyZXR1cm4geCQxKCExKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKylmb3IoY29uc3QgciBvZiB0aGlzLmFkYXB0ZWRGaWVsZHMpaWYodFtvXS50b0xvd2VyQ2FzZSgpPT09ci5maWVsZC5uYW1lLnRvTG93ZXJDYXNlKCkmJiEociBpbnN0YW5jZW9mIHckMSkpcmV0dXJuIHgkMSghMSk7Y29uc3QgbD1bXTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rKyl7Y29uc3QgdD1yW29dO2lmKG51bGwhPT10LndvcmtpbmdleHByKXtjb25zdCByPXRoaXMucmVmb3JtdWxhdGVXaXRob3V0QWRhcHRpb25zKHQud29ya2luZ2V4cHIpO2lmKHIuY2Fubm90KXJldHVybiB4JDEoITEpO2NvbnN0IHM9dC5jbG9uZSgpO3Mud29ya2luZ2V4cHI9ci53aGVyZSxsLnB1c2gocyk7fWVsc2UgbC5wdXNoKHQpO31jb25zdCBuPXRoaXMucmVmb3JtdWxhdGVXaXRob3V0QWRhcHRpb25zKGEpO3JldHVybiBuLmNhbm5vdD94JDEoITEpOihudWxsIT09KGE9bi53aGVyZSk/bnVsbCE9PXRoaXMuX2V4dHJhRmlsdGVyJiYoYT1vJDEodGhpcy5fZXh0cmFGaWx0ZXIsYSkpOmE9dGhpcy5fZXh0cmFGaWx0ZXIsdGhpcy5fcGFyZW50Ll9jYW5Eb0FnZ3JlZ2F0ZXModCxsLHMsaSxhKSl9X2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSxyLHMsaSxhLGwsbil7aWYobnVsbD09PXRoaXMuX3BhcmVudClyZXR1cm4gTChuZXcgRXJyb3IoXCJTaG91bGQgbmV2ZXIgYmUgY2FsbGVkXCIpKTtjb25zdCBvPVtdO2ZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKXtjb25zdCBlPXJbdV07aWYobnVsbCE9PWUud29ya2luZ2V4cHIpe2NvbnN0IHI9dGhpcy5yZWZvcm11bGF0ZVdpdGhvdXRBZGFwdGlvbnMoZS53b3JraW5nZXhwcik7aWYoci5jYW5ub3QpcmV0dXJuIEwobmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGJlIGNhbGxlZFwiKSk7Y29uc3Qgcz1lLmNsb25lKCk7cy53b3JraW5nZXhwcj1yLndoZXJlLG8ucHVzaChzKTt9ZWxzZSBvLnB1c2goZSk7fWNvbnN0IGg9dGhpcy5yZWZvcm11bGF0ZVdpdGhvdXRBZGFwdGlvbnMoYSk7cmV0dXJuIGguY2Fubm90P0wobmV3IEVycm9yKFwiU2hvdWxkIG5ldmVyIGJlIGNhbGxlZFwiKSk6KG51bGwhPT0oYT1oLndoZXJlKT9udWxsIT09dGhpcy5fZXh0cmFGaWx0ZXImJihhPW8kMSh0aGlzLl9leHRyYUZpbHRlcixhKSk6YT10aGlzLl9leHRyYUZpbHRlcix0aGlzLl9wYXJlbnQuX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24oZSxvLHMsaSxhLGwsbikpfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4kMShuKXtpZihcImZ1bmN0aW9uXCI9PT1uLnBhcnNlVHJlZS50eXBlKXtpZigwPT09bi5wYXJzZVRyZWUuYXJncy52YWx1ZS5sZW5ndGgpcmV0dXJuIHtuYW1lOm4ucGFyc2VUcmVlLm5hbWUsZXhwcjpudWxsfTtpZihuLnBhcnNlVHJlZS5hcmdzLnZhbHVlLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIlN0YXRpc3RpYyBkb2VzIG5vdCBoYXZlIDEgb3IgMCBQYXJhbWV0ZXJzXCIpO2NvbnN0IGE9ZiQxLmNyZWF0ZShhJDQobi5wYXJzZVRyZWUuYXJncy52YWx1ZVswXSxvJDIuU3RhbmRhcmRpc2VkLG4ucGFyYW1ldGVycyksbi5maWVsZHNJbmRleCk7cmV0dXJuIHtuYW1lOm4ucGFyc2VUcmVlLm5hbWUsZXhwcjphfX1yZXR1cm4gbnVsbH1jbGFzcyBhJDJ7Y2xvbmUoKXtjb25zdCBlPW5ldyBhJDI7cmV0dXJuIGUuZmllbGQ9dGhpcy5maWVsZCxlLnRvZmllbGRuYW1lPXRoaXMudG9maWVsZG5hbWUsZS50eXBlb2ZzdGF0PXRoaXMudHlwZW9mc3RhdCxlLndvcmtpbmdleHByPXRoaXMud29ya2luZ2V4cHIsZX1zdGF0aWMgcGFyc2VTdGF0RmllbGQoZSx0LGkpe2NvbnN0IHM9bmV3IGEkMjtzLmZpZWxkPWU7Y29uc3Qgbz1mJDEuY3JlYXRlKHQsaSksbD1uJDEobyk7aWYobnVsbD09PWwpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdGF0aXN0aWMgRnVuY3Rpb25cIik7Y29uc3QgcD1sLm5hbWUudG9VcHBlckNhc2UoKS50cmltKCk7aWYoXCJNSU5cIj09PXApe2lmKHMudHlwZW9mc3RhdD1cIk1JTlwiLHMud29ya2luZ2V4cHI9bC5leHByLG51bGw9PT1vKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3RhdGlzdGljIEZ1bmN0aW9uIFBhcmFtZXRlcnNcIil9ZWxzZSBpZihcIk1BWFwiPT09cCl7aWYocy50eXBlb2ZzdGF0PVwiTUFYXCIscy53b3JraW5nZXhwcj1sLmV4cHIsbnVsbD09PW8pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdGF0aXN0aWMgRnVuY3Rpb24gUGFyYW1ldGVyc1wiKX1lbHNlIGlmKFwiQ09VTlRcIj09PXApcy50eXBlb2ZzdGF0PVwiQ09VTlRcIixzLndvcmtpbmdleHByPWwuZXhwcjtlbHNlIGlmKFwiU1RERVZcIj09PXApe2lmKHMudHlwZW9mc3RhdD1cIlNURERFVlwiLHMud29ya2luZ2V4cHI9bC5leHByLG51bGw9PT1vKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3RhdGlzdGljIEZ1bmN0aW9uIFBhcmFtZXRlcnNcIil9ZWxzZSBpZihcIlNVTVwiPT09cCl7aWYocy50eXBlb2ZzdGF0PVwiU1VNXCIscy53b3JraW5nZXhwcj1sLmV4cHIsbnVsbD09PW8pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdGF0aXN0aWMgRnVuY3Rpb24gUGFyYW1ldGVyc1wiKX1lbHNlIGlmKFwiTUVBTlwiPT09cCl7aWYocy50eXBlb2ZzdGF0PVwiQVZHXCIscy53b3JraW5nZXhwcj1sLmV4cHIsbnVsbD09PW8pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdGF0aXN0aWMgRnVuY3Rpb24gUGFyYW1ldGVyc1wiKX1lbHNlIGlmKFwiQVZHXCI9PT1wKXtpZihzLnR5cGVvZnN0YXQ9XCJBVkdcIixzLndvcmtpbmdleHByPWwuZXhwcixudWxsPT09byl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFN0YXRpc3RpYyBGdW5jdGlvbiBQYXJhbWV0ZXJzXCIpfWVsc2Uge2lmKFwiVkFSXCIhPT1wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3RhdGlzdGljIEZ1bmN0aW9uXCIpO2lmKHMudHlwZW9mc3RhdD1cIlZBUlwiLHMud29ya2luZ2V4cHI9bC5leHByLG51bGw9PT1vKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3RhdGlzdGljIEZ1bmN0aW9uIFBhcmFtZXRlcnNcIil9cmV0dXJuIHN9dG9TdGF0aXN0aWNzTmFtZSgpe3N3aXRjaCh0aGlzLnR5cGVvZnN0YXQudG9VcHBlckNhc2UoKSl7Y2FzZVwiTUlOXCI6cmV0dXJuIFwibWluXCI7Y2FzZVwiTUFYXCI6cmV0dXJuIFwibWF4XCI7Y2FzZVwiU1VNXCI6cmV0dXJuIFwic3VtXCI7Y2FzZVwiQ09VTlRcIjpyZXR1cm4gXCJjb3VudFwiO2Nhc2VcIlZBUlwiOnJldHVybiBcInZhclwiO2Nhc2VcIlNURERFVlwiOnJldHVybiBcInN0ZGRldlwiO2Nhc2VcIkFWR1wiOnJldHVybiBcImF2Z1wiO2RlZmF1bHQ6cmV0dXJuIFwiY291bnRcIn19fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3Qgbj17QmFzZTY0OjAsSGV4OjEsU3RyaW5nOjIsUmF3OjN9LHQ9OCxyPSgxPDx0KS0xO2Z1bmN0aW9uIGUobix0KXtjb25zdCByPSg2NTUzNSZuKSsoNjU1MzUmdCk7cmV0dXJuIChuPj4xNikrKHQ+PjE2KSsocj4+MTYpPDwxNnw2NTUzNSZyfWZ1bmN0aW9uIG8obil7Y29uc3QgZT1bXTtmb3IobGV0IG89MCx1PW4ubGVuZ3RoKnQ7bzx1O28rPXQpZVtvPj41XXw9KG4uY2hhckNvZGVBdChvL3QpJnIpPDxvJTMyO3JldHVybiBlfWZ1bmN0aW9uIHUkMShuKXtjb25zdCBlPVtdO2ZvcihsZXQgbz0wLHU9MzIqbi5sZW5ndGg7bzx1O28rPXQpZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUobltvPj41XT4+Pm8lMzImcikpO3JldHVybiBlLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhuKXtjb25zdCB0PVwiMDEyMzQ1Njc4OWFiY2RlZlwiLHI9W107Zm9yKGxldCBlPTAsbz00Km4ubGVuZ3RoO2U8bztlKyspci5wdXNoKHQuY2hhckF0KG5bZT4+Ml0+PmUlNCo4KzQmMTUpK3QuY2hhckF0KG5bZT4+Ml0+PmUlNCo4JjE1KSk7cmV0dXJuIHIuam9pbihcIlwiKX1mdW5jdGlvbiBmKG4pe2NvbnN0IHQ9XCI9XCIscj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixlPVtdO2ZvcihsZXQgbz0wLHU9NCpuLmxlbmd0aDtvPHU7bys9Myl7Y29uc3QgdT0obltvPj4yXT4+byU0KjgmMjU1KTw8MTZ8KG5bbysxPj4yXT4+KG8rMSklNCo4JjI1NSk8PDh8bltvKzI+PjJdPj4obysyKSU0KjgmMjU1O2ZvcihsZXQgYz0wO2M8NDtjKyspOCpvKzYqYz4zMipuLmxlbmd0aD9lLnB1c2godCk6ZS5wdXNoKHIuY2hhckF0KHU+PjYqKDMtYykmNjMpKTt9cmV0dXJuIGUuam9pbihcIlwiKX1mdW5jdGlvbiBzKG4sdCl7cmV0dXJuIG48PHR8bj4+PjMyLXR9ZnVuY3Rpb24gaShuLHQscixvLHUsYyl7cmV0dXJuIGUocyhlKGUodCxuKSxlKG8sYykpLHUpLHIpfWZ1bmN0aW9uIGgobix0LHIsZSxvLHUsYyl7cmV0dXJuIGkodCZyfH50JmUsbix0LG8sdSxjKX1mdW5jdGlvbiBhJDEobix0LHIsZSxvLHUsYyl7cmV0dXJuIGkodCZlfHImfmUsbix0LG8sdSxjKX1mdW5jdGlvbiBsKG4sdCxyLGUsbyx1LGMpe3JldHVybiBpKHRecl5lLG4sdCxvLHUsYyl9ZnVuY3Rpb24gZyQxKG4sdCxyLGUsbyx1LGMpe3JldHVybiBpKHJeKHR8fmUpLG4sdCxvLHUsYyl9ZnVuY3Rpb24gcChuLHQpe25bdD4+NV18PTEyODw8dCUzMixuWzE0Kyh0KzY0Pj4+OTw8NCldPXQ7bGV0IHI9MTczMjU4NDE5MyxvPS0yNzE3MzM4NzksdT0tMTczMjU4NDE5NCxjPTI3MTczMzg3ODtmb3IobGV0IGY9MDtmPG4ubGVuZ3RoO2YrPTE2KXtjb25zdCB0PXIscz1vLGk9dSxwPWM7cj1oKHIsbyx1LGMsbltmKzBdLDcsLTY4MDg3NjkzNiksYz1oKGMscixvLHUsbltmKzFdLDEyLC0zODk1NjQ1ODYpLHU9aCh1LGMscixvLG5bZisyXSwxNyw2MDYxMDU4MTkpLG89aChvLHUsYyxyLG5bZiszXSwyMiwtMTA0NDUyNTMzMCkscj1oKHIsbyx1LGMsbltmKzRdLDcsLTE3NjQxODg5NyksYz1oKGMscixvLHUsbltmKzVdLDEyLDEyMDAwODA0MjYpLHU9aCh1LGMscixvLG5bZis2XSwxNywtMTQ3MzIzMTM0MSksbz1oKG8sdSxjLHIsbltmKzddLDIyLC00NTcwNTk4Mykscj1oKHIsbyx1LGMsbltmKzhdLDcsMTc3MDAzNTQxNiksYz1oKGMscixvLHUsbltmKzldLDEyLC0xOTU4NDE0NDE3KSx1PWgodSxjLHIsbyxuW2YrMTBdLDE3LC00MjA2Myksbz1oKG8sdSxjLHIsbltmKzExXSwyMiwtMTk5MDQwNDE2Mikscj1oKHIsbyx1LGMsbltmKzEyXSw3LDE4MDQ2MDM2ODIpLGM9aChjLHIsbyx1LG5bZisxM10sMTIsLTQwMzQxMTAxKSx1PWgodSxjLHIsbyxuW2YrMTRdLDE3LC0xNTAyMDAyMjkwKSxvPWgobyx1LGMscixuW2YrMTVdLDIyLDEyMzY1MzUzMjkpLHI9YSQxKHIsbyx1LGMsbltmKzFdLDUsLTE2NTc5NjUxMCksYz1hJDEoYyxyLG8sdSxuW2YrNl0sOSwtMTA2OTUwMTYzMiksdT1hJDEodSxjLHIsbyxuW2YrMTFdLDE0LDY0MzcxNzcxMyksbz1hJDEobyx1LGMscixuW2YrMF0sMjAsLTM3Mzg5NzMwMikscj1hJDEocixvLHUsYyxuW2YrNV0sNSwtNzAxNTU4NjkxKSxjPWEkMShjLHIsbyx1LG5bZisxMF0sOSwzODAxNjA4MyksdT1hJDEodSxjLHIsbyxuW2YrMTVdLDE0LC02NjA0NzgzMzUpLG89YSQxKG8sdSxjLHIsbltmKzRdLDIwLC00MDU1Mzc4NDgpLHI9YSQxKHIsbyx1LGMsbltmKzldLDUsNTY4NDQ2NDM4KSxjPWEkMShjLHIsbyx1LG5bZisxNF0sOSwtMTAxOTgwMzY5MCksdT1hJDEodSxjLHIsbyxuW2YrM10sMTQsLTE4NzM2Mzk2MSksbz1hJDEobyx1LGMscixuW2YrOF0sMjAsMTE2MzUzMTUwMSkscj1hJDEocixvLHUsYyxuW2YrMTNdLDUsLTE0NDQ2ODE0NjcpLGM9YSQxKGMscixvLHUsbltmKzJdLDksLTUxNDAzNzg0KSx1PWEkMSh1LGMscixvLG5bZis3XSwxNCwxNzM1MzI4NDczKSxvPWEkMShvLHUsYyxyLG5bZisxMl0sMjAsLTE5MjY2MDc3MzQpLHI9bChyLG8sdSxjLG5bZis1XSw0LC0zNzg1NTgpLGM9bChjLHIsbyx1LG5bZis4XSwxMSwtMjAyMjU3NDQ2MyksdT1sKHUsYyxyLG8sbltmKzExXSwxNiwxODM5MDMwNTYyKSxvPWwobyx1LGMscixuW2YrMTRdLDIzLC0zNTMwOTU1Nikscj1sKHIsbyx1LGMsbltmKzFdLDQsLTE1MzA5OTIwNjApLGM9bChjLHIsbyx1LG5bZis0XSwxMSwxMjcyODkzMzUzKSx1PWwodSxjLHIsbyxuW2YrN10sMTYsLTE1NTQ5NzYzMiksbz1sKG8sdSxjLHIsbltmKzEwXSwyMywtMTA5NDczMDY0MCkscj1sKHIsbyx1LGMsbltmKzEzXSw0LDY4MTI3OTE3NCksYz1sKGMscixvLHUsbltmKzBdLDExLC0zNTg1MzcyMjIpLHU9bCh1LGMscixvLG5bZiszXSwxNiwtNzIyNTIxOTc5KSxvPWwobyx1LGMscixuW2YrNl0sMjMsNzYwMjkxODkpLHI9bChyLG8sdSxjLG5bZis5XSw0LC02NDAzNjQ0ODcpLGM9bChjLHIsbyx1LG5bZisxMl0sMTEsLTQyMTgxNTgzNSksdT1sKHUsYyxyLG8sbltmKzE1XSwxNiw1MzA3NDI1MjApLG89bChvLHUsYyxyLG5bZisyXSwyMywtOTk1MzM4NjUxKSxyPWckMShyLG8sdSxjLG5bZiswXSw2LC0xOTg2MzA4NDQpLGM9ZyQxKGMscixvLHUsbltmKzddLDEwLDExMjY4OTE0MTUpLHU9ZyQxKHUsYyxyLG8sbltmKzE0XSwxNSwtMTQxNjM1NDkwNSksbz1nJDEobyx1LGMscixuW2YrNV0sMjEsLTU3NDM0MDU1KSxyPWckMShyLG8sdSxjLG5bZisxMl0sNiwxNzAwNDg1NTcxKSxjPWckMShjLHIsbyx1LG5bZiszXSwxMCwtMTg5NDk4NjYwNiksdT1nJDEodSxjLHIsbyxuW2YrMTBdLDE1LC0xMDUxNTIzKSxvPWckMShvLHUsYyxyLG5bZisxXSwyMSwtMjA1NDkyMjc5OSkscj1nJDEocixvLHUsYyxuW2YrOF0sNiwxODczMzEzMzU5KSxjPWckMShjLHIsbyx1LG5bZisxNV0sMTAsLTMwNjExNzQ0KSx1PWckMSh1LGMscixvLG5bZis2XSwxNSwtMTU2MDE5ODM4MCksbz1nJDEobyx1LGMscixuW2YrMTNdLDIxLDEzMDkxNTE2NDkpLHI9ZyQxKHIsbyx1LGMsbltmKzRdLDYsLTE0NTUyMzA3MCksYz1nJDEoYyxyLG8sdSxuW2YrMTFdLDEwLC0xMTIwMjEwMzc5KSx1PWckMSh1LGMscixvLG5bZisyXSwxNSw3MTg3ODcyNTkpLG89ZyQxKG8sdSxjLHIsbltmKzldLDIxLC0zNDM0ODU1NTEpLHI9ZShyLHQpLG89ZShvLHMpLHU9ZSh1LGkpLGM9ZShjLHApO31yZXR1cm4gW3Isbyx1LGNdfWZ1bmN0aW9uIHgocixlPW4uSGV4KXtjb25zdCBzPWV8fG4uQmFzZTY0LGk9cChvKHIpLHIubGVuZ3RoKnQpO3N3aXRjaChzKXtjYXNlIG4uUmF3OnJldHVybiBpO2Nhc2Ugbi5IZXg6cmV0dXJuIGMoaSk7Y2FzZSBuLlN0cmluZzpyZXR1cm4gdSQxKGkpO2Nhc2Ugbi5CYXNlNjQ6cmV0dXJuIGYoaSl9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gQyQxKGUpe2lmKCFlKXJldHVybiBcIkNPVU5UXCI7c3dpdGNoKGUudG9Mb3dlckNhc2UoKSl7Y2FzZVwibWF4XCI6cmV0dXJuIFwiTUFYXCI7Y2FzZVwidmFyXCI6Y2FzZVwidmFyaWFuY2VcIjpyZXR1cm4gXCJWQVJcIjtjYXNlXCJhdmdcIjpjYXNlXCJhdmVyYWdlXCI6Y2FzZVwibWVhblwiOnJldHVybiBcIkFWR1wiO2Nhc2VcIm1pblwiOnJldHVybiBcIk1JTlwiO2Nhc2VcInN1bVwiOnJldHVybiBcIlNVTVwiO2Nhc2VcInN0ZGV2XCI6Y2FzZVwic3RkZGV2XCI6cmV0dXJuIFwiU1REREVWXCI7Y2FzZVwiY291bnRcIjpyZXR1cm4gXCJDT1VOVFwifXJldHVybiBcIkNPVU5UXCJ9Y2xhc3MgRyBleHRlbmRzIHYkMntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLl9kZWNvZGVkU3RhdHNmaWVsZD1bXSx0aGlzLl9kZWNvZGVkR3JvdXBieWZpZWxkPVtdLHRoaXMuX2NhbmRvc2ltcGxlZ3JvdXBieT0hMCx0aGlzLnBoc3lpY2FsZ3JvdXBieWZpZWxkcz1bXSx0aGlzLm9iamVjdElkRmllbGQ9XCJST1dfX0lEXCIsdGhpcy5faW50ZXJuYWxPYmplY3RJZEZpZWxkPVwiUk9XX19JRFwiLHRoaXMuX2FkYXB0ZWRGaWVsZHM9W10sdGhpcy5kZWNsYXJlZENsYXNzPVwiZXNyaS5hcmNhZGUuZmVhdHVyZXNldC5hY3Rpb25zLkFnZ3JlZ2F0ZVwiLHRoaXMuX3VuaXF1ZUlkcz0xLHRoaXMuX21heFF1ZXJ5PTEwLHRoaXMuX21heFByb2Nlc3Npbmc9MTAsdGhpcy5fcGFyZW50PWUucGFyZW50ZmVhdHVyZXNldCx0aGlzLl9jb25maWc9ZTt9aXNUYWJsZSgpe3JldHVybiAhMH1fZ2V0U2V0KHQpe3JldHVybiBudWxsPT09dGhpcy5fd3NldD90aGlzLl9nZXRGaWx0ZXJlZFNldChcIlwiLG51bGwsbnVsbCxudWxsLHQpLnRoZW4oKGU9Pih0aGlzLl93c2V0PWUsdGhpcy5fd3NldCkpKTp4JDEodGhpcy5fd3NldCl9X2lzSW5GZWF0dXJlU2V0KCl7cmV0dXJuIGwkMS5JbkZlYXR1cmVTZXR9bmV4dFVuaXF1ZU5hbWUoZSl7Zm9yKDsxPT09ZVtcIlRcIit0aGlzLl91bmlxdWVJZHMudG9TdHJpbmcoKV07KXRoaXMuX3VuaXF1ZUlkcysrO2NvbnN0IHQ9XCJUXCIrdGhpcy5fdW5pcXVlSWRzLnRvU3RyaW5nKCk7cmV0dXJuIGVbdF09MSx0fWNvbnZlcnRUb0VzcmlGaWVsZFR5cGUoZSl7cmV0dXJuIGV9X2luaXRpYWxpc2VGZWF0dXJlU2V0KCl7Y29uc3QgZT17fTtsZXQgdD0hMSxpPTE7Y29uc3Qgbj10aGlzLl9wYXJlbnQ/dGhpcy5fcGFyZW50LmdldEZpZWxkc0luZGV4KCk6bmV3IGUkMihbXSk7Zm9yKHRoaXMub2JqZWN0SWRGaWVsZD1cIlJPV19fSURcIix0aGlzLmdsb2JhbElkRmllbGQ9XCJcIjshMT09PXQ7KXtsZXQgZT0hMTtmb3IobGV0IHQ9MDt0PHRoaXMuX2NvbmZpZy5ncm91cGJ5ZmllbGRzLmxlbmd0aDt0KyspaWYodGhpcy5fY29uZmlnLmdyb3VwYnlmaWVsZHNbdF0ubmFtZS50b0xvd2VyQ2FzZSgpPT09dGhpcy5vYmplY3RJZEZpZWxkLnRvTG93ZXJDYXNlKCkpe2U9ITA7YnJlYWt9aWYoITE9PT1lKWZvcihsZXQgdD0wO3Q8dGhpcy5fY29uZmlnLnN0YXRzZmllbGRzLmxlbmd0aDt0KyspaWYodGhpcy5fY29uZmlnLnN0YXRzZmllbGRzW3RdLm5hbWUudG9Mb3dlckNhc2UoKT09PXRoaXMub2JqZWN0SWRGaWVsZC50b0xvd2VyQ2FzZSgpKXtlPSEwO2JyZWFrfSExPT09ZT90PSEwOih0aGlzLm9iamVjdElkRmllbGQ9XCJST1dfX0lEXCIraS50b1N0cmluZygpLGkrKyk7fWZvcihjb25zdCBzIG9mIHRoaXMuX2NvbmZpZy5zdGF0c2ZpZWxkcyl7Y29uc3QgZT1uZXcgYSQyO2UuZmllbGQ9cy5uYW1lLGUudG9maWVsZG5hbWU9cy5uYW1lLGUud29ya2luZ2V4cHI9cy5leHByZXNzaW9uIGluc3RhbmNlb2YgZiQxP3MuZXhwcmVzc2lvbjpmJDEuY3JlYXRlKHMuZXhwcmVzc2lvbixuKSxlLnR5cGVvZnN0YXQ9QyQxKHMuc3RhdGlzdGljKSx0aGlzLl9kZWNvZGVkU3RhdHNmaWVsZC5wdXNoKGUpO310aGlzLl9kZWNvZGVkR3JvdXBieWZpZWxkPVtdO2Zvcihjb25zdCBzIG9mIHRoaXMuX2NvbmZpZy5ncm91cGJ5ZmllbGRzKXtjb25zdCBlPXtuYW1lOnMubmFtZSxzaW5nbGVmaWVsZDpudWxsLHRvZmllbGRuYW1lOnMubmFtZSxleHByZXNzaW9uOnMuZXhwcmVzc2lvbiBpbnN0YW5jZW9mIGYkMT9zLmV4cHJlc3Npb246ZiQxLmNyZWF0ZShzLmV4cHJlc3Npb24sbil9O3RoaXMuX2RlY29kZWRHcm91cGJ5ZmllbGQucHVzaChlKTt9aWYobnVsbCE9PXRoaXMuX3BhcmVudCl7dGhpcy5nZW9tZXRyeVR5cGU9dGhpcy5fcGFyZW50Lmdlb21ldHJ5VHlwZSx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fcGFyZW50LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5oYXNNPXRoaXMuX3BhcmVudC5oYXNNLHRoaXMuaGFzWj10aGlzLl9wYXJlbnQuaGFzWix0aGlzLnR5cGVJZEZpZWxkPVwiXCI7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcGFyZW50LmZpZWxkcyllW3QubmFtZS50b1VwcGVyQ2FzZSgpXT0xO3RoaXMudHlwZXM9bnVsbDt9ZWxzZSB0aGlzLmdlb21ldHJ5VHlwZT1JLnBvaW50LHRoaXMudHlwZUlkRmllbGQ9XCJcIix0aGlzLnR5cGVzPW51bGwsdGhpcy5zcGF0aWFsUmVmZXJlbmNlPW5ldyBrJDEoe3draWQ6NDMyNn0pO3RoaXMuZmllbGRzPVtdO2NvbnN0IHI9bmV3IGEkMjtyLmZpZWxkPXRoaXMubmV4dFVuaXF1ZU5hbWUoZSksci50b2ZpZWxkbmFtZT10aGlzLm9iamVjdElkRmllbGQsci53b3JraW5nZXhwcj1mJDEuY3JlYXRlKHRoaXMuX3BhcmVudC5vYmplY3RJZEZpZWxkLHRoaXMuX3BhcmVudC5nZXRGaWVsZHNJbmRleCgpKSxyLnR5cGVvZnN0YXQ9XCJNSU5cIix0aGlzLl9kZWNvZGVkU3RhdHNmaWVsZC5wdXNoKHIpO2Zvcihjb25zdCBzIG9mIHRoaXMuX2RlY29kZWRHcm91cGJ5ZmllbGQpe2NvbnN0IHQ9bmV3IHkkMTtpZihzLm5hbWU9dGhpcy5uZXh0VW5pcXVlTmFtZShlKSx0Lm5hbWU9cy50b2ZpZWxkbmFtZSx0LmFsaWFzPXQubmFtZSxFJDIocy5leHByZXNzaW9uKSl7Y29uc3QgZT10aGlzLl9wYXJlbnQuZ2V0RmllbGQobiQyKHMuZXhwcmVzc2lvbixvJDIuU3RhbmRhcmRpc2VkKSk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiRmllbGQgaXMgbm90IHByZXNlbnQgZm9yIEFnZ3JlZ2F0aW9uXCIpO3MubmFtZT1lLm5hbWUscy5zaW5nbGVmaWVsZD1lLm5hbWUsdGhpcy5waHN5aWNhbGdyb3VwYnlmaWVsZHMucHVzaChlLm5hbWUpLHQudHlwZT1lLnR5cGU7fWVsc2Uge3QudHlwZT10aGlzLmNvbnZlcnRUb0VzcmlGaWVsZFR5cGUoZiQyKHMuZXhwcmVzc2lvbix0aGlzLl9wYXJlbnQuZmllbGRzKSk7Y29uc3QgZT1uZXcgeSQxO2UubmFtZT1zLm5hbWUsZS5hbGlhcz1lLm5hbWUsdGhpcy5waHN5aWNhbGdyb3VwYnlmaWVsZHMucHVzaChzLm5hbWUpLHRoaXMuX2FkYXB0ZWRGaWVsZHMucHVzaChuZXcgVCQxKGUscy5leHByZXNzaW9uKSksdGhpcy5fY2FuZG9zaW1wbGVncm91cGJ5PSExO310aGlzLmZpZWxkcy5wdXNoKHQpO31pZih0aGlzLl9hZGFwdGVkRmllbGRzLmxlbmd0aD4wKWZvcihjb25zdCBzIG9mIHRoaXMuX3BhcmVudC5maWVsZHMpdGhpcy5fYWRhcHRlZEZpZWxkcy5wdXNoKG5ldyB3JDEocykpO2ZvcihsZXQgcz0wO3M8dGhpcy5fZGVjb2RlZFN0YXRzZmllbGQubGVuZ3RoO3MrKyl7Y29uc3QgdD1uZXcgeSQxO2xldCBpPW51bGw7Y29uc3Qgbj10aGlzLl9kZWNvZGVkU3RhdHNmaWVsZFtzXTtuLmZpZWxkPXRoaXMubmV4dFVuaXF1ZU5hbWUoZSksbi50b2ZpZWxkbmFtZT09PXRoaXMub2JqZWN0SWRGaWVsZCYmKHRoaXMuX2ludGVybmFsT2JqZWN0SWRGaWVsZD1uLmZpZWxkKSx0Lm5hbWU9bi50b2ZpZWxkbmFtZSx0LmFsaWFzPXQubmFtZTtjb25zdCByPW51bGwhPT1uLndvcmtpbmdleHByJiZFJDIobi53b3JraW5nZXhwcik/biQyKG4ud29ya2luZ2V4cHIsbyQyLlN0YW5kYXJkaXNlZCk6XCJcIjtzd2l0Y2godGhpcy5fZGVjb2RlZFN0YXRzZmllbGRbc10udHlwZW9mc3RhdCl7Y2FzZVwiU1VNXCI6aWYoXCJcIiE9PXIpe2lmKGk9dGhpcy5fcGFyZW50LmdldEZpZWxkKHIpLCFpKXRocm93IG5ldyBFcnJvcihcIkZpZWxkIGlzIG5vdCBwcmVzZW50IGZvciBBZ2dyZWdhdGlvblwiKTt0LnR5cGU9aS50eXBlO31lbHNlIHQudHlwZT1cImRvdWJsZVwiO2JyZWFrO2Nhc2VcIk1JTlwiOmNhc2VcIk1BWFwiOmlmKFwiXCIhPT1yKXtpZihpPXRoaXMuX3BhcmVudC5nZXRGaWVsZChyKSwhaSl0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBpcyBub3QgcHJlc2VudCBmb3IgQWdncmVnYXRpb25cIik7dC50eXBlPWkudHlwZTt9ZWxzZSB0LnR5cGU9XCJkb3VibGVcIjticmVhaztjYXNlXCJDT1VOVFwiOnQudHlwZT1cImludGVnZXJcIjticmVhaztjYXNlXCJTVERERVZcIjpjYXNlXCJWQVJcIjpjYXNlXCJBVkdcIjppZihcIlwiIT09ciYmKGk9dGhpcy5fcGFyZW50LmdldEZpZWxkKHIpLCFpKSl0aHJvdyBuZXcgRXJyb3IoXCJGaWVsZCBpcyBub3QgcHJlc2VudCBmb3IgQWdncmVnYXRpb25cIik7dC50eXBlPVwiZG91YmxlXCI7fXRoaXMuZmllbGRzLnB1c2godCk7fX1fY2FuRG9BZ2dyZWdhdGVzKCl7cmV0dXJuIHgkMSghMSl9X2dldEZlYXR1cmVzKHQsaSxzLG4pe2NvbnN0IHI9dGhpcy5fbWF4UXVlcnk7cmV0dXJuICEwPT09dGhpcy5fY2hlY2tJZk5lZWRUb0V4cGFuZEtub3duUGFnZSh0LHIpP3RoaXMuX2V4cGFuZFBhZ2VkU2V0KHQsciwwLDAsbikudGhlbigoKCk9PnRoaXMuX2dldEZlYXR1cmVzKHQsaSxzLG4pKSk6eCQxKFwic3VjY2Vzc1wiKX1fZ2V0RmlsdGVyZWRTZXQodCxpLHMsbixyKXtpZihcIlwiIT09dClyZXR1cm4geCQxKG5ldyB0JDIoW10sW10sITAsbnVsbCkpO2xldCBhPW51bGw7Y29uc3QgbD17b3JkZXJlZDohMSxub3doZXJlY2xhdXNlOiExfTtyZXR1cm4gdGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9PntpZihudWxsIT09cylmb3IobGV0IGU9MDtlPHRoaXMuX2RlY29kZWRTdGF0c2ZpZWxkLmxlbmd0aDtlKyspaWYoITA9PT1oJDEocyx0aGlzLl9kZWNvZGVkU3RhdHNmaWVsZFtlXS50b2ZpZWxkbmFtZSkpe2wubm93aGVyZWNsYXVzZT0hMCxzPW51bGw7YnJlYWt9aWYobnVsbCE9PW4pe2wub3JkZXJlZD0hMDtmb3IobGV0IGU9MDtlPHRoaXMuX2RlY29kZWRTdGF0c2ZpZWxkLmxlbmd0aDtlKyspaWYoITA9PT1uLnNjYW5Gb3JGaWVsZCh0aGlzLl9kZWNvZGVkU3RhdHNmaWVsZFtlXS50b2ZpZWxkbmFtZSkpe249bnVsbCxsLm9yZGVyZWQ9ITE7YnJlYWt9aWYobnVsbCE9PW4pZm9yKGNvbnN0IGUgb2YgdGhpcy5fZGVjb2RlZEdyb3VwYnlmaWVsZClpZihudWxsPT09ZS5zaW5nbGVmaWVsZCYmITA9PT1uLnNjYW5Gb3JGaWVsZChlLnRvZmllbGRuYW1lKSl7bj1udWxsLGwub3JkZXJlZD0hMTticmVha319cmV0dXJuICExPT09dGhpcy5fY2FuZG9zaW1wbGVncm91cGJ5P3gkMSghMSk6dGhpcy5fcGFyZW50Ll9jYW5Eb0FnZ3JlZ2F0ZXModGhpcy5waHN5aWNhbGdyb3VwYnlmaWVsZHMsdGhpcy5fZGVjb2RlZFN0YXRzZmllbGQsXCJcIixudWxsLG51bGwpfSkpLnRoZW4oKGU9PntpZihlKXtsZXQgZT1udWxsO3MmJihlPXRoaXMuX3JlZm9ybXVsYXRlV2hlcmVDbGF1c2VXaXRob3V0R3JvdXBCeUZpZWxkcyhzKSk7bGV0IHQ9bnVsbDtyZXR1cm4gbiYmKHQ9dGhpcy5fcmVmb3JtdWxhdGVPcmRlckNsYXVzZVdpdGhvdXRHcm91cEJ5RmllbGRzKG4pKSx0aGlzLl9wYXJlbnQuX2dldEFnZ3JlZ2F0ZVBhZ2VzRGF0YVNvdXJjZURlZmluaXRpb24odGhpcy5waHN5aWNhbGdyb3VwYnlmaWVsZHMsdGhpcy5fZGVjb2RlZFN0YXRzZmllbGQsXCJcIixudWxsLGUsdCx0aGlzLl9pbnRlcm5hbE9iamVjdElkRmllbGQpLnRoZW4oKGU9Pih0aGlzLl9jaGVja0NhbmNlbGxlZChyKSxhPSEwPT09bC5ub3doZXJlY2xhdXNlP25ldyB0JDIoZS5fY2FuZGlkYXRlcy5zbGljZSgwKS5jb25jYXQoZS5fa25vd24uc2xpY2UoMCkpLFtdLCEwPT09bC5vcmRlcmVkJiZlLl9vcmRlcmVkLHRoaXMuX2Nsb25lUGFnZURlZmluaXRpb24oZS5wYWdlc0RlZmluaXRpb24pKTpuZXcgdCQyKGUuX2NhbmRpZGF0ZXMuc2xpY2UoMCksZS5fa25vd24uc2xpY2UoMCksITA9PT1sLm9yZGVyZWQmJmUuX29yZGVyZWQsdGhpcy5fY2xvbmVQYWdlRGVmaW5pdGlvbihlLnBhZ2VzRGVmaW5pdGlvbikpLGEpKSl9bGV0IHQ9dGhpcy5fcGFyZW50O2lmKHRoaXMuX2FkYXB0ZWRGaWVsZHMubGVuZ3RoPjAmJih0PW5ldyBFJDEoe3BhcmVudGZlYXR1cmVzZXQ6dGhpcy5fcGFyZW50LGFkYXB0ZWRGaWVsZHM6dGhpcy5fYWRhcHRlZEZpZWxkcyxleHRyYUZpbHRlcjpudWxsfSkpLCEwPT09bC5ub3doZXJlY2xhdXNlKWE9bmV3IHQkMihbXCJHRVRQQUdFU1wiXSxbXSwhMSx7YWdncmVnYXRlZmVhdHVyZXNldHBhZ2VkZWZpbml0aW9uOiEwLHJlc3VsdE9mZnNldDowLHJlc3VsdFJlY29yZENvdW50OnRoaXMuX21heFF1ZXJ5LGludGVybmFsOntmdWxseVJlc29sdmVkOiExLHdvcmtpbmdJdGVtOm51bGwsdHlwZTpcIm1hbnVhbFwiLGl0ZXJhdG9yOm51bGwsc2V0OltdLHN1YmZlYXR1cmVzZXQ6bmV3IGEkMyh7cGFyZW50ZmVhdHVyZXNldDp0LG9yZGVyYnljbGF1c2U6bmV3IGUkMSh0aGlzLnBoc3lpY2FsZ3JvdXBieWZpZWxkcy5qb2luKFwiLFwiKStcIixcIit0aGlzLl9wYXJlbnQub2JqZWN0SWRGaWVsZCtcIiBBU0NcIil9KX19KTtlbHNlIHtsZXQgZT10O2lmKG51bGwhPT1zKXtsZXQgdD1udWxsO3MmJih0PXRoaXMuX3JlZm9ybXVsYXRlV2hlcmVDbGF1c2VXaXRob3V0R3JvdXBCeUZpZWxkcyhzKSksZT1uZXcgXyh7cGFyZW50ZmVhdHVyZXNldDplLHdoZXJlY2xhdXNlOnR9KTt9YT1uZXcgdCQyKFtcIkdFVFBBR0VTXCJdLFtdLCExLHthZ2dyZWdhdGVmZWF0dXJlc2V0cGFnZWRlZmluaXRpb246ITAscmVzdWx0T2Zmc2V0OjAscmVzdWx0UmVjb3JkQ291bnQ6dGhpcy5fbWF4UXVlcnksaW50ZXJuYWw6e2Z1bGx5UmVzb2x2ZWQ6ITEsd29ya2luZ0l0ZW06bnVsbCx0eXBlOlwibWFudWFsXCIsaXRlcmF0b3I6bnVsbCxzZXQ6W10sc3ViZmVhdHVyZXNldDpuZXcgYSQzKHtwYXJlbnRmZWF0dXJlc2V0OmUsb3JkZXJieWNsYXVzZTpuZXcgZSQxKHRoaXMucGhzeWljYWxncm91cGJ5ZmllbGRzLmpvaW4oXCIsXCIpK1wiLFwiK3RoaXMuX3BhcmVudC5vYmplY3RJZEZpZWxkK1wiIEFTQ1wiKX0pfX0pO31yZXR1cm4gYX0pKX1fcmVmb3JtdWxhdGVXaGVyZUNsYXVzZVdpdGhvdXRTdGF0c0ZpZWxkcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9kZWNvZGVkU3RhdHNmaWVsZCllPXMkMyhlLHQudG9maWVsZG5hbWUsbiQyKHQud29ya2luZ2V4cHIsbyQyLlN0YW5kYXJkaXNlZCksdGhpcy5fcGFyZW50LmdldEZpZWxkc0luZGV4KCkpO3JldHVybiBlfV9yZWZvcm11bGF0ZVdoZXJlQ2xhdXNlV2l0aG91dEdyb3VwQnlGaWVsZHMoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fZGVjb2RlZEdyb3VwYnlmaWVsZCl0LnRvZmllbGRuYW1lIT09dC5uYW1lJiYoZT1zJDMoZSx0LnRvZmllbGRuYW1lLG4kMih0LmV4cHJlc3Npb24sbyQyLlN0YW5kYXJkaXNlZCksdGhpcy5fcGFyZW50LmdldEZpZWxkc0luZGV4KCkpKTtyZXR1cm4gZX1fcmVmb3JtdWxhdGVPcmRlckNsYXVzZVdpdGhvdXRHcm91cEJ5RmllbGRzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5fZGVjb2RlZEdyb3VwYnlmaWVsZClpLnRvZmllbGRuYW1lIT09aS5uYW1lJiZ0LnB1c2goe2ZpZWxkOmkudG9maWVsZG5hbWUsbmV3ZmllbGQ6aS5uYW1lfSk7cmV0dXJuIHQubGVuZ3RoPjA/ZS5yZXBsYWNlRmllbGRzKHQpOmV9X2Nsb25lUGFnZURlZmluaXRpb24oZSl7cmV0dXJuIG51bGw9PT1lP251bGw6ITA9PT1lLmFnZ3JlZ2F0ZWZlYXR1cmVzZXRwYWdlZGVmaW5pdGlvbj97YWdncmVnYXRlZmVhdHVyZXNldHBhZ2VkZWZpbml0aW9uOiEwLHJlc3VsdFJlY29yZENvdW50OmUucmVzdWx0UmVjb3JkQ291bnQscmVzdWx0T2Zmc2V0OmUucmVzdWx0T2Zmc2V0LGludGVybmFsOmUuaW50ZXJuYWx9OnRoaXMuX3BhcmVudC5fY2xvbmVQYWdlRGVmaW5pdGlvbihlKX1fcmVmaW5lU2V0QmxvY2soaSxzLG4pe3RyeXtpZighMD09PXRoaXMuX2NoZWNrSWZOZWVkVG9FeHBhbmRDYW5kaWRhdGVQYWdlKGksdGhpcy5fbWF4UXVlcnkpKXJldHVybiB0aGlzLl9leHBhbmRQYWdlZFNldChpLHRoaXMuX21heFF1ZXJ5LDAsMCxuKS50aGVuKCgoKT0+dGhpcy5fcmVmaW5lU2V0QmxvY2soaSxzLG4pKSk7dGhpcy5fY2hlY2tDYW5jZWxsZWQobik7dGhpcy5fcmVmaW5lS25vd25zKGkscyk7cmV0dXJuIHgkMShpKX1jYXRjaChyKXtyZXR1cm4gTChyKX19X2V4cGFuZFBhZ2VkU2V0KGUsdCxpLHMsbil7cmV0dXJuIHRoaXMuX2V4cGFuZFBhZ2VkU2V0RmVhdHVyZVNldChlLHQsaSxzLG4pfV9nZXRQaHlzaWNhbFBhZ2UoZSx0LHMpe3JldHVybiAhMD09PWUucGFnZXNEZWZpbml0aW9uLmFnZ3JlZ2F0ZWZlYXR1cmVzZXRwYWdlZGVmaW5pdGlvbj9sJDMoKCh0LGkpPT57dGhpcy5fc2VxdWVudGlhbEdldFBoeXNpY2FsSXRlbShlLGUucGFnZXNEZWZpbml0aW9uLnJlc3VsdFJlY29yZENvdW50LHMsW10pLnRoZW4oKGU9Pnt0KGUpO30pLGkpO30pKTp0aGlzLl9nZXRBZ3JlZ2FndGVQaHlzaWNhbFBhZ2UoZSx0LHMpLnRoZW4oKGU9Pntmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXtnZW9tZXRyeTp0Lmdlb21ldHJ5LGF0dHJpYnV0ZXM6e319O2Zvcihjb25zdCBpIG9mIHRoaXMuX2RlY29kZWRHcm91cGJ5ZmllbGQpZS5hdHRyaWJ1dGVzW2kudG9maWVsZG5hbWVdPXQuYXR0cmlidXRlc1tpLm5hbWVdO2Zvcihjb25zdCBpIG9mIHRoaXMuX2RlY29kZWRTdGF0c2ZpZWxkKWUuYXR0cmlidXRlc1tpLnRvZmllbGRuYW1lXT10LmF0dHJpYnV0ZXNbaS5maWVsZF07dGhpcy5fZmVhdHVyZUNhY2hlW2UuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdXT1uZXcgbiQzKGUpO31yZXR1cm4gZS5sZW5ndGh9KSl9X3NlcXVlbnRpYWxHZXRQaHlzaWNhbEl0ZW0oZSx0LHMsbil7cmV0dXJuIGwkMygoKGkscik9PntudWxsPT09ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuaXRlcmF0b3ImJihlLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5pdGVyYXRvcj1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5zdWJmZWF0dXJlc2V0Lml0ZXJhdG9yKHMpKSwhMD09PWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmZ1bGx5UmVzb2x2ZWR8fDA9PT10P2kobi5sZW5ndGgpOnRoaXMuX25leHRBZ2dyZWdhdGVJdGVtKGUsdCxzLG4sKHI9PntudWxsPT09cj9pKG4ubGVuZ3RoKToodC09MSxpKHRoaXMuX3NlcXVlbnRpYWxHZXRQaHlzaWNhbEl0ZW0oZSx0LHMsbikpKTt9KSxyKTt9KSl9X25leHRBZ2dyZWdhdGVJdGVtKGUsdCxpLHMsbixhKXt0cnl7aGUoZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuaXRlcmF0b3IubmV4dCgpKS50aGVuKChyPT57aWYobnVsbD09PXIpaWYobnVsbCE9PWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLndvcmtpbmdJdGVtKXtjb25zdCB0PXRoaXMuX2NhbGN1bGF0ZUFuZEFwcGVuZEFnZ3JlZ2F0ZUl0ZW0oZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwud29ya2luZ0l0ZW0pO3MucHVzaCh0KSxlLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC53b3JraW5nSXRlbT1udWxsLGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLnNldC5wdXNoKHQuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdKSxlLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5mdWxseVJlc29sdmVkPSEwLG4obnVsbCk7fWVsc2UgZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuZnVsbHlSZXNvbHZlZD0hMCxuKG51bGwpO2Vsc2Uge2NvbnN0IGw9dGhpcy5fZ2VuZXJhdGVBZ2dyZWdhdGVIYXNoKHIpO2lmKG51bGw9PT1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC53b3JraW5nSXRlbSllLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC53b3JraW5nSXRlbT17ZmVhdHVyZXM6W3JdLGlkOmx9O2Vsc2Uge2lmKGwhPT1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC53b3JraW5nSXRlbS5pZCl7Y29uc3QgaT10aGlzLl9jYWxjdWxhdGVBbmRBcHBlbmRBZ2dyZWdhdGVJdGVtKGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLndvcmtpbmdJdGVtKTtyZXR1cm4gcy5wdXNoKGkpLGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLndvcmtpbmdJdGVtPW51bGwsZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuc2V0LnB1c2goaS5hdHRyaWJ1dGVzW3RoaXMub2JqZWN0SWRGaWVsZF0pLHQtPTEsZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwud29ya2luZ0l0ZW09e2ZlYXR1cmVzOltyXSxpZDpsfSx2b2lkIG4oaSl9ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwud29ya2luZ0l0ZW0uZmVhdHVyZXMucHVzaChyKTt9dGhpcy5fbmV4dEFnZ3JlZ2F0ZUl0ZW0oZSx0LGkscyxuLGEpO319KSxhKTt9Y2F0Y2gobCl7YShsKTt9fV9jYWxjdWxhdGVGaWVsZFN0YXQoZSx0LGkpe2NvbnN0IHM9W107Zm9yKGxldCBuPTA7bjxlLmZlYXR1cmVzLmxlbmd0aDtuKyspaWYobnVsbCE9PXQud29ya2luZ2V4cHIpe2NvbnN0IGk9dC53b3JraW5nZXhwci5jYWxjdWxhdGVWYWx1ZShlLmZlYXR1cmVzW25dKTtudWxsIT09aSYmcy5wdXNoKGkpO31lbHNlIHMucHVzaChudWxsKTtzd2l0Y2godC50eXBlb2ZzdGF0KXtjYXNlXCJNSU5cIjppLmF0dHJpYnV0ZXNbdC50b2ZpZWxkbmFtZV09cCQxKFwibWluXCIscywtMSk7YnJlYWs7Y2FzZVwiTUFYXCI6aS5hdHRyaWJ1dGVzW3QudG9maWVsZG5hbWVdPXAkMShcIm1heFwiLHMsLTEpO2JyZWFrO2Nhc2VcIlNVTVwiOmkuYXR0cmlidXRlc1t0LnRvZmllbGRuYW1lXT1wJDEoXCJzdW1cIixzLC0xKTticmVhaztjYXNlXCJDT1VOVFwiOmkuYXR0cmlidXRlc1t0LnRvZmllbGRuYW1lXT1zLmxlbmd0aDticmVhaztjYXNlXCJWQVJcIjppLmF0dHJpYnV0ZXNbdC50b2ZpZWxkbmFtZV09cCQxKFwidmFyXCIscywtMSk7YnJlYWs7Y2FzZVwiU1REREVWXCI6aS5hdHRyaWJ1dGVzW3QudG9maWVsZG5hbWVdPXAkMShcInN0ZGRldlwiLHMsLTEpO2JyZWFrO2Nhc2VcIkFWR1wiOmkuYXR0cmlidXRlc1t0LnRvZmllbGRuYW1lXT1wJDEoXCJhdmdcIixzLC0xKTt9cmV0dXJuICEwfV9jYWxjdWxhdGVBbmRBcHBlbmRBZ2dyZWdhdGVJdGVtKGUpe2NvbnN0IHQ9e2F0dHJpYnV0ZXM6e30sZ2VvbWV0cnk6bnVsbH07Zm9yKGNvbnN0IHMgb2YgdGhpcy5fZGVjb2RlZEdyb3VwYnlmaWVsZCl7Y29uc3QgaT1zLnNpbmdsZWZpZWxkP2UuZmVhdHVyZXNbMF0uYXR0cmlidXRlc1tzLnNpbmdsZWZpZWxkXTpzLmV4cHJlc3Npb24uY2FsY3VsYXRlVmFsdWUoZS5mZWF0dXJlc1swXSk7dC5hdHRyaWJ1dGVzW3MudG9maWVsZG5hbWVdPWk7fWZvcihjb25zdCBzIG9mIHRoaXMuX2RlY29kZWRTdGF0c2ZpZWxkKXRoaXMuX2NhbGN1bGF0ZUZpZWxkU3RhdChlLHMsdCk7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPHRoaXMuX2RlY29kZWRTdGF0c2ZpZWxkLmxlbmd0aDtzKyspaS5wdXNoKHRoaXMuX2NhbGN1bGF0ZUZpZWxkU3RhdChlLHRoaXMuX2RlY29kZWRTdGF0c2ZpZWxkW3NdLHQpKTtyZXR1cm4gdGhpcy5fZmVhdHVyZUNhY2hlW3QuYXR0cmlidXRlc1t0aGlzLm9iamVjdElkRmllbGRdXT1uZXcgbiQzKHthdHRyaWJ1dGVzOnQuYXR0cmlidXRlcyxnZW9tZXRyeTp0Lmdlb21ldHJ5fSksdH1fZ2VuZXJhdGVBZ2dyZWdhdGVIYXNoKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fZGVjb2RlZEdyb3VwYnlmaWVsZCl7Y29uc3Qgcz1pLnNpbmdsZWZpZWxkP2UuYXR0cmlidXRlc1tpLnNpbmdsZWZpZWxkXTppLmV4cHJlc3Npb24uY2FsY3VsYXRlVmFsdWUoZSk7dCs9bnVsbD09cz9cIjpcIjpcIjpcIitzLnRvU3RyaW5nKCk7fXJldHVybiB4KHQsbi5TdHJpbmcpfV9zdGF0KCl7cmV0dXJuIHgkMSh7Y2FsY3VsYXRlZDohMX0pfWdldEZlYXR1cmVCeU9iamVjdElkKCl7cmV0dXJuIHgkMShudWxsKX1zdGF0aWMgcmVnaXN0ZXJBY3Rpb24oKXt2JDIuX2ZlYXR1cmVzZXRGdW5jdGlvbnMuZ3JvdXBieT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgRyh7cGFyZW50ZmVhdHVyZXNldDp0aGlzLGdyb3VwYnlmaWVsZHM6ZSxzdGF0c2ZpZWxkczp0fSl9O319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBhIGV4dGVuZHMgdiQye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3RvcG51bT0wLHRoaXMuZGVjbGFyZWRDbGFzcz1cImVzcmkuYXJjYWRlLmZlYXR1cmVzZXQuYWN0aW9ucy5Ub3BcIix0aGlzLl9jb3VudGVkaW49MCx0aGlzLl9tYXhQcm9jZXNzaW5nPTEwMCx0aGlzLl90b3BudW09dC50b3BudW0sdGhpcy5fcGFyZW50PXQucGFyZW50ZmVhdHVyZXNldDt9X2dldFNldChlKXtyZXR1cm4gbnVsbD09PXRoaXMuX3dzZXQ/dGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9PnRoaXMuX3BhcmVudC5fZ2V0U2V0KGUpKSkudGhlbigodD0+KHRoaXMuX3dzZXQ9bmV3IHQkMih0Ll9jYW5kaWRhdGVzLnNsaWNlKDApLHQuX2tub3duLnNsaWNlKDApLCExLHRoaXMuX2Nsb25lUGFnZURlZmluaXRpb24odC5wYWdlc0RlZmluaXRpb24pKSx0aGlzLl9zZXRLbm93bkxlbmd0aCh0aGlzLl93c2V0KT50aGlzLl90b3BudW0mJih0aGlzLl93c2V0Ll9rbm93bj10aGlzLl93c2V0Ll9rbm93bi5zbGljZSgwLHRoaXMuX3RvcG51bSkpLHRoaXMuX3NldEtub3duTGVuZ3RoKHRoaXMuX3dzZXQpPj10aGlzLl90b3BudW0mJih0aGlzLl93c2V0Ll9jYW5kaWRhdGVzPVtdKSx0aGlzLl93c2V0KSkpOngkMSh0aGlzLl93c2V0KX1fc2V0S25vd25MZW5ndGgodCl7cmV0dXJuIHQuX2tub3duLmxlbmd0aD4wJiZcIkdFVFBBR0VTXCI9PT10Ll9rbm93blt0Ll9rbm93bi5sZW5ndGgtMV0/dC5fa25vd24ubGVuZ3RoLTE6dC5fa25vd24ubGVuZ3RofV9pc0luRmVhdHVyZVNldCh0KXtjb25zdCBlPXRoaXMuX3BhcmVudC5faXNJbkZlYXR1cmVTZXQodCk7aWYoZT09PWwkMS5Ob3RJbkZlYXR1cmVTZXQpcmV0dXJuIGU7Y29uc3Qgcz10aGlzLl9pZHN0YXRlc1t0XTtyZXR1cm4gcz09PWwkMS5JbkZlYXR1cmVTZXR8fHM9PT1sJDEuTm90SW5GZWF0dXJlU2V0P3M6ZT09PWwkMS5JbkZlYXR1cmVTZXQmJnZvaWQgMD09PXM/dGhpcy5fY291bnRlZGluPHRoaXMuX3RvcG51bT8odGhpcy5faWRzdGF0ZXNbdF09bCQxLkluRmVhdHVyZVNldCx0aGlzLl9jb3VudGVkaW4rKyxsJDEuSW5GZWF0dXJlU2V0KToodGhpcy5faWRzdGF0ZXNbdF09bCQxLk5vdEluRmVhdHVyZVNldCxsJDEuTm90SW5GZWF0dXJlU2V0KTpsJDEuVW5rbm93bn1fZXhwYW5kUGFnZWRTZXQobixzLGksYSxyKXtpZihudWxsPT09dGhpcy5fcGFyZW50KXJldHVybiBMKG5ldyBFcnJvcihcIlBhcmVudCBQYWdpbmcgbm90IGltcGxlbWVudGVkXCIpKTtpZihzPnRoaXMuX3RvcG51bSYmKHM9dGhpcy5fdG9wbnVtKSx0aGlzLl9jb3VudGVkaW4+PXRoaXMuX3RvcG51bSYmbi5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuc2V0Lmxlbmd0aDw9bi5wYWdlc0RlZmluaXRpb24ucmVzdWx0T2Zmc2V0KXtsZXQgZT1uLl9rbm93bi5sZW5ndGg7cmV0dXJuIGU+MCYmXCJHRVRQQUdFU1wiPT09bi5fa25vd25bZS0xXSYmKG4uX2tub3duLmxlbmd0aD1lLTEpLGU9bi5fY2FuZGlkYXRlcy5sZW5ndGgsZT4wJiZcIkdFVFBBR0VTXCI9PT1uLl9jYW5kaWRhdGVzW2UtMV0mJihuLl9jYW5kaWRhdGVzLmxlbmd0aD1lLTEpLHgkMShcInN1Y2Nlc3NcIil9cmV0dXJuIHRoaXMuX3BhcmVudC5fZXhwYW5kUGFnZWRTZXQobixzLGksYSxyKS50aGVuKCh0PT4odGhpcy5fc2V0S25vd25MZW5ndGgobik+dGhpcy5fdG9wbnVtJiYobi5fa25vd24ubGVuZ3RoPXRoaXMuX3RvcG51bSksdGhpcy5fc2V0S25vd25MZW5ndGgobik+PXRoaXMuX3RvcG51bSYmKG4uX2NhbmRpZGF0ZXMubGVuZ3RoPTApLHQpKSl9X2dldEZlYXR1cmVzKGUsbixpLGEpe2NvbnN0IHI9W10sbz10aGlzLl9tYXhRdWVyeVJhdGUoKTtpZighMD09PXRoaXMuX2NoZWNrSWZOZWVkVG9FeHBhbmRLbm93blBhZ2UoZSxvKSlyZXR1cm4gdGhpcy5fZXhwYW5kUGFnZWRTZXQoZSxvLDAsMCxhKS50aGVuKCgoKT0+dGhpcy5fZ2V0RmVhdHVyZXMoZSxuLGksYSkpKTstMSE9PW4mJnZvaWQgMD09PXRoaXMuX2ZlYXR1cmVDYWNoZVtuXSYmci5wdXNoKG4pO2xldCBfPTA7Zm9yKGxldCB0PWUuX2xhc3RGZXRjaGVkSW5kZXg7dDxlLl9rbm93bi5sZW5ndGgmJihfKyssXzw9aSYmKGUuX2xhc3RGZXRjaGVkSW5kZXgrPTEpLCEodm9pZCAwPT09dGhpcy5fZmVhdHVyZUNhY2hlW2UuX2tub3duW3RdXSYmKGUuX2tub3duW3RdIT09biYmci5wdXNoKGUuX2tub3duW3RdKSxyLmxlbmd0aD5vLTEpKSk7dCsrKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIHgkMShcInN1Y2Nlc3NcIik7Y29uc3QgaD1uZXcgdCQyKFtdLHIsITEsbnVsbCksdT1NYXRoLm1pbihyLmxlbmd0aCxpKTtyZXR1cm4gdGhpcy5fcGFyZW50Ll9nZXRGZWF0dXJlcyhoLC0xLHUsYSkudGhlbigoKCk9Pntmb3IobGV0IHQ9MDt0PHU7dCsrKXtjb25zdCBlPXRoaXMuX3BhcmVudC5fZmVhdHVyZUZyb21DYWNoZShyW3RdKTt2b2lkIDAhPT1lJiYodGhpcy5fZmVhdHVyZUNhY2hlW3JbdF1dPWUpO31yZXR1cm4gXCJzdWNjZXNzXCJ9KSl9X2dldEZpbHRlcmVkU2V0KHQsZSxuLGksYSl7cmV0dXJuIHRoaXMuX2Vuc3VyZUxvYWRlZCgpLnRoZW4oKCgpPT50aGlzLl9nZXRTZXQoYSkpKS50aGVuKCh0PT5uZXcgdCQyKHQuX2NhbmRpZGF0ZXMuc2xpY2UoMCkuY29uY2F0KHQuX2tub3duLnNsaWNlKDApKSxbXSwhMSx0aGlzLl9jbG9uZVBhZ2VEZWZpbml0aW9uKHQucGFnZXNEZWZpbml0aW9uKSkpKX1fcmVmaW5lS25vd25zKHQsZSl7bGV0IHM9MCxpPW51bGw7Y29uc3QgYT1bXTtmb3IobGV0IHI9MDtyPHQuX2NhbmRpZGF0ZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbz10aGlzLl9pc0luRmVhdHVyZVNldCh0Ll9jYW5kaWRhdGVzW3JdKTtpZihvPT09bCQxLkluRmVhdHVyZVNldCl7aWYodC5fa25vd24ucHVzaCh0Ll9jYW5kaWRhdGVzW3JdKSxzKz0xLG51bGw9PT1pP2k9e3N0YXJ0OnIsZW5kOnJ9OmkuZW5kPT09ci0xP2kuZW5kPXI6KGEucHVzaChpKSxpPXtzdGFydDpyLGVuZDpyfSksdC5fa25vd24ubGVuZ3RoPj10aGlzLl90b3BudW0pYnJlYWt9ZWxzZSBpZihvPT09bCQxLk5vdEluRmVhdHVyZVNldCludWxsPT09aT9pPXtzdGFydDpyLGVuZDpyfTppLmVuZD09PXItMT9pLmVuZD1yOihhLnB1c2goaSksaT17c3RhcnQ6cixlbmQ6cn0pLHMrPTE7ZWxzZSBpZihvPT09bCQxLlVua25vd24pYnJlYWs7aWYocz49ZSlicmVha31udWxsIT09aSYmYS5wdXNoKGkpO2ZvcihsZXQgbj1hLmxlbmd0aC0xO24+PTA7bi0tKXQuX2NhbmRpZGF0ZXMuc3BsaWNlKGFbbl0uc3RhcnQsYVtuXS5lbmQtYVtuXS5zdGFydCsxKTt0aGlzLl9zZXRLbm93bkxlbmd0aCh0KT50aGlzLl90b3BudW0mJih0Ll9rbm93bj10Ll9rbm93bi5zbGljZSgwLHRoaXMuX3RvcG51bSkpLHRoaXMuX3NldEtub3duTGVuZ3RoKHQpPj10aGlzLl90b3BudW0mJih0Ll9jYW5kaWRhdGVzPVtdKTt9X3N0YXQoKXtyZXR1cm4geCQxKHtjYWxjdWxhdGVkOiExfSl9X2NhbkRvQWdncmVnYXRlcygpe3JldHVybiB4JDEoITEpfXN0YXRpYyByZWdpc3RlckFjdGlvbigpe3YkMi5fZmVhdHVyZXNldEZ1bmN0aW9ucy50b3A9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhKHtwYXJlbnRmZWF0dXJlc2V0OnRoaXMsdG9wbnVtOnR9KX07fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHEkMSBleHRlbmRzIHYkMntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmRlY2xhcmVkQ2xhc3M9XCJlc3JpLmFyY2FkZS5mZWF0dXJlc2V0LnNvdXJjZXMuRmVhdHVyZUxheWVyRHluYW1pY1wiLHRoaXMuX3JlbW92ZUdlb21ldHJ5PSExLHRoaXMuX292ZXJyaWRlRmllbGRzPW51bGwsdGhpcy5mb3JtdWxhQ3JlZGVudGlhbD1udWxsLHRoaXMuX3BhZ2VKdXN0SWRzPSExLHRoaXMuX3JlcXVlc3RTdGFuZGFyZGlzZWQ9ITEsZS5zcGF0aWFsUmVmZXJlbmNlJiYodGhpcy5zcGF0aWFsUmVmZXJlbmNlPWUuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5fdHJhbnNwYXJlbnQ9ITAsdGhpcy5fbWF4UHJvY2Vzc2luZz0xZTMsdGhpcy5fbGF5ZXI9ZS5sYXllcix0aGlzLl93c2V0PW51bGwsdm9pZCAwIT09ZS5vdXRGaWVsZHMmJih0aGlzLl9vdmVycmlkZUZpZWxkcz1lLm91dEZpZWxkcyksdm9pZCAwIT09ZS5pbmNsdWRlR2VvbWV0cnkmJih0aGlzLl9yZW1vdmVHZW9tZXRyeT0hMT09PWUuaW5jbHVkZUdlb21ldHJ5KTt9X21heFF1ZXJ5UmF0ZSgpe3JldHVybiBTJDF9ZW5kKCl7cmV0dXJuIHRoaXMuX2xheWVyfW9wdGltaXNlUGFnaW5nRmVhdHVyZVF1ZXJpZXMoZSl7dGhpcy5fcGFnZUp1c3RJZHM9ZTt9Y29udmVydFF1ZXJ5VG9McnVDYWNoZUtleShlKXtjb25zdCB0PUUkMyhlLnRvSlNPTigpKTtyZXR1cm4geCh0LG4uU3RyaW5nKX1sb2FkKCl7cmV0dXJuIG51bGw9PT10aGlzLl9sb2FkUHJvbWlzZSYmKHRoaXMuX2xvYWRQcm9taXNlPWwkMygoKGUsdCk9Pnt0cnl7aWYoITA9PT10aGlzLl9sYXllci5sb2FkZWQpcmV0dXJuIHRoaXMuX2luaXRpYWxpc2VGZWF0dXJlU2V0KCksdm9pZCBlKHRoaXMpO3RoaXMuX2xheWVyLndoZW4oKS50aGVuKCgoKT0+e3RyeXt0aGlzLl9pbml0aWFsaXNlRmVhdHVyZVNldCgpLGUodGhpcyk7fWNhdGNoKHIpe3Qocik7fX0pLHQpLHRoaXMuX2xheWVyLmxvYWQoKTt9Y2F0Y2gocil7dChyKTt9fSkpKSx0aGlzLl9sb2FkUHJvbWlzZX1faW5pdGlhbGlzZUZlYXR1cmVTZXQoKXtpZihudWxsPT10aGlzLnNwYXRpYWxSZWZlcmVuY2UmJih0aGlzLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fbGF5ZXIuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5nZW9tZXRyeVR5cGU9dGhpcy5fbGF5ZXIuZ2VvbWV0cnlUeXBlLHRoaXMuZmllbGRzPXRoaXMuX2xheWVyLmZpZWxkcy5zbGljZSgwKSx0aGlzLl9sYXllci5vdXRGaWVsZHMpaWYoMT09PXRoaXMuX2xheWVyLm91dEZpZWxkcy5sZW5ndGgmJlwiKlwiPT09dGhpcy5fbGF5ZXIub3V0RmllbGRzWzBdKTtlbHNlIHtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuZmllbGRzKWlmKFwib2lkXCI9PT10LnR5cGUpZS5wdXNoKHQpO2Vsc2UgZm9yKGNvbnN0IHIgb2YgdGhpcy5fbGF5ZXIub3V0RmllbGRzKWlmKHIudG9Mb3dlckNhc2UoKT09PXQubmFtZS50b0xvd2VyQ2FzZSgpKXtlLnB1c2godCk7YnJlYWt9dGhpcy5maWVsZHM9ZTt9aWYobnVsbCE9PXRoaXMuX292ZXJyaWRlRmllbGRzKWlmKDE9PT10aGlzLl9vdmVycmlkZUZpZWxkcy5sZW5ndGgmJlwiKlwiPT09dGhpcy5fb3ZlcnJpZGVGaWVsZHNbMF0pdGhpcy5fb3ZlcnJpZGVGaWVsZHM9bnVsbDtlbHNlIHtjb25zdCBlPVtdLHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5maWVsZHMpaWYoXCJvaWRcIj09PXIudHlwZSllLnB1c2gociksdC5wdXNoKHIubmFtZSk7ZWxzZSBmb3IoY29uc3QgaSBvZiB0aGlzLl9vdmVycmlkZUZpZWxkcylpZihpLnRvTG93ZXJDYXNlKCk9PT1yLm5hbWUudG9Mb3dlckNhc2UoKSl7ZS5wdXNoKHIpLHQucHVzaChyLm5hbWUpO2JyZWFrfXRoaXMuZmllbGRzPWUsdGhpcy5fb3ZlcnJpZGVGaWVsZHM9dDt9aWYodGhpcy5fbGF5ZXIuc291cmNlJiZ0aGlzLl9sYXllci5zb3VyY2Uuc291cmNlSlNPTil7Y29uc3QgZT10aGlzLl9sYXllci5zb3VyY2Uuc291cmNlSlNPTi5jdXJyZW50VmVyc2lvbjshMD09PXRoaXMuX2xheWVyLnNvdXJjZS5zb3VyY2VKU09OLnVzZVN0YW5kYXJkaXplZFF1ZXJpZXM/KHRoaXMuX2RhdGFiYXNlVHlwZT1vJDIuU3RhbmRhcmRpc2VkTm9JbnRlcnZhbCxudWxsIT1lJiZlPj0xMC42MSYmKHRoaXMuX2RhdGFiYXNlVHlwZT1vJDIuU3RhbmRhcmRpc2VkKSk6bnVsbCE9ZSYmKGU+PTEwLjUmJih0aGlzLl9kYXRhYmFzZVR5cGU9byQyLlN0YW5kYXJkaXNlZE5vSW50ZXJ2YWwsdGhpcy5fcmVxdWVzdFN0YW5kYXJkaXNlZD0hMCksZT49MTAuNjEmJih0aGlzLl9kYXRhYmFzZVR5cGU9byQyLlN0YW5kYXJkaXNlZCkpO310aGlzLm9iamVjdElkRmllbGQ9dGhpcy5fbGF5ZXIub2JqZWN0SWRGaWVsZDtmb3IoY29uc3QgZSBvZiB0aGlzLmZpZWxkcylcImdsb2JhbC1pZFwiPT09ZS50eXBlJiYodGhpcy5nbG9iYWxJZEZpZWxkPWUubmFtZSk7dGhpcy5oYXNNPXRoaXMuX2xheWVyLnN1cHBvcnRzTSx0aGlzLmhhc1o9dGhpcy5fbGF5ZXIuc3VwcG9ydHNaLHRoaXMudHlwZUlkRmllbGQ9dGhpcy5fbGF5ZXIudHlwZUlkRmllbGQsdGhpcy50eXBlcz10aGlzLl9sYXllci50eXBlczt9X2lzSW5GZWF0dXJlU2V0KCl7cmV0dXJuIGwkMS5JbkZlYXR1cmVTZXR9X3JlZmluZVNldEJsb2NrKGUpe3JldHVybiB4JDEoZSl9X2NhbmRpZGF0ZUlkVHJhbnNmb3JtKGUpe3JldHVybiBlfV9nZXRTZXQoZSl7cmV0dXJuIG51bGw9PT10aGlzLl93c2V0P3RoaXMuX2Vuc3VyZUxvYWRlZCgpLnRoZW4oKCgpPT50aGlzLl9nZXRGaWx0ZXJlZFNldChcIlwiLG51bGwsbnVsbCxudWxsLGUpKSkudGhlbigoZT0+KHRoaXMuX3dzZXQ9ZSxlKSkpOngkMSh0aGlzLl93c2V0KX1fcnVuRGF0YWJhc2VQcm9iZSh0KXtyZXR1cm4gbCQzKCgoZSxyKT0+e3RyeXt0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+e3RyeXtjb25zdCBpPW5ldyBSO2kud2hlcmU9dC5yZXBsYWNlKFwiT0JKRUNUSURcIix0aGlzLl9sYXllci5vYmplY3RJZEZpZWxkKSx0aGlzLl9sYXllci5xdWVyeU9iamVjdElkcyhpKS50aGVuKCgoKT0+e2UoITApO30pLCgoKT0+e3RyeXtlKCExKTt9Y2F0Y2godCl7cih0KTt9fSkpO31jYXRjaChpKXtyKGkpO319KSk7fWNhdGNoKGkpe3IoaSk7fX0pKX1fY2FuVXNlUGFnaW5hdGlvbigpe3JldHVybiAhKCF0aGlzLl9sYXllci5jYXBhYmlsaXRpZXN8fCF0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnl8fCEwIT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzUGFnaW5hdGlvbil9X2NhY2hlYWJsZUZlYXR1cmVTZXRTb3VyY2VLZXkoKXtyZXR1cm4gdGhpcy5fbGF5ZXIudXJsfXBiZlN1cHBvcnRlZEZvclF1ZXJ5KGUpe3JldHVybiAhZS5vdXRTdGF0aXN0aWNzJiZ0aGlzLl9sYXllciYmdGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzJiZ0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnkmJiEwPT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzRm9ybWF0UEJGJiYhMD09PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1F1YW50aXphdGlvbkVkaXRNb2RlfXF1ZXJ5UEJGKGUpe3JldHVybiBlLnF1YW50aXphdGlvblBhcmFtZXRlcnM9e21vZGU6XCJlZGl0XCJ9LGMkMih0aGlzLl9sYXllci5wYXJzZWRVcmwsZSxuZXcgbiQ0KHt9KSkudGhlbigoZT0+ZyQyLmZyb21KU09OKG5lKGUuZGF0YSkpLnVucXVhbnRpemUoKSkpfWdldCBnZGJWZXJzaW9uKCl7cmV0dXJuIHRoaXMuX2xheWVyJiZ0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMmJnRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5kYXRhJiZ0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMuZGF0YS5pc1ZlcnNpb25lZD90aGlzLl9sYXllci5nZGJWZXJzaW9uP3RoaXMuX2xheWVyLmdkYlZlcnNpb246XCJTREUuREVGQVVMVFwiOlwiXCJ9bmF0aXZlQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIHt0aXRsZTp0aGlzLl9sYXllci50aXRsZSxzb3VyY2U6dGhpcyxjYW5RdWVyeVJlbGF0ZWQ6ITAsY2FwYWJpbGl0aWVzOnRoaXMuX2xheWVyLmNhcGFiaWxpdGllcyxkYXRhYmFzZVR5cGU6dGhpcy5fZGF0YWJhc2VUeXBlLHJlcXVlc3RTdGFuZGFyZGlzZWQ6dGhpcy5fcmVxdWVzdFN0YW5kYXJkaXNlZH19ZXhlY3V0ZVF1ZXJ5KGUsdCl7Y29uc3Qgcj1uZXcgeCQyKHt1cmw6dGhpcy5fbGF5ZXIucGFyc2VkVXJsLnBhdGh9KSxpPVwiZXhlY3V0ZVwiPT09dCYmdGhpcy5wYmZTdXBwb3J0ZWRGb3JRdWVyeShlKTtsZXQgcz1udWxsO2lmKHRoaXMucmVjZW50bHlVc2VkUXVlcmllcyl7Y29uc3QgYT10aGlzLmNvbnZlcnRRdWVyeVRvTHJ1Q2FjaGVLZXkoZSk7cz10aGlzLnJlY2VudGx5VXNlZFF1ZXJpZXMuZ2V0RnJvbUNhY2hlKGEpLG51bGw9PT1zJiYocz0hMCE9PWk/clt0XShlKTp0aGlzLnF1ZXJ5UEJGKGUpLHRoaXMucmVjZW50bHlVc2VkUXVlcmllcy5hZGRUb0NhY2hlKGEscykscz1zLmNhdGNoKChlPT57dGhyb3cgdGhpcy5yZWNlbnRseVVzZWRRdWVyaWVzLnJlbW92ZUZyb21DYWNoZShhKSxlfSkpKTt9cmV0dXJuIHRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3ImJnRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3IucHJlTGF5ZXJRdWVyeUNhbGxiYWNrKHtsYXllcjp0aGlzLl9sYXllcixxdWVyeTplLG1ldGhvZDp0fSksbnVsbD09PXMmJihzPSEwIT09aT9yW3RdKGUpOnRoaXMucXVlcnlQQkYoZSkpLHN9X2dldEZpbHRlcmVkU2V0KGUsdCxyLGkscyl7cmV0dXJuIHRoaXMuZGF0YWJhc2VUeXBlKCkudGhlbigoYT0+e2lmKHRoaXMuaXNUYWJsZSgpJiZ0JiZudWxsIT09ZSYmXCJcIiE9PWUpe3JldHVybiBuZXcgdCQyKFtdLFtdLCEwLG51bGwpfWlmKHRoaXMuX2NhblVzZVBhZ2luYXRpb24oKSlyZXR1cm4gdGhpcy5fZ2V0RmlsdGVyZWRTZXRVc2luZ1BhZ2luZyhlLHQscixpLHMpO2xldCBuPVwiXCIsbD0hMTtudWxsIT09aSYmdGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzJiZ0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnkmJiEwPT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzT3JkZXJCeSYmKG49aS5jb25zdHJ1Y3RDbGF1c2UoKSxsPSEwKTtjb25zdCBvPW5ldyBSO3JldHVybiBvLndoZXJlPW51bGw9PT1yP251bGw9PT10P1wiMT0xXCI6XCJcIjpuJDIocixhKSx0aGlzLl9yZXF1ZXN0U3RhbmRhcmRpc2VkJiYoby5zcWxGb3JtYXQ9XCJzdGFuZGFyZFwiKSxvLnNwYXRpYWxSZWxhdGlvbnNoaXA9dGhpcy5fbWFrZVJlbGF0aW9uc2hpcEVudW0oZSksby5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxvLm9yZGVyQnlGaWVsZHM9XCJcIiE9PW4/bi5zcGxpdChcIixcIik6bnVsbCxvLmdlb21ldHJ5PW51bGw9PT10P251bGw6dCxvLnJlbGF0aW9uUGFyYW1ldGVyPXRoaXMuX21ha2VSZWxhdGlvbnNoaXBQYXJhbShlKSx0aGlzLmV4ZWN1dGVRdWVyeShvLFwiZXhlY3V0ZUZvcklkc1wiKS50aGVuKChlPT57bnVsbD09PWUmJihlPVtdKSx0aGlzLl9jaGVja0NhbmNlbGxlZChzKTtyZXR1cm4gbmV3IHQkMihbXSxlLGwsbnVsbCl9KSl9KSl9X2V4cGFuZFBhZ2VkU2V0KGUsdCxyLGkscyl7cmV0dXJuIHRoaXMuX2V4cGFuZFBhZ2VkU2V0RmVhdHVyZVNldChlLHQscixpLHMpfV9nZXRGaWx0ZXJlZFNldFVzaW5nUGFnaW5nKGUsdCxpLHMsYSl7dHJ5e2xldCByPVwiXCIsbj0hMTtyZXR1cm4gbnVsbCE9PXMmJnRoaXMuX2xheWVyLmNhcGFiaWxpdGllcyYmdGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5JiYhMD09PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c09yZGVyQnkmJihyPXMuY29uc3RydWN0Q2xhdXNlKCksbj0hMCksdGhpcy5kYXRhYmFzZVR5cGUoKS50aGVuKChzPT57bGV0IGw9bnVsbD09PWk/bnVsbD09PXQ/XCIxPTFcIjpcIlwiOm4kMihpLHMpO3RoaXMuX2xheWVyLmRlZmluaXRpb25FeHByZXNzaW9uJiYobD1cIlwiIT09bD9cIigoXCIrdGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24rXCIpIEFORCAoXCIrbCtcIikpXCI6dGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24pO2xldCBvPXRoaXMuX21heFF1ZXJ5UmF0ZSgpO2NvbnN0IHU9dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5Lm1heFJlY29yZENvdW50O3ZvaWQgMCE9PXUmJnU8byYmKG89dSk7bGV0IGQ9bnVsbDtpZighMD09PXRoaXMuX3BhZ2VKdXN0SWRzKWQ9bmV3IHQkMihbXSxbXCJHRVRQQUdFU1wiXSxuLHtzcGF0aWFsUmVsOnRoaXMuX21ha2VSZWxhdGlvbnNoaXBFbnVtKGUpLHJlbGF0aW9uUGFyYW06dGhpcy5fbWFrZVJlbGF0aW9uc2hpcFBhcmFtKGUpLG91dEZpZWxkczp0aGlzLl9sYXllci5vYmplY3RJZEZpZWxkLHJlc3VsdFJlY29yZENvdW50Om8scmVzdWx0T2Zmc2V0OjAsZ2VvbWV0cnk6bnVsbD09PXQ/bnVsbDp0LHdoZXJlOmwsb3JkZXJCeUZpZWxkczpyLHJldHVybkdlb21ldHJ5OiExLHJldHVybklkc09ubHk6XCJmYWxzZVwiLGludGVybmFsOntzZXQ6W10sbGFzdFJldHJpZXZlZDowLGxhc3RQYWdlOjAsZnVsbHlSZXNvbHZlZDohMX19KTtlbHNlIHtsZXQgaT0hMDshMD09PXRoaXMuX3JlbW92ZUdlb21ldHJ5JiYoaT0hMSk7Y29uc3Qgcz1udWxsIT09dGhpcy5fb3ZlcnJpZGVGaWVsZHM/dGhpcy5fb3ZlcnJpZGVGaWVsZHM6dGhpcy5fZmllbGRzSW5jbHVkaW5nT2JqZWN0SWQodGhpcy5fbGF5ZXIub3V0RmllbGRzP3RoaXMuX2xheWVyLm91dEZpZWxkczpbXCIqXCJdKTtkPW5ldyB0JDIoW10sW1wiR0VUUEFHRVNcIl0sbix7c3BhdGlhbFJlbDp0aGlzLl9tYWtlUmVsYXRpb25zaGlwRW51bShlKSxyZWxhdGlvblBhcmFtOnRoaXMuX21ha2VSZWxhdGlvbnNoaXBQYXJhbShlKSxvdXRGaWVsZHM6cy5qb2luKFwiLFwiKSxyZXN1bHRSZWNvcmRDb3VudDpvLHJlc3VsdE9mZnNldDowLGdlb21ldHJ5Om51bGw9PT10P251bGw6dCx3aGVyZTpsLG9yZGVyQnlGaWVsZHM6cixyZXR1cm5HZW9tZXRyeTppLHJldHVybklkc09ubHk6XCJmYWxzZVwiLGludGVybmFsOntzZXQ6W10sbGFzdFJldHJpZXZlZDowLGxhc3RQYWdlOjAsZnVsbHlSZXNvbHZlZDohMX19KTt9cmV0dXJuIHRoaXMuX2V4cGFuZFBhZ2VkU2V0KGQsbywwLDEsYSkudGhlbigoKCk9PmQpKX0pKX1jYXRjaChuKXtyZXR1cm4gTChuKX19X2Nsb25lUGFnZURlZmluaXRpb24oZSl7cmV0dXJuIG51bGw9PT1lP251bGw6ITAhPT1lLmdyb3VwYnlwYWdlP3tncm91cGJ5cGFnZTohMSxzcGF0aWFsUmVsOmUuc3BhdGlhbFJlbCxyZWxhdGlvblBhcmFtOmUucmVsYXRpb25QYXJhbSxvdXRGaWVsZHM6ZS5vdXRGaWVsZHMscmVzdWx0UmVjb3JkQ291bnQ6ZS5yZXN1bHRSZWNvcmRDb3VudCxyZXN1bHRPZmZzZXQ6ZS5yZXN1bHRPZmZzZXQsZ2VvbWV0cnk6ZS5nZW9tZXRyeSx3aGVyZTplLndoZXJlLG9yZGVyQnlGaWVsZHM6ZS5vcmRlckJ5RmllbGRzLHJldHVybkdlb21ldHJ5OmUucmV0dXJuR2VvbWV0cnkscmV0dXJuSWRzT25seTplLnJldHVybklkc09ubHksaW50ZXJuYWw6ZS5pbnRlcm5hbH06e2dyb3VwYnlwYWdlOiEwLHNwYXRpYWxSZWw6ZS5zcGF0aWFsUmVsLHJlbGF0aW9uUGFyYW06ZS5yZWxhdGlvblBhcmFtLG91dEZpZWxkczplLm91dEZpZWxkcyxyZXN1bHRSZWNvcmRDb3VudDplLnJlc3VsdFJlY29yZENvdW50LHVzZU9JRHBhZ2luYXRpb246ZS51c2VPSURwYWdpbmF0aW9uLGdlbmVyYXRlZE9pZDplLmdlbmVyYXRlZE9pZCxncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljczplLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzLHJlc3VsdE9mZnNldDplLnJlc3VsdE9mZnNldCxvdXRTdGF0aXN0aWNzOmUub3V0U3RhdGlzdGljcyxnZW9tZXRyeTplLmdlb21ldHJ5LHdoZXJlOmUud2hlcmUsb3JkZXJCeUZpZWxkczplLm9yZGVyQnlGaWVsZHMscmV0dXJuR2VvbWV0cnk6ZS5yZXR1cm5HZW9tZXRyeSxyZXR1cm5JZHNPbmx5OmUucmV0dXJuSWRzT25seSxpbnRlcm5hbDplLmludGVybmFsfX1fZ2V0UGh5c2ljYWxQYWdlKGUsdCxpKXt0cnl7Y29uc3QgdD1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5sYXN0UmV0cmlldmVkLHI9dCxzPWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RQYWdlLGE9bmV3IFI7cmV0dXJuIHRoaXMuX3JlcXVlc3RTdGFuZGFyZGlzZWQmJihhLnNxbEZvcm1hdD1cInN0YW5kYXJkXCIpLGEuc3BhdGlhbFJlbGF0aW9uc2hpcD1lLnBhZ2VzRGVmaW5pdGlvbi5zcGF0aWFsUmVsLGEucmVsYXRpb25QYXJhbWV0ZXI9ZS5wYWdlc0RlZmluaXRpb24ucmVsYXRpb25QYXJhbSxhLm91dEZpZWxkcz1lLnBhZ2VzRGVmaW5pdGlvbi5vdXRGaWVsZHMuc3BsaXQoXCIsXCIpLGEubnVtPWUucGFnZXNEZWZpbml0aW9uLnJlc3VsdFJlY29yZENvdW50LGEuc3RhcnQ9ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFBhZ2UsYS5nZW9tZXRyeT1lLnBhZ2VzRGVmaW5pdGlvbi5nZW9tZXRyeSxhLndoZXJlPWUucGFnZXNEZWZpbml0aW9uLndoZXJlLGEub3JkZXJCeUZpZWxkcz1cIlwiIT09ZS5wYWdlc0RlZmluaXRpb24ub3JkZXJCeUZpZWxkcz9lLnBhZ2VzRGVmaW5pdGlvbi5vcmRlckJ5RmllbGRzLnNwbGl0KFwiLFwiKTpudWxsLGEucmV0dXJuR2VvbWV0cnk9ZS5wYWdlc0RlZmluaXRpb24ucmV0dXJuR2VvbWV0cnksYS5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSx0aGlzLmV4ZWN1dGVRdWVyeShhLFwiZXhlY3V0ZVwiKS50aGVuKChhPT57aWYodGhpcy5fY2hlY2tDYW5jZWxsZWQoaSksZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFBhZ2UhPT1zKXJldHVybiBcImRvbmVcIjtmb3IobGV0IHQ9MDt0PGEuZmVhdHVyZXMubGVuZ3RoO3QrKyllLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5zZXRbcit0XT1hLmZlYXR1cmVzW3RdLmF0dHJpYnV0ZXNbdGhpcy5fbGF5ZXIub2JqZWN0SWRGaWVsZF07aWYoITE9PT10aGlzLl9wYWdlSnVzdElkcylmb3IobGV0IGU9MDtlPGEuZmVhdHVyZXMubGVuZ3RoO2UrKyl0aGlzLl9mZWF0dXJlQ2FjaGVbYS5mZWF0dXJlc1tlXS5hdHRyaWJ1dGVzW3RoaXMuX2xheWVyLm9iamVjdElkRmllbGRdXT1hLmZlYXR1cmVzW2VdO3JldHVybiAodm9pZCAwPT09YS5leGNlZWRlZFRyYW5zZmVyTGltaXQmJmEuZmVhdHVyZXMubGVuZ3RoIT09ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0UmVjb3JkQ291bnR8fCExPT09YS5leGNlZWRlZFRyYW5zZmVyTGltaXQpJiYoZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuZnVsbHlSZXNvbHZlZD0hMCksZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFJldHJpZXZlZD10K2EuZmVhdHVyZXMubGVuZ3RoLGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RQYWdlKz1lLnBhZ2VzRGVmaW5pdGlvbi5yZXN1bHRSZWNvcmRDb3VudCxcImRvbmVcIn0pKX1jYXRjaChzKXtyZXR1cm4gTChzKX19X2ZpZWxkc0luY2x1ZGluZ09iamVjdElkKGUpe2lmKG51bGw9PT1lKXJldHVybiBbdGhpcy5vYmplY3RJZEZpZWxkXTtjb25zdCB0PWUuc2xpY2UoMCk7aWYodC5pbmRleE9mKFwiKlwiKT4tMSlyZXR1cm4gdDtsZXQgcj0hMTtmb3IoY29uc3QgaSBvZiB0KWlmKGkudG9VcHBlckNhc2UoKT09PXRoaXMub2JqZWN0SWRGaWVsZC50b1VwcGVyQ2FzZSgpKXtyPSEwO2JyZWFrfXJldHVybiAhMT09PXImJnQucHVzaCh0aGlzLm9iamVjdElkRmllbGQpLHR9X2dldEZlYXR1cmVzKGUsaSxzLGEpe2NvbnN0IG49W107dHJ5e2lmKC0xIT09aSYmdm9pZCAwPT09dGhpcy5fZmVhdHVyZUNhY2hlW2ldJiZuLnB1c2goaSksITA9PT10aGlzLl9jaGVja0lmTmVlZFRvRXhwYW5kS25vd25QYWdlKGUsdGhpcy5fbWF4UHJvY2Vzc2luZ1JhdGUoKSkpcmV0dXJuIHRoaXMuX2V4cGFuZFBhZ2VkU2V0KGUsdGhpcy5fbWF4UHJvY2Vzc2luZ1JhdGUoKSwwLDAsYSkudGhlbigoKCk9PnRoaXMuX2dldEZlYXR1cmVzKGUsaSxzLGEpKSk7bGV0IG89MDtmb3IobGV0IHQ9ZS5fbGFzdEZldGNoZWRJbmRleDt0PGUuX2tub3duLmxlbmd0aDt0Kyspe2lmKGUuX2xhc3RGZXRjaGVkSW5kZXgrPTEsbysrLHZvaWQgMD09PXRoaXMuX2ZlYXR1cmVDYWNoZVtlLl9rbm93blt0XV0pe2xldCByPSExO2lmKG51bGwhPT10aGlzLl9sYXllci5fbW9kZSYmdm9pZCAwIT09dGhpcy5fbGF5ZXIuX21vZGUpe2NvbnN0IGk9dGhpcy5fbGF5ZXIuX21vZGU7aWYodm9pZCAwIT09aS5fZmVhdHVyZU1hcFtlLl9rbm93blt0XV0pe2NvbnN0IHM9aS5fZmVhdHVyZU1hcFtlLl9rbm93blt0XV07bnVsbCE9PXMmJihyPSEwLHRoaXMuX2ZlYXR1cmVDYWNoZVtlLl9rbm93blt0XV09cyk7fX1pZighMT09PXImJihlLl9rbm93blt0XSE9PWkmJm4ucHVzaChlLl9rbm93blt0XSksbi5sZW5ndGg+PXRoaXMuX21heFByb2Nlc3NpbmdSYXRlKCktMSkpYnJlYWt9aWYobz49cyYmMD09PW4ubGVuZ3RoKWJyZWFrfWlmKDA9PT1uLmxlbmd0aClyZXR1cm4geCQxKFwic3VjY2Vzc1wiKTt0cnl7Y29uc3QgZT1uZXcgUjtyZXR1cm4gdGhpcy5fcmVxdWVzdFN0YW5kYXJkaXNlZCYmKGUuc3FsRm9ybWF0PVwic3RhbmRhcmRcIiksZS5vYmplY3RJZHM9bixlLm91dEZpZWxkcz1udWxsIT09dGhpcy5fb3ZlcnJpZGVGaWVsZHM/dGhpcy5fb3ZlcnJpZGVGaWVsZHM6dGhpcy5fZmllbGRzSW5jbHVkaW5nT2JqZWN0SWQodGhpcy5fbGF5ZXIub3V0RmllbGRzP3RoaXMuX2xheWVyLm91dEZpZWxkczpbXCIqXCJdKSxlLnJldHVybkdlb21ldHJ5PSEwLCEwPT09dGhpcy5fcmVtb3ZlR2VvbWV0cnkmJihlLnJldHVybkdlb21ldHJ5PSExKSxlLm91dFNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuZXhlY3V0ZVF1ZXJ5KGUsXCJleGVjdXRlXCIpLnRoZW4oKGU9PntpZih0aGlzLl9jaGVja0NhbmNlbGxlZChhKSx2b2lkIDAhPT1lLmVycm9yKXJldHVybiBMKG5ldyBFcnJvcihlLmVycm9yKSk7Zm9yKGxldCB0PTA7dDxlLmZlYXR1cmVzLmxlbmd0aDt0KyspdGhpcy5fZmVhdHVyZUNhY2hlW2UuZmVhdHVyZXNbdF0uYXR0cmlidXRlc1t0aGlzLl9sYXllci5vYmplY3RJZEZpZWxkXV09ZS5mZWF0dXJlc1t0XTtyZXR1cm4gXCJzdWNjZXNzXCJ9KSl9Y2F0Y2gobCl7cmV0dXJuIEwobCl9fWNhdGNoKGwpe3JldHVybiBMKGwpfX1fZ2V0RGlzdGluY3RQYWdlcyhlLHQsaSxzLGEsbixsLG8sdSl7cmV0dXJuIHRoaXMuX2Vuc3VyZUxvYWRlZCgpLnRoZW4oKCgpPT50aGlzLmRhdGFiYXNlVHlwZSgpKSkudGhlbigoZD0+e2xldCBoPWkucGFyc2VUcmVlLmNvbHVtbjtmb3IobGV0IGU9MDtlPHRoaXMuX2xheWVyLmZpZWxkcy5sZW5ndGg7ZSsrKWlmKHRoaXMuX2xheWVyLmZpZWxkc1tlXS5uYW1lLnRvTG93ZXJDYXNlKCk9PT1oLnRvTG93ZXJDYXNlKCkpe2g9dGhpcy5fbGF5ZXIuZmllbGRzW2VdLm5hbWU7YnJlYWt9Y29uc3QgYz1uZXcgUjt0aGlzLl9yZXF1ZXN0U3RhbmRhcmRpc2VkJiYoYy5zcWxGb3JtYXQ9XCJzdGFuZGFyZFwiKTtsZXQgcD1udWxsPT09bj9udWxsPT09YT9cIjE9MVwiOlwiXCI6biQyKG4sZCk7cmV0dXJuIHRoaXMuX2xheWVyLmRlZmluaXRpb25FeHByZXNzaW9uJiYocD1cIlwiIT09cD9cIigoXCIrdGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24rXCIpIEFORCAoXCIrcCtcIikpXCI6dGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24pLGMud2hlcmU9cCxjLnNwYXRpYWxSZWxhdGlvbnNoaXA9dGhpcy5fbWFrZVJlbGF0aW9uc2hpcEVudW0ocyksYy5yZWxhdGlvblBhcmFtZXRlcj10aGlzLl9tYWtlUmVsYXRpb25zaGlwUGFyYW0ocyksYy5nZW9tZXRyeT1udWxsPT09YT9udWxsOmEsYy5yZXR1cm5EaXN0aW5jdFZhbHVlcz0hMCxjLnJldHVybkdlb21ldHJ5PSExLGMub3V0RmllbGRzPVtoXSx0aGlzLmV4ZWN1dGVRdWVyeShjLFwiZXhlY3V0ZVwiKS50aGVuKChkPT57aWYodGhpcy5fY2hlY2tDYW5jZWxsZWQodSksIWQuaGFzT3duUHJvcGVydHkoXCJmZWF0dXJlc1wiKSlyZXR1cm4gTChuZXcgRXJyb3IoXCJVbm5leGVjdGVkIFJlc3VsdCBxdWVyeWluZyBzdGF0aXN0aWNzIGZyb20gbGF5ZXJcIikpO2xldCBjPSExO2ZvcihsZXQgZT0wO2U8dGhpcy5fbGF5ZXIuZmllbGRzLmxlbmd0aDtlKyspaWYodGhpcy5fbGF5ZXIuZmllbGRzW2VdLm5hbWU9PT1oKXtcImRhdGVcIj09PXRoaXMuX2xheWVyLmZpZWxkc1tlXS50eXBlJiYoYz0hMCk7YnJlYWt9Zm9yKGxldCBlPTA7ZTxkLmZlYXR1cmVzLmxlbmd0aDtlKyspe2lmKGMpe2NvbnN0IHQ9ZC5mZWF0dXJlc1tlXS5hdHRyaWJ1dGVzW2hdO251bGwhPT10P28ucHVzaChuZXcgRGF0ZSh0KSk6by5wdXNoKHQpO31lbHNlIG8ucHVzaChkLmZlYXR1cmVzW2VdLmF0dHJpYnV0ZXNbaF0pO2lmKG8ubGVuZ3RoPj1sKWJyZWFrfXJldHVybiAwPT09ZC5mZWF0dXJlcy5sZW5ndGg/bzpkLmZlYXR1cmVzLmxlbmd0aD09PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeS5tYXhSZWNvcmRDb3VudCYmby5sZW5ndGg8bD90aGlzLl9nZXREaXN0aW5jdFBhZ2VzKGUrZC5mZWF0dXJlcy5sZW5ndGgsdCxpLHMsYSxuLGwsbyx1KS50aGVuKChlPT4oe2NhbGN1bGF0ZWQ6ITAscmVzdWx0OmV9KSkpOm99KSl9KSl9X2Rpc3RpbmN0U3RhdChlLHQscixpLHMsYSxuKXtyZXR1cm4gdGhpcy5fZ2V0RGlzdGluY3RQYWdlcygwLGUsdCxyLGkscyxhLFtdLG4pLnRoZW4oKGU9Pih7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6ZX0pKSl9aXNUYWJsZSgpe3JldHVybiB0aGlzLl9sYXllci5pc1RhYmxlfHxudWxsPT09dGhpcy5fbGF5ZXIuZ2VvbWV0cnlUeXBlfHxcInRhYmxlXCI9PT10aGlzLl9sYXllci50eXBlfHxcIlwiPT09dGhpcy5fbGF5ZXIuZ2VvbWV0cnlUeXBlfV9jb3VudHN0YXQoZSx0LHIsaSl7cmV0dXJuIHRoaXMuZGF0YWJhc2VUeXBlKCkudGhlbigoZT0+e2NvbnN0IHM9bmV3IFI7aWYodGhpcy5fcmVxdWVzdFN0YW5kYXJkaXNlZCYmKHMuc3FsRm9ybWF0PVwic3RhbmRhcmRcIiksdGhpcy5pc1RhYmxlKCkmJnImJm51bGwhPT10JiZcIlwiIT09dClyZXR1cm4ge2NhbGN1bGF0ZWQ6ITAscmVzdWx0OjB9O2xldCBhPW51bGw9PT1pP251bGw9PT1yP1wiMT0xXCI6XCJcIjpuJDIoaSxlKTtyZXR1cm4gdGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24mJihhPVwiXCIhPT1hP1wiKChcIit0aGlzLl9sYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbitcIikgQU5EIChcIithK1wiKSlcIjp0aGlzLl9sYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbikscy53aGVyZT1hLHMud2hlcmU9YSxzLnNwYXRpYWxSZWxhdGlvbnNoaXA9dGhpcy5fbWFrZVJlbGF0aW9uc2hpcEVudW0odCkscy5yZWxhdGlvblBhcmFtZXRlcj10aGlzLl9tYWtlUmVsYXRpb25zaGlwUGFyYW0odCkscy5nZW9tZXRyeT1udWxsPT09cj9udWxsOnIscy5yZXR1cm5HZW9tZXRyeT0hMSx0aGlzLmV4ZWN1dGVRdWVyeShzLFwiZXhlY3V0ZUZvckNvdW50XCIpLnRoZW4oKGU9Pih7Y2FsY3VsYXRlZDohMCxyZXN1bHQ6ZX0pKSl9KSl9X3N0YXRzKGUsdCxpLHMsYSxuLGwpe3JldHVybiB0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+e2NvbnN0IG89dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzJiZ0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnkmJiEwPT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzU3FsRXhwcmVzc2lvbix1PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcyYmdGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5JiYhMD09PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1N0YXRpc3RpY3MsZD10aGlzLl9sYXllci5jYXBhYmlsaXRpZXMmJnRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeSYmITA9PT10aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNEaXN0aW5jdDtyZXR1cm4gXCJjb3VudFwiPT09ZT9kP3RoaXMuX2NvdW50c3RhdChlLGkscyxhKTp7Y2FsY3VsYXRlZDohMX06ITE9PT11fHwhMT09PUUkMih0KSYmITE9PT1vfHwhMT09PXQuaXNTdGFuZGFyZGl6ZWQ/XCJcIiE9PWl8fG51bGwhPT1hP3tjYWxjdWxhdGVkOiExfTp0aGlzLl9tYW51YWxTdGF0KGUsdCxuLGwpOlwiZGlzdGluY3RcIj09PWU/ITE9PT1kP1wiXCIhPT1pfHxudWxsIT09YT97Y2FsY3VsYXRlZDohMX06dGhpcy5fbWFudWFsU3RhdChlLHQsbixsKTp0aGlzLl9kaXN0aW5jdFN0YXQoZSx0LGkscyxhLG4sbCk6dGhpcy5kYXRhYmFzZVR5cGUoKS50aGVuKChuPT57aWYodGhpcy5pc1RhYmxlKCkmJnMmJm51bGwhPT1pJiZcIlwiIT09aSlyZXR1cm4ge2NhbGN1bGF0ZWQ6ITAscmVzdWx0Om51bGx9O2NvbnN0IGw9bmV3IFI7dGhpcy5fcmVxdWVzdFN0YW5kYXJkaXNlZCYmKGwuc3FsRm9ybWF0PVwic3RhbmRhcmRcIik7bGV0IG89bnVsbD09PWE/bnVsbD09PXM/XCIxPTFcIjpcIlwiOm4kMihhLG4pO3RoaXMuX2xheWVyLmRlZmluaXRpb25FeHByZXNzaW9uJiYobz1cIlwiIT09bz9cIigoXCIrdGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24rXCIpIEFORCAoXCIrbytcIikpXCI6dGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24pLGwud2hlcmU9byxsLnNwYXRpYWxSZWxhdGlvbnNoaXA9dGhpcy5fbWFrZVJlbGF0aW9uc2hpcEVudW0oaSksbC5yZWxhdGlvblBhcmFtZXRlcj10aGlzLl9tYWtlUmVsYXRpb25zaGlwUGFyYW0oaSksbC5nZW9tZXRyeT1udWxsPT09cz9udWxsOnM7Y29uc3QgdT1uZXcgbSQxO3Uuc3RhdGlzdGljVHlwZT1tJDIoZSksdS5vblN0YXRpc3RpY0ZpZWxkPW4kMih0LG4pLHUub3V0U3RhdGlzdGljRmllbGROYW1lPVwiQVJDQURFX1NUQVRfUkVTVUxUXCIsbC5yZXR1cm5HZW9tZXRyeT0hMTtsZXQgZD1cIkFSQ0FERV9TVEFUX1JFU1VMVFwiO3JldHVybiBsLm91dFN0YXRpc3RpY3M9W3VdLHRoaXMuZXhlY3V0ZVF1ZXJ5KGwsXCJleGVjdXRlXCIpLnRoZW4oKGU9PntpZighZS5oYXNPd25Qcm9wZXJ0eShcImZlYXR1cmVzXCIpfHwwPT09ZS5mZWF0dXJlcy5sZW5ndGgpcmV0dXJuIEwobmV3IEVycm9yKFwiVW5uZXhlY3RlZCBSZXN1bHQgcXVlcnlpbmcgc3RhdGlzdGljcyBmcm9tIGxheWVyXCIpKTtsZXQgdD0hMTtmb3IobGV0IHI9MDtyPGUuZmllbGRzLmxlbmd0aDtyKyspaWYoXCJBUkNBREVfU1RBVF9SRVNVTFRcIj09PWUuZmllbGRzW3JdLm5hbWUudG9VcHBlckNhc2UoKSl7ZD1lLmZpZWxkc1tyXS5uYW1lLFwiZGF0ZVwiPT09ZS5maWVsZHNbcl0udHlwZSYmKHQ9ITApO2JyZWFrfWlmKHQpe2xldCB0PWUuZmVhdHVyZXNbMF0uYXR0cmlidXRlc1tkXTtyZXR1cm4gbnVsbCE9PXQmJih0PW5ldyBEYXRlKGUuZmVhdHVyZXNbMF0uYXR0cmlidXRlc1tkXSkpLHtjYWxjdWxhdGVkOiEwLHJlc3VsdDp0fX1yZXR1cm4ge2NhbGN1bGF0ZWQ6ITAscmVzdWx0OmUuZmVhdHVyZXNbMF0uYXR0cmlidXRlc1tkXX19KSl9KSl9KSl9X3N0YXQoZSx0LHIsaSxzLGEsbil7cmV0dXJuIHRoaXMuX3N0YXRzKGUsdCxyLGkscyxhLG4pfV9jYW5Eb0FnZ3JlZ2F0ZXMoZSx0KXtyZXR1cm4gdGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9PntsZXQgZT0hMTtjb25zdCByPXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcyYmdGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5JiYhMD09PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1NxbEV4cHJlc3Npb247aWYodm9pZCAwIT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzJiZudWxsIT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5JiYhMD09PXRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1N0YXRpc3RpY3MmJiEwPT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzT3JkZXJCeSYmKGU9ITApLGUpZm9yKGxldCBpPTA7aTx0Lmxlbmd0aC0xO2krKyludWxsIT09dFtpXS53b3JraW5nZXhwciYmKCExPT09dFtpXS53b3JraW5nZXhwci5pc1N0YW5kYXJkaXplZHx8ITE9PT1FJDIodFtpXS53b3JraW5nZXhwcikmJiExPT09cikmJihlPSExKTtyZXR1cm4gITEhPT1lfSkpfV9tYWtlUmVsYXRpb25zaGlwRW51bShlKXtpZihlLmluZGV4T2YoXCJlc3JpU3BhdGlhbFJlbFJlbGF0aW9uXCIpPj0wKXJldHVybiBcInJlbGF0aW9uXCI7c3dpdGNoKGUpe2Nhc2VcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIjpyZXR1cm4gXCJyZWxhdGlvblwiO2Nhc2VcImVzcmlTcGF0aWFsUmVsSW50ZXJzZWN0c1wiOnJldHVybiBcImludGVyc2VjdHNcIjtjYXNlXCJlc3JpU3BhdGlhbFJlbENvbnRhaW5zXCI6cmV0dXJuIFwiY29udGFpbnNcIjtjYXNlXCJlc3JpU3BhdGlhbFJlbE92ZXJsYXBzXCI6cmV0dXJuIFwib3ZlcmxhcHNcIjtjYXNlXCJlc3JpU3BhdGlhbFJlbFdpdGhpblwiOnJldHVybiBcIndpdGhpblwiO2Nhc2VcImVzcmlTcGF0aWFsUmVsVG91Y2hlc1wiOnJldHVybiBcInRvdWNoZXNcIjtjYXNlXCJlc3JpU3BhdGlhbFJlbENyb3NzZXNcIjpyZXR1cm4gXCJjcm9zc2VzXCI7Y2FzZVwiZXNyaVNwYXRpYWxSZWxFbnZlbG9wZUludGVyc2VjdHNcIjpyZXR1cm4gXCJlbnZlbG9wZS1pbnRlcnNlY3RzXCJ9cmV0dXJuIGV9X21ha2VSZWxhdGlvbnNoaXBQYXJhbShlKXtyZXR1cm4gZS5pbmRleE9mKFwiZXNyaVNwYXRpYWxSZWxSZWxhdGlvblwiKT49MD9lLnNwbGl0KFwiOlwiKVsxXTpcIlwifV9nZXRBZ2dyZWdhdGVQYWdlc0RhdGFTb3VyY2VEZWZpbml0aW9uKGUsdCxyLGkscyxhLG4pe3JldHVybiB0aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5kYXRhYmFzZVR5cGUoKSkpLnRoZW4oKGw9PntsZXQgbz1cIlwiLHU9ITEsZD0hMTtudWxsIT09YSYmdGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzJiZ0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnkmJiEwPT09dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzT3JkZXJCeSYmKG89YS5jb25zdHJ1Y3RDbGF1c2UoKSxkPSEwKSx0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMmJnRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5xdWVyeSYmITE9PT10aGlzLl9sYXllci5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNQYWdpbmF0aW9uJiYoZD0hMSx1PSEwLG89dGhpcy5fbGF5ZXIub2JqZWN0SWRGaWVsZCk7Y29uc3QgaD1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj1uZXcgbSQxO3Iub25TdGF0aXN0aWNGaWVsZD1udWxsIT09dFtlXS53b3JraW5nZXhwcj9uJDIodFtlXS53b3JraW5nZXhwcixsKTpcIlwiLHIub3V0U3RhdGlzdGljRmllbGROYW1lPXRbZV0uZmllbGQsci5zdGF0aXN0aWNUeXBlPXRbZV0udG9TdGF0aXN0aWNzTmFtZSgpLGgucHVzaChyKTt9XCJcIj09PW8mJihvPWUuam9pbihcIixcIikpO2xldCBjPXRoaXMuX21heFF1ZXJ5UmF0ZSgpO2NvbnN0IHA9dGhpcy5fbGF5ZXIuY2FwYWJpbGl0aWVzLnF1ZXJ5Lm1heFJlY29yZENvdW50O3ZvaWQgMCE9PXAmJnA8YyYmKGM9cCk7bGV0IF89bnVsbD09PXM/bnVsbD09PWk/XCIxPTFcIjpcIlwiOm4kMihzLGwpO3RoaXMuX2xheWVyLmRlZmluaXRpb25FeHByZXNzaW9uJiYoXz1cIlwiIT09Xz9cIigoXCIrdGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24rXCIpIEFORCAoXCIrXytcIikpXCI6dGhpcy5fbGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24pO3JldHVybiBuZXcgdCQyKFtdLFtcIkdFVFBBR0VTXCJdLGQse2dyb3VwYnlwYWdlOiEwLHNwYXRpYWxSZWw6dGhpcy5fbWFrZVJlbGF0aW9uc2hpcEVudW0ocikscmVsYXRpb25QYXJhbTp0aGlzLl9tYWtlUmVsYXRpb25zaGlwUGFyYW0ociksb3V0RmllbGRzOltcIipcIl0sdXNlT0lEcGFnaW5hdGlvbjp1LGdlbmVyYXRlZE9pZDpuLHJlc3VsdFJlY29yZENvdW50OmMscmVzdWx0T2Zmc2V0OjAsZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3M6ZSxvdXRTdGF0aXN0aWNzOmgsZ2VvbWV0cnk6bnVsbD09PWk/bnVsbDppLHdoZXJlOl8sb3JkZXJCeUZpZWxkczpvLHJldHVybkdlb21ldHJ5OiExLHJldHVybklkc09ubHk6ITEsaW50ZXJuYWw6e2xhc3RNYXhJZDotMSxzZXQ6W10sbGFzdFJldHJpZXZlZDowLGxhc3RQYWdlOjAsZnVsbHlSZXNvbHZlZDohMX19KX0pKX1fZ2V0QWdyZWdhZ3RlUGh5c2ljYWxQYWdlKGUsaSxzKXt0cnl7bGV0IGk9ZS5wYWdlc0RlZmluaXRpb24ud2hlcmU7ITA9PT1lLnBhZ2VzRGVmaW5pdGlvbi51c2VPSURwYWdpbmF0aW9uJiYoaT1cIlwiIT09aT9cIihcIitpK1wiKSBBTkQgKFwiK2UucGFnZXNEZWZpbml0aW9uLmdlbmVyYXRlZE9pZCtcIj5cIitlLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5sYXN0TWF4SWQudG9TdHJpbmcoKStcIilcIjplLnBhZ2VzRGVmaW5pdGlvbi5nZW5lcmF0ZWRPaWQrXCI+XCIrZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdE1heElkLnRvU3RyaW5nKCkpO2NvbnN0IGE9ZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFJldHJpZXZlZCxsPWEsbz1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5sYXN0UGFnZSx1PW5ldyBSO3JldHVybiB0aGlzLl9yZXF1ZXN0U3RhbmRhcmRpc2VkJiYodS5zcWxGb3JtYXQ9XCJzdGFuZGFyZFwiKSx1LndoZXJlPWksdS5zcGF0aWFsUmVsYXRpb25zaGlwPWUucGFnZXNEZWZpbml0aW9uLnNwYXRpYWxSZWwsdS5yZWxhdGlvblBhcmFtZXRlcj1lLnBhZ2VzRGVmaW5pdGlvbi5yZWxhdGlvblBhcmFtLHUub3V0RmllbGRzPWUucGFnZXNEZWZpbml0aW9uLm91dEZpZWxkcyx1Lm91dFN0YXRpc3RpY3M9ZS5wYWdlc0RlZmluaXRpb24ub3V0U3RhdGlzdGljcyx1Lmdlb21ldHJ5PWUucGFnZXNEZWZpbml0aW9uLmdlb21ldHJ5LHUuZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3M9ZS5wYWdlc0RlZmluaXRpb24uZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3MsdS5udW09ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0UmVjb3JkQ291bnQsdS5zdGFydD1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5sYXN0UGFnZSx1LnJldHVybkdlb21ldHJ5PWUucGFnZXNEZWZpbml0aW9uLnJldHVybkdlb21ldHJ5LHUub3JkZXJCeUZpZWxkcz1cIlwiIT09ZS5wYWdlc0RlZmluaXRpb24ub3JkZXJCeUZpZWxkcz9lLnBhZ2VzRGVmaW5pdGlvbi5vcmRlckJ5RmllbGRzLnNwbGl0KFwiLFwiKTpudWxsLHRoaXMuaXNUYWJsZSgpJiZ1Lmdlb21ldHJ5JiZ1LnNwYXRpYWxSZWxhdGlvbnNoaXA/eCQxKFtdKTp0aGlzLmV4ZWN1dGVRdWVyeSh1LFwiZXhlY3V0ZVwiKS50aGVuKCh0PT57aWYodGhpcy5fY2hlY2tDYW5jZWxsZWQocyksIXQuaGFzT3duUHJvcGVydHkoXCJmZWF0dXJlc1wiKSlyZXR1cm4gTChuZXcgRXJyb3IoXCJVbm5leGVjdGVkIFJlc3VsdCBxdWVyeWluZyBhZ2dyZWdhdGVzIGZyb20gbGF5ZXJcIikpO2NvbnN0IGk9W107aWYoZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFBhZ2UhPT1vKXJldHVybiBbXTtmb3IobGV0IHI9MDtyPHQuZmVhdHVyZXMubGVuZ3RoO3IrKyllLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5zZXRbbCtyXT10LmZlYXR1cmVzW3JdLmF0dHJpYnV0ZXNbZS5wYWdlc0RlZmluaXRpb24uZ2VuZXJhdGVkT2lkXTtmb3IobGV0IGU9MDtlPHQuZmVhdHVyZXMubGVuZ3RoO2UrKylpLnB1c2gobmV3IG4kMyh7YXR0cmlidXRlczp0LmZlYXR1cmVzW2VdLmF0dHJpYnV0ZXMsZ2VvbWV0cnk6bnVsbH0pKTtyZXR1cm4gITA9PT1lLnBhZ2VzRGVmaW5pdGlvbi51c2VPSURwYWdpbmF0aW9uPzA9PT10LmZlYXR1cmVzLmxlbmd0aD9lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5mdWxseVJlc29sdmVkPSEwOmUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RNYXhJZD10LmZlYXR1cmVzW3QuZmVhdHVyZXMubGVuZ3RoLTFdLmF0dHJpYnV0ZXNbZS5wYWdlc0RlZmluaXRpb24uZ2VuZXJhdGVkT2lkXToodm9pZCAwPT09dC5leGNlZWRlZFRyYW5zZmVyTGltaXQmJnQuZmVhdHVyZXMubGVuZ3RoIT09ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0UmVjb3JkQ291bnR8fCExPT09dC5leGNlZWRlZFRyYW5zZmVyTGltaXQpJiYoZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwuZnVsbHlSZXNvbHZlZD0hMCksZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFJldHJpZXZlZD1hK3QuZmVhdHVyZXMubGVuZ3RoLGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RQYWdlKz1lLnBhZ2VzRGVmaW5pdGlvbi5yZXN1bHRSZWNvcmRDb3VudCxpfSkpfWNhdGNoKGEpe3JldHVybiBMKGEpfX1zdGF0aWMgY3JlYXRlKGUsdCxyLGkscyl7Y29uc3QgYT1uZXcga2Uoe3VybDplLG91dEZpZWxkczpudWxsPT09dD9bXCIqXCJdOnR9KTtyZXR1cm4gbmV3IHEkMSh7bGF5ZXI6YSxzcGF0aWFsUmVmZXJlbmNlOnIsbHJ1Y2FjaGU6aSxpbnRlcmNlcHRvcjpzfSl9cmVsYXRpb25zaGlwTWV0YURhdGEoKXtyZXR1cm4gdGhpcy5fbGF5ZXImJnRoaXMuX2xheWVyLnNvdXJjZSYmdGhpcy5fbGF5ZXIuc291cmNlLnNvdXJjZUpTT04mJnRoaXMuX2xheWVyLnNvdXJjZS5zb3VyY2VKU09OLnJlbGF0aW9uc2hpcHM/dGhpcy5fbGF5ZXIuc291cmNlLnNvdXJjZUpTT04ucmVsYXRpb25zaGlwczpbXX1zZXJ2aWNlVXJsKCl7cmV0dXJuIE4kMSh0aGlzLl9sYXllci5wYXJzZWRVcmwucGF0aCl9cXVlcnlBdHRhY2htZW50cyhlLHIsaSxzKXtpZih0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMuZGF0YS5zdXBwb3J0c0F0dGFjaG1lbnQmJnRoaXMuX2xheWVyLmNhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzUXVlcnlBdHRhY2htZW50cyl7Y29uc3QgdD17b2JqZWN0SWRzOltlXX07cmV0dXJuIChyJiZyPjB8fGkmJmk+MCkmJih0LnNpemU9W3ImJnI+MD9yOjAsaSYmaT4wP2k6cisxXSkscyYmcy5sZW5ndGg+MCYmKHQuYXR0YWNobWVudFR5cGVzPXMpLHRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3ImJnRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3IucHJlTGF5ZXJRdWVyeUNhbGxiYWNrKHtsYXllcjp0aGlzLl9sYXllcixxdWVyeTp0LG1ldGhvZDpcImF0dGFjaG1lbnRzXCJ9KSx0aGlzLl9sYXllci5xdWVyeUF0dGFjaG1lbnRzKHQpLnRoZW4oKHQ9Pntjb25zdCByPVtdO3JldHVybiB0JiZ0W2VdJiZ0W2VdLmZvckVhY2goKHQ9Pntjb25zdCBpPXRoaXMuX2xheWVyLnBhcnNlZFVybC5wYXRoK1wiL1wiK2UudG9TdHJpbmcoKStcIi9hdHRhY2htZW50cy9cIit0LmlkLnRvU3RyaW5nKCk7ci5wdXNoKG5ldyBlJDModC5pZCx0Lm5hbWUsdC5jb250ZW50VHlwZSx0LnNpemUsaSkpO30pKSxyfSkpfXJldHVybiB4JDEoW10pfXF1ZXJ5UmVsYXRlZEZlYXR1cmVzKGUpe2NvbnN0IHQ9e2Y6XCJqc29uXCIscmVsYXRpb25zaGlwSWQ6ZS5yZWxhdGlvbnNoaXBJZC50b1N0cmluZygpLGRlZmluaXRpb25FeHByZXNzaW9uOmUud2hlcmUsb3V0RmllbGRzOmUub3V0RmllbGRzLmpvaW4oXCIsXCIpLHJldHVybkdlb21ldHJ5OmUucmV0dXJuR2VvbWV0cnkudG9TdHJpbmcoKX07cmV0dXJuIHZvaWQgMCE9PWUucmVzdWx0T2Zmc2V0JiZudWxsIT09ZS5yZXN1bHRPZmZzZXQmJih0LnJlc3VsdE9mZnNldD1lLnJlc3VsdE9mZnNldC50b1N0cmluZygpKSx2b2lkIDAhPT1lLnJlc3VsdFJlY29yZENvdW50JiZudWxsIT09ZS5yZXN1bHRSZWNvcmRDb3VudCYmKHQucmVzdWx0UmVjb3JkQ291bnQ9ZS5yZXN1bHRSZWNvcmRDb3VudC50b1N0cmluZygpKSxlLm9yZGVyQnlGaWVsZHMmJih0Lm9yZGVyQnlGaWVsZHM9ZS5vcmRlckJ5RmllbGRzLmpvaW4oXCIsXCIpKSxlLm9iamVjdElkcy5sZW5ndGg+MCYmKHQub2JqZWN0SWRzPWUub2JqZWN0SWRzLmpvaW4oXCIsXCIpKSxlLm91dFNwYXRpYWxSZWZlcmVuY2UmJih0Lm91dFNSPUpTT04uc3RyaW5naWZ5KGUub3V0U3BhdGlhbFJlZmVyZW5jZS50b0pTT04oKSkpLHRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3ImJnRoaXMuZmVhdHVyZVNldFF1ZXJ5SW50ZXJjZXB0b3IucHJlUmVxdWVzdENhbGxiYWNrKHtsYXllcjp0aGlzLl9sYXllcixxdWVyeVBheWxvYWQ6dCxtZXRob2Q6XCJyZWxhdGVkcmVjb3Jkc1wiLHVybDp0aGlzLl9sYXllci5wYXJzZWRVcmwucGF0aCtcIi9xdWVyeVJlbGF0ZWRSZWNvcmRzXCJ9KSxVJDEodGhpcy5fbGF5ZXIucGFyc2VkVXJsLnBhdGgrXCIvcXVlcnlSZWxhdGVkUmVjb3Jkc1wiLHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6dH0pLnRoZW4oKGU9PntpZihlLmRhdGEpe2NvbnN0IHQ9e30scj1lLmRhdGE7aWYociYmci5yZWxhdGVkUmVjb3JkR3JvdXBzKXtjb25zdCBlPXIuc3BhdGlhbFJlZmVyZW5jZTtmb3IoY29uc3QgcyBvZiByLnJlbGF0ZWRSZWNvcmRHcm91cHMpe2NvbnN0IGE9cy5vYmplY3RJZCxsPVtdO2Zvcihjb25zdCB0IG9mIHMucmVsYXRlZFJlY29yZHMpe3QuZ2VvbWV0cnkmJih0Lmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U9ZSk7Y29uc3Qgcj1uZXcgbiQzKHtnZW9tZXRyeTp0Lmdlb21ldHJ5P3AkMih0Lmdlb21ldHJ5KTpudWxsLGF0dHJpYnV0ZXM6dC5hdHRyaWJ1dGVzfSk7bC5wdXNoKHIpO310W2FdPXtmZWF0dXJlczpsLGV4Y2VlZGVkVHJhbnNmZXJMaW1pdDohMD09PXIuZXhjZWVkZWRUcmFuc2ZlckxpbWl0fTt9fXJldHVybiB0fXJldHVybiBMKFwiSW52YWxpZCBSZXF1ZXN0XCIpfSkpfWdldEZlYXR1cmVCeU9iamVjdElkKGUsdCl7Y29uc3Qgcj1uZXcgeCQyKHt1cmw6dGhpcy5fbGF5ZXIucGFyc2VkVXJsLnBhdGh9KSxpPW5ldyBSO3JldHVybiBpLm91dEZpZWxkcz10LGkucmV0dXJuR2VvbWV0cnk9ITEsaS5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxpLndoZXJlPXRoaXMub2JqZWN0SWRGaWVsZCtcIj1cIitlLnRvU3RyaW5nKCksdGhpcy5mZWF0dXJlU2V0UXVlcnlJbnRlcmNlcHRvciYmdGhpcy5mZWF0dXJlU2V0UXVlcnlJbnRlcmNlcHRvci5wcmVMYXllclF1ZXJ5Q2FsbGJhY2soe2xheWVyOnRoaXMuX2xheWVyLHF1ZXJ5OmksbWV0aG9kOlwiZXhlY3V0ZVwifSksci5leGVjdXRlKGkpLnRoZW4oKGU9PjE9PT1lLmZlYXR1cmVzLmxlbmd0aD9lLmZlYXR1cmVzWzBdOm51bGwpKX1nZXRJZGVudGl0eVVzZXIoKXtyZXR1cm4gdGhpcy5sb2FkKCkudGhlbigoKCk9Pnt2YXIgZTtjb25zdCB0PW51bGw9PShlPXMkNCk/dm9pZCAwOmUuZmluZENyZWRlbnRpYWwodGhpcy5fbGF5ZXIudXJsKTtyZXR1cm4gdD90LnVzZXJJZDpudWxsfSkpfWdldE93bmluZ1N5c3RlbVVybCgpe3JldHVybiB0aGlzLmxvYWQoKS50aGVuKCgoKT0+e3ZhciByO2NvbnN0IGk9bnVsbD09KHI9cyQ0KT92b2lkIDA6ci5maW5kU2VydmVySW5mbyh0aGlzLl9sYXllci51cmwpO2lmKGkpcmV0dXJuIHgkMShpLm93bmluZ1N5c3RlbVVybCk7bGV0IG49dGhpcy5fbGF5ZXIudXJsO2NvbnN0IGw9bi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIvcmVzdC9zZXJ2aWNlc1wiKTtyZXR1cm4gbj1sPi0xP24uc3Vic3RyaW5nKDAsbCk6bixuPyhuKz1cIi9yZXN0L2luZm9cIixsJDMoKChlLHQpPT57VSQxKG4se3F1ZXJ5OntmOlwianNvblwifX0pLnRoZW4oKHQ9PntsZXQgcj1cIlwiO3QuZGF0YSYmdC5kYXRhLm93bmluZ1N5c3RlbVVybCYmKHI9dC5kYXRhLm93bmluZ1N5c3RlbVVybCksZShyKTt9KSwodD0+e2UoXCJcIik7fSkpO30pKSk6eCQxKFwiXCIpfSkpfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHkgZXh0ZW5kcyB2JDJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kZWNsYXJlZENsYXNzPVwiZXNyaS5hcmNhZGUuZmVhdHVyZXNldC5zb3VyY2VzLkZlYXR1cmVMYXllck1lbW9yeVwiLHRoaXMuX3JlbW92ZUdlb21ldHJ5PSExLHRoaXMuX292ZXJyaWRlRmllbGRzPW51bGwsdGhpcy5fZm9yY2VJc1RhYmxlPSExLGUuc3BhdGlhbFJlZmVyZW5jZSYmKHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1lLnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuX3RyYW5zcGFyZW50PSEwLHRoaXMuX21heFByb2Nlc3Npbmc9MWUzLHRoaXMuX2xheWVyPWUubGF5ZXIsdGhpcy5fd3NldD1udWxsLCEwPT09ZS5pc1RhYmxlJiYodGhpcy5fZm9yY2VJc1RhYmxlPSEwKSx2b2lkIDAhPT1lLm91dEZpZWxkcyYmKHRoaXMuX292ZXJyaWRlRmllbGRzPWUub3V0RmllbGRzKSx2b2lkIDAhPT1lLmluY2x1ZGVHZW9tZXRyeSYmKHRoaXMuX3JlbW92ZUdlb21ldHJ5PSExPT09ZS5pbmNsdWRlR2VvbWV0cnkpO31fbWF4UXVlcnlSYXRlKCl7cmV0dXJuIFMkMX1lbmQoKXtyZXR1cm4gdGhpcy5fbGF5ZXJ9b3B0aW1pc2VQYWdpbmdGZWF0dXJlUXVlcmllcygpe31sb2FkKCl7cmV0dXJuIG51bGw9PT10aGlzLl9sb2FkUHJvbWlzZSYmKHRoaXMuX2xvYWRQcm9taXNlPWwkMygoKGUsdCk9PntpZighMD09PXRoaXMuX2xheWVyLmxvYWRlZClyZXR1cm4gdGhpcy5faW5pdGlhbGlzZUZlYXR1cmVTZXQoKSx2b2lkIGUodGhpcyk7dGhpcy5fbGF5ZXIud2hlbigpLnRoZW4oKCgpPT57dHJ5e3RoaXMuX2luaXRpYWxpc2VGZWF0dXJlU2V0KCksZSh0aGlzKTt9Y2F0Y2gocil7dChyKTt9fSksdCksdGhpcy5fbGF5ZXIubG9hZCgpO30pKSksdGhpcy5fbG9hZFByb21pc2V9Z2V0IGdkYlZlcnNpb24oKXtyZXR1cm4gXCJcIn1faW5pdGlhbGlzZUZlYXR1cmVTZXQoKXtpZihudWxsPT10aGlzLnNwYXRpYWxSZWZlcmVuY2UmJih0aGlzLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5fbGF5ZXIuc3BhdGlhbFJlZmVyZW5jZSksdGhpcy5nZW9tZXRyeVR5cGU9dGhpcy5fbGF5ZXIuZ2VvbWV0cnlUeXBlLHRoaXMuZmllbGRzPXRoaXMuX2xheWVyLmZpZWxkcy5zbGljZSgwKSx0aGlzLl9sYXllci5vdXRGaWVsZHMpaWYoMT09PXRoaXMuX2xheWVyLm91dEZpZWxkcy5sZW5ndGgmJlwiKlwiPT09dGhpcy5fbGF5ZXIub3V0RmllbGRzWzBdKTtlbHNlIHtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHRoaXMuZmllbGRzKWlmKFwib2lkXCI9PT10LnR5cGUpZS5wdXNoKHQpO2Vsc2UgZm9yKGNvbnN0IHIgb2YgdGhpcy5fbGF5ZXIub3V0RmllbGRzKWlmKHIudG9Mb3dlckNhc2UoKT09PXQubmFtZS50b0xvd2VyQ2FzZSgpKXtlLnB1c2godCk7YnJlYWt9dGhpcy5maWVsZHM9ZTt9aWYobnVsbCE9PXRoaXMuX292ZXJyaWRlRmllbGRzKWlmKDE9PT10aGlzLl9vdmVycmlkZUZpZWxkcy5sZW5ndGgmJlwiKlwiPT09dGhpcy5fb3ZlcnJpZGVGaWVsZHNbMF0pdGhpcy5fb3ZlcnJpZGVGaWVsZHM9bnVsbDtlbHNlIHtjb25zdCBlPVtdLHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5maWVsZHMpaWYoXCJvaWRcIj09PXIudHlwZSllLnB1c2gociksdC5wdXNoKHIubmFtZSk7ZWxzZSBmb3IoY29uc3QgcyBvZiB0aGlzLl9vdmVycmlkZUZpZWxkcylpZihzLnRvTG93ZXJDYXNlKCk9PT1yLm5hbWUudG9Mb3dlckNhc2UoKSl7ZS5wdXNoKHIpLHQucHVzaChyLm5hbWUpO2JyZWFrfXRoaXMuZmllbGRzPWUsdGhpcy5fb3ZlcnJpZGVGaWVsZHM9dDt9dGhpcy5vYmplY3RJZEZpZWxkPXRoaXMuX2xheWVyLm9iamVjdElkRmllbGQ7Zm9yKGNvbnN0IGUgb2YgdGhpcy5maWVsZHMpXCJnbG9iYWwtaWRcIj09PWUudHlwZSYmKHRoaXMuZ2xvYmFsSWRGaWVsZD1lLm5hbWUpO3RoaXMuaGFzTT10aGlzLl9sYXllci5zdXBwb3J0c00sdGhpcy5oYXNaPXRoaXMuX2xheWVyLnN1cHBvcnRzWix0aGlzLl9kYXRhYmFzZVR5cGU9byQyLlN0YW5kYXJkaXNlZCx0aGlzLnR5cGVJZEZpZWxkPXRoaXMuX2xheWVyLnR5cGVJZEZpZWxkLHRoaXMudHlwZXM9dGhpcy5fbGF5ZXIudHlwZXM7fWlzVGFibGUoKXtyZXR1cm4gdGhpcy5fZm9yY2VJc1RhYmxlfHx0aGlzLl9sYXllci5pc1RhYmxlfHxcInRhYmxlXCI9PT10aGlzLl9sYXllci50eXBlfHwhdGhpcy5fbGF5ZXIuZ2VvbWV0cnlUeXBlfV9pc0luRmVhdHVyZVNldCgpe3JldHVybiBsJDEuSW5GZWF0dXJlU2V0fV9jYW5kaWRhdGVJZFRyYW5zZm9ybShlKXtyZXR1cm4gZX1fZ2V0U2V0KGUpe3JldHVybiBudWxsPT09dGhpcy5fd3NldD90aGlzLl9lbnN1cmVMb2FkZWQoKS50aGVuKCgoKT0+dGhpcy5fZ2V0RmlsdGVyZWRTZXQoXCJcIixudWxsLG51bGwsbnVsbCxlKSkpLnRoZW4oKGU9Pih0aGlzLl93c2V0PWUsZSkpKTp4JDEodGhpcy5fd3NldCl9X2NoYW5nZUZlYXR1cmUoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgciBvZiB0aGlzLmZpZWxkcyl0W3IubmFtZV09ZS5hdHRyaWJ1dGVzW3IubmFtZV07cmV0dXJuIG5ldyBuJDMoe2dlb21ldHJ5OiEwPT09dGhpcy5fcmVtb3ZlR2VvbWV0cnk/bnVsbDplLmdlb21ldHJ5LGF0dHJpYnV0ZXM6dH0pfV9nZXRGaWx0ZXJlZFNldChlLHIscyxpLGEpe2xldCBsPVwiXCIsbz0hMTtpZihudWxsIT09aSYmKGw9aS5jb25zdHJ1Y3RDbGF1c2UoKSxvPSEwKSx0aGlzLmlzVGFibGUoKSYmciYmbnVsbCE9PWUmJlwiXCIhPT1lKXtjb25zdCBlPW5ldyB0JDIoW10sW10sITAsbnVsbCk7cmV0dXJuIHgkMShlKX1jb25zdCBjPW5ldyBSO3JldHVybiBjLndoZXJlPW51bGw9PT1zP251bGw9PT1yP1wiMT0xXCI6XCJcIjpuJDIocyxvJDIuU3RhbmRhcmRpc2VkKSxjLnNwYXRpYWxSZWxhdGlvbnNoaXA9dGhpcy5fbWFrZVJlbGF0aW9uc2hpcEVudW0oZSksYy5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxjLm9yZGVyQnlGaWVsZHM9XCJcIiE9PWw/bC5zcGxpdChcIixcIik6bnVsbCxjLmdlb21ldHJ5PW51bGw9PT1yP251bGw6cixjLnJldHVybkdlb21ldHJ5PSEwLGMucmVsYXRpb25QYXJhbWV0ZXI9dGhpcy5fbWFrZVJlbGF0aW9uc2hpcFBhcmFtKGUpLHRoaXMuX2xheWVyLnF1ZXJ5RmVhdHVyZXMoYykudGhlbigoZT0+e2lmKG51bGw9PT1lKXJldHVybiBuZXcgdCQyKFtdLFtdLG8sbnVsbCk7dGhpcy5fY2hlY2tDYW5jZWxsZWQoYSk7Y29uc3QgdD1bXTtlLmZlYXR1cmVzLmZvckVhY2goKGU9Pntjb25zdCByPWUuYXR0cmlidXRlc1t0aGlzLl9sYXllci5vYmplY3RJZEZpZWxkXTt0LnB1c2gociksdGhpcy5fZmVhdHVyZUNhY2hlW3JdPXRoaXMuX2NoYW5nZUZlYXR1cmUoZSk7fSkpO3JldHVybiBuZXcgdCQyKFtdLHQsbyxudWxsKX0pKX1fbWFrZVJlbGF0aW9uc2hpcEVudW0oZSl7aWYoZS5pbmRleE9mKFwiZXNyaVNwYXRpYWxSZWxSZWxhdGlvblwiKT49MClyZXR1cm4gXCJyZWxhdGlvblwiO3N3aXRjaChlKXtjYXNlXCJlc3JpU3BhdGlhbFJlbFJlbGF0aW9uXCI6cmV0dXJuIFwicmVsYXRpb25cIjtjYXNlXCJlc3JpU3BhdGlhbFJlbEludGVyc2VjdHNcIjpyZXR1cm4gXCJpbnRlcnNlY3RzXCI7Y2FzZVwiZXNyaVNwYXRpYWxSZWxDb250YWluc1wiOnJldHVybiBcImNvbnRhaW5zXCI7Y2FzZVwiZXNyaVNwYXRpYWxSZWxPdmVybGFwc1wiOnJldHVybiBcIm92ZXJsYXBzXCI7Y2FzZVwiZXNyaVNwYXRpYWxSZWxXaXRoaW5cIjpyZXR1cm4gXCJ3aXRoaW5cIjtjYXNlXCJlc3JpU3BhdGlhbFJlbFRvdWNoZXNcIjpyZXR1cm4gXCJ0b3VjaGVzXCI7Y2FzZVwiZXNyaVNwYXRpYWxSZWxDcm9zc2VzXCI6cmV0dXJuIFwiY3Jvc3Nlc1wiO2Nhc2VcImVzcmlTcGF0aWFsUmVsRW52ZWxvcGVJbnRlcnNlY3RzXCI6cmV0dXJuIFwiZW52ZWxvcGUtaW50ZXJzZWN0c1wifXJldHVybiBlfV9tYWtlUmVsYXRpb25zaGlwUGFyYW0oZSl7cmV0dXJuIGUuaW5kZXhPZihcImVzcmlTcGF0aWFsUmVsUmVsYXRpb25cIik+PTA/ZS5zcGxpdChcIjpcIilbMV06XCJcIn1fcXVlcnlBbGxGZWF0dXJlcygpe2lmKHRoaXMuX3dzZXQpcmV0dXJuIHgkMSh0aGlzLl93c2V0KTtjb25zdCBlPW5ldyBSO3JldHVybiBlLndoZXJlPVwiMT0xXCIsdGhpcy5fZW5zdXJlTG9hZGVkKCkudGhlbigoKCk9PntpZih0aGlzLl9sYXllci5zb3VyY2UmJnRoaXMuX2xheWVyLnNvdXJjZS5pdGVtcyl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5fbGF5ZXIuc291cmNlLml0ZW1zLmZvckVhY2goKHQ9Pntjb25zdCByPXQuYXR0cmlidXRlc1t0aGlzLl9sYXllci5vYmplY3RJZEZpZWxkXTtlLnB1c2gociksdGhpcy5fZmVhdHVyZUNhY2hlW3JdPXRoaXMuX2NoYW5nZUZlYXR1cmUodCk7fSkpLHRoaXMuX3dzZXQ9bmV3IHQkMihbXSxlLCExLG51bGwpLHRoaXMuX3dzZXR9cmV0dXJuIHRoaXMuX2xheWVyLnF1ZXJ5RmVhdHVyZXMoZSkudGhlbigoZT0+e2NvbnN0IHQ9W107cmV0dXJuIGUuZmVhdHVyZXMuZm9yRWFjaCgoZT0+e2NvbnN0IHI9ZS5hdHRyaWJ1dGVzW3RoaXMuX2xheWVyLm9iamVjdElkRmllbGRdO3QucHVzaChyKSx0aGlzLl9mZWF0dXJlQ2FjaGVbcl09dGhpcy5fY2hhbmdlRmVhdHVyZShlKTt9KSksdGhpcy5fd3NldD1uZXcgdCQyKFtdLHQsITEsbnVsbCksdGhpcy5fd3NldH0pKX0pKX1fZ2V0RmVhdHVyZXMoZSxzLGkpe2NvbnN0IGE9W107LTEhPT1zJiZ2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbc10mJmEucHVzaChzKTtmb3IobGV0IHQ9ZS5fbGFzdEZldGNoZWRJbmRleDt0PGUuX2tub3duLmxlbmd0aCYmKGUuX2xhc3RGZXRjaGVkSW5kZXgrPTEsISh2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbZS5fa25vd25bdF1dJiYoZS5fa25vd25bdF0hPT1zJiZhLnB1c2goZS5fa25vd25bdF0pLGEubGVuZ3RoPmkpKSk7dCsrKTtyZXR1cm4gMD09PWEubGVuZ3RoP3gkMShcInN1Y2Nlc3NcIik6TChuZXcgRXJyb3IoXCJVbmFjY291bnRlZCBmb3IgRmVhdHVyZXMuIE5vdCBpbiBGZWF0dXJlIENvbGxlY3Rpb25cIikpfV9yZWZpbmVTZXRCbG9jayhlKXtyZXR1cm4geCQxKGUpfV9zdGF0KCl7cmV0dXJuIHgkMSh7Y2FsY3VsYXRlZDohMX0pfV9jYW5Eb0FnZ3JlZ2F0ZXMoKXtyZXR1cm4geCQxKCExKX1yZWxhdGlvbnNoaXBNZXRhRGF0YSgpe3JldHVybiBbXX1zdGF0aWMgX2Nsb25lQXR0cihlKXtjb25zdCB0PXt9O2Zvcihjb25zdCByIGluIGUpdFtyXT1lW3JdO3JldHVybiB0fW5hdGl2ZUNhcGFiaWxpdGllcygpe3JldHVybiB7dGl0bGU6dGhpcy5fbGF5ZXIudGl0bGUsY2FuUXVlcnlSZWxhdGVkOiExLHNvdXJjZTp0aGlzLGNhcGFiaWxpdGllczp0aGlzLl9sYXllci5jYXBhYmlsaXRpZXMsZGF0YWJhc2VUeXBlOnRoaXMuX2RhdGFiYXNlVHlwZSxyZXF1ZXN0U3RhbmRhcmRpc2VkOiEwfX1zdGF0aWMgY3JlYXRlKGUsdCl7bGV0IHI9ZS5sYXllckRlZmluaXRpb24ub2JqZWN0SWRGaWVsZDtjb25zdCBpPWUubGF5ZXJEZWZpbml0aW9uLnR5cGVJZEZpZWxkP2UubGF5ZXJEZWZpbml0aW9uLnR5cGVJZEZpZWxkOlwiXCIsbD1bXTtpZihlLmxheWVyRGVmaW5pdGlvbi50eXBlcylmb3IoY29uc3QgcyBvZiBlLmxheWVyRGVmaW5pdGlvbi50eXBlcylsLnB1c2godSQzLmZyb21KU09OKHMpKTtsZXQgbj1lLmxheWVyRGVmaW5pdGlvbi5nZW9tZXRyeVR5cGU7dm9pZCAwPT09biYmKG49ZS5mZWF0dXJlU2V0Lmdlb21ldHJ5VHlwZXx8XCJcIik7bGV0IG89ZS5mZWF0dXJlU2V0LmZlYXR1cmVzO2NvbnN0IHU9dC50b0pTT04oKTtpZihcIlwiPT09cnx8dm9pZCAwPT09cil7bGV0IHQ9ITE7Zm9yKGNvbnN0IHMgb2YgZS5sYXllckRlZmluaXRpb24uZmllbGRzKWlmKFwib2lkXCI9PT1zLnR5cGV8fFwiZXNyaUZpZWxkVHlwZU9JRFwiPT09cy50eXBlKXtyPXMubmFtZSx0PSEwO2JyZWFrfWlmKCExPT09dCl7bGV0IHQ9XCJGSURcIixzPSEwLGk9MDtmb3IoO3M7KXtsZXQgcj0hMDtmb3IoY29uc3QgcyBvZiBlLmxheWVyRGVmaW5pdGlvbi5maWVsZHMpaWYocy5uYW1lPT09dCl7cj0hMTticmVha30hMD09PXI/cz0hMTooaSsrLHQ9XCJGSURcIitpLnRvU3RyaW5nKCkpO31lLmxheWVyRGVmaW5pdGlvbi5maWVsZHMucHVzaCh7dHlwZTpcImVzcmlGaWVsZFR5cGVPSURcIixuYW1lOnQsYWxpYXM6dH0pO2NvbnN0IGE9W107Zm9yKGxldCByPTA7cjxvLmxlbmd0aDtyKyspYS5wdXNoKHtnZW9tZXRyeTplLmZlYXR1cmVTZXQuZmVhdHVyZXNbcl0uZ2VvbWV0cnksYXR0cmlidXRlczplLmZlYXR1cmVTZXQuZmVhdHVyZXNbcl0uYXR0cmlidXRlcz90aGlzLl9jbG9uZUF0dHIoZS5mZWF0dXJlU2V0LmZlYXR1cmVzW3JdLmF0dHJpYnV0ZXMpOnt9fSksYVtyXS5hdHRyaWJ1dGVzW3RdPXI7bz1hLHI9dDt9fWNvbnN0IGg9W107Zm9yKGNvbnN0IHMgb2YgZS5sYXllckRlZmluaXRpb24uZmllbGRzKXMgaW5zdGFuY2VvZiB5JDE/aC5wdXNoKHMpOmgucHVzaCh5JDEuZnJvbUpTT04ocykpO2xldCBjPW47c3dpdGNoKGMpe2Nhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6Yz1cInBvaW50XCI7YnJlYWs7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjpjPVwicG9seWxpbmVcIjticmVhaztjYXNlXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6Yz1cInBvbHlnb25cIjticmVhaztjYXNlXCJlc3JpR2VvbWV0cnlFeHRlbnRcIjpjPVwiZXh0ZW50XCI7YnJlYWs7Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiOmM9XCJtdWx0aXBvaW50XCI7fWZvcihjb25zdCBhIG9mIG8pYS5nZW9tZXRyeSYmYS5nZW9tZXRyeSBpbnN0YW5jZW9mIGMkMz09ITEmJihhLmdlb21ldHJ5LnR5cGU9Yyx2b2lkIDA9PT1hLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UmJihhLmdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2U9dSkpO2NvbnN0IGY9e291dEZpZWxkczpbXCIqXCJdLHNvdXJjZTpvLGZpZWxkczpoLHR5cGVzOmwsdHlwZUlkRmllbGQ6aSxvYmplY3RJZEZpZWxkOnIsc3BhdGlhbFJlZmVyZW5jZTp0fTtmLmdlb21ldHJ5VHlwZT1jfHxcInBvaW50XCI7Y29uc3QgXz1uZXcga2UoZik7cmV0dXJuIG5ldyB5KHtsYXllcjpfLHNwYXRpYWxSZWZlcmVuY2U6dCxpc1RhYmxlOm51bGw9PT1jfHxcIlwiPT09Y30pfXF1ZXJ5QXR0YWNobWVudHMoKXtyZXR1cm4geCQxKFtdKX1nZXRGZWF0dXJlQnlPYmplY3RJZChlKXtjb25zdCB0PW5ldyBSO3JldHVybiB0LndoZXJlPXRoaXMub2JqZWN0SWRGaWVsZCtcIj1cIitlLnRvU3RyaW5nKCksdGhpcy5fbGF5ZXIucXVlcnlGZWF0dXJlcyh0KS50aGVuKChlPT4xPT09ZS5mZWF0dXJlcy5sZW5ndGg/ZS5mZWF0dXJlc1swXTpudWxsKSl9Z2V0T3duaW5nU3lzdGVtVXJsKCl7cmV0dXJuIHgkMShcIlwiKX1nZXRJZGVudGl0eVVzZXIoKXtyZXR1cm4geCQxKFwiXCIpfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHUgZXh0ZW5kcyB2JDJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kZWNsYXJlZENsYXNzPVwiZXNyaS5hcmNhZGUuZmVhdHVyZXNldC5zb3VyY2VzLkZlYXR1cmVMYXllclJlbGF0ZWRcIix0aGlzLl9maW5kT2JqZWN0SWQ9LTEsdGhpcy5fcmVxdWVzdFN0YW5kYXJkaXNlZD0hMSx0aGlzLl9yZW1vdmVHZW9tZXRyeT0hMSx0aGlzLl9vdmVycmlkZUZpZWxkcz1udWxsLHRoaXMuZmVhdHVyZU9iamVjdElkPW51bGwsdGhpcy5yZWxhdGVkTGF5ZXI9bnVsbCx0aGlzLnJlbGF0aW9uc2hpcD1udWxsLGUuc3BhdGlhbFJlZmVyZW5jZSYmKHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1lLnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuX3RyYW5zcGFyZW50PSEwLHRoaXMuX21heFByb2Nlc3Npbmc9MWUzLHRoaXMuX2xheWVyPWUubGF5ZXIsdGhpcy5fd3NldD1udWxsLHRoaXMuX2ZpbmRPYmplY3RJZD1lLm9iamVjdElkLHRoaXMuZmVhdHVyZU9iamVjdElkPWUub2JqZWN0SWQsdGhpcy5yZWxhdGlvbnNoaXA9ZS5yZWxhdGlvbnNoaXAsdGhpcy5yZWxhdGVkTGF5ZXI9ZS5yZWxhdGVkTGF5ZXIsdm9pZCAwIT09ZS5vdXRGaWVsZHMmJih0aGlzLl9vdmVycmlkZUZpZWxkcz1lLm91dEZpZWxkcyksdm9pZCAwIT09ZS5pbmNsdWRlR2VvbWV0cnkmJih0aGlzLl9yZW1vdmVHZW9tZXRyeT0hMT09PWUuaW5jbHVkZUdlb21ldHJ5KTt9X21heFF1ZXJ5UmF0ZSgpe3JldHVybiBTJDF9ZW5kKCl7cmV0dXJuIHRoaXMuX2xheWVyfW9wdGltaXNlUGFnaW5nRmVhdHVyZVF1ZXJpZXMoKXt9bG9hZCgpe3JldHVybiBudWxsPT09dGhpcy5fbG9hZFByb21pc2UmJih0aGlzLl9sb2FkUHJvbWlzZT1sJDMoKChlLGkpPT57cyQxKFt0aGlzLl9sYXllci5sb2FkKCksdGhpcy5yZWxhdGVkTGF5ZXIubG9hZCgpXSkudGhlbigoKCk9Pnt0aGlzLl9pbml0aWFsaXNlRmVhdHVyZVNldCgpLGUodGhpcyk7fSksaSk7fSkpKSx0aGlzLl9sb2FkUHJvbWlzZX1uYXRpdmVDYXBhYmlsaXRpZXMoKXtyZXR1cm4gdGhpcy5yZWxhdGVkTGF5ZXIubmF0aXZlQ2FwYWJpbGl0aWVzKCl9X2luaXRpYWxpc2VGZWF0dXJlU2V0KCl7aWYobnVsbD09dGhpcy5zcGF0aWFsUmVmZXJlbmNlJiYodGhpcy5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuX2xheWVyLnNwYXRpYWxSZWZlcmVuY2UpLHRoaXMuZ2VvbWV0cnlUeXBlPXRoaXMucmVsYXRlZExheWVyLmdlb21ldHJ5VHlwZSx0aGlzLmZpZWxkcz10aGlzLnJlbGF0ZWRMYXllci5maWVsZHMuc2xpY2UoMCksbnVsbCE9PXRoaXMuX292ZXJyaWRlRmllbGRzKWlmKDE9PT10aGlzLl9vdmVycmlkZUZpZWxkcy5sZW5ndGgmJlwiKlwiPT09dGhpcy5fb3ZlcnJpZGVGaWVsZHNbMF0pdGhpcy5fb3ZlcnJpZGVGaWVsZHM9bnVsbDtlbHNlIHtjb25zdCBlPVtdLHQ9W107Zm9yKGNvbnN0IGkgb2YgdGhpcy5maWVsZHMpaWYoXCJvaWRcIj09PWkudHlwZSllLnB1c2goaSksdC5wdXNoKGkubmFtZSk7ZWxzZSBmb3IoY29uc3QgciBvZiB0aGlzLl9vdmVycmlkZUZpZWxkcylpZihyLnRvTG93ZXJDYXNlKCk9PT1pLm5hbWUudG9Mb3dlckNhc2UoKSl7ZS5wdXNoKGkpLHQucHVzaChpLm5hbWUpO2JyZWFrfXRoaXMuZmllbGRzPWUsdGhpcy5fb3ZlcnJpZGVGaWVsZHM9dDt9Y29uc3QgZT10aGlzLl9sYXllci5uYXRpdmVDYXBhYmlsaXRpZXMoKTtlJiYodGhpcy5fZGF0YWJhc2VUeXBlPWUuZGF0YWJhc2VUeXBlLHRoaXMuX3JlcXVlc3RTdGFuZGFyZGlzZWQ9ZS5yZXF1ZXN0U3RhbmRhcmRpc2VkKSx0aGlzLm9iamVjdElkRmllbGQ9dGhpcy5yZWxhdGVkTGF5ZXIub2JqZWN0SWRGaWVsZCx0aGlzLmdsb2JhbElkRmllbGQ9dGhpcy5yZWxhdGVkTGF5ZXIuZ2xvYmFsSWRGaWVsZCx0aGlzLmhhc009dGhpcy5yZWxhdGVkTGF5ZXIuc3VwcG9ydHNNLHRoaXMuaGFzWj10aGlzLnJlbGF0ZWRMYXllci5zdXBwb3J0c1osdGhpcy50eXBlSWRGaWVsZD10aGlzLnJlbGF0ZWRMYXllci50eXBlSWRGaWVsZCx0aGlzLnR5cGVzPXRoaXMucmVsYXRlZExheWVyLnR5cGVzO31kYXRhYmFzZVR5cGUoKXtyZXR1cm4gdGhpcy5yZWxhdGVkTGF5ZXIuZGF0YWJhc2VUeXBlKCkudGhlbigoKCk9Pih0aGlzLl9kYXRhYmFzZVR5cGU9dGhpcy5yZWxhdGVkTGF5ZXIuX2RhdGFiYXNlVHlwZSx0aGlzLl9kYXRhYmFzZVR5cGUpKSl9aXNUYWJsZSgpe3JldHVybiB0aGlzLnJlbGF0ZWRMYXllci5pc1RhYmxlKCl9X2lzSW5GZWF0dXJlU2V0KCl7cmV0dXJuIGwkMS5JbkZlYXR1cmVTZXR9X2NhbmRpZGF0ZUlkVHJhbnNmb3JtKGUpe3JldHVybiBlfV9nZXRTZXQoZSl7cmV0dXJuIG51bGw9PT10aGlzLl93c2V0P3RoaXMuX2Vuc3VyZUxvYWRlZCgpLnRoZW4oKCgpPT50aGlzLl9nZXRGaWx0ZXJlZFNldChcIlwiLG51bGwsbnVsbCxudWxsLGUpKSkudGhlbigoZT0+KHRoaXMuX3dzZXQ9ZSxlKSkpOngkMSh0aGlzLl93c2V0KX1fY2hhbmdlRmVhdHVyZShlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBpIG9mIHRoaXMuZmllbGRzKXRbaS5uYW1lXT1lLmF0dHJpYnV0ZXNbaS5uYW1lXTtyZXR1cm4gbmV3IG4kMyh7Z2VvbWV0cnk6ITA9PT10aGlzLl9yZW1vdmVHZW9tZXRyeT9udWxsOmUuZ2VvbWV0cnksYXR0cmlidXRlczp0fSl9X2dldEZpbHRlcmVkU2V0KGUsdCxpLHIscyl7cmV0dXJuIHRoaXMuZGF0YWJhc2VUeXBlKCkudGhlbigoKCk9PntpZih0aGlzLmlzVGFibGUoKSYmdCYmbnVsbCE9PWUmJlwiXCIhPT1lKXtyZXR1cm4gbmV3IHQkMihbXSxbXSwhMCxudWxsKX1jb25zdCBhPXRoaXMuX2xheWVyLm5hdGl2ZUNhcGFiaWxpdGllcygpO2lmKCExPT09YS5jYW5RdWVyeVJlbGF0ZWQpe3JldHVybiBuZXcgdCQyKFtdLFtdLCEwLG51bGwpfWlmKGEuY2FwYWJpbGl0aWVzLnF1ZXJ5UmVsYXRlZCYmYS5jYXBhYmlsaXRpZXMucXVlcnlSZWxhdGVkLnN1cHBvcnRzUGFnaW5hdGlvbilyZXR1cm4gdGhpcy5fZ2V0RmlsdGVyZWRTZXRVc2luZ1BhZ2luZyhlLHQsaSxyLHMpO2xldCBuPVwiXCIsZD0hMTtudWxsIT09ciYmYS5jYXBhYmlsaXRpZXMmJmEuY2FwYWJpbGl0aWVzLnF1ZXJ5UmVsYXRlZCYmITA9PT1hLmNhcGFiaWxpdGllcy5xdWVyeVJlbGF0ZWQuc3VwcG9ydHNPcmRlckJ5JiYobj1yLmNvbnN0cnVjdENsYXVzZSgpLGQ9ITApO2NvbnN0IHU9bmV3IGwkNDt1Lm9iamVjdElkcz1bdGhpcy5fZmluZE9iamVjdElkXTtjb25zdCBoPW51bGwhPT10aGlzLl9vdmVycmlkZUZpZWxkcz90aGlzLl9vdmVycmlkZUZpZWxkczp0aGlzLl9maWVsZHNJbmNsdWRpbmdPYmplY3RJZCh0aGlzLnJlbGF0ZWRMYXllci5maWVsZHM/dGhpcy5yZWxhdGVkTGF5ZXIuZmllbGRzLm1hcCgoZT0+ZS5uYW1lKSk6W1wiKlwiXSk7dS5vdXRGaWVsZHM9aCx1LnJlbGF0aW9uc2hpcElkPXRoaXMucmVsYXRpb25zaGlwLmlkLHUud2hlcmU9XCIxPTFcIjtsZXQgYz0hMDtyZXR1cm4gITA9PT10aGlzLl9yZW1vdmVHZW9tZXRyeSYmKGM9ITEpLHUucmV0dXJuR2VvbWV0cnk9Yyx0aGlzLl9yZXF1ZXN0U3RhbmRhcmRpc2VkJiYodS5zcWxGb3JtYXQ9XCJzdGFuZGFyZFwiKSx1Lm91dFNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHUub3JkZXJCeUZpZWxkcz1cIlwiIT09bj9uLnNwbGl0KFwiLFwiKTpudWxsLGEuc291cmNlLnF1ZXJ5UmVsYXRlZEZlYXR1cmVzKHUpLnRoZW4oKHI9Pnt0aGlzLl9jaGVja0NhbmNlbGxlZChzKTtjb25zdCBhPXJbdGhpcy5fZmluZE9iamVjdElkXT9yW3RoaXMuX2ZpbmRPYmplY3RJZF0uZmVhdHVyZXM6W10sbj1bXTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKyl0aGlzLl9mZWF0dXJlQ2FjaGVbYVtlXS5hdHRyaWJ1dGVzW3RoaXMuX2xheWVyLm9iamVjdElkRmllbGRdXT1hW2VdLG4ucHVzaChhW2VdLmF0dHJpYnV0ZXNbdGhpcy5fbGF5ZXIub2JqZWN0SWRGaWVsZF0pO2NvbnN0IG89dCYmbnVsbCE9PWUmJlwiXCIhPT1lLHU9bnVsbCE9aTtyZXR1cm4gbmV3IHQkMihvfHx1P246W10sb3x8dT9bXTpuLGQsbnVsbCl9KSl9KSl9X2ZpZWxkc0luY2x1ZGluZ09iamVjdElkKGUpe2lmKG51bGw9PT1lKXJldHVybiBbdGhpcy5vYmplY3RJZEZpZWxkXTtjb25zdCB0PWUuc2xpY2UoMCk7aWYodC5pbmRleE9mKFwiKlwiKT4tMSlyZXR1cm4gdDtsZXQgaT0hMTtmb3IoY29uc3QgciBvZiB0KWlmKHIudG9VcHBlckNhc2UoKT09PXRoaXMub2JqZWN0SWRGaWVsZC50b1VwcGVyQ2FzZSgpKXtpPSEwO2JyZWFrfXJldHVybiAhMT09PWkmJnQucHVzaCh0aGlzLm9iamVjdElkRmllbGQpLHR9X2dldEZpbHRlcmVkU2V0VXNpbmdQYWdpbmcoZSx0LGkscyxhKXt0cnl7bGV0IHI9XCJcIixuPSExO2NvbnN0IGQ9dGhpcy5fbGF5ZXIubmF0aXZlQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIG51bGwhPT1zJiZkJiZkLmNhcGFiaWxpdGllcy5xdWVyeVJlbGF0ZWQmJiEwPT09ZC5jYXBhYmlsaXRpZXMucXVlcnlSZWxhdGVkLnN1cHBvcnRzT3JkZXJCeSYmKHI9cy5jb25zdHJ1Y3RDbGF1c2UoKSxuPSEwKSx0aGlzLmRhdGFiYXNlVHlwZSgpLnRoZW4oKCgpPT57Y29uc3Qgcz1cIjE9MVwiO2xldCBvPXRoaXMuX21heFF1ZXJ5UmF0ZSgpO2NvbnN0IHU9ZC5jYXBhYmlsaXRpZXMucXVlcnkubWF4UmVjb3JkQ291bnQ7dm9pZCAwIT09dSYmdTxvJiYobz11KTtjb25zdCBoPXQmJm51bGwhPT1lJiZcIlwiIT09ZSxjPW51bGwhPWk7bGV0IHA9bnVsbCx5PSEwOyEwPT09dGhpcy5fcmVtb3ZlR2VvbWV0cnkmJih5PSExKTtjb25zdCBmPW51bGwhPT10aGlzLl9vdmVycmlkZUZpZWxkcz90aGlzLl9vdmVycmlkZUZpZWxkczp0aGlzLl9maWVsZHNJbmNsdWRpbmdPYmplY3RJZCh0aGlzLnJlbGF0ZWRMYXllci5maWVsZHM/dGhpcy5yZWxhdGVkTGF5ZXIuZmllbGRzLm1hcCgoZT0+ZS5uYW1lKSk6W1wiKlwiXSk7cmV0dXJuIHA9bmV3IHQkMihofHxjP1tcIkdFVFBBR0VTXCJdOltdLGh8fGM/W106W1wiR0VUUEFHRVNcIl0sbix7b3V0RmllbGRzOmYuam9pbihcIixcIikscmVzdWx0UmVjb3JkQ291bnQ6byxyZXN1bHRPZmZzZXQ6MCxvYmplY3RJZHM6W3RoaXMuX2ZpbmRPYmplY3RJZF0sd2hlcmU6cyxvcmRlckJ5RmllbGRzOnIscmV0dXJuR2VvbWV0cnk6eSxyZXR1cm5JZHNPbmx5OlwiZmFsc2VcIixpbnRlcm5hbDp7c2V0OltdLGxhc3RSZXRyaWV2ZWQ6MCxsYXN0UGFnZTowLGZ1bGx5UmVzb2x2ZWQ6ITF9fSksdGhpcy5fZXhwYW5kUGFnZWRTZXQocCxvLDAsMCxhKS50aGVuKCgoKT0+cCkpfSkpfWNhdGNoKG4pe3JldHVybiBMKG4pfX1fZXhwYW5kUGFnZWRTZXQoZSx0LGkscixzKXtyZXR1cm4gdGhpcy5fZXhwYW5kUGFnZWRTZXRGZWF0dXJlU2V0KGUsdCxpLHIscyl9X2Nsb25lUGFnZURlZmluaXRpb24oZSl7cmV0dXJuIG51bGw9PT1lP251bGw6ITAhPT1lLmdyb3VwYnlwYWdlP3tncm91cGJ5cGFnZTohMSxvdXRGaWVsZHM6ZS5vdXRGaWVsZHMscmVzdWx0UmVjb3JkQ291bnQ6ZS5yZXN1bHRSZWNvcmRDb3VudCxyZXN1bHRPZmZzZXQ6ZS5yZXN1bHRPZmZzZXQsd2hlcmU6ZS53aGVyZSxvYmplY3RJZHM6ZS5vYmplY3RJZHMsb3JkZXJCeUZpZWxkczplLm9yZGVyQnlGaWVsZHMscmV0dXJuR2VvbWV0cnk6ZS5yZXR1cm5HZW9tZXRyeSxyZXR1cm5JZHNPbmx5OmUucmV0dXJuSWRzT25seSxpbnRlcm5hbDplLmludGVybmFsfTp7Z3JvdXBieXBhZ2U6ITAsb3V0RmllbGRzOmUub3V0RmllbGRzLHJlc3VsdFJlY29yZENvdW50OmUucmVzdWx0UmVjb3JkQ291bnQsdXNlT0lEcGFnaW5hdGlvbjplLnVzZU9JRHBhZ2luYXRpb24sZ2VuZXJhdGVkT2lkOmUuZ2VuZXJhdGVkT2lkLGdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzOmUuZ3JvdXBCeUZpZWxkc0ZvclN0YXRpc3RpY3MscmVzdWx0T2Zmc2V0OmUucmVzdWx0T2Zmc2V0LG91dFN0YXRpc3RpY3M6ZS5vdXRTdGF0aXN0aWNzLGdlb21ldHJ5OmUuZ2VvbWV0cnksd2hlcmU6ZS53aGVyZSxvYmplY3RJZHM6ZS5vYmplY3RJZHMsb3JkZXJCeUZpZWxkczplLm9yZGVyQnlGaWVsZHMscmV0dXJuR2VvbWV0cnk6ZS5yZXR1cm5HZW9tZXRyeSxyZXR1cm5JZHNPbmx5OmUucmV0dXJuSWRzT25seSxpbnRlcm5hbDplLmludGVybmFsfX1fZ2V0UGh5c2ljYWxQYWdlKGUsdCxpKXt0cnl7Y29uc3QgdD1lLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5sYXN0UmV0cmlldmVkLHI9dCxzPWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RQYWdlLGE9dGhpcy5fbGF5ZXIubmF0aXZlQ2FwYWJpbGl0aWVzKCksbj1uZXcgbCQ0O3JldHVybiAhMD09PXRoaXMuX3JlcXVlc3RTdGFuZGFyZGlzZWQmJihuLnNxbEZvcm1hdD1cInN0YW5kYXJkXCIpLG4ucmVsYXRpb25zaGlwSWQ9dGhpcy5yZWxhdGlvbnNoaXAuaWQsbi5vYmplY3RJZHM9ZS5wYWdlc0RlZmluaXRpb24ub2JqZWN0SWRzLG4ucmVzdWx0T2Zmc2V0PWUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RQYWdlLG4ucmVzdWx0UmVjb3JkQ291bnQ9ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0UmVjb3JkQ291bnQsbi5vdXRGaWVsZHM9ZS5wYWdlc0RlZmluaXRpb24ub3V0RmllbGRzLnNwbGl0KFwiLFwiKSxuLndoZXJlPWUucGFnZXNEZWZpbml0aW9uLndoZXJlLG4ub3JkZXJCeUZpZWxkcz1cIlwiIT09ZS5wYWdlc0RlZmluaXRpb24ub3JkZXJCeUZpZWxkcz9lLnBhZ2VzRGVmaW5pdGlvbi5vcmRlckJ5RmllbGRzLnNwbGl0KFwiLFwiKTpudWxsLG4ucmV0dXJuR2VvbWV0cnk9ZS5wYWdlc0RlZmluaXRpb24ucmV0dXJuR2VvbWV0cnksbi5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxhLnNvdXJjZS5xdWVyeVJlbGF0ZWRGZWF0dXJlcyhuKS50aGVuKChhPT57aWYodGhpcy5fY2hlY2tDYW5jZWxsZWQoaSksZS5wYWdlc0RlZmluaXRpb24uaW50ZXJuYWwubGFzdFBhZ2UhPT1zKXJldHVybiAwO2NvbnN0IG49YVt0aGlzLl9maW5kT2JqZWN0SWRdP2FbdGhpcy5fZmluZE9iamVjdElkXS5mZWF0dXJlczpbXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyllLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5zZXRbcit0XT1uW3RdLmF0dHJpYnV0ZXNbdGhpcy5fbGF5ZXIub2JqZWN0SWRGaWVsZF07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspdGhpcy5fZmVhdHVyZUNhY2hlW25bZV0uYXR0cmlidXRlc1t0aGlzLl9sYXllci5vYmplY3RJZEZpZWxkXV09bltlXTtjb25zdCBsPSFhW3RoaXMuX2ZpbmRPYmplY3RJZF18fCExPT09YVt0aGlzLl9maW5kT2JqZWN0SWRdLmV4Y2VlZGVkVHJhbnNmZXJMaW1pdDtyZXR1cm4gbi5sZW5ndGghPT1lLnBhZ2VzRGVmaW5pdGlvbi5yZXN1bHRSZWNvcmRDb3VudCYmbCYmKGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmZ1bGx5UmVzb2x2ZWQ9ITApLGUucGFnZXNEZWZpbml0aW9uLmludGVybmFsLmxhc3RSZXRyaWV2ZWQ9dCtuLmxlbmd0aCxlLnBhZ2VzRGVmaW5pdGlvbi5pbnRlcm5hbC5sYXN0UGFnZSs9ZS5wYWdlc0RlZmluaXRpb24ucmVzdWx0UmVjb3JkQ291bnQsbi5sZW5ndGh9KSl9Y2F0Y2gocyl7cmV0dXJuIEwocyl9fV9nZXRGZWF0dXJlcyhlLHQscyxhKXtjb25zdCBuPVtdOy0xIT09dCYmdm9pZCAwPT09dGhpcy5fZmVhdHVyZUNhY2hlW3RdJiZuLnB1c2godCk7Y29uc3QgbD10aGlzLl9tYXhRdWVyeVJhdGUoKTtpZighMD09PXRoaXMuX2NoZWNrSWZOZWVkVG9FeHBhbmRLbm93blBhZ2UoZSxsKSlyZXR1cm4gdGhpcy5fZXhwYW5kUGFnZWRTZXQoZSxsLDAsMCxhKS50aGVuKCgoKT0+dGhpcy5fZ2V0RmVhdHVyZXMoZSx0LHMsYSkpKTtsZXQgZD0wO2ZvcihsZXQgaT1lLl9sYXN0RmV0Y2hlZEluZGV4O2k8ZS5fa25vd24ubGVuZ3RoJiYoZCsrLGQ8PXMmJihlLl9sYXN0RmV0Y2hlZEluZGV4Kz0xKSwhKFwiR0VUUEFHRVNcIiE9PWUuX2tub3duW2ldJiZ2b2lkIDA9PT10aGlzLl9mZWF0dXJlQ2FjaGVbZS5fa25vd25baV1dJiYoZS5fa25vd25baV0hPT10JiZuLnB1c2goZS5fa25vd25baV0pLG4ubGVuZ3RoPnMpKSkmJiEoZD49cyYmMD09PW4ubGVuZ3RoKTtpKyspO3JldHVybiAwPT09bi5sZW5ndGg/eCQxKFwic3VjY2Vzc1wiKTpMKG5ldyBFcnJvcihcIlVuYWNjb3VudGVkIGZvciBGZWF0dXJlcy4gTm90IGluIEZlYXR1cmUgQ29sbGVjdGlvblwiKSl9X3JlZmluZVNldEJsb2NrKGUsdCxyKXtyZXR1cm4geCQxKGUpfV9zdGF0KGUsdCxyLHMsYSxuLGwpe3JldHVybiB4JDEoe2NhbGN1bGF0ZWQ6ITF9KX1nZXQgZ2RiVmVyc2lvbigpe3JldHVybiB0aGlzLnJlbGF0ZWRMYXllci5nZGJWZXJzaW9ufV9jYW5Eb0FnZ3JlZ2F0ZXMoZSx0LHIscyxhKXtyZXR1cm4geCQxKCExKX1yZWxhdGlvbnNoaXBNZXRhRGF0YSgpe3JldHVybiB0aGlzLnJlbGF0ZWRMYXllci5yZWxhdGlvbnNoaXBNZXRhRGF0YSgpfXNlcnZpY2VVcmwoKXtyZXR1cm4gdGhpcy5yZWxhdGVkTGF5ZXIuc2VydmljZVVybCgpfXF1ZXJ5QXR0YWNobWVudHMoZSx0LGkscil7cmV0dXJuIHRoaXMucmVsYXRlZExheWVyLnF1ZXJ5QXR0YWNobWVudHMoZSx0LGkscil9Z2V0RmVhdHVyZUJ5T2JqZWN0SWQoZSx0KXtyZXR1cm4gdGhpcy5yZWxhdGVkTGF5ZXIuZ2V0RmVhdHVyZUJ5T2JqZWN0SWQoZSx0KX1nZXRPd25pbmdTeXN0ZW1VcmwoKXtyZXR1cm4gdGhpcy5yZWxhdGVkTGF5ZXIuZ2V0T3duaW5nU3lzdGVtVXJsKCl9Z2V0SWRlbnRpdHlVc2VyKCl7cmV0dXJuIHRoaXMucmVsYXRlZExheWVyLmdldElkZW50aXR5VXNlcigpfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIFMoKXtudWxsPT09YSQ1LmFwcGxpY2F0aW9uQ2FjaGUmJihhJDUuYXBwbGljYXRpb25DYWNoZT1uZXcgYSQ1KTt9ZnVuY3Rpb24gTih0LG4pe2lmKGEkNS5hcHBsaWNhdGlvbkNhY2hlKXtjb25zdCBhPWEkNS5hcHBsaWNhdGlvbkNhY2hlLmdldExheWVySW5mbyh0KTtpZihhKXJldHVybiBhLnRoZW4oKHI9PngkMShuZXcga2Uoe3VybDp0LG91dEZpZWxkczpuLHNvdXJjZUpTT046cn0pKSkpO2NvbnN0IHM9bmV3IGtlKHt1cmw6dCxvdXRGaWVsZHM6bn0pO2xldCBpPWwkMygoKGUsdCk9PntzLmxvYWQoKS50aGVuKCgoKT0+e2Uocy5zb3VyY2VKU09OKTt9KSwoZT0+e3QoZSk7fSkpO30pKTtyZXR1cm4gYSQ1LmFwcGxpY2F0aW9uQ2FjaGUmJihhJDUuYXBwbGljYXRpb25DYWNoZS5zZXRMYXllckluZm8odCxpKSxpPWkuY2F0Y2goKGU9Pnt0aHJvdyBhJDUuYXBwbGljYXRpb25DYWNoZS5jbGVhckxheWVySW5mbyh0KSxlfSkpKSxpLnRoZW4oKCgpPT54JDEocykpKX1yZXR1cm4geCQxKG5ldyBrZSh7dXJsOnQsb3V0RmllbGRzOm59KSl9ZnVuY3Rpb24gVCh0LHIsbixhLHMsaT1udWxsKXtyZXR1cm4gTih0LFtcIipcIl0pLnRoZW4oKHQ9PngkMShBKHQscixuLGEscyxpKSkpKX1mdW5jdGlvbiBBKGUsdD1udWxsLHI9bnVsbCxuPSEwLGE9bnVsbCxzPW51bGwpe3JldHVybiAhMD09PWUuX2hhc01lbW9yeVNvdXJjZSgpP25ldyB5KHtsYXllcjplLHNwYXRpYWxSZWZlcmVuY2U6dCxvdXRGaWVsZHM6cixpbmNsdWRlR2VvbWV0cnk6bixscnVjYWNoZTphLGludGVyY2VwdG9yOnN9KTpuZXcgcSQxKHtsYXllcjplLHNwYXRpYWxSZWZlcmVuY2U6dCxvdXRGaWVsZHM6cixpbmNsdWRlR2VvbWV0cnk6bixscnVjYWNoZTphLGludGVyY2VwdG9yOnN9KX1mdW5jdGlvbiBDKHQpe2lmKG51bGwhPT1hJDUuYXBwbGljYXRpb25DYWNoZSl7Y29uc3QgZT1hJDUuYXBwbGljYXRpb25DYWNoZS5nZXRMYXllckluZm8odCk7aWYobnVsbCE9PWUpcmV0dXJuIGV9bGV0IHI9VSQxKHQse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIn19KS50aGVuKCh0PT57aWYodC5kYXRhKXtjb25zdCByPXQuZGF0YTtyZXR1cm4geCQxKHIpfXJldHVybiB4JDEobnVsbCl9KSk7cmV0dXJuIG51bGwhPT1hJDUuYXBwbGljYXRpb25DYWNoZSYmKGEkNS5hcHBsaWNhdGlvbkNhY2hlLnNldExheWVySW5mbyh0LHIpLHI9ci5jYXRjaCgoZT0+e3Rocm93IGEkNS5hcHBsaWNhdGlvbkNhY2hlLmNsZWFyTGF5ZXJJbmZvKHQpLGV9KSkpLHJ9ZnVuY3Rpb24gRihlLHQpe2NvbnN0IHI9XCJRVUVSWURBVEFFTEVNVFM6XCIrdC50b1N0cmluZygpK1wiOlwiK2U7aWYobnVsbCE9PWEkNS5hcHBsaWNhdGlvbkNhY2hlKXtjb25zdCBlPWEkNS5hcHBsaWNhdGlvbkNhY2hlLmdldExheWVySW5mbyhyKTtpZihudWxsIT09ZSlyZXR1cm4gZX1sZXQgbj1VJDEoZStcIi9xdWVyeURhdGFFbGVtZW50c1wiLHttZXRob2Q6XCJwb3N0XCIscmVzcG9uc2VUeXBlOlwianNvblwiLHF1ZXJ5OntsYXllcnM6SlNPTi5zdHJpbmdpZnkoW3QudG9TdHJpbmcoKV0pLGY6XCJqc29uXCJ9fSkudGhlbigoZT0+e2lmKGUuZGF0YSl7Y29uc3QgdD1lLmRhdGE7aWYodC5sYXllckRhdGFFbGVtZW50cyYmdC5sYXllckRhdGFFbGVtZW50c1swXSlyZXR1cm4gdC5sYXllckRhdGFFbGVtZW50c1swXX10aHJvdyBuZXcgRXJyb3IoXCJOb3QgRm91bmRcIil9KSk7cmV0dXJuIG51bGwhPT1hJDUuYXBwbGljYXRpb25DYWNoZSYmKGEkNS5hcHBsaWNhdGlvbkNhY2hlLnNldExheWVySW5mbyhyLG4pLG49bi5jYXRjaCgoZT0+e3Rocm93IGEkNS5hcHBsaWNhdGlvbkNhY2hlLmNsZWFyTGF5ZXJJbmZvKHIpLGV9KSkpLG59ZnVuY3Rpb24gZyh0KXtpZihudWxsIT09YSQ1LmFwcGxpY2F0aW9uQ2FjaGUpe2NvbnN0IGU9YSQ1LmFwcGxpY2F0aW9uQ2FjaGUuZ2V0TGF5ZXJJbmZvKHQpO2lmKG51bGwhPT1lKXJldHVybiBlfWxldCByPVUkMSh0LHtyZXNwb25zZVR5cGU6XCJqc29uXCIscXVlcnk6e2Y6XCJqc29uXCJ9fSkudGhlbigodD0+e2lmKHQuZGF0YSl7Y29uc3Qgcj10LmRhdGE7cmV0dXJuIHIubGF5ZXJzfHwoci5sYXllcnM9W10pLHIudGFibGVzfHwoci50YWJsZXM9W10pLHgkMShyKX1yZXR1cm4geCQxKHtsYXllcnM6W10sdGFibGVzOltdfSl9KSk7cmV0dXJuIG51bGwhPT1hJDUuYXBwbGljYXRpb25DYWNoZSYmKGEkNS5hcHBsaWNhdGlvbkNhY2hlLnNldExheWVySW5mbyh0LHIpLHI9ci5jYXRjaCgoZT0+e3Rocm93IGEkNS5hcHBsaWNhdGlvbkNhY2hlLmNsZWFyTGF5ZXJJbmZvKHQpLGV9KSkpLHJ9ZnVuY3Rpb24gayhlLHQpe2NvbnN0IHI9e21ldGFkYXRhOm51bGwsbmV0d29ya0lkOi0xLHVuVmVyc2lvbjozLHRlcm1pbmFsczpbXSxxdWVyeWVsZW06bnVsbCxsYXllck5hbWVMa3A6e30sbGtwOm51bGx9O3JldHVybiBnKGUpLnRoZW4oKG49PntpZihyLm1ldGFkYXRhPW4sbi5jb250cm9sbGVyRGF0YXNldExheWVycyYmdm9pZCAwIT09bi5jb250cm9sbGVyRGF0YXNldExheWVycy51dGlsaXR5TmV0d29ya0xheWVySWQmJm51bGwhPT1uLmNvbnRyb2xsZXJEYXRhc2V0TGF5ZXJzLnV0aWxpdHlOZXR3b3JrTGF5ZXJJZCl7aWYobi5sYXllcnMpZm9yKGNvbnN0IGUgb2Ygbi5sYXllcnMpci5sYXllck5hbWVMa3BbZS5pZF09ZS5uYW1lO2lmKG4udGFibGVzKWZvcihjb25zdCBlIG9mIG4udGFibGVzKXIubGF5ZXJOYW1lTGtwW2UuaWRdPWUubmFtZTtjb25zdCBhPW4uY29udHJvbGxlckRhdGFzZXRMYXllcnMudXRpbGl0eU5ldHdvcmtMYXllcklkO3JldHVybiByLm5ldHdvcmtJZD1hLEYoZSxhKS50aGVuKChuPT57aWYobil7ci5xdWVyeWVsZW09bixyLnF1ZXJ5ZWxlbSYmci5xdWVyeWVsZW0uZGF0YUVsZW1lbnQmJnZvaWQgMCE9PXIucXVlcnllbGVtLmRhdGFFbGVtZW50LnNjaGVtYUdlbmVyYXRpb24mJihyLnVuVmVyc2lvbj1yLnF1ZXJ5ZWxlbS5kYXRhRWxlbWVudC5zY2hlbWFHZW5lcmF0aW9uKSxyLmxrcD17fSxyLnF1ZXJ5ZWxlbS5kYXRhRWxlbWVudC5kb21haW5OZXR3b3Jrc3x8KHIucXVlcnllbGVtLmRhdGFFbGVtZW50LmRvbWFpbk5ldHdvcmtzPVtdKTtmb3IoY29uc3QgZSBvZiByLnF1ZXJ5ZWxlbS5kYXRhRWxlbWVudC5kb21haW5OZXR3b3Jrcyl7Zm9yKGNvbnN0IHQgb2YgZS5lZGdlU291cmNlcz9lLmVkZ2VTb3VyY2VzOltdKXtjb25zdCBlPXtsYXllcklkOnQubGF5ZXJJZCxzb3VyY2VJZDp0LnNvdXJjZUlkLGNsYXNzTmFtZTpyLmxheWVyTmFtZUxrcFt0LmxheWVySWRdP3IubGF5ZXJOYW1lTGtwW3QubGF5ZXJJZF06bnVsbH07ZS5jbGFzc05hbWUmJihyLmxrcFtlLmNsYXNzTmFtZV09ZSk7fWZvcihjb25zdCB0IG9mIGUuanVuY3Rpb25Tb3VyY2VzP2UuanVuY3Rpb25Tb3VyY2VzOltdKXtjb25zdCBlPXtsYXllcklkOnQubGF5ZXJJZCxzb3VyY2VJZDp0LnNvdXJjZUlkLGNsYXNzTmFtZTpyLmxheWVyTmFtZUxrcFt0LmxheWVySWRdP3IubGF5ZXJOYW1lTGtwW3QubGF5ZXJJZF06bnVsbH07ZS5jbGFzc05hbWUmJihyLmxrcFtlLmNsYXNzTmFtZV09ZSk7fX1pZihyLnF1ZXJ5ZWxlbS5kYXRhRWxlbWVudC50ZXJtaW5hbENvbmZpZ3VyYXRpb25zKWZvcihjb25zdCBlIG9mIHIucXVlcnllbGVtLmRhdGFFbGVtZW50LnRlcm1pbmFsQ29uZmlndXJhdGlvbnMpZm9yKGNvbnN0IHQgb2YgZS50ZXJtaW5hbHMpci50ZXJtaW5hbHMucHVzaCh7dGVybWluYWxJZDp0LnRlcm1pbmFsSWQsdGVybWluYWxOYW1lOnQudGVybWluYWxOYW1lfSk7cmV0dXJuIEMoZStcIi9cIithKS50aGVuKChuPT57aWYobi5zeXN0ZW1MYXllcnMmJnZvaWQgMCE9PW4uc3lzdGVtTGF5ZXJzLmFzc29jaWF0aW9uc1RhYmxlSWQmJm51bGwhPT1uLnN5c3RlbUxheWVycy5hc3NvY2lhdGlvbnNUYWJsZUlkKXtjb25zdCBhPVtdO3JldHVybiByLnVuVmVyc2lvbj49NCYmKGEucHVzaChcIlNUQVRVU1wiKSxhLnB1c2goXCJQRVJDRU5UQUxPTkdcIikpLFQoZStcIi9cIituLnN5c3RlbUxheWVycy5hc3NvY2lhdGlvbnNUYWJsZUlkLnRvU3RyaW5nKCksdCxbXCJPQkpFQ1RJRFwiLFwiRlJPTU5FVFdPUktTT1VSQ0VJRFwiLFwiVE9ORVRXT1JLU09VUkNFSURcIixcIkZST01HTE9CQUxJRFwiLFwiVE9HTE9CQUxJRFwiLFwiVE9URVJNSU5BTElEXCIsXCJGUk9NVEVSTUlOQUxJRFwiLFwiQVNTT0NJQVRJT05UWVBFXCIsXCJJU0NPTlRFTlRWSVNJQkxFXCIsXCJHTE9CQUxJRFwiLC4uLmFdLCExLG51bGwsbnVsbCkudGhlbigoZT0+ZS5sb2FkKCkpKS50aGVuKChlPT5yLnVuVmVyc2lvbj49ND8oZT1lLmZpbHRlcihmJDEuY3JlYXRlKFwiU1RBVFVTIE5PVCBJTiAoMSwgMiwgMywgNCwgNSwgNiwgNywgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzAsIDMxLCAzMywgMzQsIDM1LCAzNiwgMzcsIDM4LCAzOSwgNDEsIDQyLCA0MywgNDQsIDQ1LCA0NiwgNDcsIDQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1NywgNTgsIDU5LCA2MCwgNjEsIDYyLDYzKVwiLGUuZ2V0RmllbGRzSW5kZXgoKSkpKS5sb2FkKCk6ZSkpLnRoZW4oKGU9Pih7bGtwOnIubGtwLGFzc29jaWF0aW9uczplLHVuVmVyc2lvbjpyLnVuVmVyc2lvbix0ZXJtaW5hbHM6ci50ZXJtaW5hbHN9KSkpfXJldHVybiB7YXNzb2NpYXRpb25zOm51bGwsdW5WZXJzaW9uOnIudW5WZXJzaW9uLGxrcDpudWxsLHRlcm1pbmFsczpbXX19KSl9cmV0dXJuIHthc3NvY2lhdGlvbnM6bnVsbCx1blZlcnNpb246ci51blZlcnNpb24sbGtwOm51bGwsdGVybWluYWxzOltdfX0pKX1yZXR1cm4ge2Fzc29jaWF0aW9uczpudWxsLHVuVmVyc2lvbjpyLnVuVmVyc2lvbixsa3A6bnVsbCx0ZXJtaW5hbHM6W119fSkpfWZ1bmN0aW9uIGooZSx0LHIsbj1udWxsLGE9bnVsbCxzPSEwLGk9bnVsbCxsPW51bGwpe2xldCBvPWUuc2VydmljZVVybCgpO3JldHVybiBvPyhvPVwiL1wiPT09by5jaGFyQXQoby5sZW5ndGgtMSk/byt0LnJlbGF0ZWRUYWJsZUlkLnRvU3RyaW5nKCk6bytcIi9cIit0LnJlbGF0ZWRUYWJsZUlkLnRvU3RyaW5nKCksVChvLG4sYSxzLGksbCkudGhlbigobz0+bmV3IHUoe2xheWVyOmUscmVsYXRlZExheWVyOm8scmVsYXRpb25zaGlwOnQsb2JqZWN0SWQ6cixzcGF0aWFsUmVmZXJlbmNlOm4sb3V0RmllbGRzOmEsaW5jbHVkZUdlb21ldHJ5OnMsbHJ1Y2FjaGU6aSxpbnRlcmNlcHRvcjpsfSkpKSk6bnVsbH1fLnJlZ2lzdGVyQWN0aW9uKCksRy5yZWdpc3RlckFjdGlvbigpLGEkMy5yZWdpc3RlckFjdGlvbigpLGckMy5yZWdpc3RlckFjdGlvbigpLGEucmVnaXN0ZXJBY3Rpb24oKTtjbGFzcyBPIGV4dGVuZHMgciQxe2NvbnN0cnVjdG9yKGUsdD1udWxsLHI9bnVsbCxuPW51bGwpe3N1cGVyKCksdGhpcy5fbWFwPWUsdGhpcy5fb3ZlcnJpZGVzcHJlZj10LHRoaXMubHJ1Y2FjaGU9cix0aGlzLmludGVyY2VwdG9yPW4sdGhpcy5faW5zdGFudExheWVycz1bXTt9bWFrZUFuZEFkZEZlYXR1cmVTZXQoZSx0PSEwLHI9bnVsbCl7Y29uc3Qgbj1BKGUsdGhpcy5fb3ZlcnJpZGVzcHJlZixudWxsPT09cj9bXCIqXCJdOnIsdCx0aGlzLmxydWNhY2hlLHRoaXMuaW50ZXJjZXB0b3IpO3JldHVybiB0aGlzLl9pbnN0YW50TGF5ZXJzLnB1c2goe2ZlYXR1cmVzZXQ6bixvcGl0ZW06ZSxpbmNsdWRlR2VvbWV0cnk6dCxvdXRGaWVsZHM6SlNPTi5zdHJpbmdpZnkocil9KSxufWZlYXR1cmVTZXRCeU5hbWUoZSxyPSEwLG49bnVsbCl7aWYodm9pZCAwIT09dGhpcy5fbWFwLmxvYWRlZCYmdm9pZCAwIT09dGhpcy5fbWFwLmxvYWQmJiExPT09dGhpcy5fbWFwLmxvYWRlZClyZXR1cm4gdGhpcy5fbWFwLmxvYWQoKS50aGVuKCgoKT0+e3RyeXtyZXR1cm4gdGhpcy5mZWF0dXJlU2V0QnlOYW1lKGUscixuKX1jYXRjaChhKXtyZXR1cm4gTChhKX19KSk7bnVsbD09PW4mJihuPVtcIipcIl0pLG49KG49bi5zbGljZSgwKSkuc29ydCgpO2NvbnN0IGE9SlNPTi5zdHJpbmdpZnkobik7Zm9yKGxldCB0PTA7dDx0aGlzLl9pbnN0YW50TGF5ZXJzLmxlbmd0aDt0Kyspe2NvbnN0IG49dGhpcy5faW5zdGFudExheWVyc1t0XTtpZihuLm9waXRlbS50aXRsZT09PWUmJm4uaW5jbHVkZUdlb21ldHJ5PT09ciYmbi5vdXRGaWVsZHM9PT1hKXJldHVybiB0aGlzLnJlc29sdmVQcm9taXNlKHRoaXMuX2luc3RhbnRMYXllcnNbdF0uZmVhdHVyZXNldCl9Y29uc3Qgcz10aGlzLl9tYXAubGF5ZXJzLmZpbmQoKHQ9PnQgaW5zdGFuY2VvZiBrZSYmdC50aXRsZT09PWUpKTtpZihzKXJldHVybiB0aGlzLnJlc29sdmVQcm9taXNlKHRoaXMubWFrZUFuZEFkZEZlYXR1cmVTZXQocyxyLG4pKTtpZih0aGlzLl9tYXAudGFibGVzKXtjb25zdCB0PXRoaXMuX21hcC50YWJsZXMuZmluZCgodD0+ISEodC50aXRsZSYmdC50aXRsZT09PWV8fHQudGl0bGUmJnQudGl0bGU9PT1lKSkpO2lmKHQpe2lmKHQgaW5zdGFuY2VvZiBrZSlyZXR1cm4gdGhpcy5yZXNvbHZlUHJvbWlzZSh0aGlzLm1ha2VBbmRBZGRGZWF0dXJlU2V0KHQscixuKSk7aWYodC5fbWF0ZXJpYWxpemVkVGFibGUpO2Vsc2Uge2NvbnN0IGU9dC5vdXRGaWVsZHM/dDp7Li4udCxvdXRGaWVsZHM6W1wiKlwiXX07dC5fbWF0ZXJpYWxpemVkVGFibGU9bmV3IGtlKGUpO31yZXR1cm4gdC5fbWF0ZXJpYWxpemVkVGFibGUubG9hZCgpLnRoZW4oKCgpPT50aGlzLnJlc29sdmVQcm9taXNlKHRoaXMubWFrZUFuZEFkZEZlYXR1cmVTZXQodC5fbWF0ZXJpYWxpemVkVGFibGUscixuKSkpKX19cmV0dXJuIHRoaXMucmVzb2x2ZVByb21pc2UobnVsbCl9ZmVhdHVyZVNldEJ5SWQoZSxyPSEwLG49W1wiKlwiXSl7aWYodm9pZCAwIT09dGhpcy5fbWFwLmxvYWRlZCYmdm9pZCAwIT09dGhpcy5fbWFwLmxvYWQmJiExPT09dGhpcy5fbWFwLmxvYWRlZClyZXR1cm4gdGhpcy5fbWFwLmxvYWQoKS50aGVuKCgoKT0+e3RyeXtyZXR1cm4gdGhpcy5mZWF0dXJlU2V0QnlJZChlLHIsbil9Y2F0Y2goYSl7cmV0dXJuIEwoYSl9fSkpO251bGw9PT1uJiYobj1bXCIqXCJdKSxuPShuPW4uc2xpY2UoMCkpLnNvcnQoKTtjb25zdCBhPUpTT04uc3RyaW5naWZ5KG4pO2ZvcihsZXQgdD0wO3Q8dGhpcy5faW5zdGFudExheWVycy5sZW5ndGg7dCsrKXtjb25zdCBuPXRoaXMuX2luc3RhbnRMYXllcnNbdF07aWYobi5vcGl0ZW0uaWQ9PT1lJiZuLmluY2x1ZGVHZW9tZXRyeT09PXImJm4ub3V0RmllbGRzPT09YSlyZXR1cm4gdGhpcy5yZXNvbHZlUHJvbWlzZSh0aGlzLl9pbnN0YW50TGF5ZXJzW3RdLmZlYXR1cmVzZXQpfWNvbnN0IHM9dGhpcy5fbWFwLmxheWVycy5maW5kKCh0PT50IGluc3RhbmNlb2Yga2UmJnQuaWQ9PT1lKSk7aWYocylyZXR1cm4gdGhpcy5yZXNvbHZlUHJvbWlzZSh0aGlzLm1ha2VBbmRBZGRGZWF0dXJlU2V0KHMscixuKSk7aWYodGhpcy5fbWFwLnRhYmxlcyl7Y29uc3QgdD10aGlzLl9tYXAudGFibGVzLmZpbmQoKHQ9PnQuaWQ9PT1lKSk7aWYodCl7aWYodCBpbnN0YW5jZW9mIGtlKXJldHVybiB0aGlzLnJlc29sdmVQcm9taXNlKHRoaXMubWFrZUFuZEFkZEZlYXR1cmVTZXQodCxyLG4pKTtpZih0Ll9tYXRlcmlhbGl6ZWRUYWJsZSk7ZWxzZSB7Y29uc3QgZT17Li4udCxvdXRGaWVsZHM6W1wiKlwiXX07dC5fbWF0ZXJpYWxpemVkVGFibGU9bmV3IGtlKGUpO31yZXR1cm4gdC5fbWF0ZXJpYWxpemVkVGFibGUubG9hZCgpLnRoZW4oKCgpPT50aGlzLnJlc29sdmVQcm9taXNlKHRoaXMubWFrZUFuZEFkZEZlYXR1cmVTZXQodC5fbWF0ZXJpYWxpemVkVGFibGUscixuKSkpKX19cmV0dXJuIHRoaXMucmVzb2x2ZVByb21pc2UobnVsbCl9fWNsYXNzIHcgZXh0ZW5kcyByJDF7Y29uc3RydWN0b3IoZSx0PW51bGwscj1udWxsLG49bnVsbCl7c3VwZXIoKSx0aGlzLl91cmw9ZSx0aGlzLl9vdmVycmlkZXNwcmVmPXQsdGhpcy5scnVjYWNoZT1yLHRoaXMuaW50ZXJjZXB0b3I9bix0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5faW5zdGFudExheWVycz1bXTt9Z2V0IHVybCgpe3JldHVybiB0aGlzLl91cmx9bWFrZUFuZEFkZEZlYXR1cmVTZXQoZSx0PSEwLHI9bnVsbCl7Y29uc3Qgbj1BKGUsdGhpcy5fb3ZlcnJpZGVzcHJlZixudWxsPT09cj9bXCIqXCJdOnIsdCx0aGlzLmxydWNhY2hlKTtyZXR1cm4gdGhpcy5faW5zdGFudExheWVycy5wdXNoKHtmZWF0dXJlc2V0Om4sb3BpdGVtOmUsaW5jbHVkZUdlb21ldHJ5OnQsb3V0RmllbGRzOkpTT04uc3RyaW5naWZ5KHIpfSksbn1fbG9hZE1ldGFEYXRhKCl7cmV0dXJuIGcodGhpcy5fdXJsKS50aGVuKChlPT4odGhpcy5tZXRhZGF0YT1lLGUpKSl9bG9hZCgpe3JldHVybiB0aGlzLl9sb2FkTWV0YURhdGEoKX1jbG9uZSgpe3JldHVybiBuZXcgdyh0aGlzLl91cmwsdGhpcy5fb3ZlcnJpZGVzcHJlZix0aGlzLmxydWNhY2hlLHRoaXMuaW50ZXJjZXB0b3IpfWZlYXR1cmVTZXRCeU5hbWUoZSx0PSEwLHI9bnVsbCl7bnVsbD09PXImJihyPVtcIipcIl0pLHI9KHI9ci5zbGljZSgwKSkuc29ydCgpO2NvbnN0IG49SlNPTi5zdHJpbmdpZnkocik7Zm9yKGxldCBhPTA7YTx0aGlzLl9pbnN0YW50TGF5ZXJzLmxlbmd0aDthKyspe2NvbnN0IHI9dGhpcy5faW5zdGFudExheWVyc1thXTtpZihyLm9waXRlbS50aXRsZT09PWUmJnIuaW5jbHVkZUdlb21ldHJ5PT09dCYmci5vdXRGaWVsZHM9PT1uKXJldHVybiB0aGlzLnJlc29sdmVQcm9taXNlKHRoaXMuX2luc3RhbnRMYXllcnNbYV0uZmVhdHVyZXNldCl9cmV0dXJuIHRoaXMuX2xvYWRNZXRhRGF0YSgpLnRoZW4oKG49PntsZXQgYT1udWxsO2Zvcihjb25zdCB0IG9mIG4ubGF5ZXJzP24ubGF5ZXJzOltdKXQubmFtZT09PWUmJihhPXQpO2lmKCFhKWZvcihjb25zdCB0IG9mIG4udGFibGVzP24udGFibGVzOltdKXQubmFtZT09PWUmJihhPXQpO3JldHVybiBhP04odGhpcy5fdXJsK1wiL1wiK2EuaWQsW1wiKlwiXSkudGhlbigoZT0+dGhpcy5tYWtlQW5kQWRkRmVhdHVyZVNldChlLHQscikpKTp0aGlzLnJlc29sdmVQcm9taXNlKG51bGwpfSkpfWZlYXR1cmVTZXRCeUlkKGUsdD0hMCxyPVtcIipcIl0pe251bGw9PT1yJiYocj1bXCIqXCJdKSxyPShyPXIuc2xpY2UoMCkpLnNvcnQoKTtjb25zdCBuPUpTT04uc3RyaW5naWZ5KHIpO2U9bnVsbCE9ZT9lLnRvU3RyaW5nKCk6XCJcIjtmb3IobGV0IGE9MDthPHRoaXMuX2luc3RhbnRMYXllcnMubGVuZ3RoO2ErKyl7Y29uc3Qgcj10aGlzLl9pbnN0YW50TGF5ZXJzW2FdO2lmKHIub3BpdGVtLmlkPT09ZSYmci5pbmNsdWRlR2VvbWV0cnk9PT10JiZyLm91dEZpZWxkcz09PW4pcmV0dXJuIHRoaXMucmVzb2x2ZVByb21pc2UodGhpcy5faW5zdGFudExheWVyc1thXS5mZWF0dXJlc2V0KX1yZXR1cm4gdGhpcy5fbG9hZE1ldGFEYXRhKCkudGhlbigobj0+e2xldCBhPW51bGw7Zm9yKGNvbnN0IHQgb2Ygbi5sYXllcnM/bi5sYXllcnM6W10pbnVsbCE9PXQuaWQmJnZvaWQgMCE9PXQuaWQmJnQuaWQudG9TdHJpbmcoKT09PWUmJihhPXQpO2lmKCFhKWZvcihjb25zdCB0IG9mIG4udGFibGVzP24udGFibGVzOltdKW51bGwhPT10LmlkJiZ2b2lkIDAhPT10LmlkJiZ0LmlkLnRvU3RyaW5nKCk9PT1lJiYoYT10KTtyZXR1cm4gYT9OKHRoaXMuX3VybCtcIi9cIithLmlkLFtcIipcIl0pLnRoZW4oKGU9PnRoaXMubWFrZUFuZEFkZEZlYXR1cmVTZXQoZSx0LHIpKSk6dGhpcy5yZXNvbHZlUHJvbWlzZShudWxsKX0pKX19ZnVuY3Rpb24gdihlLHQscj1udWxsLG49bnVsbCl7cmV0dXJuIG5ldyBPKGUsdCxyLG4pfWZ1bmN0aW9uIEUoZSx0LHI9bnVsbCxuPW51bGwpe3JldHVybiBuZXcgdyhlLHQscixuKX1mdW5jdGlvbiBiKGUsdCl7aWYobnVsbD09PWUpcmV0dXJuIHQ7cmV0dXJuIG5ldyB3JDMoe3VybDplLmZpZWxkKFwidXJsXCIpfSl9ZnVuY3Rpb24gRCh0LHIscyl7cmV0dXJuIHMkNC5maW5kQ3JlZGVudGlhbCh0LnJlc3RVcmwpP1wibG9hZGVkXCI9PT10LmxvYWRTdGF0dXMmJlwiXCI9PT1yJiZ0LnVzZXImJnQudXNlci5zb3VyY2VKU09OJiYhMT09PXM/eCQxKHQudXNlci5zb3VyY2VKU09OKTpcIlwiPT09cj9VJDEodC5yZXN0VXJsK1wiL2NvbW11bml0eS9zZWxmXCIse3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIiwuLi4hMT09PXM/e306e3JldHVyblVzZXJMaWNlbnNlVHlwZUV4dGVuc2lvbnM6ITB9fX0pLnRoZW4oKHQ9PntpZih0LmRhdGEpe2NvbnN0IHI9dC5kYXRhO2lmKHImJnIudXNlcm5hbWUpcmV0dXJuIHgkMShyKX1yZXR1cm4geCQxKG51bGwpfSkpOlUkMSh0LnJlc3RVcmwrXCIvY29tbXVuaXR5L3VzZXJzL1wiK3Ise3Jlc3BvbnNlVHlwZTpcImpzb25cIixxdWVyeTp7ZjpcImpzb25cIn19KS50aGVuKCh0PT57aWYodC5kYXRhKXtjb25zdCByPXQuZGF0YTtyZXR1cm4gci5lcnJvcj9udWxsOngkMShyKX1yZXR1cm4geCQxKG51bGwpfSkpOngkMShudWxsKX1mdW5jdGlvbiBxKG4sYSxzLG8sYyxkLG0saD1udWxsKXtpZihhJDUuYXBwbGljYXRpb25DYWNoZSl7Y29uc3Qgcj1hJDUuYXBwbGljYXRpb25DYWNoZS5nZXRMYXllckluZm8obitcIjpcIitkLnVybCk7aWYocilyZXR1cm4gci50aGVuKChyPT57dHJ5e2NvbnN0IHQ9bmV3IGtlKHt1cmw6TiQxKHIudXJsKStcIi9cIithLG91dEZpZWxkczpbXCIqXCJdfSk7cmV0dXJuIHgkMShBKHQscyxvLGMsbSxoKSl9Y2F0Y2gobil7cmV0dXJuIEwobil9fSksKGU9PkwoZSkpKX1yZXR1cm4gbCQzKCgoZSx0KT0+e2NvbnN0IHI9bmV3IGIkMSh7aWQ6bixwb3J0YWw6ZH0pLmxvYWQoKTthJDUuYXBwbGljYXRpb25DYWNoZSYmYSQ1LmFwcGxpY2F0aW9uQ2FjaGUuc2V0TGF5ZXJJbmZvKG4rXCI6XCIrZC51cmwsciksci50aGVuKChyPT57dHJ5e2NvbnN0IHQ9bmV3IGtlKHt1cmw6TiQxKHIudXJsKStcIi9cIithLG91dEZpZWxkczpbXCIqXCJdfSk7ZShBKHQscyxvLGMsbSxoKSk7fWNhdGNoKG4pe3Qobik7fX0pLChlPT57YSQ1LmFwcGxpY2F0aW9uQ2FjaGUmJmEkNS5hcHBsaWNhdGlvbkNhY2hlLmNsZWFyTGF5ZXJJbmZvKG4rXCI6XCIrZC51cmwpLHQoZSk7fSkpO30pKX1cblxuY29uc3QgZmVhdHVyZVNldFV0aWxzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXHRfX3Byb3RvX186IG51bGwsXG5cdGNvbnN0cnVjdEFzc29jaWF0aW9uTWV0YURhdGFGZWF0dXJlU2V0RnJvbVVybDogayxcblx0Y29uc3RydWN0RmVhdHVyZVNldDogQSxcblx0Y29uc3RydWN0RmVhdHVyZVNldEZyb21Qb3J0YWxJdGVtOiBxLFxuXHRjb25zdHJ1Y3RGZWF0dXJlU2V0RnJvbVJlbGF0aW9uc2hpcDogaixcblx0Y29uc3RydWN0RmVhdHVyZVNldEZyb21Vcmw6IFQsXG5cdGNyZWF0ZUZlYXR1cmVTZXRDb2xsZWN0aW9uRnJvbU1hcDogdixcblx0Y3JlYXRlRmVhdHVyZVNldENvbGxlY3Rpb25Gcm9tU2VydmljZTogRSxcblx0Z2V0UG9ydGFsOiBiLFxuXHRpbml0aWFsaXNlTWV0YURhdGFDYWNoZTogUyxcblx0bG9va3VwVXNlcjogRFxufSk7XG5cbmV4cG9ydCB7IEEsIEMkMiBhcyBDLCBELCBFJDEgYXMgRSwgVCwgXywgYSQzIGFzIGEsIGIsIGEgYXMgYywgVCQxIGFzIGQsIGUkMSBhcyBlLCBmZWF0dXJlU2V0VXRpbHMgYXMgZiwgaiwgaywgcSwgciQxIGFzIHIsIHYkMSBhcyB2LCB3JDEgYXMgdywgeSB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZWF0dXJlU2V0VXRpbHMtYjBmY2U5MzUuanMubWFwIiwiaW1wb3J0IHsgYVcgYXMgcyB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0IHsgSSwgUiB9IGZyb20gJy4vdW5pdFV0aWxzLTYyNGNlZWI2LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG09e2luY2hlczpJKDEsXCJtZXRlcnNcIixcImluY2hlc1wiKSxmZWV0OkkoMSxcIm1ldGVyc1wiLFwiZmVldFwiKSxcInVzLWZlZXRcIjpJKDEsXCJtZXRlcnNcIixcInVzLWZlZXRcIikseWFyZHM6SSgxLFwibWV0ZXJzXCIsXCJ5YXJkc1wiKSxtaWxlczpJKDEsXCJtZXRlcnNcIixcIm1pbGVzXCIpLFwibmF1dGljYWwtbWlsZXNcIjpJKDEsXCJtZXRlcnNcIixcIm5hdXRpY2FsLW1pbGVzXCIpLG1pbGxpbWV0ZXJzOkkoMSxcIm1ldGVyc1wiLFwibWlsbGltZXRlcnNcIiksY2VudGltZXRlcnM6SSgxLFwibWV0ZXJzXCIsXCJjZW50aW1ldGVyc1wiKSxkZWNpbWV0ZXJzOkkoMSxcIm1ldGVyc1wiLFwiZGVjaW1ldGVyc1wiKSxtZXRlcnM6SSgxLFwibWV0ZXJzXCIsXCJtZXRlcnNcIiksa2lsb21ldGVyczpJKDEsXCJtZXRlcnNcIixcImtpbG9tZXRlcnNcIiksXCJkZWNpbWFsLWRlZ3JlZXNcIjoxL1IoMSxcIm1ldGVyc1wiLHMucmFkaXVzKX07XG5cbmV4cG9ydCB7IG0gfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGVuZ3RoVXRpbHMtYmE1NGRlYjIuanMubWFwIiwiaW1wb3J0IHsgdiBhcyBtLCBPIGFzIGssIFYgYXMgeSQxLCBKIGFzIHAsIGogYXMgVSwgYXIgYXMgZCQxLCBVIGFzIFUkMSwgYXMgYXMgRywgUyBhcyBuJDEsIHQsIHggYXMgeCQxLCBIIGFzIHIkMSwgYXQgYXMgZCQyLCBhdSBhcyBSJDEsIGF2IGFzIFMsIHMgYXMgcyQyLCBhdyBhcyBzJDMgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHI9ezEwMjEwMDp7bWF4WDoyMDAzNzUwOC4zNDI3ODg5MDUsbWluWDotMjAwMzc1MDguMzQyNzg4OTA1LHBsdXMxODBMaW5lOm5ldyBtKHtwYXRoczpbW1syMDAzNzUwOC4zNDI3ODg5MDUsLTIwMDM3NTA4LjM0Mjc4ODkwNV0sWzIwMDM3NTA4LjM0Mjc4ODkwNSwyMDAzNzUwOC4zNDI3ODg5MDVdXV0sc3BhdGlhbFJlZmVyZW5jZTprLldlYk1lcmNhdG9yfSksbWludXMxODBMaW5lOm5ldyBtKHtwYXRoczpbW1stMjAwMzc1MDguMzQyNzg4OTA1LC0yMDAzNzUwOC4zNDI3ODg5MDVdLFstMjAwMzc1MDguMzQyNzg4OTA1LDIwMDM3NTA4LjM0Mjc4ODkwNV1dXSxzcGF0aWFsUmVmZXJlbmNlOmsuV2ViTWVyY2F0b3J9KX0sNDMyNjp7bWF4WDoxODAsbWluWDotMTgwLHBsdXMxODBMaW5lOm5ldyBtKHtwYXRoczpbW1sxODAsLTE4MF0sWzE4MCwxODBdXV0sc3BhdGlhbFJlZmVyZW5jZTprLldHUzg0fSksbWludXMxODBMaW5lOm5ldyBtKHtwYXRoczpbW1stMTgwLC0xODBdLFstMTgwLDE4MF1dXSxzcGF0aWFsUmVmZXJlbmNlOmsuV0dTODR9KX19O2Z1bmN0aW9uIGkkMShlLG4pe3JldHVybiBNYXRoLmNlaWwoKGUtbikvKDIqbikpfWZ1bmN0aW9uIG8kMShlLG4pe2NvbnN0IHQ9cyQxKGUpO2Zvcihjb25zdCByIG9mIHQpZm9yKGNvbnN0IGUgb2YgcillWzBdKz1uO3JldHVybiBlfWZ1bmN0aW9uIHMkMShlKXtyZXR1cm4geSQxKGUpP2UucmluZ3M6ZS5wYXRoc31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIG8obyxpLG4sbSl7Y29uc3QgcCQxPVwic3RyaW5nXCI9PXR5cGVvZiBvP1Uobyk6byxhPWlbMF0uc3BhdGlhbFJlZmVyZW5jZSx1PXsuLi5tLHF1ZXJ5OnsuLi5wJDEucXVlcnksZjpcImpzb25cIixzcjpKU09OLnN0cmluZ2lmeShhKSx0YXJnZXQ6SlNPTi5zdHJpbmdpZnkoe2dlb21ldHJ5VHlwZTpkJDEoaVswXSksZ2VvbWV0cmllczppfSksY3V0dGVyOkpTT04uc3RyaW5naWZ5KG4pfX0sYz1hd2FpdCBVJDEocCQxLnBhdGgrXCIvY3V0XCIsdSkse2N1dEluZGV4ZXM6ZixnZW9tZXRyaWVzOmc9W119PWMuZGF0YTtyZXR1cm4ge2N1dEluZGV4ZXM6ZixnZW9tZXRyaWVzOmcubWFwKChlPT57Y29uc3QgdD1wKGUpO3JldHVybiB0LnNwYXRpYWxSZWZlcmVuY2U9YSx0fSkpfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGkoZSxpLGYpe2NvbnN0IG09XCJzdHJpbmdcIj09dHlwZW9mIGU/VShlKTplLHA9aVswXS5zcGF0aWFsUmVmZXJlbmNlLGE9ZCQxKGlbMF0pLHU9ey4uLmYscXVlcnk6ey4uLm0ucXVlcnksZjpcImpzb25cIixzcjpwLndraWQ/cC53a2lkOkpTT04uc3RyaW5naWZ5KHApLGdlb21ldHJpZXM6SlNPTi5zdHJpbmdpZnkocyhpKSl9fTtyZXR1cm4gbigoYXdhaXQgVSQxKG0ucGF0aCtcIi9zaW1wbGlmeVwiLHUpKS5kYXRhLGEscCl9ZnVuY3Rpb24gcyhyKXtyZXR1cm4ge2dlb21ldHJ5VHlwZTpkJDEoclswXSksZ2VvbWV0cmllczpyLm1hcCgocj0+ci50b0pTT04oKSkpfX1mdW5jdGlvbiBuKHIsdCxvKXtjb25zdCBpPUcodCk7cmV0dXJuIHIubWFwKChyPT57Y29uc3QgdD1pLmZyb21KU09OKHIpO3JldHVybiB0LnNwYXRpYWxSZWZlcmVuY2U9byx0fSkpfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgeT1uJDEuZ2V0TG9nZ2VyKFwiZXNyaS5nZW9tZXRyeS5zdXBwb3J0Lm5vcm1hbGl6ZVV0aWxzXCIpO2Z1bmN0aW9uIHgodCl7cmV0dXJuIFwicG9seWdvblwiPT09dC50eXBlfWZ1bmN0aW9uIGQodCl7cmV0dXJuIFwicG9seWdvblwiPT09dFswXS50eXBlfWZ1bmN0aW9uIHcodCl7cmV0dXJuIFwicG9seWxpbmVcIj09PXRbMF0udHlwZX1mdW5jdGlvbiBSKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgbXx8dCBpbnN0YW5jZW9mIHgkMSkpe2NvbnN0IHQ9XCJzdHJhaWdodExpbmVEZW5zaWZ5OiB0aGUgaW5wdXQgZ2VvbWV0cnkgaXMgbmVpdGhlciBwb2x5bGluZSBub3IgcG9seWdvblwiO3Rocm93IHkuZXJyb3IodCksbmV3IHMkMih0KX1jb25zdCBuPXMkMSh0KSxvPVtdO2Zvcihjb25zdCBzIG9mIG4pe2NvbnN0IHQ9W107by5wdXNoKHQpLHQucHVzaChbc1swXVswXSxzWzBdWzFdXSk7Zm9yKGxldCBuPTA7bjxzLmxlbmd0aC0xO24rKyl7Y29uc3Qgbz1zW25dWzBdLHI9c1tuXVsxXSxpPXNbbisxXVswXSxsPXNbbisxXVsxXSxmPU1hdGguc3FydCgoaS1vKSooaS1vKSsobC1yKSoobC1yKSksYz0obC1yKS9mLHA9KGktbykvZix1PWYvZTtpZih1PjEpe2ZvcihsZXQgbD0xO2w8PXUtMTtsKyspe2NvbnN0IG49bCplLHM9cCpuK28saT1jKm4rcjt0LnB1c2goW3MsaV0pO31jb25zdCBuPShmK01hdGguZmxvb3IodS0xKSplKS8yLHM9cCpuK28saT1jKm4rcjt0LnB1c2goW3MsaV0pO310LnB1c2goW2ksbF0pO319cmV0dXJuIHgodCk/bmV3IHgkMSh7cmluZ3M6byxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZX0pOm5ldyBtKHtwYXRoczpvLHNwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlfSl9ZnVuY3Rpb24gTSh0LGUsbil7aWYoZSl7Y29uc3QgZT1SKHQsMWU2KTt0PVIkMShlLCEwKTt9cmV0dXJuIG4mJih0PW8kMSh0LG4pKSx0fWZ1bmN0aW9uIFAodCxlLG4pe2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IG89dFswXTtpZihvPmUpe2NvbnN0IG49aSQxKG8sZSk7dFswXT1vK24qKC0yKmUpO31lbHNlIGlmKG88bil7Y29uc3QgZT1pJDEobyxuKTt0WzBdPW8rZSooLTIqbik7fX1lbHNlIHtjb25zdCBvPXQueDtpZihvPmUpe2NvbnN0IG49aSQxKG8sZSk7dD10LmNsb25lKCkub2Zmc2V0KG4qKC0yKmUpLDApO31lbHNlIGlmKG88bil7Y29uc3QgZT1pJDEobyxuKTt0PXQuY2xvbmUoKS5vZmZzZXQoZSooLTIqbiksMCk7fX1yZXR1cm4gdH1mdW5jdGlvbiBiKHQsZSl7bGV0IG49LTE7Zm9yKGxldCBvPTA7bzxlLmN1dEluZGV4ZXMubGVuZ3RoO28rKyl7Y29uc3Qgcz1lLmN1dEluZGV4ZXNbb10scj1lLmdlb21ldHJpZXNbb10saT1zJDEocik7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0IGU9aVt0XTtlLnNvbWUoKG49PntpZihuWzBdPDE4MClyZXR1cm4gITA7e2xldCBuPTA7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG89ZVt0XVswXTtuPW8+bj9vOm47fW49TnVtYmVyKG4udG9GaXhlZCg5KSk7Y29uc3Qgbz0tMzYwKmkkMShuLDE4MCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IGU9ci5nZXRQb2ludCh0LHMpO3Iuc2V0UG9pbnQodCxzLGUuY2xvbmUoKS5vZmZzZXQobywwKSk7fXJldHVybiAhMH19KSk7fWlmKHM9PT1uKXtpZihkKHQpKWZvcihjb25zdCBlIG9mIHMkMShyKSl0W3NdPXRbc10uYWRkUmluZyhlKTtlbHNlIGlmKHcodCkpZm9yKGNvbnN0IGUgb2YgcyQxKHIpKXRbc109dFtzXS5hZGRQYXRoKGUpO31lbHNlIG49cyx0W3NdPXI7fXJldHVybiB0fWFzeW5jIGZ1bmN0aW9uIEwobyQyLHMsbCl7aWYoIUFycmF5LmlzQXJyYXkobyQyKSlyZXR1cm4gTChbbyQyXSxzKTtjb25zdCBwPXM/cy51cmw6cyQzLmdlb21ldHJ5U2VydmljZVVybDtsZXQgeSx4LGQsdyxqLFIsVSxrLHY9MDtjb25zdCBBPVtdLHo9W107Zm9yKGNvbnN0IHQkMSBvZiBvJDIpaWYodCh0JDEpKXoucHVzaCh0JDEpO2Vsc2UgaWYoeXx8KHk9dCQxLnNwYXRpYWxSZWZlcmVuY2UseD1TKHkpLGQ9eS5pc1dlYk1lcmNhdG9yLFI9ZD8xMDIxMDA6NDMyNix3PXJbUl0ubWF4WCxqPXJbUl0ubWluWCxVPXJbUl0ucGx1czE4MExpbmUsaz1yW1JdLm1pbnVzMTgwTGluZSkseClpZihcIm1lc2hcIj09PXQkMS50eXBlKXoucHVzaCh0JDEpO2Vsc2UgaWYoXCJwb2ludFwiPT09dCQxLnR5cGUpei5wdXNoKFAodCQxLmNsb25lKCksdyxqKSk7ZWxzZSBpZihcIm11bHRpcG9pbnRcIj09PXQkMS50eXBlKXtjb25zdCBlPXQkMS5jbG9uZSgpO2UucG9pbnRzPWUucG9pbnRzLm1hcCgodD0+UCh0LHcsaikpKSx6LnB1c2goZSk7fWVsc2UgaWYoXCJleHRlbnRcIj09PXQkMS50eXBlKXtjb25zdCBlPXQkMS5jbG9uZSgpLl9ub3JtYWxpemUoITEsITEseCk7ei5wdXNoKGUucmluZ3M/bmV3IHgkMShlKTplKTt9ZWxzZSBpZih0JDEuZXh0ZW50KXtjb25zdCBlPXQkMS5leHRlbnQsbj1pJDEoZS54bWluLGopKigyKncpO2xldCBvPTA9PT1uP3QkMS5jbG9uZSgpOm8kMSh0JDEuY2xvbmUoKSxuKTtlLm9mZnNldChuLDApLGUuaW50ZXJzZWN0cyhVKSYmZS54bWF4IT09dz8odj1lLnhtYXg+dj9lLnhtYXg6dixvPU0obyxkKSxBLnB1c2gobyksei5wdXNoKFwiY3V0XCIpKTplLmludGVyc2VjdHMoaykmJmUueG1pbiE9PWo/KHY9ZS54bWF4KigyKncpPnY/ZS54bWF4KigyKncpOnYsbz1NKG8sZCwzNjApLEEucHVzaChvKSx6LnB1c2goXCJjdXRcIikpOnoucHVzaChvKTt9ZWxzZSB6LnB1c2godCQxLmNsb25lKCkpO2Vsc2Ugei5wdXNoKHQkMSk7bGV0IEk9aSQxKHYsdyksWD0tOTA7Y29uc3QgcT1JLEM9bmV3IG07Zm9yKDtJPjA7KXtjb25zdCB0PTM2MCpJLTE4MDtDLmFkZFBhdGgoW1t0LFhdLFt0LC0xKlhdXSksWCo9LTEsSS0tO31pZihBLmxlbmd0aD4wJiZxPjApe2NvbnN0IHQ9YihBLGF3YWl0IG8ocCxBLEMsbCkpLGU9W10scz1bXTtmb3IobGV0IGw9MDtsPHoubGVuZ3RoO2wrKyl7Y29uc3Qgcj16W2xdO2lmKFwiY3V0XCIhPT1yKXMucHVzaChyKTtlbHNlIHtjb25zdCByPXQuc2hpZnQoKSxmPW8kMltsXTtyJDEoZikmJlwicG9seWdvblwiPT09Zi50eXBlJiZmLnJpbmdzJiZmLnJpbmdzLmxlbmd0aD4xJiZyLnJpbmdzLmxlbmd0aD49Zi5yaW5ncy5sZW5ndGg/KGUucHVzaChyKSxzLnB1c2goXCJzaW1wbGlmeVwiKSk6cy5wdXNoKGQ/ZCQyKHIpOnIpO319aWYoIWUubGVuZ3RoKXJldHVybiBzO2NvbnN0IHI9YXdhaXQgaShwLGUsbCksZj1bXTtmb3IobGV0IG49MDtuPHMubGVuZ3RoO24rKyl7Y29uc3QgdD1zW25dO1wic2ltcGxpZnlcIiE9PXQ/Zi5wdXNoKHQpOmYucHVzaChkP2QkMihyLnNoaWZ0KCkpOnIuc2hpZnQoKSk7fXJldHVybiBmfWNvbnN0IEQ9W107Zm9yKGxldCB0PTA7dDx6Lmxlbmd0aDt0Kyspe2NvbnN0IGU9elt0XTtpZihcImN1dFwiIT09ZSlELnB1c2goZSk7ZWxzZSB7Y29uc3QgdD1BLnNoaWZ0KCk7RC5wdXNoKCEwPT09ZD9kJDIodCk6dCk7fX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEQpfVxuXG5leHBvcnQgeyBMIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vcm1hbGl6ZVV0aWxzLTY5ZjgzYzA1LmpzLm1hcCIsImltcG9ydCB7IHQgYXMgdCQxIH0gZnJvbSAnLi96c2NhbGUtMzc5ODcxMDQuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCh0LG8scil7aWYoIXJ8fCFyLmZlYXR1cmVzfHwhci5oYXNaKXJldHVybjtjb25zdCBmPXQkMShyLmdlb21ldHJ5VHlwZSxvLHQub3V0U3BhdGlhbFJlZmVyZW5jZSk7aWYoZilmb3IoY29uc3QgZSBvZiByLmZlYXR1cmVzKWYoZS5nZW9tZXRyeSk7fVxuXG5leHBvcnQgeyB0IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5WlNjYWxlLThmZDVhMTYwLmpzLm1hcCIsImltcG9ydCAnLi9hcmNnaXMtZ2VvZW5yaWNobWVudC1kYXRhYnJvd3Nlci02Y2E4ZWExNC5qcyc7XG5pbXBvcnQgeyBTIGFzIG4sIGFuIGFzIG4kMSwgdCwgSCBhcyByLCBidSBhcyBvIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyBtIGFzIG0kMSB9IGZyb20gJy4vbGVuZ3RoVXRpbHMtYmE1NGRlYjIuanMnO1xuaW1wb3J0IHsgbiBhcyBuJDIsIGUgfSBmcm9tICcuL3NpemVWYXJpYWJsZVV0aWxzLTQzOTU3MzBkLmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGM9bi5nZXRMb2dnZXIoXCJlc3JpLnJlbmRlcmVycy52aXN1YWxWYXJpYWJsZXMuc3VwcG9ydC52aXN1YWxWYXJpYWJsZVV0aWxzXCIpLHU9bmV3IG4kMSxmPU1hdGguUEkscD0vXlxccyoocmV0dXJuXFxzKyk/XFwkdmlld1xcLnNjYWxlXFxzKig7KT9cXHMqJC9pO2Z1bmN0aW9uIGQoZSxyJDEsaSl7Y29uc3QgdD1cInZpc3VhbFZhcmlhYmxlc1wiaW4gZSYmZS52aXN1YWxWYXJpYWJsZXM/ZS52aXN1YWxWYXJpYWJsZXMuZmlsdGVyKChlPT5cImNvbG9yXCI9PT1lLnR5cGUpKVswXTplO2lmKCF0KXJldHVybjtpZihcImVzcmkucmVuZGVyZXJzLnZpc3VhbFZhcmlhYmxlcy5Db2xvclZhcmlhYmxlXCIhPT10LmRlY2xhcmVkQ2xhc3MpcmV0dXJuIHZvaWQgYy53YXJuKFwiVGhlIHZpc3VhbFZhcmlhYmxlIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiBlc3JpLnJlbmRlcmVycy52aXN1YWxWYXJpYWJsZXMuQ29sb3JWYXJpYWJsZVwiKTtjb25zdCBzPVwibnVtYmVyXCI9PXR5cGVvZiByJDEsbyQxPXM/bnVsbDpyJDEsbD1vJDEmJm8kMS5hdHRyaWJ1dGVzO2xldCB1PXM/ciQxOm51bGw7Y29uc3QgZj10LmZpZWxkLHtpcERhdGE6cCxoYXNFeHByZXNzaW9uOmR9PXQuY2FjaGU7bGV0IHY9dC5jYWNoZS5jb21waWxlZEZ1bmM7aWYoIWYmJiFkKXtjb25zdCBlPXQuc3RvcHM7cmV0dXJuIGUmJmVbMF0mJmVbMF0uY29sb3J9aWYoXCJudW1iZXJcIiE9dHlwZW9mIHUpaWYoZCl7aWYoIXIoaSl8fCFyKGkuYXJjYWRlKSlyZXR1cm4gdm9pZCBjLmVycm9yKFwiVXNlIG9mIGFyY2FkZSBleHByZXNzaW9ucyByZXF1aXJlcyBhbiBhcmNhZGUgY29udGV4dFwiKTtjb25zdCBlPXt2aWV3aW5nTW9kZTppLnZpZXdpbmdNb2RlLHNjYWxlOmkuc2NhbGUsc3BhdGlhbFJlZmVyZW5jZTppLnNwYXRpYWxSZWZlcmVuY2V9LHIkMT1pLmFyY2FkZS5hcmNhZGVVdGlscyxuPXIkMS5nZXRWaWV3SW5mbyhlKSxzPXIkMS5jcmVhdGVFeGVjQ29udGV4dChvJDEsbik7aWYoIXYpe2NvbnN0IGU9ciQxLmNyZWF0ZVN5bnRheFRyZWUodC52YWx1ZUV4cHJlc3Npb24pO3Y9ciQxLmNyZWF0ZUZ1bmN0aW9uKGUpLHQuY2FjaGUuY29tcGlsZWRGdW5jPXY7fXU9ciQxLmV4ZWN1dGVGdW5jdGlvbih2LHMpO31lbHNlIGwmJih1PWxbZl0pO2NvbnN0IGI9dC5ub3JtYWxpemF0aW9uRmllbGQsaD1sP3BhcnNlRmxvYXQobFtiXSk6dm9pZCAwO2lmKG51bGwhPXUmJighYnx8c3x8IWlzTmFOKGgpJiYwIT09aCkpe2lzTmFOKGgpfHxzfHwodS89aCk7Y29uc3QgZT1DKHUscCk7aWYoZSl7Y29uc3QgciQxPWVbMF0scz1lWzFdLG8kMT1yJDE9PT1zP3Quc3RvcHNbciQxXS5jb2xvcjpvLmJsZW5kQ29sb3JzKHQuc3RvcHNbciQxXS5jb2xvcix0LnN0b3BzW3NdLmNvbG9yLGVbMl0scihpKT9pLmNvbG9yOnZvaWQgMCk7cmV0dXJuIG5ldyBvKG8kMSl9fX1mdW5jdGlvbiB2KGUsYSxpKXtjb25zdCBuPVwidmlzdWFsVmFyaWFibGVzXCJpbiBlJiZlLnZpc3VhbFZhcmlhYmxlcz9lLnZpc3VhbFZhcmlhYmxlcy5maWx0ZXIoKGU9Plwib3BhY2l0eVwiPT09ZS50eXBlKSlbMF06ZTtpZighbilyZXR1cm47aWYoXCJlc3JpLnJlbmRlcmVycy52aXN1YWxWYXJpYWJsZXMuT3BhY2l0eVZhcmlhYmxlXCIhPT1uLmRlY2xhcmVkQ2xhc3MpcmV0dXJuIHZvaWQgYy53YXJuKFwiVGhlIHZpc3VhbFZhcmlhYmxlIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiBlc3JpLnJlbmRlcmVycy52aXN1YWxWYXJpYWJsZXMuT3BhY2l0eVZhcmlhYmxlXCIpO2NvbnN0IHQkMT1cIm51bWJlclwiPT10eXBlb2YgYSxzPXQkMT9udWxsOmEsbz1zJiZzLmF0dHJpYnV0ZXM7bGV0IGw9dCQxP2E6bnVsbDtjb25zdCB1PW4uZmllbGQse2lwRGF0YTpmLGhhc0V4cHJlc3Npb246cH09bi5jYWNoZTtsZXQgZD1uLmNhY2hlLmNvbXBpbGVkRnVuYztpZighdSYmIXApe2NvbnN0IGU9bi5zdG9wcztyZXR1cm4gZSYmZVswXSYmZVswXS5vcGFjaXR5fWlmKFwibnVtYmVyXCIhPXR5cGVvZiBsKWlmKHApe2lmKHQoaSl8fHQoaS5hcmNhZGUpKXJldHVybiB2b2lkIGMuZXJyb3IoXCJVc2Ugb2YgYXJjYWRlIGV4cHJlc3Npb25zIHJlcXVpcmVzIGFuIGFyY2FkZSBjb250ZXh0XCIpO2NvbnN0IGU9e3ZpZXdpbmdNb2RlOmkudmlld2luZ01vZGUsc2NhbGU6aS5zY2FsZSxzcGF0aWFsUmVmZXJlbmNlOmkuc3BhdGlhbFJlZmVyZW5jZX0sYT1pLmFyY2FkZS5hcmNhZGVVdGlscyx0JDE9YS5nZXRWaWV3SW5mbyhlKSxvPWEuY3JlYXRlRXhlY0NvbnRleHQocyx0JDEpO2lmKCFkKXtjb25zdCBlPWEuY3JlYXRlU3ludGF4VHJlZShuLnZhbHVlRXhwcmVzc2lvbik7ZD1hLmNyZWF0ZUZ1bmN0aW9uKGUpLG4uY2FjaGUuY29tcGlsZWRGdW5jPWQ7fWw9YS5leGVjdXRlRnVuY3Rpb24oZCxvKTt9ZWxzZSBvJiYobD1vW3VdKTtjb25zdCB2PW4ubm9ybWFsaXphdGlvbkZpZWxkLGI9bz9wYXJzZUZsb2F0KG9bdl0pOnZvaWQgMDtpZihudWxsIT1sJiYoIXZ8fHQkMXx8IWlzTmFOKGIpJiYwIT09Yikpe2lzTmFOKGIpfHx0JDF8fChsLz1iKTtjb25zdCBlPUMobCxmKTtpZihlKXtjb25zdCBhPWVbMF0scj1lWzFdO2lmKGE9PT1yKXJldHVybiBuLnN0b3BzW2FdLm9wYWNpdHk7e2NvbnN0IGk9bi5zdG9wc1thXS5vcGFjaXR5O3JldHVybiBpKyhuLnN0b3BzW3JdLm9wYWNpdHktaSkqZVsyXX19fX1mdW5jdGlvbiBiKGUsYSxpKXtjb25zdCBuPVwidmlzdWFsVmFyaWFibGVzXCJpbiBlJiZlLnZpc3VhbFZhcmlhYmxlcz9lLnZpc3VhbFZhcmlhYmxlcy5maWx0ZXIoKGU9Plwicm90YXRpb25cIj09PWUudHlwZSkpWzBdOmU7aWYoIW4pcmV0dXJuO2lmKFwiZXNyaS5yZW5kZXJlcnMudmlzdWFsVmFyaWFibGVzLlJvdGF0aW9uVmFyaWFibGVcIiE9PW4uZGVjbGFyZWRDbGFzcylyZXR1cm4gdm9pZCBjLndhcm4oXCJUaGUgdmlzdWFsVmFyaWFibGUgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIGVzcmkucmVuZGVyZXJzLnZpc3VhbFZhcmlhYmxlcy5Sb3RhdGlvblZhcmlhYmxlXCIpO2NvbnN0IHQkMT1uLmF4aXN8fFwiaGVhZGluZ1wiLHM9XCJoZWFkaW5nXCI9PT10JDEmJlwiYXJpdGhtZXRpY1wiPT09bi5yb3RhdGlvblR5cGU/OTA6MCxvPVwiaGVhZGluZ1wiPT09dCQxJiZcImFyaXRobWV0aWNcIj09PW4ucm90YXRpb25UeXBlPy0xOjEsbD1cIm51bWJlclwiPT10eXBlb2YgYT9udWxsOmEsdT1sJiZsLmF0dHJpYnV0ZXMsZj1uLmZpZWxkLHtoYXNFeHByZXNzaW9uOnB9PW4uY2FjaGU7bGV0IGQ9bi5jYWNoZS5jb21waWxlZEZ1bmMsdj0wO2lmKCFmJiYhcClyZXR1cm4gdjtpZihwKXtpZih0KGkpfHx0KGkuYXJjYWRlKSlyZXR1cm4gdm9pZCBjLmVycm9yKFwiVXNlIG9mIGFyY2FkZSBleHByZXNzaW9ucyByZXF1aXJlcyBhbiBhcmNhZGUgY29udGV4dFwiKTtjb25zdCBlPXt2aWV3aW5nTW9kZTppLnZpZXdpbmdNb2RlLHNjYWxlOmkuc2NhbGUsc3BhdGlhbFJlZmVyZW5jZTppLnNwYXRpYWxSZWZlcmVuY2V9LGE9aS5hcmNhZGUuYXJjYWRlVXRpbHMsdCQxPWEuZ2V0Vmlld0luZm8oZSkscz1hLmNyZWF0ZUV4ZWNDb250ZXh0KGwsdCQxKTtpZighZCl7Y29uc3QgZT1hLmNyZWF0ZVN5bnRheFRyZWUobi52YWx1ZUV4cHJlc3Npb24pO2Q9YS5jcmVhdGVGdW5jdGlvbihlKSxuLmNhY2hlLmNvbXBpbGVkRnVuYz1kO312PWEuZXhlY3V0ZUZ1bmN0aW9uKGQscyk7fWVsc2UgdSYmKHY9dVtmXXx8MCk7cmV0dXJuIHY9XCJudW1iZXJcIiE9dHlwZW9mIHZ8fGlzTmFOKHYpP251bGw6cytvKnYsdn1mdW5jdGlvbiBoKGUkMSxpLG4pe2NvbnN0IHQkMT1cIm51bWJlclwiPT10eXBlb2YgaSxzPXQkMT9udWxsOmksbz1zJiZzLmF0dHJpYnV0ZXM7bGV0IHU9dCQxP2k6bnVsbDtjb25zdHtpc1NjYWxlRHJpdmVuOmZ9PWUkMS5jYWNoZTtsZXQgcD1lJDEuY2FjaGUuY29tcGlsZWRGdW5jO2lmKGYpe2NvbnN0IHIkMT1yKG4pP24uc2NhbGU6dm9pZCAwLGk9cihuKT9uLnZpZXc6dm9pZCAwO3U9bnVsbD09ciQxfHxcIjNkXCI9PT1pP20oZSQxKTpyJDE7fWVsc2UgaWYoIXQkMSlzd2l0Y2goZSQxLmlucHV0VmFsdWVUeXBlKXtjYXNlXCJleHByZXNzaW9uXCI6e2lmKHQobil8fHQobi5hcmNhZGUpKXJldHVybiB2b2lkIGMuZXJyb3IoXCJVc2Ugb2YgYXJjYWRlIGV4cHJlc3Npb25zIHJlcXVpcmVzIGFuIGFyY2FkZSBjb250ZXh0XCIpO2NvbnN0IGE9e3ZpZXdpbmdNb2RlOm4udmlld2luZ01vZGUsc2NhbGU6bi5zY2FsZSxzcGF0aWFsUmVmZXJlbmNlOm4uc3BhdGlhbFJlZmVyZW5jZX0saT1uLmFyY2FkZS5hcmNhZGVVdGlscyx0JDE9aS5nZXRWaWV3SW5mbyhhKSxvPWkuY3JlYXRlRXhlY0NvbnRleHQocyx0JDEpO2lmKCFwKXtjb25zdCBhPWkuY3JlYXRlU3ludGF4VHJlZShlJDEudmFsdWVFeHByZXNzaW9uKTtwPWkuY3JlYXRlRnVuY3Rpb24oYSksZSQxLmNhY2hlLmNvbXBpbGVkRnVuYz1wO311PWkuZXhlY3V0ZUZ1bmN0aW9uKHAsbyk7YnJlYWt9Y2FzZVwiZmllbGRcIjpvJiYodT1vW2UkMS5maWVsZF0pO2JyZWFrO2Nhc2VcInVua25vd25cIjp1PW51bGw7fWlmKCFlKHUpKXJldHVybiBudWxsO2lmKHQkMXx8IWUkMS5ub3JtYWxpemF0aW9uRmllbGQpcmV0dXJuIHU7Y29uc3QgZD1vP3BhcnNlRmxvYXQob1tlJDEubm9ybWFsaXphdGlvbkZpZWxkXSk6bnVsbDtyZXR1cm4gZShkKSYmMCE9PWQ/dS9kOm51bGx9ZnVuY3Rpb24gbShlKXtsZXQgYT1udWxsLHI9bnVsbDtjb25zdCBpPWUuc3RvcHM7cmV0dXJuIGk/KGE9aVswXS52YWx1ZSxyPWlbaS5sZW5ndGgtMV0udmFsdWUpOihhPWUubWluRGF0YVZhbHVlfHwwLHI9ZS5tYXhEYXRhVmFsdWV8fDApLChhK3IpLzJ9ZnVuY3Rpb24gVihlLGEscil7Y29uc3QgaT1cInZpc3VhbFZhcmlhYmxlc1wiaW4gZSYmZS52aXN1YWxWYXJpYWJsZXM/ZS52aXN1YWxWYXJpYWJsZXMuZmlsdGVyKChlPT5cInNpemVcIj09PWUudHlwZSkpWzBdOmU7aWYoIWkpcmV0dXJuO2lmKFwiZXNyaS5yZW5kZXJlcnMudmlzdWFsVmFyaWFibGVzLlNpemVWYXJpYWJsZVwiIT09aS5kZWNsYXJlZENsYXNzKXJldHVybiB2b2lkIGMud2FybihcIlRoZSB2aXN1YWxWYXJpYWJsZSBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgZXNyaS5yZW5kZXJlcnMudmlzdWFsVmFyaWFibGVzLlNpemVWYXJpYWJsZVwiKTtjb25zdCBuPU0oaChpLGEsciksaSxhLHIsaS5jYWNoZS5pcERhdGEpO3JldHVybiBudWxsPT1ufHxpc05hTihuKT8wOm59ZnVuY3Rpb24geChlJDEsYSxyKXtyZXR1cm4gbnVsbD09ZSQxP251bGw6biQyKGUkMSk/VihlJDEsYSxyKTplKGUkMSk/ZSQxOm51bGx9ZnVuY3Rpb24geShlJDEsYSxyKXtyZXR1cm4gZShyKSYmZSQxPnI/cjplKGEpJiZlJDE8YT9hOmUkMX1mdW5jdGlvbiB3KGUsYSxyLGkpe3JldHVybiBlKyh4KGEubWluU2l6ZSxyLGkpfHxhLm1pbkRhdGFWYWx1ZSl9ZnVuY3Rpb24gZyhlLGEscil7Y29uc3QgaT1lLnN0b3BzO2xldCBuPWkmJmkubGVuZ3RoJiZpWzBdLnNpemU7cmV0dXJuIG51bGw9PW4mJihuPWUubWluU2l6ZSkseChuLGEscil9ZnVuY3Rpb24geihlLHIkMSxpLG4pe2NvbnN0IHQ9KGUtciQxLm1pbkRhdGFWYWx1ZSkvKHIkMS5tYXhEYXRhVmFsdWUtciQxLm1pbkRhdGFWYWx1ZSkscz14KHIkMS5taW5TaXplLGksbiksbz14KHIkMS5tYXhTaXplLGksbiksbD1yKG4pP24uc2hhcGU6dm9pZCAwO2lmKGU8PXIkMS5taW5EYXRhVmFsdWUpcmV0dXJuIHM7aWYoZT49ciQxLm1heERhdGFWYWx1ZSlyZXR1cm4gbztpZihcImFyZWFcIj09PXIkMS5zY2FsZUJ5JiZsKXtjb25zdCBlPVwiY2lyY2xlXCI9PT1sLGE9ZT9mKihzLzIpKioyOnMqcyxyPWErdCooKGU/Ziooby8yKSoqMjpvKm8pLWEpO3JldHVybiBlPzIqTWF0aC5zcXJ0KHIvZik6TWF0aC5zcXJ0KHIpfXJldHVybiBzK3QqKG8tcyl9ZnVuY3Rpb24gRihlLHIkMSxpLG4pe2NvbnN0IHQ9cihuKT9uLnNoYXBlOnZvaWQgMCxzPWUvciQxLm1pbkRhdGFWYWx1ZSxvPXgociQxLm1pblNpemUsaSxuKSxsPXgociQxLm1heFNpemUsaSxuKTtsZXQgYz1udWxsO3JldHVybiBjPVwiY2lyY2xlXCI9PT10PzIqTWF0aC5zcXJ0KHMqKG8vMikqKjIpOlwic3F1YXJlXCI9PT10fHxcImRpYW1vbmRcIj09PXR8fFwiaW1hZ2VcIj09PXQ/TWF0aC5zcXJ0KHMqbyoqMik6cypvLHkoYyxvLGwpfWZ1bmN0aW9uIFMoZSxhLHIsaSxuKXtjb25zdFt0LHMsb109QyhlLG4pO2lmKHQ9PT1zKXJldHVybiB4KGEuc3RvcHNbdF0uc2l6ZSxyLGkpO3tjb25zdCBlPXgoYS5zdG9wc1t0XS5zaXplLHIsaSk7cmV0dXJuIGUrKHgoYS5zdG9wc1tzXS5zaXplLHIsaSktZSkqb319ZnVuY3Rpb24gRShlLHIkMSxpLG4pe2NvbnN0IHQ9KHIobikmJm4ucmVzb2x1dGlvbj9uLnJlc29sdXRpb246MSkqbSQxW3IkMS52YWx1ZVVuaXRdLG89eChyJDEubWluU2l6ZSxpLG4pLGw9eChyJDEubWF4U2l6ZSxpLG4pLHt2YWx1ZVJlcHJlc2VudGF0aW9uOmN9PXIkMTtsZXQgdT1udWxsO3JldHVybiB1PVwiYXJlYVwiPT09Yz8yKk1hdGguc3FydChlL2YpL3Q6XCJyYWRpdXNcIj09PWN8fFwiZGlzdGFuY2VcIj09PWM/MiplL3Q6ZS90LHkodSxvLGwpfWZ1bmN0aW9uIEQoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gTShlLGEscixpLG4pe3N3aXRjaChhLnRyYW5zZm9ybWF0aW9uVHlwZSl7Y2FzZVwiYWRkaXRpdmVcIjpyZXR1cm4gdyhlLGEscixpKTtjYXNlXCJjb25zdGFudFwiOnJldHVybiBnKGEscixpKTtjYXNlXCJjbGFtcGVkLWxpbmVhclwiOnJldHVybiB6KGUsYSxyLGkpO2Nhc2VcInByb3BvcnRpb25hbFwiOnJldHVybiBGKGUsYSxyLGkpO2Nhc2VcInN0b3BzXCI6cmV0dXJuIFMoZSxhLHIsaSxuKTtjYXNlXCJyZWFsLXdvcmxkLXNpemVcIjpyZXR1cm4gRShlLGEscixpKTtjYXNlXCJpZGVudGl0eVwiOnJldHVybiBEKGUpO2Nhc2VcInVua25vd25cIjpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gVShlLGEscil7Y29uc3R7aXNTY2FsZURyaXZlbjppfT1lLmNhY2hlO2lmKCEoaSYmXCIzZFwiPT09cnx8YSkpcmV0dXJuIG51bGw7Y29uc3Qgbj17c2NhbGU6YSx2aWV3OnJ9O2xldCB0PXgoZS5taW5TaXplLHUsbikscz14KGUubWF4U2l6ZSx1LG4pO2lmKG51bGwhPXR8fG51bGwhPXMpe2lmKHQ+cyl7Y29uc3QgZT1zO3M9dCx0PWU7fXJldHVybiB7bWluU2l6ZTp0LG1heFNpemU6c319fWZ1bmN0aW9uIEMoZSxhKXtpZighYSlyZXR1cm47bGV0IHI9MCxpPWEubGVuZ3RoLTE7cmV0dXJuIGEuc29tZSgoKGEsbik9PmU8YT8oaT1uLCEwKToocj1uLCExKSkpLFtyLGksKGUtYVtyXSkvKGFbaV0tYVtyXSldfWZ1bmN0aW9uIE4oYSxyLGkpe2NvbnN0IG49W1wicHJvcG9ydGlvbmFsXCIsXCJwcm9wb3J0aW9uYWxcIixcInByb3BvcnRpb25hbFwiXTtmb3IoY29uc3QgdCBvZiBhKXtjb25zdCBhPXQudXNlU3ltYm9sVmFsdWU/XCJzeW1ib2wtdmFsdWVcIjpWKHQscixpKTtzd2l0Y2godC5heGlzKXtjYXNlXCJ3aWR0aFwiOm5bMF09YTticmVhaztjYXNlXCJkZXB0aFwiOm5bMV09YTticmVhaztjYXNlXCJoZWlnaHRcIjpuWzJdPWE7YnJlYWs7Y2FzZVwid2lkdGgtYW5kLWRlcHRoXCI6blswXT1hLG5bMV09YTticmVhaztjYXNlXCJhbGxcIjpjYXNlIHZvaWQgMDpjYXNlIG51bGw6blswXT1hLG5bMV09YSxuWzJdPWE7YnJlYWs7fX1yZXR1cm4gbn1cblxuZXhwb3J0IHsgTiwgVSwgViwgYiwgZCwgcCwgdiB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXN1YWxWYXJpYWJsZVV0aWxzLTliOGUzODhmLmpzLm1hcCIsImltcG9ydCB7IGJmIGFzIGQsIHQgYXMgdCQxIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgeyBUIH0gZnJvbSAnLi91bml0VXRpbHMtNjI0Y2VlYjYuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gdCh0LGMsbCl7aWYodCQxKGMpfHx0JDEobCl8fGwudmNzV2tpZHx8ZChjLGwpKXJldHVybiBudWxsO2NvbnN0IHU9VChjKS9UKGwpO2lmKDE9PT11KXJldHVybiBudWxsO3N3aXRjaCh0KXtjYXNlXCJwb2ludFwiOmNhc2VcImVzcmlHZW9tZXRyeVBvaW50XCI6cmV0dXJuIG49Pmkobix1KTtjYXNlXCJwb2x5bGluZVwiOmNhc2VcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6cmV0dXJuIG49PnMobix1KTtjYXNlXCJwb2x5Z29uXCI6Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWdvblwiOnJldHVybiBuPT5yKG4sdSk7Y2FzZVwibXVsdGlwb2ludFwiOmNhc2VcImVzcmlHZW9tZXRyeU11bHRpcG9pbnRcIjpyZXR1cm4gbj0+ZihuLHUpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIGkobixvKXtuJiZudWxsIT1uLnomJihuLnoqPW8pO31mdW5jdGlvbiByKG4sbyl7aWYobilmb3IoY29uc3QgZSBvZiBuLnJpbmdzKWZvcihjb25zdCBuIG9mIGUpbi5sZW5ndGg+MiYmKG5bMl0qPW8pO31mdW5jdGlvbiBzKG4sbyl7aWYobilmb3IoY29uc3QgZSBvZiBuLnBhdGhzKWZvcihjb25zdCBuIG9mIGUpbi5sZW5ndGg+MiYmKG5bMl0qPW8pO31mdW5jdGlvbiBmKG4sbyl7aWYobilmb3IoY29uc3QgZSBvZiBuLnBvaW50cyllLmxlbmd0aD4yJiYoZVsyXSo9byk7fWZ1bmN0aW9uIGMobixvLGUpe2lmKG51bGw9PW4uaGFzTXx8bi5oYXNaKWZvcihjb25zdCB0IG9mIG8pZm9yKGNvbnN0IG4gb2YgdCluLmxlbmd0aD4yJiYoblsyXSo9ZSk7fWZ1bmN0aW9uIGwobixvLHQpe2lmKCFuJiYhb3x8IXQpcmV0dXJuO2NvbnN0IGk9VCh0KTt1KG4sdCxpKSx1KG8sdCxpKTt9ZnVuY3Rpb24gdShuLG8sZSl7aWYobilmb3IoY29uc3QgdCBvZiBuKWEodC5nZW9tZXRyeSxvLGUpO31mdW5jdGlvbiBhKG4sdCxpKXtpZighbnx8IW4uc3BhdGlhbFJlZmVyZW5jZXx8ZChuLnNwYXRpYWxSZWZlcmVuY2UsdCkpcmV0dXJuO2NvbnN0IHI9VChuLnNwYXRpYWxSZWZlcmVuY2UpL2k7aWYoMSE9PXIpaWYoXCJ4XCJpbiBuKW51bGwhPW4ueiYmKG4ueio9cik7ZWxzZSBpZihcInJpbmdzXCJpbiBuKWMobixuLnJpbmdzLHIpO2Vsc2UgaWYoXCJwYXRoc1wiaW4gbiljKG4sbi5wYXRocyxyKTtlbHNlIGlmKFwicG9pbnRzXCJpbiBuJiYobnVsbD09bi5oYXNNfHxuLmhhc1opKWZvcihjb25zdCBvIG9mIG4ucG9pbnRzKW8ubGVuZ3RoPjImJihvWzJdKj1yKTt9XG5cbmV4cG9ydCB7IGwsIHQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9enNjYWxlLTM3OTg3MTA0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==