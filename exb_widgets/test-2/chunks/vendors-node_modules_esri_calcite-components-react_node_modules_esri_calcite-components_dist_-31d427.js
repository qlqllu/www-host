"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_esri_calcite-components-react_node_modules_esri_calcite-components_dist_-31d427"],{

/***/ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/calcite-table.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/calcite-table.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalciteTable: () => (/* binding */ CalciteTable),
/* harmony export */   defineCustomElement: () => (/* binding */ defineCustomElement)
/* harmony export */ });
/* harmony import */ var _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stencil/core/internal/client/index.js */ "./node_modules/@esri/calcite-components-react/node_modules/@stencil/core/internal/client/index.js");
/* harmony import */ var _loadable_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loadable.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/loadable.js");
/* harmony import */ var _t9n_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./t9n.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/t9n.js");
/* harmony import */ var _locale_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./locale.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/locale.js");
/* harmony import */ var _interactive_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interactive.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/interactive.js");
/* harmony import */ var _button_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./button.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/button.js");
/* harmony import */ var _chip_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chip.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/chip.js");
/* harmony import */ var _icon_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./icon.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/icon.js");
/* harmony import */ var _loader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loader.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/loader.js");
/* harmony import */ var _pagination_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pagination.js */ "./node_modules/@esri/calcite-components-react/node_modules/@esri/calcite-components/dist/components/pagination.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */











const CSS = {
  bordered: "bordered",
  zebra: "zebra",
  selectionArea: "selection-area",
  paginationArea: "pagination-area",
  container: "container",
  tableContainer: "table-container",
  tableFixed: "table--fixed",
  assistiveText: "assistive-text",
  selectionActions: "selection-actions",
};
const SLOTS = {
  selectionActions: "selection-actions",
  tableHeader: "table-header",
  tableFooter: "table-footer",
};

const tableCss = ":host([scale=s]){--calcite-internal-table-cell-padding:0.25rem;--calcite-internal-table-cell-font-size:var(--calcite-font-size--2);--calcite-internal-table-cell-font-size-secondary:var(--calcite-font-size--3)}:host([scale=m]){--calcite-internal-table-cell-padding:0.5rem;--calcite-internal-table-cell-font-size:var(--calcite-font-size--1);--calcite-internal-table-cell-font-size-secondary:var(--calcite-font-size--2)}:host([scale=l]){--calcite-internal-table-cell-padding:1rem;--calcite-internal-table-cell-font-size:var(--calcite-font-size-0);--calcite-internal-table-cell-font-size-secondary:var(--calcite-font-size--1)}:host{display:table}.container{max-inline-size:100vw;inline-size:100%}.table-container{overflow-x:auto;white-space:nowrap}.table-container:not(.bordered){border-block-end:1px solid var(--calcite-ui-border-3)}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}table{inline-size:100%;border-collapse:collapse;overflow-x:scroll;border-block-start:1px solid var(--calcite-ui-border-3);border-inline-start:1px solid var(--calcite-ui-border-3);border-block-end:1px solid var(--calcite-ui-border-3)}tbody{border-block-end:1px solid var(--calcite-ui-border-3)}.table--fixed{table-layout:fixed}.bordered ::slotted(calcite-table-row){--calcite-table-row-border-color:var(--calcite-ui-border-3)}.zebra ::slotted(calcite-table-row:nth-child(2n+1)){--calcite-table-row-background:var(--calcite-ui-foreground-2)}.selection-actions{display:flex;flex-direction:row;margin-inline-start:auto}.selection-area{display:flex;flex-direction:row;align-items:center;padding-block:var(--calcite-internal-table-cell-padding)}.selection-area calcite-chip:last-of-type{margin-inline-end:0.5rem}.selection-area calcite-chip:last-of-type:not(:first-of-type){margin-inline-start:0.5rem}.selection-area calcite-button{margin-inline-end:1rem}.pagination-area{display:flex;inline-size:100%;flex-direction:row;justify-content:center;padding-block:var(--calcite-internal-table-cell-padding)}calcite-pagination{flex:1;justify-content:center}:host([hidden]){display:none}[hidden]{display:none}";

const Table = /*@__PURE__*/ (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.proxyCustomElement)(class extends _stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.HTMLElement {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.calciteTableSelect = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.createEvent)(this, "calciteTableSelect", 6);
    this.calciteTablePageChange = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.createEvent)(this, "calciteTablePageChange", 6);
    this.calciteInternalTableRowFocusChange = (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.createEvent)(this, "calciteInternalTableRowFocusChange", 6);
    // --------------------------------------------------------------------------
    //
    //  Private Methods
    //
    // --------------------------------------------------------------------------
    this.getSlottedRows = (el) => {
      return el
        ?.assignedElements({ flatten: true })
        ?.filter((el) => el?.matches("calcite-table-row"));
    };
    this.updateRows = () => {
      const headRows = this.getSlottedRows(this.tableHeadSlotEl) || [];
      const bodyRows = this.getSlottedRows(this.tableBodySlotEl) || [];
      const footRows = this.getSlottedRows(this.tableFootSlotEl) || [];
      const allRows = [...headRows, ...bodyRows, ...footRows];
      headRows?.forEach((row) => {
        const position = headRows?.indexOf(row);
        row.rowType = "head";
        row.positionSection = position;
        row.positionSectionLocalized = this.localizeNumber((position + 1).toString());
      });
      bodyRows?.forEach((row) => {
        const position = bodyRows?.indexOf(row);
        row.rowType = "body";
        row.positionSection = position;
        row.positionSectionLocalized = this.localizeNumber((position + 1).toString());
      });
      footRows?.forEach((row) => {
        const position = footRows?.indexOf(row);
        row.rowType = "foot";
        row.positionSection = position;
        row.positionSectionLocalized = this.localizeNumber((position + 1).toString());
      });
      allRows?.forEach((row) => {
        row.selectionMode = this.selectionMode;
        row.bodyRowCount = bodyRows?.length;
        row.positionAll = allRows?.indexOf(row);
        row.numbered = this.numbered;
        row.scale = this.scale;
        row.readCellContentsToAT = this.readCellContentsToAT;
      });
      const colCount = headRows[0]?.cellCount || headRows[0]?.querySelectorAll("calcite-table-header")?.length;
      this.colCount = colCount;
      this.headRows = headRows;
      this.bodyRows = bodyRows;
      this.footRows = footRows;
      this.allRows = allRows;
      this.updateSelectedItems();
      this.paginateRows();
    };
    this.handlePaginationChange = () => {
      const requestedItem = this.paginationEl?.startItem;
      this.pageStartRow = requestedItem || 1;
      this.calciteTablePageChange.emit();
      this.updateRows();
    };
    this.paginateRows = () => {
      this.bodyRows?.forEach((row) => {
        const rowPos = row.positionSection + 1;
        const inView = rowPos >= this.pageStartRow && rowPos < this.pageStartRow + this.pageSize;
        row.hidden = this.pageSize > 0 && !inView && !this.footRows.includes(row);
      });
    };
    this.updateSelectedItems = (emit) => {
      const selectedItems = this.bodyRows?.filter((el) => el.selected);
      this.selectedItems = selectedItems;
      this.selectedCount = selectedItems?.length;
      this.allRows?.forEach((row) => {
        row.selectedRowCount = this.selectedCount;
        row.selectedRowCountLocalized = this.localizeNumber(this.selectedCount);
      });
      if (emit) {
        this.calciteTableSelect.emit();
      }
    };
    this.handleDeselectAllRows = () => {
      this.bodyRows?.forEach((row) => {
        row.selected = false;
      });
      this.updateSelectedItems(true);
    };
    this.setSelectedItems = (elToMatch) => {
      this.bodyRows?.forEach((el) => {
        if (elToMatch?.rowType === "head") {
          el.selected = this.selectedCount !== this.bodyRows?.length;
        }
        else {
          el.selected =
            elToMatch === el ? !el.selected : this.selectionMode === "multiple" ? el.selected : false;
        }
      });
      this.updateSelectedItems(true);
    };
    this.localizeNumber = (value) => {
      _locale_js__WEBPACK_IMPORTED_MODULE_2__.n.numberFormatOptions = {
        locale: this.effectiveLocale,
        numberingSystem: this.numberingSystem,
        useGrouping: this.groupSeparator,
      };
      return _locale_js__WEBPACK_IMPORTED_MODULE_2__.n.localize(value.toString());
    };
    this.bordered = false;
    this.caption = undefined;
    this.groupSeparator = false;
    this.layout = "auto";
    this.numbered = false;
    this.numberingSystem = undefined;
    this.pageSize = 0;
    this.scale = "m";
    this.selectionMode = "none";
    this.zebra = false;
    this.selectedItems = [];
    this.messages = undefined;
    this.messageOverrides = undefined;
    this.colCount = 0;
    this.pageStartRow = 1;
    this.selectedCount = 0;
    this.readCellContentsToAT = undefined;
    this.defaultMessages = undefined;
    this.effectiveLocale = "";
  }
  handleNumberedChange() {
    this.updateRows();
  }
  onMessagesChange() {
    /* wired up by t9n util */
  }
  effectiveLocaleChange() {
    (0,_t9n_js__WEBPACK_IMPORTED_MODULE_1__.u)(this, this.effectiveLocale);
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  async componentWillLoad() {
    (0,_loadable_js__WEBPACK_IMPORTED_MODULE_0__.a)(this);
    await (0,_t9n_js__WEBPACK_IMPORTED_MODULE_1__.s)(this);
    this.readCellContentsToAT = /safari/i.test((0,_interactive_js__WEBPACK_IMPORTED_MODULE_3__.g)());
    this.updateRows();
  }
  componentDidLoad() {
    (0,_loadable_js__WEBPACK_IMPORTED_MODULE_0__.s)(this);
  }
  connectedCallback() {
    (0,_locale_js__WEBPACK_IMPORTED_MODULE_2__.c)(this);
    (0,_t9n_js__WEBPACK_IMPORTED_MODULE_1__.c)(this);
  }
  disconnectedCallback() {
    (0,_locale_js__WEBPACK_IMPORTED_MODULE_2__.d)(this);
    (0,_t9n_js__WEBPACK_IMPORTED_MODULE_1__.d)(this);
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  calciteChipSelectListener(event) {
    if (event.composedPath().includes(this.el)) {
      this.setSelectedItems(event.target);
    }
  }
  calciteInternalTableRowFocusEvent(event) {
    const cellPosition = event["detail"].cellPosition;
    const rowPos = event["detail"].rowPosition;
    const destination = event["detail"].destination;
    const lastCell = event["detail"].lastCell;
    const visibleBody = this.bodyRows?.filter((row) => !row.hidden);
    const visibleAll = this.allRows?.filter((row) => !row.hidden);
    const lastHeadRow = this.headRows[this.headRows.length - 1]?.positionAll;
    const firstBodyRow = visibleBody[0]?.positionAll;
    const lastBodyRow = visibleBody[visibleBody.length - 1]?.positionAll;
    const firstFootRow = this.footRows[0]?.positionAll;
    const lastTableRow = visibleAll[visibleAll.length - 1]?.positionAll;
    const leavingHeader = destination === "next" && rowPos === lastHeadRow;
    const leavingFooter = destination === "previous" && rowPos === firstFootRow;
    const enteringHeader = destination === "previous" && rowPos === firstBodyRow;
    const enteringFooter = destination === "next" && rowPos === lastBodyRow;
    let rowPosition;
    switch (destination) {
      case "first":
        rowPosition = 0;
        break;
      case "last":
        rowPosition = lastTableRow;
        break;
      case "next":
        rowPosition = leavingHeader ? firstBodyRow : enteringFooter ? firstFootRow : rowPos + 1;
        break;
      case "previous":
        rowPosition = leavingFooter ? lastBodyRow : enteringHeader ? lastHeadRow : rowPos - 1;
        break;
    }
    const destinationCount = this.allRows?.find((row) => row.positionAll === rowPosition)?.cellCount;
    const adjustedPos = cellPosition > destinationCount ? destinationCount : cellPosition;
    if (rowPosition !== undefined) {
      this.calciteInternalTableRowFocusChange.emit({
        cellPosition: adjustedPos,
        rowPosition,
        destination,
        lastCell,
      });
    }
  }
  // --------------------------------------------------------------------------
  //
  //  Render Methods
  //
  // --------------------------------------------------------------------------
  renderSelectionArea() {
    const outOfViewCount = this.selectedItems?.filter((el) => el.hidden)?.length;
    const localizedOutOfView = this.localizeNumber(outOfViewCount?.toString());
    const localizedSelectedCount = this.localizeNumber(this.selectedCount?.toString());
    const selectionText = `${localizedSelectedCount} ${this.messages.selected}`;
    const outOfView = `${localizedOutOfView} ${this.messages.hiddenSelected}`;
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("div", { class: CSS.selectionArea }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("calcite-chip", { kind: this.selectedCount > 0 ? "brand" : "neutral", scale: this.scale, value: selectionText }, selectionText), outOfViewCount > 0 && ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("calcite-chip", { icon: "hide-empty", scale: this.scale, title: outOfView, value: outOfView }, localizedOutOfView)), this.selectedCount > 0 && ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("calcite-button", { "icon-start": "x", kind: "neutral", onClick: this.handleDeselectAllRows, round: true, scale: this.scale, title: `${this.messages.clear} ${selectionText} ${this.messages.row}` }, this.messages.clear)), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("div", { class: CSS.selectionActions }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("slot", { name: SLOTS.selectionActions }))));
  }
  renderPaginationArea() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("div", { class: CSS.paginationArea }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("calcite-pagination", { groupSeparator: this.groupSeparator, numberingSystem: this.numberingSystem, onCalcitePaginationChange: this.handlePaginationChange, pageSize: this.pageSize, scale: this.scale, startItem: 1, totalItems: this.bodyRows?.length,
      // eslint-disable-next-line react/jsx-sort-props -- ref should be last so node attrs/props are in sync (see https://github.com/Esri/calcite-design-system/pull/6530)
      ref: (el) => (this.paginationEl = el) })));
  }
  renderTHead() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("thead", null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("slot", { name: SLOTS.tableHeader, onSlotchange: this.updateRows, ref: (el) => (this.tableHeadSlotEl = el) })));
  }
  renderTBody() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("tbody", null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("slot", { onSlotchange: this.updateRows, ref: (el) => (this.tableBodySlotEl = el) })));
  }
  renderTFoot() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("tfoot", null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("slot", { name: SLOTS.tableFooter, onSlotchange: this.updateRows, ref: (el) => (this.tableFootSlotEl = el) })));
  }
  render() {
    return ((0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)(_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.Host, null, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("div", { class: CSS.container }, this.selectionMode !== "none" && this.renderSelectionArea(), (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("div", { class: {
        [CSS.bordered]: this.bordered,
        [CSS.zebra]: this.zebra,
        [CSS.tableContainer]: true,
      } }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("table", { "aria-colcount": this.colCount, "aria-multiselectable": this.selectionMode === "multiple", "aria-readonly": true, "aria-rowcount": this.allRows?.length, class: { [CSS.tableFixed]: this.layout === "fixed" }, role: "grid" }, (0,_stencil_core_internal_client_index_js__WEBPACK_IMPORTED_MODULE_9__.h)("caption", { class: CSS.assistiveText }, this.caption), this.renderTHead(), this.renderTBody(), this.renderTFoot())), this.pageSize > 0 && this.renderPaginationArea())));
  }
  static get assetsDirs() { return ["assets"]; }
  get el() { return this; }
  static get watchers() { return {
    "groupSeparator": ["handleNumberedChange"],
    "numbered": ["handleNumberedChange"],
    "numberingSystem": ["handleNumberedChange"],
    "pageSize": ["handleNumberedChange"],
    "scale": ["handleNumberedChange"],
    "selectionMode": ["handleNumberedChange"],
    "messageOverrides": ["onMessagesChange"],
    "effectiveLocale": ["effectiveLocaleChange"]
  }; }
  static get style() { return tableCss; }
}, [1, "calcite-table", {
    "bordered": [516],
    "caption": [1],
    "groupSeparator": [516, "group-separator"],
    "layout": [513],
    "numbered": [516],
    "numberingSystem": [513, "numbering-system"],
    "pageSize": [514, "page-size"],
    "scale": [513],
    "selectionMode": [513, "selection-mode"],
    "zebra": [516],
    "selectedItems": [1040],
    "messages": [1040],
    "messageOverrides": [1040],
    "colCount": [32],
    "pageStartRow": [32],
    "selectedCount": [32],
    "readCellContentsToAT": [32],
    "defaultMessages": [32],
    "effectiveLocale": [32]
  }, [[0, "calciteTableRowSelect", "calciteChipSelectListener"], [0, "calciteInternalTableRowFocusRequest", "calciteInternalTableRowFocusEvent"]]]);
function defineCustomElement$1() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-table", "calcite-button", "calcite-chip", "calcite-icon", "calcite-loader", "calcite-pagination"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-table":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, Table);
      }
      break;
    case "calcite-button":
      if (!customElements.get(tagName)) {
        (0,_button_js__WEBPACK_IMPORTED_MODULE_4__.d)();
      }
      break;
    case "calcite-chip":
      if (!customElements.get(tagName)) {
        (0,_chip_js__WEBPACK_IMPORTED_MODULE_5__.d)();
      }
      break;
    case "calcite-icon":
      if (!customElements.get(tagName)) {
        (0,_icon_js__WEBPACK_IMPORTED_MODULE_6__.d)();
      }
      break;
    case "calcite-loader":
      if (!customElements.get(tagName)) {
        (0,_loader_js__WEBPACK_IMPORTED_MODULE_7__.d)();
      }
      break;
    case "calcite-pagination":
      if (!customElements.get(tagName)) {
        (0,_pagination_js__WEBPACK_IMPORTED_MODULE_8__.d)();
      }
      break;
  } });
}
defineCustomElement$1();

const CalciteTable = Table;
const defineCustomElement = defineCustomElement$1;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvdmVuZG9ycy1ub2RlX21vZHVsZXNfZXNyaV9jYWxjaXRlLWNvbXBvbmVudHMtcmVhY3Rfbm9kZV9tb2R1bGVzX2VzcmlfY2FsY2l0ZS1jb21wb25lbnRzX2Rpc3RfLTMxZDQyNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQytHO0FBQzFCO0FBQzZCO0FBQ1I7QUFDL0M7QUFDRjtBQUNGO0FBQ0E7QUFDRTtBQUNJOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUMsOENBQThDLG9FQUFvRSw4RUFBOEUsaUJBQWlCLDZDQUE2QyxvRUFBb0UsOEVBQThFLGlCQUFpQiwyQ0FBMkMsbUVBQW1FLDhFQUE4RSxNQUFNLGNBQWMsV0FBVyxzQkFBc0IsaUJBQWlCLGlCQUFpQixnQkFBZ0IsbUJBQW1CLGdDQUFnQyxzREFBc0QsZ0JBQWdCLGtCQUFrQixnQkFBZ0IsZUFBZSxVQUFVLFlBQVksZ0JBQWdCLHNCQUFzQixtQkFBbUIsZUFBZSxNQUFNLGlCQUFpQix5QkFBeUIsa0JBQWtCLHdEQUF3RCx5REFBeUQsc0RBQXNELE1BQU0sc0RBQXNELGNBQWMsbUJBQW1CLHVDQUF1Qyw0REFBNEQsb0RBQW9ELDhEQUE4RCxtQkFBbUIsYUFBYSxtQkFBbUIseUJBQXlCLGdCQUFnQixhQUFhLG1CQUFtQixtQkFBbUIseURBQXlELDBDQUEwQyx5QkFBeUIsOERBQThELDJCQUEyQiwrQkFBK0IsdUJBQXVCLGlCQUFpQixhQUFhLGlCQUFpQixtQkFBbUIsdUJBQXVCLHlEQUF5RCxtQkFBbUIsT0FBTyx1QkFBdUIsZ0JBQWdCLGFBQWEsU0FBUyxhQUFhOztBQUUxcEUsNEJBQTRCLDBGQUFrQixlQUFlLCtFQUFXO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThC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STtBQUNBO0FBQ0EsWUFBWSx5RUFBQyxDQUFDLHdFQUFJLFFBQVEseUVBQUMsVUFBVSxzQkFBc0IsK0RBQStELHlFQUFDLFVBQVU7QUFDckk7QUFDQTtBQUNBO0FBQ0EsU0FBUyxFQUFFLHlFQUFDLFlBQVksa0tBQWtLLDJDQUEyQyxnQkFBZ0IsRUFBRSx5RUFBQyxjQUFjLDBCQUEwQjtBQUNoUztBQUNBLDRCQUE0QjtBQUM1QixhQUFhO0FBQ2IsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyQ0FBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJDQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkNBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBcUI7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZXNyaS9jYWxjaXRlLWNvbXBvbmVudHMtcmVhY3Qvbm9kZV9tb2R1bGVzL0Blc3JpL2NhbGNpdGUtY29tcG9uZW50cy9kaXN0L2NvbXBvbmVudHMvY2FsY2l0ZS10YWJsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjEuMTEuMFxuICovXG5pbXBvcnQgeyBwcm94eUN1c3RvbUVsZW1lbnQsIEhUTUxFbGVtZW50LCBjcmVhdGVFdmVudCwgaCwgSG9zdCB9IGZyb20gJ0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvY2xpZW50L2luZGV4LmpzJztcbmltcG9ydCB7IGEgYXMgc2V0VXBMb2FkYWJsZUNvbXBvbmVudCwgcyBhcyBzZXRDb21wb25lbnRMb2FkZWQgfSBmcm9tICcuL2xvYWRhYmxlLmpzJztcbmltcG9ydCB7IHUgYXMgdXBkYXRlTWVzc2FnZXMsIHMgYXMgc2V0VXBNZXNzYWdlcywgYyBhcyBjb25uZWN0TWVzc2FnZXMsIGQgYXMgZGlzY29ubmVjdE1lc3NhZ2VzIH0gZnJvbSAnLi90OW4uanMnO1xuaW1wb3J0IHsgbiBhcyBudW1iZXJTdHJpbmdGb3JtYXR0ZXIsIGMgYXMgY29ubmVjdExvY2FsaXplZCwgZCBhcyBkaXNjb25uZWN0TG9jYWxpemVkIH0gZnJvbSAnLi9sb2NhbGUuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRVc2VyQWdlbnRTdHJpbmcgfSBmcm9tICcuL2ludGVyYWN0aXZlLmpzJztcbmltcG9ydCB7IGQgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudCQ2IH0gZnJvbSAnLi9idXR0b24uanMnO1xuaW1wb3J0IHsgZCBhcyBkZWZpbmVDdXN0b21FbGVtZW50JDUgfSBmcm9tICcuL2NoaXAuanMnO1xuaW1wb3J0IHsgZCBhcyBkZWZpbmVDdXN0b21FbGVtZW50JDQgfSBmcm9tICcuL2ljb24uanMnO1xuaW1wb3J0IHsgZCBhcyBkZWZpbmVDdXN0b21FbGVtZW50JDMgfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQgeyBkIGFzIGRlZmluZUN1c3RvbUVsZW1lbnQkMiB9IGZyb20gJy4vcGFnaW5hdGlvbi5qcyc7XG5cbmNvbnN0IENTUyA9IHtcbiAgYm9yZGVyZWQ6IFwiYm9yZGVyZWRcIixcbiAgemVicmE6IFwiemVicmFcIixcbiAgc2VsZWN0aW9uQXJlYTogXCJzZWxlY3Rpb24tYXJlYVwiLFxuICBwYWdpbmF0aW9uQXJlYTogXCJwYWdpbmF0aW9uLWFyZWFcIixcbiAgY29udGFpbmVyOiBcImNvbnRhaW5lclwiLFxuICB0YWJsZUNvbnRhaW5lcjogXCJ0YWJsZS1jb250YWluZXJcIixcbiAgdGFibGVGaXhlZDogXCJ0YWJsZS0tZml4ZWRcIixcbiAgYXNzaXN0aXZlVGV4dDogXCJhc3Npc3RpdmUtdGV4dFwiLFxuICBzZWxlY3Rpb25BY3Rpb25zOiBcInNlbGVjdGlvbi1hY3Rpb25zXCIsXG59O1xuY29uc3QgU0xPVFMgPSB7XG4gIHNlbGVjdGlvbkFjdGlvbnM6IFwic2VsZWN0aW9uLWFjdGlvbnNcIixcbiAgdGFibGVIZWFkZXI6IFwidGFibGUtaGVhZGVyXCIsXG4gIHRhYmxlRm9vdGVyOiBcInRhYmxlLWZvb3RlclwiLFxufTtcblxuY29uc3QgdGFibGVDc3MgPSBcIjpob3N0KFtzY2FsZT1zXSl7LS1jYWxjaXRlLWludGVybmFsLXRhYmxlLWNlbGwtcGFkZGluZzowLjI1cmVtOy0tY2FsY2l0ZS1pbnRlcm5hbC10YWJsZS1jZWxsLWZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMik7LS1jYWxjaXRlLWludGVybmFsLXRhYmxlLWNlbGwtZm9udC1zaXplLXNlY29uZGFyeTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMyl9Omhvc3QoW3NjYWxlPW1dKXstLWNhbGNpdGUtaW50ZXJuYWwtdGFibGUtY2VsbC1wYWRkaW5nOjAuNXJlbTstLWNhbGNpdGUtaW50ZXJuYWwtdGFibGUtY2VsbC1mb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpOy0tY2FsY2l0ZS1pbnRlcm5hbC10YWJsZS1jZWxsLWZvbnQtc2l6ZS1zZWNvbmRhcnk6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTIpfTpob3N0KFtzY2FsZT1sXSl7LS1jYWxjaXRlLWludGVybmFsLXRhYmxlLWNlbGwtcGFkZGluZzoxcmVtOy0tY2FsY2l0ZS1pbnRlcm5hbC10YWJsZS1jZWxsLWZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0wKTstLWNhbGNpdGUtaW50ZXJuYWwtdGFibGUtY2VsbC1mb250LXNpemUtc2Vjb25kYXJ5OnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0xKX06aG9zdHtkaXNwbGF5OnRhYmxlfS5jb250YWluZXJ7bWF4LWlubGluZS1zaXplOjEwMHZ3O2lubGluZS1zaXplOjEwMCV9LnRhYmxlLWNvbnRhaW5lcntvdmVyZmxvdy14OmF1dG87d2hpdGUtc3BhY2U6bm93cmFwfS50YWJsZS1jb250YWluZXI6bm90KC5ib3JkZXJlZCl7Ym9yZGVyLWJsb2NrLWVuZDoxcHggc29saWQgdmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMyl9LmFzc2lzdGl2ZS10ZXh0e3Bvc2l0aW9uOmFic29sdXRlO2lubGluZS1zaXplOjFweDtibG9jay1zaXplOjFweDtwYWRkaW5nOjA7bWFyZ2luOi0xcHg7b3ZlcmZsb3c6aGlkZGVuO2NsaXA6cmVjdCgwLCAwLCAwLCAwKTt3aGl0ZS1zcGFjZTpub3dyYXA7Ym9yZGVyLXdpZHRoOjB9dGFibGV7aW5saW5lLXNpemU6MTAwJTtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7b3ZlcmZsb3cteDpzY3JvbGw7Ym9yZGVyLWJsb2NrLXN0YXJ0OjFweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0zKTtib3JkZXItaW5saW5lLXN0YXJ0OjFweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0zKTtib3JkZXItYmxvY2stZW5kOjFweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0zKX10Ym9keXtib3JkZXItYmxvY2stZW5kOjFweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0zKX0udGFibGUtLWZpeGVke3RhYmxlLWxheW91dDpmaXhlZH0uYm9yZGVyZWQgOjpzbG90dGVkKGNhbGNpdGUtdGFibGUtcm93KXstLWNhbGNpdGUtdGFibGUtcm93LWJvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0zKX0uemVicmEgOjpzbG90dGVkKGNhbGNpdGUtdGFibGUtcm93Om50aC1jaGlsZCgybisxKSl7LS1jYWxjaXRlLXRhYmxlLXJvdy1iYWNrZ3JvdW5kOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0yKX0uc2VsZWN0aW9uLWFjdGlvbnN7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG99LnNlbGVjdGlvbi1hcmVhe2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmctYmxvY2s6dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC10YWJsZS1jZWxsLXBhZGRpbmcpfS5zZWxlY3Rpb24tYXJlYSBjYWxjaXRlLWNoaXA6bGFzdC1vZi10eXBle21hcmdpbi1pbmxpbmUtZW5kOjAuNXJlbX0uc2VsZWN0aW9uLWFyZWEgY2FsY2l0ZS1jaGlwOmxhc3Qtb2YtdHlwZTpub3QoOmZpcnN0LW9mLXR5cGUpe21hcmdpbi1pbmxpbmUtc3RhcnQ6MC41cmVtfS5zZWxlY3Rpb24tYXJlYSBjYWxjaXRlLWJ1dHRvbnttYXJnaW4taW5saW5lLWVuZDoxcmVtfS5wYWdpbmF0aW9uLWFyZWF7ZGlzcGxheTpmbGV4O2lubGluZS1zaXplOjEwMCU7ZmxleC1kaXJlY3Rpb246cm93O2p1c3RpZnktY29udGVudDpjZW50ZXI7cGFkZGluZy1ibG9jazp2YXIoLS1jYWxjaXRlLWludGVybmFsLXRhYmxlLWNlbGwtcGFkZGluZyl9Y2FsY2l0ZS1wYWdpbmF0aW9ue2ZsZXg6MTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfTpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfVwiO1xuXG5jb25zdCBUYWJsZSA9IC8qQF9fUFVSRV9fKi8gcHJveHlDdXN0b21FbGVtZW50KGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICB0aGlzLl9fYXR0YWNoU2hhZG93KCk7XG4gICAgdGhpcy5jYWxjaXRlVGFibGVTZWxlY3QgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbGNpdGVUYWJsZVNlbGVjdFwiLCA2KTtcbiAgICB0aGlzLmNhbGNpdGVUYWJsZVBhZ2VDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbGNpdGVUYWJsZVBhZ2VDaGFuZ2VcIiwgNik7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxUYWJsZVJvd0ZvY3VzQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW50ZXJuYWxUYWJsZVJvd0ZvY3VzQ2hhbmdlXCIsIDYpO1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvLyAgUHJpdmF0ZSBNZXRob2RzXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHRoaXMuZ2V0U2xvdHRlZFJvd3MgPSAoZWwpID0+IHtcbiAgICAgIHJldHVybiBlbFxuICAgICAgICA/LmFzc2lnbmVkRWxlbWVudHMoeyBmbGF0dGVuOiB0cnVlIH0pXG4gICAgICAgID8uZmlsdGVyKChlbCkgPT4gZWw/Lm1hdGNoZXMoXCJjYWxjaXRlLXRhYmxlLXJvd1wiKSk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZVJvd3MgPSAoKSA9PiB7XG4gICAgICBjb25zdCBoZWFkUm93cyA9IHRoaXMuZ2V0U2xvdHRlZFJvd3ModGhpcy50YWJsZUhlYWRTbG90RWwpIHx8IFtdO1xuICAgICAgY29uc3QgYm9keVJvd3MgPSB0aGlzLmdldFNsb3R0ZWRSb3dzKHRoaXMudGFibGVCb2R5U2xvdEVsKSB8fCBbXTtcbiAgICAgIGNvbnN0IGZvb3RSb3dzID0gdGhpcy5nZXRTbG90dGVkUm93cyh0aGlzLnRhYmxlRm9vdFNsb3RFbCkgfHwgW107XG4gICAgICBjb25zdCBhbGxSb3dzID0gWy4uLmhlYWRSb3dzLCAuLi5ib2R5Um93cywgLi4uZm9vdFJvd3NdO1xuICAgICAgaGVhZFJvd3M/LmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGhlYWRSb3dzPy5pbmRleE9mKHJvdyk7XG4gICAgICAgIHJvdy5yb3dUeXBlID0gXCJoZWFkXCI7XG4gICAgICAgIHJvdy5wb3NpdGlvblNlY3Rpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgcm93LnBvc2l0aW9uU2VjdGlvbkxvY2FsaXplZCA9IHRoaXMubG9jYWxpemVOdW1iZXIoKHBvc2l0aW9uICsgMSkudG9TdHJpbmcoKSk7XG4gICAgICB9KTtcbiAgICAgIGJvZHlSb3dzPy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBib2R5Um93cz8uaW5kZXhPZihyb3cpO1xuICAgICAgICByb3cucm93VHlwZSA9IFwiYm9keVwiO1xuICAgICAgICByb3cucG9zaXRpb25TZWN0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHJvdy5wb3NpdGlvblNlY3Rpb25Mb2NhbGl6ZWQgPSB0aGlzLmxvY2FsaXplTnVtYmVyKChwb3NpdGlvbiArIDEpLnRvU3RyaW5nKCkpO1xuICAgICAgfSk7XG4gICAgICBmb290Um93cz8uZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZm9vdFJvd3M/LmluZGV4T2Yocm93KTtcbiAgICAgICAgcm93LnJvd1R5cGUgPSBcImZvb3RcIjtcbiAgICAgICAgcm93LnBvc2l0aW9uU2VjdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICByb3cucG9zaXRpb25TZWN0aW9uTG9jYWxpemVkID0gdGhpcy5sb2NhbGl6ZU51bWJlcigocG9zaXRpb24gKyAxKS50b1N0cmluZygpKTtcbiAgICAgIH0pO1xuICAgICAgYWxsUm93cz8uZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIHJvdy5zZWxlY3Rpb25Nb2RlID0gdGhpcy5zZWxlY3Rpb25Nb2RlO1xuICAgICAgICByb3cuYm9keVJvd0NvdW50ID0gYm9keVJvd3M/Lmxlbmd0aDtcbiAgICAgICAgcm93LnBvc2l0aW9uQWxsID0gYWxsUm93cz8uaW5kZXhPZihyb3cpO1xuICAgICAgICByb3cubnVtYmVyZWQgPSB0aGlzLm51bWJlcmVkO1xuICAgICAgICByb3cuc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgICAgICByb3cucmVhZENlbGxDb250ZW50c1RvQVQgPSB0aGlzLnJlYWRDZWxsQ29udGVudHNUb0FUO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBjb2xDb3VudCA9IGhlYWRSb3dzWzBdPy5jZWxsQ291bnQgfHwgaGVhZFJvd3NbMF0/LnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYWxjaXRlLXRhYmxlLWhlYWRlclwiKT8ubGVuZ3RoO1xuICAgICAgdGhpcy5jb2xDb3VudCA9IGNvbENvdW50O1xuICAgICAgdGhpcy5oZWFkUm93cyA9IGhlYWRSb3dzO1xuICAgICAgdGhpcy5ib2R5Um93cyA9IGJvZHlSb3dzO1xuICAgICAgdGhpcy5mb290Um93cyA9IGZvb3RSb3dzO1xuICAgICAgdGhpcy5hbGxSb3dzID0gYWxsUm93cztcbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRJdGVtcygpO1xuICAgICAgdGhpcy5wYWdpbmF0ZVJvd3MoKTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlUGFnaW5hdGlvbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RlZEl0ZW0gPSB0aGlzLnBhZ2luYXRpb25FbD8uc3RhcnRJdGVtO1xuICAgICAgdGhpcy5wYWdlU3RhcnRSb3cgPSByZXF1ZXN0ZWRJdGVtIHx8IDE7XG4gICAgICB0aGlzLmNhbGNpdGVUYWJsZVBhZ2VDaGFuZ2UuZW1pdCgpO1xuICAgICAgdGhpcy51cGRhdGVSb3dzKCk7XG4gICAgfTtcbiAgICB0aGlzLnBhZ2luYXRlUm93cyA9ICgpID0+IHtcbiAgICAgIHRoaXMuYm9keVJvd3M/LmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICBjb25zdCByb3dQb3MgPSByb3cucG9zaXRpb25TZWN0aW9uICsgMTtcbiAgICAgICAgY29uc3QgaW5WaWV3ID0gcm93UG9zID49IHRoaXMucGFnZVN0YXJ0Um93ICYmIHJvd1BvcyA8IHRoaXMucGFnZVN0YXJ0Um93ICsgdGhpcy5wYWdlU2l6ZTtcbiAgICAgICAgcm93LmhpZGRlbiA9IHRoaXMucGFnZVNpemUgPiAwICYmICFpblZpZXcgJiYgIXRoaXMuZm9vdFJvd3MuaW5jbHVkZXMocm93KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW1zID0gKGVtaXQpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB0aGlzLmJvZHlSb3dzPy5maWx0ZXIoKGVsKSA9PiBlbC5zZWxlY3RlZCk7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBzZWxlY3RlZEl0ZW1zO1xuICAgICAgdGhpcy5zZWxlY3RlZENvdW50ID0gc2VsZWN0ZWRJdGVtcz8ubGVuZ3RoO1xuICAgICAgdGhpcy5hbGxSb3dzPy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgICAgcm93LnNlbGVjdGVkUm93Q291bnQgPSB0aGlzLnNlbGVjdGVkQ291bnQ7XG4gICAgICAgIHJvdy5zZWxlY3RlZFJvd0NvdW50TG9jYWxpemVkID0gdGhpcy5sb2NhbGl6ZU51bWJlcih0aGlzLnNlbGVjdGVkQ291bnQpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZW1pdCkge1xuICAgICAgICB0aGlzLmNhbGNpdGVUYWJsZVNlbGVjdC5lbWl0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZURlc2VsZWN0QWxsUm93cyA9ICgpID0+IHtcbiAgICAgIHRoaXMuYm9keVJvd3M/LmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICByb3cuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW1zKHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZWxlY3RlZEl0ZW1zID0gKGVsVG9NYXRjaCkgPT4ge1xuICAgICAgdGhpcy5ib2R5Um93cz8uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgaWYgKGVsVG9NYXRjaD8ucm93VHlwZSA9PT0gXCJoZWFkXCIpIHtcbiAgICAgICAgICBlbC5zZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRDb3VudCAhPT0gdGhpcy5ib2R5Um93cz8ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGVsLnNlbGVjdGVkID1cbiAgICAgICAgICAgIGVsVG9NYXRjaCA9PT0gZWwgPyAhZWwuc2VsZWN0ZWQgOiB0aGlzLnNlbGVjdGlvbk1vZGUgPT09IFwibXVsdGlwbGVcIiA/IGVsLnNlbGVjdGVkIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW1zKHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5sb2NhbGl6ZU51bWJlciA9ICh2YWx1ZSkgPT4ge1xuICAgICAgbnVtYmVyU3RyaW5nRm9ybWF0dGVyLm51bWJlckZvcm1hdE9wdGlvbnMgPSB7XG4gICAgICAgIGxvY2FsZTogdGhpcy5lZmZlY3RpdmVMb2NhbGUsXG4gICAgICAgIG51bWJlcmluZ1N5c3RlbTogdGhpcy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICAgIHVzZUdyb3VwaW5nOiB0aGlzLmdyb3VwU2VwYXJhdG9yLFxuICAgICAgfTtcbiAgICAgIHJldHVybiBudW1iZXJTdHJpbmdGb3JtYXR0ZXIubG9jYWxpemUodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgICB0aGlzLmJvcmRlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5jYXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZ3JvdXBTZXBhcmF0b3IgPSBmYWxzZTtcbiAgICB0aGlzLmxheW91dCA9IFwiYXV0b1wiO1xuICAgIHRoaXMubnVtYmVyZWQgPSBmYWxzZTtcbiAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBhZ2VTaXplID0gMDtcbiAgICB0aGlzLnNjYWxlID0gXCJtXCI7XG4gICAgdGhpcy5zZWxlY3Rpb25Nb2RlID0gXCJub25lXCI7XG4gICAgdGhpcy56ZWJyYSA9IGZhbHNlO1xuICAgIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgIHRoaXMubWVzc2FnZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tZXNzYWdlT3ZlcnJpZGVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY29sQ291bnQgPSAwO1xuICAgIHRoaXMucGFnZVN0YXJ0Um93ID0gMTtcbiAgICB0aGlzLnNlbGVjdGVkQ291bnQgPSAwO1xuICAgIHRoaXMucmVhZENlbGxDb250ZW50c1RvQVQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5kZWZhdWx0TWVzc2FnZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5lZmZlY3RpdmVMb2NhbGUgPSBcIlwiO1xuICB9XG4gIGhhbmRsZU51bWJlcmVkQ2hhbmdlKCkge1xuICAgIHRoaXMudXBkYXRlUm93cygpO1xuICB9XG4gIG9uTWVzc2FnZXNDaGFuZ2UoKSB7XG4gICAgLyogd2lyZWQgdXAgYnkgdDluIHV0aWwgKi9cbiAgfVxuICBlZmZlY3RpdmVMb2NhbGVDaGFuZ2UoKSB7XG4gICAgdXBkYXRlTWVzc2FnZXModGhpcywgdGhpcy5lZmZlY3RpdmVMb2NhbGUpO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIHNldFVwTG9hZGFibGVDb21wb25lbnQodGhpcyk7XG4gICAgYXdhaXQgc2V0VXBNZXNzYWdlcyh0aGlzKTtcbiAgICB0aGlzLnJlYWRDZWxsQ29udGVudHNUb0FUID0gL3NhZmFyaS9pLnRlc3QoZ2V0VXNlckFnZW50U3RyaW5nKCkpO1xuICAgIHRoaXMudXBkYXRlUm93cygpO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgc2V0Q29tcG9uZW50TG9hZGVkKHRoaXMpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XG4gICAgY29ubmVjdE1lc3NhZ2VzKHRoaXMpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGRpc2Nvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XG4gICAgZGlzY29ubmVjdE1lc3NhZ2VzKHRoaXMpO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIEV2ZW50IExpc3RlbmVyc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNhbGNpdGVDaGlwU2VsZWN0TGlzdGVuZXIoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXModGhpcy5lbCkpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRJdGVtcyhldmVudC50YXJnZXQpO1xuICAgIH1cbiAgfVxuICBjYWxjaXRlSW50ZXJuYWxUYWJsZVJvd0ZvY3VzRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCBjZWxsUG9zaXRpb24gPSBldmVudFtcImRldGFpbFwiXS5jZWxsUG9zaXRpb247XG4gICAgY29uc3Qgcm93UG9zID0gZXZlbnRbXCJkZXRhaWxcIl0ucm93UG9zaXRpb247XG4gICAgY29uc3QgZGVzdGluYXRpb24gPSBldmVudFtcImRldGFpbFwiXS5kZXN0aW5hdGlvbjtcbiAgICBjb25zdCBsYXN0Q2VsbCA9IGV2ZW50W1wiZGV0YWlsXCJdLmxhc3RDZWxsO1xuICAgIGNvbnN0IHZpc2libGVCb2R5ID0gdGhpcy5ib2R5Um93cz8uZmlsdGVyKChyb3cpID0+ICFyb3cuaGlkZGVuKTtcbiAgICBjb25zdCB2aXNpYmxlQWxsID0gdGhpcy5hbGxSb3dzPy5maWx0ZXIoKHJvdykgPT4gIXJvdy5oaWRkZW4pO1xuICAgIGNvbnN0IGxhc3RIZWFkUm93ID0gdGhpcy5oZWFkUm93c1t0aGlzLmhlYWRSb3dzLmxlbmd0aCAtIDFdPy5wb3NpdGlvbkFsbDtcbiAgICBjb25zdCBmaXJzdEJvZHlSb3cgPSB2aXNpYmxlQm9keVswXT8ucG9zaXRpb25BbGw7XG4gICAgY29uc3QgbGFzdEJvZHlSb3cgPSB2aXNpYmxlQm9keVt2aXNpYmxlQm9keS5sZW5ndGggLSAxXT8ucG9zaXRpb25BbGw7XG4gICAgY29uc3QgZmlyc3RGb290Um93ID0gdGhpcy5mb290Um93c1swXT8ucG9zaXRpb25BbGw7XG4gICAgY29uc3QgbGFzdFRhYmxlUm93ID0gdmlzaWJsZUFsbFt2aXNpYmxlQWxsLmxlbmd0aCAtIDFdPy5wb3NpdGlvbkFsbDtcbiAgICBjb25zdCBsZWF2aW5nSGVhZGVyID0gZGVzdGluYXRpb24gPT09IFwibmV4dFwiICYmIHJvd1BvcyA9PT0gbGFzdEhlYWRSb3c7XG4gICAgY29uc3QgbGVhdmluZ0Zvb3RlciA9IGRlc3RpbmF0aW9uID09PSBcInByZXZpb3VzXCIgJiYgcm93UG9zID09PSBmaXJzdEZvb3RSb3c7XG4gICAgY29uc3QgZW50ZXJpbmdIZWFkZXIgPSBkZXN0aW5hdGlvbiA9PT0gXCJwcmV2aW91c1wiICYmIHJvd1BvcyA9PT0gZmlyc3RCb2R5Um93O1xuICAgIGNvbnN0IGVudGVyaW5nRm9vdGVyID0gZGVzdGluYXRpb24gPT09IFwibmV4dFwiICYmIHJvd1BvcyA9PT0gbGFzdEJvZHlSb3c7XG4gICAgbGV0IHJvd1Bvc2l0aW9uO1xuICAgIHN3aXRjaCAoZGVzdGluYXRpb24pIHtcbiAgICAgIGNhc2UgXCJmaXJzdFwiOlxuICAgICAgICByb3dQb3NpdGlvbiA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxhc3RcIjpcbiAgICAgICAgcm93UG9zaXRpb24gPSBsYXN0VGFibGVSb3c7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm5leHRcIjpcbiAgICAgICAgcm93UG9zaXRpb24gPSBsZWF2aW5nSGVhZGVyID8gZmlyc3RCb2R5Um93IDogZW50ZXJpbmdGb290ZXIgPyBmaXJzdEZvb3RSb3cgOiByb3dQb3MgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwcmV2aW91c1wiOlxuICAgICAgICByb3dQb3NpdGlvbiA9IGxlYXZpbmdGb290ZXIgPyBsYXN0Qm9keVJvdyA6IGVudGVyaW5nSGVhZGVyID8gbGFzdEhlYWRSb3cgOiByb3dQb3MgLSAxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgZGVzdGluYXRpb25Db3VudCA9IHRoaXMuYWxsUm93cz8uZmluZCgocm93KSA9PiByb3cucG9zaXRpb25BbGwgPT09IHJvd1Bvc2l0aW9uKT8uY2VsbENvdW50O1xuICAgIGNvbnN0IGFkanVzdGVkUG9zID0gY2VsbFBvc2l0aW9uID4gZGVzdGluYXRpb25Db3VudCA/IGRlc3RpbmF0aW9uQ291bnQgOiBjZWxsUG9zaXRpb247XG4gICAgaWYgKHJvd1Bvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuY2FsY2l0ZUludGVybmFsVGFibGVSb3dGb2N1c0NoYW5nZS5lbWl0KHtcbiAgICAgICAgY2VsbFBvc2l0aW9uOiBhZGp1c3RlZFBvcyxcbiAgICAgICAgcm93UG9zaXRpb24sXG4gICAgICAgIGRlc3RpbmF0aW9uLFxuICAgICAgICBsYXN0Q2VsbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUmVuZGVyIE1ldGhvZHNcbiAgLy9cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgcmVuZGVyU2VsZWN0aW9uQXJlYSgpIHtcbiAgICBjb25zdCBvdXRPZlZpZXdDb3VudCA9IHRoaXMuc2VsZWN0ZWRJdGVtcz8uZmlsdGVyKChlbCkgPT4gZWwuaGlkZGVuKT8ubGVuZ3RoO1xuICAgIGNvbnN0IGxvY2FsaXplZE91dE9mVmlldyA9IHRoaXMubG9jYWxpemVOdW1iZXIob3V0T2ZWaWV3Q291bnQ/LnRvU3RyaW5nKCkpO1xuICAgIGNvbnN0IGxvY2FsaXplZFNlbGVjdGVkQ291bnQgPSB0aGlzLmxvY2FsaXplTnVtYmVyKHRoaXMuc2VsZWN0ZWRDb3VudD8udG9TdHJpbmcoKSk7XG4gICAgY29uc3Qgc2VsZWN0aW9uVGV4dCA9IGAke2xvY2FsaXplZFNlbGVjdGVkQ291bnR9ICR7dGhpcy5tZXNzYWdlcy5zZWxlY3RlZH1gO1xuICAgIGNvbnN0IG91dE9mVmlldyA9IGAke2xvY2FsaXplZE91dE9mVmlld30gJHt0aGlzLm1lc3NhZ2VzLmhpZGRlblNlbGVjdGVkfWA7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IENTUy5zZWxlY3Rpb25BcmVhIH0sIGgoXCJjYWxjaXRlLWNoaXBcIiwgeyBraW5kOiB0aGlzLnNlbGVjdGVkQ291bnQgPiAwID8gXCJicmFuZFwiIDogXCJuZXV0cmFsXCIsIHNjYWxlOiB0aGlzLnNjYWxlLCB2YWx1ZTogc2VsZWN0aW9uVGV4dCB9LCBzZWxlY3Rpb25UZXh0KSwgb3V0T2ZWaWV3Q291bnQgPiAwICYmIChoKFwiY2FsY2l0ZS1jaGlwXCIsIHsgaWNvbjogXCJoaWRlLWVtcHR5XCIsIHNjYWxlOiB0aGlzLnNjYWxlLCB0aXRsZTogb3V0T2ZWaWV3LCB2YWx1ZTogb3V0T2ZWaWV3IH0sIGxvY2FsaXplZE91dE9mVmlldykpLCB0aGlzLnNlbGVjdGVkQ291bnQgPiAwICYmIChoKFwiY2FsY2l0ZS1idXR0b25cIiwgeyBcImljb24tc3RhcnRcIjogXCJ4XCIsIGtpbmQ6IFwibmV1dHJhbFwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZURlc2VsZWN0QWxsUm93cywgcm91bmQ6IHRydWUsIHNjYWxlOiB0aGlzLnNjYWxlLCB0aXRsZTogYCR7dGhpcy5tZXNzYWdlcy5jbGVhcn0gJHtzZWxlY3Rpb25UZXh0fSAke3RoaXMubWVzc2FnZXMucm93fWAgfSwgdGhpcy5tZXNzYWdlcy5jbGVhcikpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IENTUy5zZWxlY3Rpb25BY3Rpb25zIH0sIGgoXCJzbG90XCIsIHsgbmFtZTogU0xPVFMuc2VsZWN0aW9uQWN0aW9ucyB9KSkpKTtcbiAgfVxuICByZW5kZXJQYWdpbmF0aW9uQXJlYSgpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogQ1NTLnBhZ2luYXRpb25BcmVhIH0sIGgoXCJjYWxjaXRlLXBhZ2luYXRpb25cIiwgeyBncm91cFNlcGFyYXRvcjogdGhpcy5ncm91cFNlcGFyYXRvciwgbnVtYmVyaW5nU3lzdGVtOiB0aGlzLm51bWJlcmluZ1N5c3RlbSwgb25DYWxjaXRlUGFnaW5hdGlvbkNoYW5nZTogdGhpcy5oYW5kbGVQYWdpbmF0aW9uQ2hhbmdlLCBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwgc2NhbGU6IHRoaXMuc2NhbGUsIHN0YXJ0SXRlbTogMSwgdG90YWxJdGVtczogdGhpcy5ib2R5Um93cz8ubGVuZ3RoLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2pzeC1zb3J0LXByb3BzIC0tIHJlZiBzaG91bGQgYmUgbGFzdCBzbyBub2RlIGF0dHJzL3Byb3BzIGFyZSBpbiBzeW5jIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL3B1bGwvNjUzMClcbiAgICAgIHJlZjogKGVsKSA9PiAodGhpcy5wYWdpbmF0aW9uRWwgPSBlbCkgfSkpKTtcbiAgfVxuICByZW5kZXJUSGVhZCgpIHtcbiAgICByZXR1cm4gKGgoXCJ0aGVhZFwiLCBudWxsLCBoKFwic2xvdFwiLCB7IG5hbWU6IFNMT1RTLnRhYmxlSGVhZGVyLCBvblNsb3RjaGFuZ2U6IHRoaXMudXBkYXRlUm93cywgcmVmOiAoZWwpID0+ICh0aGlzLnRhYmxlSGVhZFNsb3RFbCA9IGVsKSB9KSkpO1xuICB9XG4gIHJlbmRlclRCb2R5KCkge1xuICAgIHJldHVybiAoaChcInRib2R5XCIsIG51bGwsIGgoXCJzbG90XCIsIHsgb25TbG90Y2hhbmdlOiB0aGlzLnVwZGF0ZVJvd3MsIHJlZjogKGVsKSA9PiAodGhpcy50YWJsZUJvZHlTbG90RWwgPSBlbCkgfSkpKTtcbiAgfVxuICByZW5kZXJURm9vdCgpIHtcbiAgICByZXR1cm4gKGgoXCJ0Zm9vdFwiLCBudWxsLCBoKFwic2xvdFwiLCB7IG5hbWU6IFNMT1RTLnRhYmxlRm9vdGVyLCBvblNsb3RjaGFuZ2U6IHRoaXMudXBkYXRlUm93cywgcmVmOiAoZWwpID0+ICh0aGlzLnRhYmxlRm9vdFNsb3RFbCA9IGVsKSB9KSkpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoSG9zdCwgbnVsbCwgaChcImRpdlwiLCB7IGNsYXNzOiBDU1MuY29udGFpbmVyIH0sIHRoaXMuc2VsZWN0aW9uTW9kZSAhPT0gXCJub25lXCIgJiYgdGhpcy5yZW5kZXJTZWxlY3Rpb25BcmVhKCksIGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBbQ1NTLmJvcmRlcmVkXTogdGhpcy5ib3JkZXJlZCxcbiAgICAgICAgW0NTUy56ZWJyYV06IHRoaXMuemVicmEsXG4gICAgICAgIFtDU1MudGFibGVDb250YWluZXJdOiB0cnVlLFxuICAgICAgfSB9LCBoKFwidGFibGVcIiwgeyBcImFyaWEtY29sY291bnRcIjogdGhpcy5jb2xDb3VudCwgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiB0aGlzLnNlbGVjdGlvbk1vZGUgPT09IFwibXVsdGlwbGVcIiwgXCJhcmlhLXJlYWRvbmx5XCI6IHRydWUsIFwiYXJpYS1yb3djb3VudFwiOiB0aGlzLmFsbFJvd3M/Lmxlbmd0aCwgY2xhc3M6IHsgW0NTUy50YWJsZUZpeGVkXTogdGhpcy5sYXlvdXQgPT09IFwiZml4ZWRcIiB9LCByb2xlOiBcImdyaWRcIiB9LCBoKFwiY2FwdGlvblwiLCB7IGNsYXNzOiBDU1MuYXNzaXN0aXZlVGV4dCB9LCB0aGlzLmNhcHRpb24pLCB0aGlzLnJlbmRlclRIZWFkKCksIHRoaXMucmVuZGVyVEJvZHkoKSwgdGhpcy5yZW5kZXJURm9vdCgpKSksIHRoaXMucGFnZVNpemUgPiAwICYmIHRoaXMucmVuZGVyUGFnaW5hdGlvbkFyZWEoKSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IGFzc2V0c0RpcnMoKSB7IHJldHVybiBbXCJhc3NldHNcIl07IH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiZ3JvdXBTZXBhcmF0b3JcIjogW1wiaGFuZGxlTnVtYmVyZWRDaGFuZ2VcIl0sXG4gICAgXCJudW1iZXJlZFwiOiBbXCJoYW5kbGVOdW1iZXJlZENoYW5nZVwiXSxcbiAgICBcIm51bWJlcmluZ1N5c3RlbVwiOiBbXCJoYW5kbGVOdW1iZXJlZENoYW5nZVwiXSxcbiAgICBcInBhZ2VTaXplXCI6IFtcImhhbmRsZU51bWJlcmVkQ2hhbmdlXCJdLFxuICAgIFwic2NhbGVcIjogW1wiaGFuZGxlTnVtYmVyZWRDaGFuZ2VcIl0sXG4gICAgXCJzZWxlY3Rpb25Nb2RlXCI6IFtcImhhbmRsZU51bWJlcmVkQ2hhbmdlXCJdLFxuICAgIFwibWVzc2FnZU92ZXJyaWRlc1wiOiBbXCJvbk1lc3NhZ2VzQ2hhbmdlXCJdLFxuICAgIFwiZWZmZWN0aXZlTG9jYWxlXCI6IFtcImVmZmVjdGl2ZUxvY2FsZUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB0YWJsZUNzczsgfVxufSwgWzEsIFwiY2FsY2l0ZS10YWJsZVwiLCB7XG4gICAgXCJib3JkZXJlZFwiOiBbNTE2XSxcbiAgICBcImNhcHRpb25cIjogWzFdLFxuICAgIFwiZ3JvdXBTZXBhcmF0b3JcIjogWzUxNiwgXCJncm91cC1zZXBhcmF0b3JcIl0sXG4gICAgXCJsYXlvdXRcIjogWzUxM10sXG4gICAgXCJudW1iZXJlZFwiOiBbNTE2XSxcbiAgICBcIm51bWJlcmluZ1N5c3RlbVwiOiBbNTEzLCBcIm51bWJlcmluZy1zeXN0ZW1cIl0sXG4gICAgXCJwYWdlU2l6ZVwiOiBbNTE0LCBcInBhZ2Utc2l6ZVwiXSxcbiAgICBcInNjYWxlXCI6IFs1MTNdLFxuICAgIFwic2VsZWN0aW9uTW9kZVwiOiBbNTEzLCBcInNlbGVjdGlvbi1tb2RlXCJdLFxuICAgIFwiemVicmFcIjogWzUxNl0sXG4gICAgXCJzZWxlY3RlZEl0ZW1zXCI6IFsxMDQwXSxcbiAgICBcIm1lc3NhZ2VzXCI6IFsxMDQwXSxcbiAgICBcIm1lc3NhZ2VPdmVycmlkZXNcIjogWzEwNDBdLFxuICAgIFwiY29sQ291bnRcIjogWzMyXSxcbiAgICBcInBhZ2VTdGFydFJvd1wiOiBbMzJdLFxuICAgIFwic2VsZWN0ZWRDb3VudFwiOiBbMzJdLFxuICAgIFwicmVhZENlbGxDb250ZW50c1RvQVRcIjogWzMyXSxcbiAgICBcImRlZmF1bHRNZXNzYWdlc1wiOiBbMzJdLFxuICAgIFwiZWZmZWN0aXZlTG9jYWxlXCI6IFszMl1cbiAgfSwgW1swLCBcImNhbGNpdGVUYWJsZVJvd1NlbGVjdFwiLCBcImNhbGNpdGVDaGlwU2VsZWN0TGlzdGVuZXJcIl0sIFswLCBcImNhbGNpdGVJbnRlcm5hbFRhYmxlUm93Rm9jdXNSZXF1ZXN0XCIsIFwiY2FsY2l0ZUludGVybmFsVGFibGVSb3dGb2N1c0V2ZW50XCJdXV0pO1xuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudCQxKCkge1xuICBpZiAodHlwZW9mIGN1c3RvbUVsZW1lbnRzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBbXCJjYWxjaXRlLXRhYmxlXCIsIFwiY2FsY2l0ZS1idXR0b25cIiwgXCJjYWxjaXRlLWNoaXBcIiwgXCJjYWxjaXRlLWljb25cIiwgXCJjYWxjaXRlLWxvYWRlclwiLCBcImNhbGNpdGUtcGFnaW5hdGlvblwiXTtcbiAgY29tcG9uZW50cy5mb3JFYWNoKHRhZ05hbWUgPT4geyBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICBjYXNlIFwiY2FsY2l0ZS10YWJsZVwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIFRhYmxlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLWJ1dHRvblwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgZGVmaW5lQ3VzdG9tRWxlbWVudCQ2KCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FsY2l0ZS1jaGlwXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBkZWZpbmVDdXN0b21FbGVtZW50JDUoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLWljb25cIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGRlZmluZUN1c3RvbUVsZW1lbnQkNCgpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImNhbGNpdGUtbG9hZGVyXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBkZWZpbmVDdXN0b21FbGVtZW50JDMoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLXBhZ2luYXRpb25cIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGRlZmluZUN1c3RvbUVsZW1lbnQkMigpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH0gfSk7XG59XG5kZWZpbmVDdXN0b21FbGVtZW50JDEoKTtcblxuY29uc3QgQ2FsY2l0ZVRhYmxlID0gVGFibGU7XG5jb25zdCBkZWZpbmVDdXN0b21FbGVtZW50ID0gZGVmaW5lQ3VzdG9tRWxlbWVudCQxO1xuXG5leHBvcnQgeyBDYWxjaXRlVGFibGUsIGRlZmluZUN1c3RvbUVsZW1lbnQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==