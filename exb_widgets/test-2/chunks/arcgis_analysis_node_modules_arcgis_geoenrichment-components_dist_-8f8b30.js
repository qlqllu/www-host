"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-8f8b30"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FramebufferObject-ce56921b.js":
/*!*********************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FramebufferObject-ce56921b.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ r),
/* harmony export */   b: () => (/* binding */ o),
/* harmony export */   n: () => (/* binding */ n),
/* harmony export */   o: () => (/* binding */ o$1),
/* harmony export */   r: () => (/* binding */ r$2),
/* harmony export */   t: () => (/* binding */ t$1)
/* harmony export */ });
/* harmony import */ var _commonjsHelpers_9577ff78_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_commonjsHelpers-9577ff78.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/_commonjsHelpers-9577ff78.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");




/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var r$2=(0,_commonjsHelpers_9577ff78_js__WEBPACK_IMPORTED_MODULE_0__.o)((function(e){var r;void 0!==(r=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"])&&(e.exports=r);})),t$1=(0,_commonjsHelpers_9577ff78_js__WEBPACK_IMPORTED_MODULE_0__.o)((function(e){var r;void 0!==(r=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"])&&(e.exports=r);})),o$1=(0,_commonjsHelpers_9577ff78_js__WEBPACK_IMPORTED_MODULE_0__.o)((function(e){var r;void 0!==(r=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"])&&(e.exports=r);}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__.S.getLogger("esri/views/webgl");

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function n(n){return window.WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const a=4,s$1=0;class o{constructor(t,e,i=null){this._context=null,this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(0,this),this._context=t,this._descriptor={target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1,...e},this.setData(i);}get glName(){return this._glName}get descriptor(){return this._descriptor}dispose(){if(this._context&&this._context.gl){if(this._glName){const t=this._context.gl;this._context.unbindTextureAllUnits(this),t.deleteTexture(this._glName),this._glName=null;}this._context.instanceCounter.decrement(0,this),this._context=null;}}release(){this.dispose();}resize(t,e){const i=this._descriptor;i.width===t&&i.height===e||(i.width=t,i.height=e,this.setData(null));}setData(e){if(!this._context||!this._context.gl)return;const i=this._context.gl;this._glName||(this._glName=i.createTexture()),void 0===e&&(e=null),null===e&&(this._descriptor.width=this._descriptor.width||a,this._descriptor.height=this._descriptor.height||a);const n=this._context.getBoundTexture(s$1);this._context.bindTexture(this,s$1);const p=this._descriptor;o._validateTexture(this._context,p),i.pixelStorei(i.UNPACK_ALIGNMENT,p.unpackAlignment),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,p.flipped?1:0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.preMultiplyAlpha?1:0);const h=p.pixelFormat;let l=p.internalFormat?p.internalFormat:h;if(e instanceof ImageData||e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement){let t=e.width,a=e.height;e instanceof HTMLVideoElement&&(t=e.videoWidth,a=e.videoHeight),p.width&&p.height&&console.assert(t===p.width&&a===p.height),i.texImage2D(i.TEXTURE_2D,0,l,h,p.dataType,e),p.hasMipmap&&this.generateMipmap(),void 0===p.width&&(p.width=t),void 0===p.height&&(p.height=a);}else {null!=p.width&&null!=p.height||console.error("Width and height must be specified!"),i.DEPTH24_STENCIL8&&l===i.DEPTH_STENCIL&&(l=i.DEPTH24_STENCIL8);let a=p.width,s=p.height;if(r$1(e)){const t=Math.round(Math.log(Math.max(a,s))/Math.LN2)+1;p.hasMipmap=p.hasMipmap&&t===e.levels.length;for(let o=0;;++o){const t=e.levels[Math.min(o,e.levels.length-1)];if(i.compressedTexImage2D(i.TEXTURE_2D,o,l,a,s,0,t),1===a&&1===s||!p.hasMipmap)break;a=Math.max(1,a>>1),s=Math.max(1,s>>1);}}else if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__.H)(e))i.texImage2D(i.TEXTURE_2D,0,l,a,s,0,h,p.dataType,e),p.hasMipmap&&this.generateMipmap();else for(let t=0;i.texImage2D(i.TEXTURE_2D,t,l,a,s,0,h,p.dataType,null),(1!==a||1!==s)&&p.hasMipmap;++t)a=Math.max(1,a>>1),s=Math.max(1,s>>1);}o._applySamplingMode(i,this._descriptor),o._applyWrapMode(i,this._descriptor),o._applyAnisotropicFilteringParameters(this._context,this._descriptor),n&&this._context.bindTexture(n,s$1);}updateData(t,e,i,a,o,r){r||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const n=this._context.gl,p=this._descriptor,h=this._context.getBoundTexture(s$1);this._context.bindTexture(this,s$1),(e<0||i<0||a>p.width||o>p.height||e+a>p.width||i+o>p.height)&&console.error("An attempt to update out of bounds of the texture!"),n.pixelStorei(n.UNPACK_ALIGNMENT,p.unpackAlignment),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,p.flipped?1:0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.preMultiplyAlpha?1:0),r instanceof ImageData||r instanceof HTMLImageElement||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement?n.texSubImage2D(n.TEXTURE_2D,t,e,i,p.pixelFormat,p.dataType,r):n.texSubImage2D(n.TEXTURE_2D,t,e,i,a,o,p.pixelFormat,p.dataType,r),this._context.bindTexture(h,s$1);}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,o._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.getBoundTexture(s$1);this._context.bindTexture(this,s$1);const i=this._context.gl;i.generateMipmap(i.TEXTURE_2D),this._context.bindTexture(e,s$1);}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,o._validateTexture(this._context,this._descriptor),this._samplingModeDirty=!0);}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,o._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0);}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(o._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(o._applyWrapMode(t,e),this._wrapModeDirty=!1);}static _validateTexture(t,a){(a.width<0||a.height<0)&&console.error("Negative dimension parameters are not allowed!");const s=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__.d4)(a.width)&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__.d4)(a.height);n(t.gl)||s||("number"==typeof a.wrapMode?33071!==a.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):33071===a.wrapMode.s&&33071===a.wrapMode.t||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),a.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"));}static _applySamplingMode(t,e){let i=e.samplingMode,a=e.samplingMode;9985===i||9987===i?(i=9729,e.hasMipmap||(a=9729)):9984!==i&&9986!==i||(i=9728,e.hasMipmap||(a=9728)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a);}static _applyWrapMode(t,e){"number"==typeof e.wrapMode?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,e.wrapMode.t));}static _applyAnisotropicFilteringParameters(t,e){if(null==e.maxAnisotropy)return;const i=t.capabilities.textureFilterAnisotropic;if(!i)return;const a=t.gl;a.texParameterf(a.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy);}}function r$1(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__.H)(e)&&"type"in e&&"compressed"===e.type}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t{constructor(t,e){this._context=t,this._desc=e,this._context.instanceCounter.increment(5,this);const i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this),i.renderbufferStorage(i.RENDERBUFFER,e.internalFormat,e.width,e.height);}get descriptor(){return this._desc}resize(t,e){const i=this._desc;if(i.width===t&&i.height===e)return;i.width=t,i.height=e;const n=this._context.gl;this._context.bindRenderbuffer(this),n.renderbufferStorage(n.RENDERBUFFER,i.internalFormat,i.width,i.height);}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(5,this),this._context=null);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const s=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_2__.S.getLogger("esri.views.webgl.FrameBufferObject");class r{constructor(t$1,s,h,n){if(this._context=t$1,this._glName=null,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachments=new Map,this._initialized=!1,this._desc={...s},t$1.instanceCounter.increment(4,this),h){let i;var o$1;if(Array.isArray(h))for(const s of h){const{attachmentPoint:r,texture:h}=s,n=h instanceof o?h:new o(t$1,h);i=n.descriptor,this._colorAttachments.set(r,n),this._validateColorAttachmentPoint(r),this._validateTextureDimensions(i,this._desc);}else h instanceof o?(i=h.descriptor,this._colorAttachments.set(36064,h)):(i=h,this._colorAttachments.set(36064,new o(t$1,h))),0!==(null==(o$1=this._desc)?void 0:o$1.colorTarget)&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),this._validateTextureDimensions(i,this._desc);}if(n instanceof t){var c;const t=null!=(c=this._desc.depthStencilTarget)?c:3;2===t?this._stencilAttachment=n:1===t||3===t?this._depthAttachment=n:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),r._validateBufferDimensions(n.descriptor,this._desc);}else if(n){let t;this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!"),n instanceof o?(this._depthStencilTexture=n,t=this._depthStencilTexture.descriptor):(t=n,this._depthStencilTexture=new o(this._context,t)),this._validateTextureDimensions(t,this._desc);}}dispose(){if(!this._desc)return;const t=this._context.getBoundFramebufferObject();if(this._disposeColorAttachments(),this._disposeDepthStencilAttachments(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null;}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(4,this),this._desc=null;}get glName(){return this._glName}get descriptor(){return this._desc}get colorTexture(){const t=this._colorAttachments.get(36064);return t&&t instanceof o?t:null}get colorAttachment(){return this._colorAttachments.get(36064)}get depthStencilAttachment(){return this._depthStencilTexture||this._depthAttachment||this._stencilAttachment}get depthStencilTexture(){return this._depthStencilTexture}get width(){return this._desc.width}get height(){return this._desc.height}getColorTexture(t){const i=this._colorAttachments.get(t);return i&&i instanceof o?i:null}attachColorTexture(t,e=36064){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;if(this._validateTextureDimensions(i,this._desc),this._disposeColorAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl;i.framebufferTexture2D(i.FRAMEBUFFER,e,i.TEXTURE_2D,t.glName,0);}this._colorAttachments.set(e,t);}detachColorTexture(t=36064){const i=this._colorAttachments.get(t);if(i instanceof o){const e=i;if(this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl;e.framebufferTexture2D(e.FRAMEBUFFER,t,e.TEXTURE_2D,null,0);}return this._colorAttachments.delete(t),e}}attachDepthStencilTexture(t){if(!t)return;const e=t.descriptor;if(34041!==e.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),34042!==e.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDimensions(e,this._desc),this._desc.depthStencilTarget&&4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,t.glName,0);}this._depthStencilTexture=t;}detachDepthStencilTexture(){const t=this._depthStencilTexture;if(t&&this._initialized){this._context.bindFramebuffer(this);const t=this._context.gl;this._context.gl.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0);}return this._depthStencilTexture=null,t}attachDepthStencilBuffer(t){if(!t)return;const e=t.descriptor;if(34041!==e.internalFormat&&33189!==e.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat"),r._validateBufferDimensions(e,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===e.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=1===this._desc.depthStencilTarget?e.DEPTH_ATTACHMENT:e.DEPTH_STENCIL_ATTACHMENT;e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,t.glName);}this._depthAttachment=t;}detachDepthStencilBuffer(){const t=this._context.gl,e=this._depthAttachment;if(e&&this._initialized){this._context.bindFramebuffer(this);const e=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null);}return this._depthAttachment=null,e}copyToTexture(t,e,i,s,r,h,n){(t<0||e<0||r<0||h<0)&&console.error("Offsets cannot be negative!"),(i<=0||s<=0)&&console.error("Copy width and height must be greater than zero!");const o=this._desc,c=n.descriptor;3553!==n.descriptor.target&&console.error("Texture target must be TEXTURE_2D!"),(t+i>o.width||e+s>o.height||r+i>c.width||h+s>c.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");const a=this._context;a.bindTexture(n,0),a.bindFramebuffer(this),a.gl.copyTexSubImage2D(3553,0,r,h,t,e,i,s);}readPixels(t,e,i,s,r,h,n){(i<=0||s<=0)&&console.error("Copy width and height must be greater than zero!"),n||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this);this._context.gl.readPixels(t,e,i,s,r,h,n);}resize(t,e){const i=this._desc;if(i.width!==t||i.height!==e){if(!this._initialized)return i.width=t,i.height=e,this._colorAttachments.forEach((i=>{i&&i.resize(t,e);})),void(this._depthStencilTexture&&this._depthStencilTexture.resize(t,e));i.width=t,i.height=e,this._colorAttachments.forEach((i=>{i&&i.resize(t,e);})),null!=this._depthStencilTexture?this._depthStencilTexture.resize(t,e):(this._depthAttachment||this._stencilAttachment)&&(this._depthAttachment&&this._depthAttachment.resize(t,e),this._stencilAttachment&&this._stencilAttachment.resize(t,e)),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1;}}initializeAndBind(){var t$1,s,r,n;const o$1=this._context.gl;if(this._initialized)return void o$1.bindFramebuffer(o$1.FRAMEBUFFER,this.glName);this._glName&&o$1.deleteFramebuffer(this._glName);const c=this._context,a=o$1.createFramebuffer(),l=this._desc,_=null!=(t$1=l.colorTarget)?t$1:1,d=null!=(s=l.width)?s:1,f=null!=(r=l.height)?r:1;if(o$1.bindFramebuffer(o$1.FRAMEBUFFER,a),0===this._colorAttachments.size)if(0===_)this._colorAttachments.set(36064,h(c,l));else {const t$1=new t(c,{internalFormat:32854,width:d,height:f});this._colorAttachments.set(36064,t$1);}this._colorAttachments.forEach(((t,i)=>{t&&(t instanceof o?o$1.framebufferTexture2D(o$1.FRAMEBUFFER,i,o$1.TEXTURE_2D,t.glName,0):o$1.framebufferRenderbuffer(o$1.FRAMEBUFFER,o$1.COLOR_ATTACHMENT0,o$1.RENDERBUFFER,t.glName));}));const u=null!=(n=l.depthStencilTarget)?n:0;switch(u){case 1:case 3:{this._depthAttachment||(this._depthAttachment=new t(c,{internalFormat:1===l.depthStencilTarget?33189:34041,width:d,height:f}));const t$1=1===u?o$1.DEPTH_ATTACHMENT:o$1.DEPTH_STENCIL_ATTACHMENT;o$1.framebufferRenderbuffer(o$1.FRAMEBUFFER,t$1,o$1.RENDERBUFFER,this._depthAttachment.glName);break}case 2:this._stencilAttachment||(this._stencilAttachment=new t(c,{internalFormat:36168,width:d,height:f})),o$1.framebufferRenderbuffer(o$1.FRAMEBUFFER,o$1.STENCIL_ATTACHMENT,o$1.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){c.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");const t={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:d,height:f};this._depthStencilTexture=new o(c,t);}o$1.framebufferTexture2D(o$1.FRAMEBUFFER,o$1.DEPTH_STENCIL_ATTACHMENT,o$1.TEXTURE_2D,this._depthStencilTexture.glName,0);}this._glName=a,this._initialized=!0;}_disposeColorAttachments(){this._colorAttachments.forEach(((t,i)=>{if(t instanceof o){if(this._initialized){this._context.bindFramebuffer(this);const t=this._context.gl;t.framebufferTexture2D(t.FRAMEBUFFER,i,t.TEXTURE_2D,null,0);}t.dispose();}else if(t instanceof WebGLRenderbuffer){const e=this._context.gl;this._initialized&&(this._context.bindFramebuffer(this),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,null)),this._context.gl.deleteRenderbuffer(t);}})),this._colorAttachments.clear();}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);const e=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null);}this._depthAttachment.dispose(),this._depthAttachment=null;}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,null,0)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null);}static _validateBufferDimensions(t,e){console.assert(t.width>=0&&t.height>=0),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(e.width=t.width,e.height=t.height);}_validateTextureDimensions(t,e){console.assert(t.width>=0&&t.height>=0),3553!==t.target&&console.error("Texture type must be TEXTURE_2D!"),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error("Color attachment texture must match the framebuffer's!"):(e.width=t.width,e.height=t.height);}_validateColorAttachmentPoint(t){if(-1===r._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;r._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS);}else r._MAX_COLOR_ATTACHMENTS=1;}const e=t-36064;e+1>r._MAX_COLOR_ATTACHMENTS&&s.error("esri.FrameBufferObject",`illegal attachment point for color attachment: ${e+1}. Implementation supports up to ${r._MAX_COLOR_ATTACHMENTS} color attachments`);}}r._MAX_COLOR_ATTACHMENTS=-1;const h=(t,i)=>new o(t,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:i.width,height:i.height});



//# sourceMappingURL=FramebufferObject-ce56921b.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLThmOGIzMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDRjtBQUNrQjs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtEQUFHLGNBQWMsTUFBTSwwekJBQTB6QixPQUFPLCtEQUFHLGNBQWMsTUFBTSw4TUFBOE0sSUFBSSxJQUFJLG9CQUFvQixPQUFPLCtEQUFHLGNBQWMsTUFBTSxpL0VBQWkvRTs7QUFFaG5IO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjOztBQUVkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVEsd0JBQXdCLHFMQUFxTCw0SEFBNEgsa0JBQWtCLGFBQWEsb0JBQW9CLGlCQUFpQix3QkFBd0IsVUFBVSxvQ0FBb0MsaUJBQWlCLHlCQUF5QiwyRkFBMkYscUVBQXFFLFVBQVUsZ0JBQWdCLFlBQVkseUJBQXlCLHNFQUFzRSxXQUFXLDRDQUE0Qyx5QkFBeUIsb0xBQW9MLDJDQUEyQyxvQ0FBb0MseUJBQXlCLGtOQUFrTixzQkFBc0IsMENBQTBDLHlIQUF5SCx5QkFBeUIsNlFBQTZRLE1BQU0sb0pBQW9KLHlCQUF5QixXQUFXLHVEQUF1RCw2Q0FBNkMsYUFBYSxLQUFLLGdEQUFnRCxxRkFBcUYsd0NBQXdDLFFBQVEsMkRBQUcsMkZBQTJGLGlCQUFpQixtRkFBbUYsMkNBQTJDLDBMQUEwTCx3QkFBd0IscUlBQXFJLGlGQUFpRiw2bUJBQTZtQixpQkFBaUIseUJBQXlCLDRPQUE0TywyQ0FBMkMsb0NBQW9DLHlCQUF5QixpRUFBaUUsbUJBQW1CLG9KQUFvSixlQUFlLHdJQUF3SSxlQUFlLDRDQUE0QyxxSkFBcUosNkJBQTZCLHlGQUF5RixRQUFRLDREQUFHLFdBQVcsNERBQUcsV0FBVywwVkFBMFYsK0JBQStCLHNDQUFzQyxnTkFBZ04sMkJBQTJCLDZRQUE2USxpREFBaUQsZ0NBQWdDLGdEQUFnRCxhQUFhLGFBQWEseUVBQXlFLGdCQUFnQixPQUFPLDJEQUFHOztBQUU5ekw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlCQUFpQiw2RUFBNkUseUJBQXlCLGlKQUFpSixpQkFBaUIsa0JBQWtCLFlBQVksbUJBQW1CLG9DQUFvQyxxQkFBcUIseUJBQXlCLDhHQUE4RyxVQUFVOztBQUU1aEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFHLGlEQUFpRCxRQUFRLHVCQUF1QiwrSkFBK0osS0FBSywwQ0FBMEMsTUFBTSxRQUFRLHNDQUFzQyxNQUFNLDRCQUE0QixtQ0FBbUMsb0lBQW9JLHFXQUFxVyxtQkFBbUIsTUFBTSxvREFBb0QseVJBQXlSLFdBQVcsTUFBTSxrWEFBa1gsVUFBVSxzQkFBc0Isa0RBQWtELHdGQUF3RixvRUFBb0Usa0dBQWtHLGFBQWEsb0JBQW9CLGlCQUFpQixrQkFBa0IsbUJBQW1CLDBDQUEwQyxnQ0FBZ0Msc0JBQXNCLHlDQUF5Qyw2QkFBNkIsaUZBQWlGLDBCQUEwQixpQ0FBaUMsWUFBWSx3QkFBd0IsYUFBYSx5QkFBeUIsbUJBQW1CLHNDQUFzQyxnQ0FBZ0MsOEJBQThCLGFBQWEsc0NBQXNDLHFCQUFxQixvR0FBb0csb0NBQW9DLHlCQUF5QixpRUFBaUUsaUNBQWlDLDRCQUE0QixzQ0FBc0MsbUJBQW1CLFVBQVUsc0JBQXNCLG9DQUFvQyx5QkFBeUIsNkRBQTZELDJDQUEyQyw2QkFBNkIsYUFBYSxxQkFBcUIsaWtCQUFpa0Isb0NBQW9DLHlCQUF5QiwwRkFBMEYsNkJBQTZCLDRCQUE0QixrQ0FBa0MseUJBQXlCLG9DQUFvQyx5QkFBeUIscUdBQXFHLHdDQUF3Qyw0QkFBNEIsYUFBYSxxQkFBcUIsNlJBQTZSLG9DQUFvQywyR0FBMkcsb0VBQW9FLHlCQUF5QiwyQkFBMkIsaURBQWlELHlCQUF5QixvQ0FBb0Msd0ZBQXdGLGdFQUFnRSxvQ0FBb0MsNkJBQTZCLG1KQUFtSixrQ0FBa0MsOE9BQThPLHNCQUFzQix1RkFBdUYsMEJBQTBCLDBLQUEwSyw0Q0FBNEMsWUFBWSxtQkFBbUIsOEJBQThCLHNGQUFzRixrQkFBa0IsMEVBQTBFLHlEQUF5RCxrQkFBa0IsZ1dBQWdXLG9CQUFvQixjQUFjLDJCQUEyQixrRkFBa0Ysa0RBQWtELGdKQUFnSiw0SEFBNEgsTUFBTSxtQkFBbUIsc0NBQXNDLEVBQUUsdUNBQXVDLHdDQUF3Qyx3TEFBd0wsR0FBRywyQ0FBMkMsVUFBVSxlQUFlLHVEQUF1RCxxRUFBcUUsR0FBRyxrRUFBa0UsK0ZBQStGLE1BQU0sa0VBQWtFLHNDQUFzQyx1SEFBdUgsTUFBTSxzQ0FBc0MsMktBQTJLLFNBQVMsZ0dBQWdHLHNDQUFzQywwSEFBMEgscUNBQXFDLDJCQUEyQix3Q0FBd0MsbUJBQW1CLHNCQUFzQixvQ0FBb0MseUJBQXlCLDZEQUE2RCxhQUFhLHdDQUF3Qyx5QkFBeUIsaUtBQWlLLG1DQUFtQyxrQ0FBa0MseUJBQXlCLDBCQUEwQixzQkFBc0Isb0NBQW9DLHdGQUF3RixnRUFBZ0UsNERBQTRELG9kQUFvZCxzQ0FBc0MseVBBQXlQLGdDQUFnQyw2VEFBNlQsaUNBQWlDLGtDQUFrQywrQ0FBK0MsTUFBTSx5QkFBeUIsa0VBQWtFLGlDQUFpQyxnQkFBZ0IsaUhBQWlILElBQUksa0NBQWtDLDBCQUEwQixzQkFBc0IsNEJBQTRCLHdCQUF3QiwwR0FBMEc7O0FBRTEwVjs7QUFFM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vRnJhbWVidWZmZXJPYmplY3QtY2U1NjkyMWIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbyBhcyBvJDIgfSBmcm9tICcuL19jb21tb25qc0hlbHBlcnMtOTU3N2ZmNzguanMnO1xuaW1wb3J0ICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcbmltcG9ydCB7IFMgYXMgbiQxLCBIIGFzIHIkMywgZDQgYXMgbyQzIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgciQyPW8kMigoZnVuY3Rpb24oZSl7dmFyIHI7dm9pZCAwIT09KHI9W1wicHJlY2lzaW9uXCIsXCJoaWdocFwiLFwibWVkaXVtcFwiLFwibG93cFwiLFwiYXR0cmlidXRlXCIsXCJjb25zdFwiLFwidW5pZm9ybVwiLFwidmFyeWluZ1wiLFwiYnJlYWtcIixcImNvbnRpbnVlXCIsXCJkb1wiLFwiZm9yXCIsXCJ3aGlsZVwiLFwiaWZcIixcImVsc2VcIixcImluXCIsXCJvdXRcIixcImlub3V0XCIsXCJmbG9hdFwiLFwiaW50XCIsXCJ2b2lkXCIsXCJib29sXCIsXCJ0cnVlXCIsXCJmYWxzZVwiLFwiZGlzY2FyZFwiLFwicmV0dXJuXCIsXCJtYXQyXCIsXCJtYXQzXCIsXCJtYXQ0XCIsXCJ2ZWMyXCIsXCJ2ZWMzXCIsXCJ2ZWM0XCIsXCJpdmVjMlwiLFwiaXZlYzNcIixcIml2ZWM0XCIsXCJidmVjMlwiLFwiYnZlYzNcIixcImJ2ZWM0XCIsXCJzYW1wbGVyMURcIixcInNhbXBsZXIyRFwiLFwic2FtcGxlcjNEXCIsXCJzYW1wbGVyQ3ViZVwiLFwic2FtcGxlcjFEU2hhZG93XCIsXCJzYW1wbGVyMkRTaGFkb3dcIixcInN0cnVjdFwiLFwiYXNtXCIsXCJjbGFzc1wiLFwidW5pb25cIixcImVudW1cIixcInR5cGVkZWZcIixcInRlbXBsYXRlXCIsXCJ0aGlzXCIsXCJwYWNrZWRcIixcImdvdG9cIixcInN3aXRjaFwiLFwiZGVmYXVsdFwiLFwiaW5saW5lXCIsXCJub2lubGluZVwiLFwidm9sYXRpbGVcIixcInB1YmxpY1wiLFwic3RhdGljXCIsXCJleHRlcm5cIixcImV4dGVybmFsXCIsXCJpbnRlcmZhY2VcIixcImxvbmdcIixcInNob3J0XCIsXCJkb3VibGVcIixcImhhbGZcIixcImZpeGVkXCIsXCJ1bnNpZ25lZFwiLFwiaW5wdXRcIixcIm91dHB1dFwiLFwiaHZlYzJcIixcImh2ZWMzXCIsXCJodmVjNFwiLFwiZHZlYzJcIixcImR2ZWMzXCIsXCJkdmVjNFwiLFwiZnZlYzJcIixcImZ2ZWMzXCIsXCJmdmVjNFwiLFwic2FtcGxlcjJEUmVjdFwiLFwic2FtcGxlcjNEUmVjdFwiLFwic2FtcGxlcjJEUmVjdFNoYWRvd1wiLFwic2l6ZW9mXCIsXCJjYXN0XCIsXCJuYW1lc3BhY2VcIixcInVzaW5nXCJdKSYmKGUuZXhwb3J0cz1yKTt9KSksdCQxPW8kMigoZnVuY3Rpb24oZSl7dmFyIHI7dm9pZCAwIT09KHI9W1wiPDw9XCIsXCI+Pj1cIixcIisrXCIsXCItLVwiLFwiPDxcIixcIj4+XCIsXCI8PVwiLFwiPj1cIixcIj09XCIsXCIhPVwiLFwiJiZcIixcInx8XCIsXCIrPVwiLFwiLT1cIixcIio9XCIsXCIvPVwiLFwiJT1cIixcIiY9XCIsXCJeXlwiLFwiXj1cIixcInw9XCIsXCIoXCIsXCIpXCIsXCJbXCIsXCJdXCIsXCIuXCIsXCIhXCIsXCJ+XCIsXCIqXCIsXCIvXCIsXCIlXCIsXCIrXCIsXCItXCIsXCI8XCIsXCI+XCIsXCImXCIsXCJeXCIsXCJ8XCIsXCI/XCIsXCI6XCIsXCI9XCIsXCIsXCIsXCI7XCIsXCJ7XCIsXCJ9XCJdKSYmKGUuZXhwb3J0cz1yKTt9KSksbyQxPW8kMigoZnVuY3Rpb24oZSl7dmFyIHI7dm9pZCAwIT09KHI9W1wiYWJzXCIsXCJhY29zXCIsXCJhbGxcIixcImFueVwiLFwiYXNpblwiLFwiYXRhblwiLFwiY2VpbFwiLFwiY2xhbXBcIixcImNvc1wiLFwiY3Jvc3NcIixcImRGZHhcIixcImRGZHlcIixcImRlZ3JlZXNcIixcImRpc3RhbmNlXCIsXCJkb3RcIixcImVxdWFsXCIsXCJleHBcIixcImV4cDJcIixcImZhY2Vmb3J3YXJkXCIsXCJmbG9vclwiLFwiZnJhY3RcIixcImdsX0JhY2tDb2xvclwiLFwiZ2xfQmFja0xpZ2h0TW9kZWxQcm9kdWN0XCIsXCJnbF9CYWNrTGlnaHRQcm9kdWN0XCIsXCJnbF9CYWNrTWF0ZXJpYWxcIixcImdsX0JhY2tTZWNvbmRhcnlDb2xvclwiLFwiZ2xfQ2xpcFBsYW5lXCIsXCJnbF9DbGlwVmVydGV4XCIsXCJnbF9Db2xvclwiLFwiZ2xfRGVwdGhSYW5nZVwiLFwiZ2xfRGVwdGhSYW5nZVBhcmFtZXRlcnNcIixcImdsX0V5ZVBsYW5lUVwiLFwiZ2xfRXllUGxhbmVSXCIsXCJnbF9FeWVQbGFuZVNcIixcImdsX0V5ZVBsYW5lVFwiLFwiZ2xfRm9nXCIsXCJnbF9Gb2dDb29yZFwiLFwiZ2xfRm9nRnJhZ0Nvb3JkXCIsXCJnbF9Gb2dQYXJhbWV0ZXJzXCIsXCJnbF9GcmFnQ29sb3JcIixcImdsX0ZyYWdDb29yZFwiLFwiZ2xfRnJhZ0RhdGFcIixcImdsX0ZyYWdEZXB0aFwiLFwiZ2xfRnJhZ0RlcHRoRVhUXCIsXCJnbF9Gcm9udENvbG9yXCIsXCJnbF9Gcm9udEZhY2luZ1wiLFwiZ2xfRnJvbnRMaWdodE1vZGVsUHJvZHVjdFwiLFwiZ2xfRnJvbnRMaWdodFByb2R1Y3RcIixcImdsX0Zyb250TWF0ZXJpYWxcIixcImdsX0Zyb250U2Vjb25kYXJ5Q29sb3JcIixcImdsX0xpZ2h0TW9kZWxcIixcImdsX0xpZ2h0TW9kZWxQYXJhbWV0ZXJzXCIsXCJnbF9MaWdodE1vZGVsUHJvZHVjdHNcIixcImdsX0xpZ2h0UHJvZHVjdHNcIixcImdsX0xpZ2h0U291cmNlXCIsXCJnbF9MaWdodFNvdXJjZVBhcmFtZXRlcnNcIixcImdsX01hdGVyaWFsUGFyYW1ldGVyc1wiLFwiZ2xfTWF4Q2xpcFBsYW5lc1wiLFwiZ2xfTWF4Q29tYmluZWRUZXh0dXJlSW1hZ2VVbml0c1wiLFwiZ2xfTWF4RHJhd0J1ZmZlcnNcIixcImdsX01heEZyYWdtZW50VW5pZm9ybUNvbXBvbmVudHNcIixcImdsX01heExpZ2h0c1wiLFwiZ2xfTWF4VGV4dHVyZUNvb3Jkc1wiLFwiZ2xfTWF4VGV4dHVyZUltYWdlVW5pdHNcIixcImdsX01heFRleHR1cmVVbml0c1wiLFwiZ2xfTWF4VmFyeWluZ0Zsb2F0c1wiLFwiZ2xfTWF4VmVydGV4QXR0cmlic1wiLFwiZ2xfTWF4VmVydGV4VGV4dHVyZUltYWdlVW5pdHNcIixcImdsX01heFZlcnRleFVuaWZvcm1Db21wb25lbnRzXCIsXCJnbF9Nb2RlbFZpZXdNYXRyaXhcIixcImdsX01vZGVsVmlld01hdHJpeEludmVyc2VcIixcImdsX01vZGVsVmlld01hdHJpeEludmVyc2VUcmFuc3Bvc2VcIixcImdsX01vZGVsVmlld01hdHJpeFRyYW5zcG9zZVwiLFwiZ2xfTW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeFwiLFwiZ2xfTW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeEludmVyc2VcIixcImdsX01vZGVsVmlld1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlVHJhbnNwb3NlXCIsXCJnbF9Nb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4VHJhbnNwb3NlXCIsXCJnbF9NdWx0aVRleENvb3JkMFwiLFwiZ2xfTXVsdGlUZXhDb29yZDFcIixcImdsX011bHRpVGV4Q29vcmQyXCIsXCJnbF9NdWx0aVRleENvb3JkM1wiLFwiZ2xfTXVsdGlUZXhDb29yZDRcIixcImdsX011bHRpVGV4Q29vcmQ1XCIsXCJnbF9NdWx0aVRleENvb3JkNlwiLFwiZ2xfTXVsdGlUZXhDb29yZDdcIixcImdsX05vcm1hbFwiLFwiZ2xfTm9ybWFsTWF0cml4XCIsXCJnbF9Ob3JtYWxTY2FsZVwiLFwiZ2xfT2JqZWN0UGxhbmVRXCIsXCJnbF9PYmplY3RQbGFuZVJcIixcImdsX09iamVjdFBsYW5lU1wiLFwiZ2xfT2JqZWN0UGxhbmVUXCIsXCJnbF9Qb2ludFwiLFwiZ2xfUG9pbnRDb29yZFwiLFwiZ2xfUG9pbnRQYXJhbWV0ZXJzXCIsXCJnbF9Qb2ludFNpemVcIixcImdsX1Bvc2l0aW9uXCIsXCJnbF9Qcm9qZWN0aW9uTWF0cml4XCIsXCJnbF9Qcm9qZWN0aW9uTWF0cml4SW52ZXJzZVwiLFwiZ2xfUHJvamVjdGlvbk1hdHJpeEludmVyc2VUcmFuc3Bvc2VcIixcImdsX1Byb2plY3Rpb25NYXRyaXhUcmFuc3Bvc2VcIixcImdsX1NlY29uZGFyeUNvbG9yXCIsXCJnbF9UZXhDb29yZFwiLFwiZ2xfVGV4dHVyZUVudkNvbG9yXCIsXCJnbF9UZXh0dXJlTWF0cml4XCIsXCJnbF9UZXh0dXJlTWF0cml4SW52ZXJzZVwiLFwiZ2xfVGV4dHVyZU1hdHJpeEludmVyc2VUcmFuc3Bvc2VcIixcImdsX1RleHR1cmVNYXRyaXhUcmFuc3Bvc2VcIixcImdsX1ZlcnRleFwiLFwiZ3JlYXRlclRoYW5cIixcImdyZWF0ZXJUaGFuRXF1YWxcIixcImludmVyc2VzcXJ0XCIsXCJsZW5ndGhcIixcImxlc3NUaGFuXCIsXCJsZXNzVGhhbkVxdWFsXCIsXCJsb2dcIixcImxvZzJcIixcIm1hdHJpeENvbXBNdWx0XCIsXCJtYXhcIixcIm1pblwiLFwibWl4XCIsXCJtb2RcIixcIm5vcm1hbGl6ZVwiLFwibm90XCIsXCJub3RFcXVhbFwiLFwicG93XCIsXCJyYWRpYW5zXCIsXCJyZWZsZWN0XCIsXCJyZWZyYWN0XCIsXCJzaWduXCIsXCJzaW5cIixcInNtb290aHN0ZXBcIixcInNxcnRcIixcInN0ZXBcIixcInRhblwiLFwidGV4dHVyZTJEXCIsXCJ0ZXh0dXJlMkRMb2RcIixcInRleHR1cmUyRFByb2pcIixcInRleHR1cmUyRFByb2pMb2RcIixcInRleHR1cmVDdWJlXCIsXCJ0ZXh0dXJlQ3ViZUxvZFwiLFwidGV4dHVyZTJETG9kRVhUXCIsXCJ0ZXh0dXJlMkRQcm9qTG9kRVhUXCIsXCJ0ZXh0dXJlQ3ViZUxvZEVYVFwiLFwidGV4dHVyZTJER3JhZEVYVFwiLFwidGV4dHVyZTJEUHJvakdyYWRFWFRcIixcInRleHR1cmVDdWJlR3JhZEVYVFwiXSkmJihlLmV4cG9ydHM9cik7fSkpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubiQxLmdldExvZ2dlcihcImVzcmkvdmlld3Mvd2ViZ2xcIik7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKG4pe3JldHVybiB3aW5kb3cuV2ViR0wyUmVuZGVyaW5nQ29udGV4dCYmbiBpbnN0YW5jZW9mIHdpbmRvdy5XZWJHTDJSZW5kZXJpbmdDb250ZXh0fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgYT00LHMkMT0wO2NsYXNzIG97Y29uc3RydWN0b3IodCxlLGk9bnVsbCl7dGhpcy5fY29udGV4dD1udWxsLHRoaXMuX2dsTmFtZT1udWxsLHRoaXMuX2Rlc2NyaXB0b3I9dm9pZCAwLHRoaXMuX3NhbXBsaW5nTW9kZURpcnR5PSExLHRoaXMuX3dyYXBNb2RlRGlydHk9ITEsdC5pbnN0YW5jZUNvdW50ZXIuaW5jcmVtZW50KDAsdGhpcyksdGhpcy5fY29udGV4dD10LHRoaXMuX2Rlc2NyaXB0b3I9e3RhcmdldDozNTUzLHNhbXBsaW5nTW9kZTo5NzI5LHdyYXBNb2RlOjEwNDk3LGZsaXBwZWQ6ITEsaGFzTWlwbWFwOiExLGlzT3BhcXVlOiExLHVucGFja0FsaWdubWVudDo0LHByZU11bHRpcGx5QWxwaGE6ITEsLi4uZX0sdGhpcy5zZXREYXRhKGkpO31nZXQgZ2xOYW1lKCl7cmV0dXJuIHRoaXMuX2dsTmFtZX1nZXQgZGVzY3JpcHRvcigpe3JldHVybiB0aGlzLl9kZXNjcmlwdG9yfWRpc3Bvc2UoKXtpZih0aGlzLl9jb250ZXh0JiZ0aGlzLl9jb250ZXh0LmdsKXtpZih0aGlzLl9nbE5hbWUpe2NvbnN0IHQ9dGhpcy5fY29udGV4dC5nbDt0aGlzLl9jb250ZXh0LnVuYmluZFRleHR1cmVBbGxVbml0cyh0aGlzKSx0LmRlbGV0ZVRleHR1cmUodGhpcy5fZ2xOYW1lKSx0aGlzLl9nbE5hbWU9bnVsbDt9dGhpcy5fY29udGV4dC5pbnN0YW5jZUNvdW50ZXIuZGVjcmVtZW50KDAsdGhpcyksdGhpcy5fY29udGV4dD1udWxsO319cmVsZWFzZSgpe3RoaXMuZGlzcG9zZSgpO31yZXNpemUodCxlKXtjb25zdCBpPXRoaXMuX2Rlc2NyaXB0b3I7aS53aWR0aD09PXQmJmkuaGVpZ2h0PT09ZXx8KGkud2lkdGg9dCxpLmhlaWdodD1lLHRoaXMuc2V0RGF0YShudWxsKSk7fXNldERhdGEoZSl7aWYoIXRoaXMuX2NvbnRleHR8fCF0aGlzLl9jb250ZXh0LmdsKXJldHVybjtjb25zdCBpPXRoaXMuX2NvbnRleHQuZ2w7dGhpcy5fZ2xOYW1lfHwodGhpcy5fZ2xOYW1lPWkuY3JlYXRlVGV4dHVyZSgpKSx2b2lkIDA9PT1lJiYoZT1udWxsKSxudWxsPT09ZSYmKHRoaXMuX2Rlc2NyaXB0b3Iud2lkdGg9dGhpcy5fZGVzY3JpcHRvci53aWR0aHx8YSx0aGlzLl9kZXNjcmlwdG9yLmhlaWdodD10aGlzLl9kZXNjcmlwdG9yLmhlaWdodHx8YSk7Y29uc3Qgbj10aGlzLl9jb250ZXh0LmdldEJvdW5kVGV4dHVyZShzJDEpO3RoaXMuX2NvbnRleHQuYmluZFRleHR1cmUodGhpcyxzJDEpO2NvbnN0IHA9dGhpcy5fZGVzY3JpcHRvcjtvLl92YWxpZGF0ZVRleHR1cmUodGhpcy5fY29udGV4dCxwKSxpLnBpeGVsU3RvcmVpKGkuVU5QQUNLX0FMSUdOTUVOVCxwLnVucGFja0FsaWdubWVudCksaS5waXhlbFN0b3JlaShpLlVOUEFDS19GTElQX1lfV0VCR0wscC5mbGlwcGVkPzE6MCksaS5waXhlbFN0b3JlaShpLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCxwLnByZU11bHRpcGx5QWxwaGE/MTowKTtjb25zdCBoPXAucGl4ZWxGb3JtYXQ7bGV0IGw9cC5pbnRlcm5hbEZvcm1hdD9wLmludGVybmFsRm9ybWF0Omg7aWYoZSBpbnN0YW5jZW9mIEltYWdlRGF0YXx8ZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fGUgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpe2xldCB0PWUud2lkdGgsYT1lLmhlaWdodDtlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKHQ9ZS52aWRlb1dpZHRoLGE9ZS52aWRlb0hlaWdodCkscC53aWR0aCYmcC5oZWlnaHQmJmNvbnNvbGUuYXNzZXJ0KHQ9PT1wLndpZHRoJiZhPT09cC5oZWlnaHQpLGkudGV4SW1hZ2UyRChpLlRFWFRVUkVfMkQsMCxsLGgscC5kYXRhVHlwZSxlKSxwLmhhc01pcG1hcCYmdGhpcy5nZW5lcmF0ZU1pcG1hcCgpLHZvaWQgMD09PXAud2lkdGgmJihwLndpZHRoPXQpLHZvaWQgMD09PXAuaGVpZ2h0JiYocC5oZWlnaHQ9YSk7fWVsc2Uge251bGwhPXAud2lkdGgmJm51bGwhPXAuaGVpZ2h0fHxjb25zb2xlLmVycm9yKFwiV2lkdGggYW5kIGhlaWdodCBtdXN0IGJlIHNwZWNpZmllZCFcIiksaS5ERVBUSDI0X1NURU5DSUw4JiZsPT09aS5ERVBUSF9TVEVOQ0lMJiYobD1pLkRFUFRIMjRfU1RFTkNJTDgpO2xldCBhPXAud2lkdGgscz1wLmhlaWdodDtpZihyJDEoZSkpe2NvbnN0IHQ9TWF0aC5yb3VuZChNYXRoLmxvZyhNYXRoLm1heChhLHMpKS9NYXRoLkxOMikrMTtwLmhhc01pcG1hcD1wLmhhc01pcG1hcCYmdD09PWUubGV2ZWxzLmxlbmd0aDtmb3IobGV0IG89MDs7KytvKXtjb25zdCB0PWUubGV2ZWxzW01hdGgubWluKG8sZS5sZXZlbHMubGVuZ3RoLTEpXTtpZihpLmNvbXByZXNzZWRUZXhJbWFnZTJEKGkuVEVYVFVSRV8yRCxvLGwsYSxzLDAsdCksMT09PWEmJjE9PT1zfHwhcC5oYXNNaXBtYXApYnJlYWs7YT1NYXRoLm1heCgxLGE+PjEpLHM9TWF0aC5tYXgoMSxzPj4xKTt9fWVsc2UgaWYociQzKGUpKWkudGV4SW1hZ2UyRChpLlRFWFRVUkVfMkQsMCxsLGEscywwLGgscC5kYXRhVHlwZSxlKSxwLmhhc01pcG1hcCYmdGhpcy5nZW5lcmF0ZU1pcG1hcCgpO2Vsc2UgZm9yKGxldCB0PTA7aS50ZXhJbWFnZTJEKGkuVEVYVFVSRV8yRCx0LGwsYSxzLDAsaCxwLmRhdGFUeXBlLG51bGwpLCgxIT09YXx8MSE9PXMpJiZwLmhhc01pcG1hcDsrK3QpYT1NYXRoLm1heCgxLGE+PjEpLHM9TWF0aC5tYXgoMSxzPj4xKTt9by5fYXBwbHlTYW1wbGluZ01vZGUoaSx0aGlzLl9kZXNjcmlwdG9yKSxvLl9hcHBseVdyYXBNb2RlKGksdGhpcy5fZGVzY3JpcHRvciksby5fYXBwbHlBbmlzb3Ryb3BpY0ZpbHRlcmluZ1BhcmFtZXRlcnModGhpcy5fY29udGV4dCx0aGlzLl9kZXNjcmlwdG9yKSxuJiZ0aGlzLl9jb250ZXh0LmJpbmRUZXh0dXJlKG4scyQxKTt9dXBkYXRlRGF0YSh0LGUsaSxhLG8scil7cnx8Y29uc29sZS5lcnJvcihcIkFuIGF0dGVtcHQgdG8gdXNlIHVuaW5pdGlhbGl6ZWQgZGF0YSFcIiksdGhpcy5fZ2xOYW1lfHxjb25zb2xlLmVycm9yKFwiQW4gYXR0ZW1wdCB0byB1cGRhdGUgdW5pbml0aWFsaXplZCB0ZXh0dXJlIVwiKTtjb25zdCBuPXRoaXMuX2NvbnRleHQuZ2wscD10aGlzLl9kZXNjcmlwdG9yLGg9dGhpcy5fY29udGV4dC5nZXRCb3VuZFRleHR1cmUocyQxKTt0aGlzLl9jb250ZXh0LmJpbmRUZXh0dXJlKHRoaXMscyQxKSwoZTwwfHxpPDB8fGE+cC53aWR0aHx8bz5wLmhlaWdodHx8ZSthPnAud2lkdGh8fGkrbz5wLmhlaWdodCkmJmNvbnNvbGUuZXJyb3IoXCJBbiBhdHRlbXB0IHRvIHVwZGF0ZSBvdXQgb2YgYm91bmRzIG9mIHRoZSB0ZXh0dXJlIVwiKSxuLnBpeGVsU3RvcmVpKG4uVU5QQUNLX0FMSUdOTUVOVCxwLnVucGFja0FsaWdubWVudCksbi5waXhlbFN0b3JlaShuLlVOUEFDS19GTElQX1lfV0VCR0wscC5mbGlwcGVkPzE6MCksbi5waXhlbFN0b3JlaShuLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCxwLnByZU11bHRpcGx5QWxwaGE/MTowKSxyIGluc3RhbmNlb2YgSW1hZ2VEYXRhfHxyIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8ciBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHxyIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9uLnRleFN1YkltYWdlMkQobi5URVhUVVJFXzJELHQsZSxpLHAucGl4ZWxGb3JtYXQscC5kYXRhVHlwZSxyKTpuLnRleFN1YkltYWdlMkQobi5URVhUVVJFXzJELHQsZSxpLGEsbyxwLnBpeGVsRm9ybWF0LHAuZGF0YVR5cGUsciksdGhpcy5fY29udGV4dC5iaW5kVGV4dHVyZShoLHMkMSk7fWdlbmVyYXRlTWlwbWFwKCl7Y29uc3QgdD10aGlzLl9kZXNjcmlwdG9yO3QuaGFzTWlwbWFwfHwodC5oYXNNaXBtYXA9ITAsdGhpcy5fc2FtcGxpbmdNb2RlRGlydHk9ITAsby5fdmFsaWRhdGVUZXh0dXJlKHRoaXMuX2NvbnRleHQsdCkpLDk3Mjk9PT10LnNhbXBsaW5nTW9kZT8odGhpcy5fc2FtcGxpbmdNb2RlRGlydHk9ITAsdC5zYW1wbGluZ01vZGU9OTk4NSk6OTcyOD09PXQuc2FtcGxpbmdNb2RlJiYodGhpcy5fc2FtcGxpbmdNb2RlRGlydHk9ITAsdC5zYW1wbGluZ01vZGU9OTk4NCk7Y29uc3QgZT10aGlzLl9jb250ZXh0LmdldEJvdW5kVGV4dHVyZShzJDEpO3RoaXMuX2NvbnRleHQuYmluZFRleHR1cmUodGhpcyxzJDEpO2NvbnN0IGk9dGhpcy5fY29udGV4dC5nbDtpLmdlbmVyYXRlTWlwbWFwKGkuVEVYVFVSRV8yRCksdGhpcy5fY29udGV4dC5iaW5kVGV4dHVyZShlLHMkMSk7fXNldFNhbXBsaW5nTW9kZSh0KXt0IT09dGhpcy5fZGVzY3JpcHRvci5zYW1wbGluZ01vZGUmJih0aGlzLl9kZXNjcmlwdG9yLnNhbXBsaW5nTW9kZT10LG8uX3ZhbGlkYXRlVGV4dHVyZSh0aGlzLl9jb250ZXh0LHRoaXMuX2Rlc2NyaXB0b3IpLHRoaXMuX3NhbXBsaW5nTW9kZURpcnR5PSEwKTt9c2V0V3JhcE1vZGUodCl7dCE9PXRoaXMuX2Rlc2NyaXB0b3Iud3JhcE1vZGUmJih0aGlzLl9kZXNjcmlwdG9yLndyYXBNb2RlPXQsby5fdmFsaWRhdGVUZXh0dXJlKHRoaXMuX2NvbnRleHQsdGhpcy5fZGVzY3JpcHRvciksdGhpcy5fd3JhcE1vZGVEaXJ0eT0hMCk7fWFwcGx5Q2hhbmdlcygpe2NvbnN0IHQ9dGhpcy5fY29udGV4dC5nbCxlPXRoaXMuX2Rlc2NyaXB0b3I7dGhpcy5fc2FtcGxpbmdNb2RlRGlydHkmJihvLl9hcHBseVNhbXBsaW5nTW9kZSh0LGUpLHRoaXMuX3NhbXBsaW5nTW9kZURpcnR5PSExKSx0aGlzLl93cmFwTW9kZURpcnR5JiYoby5fYXBwbHlXcmFwTW9kZSh0LGUpLHRoaXMuX3dyYXBNb2RlRGlydHk9ITEpO31zdGF0aWMgX3ZhbGlkYXRlVGV4dHVyZSh0LGEpeyhhLndpZHRoPDB8fGEuaGVpZ2h0PDApJiZjb25zb2xlLmVycm9yKFwiTmVnYXRpdmUgZGltZW5zaW9uIHBhcmFtZXRlcnMgYXJlIG5vdCBhbGxvd2VkIVwiKTtjb25zdCBzPW8kMyhhLndpZHRoKSYmbyQzKGEuaGVpZ2h0KTtuKHQuZ2wpfHxzfHwoXCJudW1iZXJcIj09dHlwZW9mIGEud3JhcE1vZGU/MzMwNzEhPT1hLndyYXBNb2RlJiZjb25zb2xlLmVycm9yKFwiTm9uLXBvd2VyLW9mLXR3byB0ZXh0dXJlcyBtdXN0IGhhdmUgYSB3cmFwIG1vZGUgb2YgQ0xBTVBfVE9fRURHRSFcIik6MzMwNzE9PT1hLndyYXBNb2RlLnMmJjMzMDcxPT09YS53cmFwTW9kZS50fHxjb25zb2xlLmVycm9yKFwiTm9uLXBvd2VyLW9mLXR3byB0ZXh0dXJlcyBtdXN0IGhhdmUgYSB3cmFwIG1vZGUgb2YgQ0xBTVBfVE9fRURHRSFcIiksYS5oYXNNaXBtYXAmJmNvbnNvbGUuZXJyb3IoXCJNaXBtYXBwaW5nIHJlcXVpcmVzIHBvd2VyLW9mLXR3byB0ZXh0dXJlcyFcIikpO31zdGF0aWMgX2FwcGx5U2FtcGxpbmdNb2RlKHQsZSl7bGV0IGk9ZS5zYW1wbGluZ01vZGUsYT1lLnNhbXBsaW5nTW9kZTs5OTg1PT09aXx8OTk4Nz09PWk/KGk9OTcyOSxlLmhhc01pcG1hcHx8KGE9OTcyOSkpOjk5ODQhPT1pJiY5OTg2IT09aXx8KGk9OTcyOCxlLmhhc01pcG1hcHx8KGE9OTcyOCkpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsaSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUixhKTt9c3RhdGljIF9hcHBseVdyYXBNb2RlKHQsZSl7XCJudW1iZXJcIj09dHlwZW9mIGUud3JhcE1vZGU/KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyxlLndyYXBNb2RlKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsZS53cmFwTW9kZSkpOih0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsZS53cmFwTW9kZS5zKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsZS53cmFwTW9kZS50KSk7fXN0YXRpYyBfYXBwbHlBbmlzb3Ryb3BpY0ZpbHRlcmluZ1BhcmFtZXRlcnModCxlKXtpZihudWxsPT1lLm1heEFuaXNvdHJvcHkpcmV0dXJuO2NvbnN0IGk9dC5jYXBhYmlsaXRpZXMudGV4dHVyZUZpbHRlckFuaXNvdHJvcGljO2lmKCFpKXJldHVybjtjb25zdCBhPXQuZ2w7YS50ZXhQYXJhbWV0ZXJmKGEuVEVYVFVSRV8yRCxpLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFksZS5tYXhBbmlzb3Ryb3B5KTt9fWZ1bmN0aW9uIHIkMShlKXtyZXR1cm4gciQzKGUpJiZcInR5cGVcImluIGUmJlwiY29tcHJlc3NlZFwiPT09ZS50eXBlfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2NvbnRleHQ9dCx0aGlzLl9kZXNjPWUsdGhpcy5fY29udGV4dC5pbnN0YW5jZUNvdW50ZXIuaW5jcmVtZW50KDUsdGhpcyk7Y29uc3QgaT10aGlzLl9jb250ZXh0LmdsO3RoaXMuZ2xOYW1lPWkuY3JlYXRlUmVuZGVyYnVmZmVyKCksdGhpcy5fY29udGV4dC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMpLGkucmVuZGVyYnVmZmVyU3RvcmFnZShpLlJFTkRFUkJVRkZFUixlLmludGVybmFsRm9ybWF0LGUud2lkdGgsZS5oZWlnaHQpO31nZXQgZGVzY3JpcHRvcigpe3JldHVybiB0aGlzLl9kZXNjfXJlc2l6ZSh0LGUpe2NvbnN0IGk9dGhpcy5fZGVzYztpZihpLndpZHRoPT09dCYmaS5oZWlnaHQ9PT1lKXJldHVybjtpLndpZHRoPXQsaS5oZWlnaHQ9ZTtjb25zdCBuPXRoaXMuX2NvbnRleHQuZ2w7dGhpcy5fY29udGV4dC5iaW5kUmVuZGVyYnVmZmVyKHRoaXMpLG4ucmVuZGVyYnVmZmVyU3RvcmFnZShuLlJFTkRFUkJVRkZFUixpLmludGVybmFsRm9ybWF0LGkud2lkdGgsaS5oZWlnaHQpO31kaXNwb3NlKCl7dGhpcy5fY29udGV4dCYmKHRoaXMuX2NvbnRleHQuZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHRoaXMuZ2xOYW1lKSx0aGlzLl9jb250ZXh0Lmluc3RhbmNlQ291bnRlci5kZWNyZW1lbnQoNSx0aGlzKSx0aGlzLl9jb250ZXh0PW51bGwpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBzPW4kMS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLndlYmdsLkZyYW1lQnVmZmVyT2JqZWN0XCIpO2NsYXNzIHJ7Y29uc3RydWN0b3IodCQxLHMsaCxuKXtpZih0aGlzLl9jb250ZXh0PXQkMSx0aGlzLl9nbE5hbWU9bnVsbCx0aGlzLl9kZXB0aEF0dGFjaG1lbnQ9bnVsbCx0aGlzLl9zdGVuY2lsQXR0YWNobWVudD1udWxsLHRoaXMuX2NvbG9yQXR0YWNobWVudHM9bmV3IE1hcCx0aGlzLl9pbml0aWFsaXplZD0hMSx0aGlzLl9kZXNjPXsuLi5zfSx0JDEuaW5zdGFuY2VDb3VudGVyLmluY3JlbWVudCg0LHRoaXMpLGgpe2xldCBpO3ZhciBvJDE7aWYoQXJyYXkuaXNBcnJheShoKSlmb3IoY29uc3QgcyBvZiBoKXtjb25zdHthdHRhY2htZW50UG9pbnQ6cix0ZXh0dXJlOmh9PXMsbj1oIGluc3RhbmNlb2Ygbz9oOm5ldyBvKHQkMSxoKTtpPW4uZGVzY3JpcHRvcix0aGlzLl9jb2xvckF0dGFjaG1lbnRzLnNldChyLG4pLHRoaXMuX3ZhbGlkYXRlQ29sb3JBdHRhY2htZW50UG9pbnQociksdGhpcy5fdmFsaWRhdGVUZXh0dXJlRGltZW5zaW9ucyhpLHRoaXMuX2Rlc2MpO31lbHNlIGggaW5zdGFuY2VvZiBvPyhpPWguZGVzY3JpcHRvcix0aGlzLl9jb2xvckF0dGFjaG1lbnRzLnNldCgzNjA2NCxoKSk6KGk9aCx0aGlzLl9jb2xvckF0dGFjaG1lbnRzLnNldCgzNjA2NCxuZXcgbyh0JDEsaCkpKSwwIT09KG51bGw9PShvJDE9dGhpcy5fZGVzYyk/dm9pZCAwOm8kMS5jb2xvclRhcmdldCkmJmNvbnNvbGUuZXJyb3IoXCJGcmFtZWJ1ZmZlciBpcyBpbml0aWFsaXplZCB3aXRoIGEgdGV4dHVyZSBob3dldmVyIHRoZSBkZXNjcmlwdG9yIGluZGljYXRlcyB1c2luZyBhIHJlbmRlcmJ1ZmZlciBjb2xvciBhdHRhY2htZW50IVwiKSx0aGlzLl92YWxpZGF0ZVRleHR1cmVEaW1lbnNpb25zKGksdGhpcy5fZGVzYyk7fWlmKG4gaW5zdGFuY2VvZiB0KXt2YXIgYztjb25zdCB0PW51bGwhPShjPXRoaXMuX2Rlc2MuZGVwdGhTdGVuY2lsVGFyZ2V0KT9jOjM7Mj09PXQ/dGhpcy5fc3RlbmNpbEF0dGFjaG1lbnQ9bjoxPT09dHx8Mz09PXQ/dGhpcy5fZGVwdGhBdHRhY2htZW50PW46Y29uc29sZS5lcnJvcignSWYgYSBSZW5kZXJidWZmZXIgaXMgcHJvdmlkZWQsIFwiZGVwdGhTdGVuY2lsVGFyZ2V0XCIgbXVzdCBiZSBvbmUgb2YgU1RFTkNJTF9SRU5ERVJfQlVGRkVSLCBERVBUSF9SRU5ERVJfQlVGRkVSIG9yIERFUFRIX1NURU5DSUxfUkVOREVSX0JVRkZFUicpLHIuX3ZhbGlkYXRlQnVmZmVyRGltZW5zaW9ucyhuLmRlc2NyaXB0b3IsdGhpcy5fZGVzYyk7fWVsc2UgaWYobil7bGV0IHQ7dGhpcy5fY29udGV4dC5jYXBhYmlsaXRpZXMuZGVwdGhUZXh0dXJlfHxjb25zb2xlLmVycm9yKFwiRXh0ZW5zaW9uIFdFQkdMX2RlcHRoX3RleHR1cmUgaXNuJ3Qgc3VwcG9ydGVkIHRoZXJlZm9yZSBpdCBpcyBubyBwb3NzaWJsZSB0byBzZXQgdGhlIGRlcHRoL3N0ZW5jaWwgdGV4dHVyZSBhcyBhbiBhdHRhY2htZW50IVwiKSxuIGluc3RhbmNlb2Ygbz8odGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1uLHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5kZXNjcmlwdG9yKToodD1uLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bmV3IG8odGhpcy5fY29udGV4dCx0KSksdGhpcy5fdmFsaWRhdGVUZXh0dXJlRGltZW5zaW9ucyh0LHRoaXMuX2Rlc2MpO319ZGlzcG9zZSgpe2lmKCF0aGlzLl9kZXNjKXJldHVybjtjb25zdCB0PXRoaXMuX2NvbnRleHQuZ2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCgpO2lmKHRoaXMuX2Rpc3Bvc2VDb2xvckF0dGFjaG1lbnRzKCksdGhpcy5fZGlzcG9zZURlcHRoU3RlbmNpbEF0dGFjaG1lbnRzKCksdGhpcy5fZ2xOYW1lKXt0aGlzLl9jb250ZXh0LmdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2dsTmFtZSksdGhpcy5fZ2xOYW1lPW51bGw7fXRoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHQpLHRoaXMuX2NvbnRleHQuaW5zdGFuY2VDb3VudGVyLmRlY3JlbWVudCg0LHRoaXMpLHRoaXMuX2Rlc2M9bnVsbDt9Z2V0IGdsTmFtZSgpe3JldHVybiB0aGlzLl9nbE5hbWV9Z2V0IGRlc2NyaXB0b3IoKXtyZXR1cm4gdGhpcy5fZGVzY31nZXQgY29sb3JUZXh0dXJlKCl7Y29uc3QgdD10aGlzLl9jb2xvckF0dGFjaG1lbnRzLmdldCgzNjA2NCk7cmV0dXJuIHQmJnQgaW5zdGFuY2VvZiBvP3Q6bnVsbH1nZXQgY29sb3JBdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuX2NvbG9yQXR0YWNobWVudHMuZ2V0KDM2MDY0KX1nZXQgZGVwdGhTdGVuY2lsQXR0YWNobWVudCgpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlfHx0aGlzLl9kZXB0aEF0dGFjaG1lbnR8fHRoaXMuX3N0ZW5jaWxBdHRhY2htZW50fWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9Z2V0IHdpZHRoKCl7cmV0dXJuIHRoaXMuX2Rlc2Mud2lkdGh9Z2V0IGhlaWdodCgpe3JldHVybiB0aGlzLl9kZXNjLmhlaWdodH1nZXRDb2xvclRleHR1cmUodCl7Y29uc3QgaT10aGlzLl9jb2xvckF0dGFjaG1lbnRzLmdldCh0KTtyZXR1cm4gaSYmaSBpbnN0YW5jZW9mIG8/aTpudWxsfWF0dGFjaENvbG9yVGV4dHVyZSh0LGU9MzYwNjQpe2lmKCF0KXJldHVybjt0aGlzLl92YWxpZGF0ZUNvbG9yQXR0YWNobWVudFBvaW50KGUpO2NvbnN0IGk9dC5kZXNjcmlwdG9yO2lmKHRoaXMuX3ZhbGlkYXRlVGV4dHVyZURpbWVuc2lvbnMoaSx0aGlzLl9kZXNjKSx0aGlzLl9kaXNwb3NlQ29sb3JBdHRhY2htZW50cygpLHRoaXMuX2luaXRpYWxpemVkKXt0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtjb25zdCBpPXRoaXMuX2NvbnRleHQuZ2w7aS5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLkZSQU1FQlVGRkVSLGUsaS5URVhUVVJFXzJELHQuZ2xOYW1lLDApO310aGlzLl9jb2xvckF0dGFjaG1lbnRzLnNldChlLHQpO31kZXRhY2hDb2xvclRleHR1cmUodD0zNjA2NCl7Y29uc3QgaT10aGlzLl9jb2xvckF0dGFjaG1lbnRzLmdldCh0KTtpZihpIGluc3RhbmNlb2Ygbyl7Y29uc3QgZT1pO2lmKHRoaXMuX2luaXRpYWxpemVkKXt0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtjb25zdCBlPXRoaXMuX2NvbnRleHQuZ2w7ZS5mcmFtZWJ1ZmZlclRleHR1cmUyRChlLkZSQU1FQlVGRkVSLHQsZS5URVhUVVJFXzJELG51bGwsMCk7fXJldHVybiB0aGlzLl9jb2xvckF0dGFjaG1lbnRzLmRlbGV0ZSh0KSxlfX1hdHRhY2hEZXB0aFN0ZW5jaWxUZXh0dXJlKHQpe2lmKCF0KXJldHVybjtjb25zdCBlPXQuZGVzY3JpcHRvcjtpZigzNDA0MSE9PWUucGl4ZWxGb3JtYXQmJmNvbnNvbGUuZXJyb3IoXCJEZXB0aC9TdGVuY2lsIHRleHR1cmUgbXVzdCBoYXZlIGEgcGl4ZWwgdHlwZSBvZiBERVBUSF9TVEVOQ0lMIVwiKSwzNDA0MiE9PWUuZGF0YVR5cGUmJmNvbnNvbGUuZXJyb3IoXCJEZXB0aC9TdGVuY2lsIHRleHR1cmUgbXVzdCBoYXZlIGRhdGEgdHlwZSBvZiBVTlNJR05FRF9JTlRfMjRfOCFcIiksdGhpcy5fY29udGV4dC5jYXBhYmlsaXRpZXMuZGVwdGhUZXh0dXJlfHxjb25zb2xlLmVycm9yKFwiRXh0ZW5zaW9uIFdFQkdMX2RlcHRoX3RleHR1cmUgaXNuJ3Qgc3VwcG9ydGVkIHRoZXJlZm9yZSBpdCBpcyBubyBwb3NzaWJsZSB0byBzZXQgdGhlIGRlcHRoL3N0ZW5jaWwgdGV4dHVyZSFcIiksdGhpcy5fdmFsaWRhdGVUZXh0dXJlRGltZW5zaW9ucyhlLHRoaXMuX2Rlc2MpLHRoaXMuX2Rlc2MuZGVwdGhTdGVuY2lsVGFyZ2V0JiY0IT09dGhpcy5fZGVzYy5kZXB0aFN0ZW5jaWxUYXJnZXQmJih0aGlzLl9kZXNjLmRlcHRoU3RlbmNpbFRhcmdldD00KSx0aGlzLl9kaXNwb3NlRGVwdGhTdGVuY2lsQXR0YWNobWVudHMoKSx0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyk7Y29uc3QgZT10aGlzLl9jb250ZXh0LmdsO2UuZnJhbWVidWZmZXJUZXh0dXJlMkQoZS5GUkFNRUJVRkZFUixlLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCxlLlRFWFRVUkVfMkQsdC5nbE5hbWUsMCk7fXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9dDt9ZGV0YWNoRGVwdGhTdGVuY2lsVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZTtpZih0JiZ0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyk7Y29uc3QgdD10aGlzLl9jb250ZXh0LmdsO3RoaXMuX2NvbnRleHQuZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCx0LlRFWFRVUkVfMkQsbnVsbCwwKTt9cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0fWF0dGFjaERlcHRoU3RlbmNpbEJ1ZmZlcih0KXtpZighdClyZXR1cm47Y29uc3QgZT10LmRlc2NyaXB0b3I7aWYoMzQwNDEhPT1lLmludGVybmFsRm9ybWF0JiYzMzE4OSE9PWUuaW50ZXJuYWxGb3JtYXQmJmNvbnNvbGUuZXJyb3IoXCJEZXB0aC9TdGVuY2lsIGJ1ZmZlciBtdXN0IGhhdmUgY29ycmVjdCBpbnRlcm5hbEZvcm1hdFwiKSxyLl92YWxpZGF0ZUJ1ZmZlckRpbWVuc2lvbnMoZSx0aGlzLl9kZXNjKSx0aGlzLl9kaXNwb3NlRGVwdGhTdGVuY2lsQXR0YWNobWVudHMoKSx0aGlzLl9kZXNjLmRlcHRoU3RlbmNpbFRhcmdldD0zNDA0MT09PWUuaW50ZXJuYWxGb3JtYXQ/MzoxLHRoaXMuX2luaXRpYWxpemVkKXt0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKTtjb25zdCBlPXRoaXMuX2NvbnRleHQuZ2wsaT0xPT09dGhpcy5fZGVzYy5kZXB0aFN0ZW5jaWxUYXJnZXQ/ZS5ERVBUSF9BVFRBQ0hNRU5UOmUuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UO2UuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZS5GUkFNRUJVRkZFUixpLGUuUkVOREVSQlVGRkVSLHQuZ2xOYW1lKTt9dGhpcy5fZGVwdGhBdHRhY2htZW50PXQ7fWRldGFjaERlcHRoU3RlbmNpbEJ1ZmZlcigpe2NvbnN0IHQ9dGhpcy5fY29udGV4dC5nbCxlPXRoaXMuX2RlcHRoQXR0YWNobWVudDtpZihlJiZ0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyk7Y29uc3QgZT0xPT09dGhpcy5fZGVzYy5kZXB0aFN0ZW5jaWxUYXJnZXQ/dC5ERVBUSF9BVFRBQ0hNRU5UOnQuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUixlLHQuUkVOREVSQlVGRkVSLG51bGwpO31yZXR1cm4gdGhpcy5fZGVwdGhBdHRhY2htZW50PW51bGwsZX1jb3B5VG9UZXh0dXJlKHQsZSxpLHMscixoLG4peyh0PDB8fGU8MHx8cjwwfHxoPDApJiZjb25zb2xlLmVycm9yKFwiT2Zmc2V0cyBjYW5ub3QgYmUgbmVnYXRpdmUhXCIpLChpPD0wfHxzPD0wKSYmY29uc29sZS5lcnJvcihcIkNvcHkgd2lkdGggYW5kIGhlaWdodCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIVwiKTtjb25zdCBvPXRoaXMuX2Rlc2MsYz1uLmRlc2NyaXB0b3I7MzU1MyE9PW4uZGVzY3JpcHRvci50YXJnZXQmJmNvbnNvbGUuZXJyb3IoXCJUZXh0dXJlIHRhcmdldCBtdXN0IGJlIFRFWFRVUkVfMkQhXCIpLCh0K2k+by53aWR0aHx8ZStzPm8uaGVpZ2h0fHxyK2k+Yy53aWR0aHx8aCtzPmMuaGVpZ2h0KSYmY29uc29sZS5lcnJvcihcIkJhZCBkaW1lbnNpb25zLCB0aGUgY3VycmVudCBpbnB1dCB2YWx1ZXMgd2lsbCBhdHRlbXB0IHRvIHJlYWQgb3IgY29weSBvdXQgb2YgYm91bmRzIVwiKTtjb25zdCBhPXRoaXMuX2NvbnRleHQ7YS5iaW5kVGV4dHVyZShuLDApLGEuYmluZEZyYW1lYnVmZmVyKHRoaXMpLGEuZ2wuY29weVRleFN1YkltYWdlMkQoMzU1MywwLHIsaCx0LGUsaSxzKTt9cmVhZFBpeGVscyh0LGUsaSxzLHIsaCxuKXsoaTw9MHx8czw9MCkmJmNvbnNvbGUuZXJyb3IoXCJDb3B5IHdpZHRoIGFuZCBoZWlnaHQgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyFcIiksbnx8Y29uc29sZS5lcnJvcihcIlRhcmdldCBtZW1vcnkgaXMgbm90IGluaXRpYWxpemVkIVwiKSx0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKTt0aGlzLl9jb250ZXh0LmdsLnJlYWRQaXhlbHModCxlLGkscyxyLGgsbik7fXJlc2l6ZSh0LGUpe2NvbnN0IGk9dGhpcy5fZGVzYztpZihpLndpZHRoIT09dHx8aS5oZWlnaHQhPT1lKXtpZighdGhpcy5faW5pdGlhbGl6ZWQpcmV0dXJuIGkud2lkdGg9dCxpLmhlaWdodD1lLHRoaXMuX2NvbG9yQXR0YWNobWVudHMuZm9yRWFjaCgoaT0+e2kmJmkucmVzaXplKHQsZSk7fSkpLHZvaWQodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5yZXNpemUodCxlKSk7aS53aWR0aD10LGkuaGVpZ2h0PWUsdGhpcy5fY29sb3JBdHRhY2htZW50cy5mb3JFYWNoKChpPT57aSYmaS5yZXNpemUodCxlKTt9KSksbnVsbCE9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT90aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLnJlc2l6ZSh0LGUpOih0aGlzLl9kZXB0aEF0dGFjaG1lbnR8fHRoaXMuX3N0ZW5jaWxBdHRhY2htZW50KSYmKHRoaXMuX2RlcHRoQXR0YWNobWVudCYmdGhpcy5fZGVwdGhBdHRhY2htZW50LnJlc2l6ZSh0LGUpLHRoaXMuX3N0ZW5jaWxBdHRhY2htZW50JiZ0aGlzLl9zdGVuY2lsQXR0YWNobWVudC5yZXNpemUodCxlKSksdGhpcy5fY29udGV4dC5nZXRCb3VuZEZyYW1lYnVmZmVyT2JqZWN0KCk9PT10aGlzJiZ0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcihudWxsKSx0aGlzLl9pbml0aWFsaXplZD0hMTt9fWluaXRpYWxpemVBbmRCaW5kKCl7dmFyIHQkMSxzLHIsbjtjb25zdCBvJDE9dGhpcy5fY29udGV4dC5nbDtpZih0aGlzLl9pbml0aWFsaXplZClyZXR1cm4gdm9pZCBvJDEuYmluZEZyYW1lYnVmZmVyKG8kMS5GUkFNRUJVRkZFUix0aGlzLmdsTmFtZSk7dGhpcy5fZ2xOYW1lJiZvJDEuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZ2xOYW1lKTtjb25zdCBjPXRoaXMuX2NvbnRleHQsYT1vJDEuY3JlYXRlRnJhbWVidWZmZXIoKSxsPXRoaXMuX2Rlc2MsXz1udWxsIT0odCQxPWwuY29sb3JUYXJnZXQpP3QkMToxLGQ9bnVsbCE9KHM9bC53aWR0aCk/czoxLGY9bnVsbCE9KHI9bC5oZWlnaHQpP3I6MTtpZihvJDEuYmluZEZyYW1lYnVmZmVyKG8kMS5GUkFNRUJVRkZFUixhKSwwPT09dGhpcy5fY29sb3JBdHRhY2htZW50cy5zaXplKWlmKDA9PT1fKXRoaXMuX2NvbG9yQXR0YWNobWVudHMuc2V0KDM2MDY0LGgoYyxsKSk7ZWxzZSB7Y29uc3QgdCQxPW5ldyB0KGMse2ludGVybmFsRm9ybWF0OjMyODU0LHdpZHRoOmQsaGVpZ2h0OmZ9KTt0aGlzLl9jb2xvckF0dGFjaG1lbnRzLnNldCgzNjA2NCx0JDEpO310aGlzLl9jb2xvckF0dGFjaG1lbnRzLmZvckVhY2goKCh0LGkpPT57dCYmKHQgaW5zdGFuY2VvZiBvP28kMS5mcmFtZWJ1ZmZlclRleHR1cmUyRChvJDEuRlJBTUVCVUZGRVIsaSxvJDEuVEVYVFVSRV8yRCx0LmdsTmFtZSwwKTpvJDEuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIobyQxLkZSQU1FQlVGRkVSLG8kMS5DT0xPUl9BVFRBQ0hNRU5UMCxvJDEuUkVOREVSQlVGRkVSLHQuZ2xOYW1lKSk7fSkpO2NvbnN0IHU9bnVsbCE9KG49bC5kZXB0aFN0ZW5jaWxUYXJnZXQpP246MDtzd2l0Y2godSl7Y2FzZSAxOmNhc2UgMzp7dGhpcy5fZGVwdGhBdHRhY2htZW50fHwodGhpcy5fZGVwdGhBdHRhY2htZW50PW5ldyB0KGMse2ludGVybmFsRm9ybWF0OjE9PT1sLmRlcHRoU3RlbmNpbFRhcmdldD8zMzE4OTozNDA0MSx3aWR0aDpkLGhlaWdodDpmfSkpO2NvbnN0IHQkMT0xPT09dT9vJDEuREVQVEhfQVRUQUNITUVOVDpvJDEuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UO28kMS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihvJDEuRlJBTUVCVUZGRVIsdCQxLG8kMS5SRU5ERVJCVUZGRVIsdGhpcy5fZGVwdGhBdHRhY2htZW50LmdsTmFtZSk7YnJlYWt9Y2FzZSAyOnRoaXMuX3N0ZW5jaWxBdHRhY2htZW50fHwodGhpcy5fc3RlbmNpbEF0dGFjaG1lbnQ9bmV3IHQoYyx7aW50ZXJuYWxGb3JtYXQ6MzYxNjgsd2lkdGg6ZCxoZWlnaHQ6Zn0pKSxvJDEuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIobyQxLkZSQU1FQlVGRkVSLG8kMS5TVEVOQ0lMX0FUVEFDSE1FTlQsbyQxLlJFTkRFUkJVRkZFUix0aGlzLl9zdGVuY2lsQXR0YWNobWVudC5nbE5hbWUpO2JyZWFrO2Nhc2UgNDppZighdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSl7Yy5jYXBhYmlsaXRpZXMuZGVwdGhUZXh0dXJlfHxjb25zb2xlLmVycm9yKFwiRXh0ZW5zaW9uIFdFQkdMX2RlcHRoX3RleHR1cmUgaXNuJ3Qgc3VwcG9ydGVkIHRoZXJlZm9yZSBpdCBpcyBubyBwb3NzaWJsZSB0byBzZXQgdGhlIGRlcHRoL3N0ZW5jaWwgdGV4dHVyZSBhcyBhbiBhdHRhY2htZW50IVwiKTtjb25zdCB0PXt0YXJnZXQ6MzU1MyxwaXhlbEZvcm1hdDozNDA0MSxkYXRhVHlwZTozNDA0MixzYW1wbGluZ01vZGU6OTcyOCx3cmFwTW9kZTozMzA3MSx3aWR0aDpkLGhlaWdodDpmfTt0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW5ldyBvKGMsdCk7fW8kMS5mcmFtZWJ1ZmZlclRleHR1cmUyRChvJDEuRlJBTUVCVUZGRVIsbyQxLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCxvJDEuVEVYVFVSRV8yRCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmdsTmFtZSwwKTt9dGhpcy5fZ2xOYW1lPWEsdGhpcy5faW5pdGlhbGl6ZWQ9ITA7fV9kaXNwb3NlQ29sb3JBdHRhY2htZW50cygpe3RoaXMuX2NvbG9yQXR0YWNobWVudHMuZm9yRWFjaCgoKHQsaSk9PntpZih0IGluc3RhbmNlb2Ygbyl7aWYodGhpcy5faW5pdGlhbGl6ZWQpe3RoaXMuX2NvbnRleHQuYmluZEZyYW1lYnVmZmVyKHRoaXMpO2NvbnN0IHQ9dGhpcy5fY29udGV4dC5nbDt0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsaSx0LlRFWFRVUkVfMkQsbnVsbCwwKTt9dC5kaXNwb3NlKCk7fWVsc2UgaWYodCBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyYnVmZmVyKXtjb25zdCBlPXRoaXMuX2NvbnRleHQuZ2w7dGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlcih0aGlzKSxlLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGUuRlJBTUVCVUZGRVIsaSxlLlJFTkRFUkJVRkZFUixudWxsKSksdGhpcy5fY29udGV4dC5nbC5kZWxldGVSZW5kZXJidWZmZXIodCk7fX0pKSx0aGlzLl9jb2xvckF0dGFjaG1lbnRzLmNsZWFyKCk7fV9kaXNwb3NlRGVwdGhTdGVuY2lsQXR0YWNobWVudHMoKXtjb25zdCB0PXRoaXMuX2NvbnRleHQuZ2w7aWYodGhpcy5fZGVwdGhBdHRhY2htZW50KXtpZih0aGlzLl9pbml0aWFsaXplZCl7dGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyk7Y29uc3QgZT0xPT09dGhpcy5fZGVzYy5kZXB0aFN0ZW5jaWxUYXJnZXQ/dC5ERVBUSF9BVFRBQ0hNRU5UOnQuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUixlLHQuUkVOREVSQlVGRkVSLG51bGwpO310aGlzLl9kZXB0aEF0dGFjaG1lbnQuZGlzcG9zZSgpLHRoaXMuX2RlcHRoQXR0YWNobWVudD1udWxsO310aGlzLl9zdGVuY2lsQXR0YWNobWVudCYmKHRoaXMuX2luaXRpYWxpemVkJiYodGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyksdC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHQuU1RFTkNJTF9BVFRBQ0hNRU5ULHQuUkVOREVSQlVGRkVSLG51bGwpKSx0aGlzLl9zdGVuY2lsQXR0YWNobWVudC5kaXNwb3NlKCksdGhpcy5fc3RlbmNpbEF0dGFjaG1lbnQ9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKHRoaXMuX2luaXRpYWxpemVkJiYodGhpcy5fY29udGV4dC5iaW5kRnJhbWVidWZmZXIodGhpcyksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULHQuVEVYVFVSRV8yRCxudWxsLDApKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGwpO31zdGF0aWMgX3ZhbGlkYXRlQnVmZmVyRGltZW5zaW9ucyh0LGUpe2NvbnNvbGUuYXNzZXJ0KHQud2lkdGg+PTAmJnQuaGVpZ2h0Pj0wKSx2b2lkIDAhPT1lLndpZHRoJiZlLndpZHRoPj0wJiZ2b2lkIDAhPT1lLmhlaWdodCYmZS5oZWlnaHQ+PTA/ZS53aWR0aD09PXQud2lkdGgmJmUuaGVpZ2h0PT09dC5oZWlnaHR8fGNvbnNvbGUuZXJyb3IoXCJSZW5kZXJidWZmZXIgZGltZW5zaW9ucyBtdXN0IG1hdGNoIHRoZSBmcmFtZWJ1ZmZlcidzIVwiKTooZS53aWR0aD10LndpZHRoLGUuaGVpZ2h0PXQuaGVpZ2h0KTt9X3ZhbGlkYXRlVGV4dHVyZURpbWVuc2lvbnModCxlKXtjb25zb2xlLmFzc2VydCh0LndpZHRoPj0wJiZ0LmhlaWdodD49MCksMzU1MyE9PXQudGFyZ2V0JiZjb25zb2xlLmVycm9yKFwiVGV4dHVyZSB0eXBlIG11c3QgYmUgVEVYVFVSRV8yRCFcIiksdm9pZCAwIT09ZS53aWR0aCYmZS53aWR0aD49MCYmdm9pZCAwIT09ZS5oZWlnaHQmJmUuaGVpZ2h0Pj0wP2Uud2lkdGg9PT10LndpZHRoJiZlLmhlaWdodD09PXQuaGVpZ2h0fHxjb25zb2xlLmVycm9yKFwiQ29sb3IgYXR0YWNobWVudCB0ZXh0dXJlIG11c3QgbWF0Y2ggdGhlIGZyYW1lYnVmZmVyJ3MhXCIpOihlLndpZHRoPXQud2lkdGgsZS5oZWlnaHQ9dC5oZWlnaHQpO31fdmFsaWRhdGVDb2xvckF0dGFjaG1lbnRQb2ludCh0KXtpZigtMT09PXIuX01BWF9DT0xPUl9BVFRBQ0hNRU5UUyl7Y29uc3QgdD10aGlzLl9jb250ZXh0LmNhcGFiaWxpdGllcy5kcmF3QnVmZmVycztpZih0KXtjb25zdCBlPXRoaXMuX2NvbnRleHQuZ2w7ci5fTUFYX0NPTE9SX0FUVEFDSE1FTlRTPWUuZ2V0UGFyYW1ldGVyKHQuTUFYX0NPTE9SX0FUVEFDSE1FTlRTKTt9ZWxzZSByLl9NQVhfQ09MT1JfQVRUQUNITUVOVFM9MTt9Y29uc3QgZT10LTM2MDY0O2UrMT5yLl9NQVhfQ09MT1JfQVRUQUNITUVOVFMmJnMuZXJyb3IoXCJlc3JpLkZyYW1lQnVmZmVyT2JqZWN0XCIsYGlsbGVnYWwgYXR0YWNobWVudCBwb2ludCBmb3IgY29sb3IgYXR0YWNobWVudDogJHtlKzF9LiBJbXBsZW1lbnRhdGlvbiBzdXBwb3J0cyB1cCB0byAke3IuX01BWF9DT0xPUl9BVFRBQ0hNRU5UU30gY29sb3IgYXR0YWNobWVudHNgKTt9fXIuX01BWF9DT0xPUl9BVFRBQ0hNRU5UUz0tMTtjb25zdCBoPSh0LGkpPT5uZXcgbyh0LHt0YXJnZXQ6MzU1MyxwaXhlbEZvcm1hdDo2NDA4LGRhdGFUeXBlOjUxMjEsc2FtcGxpbmdNb2RlOjk3Mjgsd3JhcE1vZGU6MzMwNzEsd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9KTtcblxuZXhwb3J0IHsgciBhcyBhLCBvIGFzIGIsIG4sIG8kMSBhcyBvLCByJDIgYXMgciwgdCQxIGFzIHQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RnJhbWVidWZmZXJPYmplY3QtY2U1NjkyMWIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9