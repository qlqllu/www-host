"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-d61130"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureServiceSnappingSourceWorker-010cb096.js":
/*!**************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureServiceSnappingSourceWorker-010cb096.js ***!
  \**************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FeatureServiceSnappingSourceWorker: () => (/* binding */ w),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _TimeInfo_cae3ca70_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TimeInfo-cae3ca70.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeInfo-cae3ca70.js");
/* harmony import */ var _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Query-39c34b93.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/Query-39c34b93.js");
/* harmony import */ var _HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./HandleOwner-cd6ca1f5.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HandleOwner-cd6ca1f5.js");
/* harmony import */ var _TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TileInfo-639e5038.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js");
/* harmony import */ var _FeatureStore_198bf28a_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FeatureStore-198bf28a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FeatureStore-198bf28a.js");
/* harmony import */ var _QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./QueryEngine-5d92bf09.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/QueryEngine-5d92bf09.js");
/* harmony import */ var _aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./aaBoundingRect-61971fe3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingRect-61971fe3.js");
/* harmony import */ var _featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./featureConversionUtils-87d39ccb.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/featureConversionUtils-87d39ccb.js");
/* harmony import */ var _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pbfQueryUtils-8a9fc87d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbfQueryUtils-8a9fc87d.js");
/* harmony import */ var _query_3d91522a_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./query-3d91522a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js");
/* harmony import */ var _asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./asyncUtils-af782857.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/asyncUtils-af782857.js");
/* harmony import */ var _index_4a62c63d_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index-4a62c63d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/index-4a62c63d.js");
/* harmony import */ var _TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./TimeExtent-7f857a39.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeExtent-7f857a39.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");
/* harmony import */ var _aaBoundingBox_376a2b6e_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./aaBoundingBox-376a2b6e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingBox-376a2b6e.js");
/* harmony import */ var _PooledRBush_b06edc81_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PooledRBush-b06edc81.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/PooledRBush-b06edc81.js");
/* harmony import */ var _quickselect_1279128f_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./quickselect-1279128f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/quickselect-1279128f.js");
/* harmony import */ var _commonjsHelpers_9577ff78_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./_commonjsHelpers-9577ff78.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/_commonjsHelpers-9577ff78.js");
/* harmony import */ var _OptimizedGeometry_8812e4f6_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./OptimizedGeometry-8812e4f6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/OptimizedGeometry-8812e4f6.js");
/* harmony import */ var _centroid_f5130435_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./centroid-f5130435.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/centroid-f5130435.js");
/* harmony import */ var _workers_e0859213_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./workers-e0859213.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/workers-e0859213.js");
/* harmony import */ var _normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./normalizeUtils-69f83c05.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js");
/* harmony import */ var _MemCache_54630689_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./MemCache-54630689.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/MemCache-54630689.js");
/* harmony import */ var _FieldsIndex_da237492_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./FieldsIndex-da237492.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/FieldsIndex-da237492.js");
/* harmony import */ var _QueryEngineCapabilities_877e953f_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./QueryEngineCapabilities-877e953f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/QueryEngineCapabilities-877e953f.js");
/* harmony import */ var _projection_39da86d7_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./projection-39da86d7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/projection-39da86d7.js");
/* harmony import */ var _vec3f64_22c0b6cc_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./vec3f64-22c0b6cc.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/vec3f64-22c0b6cc.js");
/* harmony import */ var _vec3_a7a72382_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./vec3-a7a72382.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/vec3-a7a72382.js");
/* harmony import */ var _mat4_dbd368d4_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./mat4-dbd368d4.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/mat4-dbd368d4.js");
/* harmony import */ var _json_e6aa8c99_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./json-e6aa8c99.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/json-e6aa8c99.js");
/* harmony import */ var _ItemCache_fcdda33e_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./ItemCache-fcdda33e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/ItemCache-fcdda33e.js");
/* harmony import */ var _WhereClause_63375e5b_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./WhereClause-63375e5b.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/WhereClause-63375e5b.js");
/* harmony import */ var _pbf_777d666d_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./pbf-777d666d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbf-777d666d.js");
/* harmony import */ var _queryZScale_8fd5a160_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./queryZScale-8fd5a160.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js");
/* harmony import */ var _zscale_37987104_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./zscale-37987104.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js");






































/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function n(n){return 32+n.length}function t$1(){return 16}function e(e){if(!e)return 0;let r=32;for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];switch(typeof c){case"string":r+=n(c);break;case"number":r+=t$1();break;case"boolean":r+=4;}}return r}function r$1(n,t){return 32+n.length*t}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let r=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1{constructor(){super(...arguments),this.updating=!1,this.pending=[];}push(s,t){this.pending.push({promise:s,callback:t}),1===this.pending.length&&this.process();}process(){if(!this.pending.length)return void(this.updating=!1);this.updating=!0;const s=this.pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this.pending.shift(),this.process();}));}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],r.prototype,"updating",void 0),r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.AsyncSequence")],r);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class u{constructor(t,e){this.data=t,this.resolution=e,this.state={type:0},this.alive=!0;}process(t){switch(this.state.type){case 0:return this.state=this.gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case 1:break;case 2:return this.state=this.gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case 3:break;case 4:this.state=this.goToDone(this.state,t);}return null}get debugInfo(){return {data:this.data,featureCount:this.featureCount,state:this.stateToString}}get featureCount(){switch(this.state.type){case 0:case 1:return 0;case 2:return this.state.featureCount;case 3:return this.state.previous.featureCount;case 4:return this.state.features.length;case 5:return this.state.previous.features.length}}get stateToString(){switch(this.state.type){case 0:return "created";case 1:return "fetch-count";case 2:return "fetched-count";case 3:return "fetch-features";case 4:return "fetched-features";case 5:return "done"}}gotoFetchCount(t,a){return {type:1,previous:t,task:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d7)((async t=>{const e=await (0,_asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_12__.u)(a.fetchCount(this,t));1===this.state.type&&(this.state=this.gotoFetchedCount(this.state,e.ok?e.value:1/0));}))}}gotoFetchedCount(t,e){return {type:2,featureCount:e,previous:t}}gotoFetchFeatures(t,a){return {type:3,previous:t,task:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d7)((async e=>{const r=await (0,_asyncUtils_af782857_js__WEBPACK_IMPORTED_MODULE_12__.u)(a.fetchFeatures(this,t.featureCount,e));3===this.state.type&&(this.state=this.gotoFetchedFeatures(this.state,r.ok?r.value:[]));}))}}gotoFetchedFeatures(t,e){return {type:4,previous:t,features:e}}goToDone(t,e){return e.finish(this,t.features),{type:5,previous:t}}reset(){const t=this.state;switch(this.state={type:0},t.type){case 0:case 2:case 4:case 5:break;case 1:case 3:t.task.abort();}}intersects(e){return !(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)&&this.data.extent)||((0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.a)(e,i),(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.F)(this.data.extent,i))}}const i=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.i)();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const O=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher");let x=class extends _HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_4__.d{constructor(e){super(e),this.tilesOfInterest=[],this.availability=0,this.pendingTiles=new Map,this.pendingEdits=new r,this.pendingEditsAbortController=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.az)();}get minimumVerticesPerFeature(){var e;switch(null==(e=this.store)?void 0:e.featureStore.geometryType){case"esriGeometryPoint":case"esriGeometryMultipoint":return 1;case"esriGeometryPolygon":return 4;case"esriGeometryPolyline":return 2}}set filter(e){const t=this._get("filter"),i=this.filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set("filter",i);}set customParameters(e){const t=this._get("customParameters");JSON.stringify(t)!==JSON.stringify(e)&&this._set("customParameters",e);}get configuration(){return {filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const i=this._get("tileInfo");i!==e&&((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&JSON.stringify(e)===JSON.stringify(i)||(this._set("tileInfo",e),this.store.tileInfo=e));}set tileSize(e){this._get("tileSize")!==e&&this._set("tileSize",e);}get updating(){return this.updatingHandles.updating||this.pendingEdits.updating}initialize(){this.initializeFetchExtent(),this.updatingHandles.add(this,"configuration",(()=>this.refresh())),this.updatingHandles.add(this,"tilesOfInterest",((e,t)=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d8)(e,t,(({id:e},{id:t})=>e===t))||this.process();}),1);}destroy(){this.pendingTiles.forEach((e=>this.deletePendingTile(e))),this.pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this.pendingEditsAbortController.abort(),this.pendingEditsAbortController=null;}refresh(){this.store.refresh(),this.pendingTiles.forEach((e=>this.deletePendingTile(e))),this.process();}applyEdits(e){this.pendingEdits.push(e,(async e=>{if(0!==e.addedFeatures.length||0!==e.updatedFeatures.length||0!==e.deletedFeatures.length){for(const[,e]of this.pendingTiles)e.reset();await this.updatingHandles.addPromise(this.store.processEdits(e,((e,t)=>this.queryFeaturesById(e,t)),this.pendingEditsAbortController.signal)),this.processPendingTiles();}}));}initializeFetchExtent(){if(!this.capabilities.query.supportsExtent)return;const e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d7)((async e=>{try{var t;const i=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_11__.S)(this.url,new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_3__.R({where:"1=1",outSpatialReference:this.spatialReference,cacheHint:!!this.capabilities.query.supportsCacheHint||void 0}),{query:this.configuration.customParameters,signal:e});this.store.extent=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.M.fromJSON(null==(t=i.data)?void 0:t.extent);}catch(i){(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.am)(i),O.error("Failed to fetch data extent",i);}}));this.updatingHandles.addPromise(e.promise.then((()=>this.process()))),this.handles.add((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ax)((()=>e.abort()))),this.fetchExtentTask=e;}get debugInfo(){return {numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this.pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}process(){!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.fetchExtentTask)||this.fetchExtentTask.finished?(this.markTilesNotAlive(),this.createPendingTiles(),this.deletePendingTiles(),this.processPendingTiles()):this.setAvailability(0);}markTilesNotAlive(){for(const[,e]of this.pendingTiles)e.alive=!1;}createPendingTiles(){const e=this.collectMissingTilesInfo();if(this.setAvailability((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)?1:e.coveredArea/e.fullArea),!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))for(const{data:t,resolution:i}of e.missingTiles){const e=this.pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this.createPendingTile(t,i);}}collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const s=this.tilesOfInterest[t],r=this.store.process(s,((e,t)=>this.verifyTileComplexity(e,t)));(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)?e=r:e.prepend(r);}return e}deletePendingTiles(){for(const[,e]of this.pendingTiles)e.alive||this.deletePendingTile(e);}processPendingTiles(){const e={fetchCount:(e,t)=>this.fetchCount(e,t),fetchFeatures:(e,t,i)=>this.fetchFeatures(e,t,i),finish:(e,t)=>this.finishPendingTile(e,t),resume:()=>this.processPendingTiles()};if(this.ensureFetchAllCounts(e))for(const[,t]of this.pendingTiles)this.verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this.updatingHandles.addPromise(t.process(e));}verifyTileComplexity(e,t){return this.verifyVertexComplexity(e)&&this.verifyFeatureDensity(e,t)}verifyVertexComplexity(e){return e*this.minimumVerticesPerFeature<j$2}verifyFeatureDensity(e,t){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(this.tileInfo))return !1;const s=this.tileSize*t;return e*(q/(s*s))<E}ensureFetchAllCounts(e){let t=!0;for(const[,i]of this.pendingTiles)i.state.type<2&&this.updatingHandles.addPromise(i.process(e)),i.state.type<=1&&(t=!1);return t}finishPendingTile(e,t){this.store.add(e.data,t),this.deletePendingTile(e),this.updateAvailability();}updateAvailability(){const e=this.collectMissingTilesInfo();this.setAvailability((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)?1:e.coveredArea/e.fullArea);}setAvailability(e){this._set("availability",e);}createPendingTile(e,t){const i=new u(e,t);return this.pendingTiles.set(e.id,i),i}deletePendingTile(e){e.reset(),this.pendingTiles.delete(e.data.id);}async fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this.createCountQuery(e),{query:this.customParameters,timeout:I,signal:t})}async fetchFeatures(e,t,i){let r,n=0,o=0,a=t;for(;;){const l=this.createFeaturesQuery(e),u=this.setPagingParameters(l,n,a),{features:c,exceededTransferLimit:h}=await this.queryFeatures(l,i);if(u&&(n+=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.I)(l.num)),o+=c.length,r=r?r.concat(c):c,a=t-o,!u||!h||a<=0)return r}}filterProperties(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e)?{where:"1=1",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||"1=1",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}queryFeaturesById(e,t){const i=this.createFeaturesQuery(null);return i.objectIds=e,this.queryFeatures(i,t)}queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this.queryFeaturesPBF(e,t):this.queryFeaturesJSON(e,t)}async queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_11__.c)(this.url,e,new _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_10__.n({sourceSpatialReference:i}),{query:this.configuration.customParameters,timeout:I,signal:t});return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_9__.r)(s)}async queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_11__.y)(this.url,e,i,{query:this.configuration.customParameters,timeout:I,signal:t});return (0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_9__.o)(s,this.objectIdField)}createCountQuery(e){const t=this.createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}createFeaturesQuery(e){const i=this.createBaseQuery(e);return i.outFields=[this.objectIdField],i.returnGeometry=!0,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)&&(this.capabilities.query.supportsResultType?i.resultType="tile":this.capabilities.query.supportsCacheHint&&(i.cacheHint=!0)),i}createBaseQuery(e){const i=new _Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_3__.R({returnZ:!1,returnM:!1,geometry:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.tileInfo)&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e)?(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.o)(e.data.extent,this.tileInfo.spatialReference):void 0}),s=this.configuration.filter;return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(s)&&(i.where=s.where,i.gdbVersion=s.gdbVersion,i.timeExtent=s.timeExtent),i.outSpatialReference=this.spatialReference,i}setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return !1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:n,maxRecordCount:o,supportsResultType:a}=this.capabilities.query,l=s?_Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_3__.R.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&n?n:o||C$1);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],x.prototype,"url",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],x.prototype,"objectIdField",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],x.prototype,"capabilities",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],x.prototype,"sourceSpatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],x.prototype,"spatialReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],x.prototype,"store",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],x.prototype,"minimumVerticesPerFeature",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"filter",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"customParameters",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],x.prototype,"configuration",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"tileInfo",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"tileSize",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],x.prototype,"tilesOfInterest",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],x.prototype,"updating",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],x.prototype,"availability",void 0),x=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher")],x);const C$1=2e3,I=6e5,j$2=1e6,q=25,E=1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
class t{constructor(){this._store=new Map,this._byteSize=0;}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize;}delete(t){const e=this._store.get(t);return !!this._store.delete(t)&&(this._byteSize-=e.byteSize,!0)}get(t){return this.used(t),this._store.get(t)}has(t){return this.used(t),this._store.has(t)}clear(){this._store.clear();}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r);}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let g=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10485760,this.tileBounds=new _FeatureStore_198bf28a_js__WEBPACK_IMPORTED_MODULE_6__.e,this.tiles=new t,this.refCounts=new Map,this.tileFeatureCounts=new Map,this.tmpBoundingRect=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.i)();}add(e,t){const s=[];for(const i of t)0===this.referenceFeature(i.objectId)&&s.push(i);this.addTileStorage(e,new Set(t.map((({objectId:e})=>e))),this.byteSizeOfFeatures(t)),this.featureStore.addMany(s),this.tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this.removeTileStorage(e)));}destroy(){this.clear(),this.tileFeatureCounts.clear();}clear(){this.featureStore.clear(),this.tileBounds.clear(),this.tiles.clear(),this.refCounts.clear();}refresh(){this.clear(),this.tileFeatureCounts.clear();}processEdits(e,t,s){return this.processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this.processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}addTileStorage(e,t,s){this.tiles.set(e.id,new y(e,t,s)),this.tileBounds.set(e.id,e.extent),this.tileFeatureCounts.set(e.id,t.size);}remove({id:e}){const t=this.tiles.get(e);t&&this.removeTileStorage(t);}removeTileStorage(e){const t=[];for(const i of e.objectIds)1===this.unreferenceFeature(i)&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this.tiles.delete(s),this.tileBounds.delete(s);}processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this.tiles){for(const s of e)t.objectIds.delete(s);this.tileFeatureCounts.set(t.data.id,t.objectIds.size);}for(const t of e)this.refCounts.delete(t);}async processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=(0,_featureConversionUtils_87d39ccb_js__WEBPACK_IMPORTED_MODULE_9__.f)(this.tmpBoundingRect,n.geometry,r,o);this.tileBounds.forEachInBounds(e,(e=>{const t=this.tiles.get(e);this.featureStore.add(n),t.objectIds.has(n.objectId)||(t.objectIds.add(n.objectId),this.referenceFeature(n.objectId),this.tileFeatureCounts.set(t.data.id,t.objectIds.size));}));}}process(e,i=(()=>!0)){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(this.tileInfo)||!e.extent||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.extent)&&!(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.F)((0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.a)(this.extent,this.tmpBoundingRect),e.extent))return new S(e);if(this.tiles.has(e.id))return new S(e);const r=this.createTileTree(e,this.tileInfo);return this.simplify(r,i,null,0,1),this.collectMissingTiles(e,r,this.tileInfo)}get debugInfo(){return Array.from(this.tiles.values()).map((({data:e})=>({data:e,featureCount:this.tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){const t=this.tileFeatureCounts.get(e.id);return null!=t?t:0}async fetchCount(e,t,s,i){const r=this.tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await (0,_query_3d91522a_js__WEBPACK_IMPORTED_MODULE_11__.p)(t,s,i);return this.tileFeatureCounts.set(e.id,o.data.count),o.data.count}createTileTree(e,t){const s=new v(e.level,e.row,e.col);return t.updateTileInfo(s,1),this.tileBounds.forEachInBounds(e.extent,(i=>{const r=this.tiles.get(i).data;this.tilesAreRelated(e,r)&&this.populateChildren(s,r,t,this.tileFeatureCounts.get(r.id)||0);})),s}tilesAreRelated(e,t){if(!e||!t)return !1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}populateChildren(e,t,i,r){const o=t.level-e.level-1;if(o<0)return void(e.isLeaf=!0);const n=t.row>>o,l=t.col>>o,c=e.row<<1,a=l-(e.col<<1)+(n-c<<1),h=e.children[a];if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(h))this.populateChildren(h,t,i,r);else {const s=new v(e.level+1,n,l);i.updateTileInfo(s,1),e.children[a]=s,this.populateChildren(s,t,i,r);}}simplify(e,t,i,r,o){const n=o*o;if(e.isLeaf)return t(this.getFeatureCount(e),o)?0:(this.remove(e),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&(i.children[r]=null),n);const l=o/2,c=l*l;let a=0;for(let h=0;h<e.children.length;h++){const i=e.children[h];a+=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)?this.simplify(i,t,e,h,l):c;}return 0===a?this.mergeChildren(e):1-a/n<j$1&&(this.purge(e),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&(i.children[r]=null),a=n),a}mergeChildren(e){const t=new Set;let s=0;this.forEachLeaf(e,(e=>{const i=this.tiles.get(e.id);if(i){s+=i.byteSize;for(const e of i.objectIds)t.has(e)||(t.add(e),this.referenceFeature(e));this.remove(e);}})),this.addTileStorage(e,t,s),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this.tileFeatureCounts.set(e.id,t.size);}forEachLeaf(e,s){for(const i of e.children)(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(i)||(i.isLeaf?s(i):this.forEachLeaf(i,s));}purge(e){if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))if(e.isLeaf)this.remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this.purge(s),e.children[t]=null;}}collectMissingTiles(e,t,s){const i=new C(s,e,this.extent);return this.collectMissingTilesRecurse(t,i,1),i.info}collectMissingTilesRecurse(e,s,i){if(e.isLeaf)return;if(!e.hasChildren)return void s.addMissing(e.level,e.row,e.col,i);const r=i/2;for(let o=0;o<e.children.length;o++){const i=e.children[o];(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(i)?s.addMissing(e.level+1,(e.row<<1)+((2&o)>>1),(e.col<<1)+(1&o),r):this.collectMissingTilesRecurse(i,s,r);}}referenceFeature(e){const t=(this.refCounts.get(e)||0)+1;return this.refCounts.set(e,t),1===t?0:2}unreferenceFeature(e){const t=(this.refCounts.get(e)||0)-1;return 0===t?(this.refCounts.delete(e),1):(t>0&&this.refCounts.set(e,t),2)}byteSizeOfFeatures(e){let t=0;for(const s of e)t+=this.byteSizeOfFeature(s);return t}byteSizeOfFeature(e$1){return 32+this.byteSizeOfGeometry(e$1.geometry)+e(e$1.attributes)}byteSizeOfGeometry(e){if(!e)return 0;const t=r$1(e.lengths,4);return 32+r$1(e.coords,8)+t}get test(){return {tiles:Array.from(this.tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this.refCounts.keys()).map((e=>`${e}:${this.refCounts.get(e)}`))}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({constructOnly:!0})],g.prototype,"featureStore",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],g.prototype,"tileInfo",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],g.prototype,"extent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],g.prototype,"maximumByteSize",void 0),g=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore")],g);class y{constructor(e,t,s){this.data=e,this.objectIds=t,this.byteSize=s;}}class v{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null];}get hasChildren(){return !this.isLeaf&&((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.children[0])||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.children[1])||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.children[2])||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.children[3]))}}class S{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.l)(e.extent),this.coveredArea=this.fullArea;}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea;}}class C{constructor(e,t,i){this.tileInfo=e,this.extent=null,this.info=new S(t),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&(this.extent=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.a)(i));}addMissing(e,t,i,r){const o={id:null,level:e,row:t,col:i};this.tileInfo.updateTileInfo(o,1),!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(o.extent)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(this.extent)&&!(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.F)(this.extent,o.extent)||(this.info.missingTiles.push({data:o,resolution:r}),this.info.coveredArea-=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_8__.l)(o.extent));}}const j$1=.18751;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let w=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aB.EventedAccessor{constructor(){super(...arguments),this.isInitializing=!0,this.whenSetup=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cR)(),this.handles=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b6,this.updatingHandles=new _HandleOwner_cd6ca1f5_js__WEBPACK_IMPORTED_MODULE_4__.l,this.pendingApplyEdits=new Map;}get updating(){return this.featureFetcher.updating||this.isInitializing||this.updatingHandles.updating}destroy(){this.featureFetcher.destroy(),this.queryEngine.destroy(),this.featureStore.clear(),this.handles.destroy();}async setup(e){const{geometryType:t,objectIdField:r,timeInfo:i,fields:s}=e.serviceInfo;return this.featureStore=new _FeatureStore_198bf28a_js__WEBPACK_IMPORTED_MODULE_6__.u({...e.serviceInfo,hasZ:!1,hasM:!1}),this.queryEngine=new _QueryEngine_5d92bf09_js__WEBPACK_IMPORTED_MODULE_7__.Z({spatialReference:e.spatialReference,featureStore:this.featureStore,geometryType:t,fields:s,hasZ:!1,hasM:!1,objectIdField:r,timeInfo:i?_TimeInfo_cae3ca70_js__WEBPACK_IMPORTED_MODULE_2__.c.fromJSON(i):null}),this.featureFetcher=new x({store:new g({featureStore:this.featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,capabilities:e.serviceInfo.capabilities,spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.fromJSON(e.spatialReference),sourceSpatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.fromJSON(e.serviceInfo.spatialReference)}),this.handles.add([this.featureFetcher.watch("availability",(e=>this.emit("notify-availability",{availability:e})),!0),this.watch("updating",(()=>this.notifyUpdating()))]),this.whenSetup.resolve(),this.isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this.updatingHandles.addPromise(this.whenSetup.promise),this.updateFeatureFetcherConfiguration(e),{result:{}}}async fetchCandidates(e,r){await this.whenSetup.promise,(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(r);return {result:await this.queryEngine.executeQueryForSnapping({point:e.point,distance:e.distance,types:e.types,query:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e.filter)?e.filter:{where:"1=1"}},(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r)?r.signal:null)}}async updateTiles(e,r){return await this.updatingHandles.addPromise(this.whenSetup.promise),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(r),this.featureFetcher.tileSize=e.tileSize,this.featureFetcher.tilesOfInterest=e.tiles,this.featureFetcher.tileInfo=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e.tileInfo)?_TileInfo_639e5038_js__WEBPACK_IMPORTED_MODULE_5__.x.fromJSON(e.tileInfo):null,{result:{}}}async refresh(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t),this.featureFetcher.refresh(),{result:{}}}async whenNotUpdating(e,t){return await this.updatingHandles.addPromise(this.whenSetup.promise),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t),await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ck)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d9)(this,"updating"),t),{result:{}}}async getDebugInfo(e,t){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t),{result:this.featureFetcher.debugInfo}}async beginApplyEdits(e,t){this.updatingHandles.addPromise(this.whenSetup.promise),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t);const r=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cR)();return this.pendingApplyEdits.set(e.id,r),this.featureFetcher.applyEdits(r.promise),this.updatingHandles.addPromise(r.promise),{result:{}}}async endApplyEdits(e,t){const r=this.pendingApplyEdits.get(e.id);return r&&r.resolve(e.edits),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ah)(t),{result:{}}}updateFeatureFetcherConfiguration(e){this.featureFetcher.filter=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e.filter)?_Query_39c34b93_js__WEBPACK_IMPORTED_MODULE_3__.R.fromJSON(e.filter):null,this.featureFetcher.customParameters=e.customParameters;}notifyUpdating(){this.emit("notify-updating",{updating:this.updating});}};function j(){return new w}(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],w.prototype,"updating",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)()],w.prototype,"isInitializing",void 0),w=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker")],w);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (j);


//# sourceMappingURL=FeatureServiceSnappingSourceWorker-010cb096.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HandleOwner-cd6ca1f5.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/HandleOwner-cd6ca1f5.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ a),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   l: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
let l=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b6,this.scheduleHandleId=0,this.pendingPromises=new Set;}destroy(){this.removeAll(),this.handles.destroy();}add(e,s,t,r=0){const d=0!=(1&r),i=++this.handleId;d||this.installSyncUpdatingWatch(e,s,i);const n=0!=(2&r)?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b7)(e,s,t,d):e.watch(s,t,d);return this.handles.add(n,i),{remove:()=>{this.handles.remove(i);}}}addOnCollectionPropertyChange(e,s,t,r=0){const d=0!=(2&r),i=++this.handleId;return this.handles.add([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d1)(e,s,"after-changes",this.createSyncUpdatingCallback()),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d1)(e,s,"change",t,d?e=>{t({added:e.items,removed:[],moved:[],target:e});}:void 0)],i),{remove:()=>{this.handles.remove(i);}}}addOnCollectionChange(e,s,t=0){const r=0!=(2&t),d=++this.handleId;return this.handles.add([e.on("after-changes",this.createSyncUpdatingCallback()),e.on("change",s)],d),r&&s({added:e.items,removed:[],moved:[],target:e}),{remove:()=>{this.handles.remove(d);}}}addPromise(e){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(e))return e;const t$1=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(0!==this.pendingPromises.size||this.handles.has(p)||this._set("updating",!1));}},t$1),this.pendingPromises.add(e),this._set("updating",!0);const r=()=>this.handles.remove(t$1);return e.then(r,r),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1);}installSyncUpdatingWatch(e,s,r$1){const d=this.createSyncUpdatingCallback(),i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d2)((()=>(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.d3)(e,s)),d);return this.handles.add(i,r$1),i}createSyncUpdatingCallback(){return ()=>{this.handles.remove(p),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.cS)((()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(p));})),p);}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],l.prototype,"updating",void 0),l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.views.support.WatchUpdatingTracking")],l);const p=-42;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const a=t=>{let a=class extends t{destroy(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy());}get handles(){return this._get("handles")||new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b6}get updatingHandles(){return this._get("updatingHandles")||new l}};return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],a.prototype,"handles",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],a.prototype,"updatingHandles",null),a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.HandleOwner")],a),a};let d=class extends(a(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a1)){};d=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.core.HandleOwner")],d);



//# sourceMappingURL=HandleOwner-cd6ca1f5.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js":
/*!************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TileInfo-639e5038.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ i),
/* harmony export */   x: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");
/* harmony import */ var _aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./aaBoundingRect-61971fe3.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/aaBoundingRect-61971fe3.js");





/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var l;let p=l=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(e){super(e),this.level=0,this.levelValue=null,this.resolution=0,this.scale=0;}clone(){return new l({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc,json:{write:!0}})],p.prototype,"level",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:!0}})],p.prototype,"levelValue",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],p.prototype,"resolution",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],p.prototype,"scale",void 0),p=l=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.LOD")],p);var i=p;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var v;const w=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aq({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let j=v=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null;}static create(e={size:256,spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator}){const t=e.resolutionFactor||1,o=e.scales,r=e.size||256,s$1=e.spatialReference||_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator;if(!(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bd)(s$1)){const e=[];if(o)for(let t=0;t<o.length;t++){const r=o[t];e.push({level:t,scale:r,resolution:r});}else {let t=5e-4;for(let o=23;o>=0;o--)e.unshift({level:o,scale:t,resolution:t}),t*=2;}return new v({dpi:96,lods:e,origin:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(0,0,s$1),size:[r,r],spatialReference:s$1})}const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(s$1),l=e.origin?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q({x:e.origin.x,y:e.origin.y,spatialReference:s$1}):new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q(i?{x:i.origin[0],y:i.origin[1],spatialReference:s$1}:{x:0,y:0,spatialReference:s$1}),n=96,u=1/((0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_2__.G)(s$1)*39.37*n),h=[];if(o)for(let p=0;p<o.length;p++){const e=o[p],t=e*u;h.push({level:p,scale:e,resolution:t});}else {let e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.be)(s$1)?512/r*591657527.5917094:256/r*591657527.591555;const o=Math.ceil(24/t);h.push({level:0,scale:e,resolution:e*u});for(let r=1;r<o;r++){const o=e/2**t,s=o*u;h.push({level:r,scale:o,resolution:s}),e=o;}}return new v({dpi:n,lods:h,origin:l,size:[r,r],spatialReference:s$1})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(e);return e.isWrappable&&Math.abs(o.origin[0]-t.x)<=o.dx}return !1}readOrigin(e,t){return _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const r=[];this._levelToLOD={},e&&(t=-1/0,o=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,this._levelToLOD[e.level]=e;}))),this._set("scales",r),this._set("minScale",t),this._set("maxScale",o),this._set("lods",e),this._initializeUpsampleLevels();}readSize(e,t){return [t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[0];}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];{const o=Math.round(e-.5),r=Math.round(e);return t[r]+(r-e)*(t[o]-t[r])}}scaleToZoom(e){const t=this.scales,o=t.length-1;let r=0;for(;r<o;r++){const o=t[r],s=t[r+1];if(o<=e)return r;if(s===e)return r+1;if(o>e&&s<e)return r+1-(e-s)/(o-s)}return r}snapScale(e,t=.95){const o=this.scaleToZoom(e);return o%Math.floor(o)>=t?this.zoomToScale(Math.ceil(o)):this.zoomToScale(Math.floor(o))}tileAt(e,t,o,r){const s=this.lodAt(e);if(!s)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,r=o;else {const e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bg)(t,this.spatialReference);if(!e)return null;i=e.x,l=e.y,r=o;}const n=s.resolution*this.size[0],p=s.resolution*this.size[1];return r||(r={id:null,level:0,row:0,col:0,extent:(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_3__.i)()}),r.level=e,r.row=Math.floor((this.origin.y-l)/p+.001),r.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=0){let o=this.lodAt(e.level);if(!o&&1===t){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t);}if(!o)return;const r=e.level-o.level,s=o.resolution*this.size[0]/2**r,i=o.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_aaBoundingRect_61971fe3_js__WEBPACK_IMPORTED_MODULE_3__.i)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+i;}upsampleTile(e){const t=this._upsampleLevels[e.level];return !(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:o}=this.lodAt(t.level),r=o*this.size[0],s=o*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+r,e[3]=e[1]+s,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return v.fromJSON(this.write({}))}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const r=e[o];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r;}}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],j.prototype,"compressionQuality",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0}})],j.prototype,"dpi",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:w.read,write:w.write,origins:{"web-scene":{read:!1,write:!1}}}})],j.prototype,"format",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"isWrappable",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.q,json:{write:!0}})],j.prototype,"origin",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("origin")],j.prototype,"readOrigin",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:[i],value:null,json:{write:!0}})],j.prototype,"lods",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"minScale",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"maxScale",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({readOnly:!0})],j.prototype,"scales",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],j.prototype,"size",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("size",["rows","cols"])],j.prototype,"readSize",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("size",{cols:{type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc},rows:{type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bc}})],j.prototype,"writeSize",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O,json:{write:!0}})],j.prototype,"spatialReference",void 0),j=v=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.TileInfo")],j);var x=j;



//# sourceMappingURL=TileInfo-639e5038.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeInfo-cae3ca70.js":
/*!************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeInfo-cae3ca70.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ c),
/* harmony export */   l: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TimeExtent-7f857a39.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/TimeExtent-7f857a39.js");




/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var p$2;let u=p$2=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(r){super(r),this.value=0,this.unit="milliseconds";}toMilliseconds(){return this.value*_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.i[this.unit]}clone(){return new p$2({value:this.value,unit:this.unit})}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Number,json:{write:!0},nonNullable:!0})],u.prototype,"value",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.r.apiValues,json:{type:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.r.jsonValues,read:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.r.read,write:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.r.write},nonNullable:!0})],u.prototype,"unit",void 0),u=p$2=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.TimeInterval")],u);var l=u;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var i;let p$1=i=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null;}readRespectsDaylightSaving(e,r){return void 0!==r.respectsDaylightSaving?r.respectsDaylightSaving:void 0!==r.respectDaylightSaving&&r.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:r}=this;return new i({respectsDaylightSaving:e,timezone:r})}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,json:{write:!0}})],p$1.prototype,"respectsDaylightSaving",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],p$1.prototype,"readRespectsDaylightSaving",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],p$1.prototype,"timezone",void 0),p$1=i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.TimeReference")],p$1);var a=p$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
var p;let d=p=class extends _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ao{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0;}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const r=new Date(t.timeExtent[0]),i=new Date(t.timeExtent[1]);return new _TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.d({start:r,end:i})}writeFullTimeExtent(e,t){e&&e.start&&e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null;}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new l({value:t.timeInterval,unit:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.r.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new l({value:t.defaultTimeInterval,unit:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.r.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const r=e.toJSON();t.timeInterval=r.value,t.timeIntervalUnits=r.unit;}else t.timeInterval=null,t.timeIntervalUnits=null;}clone(){const{cumulative:e,endField:r,hasLiveData:i,interval:l,startField:o,timeReference:n,fullTimeExtent:a,trackIdField:s,useTime:m}=this;return new p({cumulative:e,endField:r,hasLiveData:i,interval:l,startField:o,timeReference:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R)(n),fullTimeExtent:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R)(a),trackIdField:s,useTime:m})}};(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],d.prototype,"cumulative",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],d.prototype,"endField",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:_TimeExtent_7f857a39_js__WEBPACK_IMPORTED_MODULE_2__.d,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("fullTimeExtent")],d.prototype,"writeFullTimeExtent",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:l,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ab)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aj)("interval")],d.prototype,"writeInterval",null),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],d.prototype,"startField",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:a,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"timeReference",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0),(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__._)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],d.prototype,"useTime",void 0),d=p=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.Z)([(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.a0)("esri.layers.support.TimeInfo")],d);var c=d;



//# sourceMappingURL=TimeInfo-cae3ca70.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/asyncUtils-af782857.js":
/*!**************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/asyncUtils-af782857.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ e),
/* harmony export */   n: () => (/* binding */ n),
/* harmony export */   o: () => (/* binding */ o),
/* harmony export */   u: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function n(t,n,e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ai)(t.map(((r,t)=>n.apply(e,[r,t]))))}function e(t,n,e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ai)(t.map(((r,t)=>n.apply(e,[r,t])))).then((r=>r.map((r=>r.value))))}function o(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>({ok:!1,error:r})))}function u(r){return r.then((r=>({ok:!0,value:r}))).catch((r=>{(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.am)(r);return {ok:!1,error:r}}))}



//# sourceMappingURL=asyncUtils-af782857.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js":
/*!*********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/query-3d91522a.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ S),
/* harmony export */   c: () => (/* binding */ c),
/* harmony export */   d: () => (/* binding */ d),
/* harmony export */   f: () => (/* binding */ f),
/* harmony export */   p: () => (/* binding */ p),
/* harmony export */   q: () => (/* binding */ query),
/* harmony export */   t: () => (/* binding */ t),
/* harmony export */   y: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./normalizeUtils-69f83c05.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js");
/* harmony import */ var _queryZScale_8fd5a160_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queryZScale-8fd5a160.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js");
/* harmony import */ var _pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pbfQueryUtils-8a9fc87d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/pbfQueryUtils-8a9fc87d.js");





/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(n){const o={};for(const e in n){if("declaredClass"===e)continue;const r=n[e];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n]);}else "object"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r;}return o}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const l="Layer does not support extent calculation.";function m(e,r$1){const i=e.geometry,o=e.toJSON(),s=o;if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(i)&&(s.geometry=JSON.stringify(i),s.geometryType=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i),s.inSR=i.spatialReference.wkid||JSON.stringify(i.spatialReference)),o.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=o.groupByFieldsForStatistics.join(",")),o.objectIds&&(s.objectIds=o.objectIds.join(",")),o.orderByFields&&(s.orderByFields=o.orderByFields.join(",")),!o.outFields||!o.returnDistinctValues&&(null!=r$1&&r$1.returnCountOnly||null!=r$1&&r$1.returnExtentOnly||null!=r$1&&r$1.returnIdsOnly)?delete s.outFields:-1!==o.outFields.indexOf("*")?s.outFields="*":s.outFields=o.outFields.join(","),o.outSR?s.outSR=o.outSR.wkid||JSON.stringify(o.outSR):i&&(o.returnGeometry||o.returnCentroid)&&(s.outSR=s.inSR),o.returnGeometry&&delete o.returnGeometry,o.outStatistics&&(s.outStatistics=JSON.stringify(o.outStatistics)),o.pixelSize&&(s.pixelSize=JSON.stringify(o.pixelSize)),o.quantizationParameters&&(s.quantizationParameters=JSON.stringify(o.quantizationParameters)),o.parameterValues&&(s.parameterValues=JSON.stringify(o.parameterValues)),o.rangeValues&&(s.rangeValues=JSON.stringify(o.rangeValues)),o.dynamicDataSource&&(s.layer=JSON.stringify({source:o.dynamicDataSource}),delete o.dynamicDataSource),o.timeExtent){const t=o.timeExtent,{start:e,end:r}=t;null==e&&null==r||(s.time=e===r?e:`${null==e?"null":e},${null==r?"null":r}`),delete o.timeExtent;}return s}async function y(e,r$1,n,i){const o=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?{data:{features:[]}}:await g(e,r$1,"json",i);return (0,_queryZScale_8fd5a160_js__WEBPACK_IMPORTED_MODULE_2__.t)(r$1,n,o.data),o}async function c(e,r$1,n,i){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty)return Promise.resolve({data:n.createFeatureResult()});const o=await d(e,r$1,i),s=o;return s.data=(0,_pbfQueryUtils_8a9fc87d_js__WEBPACK_IMPORTED_MODULE_3__.t)(o.data,n),s}function d(t,e,r){return g(t,e,"pbf",r)}function f(e,r$1,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):g(e,r$1,"json",n,{returnIdsOnly:!0})}function p(e,r$1,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):g(e,r$1,"json",n,{returnIdsOnly:!0,returnCountOnly:!0})}function S(e,r$1,n){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(r$1.timeExtent)&&r$1.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):g(e,r$1,"json",n,{returnExtentOnly:!0,returnCountOnly:!0}).then((t=>{const e=t.data;if(e.hasOwnProperty("extent"))return t;if(e.features)throw new Error(l);if(e.hasOwnProperty("count"))throw new Error(l);return t}))}function g(n,s,a,l={},y={}){const c="string"==typeof n?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(n):n,d=s.geometry?[s.geometry]:[];return l.responseType="pbf"===a?"array-buffer":"json",(0,_normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_1__.L)(d,null,l).then((r$1=>{const n=r$1&&r$1[0];(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(n)&&((s=s.clone()).geometry=n);const o=t({...c.query,f:a,...y,...m(s,y)});return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.b3)(c.path,"query"),{...l,query:{...o,...l.query}})}))}

const query = /*#__PURE__*/Object.freeze({
	__proto__: null,
	executeQuery: y,
	executeQueryForCount: p,
	executeQueryForExtent: S,
	executeQueryForIds: f,
	executeQueryPBF: c,
	executeQueryPBFBuffer: d,
	queryToQueryStringParameters: m,
	runQuery: g
});



//# sourceMappingURL=query-3d91522a.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js":
/*!***************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/queryZScale-8fd5a160.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _zscale_37987104_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./zscale-37987104.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,o,r){if(!r||!r.features||!r.hasZ)return;const f=(0,_zscale_37987104_js__WEBPACK_IMPORTED_MODULE_0__.t)(r.geometryType,o,t.outSpatialReference);if(f)for(const e of r.features)f(e.geometry);}



//# sourceMappingURL=queryZScale-8fd5a160.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js":
/*!**********************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/zscale-37987104.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ l),
/* harmony export */   t: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unitUtils-624ceeb6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/unitUtils-624ceeb6.js");



/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function t(t,c,l){if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(c)||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(l)||l.vcsWkid||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(c,l))return null;const u=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(c)/(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(l);if(1===u)return null;switch(t){case"point":case"esriGeometryPoint":return n=>i(n,u);case"polyline":case"esriGeometryPolyline":return n=>s(n,u);case"polygon":case"esriGeometryPolygon":return n=>r(n,u);case"multipoint":case"esriGeometryMultipoint":return n=>f(n,u);default:return null}}function i(n,o){n&&null!=n.z&&(n.z*=o);}function r(n,o){if(n)for(const e of n.rings)for(const n of e)n.length>2&&(n[2]*=o);}function s(n,o){if(n)for(const e of n.paths)for(const n of e)n.length>2&&(n[2]*=o);}function f(n,o){if(n)for(const e of n.points)e.length>2&&(e[2]*=o);}function c(n,o,e){if(null==n.hasM||n.hasZ)for(const t of o)for(const n of t)n.length>2&&(n[2]*=e);}function l(n,o,t){if(!n&&!o||!t)return;const i=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(t);u(n,t,i),u(o,t,i);}function u(n,o,e){if(n)for(const t of n)a(t.geometry,o,e);}function a(n,t,i){if(!n||!n.spatialReference||(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.bf)(n.spatialReference,t))return;const r=(0,_unitUtils_624ceeb6_js__WEBPACK_IMPORTED_MODULE_1__.T)(n.spatialReference)/i;if(1!==r)if("x"in n)null!=n.z&&(n.z*=r);else if("rings"in n)c(n,n.rings,r);else if("paths"in n)c(n,n.paths,r);else if("points"in n&&(null==n.hasM||n.hasZ))for(const o of n.points)o.length>2&&(o[2]*=r);}



//# sourceMappingURL=zscale-37987104.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLWQ2MTEzMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeVA7QUFDak07QUFDTjtBQUNWO0FBQ2dCO0FBQ047QUFDYztBQUNsQjtBQUNvQztBQUNEO0FBQzFCO0FBQ1E7QUFDWDtBQUN2QjtBQUNLO0FBQ0Q7QUFDSTtBQUNGO0FBQ0E7QUFDSztBQUNDO0FBQ1Q7QUFDRDtBQUNPO0FBQ047QUFDRztBQUNZO0FBQ2I7QUFDSDtBQUNIO0FBQ0E7QUFDQTtBQUNLO0FBQ0U7QUFDUjtBQUNRO0FBQ0w7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUIsZUFBZSxVQUFVLGNBQWMsZUFBZSxTQUFTLHlDQUF5QyxhQUFhLGlCQUFpQixxQkFBcUIsTUFBTSxzQkFBc0IsTUFBTSxxQkFBcUIsU0FBUyxrQkFBa0I7O0FBRTlRO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdEQUFHLENBQUMsY0FBYyxzREFBc0QsVUFBVSxtQkFBbUIscUJBQXFCLDJDQUEyQyxVQUFVLHNEQUFzRCxpQkFBaUIsd0JBQXdCLGdEQUFnRCxjQUFjLHFDQUFxQyxNQUFNLDJEQUFHLEVBQUUsMkRBQUcscUNBQXFDLDJEQUFHLEVBQUUsNERBQUc7O0FBRWhjO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpQkFBaUIsMENBQTBDLE9BQU8sZ0JBQWdCLFdBQVcsd0JBQXdCLDJHQUEyRyxhQUFhLDhHQUE4RyxhQUFhLCtDQUErQyxZQUFZLGdCQUFnQixRQUFRLHdFQUF3RSxtQkFBbUIsd0JBQXdCLHVCQUF1QixzQ0FBc0MsK0NBQStDLHlDQUF5QyxtREFBbUQsb0JBQW9CLHdCQUF3Qix3QkFBd0IsNEJBQTRCLDhCQUE4QiwrQkFBK0IsaUNBQWlDLHNCQUFzQixv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QUFFLG9CQUFvQixPQUFPLDJEQUFDLDBEQUEwRCxNQUFNLHFCQUFxQixvQkFBb0IsdUNBQXVDLFlBQVksZUFBZSx1Q0FBdUMsaUNBQWlDLGdEQUFnRCxTQUFTLEdBQUcscUJBQXFCLEtBQUssRUFBRSwyQkFBMkIsMkRBQUcsbUNBQW1DLHNEQUFzRCw4REFBQyx1QkFBdUIsb0JBQW9CLDJEQUFDLGdDQUFnQyxXQUFXLDhCQUE4QixFQUFFLE9BQU8sMkRBQUMsQ0FBQyw0REFBQyxrQkFBa0IsWUFBWSxpQkFBaUIsRUFBRTs7QUFFanVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFMEM7O0FBRTNDOzs7Ozs7Ozs7Ozs7Ozs7QUMvQmdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQ0FBbUMsUUFBUSxzREFBRyx5Q0FBeUM7O0FBRTVGOztBQUViOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1Y4RDtBQUNsQjs7QUFFNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsR0FBRywyREFBRyxLQUFLLDJEQUFHLGdCQUFnQiw0REFBQyxrQkFBa0IsUUFBUSx5REFBQyxJQUFJLHlEQUFDLElBQUkscUJBQXFCLFVBQVUscURBQXFELDJEQUEyRCx5REFBeUQsK0RBQStELHFCQUFxQixnQkFBZ0Isd0JBQXdCLGdCQUFnQixvRUFBb0UsZ0JBQWdCLG9FQUFvRSxnQkFBZ0Isb0RBQW9ELGtCQUFrQixpRkFBaUYsa0JBQWtCLHFCQUFxQixRQUFRLHlEQUFDLElBQUksbUJBQW1CLGtCQUFrQix5Q0FBeUMsa0JBQWtCLDRCQUE0Qiw0REFBQyw4QkFBOEIsUUFBUSx5REFBQyx1QkFBdUIsd0NBQXdDLG1DQUFtQyxtQ0FBbUM7O0FBRXJqQzs7QUFFaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vRmVhdHVyZVNlcnZpY2VTbmFwcGluZ1NvdXJjZVdvcmtlci0wMTBjYjA5Ni5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vSGFuZGxlT3duZXItY2Q2Y2ExZjUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL1RpbGVJbmZvLTYzOWU1MDM4LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9UaW1lSW5mby1jYWUzY2E3MC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vYXN5bmNVdGlscy1hZjc4Mjg1Ny5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9nZW9lbnJpY2htZW50LWNvbXBvbmVudHMvZGlzdC9lc20vcXVlcnktM2Q5MTUyMmEuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL3F1ZXJ5WlNjYWxlLThmZDVhMTYwLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS96c2NhbGUtMzc5ODcxMDQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgWiBhcyBlJDEsIF8gYXMgeSQxLCBhMCBhcyBpJDEsIGExIGFzIHUkMSwgZDcgYXMgRiwgdCBhcyB0JDIsIFMgYXMgbiQxLCBheiBhcyBoLCBIIGFzIHIkMiwgZDggYXMgbCwgYXggYXMgbiQyLCBJIGFzIGUkMiwgTSwgYW0gYXMgdyQxLCBhQiBhcyBuJDQsIGNSIGFzIEUkMSwgYjYgYXMgdSQzLCBPIGFzIGssIGFoIGFzIGEkMSwgY2sgYXMgZCQxLCBkOSBhcyBBIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5pbXBvcnQgJy4vYXJjZ2lzLWdlb2VucmljaG1lbnQtZGF0YWJyb3dzZXItNmNhOGVhMTQuanMnO1xuaW1wb3J0IHsgYyBhcyBjJDEgfSBmcm9tICcuL1RpbWVJbmZvLWNhZTNjYTcwLmpzJztcbmltcG9ydCB7IFIgfSBmcm9tICcuL1F1ZXJ5LTM5YzM0YjkzLmpzJztcbmltcG9ydCB7IGQsIGwgYXMgbCQyIH0gZnJvbSAnLi9IYW5kbGVPd25lci1jZDZjYTFmNS5qcyc7XG5pbXBvcnQgeyB4IGFzIHgkMSB9IGZyb20gJy4vVGlsZUluZm8tNjM5ZTUwMzguanMnO1xuaW1wb3J0IHsgZSBhcyBlJDMsIHUgYXMgdSQ0IH0gZnJvbSAnLi9GZWF0dXJlU3RvcmUtMTk4YmYyOGEuanMnO1xuaW1wb3J0IHsgWiB9IGZyb20gJy4vUXVlcnlFbmdpbmUtNWQ5MmJmMDkuanMnO1xuaW1wb3J0IHsgYSwgRiBhcyBGJDEsIGkgYXMgaSQyLCBvLCBsIGFzIGwkMSB9IGZyb20gJy4vYWFCb3VuZGluZ1JlY3QtNjE5NzFmZTMuanMnO1xuaW1wb3J0IHsgciBhcyByZSwgbyBhcyBvZSwgZiBhcyBmZSB9IGZyb20gJy4vZmVhdHVyZUNvbnZlcnNpb25VdGlscy04N2QzOWNjYi5qcyc7XG5pbXBvcnQgeyBuIGFzIG4kMyB9IGZyb20gJy4vcGJmUXVlcnlVdGlscy04YTlmYzg3ZC5qcyc7XG5pbXBvcnQgeyBjLCB5IGFzIHkkMiwgUyBhcyBTJDEsIHAgfSBmcm9tICcuL3F1ZXJ5LTNkOTE1MjJhLmpzJztcbmltcG9ydCB7IHUgYXMgdSQyIH0gZnJvbSAnLi9hc3luY1V0aWxzLWFmNzgyODU3LmpzJztcbmltcG9ydCAnLi9pbmRleC00YTYyYzYzZC5qcyc7XG5pbXBvcnQgJy4vVGltZUV4dGVudC03Zjg1N2EzOS5qcyc7XG5pbXBvcnQgJy4vdW5pdFV0aWxzLTYyNGNlZWI2LmpzJztcbmltcG9ydCAnLi9hYUJvdW5kaW5nQm94LTM3NmEyYjZlLmpzJztcbmltcG9ydCAnLi9Qb29sZWRSQnVzaC1iMDZlZGM4MS5qcyc7XG5pbXBvcnQgJy4vcXVpY2tzZWxlY3QtMTI3OTEyOGYuanMnO1xuaW1wb3J0ICcuL19jb21tb25qc0hlbHBlcnMtOTU3N2ZmNzguanMnO1xuaW1wb3J0ICcuL09wdGltaXplZEdlb21ldHJ5LTg4MTJlNGY2LmpzJztcbmltcG9ydCAnLi9jZW50cm9pZC1mNTEzMDQzNS5qcyc7XG5pbXBvcnQgJy4vd29ya2Vycy1lMDg1OTIxMy5qcyc7XG5pbXBvcnQgJy4vbm9ybWFsaXplVXRpbHMtNjlmODNjMDUuanMnO1xuaW1wb3J0ICcuL01lbUNhY2hlLTU0NjMwNjg5LmpzJztcbmltcG9ydCAnLi9GaWVsZHNJbmRleC1kYTIzNzQ5Mi5qcyc7XG5pbXBvcnQgJy4vUXVlcnlFbmdpbmVDYXBhYmlsaXRpZXMtODc3ZTk1M2YuanMnO1xuaW1wb3J0ICcuL3Byb2plY3Rpb24tMzlkYTg2ZDcuanMnO1xuaW1wb3J0ICcuL3ZlYzNmNjQtMjJjMGI2Y2MuanMnO1xuaW1wb3J0ICcuL3ZlYzMtYTdhNzIzODIuanMnO1xuaW1wb3J0ICcuL21hdDQtZGJkMzY4ZDQuanMnO1xuaW1wb3J0ICcuL2pzb24tZTZhYThjOTkuanMnO1xuaW1wb3J0ICcuL0l0ZW1DYWNoZS1mY2RkYTMzZS5qcyc7XG5pbXBvcnQgJy4vV2hlcmVDbGF1c2UtNjMzNzVlNWIuanMnO1xuaW1wb3J0ICcuL3BiZi03NzdkNjY2ZC5qcyc7XG5pbXBvcnQgJy4vcXVlcnlaU2NhbGUtOGZkNWExNjAuanMnO1xuaW1wb3J0ICcuL3pzY2FsZS0zNzk4NzEwNC5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKG4pe3JldHVybiAzMituLmxlbmd0aH1mdW5jdGlvbiB0JDEoKXtyZXR1cm4gMTZ9ZnVuY3Rpb24gZShlKXtpZighZSlyZXR1cm4gMDtsZXQgcj0zMjtmb3IoY29uc3QgbyBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobykpe2NvbnN0IGM9ZVtvXTtzd2l0Y2godHlwZW9mIGMpe2Nhc2VcInN0cmluZ1wiOnIrPW4oYyk7YnJlYWs7Y2FzZVwibnVtYmVyXCI6cis9dCQxKCk7YnJlYWs7Y2FzZVwiYm9vbGVhblwiOnIrPTQ7fX1yZXR1cm4gcn1mdW5jdGlvbiByJDEobix0KXtyZXR1cm4gMzIrbi5sZW5ndGgqdH1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCByPWNsYXNzIGV4dGVuZHMgdSQxe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnVwZGF0aW5nPSExLHRoaXMucGVuZGluZz1bXTt9cHVzaChzLHQpe3RoaXMucGVuZGluZy5wdXNoKHtwcm9taXNlOnMsY2FsbGJhY2s6dH0pLDE9PT10aGlzLnBlbmRpbmcubGVuZ3RoJiZ0aGlzLnByb2Nlc3MoKTt9cHJvY2Vzcygpe2lmKCF0aGlzLnBlbmRpbmcubGVuZ3RoKXJldHVybiB2b2lkKHRoaXMudXBkYXRpbmc9ITEpO3RoaXMudXBkYXRpbmc9ITA7Y29uc3Qgcz10aGlzLnBlbmRpbmdbMF07cy5wcm9taXNlLnRoZW4oKHQ9PnMuY2FsbGJhY2sodCkpKS5jYXRjaCgoKCk9Pnt9KSkudGhlbigoKCk9Pnt0aGlzLnBlbmRpbmcuc2hpZnQoKSx0aGlzLnByb2Nlc3MoKTt9KSk7fX07ZSQxKFt5JDEoKV0sci5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLHZvaWQgMCkscj1lJDEoW2kkMShcImVzcmkuY29yZS5Bc3luY1NlcXVlbmNlXCIpXSxyKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHV7Y29uc3RydWN0b3IodCxlKXt0aGlzLmRhdGE9dCx0aGlzLnJlc29sdXRpb249ZSx0aGlzLnN0YXRlPXt0eXBlOjB9LHRoaXMuYWxpdmU9ITA7fXByb2Nlc3ModCl7c3dpdGNoKHRoaXMuc3RhdGUudHlwZSl7Y2FzZSAwOnJldHVybiB0aGlzLnN0YXRlPXRoaXMuZ290b0ZldGNoQ291bnQodGhpcy5zdGF0ZSx0KSx0aGlzLnN0YXRlLnRhc2sucHJvbWlzZS50aGVuKHQucmVzdW1lLHQucmVzdW1lKTtjYXNlIDE6YnJlYWs7Y2FzZSAyOnJldHVybiB0aGlzLnN0YXRlPXRoaXMuZ290b0ZldGNoRmVhdHVyZXModGhpcy5zdGF0ZSx0KSx0aGlzLnN0YXRlLnRhc2sucHJvbWlzZS50aGVuKHQucmVzdW1lLHQucmVzdW1lKTtjYXNlIDM6YnJlYWs7Y2FzZSA0OnRoaXMuc3RhdGU9dGhpcy5nb1RvRG9uZSh0aGlzLnN0YXRlLHQpO31yZXR1cm4gbnVsbH1nZXQgZGVidWdJbmZvKCl7cmV0dXJuIHtkYXRhOnRoaXMuZGF0YSxmZWF0dXJlQ291bnQ6dGhpcy5mZWF0dXJlQ291bnQsc3RhdGU6dGhpcy5zdGF0ZVRvU3RyaW5nfX1nZXQgZmVhdHVyZUNvdW50KCl7c3dpdGNoKHRoaXMuc3RhdGUudHlwZSl7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gMDtjYXNlIDI6cmV0dXJuIHRoaXMuc3RhdGUuZmVhdHVyZUNvdW50O2Nhc2UgMzpyZXR1cm4gdGhpcy5zdGF0ZS5wcmV2aW91cy5mZWF0dXJlQ291bnQ7Y2FzZSA0OnJldHVybiB0aGlzLnN0YXRlLmZlYXR1cmVzLmxlbmd0aDtjYXNlIDU6cmV0dXJuIHRoaXMuc3RhdGUucHJldmlvdXMuZmVhdHVyZXMubGVuZ3RofX1nZXQgc3RhdGVUb1N0cmluZygpe3N3aXRjaCh0aGlzLnN0YXRlLnR5cGUpe2Nhc2UgMDpyZXR1cm4gXCJjcmVhdGVkXCI7Y2FzZSAxOnJldHVybiBcImZldGNoLWNvdW50XCI7Y2FzZSAyOnJldHVybiBcImZldGNoZWQtY291bnRcIjtjYXNlIDM6cmV0dXJuIFwiZmV0Y2gtZmVhdHVyZXNcIjtjYXNlIDQ6cmV0dXJuIFwiZmV0Y2hlZC1mZWF0dXJlc1wiO2Nhc2UgNTpyZXR1cm4gXCJkb25lXCJ9fWdvdG9GZXRjaENvdW50KHQsYSl7cmV0dXJuIHt0eXBlOjEscHJldmlvdXM6dCx0YXNrOkYoKGFzeW5jIHQ9Pntjb25zdCBlPWF3YWl0IHUkMihhLmZldGNoQ291bnQodGhpcyx0KSk7MT09PXRoaXMuc3RhdGUudHlwZSYmKHRoaXMuc3RhdGU9dGhpcy5nb3RvRmV0Y2hlZENvdW50KHRoaXMuc3RhdGUsZS5vaz9lLnZhbHVlOjEvMCkpO30pKX19Z290b0ZldGNoZWRDb3VudCh0LGUpe3JldHVybiB7dHlwZToyLGZlYXR1cmVDb3VudDplLHByZXZpb3VzOnR9fWdvdG9GZXRjaEZlYXR1cmVzKHQsYSl7cmV0dXJuIHt0eXBlOjMscHJldmlvdXM6dCx0YXNrOkYoKGFzeW5jIGU9Pntjb25zdCByPWF3YWl0IHUkMihhLmZldGNoRmVhdHVyZXModGhpcyx0LmZlYXR1cmVDb3VudCxlKSk7Mz09PXRoaXMuc3RhdGUudHlwZSYmKHRoaXMuc3RhdGU9dGhpcy5nb3RvRmV0Y2hlZEZlYXR1cmVzKHRoaXMuc3RhdGUsci5vaz9yLnZhbHVlOltdKSk7fSkpfX1nb3RvRmV0Y2hlZEZlYXR1cmVzKHQsZSl7cmV0dXJuIHt0eXBlOjQscHJldmlvdXM6dCxmZWF0dXJlczplfX1nb1RvRG9uZSh0LGUpe3JldHVybiBlLmZpbmlzaCh0aGlzLHQuZmVhdHVyZXMpLHt0eXBlOjUscHJldmlvdXM6dH19cmVzZXQoKXtjb25zdCB0PXRoaXMuc3RhdGU7c3dpdGNoKHRoaXMuc3RhdGU9e3R5cGU6MH0sdC50eXBlKXtjYXNlIDA6Y2FzZSAyOmNhc2UgNDpjYXNlIDU6YnJlYWs7Y2FzZSAxOmNhc2UgMzp0LnRhc2suYWJvcnQoKTt9fWludGVyc2VjdHMoZSl7cmV0dXJuICEoIXQkMihlKSYmdGhpcy5kYXRhLmV4dGVudCl8fChhKGUsaSksRiQxKHRoaXMuZGF0YS5leHRlbnQsaSkpfX1jb25zdCBpPWkkMigpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgTz1uJDEuZ2V0TG9nZ2VyKFwiZXNyaS52aWV3cy5pbnRlcmFjdGl2ZS5zbmFwcGluZy5mZWF0dXJlU291cmNlcy5mZWF0dXJlU2VydmljZVNvdXJjZS5GZWF0dXJlU2VydmljZVRpbGVkRmV0Y2hlclwiKTtsZXQgeD1jbGFzcyBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50aWxlc09mSW50ZXJlc3Q9W10sdGhpcy5hdmFpbGFiaWxpdHk9MCx0aGlzLnBlbmRpbmdUaWxlcz1uZXcgTWFwLHRoaXMucGVuZGluZ0VkaXRzPW5ldyByLHRoaXMucGVuZGluZ0VkaXRzQWJvcnRDb250cm9sbGVyPWgoKTt9Z2V0IG1pbmltdW1WZXJ0aWNlc1BlckZlYXR1cmUoKXt2YXIgZTtzd2l0Y2gobnVsbD09KGU9dGhpcy5zdG9yZSk/dm9pZCAwOmUuZmVhdHVyZVN0b3JlLmdlb21ldHJ5VHlwZSl7Y2FzZVwiZXNyaUdlb21ldHJ5UG9pbnRcIjpjYXNlXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCI6cmV0dXJuIDE7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWdvblwiOnJldHVybiA0O2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6cmV0dXJuIDJ9fXNldCBmaWx0ZXIoZSl7Y29uc3QgdD10aGlzLl9nZXQoXCJmaWx0ZXJcIiksaT10aGlzLmZpbHRlclByb3BlcnRpZXMoZSk7SlNPTi5zdHJpbmdpZnkodCkhPT1KU09OLnN0cmluZ2lmeShpKSYmdGhpcy5fc2V0KFwiZmlsdGVyXCIsaSk7fXNldCBjdXN0b21QYXJhbWV0ZXJzKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0KFwiY3VzdG9tUGFyYW1ldGVyc1wiKTtKU09OLnN0cmluZ2lmeSh0KSE9PUpTT04uc3RyaW5naWZ5KGUpJiZ0aGlzLl9zZXQoXCJjdXN0b21QYXJhbWV0ZXJzXCIsZSk7fWdldCBjb25maWd1cmF0aW9uKCl7cmV0dXJuIHtmaWx0ZXI6dGhpcy5maWx0ZXIsY3VzdG9tUGFyYW1ldGVyczp0aGlzLmN1c3RvbVBhcmFtZXRlcnMsdGlsZUluZm86dGhpcy50aWxlSW5mbyx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplfX1zZXQgdGlsZUluZm8oZSl7Y29uc3QgaT10aGlzLl9nZXQoXCJ0aWxlSW5mb1wiKTtpIT09ZSYmKHIkMihlKSYmciQyKGkpJiZKU09OLnN0cmluZ2lmeShlKT09PUpTT04uc3RyaW5naWZ5KGkpfHwodGhpcy5fc2V0KFwidGlsZUluZm9cIixlKSx0aGlzLnN0b3JlLnRpbGVJbmZvPWUpKTt9c2V0IHRpbGVTaXplKGUpe3RoaXMuX2dldChcInRpbGVTaXplXCIpIT09ZSYmdGhpcy5fc2V0KFwidGlsZVNpemVcIixlKTt9Z2V0IHVwZGF0aW5nKCl7cmV0dXJuIHRoaXMudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfHx0aGlzLnBlbmRpbmdFZGl0cy51cGRhdGluZ31pbml0aWFsaXplKCl7dGhpcy5pbml0aWFsaXplRmV0Y2hFeHRlbnQoKSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGQodGhpcyxcImNvbmZpZ3VyYXRpb25cIiwoKCk9PnRoaXMucmVmcmVzaCgpKSksdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkKHRoaXMsXCJ0aWxlc09mSW50ZXJlc3RcIiwoKGUsdCk9PntsKGUsdCwoKHtpZDplfSx7aWQ6dH0pPT5lPT09dCkpfHx0aGlzLnByb2Nlc3MoKTt9KSwxKTt9ZGVzdHJveSgpe3RoaXMucGVuZGluZ1RpbGVzLmZvckVhY2goKGU9PnRoaXMuZGVsZXRlUGVuZGluZ1RpbGUoZSkpKSx0aGlzLnBlbmRpbmdUaWxlcy5jbGVhcigpLHRoaXMuc3RvcmUuZGVzdHJveSgpLHRoaXMudGlsZXNPZkludGVyZXN0Lmxlbmd0aD0wLHRoaXMucGVuZGluZ0VkaXRzQWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5wZW5kaW5nRWRpdHNBYm9ydENvbnRyb2xsZXI9bnVsbDt9cmVmcmVzaCgpe3RoaXMuc3RvcmUucmVmcmVzaCgpLHRoaXMucGVuZGluZ1RpbGVzLmZvckVhY2goKGU9PnRoaXMuZGVsZXRlUGVuZGluZ1RpbGUoZSkpKSx0aGlzLnByb2Nlc3MoKTt9YXBwbHlFZGl0cyhlKXt0aGlzLnBlbmRpbmdFZGl0cy5wdXNoKGUsKGFzeW5jIGU9PntpZigwIT09ZS5hZGRlZEZlYXR1cmVzLmxlbmd0aHx8MCE9PWUudXBkYXRlZEZlYXR1cmVzLmxlbmd0aHx8MCE9PWUuZGVsZXRlZEZlYXR1cmVzLmxlbmd0aCl7Zm9yKGNvbnN0WyxlXW9mIHRoaXMucGVuZGluZ1RpbGVzKWUucmVzZXQoKTthd2FpdCB0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuc3RvcmUucHJvY2Vzc0VkaXRzKGUsKChlLHQpPT50aGlzLnF1ZXJ5RmVhdHVyZXNCeUlkKGUsdCkpLHRoaXMucGVuZGluZ0VkaXRzQWJvcnRDb250cm9sbGVyLnNpZ25hbCkpLHRoaXMucHJvY2Vzc1BlbmRpbmdUaWxlcygpO319KSk7fWluaXRpYWxpemVGZXRjaEV4dGVudCgpe2lmKCF0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c0V4dGVudClyZXR1cm47Y29uc3QgZT1GKChhc3luYyBlPT57dHJ5e3ZhciB0O2NvbnN0IGk9YXdhaXQgUyQxKHRoaXMudXJsLG5ldyBSKHt3aGVyZTpcIjE9MVwiLG91dFNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGNhY2hlSGludDohIXRoaXMuY2FwYWJpbGl0aWVzLnF1ZXJ5LnN1cHBvcnRzQ2FjaGVIaW50fHx2b2lkIDB9KSx7cXVlcnk6dGhpcy5jb25maWd1cmF0aW9uLmN1c3RvbVBhcmFtZXRlcnMsc2lnbmFsOmV9KTt0aGlzLnN0b3JlLmV4dGVudD1NLmZyb21KU09OKG51bGw9PSh0PWkuZGF0YSk/dm9pZCAwOnQuZXh0ZW50KTt9Y2F0Y2goaSl7dyQxKGkpLE8uZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZGF0YSBleHRlbnRcIixpKTt9fSkpO3RoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UoZS5wcm9taXNlLnRoZW4oKCgpPT50aGlzLnByb2Nlc3MoKSkpKSx0aGlzLmhhbmRsZXMuYWRkKG4kMigoKCk9PmUuYWJvcnQoKSkpKSx0aGlzLmZldGNoRXh0ZW50VGFzaz1lO31nZXQgZGVidWdJbmZvKCl7cmV0dXJuIHtudW1iZXJPZkZlYXR1cmVzOnRoaXMuc3RvcmUuZmVhdHVyZVN0b3JlLm51bUZlYXR1cmVzLHRpbGVzT2ZJbnRlcmVzdDp0aGlzLnRpbGVzT2ZJbnRlcmVzdCxwZW5kaW5nVGlsZXM6QXJyYXkuZnJvbSh0aGlzLnBlbmRpbmdUaWxlcy52YWx1ZXMoKSkubWFwKChlPT5lLmRlYnVnSW5mbykpLHN0b3JlZFRpbGVzOnRoaXMuc3RvcmUuZGVidWdJbmZvfX1wcm9jZXNzKCl7IXIkMih0aGlzLmZldGNoRXh0ZW50VGFzayl8fHRoaXMuZmV0Y2hFeHRlbnRUYXNrLmZpbmlzaGVkPyh0aGlzLm1hcmtUaWxlc05vdEFsaXZlKCksdGhpcy5jcmVhdGVQZW5kaW5nVGlsZXMoKSx0aGlzLmRlbGV0ZVBlbmRpbmdUaWxlcygpLHRoaXMucHJvY2Vzc1BlbmRpbmdUaWxlcygpKTp0aGlzLnNldEF2YWlsYWJpbGl0eSgwKTt9bWFya1RpbGVzTm90QWxpdmUoKXtmb3IoY29uc3RbLGVdb2YgdGhpcy5wZW5kaW5nVGlsZXMpZS5hbGl2ZT0hMTt9Y3JlYXRlUGVuZGluZ1RpbGVzKCl7Y29uc3QgZT10aGlzLmNvbGxlY3RNaXNzaW5nVGlsZXNJbmZvKCk7aWYodGhpcy5zZXRBdmFpbGFiaWxpdHkodCQyKGUpPzE6ZS5jb3ZlcmVkQXJlYS9lLmZ1bGxBcmVhKSwhdCQyKGUpKWZvcihjb25zdHtkYXRhOnQscmVzb2x1dGlvbjppfW9mIGUubWlzc2luZ1RpbGVzKXtjb25zdCBlPXRoaXMucGVuZGluZ1RpbGVzLmdldCh0LmlkKTtlPyhlLnJlc29sdXRpb249aSxlLmFsaXZlPSEwKTp0aGlzLmNyZWF0ZVBlbmRpbmdUaWxlKHQsaSk7fX1jb2xsZWN0TWlzc2luZ1RpbGVzSW5mbygpe2xldCBlPW51bGw7Zm9yKGxldCB0PXRoaXMudGlsZXNPZkludGVyZXN0Lmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBzPXRoaXMudGlsZXNPZkludGVyZXN0W3RdLHI9dGhpcy5zdG9yZS5wcm9jZXNzKHMsKChlLHQpPT50aGlzLnZlcmlmeVRpbGVDb21wbGV4aXR5KGUsdCkpKTt0JDIoZSk/ZT1yOmUucHJlcGVuZChyKTt9cmV0dXJuIGV9ZGVsZXRlUGVuZGluZ1RpbGVzKCl7Zm9yKGNvbnN0WyxlXW9mIHRoaXMucGVuZGluZ1RpbGVzKWUuYWxpdmV8fHRoaXMuZGVsZXRlUGVuZGluZ1RpbGUoZSk7fXByb2Nlc3NQZW5kaW5nVGlsZXMoKXtjb25zdCBlPXtmZXRjaENvdW50OihlLHQpPT50aGlzLmZldGNoQ291bnQoZSx0KSxmZXRjaEZlYXR1cmVzOihlLHQsaSk9PnRoaXMuZmV0Y2hGZWF0dXJlcyhlLHQsaSksZmluaXNoOihlLHQpPT50aGlzLmZpbmlzaFBlbmRpbmdUaWxlKGUsdCkscmVzdW1lOigpPT50aGlzLnByb2Nlc3NQZW5kaW5nVGlsZXMoKX07aWYodGhpcy5lbnN1cmVGZXRjaEFsbENvdW50cyhlKSlmb3IoY29uc3RbLHRdb2YgdGhpcy5wZW5kaW5nVGlsZXMpdGhpcy52ZXJpZnlUaWxlQ29tcGxleGl0eSh0aGlzLnN0b3JlLmdldEZlYXR1cmVDb3VudCh0LmRhdGEpLHQucmVzb2x1dGlvbikmJnRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodC5wcm9jZXNzKGUpKTt9dmVyaWZ5VGlsZUNvbXBsZXhpdHkoZSx0KXtyZXR1cm4gdGhpcy52ZXJpZnlWZXJ0ZXhDb21wbGV4aXR5KGUpJiZ0aGlzLnZlcmlmeUZlYXR1cmVEZW5zaXR5KGUsdCl9dmVyaWZ5VmVydGV4Q29tcGxleGl0eShlKXtyZXR1cm4gZSp0aGlzLm1pbmltdW1WZXJ0aWNlc1BlckZlYXR1cmU8aiQyfXZlcmlmeUZlYXR1cmVEZW5zaXR5KGUsdCl7aWYodCQyKHRoaXMudGlsZUluZm8pKXJldHVybiAhMTtjb25zdCBzPXRoaXMudGlsZVNpemUqdDtyZXR1cm4gZSoocS8ocypzKSk8RX1lbnN1cmVGZXRjaEFsbENvdW50cyhlKXtsZXQgdD0hMDtmb3IoY29uc3RbLGldb2YgdGhpcy5wZW5kaW5nVGlsZXMpaS5zdGF0ZS50eXBlPDImJnRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UoaS5wcm9jZXNzKGUpKSxpLnN0YXRlLnR5cGU8PTEmJih0PSExKTtyZXR1cm4gdH1maW5pc2hQZW5kaW5nVGlsZShlLHQpe3RoaXMuc3RvcmUuYWRkKGUuZGF0YSx0KSx0aGlzLmRlbGV0ZVBlbmRpbmdUaWxlKGUpLHRoaXMudXBkYXRlQXZhaWxhYmlsaXR5KCk7fXVwZGF0ZUF2YWlsYWJpbGl0eSgpe2NvbnN0IGU9dGhpcy5jb2xsZWN0TWlzc2luZ1RpbGVzSW5mbygpO3RoaXMuc2V0QXZhaWxhYmlsaXR5KHQkMihlKT8xOmUuY292ZXJlZEFyZWEvZS5mdWxsQXJlYSk7fXNldEF2YWlsYWJpbGl0eShlKXt0aGlzLl9zZXQoXCJhdmFpbGFiaWxpdHlcIixlKTt9Y3JlYXRlUGVuZGluZ1RpbGUoZSx0KXtjb25zdCBpPW5ldyB1KGUsdCk7cmV0dXJuIHRoaXMucGVuZGluZ1RpbGVzLnNldChlLmlkLGkpLGl9ZGVsZXRlUGVuZGluZ1RpbGUoZSl7ZS5yZXNldCgpLHRoaXMucGVuZGluZ1RpbGVzLmRlbGV0ZShlLmRhdGEuaWQpO31hc3luYyBmZXRjaENvdW50KGUsdCl7cmV0dXJuIHRoaXMuc3RvcmUuZmV0Y2hDb3VudChlLmRhdGEsdGhpcy51cmwsdGhpcy5jcmVhdGVDb3VudFF1ZXJ5KGUpLHtxdWVyeTp0aGlzLmN1c3RvbVBhcmFtZXRlcnMsdGltZW91dDpJLHNpZ25hbDp0fSl9YXN5bmMgZmV0Y2hGZWF0dXJlcyhlLHQsaSl7bGV0IHIsbj0wLG89MCxhPXQ7Zm9yKDs7KXtjb25zdCBsPXRoaXMuY3JlYXRlRmVhdHVyZXNRdWVyeShlKSx1PXRoaXMuc2V0UGFnaW5nUGFyYW1ldGVycyhsLG4sYSkse2ZlYXR1cmVzOmMsZXhjZWVkZWRUcmFuc2ZlckxpbWl0Omh9PWF3YWl0IHRoaXMucXVlcnlGZWF0dXJlcyhsLGkpO2lmKHUmJihuKz1lJDIobC5udW0pKSxvKz1jLmxlbmd0aCxyPXI/ci5jb25jYXQoYyk6YyxhPXQtbywhdXx8IWh8fGE8PTApcmV0dXJuIHJ9fWZpbHRlclByb3BlcnRpZXMoZSl7cmV0dXJuIHQkMihlKT97d2hlcmU6XCIxPTFcIixnZGJWZXJzaW9uOnZvaWQgMCx0aW1lRXh0ZW50OnZvaWQgMH06e3doZXJlOmUud2hlcmV8fFwiMT0xXCIsdGltZUV4dGVudDplLnRpbWVFeHRlbnQsZ2RiVmVyc2lvbjplLmdkYlZlcnNpb259fXF1ZXJ5RmVhdHVyZXNCeUlkKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUZlYXR1cmVzUXVlcnkobnVsbCk7cmV0dXJuIGkub2JqZWN0SWRzPWUsdGhpcy5xdWVyeUZlYXR1cmVzKGksdCl9cXVlcnlGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c0Zvcm1hdFBCRj90aGlzLnF1ZXJ5RmVhdHVyZXNQQkYoZSx0KTp0aGlzLnF1ZXJ5RmVhdHVyZXNKU09OKGUsdCl9YXN5bmMgcXVlcnlGZWF0dXJlc1BCRihlLHQpe2NvbnN0e3NvdXJjZVNwYXRpYWxSZWZlcmVuY2U6aX09dGhpcyx7ZGF0YTpzfT1hd2FpdCBjKHRoaXMudXJsLGUsbmV3IG4kMyh7c291cmNlU3BhdGlhbFJlZmVyZW5jZTppfSkse3F1ZXJ5OnRoaXMuY29uZmlndXJhdGlvbi5jdXN0b21QYXJhbWV0ZXJzLHRpbWVvdXQ6SSxzaWduYWw6dH0pO3JldHVybiByZShzKX1hc3luYyBxdWVyeUZlYXR1cmVzSlNPTihlLHQpe2NvbnN0e3NvdXJjZVNwYXRpYWxSZWZlcmVuY2U6aX09dGhpcyx7ZGF0YTpzfT1hd2FpdCB5JDIodGhpcy51cmwsZSxpLHtxdWVyeTp0aGlzLmNvbmZpZ3VyYXRpb24uY3VzdG9tUGFyYW1ldGVycyx0aW1lb3V0Okksc2lnbmFsOnR9KTtyZXR1cm4gb2Uocyx0aGlzLm9iamVjdElkRmllbGQpfWNyZWF0ZUNvdW50UXVlcnkoZSl7Y29uc3QgdD10aGlzLmNyZWF0ZUJhc2VRdWVyeShlKTtyZXR1cm4gdGhpcy5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNDYWNoZUhpbnQmJih0LmNhY2hlSGludD0hMCksdH1jcmVhdGVGZWF0dXJlc1F1ZXJ5KGUpe2NvbnN0IGk9dGhpcy5jcmVhdGVCYXNlUXVlcnkoZSk7cmV0dXJuIGkub3V0RmllbGRzPVt0aGlzLm9iamVjdElkRmllbGRdLGkucmV0dXJuR2VvbWV0cnk9ITAsciQyKGUpJiYodGhpcy5jYXBhYmlsaXRpZXMucXVlcnkuc3VwcG9ydHNSZXN1bHRUeXBlP2kucmVzdWx0VHlwZT1cInRpbGVcIjp0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c0NhY2hlSGludCYmKGkuY2FjaGVIaW50PSEwKSksaX1jcmVhdGVCYXNlUXVlcnkoZSl7Y29uc3QgaT1uZXcgUih7cmV0dXJuWjohMSxyZXR1cm5NOiExLGdlb21ldHJ5OnIkMih0aGlzLnRpbGVJbmZvKSYmciQyKGUpP28oZS5kYXRhLmV4dGVudCx0aGlzLnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2UpOnZvaWQgMH0pLHM9dGhpcy5jb25maWd1cmF0aW9uLmZpbHRlcjtyZXR1cm4gciQyKHMpJiYoaS53aGVyZT1zLndoZXJlLGkuZ2RiVmVyc2lvbj1zLmdkYlZlcnNpb24saS50aW1lRXh0ZW50PXMudGltZUV4dGVudCksaS5vdXRTcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxpfXNldFBhZ2luZ1BhcmFtZXRlcnMoZSx0LGkpe2lmKCF0aGlzLmNhcGFiaWxpdGllcy5xdWVyeS5zdXBwb3J0c1BhZ2luYXRpb24pcmV0dXJuICExO2NvbnN0e3N1cHBvcnRzTWF4UmVjb3JkQ291bnRGYWN0b3I6cyxzdXBwb3J0c0NhY2hlSGludDpyLHRpbGVNYXhSZWNvcmRDb3VudDpuLG1heFJlY29yZENvdW50Om8sc3VwcG9ydHNSZXN1bHRUeXBlOmF9PXRoaXMuY2FwYWJpbGl0aWVzLnF1ZXJ5LGw9cz9SLk1BWF9NQVhfUkVDT1JEX0NPVU5UX0ZBQ1RPUjoxLHU9bCooKGF8fHIpJiZuP246b3x8QyQxKTtyZXR1cm4gZS5zdGFydD10LHM/KGUubWF4UmVjb3JkQ291bnRGYWN0b3I9TWF0aC5taW4obCxNYXRoLmNlaWwoaS91KSksZS5udW09TWF0aC5taW4oaSxlLm1heFJlY29yZENvdW50RmFjdG9yKnUpKTplLm51bT1NYXRoLm1pbihpLHUpLCEwfX07ZSQxKFt5JDEoe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJ1cmxcIix2b2lkIDApLGUkMShbeSQxKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHgucHJvdG90eXBlLFwib2JqZWN0SWRGaWVsZFwiLHZvaWQgMCksZSQxKFt5JDEoe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJjYXBhYmlsaXRpZXNcIix2b2lkIDApLGUkMShbeSQxKHtjb25zdHJ1Y3RPbmx5OiEwfSldLHgucHJvdG90eXBlLFwic291cmNlU3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZSQxKFt5JDEoe2NvbnN0cnVjdE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlJDEoW3kkMSh7Y29uc3RydWN0T25seTohMH0pXSx4LnByb3RvdHlwZSxcInN0b3JlXCIsdm9pZCAwKSxlJDEoW3kkMSh7cmVhZE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJtaW5pbXVtVmVydGljZXNQZXJGZWF0dXJlXCIsbnVsbCksZSQxKFt5JDEoKV0seC5wcm90b3R5cGUsXCJmaWx0ZXJcIixudWxsKSxlJDEoW3kkMSgpXSx4LnByb3RvdHlwZSxcImN1c3RvbVBhcmFtZXRlcnNcIixudWxsKSxlJDEoW3kkMSh7cmVhZE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJjb25maWd1cmF0aW9uXCIsbnVsbCksZSQxKFt5JDEoKV0seC5wcm90b3R5cGUsXCJ0aWxlSW5mb1wiLG51bGwpLGUkMShbeSQxKCldLHgucHJvdG90eXBlLFwidGlsZVNpemVcIixudWxsKSxlJDEoW3kkMSgpXSx4LnByb3RvdHlwZSxcInRpbGVzT2ZJbnRlcmVzdFwiLHZvaWQgMCksZSQxKFt5JDEoe3JlYWRPbmx5OiEwfSldLHgucHJvdG90eXBlLFwidXBkYXRpbmdcIixudWxsKSxlJDEoW3kkMSh7cmVhZE9ubHk6ITB9KV0seC5wcm90b3R5cGUsXCJhdmFpbGFiaWxpdHlcIix2b2lkIDApLHg9ZSQxKFtpJDEoXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLmZlYXR1cmVTb3VyY2VzLmZlYXR1cmVTZXJ2aWNlU291cmNlLkZlYXR1cmVTZXJ2aWNlVGlsZWRGZXRjaGVyXCIpXSx4KTtjb25zdCBDJDE9MmUzLEk9NmU1LGokMj0xZTYscT0yNSxFPTE7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKCl7dGhpcy5fc3RvcmU9bmV3IE1hcCx0aGlzLl9ieXRlU2l6ZT0wO31zZXQodCxlKXt0aGlzLmRlbGV0ZSh0KSx0aGlzLl9zdG9yZS5zZXQodCxlKSx0aGlzLl9ieXRlU2l6ZSs9ZS5ieXRlU2l6ZTt9ZGVsZXRlKHQpe2NvbnN0IGU9dGhpcy5fc3RvcmUuZ2V0KHQpO3JldHVybiAhIXRoaXMuX3N0b3JlLmRlbGV0ZSh0KSYmKHRoaXMuX2J5dGVTaXplLT1lLmJ5dGVTaXplLCEwKX1nZXQodCl7cmV0dXJuIHRoaXMudXNlZCh0KSx0aGlzLl9zdG9yZS5nZXQodCl9aGFzKHQpe3JldHVybiB0aGlzLnVzZWQodCksdGhpcy5fc3RvcmUuaGFzKHQpfWNsZWFyKCl7dGhpcy5fc3RvcmUuY2xlYXIoKTt9YXBwbHlCeXRlU2l6ZUxpbWl0KHQsZSl7Zm9yKGNvbnN0W3Mscl1vZiB0aGlzLl9zdG9yZSl7aWYodGhpcy5fYnl0ZVNpemU8PXQpYnJlYWs7dGhpcy5kZWxldGUocyksZShyKTt9fXZhbHVlcygpe3JldHVybiB0aGlzLl9zdG9yZS52YWx1ZXMoKX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9zdG9yZVtTeW1ib2wuaXRlcmF0b3JdKCl9dXNlZCh0KXtjb25zdCBlPXRoaXMuX3N0b3JlLmdldCh0KTtlJiYodGhpcy5fc3RvcmUuZGVsZXRlKHQpLHRoaXMuX3N0b3JlLnNldCh0LGUpKTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IGc9Y2xhc3MgZXh0ZW5kcyB1JDF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50aWxlSW5mbz1udWxsLHRoaXMuZXh0ZW50PW51bGwsdGhpcy5tYXhpbXVtQnl0ZVNpemU9MTA0ODU3NjAsdGhpcy50aWxlQm91bmRzPW5ldyBlJDMsdGhpcy50aWxlcz1uZXcgdCx0aGlzLnJlZkNvdW50cz1uZXcgTWFwLHRoaXMudGlsZUZlYXR1cmVDb3VudHM9bmV3IE1hcCx0aGlzLnRtcEJvdW5kaW5nUmVjdD1pJDIoKTt9YWRkKGUsdCl7Y29uc3Qgcz1bXTtmb3IoY29uc3QgaSBvZiB0KTA9PT10aGlzLnJlZmVyZW5jZUZlYXR1cmUoaS5vYmplY3RJZCkmJnMucHVzaChpKTt0aGlzLmFkZFRpbGVTdG9yYWdlKGUsbmV3IFNldCh0Lm1hcCgoKHtvYmplY3RJZDplfSk9PmUpKSksdGhpcy5ieXRlU2l6ZU9mRmVhdHVyZXModCkpLHRoaXMuZmVhdHVyZVN0b3JlLmFkZE1hbnkocyksdGhpcy50aWxlcy5hcHBseUJ5dGVTaXplTGltaXQodGhpcy5tYXhpbXVtQnl0ZVNpemUsKGU9PnRoaXMucmVtb3ZlVGlsZVN0b3JhZ2UoZSkpKTt9ZGVzdHJveSgpe3RoaXMuY2xlYXIoKSx0aGlzLnRpbGVGZWF0dXJlQ291bnRzLmNsZWFyKCk7fWNsZWFyKCl7dGhpcy5mZWF0dXJlU3RvcmUuY2xlYXIoKSx0aGlzLnRpbGVCb3VuZHMuY2xlYXIoKSx0aGlzLnRpbGVzLmNsZWFyKCksdGhpcy5yZWZDb3VudHMuY2xlYXIoKTt9cmVmcmVzaCgpe3RoaXMuY2xlYXIoKSx0aGlzLnRpbGVGZWF0dXJlQ291bnRzLmNsZWFyKCk7fXByb2Nlc3NFZGl0cyhlLHQscyl7cmV0dXJuIHRoaXMucHJvY2Vzc0VkaXRzRGVsZXRlKGUuZGVsZXRlZEZlYXR1cmVzLmNvbmNhdChlLnVwZGF0ZWRGZWF0dXJlcykpLHRoaXMucHJvY2Vzc0VkaXRzUmVmZXRjaChlLmFkZGVkRmVhdHVyZXMuY29uY2F0KGUudXBkYXRlZEZlYXR1cmVzKSx0LHMpfWFkZFRpbGVTdG9yYWdlKGUsdCxzKXt0aGlzLnRpbGVzLnNldChlLmlkLG5ldyB5KGUsdCxzKSksdGhpcy50aWxlQm91bmRzLnNldChlLmlkLGUuZXh0ZW50KSx0aGlzLnRpbGVGZWF0dXJlQ291bnRzLnNldChlLmlkLHQuc2l6ZSk7fXJlbW92ZSh7aWQ6ZX0pe2NvbnN0IHQ9dGhpcy50aWxlcy5nZXQoZSk7dCYmdGhpcy5yZW1vdmVUaWxlU3RvcmFnZSh0KTt9cmVtb3ZlVGlsZVN0b3JhZ2UoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlLm9iamVjdElkcykxPT09dGhpcy51bnJlZmVyZW5jZUZlYXR1cmUoaSkmJnQucHVzaChpKTt0aGlzLmZlYXR1cmVTdG9yZS5yZW1vdmVNYW55QnlJZCh0KTtjb25zdCBzPWUuZGF0YS5pZDt0aGlzLnRpbGVzLmRlbGV0ZShzKSx0aGlzLnRpbGVCb3VuZHMuZGVsZXRlKHMpO31wcm9jZXNzRWRpdHNEZWxldGUoZSl7dGhpcy5mZWF0dXJlU3RvcmUucmVtb3ZlTWFueUJ5SWQoZSk7Zm9yKGNvbnN0Wyx0XW9mIHRoaXMudGlsZXMpe2Zvcihjb25zdCBzIG9mIGUpdC5vYmplY3RJZHMuZGVsZXRlKHMpO3RoaXMudGlsZUZlYXR1cmVDb3VudHMuc2V0KHQuZGF0YS5pZCx0Lm9iamVjdElkcy5zaXplKTt9Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLnJlZkNvdW50cy5kZWxldGUodCk7fWFzeW5jIHByb2Nlc3NFZGl0c1JlZmV0Y2goZSx0LHMpe2NvbnN0IGk9KGF3YWl0IHQoZSxzKSkuZmVhdHVyZXMse2hhc1o6cixoYXNNOm99PXRoaXMuZmVhdHVyZVN0b3JlO2Zvcihjb25zdCBuIG9mIGkpe2NvbnN0IGU9ZmUodGhpcy50bXBCb3VuZGluZ1JlY3Qsbi5nZW9tZXRyeSxyLG8pO3RoaXMudGlsZUJvdW5kcy5mb3JFYWNoSW5Cb3VuZHMoZSwoZT0+e2NvbnN0IHQ9dGhpcy50aWxlcy5nZXQoZSk7dGhpcy5mZWF0dXJlU3RvcmUuYWRkKG4pLHQub2JqZWN0SWRzLmhhcyhuLm9iamVjdElkKXx8KHQub2JqZWN0SWRzLmFkZChuLm9iamVjdElkKSx0aGlzLnJlZmVyZW5jZUZlYXR1cmUobi5vYmplY3RJZCksdGhpcy50aWxlRmVhdHVyZUNvdW50cy5zZXQodC5kYXRhLmlkLHQub2JqZWN0SWRzLnNpemUpKTt9KSk7fX1wcm9jZXNzKGUsaT0oKCk9PiEwKSl7aWYodCQyKHRoaXMudGlsZUluZm8pfHwhZS5leHRlbnR8fHIkMih0aGlzLmV4dGVudCkmJiFGJDEoYSh0aGlzLmV4dGVudCx0aGlzLnRtcEJvdW5kaW5nUmVjdCksZS5leHRlbnQpKXJldHVybiBuZXcgUyhlKTtpZih0aGlzLnRpbGVzLmhhcyhlLmlkKSlyZXR1cm4gbmV3IFMoZSk7Y29uc3Qgcj10aGlzLmNyZWF0ZVRpbGVUcmVlKGUsdGhpcy50aWxlSW5mbyk7cmV0dXJuIHRoaXMuc2ltcGxpZnkocixpLG51bGwsMCwxKSx0aGlzLmNvbGxlY3RNaXNzaW5nVGlsZXMoZSxyLHRoaXMudGlsZUluZm8pfWdldCBkZWJ1Z0luZm8oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnRpbGVzLnZhbHVlcygpKS5tYXAoKCh7ZGF0YTplfSk9Pih7ZGF0YTplLGZlYXR1cmVDb3VudDp0aGlzLnRpbGVGZWF0dXJlQ291bnRzLmdldChlLmlkKXx8MH0pKSl9Z2V0RmVhdHVyZUNvdW50KGUpe2NvbnN0IHQ9dGhpcy50aWxlRmVhdHVyZUNvdW50cy5nZXQoZS5pZCk7cmV0dXJuIG51bGwhPXQ/dDowfWFzeW5jIGZldGNoQ291bnQoZSx0LHMsaSl7Y29uc3Qgcj10aGlzLnRpbGVGZWF0dXJlQ291bnRzLmdldChlLmlkKTtpZihudWxsIT1yKXJldHVybiByO2NvbnN0IG89YXdhaXQgcCh0LHMsaSk7cmV0dXJuIHRoaXMudGlsZUZlYXR1cmVDb3VudHMuc2V0KGUuaWQsby5kYXRhLmNvdW50KSxvLmRhdGEuY291bnR9Y3JlYXRlVGlsZVRyZWUoZSx0KXtjb25zdCBzPW5ldyB2KGUubGV2ZWwsZS5yb3csZS5jb2wpO3JldHVybiB0LnVwZGF0ZVRpbGVJbmZvKHMsMSksdGhpcy50aWxlQm91bmRzLmZvckVhY2hJbkJvdW5kcyhlLmV4dGVudCwoaT0+e2NvbnN0IHI9dGhpcy50aWxlcy5nZXQoaSkuZGF0YTt0aGlzLnRpbGVzQXJlUmVsYXRlZChlLHIpJiZ0aGlzLnBvcHVsYXRlQ2hpbGRyZW4ocyxyLHQsdGhpcy50aWxlRmVhdHVyZUNvdW50cy5nZXQoci5pZCl8fDApO30pKSxzfXRpbGVzQXJlUmVsYXRlZChlLHQpe2lmKCFlfHwhdClyZXR1cm4gITE7aWYoZS5sZXZlbD09PXQubGV2ZWwpcmV0dXJuIGUucm93PT09dC5yb3cmJmUuY29sPT09dC5jb2w7Y29uc3Qgcz1lLmxldmVsPHQubGV2ZWwsaT1zP2U6dCxyPXM/dDplLG89MTw8ci5sZXZlbC1pLmxldmVsO3JldHVybiBNYXRoLmZsb29yKHIucm93L28pPT09aS5yb3cmJk1hdGguZmxvb3Ioci5jb2wvbyk9PT1pLmNvbH1wb3B1bGF0ZUNoaWxkcmVuKGUsdCxpLHIpe2NvbnN0IG89dC5sZXZlbC1lLmxldmVsLTE7aWYobzwwKXJldHVybiB2b2lkKGUuaXNMZWFmPSEwKTtjb25zdCBuPXQucm93Pj5vLGw9dC5jb2w+Pm8sYz1lLnJvdzw8MSxhPWwtKGUuY29sPDwxKSsobi1jPDwxKSxoPWUuY2hpbGRyZW5bYV07aWYociQyKGgpKXRoaXMucG9wdWxhdGVDaGlsZHJlbihoLHQsaSxyKTtlbHNlIHtjb25zdCBzPW5ldyB2KGUubGV2ZWwrMSxuLGwpO2kudXBkYXRlVGlsZUluZm8ocywxKSxlLmNoaWxkcmVuW2FdPXMsdGhpcy5wb3B1bGF0ZUNoaWxkcmVuKHMsdCxpLHIpO319c2ltcGxpZnkoZSx0LGkscixvKXtjb25zdCBuPW8qbztpZihlLmlzTGVhZilyZXR1cm4gdCh0aGlzLmdldEZlYXR1cmVDb3VudChlKSxvKT8wOih0aGlzLnJlbW92ZShlKSxyJDIoaSkmJihpLmNoaWxkcmVuW3JdPW51bGwpLG4pO2NvbnN0IGw9by8yLGM9bCpsO2xldCBhPTA7Zm9yKGxldCBoPTA7aDxlLmNoaWxkcmVuLmxlbmd0aDtoKyspe2NvbnN0IGk9ZS5jaGlsZHJlbltoXTthKz1yJDIoaSk/dGhpcy5zaW1wbGlmeShpLHQsZSxoLGwpOmM7fXJldHVybiAwPT09YT90aGlzLm1lcmdlQ2hpbGRyZW4oZSk6MS1hL248aiQxJiYodGhpcy5wdXJnZShlKSxyJDIoaSkmJihpLmNoaWxkcmVuW3JdPW51bGwpLGE9biksYX1tZXJnZUNoaWxkcmVuKGUpe2NvbnN0IHQ9bmV3IFNldDtsZXQgcz0wO3RoaXMuZm9yRWFjaExlYWYoZSwoZT0+e2NvbnN0IGk9dGhpcy50aWxlcy5nZXQoZS5pZCk7aWYoaSl7cys9aS5ieXRlU2l6ZTtmb3IoY29uc3QgZSBvZiBpLm9iamVjdElkcyl0LmhhcyhlKXx8KHQuYWRkKGUpLHRoaXMucmVmZXJlbmNlRmVhdHVyZShlKSk7dGhpcy5yZW1vdmUoZSk7fX0pKSx0aGlzLmFkZFRpbGVTdG9yYWdlKGUsdCxzKSxlLmlzTGVhZj0hMCxlLmNoaWxkcmVuWzBdPWUuY2hpbGRyZW5bMV09ZS5jaGlsZHJlblsyXT1lLmNoaWxkcmVuWzNdPW51bGwsdGhpcy50aWxlRmVhdHVyZUNvdW50cy5zZXQoZS5pZCx0LnNpemUpO31mb3JFYWNoTGVhZihlLHMpe2Zvcihjb25zdCBpIG9mIGUuY2hpbGRyZW4pdCQyKGkpfHwoaS5pc0xlYWY/cyhpKTp0aGlzLmZvckVhY2hMZWFmKGkscykpO31wdXJnZShlKXtpZighdCQyKGUpKWlmKGUuaXNMZWFmKXRoaXMucmVtb3ZlKGUpO2Vsc2UgZm9yKGxldCB0PTA7dDxlLmNoaWxkcmVuLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZS5jaGlsZHJlblt0XTt0aGlzLnB1cmdlKHMpLGUuY2hpbGRyZW5bdF09bnVsbDt9fWNvbGxlY3RNaXNzaW5nVGlsZXMoZSx0LHMpe2NvbnN0IGk9bmV3IEMocyxlLHRoaXMuZXh0ZW50KTtyZXR1cm4gdGhpcy5jb2xsZWN0TWlzc2luZ1RpbGVzUmVjdXJzZSh0LGksMSksaS5pbmZvfWNvbGxlY3RNaXNzaW5nVGlsZXNSZWN1cnNlKGUscyxpKXtpZihlLmlzTGVhZilyZXR1cm47aWYoIWUuaGFzQ2hpbGRyZW4pcmV0dXJuIHZvaWQgcy5hZGRNaXNzaW5nKGUubGV2ZWwsZS5yb3csZS5jb2wsaSk7Y29uc3Qgcj1pLzI7Zm9yKGxldCBvPTA7bzxlLmNoaWxkcmVuLmxlbmd0aDtvKyspe2NvbnN0IGk9ZS5jaGlsZHJlbltvXTt0JDIoaSk/cy5hZGRNaXNzaW5nKGUubGV2ZWwrMSwoZS5yb3c8PDEpKygoMiZvKT4+MSksKGUuY29sPDwxKSsoMSZvKSxyKTp0aGlzLmNvbGxlY3RNaXNzaW5nVGlsZXNSZWN1cnNlKGkscyxyKTt9fXJlZmVyZW5jZUZlYXR1cmUoZSl7Y29uc3QgdD0odGhpcy5yZWZDb3VudHMuZ2V0KGUpfHwwKSsxO3JldHVybiB0aGlzLnJlZkNvdW50cy5zZXQoZSx0KSwxPT09dD8wOjJ9dW5yZWZlcmVuY2VGZWF0dXJlKGUpe2NvbnN0IHQ9KHRoaXMucmVmQ291bnRzLmdldChlKXx8MCktMTtyZXR1cm4gMD09PXQ/KHRoaXMucmVmQ291bnRzLmRlbGV0ZShlKSwxKToodD4wJiZ0aGlzLnJlZkNvdW50cy5zZXQoZSx0KSwyKX1ieXRlU2l6ZU9mRmVhdHVyZXMoZSl7bGV0IHQ9MDtmb3IoY29uc3QgcyBvZiBlKXQrPXRoaXMuYnl0ZVNpemVPZkZlYXR1cmUocyk7cmV0dXJuIHR9Ynl0ZVNpemVPZkZlYXR1cmUoZSQxKXtyZXR1cm4gMzIrdGhpcy5ieXRlU2l6ZU9mR2VvbWV0cnkoZSQxLmdlb21ldHJ5KStlKGUkMS5hdHRyaWJ1dGVzKX1ieXRlU2l6ZU9mR2VvbWV0cnkoZSl7aWYoIWUpcmV0dXJuIDA7Y29uc3QgdD1yJDEoZS5sZW5ndGhzLDQpO3JldHVybiAzMityJDEoZS5jb29yZHMsOCkrdH1nZXQgdGVzdCgpe3JldHVybiB7dGlsZXM6QXJyYXkuZnJvbSh0aGlzLnRpbGVzLnZhbHVlcygpKS5tYXAoKGU9PmAke2UuZGF0YS5pZH06WyR7QXJyYXkuZnJvbShlLm9iamVjdElkcyl9XWApKSxmZWF0dXJlUmVmZXJlbmNlczpBcnJheS5mcm9tKHRoaXMucmVmQ291bnRzLmtleXMoKSkubWFwKChlPT5gJHtlfToke3RoaXMucmVmQ291bnRzLmdldChlKX1gKSl9fX07ZSQxKFt5JDEoe2NvbnN0cnVjdE9ubHk6ITB9KV0sZy5wcm90b3R5cGUsXCJmZWF0dXJlU3RvcmVcIix2b2lkIDApLGUkMShbeSQxKCldLGcucHJvdG90eXBlLFwidGlsZUluZm9cIix2b2lkIDApLGUkMShbeSQxKCldLGcucHJvdG90eXBlLFwiZXh0ZW50XCIsdm9pZCAwKSxlJDEoW3kkMSgpXSxnLnByb3RvdHlwZSxcIm1heGltdW1CeXRlU2l6ZVwiLHZvaWQgMCksZz1lJDEoW2kkMShcImVzcmkudmlld3MuaW50ZXJhY3RpdmUuc25hcHBpbmcuZmVhdHVyZVNvdXJjZXMuZmVhdHVyZVNlcnZpY2VTb3VyY2UuRmVhdHVyZVNlcnZpY2VUaWxlU3RvcmVcIildLGcpO2NsYXNzIHl7Y29uc3RydWN0b3IoZSx0LHMpe3RoaXMuZGF0YT1lLHRoaXMub2JqZWN0SWRzPXQsdGhpcy5ieXRlU2l6ZT1zO319Y2xhc3Mgdntjb25zdHJ1Y3RvcihlLHQscyl7dGhpcy5sZXZlbD1lLHRoaXMucm93PXQsdGhpcy5jb2w9cyx0aGlzLmlzTGVhZj0hMSx0aGlzLmV4dGVudD1udWxsLHRoaXMuY2hpbGRyZW49W251bGwsbnVsbCxudWxsLG51bGxdO31nZXQgaGFzQ2hpbGRyZW4oKXtyZXR1cm4gIXRoaXMuaXNMZWFmJiYociQyKHRoaXMuY2hpbGRyZW5bMF0pfHxyJDIodGhpcy5jaGlsZHJlblsxXSl8fHIkMih0aGlzLmNoaWxkcmVuWzJdKXx8ciQyKHRoaXMuY2hpbGRyZW5bM10pKX19Y2xhc3MgU3tjb25zdHJ1Y3RvcihlLHQ9W10pe3RoaXMubWlzc2luZ1RpbGVzPXQsdGhpcy5mdWxsQXJlYT0wLHRoaXMuY292ZXJlZEFyZWE9MCx0aGlzLmZ1bGxBcmVhPWwkMShlLmV4dGVudCksdGhpcy5jb3ZlcmVkQXJlYT10aGlzLmZ1bGxBcmVhO31wcmVwZW5kKGUpe3RoaXMubWlzc2luZ1RpbGVzPWUubWlzc2luZ1RpbGVzLmNvbmNhdCh0aGlzLm1pc3NpbmdUaWxlcyksdGhpcy5jb3ZlcmVkQXJlYSs9ZS5jb3ZlcmVkQXJlYSx0aGlzLmZ1bGxBcmVhKz1lLmZ1bGxBcmVhO319Y2xhc3MgQ3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50aWxlSW5mbz1lLHRoaXMuZXh0ZW50PW51bGwsdGhpcy5pbmZvPW5ldyBTKHQpLHIkMihpKSYmKHRoaXMuZXh0ZW50PWEoaSkpO31hZGRNaXNzaW5nKGUsdCxpLHIpe2NvbnN0IG89e2lkOm51bGwsbGV2ZWw6ZSxyb3c6dCxjb2w6aX07dGhpcy50aWxlSW5mby51cGRhdGVUaWxlSW5mbyhvLDEpLCFyJDIoby5leHRlbnQpfHxyJDIodGhpcy5leHRlbnQpJiYhRiQxKHRoaXMuZXh0ZW50LG8uZXh0ZW50KXx8KHRoaXMuaW5mby5taXNzaW5nVGlsZXMucHVzaCh7ZGF0YTpvLHJlc29sdXRpb246cn0pLHRoaXMuaW5mby5jb3ZlcmVkQXJlYS09bCQxKG8uZXh0ZW50KSk7fX1jb25zdCBqJDE9LjE4NzUxO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IHc9Y2xhc3MgZXh0ZW5kcyBuJDQuRXZlbnRlZEFjY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLmlzSW5pdGlhbGl6aW5nPSEwLHRoaXMud2hlblNldHVwPUUkMSgpLHRoaXMuaGFuZGxlcz1uZXcgdSQzLHRoaXMudXBkYXRpbmdIYW5kbGVzPW5ldyBsJDIsdGhpcy5wZW5kaW5nQXBwbHlFZGl0cz1uZXcgTWFwO31nZXQgdXBkYXRpbmcoKXtyZXR1cm4gdGhpcy5mZWF0dXJlRmV0Y2hlci51cGRhdGluZ3x8dGhpcy5pc0luaXRpYWxpemluZ3x8dGhpcy51cGRhdGluZ0hhbmRsZXMudXBkYXRpbmd9ZGVzdHJveSgpe3RoaXMuZmVhdHVyZUZldGNoZXIuZGVzdHJveSgpLHRoaXMucXVlcnlFbmdpbmUuZGVzdHJveSgpLHRoaXMuZmVhdHVyZVN0b3JlLmNsZWFyKCksdGhpcy5oYW5kbGVzLmRlc3Ryb3koKTt9YXN5bmMgc2V0dXAoZSl7Y29uc3R7Z2VvbWV0cnlUeXBlOnQsb2JqZWN0SWRGaWVsZDpyLHRpbWVJbmZvOmksZmllbGRzOnN9PWUuc2VydmljZUluZm87cmV0dXJuIHRoaXMuZmVhdHVyZVN0b3JlPW5ldyB1JDQoey4uLmUuc2VydmljZUluZm8saGFzWjohMSxoYXNNOiExfSksdGhpcy5xdWVyeUVuZ2luZT1uZXcgWih7c3BhdGlhbFJlZmVyZW5jZTplLnNwYXRpYWxSZWZlcmVuY2UsZmVhdHVyZVN0b3JlOnRoaXMuZmVhdHVyZVN0b3JlLGdlb21ldHJ5VHlwZTp0LGZpZWxkczpzLGhhc1o6ITEsaGFzTTohMSxvYmplY3RJZEZpZWxkOnIsdGltZUluZm86aT9jJDEuZnJvbUpTT04oaSk6bnVsbH0pLHRoaXMuZmVhdHVyZUZldGNoZXI9bmV3IHgoe3N0b3JlOm5ldyBnKHtmZWF0dXJlU3RvcmU6dGhpcy5mZWF0dXJlU3RvcmV9KSx1cmw6ZS5zZXJ2aWNlSW5mby51cmwsb2JqZWN0SWRGaWVsZDplLnNlcnZpY2VJbmZvLm9iamVjdElkRmllbGQsY2FwYWJpbGl0aWVzOmUuc2VydmljZUluZm8uY2FwYWJpbGl0aWVzLHNwYXRpYWxSZWZlcmVuY2U6ay5mcm9tSlNPTihlLnNwYXRpYWxSZWZlcmVuY2UpLHNvdXJjZVNwYXRpYWxSZWZlcmVuY2U6ay5mcm9tSlNPTihlLnNlcnZpY2VJbmZvLnNwYXRpYWxSZWZlcmVuY2UpfSksdGhpcy5oYW5kbGVzLmFkZChbdGhpcy5mZWF0dXJlRmV0Y2hlci53YXRjaChcImF2YWlsYWJpbGl0eVwiLChlPT50aGlzLmVtaXQoXCJub3RpZnktYXZhaWxhYmlsaXR5XCIse2F2YWlsYWJpbGl0eTplfSkpLCEwKSx0aGlzLndhdGNoKFwidXBkYXRpbmdcIiwoKCk9PnRoaXMubm90aWZ5VXBkYXRpbmcoKSkpXSksdGhpcy53aGVuU2V0dXAucmVzb2x2ZSgpLHRoaXMuaXNJbml0aWFsaXppbmc9ITEsdGhpcy5jb25maWd1cmUoZS5jb25maWd1cmF0aW9uKX1hc3luYyBjb25maWd1cmUoZSl7cmV0dXJuIGF3YWl0IHRoaXMudXBkYXRpbmdIYW5kbGVzLmFkZFByb21pc2UodGhpcy53aGVuU2V0dXAucHJvbWlzZSksdGhpcy51cGRhdGVGZWF0dXJlRmV0Y2hlckNvbmZpZ3VyYXRpb24oZSkse3Jlc3VsdDp7fX19YXN5bmMgZmV0Y2hDYW5kaWRhdGVzKGUscil7YXdhaXQgdGhpcy53aGVuU2V0dXAucHJvbWlzZSxhJDEocik7cmV0dXJuIHtyZXN1bHQ6YXdhaXQgdGhpcy5xdWVyeUVuZ2luZS5leGVjdXRlUXVlcnlGb3JTbmFwcGluZyh7cG9pbnQ6ZS5wb2ludCxkaXN0YW5jZTplLmRpc3RhbmNlLHR5cGVzOmUudHlwZXMscXVlcnk6ciQyKGUuZmlsdGVyKT9lLmZpbHRlcjp7d2hlcmU6XCIxPTFcIn19LHIkMihyKT9yLnNpZ25hbDpudWxsKX19YXN5bmMgdXBkYXRlVGlsZXMoZSxyKXtyZXR1cm4gYXdhaXQgdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLndoZW5TZXR1cC5wcm9taXNlKSxhJDEociksdGhpcy5mZWF0dXJlRmV0Y2hlci50aWxlU2l6ZT1lLnRpbGVTaXplLHRoaXMuZmVhdHVyZUZldGNoZXIudGlsZXNPZkludGVyZXN0PWUudGlsZXMsdGhpcy5mZWF0dXJlRmV0Y2hlci50aWxlSW5mbz1yJDIoZS50aWxlSW5mbyk/eCQxLmZyb21KU09OKGUudGlsZUluZm8pOm51bGwse3Jlc3VsdDp7fX19YXN5bmMgcmVmcmVzaChlLHQpe3JldHVybiBhd2FpdCB0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMud2hlblNldHVwLnByb21pc2UpLGEkMSh0KSx0aGlzLmZlYXR1cmVGZXRjaGVyLnJlZnJlc2goKSx7cmVzdWx0Ont9fX1hc3luYyB3aGVuTm90VXBkYXRpbmcoZSx0KXtyZXR1cm4gYXdhaXQgdGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLndoZW5TZXR1cC5wcm9taXNlKSxhJDEodCksYXdhaXQgZCQxKEEodGhpcyxcInVwZGF0aW5nXCIpLHQpLHtyZXN1bHQ6e319fWFzeW5jIGdldERlYnVnSW5mbyhlLHQpe3JldHVybiBhJDEodCkse3Jlc3VsdDp0aGlzLmZlYXR1cmVGZXRjaGVyLmRlYnVnSW5mb319YXN5bmMgYmVnaW5BcHBseUVkaXRzKGUsdCl7dGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLndoZW5TZXR1cC5wcm9taXNlKSxhJDEodCk7Y29uc3Qgcj1FJDEoKTtyZXR1cm4gdGhpcy5wZW5kaW5nQXBwbHlFZGl0cy5zZXQoZS5pZCxyKSx0aGlzLmZlYXR1cmVGZXRjaGVyLmFwcGx5RWRpdHMoci5wcm9taXNlKSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHIucHJvbWlzZSkse3Jlc3VsdDp7fX19YXN5bmMgZW5kQXBwbHlFZGl0cyhlLHQpe2NvbnN0IHI9dGhpcy5wZW5kaW5nQXBwbHlFZGl0cy5nZXQoZS5pZCk7cmV0dXJuIHImJnIucmVzb2x2ZShlLmVkaXRzKSxhJDEodCkse3Jlc3VsdDp7fX19dXBkYXRlRmVhdHVyZUZldGNoZXJDb25maWd1cmF0aW9uKGUpe3RoaXMuZmVhdHVyZUZldGNoZXIuZmlsdGVyPXIkMihlLmZpbHRlcik/Ui5mcm9tSlNPTihlLmZpbHRlcik6bnVsbCx0aGlzLmZlYXR1cmVGZXRjaGVyLmN1c3RvbVBhcmFtZXRlcnM9ZS5jdXN0b21QYXJhbWV0ZXJzO31ub3RpZnlVcGRhdGluZygpe3RoaXMuZW1pdChcIm5vdGlmeS11cGRhdGluZ1wiLHt1cGRhdGluZzp0aGlzLnVwZGF0aW5nfSk7fX07ZnVuY3Rpb24gaigpe3JldHVybiBuZXcgd31lJDEoW3kkMSh7cmVhZE9ubHk6ITB9KV0sdy5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUkMShbeSQxKCldLHcucHJvdG90eXBlLFwiaXNJbml0aWFsaXppbmdcIix2b2lkIDApLHc9ZSQxKFtpJDEoXCJlc3JpLnZpZXdzLmludGVyYWN0aXZlLnNuYXBwaW5nLmZlYXR1cmVTb3VyY2VzLmZlYXR1cmVTZXJ2aWNlU291cmNlLkZlYXR1cmVTZXJ2aWNlU25hcHBpbmdTb3VyY2VXb3JrZXJcIildLHcpO1xuXG5leHBvcnQgZGVmYXVsdCBqO1xuZXhwb3J0IHsgdyBhcyBGZWF0dXJlU2VydmljZVNuYXBwaW5nU291cmNlV29ya2VyIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZlYXR1cmVTZXJ2aWNlU25hcHBpbmdTb3VyY2VXb3JrZXItMDEwY2IwOTYuanMubWFwIiwiaW1wb3J0IHsgWiBhcyBlLCBfIGFzIHksIGEwIGFzIGksIGExIGFzIHUsIGI2IGFzIHUkMSwgYjcgYXMgZCQxLCBkMSBhcyBDLCB0LCBkMiBhcyByLCBjUyBhcyBrLCBkMyBhcyBvIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgbD1jbGFzcyBleHRlbmRzIHV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudXBkYXRpbmc9ITEsdGhpcy5oYW5kbGVJZD0wLHRoaXMuaGFuZGxlcz1uZXcgdSQxLHRoaXMuc2NoZWR1bGVIYW5kbGVJZD0wLHRoaXMucGVuZGluZ1Byb21pc2VzPW5ldyBTZXQ7fWRlc3Ryb3koKXt0aGlzLnJlbW92ZUFsbCgpLHRoaXMuaGFuZGxlcy5kZXN0cm95KCk7fWFkZChlLHMsdCxyPTApe2NvbnN0IGQ9MCE9KDEmciksaT0rK3RoaXMuaGFuZGxlSWQ7ZHx8dGhpcy5pbnN0YWxsU3luY1VwZGF0aW5nV2F0Y2goZSxzLGkpO2NvbnN0IG49MCE9KDImcik/ZCQxKGUscyx0LGQpOmUud2F0Y2gocyx0LGQpO3JldHVybiB0aGlzLmhhbmRsZXMuYWRkKG4saSkse3JlbW92ZTooKT0+e3RoaXMuaGFuZGxlcy5yZW1vdmUoaSk7fX19YWRkT25Db2xsZWN0aW9uUHJvcGVydHlDaGFuZ2UoZSxzLHQscj0wKXtjb25zdCBkPTAhPSgyJnIpLGk9Kyt0aGlzLmhhbmRsZUlkO3JldHVybiB0aGlzLmhhbmRsZXMuYWRkKFtDKGUscyxcImFmdGVyLWNoYW5nZXNcIix0aGlzLmNyZWF0ZVN5bmNVcGRhdGluZ0NhbGxiYWNrKCkpLEMoZSxzLFwiY2hhbmdlXCIsdCxkP2U9Pnt0KHthZGRlZDplLml0ZW1zLHJlbW92ZWQ6W10sbW92ZWQ6W10sdGFyZ2V0OmV9KTt9OnZvaWQgMCldLGkpLHtyZW1vdmU6KCk9Pnt0aGlzLmhhbmRsZXMucmVtb3ZlKGkpO319fWFkZE9uQ29sbGVjdGlvbkNoYW5nZShlLHMsdD0wKXtjb25zdCByPTAhPSgyJnQpLGQ9Kyt0aGlzLmhhbmRsZUlkO3JldHVybiB0aGlzLmhhbmRsZXMuYWRkKFtlLm9uKFwiYWZ0ZXItY2hhbmdlc1wiLHRoaXMuY3JlYXRlU3luY1VwZGF0aW5nQ2FsbGJhY2soKSksZS5vbihcImNoYW5nZVwiLHMpXSxkKSxyJiZzKHthZGRlZDplLml0ZW1zLHJlbW92ZWQ6W10sbW92ZWQ6W10sdGFyZ2V0OmV9KSx7cmVtb3ZlOigpPT57dGhpcy5oYW5kbGVzLnJlbW92ZShkKTt9fX1hZGRQcm9taXNlKGUpe2lmKHQoZSkpcmV0dXJuIGU7Y29uc3QgdCQxPSsrdGhpcy5oYW5kbGVJZDt0aGlzLmhhbmRsZXMuYWRkKHtyZW1vdmU6KCk9Pnt0aGlzLnBlbmRpbmdQcm9taXNlcy5kZWxldGUoZSkmJigwIT09dGhpcy5wZW5kaW5nUHJvbWlzZXMuc2l6ZXx8dGhpcy5oYW5kbGVzLmhhcyhwKXx8dGhpcy5fc2V0KFwidXBkYXRpbmdcIiwhMSkpO319LHQkMSksdGhpcy5wZW5kaW5nUHJvbWlzZXMuYWRkKGUpLHRoaXMuX3NldChcInVwZGF0aW5nXCIsITApO2NvbnN0IHI9KCk9PnRoaXMuaGFuZGxlcy5yZW1vdmUodCQxKTtyZXR1cm4gZS50aGVuKHIsciksZX1yZW1vdmVBbGwoKXt0aGlzLnBlbmRpbmdQcm9taXNlcy5jbGVhcigpLHRoaXMuaGFuZGxlcy5yZW1vdmVBbGwoKSx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCExKTt9aW5zdGFsbFN5bmNVcGRhdGluZ1dhdGNoKGUscyxyJDEpe2NvbnN0IGQ9dGhpcy5jcmVhdGVTeW5jVXBkYXRpbmdDYWxsYmFjaygpLGk9cigoKCk9Pm8oZSxzKSksZCk7cmV0dXJuIHRoaXMuaGFuZGxlcy5hZGQoaSxyJDEpLGl9Y3JlYXRlU3luY1VwZGF0aW5nQ2FsbGJhY2soKXtyZXR1cm4gKCk9Pnt0aGlzLmhhbmRsZXMucmVtb3ZlKHApLCsrdGhpcy5zY2hlZHVsZUhhbmRsZUlkO2NvbnN0IGU9dGhpcy5zY2hlZHVsZUhhbmRsZUlkO3RoaXMuX2dldChcInVwZGF0aW5nXCIpfHx0aGlzLl9zZXQoXCJ1cGRhdGluZ1wiLCEwKSx0aGlzLmhhbmRsZXMuYWRkKGsoKCgpPT57ZT09PXRoaXMuc2NoZWR1bGVIYW5kbGVJZCYmKHRoaXMuX3NldChcInVwZGF0aW5nXCIsdGhpcy5wZW5kaW5nUHJvbWlzZXMuc2l6ZT4wKSx0aGlzLmhhbmRsZXMucmVtb3ZlKHApKTt9KSkscCk7fX19O2UoW3koe3JlYWRPbmx5OiEwfSldLGwucHJvdG90eXBlLFwidXBkYXRpbmdcIix2b2lkIDApLGw9ZShbaShcImVzcmkudmlld3Muc3VwcG9ydC5XYXRjaFVwZGF0aW5nVHJhY2tpbmdcIildLGwpO2NvbnN0IHA9LTQyO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgYT10PT57bGV0IGE9Y2xhc3MgZXh0ZW5kcyB0e2Rlc3Ryb3koKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuaGFuZGxlcy5kZXN0cm95KCksdGhpcy51cGRhdGluZ0hhbmRsZXMuZGVzdHJveSgpKTt9Z2V0IGhhbmRsZXMoKXtyZXR1cm4gdGhpcy5fZ2V0KFwiaGFuZGxlc1wiKXx8bmV3IHUkMX1nZXQgdXBkYXRpbmdIYW5kbGVzKCl7cmV0dXJuIHRoaXMuX2dldChcInVwZGF0aW5nSGFuZGxlc1wiKXx8bmV3IGx9fTtyZXR1cm4gZShbeSh7cmVhZE9ubHk6ITB9KV0sYS5wcm90b3R5cGUsXCJoYW5kbGVzXCIsbnVsbCksZShbeSh7cmVhZE9ubHk6ITB9KV0sYS5wcm90b3R5cGUsXCJ1cGRhdGluZ0hhbmRsZXNcIixudWxsKSxhPWUoW2koXCJlc3JpLmNvcmUuSGFuZGxlT3duZXJcIildLGEpLGF9O2xldCBkPWNsYXNzIGV4dGVuZHMoYSh1KSl7fTtkPWUoW2koXCJlc3JpLmNvcmUuSGFuZGxlT3duZXJcIildLGQpO1xuXG5leHBvcnQgeyBhLCBkLCBsIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhhbmRsZU93bmVyLWNkNmNhMWY1LmpzLm1hcCIsImltcG9ydCB7IFogYXMgZSwgXyBhcyB5LCBiYyBhcyBOLCBhMCBhcyBpJDEsIGFvIGFzIGEsIGFxIGFzIHQsIHEgYXMgaiQxLCBhYiBhcyBlJDEsIGFqIGFzIG8sIE8gYXMgaywgYmQgYXMgcywgYmUgYXMgUiwgYmYgYXMgZCwgYmcgYXMgZywgYXYgYXMgUyB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0ICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcbmltcG9ydCB7IEcgfSBmcm9tICcuL3VuaXRVdGlscy02MjRjZWViNi5qcyc7XG5pbXBvcnQgeyBpIGFzIGkkMiB9IGZyb20gJy4vYWFCb3VuZGluZ1JlY3QtNjE5NzFmZTMuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGw7bGV0IHA9bD1jbGFzcyBleHRlbmRzIGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5sZXZlbD0wLHRoaXMubGV2ZWxWYWx1ZT1udWxsLHRoaXMucmVzb2x1dGlvbj0wLHRoaXMuc2NhbGU9MDt9Y2xvbmUoKXtyZXR1cm4gbmV3IGwoe2xldmVsOnRoaXMubGV2ZWwsbGV2ZWxWYWx1ZTp0aGlzLmxldmVsVmFsdWUscmVzb2x1dGlvbjp0aGlzLnJlc29sdXRpb24sc2NhbGU6dGhpcy5zY2FsZX0pfX07ZShbeSh7dHlwZTpOLGpzb246e3dyaXRlOiEwfX0pXSxwLnByb3RvdHlwZSxcImxldmVsXCIsdm9pZCAwKSxlKFt5KHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0scC5wcm90b3R5cGUsXCJsZXZlbFZhbHVlXCIsdm9pZCAwKSxlKFt5KHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0scC5wcm90b3R5cGUsXCJyZXNvbHV0aW9uXCIsdm9pZCAwKSxlKFt5KHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0scC5wcm90b3R5cGUsXCJzY2FsZVwiLHZvaWQgMCkscD1sPWUoW2kkMShcImVzcmkubGF5ZXJzLnN1cHBvcnQuTE9EXCIpXSxwKTt2YXIgaT1wO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4xOS9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIHY7Y29uc3Qgdz1uZXcgdCh7UE5HOlwicG5nXCIsUE5HODpcInBuZzhcIixQTkcyNDpcInBuZzI0XCIsUE5HMzI6XCJwbmczMlwiLEpQRUc6XCJqcGdcIixKUEc6XCJqcGdcIixESUI6XCJkaWJcIixUSUZGOlwidGlmZlwiLEVNRjpcImVtZlwiLFBTOlwicHNcIixQREY6XCJwZGZcIixHSUY6XCJnaWZcIixTVkc6XCJzdmdcIixTVkdaOlwic3ZnelwiLE1peGVkOlwibWl4ZWRcIixNSVhFRDpcIm1peGVkXCIsTEVSQzpcImxlcmNcIixMRVJDMkQ6XCJsZXJjMmRcIixSQVc6XCJyYXdcIixwYmY6XCJwYmZcIn0pO2xldCBqPXY9Y2xhc3MgZXh0ZW5kcyBhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuZHBpPTk2LHRoaXMuZm9ybWF0PW51bGwsdGhpcy5vcmlnaW49bnVsbCx0aGlzLm1pblNjYWxlPTAsdGhpcy5tYXhTY2FsZT0wLHRoaXMuc2l6ZT1udWxsLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1udWxsO31zdGF0aWMgY3JlYXRlKGU9e3NpemU6MjU2LHNwYXRpYWxSZWZlcmVuY2U6ay5XZWJNZXJjYXRvcn0pe2NvbnN0IHQ9ZS5yZXNvbHV0aW9uRmFjdG9yfHwxLG89ZS5zY2FsZXMscj1lLnNpemV8fDI1NixzJDE9ZS5zcGF0aWFsUmVmZXJlbmNlfHxrLldlYk1lcmNhdG9yO2lmKCFzKHMkMSkpe2NvbnN0IGU9W107aWYobylmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3Qgcj1vW3RdO2UucHVzaCh7bGV2ZWw6dCxzY2FsZTpyLHJlc29sdXRpb246cn0pO31lbHNlIHtsZXQgdD01ZS00O2ZvcihsZXQgbz0yMztvPj0wO28tLSllLnVuc2hpZnQoe2xldmVsOm8sc2NhbGU6dCxyZXNvbHV0aW9uOnR9KSx0Kj0yO31yZXR1cm4gbmV3IHYoe2RwaTo5Nixsb2RzOmUsb3JpZ2luOm5ldyBqJDEoMCwwLHMkMSksc2l6ZTpbcixyXSxzcGF0aWFsUmVmZXJlbmNlOnMkMX0pfWNvbnN0IGk9UyhzJDEpLGw9ZS5vcmlnaW4/bmV3IGokMSh7eDplLm9yaWdpbi54LHk6ZS5vcmlnaW4ueSxzcGF0aWFsUmVmZXJlbmNlOnMkMX0pOm5ldyBqJDEoaT97eDppLm9yaWdpblswXSx5Omkub3JpZ2luWzFdLHNwYXRpYWxSZWZlcmVuY2U6cyQxfTp7eDowLHk6MCxzcGF0aWFsUmVmZXJlbmNlOnMkMX0pLG49OTYsdT0xLyhHKHMkMSkqMzkuMzcqbiksaD1bXTtpZihvKWZvcihsZXQgcD0wO3A8by5sZW5ndGg7cCsrKXtjb25zdCBlPW9bcF0sdD1lKnU7aC5wdXNoKHtsZXZlbDpwLHNjYWxlOmUscmVzb2x1dGlvbjp0fSk7fWVsc2Uge2xldCBlPVIocyQxKT81MTIvcio1OTE2NTc1MjcuNTkxNzA5NDoyNTYvcio1OTE2NTc1MjcuNTkxNTU1O2NvbnN0IG89TWF0aC5jZWlsKDI0L3QpO2gucHVzaCh7bGV2ZWw6MCxzY2FsZTplLHJlc29sdXRpb246ZSp1fSk7Zm9yKGxldCByPTE7cjxvO3IrKyl7Y29uc3Qgbz1lLzIqKnQscz1vKnU7aC5wdXNoKHtsZXZlbDpyLHNjYWxlOm8scmVzb2x1dGlvbjpzfSksZT1vO319cmV0dXJuIG5ldyB2KHtkcGk6bixsb2RzOmgsb3JpZ2luOmwsc2l6ZTpbcixyXSxzcGF0aWFsUmVmZXJlbmNlOnMkMX0pfWdldCBpc1dyYXBwYWJsZSgpe2NvbnN0e3NwYXRpYWxSZWZlcmVuY2U6ZSxvcmlnaW46dH09dGhpcztpZihlJiZ0KXtjb25zdCBvPVMoZSk7cmV0dXJuIGUuaXNXcmFwcGFibGUmJk1hdGguYWJzKG8ub3JpZ2luWzBdLXQueCk8PW8uZHh9cmV0dXJuICExfXJlYWRPcmlnaW4oZSx0KXtyZXR1cm4gaiQxLmZyb21KU09OKHtzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZSwuLi5lfSl9c2V0IGxvZHMoZSl7bGV0IHQ9MCxvPTA7Y29uc3Qgcj1bXTt0aGlzLl9sZXZlbFRvTE9EPXt9LGUmJih0PS0xLzAsbz0xLzAsZS5mb3JFYWNoKChlPT57ci5wdXNoKGUuc2NhbGUpLHQ9ZS5zY2FsZT50P2Uuc2NhbGU6dCxvPWUuc2NhbGU8bz9lLnNjYWxlOm8sdGhpcy5fbGV2ZWxUb0xPRFtlLmxldmVsXT1lO30pKSksdGhpcy5fc2V0KFwic2NhbGVzXCIsciksdGhpcy5fc2V0KFwibWluU2NhbGVcIix0KSx0aGlzLl9zZXQoXCJtYXhTY2FsZVwiLG8pLHRoaXMuX3NldChcImxvZHNcIixlKSx0aGlzLl9pbml0aWFsaXplVXBzYW1wbGVMZXZlbHMoKTt9cmVhZFNpemUoZSx0KXtyZXR1cm4gW3QuY29scyx0LnJvd3NdfXdyaXRlU2l6ZShlLHQpe3QuY29scz1lWzBdLHQucm93cz1lWzBdO316b29tVG9TY2FsZShlKXtjb25zdCB0PXRoaXMuc2NhbGVzO2lmKGU8PTApcmV0dXJuIHRbMF07aWYoZT49dC5sZW5ndGgpcmV0dXJuIHRbdC5sZW5ndGgtMV07e2NvbnN0IG89TWF0aC5yb3VuZChlLS41KSxyPU1hdGgucm91bmQoZSk7cmV0dXJuIHRbcl0rKHItZSkqKHRbb10tdFtyXSl9fXNjYWxlVG9ab29tKGUpe2NvbnN0IHQ9dGhpcy5zY2FsZXMsbz10Lmxlbmd0aC0xO2xldCByPTA7Zm9yKDtyPG87cisrKXtjb25zdCBvPXRbcl0scz10W3IrMV07aWYobzw9ZSlyZXR1cm4gcjtpZihzPT09ZSlyZXR1cm4gcisxO2lmKG8+ZSYmczxlKXJldHVybiByKzEtKGUtcykvKG8tcyl9cmV0dXJuIHJ9c25hcFNjYWxlKGUsdD0uOTUpe2NvbnN0IG89dGhpcy5zY2FsZVRvWm9vbShlKTtyZXR1cm4gbyVNYXRoLmZsb29yKG8pPj10P3RoaXMuem9vbVRvU2NhbGUoTWF0aC5jZWlsKG8pKTp0aGlzLnpvb21Ub1NjYWxlKE1hdGguZmxvb3IobykpfXRpbGVBdChlLHQsbyxyKXtjb25zdCBzPXRoaXMubG9kQXQoZSk7aWYoIXMpcmV0dXJuIG51bGw7bGV0IGksbDtpZihcIm51bWJlclwiPT10eXBlb2YgdClpPXQsbD1vO2Vsc2UgaWYoZCh0LnNwYXRpYWxSZWZlcmVuY2UsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKSlpPXQueCxsPXQueSxyPW87ZWxzZSB7Y29uc3QgZT1nKHQsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTtpZighZSlyZXR1cm4gbnVsbDtpPWUueCxsPWUueSxyPW87fWNvbnN0IG49cy5yZXNvbHV0aW9uKnRoaXMuc2l6ZVswXSxwPXMucmVzb2x1dGlvbip0aGlzLnNpemVbMV07cmV0dXJuIHJ8fChyPXtpZDpudWxsLGxldmVsOjAscm93OjAsY29sOjAsZXh0ZW50OmkkMigpfSksci5sZXZlbD1lLHIucm93PU1hdGguZmxvb3IoKHRoaXMub3JpZ2luLnktbCkvcCsuMDAxKSxyLmNvbD1NYXRoLmZsb29yKChpLXRoaXMub3JpZ2luLngpL24rLjAwMSksdGhpcy51cGRhdGVUaWxlSW5mbyhyKSxyfXVwZGF0ZVRpbGVJbmZvKGUsdD0wKXtsZXQgbz10aGlzLmxvZEF0KGUubGV2ZWwpO2lmKCFvJiYxPT09dCl7Y29uc3QgdD10aGlzLmxvZHNbdGhpcy5sb2RzLmxlbmd0aC0xXTt0LmxldmVsPGUubGV2ZWwmJihvPXQpO31pZighbylyZXR1cm47Y29uc3Qgcj1lLmxldmVsLW8ubGV2ZWwscz1vLnJlc29sdXRpb24qdGhpcy5zaXplWzBdLzIqKnIsaT1vLnJlc29sdXRpb24qdGhpcy5zaXplWzFdLzIqKnI7ZS5pZD1gJHtlLmxldmVsfS8ke2Uucm93fS8ke2UuY29sfWAsZS5leHRlbnR8fChlLmV4dGVudD1pJDIoKSksZS5leHRlbnRbMF09dGhpcy5vcmlnaW4ueCtlLmNvbCpzLGUuZXh0ZW50WzFdPXRoaXMub3JpZ2luLnktKGUucm93KzEpKmksZS5leHRlbnRbMl09ZS5leHRlbnRbMF0rcyxlLmV4dGVudFszXT1lLmV4dGVudFsxXStpO311cHNhbXBsZVRpbGUoZSl7Y29uc3QgdD10aGlzLl91cHNhbXBsZUxldmVsc1tlLmxldmVsXTtyZXR1cm4gISghdHx8LTE9PT10LnBhcmVudExldmVsKSYmKGUubGV2ZWw9dC5wYXJlbnRMZXZlbCxlLnJvdz1NYXRoLmZsb29yKGUucm93L3QuZmFjdG9yKy4wMDEpLGUuY29sPU1hdGguZmxvb3IoZS5jb2wvdC5mYWN0b3IrLjAwMSksdGhpcy51cGRhdGVUaWxlSW5mbyhlKSwhMCl9Z2V0VGlsZUJvdW5kcyhlLHQpe2NvbnN0e3Jlc29sdXRpb246b309dGhpcy5sb2RBdCh0LmxldmVsKSxyPW8qdGhpcy5zaXplWzBdLHM9byp0aGlzLnNpemVbMV07cmV0dXJuIGVbMF09dGhpcy5vcmlnaW4ueCt0LmNvbCpyLGVbMV09dGhpcy5vcmlnaW4ueS0odC5yb3crMSkqcyxlWzJdPWVbMF0rcixlWzNdPWVbMV0rcyxlfWxvZEF0KGUpe3JldHVybiB0aGlzLl9sZXZlbFRvTE9EJiZ0aGlzLl9sZXZlbFRvTE9EW2VdfHxudWxsfWNsb25lKCl7cmV0dXJuIHYuZnJvbUpTT04odGhpcy53cml0ZSh7fSkpfV9pbml0aWFsaXplVXBzYW1wbGVMZXZlbHMoKXtjb25zdCBlPXRoaXMubG9kczt0aGlzLl91cHNhbXBsZUxldmVscz1bXTtsZXQgdD1udWxsO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCByPWVbb107dGhpcy5fdXBzYW1wbGVMZXZlbHNbci5sZXZlbF09e3BhcmVudExldmVsOnQ/dC5sZXZlbDotMSxmYWN0b3I6dD90LnJlc29sdXRpb24vci5yZXNvbHV0aW9uOjB9LHQ9cjt9fX07ZShbeSh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGoucHJvdG90eXBlLFwiY29tcHJlc3Npb25RdWFsaXR5XCIsdm9pZCAwKSxlKFt5KHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sai5wcm90b3R5cGUsXCJkcGlcIix2b2lkIDApLGUoW3koe3R5cGU6U3RyaW5nLGpzb246e3JlYWQ6dy5yZWFkLHdyaXRlOncud3JpdGUsb3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7cmVhZDohMSx3cml0ZTohMX19fX0pXSxqLnByb3RvdHlwZSxcImZvcm1hdFwiLHZvaWQgMCksZShbeSh7cmVhZE9ubHk6ITB9KV0sai5wcm90b3R5cGUsXCJpc1dyYXBwYWJsZVwiLG51bGwpLGUoW3koe3R5cGU6aiQxLGpzb246e3dyaXRlOiEwfX0pXSxqLnByb3RvdHlwZSxcIm9yaWdpblwiLHZvaWQgMCksZShbZSQxKFwib3JpZ2luXCIpXSxqLnByb3RvdHlwZSxcInJlYWRPcmlnaW5cIixudWxsKSxlKFt5KHt0eXBlOltpXSx2YWx1ZTpudWxsLGpzb246e3dyaXRlOiEwfX0pXSxqLnByb3RvdHlwZSxcImxvZHNcIixudWxsKSxlKFt5KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcIm1pblNjYWxlXCIsdm9pZCAwKSxlKFt5KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcIm1heFNjYWxlXCIsdm9pZCAwKSxlKFt5KHtyZWFkT25seTohMH0pXSxqLnByb3RvdHlwZSxcInNjYWxlc1wiLHZvaWQgMCksZShbeSh7Y2FzdDplPT5BcnJheS5pc0FycmF5KGUpP2U6XCJudW1iZXJcIj09dHlwZW9mIGU/W2UsZV06WzI1NiwyNTZdfSldLGoucHJvdG90eXBlLFwic2l6ZVwiLHZvaWQgMCksZShbZSQxKFwic2l6ZVwiLFtcInJvd3NcIixcImNvbHNcIl0pXSxqLnByb3RvdHlwZSxcInJlYWRTaXplXCIsbnVsbCksZShbbyhcInNpemVcIix7Y29sczp7dHlwZTpOfSxyb3dzOnt0eXBlOk59fSldLGoucHJvdG90eXBlLFwid3JpdGVTaXplXCIsbnVsbCksZShbeSh7dHlwZTprLGpzb246e3dyaXRlOiEwfX0pXSxqLnByb3RvdHlwZSxcInNwYXRpYWxSZWZlcmVuY2VcIix2b2lkIDApLGo9dj1lKFtpJDEoXCJlc3JpLmxheWVycy5zdXBwb3J0LlRpbGVJbmZvXCIpXSxqKTt2YXIgeD1qO1xuXG5leHBvcnQgeyBpLCB4IH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGVJbmZvLTYzOWU1MDM4LmpzLm1hcCIsImltcG9ydCB7IFogYXMgZSwgXyBhcyB5LCBhMCBhcyBpJDEsIGFvIGFzIGEkMSwgYWIgYXMgZSQxLCBhaiBhcyBvLCBSIGFzIHkkMSB9IGZyb20gJy4vRGF0YUJyb3dzZXItNWNlMmFkZTkuanMnO1xuaW1wb3J0ICcuL2FyY2dpcy1nZW9lbnJpY2htZW50LWRhdGFicm93c2VyLTZjYThlYTE0LmpzJztcbmltcG9ydCB7IHIsIGkgYXMgaSQyLCBkIGFzIGQkMSB9IGZyb20gJy4vVGltZUV4dGVudC03Zjg1N2EzOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgcCQyO2xldCB1PXAkMj1jbGFzcyBleHRlbmRzIGEkMXtjb25zdHJ1Y3RvcihyKXtzdXBlcihyKSx0aGlzLnZhbHVlPTAsdGhpcy51bml0PVwibWlsbGlzZWNvbmRzXCI7fXRvTWlsbGlzZWNvbmRzKCl7cmV0dXJuIHRoaXMudmFsdWUqaSQyW3RoaXMudW5pdF19Y2xvbmUoKXtyZXR1cm4gbmV3IHAkMih7dmFsdWU6dGhpcy52YWx1ZSx1bml0OnRoaXMudW5pdH0pfX07ZShbeSh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9LG5vbk51bGxhYmxlOiEwfSldLHUucHJvdG90eXBlLFwidmFsdWVcIix2b2lkIDApLGUoW3koe3R5cGU6ci5hcGlWYWx1ZXMsanNvbjp7dHlwZTpyLmpzb25WYWx1ZXMscmVhZDpyLnJlYWQsd3JpdGU6ci53cml0ZX0sbm9uTnVsbGFibGU6ITB9KV0sdS5wcm90b3R5cGUsXCJ1bml0XCIsdm9pZCAwKSx1PXAkMj1lKFtpJDEoXCJlc3JpLlRpbWVJbnRlcnZhbFwiKV0sdSk7dmFyIGw9dTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBpO2xldCBwJDE9aT1jbGFzcyBleHRlbmRzIGEkMXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJlc3BlY3RzRGF5bGlnaHRTYXZpbmc9ITEsdGhpcy50aW1lem9uZT1udWxsO31yZWFkUmVzcGVjdHNEYXlsaWdodFNhdmluZyhlLHIpe3JldHVybiB2b2lkIDAhPT1yLnJlc3BlY3RzRGF5bGlnaHRTYXZpbmc/ci5yZXNwZWN0c0RheWxpZ2h0U2F2aW5nOnZvaWQgMCE9PXIucmVzcGVjdERheWxpZ2h0U2F2aW5nJiZyLnJlc3BlY3REYXlsaWdodFNhdmluZ31jbG9uZSgpe2NvbnN0e3Jlc3BlY3RzRGF5bGlnaHRTYXZpbmc6ZSx0aW1lem9uZTpyfT10aGlzO3JldHVybiBuZXcgaSh7cmVzcGVjdHNEYXlsaWdodFNhdmluZzplLHRpbWV6b25lOnJ9KX19O2UoW3koe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0scCQxLnByb3RvdHlwZSxcInJlc3BlY3RzRGF5bGlnaHRTYXZpbmdcIix2b2lkIDApLGUoW2UkMShcInJlc3BlY3RzRGF5bGlnaHRTYXZpbmdcIixbXCJyZXNwZWN0c0RheWxpZ2h0U2F2aW5nXCIsXCJyZXNwZWN0RGF5bGlnaHRTYXZpbmdcIl0pXSxwJDEucHJvdG90eXBlLFwicmVhZFJlc3BlY3RzRGF5bGlnaHRTYXZpbmdcIixudWxsKSxlKFt5KHt0eXBlOlN0cmluZyxqc29uOntyZWFkOntzb3VyY2U6XCJ0aW1lWm9uZVwifSx3cml0ZTp7dGFyZ2V0OlwidGltZVpvbmVcIn19fSldLHAkMS5wcm90b3R5cGUsXCJ0aW1lem9uZVwiLHZvaWQgMCkscCQxPWk9ZShbaSQxKFwiZXNyaS5sYXllcnMuc3VwcG9ydC5UaW1lUmVmZXJlbmNlXCIpXSxwJDEpO3ZhciBhPXAkMTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBwO2xldCBkPXA9Y2xhc3MgZXh0ZW5kcyBhJDF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdW11bGF0aXZlPSExLHRoaXMuZW5kRmllbGQ9bnVsbCx0aGlzLmZ1bGxUaW1lRXh0ZW50PW51bGwsdGhpcy5oYXNMaXZlRGF0YT0hMSx0aGlzLmludGVydmFsPW51bGwsdGhpcy5zdGFydEZpZWxkPW51bGwsdGhpcy50aW1lUmVmZXJlbmNlPW51bGwsdGhpcy50cmFja0lkRmllbGQ9bnVsbCx0aGlzLnVzZVRpbWU9ITA7fXJlYWRGdWxsVGltZUV4dGVudChlLHQpe2lmKCF0LnRpbWVFeHRlbnR8fCFBcnJheS5pc0FycmF5KHQudGltZUV4dGVudCl8fDIhPT10LnRpbWVFeHRlbnQubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9bmV3IERhdGUodC50aW1lRXh0ZW50WzBdKSxpPW5ldyBEYXRlKHQudGltZUV4dGVudFsxXSk7cmV0dXJuIG5ldyBkJDEoe3N0YXJ0OnIsZW5kOml9KX13cml0ZUZ1bGxUaW1lRXh0ZW50KGUsdCl7ZSYmZS5zdGFydCYmZS5lbmQ/dC50aW1lRXh0ZW50PVtlLnN0YXJ0LmdldFRpbWUoKSxlLmVuZC5nZXRUaW1lKCldOnQudGltZUV4dGVudD1udWxsO31yZWFkSW50ZXJ2YWwoZSx0KXtyZXR1cm4gdC50aW1lSW50ZXJ2YWwmJnQudGltZUludGVydmFsVW5pdHM/bmV3IGwoe3ZhbHVlOnQudGltZUludGVydmFsLHVuaXQ6ci5mcm9tSlNPTih0LnRpbWVJbnRlcnZhbFVuaXRzKX0pOnQuZGVmYXVsdFRpbWVJbnRlcnZhbCYmdC5kZWZhdWx0VGltZUludGVydmFsVW5pdHM/bmV3IGwoe3ZhbHVlOnQuZGVmYXVsdFRpbWVJbnRlcnZhbCx1bml0OnIuZnJvbUpTT04odC5kZWZhdWx0VGltZUludGVydmFsVW5pdHMpfSk6bnVsbH13cml0ZUludGVydmFsKGUsdCl7aWYoZSl7Y29uc3Qgcj1lLnRvSlNPTigpO3QudGltZUludGVydmFsPXIudmFsdWUsdC50aW1lSW50ZXJ2YWxVbml0cz1yLnVuaXQ7fWVsc2UgdC50aW1lSW50ZXJ2YWw9bnVsbCx0LnRpbWVJbnRlcnZhbFVuaXRzPW51bGw7fWNsb25lKCl7Y29uc3R7Y3VtdWxhdGl2ZTplLGVuZEZpZWxkOnIsaGFzTGl2ZURhdGE6aSxpbnRlcnZhbDpsLHN0YXJ0RmllbGQ6byx0aW1lUmVmZXJlbmNlOm4sZnVsbFRpbWVFeHRlbnQ6YSx0cmFja0lkRmllbGQ6cyx1c2VUaW1lOm19PXRoaXM7cmV0dXJuIG5ldyBwKHtjdW11bGF0aXZlOmUsZW5kRmllbGQ6cixoYXNMaXZlRGF0YTppLGludGVydmFsOmwsc3RhcnRGaWVsZDpvLHRpbWVSZWZlcmVuY2U6eSQxKG4pLGZ1bGxUaW1lRXh0ZW50OnkkMShhKSx0cmFja0lkRmllbGQ6cyx1c2VUaW1lOm19KX19O2UoW3koe3R5cGU6Qm9vbGVhbixqc29uOntyZWFkOntzb3VyY2U6XCJleHBvcnRPcHRpb25zLnRpbWVEYXRhQ3VtdWxhdGl2ZVwifSx3cml0ZTp7dGFyZ2V0OlwiZXhwb3J0T3B0aW9ucy50aW1lRGF0YUN1bXVsYXRpdmVcIn19fSldLGQucHJvdG90eXBlLFwiY3VtdWxhdGl2ZVwiLHZvaWQgMCksZShbeSh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp7c291cmNlOlwiZW5kVGltZUZpZWxkXCJ9LHdyaXRlOnt0YXJnZXQ6XCJlbmRUaW1lRmllbGRcIixhbGxvd051bGw6ITB9fX0pXSxkLnByb3RvdHlwZSxcImVuZEZpZWxkXCIsdm9pZCAwKSxlKFt5KHt0eXBlOmQkMSxqc29uOnt3cml0ZTp7ZW5hYmxlZDohMCxhbGxvd051bGw6ITB9fX0pXSxkLnByb3RvdHlwZSxcImZ1bGxUaW1lRXh0ZW50XCIsdm9pZCAwKSxlKFtlJDEoXCJmdWxsVGltZUV4dGVudFwiLFtcInRpbWVFeHRlbnRcIl0pXSxkLnByb3RvdHlwZSxcInJlYWRGdWxsVGltZUV4dGVudFwiLG51bGwpLGUoW28oXCJmdWxsVGltZUV4dGVudFwiKV0sZC5wcm90b3R5cGUsXCJ3cml0ZUZ1bGxUaW1lRXh0ZW50XCIsbnVsbCksZShbeSh7dHlwZTpCb29sZWFuLGpzb246e3dyaXRlOiEwfX0pXSxkLnByb3RvdHlwZSxcImhhc0xpdmVEYXRhXCIsdm9pZCAwKSxlKFt5KHt0eXBlOmwsanNvbjp7d3JpdGU6e2VuYWJsZWQ6ITAsYWxsb3dOdWxsOiEwfX19KV0sZC5wcm90b3R5cGUsXCJpbnRlcnZhbFwiLHZvaWQgMCksZShbZSQxKFwiaW50ZXJ2YWxcIixbXCJ0aW1lSW50ZXJ2YWxcIixcInRpbWVJbnRlcnZhbFVuaXRzXCIsXCJkZWZhdWx0VGltZUludGVydmFsXCIsXCJkZWZhdWx0VGltZUludGVydmFsVW5pdHNcIl0pXSxkLnByb3RvdHlwZSxcInJlYWRJbnRlcnZhbFwiLG51bGwpLGUoW28oXCJpbnRlcnZhbFwiKV0sZC5wcm90b3R5cGUsXCJ3cml0ZUludGVydmFsXCIsbnVsbCksZShbeSh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp7c291cmNlOlwic3RhcnRUaW1lRmllbGRcIn0sd3JpdGU6e3RhcmdldDpcInN0YXJ0VGltZUZpZWxkXCIsYWxsb3dOdWxsOiEwfX19KV0sZC5wcm90b3R5cGUsXCJzdGFydEZpZWxkXCIsdm9pZCAwKSxlKFt5KHt0eXBlOmEsanNvbjp7d3JpdGU6e2VuYWJsZWQ6ITAsYWxsb3dOdWxsOiEwfX19KV0sZC5wcm90b3R5cGUsXCJ0aW1lUmVmZXJlbmNlXCIsdm9pZCAwKSxlKFt5KHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTp7ZW5hYmxlZDohMCxhbGxvd051bGw6ITB9fX0pXSxkLnByb3RvdHlwZSxcInRyYWNrSWRGaWVsZFwiLHZvaWQgMCksZShbeSh7dHlwZTpCb29sZWFuLGpzb246e3JlYWQ6e3NvdXJjZTpcImV4cG9ydE9wdGlvbnMudXNlVGltZVwifSx3cml0ZTp7dGFyZ2V0OlwiZXhwb3J0T3B0aW9ucy51c2VUaW1lXCJ9fX0pXSxkLnByb3RvdHlwZSxcInVzZVRpbWVcIix2b2lkIDApLGQ9cD1lKFtpJDEoXCJlc3JpLmxheWVycy5zdXBwb3J0LlRpbWVJbmZvXCIpXSxkKTt2YXIgYz1kO1xuXG5leHBvcnQgeyBjLCBsIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWVJbmZvLWNhZTNjYTcwLmpzLm1hcCIsImltcG9ydCB7IGFpIGFzIEEsIGFtIGFzIHcgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4odCxuLGUpe3JldHVybiBBKHQubWFwKCgocix0KT0+bi5hcHBseShlLFtyLHRdKSkpKX1mdW5jdGlvbiBlKHQsbixlKXtyZXR1cm4gQSh0Lm1hcCgoKHIsdCk9Pm4uYXBwbHkoZSxbcix0XSkpKSkudGhlbigocj0+ci5tYXAoKHI9PnIudmFsdWUpKSkpfWZ1bmN0aW9uIG8ocil7cmV0dXJuIHIudGhlbigocj0+KHtvazohMCx2YWx1ZTpyfSkpKS5jYXRjaCgocj0+KHtvazohMSxlcnJvcjpyfSkpKX1mdW5jdGlvbiB1KHIpe3JldHVybiByLnRoZW4oKHI9Pih7b2s6ITAsdmFsdWU6cn0pKSkuY2F0Y2goKHI9Pnt3KHIpO3JldHVybiB7b2s6ITEsZXJyb3I6cn19KSl9XG5cbmV4cG9ydCB7IGUsIG4sIG8sIHUgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmNVdGlscy1hZjc4Mjg1Ny5qcy5tYXAiLCJpbXBvcnQgeyBIIGFzIHIsIGFyIGFzIGQkMSwgVSwgYjMgYXMgRCwgaiBhcyBVJDEgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCB7IEwgfSBmcm9tICcuL25vcm1hbGl6ZVV0aWxzLTY5ZjgzYzA1LmpzJztcbmltcG9ydCB7IHQgYXMgdCQxIH0gZnJvbSAnLi9xdWVyeVpTY2FsZS04ZmQ1YTE2MC5qcyc7XG5pbXBvcnQgeyB0IGFzIHQkMiB9IGZyb20gJy4vcGJmUXVlcnlVdGlscy04YTlmYzg3ZC5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KG4pe2NvbnN0IG89e307Zm9yKGNvbnN0IGUgaW4gbil7aWYoXCJkZWNsYXJlZENsYXNzXCI9PT1lKWNvbnRpbnVlO2NvbnN0IHI9bltlXTtpZihudWxsIT1yJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByKWlmKEFycmF5LmlzQXJyYXkocikpe29bZV09W107Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspb1tlXVtuXT10KHJbbl0pO31lbHNlIFwib2JqZWN0XCI9PXR5cGVvZiByP3IudG9KU09OJiYob1tlXT1KU09OLnN0cmluZ2lmeShyKSk6b1tlXT1yO31yZXR1cm4gb31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGw9XCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGV4dGVudCBjYWxjdWxhdGlvbi5cIjtmdW5jdGlvbiBtKGUsciQxKXtjb25zdCBpPWUuZ2VvbWV0cnksbz1lLnRvSlNPTigpLHM9bztpZihyKGkpJiYocy5nZW9tZXRyeT1KU09OLnN0cmluZ2lmeShpKSxzLmdlb21ldHJ5VHlwZT1kJDEoaSkscy5pblNSPWkuc3BhdGlhbFJlZmVyZW5jZS53a2lkfHxKU09OLnN0cmluZ2lmeShpLnNwYXRpYWxSZWZlcmVuY2UpKSxvLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzJiYocy5ncm91cEJ5RmllbGRzRm9yU3RhdGlzdGljcz1vLmdyb3VwQnlGaWVsZHNGb3JTdGF0aXN0aWNzLmpvaW4oXCIsXCIpKSxvLm9iamVjdElkcyYmKHMub2JqZWN0SWRzPW8ub2JqZWN0SWRzLmpvaW4oXCIsXCIpKSxvLm9yZGVyQnlGaWVsZHMmJihzLm9yZGVyQnlGaWVsZHM9by5vcmRlckJ5RmllbGRzLmpvaW4oXCIsXCIpKSwhby5vdXRGaWVsZHN8fCFvLnJldHVybkRpc3RpbmN0VmFsdWVzJiYobnVsbCE9ciQxJiZyJDEucmV0dXJuQ291bnRPbmx5fHxudWxsIT1yJDEmJnIkMS5yZXR1cm5FeHRlbnRPbmx5fHxudWxsIT1yJDEmJnIkMS5yZXR1cm5JZHNPbmx5KT9kZWxldGUgcy5vdXRGaWVsZHM6LTEhPT1vLm91dEZpZWxkcy5pbmRleE9mKFwiKlwiKT9zLm91dEZpZWxkcz1cIipcIjpzLm91dEZpZWxkcz1vLm91dEZpZWxkcy5qb2luKFwiLFwiKSxvLm91dFNSP3Mub3V0U1I9by5vdXRTUi53a2lkfHxKU09OLnN0cmluZ2lmeShvLm91dFNSKTppJiYoby5yZXR1cm5HZW9tZXRyeXx8by5yZXR1cm5DZW50cm9pZCkmJihzLm91dFNSPXMuaW5TUiksby5yZXR1cm5HZW9tZXRyeSYmZGVsZXRlIG8ucmV0dXJuR2VvbWV0cnksby5vdXRTdGF0aXN0aWNzJiYocy5vdXRTdGF0aXN0aWNzPUpTT04uc3RyaW5naWZ5KG8ub3V0U3RhdGlzdGljcykpLG8ucGl4ZWxTaXplJiYocy5waXhlbFNpemU9SlNPTi5zdHJpbmdpZnkoby5waXhlbFNpemUpKSxvLnF1YW50aXphdGlvblBhcmFtZXRlcnMmJihzLnF1YW50aXphdGlvblBhcmFtZXRlcnM9SlNPTi5zdHJpbmdpZnkoby5xdWFudGl6YXRpb25QYXJhbWV0ZXJzKSksby5wYXJhbWV0ZXJWYWx1ZXMmJihzLnBhcmFtZXRlclZhbHVlcz1KU09OLnN0cmluZ2lmeShvLnBhcmFtZXRlclZhbHVlcykpLG8ucmFuZ2VWYWx1ZXMmJihzLnJhbmdlVmFsdWVzPUpTT04uc3RyaW5naWZ5KG8ucmFuZ2VWYWx1ZXMpKSxvLmR5bmFtaWNEYXRhU291cmNlJiYocy5sYXllcj1KU09OLnN0cmluZ2lmeSh7c291cmNlOm8uZHluYW1pY0RhdGFTb3VyY2V9KSxkZWxldGUgby5keW5hbWljRGF0YVNvdXJjZSksby50aW1lRXh0ZW50KXtjb25zdCB0PW8udGltZUV4dGVudCx7c3RhcnQ6ZSxlbmQ6cn09dDtudWxsPT1lJiZudWxsPT1yfHwocy50aW1lPWU9PT1yP2U6YCR7bnVsbD09ZT9cIm51bGxcIjplfSwke251bGw9PXI/XCJudWxsXCI6cn1gKSxkZWxldGUgby50aW1lRXh0ZW50O31yZXR1cm4gc31hc3luYyBmdW5jdGlvbiB5KGUsciQxLG4saSl7Y29uc3Qgbz1yKHIkMS50aW1lRXh0ZW50KSYmciQxLnRpbWVFeHRlbnQuaXNFbXB0eT97ZGF0YTp7ZmVhdHVyZXM6W119fTphd2FpdCBnKGUsciQxLFwianNvblwiLGkpO3JldHVybiB0JDEociQxLG4sby5kYXRhKSxvfWFzeW5jIGZ1bmN0aW9uIGMoZSxyJDEsbixpKXtpZihyKHIkMS50aW1lRXh0ZW50KSYmciQxLnRpbWVFeHRlbnQuaXNFbXB0eSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtkYXRhOm4uY3JlYXRlRmVhdHVyZVJlc3VsdCgpfSk7Y29uc3Qgbz1hd2FpdCBkKGUsciQxLGkpLHM9bztyZXR1cm4gcy5kYXRhPXQkMihvLmRhdGEsbiksc31mdW5jdGlvbiBkKHQsZSxyKXtyZXR1cm4gZyh0LGUsXCJwYmZcIixyKX1mdW5jdGlvbiBmKGUsciQxLG4pe3JldHVybiByKHIkMS50aW1lRXh0ZW50KSYmciQxLnRpbWVFeHRlbnQuaXNFbXB0eT9Qcm9taXNlLnJlc29sdmUoe2RhdGE6e29iamVjdElkczpbXX19KTpnKGUsciQxLFwianNvblwiLG4se3JldHVybklkc09ubHk6ITB9KX1mdW5jdGlvbiBwKGUsciQxLG4pe3JldHVybiByKHIkMS50aW1lRXh0ZW50KSYmciQxLnRpbWVFeHRlbnQuaXNFbXB0eT9Qcm9taXNlLnJlc29sdmUoe2RhdGE6e2NvdW50OjB9fSk6ZyhlLHIkMSxcImpzb25cIixuLHtyZXR1cm5JZHNPbmx5OiEwLHJldHVybkNvdW50T25seTohMH0pfWZ1bmN0aW9uIFMoZSxyJDEsbil7cmV0dXJuIHIociQxLnRpbWVFeHRlbnQpJiZyJDEudGltZUV4dGVudC5pc0VtcHR5P1Byb21pc2UucmVzb2x2ZSh7ZGF0YTp7Y291bnQ6MCxleHRlbnQ6bnVsbH19KTpnKGUsciQxLFwianNvblwiLG4se3JldHVybkV4dGVudE9ubHk6ITAscmV0dXJuQ291bnRPbmx5OiEwfSkudGhlbigodD0+e2NvbnN0IGU9dC5kYXRhO2lmKGUuaGFzT3duUHJvcGVydHkoXCJleHRlbnRcIikpcmV0dXJuIHQ7aWYoZS5mZWF0dXJlcyl0aHJvdyBuZXcgRXJyb3IobCk7aWYoZS5oYXNPd25Qcm9wZXJ0eShcImNvdW50XCIpKXRocm93IG5ldyBFcnJvcihsKTtyZXR1cm4gdH0pKX1mdW5jdGlvbiBnKG4scyxhLGw9e30seT17fSl7Y29uc3QgYz1cInN0cmluZ1wiPT10eXBlb2Ygbj9VJDEobik6bixkPXMuZ2VvbWV0cnk/W3MuZ2VvbWV0cnldOltdO3JldHVybiBsLnJlc3BvbnNlVHlwZT1cInBiZlwiPT09YT9cImFycmF5LWJ1ZmZlclwiOlwianNvblwiLEwoZCxudWxsLGwpLnRoZW4oKHIkMT0+e2NvbnN0IG49ciQxJiZyJDFbMF07cihuKSYmKChzPXMuY2xvbmUoKSkuZ2VvbWV0cnk9bik7Y29uc3Qgbz10KHsuLi5jLnF1ZXJ5LGY6YSwuLi55LC4uLm0ocyx5KX0pO3JldHVybiBVKEQoYy5wYXRoLFwicXVlcnlcIiksey4uLmwscXVlcnk6ey4uLm8sLi4ubC5xdWVyeX19KX0pKX1cblxuY29uc3QgcXVlcnkgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5cdF9fcHJvdG9fXzogbnVsbCxcblx0ZXhlY3V0ZVF1ZXJ5OiB5LFxuXHRleGVjdXRlUXVlcnlGb3JDb3VudDogcCxcblx0ZXhlY3V0ZVF1ZXJ5Rm9yRXh0ZW50OiBTLFxuXHRleGVjdXRlUXVlcnlGb3JJZHM6IGYsXG5cdGV4ZWN1dGVRdWVyeVBCRjogYyxcblx0ZXhlY3V0ZVF1ZXJ5UEJGQnVmZmVyOiBkLFxuXHRxdWVyeVRvUXVlcnlTdHJpbmdQYXJhbWV0ZXJzOiBtLFxuXHRydW5RdWVyeTogZ1xufSk7XG5cbmV4cG9ydCB7IFMsIGMsIGQsIGYsIHAsIHF1ZXJ5IGFzIHEsIHQsIHkgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktM2Q5MTUyMmEuanMubWFwIiwiaW1wb3J0IHsgdCBhcyB0JDEgfSBmcm9tICcuL3pzY2FsZS0zNzk4NzEwNC5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KHQsbyxyKXtpZighcnx8IXIuZmVhdHVyZXN8fCFyLmhhc1opcmV0dXJuO2NvbnN0IGY9dCQxKHIuZ2VvbWV0cnlUeXBlLG8sdC5vdXRTcGF0aWFsUmVmZXJlbmNlKTtpZihmKWZvcihjb25zdCBlIG9mIHIuZmVhdHVyZXMpZihlLmdlb21ldHJ5KTt9XG5cbmV4cG9ydCB7IHQgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnlaU2NhbGUtOGZkNWExNjAuanMubWFwIiwiaW1wb3J0IHsgYmYgYXMgZCwgdCBhcyB0JDEgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCB7IFQgfSBmcm9tICcuL3VuaXRVdGlscy02MjRjZWViNi5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KHQsYyxsKXtpZih0JDEoYyl8fHQkMShsKXx8bC52Y3NXa2lkfHxkKGMsbCkpcmV0dXJuIG51bGw7Y29uc3QgdT1UKGMpL1QobCk7aWYoMT09PXUpcmV0dXJuIG51bGw7c3dpdGNoKHQpe2Nhc2VcInBvaW50XCI6Y2FzZVwiZXNyaUdlb21ldHJ5UG9pbnRcIjpyZXR1cm4gbj0+aShuLHUpO2Nhc2VcInBvbHlsaW5lXCI6Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjpyZXR1cm4gbj0+cyhuLHUpO2Nhc2VcInBvbHlnb25cIjpjYXNlXCJlc3JpR2VvbWV0cnlQb2x5Z29uXCI6cmV0dXJuIG49PnIobix1KTtjYXNlXCJtdWx0aXBvaW50XCI6Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiOnJldHVybiBuPT5mKG4sdSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gaShuLG8pe24mJm51bGwhPW4ueiYmKG4ueio9byk7fWZ1bmN0aW9uIHIobixvKXtpZihuKWZvcihjb25zdCBlIG9mIG4ucmluZ3MpZm9yKGNvbnN0IG4gb2YgZSluLmxlbmd0aD4yJiYoblsyXSo9byk7fWZ1bmN0aW9uIHMobixvKXtpZihuKWZvcihjb25zdCBlIG9mIG4ucGF0aHMpZm9yKGNvbnN0IG4gb2YgZSluLmxlbmd0aD4yJiYoblsyXSo9byk7fWZ1bmN0aW9uIGYobixvKXtpZihuKWZvcihjb25zdCBlIG9mIG4ucG9pbnRzKWUubGVuZ3RoPjImJihlWzJdKj1vKTt9ZnVuY3Rpb24gYyhuLG8sZSl7aWYobnVsbD09bi5oYXNNfHxuLmhhc1opZm9yKGNvbnN0IHQgb2Ygbylmb3IoY29uc3QgbiBvZiB0KW4ubGVuZ3RoPjImJihuWzJdKj1lKTt9ZnVuY3Rpb24gbChuLG8sdCl7aWYoIW4mJiFvfHwhdClyZXR1cm47Y29uc3QgaT1UKHQpO3Uobix0LGkpLHUobyx0LGkpO31mdW5jdGlvbiB1KG4sbyxlKXtpZihuKWZvcihjb25zdCB0IG9mIG4pYSh0Lmdlb21ldHJ5LG8sZSk7fWZ1bmN0aW9uIGEobix0LGkpe2lmKCFufHwhbi5zcGF0aWFsUmVmZXJlbmNlfHxkKG4uc3BhdGlhbFJlZmVyZW5jZSx0KSlyZXR1cm47Y29uc3Qgcj1UKG4uc3BhdGlhbFJlZmVyZW5jZSkvaTtpZigxIT09cilpZihcInhcImluIG4pbnVsbCE9bi56JiYobi56Kj1yKTtlbHNlIGlmKFwicmluZ3NcImluIG4pYyhuLG4ucmluZ3Mscik7ZWxzZSBpZihcInBhdGhzXCJpbiBuKWMobixuLnBhdGhzLHIpO2Vsc2UgaWYoXCJwb2ludHNcImluIG4mJihudWxsPT1uLmhhc018fG4uaGFzWikpZm9yKGNvbnN0IG8gb2Ygbi5wb2ludHMpby5sZW5ndGg+MiYmKG9bMl0qPXIpO31cblxuZXhwb3J0IHsgbCwgdCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD16c2NhbGUtMzc5ODcxMDQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9