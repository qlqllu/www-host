"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-9ecda2"],{

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-ba-search-b60a78f9.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-ba-search-b60a78f9.js ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ ArcgisBaSearch),
/* harmony export */   s: () => (/* binding */ s$C)
/* harmony export */ });
/* harmony import */ var _index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-4e647411.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/index-4e647411.js");
/* harmony import */ var _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GEClient-f71049f8.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/GEClient-f71049f8.js");
/* harmony import */ var _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ElementIds-a2c40592.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/ElementIds-a2c40592.js");
/* harmony import */ var _index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.esm-1c65d8c7.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/index.esm-1c65d8c7.js");
/* harmony import */ var _base_util_b7db69f0_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base-util-b7db69f0.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/base-util-b7db69f0.js");






/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let e$E;function has(a){return "function"==typeof e$E[a]?e$E[a]=e$E[a](globalThis):e$E[a]}e$E=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},has.add=(a,o,d,r)=>((r||void 0===e$E[a])&&(e$E[a]=o),d&&has(a)),has.cache=e$E,has.add("esri-deprecation-warnings",!0),has.add("esri-force-fullscreen-debug",!1),(()=>{has.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(has.add("host-browser",e),has.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),has.add("dom",e),has("host-browser")){const e=navigator,a=e.userAgent,o=e.appVersion,d=parseFloat(o);if(has.add("wp",parseFloat(a.split("Windows Phone")[1])||void 0),has.add("msapp",parseFloat(a.split("MSAppHost/")[1])||void 0),has.add("khtml",o.includes("Konqueror")?d:void 0),has.add("edge",parseFloat(a.split("Edge/")[1])||void 0),has.add("opr",parseFloat(a.split("OPR/")[1])||void 0),has.add("webkit",!has("wp")&&!has("edge")&&parseFloat(a.split("WebKit/")[1])||void 0),has.add("chrome",!has("edge")&&!has("opr")&&parseFloat(a.split("Chrome/")[1])||void 0),has.add("android",!has("wp")&&parseFloat(a.split("Android ")[1])||void 0),has.add("safari",!o.includes("Safari")||has("wp")||has("chrome")||has("android")||has("edge")||has("opr")?void 0:parseFloat(o.split("Version/")[1])),has.add("mac",o.includes("Macintosh")),!has("wp")&&/(iPhone|iPod|iPad)/.test(a)){const e=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(a)?RegExp.$1:"1",d=parseFloat(o.replace(/_/,".").replaceAll("_",""));has.add(e,d),has.add("ios",d);}has("webkit")||(!a.includes("Gecko")||has("wp")||has("khtml")||has("edge")||has.add("mozilla",d),has("mozilla")&&has.add("ff",parseFloat(a.split("Firefox/")[1]||a.split("Minefield/")[1])||void 0));}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),o=/iPhone/i.test(e);a&&has.add("esri-mobile",a),o&&has.add("esri-iPhone",o),has.add("esri-geolocation",!!navigator.geolocation);}has.add("esri-wasm","WebAssembly"in globalThis),has.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,a=!1===globalThis.crossOriginIsolated;return e&&!a})),has.add("wasm-simd",(()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))})),has.add("esri-atomics","Atomics"in globalThis),has.add("esri-workers","Worker"in globalThis),has.add("web-feat:cache","caches"in globalThis),has.add("esri-workers-arraybuffer-transfer",!has("safari")||Number(has("safari"))>=12),has.add("workers-pool-size",8),has.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),has.add("featurelayer-simplify-payload-size-factors",[1,1,4]),has.add("featurelayer-animation-enabled",!0),has.add("featurelayer-snapshot-enabled",!0),has.add("featurelayer-snapshot-point-min-threshold",8e4),has.add("featurelayer-snapshot-point-max-threshold",4e5),has.add("featurelayer-snapshot-point-coverage",.1),has.add("featurelayer-advanced-symbols",!1),has.add("featurelayer-pbf",!0),has.add("featurelayer-pbf-statistics",!1),has.add("feature-layers-workers",!0),has.add("feature-polyline-generalization-factor",1),has.add("mapview-transitions-duration",200),has.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),has.add("mapserver-pbf-version-support",10.81),has.add("mapservice-popup-identify-max-tolerance",20),has.add("heatmap-allow-raster-fallback",!1),has.add("heatmap-force-raster",!1),has("host-webworker")||has("host-browser")&&(has.add("esri-csp-restrictions",(()=>{try{new Function;}catch{return !0}return !1})),has.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{has.add("esri-image-decode",!0,!0,!0);})).catch((()=>{has.add("esri-image-decode",!1,!0,!0);}))}return !1})),has.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})));})();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function s$G(t,n,e){if(null==t&&null==n)return !0;if(null==t||null==n||t.length!==n.length)return !1;if(e){for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return !1}else for(let r=0;r<t.length;r++)if(t[r]!==n[r])return !1;return !0}class v$b{constructor(){this.last=0;}}const A$a=new v$b;function b$a(t,n,e,r){r=r||A$a;const o=Math.max(0,r.last-10);for(let u=o;u<e;++u)if(t[u]===n)return r.last=u,u;const l=Math.min(o,e);for(let u=0;u<l;++u)if(t[u]===n)return r.last=u,u;return -1}const I$7=new Set;function O$6(t,n,e=t.length,r=n.length,o,l){if(0===r||0===e)return e;I$7.clear();for(let f=0;f<r;++f)I$7.add(n[f]);o=o||A$a;const u=Math.max(0,o.last-10);for(let f=u;f<e;++f)if(I$7.has(t[f])&&(l&&l.push(t[f]),I$7.delete(t[f]),t[f]=t[e-1],--e,--f,0===I$7.size||0===e))return I$7.clear(),e;for(let f=0;f<u;++f)if(I$7.has(t[f])&&(l&&l.push(t[f]),I$7.delete(t[f]),t[f]=t[e-1],--e,--f,0===I$7.size||0===e))return I$7.clear(),e;return I$7.clear(),e}function L$7(t,n){const e=t.indexOf(n);return -1!==e?(t.splice(e,1),n):null}function R$6(t,n){return null!=t}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$r(n){return "Int8Array"===n?.constructor?.name}function t$y(n){return "Uint8Array"===n?.constructor?.name}function u$y(n){return "Uint8ClampedArray"===n?.constructor?.name}function o$C(n){return "Int16Array"===n?.constructor?.name}function c$B(n){return "Uint16Array"===n?.constructor?.name}function e$D(n){return "Int32Array"===n?.constructor?.name}function a$w(n){return "Uint32Array"===n?.constructor?.name}function i$z(n){return "Float32Array"===n?.constructor?.name}function f$w(n){return "Float64Array"===n?.constructor?.name}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l$t(t,n){let e;if(n)for(e in t)t.hasOwnProperty(e)&&(void 0===t[e]?delete t[e]:t[e]instanceof Object&&l$t(t[e],!0));else for(e in t)t.hasOwnProperty(e)&&void 0===t[e]&&delete t[e];return t}function a$v(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;const n=O$5(t);if(null!=n)return n;if(y$j(t))return t.clone();if(m$n(t))return t.map(a$v);if(b$9(t))return t.clone();const e={};for(const r of Object.getOwnPropertyNames(t))e[r]=a$v(t[r]);return e}function y$j(t){return "function"==typeof t.clone}function m$n(t){return "function"==typeof t.map&&"function"==typeof t.forEach}function b$9(t){return "function"==typeof t.notifyChange&&"function"==typeof t.watch}function g$i(t){if("[object Object]"!==Object.prototype.toString.call(t))return !1;const n=Object.getPrototypeOf(t);return null===n||n===Object.prototype}function O$5(t){if(r$r(t)||t$y(t)||u$y(t)||o$C(t)||c$B(t)||e$D(t)||a$w(t)||i$z(t)||f$w(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer){return t.slice(0,t.byteLength)}if(t instanceof Map){const n=new Map;for(const[e,r]of t)n.set(e,a$v(r));return n}if(t instanceof Set){const n=new Set;for(const e of t)n.add(a$v(e));return n}return null}function j$d(t,n){return t===n||"number"==typeof t&&isNaN(t)&&"number"==typeof n&&isNaN(n)||"function"==typeof(t||{}).getTime&&"function"==typeof(n||{}).getTime&&t.getTime()===n.getTime()||!1}function h$m(n,e){return n===e||(null==n||"string"==typeof n?n===e:"number"==typeof n?n===e||"number"==typeof e&&isNaN(n)&&isNaN(e):n instanceof Date?e instanceof Date&&n.getTime()===e.getTime():Array.isArray(n)?Array.isArray(e)&&s$G(n,e):n instanceof Set?e instanceof Set&&N$3(n,e):n instanceof Map?e instanceof Map&&T$5(n,e):!!g$i(n)&&(g$i(e)&&w$9(n,e)))}function w$9(t,n){if(null===t||null===n)return !1;const e=Object.keys(t);if(null===n||Object.keys(n).length!==e.length)return !1;for(const r of e)if(t[r]!==n[r]||!Object.prototype.hasOwnProperty.call(n,r))return !1;return !0}function N$3(t,n){if(t.size!==n.size)return !1;for(const e of t)if(!n.has(e))return !1;return !0}function T$5(t,n){if(t.size!==n.size)return !1;for(const[e,r]of t){const t=n.get(e);if(t!==r||void 0===t&&!n.has(e))return !1}return !0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$u(r,n,t=!1){return i$y(r,n,t)}function t$x(r,n){if(null!=n)return n[r]||e$C(r.split("."),!1,n)}function o$B(r,n,t){const o=r.split("."),i=o.pop(),u=e$C(o,!0,t);u&&i&&(u[i]=n);}function e$C(r,n,t){let o=t;for(const e of r){if(null==o)return;if(!(e in o)){if(!n)return;o[e]={};}o=o[e];}return o}function i$y(n,t,o){return t?Object.keys(t).reduce(((n,e)=>{let u=n[e],c=t[e];return u===c?n:void 0===u?(n[e]=a$v(c),n):(Array.isArray(c)||Array.isArray(n)?(u=u?Array.isArray(u)?n[e]=u.concat():n[e]=[u]:n[e]=[],c&&(Array.isArray(c)||(c=[c]),o?c.forEach((r=>{u.includes(r)||u.push(r);})):n[e]=c.concat())):c&&"object"==typeof c?n[e]=i$y(u,c,o):n.hasOwnProperty(e)&&!t.hasOwnProperty(e)||(n[e]=c),n)}),n||{}):n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s$F={analysisTheme:{accentColor:[255,127,0],textColor:"white"},apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(n$u(s$F,globalThis.esriConfig,!0),delete s$F.has),!s$F.assetsPath){{const e="4.27";s$F.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`;}s$F.defaultAssetsPath=s$F.assetsPath;}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$B=/\{([^\}]+)\}/g;function n$t(t){return t??""}function r$q(r,o){return r.replaceAll(e$B,"object"==typeof o?(e,r)=>n$t(t$x(r,o)):(t,e)=>n$t(o(e)))}function c$A(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$p={info:0,warn:1,error:2,none:3};class s$E{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,s$E._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=s$E.getLogger(this.module.slice(0,t)));}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e);}warn(...e){this._log("warn","always",...e);}info(...e){this._log("info","always",...e);}errorOnce(...e){this._log("error","once",...e);}warnOnce(...e){this._log("warn","once",...e);}infoOnce(...e){this._log("info","once",...e);}errorOncePerTick(...e){this._log("error","oncePerTick",...e);}warnOncePerTick(...e){this._log("warn","oncePerTick",...e);}infoOncePerTick(...e){this._log("info","oncePerTick",...e);}get test(){const e=this;return {loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get test(){return {resetLoggers(e=new Map){const t=s$E._loggers;return s$E._loggers=e,t},set throttlingDisabled(e){s$E._throttlingDisabled=e;}}}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,s$E._loggers.get(e)||new s$E({module:e})}_log(t,r,...n){if(!this._matchLevel(t))return;if("always"!==r&&!s$E._throttlingDisabled){const e=this._argsToKey(n),o=this._loggedMessages[t].get(e);if("once"===r&&null!=o||"oncePerTick"===r&&o&&o>=s$E._tickCounter)return;this._loggedMessages[t].set(e,s$E._tickCounter),s$E._scheduleTickCounterIncrement();}for(const s of s$F.log.interceptors)if(s(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n);}_parentWithMember(e,t){let r=this;for(;null!=r;){const t=r[e];if(null!=t)return t;r=r.parent;}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r);}_matchLevel(t){const s=s$F.log.level||"warn";return r$p[this._parentWithMember("level",s)]<=r$p[t]}_argsToKey(...e){const r=(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]";return c$A(JSON.stringify(e,r))}static _scheduleTickCounterIncrement(){s$E._tickCounterScheduled||(s$E._tickCounterScheduled=!0,Promise.resolve().then((()=>{s$E._tickCounter++,s$E._tickCounterScheduled=!1;})));}}s$E._loggers=new Map,s$E._tickCounter=0,s$E._tickCounterScheduled=!1,s$E._throttlingDisabled=!1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function s$D(s,e){return s.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,((s,r)=>{if(""===r)return "$";const n=t$x(r,e);return (n??"").toString()}))}class e$A{constructor(t,e,r){this.name=t,this.details=r,this.message=(e&&s$D(e,r))??"";}toString(){return "["+this.name+"]: "+this.message}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$C extends e$A{constructor(e,t,r){super(e,t,r);}toJSON(){if(null!=this.details)try{return {name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((t,r)=>{if(r&&"object"==typeof r&&"function"==typeof r.toJSON)return r;try{return a$v(r)}catch(s){return "[object]"}})))}}catch(r){throw s$E.getLogger("esri.core.Error").error(r),r}return {name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new s$C(e.name,e.message,e.details)}}s$C.prototype.type="error";

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l$s(n){return n?.destroy(),null}function o$A(n){return n?.remove(),null}function i$x(n){return null}function p$m(n){return n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$w(e){return /\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u$x=s$E.getLogger("esri.core.urlUtils"),l$r=s$F.request,c$z="esri/config: esriConfig.request.proxyUrl is not set.",f$v=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,a$u=/^\s*http:/i,p$l=/^\s*https:/i,h$l=/^\s*file:/i,m$m=/:\d+$/,d$q=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,g$h=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),y$i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class $$4{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let n=p$m(this.uri.match(g$h));this.scheme=n[2]||(n[1]?"":null),this.authority=n[4]||(n[3]?"":null),this.path=n[5],this.query=n[7]||(n[6]?"":null),this.fragment=n[9]||(n[8]?"":null),null!=this.authority&&(n=p$m(this.authority.match(y$i)),this.user=n[3]||null,this.password=n[4]||null,this.host=n[6]||n[7],this.port=n[9]||null);}toString(){return this.uri}}const x$c={},w$8=new $$4(s$F.applicationUrl);let O$4=w$8;const U$3=q$6();let C$7=U$3;const R$5=()=>O$4;function q$6(){const t=p$m(O$4.path),n=t.substring(0,t.lastIndexOf(t.split("/")[t.split("/").length-1]));return `${`${O$4.scheme}://${O$4.host}${null!=O$4.port?`:${O$4.port}`:""}`}${n}`}function L$6(t){if(!t)return null;const n={path:null,query:null},e=new $$4(t),r=t.indexOf("?");return null===e.query?n.path=t:(n.path=t.substring(0,r),n.query=I$6(e.query)),e.fragment&&(n.hash=e.fragment,null===e.query&&(n.path=n.path.substring(0,n.path.length-(e.fragment.length+1)))),n}function I$6(t){const n=t.split("&"),e={};for(const r of n){if(!r)continue;const t=r.indexOf("=");let n,o;t<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,t)),o=decodeURIComponent(r.slice(t+1)));let i=e[n];"string"==typeof i&&(i=e[n]=[i]),Array.isArray(i)?i.push(o):e[n]=o;}return e}function A$9(t){return t&&"object"==typeof t&&"toJSON"in t&&"function"==typeof t.toJSON}function v$a(t,n){return t?n&&"function"==typeof n?Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(n(e,t[e])))).join("&"):Object.keys(t).map((e=>{const r=t[e];if(null==r)return "";const o=encodeURIComponent(e)+"=",i=n&&n[e];return i?o+encodeURIComponent(i(r)):Array.isArray(r)?r.map((t=>A$9(t)?o+encodeURIComponent(JSON.stringify(t)):o+encodeURIComponent(t))).join("&"):A$9(r)?o+encodeURIComponent(JSON.stringify(r)):o+encodeURIComponent(r)})).filter((t=>t)).join("&"):""}function P$4(t=!1){let n,r=l$r.proxyUrl;if("string"==typeof t){n=ht(t);const e=J$2(t);e&&(r=e.proxyUrl);}else n=!!t;if(!r)throw u$x.warn(c$z),new s$C("urlutils:proxy-not-set",c$z);n&&xt()&&(r=yt(r));return L$6(r)}const k$a={path:"",query:""};function E$8(t){const n=t.indexOf("?");return -1!==n?(k$a.path=t.slice(0,n),k$a.query=t.slice(n+1)):(k$a.path=t,k$a.query=null),k$a}function B$6(t){return t=(t=wt(t=Rt(t=E$8(t).path),!0)).toLowerCase()}function H$3(t){const n={proxyUrl:t.proxyUrl,urlPrefix:B$6(t.urlPrefix)},e=l$r.proxyRules,r=n.urlPrefix;let o=e.length;for(let i=0;i<e.length;i++){const t=e[i].urlPrefix;if(0===r.indexOf(t)){if(r.length===t.length)return -1;o=i;break}0===t.indexOf(r)&&(o=i+1);}return e.splice(o,0,n),o}function J$2(t){const n=l$r.proxyRules,e=B$6(t);for(let r=0;r<n.length;r++)if(0===e.indexOf(n[r].urlPrefix))return n[r]}function D$8(t){const n=n=>null==n||n instanceof RegExp&&n.test(t)||"string"==typeof n&&t.startsWith(n),e=l$r.interceptors;if(e)for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(n))return r}else if(n(r.urls))return r;return null}function F$4(t,n,e=!1){if(!t||!n)return !1;const r=At(t),o=At(n);return !(!e&&r.scheme!==o.scheme)&&(null!=r.host&&null!=o.host&&(r.host.toLowerCase()===o.host.toLowerCase()&&r.port===o.port))}function M$8(t){if("string"==typeof t){if(!Y$2(t))return !0;t=At(t);}if(F$4(t,O$4))return !0;const n=l$r.trustedServers||[];for(let e=0;e<n.length;e++){const r=Q$3(n[e]);for(let n=0;n<r.length;n++)if(F$4(t,r[n]))return !0}return !1}function Q$3(t){return x$c[t]||(pt(t)||at(t)?x$c[t]=[new $$4(_$d(t))]:x$c[t]=[new $$4(`http://${t}`),new $$4(`https://${t}`)]),x$c[t]}function _$d(t,n=C$7,e){return at(t)?e&&e.preserveProtocolRelative?t:"http"===O$4.scheme&&O$4.authority===X$2(t).slice(2)?`http:${t}`:`https:${t}`:pt(t)?t:p$m(V$2("/"===t[0]?Ot(n):n,t))}function K$2(t){return t=Lt(t=jt(t=qt(t=_$d(t=t.trim()))))}function V$2(...t){const e=t.filter(R$6);if(!e||!e.length)return;const r=[];if(Y$2(e[0])){const t=e[0],n=t.indexOf("//");-1!==n&&(r.push(t.slice(0,n+1)),dt(e[0])&&(r[0]+="/"),e[0]=t.slice(n+2));}else "/"===e[0][0]&&r.push("");const o=e.reduce(((t,n)=>n?t.concat(n.split("/")):t),[]);for(let n=0;n<o.length;n++){const t=o[n];".."===t&&r.length>0&&".."!==r[r.length-1]?r.pop():(!t&&n===o.length-1||t&&("."!==t||0===r.length))&&r.push(t);}return r.join("/")}function X$2(t,n=!1){if(null==t||Z$3(t)||tt(t))return null;let e=t.indexOf("://");if(-1===e&&at(t))e=2;else {if(-1===e)return null;e+=3;}const r=t.indexOf("/",e);return -1!==r&&(t=t.slice(0,r)),n&&(t=wt(t,!0)),t}function Y$2(t){return at(t)||pt(t)}function Z$3(t){return null!=t&&"blob:"===t.slice(0,5)}function tt(t){return null!=t&&"data:"===t.slice(0,5)}function et(t){return btoa(String.fromCharCode.apply(null,t)).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}function at(t){return null!=t&&"/"===t[0]&&"/"===t[1]}function pt(t){return null!=t&&f$v.test(t)}function ht(t){return null!=t&&p$l.test(t)||"https"===O$4.scheme&&at(t)}function mt(t){return null!=t&&a$u.test(t)||"http"===O$4.scheme&&at(t)}function dt(t){return null!=t&&h$l.test(t)}function yt(t){return at(t)?`https:${t}`:t.replace(a$u,"https:")}function $t(){return "http"===O$4.scheme}function xt(){return "https"===O$4.scheme}function wt(t,n=!1){return at(t)?t.slice(2):(t=t.replace(f$v,""),n&&t.length>1&&"/"===t[0]&&"/"===t[1]&&(t=t.slice(2)),t)}function Ot(t){const n=t.indexOf("//"),e=t.indexOf("/",n+2);return -1===e?t:t.slice(0,e)}function Rt(t){return t&&"/"===t[t.length-1]?t:`${t}/`}function qt(t){if(/^https?:\/\//i.test(t)){const n=E$8(t);t=(t=n.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),n.query&&(t+=`?${n.query}`);}return t}function jt(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Lt(t){const n=l$r.httpsDomains;if(!mt(t))return t;const e=t.indexOf("/",7);let r;if(r=-1===e?t:t.slice(0,e),r=r.toLowerCase().slice(7),m$m.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","");}return $t()&&r===O$4.authority&&!d$q.test(t)||(xt()&&r===O$4.authority||n&&n.some((t=>r===t||r.endsWith(`.${t}`)))||xt()&&!J$2(t))&&(t=yt(t)),t}function At(t){return "string"==typeof t?new $$4(_$d(t)):(t.scheme||(t.scheme=O$4.scheme),t)}function St(t,n,e){const r=L$6(t),o=r.query||{};return o[n]=String(e),`${r.path}?${v$a(o)}`}function kt(t,n){const e=L$6(t),r=e.query||{};for(const i in n)r[i]=n[i];const o=v$a(r);return o?`${e.path}?${o}`:e.path}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$s;function o$z(t){n$s=t;}has("host-webworker");

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$z(e){return {setTimeout:(t,o)=>{const r=e.setTimeout(t,o);return {remove:()=>e.clearTimeout(r)}}}}const t$v=e$z(globalThis);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$y(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function r$o(r,t,n){if(!e$y(r))throw new TypeError("target is not a Evented or EventTarget object");if("on"in r)return r.on(t,n);if(Array.isArray(t)){const e=t.slice();for(const t of e)r.addEventListener(t,n);return {remove(){for(const t of e)r.removeEventListener(t,n);}}}return r.addEventListener(t,n),{remove(){r.removeEventListener(t,n);}}}function t$u(t,n,o){if(!e$y(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(n,o);const i=r$o(t,n,(e=>{i.remove(),o.call(t,e);}));return {remove(){i.remove();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function c$y(t="Aborted"){return new s$C("AbortError",t)}function l$q(t){return null!=t?"aborted"in t?t:t.signal:t}function a$t(t){const r=l$q(t);return null!=r&&r.aborted}function m$l(t){if(!d$p(t))throw t}function w$7(t,r){const e=l$q(t);if(null!=e){if(!e.aborted)return t$u(e,"abort",(()=>r()));r();}}function d$p(t){return "AbortError"===t?.name}async function j$c(t){if(!t)return;if("function"!=typeof t.forEach){const r=Object.keys(t),n=r.map((r=>t[r])),e=await j$c(n),o={};return r.map(((t,r)=>o[t]=e[r])),o}const r=t;return Promise.allSettled(r).then((t=>Array.from(r,((r,n)=>{const e=t[n];return "fulfilled"===e.status?{promise:r,value:e.value}:{promise:r,error:e.reason}}))))}function g$g(t,r=void 0,n){const e=new AbortController;return w$7(n,(()=>e.abort())),new Promise(((n,o)=>{let i=setTimeout((()=>{i=0,n(r);}),t);w$7(e,(()=>{i&&(clearTimeout(i),o(c$y()));}));}))}function T$4(t){return t&&"function"==typeof t.then}function E$7(t){return T$4(t)?t:Promise.resolve(t)}function k$9(t,r=-1){let n,e,o,u,s=null;const l=(...a)=>{if(n){e=a,u&&u.reject(c$y()),u=C$6();const t=p$m(u.promise);if(s){const t=s;s=null,t.abort();}return t}if(o=u||C$6(),u=null,r>0){const e=new AbortController;n=E$7(t(...a,e.signal));const o=n;g$g(r).then((()=>{n===o&&(u?e.abort():s=e);}));}else n=1,n=E$7(t(...a));const f=()=>{const t=e;e=o=n=s=null,null!=t&&l(...t);},m=n,w=o;return m.then(f,f),m.then(w.resolve,w.reject),p$m(w.promise)};return l}function C$6(){let r,n;const e=new Promise(((t,e)=>{r=t,n=e;})),o=t=>{r(t);};return o.resolve=t=>r(t),o.reject=t=>n(t),o.timeout=(r,n)=>t$v.setTimeout((()=>o.reject(n)),r),o.promise=e,o}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$t=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function r$n(c){const r=X$2(c,!0);return !!r&&(r.endsWith(".arcgis.com")&&!t$t.includes(r)&&!c.endsWith("/sharing/rest/generateToken"))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$w(e,o,t=!1,n){return new Promise(((s,i)=>{if(a$t(n))return void i(c$x());let a=()=>{l(),i(new Error(`Unable to load ${o}`));},u=()=>{const r=e;l(),s(r);},m=()=>{if(!e)return;const r=e;l(),r.src="",i(c$x());};const l=()=>{has("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",u)),a=null,u=null,e=null,null!=n&&n.removeEventListener("abort",m),m=null,t&&URL.revokeObjectURL(o);};null!=n&&n.addEventListener("abort",m),has("esri-image-decode")?e.decode().then(u,a):(e.addEventListener("error",a),e.addEventListener("load",u));}))}function c$x(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const a$s="Timeout exceeded";function u$w(){return new Error(a$s)}function l$p(r){s$F.request.crossOriginNoCorsDomains||(s$F.request.crossOriginNoCorsDomains={});const t=s$F.request.crossOriginNoCorsDomains;for(let e of r)e=e.toLowerCase(),/^https?:\/\//.test(e)?t[X$2(e)??""]=0:(t[X$2("http://"+e)??""]=0,t[X$2("https://"+e)??""]=0);}function d$o(r){const s=s$F.request.crossOriginNoCorsDomains;if(s){let e=X$2(r);if(e)return e=e.toLowerCase(),!F$4(e,R$5())&&s[e]<Date.now()-36e5}return !1}async function f$u(r){const t=s$F.request.crossOriginNoCorsDomains,n=X$2(r);t&&n&&(t[n.toLowerCase()]=Date.now());const i=L$6(r);r=i.path,"json"===i.query?.f&&(r+="?f=json");try{await fetch(r,{mode:"no-cors",credentials:"include"});}catch{}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function j$b(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=I$6(t.query.toString().replaceAll("+"," ")));const r=tt(e),s=Z$3(e);s||r||(e=K$2(e));const a={url:e,requestOptions:{...t}};let n=D$8(e);if(n){const e=await J$1(n,a);if(null!=e)return {data:e,getHeader:R$4,httpStatus:200,requestOptions:a.requestOptions,url:a.url};n.after||n.error||(n=null);}if(e=a.url,"image"===(t=a.requestOptions).responseType&&(has("host-webworker")||has("host-node")))throw B$5("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),a);if("head"===t.method){if(t.body)throw B$5("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),a);if(r||s)throw B$5("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),a)}if(await $$3(),P$3)return P$3.execute(e,t);const i=new AbortController;w$7(t,(()=>i.abort()));const h={controller:i,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:n,params:a,redoRequest:!1,useIdentity:D$7.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},m=await V$1(h);return n?.after?.(m),m}let P$3;const D$7=s$F.request,_$c="FormData"in globalThis,A$8=[499,498,403,401],F$3=["COM_0056","COM_0057","SB_0008"],I$5=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],R$4=()=>null,M$7=Symbol();function H$2(e){const t=X$2(e);t&&!j$b._corsServers.includes(t)&&j$b._corsServers.push(t);}function N$2(e){const t=X$2(e);return !t||t.endsWith(".arcgis.com")||j$b._corsServers.includes(t)||M$8(t)}function B$5(e,t,o,i){let l="Error";const u={url:o.url,requestOptions:o.requestOptions,getHeader:R$4,ssl:!1};if(t instanceof s$C)return t.details?(t.details=a$v(t.details),t.details.url=o.url,t.details.requestOptions=o.requestOptions):t.details=u,t;if(t){const e=i&&(e=>i.headers.get(e)),r=i?.status,s=t.message;s&&(l=s),e&&(u.getHeader=e),u.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,u.subCode=t.subcode,u.messageCode=t.messageCode,"string"==typeof t.details?u.messages=[t.details]:u.messages=t.details,u.raw=M$7 in t?t[M$7]:t;}return d$p(t)?c$y():new s$C(e,l,u)}async function $$3(){has("host-webworker")?P$3||(P$3=await __webpack_require__.e(/*! import() */ "extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dist_stenci-61a37e").then(__webpack_require__.bind(__webpack_require__, /*! ./request-c15b72b2.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/request-c15b72b2.js"))):j$b._abortableFetch||(j$b._abortableFetch=globalThis.fetch.bind(globalThis));}async function z$6(){n$s||await Promise.resolve().then(function () { return IdentityManager; });}async function K$1(r){const s=r.params.url,o=r.params.requestOptions,a=r.controller.signal,n=o.body;let l=null,u=null;if(_$c&&"HTMLFormElement"in globalThis&&(n instanceof FormData?l=n:n instanceof HTMLFormElement&&(l=new FormData(n))),"string"==typeof n&&(u=n),r.fetchOptions={cache:o.cacheBust&&!("polyfill"in j$b._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:o.headers||{},method:"head"===o.method?"HEAD":"GET",mode:"cors",priority:D$7.priority,redirect:"follow",signal:a},(l||u)&&(r.fetchOptions.body=l||u),"anonymous"===o.authMode&&(r.useIdentity=!1),r.hasToken=!!(/token=/i.test(s)||o.query?.token||l?.get("token")),!r.hasToken&&s$F.apiKey&&r$n(s)&&(o.query||(o.query={}),o.query.token=s$F.apiKey,r.hasToken=!0),r.useIdentity&&!r.hasToken&&!r.credentialToken&&!W$1(s)&&!a$t(a)){let e;"immediate"===o.authMode?(await z$6(),e=await n$s.getCredential(s,{signal:a}),r.credential=e):"no-prompt"===o.authMode?(await z$6(),e=await n$s.getCredential(s,{prompt:!1,signal:a}).catch((()=>{})),r.credential=e):n$s&&(e=n$s.findCredential(s)),e&&(r.credentialToken=e.token,r.useSSL=!!e.ssl);}}function W$1(e){return I$5.some((t=>t.test(e)))}async function G$2(e){let r=e.params.url;const s=e.params.requestOptions,o=e.fetchOptions??{},a=Z$3(r)||tt(r),i=s.responseType||"json",l=a?0:null!=s.timeout?s.timeout:D$7.timeout;let d=!1;if(!a){e.useSSL&&(r=yt(r)),s.cacheBust&&"default"===o.cache&&(r=St(r,"request.preventCache",Date.now()));let a={...s.query};e.credentialToken&&(a.token=e.credentialToken);let n=v$a(a);has("esri-url-encodes-apostrophe")&&(n=n.replaceAll("'","%27"));const i=r.length+1+n.length;let l;d="delete"===s.method||"post"===s.method||"put"===s.method||!!s.body||i>D$7.maxUrlLength;const u=s.useProxy||!!J$2(r);if(u){const e=P$4(r);l=e.path,!d&&l.length+1+i>D$7.maxUrlLength&&(d=!0),e.query&&(a={...e.query,...a});}if("HEAD"===o.method&&(d||u)){if(d){if(i>D$7.maxUrlLength)throw B$5("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw B$5("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(u)throw B$5("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(d?(o.method="delete"===s.method?"DELETE":"put"===s.method?"PUT":"POST",s.body?r=kt(r,a):(o.body=v$a(a),o.headers||(o.headers={}),o.headers["Content-Type"]="application/x-www-form-urlencoded")):r=kt(r,a),u&&(e.useProxy=!0,r=`${l}?${r}`),a.token&&_$c&&o.body instanceof FormData&&!t$w(r)&&o.body.set("token",a.token),s.hasOwnProperty("withCredentials"))e.withCredentials=s.withCredentials;else if(!F$4(r,R$5()))if(M$8(r))e.withCredentials=!0;else if(n$s){const s=n$s.findServerInfo(r);s?.webTierAuth&&(e.withCredentials=!0);}e.withCredentials&&(o.credentials="include",d$o(r)&&await f$u(d?kt(r,a):r));}let p,C,v=0,U=!1;l>0&&(v=setTimeout((()=>{U=!0,e.controller.abort();}),l));try{if("native-request-init"===s.responseType)C=o,C.url=r;else if("image"!==s.responseType||"default"!==o.cache||"GET"!==o.method||d||X$1(s.headers)||!a&&!e.useProxy&&D$7.proxyUrl&&!N$2(r)){if(p=await j$b._abortableFetch(r,o),e.useProxy||H$2(r),"native"===s.responseType)C=p;else if("HEAD"!==o.method)if(p.ok){switch(i){case"array-buffer":C=await p.arrayBuffer();break;case"blob":case"image":C=await p.blob();break;default:C=await p.text();}if(v&&(clearTimeout(v),v=0),"json"===i||"xml"===i||"document"===i)if(C)switch(i){case"json":C=JSON.parse(C);break;case"xml":C=Q$2(C,"application/xml");break;case"document":C=Q$2(C,"text/html");}else C=null;if(C){if("array-buffer"===i||"blob"===i){const e=p.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&C["blob"===i?"size":"byteLength"]<=750)try{const e=await new Response(C).json();e.error&&(C=e);}catch{}}"image"===i&&C instanceof Blob&&(C=await Z$2(URL.createObjectURL(C),e,!0));}}else {C=await p.text();try{C=JSON.parse(C);}catch{}}}else C=await Z$2(r,e);}catch(P){if("AbortError"===P.name){if(U)throw u$w();throw c$y("Request canceled")}if(!(!p&&P instanceof TypeError&&D$7.proxyUrl)||s.body||"delete"===s.method||"head"===s.method||"post"===s.method||"put"===s.method||e.useProxy||N$2(r))throw P;e.redoRequest=!0,H$3({proxyUrl:D$7.proxyUrl,urlPrefix:X$2(r)??""});}finally{v&&clearTimeout(v);}return [p,C]}async function J$1(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let o,a;try{a=await e.before(t);}catch(s){o=B$5("request:interceptor",s,t);}if((a instanceof Error||a instanceof s$C)&&(o=B$5("request:interceptor",a,t)),o)throw e.error&&e.error(o),o;return a}}function X$1(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return !0;return !1}function Q$2(e,t){let r;try{r=(new DOMParser).parseFromString(e,t);}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function V$1(e){let r,s;await K$1(e);try{do{[r,s]=await G$2(e);}while(!await Y$1(e,r,s))}catch(n){const t=B$5("request:server",n,e.params,r);throw t.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(t),t}const o=e.params.url;if(s&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)){if(!e.hasToken&&!e.credentialToken&&s.user?.username&&!M$8(o)){const e=X$2(o,!0);e&&D$7.trustedServers.push(e);}Array.isArray(s.authorizedCrossOriginNoCorsDomains)&&l$p(s.authorizedCrossOriginNoCorsDomains);}const a=e.credential;if(a&&n$s){const e=n$s.findServerInfo(a.server);let r=e?.owningSystemUrl;if(r){r=r.replace(/\/?$/,"/sharing");const e=n$s.findCredential(r,a.userId);e&&-1===n$s._getIdenticalSvcIdx(r,e)&&e.resources.unshift(r);}}return {data:s,getHeader:r?e=>r?.headers.get(e):R$4,httpStatus:r?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Y$1(e,r,s){if(e.redoRequest)return e.redoRequest=!1,!1;const o=e.params.requestOptions;if(!r||"native"===o.responseType||"native-request-init"===o.responseType)return !0;let a,n;if(s&&(s.error?a=s.error:"error"===s.status&&Array.isArray(s.messages)&&(a={...s},a[M$7]=s,a.details=s.messages)),!a&&!r.ok)throw a=new Error(`Unable to load ${r.url} status: ${r.status}`),a[M$7]=s,a;let i,l=null;a&&(n=Number(a.code),l=a.hasOwnProperty("subcode")?Number(a.subcode):null,i=a.messageCode,i=i?.toUpperCase());const u=o.authMode;if(403===n&&(4===l||a.message?.toLowerCase().includes("ssl")&&!a.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===n)&&void 0!==n&&A$8.includes(n)&&!W$1(e.params.url)&&(403!==n||i&&!F$3.includes(i)&&(null==l||2===l&&e.credentialToken))){await z$6();try{const r=await n$s.getCredential(e.params.url,{error:B$5("request:server",a,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=r,e.credentialToken=r.token,e.useSSL=e.useSSL||r.ssl,!1}catch(c){if("no-prompt"===u)return e.credential=void 0,e.credentialToken=void 0,!1;a=c;}}if(a)throw a;return !0}function Z$2(e,t,r=!1){const s=t.controller.signal,o=new Image;return t.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.fetchPriority=D$7.priority,o.src=e,i$w(o,e,r,s)}j$b._abortableFetch=null,j$b._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$v(r,t){return t?{...t,query:{...r??{},...t.query}}:{query:r}}function f$t(r){return "string"==typeof r?L$6(r):a$v(r)}function s$B(r,t,o){const e={};for(const n in r){if("declaredClass"===n)continue;const i=r[n];if(null!=i&&"function"!=typeof i)if(Array.isArray(i)){e[n]=[];for(let r=0;r<i.length;r++)e[n][r]=s$B(i[r]);}else if("object"==typeof i)if(i.toJSON){const r=i.toJSON(o&&o[n]);e[n]=t?r:JSON.stringify(r);}else e[n]=t?i:JSON.stringify(i);else e[n]=i;}return e}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$x(e,t,n,c){var o,r=arguments.length,f=r<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,n):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(e,t,n,c);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(f=(r<3?o(f):r>3?o(t,n,f):o(t,n))||f);return r>3&&f&&Object.defineProperty(t,n,f),f}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$s(n){return null!=n&&"function"==typeof n[Symbol.iterator]}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t$r{constructor(){this._groups=new Map;}destroy(){this.removeAll();}get size(){let r=0;return this._groups.forEach((e=>{r+=e.length;})),r}add(e,t){if(t$s(e)){const r=this._getOrCreateGroup(t);for(const t of e)this._isHandle(t)&&r.push(t);}else if(this._isHandle(e)){this._getOrCreateGroup(t).push(e);}return this}forEach(r,e){if("function"==typeof r)this._groups.forEach((e=>e.forEach(r)));else {const t=this._getGroup(r);t&&e&&t.forEach(e);}}has(r){return this._groups.has(this._ensureGroupKey(r))}remove(e){if("string"!=typeof e&&t$s(e)){for(const r of e)this.remove(r);return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach((r=>this._removeAllFromGroup(r))),this._groups.clear(),this}_isHandle(r){return r&&(!!r.remove||r instanceof t$r)}_getOrCreateGroup(r){if(this.has(r))return this._getGroup(r);const e=[];return this._groups.set(this._ensureGroupKey(r),e),e}_getGroup(r){return p$m(this._groups.get(this._ensureGroupKey(r)))}_ensureGroupKey(r){return r||"_default_"}_removeAllFromGroup(r){for(const e of r)e instanceof t$r?e.removeAll():e.remove();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$y=Symbol("Accessor-beforeDestroy");

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$r(n){return e$w((()=>n.forEach((n=>null!=n&&n.remove()))))}function e$w(n){return {remove:()=>{n&&(n(),n=void 0);}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$v(r){return r.__accessor__??null}function i$u(r,n){return null!=r&&r.metadatas&&null!=r.metadatas[n]}function o$x(r,n,t){if(t){return a$r(r,n,{policy:t,path:""})}return a$r(r,n,null)}function a$r(r,e,i){return e?Object.keys(e).reduce(((r,u)=>{const o=u;let l=null,s="merge";if(i&&(l=i.path?`${i.path}.${u}`:u,s=i.policy(l)),"replace"===s)return r[o]=e[o],r;if("replace-arrays"===s&&Array.isArray(r[o]))return r[o]=e[o],r;if(void 0===r[o])return r[o]=a$v(e[o]),r;let c=r[o],f=e[o];if(c===f)return r;if(Array.isArray(f)||Array.isArray(r))c=c?Array.isArray(c)?r[o]=c.concat():r[o]=[c]:r[o]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach((r=>{c.includes(r)||c.push(r);})));else if(f&&"object"==typeof f)if(i){const n=i.path;i.path=p$m(l),r[o]=a$r(c,f,i),i.path=n;}else r[o]=a$r(c,f,null);else r.hasOwnProperty(u)&&!e.hasOwnProperty(u)||(r[o]=f);return r}),r||{}):r}function s$A(r){return Array.isArray(r)?r:r.split(".")}function c$w(r){return r.includes(",")?r.split(",").map((r=>r.trim())):[r.trim()]}function f$s(r){if(Array.isArray(r)){const n=[];for(const t of r)n.push(...c$w(t));return n}return c$w(r)}function y$h(n,t,e,i){const u=f$s(t);if(1!==u.length){const t=u.map((r=>i(n,r,e)));return n$r(t)}return i(n,u[0],e)}function h$k(r){let n=!1;return ()=>{n||(n=!0,r());}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$u(t,e){const i="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(i,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const u=e$v(e);return i$u(u,i)?u.get(i):e[i]}function i$t(t,n,r){if(null==t)return t;const u=e$u(n[r],t);return !u&&r<n.length-1?void 0:r===n.length-1?u:i$t(u,n,r+1)}function u$v(n,r,u=0){return "string"!=typeof r||r.includes(".")?i$t(n,s$A(r),u):e$u(r,n)}function o$w(t,n){return u$v(t,n)}function s$z(t,n){return void 0!==u$v(n,t)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$m(e){let r=e.constructor.__accessorMetadata__;const o=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(r){if(!o){r=Object.create(r);for(const e in r)r[e]=a$v(r[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0});}}else r={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function o$v(t,e){const o=r$m(t);let c=o[e];return c||(c=o[e]={}),c}function n$q(t,r){return o$x(t,r,s$y)}const a$q=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function s$y(t){return a$q.test(t)?"replace":"merge"}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$q(t){return t&&t.release&&"function"==typeof t.release}function i$s(t){return t&&t.acquire&&"function"==typeof t.acquire}class e$t{constructor(t,i,e,o=1,s=0){if(this._ctor=t,this._acquireFunction=i,this._releaseFunction=e,this.allocationSize=o,this._pool=new Array(s),this._initialSize=s,this._ctor)for(let n=0;n<s;n++)this._pool[n]=new this._ctor;this.allocationSize=Math.max(o,1);}destroy(){this.prune(0);}acquire(...t){let o;if(e$t.test.disabled)o=new this._ctor;else {if(0===this._pool.length){const t=this.allocationSize;for(let i=0;i<t;i++)this._pool[i]=new this._ctor;}o=this._pool.pop();}return this._acquireFunction?this._acquireFunction(o,...t):i$s(o)&&o.acquire(...t),o}release(i){i&&!e$t.test.disabled&&(this._releaseFunction?this._releaseFunction(i):t$q(i)&&i.release(),this._pool.push(i));}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const t=this._pool[i];this._dispose(t);}this._pool.length=t;}}_dispose(t){t.dispose&&"function"==typeof t.dispose&&t.dispose();}}e$t.test={disabled:!1};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var I$4;!function(I){I[I.INITIALIZING=0]="INITIALIZING",I[I.CONSTRUCTING=1]="CONSTRUCTING",I[I.CONSTRUCTED=2]="CONSTRUCTED";}(I$4||(I$4={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$x{constructor(r,s){this._observers=r,this._observer=s;}remove(){L$7(this._observers,this._observer);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r$l{constructor(){this._observers=null,this.destroyed=!1;}observe(e){if(this.destroyed||e.destroyed)return t$p;null==this._observers&&(this._observers=[]);const r=this._observers;let o=!1,i=!1;const n=r.length;for(let s=0;s<n;++s){const t=r[s];if(t.destroyed)i=!0;else if(t===e){o=!0;break}}return o||(r.push(e),i&&this._removeDestroyedObservers()),new s$x(r,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const s=e.length;let r=0;for(let t=0;t<s;++t){for(;t+r<s;){if(!e[t+r].destroyed)break;++r;}if(r>0){if(!(t+r<s))break;e[t]=e[t+r];}}e.length=s-r;}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const s of e)s.onCommitted();this._observers=null;}}}const t$p=e$w();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var r$k;!function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER";}(r$k||(r$k={}));function n$p(e){switch(e){case"defaults":return r$k.DEFAULTS;case"service":return r$k.SERVICE;case"portal-item":return r$k.PORTAL_ITEM;case"web-scene":return r$k.WEB_SCENE;case"web-map":return r$k.WEB_MAP;case"link-chart":return r$k.LINK_CHART;case"user":return r$k.USER;default:return null}}function E$6(t){switch(t){case r$k.DEFAULTS:return "defaults";case r$k.SERVICE:return "service";case r$k.PORTAL_ITEM:return "portal-item";case r$k.WEB_SCENE:return "web-scene";case r$k.WEB_MAP:return "web-map";case r$k.LINK_CHART:return "link-chart";case r$k.USER:return "user"}return p$m(void 0)}function c$v(e){return E$6(e)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var i$r;!function(i){i[i.Dirty=1]="Dirty",i[i.Overriden=2]="Overriden",i[i.Computing=4]="Computing",i[i.NonNullable=8]="NonNullable",i[i.HasDefaultValue=16]="HasDefaultValue",i[i.DepTrackingInitialized=32]="DepTrackingInitialized",i[i.AutoTracked=64]="AutoTracked",i[i.ExplicitlyTracking=128]="ExplicitlyTracking";}(i$r||(i$r={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$u={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},c$u=[];let s$w=o$u;function i$q(t){s$w.onObservableAccessed(t);}let l$o=!1,a$p=!1;function f$r(t,n,e){if(l$o)return u$u(t,n,e);p$k(t);const r=n.call(e);return d$n(),r}function g$f(t,n){return f$r(o$u,t,n)}function u$u(n,e,r){const o=l$o;l$o=!0,p$k(n);let c=null;try{c=e.call(r);}catch(s){a$p&&s$E.getLogger("esri.core.accessorSupport.tracking").error(s);}return d$n(),l$o=o,c}function p$k(t){s$w=t,c$u.push(t);}function d$n(){const t=c$u.length;if(t>1){const n=c$u.pop();s$w=c$u[t-2],n.onTrackingEnd();}else if(1===t){const t=c$u.pop();s$w=o$u,t.onTrackingEnd();}else s$w=o$u;}function b$8(t,n){const e=n.observerObject;if(e.flags&i$r.DepTrackingInitialized)return;const o=a$p;a$p=!1,e.flags&i$r.AutoTracked?u$u(n,n.metadata.get,t):y$g(t,n),a$p=o;}const m$k=[];function y$g(t,e){const o=e.observerObject;o.flags&i$r.ExplicitlyTracking||(o.flags|=i$r.ExplicitlyTracking,u$u(e,(()=>{const r=e.metadata.dependsOn||m$k;for(const e of r)if("string"!=typeof e||e.includes(".")){const r=s$A(e);for(let n=0,e=t;n<r.length&&null!=e&&"object"==typeof e;++n)e=k$8(e,r[n],n!==r.length-1);}else k$8(t,e,!1);})),o.flags&=~i$r.ExplicitlyTracking);}function k$8(t,n,r){const o="?"===n[n.length-1]?n.slice(0,-1):n;if(null!=t.getItemAt||Array.isArray(t)){const n=parseInt(o,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const c=e$v(t);if(c){const n=c.propertiesByName.get(o);n&&(i$q(n.observerObject),b$8(t,n));}return r?t[o]:void 0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a$o{constructor(t,e){this.propertyName=t,this.metadata=e,this.observerObject=new l$n,this._accessed=null,this._handles=null,this.observerObject.flags=i$r.Dirty|(e.nonNullable?i$r.NonNullable:0)|(e.hasOwnProperty("value")?i$r.HasDefaultValue:0)|(void 0===e.get?i$r.DepTrackingInitialized:0)|(void 0===e.dependsOn?i$r.AutoTracked:0);}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles();}getComputed(t){const a=this.observerObject;i$q(a);const l=t.store,c=this.propertyName,h=a.flags,d=l.get(c);if(h&i$r.Computing)return d;if(~h&i$r.Dirty&&l.has(c))return d;a.flags|=i$r.Computing;const g=t.host;let f;h&i$r.AutoTracked?f=f$r(this,this.metadata.get,g):(y$g(g,this),f=this.metadata.get.call(g)),l.set(c,f,r$k.COMPUTED);const m=l.get(c);return m===d?a.flags&=~i$r.Dirty:g$f(this.commit,this),a.flags&=~i$r.Computing,m}onObservableAccessed(t){if(t===this.observerObject)return;let e=this._accessed;if(null==e)e=[],this._accessed=e;else if(e.includes(t))return;e.push(t);}onTrackingEnd(){this._clearObservationHandles();const t=this.observerObject;t.flags|=i$r.DepTrackingInitialized;const e=this._accessed;if(null==e||0===e.length)return;let s=this._handles;null==s&&(s=[],this._handles=s);for(let i=0;i<e.length;++i)s.push(e[i].observe(t));e.length=0;}notifyChange(){const t=this.observerObject;t.onInvalidated(),t.onCommitted();}invalidate(){this.observerObject.onInvalidated();}commit(){const t=this.observerObject;t.flags&=~i$r.Dirty,t.onCommitted();}_clearObservationHandles(){const t=this._handles;if(null!==t){for(let e=0;e<t.length;++e)t[e].remove();t.length=0;}}}class l$n extends r$l{constructor(){super(...arguments),this.flags=0;}onInvalidated(){~this.flags&i$r.Overriden&&(this.flags|=i$r.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated();}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const t of e)t.onCommitted();}}destroy(){this.flags&i$r.Dirty&&this.onCommitted(),super.destroy();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t$o{constructor(){this._values=new Map,this.multipleOriginsSupported=!1;}clone(s){const r=new t$o;return this._values.forEach(((t,i)=>{s&&s.has(i)||r.set(i,a$v(t));})),r}get(e){return this._values.get(e)}originOf(){return r$k.USER}keys(){return [...this._values.keys()]}set(e,s){this._values.set(e,s);}delete(e){this._values.delete(e);}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function g$e(t,e,r){return void 0!==t}function u$t(t,e,r,i){return void 0!==t&&(!(null==r&&t.observerObject.flags&i$r.NonNullable)||(!1))}function d$m(t){return t&&"function"==typeof t.destroy}s$E.getLogger("esri.core.accessorSupport.Properties");class m$j{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=I$4.INITIALIZING,this.store=new t$o,this._origin=r$k.USER;const e=this.host.constructor.__accessorMetadata__;for(const r in e){const t=new a$o(r,e[r]);this.propertiesByName.set(r,t);}this.metadatas=e;}initialize(){this.lifecycle=I$4.CONSTRUCTING;}constructed(){this.lifecycle=I$4.CONSTRUCTED;}destroy(){this.destroyed=!0;for(const[t,e]of this.propertiesByName){if(e.metadata.autoDestroy){const r=this.internalGet(t);r&&d$m(r)&&(r.destroy(),~e.observerObject.flags&i$r.NonNullable&&this._internalSet(e,null));}e.destroy();}}get initialized(){return this.lifecycle!==I$4.INITIALIZING}get(t){const e=this.propertiesByName.get(t);if(e.metadata.get)return e.getComputed(this);i$q(e.observerObject);const r=this.store;return r.has(t)?r.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(void 0===e){const e=this.propertiesByName.get(t);if(void 0!==e&&e.observerObject.flags&i$r.HasDefaultValue)return "defaults"}return E$6(e)}has(t){return !!this.propertiesByName.has(t)&&this.store.has(t)}keys(){return [...this.propertiesByName.keys()]}internalGet(t){const e=this.propertiesByName.get(t);if(g$e(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const r=this.propertiesByName.get(t);g$e(r)&&this._internalSet(r,e);}getDependsInfo(t,e,r){const s=this.propertiesByName.get(e);if(!g$e(s))return "";const o=new Set,n=f$r({onObservableAccessed:t=>o.add(t),onTrackingEnd:()=>{}},(()=>s.metadata.get?.call(t)));let a=`${r}${t.declaredClass.split(".").pop()}.${e}: ${n}\n`;if(0===o.size)return a;r+="  ";for(const c of o){if(!(c instanceof a$o))continue;a+=`${r}${c.propertyName}: undefined\n`;}return a}setAtOrigin(t,e,r){const s=this.propertiesByName.get(t);if(g$e(s))return this._setAtOrigin(s,e,r)}isOverridden(t){const e=this.propertiesByName.get(t);return void 0!==e&&!!(e.observerObject.flags&i$r.Overriden)}clearOverride(t){const e=this.propertiesByName.get(t),r=e?.observerObject;r&&r.flags&i$r.Overriden&&(r.flags&=~i$r.Overriden,e.notifyChange());}override(t,e){const r=this.propertiesByName.get(t);if(!u$t(r,t,e))return;const s=r.metadata.cast;if(s){const t=this._cast(s,e),{valid:r,value:i}=t;if(y$f.release(t),!r)return;e=i;}r.observerObject.flags|=i$r.Overriden,this._internalSet(r,e);}set(t,e){const r=this.propertiesByName.get(t);if(!u$t(r,t,e))return;const s=r.metadata.cast;if(s){const t=this._cast(s,e),{valid:r,value:i}=t;if(y$f.release(t),!r)return;e=i;}const i=r.metadata.set;i?i.call(this.host,e):this._internalSet(r,e);}setDefaultOrigin(t){this._origin=n$p(t);}getDefaultOrigin(){return E$6(this._origin)}notifyChange(t){const e=this.propertiesByName.get(t);void 0!==e&&e.notifyChange();}invalidate(t){const e=this.propertiesByName.get(t);void 0!==e&&e.invalidate();}commit(t){const e=this.propertiesByName.get(t);void 0!==e&&e.commit();}_internalSet(t,e){const r=this.lifecycle!==I$4.INITIALIZING?this._origin:r$k.DEFAULTS;this._setAtOrigin(t,e,r);}_setAtOrigin(e,r,s){const i=this.store,o=e.propertyName;i.has(o,s)&&j$d(r,i.get(o))&&~e.observerObject.flags&i$r.Overriden&&s===i.originOf(o)||(e.invalidate(),i.set(o,r,s),e.commit(),b$8(this.host,e));}_cast(t,e){const r=y$f.acquire();return r.valid=!0,r.value=e,t&&(r.value=t.call(this.host,e,r)),r}}class v$9{constructor(){this.value=null,this.valid=!0;}acquire(){this.valid=!0;}release(){this.value=null;}}const y$f=new e$t(v$9);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$n(o,e,s){if(o&&e)if("object"==typeof e)for(const r of Object.getOwnPropertyNames(e))t$n(o,r,e[r]);else {if(e.includes(".")){const n=e.split("."),i=n.splice(n.length-1,1)[0];return void t$n(o$w(o,n),i,s)}const i=o.__accessor__;null!=i&&n$o(e,i),o[e]=s;}}function n$o(r,t){if(has("esri-unknown-property-errors")&&!e$s(r,t))throw new s$C("set:unknown-property",s$v(r,t))}function e$s(o,r){return null!=r.metadatas[o]}function s$v(o,r){return "setting unknown property '"+o+"' on instance of "+r.host.declaredClass}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$n;function t$m(){return n$n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$j(e){e.length=0;}class t$l{constructor(t=50,o=50){this._pool=new e$t(Array,void 0,r$j,o,t);}acquire(){return this._pool.acquire()}release(e){this._pool.release(e);}prune(){this._pool.prune(0);}static acquire(){return o$t.acquire()}static release(e){return o$t.release(e)}static prune(){o$t.prune();}}const o$t=new t$l(100);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t$k extends e$t{constructor(){super(...arguments),this._set=new Set;}destroy(){super.destroy(),this._set=i$x();}acquire(...e){const s=super.acquire(...e);return this._set.delete(s),s}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e));}_dispose(e){this._set.delete(e),super._dispose(e);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$s=[];function t$j(t){o$s.push(t),1===o$s.length&&queueMicrotask((()=>{const t=o$s.slice();o$s.length=0;for(const o of t)o();}));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$u{constructor(s,e=30){this.name=s,this._counter=0,this._samples=new Array(e);}record(s){null!=s&&(this._samples[++this._counter%this._samples.length]=s);}get median(){return this._samples.slice().sort(((s,e)=>s-e))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((s,e)=>s+e),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var o$r;!function(o){const t=(o,t,n,e)=>{let i=t,c=t;const l=n>>>1,r=o[i-1];for(;c<=l;){c=i<<1,c<n&&e(o[c-1],o[c])<0&&++c;const t=o[c-1];if(e(t,r)<=0)break;o[i-1]=t,i=c;}o[i-1]=r;},n=(o,t)=>o<t?-1:o>t?1:0;function e(o,e,i,c){void 0===e&&(e=0),void 0===i&&(i=o.length),void 0===c&&(c=n);for(let n=i>>>1;n>e;n--)t(o,n,i,c);const l=e+1;for(let n=i-1;n>e;n--){const i=o[e];o[e]=o[n],o[n]=i,t(o,l,n,c);}}function*i(o,e,i,c){void 0===e&&(e=0),void 0===i&&(i=o.length),void 0===c&&(c=n);for(let n=i>>>1;n>e;n--)t(o,n,i,c),yield;const l=e+1;for(let n=i-1;n>e;n--){const i=o[e];o[e]=o[n],o[n]=i,t(o,l,n,c),yield;}}o.sort=e,o.iterableSort=i;}(o$r||(o$r={}));const t$i=o$r;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a$n=1.5,e$r=1.1;class l$m{constructor(h){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new v$b,h&&(h.initialSize&&(this.data=new Array(h.initialSize)),h.allocator&&(this._allocator=h.allocator),void 0!==h.deallocator&&(this._deallocator=h.deallocator),h.shrink&&(this._shrink=()=>n$m(this)));}toArray(){return this.data.slice(0,this.length)}filter(t){const h=new Array;for(let i=0;i<this._length;i++){const s=this.data[i];t(s)&&h.push(s);}return h}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,h){const i=this.data.indexOf(t,h);return -1!==i&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t;}else {if(this._deallocator)for(let h=t;h<this._length;++h)this.data[h]=this._deallocator(this.data[h]);this._length=t,this._shrink();}}clear(){this.length=0;}prune(){this.clear(),this.data=[];}push(t){this.data[this._length++]=t;}pushArray(t,h=t.length){for(let i=0;i<h;i++)this.data[this._length++]=t[i];}fill(t,h){for(let i=0;i<h;i++)this.data[this._length++]=t;}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return ++this._length,t}unshift(t){this.data.unshift(t),this._length++,n$m(this);}pop(){if(0===this.length)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=b$a(this.data,t,this.length,this._hint);if(-1!==i)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(b$a(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,h=t.length,s){this.length=O$6(this.data,t,this.length,h,this._hint,s),this._shrink();}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(t,h){if(t>=this.length||h>=this.length||t===h)return;const i=this.data[t];this.data[t]=this.data[h],this.data[h]=i;}sort(t){t$i.sort(this.data,0,this.length,t);}iterableSort(t){return t$i.iterableSort(this.data,0,this.length,t)}some(t,h){for(let i=0;i<this.length;++i)if(t.call(h,this.data[i],i,this.data))return !0;return !1}find(t,h){for(let i=0;i<this.length;++i){const s=this.data[i];if(t.call(h,s,i))return s}}filterInPlace(t,h){let i=0;for(let s=0;s<this._length;++s){const a=this.data[s];t.call(h,a,s,this.data)&&(this.data[s]=this.data[i],this.data[i]=a,i++);}if(this._deallocator)for(let s=i;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=i,this._shrink(),this}forAll(t,h){const i=this.length,s=this.data;for(let a=0;a<i;++a)t.call(h,s[a],a,s);}forEach(t,h){for(let i=0;i<this.length;++i)t.call(h,this.data[i],i,this.data);}map(t,h){const i=new Array(this.length);for(let s=0;s<this.length;++s)i[s]=t.call(h,this.data[s],s,this.data);return i}reduce(t,h){let i=h;for(let s=0;s<this.length;++s)i=t(i,this.data[s],s,this.data);return i}has(t){const h=this.length,i=this.data;for(let s=0;s<h;++s)if(i[s]===t)return !0;return !1}}function n$m(t){t.data.length>a$n*t.length&&(t.data.length=Math.floor(t.length*e$r));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$l(n){return n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class m$i{constructor(e){this.callback=e,this.isActive=!0;}remove(){this.isActive=!1;}}let l$l=0;const u$s={time:n$l(0),deltaTime:n$l(0),elapsedFrameTime:n$l(0),frameDuration:n$l(0)},f$q=["prepare","preRender","render","postRender","update","finish"],h$j=[],d$l=new l$m;const k$7={frameTasks:d$l,willDispatch:!1,clearFrameTasks:j$a,dispatch:b$7,executeFrameTasks:D$6};function v$8(e){const r=new m$i(e);return h$j.push(r),k$7.willDispatch||(k$7.willDispatch=!0,t$j(b$7)),r}function j$a(e=!1){d$l.forAll((e=>{e.removed=!0;})),e&&_$b();}function D$6(e){const t=n$l(e-l$l);l$l=e;const r=1e3/60,s=Math.max(0,t-r);u$s.time=e,u$s.frameDuration=n$l(r-s);for(let o=0;o<f$q.length;o++){const r=performance.now(),s=f$q[o];d$l.forAll((r=>{if(r.paused||r.removed)return;0===o&&r.ticks++;r.phases[s]&&(u$s.elapsedFrameTime=n$l(performance.now()-e),u$s.deltaTime=0===r.ticks?n$l(0):t,r.phases[s]?.call(r,u$s));})),R$3[o].record(performance.now()-r);}_$b(),q$5.record(performance.now()-e);}const g$d=new l$m;function _$b(){d$l.forAll((e=>{e.removed&&g$d.push(e);})),d$l.removeUnorderedMany(g$d.data,g$d.length),g$d.clear();}function b$7(){for(;h$j.length;){const t=p$m(h$j.shift());t.isActive&&t.callback();}k$7.willDispatch=!1;}const R$3=f$q.map((e=>new s$u(e))),q$5=new s$u("total");

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let t$h=0;function e$q(){return ++t$h}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t$g{constructor(t){this._accessed=[],this._handles=[],this._observerObject=new e$p(t),s$t.register(this,new WeakRef(this._observerObject),this);}destroy(){s$t.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear();}onObservableAccessed(t){const e=this._accessed;e.includes(t)||e.push(t);}onTrackingEnd(){const t=this._handles,e=this._accessed,s=this._observerObject;for(let i=0;i<e.length;++i)t.push(e[i].observe(s));e.length=0;}clear(){const t=this._handles;for(let e=0;e<t.length;++e)t[e].remove();t.length=0;}}class e$p{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1;}onInvalidated(){this._invalidCount++;}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0;}destroy(){this.destroyed=!0,this._notify=i$p;}}const s$t=new FinalizationRegistry((t=>{t.deref()?.destroy();}));function i$p(){}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let r$i=!1;const e$o=[];function o$q(e,o){let u=new t$g(s),l=null,f=!1;function s(){if(!u||f)return;if(r$i)return void i$o(s);const t=l;u.clear(),r$i=!0,f=!0,l=f$r(u,e),f=!1,r$i=!1,o(l,t),c$t();}function m(){u&&(u.destroy(),u=null,l=null);}return f=!0,l=f$r(u,e),f=!1,{remove:m}}function u$r(r,e){let o=new t$g(l),u=null;function l(){e(u,c);}function i(){o&&(o.destroy(),o=null),u=null;}function c(){return o?(o.clear(),u=f$r(o,r),u):null}return c(),{remove:i}}function i$o(n){e$o.includes(n)||e$o.unshift(n);}function c$t(){for(;e$o.length;)e$o.pop()();}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var h$i;!function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked";}(h$i||(h$i={}));class f$p{constructor(){this.uid=e$q(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null;}static acquireUntracked(e,r,o,l,i){return this.pool.acquire(h$i.Untracked,e,r,o,l,i,j$d)}static acquireTracked(e,t,r,o){return this.pool.acquire(h$i.Tracked,e,t,r,null,null,o)}notify(e,t){this.type===h$i.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0);}acquire(e,t,r,o,l,i,s){this.uid=e$q(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=r,this.getValue=o,this.target=l,this.path=i,this.equals=s;}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=e$q(),this.removed=!0;}}f$p.pool=new t$k(f$p);const m$h=new t$l,v$7=new Set;let p$j;function k$6(e){v$7.delete(e),v$7.add(e),p$j||(p$j=v$8(q$4));}function _$a(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t));}function g$c(e){for(const t of v$7.values())t.target===e&&(t.removed=!0);}function q$4(){let e=10;for(;p$j&&e--;){p$j=null;const e=j$9(),t=m$h.acquire();for(const r of e){const e=r.uid;_$a(r),e===r.uid&&r.removed&&t.push(r);}for(const r of v$7)r.removed&&(t.push(r),v$7.delete(r));for(const r of t)f$p.pool.release(r);m$h.release(t),m$h.release(e),V.forEach((e=>e()));}}function j$9(){const e=m$h.acquire();e.length=v$7.size;let t=0;for(const r of v$7)e[t]=r,++t;return v$7.clear(),e}const V=new Set;function U$2(e,t,r){let o=y$h(e,t,r,((e,t,r)=>{let l,i,n=u$r((()=>u$v(e,t)),((n,s)=>{e.__accessor__.destroyed||l&&l.uid!==i?o.remove():(l||(l=f$p.acquireUntracked(n,r,s,e,t),i=l.uid),k$6(l));}));return {remove:h$k((()=>{n.remove(),l&&(l.uid!==i||l.removed||(l.removed=!0,k$6(l)),l=null),o=n=null;}))}}));return o}function b$6(e,r,o){const l=y$h(e,r,o,((e,r,o)=>{let i=!1;return o$q((()=>u$v(e,r)),((n,s)=>{e.__accessor__.destroyed?l.remove():i||(i=!0,j$d(s,n)||o.call(e,n,s,r,e),i=!1);}))}));return l}function T$3(e,t,r,o=!1){return !e.__accessor__||e.__accessor__.destroyed?{remove(){}}:o?b$6(e,t,r):U$2(e,t,r)}function w$6(e,t,r){let o,l,i=u$r(e,((e,n)=>{o&&o.uid!==l?i.remove():(o||(o=f$p.acquireTracked(e,t,n,r),l=o.uid),k$6(o));}));return {remove:h$k((()=>{i.remove(),o&&(o.uid!==l||o.removed||(o.removed=!0,k$6(o)),o=null),i=null;}))}}function S$7(e,t,r){let o=!1;return o$q(e,((e,l)=>{o||(o=!0,r(l,e)||t(e,l),o=!1);}))}function P$2(e,t,o=!1,l=h$m){return o?S$7(e,t,l):w$6(e,t,l)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$h(n,t,r){const o=n.get(t);if(void 0!==o)return o;const u=r();return n.set(t,u),u}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$g=s$E.getLogger("esri.core.accessorSupport.ensureTypes");function t$f(e){return null==e?e:new Date(e)}function o$p(e){return null==e?e:!!e}function u$q(e){return null==e?e:e.toString()}function a$m(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function s$s(e){return null==e?e:Math.round(parseFloat(e))}function i$n(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function c$s(e,n){return null!=n&&e&&!(n instanceof e)}function l$k(e){return e&&"isCollection"in e}function f$o(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function p$i(e,n){if(!n||!n.constructor||!l$k(n.constructor))return y$e(e,n)?n:new e(n);const r=f$o(e.prototype.itemType),t=f$o(n.constructor.prototype.itemType);return r?t?r===t?n:r.prototype.isPrototypeOf(t.prototype)?new e(n):(y$e(e,n),n):new e(n):n}function y$e(e,n){return !!i$n(n)&&(r$g.error("Accessor#set","Assigning an instance of '"+(n.declaredClass||"unknown")+"' which is not a subclass of '"+g$b(e)+"'"),!0)}function v$6(e,n){return null==n?n:l$k(e)?p$i(e,n):c$s(e,n)?y$e(e,n)?n:new e(n):n}function g$b(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const h$h=new WeakMap;function m$g(e){switch(e){case Number:return a$m;case T$2:return s$s;case Boolean:return o$p;case String:return u$q;case Date:return t$f;default:return r$h(h$h,e,(()=>v$6.bind(null,e)))}}function d$k(e,n){const r=m$g(e);return 1===arguments.length?r:r(n)}function b$5(e,n,r){return 1===arguments.length?b$5.bind(null,e):n?Array.isArray(n)?n.map((n=>e(n,r))):[e(n,r)]:n}function w$5(e,n){return 1===arguments.length?b$5((n=>d$k(e,n))):b$5((n=>d$k(e,n)),n)}function A$7(e,n,r){return 0!==n&&Array.isArray(r)?r.map((r=>A$7(e,n-1,r))):e(r)}function $$2(e,n,r){if(2===arguments.length)return r=>$$2(e,n,r);if(!r)return r;r=A$7(e,n,r);let t=n,o=r;for(;t>0&&Array.isArray(o);)t--,o=o[0];if(void 0!==o)for(let u=0;u<t;u++)r=[r];return r}function j$8(e,n,r){return 2===arguments.length?$$2((n=>d$k(e,n)),n):$$2((n=>d$k(e,n)),n,r)}function k$5(e){return !!Array.isArray(e)&&!e.some((n=>{const r=typeof n;return !("string"===r||"number"===r||"function"===r&&e.length>1)}))}function M$6(e,n){if(2===arguments.length)return M$6(e).call(null,n);const t=new Set,o=e.filter((e=>"function"!=typeof e)),u=e.filter((e=>"function"==typeof e));for(const r of e)"string"!=typeof r&&"number"!=typeof r||t.add(r);let a=null,s=null;return (e,n)=>{if(null==e)return e;const i=typeof e,l="string"===i||"number"===i;return l&&(t.has(e)||u.some((e=>"string"===i&&e===String||"number"===i&&e===Number)))||"object"===i&&u.some((n=>!c$s(e,n)))?e:(l&&o.length?(a||(a=o.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),r$g.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${a}`)):"object"==typeof e&&u.length?(s||(s=u.map((e=>g$b(e))).join(", ")),r$g.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${s}`)):r$g.error("Accessor#set",`'${e}' is not a valid value for this property`),n&&(n.valid=!1),null)}}function S$6(e,n){if(2===arguments.length)return S$6(e).call(null,n);const t={},o=[],u=[];for(const r in e.typeMap){const n=e.typeMap[r];t[r]=d$k(n),o.push(g$b(n)),u.push(r);}const a=()=>`'${o.join("', '")}'`,s=()=>`'${u.join("', '")}'`,l="string"==typeof e.key?n=>n[e.key]:e.key;return n=>{if(e.base&&!c$s(e.base,n))return n;if(null==n)return n;const o=l(n)||e.defaultKeyValue,u=t[o];if(!u)return r$g.error("Accessor#set",`Invalid property value, value needs to be one of ${a()}, or a plain object that can autocast (having .type = ${s()})`),null;if(!c$s(e.typeMap[o],n))return n;if("string"==typeof e.key&&!i$n(n)){const r={};for(const t in n)t!==e.key&&(r[t]=n[t]);return u(r)}return u(n)}}class T$2{}function _$9(e){if(!e||!("type"in e))return !1;switch(e.type){case"native":case"array":case"one-of":return !0}return !1}function B$4(e){switch(e.type){case"native":return d$k(e.value);case"array":return b$5(B$4(e.value));case"one-of":return C$5(e);default:return null}}function C$5(e){let n=null;return (t,o)=>F$2(t,e)?t:(null==n&&(n=D$5(e)),r$g.error("Accessor#set",`Invalid property value, value needs to be of type ${n}`),o&&(o.valid=!1),null)}function D$5(e){switch(e.type){case"native":switch(e.value){case Number:return "number";case String:return "string";case Boolean:return "boolean";case T$2:return "integer";case Date:return "date";default:return g$b(e.value)}case"array":return `array of ${D$5(e.value)}`;case"one-of":{const n=e.values.map((e=>D$5(e)));return `one of ${n.slice(0,n.length-1)} or ${n[n.length-1]}`}}return "unknown"}function F$2(e,n){if(null==e)return !0;switch(n.type){case"native":switch(n.value){case Number:case T$2:return "number"==typeof e;case Boolean:return "boolean"==typeof e;case String:return "string"==typeof e}return e instanceof n.value;case"array":return !!Array.isArray(e)&&!e.some((e=>!F$2(e,n.value)));case"one-of":return n.values.some((n=>F$2(e,n)))}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function y$d(n={}){return (o,s)=>{if(o===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${o.name}.${s}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(o,s),a=o$v(o,s);i&&(i.get||i.set?(a.get=i.get||a.get,a.set=i.set||a.set):"value"in i&&("value"in n&&s$E.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s}" on "${o.constructor.name}" already defined in the metadata`,n),a.value=n.value=i.value)),null!=n.readOnly&&(a.readOnly=n.readOnly);const p=n.aliasOf;if(p){const t="string"==typeof p?p:p.source,e="string"==typeof p?null:!0===p.overridable;let r;a.dependsOn=[t],a.get=function(){let e=o$w(this,t);if("function"==typeof e){r||(r=t.split(".").slice(0,-1).join("."));const n=o$w(this,r);n&&(e=e.bind(n));}return e},a.readOnly||(a.set=e?function(t){this._override(s,t);}:function(e){t$n(this,t,e);});}const u=n.type,c=n.types;a.cast||(u?a.cast=h$g(u):c&&(Array.isArray(c)?a.cast=b$5(S$6(c[0])):a.cast=S$6(c))),n$q(a,n),n.range&&(a.cast=j$7(a.cast,n.range));}}function d$j(t,e,r){const n=o$v(t,r);n.json||(n.json={});let o=n.json;return void 0!==e&&(o.origins||(o.origins={}),o.origins[e]||(o.origins[e]={}),o=o.origins[e]),o}function h$g(t){let e=0,r=t;if(_$9(t))return B$4(t);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],e++;const f=r;if(k$5(f))return 0===e?M$6(f):$$2(M$6(f),e);if(1===e)return w$5(f);if(e>1)return j$8(f,e);const l=t;return l.from?l.from:d$k(l)}function j$7(t,e){return r=>{let n=+t(r);return null!=e.step&&(n=Math.round(n/e.step)*e.step),null!=e.min&&(n=Math.max(e.min,n)),null!=e.max&&(n=Math.min(e.max,n)),n}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$k(n){if(n.json&&n.json.origins){const o=n.json.origins,e={"web-document":["web-scene","web-map"]};for(const n in e)if(o[n]){const s=o[n];e[n].forEach((n=>{o[n]=s;})),delete o[n];}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$r extends e$A{constructor(e,s,t){super(e,s,t);}}s$r.prototype.type="warning";

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$n(e){return !!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i$m=s$E.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function p$h(t,r,n){t&&(!n&&!r.read||r.read?.reader||!1===r.read?.enabled||l$j(t)&&o$B("read.reader",u$p(t),r));}function u$p(t){const e=t.ndimArray??0;if(e>1)return c$r(t);if(1===e)return a$l(t);if("type"in t&&d$i(t.type)){const e=t.type.prototype?.itemType?.Type,r=a$l("function"==typeof e?{type:e}:{types:e});return (e,n,o)=>{const i=r(e,n,o);return i?new t.type(i):i}}return s$q(t)}function s$q(t){return "type"in t?y$c(t.type):g$a(t.types)}function y$c(t){return t.prototype.read?(e,r,n)=>{if(null==e)return e;const o=typeof e;if("object"!==o)return void i$m.error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${o}'`);const p=new t;return p.read(e,n),p}:t.fromJSON}function f$n(t,e,r,n){return 0!==n&&Array.isArray(e)?e.map((e=>f$n(t,e,r,n-1))):t(e,void 0,r)}function c$r(t){const e=s$q(t),r=f$n.bind(null,e),n=t.ndimArray??0;return (t,e,o)=>{if(null==t)return t;t=r(t,o,n);let i=n,p=t;for(;i>0&&Array.isArray(p);)i--,p=p[0];if(void 0!==p)for(let r=0;r<i;r++)t=[t];return t}}function a$l(t){const e=s$q(t);return (t,r,n)=>{if(null==t)return t;if(Array.isArray(t)){const r=[];for(const o of t){const t=e(o,void 0,n);void 0!==t&&r.push(t);}return r}const o=e(t,void 0,n);return void 0!==o?[o]:void 0}}function d$i(t){if(!e$n(t))return !1;const e=t.prototype.itemType;return !(!e||!e.Type)&&("function"==typeof e.Type?m$f(e.Type):j$6(e.Type))}function l$j(t){return "types"in t?j$6(t.types):m$f(t.type)}function m$f(t){return !Array.isArray(t)&&(!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||d$i(t)))}function j$6(t){for(const e in t.typeMap){if(!m$f(t.typeMap[e]))return !1}return !0}function g$a(t){let e=null;const n=t.errorContext??"type";return (o,p,u)=>{if(null==o)return o;const s=typeof o;if("object"!==s)return void i$m.error(`Expected JSON value of type 'object' to deserialize, but got '${s}'`);e||(e=v$5(t));const y=t.key;if("string"!=typeof y)return;const f=o[y],c=f?e[f]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!c){const t=`Type '${f||"unknown"}' is not supported`;return u&&u.messages&&o&&u.messages.push(new s$r(`${n}:unsupported`,t,{definition:o,context:u})),void i$m.error(t)}const a=new c;return a.read(o,u),a}}function v$5(t){const e={};for(const r in t.typeMap){const o=t.typeMap[r],i=r$m(o.prototype);if("function"==typeof t.key)continue;const p=i[t.key];if(!p)continue;p.json?.type&&Array.isArray(p.json.type)&&1===p.json.type.length&&"string"==typeof p.json.type[0]&&(e[p.json.type[0]]=o);const u=p.json?.write;if(!u||!u.writer){e[r]=o;continue}const s=u.target,y="string"==typeof s?s:t.key,f={};u.writer(r,f,y),f[y]&&(e[f[y]]=o);}return e}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$m(e){if(e.json||(e.json={}),o$o(e.json),n$j(e.json),r$f(e.json),e.json.origins)for(const t in e.json.origins)o$o(e.json.origins[t]),n$j(e.json.origins[t]),r$f(e.json.origins[t]);return !0}function r$f(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name});}function o$o(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0);}function n$j(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$l(r,e){if(!e.write||e.write.writer||!1===e.write.enabled&&!e.write.overridePolicy)return;const t=r?.ndimArray??0;r&&(1===t||"type"in r&&e$n(r.type))?e.write.writer=a$k:t>1?e.write.writer=l$i(t):e.types?Array.isArray(e.types)?e.write.writer=f$m(e.types[0]):e.write.writer=o$n(e.types):e.write.writer=s$p;}function o$n(r){return (e,t,n,i)=>e?u$o(e,r,i)?s$p(e,t,n,i):void 0:s$p(e,t,n,i)}function u$o(t,n,i){for(const r in n.typeMap)if(t instanceof n.typeMap[r])return !0;if(i?.messages){const o=n.errorContext??"type",u=`Values of type '${("function"!=typeof n.key?t[n.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new s$C(`${o}:unsupported`,u,{definition:t,context:i})),s$E.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(u);}return !1}function f$m(r){return (e,t,n,i)=>{if(!e||!Array.isArray(e))return s$p(e,t,n,i);return s$p(e.filter((e=>u$o(e,r,i))),t,n,i)}}function s$p(r,e,n,i){o$B(n,p$g(r,i),e);}function p$g(r,e){return r&&"function"==typeof r.write?r.write({},e):r&&"function"==typeof r.toJSON?r.toJSON():"number"==typeof r?y$b(r):r}function y$b(r){return r===-1/0?-Number.MAX_VALUE:r===1/0?Number.MAX_VALUE:isNaN(r)?null:r}function a$k(r,e,n,i){let o;null===r?o=null:r&&"function"==typeof r.map?(o=r.map((r=>p$g(r,i))),"function"==typeof o.toArray&&(o=o.toArray())):o=[p$g(r,i)],o$B(n,o,e);}function c$q(r,e,t){return 0!==t&&Array.isArray(r)?r.map((r=>c$q(r,e,t-1))):p$g(r,e)}function l$i(r){return (e,n,i,o)=>{let u;if(null===e)u=null;else {u=c$q(e,o,r);let t=r,n=u;for(;t>0&&Array.isArray(n);)t--,n=n[0];if(void 0!==n)for(let r=0;r<t;r++)u=[u];}o$B(i,u,n);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o$m(r,i){return y$a(r,"any",i?.origin)}function s$o(r,i){return y$a(r,"read",i?.origin)}function a$j(r,i){return y$a(r,"write",i?.origin)}function y$a(r,i,n){let e=r?.json;if(e?.origins&&n){let r;r="link-chart"===n?e.origins[n]&&("any"===i||i in e.origins[n])?e.origins[n]:e.origins["web-map"]:e.origins[n],r&&("any"===i||i in r)&&(e=r);}return e}function p$f(r){const i=f$l(r);if(r.json.origins)for(const e in r.json.origins){const o=r.json.origins[e],s=o.types?u$n(o):i;p$h(s,o,!1),o.types&&!o.write&&r.json.write&&r.json.write.enabled&&(o.write={...r.json.write}),i$l(s,o);}p$h(i,r.json,!0),i$l(i,r.json);}function f$l(r){return r.json.types?j$5(r.json):r.type?c$p(r):j$5(r)}function u$n(r){return r.type?c$p(r):j$5(r)}function c$p(i){if(!i.type)return;let n=0,e=i.type;for(;Array.isArray(e)&&!k$5(e);)e=e[0],n++;return {type:e,ndimArray:n}}function j$5(r){if(!r.types)return;let i=0,n=r.types;for(;Array.isArray(n);)n=n[0],i++;return {types:n,ndimArray:i}}function l$h(r){e$m(r)&&(n$k(r),p$f(r));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i$k=new Set,n$i=new Set;function a$i(t){return o=>{o.prototype.declaredClass=t,l$g(o);const s=[],a=[];let c=o.prototype;for(;c;)c.hasOwnProperty("initialize")&&!i$k.has(c.initialize)&&(i$k.add(c.initialize),s.push(c.initialize)),c.hasOwnProperty("destroy")&&!n$i.has(c.destroy)&&(n$i.add(c.destroy),a.push(c.destroy)),c=Object.getPrototypeOf(c);i$k.clear(),n$i.clear();class p extends o{constructor(...t){if(super(...t),this.constructor===p&&"function"==typeof this.postscript){if(s.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=s.length-1;e>=0;e--)s[e].call(this);}}),a.length){let t=!1;const r=this[o$y];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!t){t=!0,r.call(this);for(let e=0;e<a.length;e++)a[e].call(this);}}});}this.postscript(...t);}}}return p.__accessorMetadata__=r$m(o.prototype),p.prototype.declaredClass=t,p}}function c$o(e,t){return null==t.get?function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0===r)return;i$q(r.observerObject);const s=t.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0!==r)return r.getComputed(t)}}function l$g(e){const o=e.prototype,i=r$m(o),n={};for(const r of Object.getOwnPropertyNames(i)){const e=i[r];l$h(e),n[r]={enumerable:!0,configurable:!0,get:c$o(r,e),set(o){const s=this.__accessor__;if(void 0!==s){if(!Object.isFrozen(this)){if(s.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(s.lifecycle===I$4.CONSTRUCTED&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);s.set(r,o);}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o});}};}Object.defineProperties(e.prototype,n);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var u$m,p$e;function d$h(t){if(null==t)return {value:t};if(Array.isArray(t))return {type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return {type:Boolean,value:t};case"string":return {type:String,value:t};case"number":return {type:Number,value:t};case"function":return {type:t,value:null};default:return}}const y$9=Symbol("Accessor-Handles"),f$k=Symbol("Accessor-Initialized");class m$e{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:e,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const i=this;class c extends i{constructor(...t){super(...t),this.inherited=null,s&&s.apply(this,t);}}r$m(c.prototype);for(const o in t){const r=t[o];c.prototype[o]="function"==typeof r?function(...t){const e=this.inherited;let s;this.inherited=function(...t){if(i.prototype[o])return i.prototype[o].apply(this,t)};try{s=r.apply(this,t);}catch(c){throw this.inherited=e,c}return this.inherited=e,s}:t[o];}for(const o in r){const t=d$h(r[o]);y$d(t)(c.prototype,o);}return a$i(e)(c)}constructor(...t){if(this[u$m]=null,this[p$e]=!1,this.constructor===m$e)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new m$j(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&this.normalizeCtorArgs&&(r.ctorArgs=this.normalizeCtorArgs.apply(this,t)),t$m()?.onInstanceConstruct(this),v$4.register(this,r.propertiesByName,this);}postscript(t){const r=this.__accessor__,e=r.ctorArgs||t;r.initialize(),e&&(this.set(e),r.ctorArgs=null),r.constructed(),this.initialize(),this[f$k]=!0;}initialize(){}[o$y](){this[y$9]=l$s(this[y$9]);}destroy(){this.destroyed||(v$4.unregister(this),g$c(this),this.__accessor__.destroy(),t$m()?.onInstanceDestroy(this));}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[f$k]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t);}get(t){return o$w(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return t$n(this,t,r),this}watch(t,r,e){return T$3(this,t,r,e)}own(t){this.addHandles(t);}addHandles(r,e){if(this.destroyed){const t=Array.isArray(r)?r:[r];for(const r of t)r.remove();return}let s=this[y$9];null==s&&(s=this[y$9]=new t$r),s.add(r,e);}removeHandles(t){const r=this[y$9];null!=r&&r.remove(t);}removeAllHandles(){const t=this[y$9];null!=t&&t.removeAll();}hasHandles(t){const r=this[y$9];return null!=r&&r.has(t)}_override(t,r){void 0===r?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r);}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){null==r?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r);}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t);}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}u$m=y$9,p$e=f$k;const v$4=new FinalizationRegistry((t=>{for(const r of t.values())r.destroy();}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$n{constructor(){this._values=new Map,this.multipleOriginsSupported=!1;}clone(e){const t=new s$n;return this._values.forEach(((s,r)=>{e&&e.has(r)||t.set(r,a$v(s.value),s.origin);})),t}get(i,e){e=this._normalizeOrigin(e);const s=this._values.get(i);return null==e||s?.origin===e?s?.value:void 0}originOf(i){return this._values.get(i)?.origin??r$k.USER}keys(i){i=this._normalizeOrigin(i);const e=[...this._values.keys()];return null==i?e:e.filter((e=>this._values.get(e)?.origin===i))}set(i,s,r){if((r=this._normalizeOrigin(r))===r$k.DEFAULTS){const e=this._values.get(i);if(e&&null!=e.origin&&e.origin>r)return}this._values.set(i,new t$e(s,r));}delete(i,e){null!=(e=this._normalizeOrigin(e))&&this._values.get(i)?.origin!==e||this._values.delete(i);}has(i,e){return null!=(e=this._normalizeOrigin(e))?this._values.get(i)?.origin===e:this._values.has(i)}forEach(i){this._values.forEach((({value:e},s)=>i(e,s)));}_normalizeOrigin(i){if(null!=i)return i===r$k.DEFAULTS?i:r$k.USER}}class t$e{constructor(i,e){this.value=i,this.origin=e;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$l(e,r,n){r.keys().forEach((e=>{n.set(e,r.get(e),r$k.DEFAULTS);}));const o=e.metadatas;Object.keys(o).forEach((r=>{e.internalGet(r)&&n.set(r,e.internalGet(r),r$k.DEFAULTS);}));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function s$m(e,r,o){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return !1;const n=e.read.source;if("string"==typeof n){if(n===r)return !0;if(n.includes(".")&&0===n.indexOf(r)&&s$z(n,o))return !0}else for(const s of n){if(s===r)return !0;if(s.includes(".")&&0===s.indexOf(r)&&s$z(s,o))return !0}return !1}function i$j(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)}function f$j(e,t,r,n,f){let a=s$o(t[r],f);i$j(a)&&(e[r]=!0);for(const i of Object.getOwnPropertyNames(t))a=s$o(t[i],f),s$m(a,r,n)&&(e[i]=!0);}function a$h(e,t,r,o){const s=r.metadatas,i=o$m(s[t],o),f=i?.default;if(void 0===f)return;const a="function"==typeof f?f.call(e,t,o):f;void 0!==a&&r.set(t,a);}const c$n={origin:"service"};function u$l(t,n,s=c$n){if(!n||"object"!=typeof n)return;const i=e$v(t),u=i.metadatas,d={};for(const e of Object.getOwnPropertyNames(n))f$j(d,u,e,n,s);i.setDefaultOrigin(s.origin);for(const r of Object.getOwnPropertyNames(d)){const f=s$o(u[r],s).read,a=f&&f.source;let c;c=a&&"string"==typeof a?u$v(n,a):n[r],f&&f.reader&&(c=f.reader.call(t,c,n,s)),void 0!==c&&i.set(r,c);}if(!s||!s.ignoreDefaults){i.setDefaultOrigin("defaults");for(const e of Object.getOwnPropertyNames(u))d[e]||a$h(t,e,i,s);}i.setDefaultOrigin("user");}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function a$g(r,e,t,i,o){const n={};return e.write?.writer?.call(r,i,n,t,o),n}function f$i(r,i,s,u,l,a){if(!u||!u.write)return !1;const f=r.get(s);if(!l&&u.write.overridePolicy){const e=u.write.overridePolicy.call(r,f,s,a??void 0);void 0!==e&&(l=e);}if(l||(l=u.write),!l||!1===l.enabled)return !1;if((null===f&&!l.allowNull&&!l.writerEnsuresNonNull||void 0===f)&&l.isRequired){const i=new s$C("web-document-write:property-required",`Missing value for required property '${s}' on '${r.declaredClass}'`,{propertyName:s,target:r});return i&&a&&a.messages?a.messages.push(i):i&&!a&&s$E.getLogger("esri.core.accessorSupport.write").error(i.name,i.message),!1}if(void 0===f)return !1;if(null===f&&!l.allowNull&&!l.writerEnsuresNonNull)return !1;if(!l.alwaysWriteDefaults&&(!i.store.multipleOriginsSupported||i.store.originOf(s)===r$k.DEFAULTS)&&p$d(r,s,a,u,f))return !1;if(!l.ignoreOrigin&&a&&a.origin&&i.store.multipleOriginsSupported){if(i.store.originOf(s)<n$p(a.origin))return !1}return !0}function p$d(e,t,i,o,n){const s=o.default;if(void 0===s)return !1;if(null!=o.defaultEquals)return o.defaultEquals(n);if("function"==typeof s){if(Array.isArray(n)){const o=s.call(e,t,i??void 0);return s$G(o,n)}return !1}return s===n}function g$9(r,e,t){if(r&&"function"==typeof r.toJSON&&(!r.toJSON.isDefaultToJSON||!r.write))return o$x(e,r.toJSON(t));const o=e$v(r),n=o.metadatas;for(const s in n){const p=a$j(n[s],t);if(!f$i(r,o,s,p,void 0,t))continue;const c=r.get(s),g=a$g(r,p,p.write&&"string"==typeof p.write.target?p.write.target:s,c,t);Object.keys(g).length>0&&(e=o$x(e,g),t?.resources?.pendingOperations?.length&&t.resources.pendingOperations.push(Promise.all(t.resources.pendingOperations).then((()=>o$x(e,g,(()=>"replace-arrays"))))),t&&t.writtenProperties&&t.writtenProperties.push({target:r,propName:s,oldOrigin:c$v(o.store.originOf(s)),newOrigin:t.origin}));}return e}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u$k=t=>{let u=class extends t{constructor(...r){super(...r);const t=p$m(e$v(this)),i=t.store,p=new s$n;t.store=p,e$l(t,i,p);}read(r,t){u$l(this,r,t);}write(r,t){return g$9(this,r??{},t)}toJSON(r){return this.write({},r)}static fromJSON(r,t){return n$h.call(this,r,t)}};return u=e$x([a$i("esri.core.JSONSupport")],u),u.prototype.toJSON.isDefaultToJSON=!0,u};function n$h(r,t){if(!r)return null;if(r.declaredClass)throw new Error("JSON object is already hydrated");const s=new this;return s.read(r,t),s}let l$f=class extends(u$k(m$e)){};l$f=e$x([a$i("esri.core.JSONSupport")],l$f);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o$l(o,e,t){let a,c;return void 0===e||Array.isArray(e)?(c=o,t=e,a=[void 0]):(c=e,a=Array.isArray(o)?o:[o]),(o,e)=>{const d=o.constructor.prototype;a.forEach((a=>{const s=d$j(o,a,c);s.read&&"object"==typeof s.read||(s.read={}),s.read.reader=d[e],t&&(s.read.source=(s.read.source||[]).concat(t));}));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$l{constructor(s,o={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=s,this._options=o,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(s),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(s,o,i)=>{const n=this.toJSON(s);void 0!==n&&o$B(i,n,o);},this.write.isJSONMapWriter=!0;}toJSON(t){if(null==t)return null;if(this._apiToJSON.hasOwnProperty(t)){const s=this._apiToJSON[t];return this._options.useNumericKeys?+s:s}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return null!=t&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const s={};for(const o in t)s[t[o]]=o;return s}_getKeysSorted(t){const s=[];for(const o in t)s.push(o);return s.sort(),s}}function o$k(){return function(t,o){return new s$l(t,{ignoreUnknown:!0,...o})}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i$i{constructor(i,s,t,e){this.semiMajorAxis=i,this.flattening=s,this.outerAtmosphereRimWidth=t;const h=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*h,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=e||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3;}get radius(){return this.semiMajorAxis}}const s$k=new i$i(6378137,1/298.257223563,3e5,.006694379990137799),t$d=new i$i(3396190,1/169.8944472236118,23e4),e$k=new i$i(1737400,0,0);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var S$5;!function(S){S[S.CGCS2000=4490]="CGCS2000",S[S.GCSMARS2000=104971]="GCSMARS2000",S[S.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",S[S.GCSMOON2000=104903]="GCSMOON2000";}(S$5||(S$5={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let o$j;const r$e={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(o$j=2e3;o$j<=2045;o$j++)r$e[o$j]=0;for(o$j=2056;o$j<=2065;o$j++)r$e[o$j]=0;for(o$j=2067;o$j<=2135;o$j++)r$e[o$j]=0;for(o$j=2137;o$j<=2154;o$j++)r$e[o$j]=0;for(o$j=2161;o$j<=2170;o$j++)r$e[o$j]=0;for(o$j=2172;o$j<=2193;o$j++)r$e[o$j]=0;for(o$j=2195;o$j<=2198;o$j++)r$e[o$j]=0;for(o$j=2200;o$j<=2203;o$j++)r$e[o$j]=0;for(o$j=2205;o$j<=2217;o$j++)r$e[o$j]=0;for(o$j=2222;o$j<=2224;o$j++)r$e[o$j]=1;for(o$j=2225;o$j<=2250;o$j++)r$e[o$j]=2;for(o$j=2251;o$j<=2253;o$j++)r$e[o$j]=1;for(o$j=2257;o$j<=2264;o$j++)r$e[o$j]=2;for(o$j=2274;o$j<=2279;o$j++)r$e[o$j]=2;for(o$j=2280;o$j<=2282;o$j++)r$e[o$j]=1;for(o$j=2283;o$j<=2289;o$j++)r$e[o$j]=2;for(o$j=2290;o$j<=2292;o$j++)r$e[o$j]=0;for(o$j=2308;o$j<=2313;o$j++)r$e[o$j]=0;for(o$j=2315;o$j<=2491;o$j++)r$e[o$j]=0;for(o$j=2494;o$j<=2866;o$j++)r$e[o$j]=0;for(o$j=2867;o$j<=2869;o$j++)r$e[o$j]=1;for(o$j=2870;o$j<=2888;o$j++)r$e[o$j]=2;for(o$j=2891;o$j<=2895;o$j++)r$e[o$j]=2;for(o$j=2896;o$j<=2898;o$j++)r$e[o$j]=1;for(o$j=2902;o$j<=2908;o$j++)r$e[o$j]=2;for(o$j=2915;o$j<=2920;o$j++)r$e[o$j]=2;for(o$j=2921;o$j<=2923;o$j++)r$e[o$j]=1;for(o$j=2924;o$j<=2930;o$j++)r$e[o$j]=2;for(o$j=2931;o$j<=2962;o$j++)r$e[o$j]=0;for(o$j=2964;o$j<=2968;o$j++)r$e[o$j]=2;for(o$j=2969;o$j<=2973;o$j++)r$e[o$j]=0;for(o$j=2975;o$j<=2991;o$j++)r$e[o$j]=0;for(o$j=2995;o$j<=3051;o$j++)r$e[o$j]=0;for(o$j=3054;o$j<=3079;o$j++)r$e[o$j]=0;for(o$j=3081;o$j<=3088;o$j++)r$e[o$j]=0;for(o$j=3092;o$j<=3101;o$j++)r$e[o$j]=0;for(o$j=3106;o$j<=3138;o$j++)r$e[o$j]=0;for(o$j=3146;o$j<=3151;o$j++)r$e[o$j]=0;for(o$j=3153;o$j<=3166;o$j++)r$e[o$j]=0;for(o$j=3168;o$j<=3172;o$j++)r$e[o$j]=0;for(o$j=3174;o$j<=3203;o$j++)r$e[o$j]=0;for(o$j=3294;o$j<=3358;o$j++)r$e[o$j]=0;for(o$j=3367;o$j<=3403;o$j++)r$e[o$j]=0;for(o$j=3408;o$j<=3416;o$j++)r$e[o$j]=0;for(o$j=3417;o$j<=3438;o$j++)r$e[o$j]=2;for(o$j=3441;o$j<=3446;o$j++)r$e[o$j]=2;for(o$j=3447;o$j<=3450;o$j++)r$e[o$j]=0;for(o$j=3451;o$j<=3459;o$j++)r$e[o$j]=2;for(o$j=3460;o$j<=3478;o$j++)r$e[o$j]=0;for(o$j=3554;o$j<=3559;o$j++)r$e[o$j]=0;for(o$j=3560;o$j<=3570;o$j++)r$e[o$j]=2;for(o$j=3571;o$j<=3581;o$j++)r$e[o$j]=0;for(o$j=3594;o$j<=3597;o$j++)r$e[o$j]=0;for(o$j=3601;o$j<=3604;o$j++)r$e[o$j]=0;for(o$j=3637;o$j<=3639;o$j++)r$e[o$j]=0;for(o$j=3665;o$j<=3667;o$j++)r$e[o$j]=0;for(o$j=3693;o$j<=3695;o$j++)r$e[o$j]=0;for(o$j=3701;o$j<=3727;o$j++)r$e[o$j]=0;for(o$j=3728;o$j<=3739;o$j++)r$e[o$j]=2;for(o$j=3740;o$j<=3751;o$j++)r$e[o$j]=0;for(o$j=3753;o$j<=3760;o$j++)r$e[o$j]=2;for(o$j=3761;o$j<=3773;o$j++)r$e[o$j]=0;for(o$j=3775;o$j<=3777;o$j++)r$e[o$j]=0;for(o$j=3779;o$j<=3781;o$j++)r$e[o$j]=0;for(o$j=3783;o$j<=3785;o$j++)r$e[o$j]=0;for(o$j=3788;o$j<=3791;o$j++)r$e[o$j]=0;for(o$j=3797;o$j<=3802;o$j++)r$e[o$j]=0;for(o$j=3814;o$j<=3816;o$j++)r$e[o$j]=0;for(o$j=3825;o$j<=3829;o$j++)r$e[o$j]=0;for(o$j=3832;o$j<=3841;o$j++)r$e[o$j]=0;for(o$j=3844;o$j<=3852;o$j++)r$e[o$j]=0;for(o$j=3873;o$j<=3885;o$j++)r$e[o$j]=0;for(o$j=3890;o$j<=3893;o$j++)r$e[o$j]=0;for(o$j=3907;o$j<=3912;o$j++)r$e[o$j]=0;for(o$j=3942;o$j<=3950;o$j++)r$e[o$j]=0;for(o$j=3968;o$j<=3970;o$j++)r$e[o$j]=0;for(o$j=3973;o$j<=3976;o$j++)r$e[o$j]=0;for(o$j=3986;o$j<=3989;o$j++)r$e[o$j]=0;for(o$j=3994;o$j<=3997;o$j++)r$e[o$j]=0;for(o$j=4048;o$j<=4051;o$j++)r$e[o$j]=0;for(o$j=4056;o$j<=4063;o$j++)r$e[o$j]=0;for(o$j=4093;o$j<=4096;o$j++)r$e[o$j]=0;for(o$j=4390;o$j<=4398;o$j++)r$e[o$j]=0;for(o$j=4399;o$j<=4413;o$j++)r$e[o$j]=2;for(o$j=4418;o$j<=4433;o$j++)r$e[o$j]=2;for(o$j=4455;o$j<=4457;o$j++)r$e[o$j]=2;for(o$j=4484;o$j<=4489;o$j++)r$e[o$j]=0;for(o$j=4491;o$j<=4554;o$j++)r$e[o$j]=0;for(o$j=4568;o$j<=4589;o$j++)r$e[o$j]=0;for(o$j=4652;o$j<=4656;o$j++)r$e[o$j]=0;for(o$j=4766;o$j<=4800;o$j++)r$e[o$j]=0;for(o$j=5014;o$j<=5016;o$j++)r$e[o$j]=0;for(o$j=5069;o$j<=5072;o$j++)r$e[o$j]=0;for(o$j=5105;o$j<=5130;o$j++)r$e[o$j]=0;for(o$j=5173;o$j<=5188;o$j++)r$e[o$j]=0;for(o$j=5253;o$j<=5259;o$j++)r$e[o$j]=0;for(o$j=5269;o$j<=5275;o$j++)r$e[o$j]=0;for(o$j=5292;o$j<=5311;o$j++)r$e[o$j]=0;for(o$j=5329;o$j<=5331;o$j++)r$e[o$j]=0;for(o$j=5343;o$j<=5349;o$j++)r$e[o$j]=0;for(o$j=5355;o$j<=5357;o$j++)r$e[o$j]=0;for(o$j=5387;o$j<=5389;o$j++)r$e[o$j]=0;for(o$j=5459;o$j<=5463;o$j++)r$e[o$j]=0;for(o$j=5479;o$j<=5482;o$j++)r$e[o$j]=0;for(o$j=5518;o$j<=5520;o$j++)r$e[o$j]=0;for(o$j=5530;o$j<=5539;o$j++)r$e[o$j]=0;for(o$j=5550;o$j<=5552;o$j++)r$e[o$j]=0;for(o$j=5562;o$j<=5583;o$j++)r$e[o$j]=0;for(o$j=5623;o$j<=5625;o$j++)r$e[o$j]=2;for(o$j=5631;o$j<=5639;o$j++)r$e[o$j]=0;for(o$j=5649;o$j<=5653;o$j++)r$e[o$j]=0;for(o$j=5663;o$j<=5680;o$j++)r$e[o$j]=0;for(o$j=5682;o$j<=5685;o$j++)r$e[o$j]=0;for(o$j=5875;o$j<=5877;o$j++)r$e[o$j]=0;for(o$j=5896;o$j<=5899;o$j++)r$e[o$j]=0;for(o$j=5921;o$j<=5940;o$j++)r$e[o$j]=0;for(o$j=6050;o$j<=6125;o$j++)r$e[o$j]=0;for(o$j=6244;o$j<=6275;o$j++)r$e[o$j]=0;for(o$j=6328;o$j<=6348;o$j++)r$e[o$j]=0;for(o$j=6350;o$j<=6356;o$j++)r$e[o$j]=0;for(o$j=6366;o$j<=6372;o$j++)r$e[o$j]=0;for(o$j=6381;o$j<=6387;o$j++)r$e[o$j]=0;for(o$j=6393;o$j<=6404;o$j++)r$e[o$j]=0;for(o$j=6480;o$j<=6483;o$j++)r$e[o$j]=0;for(o$j=6511;o$j<=6514;o$j++)r$e[o$j]=0;for(o$j=6579;o$j<=6581;o$j++)r$e[o$j]=0;for(o$j=6619;o$j<=6624;o$j++)r$e[o$j]=0;for(o$j=6625;o$j<=6627;o$j++)r$e[o$j]=2;for(o$j=6628;o$j<=6632;o$j++)r$e[o$j]=0;for(o$j=6634;o$j<=6637;o$j++)r$e[o$j]=0;for(o$j=6669;o$j<=6692;o$j++)r$e[o$j]=0;for(o$j=6707;o$j<=6709;o$j++)r$e[o$j]=0;for(o$j=6720;o$j<=6723;o$j++)r$e[o$j]=0;for(o$j=6732;o$j<=6738;o$j++)r$e[o$j]=0;for(o$j=6931;o$j<=6933;o$j++)r$e[o$j]=0;for(o$j=6956;o$j<=6959;o$j++)r$e[o$j]=0;for(o$j=7005;o$j<=7007;o$j++)r$e[o$j]=0;for(o$j=7057;o$j<=7070;o$j++)r$e[o$j]=2;for(o$j=7074;o$j<=7082;o$j++)r$e[o$j]=0;for(o$j=7109;o$j<=7118;o$j++)r$e[o$j]=0;for(o$j=7119;o$j<=7127;o$j++)r$e[o$j]=1;for(o$j=7374;o$j<=7376;o$j++)r$e[o$j]=0;for(o$j=7528;o$j<=7586;o$j++)r$e[o$j]=0;for(o$j=7587;o$j<=7645;o$j++)r$e[o$j]=2;for(o$j=7692;o$j<=7696;o$j++)r$e[o$j]=0;for(o$j=7755;o$j<=7787;o$j++)r$e[o$j]=0;for(o$j=7791;o$j<=7795;o$j++)r$e[o$j]=0;for(o$j=7799;o$j<=7801;o$j++)r$e[o$j]=0;for(o$j=7803;o$j<=7805;o$j++)r$e[o$j]=0;for(o$j=7825;o$j<=7831;o$j++)r$e[o$j]=0;for(o$j=7845;o$j<=7859;o$j++)r$e[o$j]=0;for(o$j=8013;o$j<=8032;o$j++)r$e[o$j]=0;for(o$j=8065;o$j<=8068;o$j++)r$e[o$j]=1;for(o$j=8518;o$j<=8529;o$j++)r$e[o$j]=2;for(o$j=8533;o$j<=8536;o$j++)r$e[o$j]=2;for(o$j=8538;o$j<=8540;o$j++)r$e[o$j]=2;for(o$j=8677;o$j<=8679;o$j++)r$e[o$j]=0;for(o$j=8836;o$j<=8840;o$j++)r$e[o$j]=0;for(o$j=8857;o$j<=8859;o$j++)r$e[o$j]=0;for(o$j=8908;o$j<=8910;o$j++)r$e[o$j]=0;for(o$j=9154;o$j<=9159;o$j++)r$e[o$j]=0;for(o$j=9205;o$j<=9218;o$j++)r$e[o$j]=0;for(o$j=9271;o$j<=9273;o$j++)r$e[o$j]=0;for(o$j=9295;o$j<=9297;o$j++)r$e[o$j]=0;for(o$j=9356;o$j<=9360;o$j++)r$e[o$j]=0;for(o$j=9404;o$j<=9407;o$j++)r$e[o$j]=0;for(o$j=9476;o$j<=9482;o$j++)r$e[o$j]=0;for(o$j=9487;o$j<=9494;o$j++)r$e[o$j]=0;for(o$j=9697;o$j<=9699;o$j++)r$e[o$j]=0;for(o$j=9821;o$j<=9865;o$j++)r$e[o$j]=0;for(o$j=20002;o$j<=20032;o$j++)r$e[o$j]=0;for(o$j=20047;o$j<=20049;o$j++)r$e[o$j]=0;for(o$j=20062;o$j<=20092;o$j++)r$e[o$j]=0;for(o$j=20135;o$j<=20138;o$j++)r$e[o$j]=0;for(o$j=20248;o$j<=20258;o$j++)r$e[o$j]=0;for(o$j=20348;o$j<=20358;o$j++)r$e[o$j]=0;for(o$j=20436;o$j<=20440;o$j++)r$e[o$j]=0;for(o$j=20822;o$j<=20824;o$j++)r$e[o$j]=0;for(o$j=20904;o$j<=20932;o$j++)r$e[o$j]=0;for(o$j=20934;o$j<=20936;o$j++)r$e[o$j]=0;for(o$j=21004;o$j<=21032;o$j++)r$e[o$j]=0;for(o$j=21035;o$j<=21037;o$j++)r$e[o$j]=0;for(o$j=21095;o$j<=21097;o$j++)r$e[o$j]=0;for(o$j=21148;o$j<=21150;o$j++)r$e[o$j]=0;for(o$j=21207;o$j<=21264;o$j++)r$e[o$j]=0;for(o$j=21307;o$j<=21364;o$j++)r$e[o$j]=0;for(o$j=21413;o$j<=21423;o$j++)r$e[o$j]=0;for(o$j=21453;o$j<=21463;o$j++)r$e[o$j]=0;for(o$j=21473;o$j<=21483;o$j++)r$e[o$j]=0;for(o$j=21780;o$j<=21782;o$j++)r$e[o$j]=0;for(o$j=21891;o$j<=21894;o$j++)r$e[o$j]=0;for(o$j=21896;o$j<=21899;o$j++)r$e[o$j]=0;for(o$j=22171;o$j<=22177;o$j++)r$e[o$j]=0;for(o$j=22181;o$j<=22187;o$j++)r$e[o$j]=0;for(o$j=22191;o$j<=22197;o$j++)r$e[o$j]=0;for(o$j=22207;o$j<=22222;o$j++)r$e[o$j]=0;for(o$j=22234;o$j<=22236;o$j++)r$e[o$j]=0;for(o$j=22243;o$j<=22250;o$j++)r$e[o$j]=0;for(o$j=22262;o$j<=22265;o$j++)r$e[o$j]=0;for(o$j=22307;o$j<=22322;o$j++)r$e[o$j]=0;for(o$j=22348;o$j<=22357;o$j++)r$e[o$j]=0;for(o$j=22407;o$j<=22422;o$j++)r$e[o$j]=0;for(o$j=22462;o$j<=22465;o$j++)r$e[o$j]=0;for(o$j=22521;o$j<=22525;o$j++)r$e[o$j]=0;for(o$j=22607;o$j<=22622;o$j++)r$e[o$j]=0;for(o$j=22641;o$j<=22646;o$j++)r$e[o$j]=0;for(o$j=22648;o$j<=22657;o$j++)r$e[o$j]=0;for(o$j=22707;o$j<=22722;o$j++)r$e[o$j]=0;for(o$j=22762;o$j<=22765;o$j++)r$e[o$j]=0;for(o$j=22991;o$j<=22994;o$j++)r$e[o$j]=0;for(o$j=23028;o$j<=23038;o$j++)r$e[o$j]=0;for(o$j=23830;o$j<=23853;o$j++)r$e[o$j]=0;for(o$j=23866;o$j<=23872;o$j++)r$e[o$j]=0;for(o$j=23877;o$j<=23884;o$j++)r$e[o$j]=0;for(o$j=23886;o$j<=23894;o$j++)r$e[o$j]=0;for(o$j=23946;o$j<=23948;o$j++)r$e[o$j]=0;for(o$j=24311;o$j<=24313;o$j++)r$e[o$j]=0;for(o$j=24342;o$j<=24347;o$j++)r$e[o$j]=0;for(o$j=24370;o$j<=24374;o$j++)r$e[o$j]=10;for(o$j=24375;o$j<=24381;o$j++)r$e[o$j]=0;for(o$j=24718;o$j<=24721;o$j++)r$e[o$j]=0;for(o$j=24817;o$j<=24821;o$j++)r$e[o$j]=0;for(o$j=24877;o$j<=24882;o$j++)r$e[o$j]=0;for(o$j=24891;o$j<=24893;o$j++)r$e[o$j]=0;for(o$j=25391;o$j<=25395;o$j++)r$e[o$j]=0;for(o$j=25828;o$j<=25838;o$j++)r$e[o$j]=0;for(o$j=26191;o$j<=26195;o$j++)r$e[o$j]=0;for(o$j=26391;o$j<=26393;o$j++)r$e[o$j]=0;for(o$j=26701;o$j<=26722;o$j++)r$e[o$j]=0;for(o$j=26729;o$j<=26799;o$j++)r$e[o$j]=2;for(o$j=26801;o$j<=26803;o$j++)r$e[o$j]=2;for(o$j=26811;o$j<=26813;o$j++)r$e[o$j]=2;for(o$j=26847;o$j<=26870;o$j++)r$e[o$j]=2;for(o$j=26891;o$j<=26899;o$j++)r$e[o$j]=0;for(o$j=26901;o$j<=26923;o$j++)r$e[o$j]=0;for(o$j=26929;o$j<=26946;o$j++)r$e[o$j]=0;for(o$j=26948;o$j<=26998;o$j++)r$e[o$j]=0;for(o$j=27037;o$j<=27040;o$j++)r$e[o$j]=0;for(o$j=27205;o$j<=27232;o$j++)r$e[o$j]=0;for(o$j=27258;o$j<=27260;o$j++)r$e[o$j]=0;for(o$j=27391;o$j<=27398;o$j++)r$e[o$j]=0;for(o$j=27561;o$j<=27564;o$j++)r$e[o$j]=0;for(o$j=27571;o$j<=27574;o$j++)r$e[o$j]=0;for(o$j=27581;o$j<=27584;o$j++)r$e[o$j]=0;for(o$j=27591;o$j<=27594;o$j++)r$e[o$j]=0;for(o$j=28191;o$j<=28193;o$j++)r$e[o$j]=0;for(o$j=28348;o$j<=28358;o$j++)r$e[o$j]=0;for(o$j=28402;o$j<=28432;o$j++)r$e[o$j]=0;for(o$j=28462;o$j<=28492;o$j++)r$e[o$j]=0;for(o$j=29118;o$j<=29122;o$j++)r$e[o$j]=0;for(o$j=29168;o$j<=29172;o$j++)r$e[o$j]=0;for(o$j=29177;o$j<=29185;o$j++)r$e[o$j]=0;for(o$j=29187;o$j<=29195;o$j++)r$e[o$j]=0;for(o$j=29900;o$j<=29903;o$j++)r$e[o$j]=0;for(o$j=30161;o$j<=30179;o$j++)r$e[o$j]=0;for(o$j=30491;o$j<=30494;o$j++)r$e[o$j]=0;for(o$j=30729;o$j<=30732;o$j++)r$e[o$j]=0;for(o$j=31251;o$j<=31259;o$j++)r$e[o$j]=0;for(o$j=31265;o$j<=31268;o$j++)r$e[o$j]=0;for(o$j=31275;o$j<=31279;o$j++)r$e[o$j]=0;for(o$j=31281;o$j<=31297;o$j++)r$e[o$j]=0;for(o$j=31461;o$j<=31469;o$j++)r$e[o$j]=0;for(o$j=31491;o$j<=31495;o$j++)r$e[o$j]=0;for(o$j=31917;o$j<=31922;o$j++)r$e[o$j]=0;for(o$j=31965;o$j<=32e3;o$j++)r$e[o$j]=0;for(o$j=32001;o$j<=32003;o$j++)r$e[o$j]=2;for(o$j=32005;o$j<=32031;o$j++)r$e[o$j]=2;for(o$j=32033;o$j<=32060;o$j++)r$e[o$j]=2;for(o$j=32064;o$j<=32067;o$j++)r$e[o$j]=2;for(o$j=32074;o$j<=32077;o$j++)r$e[o$j]=2;for(o$j=32081;o$j<=32086;o$j++)r$e[o$j]=0;for(o$j=32107;o$j<=32130;o$j++)r$e[o$j]=0;for(o$j=32133;o$j<=32159;o$j++)r$e[o$j]=0;for(o$j=32164;o$j<=32167;o$j++)r$e[o$j]=2;for(o$j=32180;o$j<=32199;o$j++)r$e[o$j]=0;for(o$j=32201;o$j<=32260;o$j++)r$e[o$j]=0;for(o$j=32301;o$j<=32360;o$j++)r$e[o$j]=0;for(o$j=32601;o$j<=32662;o$j++)r$e[o$j]=0;for(o$j=32664;o$j<=32667;o$j++)r$e[o$j]=2;for(o$j=32701;o$j<=32761;o$j++)r$e[o$j]=0;for(o$j=53001;o$j<=53004;o$j++)r$e[o$j]=0;for(o$j=53008;o$j<=53019;o$j++)r$e[o$j]=0;for(o$j=53021;o$j<=53032;o$j++)r$e[o$j]=0;for(o$j=53034;o$j<=53037;o$j++)r$e[o$j]=0;for(o$j=53042;o$j<=53046;o$j++)r$e[o$j]=0;for(o$j=53074;o$j<=53080;o$j++)r$e[o$j]=0;for(o$j=54001;o$j<=54004;o$j++)r$e[o$j]=0;for(o$j=54008;o$j<=54019;o$j++)r$e[o$j]=0;for(o$j=54021;o$j<=54032;o$j++)r$e[o$j]=0;for(o$j=54034;o$j<=54037;o$j++)r$e[o$j]=0;for(o$j=54042;o$j<=54046;o$j++)r$e[o$j]=0;for(o$j=54048;o$j<=54053;o$j++)r$e[o$j]=0;for(o$j=54074;o$j<=54080;o$j++)r$e[o$j]=0;for(o$j=54098;o$j<=54101;o$j++)r$e[o$j]=0;for(o$j=102001;o$j<=102040;o$j++)r$e[o$j]=0;for(o$j=102042;o$j<=102063;o$j++)r$e[o$j]=0;for(o$j=102065;o$j<=102067;o$j++)r$e[o$j]=0;for(o$j=102070;o$j<=102117;o$j++)r$e[o$j]=0;for(o$j=102122;o$j<=102216;o$j++)r$e[o$j]=0;for(o$j=102221;o$j<=102377;o$j++)r$e[o$j]=0;for(o$j=102382;o$j<=102388;o$j++)r$e[o$j]=0;for(o$j=102389;o$j<=102398;o$j++)r$e[o$j]=2;for(o$j=102399;o$j<=102444;o$j++)r$e[o$j]=0;for(o$j=102445;o$j<=102447;o$j++)r$e[o$j]=2;for(o$j=102448;o$j<=102458;o$j++)r$e[o$j]=0;for(o$j=102459;o$j<=102468;o$j++)r$e[o$j]=2;for(o$j=102469;o$j<=102499;o$j++)r$e[o$j]=0;for(o$j=102500;o$j<=102519;o$j++)r$e[o$j]=1;for(o$j=102520;o$j<=102524;o$j++)r$e[o$j]=0;for(o$j=102525;o$j<=102529;o$j++)r$e[o$j]=2;for(o$j=102530;o$j<=102588;o$j++)r$e[o$j]=0;for(o$j=102590;o$j<=102598;o$j++)r$e[o$j]=0;for(o$j=102601;o$j<=102603;o$j++)r$e[o$j]=0;for(o$j=102605;o$j<=102628;o$j++)r$e[o$j]=0;for(o$j=102629;o$j<=102646;o$j++)r$e[o$j]=2;for(o$j=102648;o$j<=102700;o$j++)r$e[o$j]=2;for(o$j=102701;o$j<=102703;o$j++)r$e[o$j]=0;for(o$j=102707;o$j<=102730;o$j++)r$e[o$j]=2;for(o$j=102733;o$j<=102758;o$j++)r$e[o$j]=2;for(o$j=102767;o$j<=102900;o$j++)r$e[o$j]=0;for(o$j=102901;o$j<=102933;o$j++)r$e[o$j]=2;for(o$j=102934;o$j<=102950;o$j++)r$e[o$j]=13;for(o$j=102951;o$j<=102955;o$j++)r$e[o$j]=0;for(o$j=102961;o$j<=102963;o$j++)r$e[o$j]=0;for(o$j=102965;o$j<=102969;o$j++)r$e[o$j]=0;for(o$j=102971;o$j<=102973;o$j++)r$e[o$j]=0;for(o$j=102975;o$j<=102989;o$j++)r$e[o$j]=0;for(o$j=102990;o$j<=102992;o$j++)r$e[o$j]=1;for(o$j=102997;o$j<=103002;o$j++)r$e[o$j]=0;for(o$j=103003;o$j<=103008;o$j++)r$e[o$j]=2;for(o$j=103009;o$j<=103011;o$j++)r$e[o$j]=0;for(o$j=103012;o$j<=103014;o$j++)r$e[o$j]=2;for(o$j=103019;o$j<=103021;o$j++)r$e[o$j]=0;for(o$j=103022;o$j<=103024;o$j++)r$e[o$j]=2;for(o$j=103029;o$j<=103031;o$j++)r$e[o$j]=0;for(o$j=103032;o$j<=103034;o$j++)r$e[o$j]=2;for(o$j=103065;o$j<=103068;o$j++)r$e[o$j]=0;for(o$j=103074;o$j<=103076;o$j++)r$e[o$j]=0;for(o$j=103077;o$j<=103079;o$j++)r$e[o$j]=1;for(o$j=103080;o$j<=103082;o$j++)r$e[o$j]=0;for(o$j=103083;o$j<=103085;o$j++)r$e[o$j]=2;for(o$j=103090;o$j<=103093;o$j++)r$e[o$j]=0;for(o$j=103097;o$j<=103099;o$j++)r$e[o$j]=0;for(o$j=103100;o$j<=103102;o$j++)r$e[o$j]=2;for(o$j=103107;o$j<=103109;o$j++)r$e[o$j]=0;for(o$j=103110;o$j<=103112;o$j++)r$e[o$j]=2;for(o$j=103113;o$j<=103116;o$j++)r$e[o$j]=0;for(o$j=103117;o$j<=103120;o$j++)r$e[o$j]=2;for(o$j=103153;o$j<=103157;o$j++)r$e[o$j]=0;for(o$j=103158;o$j<=103162;o$j++)r$e[o$j]=2;for(o$j=103163;o$j<=103165;o$j++)r$e[o$j]=0;for(o$j=103166;o$j<=103168;o$j++)r$e[o$j]=1;for(o$j=103169;o$j<=103171;o$j++)r$e[o$j]=2;for(o$j=103186;o$j<=103188;o$j++)r$e[o$j]=0;for(o$j=103189;o$j<=103191;o$j++)r$e[o$j]=2;for(o$j=103192;o$j<=103195;o$j++)r$e[o$j]=0;for(o$j=103196;o$j<=103199;o$j++)r$e[o$j]=2;for(o$j=103200;o$j<=103224;o$j++)r$e[o$j]=0;for(o$j=103225;o$j<=103227;o$j++)r$e[o$j]=1;for(o$j=103232;o$j<=103237;o$j++)r$e[o$j]=0;for(o$j=103238;o$j<=103243;o$j++)r$e[o$j]=2;for(o$j=103244;o$j<=103246;o$j++)r$e[o$j]=0;for(o$j=103247;o$j<=103249;o$j++)r$e[o$j]=2;for(o$j=103254;o$j<=103256;o$j++)r$e[o$j]=0;for(o$j=103257;o$j<=103259;o$j++)r$e[o$j]=2;for(o$j=103264;o$j<=103266;o$j++)r$e[o$j]=0;for(o$j=103267;o$j<=103269;o$j++)r$e[o$j]=2;for(o$j=103300;o$j<=103375;o$j++)r$e[o$j]=0;for(o$j=103381;o$j<=103383;o$j++)r$e[o$j]=0;for(o$j=103384;o$j<=103386;o$j++)r$e[o$j]=1;for(o$j=103387;o$j<=103389;o$j++)r$e[o$j]=0;for(o$j=103390;o$j<=103392;o$j++)r$e[o$j]=2;for(o$j=103397;o$j<=103399;o$j++)r$e[o$j]=0;for(o$j=103400;o$j<=103471;o$j++)r$e[o$j]=2;for(o$j=103476;o$j<=103478;o$j++)r$e[o$j]=0;for(o$j=103479;o$j<=103481;o$j++)r$e[o$j]=2;for(o$j=103486;o$j<=103488;o$j++)r$e[o$j]=0;for(o$j=103489;o$j<=103491;o$j++)r$e[o$j]=2;for(o$j=103492;o$j<=103495;o$j++)r$e[o$j]=0;for(o$j=103496;o$j<=103499;o$j++)r$e[o$j]=2;for(o$j=103528;o$j<=103543;o$j++)r$e[o$j]=0;for(o$j=103544;o$j<=103548;o$j++)r$e[o$j]=2;for(o$j=103549;o$j<=103551;o$j++)r$e[o$j]=0;for(o$j=103552;o$j<=103554;o$j++)r$e[o$j]=1;for(o$j=103555;o$j<=103557;o$j++)r$e[o$j]=2;for(o$j=103558;o$j<=103560;o$j++)r$e[o$j]=0;for(o$j=103571;o$j<=103573;o$j++)r$e[o$j]=0;for(o$j=103574;o$j<=103576;o$j++)r$e[o$j]=2;for(o$j=103577;o$j<=103580;o$j++)r$e[o$j]=0;for(o$j=103581;o$j<=103583;o$j++)r$e[o$j]=2;for(o$j=103595;o$j<=103694;o$j++)r$e[o$j]=0;for(o$j=103696;o$j<=103699;o$j++)r$e[o$j]=0;for(o$j=103700;o$j<=103793;o$j++)r$e[o$j]=2;for(o$j=103794;o$j<=103890;o$j++)r$e[o$j]=0;for(o$j=103891;o$j<=103896;o$j++)r$e[o$j]=2;for(o$j=103900;o$j<=103971;o$j++)r$e[o$j]=2;for(o$j=103972;o$j<=103977;o$j++)r$e[o$j]=0;for(o$j=112e3;o$j<=112101;o$j++)r$e[o$j]=0;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n$g={102113:!0,102100:!0,3857:!0,3785:!0},_$8={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},a$f='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',t$c=[-20037508.342788905,20037508.342788905],l$e=[-20037508.342787,20037508.342787],M$5={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:t$c,origin:l$e,dx:1e-5},102100:{wkTemplate:a$f,valid:t$c,origin:l$e,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:t$c,origin:l$e,dx:1e-5},3857:{wkTemplate:a$f,valid:t$c,origin:l$e,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function S$4(e,r){return e===r||null!=e&&null!=r&&(null!=e.wkid||null!=r.wkid?e.wkid===r.wkid||A$6(e)&&A$6(r)||null!=r.latestWkid&&e.wkid===r.latestWkid||null!=e.latestWkid&&r.wkid===e.latestWkid:!(!e.wkt||!r.wkt)&&e.wkt.toUpperCase()===r.wkt.toUpperCase())}function d$g(e){return s$j(e)&&e.wkid&&M$5[e.wkid]||null}function E$5(e){return !!s$j(e)&&(e.wkid?null==r$e[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function u$j(e){return s$j(e)&&4326===e.wkid}function A$6(e){return s$j(e)&&null!=e.wkid&&!0===n$g[e.wkid]}function k$4(e){return e===S$5.GCSMARS2000||e===S$5.GCSMARS2000_SPHERE}function w$4(e){return e===S$5.GCSMOON2000}function C$4(e){return s$j(e)&&null!=e.wkid&&!0===_$8[e.wkid]}function s$j(e){return null!=e&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}const p$c={wkid:4326,wkt:r$q(M$5[4326].wkTemplate,{Central_Meridian:"0.0"})},I$3={wkid:102100,latestWkid:3857},c$m={wkid:32662};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$i=s$k.radius*Math.PI/200,m$d=/UNIT\[([^\]]+)\]\]$/i,f$h=r$e,d$f=/UNIT\[([^\]]+)\]/i,U$1=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),q$3=o$k()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});function A$5(e){return q$3.fromJSON(e.toLowerCase())||null}function H$1(e,s=s$k.metersPerDegree){return L$5(e,!0)??s}function L$5(e,s=!1){const t=null!=e?e.wkid:null,i=null!=e?e.wkt:null;let c=null;if(t){if(k$4(t))return t$d.metersPerDegree;if(w$4(t))return e$k.metersPerDegree;c=f$h.values[f$h[t]],!c&&s&&U$1.has(t)&&(c=o$i);}else i&&(se(i)?c=$$1(m$d.exec(i),c):ee(i)&&(c=$$1(d$f.exec(i),c)));return c}function $$1(e,s){return e&&e[1]?z$5(e[1]):s}function z$5(e){return parseFloat(e.split(",")[1])}function Q$1(e){const s=null!=e?e.wkid:null,t=null!=e?e.wkt:null;let r=null;if(s)r=f$h.units[f$h[s]];else if(t){const e=se(t)?m$d:ee(t)?d$f:null;if(e){const s=e.exec(t);s&&s[1]&&(r=re(s[1]));}}return null!=r?A$5(r):null}function ee(e){return /^GEOCCS/i.test(e)}function se(e){return /^PROJCS/i.test(e)}const te=1e-7;function re(e){const s=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let t=s&&s[1];if(!t||!f$h.units.includes(t)){const s=z$5(e);t=null;const r=f$h.values;for(let e=0;e<r.length;++e)if(Math.abs(s-r[e])<te){t=f$h.units[e];break}}return t}const ie={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},ae={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},ue={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"};o$k()(ie);o$k()(ae);o$k()(ue);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$d(r,o,e){let i,n;return void 0===o?(n=r,i=[void 0]):"string"!=typeof o?(n=r,i=[void 0],e=o):(n=o,i=Array.isArray(r)?r:[r]),(r,o)=>{const p=r.constructor.prototype;for(const c of i){const i=d$j(r,c,n);i.write&&"object"==typeof i.write||(i.write={}),e&&(i.write.target=e),i.write.writer=p[o];}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var h$f;let k$3=h$f=class extends l$f{static fromJSON(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return h$f.WebMercator;if(4326===e.wkid)return h$f.WGS84}const t=new h$f;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null;}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;return {["string"==typeof e?"wkt":"wkid"]:e}}get isWGS84(){return u$j(this)}get isWebMercator(){return A$6(this)}get isGeographic(){return E$5(this)}get isWrappable(){return C$4(this)}get metersPerUnit(){return H$1(this)}get unit(){return Q$1(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e);}clone(){if(this===h$f.WGS84)return h$f.WGS84;if(this===h$f.WebMercator)return h$f.WebMercator;const e=new h$f;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=a$v(this.imageCoordinateSystem)),e}equals(e){if(null==e)return !1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return !1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,o=this.imageCoordinateSystem;return null==t||i?JSON.stringify(o)===JSON.stringify(e.imageCoordinateSystem):r?o.id===t&&o.referenceServiceName===r:o.id===t}return S$4(this,e)}toJSON(e){return this.write(void 0,e)}};k$3.GCS_NAD_1927=null,k$3.WGS84=null,k$3.WebMercator=null,k$3.PlateCarree=null,e$x([y$d({readOnly:!0})],k$3.prototype,"isWGS84",null),e$x([y$d({readOnly:!0})],k$3.prototype,"isWebMercator",null),e$x([y$d({readOnly:!0})],k$3.prototype,"isGeographic",null),e$x([y$d({readOnly:!0})],k$3.prototype,"isWrappable",null),e$x([y$d({type:T$2,json:{write:!0}})],k$3.prototype,"latestWkid",void 0),e$x([y$d({readOnly:!0})],k$3.prototype,"metersPerUnit",null),e$x([y$d({readOnly:!0})],k$3.prototype,"unit",null),e$x([y$d({type:T$2,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return {isRequired:null==this.wkt}}}}}}})],k$3.prototype,"wkid",void 0),e$x([y$d({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return {isRequired:null==this.wkid}}}}}}})],k$3.prototype,"wkt",void 0),e$x([r$d("wkt"),r$d("web-scene","wkt")],k$3.prototype,"writeWkt",null),e$x([y$d({type:T$2,json:{write:!0}})],k$3.prototype,"vcsWkid",void 0),e$x([y$d({type:T$2,json:{write:!0}})],k$3.prototype,"latestVcsWkid",void 0),e$x([y$d()],k$3.prototype,"imageCoordinateSystem",void 0),k$3=h$f=e$x([a$i("esri.geometry.SpatialReference")],k$3),k$3.prototype.toJSON.isDefaultToJSON=!0,k$3.GCS_NAD_1927=new k$3({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),k$3.WGS84=new k$3(p$c),k$3.WebMercator=new k$3(I$3),k$3.PlateCarree=new k$3(c$m),Object.freeze&&(Object.freeze(k$3.GCS_NAD_1927),Object.freeze(k$3.WGS84),Object.freeze(k$3.WebMercator));const f$g=k$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c$l=class extends l$f{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=f$g.WGS84;}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,r){if(e instanceof f$g)return e;if(null!=e){const t=new f$g;return t.read(e,r),t}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache");}getCacheValue(e){return this.cache[e]}setCacheValue(e,r){this.cache[e]=r;}};e$x([y$d()],c$l.prototype,"type",void 0),e$x([y$d({readOnly:!0})],c$l.prototype,"cache",null),e$x([y$d({readOnly:!0})],c$l.prototype,"extent",null),e$x([y$d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c$l.prototype,"hasM",void 0),e$x([y$d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c$l.prototype,"hasZ",void 0),e$x([y$d({type:f$g,json:{write:!0},value:f$g.WGS84})],c$l.prototype,"spatialReference",void 0),e$x([o$l("spatialReference")],c$l.prototype,"readSpatialReference",null),c$l=e$x([a$i("esri.geometry.Geometry")],c$l);const p$b=c$l;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$c=Object.prototype.toString;function o$h(n){const r="__accessorMetadata__"in n?d$k(n):n;return function(...t){if(t.push(r),"number"==typeof t[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return e$j.apply(this,t)}}function e$j(t,r,o,e){o$v(t,r).cast=e;}function i$h(t){return (r,o)=>{o$v(r,t).cast=r[o];}}function s$i(...t){if(3!==t.length||"string"!=typeof t[1])return 1===t.length&&"[object Function]"===r$c.call(t[0])?o$h(t[0]):1===t.length&&"string"==typeof t[0]?i$h(t[0]):void 0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$b(t,n){const s=t.x-n.x,r=t.y-n.y,a=t.hasZ&&n.hasZ?t.z-n.z:0;return Math.sqrt(s*s+r*r+a*a)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a$e=57.29577951308232,o$g=.017453292519943;function u$i(n){return n*a$e}function l$d(n){return n*o$g}function c$k(n){return null!=n.wkid||null!=n.wkt}const h$e=[0,0];function m$c(n,t,e,i,r){const s=n,a=r;if(a.spatialReference=e,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,h$e,i);else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,h$e,i),[a.xmax,a.ymax]=t(s.xmax,s.ymax,h$e,i);else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const n="paths"in s?s.paths:s.rings,e=[];let r;for(let s=0;s<n.length;s++){const a=n[s];r=[],e.push(r);for(let n=0;n<a.length;n++)r.push(t(a[n][0],a[n][1],[0,0],i)),a[n].length>2&&r[n].push(a[n][2]),a[n].length>3&&r[n].push(a[n][3]);}"paths"in a?a.paths=e:a.rings=e;}else if("points"in s&&"points"in a){const n=s.points,e=[];for(let r=0;r<n.length;r++)e[r]=t(n[r][0],n[r][1],[0,0],i),n[r].length>2&&e[r].push(n[r][2]),n[r].length>3&&e[r].push(n[r][3]);a.points=e;}return r}function x$b(n,t){const e=n&&(c$k(n)?n:n.spatialReference),a=t&&(c$k(t)?t:t.spatialReference);return !(n&&"type"in n&&"mesh"===n.type||t&&"type"in t&&"mesh"===t.type||!e||!a)&&(!!S$4(a,e)||(A$6(a)&&u$j(e)||A$6(e)&&u$j(a)))}function g$8(e,a){if(null==e)return null;const o=e.spatialReference,u=a&&(c$k(a)?a:a.spatialReference);return x$b(o,u)?S$4(o,u)?a$v(e):A$6(u)?m$c(e,M$4,f$g.WebMercator,!1,a$v(e)):u$j(u)?m$c(e,y$8,f$g.WGS84,!1,a$v(e)):null:null}function M$4(n,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=l$d(t);return i[0]=l$d(n)*s$k.radius,i[1]=s$k.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function y$8(n,t,i=[0,0],r=!1){const s=u$i(n/s$k.radius);return i[0]=r?s:s-360*Math.floor((s+180)/360),i[1]=u$i(Math.PI/2-2*Math.atan(Math.exp(-t/s$k.radius))),i}function d$e(e,i=!1,r=a$v(e)){return m$c(e,M$4,f$g.WebMercator,i,r)}function R$2(e,i=!1,r=a$v(e)){return m$c(e,y$8,f$g.WGS84,i,r)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var y$7;const m$b=[0,0];function f$f(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let g$7=y$7=class extends p$b{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone());}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point";}normalizeCtorArgs(e,r,i,s,o){let a;if(Array.isArray(e))a=e,o=r,e=a[0],r=a[1],i=a[2],s=a[3];else if(e&&"object"==typeof e){if(a=e,e=null!=a.x?a.x:a.longitude,r=null!=a.y?a.y:a.latitude,i=a.z,s=a.m,(o=a.spatialReference)&&"esri.geometry.SpatialReference"!==o.declaredClass&&(o=new f$g(o)),null!=a.longitude||null!=a.latitude)if(null==a.longitude)s$E.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==a.latitude)s$E.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&o&&o.isWebMercator){const t=M$4(a.longitude,a.latitude,m$b);e=t[0],r=t[1];}}else f$f(i)?(o=i,i=null):f$f(s)&&(o=s,s=null);const l={x:e,y:r};return null==l.x&&null!=l.y?s$E.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==l.y&&null!=l.x&&s$E.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=o&&(l.spatialReference=o),null!=i&&(l.z=i),null!=s&&(l.m=s),l}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e));}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e));}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return y$8(t,r,m$b)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;null!=e&&t&&(t.isWebMercator?this._set("y",M$4(r,e,m$b)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e));}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return y$8(e,t,m$b)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;null!=e&&r&&(r.isWebMercator?this._set("x",M$4(e,t,m$b)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e));}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e;}readX(e){return "string"==typeof e?NaN:e}clone(){const e=new y$7;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return y$7.copy(e,this),this}equals(e){if(null==e)return !1;const{x:t,y:r,z:i,m:s,spatialReference:o}=this,{z:a,m:l}=e;let{x:n,y:u,spatialReference:c}=e;if(!o.equals(c))if(o.isWebMercator&&c.isWGS84)[n,u]=M$4(n,u),c=o;else {if(!o.isWGS84||!c.isWebMercator)return !1;[n,u]=y$8(n,u),c=o;}return t===n&&r===u&&i===a&&s===l&&o.wkid===c.wkid}offset(e,t,r){return this.x+=e,this.y+=t,null!=r&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=d$g(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,s=2*i;let o;return t>i?(o=Math.ceil(Math.abs(t-i)/s),t-=o*s):t<r&&(o=Math.ceil(Math.abs(t-r)/s),t+=o*s),this._set("x",t),this}distance(e){return t$b(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};e$x([y$d({readOnly:!0})],g$7.prototype,"cache",null),e$x([y$d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],g$7.prototype,"hasM",null),e$x([y$d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],g$7.prototype,"hasZ",null),e$x([y$d({type:Number})],g$7.prototype,"latitude",null),e$x([y$d({type:Number})],g$7.prototype,"longitude",null),e$x([y$d({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),s$i((e=>isNaN(e)?e:a$m(e)))],g$7.prototype,"x",void 0),e$x([r$d("x")],g$7.prototype,"writeX",null),e$x([o$l("x")],g$7.prototype,"readX",null),e$x([y$d({type:Number,json:{write:!0}})],g$7.prototype,"y",void 0),e$x([y$d({type:Number,json:{write:{overridePolicy(){return {enabled:this.hasZ}}}}})],g$7.prototype,"z",void 0),e$x([y$d({type:Number,json:{write:{overridePolicy(){return {enabled:this.hasM}}}}})],g$7.prototype,"m",void 0),g$7=y$7=e$x([a$i("esri.geometry.Point")],g$7),g$7.prototype.toJSON.isDefaultToJSON=!0;const x$a=g$7;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n$f=[0,0];function t$a(n,t){return null!=t&&e$i(n,t.x,t.y,t.z)}function u$h(n,t){const{xmin:r,ymin:u,zmin:i,xmax:o,ymax:f,zmax:c}=t;return n.hasZ&&t.hasZ?e$i(n,r,u,i)&&e$i(n,r,f,i)&&e$i(n,o,f,i)&&e$i(n,o,u,i)&&e$i(n,r,u,c)&&e$i(n,r,f,c)&&e$i(n,o,f,c)&&e$i(n,o,u,c):e$i(n,r,u)&&e$i(n,r,f)&&e$i(n,o,f)&&e$i(n,o,u)}function i$g(n,t){return e$i(n,t[0],t[1])}function o$f(n,t){return e$i(n,t[0],t[1],t[2])}function e$i(n,t,r,u){return t>=n.xmin&&t<=n.xmax&&r>=n.ymin&&r<=n.ymax&&(null==u||!n.hasZ||u>=n.zmin&&u<=n.zmax)}function f$e(t,r){return n$f[1]=r.y,n$f[0]=r.x,c$j(t,n$f)}function c$j(n,t){return s$h(n.rings,t)}function s$h(n,t){if(!n)return !1;if(x$9(n))return m$a(!1,n,t);let r=!1;for(let u=0,i=n.length;u<i;u++)r=m$a(r,n[u],t);return r}function x$9(n){return !Array.isArray(n[0][0])}function m$a(n,t,r){const[u,i]=r;let o=n,e=0;for(let f=0,c=t.length;f<c;f++){e++,e===c&&(e=0);const[n,r]=t[f],[s,x]=t[e];(r<i&&x>=i||x<i&&r>=i)&&n+(i-r)/(x-r)*(s-n)<u&&(o=!o);}return o}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$f(t,e){return t$a(t,e)}function o$e(n,t){const e=n.hasZ&&t.hasZ;let r,i,o;if(n.xmin<=t.xmin){if(r=t.xmin,n.xmax<r)return !1}else if(r=n.xmin,t.xmax<r)return !1;if(n.ymin<=t.ymin){if(i=t.ymin,n.ymax<i)return !1}else if(i=n.ymin,t.ymax<i)return !1;if(e&&t.hasZ)if(n.zmin<=t.zmin){if(o=t.zmin,n.zmax<o)return !1}else if(o=n.zmin,t.zmax<o)return !1;return !0}function f$d(n,t){const{points:i,hasZ:o}=t,f=o?o$f:i$g;for(const e of i)if(f(n,e))return !0;return !1}const s$g=[0,0],u$g=[0,0],c$i=[0,0],m$9=[0,0],l$c=[s$g,u$g,c$i,m$9],a$d=[[c$i,s$g],[s$g,u$g],[u$g,m$9],[m$9,c$i]];function x$8(n,t){return y$6(n,t.rings)}function y$6(n,r){s$g[0]=n.xmin,s$g[1]=n.ymax,u$g[0]=n.xmax,u$g[1]=n.ymax,c$i[0]=n.xmin,c$i[1]=n.ymin,m$9[0]=n.xmax,m$9[1]=n.ymin;for(const e of l$c)if(s$h(r,e))return !0;for(const t of r){if(!t.length)continue;let r=t[0];if(i$g(n,r))return !0;for(let i=1;i<t.length;i++){const o=t[i];if(i$g(n,o)||z$4(r,o,a$d))return !0;r=o;}}return !1}function h$d(n,t){s$g[0]=n.xmin,s$g[1]=n.ymax,u$g[0]=n.xmax,u$g[1]=n.ymax,c$i[0]=n.xmin,c$i[1]=n.ymin,m$9[0]=n.xmax,m$9[1]=n.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let t=i[0];if(i$g(n,t))return !0;for(let r=1;r<i.length;r++){const o=i[r];if(i$g(n,o)||z$4(t,o,a$d))return !0;t=o;}}return !1}const g$6=[0,0];function p$a(n){for(let t=0;t<n.length;t++){const e=n[t];for(let i=0;i<e.length-1;i++){const r=e[i],o=e[i+1];for(let e=t+1;e<n.length;e++)for(let t=0;t<n[e].length-1;t++){const i=n[e][t],f=n[e][t+1];if(G$1(r,o,i,f,g$6)&&!(g$6[0]===r[0]&&g$6[1]===r[1]||g$6[0]===i[0]&&g$6[1]===i[1]||g$6[0]===o[0]&&g$6[1]===o[1]||g$6[0]===f[0]&&g$6[1]===f[1]))return !0}}const r=e.length;if(!(r<=4))for(let n=0;n<r-3;n++){let t=r-1;0===n&&(t=r-2);const i=e[n],o=e[n+1];for(let r=n+2;r<t;r++){const n=e[r],t=e[r+1];if(G$1(i,o,n,t,g$6)&&!(g$6[0]===i[0]&&g$6[1]===i[1]||g$6[0]===n[0]&&g$6[1]===n[1]||g$6[0]===o[0]&&g$6[1]===o[1]||g$6[0]===t[0]&&g$6[1]===t[1]))return !0}}}return !1}function z$4(n,t,e){for(let r=0;r<e.length;r++)if(G$1(n,t,e[r][0],e[r][1]))return !0;return !1}function G$1(n,t,e,r,i){const[o,f]=n,[s,u]=t,[c,m]=e,[l,a]=r,x=l-c,y=o-c,h=s-o,g=a-m,p=f-m,z=u-f,G=g*h-x*z;if(0===G)return !1;const Z=(x*p-g*y)/G,P=(h*p-z*y)/G;return Z>=0&&Z<=1&&P>=0&&P<=1&&(i&&(i[0]=o+Z*(s-o),i[1]=f+Z*(u-f)),!0)}function Z$1(n){switch(n){case"esriGeometryEnvelope":case"extent":return o$e;case"esriGeometryMultipoint":case"multipoint":return f$d;case"esriGeometryPoint":case"point":return i$f;case"esriGeometryPolygon":case"polygon":return x$8;case"esriGeometryPolyline":case"polyline":return h$d}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var u$f;function f$c(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}function d$d(t,i,e){return null==i?e:null==e?i:t(i,e)}let z$3=u$f=class extends p$b{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0;}normalizeCtorArgs(t,i,e,s,n){return f$c(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?f$g.WGS84:t.spatialReference,t):{xmin:t,ymin:i,xmax:e,ymax:s,spatialReference:n??f$g.WGS84}}static fromBounds(t,i){return new u$f({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:i})}static fromPoint(t){return new u$f({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new x$a({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const i=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-i.x,t.y-i.y,t.z-i.z):this.offset(t.x-i.x,t.y-i.y)}clone(){const t=new u$f;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return !1;const i=this.spatialReference,e=t.spatialReference;return i&&e&&!i.equals(e)&&x$b(i,e)&&(t=i.isWebMercator?d$e(t):R$2(t,!0)),"point"===t.type?t$a(this,t):"extent"===t.type&&u$h(this,t)}equals(t){if(this===t)return !0;if(null==t)return !1;const i=this.spatialReference,e=t.spatialReference;return i&&e&&!i.equals(e)&&x$b(i,e)&&(t=i.isWebMercator?d$e(t):R$2(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const i=.5*(1-t),e=this.width*i,s=this.height*i;if(this.xmin+=e,this.ymin+=s,this.xmax-=e,this.ymax-=s,this.hasZ){const t=(this.zmax-this.zmin)*i;this.zmin+=t,this.zmax-=t;}if(this.hasM){const t=(this.mmax-this.mmin)*i;this.mmin+=t,this.mmax-=t;}return this}intersects(t){if(null==t)return !1;"mesh"===t.type&&(t=t.extent);const i=this.spatialReference,e=t.spatialReference;i&&e&&!S$4(i,e)&&x$b(i,e)&&(t=i.isWebMercator?d$e(t):R$2(t,!0));return Z$1(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,i,e){return this.xmin+=t,this.ymin+=i,this.xmax+=t,this.ymax+=i,null!=e&&(this.zmin+=e,this.zmax+=e),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=d$d(Math.min,this.zmin,t.zmin),this.zmax=d$d(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=d$d(Math.min,this.mmin,t.mmin),this.mmax=d$d(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:null!=t&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=d$d(Math.max,this.zmin,t.zmin),this.zmax=d$d(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=d$d(Math.max,this.mmin,t.mmin),this.mmax=d$d(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=d$g(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,s=this._getCM(t);if(s){const n=e.isWebMercator?R$2(s):s;this.xmin-=s.x,this.xmax-=s.x,e.isWebMercator||(n.x=this._normalizeX(n.x,t).x),this.spatialReference=new f$g(r$q((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:n.x}));}return this}_getCM(t){let i=null;const[e,s]=t.valid,n=this.xmin,m=this.xmax;return n>=e&&n<=s&&(m>=e&&m<=s)||(i=this.center),i}_normalize(t,i,e){const s=this.spatialReference;if(!s)return this;const n=e??d$g(s);if(null==n)return this;const m=this._getParts(n).map((t=>t.extent));if(m.length<2)return m[0]||this;if(m.length>2)return t?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(t)return this._shiftCM(n);if(i)return m;let r=!0,a=!0;return m.forEach((t=>{t.hasZ||(r=!1),t.hasM||(a=!1);})),{rings:m.map((t=>{const i=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(r){const e=(t.zmax-t.zmin)/2;for(let t=0;t<i.length;t++)i[t].push(e);}if(a){const e=(t.mmax-t.mmin)/2;for(let t=0;t<i.length;t++)i[t].push(e);}return i})),hasZ:r,hasM:a,spatialReference:s}}_getParts(t){let i=this.cache._parts;if(!i){i=[];const{ymin:e,ymax:s,spatialReference:n}=this,m=this.width,r=this.xmin,a=this.xmax;let h;t=t||d$g(n);const[o,x]=t.valid;h=this._normalizeX(this.xmin,t);const p=h.x,c=h.frameId;h=this._normalizeX(this.xmax,t);const y=h.x,f=h.frameId,d=p===y&&m>0;if(m>2*x){const t=new u$f(r<a?p:y,e,x,s,n),m=new u$f(o,e,r<a?y:p,s,n),h=new u$f(0,e,x,s,n),l=new u$f(o,e,0,s,n),d=[],z=[];t.contains(h)&&d.push(c),t.contains(l)&&z.push(c),m.contains(h)&&d.push(f),m.contains(l)&&z.push(f);for(let i=c+1;i<f;i++)d.push(i),z.push(i);i.push({extent:t,frameIds:[c]},{extent:m,frameIds:[f]},{extent:h,frameIds:d},{extent:l,frameIds:z});}else p>y||d?i.push({extent:new u$f(p,e,x,s,n),frameIds:[c]},{extent:new u$f(o,e,y,s,n),frameIds:[f]}):i.push({extent:new u$f(p,e,y,s,n),frameIds:[c]});this.cache._parts=i;}const e=this.hasZ,s=this.hasM;if(e||s){const t={};e&&(t.zmin=this.zmin,t.zmax=this.zmax),s&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let e=0;e<i.length;e++)i[e].extent.set(t);}return i}_normalizeX(t,i){const[e,s]=i.valid,n=2*s;let m,r=0;return t>s?(m=Math.ceil(Math.abs(t-s)/n),t-=m*n,r=m):t<e&&(m=Math.ceil(Math.abs(t-e)/n),t+=m*n,r=-m),{x:t,frameId:r}}};e$x([y$d({readOnly:!0})],z$3.prototype,"cache",null),e$x([y$d({readOnly:!0})],z$3.prototype,"center",null),e$x([y$d({readOnly:!0})],z$3.prototype,"extent",null),e$x([y$d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],z$3.prototype,"hasM",null),e$x([y$d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],z$3.prototype,"hasZ",null),e$x([y$d({readOnly:!0})],z$3.prototype,"height",null),e$x([y$d({readOnly:!0})],z$3.prototype,"width",null),e$x([y$d({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],z$3.prototype,"xmin",void 0),e$x([y$d({type:Number,json:{write:!0}})],z$3.prototype,"ymin",void 0),e$x([y$d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasM}}}}})],z$3.prototype,"mmin",void 0),e$x([y$d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasZ}}}}})],z$3.prototype,"zmin",void 0),e$x([y$d({type:Number,json:{write:!0}})],z$3.prototype,"xmax",void 0),e$x([y$d({type:Number,json:{write:!0}})],z$3.prototype,"ymax",void 0),e$x([y$d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasM}}}}})],z$3.prototype,"mmax",void 0),e$x([y$d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasZ}}}}})],z$3.prototype,"zmax",void 0),z$3=u$f=e$x([a$i("esri.geometry.Extent")],z$3),z$3.prototype.toJSON.isDefaultToJSON=!0;const M$3=z$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i$e=class extends l$f{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null;}};e$x([y$d({type:String,json:{write:!0}})],i$e.prototype,"address",void 0),e$x([y$d({type:Object,json:{write:!0}})],i$e.prototype,"attributes",void 0),e$x([y$d({type:M$3,json:{write:!0}})],i$e.prototype,"extent",void 0),e$x([y$d({type:x$a,json:{write:!0}})],i$e.prototype,"location",void 0),e$x([y$d({type:Number,json:{write:!0}})],i$e.prototype,"score",void 0),i$e=e$x([a$i("esri.rest.support.AddressCandidate")],i$e);const c$h=i$e;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function h$c(h,a,s=!1){let{hasM:t,hasZ:e}=h;Array.isArray(a)?4!==a.length||t||e?3===a.length&&s&&!t?(e=!0,t=!1):3===a.length&&t&&e&&(t=!1,e=!1):(t=!0,e=!0):(e=!e&&a.hasZ&&(!t||a.hasM),t=!t&&a.hasM&&(!e||a.hasZ)),h.hasZ=e,h.hasM=t;}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var h$b;function l$b(t){return (s,e)=>null==s?e:null==e?s:t(s,e)}function c$g(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}let m$8=h$b=class extends p$b{constructor(...t){super(...t),this.points=[],this.type="multipoint";}normalizeCtorArgs(t,s){if(!t&&!s)return {};const e={};Array.isArray(t)?(e.points=t,e.spatialReference=s):c$g(t)?e.spatialReference=t:(t.points&&(e.points=t.points),t.spatialReference&&(e.spatialReference=t.spatialReference),t.hasZ&&(e.hasZ=t.hasZ),t.hasM&&(e.hasM=t.hasM));const i=e.points&&e.points[0];return i&&(void 0===e.hasZ&&void 0===e.hasM?(e.hasZ=i.length>2,e.hasM=!1):void 0===e.hasZ?e.hasZ=i.length>3:void 0===e.hasM&&(e.hasM=i.length>3)),e}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const s=new M$3,e=this.hasZ,i=this.hasM,r=e?3:2,n=t[0],a=l$b(Math.min),p=l$b(Math.max);let h,c,m,u,[f,y]=n,[d,g]=n;for(let o=0,l=t.length;o<l;o++){const s=t[o],[n,l]=s;if(f=a(f,n),y=a(y,l),d=p(d,n),g=p(g,l),e&&s.length>2){const t=s[2];h=a(h,t),m=p(m,t);}if(i&&s.length>r){const t=s[r];c=a(c,t),u=p(u,t);}}return s.xmin=f,s.ymin=y,s.xmax=d,s.ymax=g,s.spatialReference=this.spatialReference,e?(s.zmin=h,s.zmax=m):(s.zmin=void 0,s.zmax=void 0),i?(s.mmin=c,s.mmax=u):(s.mmin=void 0,s.mmax=void 0),s}writePoints(t,e){e.points=a$v(this.points);}addPoint(t){return h$c(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:a$v(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new h$b(t)}getPoint(t){if(!this._validateInputs(t))return null;const s=this.points[t],e={x:s[0],y:s[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(e.z=s[2],i=3),this.hasM&&(e.m=s[i]),new x$a(e)}removePoint(t){if(!this._validateInputs(t))return null;const s=new x$a(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),s}setPoint(t,s){return this._validateInputs(t)?(h$c(this,s),Array.isArray(s)||(s=s.toArray()),this.points[t]=s,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};e$x([y$d({readOnly:!0})],m$8.prototype,"cache",null),e$x([y$d()],m$8.prototype,"extent",null),e$x([y$d({type:[[Number]],json:{write:{isRequired:!0}}})],m$8.prototype,"points",void 0),e$x([r$d("points")],m$8.prototype,"writePoints",null),m$8=h$b=e$x([a$i("esri.geometry.Multipoint")],m$8),m$8.prototype.toJSON.isDefaultToJSON=!0;const u$e=m$8;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$b(t,n){const e=n[0]-t[0],r=n[1]-t[1];if(t.length>2&&n.length>2){const i=t[2]-n[2];return Math.sqrt(e*e+r*r+i*i)}return Math.sqrt(e*e+r*r)}function i$d(t,n,e){const r=t[0]+e*(n[0]-t[0]),i=t[1]+e*(n[1]-t[1]);return t.length>2&&n.length>2?[r,i,t[2]+e*(n[2]-t[2])]:[r,i]}function l$a(t,n){return i$d(t,n,.5)}function h$a(t,n,e){const r=t.length;let i=0,o=0,s=0;for(let f=0;f<r;f++){const l=t[f],u=t[(f+1)%r];let c=2;i+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&e&&(o+=l[0]*u[2]-u[0]*l[2],c=3),l.length>c&&u.length>c&&n&&(s+=l[0]*u[c]-u[0]*l[c]);}return i<=0&&o<=0&&s<=0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o$d(t){return t?u$d(t.rings,t.hasZ??!1):null}function u$d(t,n){if(!t||!t.length)return null;const e=[],r=[],l=n?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let o=0,u=t.length;o<u;o++){const e=s$f(t[o],n,l);e&&r.push(e);}if(r.sort(((t,e)=>{let r=t[2]-e[2];return 0===r&&n&&(r=t[4]-e[4]),r})),r.length&&(e[0]=r[0][0],e[1]=r[0][1],n&&(e[2]=r[0][3]),(e[0]<l[0]||e[0]>l[1]||e[1]<l[2]||e[1]>l[3]||n&&(e[2]<l[4]||e[2]>l[5]))&&(e.length=0)),!e.length){const r=t[0]&&t[0].length?I$2(t[0],n):null;if(!r)return null;e[0]=r[0],e[1]=r[1],n&&r.length>2&&(e[2]=r[2]);}return e}function s$f(t,n,e){let r=0,l=0,o=0,u=0,s=0;const I=t.length?t[0][0]:0,i=t.length?t[0][1]:0,h=t.length&&n?t[0][2]:0;for(let N=0;N<t.length;N++){const c=t[N],f=t[(N+1)%t.length],[m,x,g]=c,P=m-I,T=x-i,[a,E,y]=f,b=a-I,F=E-i,V=P*F-b*T;if(u+=V,r+=(P+b)*V,l+=(T+F)*V,n&&c.length>2&&f.length>2){const t=g-h,n=y-h,e=P*n-b*t;o+=(t+n)*e,s+=e;}m<e[0]&&(e[0]=m),m>e[1]&&(e[1]=m),x<e[2]&&(e[2]=x),x>e[3]&&(e[3]=x),n&&(g<e[4]&&(e[4]=g),g>e[5]&&(e[5]=g));}if(u>0&&(u*=-1),s>0&&(s*=-1),!u)return null;u*=.5,s*=.5;const c=[r/(6*u)+I,l/(6*u)+i,u];return n&&(e[4]===e[5]||0===s?(c[3]=(e[4]+e[5])/2,c[4]=0):(c[3]=o/(6*s)+h,c[4]=s)),c}function I$2(t,r){const l=r?[0,0,0]:[0,0],o=r?[0,0,0]:[0,0];let u=0,s=0,I=0,i=0;for(let h=0,c=t.length;h<c-1;h++){const c=t[h],N=t[h+1];if(c&&N){l[0]=c[0],l[1]=c[1],o[0]=N[0],o[1]=N[1],r&&c.length>2&&N.length>2&&(l[2]=c[2],o[2]=N[2]);const t=r$b(l,o);if(t){u+=t;const n=l$a(c,N);s+=t*n[0],I+=t*n[1],r&&n.length>2&&(i+=t*n[2]);}}}return u>0?r?[s/u,I/u,i/u]:[s/u,I/u]:t.length?t[0]:null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$e(){return [0,0,0]}function t$9(n){return [n[0],n[1],n[2]]}function r$a(n,t,r){return [n,t,r]}function e$h(t){const r=n$e(),e=Math.min(3,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u$c(n,t){return new Float64Array(n,t,3)}function o$c(){return n$e()}function a$c(){return r$a(1,1,1)}function s$e(){return r$a(1,0,0)}function c$f(){return r$a(0,1,0)}function i$c(){return r$a(0,0,1)}const f$b=o$c(),l$9=a$c(),_$7=s$e(),O$3=c$f(),b$4=i$c();Object.freeze(Object.defineProperty({__proto__:null,ONES:l$9,UNIT_X:_$7,UNIT_Y:O$3,UNIT_Z:b$4,ZEROS:f$b,clone:t$9,create:n$e,createView:u$c,fromArray:e$h,fromValues:r$a,ones:a$c,unitX:s$e,unitY:c$f,unitZ:i$c,zeros:o$c},Symbol.toStringTag,{value:"Module"}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let t$8=1e-6;function a$b(){return t$8}function e$g(a){t$8=a;}const n$d=Math.random,o$b=Math.PI/180,s$d=180/Math.PI;function r$9(t){return t*o$b}function u$b(t){return t*s$d}function c$e(a,e){return Math.abs(a-e)<=t$8*Math.max(1,Math.abs(a),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:n$d,equals:c$e,getEpsilon:a$b,setEpsilon:e$g,toDegree:u$b,toRadian:r$9},Symbol.toStringTag,{value:"Module"}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function s$c(t){const n=t[0],a=t[1],s=t[2];return Math.sqrt(n*n+a*a+s*s)}function r$8(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function o$a(t,n,a,s){return t[0]=n,t[1]=a,t[2]=s,t}function u$a(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function e$f(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t}function c$d(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t}function i$b(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t}function h$9(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function M$2(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function f$a(t,n){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t}function l$8(t,n){return t[0]=Math.sign(n[0]),t[1]=Math.sign(n[1]),t[2]=Math.sign(n[2]),t}function m$7(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t}function d$c(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t}function b$3(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function g$5(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function q$2(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t}function x$7(t,n){const a=n[0]-t[0],s=n[1]-t[1],r=n[2]-t[2];return Math.sqrt(a*a+s*s+r*r)}function p$9(t,n){const a=n[0]-t[0],s=n[1]-t[1],r=n[2]-t[2];return a*a+s*s+r*r}function v$3(t){const n=t[0],a=t[1],s=t[2];return n*n+a*a+s*s}function j$4(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function y$5(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function z$2(t,n){const a=n[0],s=n[1],r=n[2];let o=a*a+s*s+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function P$1(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function _$6(t,n,a){const s=n[0],r=n[1],o=n[2],u=a[0],e=a[1],c=a[2];return t[0]=r*c-o*e,t[1]=o*u-s*c,t[2]=s*e-r*u,t}function A$4(t,n,a,s){const r=n[0],o=n[1],u=n[2];return t[0]=r+s*(a[0]-r),t[1]=o+s*(a[1]-o),t[2]=u+s*(a[2]-u),t}function D$4(t,n,a,s,r,o){const u=o*o,e=u*(2*o-3)+1,c=u*(o-2)+o,i=u*(o-1),h=u*(3-2*o);return t[0]=n[0]*e+a[0]*c+s[0]*i+r[0]*h,t[1]=n[1]*e+a[1]*c+s[1]*i+r[1]*h,t[2]=n[2]*e+a[2]*c+s[2]*i+r[2]*h,t}function I$1(t,n,a,s,r,o){const u=1-o,e=u*u,c=o*o,i=e*u,h=3*o*e,M=3*c*u,f=c*o;return t[0]=n[0]*i+a[0]*h+s[0]*M+r[0]*f,t[1]=n[1]*i+a[1]*h+s[1]*M+r[1]*f,t[2]=n[2]*i+a[2]*h+s[2]*M+r[2]*f,t}function L$4(t,n){n=n||1;const s=n$d,r=2*s()*Math.PI,o=2*s()-1,u=Math.sqrt(1-o*o)*n;return t[0]=Math.cos(r)*u,t[1]=Math.sin(r)*u,t[2]=o*n,t}function O$2(t,n,a){const s=n[0],r=n[1],o=n[2];return t[0]=a[0]*s+a[4]*r+a[8]*o+a[12],t[1]=a[1]*s+a[5]*r+a[9]*o+a[13],t[2]=a[2]*s+a[6]*r+a[10]*o+a[14],t}function S$3(t,n,a){const s=n[0],r=n[1],o=n[2];return t[0]=s*a[0]+r*a[3]+o*a[6],t[1]=s*a[1]+r*a[4]+o*a[7],t[2]=s*a[2]+r*a[5]+o*a[8],t}function E$4(t,n,a){const s=a[0],r=a[1],o=a[2],u=a[3],e=n[0],c=n[1],i=n[2];let h=r*i-o*c,M=o*e-s*i,f=s*c-r*e,l=r*f-o*M,m=o*h-s*f,d=s*M-r*h;const b=2*u;return h*=b,M*=b,f*=b,l*=2,m*=2,d*=2,t[0]=e+h+l,t[1]=c+M+m,t[2]=i+f+d,t}function Q(t,n,a,s){const r=[],o=[];return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],o[0]=r[0],o[1]=r[1]*Math.cos(s)-r[2]*Math.sin(s),o[2]=r[1]*Math.sin(s)+r[2]*Math.cos(s),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t}function R$1(t,n,a,s){const r=[],o=[];return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],o[0]=r[2]*Math.sin(s)+r[0]*Math.cos(s),o[1]=r[1],o[2]=r[2]*Math.cos(s)-r[0]*Math.sin(s),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t}function T$1(t,n,a,s){const r=[],o=[];return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],o[0]=r[0]*Math.cos(s)-r[1]*Math.sin(s),o[1]=r[0]*Math.sin(s)+r[1]*Math.cos(s),o[2]=r[2],t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t}function k$2(t,n){r$8(w$3,t),r$8(B$3,n),z$2(w$3,w$3),z$2(B$3,B$3);const a=P$1(w$3,B$3);return a>1?0:a<-1?Math.PI:Math.acos(a)}const w$3=n$e(),B$3=n$e();function C$3(t){return "vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function F$1(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function G(t,a){if(t===a)return !0;const s=t[0],r=t[1],o=t[2],u=a[0],e=a[1],c=a[2],i=a$b();return Math.abs(s-u)<=i*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(r-e)<=i*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(o-c)<=i*Math.max(1,Math.abs(o),Math.abs(c))}function H(t,n,a){const s=a[0]-n[0],r=a[1]-n[1],o=a[2]-n[2];let u=s*s+r*r+o*o;return u>0?(u=1/Math.sqrt(u),t[0]=s*u,t[1]=r*u,t[2]=o*u,t):(t[0]=0,t[1]=0,t[2]=0,t)}const J=e$f,K=c$d,N$1=i$b,U=x$7,X=p$9,Y=s$c,Z=v$3;Object.freeze(Object.defineProperty({__proto__:null,abs:f$a,add:u$a,angle:k$2,bezier:I$1,ceil:h$9,copy:r$8,cross:_$6,direction:H,dist:U,distance:x$7,div:N$1,divide:i$b,dot:P$1,equals:G,exactEquals:F$1,floor:M$2,hermite:D$4,inverse:y$5,len:Y,length:s$c,lerp:A$4,max:d$c,min:m$7,mul:K,multiply:c$d,negate:j$4,normalize:z$2,random:L$4,rotateX:Q,rotateY:R$1,rotateZ:T$1,round:b$3,scale:g$5,scaleAndAdd:q$2,set:o$a,sign:l$8,sqrDist:X,sqrLen:Z,squaredDistance:p$9,squaredLength:v$3,str:C$3,sub:J,subtract:e$f,transformMat3:S$3,transformMat4:O$2,transformQuat:E$4},Symbol.toStringTag,{value:"Module"}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function a$a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r$7(t,n,a,r,s){return t[0]=n,t[1]=a,t[2]=r,t[3]=s,t}function s$b(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function o$9(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function u$9(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function e$e(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function c$c(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function i$a(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function h$8(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t}function M$1(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t}function f$9(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function l$7(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function m$6(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}function d$b(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(a*a+r*r+s*s+o*o)}function b$2(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],o=n[3]-t[3];return a*a+r*r+s*s+o*o}function x$6(t){const n=t[0],a=t[1],r=t[2],s=t[3];return Math.sqrt(n*n+a*a+r*r+s*s)}function q$1(t){const n=t[0],a=t[1],r=t[2],s=t[3];return n*n+a*a+r*r+s*s}function p$8(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function g$4(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function v$2(t,n){const a=n[0],r=n[1],s=n[2],o=n[3];let u=a*a+r*r+s*s+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=a*u,t[1]=r*u,t[2]=s*u,t[3]=o*u),t}function y$4(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function j$3(t,n,a,r){const s=n[0],o=n[1],u=n[2],e=n[3];return t[0]=s+r*(a[0]-s),t[1]=o+r*(a[1]-o),t[2]=u+r*(a[2]-u),t[3]=e+r*(a[3]-e),t}function _$5(t,a){const r=n$d;let s,o,u,e,c,i;a=a||1;do{s=2*r()-1,o=2*r()-1,c=s*s+o*o;}while(c>=1);do{u=2*r()-1,e=2*r()-1,i=u*u+e*e;}while(i>=1);const h=Math.sqrt((1-c)/i);return t[0]=a*s,t[1]=a*o,t[2]=a*u*h,t[3]=a*e*h,t}function w$2(t,n,a){const r=n[0],s=n[1],o=n[2],u=n[3];return t[0]=a[0]*r+a[4]*s+a[8]*o+a[12]*u,t[1]=a[1]*r+a[5]*s+a[9]*o+a[13]*u,t[2]=a[2]*r+a[6]*s+a[10]*o+a[14]*u,t[3]=a[3]*r+a[7]*s+a[11]*o+a[15]*u,t}function z$1(t,n,a){const r=n[0],s=n[1],o=n[2],u=a[0],e=a[1],c=a[2],i=a[3],h=i*r+e*o-c*s,M=i*s+c*r-u*o,f=i*o+u*s-e*r,l=-u*r-e*s-c*o;return t[0]=h*i+l*-u+M*-c-f*-e,t[1]=M*i+l*-e+f*-u-h*-c,t[2]=f*i+l*-c+h*-e-M*-u,t[3]=n[3],t}function A$3(t){return "vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function D$3(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function E$3(n,a){const r=n[0],s=n[1],o=n[2],u=n[3],e=a[0],c=a[1],i=a[2],h=a[3],M=a$b();return Math.abs(r-e)<=M*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(s-c)<=M*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(o-i)<=M*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(u-h)<=M*Math.max(1,Math.abs(u),Math.abs(h))}const L$3=o$9,O$1=u$9,S$2=e$e,k$1=d$b,B$2=b$2,C$2=x$6,F=q$1;Object.freeze(Object.defineProperty({__proto__:null,add:s$b,ceil:c$c,copy:a$a,dist:k$1,distance:d$b,div:S$2,divide:e$e,dot:y$4,equals:E$3,exactEquals:D$3,floor:i$a,inverse:g$4,len:C$2,length:x$6,lerp:j$3,max:M$1,min:h$8,mul:O$1,multiply:u$9,negate:p$8,normalize:v$2,random:_$5,round:f$9,scale:l$7,scaleAndAdd:m$6,set:r$7,sqrDist:B$2,sqrLen:F,squaredDistance:b$2,squaredLength:q$1,str:A$3,sub:L$3,subtract:o$9,transformMat4:w$2,transformQuat:z$1},Symbol.toStringTag,{value:"Module"}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u$8=new Float32Array(1);const g$3=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function E$2(t){return g$3.setFloat64(0,t),g$3.getBigInt64(0)}function B$1(t){return g$3.setBigInt64(0,t),g$3.getFloat64(0)}const I=BigInt("1000000");x$5(1);function x$5(t){const n=E$2(t=Math.abs(t)),r=B$1(n<=I?I:n-I);return Math.abs(t-r)}function P(t){return u$8[0]=t,u$8[0]}P(34028234663852886e22);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function u$7(n){function t(t,i){return null==t?i:null==i?t:n(t,i)}return t}const l$6=u$7(Math.min),h$7=u$7(Math.max);function x$4(n,t,i,o){const e=i?3:2;if(!t.length||!t[0].length)return null;let r,u,a,c,[f,m]=t[0][0],[x,s]=t[0][0];for(let g=0;g<t.length;g++){const n=t[g];for(let t=0;t<n.length;t++){const g=n[t],[y,d]=g;if(f=l$6(f,y),m=l$6(m,d),x=h$7(x,y),s=h$7(s,d),i&&g.length>2){const n=g[2];r=l$6(r,n),u=h$7(u,n);}if(o&&g.length>e){const n=g[e];a=l$6(r,n),c=h$7(u,n);}}}return i?o?(n[0]=f,n[1]=m,n[2]=r,n[3]=a,n[4]=x,n[5]=s,n[6]=u,n[7]=c,n.length=8,n):(n[0]=f,n[1]=m,n[2]=r,n[3]=x,n[4]=s,n[5]=u,n.length=6,n):o?(n[0]=f,n[1]=m,n[2]=a,n[3]=x,n[4]=s,n[5]=c,n.length=6,n):(n[0]=f,n[1]=m,n[2]=x,n[3]=s,n.length=4,n)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const x$3=[];function a$9(n,i,t,u){return {xmin:n,ymin:i,xmax:t,ymax:u}}function c$b(n,i,t,u,m,o){return {xmin:n,ymin:i,zmin:t,xmax:u,ymax:m,zmax:o}}function s$a(n,i,t,u,m,o){return {xmin:n,ymin:i,mmin:t,xmax:u,ymax:m,mmax:o}}function e$d(n,i,t,u,m,o,r,x){return {xmin:n,ymin:i,zmin:t,mmin:u,xmax:m,ymax:o,zmax:r,mmax:x}}function f$8(n,i=!1,t=!1){return i?t?e$d(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]):c$b(n[0],n[1],n[2],n[3],n[4],n[5]):t?s$a(n[0],n[1],n[2],n[3],n[4],n[5]):a$9(n[0],n[1],n[2],n[3])}function v$1(n){const{hasZ:t,hasM:u,rings:m}=n,o=x$4(x$3,m,t??!1,u??!1);return o?f$8(o,t,u):null}function h$6(n){const{hasZ:t,hasM:u,paths:m}=n,o=x$4(x$3,m,t??!1,u??!1);return o?f$8(o,t,u):null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var d$a;function R(t){return !Array.isArray(t[0])}let x$2=d$a=class extends p$b{static fromExtent(t){const e=t.clone().normalize(),r=t.spatialReference;let s=!1,n=!1;for(const o of e)o.hasZ&&(s=!0),o.hasM&&(n=!0);const i={rings:e.map((t=>{const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(s&&t.hasZ){const r=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(r);}if(n&&t.hasM){const r=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(r);}return e})),spatialReference:r};return s&&(i.hasZ=!0),n&&(i.hasM=!0),new d$a(i)}constructor(...t){super(...t),this.rings=[],this.type="polygon";}normalizeCtorArgs(t,e){let r,s,n=null,i=null;return t&&!Array.isArray(t)?(n=t.rings??null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),r=t.hasZ,s=t.hasM):n=t,n=n||[],e=e||f$g.WGS84,n.length&&n[0]&&null!=n[0][0]&&"number"==typeof n[0][0]&&(n=[n]),i=n[0]&&n[0][0],i&&(void 0===r&&void 0===s?(r=i.length>2,s=i.length>3):void 0===r?r=s?i.length>3:i.length>2:void 0===s&&(s=r?i.length>3:i.length>2)),{rings:n,spatialReference:e,hasZ:r,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=o$d(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new x$a;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=v$1(this);if(!e)return null;const r=new M$3(e);return r.spatialReference=t,r}get isSelfIntersecting(){return p$a(this.rings)}writeRings(t,e){e.rings=a$v(this.rings);}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(R(t)){const s=[];for(let e=0,r=t.length;e<r;e++)s[e]=t[e].toArray();e[r]=s;}else e[r]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new d$a;return t.spatialReference=this.spatialReference,t.rings=a$v(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return !0;if(null==t)return !1;const r=this.spatialReference,s=t.spatialReference;if(null!=r!=(null!=s))return !1;if(null!=r&&null!=s&&!r.equals(s))return !1;if(this.rings.length!==t.rings.length)return !1;const n=([t,e,r,s],[n,i,o,a])=>t===n&&e===i&&(null==r&&null==o||r===o)&&(null==s&&null==a||s===a);for(let i=0;i<this.rings.length;i++){const r=this.rings[i],s=t.rings[i];if(!s$G(r,s,n))return !1}return !0}contains(t){if(!t)return !1;const e=g$8(t,this.spatialReference);return f$e(this,null!=e?e:t)}isClockwise(t){let e;return e=R(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,h$a(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],s=this.hasZ,n=this.hasM;return s&&!n?new x$a(r[0],r[1],r[2],void 0,this.spatialReference):n&&!s?new x$a(r[0],r[1],void 0,r[2],this.spatialReference):s&&n?new x$a(r[0],r[1],r[2],r[3],this.spatialReference):new x$a(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(h$c(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new x$a(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,s=e.map((t=>new x$a(t,r)));return this.notifyChange("rings"),s}setPoint(t,e,r){return this._validateInputs(t,e)?(h$c(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.rings.length)return !1;if(null!=e){const s=this.rings[t];if(r&&(e<0||e>s.length))return !1;if(!r&&(e<0||e>=s.length))return !1}return !0}toJSON(t){return this.write({},t)}};e$x([y$d({readOnly:!0})],x$2.prototype,"cache",null),e$x([y$d({readOnly:!0})],x$2.prototype,"centroid",null),e$x([y$d({readOnly:!0})],x$2.prototype,"extent",null),e$x([y$d({readOnly:!0})],x$2.prototype,"isSelfIntersecting",null),e$x([y$d({type:[[[Number]]],json:{write:{isRequired:!0}}})],x$2.prototype,"rings",void 0),e$x([r$d("rings")],x$2.prototype,"writeRings",null),x$2=d$a=e$x([a$i("esri.geometry.Polygon")],x$2),x$2.prototype.toJSON.isDefaultToJSON=!0;const j$2=x$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var c$a;function u$6(t){return !Array.isArray(t[0])}let f$7=c$a=class extends p$b{constructor(...t){super(...t),this.paths=[],this.type="polyline";}normalizeCtorArgs(t,e){let s,r,i=null,a=null;return t&&!Array.isArray(t)?(i=t.paths??null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),s=t.hasZ,r=t.hasM):i=t,i=i||[],e=e||f$g.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),a=i[0]&&i[0][0],a&&(void 0===s&&void 0===r?(s=a.length>2,r=!1):void 0===s?s=!r&&a.length>3:void 0===r&&(r=!s&&a.length>3)),{paths:i,spatialReference:e,hasZ:s,hasM:r}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=h$6(this);if(!e)return null;const s=new M$3(e);return s.spatialReference=t,s}writePaths(t,s){s.paths=a$v(this.paths);}addPath(t){if(!t)return;const e=this.paths,s=e.length;if(u$6(t)){const r=[];for(let e=0,s=t.length;e<s;e++)r[e]=t[e].toArray();e[s]=r;}else e[s]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new c$a;return t.spatialReference=this.spatialReference,t.paths=a$v(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const s=this.paths[t][e],r=this.hasZ,i=this.hasM;return r&&!i?new x$a(s[0],s[1],s[2],void 0,this.spatialReference):i&&!r?new x$a(s[0],s[1],void 0,s[2],this.spatialReference):r&&i?new x$a(s[0],s[1],s[2],s[3],this.spatialReference):new x$a(s[0],s[1],this.spatialReference)}insertPoint(t,e,s){return this._validateInputs(t,e,!0)?(h$c(this,s),Array.isArray(s)||(s=s.toArray()),this.paths[t].splice(e,0,s),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],s=this.spatialReference,r=e.map((t=>new x$a(t,s)));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const s=new x$a(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),s}setPoint(t,e,s){return this._validateInputs(t,e)?(h$c(this,s),Array.isArray(s)||(s=s.toArray()),this.paths[t][e]=s,this.notifyChange("paths"),this):this}_validateInputs(t,e,s=!1){if(null==t||t<0||t>=this.paths.length)return !1;if(null!=e){const r=this.paths[t];if(s&&(e<0||e>r.length))return !1;if(!s&&(e<0||e>=r.length))return !1}return !0}toJSON(t){return this.write({},t)}};e$x([y$d({readOnly:!0})],f$7.prototype,"cache",null),e$x([y$d({readOnly:!0})],f$7.prototype,"extent",null),e$x([y$d({type:[[[Number]]],json:{write:{isRequired:!0}}})],f$7.prototype,"paths",void 0),e$x([r$d("paths")],f$7.prototype,"writePaths",null),f$7=c$a=e$x([a$i("esri.geometry.Polyline")],f$7),f$7.prototype.toJSON.isDefaultToJSON=!0;const m$5=f$7;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
o$k()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});o$k()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n$c={base:p$b,key:"type",typeMap:{extent:M$3,multipoint:u$e,point:x$a,polyline:m$5,polygon:j$2}};S$6(n$c);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$7={type:String,json:{read:{source:"token"},write:{target:"token"}}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let l$5=class extends l$f{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null;}};e$x([y$d({type:Object,json:{write:!0}})],l$5.prototype,"address",void 0),e$x([y$d(t$7)],l$5.prototype,"apiKey",void 0),e$x([y$d({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,o)=>{o.category=t?t.join(","):null;}}}})],l$5.prototype,"categories",void 0),e$x([y$d({type:String,json:{write:!0}})],l$5.prototype,"countryCode",void 0),e$x([y$d({type:Boolean,json:{write:!0}})],l$5.prototype,"forStorage",void 0),e$x([y$d({type:x$a,json:{write:{writer:(t,o)=>{o.location=t?t.clone().normalize():null;}}}})],l$5.prototype,"location",void 0),e$x([y$d({type:String,json:{write:!0}})],l$5.prototype,"locationType",void 0),e$x([y$d({type:String,json:{write:!0}})],l$5.prototype,"magicKey",void 0),e$x([y$d({type:Number,json:{write:!0}})],l$5.prototype,"maxLocations",void 0),e$x([y$d({type:[String],json:{write:{writer:(t,o)=>{o.outFields=t?t.join(","):null;}}}})],l$5.prototype,"outFields",void 0),e$x([y$d({type:f$g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],l$5.prototype,"outSpatialReference",void 0),e$x([y$d({type:M$3,json:{write:{writer:(t,o)=>{const e=t?t.shiftCentralMeridian():null;o.searchExtent=e;}}}})],l$5.prototype,"searchExtent",void 0),l$5=e$x([a$i("esri.rest.support.AddressToLocationsParameters")],l$5),l$5.from=d$k(l$5);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p$7=class extends l$f{constructor(r){super(r),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null;}};e$x([y$d({type:[Object],json:{read:{reader:r=>r&&r.records?r.records.map((r=>r.attributes)):null},write:{writer:(r,e)=>{const o=[];Array.isArray(r)&&r.forEach((r=>{o.push({attributes:r});})),e.addresses={records:o};}}}})],p$7.prototype,"addresses",void 0),e$x([y$d({type:[String],json:{read:{source:"category",reader:r=>r?r.split(","):null},write:{target:"category",writer:(r,e)=>{e.category=r?r.join(","):null;}}}})],p$7.prototype,"categories",void 0),e$x([y$d({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],p$7.prototype,"countryCode",void 0),e$x([y$d({type:String,json:{write:!0}})],p$7.prototype,"locationType",void 0),e$x([y$d({type:f$g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p$7.prototype,"outSpatialReference",void 0),p$7=e$x([a$i("esri.rest.support.AddressesToLocationsParameters")],p$7),p$7.from=d$k(p$7);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let a$8=class extends l$f{constructor(o){super(o),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null;}};e$x([y$d(t$7)],a$8.prototype,"apiKey",void 0),e$x([y$d({type:x$a,json:{write:{writer:(o,r)=>{const t=o?o.clone().normalize():null,e=void 0!==t;r.location=e?t:null;}}}})],a$8.prototype,"location",void 0),e$x([y$d({type:String,json:{write:!0}})],a$8.prototype,"locationType",void 0),e$x([y$d({type:f$g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],a$8.prototype,"outSpatialReference",void 0),a$8=e$x([a$i("esri.rest.support.LocationToAddressParameters")],a$8),a$8.from=d$k(a$8);const n$b=a$8;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function n$a(e,n,i){n=n$b.from(n);const c=f$t(e),m={...n.toJSON(),f:"json"},u=s$B({...c.query,...m}),f=i$v(u,i),p=`${c.path}/reverseGeocode`;return j$b(p,f).then(d$9)}function d$9({data:r}){if(!r)return;const{address:o,location:t}=r,s=o&&o.Match_addr||"";return c$h.fromJSON({address:s,attributes:o||{},location:t,score:100})}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let e$c=class extends l$f{constructor(o){super(o),this.isCollection=null,this.magicKey=null,this.text=null;}};e$x([y$d({type:Boolean,json:{write:!0}})],e$c.prototype,"isCollection",void 0),e$x([y$d({type:String,json:{write:!0}})],e$c.prototype,"magicKey",void 0),e$x([y$d({type:String,json:{write:!0}})],e$c.prototype,"text",void 0),e$c=e$x([a$i("esri.rest.support.SuggestionCandidate")],e$c);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c$9=class extends l$f{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null;}};e$x([y$d(t$7)],c$9.prototype,"apiKey",void 0),e$x([y$d({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,o)=>{o.category=t?t.join(","):null;}}}})],c$9.prototype,"categories",void 0),e$x([y$d({type:String,json:{write:!0}})],c$9.prototype,"countryCode",void 0),e$x([y$d({type:x$a,json:{write:{writer:(t,o)=>{o.location=t?t.clone().normalize():null;}}}})],c$9.prototype,"location",void 0),e$x([y$d({type:Number,json:{write:!0}})],c$9.prototype,"maxSuggestions",void 0),e$x([y$d({type:f$g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],c$9.prototype,"outSpatialReference",void 0),e$x([y$d({type:M$3,json:{write:{writer:(t,o)=>{const e=t?t.shiftCentralMeridian():null;o.searchExtent=JSON.stringify(e);}}}})],c$9.prototype,"searchExtent",void 0),e$x([y$d({type:String,json:{write:!0}})],c$9.prototype,"text",void 0),c$9=e$x([a$i("esri.rest.support.SuggestLocationsParameters")],c$9),c$9.from=d$k(c$9);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i$9{constructor(){this._emitter=new i$9.EventEmitter(this);}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}}!function(n){class o{constructor(t=null){this._target=t,this._listenersMap=null;}clear(){this._listenersMap?.clear(),this._listenersMap=null;}destroy(){this.clear();}emit(t,e){const s=this._listenersMap&&this._listenersMap.get(t);if(!s)return !1;const r=this._target||this;return [...s].forEach((t=>{t.call(r,e);})),s.length>0}on(t,e){if(Array.isArray(t)){const r=t.map((t=>this.on(t,e)));return n$r(r)}if(t.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const r=this._listenersMap.get(t)||[];return r.push(e),this._listenersMap.set(t,r),{remove:()=>{const s=this._listenersMap&&this._listenersMap.get(t)||[],r=s.indexOf(e);r>=0&&s.splice(r,1);}}}once(t,e){const s=this.on(t,(t=>{s.remove(),e.call(null,t);}));return s}hasEventListener(t){const e=this._listenersMap&&this._listenersMap.get(t);return null!=e&&e.length>0}}n.EventEmitter=o,n.EventedMixin=e=>{let s=class extends e{constructor(){super(...arguments),this._emitter=new o;}destroy(){this._emitter.clear();}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}};return s=e$x([a$i("esri.core.Evented")],s),s};let h=class extends m$e{constructor(){super(...arguments),this._emitter=new i$9.EventEmitter(this);}destroy(){this._emitter.clear();}emit(t,e){return this._emitter.emit(t,e)}on(t,e){return this._emitter.on(t,e)}once(t,e){return this._emitter.once(t,e)}hasEventListener(t){return this._emitter.hasEventListener(t)}};h=e$x([a$i("esri.core.Evented")],h),n.EventedAccessor=h;}(i$9||(i$9={}));const n$9=i$9;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l$4(n,t,r={}){return m$4(n,t,r,y$3)}function f$6(n,t,r={}){return m$4(n,t,r,d$8)}function m$4(n,t,r={},e){let i=null;const u=r.once?(n,r)=>{e(n)&&(o$A(i),t(n,r));}:(n,r)=>{e(n)&&t(n,r);};if(i=P$2(n,u,r.sync,r.equals),r.initial){const t=n();u(t,t);}return i}function y$3(n){return !0}function d$8(n){return !!n}const h$5={initial:!0},w$1={sync:!0,initial:!0};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let o$8;const e$b=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function t$6(){return e$b??globalThis.navigator?.language??"en"}function c$8(){return void 0===o$8&&(o$8=t$6()),o$8}const u$5=[];function s$9(n){return u$5.push(n),{remove(){u$5.splice(u$5.indexOf(n),1);}}}const f$5=[];function g$2(n){return f$5.push(n),{remove(){u$5.splice(f$5.indexOf(n),1);}}}function h$4(){const e=t$6();o$8!==e&&(o$8=e,[...f$5].forEach((n=>{n.call(null,e);})),[...u$5].forEach((n=>{n.call(null,e);})));}globalThis.addEventListener?.("languagechange",h$4);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
({timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone});const i$8={year:"numeric",month:"numeric",day:"numeric"},s$8={year:"numeric",month:"long",day:"numeric"},l$3={year:"numeric",month:"short",day:"numeric"},d$7={year:"numeric",month:"long",weekday:"long",day:"numeric"},y$2={hour:"numeric",minute:"numeric"},g$1={...y$2,second:"numeric"},u$4={"short-date":i$8,"short-date-short-time":{...i$8,...y$2},"short-date-short-time-24":{...i$8,...y$2,hour12:!1},"short-date-long-time":{...i$8,...g$1},"short-date-long-time-24":{...i$8,...g$1,hour12:!1},"short-date-le":i$8,"short-date-le-short-time":{...i$8,...y$2},"short-date-le-short-time-24":{...i$8,...y$2,hour12:!1},"short-date-le-long-time":{...i$8,...g$1},"short-date-le-long-time-24":{...i$8,...g$1,hour12:!1},"long-month-day-year":s$8,"long-month-day-year-short-time":{...s$8,...y$2},"long-month-day-year-short-time-24":{...s$8,...y$2,hour12:!1},"long-month-day-year-long-time":{...s$8,...g$1},"long-month-day-year-long-time-24":{...s$8,...g$1,hour12:!1},"day-short-month-year":l$3,"day-short-month-year-short-time":{...l$3,...y$2},"day-short-month-year-short-time-24":{...l$3,...y$2,hour12:!1},"day-short-month-year-long-time":{...l$3,...g$1},"day-short-month-year-long-time-24":{...l$3,...g$1,hour12:!1},"long-date":d$7,"long-date-short-time":{...d$7,...y$2},"long-date-short-time-24":{...d$7,...y$2,hour12:!1},"long-date-long-time":{...d$7,...g$1},"long-date-long-time-24":{...d$7,...g$1,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":y$2,"long-time":g$1};o$k()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const D$2={ar:"ar-u-nu-latn-ca-gregory"};let T=new WeakMap,S$1=u$4["short-date-short-time"];function L$2(t){const o=t||S$1;let r=T.get(o);if(!r){const t=c$8(),n=D$2[t]||t;r=new Intl.DateTimeFormat(n,o),T.set(o,r);}return r}function f$4(t,o){return L$2(o).format(t)}g$2((()=>{T=new WeakMap,S$1=u$4["short-date-short-time"];}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$a={ar:"ar-u-nu-latn"};let a$7=new WeakMap,i$7={};function o$7(n){const o=n||i$7;if(!a$7.has(o)){const t=c$8(),i=e$a[c$8()]||t;a$7.set(o,new Intl.NumberFormat(i,n));}return p$m(a$7.get(o))}function c$7(t,n){return Object.is(t,-0)&&(t=0),o$7(n).format(t)}g$2((()=>{a$7=new WeakMap,i$7={};}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i$6=s$E.getLogger("esri.intl.substitute");function s$7(t,r,n={}){const{format:o={}}=n;return r$q(t,(t=>u$3(t,r,o)))}function u$3(t,e,n){let o,i;const s=t.indexOf(":");if(-1===s?o=t.trim():(o=t.slice(0,s).trim(),i=t.slice(s+1).trim()),!o)return "";const u=t$x(o,e);if(null==u)return "";const m=(i?n?.[i]:null)??n?.[o];return m?c$6(u,m):i?a$6(u,i):f$3(u)}function c$6(t,r){switch(r.type){case"date":return f$4(t,r.intlOptions);case"number":return c$7(t,r.intlOptions);default:return i$6.warn("missing format descriptor for key {key}"),f$3(t)}}function a$6(t,r){switch(r.toLowerCase()){case"dateformat":return f$4(t);case"numberformat":return c$7(t);default:return i$6.warn(`inline format is unsupported since 4.12: ${r}`),/^(dateformat|datestring)/i.test(r)?f$4(t):/^numberformat/i.test(r)?c$7(t):f$3(t)}}function f$3(t){switch(typeof t){case"string":return t;case"number":return c$7(t);case"boolean":return ""+t;default:return t instanceof Date?f$4(t):""}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$6=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,o$6={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function a$5(t){return t in o$6}const c$5=[],d$6=new Map;function l$2(t){for(const e of d$6.keys())m$3(t.pattern,e)&&d$6.delete(e);}function u$2(t){return c$5.includes(t)||(l$2(t),c$5.unshift(t)),{remove(){const e=c$5.indexOf(t);e>-1&&(c$5.splice(e,1),l$2(t));}}}async function h$3(t){const e=c$8();d$6.has(t)||d$6.set(t,_$4(t,e));const n=d$6.get(t);return n&&await p$6.add(n),n}function f$2(t){if(!r$6.test(t))return null;const e=r$6.exec(t);if(null===e)return null;const[,n,s]=e,o=n+(s?"-"+s.toUpperCase():"");return a$5(o)?o:a$5(n)?n:null}async function _$4(e,n){const s=[];for(const t of c$5)if(m$3(t.pattern,e))try{return await t.fetchMessageBundle(e,n)}catch(r){s.push(r);}if(s.length)throw new s$C("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:s});throw new s$C("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function m$3(t,e){return "string"==typeof t?e.startsWith(t):t.test(e)}g$2((()=>{d$6.clear();}));const p$6=new class{constructor(){this._numLoading=0,this._dfd=null;}async waitForAll(){this._dfd&&await this._dfd.promise;}add(t){return this._increase(),t.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=C$6());}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null);}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function r$5(e,r,s,i){const a=r.exec(s);if(!a)throw new s$C("esri-intl:invalid-bundle",`Bundle id "${s}" is not compatible with the pattern "${r}"`);const c=a[1]?`${a[1]}/`:"",l=a[2],w=f$2(i),h=`${c}${l}.json`,u=w?`${c}${l}_${w}.json`:h;let d;try{d=await o$5(e(u));}catch(f){if(u===h)throw new s$C("intl:unknown-bundle",`Bundle "${s}" cannot be loaded`,{error:f});try{d=await o$5(e(h));}catch(f){throw new s$C("intl:unknown-bundle",`Bundle "${s}" cannot be loaded`,{error:f})}}return d}async function o$5(t){if(null!=a$4.fetchBundleAsset)return a$4.fetchBundleAsset(t);const n=await j$b(t,{responseType:"text"});return JSON.parse(n.data)}class s$6{constructor({base:e="",pattern:t,location:n=new URL(window.location.href)}){let r;r="string"==typeof n?e=>new URL(e,new URL(n,window.location.href)).href:n instanceof URL?e=>new URL(e,n).href:n,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`);}fetchMessageBundle(e,t){return r$5(this.getAssetUrl,this.matcher,e,t)}}function i$5(e){return new s$6(e)}const a$4={};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i$4=s$E.getLogger("esri.assets");function a$3(t){if(!s$F.assetsPath)throw i$4.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s$C("assets:path-not-set","config.assetsPath is not set");return V$2(s$F.assetsPath,t)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
u$2(i$5({pattern:"esri/",location:a$3}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$9(e){return "string"==typeof e?document.getElementById(e):e??null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var h$2;!function(s){s[s.PENDING=0]="PENDING",s[s.RESOLVED=1]="RESOLVED",s[s.REJECTED=2]="REJECTED";}(h$2||(h$2={}));class n$8{constructor(){this._resolver=C$6(),this._status=h$2.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=h$2.RESOLVED,this._cleanUp();}),(()=>{this._status=h$2.REJECTED,this._cleanUp();})),this.promise=this._resolver.promise;}destroy(){this._cleanUp();}addResolvingPromise(s){this._resolvingPromises.push(s),this._tryResolve();}isResolved(){return this._status===h$2.RESOLVED}isRejected(){return this._status===h$2.REJECTED}isFulfilled(){return this._status!==h$2.PENDING}abort(){this._resolver.reject(c$y());}_cleanUp(){this._allPromise=null,this._resolvingPromises=null;}_tryResolve(){if(this.isFulfilled())return;const s=C$6(),e=[...this._resolvingPromises,p$m(s.promise)],t=this._allPromise=Promise.all(e);t.then((()=>{this.isFulfilled()||this._allPromise!==t||this._resolver.resolve();}),(s=>{this.isFulfilled()||this._allPromise!==t||d$p(s)||this._resolver.reject(s);})),s.resolve();}}const m$2=e=>{let r=class extends e{constructor(...s){super(...s),this._promiseProps=new n$8,this.addResolvingPromise(Promise.resolve());}destroy(){this._promiseProps?.destroy();}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(s,e){return this._promiseProps.promise.then((()=>this)).then(s,e)}catch(s){return this.when(null,s)}addResolvingPromise(s){s&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in s?s.when():s);}};return r=e$x([a$i("esri.core.Promise")],r),r};let p$5=class extends(m$2(m$e)){};p$5=e$x([a$i("esri.core.Promise")],p$5);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$5="randomUUID"in crypto;function n$7(){if(t$5)return crypto.randomUUID();const n=crypto.getRandomValues(new Uint16Array(8));n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;const r=t=>n[t].toString(16).padStart(4,"0");return r(0)+r(1)+"-"+r(2)+"-"+r(3)+"-"+r(4)+"-"+r(5)+r(6)+r(7)}

/*!
 * @esri/arcgis-html-sanitizer - v3.0.1 - Tue Nov 15 2022 09:46:54 GMT-0800 (Pacific Standard Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 */
/**
 * Determine if the value is a plain object.
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 */
var isPlainObject = function (value) {
    if (typeof value !== "object" || value === null) {
        return false;
    }
    if (Object.prototype.toString.call(value) !== "[object Object]") {
        return false;
    }
    var proto = Object.getPrototypeOf(value);
    if (proto === null) {
        return true;
    }
    while (Object.getPrototypeOf(proto) !== null) {
        proto = Object.getPrototypeOf(proto);
    }
    return Object.getPrototypeOf(value) === proto;
};

var lib$1 = {exports: {}};

var _default$1 = {};

var lib = {exports: {}};

var _default = {};

/**
 * cssfilter
 *
 * @author 老雷<leizongmin@gmail.com>
 */

function getDefaultWhiteList$1 () {
  // 白名单值说明：
  // true: 允许该属性
  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许
  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许
  // 除上面列出的值外均表示不允许
  var whiteList = {};

  whiteList['align-content'] = false; // default: auto
  whiteList['align-items'] = false; // default: auto
  whiteList['align-self'] = false; // default: auto
  whiteList['alignment-adjust'] = false; // default: auto
  whiteList['alignment-baseline'] = false; // default: baseline
  whiteList['all'] = false; // default: depending on individual properties
  whiteList['anchor-point'] = false; // default: none
  whiteList['animation'] = false; // default: depending on individual properties
  whiteList['animation-delay'] = false; // default: 0
  whiteList['animation-direction'] = false; // default: normal
  whiteList['animation-duration'] = false; // default: 0
  whiteList['animation-fill-mode'] = false; // default: none
  whiteList['animation-iteration-count'] = false; // default: 1
  whiteList['animation-name'] = false; // default: none
  whiteList['animation-play-state'] = false; // default: running
  whiteList['animation-timing-function'] = false; // default: ease
  whiteList['azimuth'] = false; // default: center
  whiteList['backface-visibility'] = false; // default: visible
  whiteList['background'] = true; // default: depending on individual properties
  whiteList['background-attachment'] = true; // default: scroll
  whiteList['background-clip'] = true; // default: border-box
  whiteList['background-color'] = true; // default: transparent
  whiteList['background-image'] = true; // default: none
  whiteList['background-origin'] = true; // default: padding-box
  whiteList['background-position'] = true; // default: 0% 0%
  whiteList['background-repeat'] = true; // default: repeat
  whiteList['background-size'] = true; // default: auto
  whiteList['baseline-shift'] = false; // default: baseline
  whiteList['binding'] = false; // default: none
  whiteList['bleed'] = false; // default: 6pt
  whiteList['bookmark-label'] = false; // default: content()
  whiteList['bookmark-level'] = false; // default: none
  whiteList['bookmark-state'] = false; // default: open
  whiteList['border'] = true; // default: depending on individual properties
  whiteList['border-bottom'] = true; // default: depending on individual properties
  whiteList['border-bottom-color'] = true; // default: current color
  whiteList['border-bottom-left-radius'] = true; // default: 0
  whiteList['border-bottom-right-radius'] = true; // default: 0
  whiteList['border-bottom-style'] = true; // default: none
  whiteList['border-bottom-width'] = true; // default: medium
  whiteList['border-collapse'] = true; // default: separate
  whiteList['border-color'] = true; // default: depending on individual properties
  whiteList['border-image'] = true; // default: none
  whiteList['border-image-outset'] = true; // default: 0
  whiteList['border-image-repeat'] = true; // default: stretch
  whiteList['border-image-slice'] = true; // default: 100%
  whiteList['border-image-source'] = true; // default: none
  whiteList['border-image-width'] = true; // default: 1
  whiteList['border-left'] = true; // default: depending on individual properties
  whiteList['border-left-color'] = true; // default: current color
  whiteList['border-left-style'] = true; // default: none
  whiteList['border-left-width'] = true; // default: medium
  whiteList['border-radius'] = true; // default: 0
  whiteList['border-right'] = true; // default: depending on individual properties
  whiteList['border-right-color'] = true; // default: current color
  whiteList['border-right-style'] = true; // default: none
  whiteList['border-right-width'] = true; // default: medium
  whiteList['border-spacing'] = true; // default: 0
  whiteList['border-style'] = true; // default: depending on individual properties
  whiteList['border-top'] = true; // default: depending on individual properties
  whiteList['border-top-color'] = true; // default: current color
  whiteList['border-top-left-radius'] = true; // default: 0
  whiteList['border-top-right-radius'] = true; // default: 0
  whiteList['border-top-style'] = true; // default: none
  whiteList['border-top-width'] = true; // default: medium
  whiteList['border-width'] = true; // default: depending on individual properties
  whiteList['bottom'] = false; // default: auto
  whiteList['box-decoration-break'] = true; // default: slice
  whiteList['box-shadow'] = true; // default: none
  whiteList['box-sizing'] = true; // default: content-box
  whiteList['box-snap'] = true; // default: none
  whiteList['box-suppress'] = true; // default: show
  whiteList['break-after'] = true; // default: auto
  whiteList['break-before'] = true; // default: auto
  whiteList['break-inside'] = true; // default: auto
  whiteList['caption-side'] = false; // default: top
  whiteList['chains'] = false; // default: none
  whiteList['clear'] = true; // default: none
  whiteList['clip'] = false; // default: auto
  whiteList['clip-path'] = false; // default: none
  whiteList['clip-rule'] = false; // default: nonzero
  whiteList['color'] = true; // default: implementation dependent
  whiteList['color-interpolation-filters'] = true; // default: auto
  whiteList['column-count'] = false; // default: auto
  whiteList['column-fill'] = false; // default: balance
  whiteList['column-gap'] = false; // default: normal
  whiteList['column-rule'] = false; // default: depending on individual properties
  whiteList['column-rule-color'] = false; // default: current color
  whiteList['column-rule-style'] = false; // default: medium
  whiteList['column-rule-width'] = false; // default: medium
  whiteList['column-span'] = false; // default: none
  whiteList['column-width'] = false; // default: auto
  whiteList['columns'] = false; // default: depending on individual properties
  whiteList['contain'] = false; // default: none
  whiteList['content'] = false; // default: normal
  whiteList['counter-increment'] = false; // default: none
  whiteList['counter-reset'] = false; // default: none
  whiteList['counter-set'] = false; // default: none
  whiteList['crop'] = false; // default: auto
  whiteList['cue'] = false; // default: depending on individual properties
  whiteList['cue-after'] = false; // default: none
  whiteList['cue-before'] = false; // default: none
  whiteList['cursor'] = false; // default: auto
  whiteList['direction'] = false; // default: ltr
  whiteList['display'] = true; // default: depending on individual properties
  whiteList['display-inside'] = true; // default: auto
  whiteList['display-list'] = true; // default: none
  whiteList['display-outside'] = true; // default: inline-level
  whiteList['dominant-baseline'] = false; // default: auto
  whiteList['elevation'] = false; // default: level
  whiteList['empty-cells'] = false; // default: show
  whiteList['filter'] = false; // default: none
  whiteList['flex'] = false; // default: depending on individual properties
  whiteList['flex-basis'] = false; // default: auto
  whiteList['flex-direction'] = false; // default: row
  whiteList['flex-flow'] = false; // default: depending on individual properties
  whiteList['flex-grow'] = false; // default: 0
  whiteList['flex-shrink'] = false; // default: 1
  whiteList['flex-wrap'] = false; // default: nowrap
  whiteList['float'] = false; // default: none
  whiteList['float-offset'] = false; // default: 0 0
  whiteList['flood-color'] = false; // default: black
  whiteList['flood-opacity'] = false; // default: 1
  whiteList['flow-from'] = false; // default: none
  whiteList['flow-into'] = false; // default: none
  whiteList['font'] = true; // default: depending on individual properties
  whiteList['font-family'] = true; // default: implementation dependent
  whiteList['font-feature-settings'] = true; // default: normal
  whiteList['font-kerning'] = true; // default: auto
  whiteList['font-language-override'] = true; // default: normal
  whiteList['font-size'] = true; // default: medium
  whiteList['font-size-adjust'] = true; // default: none
  whiteList['font-stretch'] = true; // default: normal
  whiteList['font-style'] = true; // default: normal
  whiteList['font-synthesis'] = true; // default: weight style
  whiteList['font-variant'] = true; // default: normal
  whiteList['font-variant-alternates'] = true; // default: normal
  whiteList['font-variant-caps'] = true; // default: normal
  whiteList['font-variant-east-asian'] = true; // default: normal
  whiteList['font-variant-ligatures'] = true; // default: normal
  whiteList['font-variant-numeric'] = true; // default: normal
  whiteList['font-variant-position'] = true; // default: normal
  whiteList['font-weight'] = true; // default: normal
  whiteList['grid'] = false; // default: depending on individual properties
  whiteList['grid-area'] = false; // default: depending on individual properties
  whiteList['grid-auto-columns'] = false; // default: auto
  whiteList['grid-auto-flow'] = false; // default: none
  whiteList['grid-auto-rows'] = false; // default: auto
  whiteList['grid-column'] = false; // default: depending on individual properties
  whiteList['grid-column-end'] = false; // default: auto
  whiteList['grid-column-start'] = false; // default: auto
  whiteList['grid-row'] = false; // default: depending on individual properties
  whiteList['grid-row-end'] = false; // default: auto
  whiteList['grid-row-start'] = false; // default: auto
  whiteList['grid-template'] = false; // default: depending on individual properties
  whiteList['grid-template-areas'] = false; // default: none
  whiteList['grid-template-columns'] = false; // default: none
  whiteList['grid-template-rows'] = false; // default: none
  whiteList['hanging-punctuation'] = false; // default: none
  whiteList['height'] = true; // default: auto
  whiteList['hyphens'] = false; // default: manual
  whiteList['icon'] = false; // default: auto
  whiteList['image-orientation'] = false; // default: auto
  whiteList['image-resolution'] = false; // default: normal
  whiteList['ime-mode'] = false; // default: auto
  whiteList['initial-letters'] = false; // default: normal
  whiteList['inline-box-align'] = false; // default: last
  whiteList['justify-content'] = false; // default: auto
  whiteList['justify-items'] = false; // default: auto
  whiteList['justify-self'] = false; // default: auto
  whiteList['left'] = false; // default: auto
  whiteList['letter-spacing'] = true; // default: normal
  whiteList['lighting-color'] = true; // default: white
  whiteList['line-box-contain'] = false; // default: block inline replaced
  whiteList['line-break'] = false; // default: auto
  whiteList['line-grid'] = false; // default: match-parent
  whiteList['line-height'] = false; // default: normal
  whiteList['line-snap'] = false; // default: none
  whiteList['line-stacking'] = false; // default: depending on individual properties
  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby
  whiteList['line-stacking-shift'] = false; // default: consider-shifts
  whiteList['line-stacking-strategy'] = false; // default: inline-line-height
  whiteList['list-style'] = true; // default: depending on individual properties
  whiteList['list-style-image'] = true; // default: none
  whiteList['list-style-position'] = true; // default: outside
  whiteList['list-style-type'] = true; // default: disc
  whiteList['margin'] = true; // default: depending on individual properties
  whiteList['margin-bottom'] = true; // default: 0
  whiteList['margin-left'] = true; // default: 0
  whiteList['margin-right'] = true; // default: 0
  whiteList['margin-top'] = true; // default: 0
  whiteList['marker-offset'] = false; // default: auto
  whiteList['marker-side'] = false; // default: list-item
  whiteList['marks'] = false; // default: none
  whiteList['mask'] = false; // default: border-box
  whiteList['mask-box'] = false; // default: see individual properties
  whiteList['mask-box-outset'] = false; // default: 0
  whiteList['mask-box-repeat'] = false; // default: stretch
  whiteList['mask-box-slice'] = false; // default: 0 fill
  whiteList['mask-box-source'] = false; // default: none
  whiteList['mask-box-width'] = false; // default: auto
  whiteList['mask-clip'] = false; // default: border-box
  whiteList['mask-image'] = false; // default: none
  whiteList['mask-origin'] = false; // default: border-box
  whiteList['mask-position'] = false; // default: center
  whiteList['mask-repeat'] = false; // default: no-repeat
  whiteList['mask-size'] = false; // default: border-box
  whiteList['mask-source-type'] = false; // default: auto
  whiteList['mask-type'] = false; // default: luminance
  whiteList['max-height'] = true; // default: none
  whiteList['max-lines'] = false; // default: none
  whiteList['max-width'] = true; // default: none
  whiteList['min-height'] = true; // default: 0
  whiteList['min-width'] = true; // default: 0
  whiteList['move-to'] = false; // default: normal
  whiteList['nav-down'] = false; // default: auto
  whiteList['nav-index'] = false; // default: auto
  whiteList['nav-left'] = false; // default: auto
  whiteList['nav-right'] = false; // default: auto
  whiteList['nav-up'] = false; // default: auto
  whiteList['object-fit'] = false; // default: fill
  whiteList['object-position'] = false; // default: 50% 50%
  whiteList['opacity'] = false; // default: 1
  whiteList['order'] = false; // default: 0
  whiteList['orphans'] = false; // default: 2
  whiteList['outline'] = false; // default: depending on individual properties
  whiteList['outline-color'] = false; // default: invert
  whiteList['outline-offset'] = false; // default: 0
  whiteList['outline-style'] = false; // default: none
  whiteList['outline-width'] = false; // default: medium
  whiteList['overflow'] = false; // default: depending on individual properties
  whiteList['overflow-wrap'] = false; // default: normal
  whiteList['overflow-x'] = false; // default: visible
  whiteList['overflow-y'] = false; // default: visible
  whiteList['padding'] = true; // default: depending on individual properties
  whiteList['padding-bottom'] = true; // default: 0
  whiteList['padding-left'] = true; // default: 0
  whiteList['padding-right'] = true; // default: 0
  whiteList['padding-top'] = true; // default: 0
  whiteList['page'] = false; // default: auto
  whiteList['page-break-after'] = false; // default: auto
  whiteList['page-break-before'] = false; // default: auto
  whiteList['page-break-inside'] = false; // default: auto
  whiteList['page-policy'] = false; // default: start
  whiteList['pause'] = false; // default: implementation dependent
  whiteList['pause-after'] = false; // default: implementation dependent
  whiteList['pause-before'] = false; // default: implementation dependent
  whiteList['perspective'] = false; // default: none
  whiteList['perspective-origin'] = false; // default: 50% 50%
  whiteList['pitch'] = false; // default: medium
  whiteList['pitch-range'] = false; // default: 50
  whiteList['play-during'] = false; // default: auto
  whiteList['position'] = false; // default: static
  whiteList['presentation-level'] = false; // default: 0
  whiteList['quotes'] = false; // default: text
  whiteList['region-fragment'] = false; // default: auto
  whiteList['resize'] = false; // default: none
  whiteList['rest'] = false; // default: depending on individual properties
  whiteList['rest-after'] = false; // default: none
  whiteList['rest-before'] = false; // default: none
  whiteList['richness'] = false; // default: 50
  whiteList['right'] = false; // default: auto
  whiteList['rotation'] = false; // default: 0
  whiteList['rotation-point'] = false; // default: 50% 50%
  whiteList['ruby-align'] = false; // default: auto
  whiteList['ruby-merge'] = false; // default: separate
  whiteList['ruby-position'] = false; // default: before
  whiteList['shape-image-threshold'] = false; // default: 0.0
  whiteList['shape-outside'] = false; // default: none
  whiteList['shape-margin'] = false; // default: 0
  whiteList['size'] = false; // default: auto
  whiteList['speak'] = false; // default: auto
  whiteList['speak-as'] = false; // default: normal
  whiteList['speak-header'] = false; // default: once
  whiteList['speak-numeral'] = false; // default: continuous
  whiteList['speak-punctuation'] = false; // default: none
  whiteList['speech-rate'] = false; // default: medium
  whiteList['stress'] = false; // default: 50
  whiteList['string-set'] = false; // default: none
  whiteList['tab-size'] = false; // default: 8
  whiteList['table-layout'] = false; // default: auto
  whiteList['text-align'] = true; // default: start
  whiteList['text-align-last'] = true; // default: auto
  whiteList['text-combine-upright'] = true; // default: none
  whiteList['text-decoration'] = true; // default: none
  whiteList['text-decoration-color'] = true; // default: currentColor
  whiteList['text-decoration-line'] = true; // default: none
  whiteList['text-decoration-skip'] = true; // default: objects
  whiteList['text-decoration-style'] = true; // default: solid
  whiteList['text-emphasis'] = true; // default: depending on individual properties
  whiteList['text-emphasis-color'] = true; // default: currentColor
  whiteList['text-emphasis-position'] = true; // default: over right
  whiteList['text-emphasis-style'] = true; // default: none
  whiteList['text-height'] = true; // default: auto
  whiteList['text-indent'] = true; // default: 0
  whiteList['text-justify'] = true; // default: auto
  whiteList['text-orientation'] = true; // default: mixed
  whiteList['text-overflow'] = true; // default: clip
  whiteList['text-shadow'] = true; // default: none
  whiteList['text-space-collapse'] = true; // default: collapse
  whiteList['text-transform'] = true; // default: none
  whiteList['text-underline-position'] = true; // default: auto
  whiteList['text-wrap'] = true; // default: normal
  whiteList['top'] = false; // default: auto
  whiteList['transform'] = false; // default: none
  whiteList['transform-origin'] = false; // default: 50% 50% 0
  whiteList['transform-style'] = false; // default: flat
  whiteList['transition'] = false; // default: depending on individual properties
  whiteList['transition-delay'] = false; // default: 0s
  whiteList['transition-duration'] = false; // default: 0s
  whiteList['transition-property'] = false; // default: all
  whiteList['transition-timing-function'] = false; // default: ease
  whiteList['unicode-bidi'] = false; // default: normal
  whiteList['vertical-align'] = false; // default: baseline
  whiteList['visibility'] = false; // default: visible
  whiteList['voice-balance'] = false; // default: center
  whiteList['voice-duration'] = false; // default: auto
  whiteList['voice-family'] = false; // default: implementation dependent
  whiteList['voice-pitch'] = false; // default: medium
  whiteList['voice-range'] = false; // default: medium
  whiteList['voice-rate'] = false; // default: normal
  whiteList['voice-stress'] = false; // default: normal
  whiteList['voice-volume'] = false; // default: medium
  whiteList['volume'] = false; // default: medium
  whiteList['white-space'] = false; // default: normal
  whiteList['widows'] = false; // default: 2
  whiteList['width'] = true; // default: auto
  whiteList['will-change'] = false; // default: auto
  whiteList['word-break'] = true; // default: normal
  whiteList['word-spacing'] = true; // default: normal
  whiteList['word-wrap'] = true; // default: normal
  whiteList['wrap-flow'] = false; // default: auto
  whiteList['wrap-through'] = false; // default: wrap
  whiteList['writing-mode'] = false; // default: horizontal-tb
  whiteList['z-index'] = false; // default: auto

  return whiteList;
}


/**
 * 匹配到白名单上的一个属性时
 *
 * @param {String} name
 * @param {String} value
 * @param {Object} options
 * @return {String}
 */
function onAttr (name, value, options) {
  // do nothing
}

/**
 * 匹配到不在白名单上的一个属性时
 *
 * @param {String} name
 * @param {String} value
 * @param {Object} options
 * @return {String}
 */
function onIgnoreAttr (name, value, options) {
  // do nothing
}

var REGEXP_URL_JAVASCRIPT = /javascript\s*\:/img;

/**
 * 过滤属性值
 *
 * @param {String} name
 * @param {String} value
 * @return {String}
 */
function safeAttrValue$1(name, value) {
  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';
  return value;
}


_default.whiteList = getDefaultWhiteList$1();
_default.getDefaultWhiteList = getDefaultWhiteList$1;
_default.onAttr = onAttr;
_default.onIgnoreAttr = onIgnoreAttr;
_default.safeAttrValue = safeAttrValue$1;

var util$1 = {
  indexOf: function (arr, item) {
    var i, j;
    if (Array.prototype.indexOf) {
      return arr.indexOf(item);
    }
    for (i = 0, j = arr.length; i < j; i++) {
      if (arr[i] === item) {
        return i;
      }
    }
    return -1;
  },
  forEach: function (arr, fn, scope) {
    var i, j;
    if (Array.prototype.forEach) {
      return arr.forEach(fn, scope);
    }
    for (i = 0, j = arr.length; i < j; i++) {
      fn.call(scope, arr[i], i, arr);
    }
  },
  trim: function (str) {
    if (String.prototype.trim) {
      return str.trim();
    }
    return str.replace(/(^\s*)|(\s*$)/g, '');
  },
  trimRight: function (str) {
    if (String.prototype.trimRight) {
      return str.trimRight();
    }
    return str.replace(/(\s*$)/g, '');
  }
};

/**
 * cssfilter
 *
 * @author 老雷<leizongmin@gmail.com>
 */

var _$3 = util$1;


/**
 * 解析style
 *
 * @param {String} css
 * @param {Function} onAttr 处理属性的函数
 *   参数格式： function (sourcePosition, position, name, value, source)
 * @return {String}
 */
function parseStyle$1 (css, onAttr) {
  css = _$3.trimRight(css);
  if (css[css.length - 1] !== ';') css += ';';
  var cssLength = css.length;
  var isParenthesisOpen = false;
  var lastPos = 0;
  var i = 0;
  var retCSS = '';

  function addNewAttr () {
    // 如果没有正常的闭合圆括号，则直接忽略当前属性
    if (!isParenthesisOpen) {
      var source = _$3.trim(css.slice(lastPos, i));
      var j = source.indexOf(':');
      if (j !== -1) {
        var name = _$3.trim(source.slice(0, j));
        var value = _$3.trim(source.slice(j + 1));
        // 必须有属性名称
        if (name) {
          var ret = onAttr(lastPos, retCSS.length, name, value, source);
          if (ret) retCSS += ret + '; ';
        }
      }
    }
    lastPos = i + 1;
  }

  for (; i < cssLength; i++) {
    var c = css[i];
    if (c === '/' && css[i + 1] === '*') {
      // 备注开始
      var j = css.indexOf('*/', i + 2);
      // 如果没有正常的备注结束，则后面的部分全部跳过
      if (j === -1) break;
      // 直接将当前位置调到备注结尾，并且初始化状态
      i = j + 1;
      lastPos = i + 1;
      isParenthesisOpen = false;
    } else if (c === '(') {
      isParenthesisOpen = true;
    } else if (c === ')') {
      isParenthesisOpen = false;
    } else if (c === ';') {
      if (isParenthesisOpen) ; else {
        addNewAttr();
      }
    } else if (c === '\n') {
      addNewAttr();
    }
  }

  return _$3.trim(retCSS);
}

var parser$2 = parseStyle$1;

/**
 * cssfilter
 *
 * @author 老雷<leizongmin@gmail.com>
 */

var DEFAULT$1 = _default;
var parseStyle = parser$2;


/**
 * 返回值是否为空
 *
 * @param {Object} obj
 * @return {Boolean}
 */
function isNull$1 (obj) {
  return (obj === undefined || obj === null);
}

/**
 * 浅拷贝对象
 *
 * @param {Object} obj
 * @return {Object}
 */
function shallowCopyObject$1 (obj) {
  var ret = {};
  for (var i in obj) {
    ret[i] = obj[i];
  }
  return ret;
}

/**
 * 创建CSS过滤器
 *
 * @param {Object} options
 *   - {Object} whiteList
 *   - {Function} onAttr
 *   - {Function} onIgnoreAttr
 *   - {Function} safeAttrValue
 */
function FilterCSS$2 (options) {
  options = shallowCopyObject$1(options || {});
  options.whiteList = options.whiteList || DEFAULT$1.whiteList;
  options.onAttr = options.onAttr || DEFAULT$1.onAttr;
  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT$1.onIgnoreAttr;
  options.safeAttrValue = options.safeAttrValue || DEFAULT$1.safeAttrValue;
  this.options = options;
}

FilterCSS$2.prototype.process = function (css) {
  // 兼容各种奇葩输入
  css = css || '';
  css = css.toString();
  if (!css) return '';

  var me = this;
  var options = me.options;
  var whiteList = options.whiteList;
  var onAttr = options.onAttr;
  var onIgnoreAttr = options.onIgnoreAttr;
  var safeAttrValue = options.safeAttrValue;

  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {

    var check = whiteList[name];
    var isWhite = false;
    if (check === true) isWhite = check;
    else if (typeof check === 'function') isWhite = check(value);
    else if (check instanceof RegExp) isWhite = check.test(value);
    if (isWhite !== true) isWhite = false;

    // 如果过滤后 value 为空则直接忽略
    value = safeAttrValue(name, value);
    if (!value) return;

    var opts = {
      position: position,
      sourcePosition: sourcePosition,
      source: source,
      isWhite: isWhite
    };

    if (isWhite) {

      var ret = onAttr(name, value, opts);
      if (isNull$1(ret)) {
        return name + ':' + value;
      } else {
        return ret;
      }

    } else {

      var ret = onIgnoreAttr(name, value, opts);
      if (!isNull$1(ret)) {
        return ret;
      }

    }
  });

  return retCSS;
};


var css = FilterCSS$2;

/**
 * cssfilter
 *
 * @author 老雷<leizongmin@gmail.com>
 */

(function (module, exports) {
	var DEFAULT = _default;
	var FilterCSS = css;


	/**
	 * XSS过滤
	 *
	 * @param {String} css 要过滤的CSS代码
	 * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr
	 * @return {String}
	 */
	function filterCSS (html, options) {
	  var xss = new FilterCSS(options);
	  return xss.process(html);
	}


	// 输出
	exports = module.exports = filterCSS;
	exports.FilterCSS = FilterCSS;
	for (var i in DEFAULT) exports[i] = DEFAULT[i];
} (lib, lib.exports));

var util = {
  indexOf: function (arr, item) {
    var i, j;
    if (Array.prototype.indexOf) {
      return arr.indexOf(item);
    }
    for (i = 0, j = arr.length; i < j; i++) {
      if (arr[i] === item) {
        return i;
      }
    }
    return -1;
  },
  forEach: function (arr, fn, scope) {
    var i, j;
    if (Array.prototype.forEach) {
      return arr.forEach(fn, scope);
    }
    for (i = 0, j = arr.length; i < j; i++) {
      fn.call(scope, arr[i], i, arr);
    }
  },
  trim: function (str) {
    if (String.prototype.trim) {
      return str.trim();
    }
    return str.replace(/(^\s*)|(\s*$)/g, "");
  },
  spaceIndex: function (str) {
    var reg = /\s|\n|\t/;
    var match = reg.exec(str);
    return match ? match.index : -1;
  },
};

/**
 * default settings
 *
 * @author Zongmin Lei<leizongmin@gmail.com>
 */

var FilterCSS$1 = lib.exports.FilterCSS;
var getDefaultCSSWhiteList = lib.exports.getDefaultWhiteList;
var _$2 = util;

function getDefaultWhiteList() {
  return {
    a: ["target", "href", "title"],
    abbr: ["title"],
    address: [],
    area: ["shape", "coords", "href", "alt"],
    article: [],
    aside: [],
    audio: [
      "autoplay",
      "controls",
      "crossorigin",
      "loop",
      "muted",
      "preload",
      "src",
    ],
    b: [],
    bdi: ["dir"],
    bdo: ["dir"],
    big: [],
    blockquote: ["cite"],
    br: [],
    caption: [],
    center: [],
    cite: [],
    code: [],
    col: ["align", "valign", "span", "width"],
    colgroup: ["align", "valign", "span", "width"],
    dd: [],
    del: ["datetime"],
    details: ["open"],
    div: [],
    dl: [],
    dt: [],
    em: [],
    figcaption: [],
    figure: [],
    font: ["color", "size", "face"],
    footer: [],
    h1: [],
    h2: [],
    h3: [],
    h4: [],
    h5: [],
    h6: [],
    header: [],
    hr: [],
    i: [],
    img: ["src", "alt", "title", "width", "height"],
    ins: ["datetime"],
    li: [],
    mark: [],
    nav: [],
    ol: [],
    p: [],
    pre: [],
    s: [],
    section: [],
    small: [],
    span: [],
    sub: [],
    summary: [],
    sup: [],
    strong: [],
    strike: [],
    table: ["width", "border", "align", "valign"],
    tbody: ["align", "valign"],
    td: ["width", "rowspan", "colspan", "align", "valign"],
    tfoot: ["align", "valign"],
    th: ["width", "rowspan", "colspan", "align", "valign"],
    thead: ["align", "valign"],
    tr: ["rowspan", "align", "valign"],
    tt: [],
    u: [],
    ul: [],
    video: [
      "autoplay",
      "controls",
      "crossorigin",
      "loop",
      "muted",
      "playsinline",
      "poster",
      "preload",
      "src",
      "height",
      "width",
    ],
  };
}

var defaultCSSFilter = new FilterCSS$1();

/**
 * default onTag function
 *
 * @param {String} tag
 * @param {String} html
 * @param {Object} options
 * @return {String}
 */
function onTag(tag, html, options) {
  // do nothing
}

/**
 * default onIgnoreTag function
 *
 * @param {String} tag
 * @param {String} html
 * @param {Object} options
 * @return {String}
 */
function onIgnoreTag(tag, html, options) {
  // do nothing
}

/**
 * default onTagAttr function
 *
 * @param {String} tag
 * @param {String} name
 * @param {String} value
 * @return {String}
 */
function onTagAttr(tag, name, value) {
  // do nothing
}

/**
 * default onIgnoreTagAttr function
 *
 * @param {String} tag
 * @param {String} name
 * @param {String} value
 * @return {String}
 */
function onIgnoreTagAttr(tag, name, value) {
  // do nothing
}

/**
 * default escapeHtml function
 *
 * @param {String} html
 */
function escapeHtml(html) {
  return html.replace(REGEXP_LT, "&lt;").replace(REGEXP_GT, "&gt;");
}

/**
 * default safeAttrValue function
 *
 * @param {String} tag
 * @param {String} name
 * @param {String} value
 * @param {Object} cssFilter
 * @return {String}
 */
function safeAttrValue(tag, name, value, cssFilter) {
  // unescape attribute value firstly
  value = friendlyAttrValue(value);

  if (name === "href" || name === "src") {
    // filter `href` and `src` attribute
    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`
    value = _$2.trim(value);
    if (value === "#") return "#";
    if (
      !(
        value.substr(0, 7) === "http://" ||
        value.substr(0, 8) === "https://" ||
        value.substr(0, 7) === "mailto:" ||
        value.substr(0, 4) === "tel:" ||
        value.substr(0, 11) === "data:image/" ||
        value.substr(0, 6) === "ftp://" ||
        value.substr(0, 2) === "./" ||
        value.substr(0, 3) === "../" ||
        value[0] === "#" ||
        value[0] === "/"
      )
    ) {
      return "";
    }
  } else if (name === "background") {
    // filter `background` attribute (maybe no use)
    // `javascript:`
    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;
    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {
      return "";
    }
  } else if (name === "style") {
    // `expression()`
    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;
    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {
      return "";
    }
    // `url()`
    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;
    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {
      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;
      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {
        return "";
      }
    }
    if (cssFilter !== false) {
      cssFilter = cssFilter || defaultCSSFilter;
      value = cssFilter.process(value);
    }
  }

  // escape `<>"` before returns
  value = escapeAttrValue(value);
  return value;
}

// RegExp list
var REGEXP_LT = /</g;
var REGEXP_GT = />/g;
var REGEXP_QUOTE = /"/g;
var REGEXP_QUOTE_2 = /&quot;/g;
var REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;
var REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;
var REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;
// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\/\*|\*\//gm;
var REGEXP_DEFAULT_ON_TAG_ATTR_4 =
  /((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi;
// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\s"'`]*(d\s*a\s*t\s*a\s*)\:/gi;
// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\s"'`]*(d\s*a\s*t\s*a\s*)\:\s*image\//gi;
var REGEXP_DEFAULT_ON_TAG_ATTR_7 =
  /e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi;
var REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\s*r\s*l\s*\(.*/gi;

/**
 * escape double quote
 *
 * @param {String} str
 * @return {String} str
 */
function escapeQuote(str) {
  return str.replace(REGEXP_QUOTE, "&quot;");
}

/**
 * unescape double quote
 *
 * @param {String} str
 * @return {String} str
 */
function unescapeQuote(str) {
  return str.replace(REGEXP_QUOTE_2, '"');
}

/**
 * escape html entities
 *
 * @param {String} str
 * @return {String}
 */
function escapeHtmlEntities(str) {
  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {
    return code[0] === "x" || code[0] === "X"
      ? String.fromCharCode(parseInt(code.substr(1), 16))
      : String.fromCharCode(parseInt(code, 10));
  });
}

/**
 * escape html5 new danger entities
 *
 * @param {String} str
 * @return {String}
 */
function escapeDangerHtml5Entities(str) {
  return str
    .replace(REGEXP_ATTR_VALUE_COLON, ":")
    .replace(REGEXP_ATTR_VALUE_NEWLINE, " ");
}

/**
 * clear nonprintable characters
 *
 * @param {String} str
 * @return {String}
 */
function clearNonPrintableCharacter(str) {
  var str2 = "";
  for (var i = 0, len = str.length; i < len; i++) {
    str2 += str.charCodeAt(i) < 32 ? " " : str.charAt(i);
  }
  return _$2.trim(str2);
}

/**
 * get friendly attribute value
 *
 * @param {String} str
 * @return {String}
 */
function friendlyAttrValue(str) {
  str = unescapeQuote(str);
  str = escapeHtmlEntities(str);
  str = escapeDangerHtml5Entities(str);
  str = clearNonPrintableCharacter(str);
  return str;
}

/**
 * unescape attribute value
 *
 * @param {String} str
 * @return {String}
 */
function escapeAttrValue(str) {
  str = escapeQuote(str);
  str = escapeHtml(str);
  return str;
}

/**
 * `onIgnoreTag` function for removing all the tags that are not in whitelist
 */
function onIgnoreTagStripAll() {
  return "";
}

/**
 * remove tag body
 * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)
 *
 * @param {array} tags
 * @param {function} next
 */
function StripTagBody(tags, next) {
  if (typeof next !== "function") {
    next = function () {};
  }

  var isRemoveAllTag = !Array.isArray(tags);
  function isRemoveTag(tag) {
    if (isRemoveAllTag) return true;
    return _$2.indexOf(tags, tag) !== -1;
  }

  var removeList = [];
  var posStart = false;

  return {
    onIgnoreTag: function (tag, html, options) {
      if (isRemoveTag(tag)) {
        if (options.isClosing) {
          var ret = "[/removed]";
          var end = options.position + ret.length;
          removeList.push([
            posStart !== false ? posStart : options.position,
            end,
          ]);
          posStart = false;
          return ret;
        } else {
          if (!posStart) {
            posStart = options.position;
          }
          return "[removed]";
        }
      } else {
        return next(tag, html, options);
      }
    },
    remove: function (html) {
      var rethtml = "";
      var lastPos = 0;
      _$2.forEach(removeList, function (pos) {
        rethtml += html.slice(lastPos, pos[0]);
        lastPos = pos[1];
      });
      rethtml += html.slice(lastPos);
      return rethtml;
    },
  };
}

/**
 * remove html comments
 *
 * @param {String} html
 * @return {String}
 */
function stripCommentTag(html) {
  var retHtml = "";
  var lastPos = 0;
  while (lastPos < html.length) {
    var i = html.indexOf("<!--", lastPos);
    if (i === -1) {
      retHtml += html.slice(lastPos);
      break;
    }
    retHtml += html.slice(lastPos, i);
    var j = html.indexOf("-->", i);
    if (j === -1) {
      break;
    }
    lastPos = j + 3;
  }
  return retHtml;
}

/**
 * remove invisible characters
 *
 * @param {String} html
 * @return {String}
 */
function stripBlankChar(html) {
  var chars = html.split("");
  chars = chars.filter(function (char) {
    var c = char.charCodeAt(0);
    if (c === 127) return false;
    if (c <= 31) {
      if (c === 10 || c === 13) return true;
      return false;
    }
    return true;
  });
  return chars.join("");
}

_default$1.whiteList = getDefaultWhiteList();
_default$1.getDefaultWhiteList = getDefaultWhiteList;
_default$1.onTag = onTag;
_default$1.onIgnoreTag = onIgnoreTag;
_default$1.onTagAttr = onTagAttr;
_default$1.onIgnoreTagAttr = onIgnoreTagAttr;
_default$1.safeAttrValue = safeAttrValue;
_default$1.escapeHtml = escapeHtml;
_default$1.escapeQuote = escapeQuote;
_default$1.unescapeQuote = unescapeQuote;
_default$1.escapeHtmlEntities = escapeHtmlEntities;
_default$1.escapeDangerHtml5Entities = escapeDangerHtml5Entities;
_default$1.clearNonPrintableCharacter = clearNonPrintableCharacter;
_default$1.friendlyAttrValue = friendlyAttrValue;
_default$1.escapeAttrValue = escapeAttrValue;
_default$1.onIgnoreTagStripAll = onIgnoreTagStripAll;
_default$1.StripTagBody = StripTagBody;
_default$1.stripCommentTag = stripCommentTag;
_default$1.stripBlankChar = stripBlankChar;
_default$1.cssFilter = defaultCSSFilter;
_default$1.getDefaultCSSWhiteList = getDefaultCSSWhiteList;

var parser$1 = {};

/**
 * Simple HTML Parser
 *
 * @author Zongmin Lei<leizongmin@gmail.com>
 */

var _$1 = util;

/**
 * get tag name
 *
 * @param {String} html e.g. '<a hef="#">'
 * @return {String}
 */
function getTagName(html) {
  var i = _$1.spaceIndex(html);
  var tagName;
  if (i === -1) {
    tagName = html.slice(1, -1);
  } else {
    tagName = html.slice(1, i + 1);
  }
  tagName = _$1.trim(tagName).toLowerCase();
  if (tagName.slice(0, 1) === "/") tagName = tagName.slice(1);
  if (tagName.slice(-1) === "/") tagName = tagName.slice(0, -1);
  return tagName;
}

/**
 * is close tag?
 *
 * @param {String} html 如：'<a hef="#">'
 * @return {Boolean}
 */
function isClosing(html) {
  return html.slice(0, 2) === "</";
}

/**
 * parse input html and returns processed html
 *
 * @param {String} html
 * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)
 * @param {Function} escapeHtml
 * @return {String}
 */
function parseTag$1(html, onTag, escapeHtml) {

  var rethtml = "";
  var lastPos = 0;
  var tagStart = false;
  var quoteStart = false;
  var currentPos = 0;
  var len = html.length;
  var currentTagName = "";
  var currentHtml = "";

  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {
    var c = html.charAt(currentPos);
    if (tagStart === false) {
      if (c === "<") {
        tagStart = currentPos;
        continue;
      }
    } else {
      if (quoteStart === false) {
        if (c === "<") {
          rethtml += escapeHtml(html.slice(lastPos, currentPos));
          tagStart = currentPos;
          lastPos = currentPos;
          continue;
        }
        if (c === ">") {
          rethtml += escapeHtml(html.slice(lastPos, tagStart));
          currentHtml = html.slice(tagStart, currentPos + 1);
          currentTagName = getTagName(currentHtml);
          rethtml += onTag(
            tagStart,
            rethtml.length,
            currentTagName,
            currentHtml,
            isClosing(currentHtml)
          );
          lastPos = currentPos + 1;
          tagStart = false;
          continue;
        }
        if (c === '"' || c === "'") {
          var i = 1;
          var ic = html.charAt(currentPos - i);

          while (ic.trim() === "" || ic === "=") {
            if (ic === "=") {
              quoteStart = c;
              continue chariterator;
            }
            ic = html.charAt(currentPos - ++i);
          }
        }
      } else {
        if (c === quoteStart) {
          quoteStart = false;
          continue;
        }
      }
    }
  }
  if (lastPos < html.length) {
    rethtml += escapeHtml(html.substr(lastPos));
  }

  return rethtml;
}

var REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\_:.-]/gim;

/**
 * parse input attributes and returns processed attributes
 *
 * @param {String} html e.g. `href="#" target="_blank"`
 * @param {Function} onAttr e.g. `function (name, value)`
 * @return {String}
 */
function parseAttr$1(html, onAttr) {

  var lastPos = 0;
  var lastMarkPos = 0;
  var retAttrs = [];
  var tmpName = false;
  var len = html.length;

  function addAttr(name, value) {
    name = _$1.trim(name);
    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, "").toLowerCase();
    if (name.length < 1) return;
    var ret = onAttr(name, value || "");
    if (ret) retAttrs.push(ret);
  }

  // 逐个分析字符
  for (var i = 0; i < len; i++) {
    var c = html.charAt(i);
    var v, j;
    if (tmpName === false && c === "=") {
      tmpName = html.slice(lastPos, i);
      lastPos = i + 1;
      lastMarkPos = html.charAt(lastPos) === '"' || html.charAt(lastPos) === "'" ? lastPos : findNextQuotationMark(html, i + 1);
      continue;
    }
    if (tmpName !== false) {
      if (
        i === lastMarkPos
      ) {
        j = html.indexOf(c, i + 1);
        if (j === -1) {
          break;
        } else {
          v = _$1.trim(html.slice(lastMarkPos + 1, j));
          addAttr(tmpName, v);
          tmpName = false;
          i = j;
          lastPos = i + 1;
          continue;
        }
      }
    }
    if (/\s|\n|\t/.test(c)) {
      html = html.replace(/\s|\n|\t/g, " ");
      if (tmpName === false) {
        j = findNextEqual(html, i);
        if (j === -1) {
          v = _$1.trim(html.slice(lastPos, i));
          addAttr(v);
          tmpName = false;
          lastPos = i + 1;
          continue;
        } else {
          i = j - 1;
          continue;
        }
      } else {
        j = findBeforeEqual(html, i - 1);
        if (j === -1) {
          v = _$1.trim(html.slice(lastPos, i));
          v = stripQuoteWrap(v);
          addAttr(tmpName, v);
          tmpName = false;
          lastPos = i + 1;
          continue;
        } else {
          continue;
        }
      }
    }
  }

  if (lastPos < html.length) {
    if (tmpName === false) {
      addAttr(html.slice(lastPos));
    } else {
      addAttr(tmpName, stripQuoteWrap(_$1.trim(html.slice(lastPos))));
    }
  }

  return _$1.trim(retAttrs.join(" "));
}

function findNextEqual(str, i) {
  for (; i < str.length; i++) {
    var c = str[i];
    if (c === " ") continue;
    if (c === "=") return i;
    return -1;
  }
}

function findNextQuotationMark(str, i) {
  for (; i < str.length; i++) {
    var c = str[i];
    if (c === " ") continue;
    if (c === "'" || c === '"') return i;
    return -1;
  }
}

function findBeforeEqual(str, i) {
  for (; i > 0; i--) {
    var c = str[i];
    if (c === " ") continue;
    if (c === "=") return i;
    return -1;
  }
}

function isQuoteWrapString(text) {
  if (
    (text[0] === '"' && text[text.length - 1] === '"') ||
    (text[0] === "'" && text[text.length - 1] === "'")
  ) {
    return true;
  } else {
    return false;
  }
}

function stripQuoteWrap(text) {
  if (isQuoteWrapString(text)) {
    return text.substr(1, text.length - 2);
  } else {
    return text;
  }
}

parser$1.parseTag = parseTag$1;
parser$1.parseAttr = parseAttr$1;

/**
 * filter xss
 *
 * @author Zongmin Lei<leizongmin@gmail.com>
 */

var FilterCSS = lib.exports.FilterCSS;
var DEFAULT = _default$1;
var parser = parser$1;
var parseTag = parser.parseTag;
var parseAttr = parser.parseAttr;
var _ = util;

/**
 * returns `true` if the input value is `undefined` or `null`
 *
 * @param {Object} obj
 * @return {Boolean}
 */
function isNull(obj) {
  return obj === undefined || obj === null;
}

/**
 * get attributes for a tag
 *
 * @param {String} html
 * @return {Object}
 *   - {String} html
 *   - {Boolean} closing
 */
function getAttrs(html) {
  var i = _.spaceIndex(html);
  if (i === -1) {
    return {
      html: "",
      closing: html[html.length - 2] === "/",
    };
  }
  html = _.trim(html.slice(i + 1, -1));
  var isClosing = html[html.length - 1] === "/";
  if (isClosing) html = _.trim(html.slice(0, -1));
  return {
    html: html,
    closing: isClosing,
  };
}

/**
 * shallow copy
 *
 * @param {Object} obj
 * @return {Object}
 */
function shallowCopyObject(obj) {
  var ret = {};
  for (var i in obj) {
    ret[i] = obj[i];
  }
  return ret;
}

function keysToLowerCase(obj) {
  var ret = {};
  for (var i in obj) {
    if (Array.isArray(obj[i])) {
      ret[i.toLowerCase()] = obj[i].map(function (item) {
        return item.toLowerCase();
      });
    } else {
      ret[i.toLowerCase()] = obj[i];
    }
  }
  return ret;
}

/**
 * FilterXSS class
 *
 * @param {Object} options
 *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,
 *        onIgnoreTagAttr, safeAttrValue, escapeHtml
 *        stripIgnoreTagBody, allowCommentTag, stripBlankChar
 *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`
 */
function FilterXSS(options) {
  options = shallowCopyObject(options || {});

  if (options.stripIgnoreTag) {
    if (options.onIgnoreTag) {
      console.error(
        'Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'
      );
    }
    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;
  }
  if (options.whiteList || options.allowList) {
    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);
  } else {
    options.whiteList = DEFAULT.whiteList;
  }

  options.onTag = options.onTag || DEFAULT.onTag;
  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;
  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;
  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;
  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;
  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;
  this.options = options;

  if (options.css === false) {
    this.cssFilter = false;
  } else {
    options.css = options.css || {};
    this.cssFilter = new FilterCSS(options.css);
  }
}

/**
 * start process and returns result
 *
 * @param {String} html
 * @return {String}
 */
FilterXSS.prototype.process = function (html) {
  // compatible with the input
  html = html || "";
  html = html.toString();
  if (!html) return "";

  var me = this;
  var options = me.options;
  var whiteList = options.whiteList;
  var onTag = options.onTag;
  var onIgnoreTag = options.onIgnoreTag;
  var onTagAttr = options.onTagAttr;
  var onIgnoreTagAttr = options.onIgnoreTagAttr;
  var safeAttrValue = options.safeAttrValue;
  var escapeHtml = options.escapeHtml;
  var cssFilter = me.cssFilter;

  // remove invisible characters
  if (options.stripBlankChar) {
    html = DEFAULT.stripBlankChar(html);
  }

  // remove html comments
  if (!options.allowCommentTag) {
    html = DEFAULT.stripCommentTag(html);
  }

  // if enable stripIgnoreTagBody
  var stripIgnoreTagBody = false;
  if (options.stripIgnoreTagBody) {
    stripIgnoreTagBody = DEFAULT.StripTagBody(
      options.stripIgnoreTagBody,
      onIgnoreTag
    );
    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;
  }

  var retHtml = parseTag(
    html,
    function (sourcePosition, position, tag, html, isClosing) {
      var info = {
        sourcePosition: sourcePosition,
        position: position,
        isClosing: isClosing,
        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),
      };

      // call `onTag()`
      var ret = onTag(tag, html, info);
      if (!isNull(ret)) return ret;

      if (info.isWhite) {
        if (info.isClosing) {
          return "</" + tag + ">";
        }

        var attrs = getAttrs(html);
        var whiteAttrList = whiteList[tag];
        var attrsHtml = parseAttr(attrs.html, function (name, value) {
          // call `onTagAttr()`
          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;
          var ret = onTagAttr(tag, name, value, isWhiteAttr);
          if (!isNull(ret)) return ret;

          if (isWhiteAttr) {
            // call `safeAttrValue()`
            value = safeAttrValue(tag, name, value, cssFilter);
            if (value) {
              return name + '="' + value + '"';
            } else {
              return name;
            }
          } else {
            // call `onIgnoreTagAttr()`
            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);
            if (!isNull(ret)) return ret;
            return;
          }
        });

        // build new tag html
        html = "<" + tag;
        if (attrsHtml) html += " " + attrsHtml;
        if (attrs.closing) html += " /";
        html += ">";
        return html;
      } else {
        // call `onIgnoreTag()`
        ret = onIgnoreTag(tag, html, info);
        if (!isNull(ret)) return ret;
        return escapeHtml(html);
      }
    },
    escapeHtml
  );

  // if enable stripIgnoreTagBody
  if (stripIgnoreTagBody) {
    retHtml = stripIgnoreTagBody.remove(retHtml);
  }

  return retHtml;
};

var xss = FilterXSS;

/**
 * xss
 *
 * @author Zongmin Lei<leizongmin@gmail.com>
 */

(function (module, exports) {
	var DEFAULT = _default$1;
	var parser = parser$1;
	var FilterXSS = xss;

	/**
	 * filter xss function
	 *
	 * @param {String} html
	 * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }
	 * @return {String}
	 */
	function filterXSS(html, options) {
	  var xss = new FilterXSS(options);
	  return xss.process(html);
	}

	exports = module.exports = filterXSS;
	exports.filterXSS = filterXSS;
	exports.FilterXSS = FilterXSS;

	(function () {
	  for (var i in DEFAULT) {
	    exports[i] = DEFAULT[i];
	  }
	  for (var j in parser) {
	    exports[j] = parser[j];
	  }
	})();

	// using `xss` on the WebWorker, output `filterXSS` to the globals
	function isWorkerEnv() {
	  return (
	    typeof self !== "undefined" &&
	    typeof DedicatedWorkerGlobalScope !== "undefined" &&
	    self instanceof DedicatedWorkerGlobalScope
	  );
	}
	if (isWorkerEnv()) {
	  self.filterXSS = module.exports;
	}
} (lib$1, lib$1.exports));

/* Copyright (c) 2020 Environmental Systems Research Institute, Inc.
 * Apache-2.0
 *
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * The MIT License, see
 * https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * */
/**
 * The Sanitizer Class
 *
 * @export
 * @class Sanitizer
 */
var Sanitizer = /** @class */ (function () {
    function Sanitizer(filterOptions, extendDefaults) {
        var _this = this;
        // Supported HTML Spec: https://doc.arcgis.com/en/arcgis-online/reference/supported-html.htm
        this.arcgisWhiteList = {
            a: ["href", "style", "target"],
            abbr: ["title"],
            audio: ["autoplay", "controls", "loop", "muted", "preload"],
            b: [],
            br: [],
            dd: ["style"],
            div: ["align", "style"],
            dl: ["style"],
            dt: ["style"],
            em: [],
            figcaption: ["style"],
            figure: ["style"],
            font: ["color", "face", "size", "style"],
            h1: ["style"],
            h2: ["style"],
            h3: ["style"],
            h4: ["style"],
            h5: ["style"],
            h6: ["style"],
            hr: [],
            i: [],
            img: ["alt", "border", "height", "src", "style", "width"],
            li: [],
            ol: [],
            p: ["style"],
            source: ["media", "src", "type"],
            span: ["style"],
            strong: [],
            sub: ["style"],
            sup: ["style"],
            table: ["border", "cellpadding", "cellspacing", "height", "style", "width"],
            tbody: [],
            tr: ["align", "height", "style", "valign"],
            td: [
                "align",
                "colspan",
                "height",
                "nowrap",
                "rowspan",
                "style",
                "valign",
                "width",
            ],
            th: [
                "align",
                "colspan",
                "height",
                "nowrap",
                "rowspan",
                "style",
                "valign",
                "width",
            ],
            u: [],
            ul: [],
            video: [
                "autoplay",
                "controls",
                "height",
                "loop",
                "muted",
                "poster",
                "preload",
                "width",
            ],
        };
        this.allowedProtocols = [
            "http",
            "https",
            "mailto",
            "iform",
            "tel",
            "flow",
            "lfmobile",
            "arcgis-navigator",
            "arcgis-appstudio-player",
            "arcgis-survey123",
            "arcgis-collector",
            "arcgis-workforce",
            "arcgis-explorer",
            "arcgis-trek2there",
            "arcgis-quickcapture",
            "mspbi",
            "comgooglemaps",
            "pdfefile",
            "pdfehttp",
            "pdfehttps",
            "boxapp",
            "boxemm",
            "awb",
            "awbs",
            "gropen",
            "radarscope",
        ];
        this.arcgisFilterOptions = {
            allowCommentTag: true,
            safeAttrValue: function (tag, name, value, cssFilter) {
                // Take over safe attribute filtering for `a` `href`, `img` `src`,
                // and `source` `src` attributes, otherwise pass onto the
                // default `XSS.safeAttrValue` method.
                if ((tag === "a" && name === "href") ||
                    ((tag === "img" || tag === "source") && name === "src")) {
                    return _this.sanitizeUrl(value);
                }
                return lib$1.exports.safeAttrValue(tag, name, value, cssFilter);
            },
        };
        this._entityMap = {
            "&": "&#x38;",
            "<": "&#x3C;",
            ">": "&#x3E;",
            '"': "&#x22;",
            "'": "&#x27;",
            "/": "&#x2F;",
        };
        var xssFilterOptions;
        if (filterOptions && !extendDefaults) {
            // Override the defaults
            xssFilterOptions = filterOptions;
        }
        else if (filterOptions && extendDefaults) {
            // Extend the defaults
            xssFilterOptions = Object.create(this.arcgisFilterOptions);
            Object.keys(filterOptions).forEach(function (key) {
                if (key === "whiteList") {
                    // Extend the whitelist by concatenating arrays
                    xssFilterOptions.whiteList = _this._extendObjectOfArrays([
                        _this.arcgisWhiteList,
                        filterOptions.whiteList || {},
                    ]);
                }
                else {
                    xssFilterOptions[key] = filterOptions[key];
                }
            });
        }
        else {
            // Only use the defaults
            xssFilterOptions = Object.create(this.arcgisFilterOptions);
            xssFilterOptions.whiteList = this.arcgisWhiteList;
        }
        this.xssFilterOptions = xssFilterOptions;
        // Make this readable to tests
        this._xssFilter = new lib$1.exports.FilterXSS(xssFilterOptions);
    }
    /**
     * Sanitizes value to remove invalid HTML tags.
     *
     * Note: If the value passed does not contain a valid JSON data type (String,
     * Number, JSON Object, Array, Boolean, or null), the value will be nullified.
     *
     * @param {any} value The value to sanitize.
     * @returns {any} The sanitized value.
     * @memberof Sanitizer
     */
    Sanitizer.prototype.sanitize = function (value, options) {
        if (options === void 0) { options = {}; }
        switch (typeof value) {
            case "number":
                if (isNaN(value) || !isFinite(value)) {
                    return null;
                }
                return value;
            case "boolean":
                return value;
            case "string":
                return this._xssFilter.process(value);
            case "object":
                return this._iterateOverObject(value, options);
            default:
                if (options.allowUndefined && typeof value === "undefined") {
                    return;
                }
                return null;
        }
    };
    /**
     * Sanitizes a URL string following the allowed protocols and sanitization rules.
     *
     * @param {string} value The URL to sanitize.
     * @param {{ isProtocolRequired: boolean }} options Configuration options for URL checking.
     * @returns {string} The sanitized URL if it's valid, or an empty string if the URL is invalid.
     */
    Sanitizer.prototype.sanitizeUrl = function (value, options) {
        var _a = (options !== null && options !== void 0 ? options : {}).isProtocolRequired, isProtocolRequired = _a === void 0 ? true : _a;
        var protocol = this._trim(value.substring(0, value.indexOf(":")));
        var isRootUrl = value === '/';
        var isUrlFragment = /^#/.test(value);
        var isValidProtocol = protocol && this.allowedProtocols.indexOf(protocol.toLowerCase()) > -1;
        if (isRootUrl || isUrlFragment || isValidProtocol) {
            return lib$1.exports.escapeAttrValue(value);
        }
        if (!protocol && !isProtocolRequired) {
            return lib$1.exports.escapeAttrValue("https://".concat(value));
        }
        return "";
    };
    /**
     * Sanitizes an HTML attribute value.
     *
     * @param {string} tag The tagname of the HTML element.
     * @param {string} attribute The attribute name of the HTML element.
     * @param {string} value The raw value to be used for the HTML attribute value.
     * @param {XSS.ICSSFilter} [cssFilter] The CSS filter to be used.
     * @returns {string} The sanitized attribute value.
     * @memberof Sanitizer
     */
    Sanitizer.prototype.sanitizeHTMLAttribute = function (tag, attribute, value, cssFilter) {
        // use the custom safeAttrValue function if provided
        if (typeof this.xssFilterOptions.safeAttrValue === "function") {
            return this.xssFilterOptions.safeAttrValue(tag, attribute, value, 
            // @ts-expect-error safeAttrValue does handle undefined cssFilter
            cssFilter);
        }
        // otherwise use the default
        // @ts-ignore safeAttrValue does handle undefined cssFilter
        return lib$1.exports.safeAttrValue(tag, attribute, value, cssFilter);
    };
    /**
     * Checks if a value only contains valid HTML.
     *
     * @param {any} value The value to validate.
     * @returns {boolean}
     * @memberof Sanitizer
     */
    Sanitizer.prototype.validate = function (value, options) {
        if (options === void 0) { options = {}; }
        var sanitized = this.sanitize(value, options);
        return {
            isValid: value === sanitized,
            sanitized: sanitized,
        };
    };
    /**
     * Encodes the following characters, `& < > \" ' /` to their hexadecimal HTML entity code.
     * Example: "&middot;" => "&#x38;middot;"
     *
     * @param {string} value The value to encode.
     * @returns {string} The encoded string value.
     * @memberof Sanitizer
     */
    Sanitizer.prototype.encodeHTML = function (value) {
        var _this = this;
        return String(value).replace(/[&<>"'\/]/g, function (s) {
            return _this._entityMap[s];
        });
    };
    /**
     * Encodes all non-alphanumeric ASCII characters to their hexadecimal HTML entity codes.
     * Example: "alert(document.cookie)" => "alert&#x28;document&#x2e;cookie&#x29;"
     *
     * @param {string} value The value to encode.
     * @returns {string} The encoded string value.
     * @memberof Sanitizer
     */
    Sanitizer.prototype.encodeAttrValue = function (value) {
        var alphanumericRE = /^[a-zA-Z0-9]$/;
        return String(value).replace(/[\x00-\xFF]/g, function (c, idx) {
            return !alphanumericRE.test(c)
                ? "&#x".concat(Number(value.charCodeAt(idx)).toString(16), ";")
                : c;
        });
    };
    /**
     * Extends an object of arrays by by concatenating arrays of the same object
     * keys. If the if the previous key's value is not an array, the next key's
     * value will replace the previous key. This method is used for extending the
     * whiteList in the XSS filter options.
     *
     * @private
     * @param {Array<{}>} objects An array of objects.
     * @returns {{}} The extended object.
     * @memberof Sanitizer
     */
    Sanitizer.prototype._extendObjectOfArrays = function (objects) {
        var finalObj = {};
        objects.forEach(function (obj) {
            Object.keys(obj).forEach(function (key) {
                if (Array.isArray(obj[key]) && Array.isArray(finalObj[key])) {
                    finalObj[key] = finalObj[key].concat(obj[key]);
                }
                else {
                    finalObj[key] = obj[key];
                }
            });
        });
        return finalObj;
    };
    /**
     * Iterate over a plain object or array to deeply sanitize each value.
     *
     * @private
     * @param {object} obj The object to iterate over.
     * @returns {(object | null)} The sanitized object.
     * @memberof Sanitizer
     */
    Sanitizer.prototype._iterateOverObject = function (obj, options) {
        var _this = this;
        if (options === void 0) { options = {}; }
        try {
            var hasChanged_1 = false;
            var changedObj = void 0;
            if (Array.isArray(obj)) {
                changedObj = obj.reduce(function (prev, value) {
                    var validation = _this.validate(value, options);
                    if (validation.isValid) {
                        return prev.concat([value]);
                    }
                    else {
                        hasChanged_1 = true;
                        return prev.concat([validation.sanitized]);
                    }
                }, []);
            }
            else if (!isPlainObject(obj)) {
                if (options.allowUndefined && typeof obj === "undefined") {
                    return;
                }
                return null;
            }
            else {
                var keys = Object.keys(obj);
                changedObj = keys.reduce(function (prev, key) {
                    var value = obj[key];
                    var validation = _this.validate(value, options);
                    if (validation.isValid) {
                        prev[key] = value;
                    }
                    else {
                        hasChanged_1 = true;
                        prev[key] = validation.sanitized;
                    }
                    return prev;
                }, {});
            }
            if (hasChanged_1) {
                return changedObj;
            }
            return obj;
        }
        catch (err) {
            return null;
        }
    };
    /**
     * Trim whitespace from the start and ends of a string.
     * @param {string} val The string to trim.
     * @returns {string} The trimmed string.
     */
    Sanitizer.prototype._trim = function (val) {
        // @ts-ignore This is used by Jest,
        // but TypeScript errors since it assumes `trim` is always available.
        return String.prototype.trim
            ? val.trim()
            : val.replace(/(^\s*)|(\s*$)/g, "");
    };
    return Sanitizer;
}());

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n$6=new Map;function t$4(){n$6.clear();}function e$8(t){return n$6.get(t)}function c$4(t,e){n$6.set(t,e);}function o$4(t){n$6.delete(t);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f$1=s$E.getLogger("esri.widgets.support.widgetUtils");function m$1(e){const n=t$l.acquire();for(let t=0;t<arguments.length;t++){const e=arguments[t],r=typeof e;if("string"===r)n.push(e);else if(Array.isArray(e))n.push.apply(n,e);else if("object"===r)for(const t in e)e[t]&&n.push(t);}const r=n.join(" ");return t$l.release(n),r}(()=>{const e=new Map,t=new ResizeObserver((t=>{t$4();for(const n of t)e.get(n.target)?.(n);})),r=(r,i,o)=>(e.has(r)&&f$1.error("Already observing element",r),e.set(r,i),t.observe(r,o),e$w((()=>{t.unobserve(r),e.delete(r);})));return (e,t,n)=>{let s=null;return l$4((()=>"function"==typeof e?e():e),(e=>{s?.remove(),e&&(s=r(e,t,n));}),w$1)}})();function L$1(e){const t="data-node-ref";this[e.getAttribute(t)]=e;}const y$1=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup",...["animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"]],E$1=y$1.reduce(((e,t)=>(e[t]=[],e)),{}),A$2=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],j$1=new Sanitizer({whiteList:E$1,onTagAttr:(e,t,n)=>{const r=`${t}="${n}"`;if(A$2.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$3="http://www.w3.org/",r$4=`${t$3}2000/svg`,o$3=`${t$3}1999/xlink`;let i$3=[],n$5=(e,t)=>{let r={};return Object.keys(e).forEach((t=>{r[t]=e[t];})),t&&Object.keys(t).forEach((e=>{r[e]=t[e];})),r},s$5=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),l$1=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},p$4=(e,t,r)=>{if(""!==t.vnodeSelector)for(let o=r;o<e.length;o++)if(s$5(e[o],t))return o;return -1},d$5=(e,t,r,o)=>{let i=e[t];if(""===i.vnodeSelector)return;let n=i.properties;if(!(n?void 0===n.key?n.bind:n.key:void 0))for(let l=0;l<e.length;l++)if(l!==t){let t=e[l];if(s$5(t,i))throw new Error(`${r.vnodeSelector} had a ${i.vnodeSelector} child ${"added"===o?o:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},a$2=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties);}},f=[],c$3=!1,u$1=e=>{(e.children||[]).forEach(u$1),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode]);},m=()=>{c$3=!1,f.forEach(u$1),f.length=0;},h$1=e=>{f.push(e),c$3||(c$3=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(m,{timeout:16}):setTimeout(m,16));},v=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r){t.style.pointerEvents="none";let o=()=>{t.parentNode&&(t.parentNode.removeChild(t),h$1(e));};return void r(t,o,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),h$1(e));},y=(t,i,n)=>{if(!i)return;let s=n.eventHandlerInterceptor,p=Object.keys(i),d=p.length;for(let a=0;a<d;a++){let d=p[a],f=i[d];if("className"===d)throw new Error('Property "className" is not supported, use "class".');if("class"===d)k(t,f,!0);else if("classes"===d){let e=Object.keys(f),r=e.length;for(let o=0;o<r;o++){let r=e[o];f[r]&&t.classList.add(r);}}else if("styles"===d){let e=Object.keys(f),r=e.length;for(let o=0;o<r;o++){let r=e[o],i=f[r];i&&(l$1(i),n.styleApplyer(t,r,i));}}else if("key"!==d&&null!=f){let l=typeof f;"function"===l?(0===d.lastIndexOf("on",0)&&(s&&(f=s(d,f,t,i)),"oninput"===d&&function(){let e=f;f=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value;};}()),t[d]=f):n.namespace===r$4?"href"===d?t.setAttributeNS(o$3,d,f):t.setAttribute(d,f):"string"===l&&"value"!==d?"innerHTML"===d?t[d]=j$1.sanitize(f):g(t)&&d in t?t[d]=f:t.setAttribute(d,f):t[d]=f;}}};function g(e){if(!(e instanceof Element&&e.tagName.includes("-")))return !1;const t=window.customElements.get(e.tagName.toLowerCase());return !!t&&e instanceof t}let N,b$1=(e,t,r)=>{if(t)for(let o of t)x$1(o,e,void 0,r);},w=(e,t,r)=>{b$1(e,t.children,r),t.text&&(e.textContent=t.text),y(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children]);},x$1=(e,t,o,i)=>{let s,l=0,p=e.vnodeSelector,d=t.ownerDocument;if(""===p)s=e.domNode=d.createTextNode(e.text),void 0!==o?t.insertBefore(s,o):t.appendChild(s);else {for(let a=0;a<=p.length;++a){let f=p.charAt(a);if(a===p.length||"."===f||"#"===f){let f=p.charAt(l-1),c=p.slice(l,a);"."===f?s.classList.add(c):"#"===f?s.id=c:("svg"===c&&(i=n$5(i,{namespace:r$4})),void 0!==i.namespace?s=e.domNode=d.createElementNS(i.namespace,c):(s=e.domNode=e.domNode||d.createElement(c),"input"===c&&e.properties&&void 0!==e.properties.type&&s.setAttribute("type",e.properties.type)),void 0!==o?t.insertBefore(s,o):s.parentNode!==t&&t.appendChild(s)),l=a+1;}}w(s,e,i);}},k=(e,t,r)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,r);}));},A$1=(t,i,n,s)=>{if(!n)return;let p=!1,d=Object.keys(n),a=d.length;for(let f=0;f<a;f++){let a=d[f],c=n[a],u=i[a];if("class"===a)u!==c&&(k(t,u,!1),k(t,c,!0));else if("classes"===a){let e=t.classList,r=Object.keys(c),o=r.length;for(let t=0;t<o;t++){let o=r[t],i=!!c[o];i!==!!u[o]&&(p=!0,i?e.add(o):e.remove(o));}}else if("styles"===a){let e=Object.keys(c),r=e.length;for(let o=0;o<r;o++){let r=e[o],i=c[r];i!==u[r]&&(p=!0,i?(l$1(i),s.styleApplyer(t,r,i)):s.styleApplyer(t,r,""));}}else if(c||"string"!=typeof u||(c=""),"value"===a){let e=t[a];e!==c&&(t["oninput-value"]?e===t["oninput-value"]:c!==u)&&(t[a]=c,t["oninput-value"]=void 0),c!==u&&(p=!0);}else if(c!==u){let i=typeof c;"function"===i&&s.eventHandlerInterceptor||(s.namespace===r$4?"href"===a?t.setAttributeNS(o$3,a,c):t.setAttribute(a,c):"string"===i?"innerHTML"===a?t[a]=j$1.sanitize(c):"role"===a&&""===c?t.removeAttribute(a):g(t)&&a in t?t[a]=c:t.setAttribute(a,c):t[a]!==c&&(t[a]=c),p=!0);}}return p},S=(e,t,r,o,n)=>{if(r===o)return !1;o=o||i$3;let l,f=(r=r||i$3).length,c=o.length,u=0,m=0,h=!1;for(;m<c;){let i=u<f?r[u]:void 0,c=o[m];if(void 0!==i&&s$5(i,c))h=N(i,c,n)||h,u++;else {let i=p$4(r,c,u+1);if(i>=0){for(l=u;l<i;l++)v(r[l]),d$5(r,l,e,"removed");h=N(r[i],c,n)||h,u=i+1;}else x$1(c,t,u<f?r[u].domNode:void 0,n),a$2(c),d$5(o,m,e,"added");}m++;}if(f>u)for(l=u;l<f;l++)v(r[l]),d$5(r,l,e,"removed");return h};N=(e,t,o)=>{let i=e.domNode,s=!1;if(e===t)return !1;let l=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(e,i),t.domNode=e,s=!0,s}t.domNode=i;}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(o=n$5(o,{namespace:r$4})),e.text!==t.text&&(l=!0,void 0===t.text?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,l=S(t,i,e.children,t.children,o)||l,l=A$1(i,e.properties,t.properties,o)||l,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,o,t.vnodeSelector,t.properties,t.children]);return l&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),s};let C$1=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let o=e;e=r,N(o,r,t);},domNode:e.domNode});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p$3={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,r,o)=>{"-"===r.charAt(0)?e.style.setProperty(r,o):e.style[r]=o;}};let d$4=r=>n$5(p$3,r),n$4={create:(e,t)=>(t=d$4(t),x$1(e,document.createElement("div"),void 0,t),C$1(e,t)),append:(e,t,p)=>(p=d$4(p),x$1(t,e,void 0,p),C$1(t,p)),insertBefore:(e,t,p)=>(p=d$4(p),x$1(t,e.parentNode,e,p),C$1(t,p)),merge:(e,r,p)=>(p=d$4(p),r.domNode=e,w(e,r,p),C$1(r,p)),replace:(e,t,p)=>(p=d$4(p),x$1(t,e.parentNode,e,p),e.parentNode.removeChild(e),C$1(t,p))};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$7={handleInterceptedEvent:(e,p,t,n)=>(e.scheduleRender(),p.properties[`on${n.type}`].apply(p.properties.bind||t,[n]))};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$6={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,r,o)=>{e.style[r]=o;}},r$3=r=>({...e$6,...r});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$2=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},n$3=(e,t)=>e.find(t),d$3=(e,t,r=!1)=>{let o=e;return t.forEach(((e,d)=>{const s=o?.children?n$3(o.children,(t=>t.domNode===e)):void 0;r&&!s&&d!==t.length-1||(o=s);})),o},s$4=n=>{let s;const i={...e$7,...n},c=r$3(i),a=c.performanceLogger;let m,p=!0,l=!1;const f=[],u=[],h=(e,t,r)=>{let n;c.eventHandlerInterceptor=(e,t,r,c)=>function(e){let t;a("domEvent",e);const r=o$2(e.currentTarget,n.domNode),c=r.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase===Event.CAPTURING_PHASE||!c)r.reverse(),t=d$3(n.getLastRender(),r);else {const r=e.composedPath(),o=r.slice(r.indexOf(e.currentTarget),r.indexOf(n.domNode)).filter((e=>e.getRootNode()===e.ownerDocument)).reverse();t=d$3(n.getLastRender(),o,!0);}let m;return t&&(m=i.handleInterceptedEvent(s,t,this,e)),a("domEventProcessed",e),m},i.postProcessProjectionOptions?.(c);const m=r();n=e(t,m,c),f.push(n),u.push(r),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(n,m);};let v=()=>{if(m=void 0,p){p=!1,a("renderStart",void 0);for(let e=0;e<f.length;e++){const t=u[e]();a("rendered",void 0),f[e].update(t),a("patched",void 0);}a("renderDone",void 0),p=!0;}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,f,u)),s={renderNow:v,scheduleRender:()=>{m||l||(m=requestAnimationFrame(v));},stop:()=>{m&&(cancelAnimationFrame(m),m=void 0),l=!0;},resume:()=>{l=!1,p=!0,s.scheduleRender();},append:(t,r)=>{h(n$4.append,t,r);},insertBefore:(t,r)=>{h(n$4.insertBefore,t,r);},merge:(t,r)=>{h(n$4.merge,t,r);},replace:(t,r)=>{h(n$4.replace,t,r);},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),f.splice(t,1)[0];throw new Error("renderFunction was not found")}},s};

/**
 * Virtual DOM patching algorithm based on Snabbdom by
 * Simon Friis Vindum (@paldepind)
 * Licensed under the MIT License
 * https://github.com/snabbdom/snabbdom/blob/master/LICENSE
 *
 * Modified for Stencil's renderer and slot projection
 */
const getAssetPath = (path) => {
    const assetUrl = new URL(path, plt.$resourcesUrl$);
    return assetUrl.origin !== win.location.origin ? assetUrl.href : assetUrl.pathname;
};
const setAssetPath = (path) => (plt.$resourcesUrl$ = path);
const win = typeof window !== 'undefined' ? window : {};
const plt = {
    $flags$: 0,
    $resourcesUrl$: '',
    jmp: (h) => h(),
    raf: (h) => requestAnimationFrame(h),
    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),
    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),
    ce: (eventName, opts) => new CustomEvent(eventName, opts),
};

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */

const autoMode = "calcite-mode-auto";
const darkMode = "calcite-mode-dark";

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.8.0
 */

/**
 * Emits when the mode is dynamically toggled between light and dark on <body> or in OS preferences.
 */
function initModeChangeEvent() {
  const { classList } = document.body;
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const getMode = () => classList.contains(darkMode) || (classList.contains(autoMode) && prefersDark) ? "dark" : "light";
  const emitModeChange = (mode) => document.body.dispatchEvent(new CustomEvent("calciteModeChange", { bubbles: true, detail: { mode } }));
  const modeChangeHandler = (newMode) => {
    currentMode !== newMode && emitModeChange(newMode);
    currentMode = newMode;
  };
  let currentMode = getMode();
  // emits event on page load
  emitModeChange(currentMode);
  // emits event when changing OS mode preferences
  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", (event) => modeChangeHandler(event.matches ? "dark" : "light"));
  // emits event when toggling between mode classes on <body>
  new MutationObserver(() => modeChangeHandler(getMode())).observe(document.body, {
    attributes: true,
    attributeFilter: ["class"],
  });
}

/**
 * This file is imported in Stencil's `globalScript` config option.
 *
 * @see {@link https://stenciljs.com/docs/config#globalscript}
 */
function appGlobalScript () {
  const isBrowser = typeof window !== "undefined" &&
    typeof location !== "undefined" &&
    typeof document !== "undefined" &&
    window.location === location &&
    window.document === document;
  if (isBrowser) {
    if (document.readyState === "interactive") {
      initModeChangeEvent();
    }
    else {
      document.addEventListener("DOMContentLoaded", () => initModeChangeEvent(), { once: true });
    }
  }
}

const globalScripts = appGlobalScript;

globalScripts();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c$2;function r$2(){try{getAssetPath(".");}catch{setAssetPath(_$d(a$3(c$2)));}}c$2="components/assets";

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$2=Symbol("widget"),e$5=Symbol("widget-test-data");

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$1=[],o$1={},n$2=new WeakMap;function i$2(e,t){let n=t.children;if(n&&n.length)for(let r=0;r<n.length;++r)n[r]=i$2(e,n[r]);else n=r$1;const f=t.vnodeSelector;if(a$1(f)){const r=t.properties||o$1,i=r.key||f;return {vnodeSelector:"div",properties:{key:i,afterCreate:d$2,afterUpdate:s$3,afterRemoved:c$1,parentWidget:e,widgetConstructor:f,widgetProperties:{...r,key:i,children:n}},children:void 0,text:void 0,domNode:null}}return t}function d$2(t,r,o,{parentWidget:i,widgetConstructor:d,widgetProperties:s}){const a=new d(s);a.container=t,n$2.set(t,a),a.afterCreate?.(a,t),i._internalHandles.add(e$w((()=>c$1(t))));}function s$3(e,t,r,{widgetProperties:o}){const i=n$2.get(e);i&&(i.set(o),i.afterUpdate?.(i,e));}function c$1(e){const t=n$2.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),n$2.delete(e));}function a$1(e){return "function"==typeof e&&e[t$2]}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$4=new Set;function n$1(n){e$4.add(n),n.finally((()=>e$4.delete(n)));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var $;const z="esri.widgets.Widget";let x=0;const A={widgetIcon:"esri-icon-checkbox-unchecked"};function B(e,t){for(const r in t)null!=e[r]&&("object"==typeof e[r]&&"object"==typeof t[r]?B(e[r],t?.[r]):e[r]=t[r]);return e}const D$1=s$4({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(e,s,o,i)=>{const n=t?.(e,s,o,i),a=r.test(e);if(!((e=e.replace(r,"")).toLowerCase()in o)||a){const t=e[2].toLowerCase()+e.slice(3),r=e=>n?.call(o,e);o.addEventListener(t,r,a);const s=()=>o.removeEventListener(t,r,a),c=i.afterRemoved;i.afterRemoved=e=>{c?.(e),s();};}return n};},handleInterceptedEvent(e,t,r,s){const{eventPhase:o,type:i}=s,n=o===Event.CAPTURING_PHASE;let a=`on${i}${n?"capture":""}`;const c=t.properties;(c&&a in c||(a=`on${i[0].toUpperCase()}${i.slice(1)}${n?"Capture":""}`,c&&a in c))&&(t$4(),e.scheduleRender(),c[a].call(c.bind||r,s));}});let M=!1,O=class extends(m$2(n$9.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new t$r,this._projector=D$1,this._readyForTrueRender=!1,this.iconClass=A.widgetIcon,this.icon=null,this.key=this,this._loadLocale=k$9((async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const e=await j$c(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let r=await h$3(e);this.uiStrings&&Object.keys(this.uiStrings)&&(r=B(a$v(r),this.uiStrings)),this[t]=r;})));if(this.destroyed)return;for(const t of e)t.error&&s$E.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.error);}await this.loadLocale();})),r$2();const r="esri-widget-uid-"+n$7(),s=this.render.bind(this);this._trackingTarget=new t$g((()=>this.scheduleRender()));const o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const e=s();let{properties:t}=e;t||(e.properties=t={});const{key:o}=t;o||(t.key=r),this.visible?t.styles||(t.styles={}):(t.class="",t.styles={display:"none"}),t.styles.display||(t.styles.display="");let i=0;return e.children?.forEach((e=>{if(a$1(e.vnodeSelector))return;let{properties:t}=e;t||(e.properties=t={}),t.key||(t.key=`${this.id}--${i++}`);})),i$2(this,e)};this.render=()=>{if(M)return o();let e=e$8(this)??null;if(e)return e;this._trackingTarget.clear(),M=!0;try{e=f$r(this._trackingTarget,o);}catch(t){throw console.error(t),t}finally{M=!1;}return e&&c$4(this,e),e},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then((()=>{this._readyForTrueRender=!0,this._postInitialize();}))),n$1(this._resourcesFetch);}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then((()=>{})).catch(m$l)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(l$s(this._trackingTarget),l$s(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,o$4(this));}set container(e){this._get("container")||this._set("container",e);}castContainer(e){return e$9(e)}get domNode(){return this.container}set domNode(e){this.container=e;}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+x++}set id(e){e&&this._set("id",e);}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e);}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e);}get[($=t$2,e$5)](){return {projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(o$4(this),this._projector.scheduleRender());}classes(...e){return m$1.apply(this,e)}renderNow(){o$4(this),this._projector.renderNow();}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this._internalHandles.add(l$4((()=>this.viewModel),((e,t)=>{t&&this._internalHandles.remove("delegated-events"),e&&e$y(e)&&this._internalHandles.add(this._delegatedEventNames.map((t=>r$o(e,t,(e=>{this.emit(t,e);})))),"delegated-events");}),h$5)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(m$l),this.scheduleRender();};this._internalHandles.add([s$9(e),l$4((()=>this.uiStrings),e),f$6((()=>this.container),(e=>{this.destroyed||this._attach(e);}),{initial:!0,once:!0})]);}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0);}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e);}};O[$]=!0,e$x([y$d()],O.prototype,"_readyForTrueRender",void 0),e$x([y$d({value:null})],O.prototype,"container",null),e$x([s$i("container")],O.prototype,"castContainer",null),e$x([y$d()],O.prototype,"iconClass",void 0),e$x([y$d()],O.prototype,"icon",void 0),e$x([y$d()],O.prototype,"id",null),e$x([y$d()],O.prototype,"label",null),e$x([y$d()],O.prototype,"renderable",null),e$x([y$d()],O.prototype,"uiStrings",void 0),e$x([y$d()],O.prototype,"viewModel",void 0),e$x([y$d({value:!0})],O.prototype,"visible",null),e$x([y$d()],O.prototype,"key",void 0),e$x([y$d()],O.prototype,"children",void 0),e$x([y$d()],O.prototype,"afterCreate",void 0),e$x([y$d()],O.prototype,"afterUpdate",void 0),e$x([y$d()],O.prototype,"afterRemoved",void 0),O=e$x([a$i(z)],O);const W=O;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$3(e){return (s,r)=>{s.hasOwnProperty("_messageBundleProps")||(s._messageBundleProps=s._messageBundleProps?s._messageBundleProps.slice():[]);s._messageBundleProps.push({bundlePath:e,propertyName:r});}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var e$2=function(r){return {vnodeSelector:"",properties:void 0,children:void 0,text:r.toString(),domNode:null}},o=function(r,t){for(var n=0,i=r.length;n<i;n++){var d=r[n];Array.isArray(d)?o(d,t):null!=d&&!1!==d&&(d.hasOwnProperty("vnodeSelector")||(d=e$2(d)),t.push(d));}},t$1=function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(1===t.length&&"string"==typeof t[0])return {vnodeSelector:r,properties:e||void 0,children:void 0,text:t[0],domNode:null};var i=[];return o(t,i),{vnodeSelector:r,properties:e||void 0,children:i,text:void 0,domNode:null}};function n(e,o,...n){return "function"!=typeof e||a$1(e)?t$1(e,o,...n):e(o,...n)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a="esri-identity-form",p$2={base:a,group:`${a}__group`,label:`${a}__label`,footer:`${a}__footer`,esriInput:"esri-input",esriButton:"esri-button",esriButtonSecondary:"esri-button--secondary"},l="ArcGIS Online";let d$1=class extends W{constructor(s,e){super(s,e),this._usernameInputNode=null,this._passwordInputNode=null,this.signingIn=!1,this.server=null,this.resource=null,this.error=null,this.oAuthPrompt=!1;}render(){const{error:s,server:e,resource:t,signingIn:o,oAuthPrompt:n$1,messages:a}=this,d=n("div",{class:p$2.group},s$7(n$1?a.oAuthInfo:a.info,{server:e&&/\.arcgis\.com/i.test(e)?l:e,resource:`(${t||a.lblItem})`})),c=n$1?null:n("div",{class:p$2.group,key:"username"},n("label",{class:p$2.label},a.lblUser,n("input",{value:"",required:!0,autocomplete:"off",spellcheck:!1,type:"text",bind:this,afterCreate:L$1,"data-node-ref":"_usernameInputNode",class:p$2.esriInput}))),m=n$1?null:n("div",{class:p$2.group,key:"password"},n("label",{class:p$2.label},a.lblPwd,n("input",{value:"",required:!0,type:"password",bind:this,afterCreate:L$1,"data-node-ref":"_passwordInputNode",class:p$2.esriInput}))),h=n("div",{class:this.classes(p$2.group,p$2.footer)},n("input",{type:"submit",disabled:!!o,value:o?a.lblSigning:a.lblOk,class:p$2.esriButton}),n("input",{type:"button",value:a.lblCancel,bind:this,onclick:this._cancel,class:this.classes(p$2.esriButton,p$2.esriButtonSecondary)})),b=s?n("div",null,s.details&&s.details.httpStatus?a.invalidUser:a.noAuthService):null;return n("form",{class:p$2.base,bind:this,onsubmit:this._submit},d,b,c,m,h)}_cancel(){this._set("signingIn",!1),this._usernameInputNode&&(this._usernameInputNode.value=""),this._passwordInputNode&&(this._passwordInputNode.value=""),this.emit("cancel");}_submit(s){s.preventDefault(),this._set("signingIn",!0);const e=this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value};this.emit("submit",e);}};e$x([y$d(),e$3("esri/identity/t9n/identity")],d$1.prototype,"messages",void 0),e$x([y$d()],d$1.prototype,"signingIn",void 0),e$x([y$d()],d$1.prototype,"server",void 0),e$x([y$d()],d$1.prototype,"resource",void 0),e$x([y$d()],d$1.prototype,"error",void 0),e$x([y$d()],d$1.prototype,"oAuthPrompt",void 0),d$1=e$x([a$i("esri.identity.IdentityForm")],d$1);const c=d$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$1(e){return e&&"function"==typeof e.render}

/*!
* focus-trap 7.4.3
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    enumerableOnly && (symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    })), keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = null != arguments[i] ? arguments[i] : {};
    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {
      _defineProperty(target, key, source[key]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {
      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
    });
  }
  return target;
}
function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _toPrimitive(input, hint) {
  if (typeof input !== "object" || input === null) return input;
  var prim = input[Symbol.toPrimitive];
  if (prim !== undefined) {
    var res = prim.call(input, hint || "default");
    if (typeof res !== "object") return res;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (hint === "string" ? String : Number)(input);
}
function _toPropertyKey(arg) {
  var key = _toPrimitive(arg, "string");
  return typeof key === "symbol" ? key : String(key);
}

var activeFocusTraps = {
  activateTrap: function activateTrap(trapStack, trap) {
    if (trapStack.length > 0) {
      var activeTrap = trapStack[trapStack.length - 1];
      if (activeTrap !== trap) {
        activeTrap.pause();
      }
    }
    var trapIndex = trapStack.indexOf(trap);
    if (trapIndex === -1) {
      trapStack.push(trap);
    } else {
      // move this existing trap to the front of the queue
      trapStack.splice(trapIndex, 1);
      trapStack.push(trap);
    }
  },
  deactivateTrap: function deactivateTrap(trapStack, trap) {
    var trapIndex = trapStack.indexOf(trap);
    if (trapIndex !== -1) {
      trapStack.splice(trapIndex, 1);
    }
    if (trapStack.length > 0) {
      trapStack[trapStack.length - 1].unpause();
    }
  }
};
var isSelectableInput = function isSelectableInput(node) {
  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';
};
var isEscapeEvent = function isEscapeEvent(e) {
  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;
};
var isTabEvent = function isTabEvent(e) {
  return e.key === 'Tab' || e.keyCode === 9;
};

// checks for TAB by default
var isKeyForward = function isKeyForward(e) {
  return isTabEvent(e) && !e.shiftKey;
};

// checks for SHIFT+TAB by default
var isKeyBackward = function isKeyBackward(e) {
  return isTabEvent(e) && e.shiftKey;
};
var delay = function delay(fn) {
  return setTimeout(fn, 0);
};

// Array.find/findIndex() are not supported on IE; this replicates enough
//  of Array.findIndex() for our needs
var findIndex = function findIndex(arr, fn) {
  var idx = -1;
  arr.every(function (value, i) {
    if (fn(value)) {
      idx = i;
      return false; // break
    }

    return true; // next
  });

  return idx;
};

/**
 * Get an option's value when it could be a plain value, or a handler that provides
 *  the value.
 * @param {*} value Option's value to check.
 * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.
 * @returns {*} The `value`, or the handler's returned value.
 */
var valueOrHandler = function valueOrHandler(value) {
  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    params[_key - 1] = arguments[_key];
  }
  return typeof value === 'function' ? value.apply(void 0, params) : value;
};
var getActualTarget = function getActualTarget(event) {
  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the
  //  shadow host. However, event.target.composedPath() will be an array of
  //  nodes "clicked" from inner-most (the actual element inside the shadow) to
  //  outer-most (the host HTML document). If we have access to composedPath(),
  //  then use its first element; otherwise, fall back to event.target (and
  //  this only works for an _open_ shadow DOM; otherwise,
  //  composedPath()[0] === event.target always).
  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;
};

// NOTE: this must be _outside_ `createFocusTrap()` to make sure all traps in this
//  current instance use the same stack if `userOptions.trapStack` isn't specified
var internalTrapStack = [];
var createFocusTrap = function createFocusTrap(elements, userOptions) {
  // SSR: a live trap shouldn't be created in this type of environment so this
  //  should be safe code to execute if the `document` option isn't specified
  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;
  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;
  var config = _objectSpread2({
    returnFocusOnDeactivate: true,
    escapeDeactivates: true,
    delayInitialFocus: true,
    isKeyForward: isKeyForward,
    isKeyBackward: isKeyBackward
  }, userOptions);
  var state = {
    // containers given to createFocusTrap()
    // @type {Array<HTMLElement>}
    containers: [],
    // list of objects identifying tabbable nodes in `containers` in the trap
    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap
    //  is active, but the trap should never get to a state where there isn't at least one group
    //  with at least one tabbable node in it (that would lead to an error condition that would
    //  result in an error being thrown)
    // @type {Array<{
    //   container: HTMLElement,
    //   tabbableNodes: Array<HTMLElement>, // empty if none
    //   focusableNodes: Array<HTMLElement>, // empty if none
    //   firstTabbableNode: HTMLElement|null,
    //   lastTabbableNode: HTMLElement|null,
    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined
    // }>}
    containerGroups: [],
    // same order/length as `containers` list

    // references to objects in `containerGroups`, but only those that actually have
    //  tabbable nodes in them
    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__
    //  the same length
    tabbableGroups: [],
    nodeFocusedBeforeActivation: null,
    mostRecentlyFocusedNode: null,
    active: false,
    paused: false,
    // timer ID for when delayInitialFocus is true and initial focus in this trap
    //  has been delayed during activation
    delayInitialFocusTimer: undefined
  };
  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later

  /**
   * Gets a configuration option value.
   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,
   *  value will be taken from this object. Otherwise, value will be taken from base configuration.
   * @param {string} optionName Name of the option whose value is sought.
   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`
   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.
   */
  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {
    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];
  };

  /**
   * Finds the index of the container that contains the element.
   * @param {HTMLElement} element
   * @param {Event} [event]
   * @returns {number} Index of the container in either `state.containers` or
   *  `state.containerGroups` (the order/length of these lists are the same); -1
   *  if the element isn't found.
   */
  var findContainerIndex = function findContainerIndex(element, event) {
    var composedPath = typeof (event === null || event === void 0 ? void 0 : event.composedPath) === 'function' ? event.composedPath() : undefined;
    // NOTE: search `containerGroups` because it's possible a group contains no tabbable
    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)
    //  and we still need to find the element in there
    return state.containerGroups.findIndex(function (_ref) {
      var container = _ref.container,
        tabbableNodes = _ref.tabbableNodes;
      return container.contains(element) || ( // fall back to explicit tabbable search which will take into consideration any
      //  web components if the `tabbableOptions.getShadowRoot` option was used for
      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't
      //  look inside web components even if open)
      composedPath === null || composedPath === void 0 ? void 0 : composedPath.includes(container)) || tabbableNodes.find(function (node) {
        return node === element;
      });
    });
  };

  /**
   * Gets the node for the given option, which is expected to be an option that
   *  can be either a DOM node, a string that is a selector to get a node, `false`
   *  (if a node is explicitly NOT given), or a function that returns any of these
   *  values.
   * @param {string} optionName
   * @returns {undefined | false | HTMLElement | SVGElement} Returns
   *  `undefined` if the option is not specified; `false` if the option
   *  resolved to `false` (node explicitly not given); otherwise, the resolved
   *  DOM node.
   * @throws {Error} If the option is set, not `false`, and is not, or does not
   *  resolve to a node.
   */
  var getNodeForOption = function getNodeForOption(optionName) {
    var optionValue = config[optionName];
    if (typeof optionValue === 'function') {
      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        params[_key2 - 1] = arguments[_key2];
      }
      optionValue = optionValue.apply(void 0, params);
    }
    if (optionValue === true) {
      optionValue = undefined; // use default value
    }

    if (!optionValue) {
      if (optionValue === undefined || optionValue === false) {
        return optionValue;
      }
      // else, empty string (invalid), null (invalid), 0 (invalid)

      throw new Error("`".concat(optionName, "` was specified but was not a node, or did not return a node"));
    }
    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point

    if (typeof optionValue === 'string') {
      node = doc.querySelector(optionValue); // resolve to node, or null if fails
      if (!node) {
        throw new Error("`".concat(optionName, "` as selector refers to no known node"));
      }
    }
    return node;
  };
  var getInitialFocusNode = function getInitialFocusNode() {
    var node = getNodeForOption('initialFocus');

    // false explicitly indicates we want no initialFocus at all
    if (node === false) {
      return false;
    }
    if (node === undefined || !(0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.a)(node, config.tabbableOptions)) {
      // option not specified nor focusable: use fallback options
      if (findContainerIndex(doc.activeElement) >= 0) {
        node = doc.activeElement;
      } else {
        var firstTabbableGroup = state.tabbableGroups[0];
        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;

        // NOTE: `fallbackFocus` option function cannot return `false` (not supported)
        node = firstTabbableNode || getNodeForOption('fallbackFocus');
      }
    }
    if (!node) {
      throw new Error('Your focus-trap needs to have at least one focusable element');
    }
    return node;
  };
  var updateTabbableNodes = function updateTabbableNodes() {
    state.containerGroups = state.containers.map(function (container) {
      var tabbableNodes = (0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.t)(container, config.tabbableOptions);

      // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes
      //  are a superset of tabbable nodes
      var focusableNodes = (0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.f)(container, config.tabbableOptions);
      return {
        container: container,
        tabbableNodes: tabbableNodes,
        focusableNodes: focusableNodes,
        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,
        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,
        /**
         * Finds the __tabbable__ node that follows the given node in the specified direction,
         *  in this container, if any.
         * @param {HTMLElement} node
         * @param {boolean} [forward] True if going in forward tab order; false if going
         *  in reverse.
         * @returns {HTMLElement|undefined} The next tabbable node, if any.
         */
        nextTabbableNode: function nextTabbableNode(node) {
          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
          // NOTE: If tabindex is positive (in order to manipulate the tab order separate
          //  from the DOM order), this __will not work__ because the list of focusableNodes,
          //  while it contains tabbable nodes, does not sort its nodes in any order other
          //  than DOM order, because it can't: Where would you place focusable (but not
          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...
          // Support for positive tabindex is already broken and hard to manage (possibly
          //  not supportable, TBD), so this isn't going to make things worse than they
          //  already are, and at least makes things better for the majority of cases where
          //  tabindex is either 0/unset or negative.
          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375
          var nodeIdx = focusableNodes.findIndex(function (n) {
            return n === node;
          });
          if (nodeIdx < 0) {
            return undefined;
          }
          if (forward) {
            return focusableNodes.slice(nodeIdx + 1).find(function (n) {
              return (0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.i)(n, config.tabbableOptions);
            });
          }
          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {
            return (0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.i)(n, config.tabbableOptions);
          });
        }
      };
    });
    state.tabbableGroups = state.containerGroups.filter(function (group) {
      return group.tabbableNodes.length > 0;
    });

    // throw if no groups have tabbable nodes and we don't have a fallback focus node either
    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option
    ) {
      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');
    }
  };
  var tryFocus = function tryFocus(node) {
    if (node === false) {
      return;
    }
    if (node === doc.activeElement) {
      return;
    }
    if (!node || !node.focus) {
      tryFocus(getInitialFocusNode());
      return;
    }
    node.focus({
      preventScroll: !!config.preventScroll
    });
    state.mostRecentlyFocusedNode = node;
    if (isSelectableInput(node)) {
      node.select();
    }
  };
  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {
    var node = getNodeForOption('setReturnFocus', previousActiveElement);
    return node ? node : node === false ? false : previousActiveElement;
  };

  // This needs to be done on mousedown and touchstart instead of click
  // so that it precedes the focus event.
  var checkPointerDown = function checkPointerDown(e) {
    var target = getActualTarget(e);
    if (findContainerIndex(target, e) >= 0) {
      // allow the click since it ocurred inside the trap
      return;
    }
    if (valueOrHandler(config.clickOutsideDeactivates, e)) {
      // immediately deactivate the trap
      trap.deactivate({
        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,
        //  which will result in the outside click setting focus to the node
        //  that was clicked (and if not focusable, to "nothing"); by setting
        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused
        //  on activation (or the configured `setReturnFocus` node), whether the
        //  outside click was on a focusable node or not
        returnFocus: config.returnFocusOnDeactivate
      });
      return;
    }

    // This is needed for mobile devices.
    // (If we'll only let `click` events through,
    // then on mobile they will be blocked anyways if `touchstart` is blocked.)
    if (valueOrHandler(config.allowOutsideClick, e)) {
      // allow the click outside the trap to take place
      return;
    }

    // otherwise, prevent the click
    e.preventDefault();
  };

  // In case focus escapes the trap for some strange reason, pull it back in.
  var checkFocusIn = function checkFocusIn(e) {
    var target = getActualTarget(e);
    var targetContained = findContainerIndex(target, e) >= 0;

    // In Firefox when you Tab out of an iframe the Document is briefly focused.
    if (targetContained || target instanceof Document) {
      if (targetContained) {
        state.mostRecentlyFocusedNode = target;
      }
    } else {
      // escaped! pull it back in to where it just left
      e.stopImmediatePropagation();
      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());
    }
  };

  // Hijack key nav events on the first and last focusable nodes of the trap,
  // in order to prevent focus from escaping. If it escapes for even a
  // moment it can end up scrolling the page and causing confusion so we
  // kind of need to capture the action at the keydown phase.
  var checkKeyNav = function checkKeyNav(event) {
    var isBackward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    var target = getActualTarget(event);
    updateTabbableNodes();
    var destinationNode = null;
    if (state.tabbableGroups.length > 0) {
      // make sure the target is actually contained in a group
      // NOTE: the target may also be the container itself if it's focusable
      //  with tabIndex='-1' and was given initial focus
      var containerIndex = findContainerIndex(target, event);
      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;
      if (containerIndex < 0) {
        // target not found in any group: quite possible focus has escaped the trap,
        //  so bring it back into...
        if (isBackward) {
          // ...the last node in the last group
          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;
        } else {
          // ...the first node in the first group
          destinationNode = state.tabbableGroups[0].firstTabbableNode;
        }
      } else if (isBackward) {
        // REVERSE

        // is the target the first tabbable node in a group?
        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {
          var firstTabbableNode = _ref2.firstTabbableNode;
          return target === firstTabbableNode;
        });
        if (startOfGroupIndex < 0 && (containerGroup.container === target || (0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, config.tabbableOptions) && !(0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.i)(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {
          // an exception case where the target is either the container itself, or
          //  a non-tabbable node that was given focus (i.e. tabindex is negative
          //  and user clicked on it or node was programmatically given focus)
          //  and is not followed by any other tabbable node, in which
          //  case, we should handle shift+tab as if focus were on the container's
          //  first tabbable node, and go to the last tabbable node of the LAST group
          startOfGroupIndex = containerIndex;
        }
        if (startOfGroupIndex >= 0) {
          // YES: then shift+tab should go to the last tabbable node in the
          //  previous group (and wrap around to the last tabbable node of
          //  the LAST group if it's the first tabbable node of the FIRST group)
          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;
          var destinationGroup = state.tabbableGroups[destinationGroupIndex];
          destinationNode = destinationGroup.lastTabbableNode;
        } else if (!isTabEvent(event)) {
          // user must have customized the nav keys so we have to move focus manually _within_
          //  the active group: do this based on the order determined by tabbable()
          destinationNode = containerGroup.nextTabbableNode(target, false);
        }
      } else {
        // FORWARD

        // is the target the last tabbable node in a group?
        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {
          var lastTabbableNode = _ref3.lastTabbableNode;
          return target === lastTabbableNode;
        });
        if (lastOfGroupIndex < 0 && (containerGroup.container === target || (0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.a)(target, config.tabbableOptions) && !(0,_index_esm_1c65d8c7_js__WEBPACK_IMPORTED_MODULE_0__.i)(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {
          // an exception case where the target is the container itself, or
          //  a non-tabbable node that was given focus (i.e. tabindex is negative
          //  and user clicked on it or node was programmatically given focus)
          //  and is not followed by any other tabbable node, in which
          //  case, we should handle tab as if focus were on the container's
          //  last tabbable node, and go to the first tabbable node of the FIRST group
          lastOfGroupIndex = containerIndex;
        }
        if (lastOfGroupIndex >= 0) {
          // YES: then tab should go to the first tabbable node in the next
          //  group (and wrap around to the first tabbable node of the FIRST
          //  group if it's the last tabbable node of the LAST group)
          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;
          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];
          destinationNode = _destinationGroup.firstTabbableNode;
        } else if (!isTabEvent(event)) {
          // user must have customized the nav keys so we have to move focus manually _within_
          //  the active group: do this based on the order determined by tabbable()
          destinationNode = containerGroup.nextTabbableNode(target);
        }
      }
    } else {
      // no groups available
      // NOTE: the fallbackFocus option does not support returning false to opt-out
      destinationNode = getNodeForOption('fallbackFocus');
    }
    if (destinationNode) {
      if (isTabEvent(event)) {
        // since tab natively moves focus, we wouldn't have a destination node unless we
        //  were on the edge of a container and had to move to the next/previous edge, in
        //  which case we want to prevent default to keep the browser from moving focus
        //  to where it normally would
        event.preventDefault();
      }
      tryFocus(destinationNode);
    }
    // else, let the browser take care of [shift+]tab and move the focus
  };

  var checkKey = function checkKey(event) {
    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {
      event.preventDefault();
      trap.deactivate();
      return;
    }
    if (config.isKeyForward(event) || config.isKeyBackward(event)) {
      checkKeyNav(event, config.isKeyBackward(event));
    }
  };
  var checkClick = function checkClick(e) {
    var target = getActualTarget(e);
    if (findContainerIndex(target, e) >= 0) {
      return;
    }
    if (valueOrHandler(config.clickOutsideDeactivates, e)) {
      return;
    }
    if (valueOrHandler(config.allowOutsideClick, e)) {
      return;
    }
    e.preventDefault();
    e.stopImmediatePropagation();
  };

  //
  // EVENT LISTENERS
  //

  var addListeners = function addListeners() {
    if (!state.active) {
      return;
    }

    // There can be only one listening focus trap at a time
    activeFocusTraps.activateTrap(trapStack, trap);

    // Delay ensures that the focused element doesn't capture the event
    // that caused the focus trap activation.
    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {
      tryFocus(getInitialFocusNode());
    }) : tryFocus(getInitialFocusNode());
    doc.addEventListener('focusin', checkFocusIn, true);
    doc.addEventListener('mousedown', checkPointerDown, {
      capture: true,
      passive: false
    });
    doc.addEventListener('touchstart', checkPointerDown, {
      capture: true,
      passive: false
    });
    doc.addEventListener('click', checkClick, {
      capture: true,
      passive: false
    });
    doc.addEventListener('keydown', checkKey, {
      capture: true,
      passive: false
    });
    return trap;
  };
  var removeListeners = function removeListeners() {
    if (!state.active) {
      return;
    }
    doc.removeEventListener('focusin', checkFocusIn, true);
    doc.removeEventListener('mousedown', checkPointerDown, true);
    doc.removeEventListener('touchstart', checkPointerDown, true);
    doc.removeEventListener('click', checkClick, true);
    doc.removeEventListener('keydown', checkKey, true);
    return trap;
  };

  //
  // MUTATION OBSERVER
  //

  var checkDomRemoval = function checkDomRemoval(mutations) {
    var isFocusedNodeRemoved = mutations.some(function (mutation) {
      var removedNodes = Array.from(mutation.removedNodes);
      return removedNodes.some(function (node) {
        return node === state.mostRecentlyFocusedNode;
      });
    });

    // If the currently focused is removed then browsers will move focus to the
    // <body> element. If this happens, try to move focus back into the trap.
    if (isFocusedNodeRemoved) {
      tryFocus(getInitialFocusNode());
    }
  };

  // Use MutationObserver - if supported - to detect if focused node is removed
  // from the DOM.
  var mutationObserver = typeof window !== 'undefined' && 'MutationObserver' in window ? new MutationObserver(checkDomRemoval) : undefined;
  var updateObservedNodes = function updateObservedNodes() {
    if (!mutationObserver) {
      return;
    }
    mutationObserver.disconnect();
    if (state.active && !state.paused) {
      state.containers.map(function (container) {
        mutationObserver.observe(container, {
          subtree: true,
          childList: true
        });
      });
    }
  };

  //
  // TRAP DEFINITION
  //

  trap = {
    get active() {
      return state.active;
    },
    get paused() {
      return state.paused;
    },
    activate: function activate(activateOptions) {
      if (state.active) {
        return this;
      }
      var onActivate = getOption(activateOptions, 'onActivate');
      var onPostActivate = getOption(activateOptions, 'onPostActivate');
      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');
      if (!checkCanFocusTrap) {
        updateTabbableNodes();
      }
      state.active = true;
      state.paused = false;
      state.nodeFocusedBeforeActivation = doc.activeElement;
      onActivate === null || onActivate === void 0 ? void 0 : onActivate();
      var finishActivation = function finishActivation() {
        if (checkCanFocusTrap) {
          updateTabbableNodes();
        }
        addListeners();
        updateObservedNodes();
        onPostActivate === null || onPostActivate === void 0 ? void 0 : onPostActivate();
      };
      if (checkCanFocusTrap) {
        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);
        return this;
      }
      finishActivation();
      return this;
    },
    deactivate: function deactivate(deactivateOptions) {
      if (!state.active) {
        return this;
      }
      var options = _objectSpread2({
        onDeactivate: config.onDeactivate,
        onPostDeactivate: config.onPostDeactivate,
        checkCanReturnFocus: config.checkCanReturnFocus
      }, deactivateOptions);
      clearTimeout(state.delayInitialFocusTimer); // noop if undefined
      state.delayInitialFocusTimer = undefined;
      removeListeners();
      state.active = false;
      state.paused = false;
      updateObservedNodes();
      activeFocusTraps.deactivateTrap(trapStack, trap);
      var onDeactivate = getOption(options, 'onDeactivate');
      var onPostDeactivate = getOption(options, 'onPostDeactivate');
      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');
      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');
      onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate();
      var finishDeactivation = function finishDeactivation() {
        delay(function () {
          if (returnFocus) {
            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));
          }
          onPostDeactivate === null || onPostDeactivate === void 0 ? void 0 : onPostDeactivate();
        });
      };
      if (returnFocus && checkCanReturnFocus) {
        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);
        return this;
      }
      finishDeactivation();
      return this;
    },
    pause: function pause(pauseOptions) {
      if (state.paused || !state.active) {
        return this;
      }
      var onPause = getOption(pauseOptions, 'onPause');
      var onPostPause = getOption(pauseOptions, 'onPostPause');
      state.paused = true;
      onPause === null || onPause === void 0 ? void 0 : onPause();
      removeListeners();
      updateObservedNodes();
      onPostPause === null || onPostPause === void 0 ? void 0 : onPostPause();
      return this;
    },
    unpause: function unpause(unpauseOptions) {
      if (!state.paused || !state.active) {
        return this;
      }
      var onUnpause = getOption(unpauseOptions, 'onUnpause');
      var onPostUnpause = getOption(unpauseOptions, 'onPostUnpause');
      state.paused = false;
      onUnpause === null || onUnpause === void 0 ? void 0 : onUnpause();
      updateTabbableNodes();
      addListeners();
      updateObservedNodes();
      onPostUnpause === null || onPostUnpause === void 0 ? void 0 : onPostUnpause();
      return this;
    },
    updateContainerElements: function updateContainerElements(containerElements) {
      var elementsAsArray = [].concat(containerElements).filter(Boolean);
      state.containers = elementsAsArray.map(function (element) {
        return typeof element === 'string' ? doc.querySelector(element) : element;
      });
      if (state.active) {
        updateTabbableNodes();
      }
      updateObservedNodes();
      return this;
    }
  };

  // initialize container elements
  trap.updateContainerElements(elements);
  return trap;
};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const d="esri-identity-modal",p$1={base:d,open:`${d}--open`,closed:`${d}--closed`,title:`${d}__title`,dialog:`${d}__dialog`,content:`${d}__content`,closeButton:`${d}__close-button`,iconClose:"esri-icon-close"};let u=class extends W{constructor(t,e){super(t,e),this.container=document.createElement("div"),this.content=null,this.open=!1,this._focusTrap=null,this._close=()=>{this.open=!1;},document.body.appendChild(this.container),this.addHandles(l$4((()=>this.open),(()=>this._toggleFocusTrap())));}destroy(){this._destroyFocusTrap();}get title(){return this.messages?.auth.signIn}render(){const t=this.id,{open:e,content:o,title:s,messages:i}=this,r=e&&!!o,n$1={[p$1.open]:r,[p$1.closed]:!r},a=n("button",{class:p$1.closeButton,"aria-label":i.close,title:i.close,bind:this,onclick:this._close,type:"button"},n("span",{"aria-hidden":"true",class:p$1.iconClose})),l=`${t}_title`,d=`${t}_content`,u=s?n("h1",{id:l,class:p$1.title},s):null,h=r?n("div",{bind:this,class:p$1.dialog,role:"dialog","aria-labelledby":l,"aria-describedby":d,afterCreate:this._createFocusTrap},a,u,this._renderContent(d)):null;return n("div",{tabIndex:-1,class:this.classes(p$1.base,n$1)},h)}_destroyFocusTrap(){this._focusTrap?.deactivate({onDeactivate:()=>{}}),this._focusTrap=null;}_toggleFocusTrap(){const{_focusTrap:t,open:e}=this;t&&(e?t.activate():t.deactivate());}_createFocusTrap(t){this._destroyFocusTrap();const o=requestAnimationFrame((()=>{this._focusTrap=createFocusTrap(t,{initialFocus:"input",onDeactivate:this._close}),this._toggleFocusTrap();}));this.addHandles(e$w((()=>cancelAnimationFrame(o))));}_renderContent(t){const e=this.content;return "string"==typeof e?n("div",{class:p$1.content,id:t,innerHTML:e}):e$1(e)?n("div",{class:p$1.content,id:t},e.render()):e instanceof HTMLElement?n("div",{class:p$1.content,id:t,bind:e,afterCreate:this._attachToNode}):null}_attachToNode(t){const e=this;t.appendChild(e);}};e$x([y$d({readOnly:!0})],u.prototype,"container",void 0),e$x([y$d()],u.prototype,"content",void 0),e$x([y$d()],u.prototype,"open",void 0),e$x([y$d(),e$3("esri/t9n/common")],u.prototype,"messages",void 0),e$x([y$d()],u.prototype,"title",null),u=e$x([a$i("esri.identity.IdentityModal")],u);const h=u;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t="esriJSAPIOAuth";class e{constructor(t,e){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=t,this.storage=e,this._init();}isValid(){let t=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token))if(null==this.expires&&this.refreshToken)t=!0;else if(this.expires){const e=Date.now();if(this.expires>e){(this.expires-e)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(t=!0);}}return t}save(){if(!this.storage)return !1;const e=this._load(),s=this.oAuthInfo;if(s&&s.authNamespace&&s.portalUrl){let r=e[s.authNamespace];r||(r=e[s.authNamespace]={}),this.appId||(this.appId=s.appId),r[s.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(t,JSON.stringify(e));}catch(i){return console.warn(i),!1}return !0}return !1}destroy(){const e=this._load(),s=this.oAuthInfo;if(s&&s.appId&&s.portalUrl&&(null==this.expires||this.expires>Date.now())&&(this.refreshToken||this.token)){const t=s.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",e=new FormData;if(e.append("f","json"),e.append("auth_token",this.refreshToken||this.token),e.append("client_id",s.appId),e.append("token_type_hint",this.refreshToken?"refresh_token":"access_token"),"function"==typeof navigator.sendBeacon)navigator.sendBeacon(t,e);else {const s=new XMLHttpRequest;s.open("POST",t),s.send(e);}}if(s&&s.authNamespace&&s.portalUrl&&this.storage){const r=e[s.authNamespace];if(r){delete r[s.portalUrl];try{this.storage.setItem(t,JSON.stringify(e));}catch(i){console.log(i);}}}s&&(s._oAuthCred=null,this.oAuthInfo=null);}_init(){const t=this._load(),e=this.oAuthInfo;if(e&&e.authNamespace&&e.portalUrl){let s=t[e.authNamespace];s&&(s=s[e.portalUrl],s&&(this.appId=s.appId,this.codeVerifier=s.codeVerifier,this.expires=s.expires,this.refreshToken=s.refreshToken,this.ssl=s.ssl,this.stateUID=s.stateUID,this.token=s.token,this.userId=s.userId));}}_load(){let e={};if(this.storage){const i=this.storage.getItem(t);if(i)try{e=JSON.parse(i);}catch(s){console.warn(s);}}return e}}e.prototype.declaredClass="esri.identity.OAuthCredential";

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var p;let s$2=p=class extends l$f{constructor(o){super(o),this._oAuthCred=null,this.appId=null,this.authNamespace="/",this.expiration=20160,this.flowType="auto",this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl="oauth-callback.html",this.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",this.portalUrl="https://www.arcgis.com",this.preserveUrlHash=!1,this.userId=null;}clone(){return p.fromJSON(this.toJSON())}};e$x([y$d({json:{write:!0}})],s$2.prototype,"appId",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"authNamespace",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"expiration",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"flowType",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"forceLogin",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"forceUserId",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"locale",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"minTimeUntilExpiration",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"popup",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"popupCallbackUrl",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"popupWindowFeatures",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"portalUrl",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"preserveUrlHash",void 0),e$x([y$d({json:{write:!0}})],s$2.prototype,"userId",void 0),s$2=p=e$x([a$i("esri.identity.OAuthInfo")],s$2);const i$1=s$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let s$1=class extends l$f{constructor(o){super(o),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null;}};e$x([y$d({json:{write:!0}})],s$1.prototype,"adminTokenServiceUrl",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"currentVersion",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"hasPortal",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"hasServer",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"owningSystemUrl",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"owningTenant",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"server",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"shortLivedTokenValidity",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"tokenServiceUrl",void 0),e$x([y$d({json:{write:!0}})],s$1.prototype,"webTierAuth",void 0),s$1=e$x([a$i("esri.identity.ServerInfo")],s$1);const i=s$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const C={},b=e=>{const t=new $$4(e.owningSystemUrl).host,r=new $$4(e.server).host,s=/.+\.arcgis\.com$/i;return s.test(t)&&s.test(r)},D=(e,t)=>!!(b(e)&&t&&t.some((t=>t.test(e.server))));let q=null,j=null;try{q=window.localStorage,j=window.sessionStorage;}catch{}class E extends n$9{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this._defaultOAuthInfo=null,this._defaultTokenValidity=60,this.dialog=null,this.formConstructor=c,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin="null"!==window.origin?window.origin:window.location.origin,this._appUrlObj=L$6(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthLocationParams=null,this._gwTokenUrl="/sharing/rest/generateToken",this._agsRest="/rest/services",this._agsPortal=/\/sharing(\/|$)/i,this._agsAdmin=/(https?:\/\/[^\/]+\/[^\/]+)\/admin\/?(\/.*)?$/i,this._adminSvcs=/\/rest\/admin\/services(\/|$)/i,this._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],this._legacyFed=[],this._regexSDirUrl=/http.+\/rest\/services\/?/gi,this._regexServerType=/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/gi,this._gwUser=/http.+\/users\/([^\/]+)\/?.*/i,this._gwItem=/http.+\/items\/([^\/]+)\/?.*/i,this._gwGroup=/http.+\/groups\/([^\/]+)\/?.*/i,this._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getOAuthLocationParams(),window.addEventListener("pageshow",(e=>{this._pageShowHandler(e);}));}registerServers(e){const t=this.serverInfos;t?(e=e.filter((e=>!this.findServerInfo(e.server))),this.serverInfos=t.concat(e)):this.serverInfos=e,e.forEach((e=>{e.owningSystemUrl&&this._portals.push(e.owningSystemUrl),e.hasPortal&&this._portals.push(e.server);}));}registerOAuthInfos(e){const t=this.oAuthInfos;if(t){for(const r of e){const e=this.findOAuthInfo(r.portalUrl);e&&t.splice(t.indexOf(e),1);}this.oAuthInfos=t.concat(e);}else this.oAuthInfos=e;}registerToken(e){e={...e};const t=this._sanitizeUrl(e.server),r=this._isServerRsrc(t);let s,i$1=this.findServerInfo(t),o=!0;i$1||(i$1=new i,i$1.server=this._getServerInstanceRoot(t),r?i$1.hasServer=!0:(i$1.tokenServiceUrl=this._getTokenSvcUrl(t),i$1.hasPortal=!0),this.registerServers([i$1])),s=this._findCredential(t),s?(delete e.server,Object.assign(s,e),o=!1):(s=new L({userId:e.userId,server:i$1.server,token:e.token,expires:e.expires,ssl:e.ssl,scope:r?"server":"portal"}),s.resources=[t],this.credentials.push(s)),s.emitTokenChange(!1),o||s.refreshServerTokens();}toJSON(){return l$t({serverInfos:this.serverInfos.map((e=>e.toJSON())),oAuthInfos:this.oAuthInfos.map((e=>e.toJSON())),credentials:this.credentials.map((e=>e.toJSON()))})}initialize(e){if(!e)return;"string"==typeof e&&(e=JSON.parse(e));const t=e.serverInfos,r=e.oAuthInfos,s=e.credentials;if(t){const e=[];t.forEach((t=>{t.server&&t.tokenServiceUrl&&e.push(t.declaredClass?t:new i(t));})),e.length&&this.registerServers(e);}if(r){const e=[];r.forEach((t=>{t.appId&&e.push(t.declaredClass?t:new i$1(t));})),e.length&&this.registerOAuthInfos(e);}s&&s.forEach((e=>{e.server&&e.token&&e.expires&&e.expires>Date.now()&&((e=e.declaredClass?e:new L(e)).emitTokenChange(),this.credentials.push(e));}));}findServerInfo(e){let t;e=this._sanitizeUrl(e);for(const r of this.serverInfos)if(this._hasSameServerInstance(r.server,e)){t=r;break}return t}findOAuthInfo(e){let t;e=this._sanitizeUrl(e);for(const r of this.oAuthInfos)if(this._hasSameServerInstance(r.portalUrl,e)){t=r;break}return t}findCredential(e,t){if(!e)return;let r;e=this._sanitizeUrl(e);const s=this._isServerRsrc(e)?"server":"portal";if(t){for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&t===i.userId&&i.scope===s){r=i;break}}else for(const i of this.credentials)if(this._hasSameServerInstance(i.server,e)&&-1!==this._getIdenticalSvcIdx(e,i)&&i.scope===s){r=i;break}return r}getCredential(e,t){let r,s,o=!0;t&&(r=!!t.token,s=t.error,o=!1!==t.prompt),t={...t},e=this._sanitizeUrl(e);const n=new AbortController,a=C$6();if(t.signal&&w$7(t.signal,(()=>{n.abort();})),w$7(n,(()=>{a.reject(new s$C("identity-manager:user-aborted","ABORTED"));})),a$t(n))return a.promise;t.signal=n.signal;const h=this._isAdminResource(e),u=r?this.findCredential(e):null;let p;if(u&&s&&s.details&&498===s.details.httpStatus)u.destroy();else if(u)return p=new s$C("identity-manager:not-authorized","You are currently signed in as: '"+u.userId+"'. You do not have access to this resource: "+e,{error:s}),a.reject(p),a.promise;const f=this._findCredential(e,t);if(f)return a.resolve(f),a.promise;let g=this.findServerInfo(e);if(g)!g.hasServer&&this._isServerRsrc(e)&&(g._restInfoPms=this._getTokenSvcUrl(e),g.hasServer=!0);else {const t=this._getTokenSvcUrl(e);if(!t)return p=new s$C("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),a.reject(p),a.promise;g=new i,g.server=this._getServerInstanceRoot(e),"string"==typeof t?(g.tokenServiceUrl=t,g.hasPortal=!0):(g._restInfoPms=t,g.hasServer=!0),this.registerServers([g]);}return g.hasPortal&&void 0===g._selfReq&&(o||F$4(g.tokenServiceUrl,this._appOrigin)||this._gwDomains.some((e=>e.tokenServiceUrl===g.tokenServiceUrl)))&&(g._selfReq={owningTenant:t&&t.owningTenant,selfDfd:this._getPortalSelf(g.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),e)}),this._enqueue(e,g,t,a,h)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(e)&&e.replace(this._gwUser,"$1")||this._gwItem.test(e)&&e.replace(this._gwItem,"$1")||this._gwGroup.test(e)&&e.replace(this._gwGroup,"$1")||""}generateToken(e,t,r){const o=this._rePortalTokenSvc.test(e.tokenServiceUrl),n=new $$4(this._appOrigin),a=e.shortLivedTokenValidity;let h,l,c,d,u,p,g,m;t&&(m=this.tokenValidity||a||this._defaultTokenValidity,m>a&&a>0&&(m=a)),r&&(h=r.isAdmin,l=r.serverUrl,c=r.token,p=r.signal,g=r.ssl,e.customParameters=r.customParameters),h?d=e.adminTokenServiceUrl:(d=e.tokenServiceUrl,u=new $$4(d.toLowerCase()),e.webTierAuth&&r?.serverUrl&&!g&&"http"===n.scheme&&(F$4(n.uri,d,!0)||"https"===u.scheme&&n.host===u.host&&"7080"===n.port&&"7443"===u.port)&&(d=d.replace(/^https:/i,"http:").replace(/:7443/i,":7080")));const v={query:{request:"getToken",username:t?.username,password:t?.password,serverUrl:l,token:c,expiration:m,referer:h||o?this._appOrigin:null,client:h?"referer":null,f:"json",...e.customParameters},method:"post",authMode:"anonymous",useProxy:this._useProxy(e,r),signal:p,...r?.ioArgs};o||(v.withCredentials=!1);return j$b(d,v).then((r=>{const s=r.data;if(!s||!s.token)return new s$C("identity-manager:authentication-failed","Unable to generate token");const o=e.server;return C[o]||(C[o]={}),t&&(C[o][t.username]=t.password),s.validity=m,s}))}isBusy(){return !!this._busy}checkSignInStatus(e){return this.checkAppAccess(e,"").then((e=>e.credential))}checkAppAccess(e,t,r){let o=!1;return this.getCredential(e,{prompt:!1}).then((n=>{let a;const h={f:"json"};if("portal"===n.scope)if(t&&(this._doPortalSignIn(e)||r&&r.force))a=n.server+"/sharing/rest/oauth2/validateAppAccess",h.client_id=t;else {if(!n.token)return {credential:n};a=n.server+"/sharing/rest";}else {if(!n.token)return {credential:n};a=n.server+"/rest/services";}return n.token&&(h.token=n.token),j$b(a,{query:h,authMode:"anonymous"}).then((e=>{if(!1===e.data.valid)throw new s$C("identity-manager:not-authorized",`You are currently signed in as: '${n.userId}'.`,e.data);return o=!!e.data.viewOnlyUserTypeApp,{credential:n}})).catch((e=>{if("identity-manager:not-authorized"===e.name)throw e;const t=e.details&&e.details.httpStatus;if(498===t)throw n.destroy(),new s$C("identity-manager:not-authenticated","User is not signed in.");if(400===t)throw new s$C("identity-manager:invalid-request");return {credential:n}}))})).then((e=>({credential:e.credential,viewOnly:o})))}setOAuthResponseHash(e){e&&("#"===e.charAt(0)&&(e=e.substring(1)),this._processOAuthPopupParams(I$6(e)));}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e;}setProtocolErrorHandler(e){this._protocolFunc=e;}signIn(e,t,r={}){const s=C$6(),o=()=>{h$1?.remove(),d?.remove(),p?.remove(),a?.destroy(),this.dialog?.destroy(),this.dialog=a=h$1=d=p=null;},n=()=>{o(),this._oAuthDfd=null,s.reject(new s$C("identity-manager:user-aborted","ABORTED"));};r.signal&&w$7(r.signal,(()=>{n();}));let a=new this.formConstructor;a.resource=this.getResourceName(e),a.server=t.server,this.dialog=new h,this.dialog.content=a,this.dialog.open=!0,this.emit("dialog-create");let h$1=a.on("cancel",n),d=l$4((()=>this.dialog.open),n),p=a.on("submit",(e=>{this.generateToken(t,e,{isAdmin:r.isAdmin,signal:r.signal}).then((i=>{o();const n=new L({userId:e.username,server:t.server,token:i.token,expires:null!=i.expires?Number(i.expires):null,ssl:!!i.ssl,isAdmin:r.isAdmin,validity:i.validity});s.resolve(n);})).catch((e=>{a.error=e,a.signingIn=!1;}));}));return s.promise}oAuthSignIn(e,t,r,s){this._oAuthDfd=C$6();const o=this._oAuthDfd;let n;s?.signal&&w$7(s.signal,(()=>{const e=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;e&&!e.closed?e.close():this.dialog&&f();})),o.resUrl_=e,o.sinfo_=t,o.oinfo_=r;const a=r._oAuthCred;if(a.storage&&("authorization-code"===r.flowType||"auto"===r.flowType&&!r.popup&&t.currentVersion>=8.4)){let e=crypto.getRandomValues(new Uint8Array(32));n=et(e),a.codeVerifier=n,e=crypto.getRandomValues(new Uint8Array(32)),a.stateUID=et(e),a.save()||(a.codeVerifier=n=null);}else a.codeVerifier=null;let h$1,d,p,_;this._getCodeChallenge(n).then((i=>{const o=!s||!1!==s.oAuthPopupConfirmation;r.popup&&o?(h$1=new this.formConstructor,h$1.oAuthPrompt=!0,h$1.server=t.server,this.dialog=new h,this.dialog.content=h$1,this.dialog.open=!0,this.emit("dialog-create"),d=h$1.on("cancel",f),p=l$4((()=>this.dialog.open),f),_=h$1.on("submit",(()=>{g(),this._doOAuthSignIn(e,t,r,i);}))):this._doOAuthSignIn(e,t,r,i);}));const f=()=>{g(),this._oAuthDfd=null,o.reject(new s$C("identity-manager:user-aborted","ABORTED"));},g=()=>{d?.remove(),p?.remove(),_?.remove(),h$1?.destroy(),this.dialog?.destroy(),this.dialog=null;};return o.promise}destroyCredentials(){if(this.credentials){this.credentials.slice().forEach((e=>{e.destroy();}));}this.emit("credentials-destroy");}enablePostMessageAuth(e="https://www.arcgis.com/sharing/rest"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=r$o(window,"message",(t=>{if((t.origin===this._appOrigin||t.origin.endsWith(".arcgis.com"))&&"arcgis:auth:requestCredential"===t.data?.type){const r=t.source;this.getCredential(e).then((e=>{r.postMessage({type:"arcgis:auth:credential",credential:{expires:e.expires,server:e.server,ssl:e.ssl,token:e.token,userId:e.userId}},t.origin);})).catch((e=>{r.postMessage({type:"arcgis:auth:error",error:{name:e.name,message:e.message}},t.origin);}));}}));}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null);}_getOAuthLocationParams(){let e=window.location.hash;if(e){"#"===e.charAt(0)&&(e=e.substring(1));const t=I$6(e);let r=!1;if(t.access_token&&t.expires_in&&t.state&&t.hasOwnProperty("username"))try{t.state=JSON.parse(t.state),t.state.portalUrl&&(this._oAuthLocationParams=t,r=!0);}catch{}else if(t.error&&t.error_description&&(console.log("IdentityManager OAuth Error: ",t.error," - ",t.error_description),"access_denied"===t.error&&(r=!0,t.state)))try{t.state=JSON.parse(t.state);}catch{}r&&(window.location.hash=t.state?.hash||"");}let t=window.location.search;if(t){"?"===t.charAt(0)&&(t=t.substring(1));const e=I$6(t);let r=!1;if(e.code&&e.state)try{e.state=JSON.parse(e.state),e.state.portalUrl&&e.state.uid&&(this._oAuthLocationParams=e,r=!0);}catch{}else if(e.error&&e.error_description&&(console.log("IdentityManager OAuth Error: ",e.error," - ",e.error_description),"access_denied"===e.error&&(r=!0,e.state)))try{e.state=JSON.parse(e.state);}catch{}if(r){const t={...e};["code","error","error_description","message_code","persist","state"].forEach((e=>{delete t[e];}));const r=v$a(t),s=window.location.pathname+(r?`?${r}`:"")+(e.state?.hash||"");window.history.replaceState(window.history.state,"",s);}}}_getOAuthToken(e,t,r,i,o){return e=e.replace(/^http:/i,"https:"),j$b(`${e}/sharing/rest/oauth2/token`,{authMode:"anonymous",method:"post",query:i&&o?{grant_type:"authorization_code",code:t,redirect_uri:i,client_id:r,code_verifier:o}:{grant_type:"refresh_token",refresh_token:t,client_id:r}}).then((e=>e.data))}_getCodeChallenge(e){if(e&&globalThis.isSecureContext){const t=(new TextEncoder).encode(e);return crypto.subtle.digest("SHA-256",t).then((e=>et(new Uint8Array(e))))}return Promise.resolve(null)}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const e=new s$C("identity-manager:user-aborted","ABORTED");this._errbackFunc(e);}}_findCredential(e,t){let r,s,i,o,n=-1;const a=t&&t.token,h=t&&t.resource,l=this._isServerRsrc(e)?"server":"portal",c=this.credentials.filter((t=>this._hasSameServerInstance(t.server,e)&&t.scope===l));if(e=h||e,c.length)if(1===c.length){if(r=c[0],i=this.findServerInfo(r.server),s=i&&i.owningSystemUrl,o=s?this.findCredential(s,r.userId):void 0,n=this._getIdenticalSvcIdx(e,r),!a)return -1===n&&r.resources.push(e),this._addResource(e,o),r;-1!==n&&(r.resources.splice(n,1),this._removeResource(e,o));}else {let t,r;if(c.some((a=>(r=this._getIdenticalSvcIdx(e,a),-1!==r&&(t=a,i=this.findServerInfo(t.server),s=i&&i.owningSystemUrl,o=s?this.findCredential(s,t.userId):void 0,n=r,!0)))),a)t&&(t.resources.splice(n,1),this._removeResource(e,o));else if(t)return this._addResource(e,o),t}}_findOAuthInfo(e){let t=this.findOAuthInfo(e);if(!t)for(const r of this.oAuthInfos)if(this._isIdProvider(r.portalUrl,e)){t=r;break}return t}_addResource(e,t){t&&-1===this._getIdenticalSvcIdx(e,t)&&t.resources.push(e);}_removeResource(e,t){let r=-1;t&&(r=this._getIdenticalSvcIdx(e,t),r>-1&&t.resources.splice(r,1));}_useProxy(e,t){return t&&t.isAdmin&&!F$4(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&"10.1"===String(e.currentVersion)&&!F$4(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const t=new $$4(e);return t.scheme+"://"+t.host+(null!=t.port?":"+t.port:"")}_getServerInstanceRoot(e){const t=e.toLowerCase();let r=t.indexOf(this._agsRest);return -1===r&&this._isAdminResource(e)&&(r=this._agsAdmin.test(e)?e.replace(this._agsAdmin,"$1").length:e.search(this._adminSvcs)),-1!==r||t$w(t)||(r=t.indexOf("/sharing")),-1===r&&"/"===t.substr(-1)&&(r=t.length-1),r>-1?e.substring(0,r):e}_hasSameServerInstance(e,t){return "/"===e.substr(-1)&&(e=e.slice(0,-1)),e=e.toLowerCase(),t=this._getServerInstanceRoot(t).toLowerCase(),e=this._normalizeAGOLorgDomain(e),t=this._normalizeAGOLorgDomain(t),(e=e.substr(e.indexOf(":")))===(t=t.substr(t.indexOf(":")))}_normalizeAGOLorgDomain(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,s=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):s.test(e)&&(e=e.replace(s,"https://qaext.arcgis.com")),e}_sanitizeUrl(e){const r=(s$F.request.proxyUrl||"").toLowerCase(),s=r?e.toLowerCase().indexOf(r+"?"):-1;return -1!==s&&(e=e.substring(s+r.length+1)),e=K$2(e),L$6(e).path}_isRESTService(e){return e.includes(this._agsRest)}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,t){let r=!1;if(this._isRESTService(e)&&this._isRESTService(t)){const s=this._getSuffix(e).toLowerCase(),i=this._getSuffix(t).toLowerCase();if(r=s===i,!r){const e=/(.*)\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;r=s.replaceAll(e,"$1")===i.replaceAll(e,"$1");}}else this._isAdminResource(e)&&this._isAdminResource(t)?r=!0:this._isServerRsrc(e)||this._isServerRsrc(t)||!this._isPortalDomain(e)||(r=!0);return r}_isPortalDomain(e){const r=new $$4(e.toLowerCase()),s=this._portalConfig;let i=this._gwDomains.some((e=>e.regex.test(r.uri)));return !i&&s&&(i=this._hasSameServerInstance(this._getServerInstanceRoot(s.restBaseUrl),r.uri)),i||s$F.portalUrl&&(i=F$4(r,s$F.portalUrl,!0)),i||(i=this._portals.some((e=>this._hasSameServerInstance(e,r.uri)))),i=i||this._agsPortal.test(r.path),i}_isIdProvider(e,t){let r=-1,s=-1;this._gwDomains.forEach(((i,o)=>{-1===r&&i.regex.test(e)&&(r=o),-1===s&&i.regex.test(t)&&(s=o);}));let i=!1;if(r>-1&&s>-1&&(0===r||4===r?0!==s&&4!==s||(i=!0):1===r?1!==s&&2!==s||(i=!0):2===r?2===s&&(i=!0):3===r&&3===s&&(i=!0)),!i){const r=this.findServerInfo(t),s=r&&r.owningSystemUrl;s&&b(r)&&this._isPortalDomain(s)&&this._isIdProvider(e,s)&&(i=!0);}return i}_getIdenticalSvcIdx(e,t){let r=-1;for(let s=0;s<t.resources.length;s++){const i=t.resources[s];if(this._isIdenticalService(e,i)){r=s;break}}return r}_getSuffix(e){return e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")}_getTokenSvcUrl(e){let t,r,i;if(this._isRESTService(e)||this._isAdminResource(e)){const i=this._getServerInstanceRoot(e);return t=i+"/admin/generateToken",r=j$b(e=i+"/rest/info",{query:{f:"json"}}).then((e=>e.data)),{adminUrl:t,promise:r}}if(this._isPortalDomain(e)){let t="";if(this._gwDomains.some((r=>(r.regex.test(e)&&(t=r.tokenServiceUrl),!!t))),t||this._portals.some((r=>(this._hasSameServerInstance(r,e)&&(t=r+this._gwTokenUrl),!!t))),t||(i=e.toLowerCase().indexOf("/sharing"),-1!==i&&(t=e.substring(0,i)+this._gwTokenUrl)),t||(t=this._getOrigin(e)+this._gwTokenUrl),t){const r=new $$4(e).port;/^http:\/\//i.test(e)&&"7080"===r&&(t=t.replace(/:7080/i,":7443")),t=t.replace(/http:/i,"https:");}return t}if(e.toLowerCase().includes("premium.arcgisonline.com"))return "https://premium.arcgisonline.com/server/tokens"}_processOAuthResponseParams(e,t,r){const s=t._oAuthCred;if(e.code){const i=s.codeVerifier;return s.codeVerifier=null,s.stateUID=null,s.save(),this._getOAuthToken(r.server,e.code,t.appId,this._getRedirectURI(t,!0),i).then((i=>{const o=new L({userId:i.username,server:r.server,token:i.access_token,expires:Date.now()+1e3*i.expires_in,ssl:i.ssl,oAuthState:e.state,_oAuthCred:s});return t.userId=o.userId,s.storage=i.persist?q:j,s.refreshToken=i.refresh_token,s.token=null,s.expires=i.refresh_token_expires_in?Date.now()+1e3*i.refresh_token_expires_in:null,s.userId=o.userId,s.ssl=o.ssl,s.save(),o}))}const i=new L({userId:e.username,server:r.server,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:"true"===e.ssl,oAuthState:e.state,_oAuthCred:s});return t.userId=i.userId,s.storage=e.persist?q:j,s.refreshToken=null,s.token=i.token,s.expires=i.expires,s.userId=i.userId,s.ssl=i.ssl,s.save(),Promise.resolve(i)}_processOAuthPopupParams(e){const t=this._oAuthDfd;if(this._oAuthDfd=null,t)if(clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle?.remove(),e.error){const r="access_denied"===e.error,s=new s$C(r?"identity-manager:user-aborted":"identity-manager:authentication-failed",r?"ABORTED":"OAuth: "+e.error+" - "+e.error_description);t.reject(s);}else this._processOAuthResponseParams(e,t.oinfo_,t.sinfo_).then((e=>{t.resolve(e);})).catch((e=>{t.reject(e);}));}_setOAuthResponseQueryString(e){e&&("?"===e.charAt(0)&&(e=e.substring(1)),this._processOAuthPopupParams(I$6(e)));}_exchangeToken(e,t,r){return j$b(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:"anonymous",method:"post",query:{f:"json",client_id:t,token:r}}).then((e=>e.data.token))}_getPlatformSelf(e,t){return e=e.replace(/^http:/i,"https:"),j$b(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:"anonymous",headers:{"X-Esri-Auth-Client-Id":t,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},method:"post",query:{f:"json",expiration:30},withCredentials:!0}).then((e=>e.data))}_getPortalSelf(e,t){let r;if(this._gwDomains.some((t=>(t.regex.test(e)&&(r=t.customBaseUrl),!!r))),r)return Promise.resolve({allSSL:!0,currentVersion:"8.4",customBaseUrl:r,portalMode:"multitenant",supportsOAuth:!0});this._appOrigin.startsWith("https:")?e=e.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(t)&&(e=e.replace(/^https:/i,"http:").replace(/:7443/i,":7080"));return j$b(e,{query:{f:"json"},authMode:"anonymous",withCredentials:!0}).then((e=>e.data))}_doPortalSignIn(e){const t=this._portalConfig,r=window.location.href,s=this.findServerInfo(e);return !(!t&&!this._isPortalDomain(r)||!(s?s.hasPortal||s.owningSystemUrl&&this._isPortalDomain(s.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(r,e)||t&&(this._hasSameServerInstance(this._getServerInstanceRoot(t.restBaseUrl),e)||this._isIdProvider(t.restBaseUrl,e))||F$4(r,e,!0)))}_checkProtocol(e,t,r,s){let o=!0;const n=s?t.adminTokenServiceUrl:t.tokenServiceUrl;if(n.trim().toLowerCase().startsWith("https:")&&!this._appOrigin.startsWith("https:")&&J$2(n)&&(o=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:t}),!o)){r(new s$C("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection."));}return o}_enqueue(e,t,r,s,i,o){return s||(s=C$6()),s.resUrl_=e,s.sinfo_=t,s.options_=r,s.admin_=i,s.refresh_=o,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(s)):this._xoReqs.push(s):this._doSignIn(s),s.promise}_doSignIn(e$1){this._busy=e$1,this._rejectOnPersistedPageShow=!1;const t=t=>{const r=e$1.options_&&e$1.options_.resource,s=e$1.resUrl_,i=e$1.refresh_;let o=!1;this.credentials.includes(t)||(i&&this.credentials.includes(i)?(i.userId=t.userId,i.token=t.token,i.expires=t.expires,i.validity=t.validity,i.ssl=t.ssl,i.creationTime=t.creationTime,o=!0,t=i):this.credentials.push(t)),t.resources||(t.resources=[]),t.resources.includes(r||s)||t.resources.push(r||s),t.scope=this._isServerRsrc(s)?"server":"portal",t.emitTokenChange();const n=this._soReqs,a={};this._soReqs=[],n.forEach((e=>{if(!this._isIdenticalService(s,e.resUrl_)){const r=this._getSuffix(e.resUrl_);a[r]||(a[r]=!0,t.resources.push(e.resUrl_));}})),e$1.resolve(t),n.forEach((e=>{this._hasSameServerInstance(this._getServerInstanceRoot(s),e.resUrl_)?e.resolve(t):this._soReqs.push(e);})),this._busy=e$1.resUrl_=e$1.sinfo_=e$1.refresh_=null,o||this.emit("credential-create",{credential:t}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift());},r=t=>{e$1.reject(t),this._busy=e$1.resUrl_=e$1.sinfo_=e$1.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift());},s=(o,a,h,l)=>{const d=e$1.sinfo_,u=!e$1.options_||!1!==e$1.options_.prompt,p=d.hasPortal&&this._findOAuthInfo(e$1.resUrl_);let f,g;if(o)t(new L({userId:o,server:d.server,token:h||null,expires:null!=l?Number(l):null,ssl:!!a}));else if(window!==window.parent&&this._appUrlObj.query?.["arcgis-auth-origin"]&&this._appUrlObj.query?.["arcgis-auth-portal"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query["arcgis-auth-portal"]),e$1.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},this._appUrlObj.query["arcgis-auth-origin"]);const s=r$o(window,"message",(e=>{e.source===window.parent&&e.data&&("arcgis:auth:credential"===e.data.type?(s.remove(),e.data.credential.expires<Date.now()?r(new s$C("identity-manager:credential-request-failed","Parent application's token has expired.")):t(new L(e.data.credential))):"arcgis:auth:error"===e.data.type&&(s.remove(),"tokenExpiredError"===e.data.error.name?r(new s$C("identity-manager:credential-request-failed","Parent application's token has expired.")):r(s$C.fromJSON(e.data.error))));}));w$7(e$1.options_?.signal,(()=>{s.remove();}));}else if(p){let o=p._oAuthCred;if(!o){const e$1=new e(p,q),t=new e(p,j);e$1.isValid()&&t.isValid()?e$1.expires>t.expires?(o=e$1,t.destroy()):(o=t,e$1.destroy()):o=e$1.isValid()?e$1:t,p._oAuthCred=o;}if(o.isValid()){f=new L({userId:o.userId,server:d.server,token:o.token,expires:o.expires,ssl:o.ssl,_oAuthCred:o});const r=p.appId!==o.appId&&this._doPortalSignIn(e$1.resUrl_);r||o.refreshToken?(e$1._pendingDfd=o.refreshToken?this._getOAuthToken(d.server,o.refreshToken,o.appId).then((e=>(f.expires=Date.now()+1e3*e.expires_in,f.token=e.access_token,f))):Promise.resolve(f),e$1._pendingDfd.then((e=>r?this._exchangeToken(e.server,p.appId,e.token).then((t=>(e.token=t,e))).catch((()=>e)):e)).then((e=>{t(e);})).catch((()=>{o?.destroy(),s();}))):t(f);}else if(this._oAuthLocationParams&&this._hasSameServerInstance(p.portalUrl,this._oAuthLocationParams.state.portalUrl)&&(this._oAuthLocationParams.access_token||this._oAuthLocationParams.code&&this._oAuthLocationParams.state.uid===o.stateUID&&o.codeVerifier)){const s=this._oAuthLocationParams;this._oAuthLocationParams=null,e$1._pendingDfd=this._processOAuthResponseParams(s,p,d).then((e=>{t(e);})).catch(r);}else {const s=()=>{u?e$1._pendingDfd=this.oAuthSignIn(e$1.resUrl_,d,p,e$1.options_).then(t,r):(g=new s$C("identity-manager:not-authenticated","User is not signed in."),r(g));};this._doPortalSignIn(e$1.resUrl_)?e$1._pendingDfd=this._getPlatformSelf(d.server,p.appId).then((e=>{F$4(e.portalUrl,this._appOrigin,!0)?(f=new L({userId:e.username,server:d.server,expires:Date.now()+1e3*e.expires_in,token:e.token}),t(f)):s();})).catch(s):s();}}else if(u){if(this._checkProtocol(e$1.resUrl_,d,r,e$1.admin_)){let s=e$1.options_;e$1.admin_&&(s=s||{},s.isAdmin=!0),e$1._pendingDfd=this.signIn(e$1.resUrl_,d,s).then(t,r);}}else g=new s$C("identity-manager:not-authenticated","User is not signed in."),r(g);},o=()=>{const s=e$1.sinfo_,i=s.owningSystemUrl,o=e$1.options_;let n,a,h,l;if(o&&(n=o.token,a=o.error,h=o.prompt),l=this._findCredential(i,{token:n,resource:e$1.resUrl_}),!l)for(const e of this.credentials)if(this._isIdProvider(i,e.server)){l=e;break}if(l){const i=this.findCredential(e$1.resUrl_,l.userId);if(i)t(i);else if(D(s,this._legacyFed)){const e=l.toJSON();e.server=s.server,e.resources=null,t(new L(e));}else {(e$1._pendingDfd=this.generateToken(this.findServerInfo(l.server),null,{serverUrl:e$1.resUrl_,token:l.token,signal:e$1.options_.signal,ssl:l.ssl})).then((r=>{t(new L({userId:l?.userId,server:s.server,token:r.token,expires:null!=r.expires?Number(r.expires):null,ssl:!!r.ssl,isAdmin:e$1.admin_,validity:r.validity}));}),r);}}else {this._busy=null,n&&(e$1.options_.token=null);(e$1._pendingDfd=this.getCredential(i.replace(/\/?$/,"/sharing"),{resource:e$1.resUrl_,owningTenant:s.owningTenant,signal:e$1.options_.signal,token:n,error:a,prompt:h})).then((()=>{this._enqueue(e$1.resUrl_,e$1.sinfo_,e$1.options_,e$1,e$1.admin_);}),(t=>{e$1.resUrl_=e$1.sinfo_=e$1.refresh_=null,e$1.reject(t);}));}};this._errbackFunc=r;const a=e$1.sinfo_.owningSystemUrl,l=this._isServerRsrc(e$1.resUrl_),d=e$1.sinfo_._restInfoPms;d?d.promise.then((t=>{const r=e$1.sinfo_;if(r._restInfoPms){r.adminTokenServiceUrl=r._restInfoPms.adminUrl,r._restInfoPms=null,r.tokenServiceUrl=(t$x("authInfo.tokenServicesUrl",t)||t$x("authInfo.tokenServiceUrl",t)||t$x("tokenServiceUrl",t))??null,r.shortLivedTokenValidity=t$x("authInfo.shortLivedTokenValidity",t)??null,r.currentVersion=t.currentVersion,r.owningTenant=t.owningTenant;const e=r.owningSystemUrl=t.owningSystemUrl;e&&this._portals.push(e);}l&&r.owningSystemUrl?o():s();}),(()=>{e$1.sinfo_._restInfoPms=null;const t=new s$C("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");r(t);})):l&&a?o():e$1.sinfo_._selfReq?e$1.sinfo_._selfReq.selfDfd.then((t=>{const r={};let s,i,o,n;return t&&(s=t.user&&t.user.username,r.username=s,r.allSSL=t.allSSL,i=t.supportsOAuth,n=parseFloat(t.currentVersion),"multitenant"===t.portalMode&&(o=t.customBaseUrl),e$1.sinfo_.currentVersion=n),e$1.sinfo_.webTierAuth=!!s,s&&this.normalizeWebTierAuth?this.generateToken(e$1.sinfo_,null,{ssl:r.allSSL}).catch((()=>null)).then((e=>(r.portalToken=e&&e.token,r.tokenExpiration=e&&e.expires,r))):!s&&i&&n>=4.4&&!this._findOAuthInfo(e$1.resUrl_)?this._generateOAuthInfo({portalUrl:e$1.sinfo_.server,customBaseUrl:o,owningTenant:e$1.sinfo_._selfReq.owningTenant}).catch((()=>null)).then((()=>r)):r})).catch((()=>null)).then((t=>{e$1.sinfo_._selfReq=null,t?s(t.username,t.allSSL,t.portalToken,t.tokenExpiration):s();})):s();}_generateOAuthInfo(e){let t,r=null,i=e.portalUrl;const o=e.customBaseUrl,n=e.owningTenant,a=!this._defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){r=window.location.href;let e=r.indexOf("?");e>-1&&(r=r.slice(0,e)),e=r.search(/\/(apps|home)\//),r=e>-1?r.slice(0,e):null;}return a&&r?(this._hasTestedIfAppIsOnPortal=!0,t=j$b(r+"/sharing/rest",{query:{f:"json"}}).then((()=>{this._defaultOAuthInfo=new i$1({appId:"arcgisonline",popupCallbackUrl:r+"/home/oauth-callback.html"});}))):t=Promise.resolve(),t.then((()=>{if(this._defaultOAuthInfo)return i=i.replace(/^http:/i,"https:"),j$b(i+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:n,client_id:this._defaultOAuthInfo.appId,redirect_uri:_$d(this._defaultOAuthInfo.popupCallbackUrl),f:"json"}}).then((e=>{if(e.data.valid){const t=this._defaultOAuthInfo.clone();e.data.urlKey&&o?t.portalUrl="https://"+e.data.urlKey.toLowerCase()+"."+o:t.portalUrl=i,t.popup=window!==window.top||!(F$4(i,this._appOrigin)||this._gwDomains.some((e=>e.regex.test(i)&&e.regex.test(this._appOrigin)))),this.oAuthInfos.push(t);}}))}))}_doOAuthSignIn(e,t,r,s){const o=r._oAuthCred,a={portalUrl:r.portalUrl};!r.popup&&r.preserveUrlHash&&window.location.hash&&(a.hash=window.location.hash),o.stateUID&&(a.uid=o.stateUID);const h={client_id:r.appId,response_type:o.codeVerifier?"code":"token",state:JSON.stringify(a),expiration:r.expiration,locale:r.locale,redirect_uri:this._getRedirectURI(r,!!o.codeVerifier)};r.forceLogin&&(h.force_login=!0),r.forceUserId&&r.userId&&(h.prepopulatedusername=r.userId),!r.popup&&this._doPortalSignIn(e)&&(h.redirectToUserOrgUrl=!0),o.codeVerifier&&(h.code_challenge=s||o.codeVerifier,h.code_challenge_method=s?"S256":"plain");const l=r.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",c=l+"?"+v$a(h);if(r.popup){const e=window.open(c,"esriJSAPIOAuth",r.popupWindowFeatures);if(e)e.focus(),this._oAuthDfd.oAuthWin_=e,this._oAuthIntervalId=setInterval((()=>{if(e.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle.remove();const e=this._oAuthDfd;if(e){const t=new s$C("identity-manager:user-aborted","ABORTED");e.reject(t);}}}),500),this._oAuthOnPopupHandle=r$o(window,["arcgis:auth:hash","arcgis:auth:location:search"],(e=>{"arcgis:auth:hash"===e.type?this.setOAuthResponseHash(e.detail):this._setOAuthResponseQueryString(e.detail);}));else {const e=new s$C("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(e);}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:h,authorizeUrl:l,resourceUrl:e,serverInfo:t,oAuthInfo:r}):window.location.href=c;}_getRedirectURI(e,t){const r=window.location.href.replace(/#.*$/,"");if(e.popup)return _$d(e.popupCallbackUrl);if(t){const e=L$6(r);return e.query&&["code","error","error_description","message_code","persist","state"].forEach((t=>{delete e.query[t];})),kt(e.path,e.query)}return r}}E.prototype.declaredClass="esri.identity.IdentityManagerBase";let L=class extends n$9.EventedAccessor{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e&&e._oAuthCred&&(this._oAuthCred=e._oAuthCred);}initialize(){this.resources=this.resources||[],null==this.creationTime&&(this.creationTime=Date.now());}refreshToken(){const e=n$s.findServerInfo(this.server),t=e&&e.owningSystemUrl,s=!!t&&"server"===this.scope,i=s&&D(e,n$s._legacyFed),o=e.webTierAuth,n=o&&n$s.normalizeWebTierAuth,a=C[this.server],h=a&&a[this.userId];let l,c=this.resources&&this.resources[0],d=s?n$s.findServerInfo(t):null,u={username:this.userId,password:h};if(o&&!n)return;s&&!d&&n$s.serverInfos.some((e=>(n$s._isIdProvider(t,e.server)&&(d=e),!!d)));const p=d?n$s.findCredential(d.server,this.userId):null;if(!s||p){if(!i){if(s)l={serverUrl:c,token:p&&p.token,ssl:p&&p.ssl};else if(n)u=null,l={ssl:this.ssl};else {if(!h){let t;return c&&(c=n$s._sanitizeUrl(c),this._enqueued=1,t=n$s._enqueue(c,e,null,null,this.isAdmin,this),t.then((()=>{this._enqueued=0,this.refreshServerTokens();})).catch((()=>{this._enqueued=0;}))),t}this.isAdmin&&(l={isAdmin:!0});}return n$s.generateToken(s?d:e,s?null:u,l).then((e=>{this.token=e.token,this.expires=null!=e.expires?Number(e.expires):null,this.creationTime=Date.now(),this.validity=e.validity,this.emitTokenChange(),this.refreshServerTokens();})).catch((()=>{}))}p?.refreshToken();}}refreshServerTokens(){"portal"===this.scope&&n$s.credentials.forEach((e=>{const t=n$s.findServerInfo(e.server),s=t&&t.owningSystemUrl;e!==this&&e.userId===this.userId&&s&&"server"===e.scope&&(n$s._hasSameServerInstance(this.server,s)||n$s._isIdProvider(s,this.server))&&(D(t,n$s._legacyFed)?(e.token=this.token,e.expires=this.expires,e.creationTime=this.creationTime,e.validity=this.validity,e.emitTokenChange()):e.refreshToken());}));}emitTokenChange(e){clearTimeout(this._refreshTimer);const t=this.server&&n$s.findServerInfo(this.server),s=t&&t.owningSystemUrl,i=s&&n$s.findServerInfo(s);!1===e||s&&"portal"!==this.scope&&(!i||!i.webTierAuth||n$s.normalizeWebTierAuth)||null==this.expires&&null==this.validity||this._startRefreshTimer(),this.emit("token-change");}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=n$s.credentials.indexOf(this);e>-1&&n$s.credentials.splice(e,1),this.emitTokenChange(),this.emit("destroy");}toJSON(){const e=l$t({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),t=this.resources;return t&&t.length>0&&(e.resources=t.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,t=2**31-1;let r=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();r<0?r=0:r>t&&(r=t),this._refreshTimer=setTimeout(this.refreshToken.bind(this),r>e?r-e:r);}};e$x([y$d()],L.prototype,"creationTime",void 0),e$x([y$d()],L.prototype,"expires",void 0),e$x([y$d()],L.prototype,"isAdmin",void 0),e$x([y$d()],L.prototype,"oAuthState",void 0),e$x([y$d()],L.prototype,"resources",void 0),e$x([y$d()],L.prototype,"scope",void 0),e$x([y$d()],L.prototype,"server",void 0),e$x([y$d()],L.prototype,"ssl",void 0),e$x([y$d()],L.prototype,"token",void 0),e$x([y$d()],L.prototype,"tokenRefreshBuffer",void 0),e$x([y$d()],L.prototype,"userId",void 0),e$x([y$d()],L.prototype,"validity",void 0),L=e$x([a$i("esri.identity.Credential")],L);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r extends E{}r.prototype.declaredClass="esri.identity.IdentityManager";const s=new r;o$z(s);

const IdentityManager = /*#__PURE__*/Object.freeze({
  __proto__: null,
  'default': s
});

class GeocoderClient {
  constructor(token, geocoderUrl) {
    this.token = token;
    this.geocoderUrl = geocoderUrl || _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.getUrl('geocode');
    if (!this.geocoderUrl.endsWith('/'))
      this.geocoderUrl += '/';
    s$F.apiKey = token;
  }
  /**
   * Provides quick search suggestions by single-line text and optional parameters.
   * See https://developers.arcgis.com/rest/geocode/api-reference/geocoding-suggest.htm
   *
   * @param text
   * @param options Optional parameters:
   *    location - origin point used to prefer geocoding candidates; string in format "x,y" (e.g., "-117.196,34.056")
   *    sourceCountry - sourceCountry to be used for search
   *    langCode - locale for search
   */
  suggest(text, options) {
    return new Promise((resolve, reject) => {
      if (!text || !text.length) {
        resolve([]);
        return;
      }
      let suggestParams = new URLSearchParams({
        text: text
      });
      options?.location && suggestParams.set('location', options.location);
      options?.sourceCountry && suggestParams.set('sourceCountry', options.sourceCountry);
      options?.langCode && suggestParams.set('langCode', options.langCode);
      this._request(this.geocoderUrl + 'suggest', suggestParams)
        .then(result => {
        resolve(result.suggestions);
      }).catch(error => {
        reject(error);
      });
    });
  }
  /**
   * Geocodes location by single-line address and optional parameters.
   * See https://developers.arcgis.com/rest/geocode/api-reference/geocoding-find-address-candidates.htm
   *
   * @param text Location to be geocoded
   * @param options Optional parameters:
   *    location - origin point used to prefer geocoding candidates; string in format "x,y" (e.g., "-117.196,34.056")
   *    magicKey - key returned from 'suggest' operation for 'text' input; string
   *    maxLocations - maximum number of locations to be returned; number, default is 10
   *    outFields - list of fields to be returned as attributes; string (e.g., "Region,City,Phone")
   */
  geocode(text, options) {
    return new Promise((resolve, reject) => {
      if (!text || !text.length) {
        resolve([]);
        return;
      }
      let geocodeParams = new URLSearchParams({
        maxLocations: options?.maxLocations || 10,
        singleLine: text
      });
      options?.location && geocodeParams.set('location', options.location);
      options?.outFields && geocodeParams.set('outFields', options.outFields);
      options?.magicKey && geocodeParams.set('magicKey', options.magicKey);
      // For the online geocoder service, we want to bypass sending the token, it is not required and causes an issue for Enterprise implementations
      this._request(this.geocoderUrl + 'findAddressCandidates', geocodeParams, _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.isOnlineGeocoder(this.geocoderUrl))
        .then(result => {
        resolve(result);
      }).catch(error => {
        reject(error);
      });
    });
  }
  geocodeUsingApi(lat, lon) {
    return new Promise((resolve, reject) => {
      const pt = new x$a({ latitude: lat, longitude: lon });
      const serviceUrl = this.geocoderUrl;
      const params = {
        location: pt
      };
      // Register token if we are NOT using the online Geocoder Service
      if (!_GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.isOnlineGeocoder(serviceUrl)) {
        s.registerToken({
          server: serviceUrl,
          token: this.token
        });
      }
      // Else if we are using the online Geocoder Service, unset the token as it's not required
      else {
        s$F.apiKey = "";
      }
      n$a(serviceUrl, params)
        .then(result => {
        const data = {
          address: result.address,
          shortAddressType: result.attributes.Addr_type,
          shortAddress: result.attributes.Address,
          city: result.attributes.City,
          countryCode: result.attributes.CountryCode,
          postal: result.attributes.Postal,
          label: result.attributes.LongLabel,
          matchAddr: result.attributes.Match_addr
        };
        resolve(data);
      }).catch(error => {
        reject(error);
      });
    });
  }
  _request(url, params, bypassToken) {
    return new Promise((resolve, reject) => {
      if (!bypassToken) {
        params.set('token', this.token);
      }
      params.set('f', 'json');
      let requestUrl = url + '?' + params.toString();
      fetch(requestUrl, {
        method: 'GET'
      }).then(response => {
        if (!response.ok)
          throw new Error(_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('network-response-error'));
        return response.json();
      }).then(result => {
        result.error ? reject(result.error) : resolve(result);
      }).catch(error => {
        reject(error);
      });
    });
  }
}

const arcgisBaSearchCss = ":host{display:block}arcgis-ba-search{width:50%;height:36px}.ba-calcite-dropdown-group{display:block;min-width:240px}.arcgisBaSearchIconButton{width:30px;height:30px;}.arcgisBaSearchInputNoGeog{position:relative;left:0;width:100%;z-index:1}.arcgisBASearchOuter{position:relative}.baSearchElement{position:absolute;top:0;left:0;width:32px;height:32px;font-family:arial;font-size:13pt;z-index:1}.baSearchMagGlass{position:absolute;top:0;right:-7px;height:calc(100% - 2px);width:32px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' version='1.1' x='0px' y='0px' width='28px' height='28px' viewBox='0 0 28 28' enable-background='new 0 0 28 28' xml:space='preserve'%3E%3Cpath d='M29.974,53.745c-0.034-0.165-0.307-0.782-0.402-0.923c-0.096-0.137-1.078-0.882-1.232-0.942 c-0.158-0.06-0.851-0.03-1.041-0.03l-14.906,0.033l2.392-2.447c0.085-0.086,0.173-0.184,0.259-0.27 c0.087-0.086,0.173-0.173,0.261-0.26c0.086-0.086,0.168-0.172,0.247-0.26c0.077-0.086,0.149-0.172,0.22-0.259 c0.139-0.12,0.258-0.251,0.352-0.39c0.096-0.139,0.176-0.281,0.247-0.428c0.07-0.148,0.12-0.303,0.156-0.469 c0.035-0.166,0.051-0.342,0.051-0.533c0-0.087-0.005-0.168-0.014-0.247c-0.008-0.078-0.021-0.155-0.038-0.233 c-0.018-0.077-0.039-0.156-0.065-0.234c-0.025-0.077-0.057-0.16-0.091-0.246c-0.035-0.086-0.074-0.169-0.117-0.246 c-0.043-0.078-0.092-0.156-0.143-0.234c-0.051-0.077-0.108-0.151-0.168-0.221c-0.061-0.07-0.126-0.138-0.195-0.207 c-0.139-0.121-0.281-0.225-0.429-0.312s-0.3-0.158-0.455-0.22c-0.156-0.061-0.321-0.102-0.494-0.127 c-0.172-0.025-0.354-0.035-0.546-0.035c-0.19,0-0.372,0.025-0.545,0.051c-0.173,0.025-0.337,0.092-0.494,0.152 c-0.156,0.061-0.307,0.178-0.455,0.264c-0.146,0.086-0.29,0.279-0.429,0.4L2,54.301l9.95,9.646c0.138,0.139,0.281,0.08,0.429,0.174 c0.147,0.096,0.298,0.18,0.454,0.248c0.156,0.07,0.321,0.121,0.494,0.154c0.173,0.035,0.355,0.053,0.546,0.053 c0.19,0,0.372-0.018,0.545-0.053c0.174-0.033,0.339-0.084,0.493-0.154c0.155-0.068,0.308-0.152,0.454-0.248 c0.148-0.094,0.29-0.211,0.43-0.35c0.139-0.121,0.257-0.252,0.351-0.391c0.096-0.139,0.178-0.285,0.248-0.441 c0.068-0.156,0.121-0.318,0.156-0.482c0.034-0.164,0.051-0.34,0.051-0.531c0-0.07-0.004-0.143-0.014-0.221 c-0.009-0.078-0.021-0.156-0.038-0.234c-0.018-0.076-0.04-0.154-0.064-0.232c-0.026-0.078-0.058-0.162-0.092-0.248 c-0.035-0.088-0.075-0.168-0.117-0.246c-0.043-0.078-0.091-0.15-0.143-0.223c-0.051-0.068-0.107-0.139-0.168-0.205 c-0.061-0.072-0.127-0.141-0.195-0.211c-0.07-0.084-0.143-0.174-0.221-0.258c-0.078-0.088-0.16-0.176-0.247-0.262 c-0.088-0.086-0.173-0.176-0.261-0.262c-0.085-0.088-0.172-0.18-0.259-0.266l-2.391-2.352l14.906-0.031 c0.19,0,0.883-0.059,1.041-0.121c0.154-0.061,0.742-0.436,0.882-0.559c0.139-0.121,0.528-0.676,0.598-0.832 c0.068-0.156,0.121-0.217,0.155-0.379C30.009,54.619,30.009,53.91,29.974,53.745z' style='fill:%23555;fill-opacity:1'/%3E%3Cg id='g2988' style='fill:%23555;fill-opacity:1'%3E%3Cpath d='M0.1,10.535c0-1.45,0.271-2.808,0.815-4.076c0.543-1.268,1.286-2.374,2.229-3.315c0.941-0.942,2.047-1.685,3.315-2.229 C7.727,0.372,9.085,0.1,10.535,0.1s2.808,0.271,4.076,0.815c1.269,0.543,2.374,1.286,3.315,2.229 c0.94,0.941,1.685,2.047,2.229,3.315c0.543,1.268,0.814,2.626,0.814,4.076c0,0.508-0.035,1.01-0.109,1.509 c-0.071,0.498-0.177,0.982-0.311,1.453c-0.138,0.47-0.306,0.924-0.504,1.358c-0.198,0.434-0.428,0.851-0.681,1.25l7.88,7.853 c0.221,0.219,0.381,0.471,0.491,0.762c0.108,0.291,0.163,0.586,0.163,0.883c0,0.298-0.055,0.595-0.163,0.884 c-0.11,0.291-0.271,0.543-0.491,0.76c-0.106,0.109-0.227,0.206-0.351,0.287c-0.127,0.08-0.26,0.149-0.395,0.204 c-0.137,0.054-0.275,0.095-0.422,0.124c-0.145,0.025-0.29,0.039-0.435,0.039s-0.291-0.014-0.436-0.039 c-0.146-0.029-0.291-0.07-0.434-0.124c-0.146-0.055-0.281-0.124-0.408-0.204c-0.127-0.081-0.244-0.178-0.354-0.287l-7.853-7.881 c-0.398,0.255-0.816,0.483-1.25,0.681c-0.435,0.2-0.888,0.367-1.359,0.505c-0.471,0.136-0.956,0.238-1.454,0.312 c-0.499,0.072-1,0.107-1.509,0.107c-1.448,0-2.807-0.271-4.076-0.814c-1.268-0.543-2.373-1.288-3.314-2.229 c-0.943-0.942-1.685-2.048-2.229-3.315c-0.543-1.268-0.815-2.626-0.815-4.076H0.1z M3.579,10.535c0,0.961,0.182,1.862,0.544,2.704 c0.362,0.844,0.86,1.581,1.494,2.215c0.634,0.635,1.372,1.131,2.215,1.493c0.841,0.363,1.742,0.545,2.703,0.545 s1.862-0.182,2.704-0.545c0.844-0.362,1.581-0.858,2.214-1.493c0.635-0.634,1.132-1.372,1.494-2.215 c0.363-0.841,0.545-1.743,0.545-2.704s-0.182-1.862-0.545-2.703c-0.362-0.843-0.859-1.582-1.494-2.215 c-0.633-0.634-1.371-1.132-2.214-1.494c-0.841-0.362-1.743-0.544-2.704-0.544S8.673,3.76,7.832,4.123 C6.989,4.485,6.25,4.983,5.617,5.617S4.485,6.989,4.123,7.832C3.76,8.673,3.579,9.574,3.579,10.535z' id='path2990' style='fill:%23555;fill-opacity:1'/%3E%3C/g%3E%3C/svg%3E\");background-size:18px;background-position:2px 6px;background-repeat:no-repeat;border:none}.baSearchInput{position:absolute;top:0;left:32px;height:28px;width:100%;border:none;font-size:12pt}.htmlSearchBounds{position:relative;top:0;left:40px;width:50%}.baSearchToggle{position:absolute;top:0;left:0;width:32px;height:32px;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 1000 1000' enable-background='new 0 0 1000 1000' xml:space='preserve'%3E%3Cg%3E%3Cpath d='M18.1,232.2l452.4,581.9c15.1,19.5,44.5,19.5,59.7,0L982,232.2c19.3-24.8,1.5-60.9-29.9-60.9H47.9C16.4,171.2-1.3,207.4,18.1,232.2z'/%3E%3C/g%3E%3C/svg%3E%0A\");background-size:12px;background-position:12px;background-repeat:no-repeat;border:none}.baSearchInput:focus{outline:none}.baSearchDropdownTarget{position:absolute;top:-10px;left:-10px;width:42px;height:42px;z-index:3}.baSearchDropdownText{position:absolute;top:8px;left:37px}.baSearchDropdownImgLoc{position:absolute;top:6px;left:4px;width:24px;height:26px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%236F6F6F' d='M7.4688 0C5.3586 0 3 .8459 3 3.0469V12l4.5 4 4.5-4V3.047C12 .8459 9.5797 0 7.4687 0zM11 11.5508L7.5 14.662 4 11.5508v-8.504C4 1.0577 7.1138 1 7.4688 1 8.7803 1 11 1.4312 11 3.0469v8.5039zM7.5 3C6.1193 3 5 4.1193 5 5.5S6.1193 8 7.5 8 10 6.8807 10 5.5 8.8807 3 7.5 3zm0 4.125c-.896 0-1.625-.729-1.625-1.625 0-.8961.729-1.625 1.625-1.625s1.625.7289 1.625 1.625c0 .896-.729 1.625-1.625 1.625z'/%3E%3C/svg%3E\");background-size:24px;background-repeat:no-repeat}.baSearchDropdownImgBdy{position:absolute;top:6px;left:4px;width:24px;height:24px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%236F6F6F' d='M2 16H1V1h1v15zM15 .5h-1v7h1v-7zm0 .5V0H1v1h14zm-5 6.4928V8h5V7h-4.5432M3.445 15.8799V15H1v1h2.2299m8.5968-8.9816h-.9945l-.112.1134c-.1064.1133-.375.4022-.4073.4598-.1172.21-.1445.5303-.1787 1.0361-.0117.168-.0628.9791-.1039 1.0621-.2607.3682-.1006.8613.0166 1.2237a1.806 1.806 0 0 1 .0264.078c-.0977.0157-.1816.047-.252.0929l-.0605-.0127c-.0068-.002-.7373-.1768-1.3828-.1768-.4082 0-.6934.0674-.876.21-.3232.2548-.501.3945-.5195.6513-.0166.2373.1289.3887.2558.5205l.0899.0957c.2217.2412.33.545.2617.7393-.0791.2275-.417.3135-.6113.3437a1.6306 1.6306 0 0 1-.2725.0235c-.3242 0-.5664-.1084-.8525-.2354-.3399-.1513-.9566-.3222-1.5338-.3398-.3095 0-.9385.25-1.0361.7265-.043.2042-.0918.5948.0596.8975.0039.0381.2027.2861-.7915 1.3555L2.4448 16h1.0748c.5275-.638.8057-1.2883.5453-1.815-.0214-.044-.04-.1885-.0127-.3555.0342-.042.2041-.124.255-.125.4072.0127.9077.1308 1.2241.2705.3193.1426.6807.3027 1.1748.3027.123 0 .2549-.0098.3975-.0312.8203-.13 1.128-.546 1.2422-.873.168-.4815.0029-1.0724-.4297-1.544l-.0176-.0186c.0322-.0254.0664-.0517.0996-.0781.001 0 .0664-.039.3408-.039.3545 0 .8496.0624 1.2334.1552.1338.0322.2373.0527.336.0527.162 0 .288-.0556.3379-.121l.1445.0038c.1816 0 .3262-.0683.4297-.203.2011-.2589.0976-.5772-.0127-.917-.0957-.291-.1358-.4678-.126-.5108.1611-.2246.2103-.8912.2513-1.484.0127-.1826.043-.6093.0752-.6826a.309.309 0 0 1 .0303-.039h2.8057v-.8008l-2.0175-.129z'/%3E%3C/svg%3E\");background-size:24px;background-repeat:no-repeat}.baSearchDropdownMenu{position:absolute;top:27px;left:6px;min-width:260px;margin:0;list-style:none;padding-left:0;z-index:4;display:none}.baSearchDropdownMenu.baSearchMenuIsVisible{display:block}.baSearchDropdownMenu li{padding:5px 10px}ul.baSearchDropdownMenu li{position:relative;height:30px;padding-top:9px;padding-bottom:0;z-index:4}.lightSuggestionOuter,.baSearchSuggestionsOuter{position:absolute;top:30px;left:0px;min-width:210px;height:auto;min-height:41px;overflow-y:none;max-height:0px;transition-property:all;transition-duration:.5s;transition-timing-function:cubic-bezier(0, 1, 0.5, 1);font-family:arial;font-size:10pt;z-index:4;overflow:none;display:none}.baSearchSuggestionsOuter{width:210px;max-width:210px;}.lightSuggestionOuter{width:100%;max-width:100%;}ul.baSearchSuggestionsUl{padding-inline-start:12px;margin-block-start:8px;margin-block-end:6px;width:calc(100% - 14px)}ul.baSearchSuggestionsUl li{position:relative;display:flex;flex-direction:row;align-items:center;padding-top:4px;padding-left:1px;padding-bottom:4px;font-size:9.5pt;list-style:none;z-index:4}.baSearchSuggestionNoSub{font-size:11.5pt;}.baSearchStdGeographyInfo{font-size:8.5pt;padding-top:4px;}.baSearchStdGeographyName{font-size:11.5pt}calcite-input::part(badarkinput)::placeholder{opacity:1;}calcite-input::part(badarkinput):-ms-input-placeholder{}calcite-input::part(badarkinput)::-ms-input-placeholder{}.baSearchOuter{position:relative;width:100%;height:32px;display:flex;justify-content:left;align-items:center;}.arcgisBaSearchDropdownChooser{position:relative;width:30px;height:32px;z-index:5}.arcgisBaSearchInput{flex-grow:1;height:32px;z-index:1;}.arcgisBaSearchInput>input{left:1px}.arcgisBaSearchNoDropdown{display:none}";

const ArcgisBaSearch = class {
  //
  // _localeSettings: LocaleSettings = {
  //   language: 'en-US',
  //   country: 'US',
  //   location: '-117.196,34.056',
  //   geocodeOutFields: 'Subregion,Region,PlaceName,Match_addr,Country,Addr_type,City,Place_addr,Phone,URL'
  // }
  constructor(hostRef) {
    (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.r)(this, hostRef);
    this.searchResults = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.c)(this, "searchResults", 6);
    this.searchCleared = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.c)(this, "searchCleared", 7);
    this.geocoderClient = GeocoderClient;
    this.baSearchKeyTimer = null;
    this.suggestionTimer = null;
    this._lastInputValue = '';
    this._openFirst = false;
    this._hasSetEnv = false;
    this._verboseLogging = true;
    this._searchTypeConv = ['all', 'address', 'boundary'];
    this._idPrefix = 'arcgis-ba-search-';
    this._idPrefixInput = 'ba-search-input-';
    this._idPrefixDropDown = 'ba-search-drop-';
    this._idPrefixDropLoc = 'ba-search-drop-loc-';
    this._idPrefixDropAll = 'ba-search-drop-all-';
    this._idPrefixDropBdy = 'ba-search-drop-bdy-';
    this._idPrefixDropGroup = 'ba-search-drop-group-';
    this._idPrefixSuggest = 'ba-search-suggest-';
    this._geographyActiveLevels = [];
    this._dbg = false;
    this._searchScopeDropDownSelected = false;
    this.stSearchScope = 'all';
    this.searchQuery = null;
    this.suggestionResults = { location: [], boundary: [] }; // contains location, STD GEO suggestion, or both query results
    this.baseConfig = new _base_util_b7db69f0_js__WEBPACK_IMPORTED_MODULE_4__.B('search', this, this.onUpdateUI);
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.announceVersion();
    this.stSearchScope = 'all';
    this._onChangeQueue = {};
    if (this._dbg) {
      console.log('%c SEARCH constructor', 'color:orange;font-size:11pt');
    }
    // // Use passed in langCode if set
    // if (this.langCode) {
    //   this._base._localeSettings.language = this.langCode;
    // }
    this.langCode = this.langCode || 'en-us';
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B._initialize(this.langCode);
    this.setLocaleStrings();
    this.sourceCountry = this.sourceCountry || 'US';
    this.stSearchScope = 'all';
    this.baseConfig.updateLocaleSettings({ language: this.langCode, country: this.sourceCountry });
    if (this.config) {
      const cfg = JSON.parse(this.config);
      this.baseConfig.updateConfig(cfg, null);
      if (cfg?.selectedGeographyLevels && cfg?.selectedGeographyLevels.length > 0) {
        this.setActiveLevels(cfg.selectedGeographyLevels, true);
      }
    }
    this._onChangeQueue = {};
  }
  //
  // Update Props/States and base config when the component config changes
  onConfigChange(newConfig) {
    // Logz.show("%lg", "arcgis-ba-search Config has changed:", newConfig, oldConfig)
    if (this._dbg) {
      console.log('%c SEARCH configChange', 'color:yellow;font-size:11pt');
    }
    if (this.baseConfig) {
      if (newConfig && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(newConfig)) {
        const newCfg = JSON.parse(newConfig);
        if (this._dbg) {
          console.log('%c ...SEARCH config changed=', 'color:yellow;font-size:11pt', newCfg);
        }
        //
        // COLORS:
        // define a temp color object so that we update the 'colors' Prop one time
        this.baseConfig.updateConfig(newCfg, null);
        if (this.baseConfig?.config?.selectedGeographyLevels && this.baseConfig?.config?.selectedGeographyLevels.length > 0) {
          this.setActiveLevels(this.baseConfig.config.selectedGeographyLevels);
        }
        this.syncSearchScopeFromConfig(true);
      }
    }
  }
  onLocaleSettingsChanged() {
    this.getFilteredGeographyLevels();
  }
  parseGeographyFlag(flag) {
    return (typeof flag != undefined && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(flag) && flag.trim().toLowerCase() == 'true');
  }
  onNoGeographyChanged() {
    this.stNoGeography = this.parseGeographyFlag(this.nogeography);
    if (this.stNoGeography === false) {
      this.stSearchScope = 'all'; // default restored
    }
  }
  onMaxSuggestionHeightChanged() {
    this.stMaxSuggestionHeight = (typeof this.maxsuggestionheight != undefined && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(this.maxsuggestionheight)) ? parseInt(this.maxsuggestionheight) : 300;
  }
  // @@@@@@
  // @Watch('theme') onThemeChanged() {
  //   if (typeof this.theme != undefined && ACLUtils.hasText(this.theme)) {
  //     const t = this.theme.trim().toLowerCase()
  //     this.stColorTheme = (t == 'dark') ? 'dark' : 'light'
  //     this.nogeography = this.stNoGeography.toString()
  //   } else { this.stColorTheme = 'light' }
  // }
  onEnvChanged() {
    this.stEnv = this.env;
    _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.setEnvironment(this.env);
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ env: this.env }, null);
    }
  }
  onTokenChanged() {
    this.stToken = this.token;
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ token: this.token }, null);
    }
  }
  onUsernameChanged() {
    this.stUsername = this.username;
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ username: this.username }, null);
    }
  }
  onLangCodeChanged() {
    this.stLangCode = this.langCode;
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ langCode: this.langCode }, null);
    }
  }
  onGeoenrichmentUrlChanged() {
    this.stGeoenrichmentUrl = this.geoenrichmentUrl;
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ geoenrichmentUrl: this.geoenrichmentUrl }, null);
    }
  }
  onThemeChanged() {
    this.stTheme = this.theme;
    if (this.baseConfig) {
      this.baseConfig.setTheme(this.theme);
    }
  }
  onCountryChanged() {
    this.stSourceCountry = this.sourceCountry;
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ sourceCountry: this.sourceCountry }, null);
    }
  }
  onSearchTextChanged() {
    this.hideDropdown();
    this.hideSuggestions(null);
    const inp = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
    if (inp && this.currentSearchText) { // @ts-ignore
      inp.value = this.currentSearchText;
    }
  }
  onModeChanged() {
    this.stMode = this.mode;
  }
  onSugliteChanged() {
    this.stSuglite = false;
    if (typeof this.suglite !== undefined && (this.suglite === 'true')) {
      this.stSuglite = true;
    }
  }
  onActiveLevelsChanged() {
    // should be an array of strings
    this.stActiveLevels = JSON.parse(this.activeLevels);
  }
  onStandardGeographyItemSelected(event) {
    this._onSelectedGeographyItem(event.detail.item);
    this.hideSuggestions(null);
    this._clearSearchText();
    this.focusInput();
  }
  onStandardGeographyItemChecked(event) {
    if (event.detail.itemsType == 'other') {
      this.hideSuggestions(null);
      this._clearSearchText();
      this.focusInput();
    }
  }
  async searchIsEmpty() {
    const searchInput = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
    if (!searchInput) {
      return false;
    }
    const inputElem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(self, 'input', searchInput);
    if (!inputElem) {
      return false;
    }
    const str = inputElem.value;
    return !(str && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(str));
  }
  /**
   * getSearchResults
   *    Returns the latest selected suggestion info and related geometry
   */
  async getSearchResults() {
    return this._searchResponseItemData;
  }
  async getConfig() {
    const myCfg = this.baseConfig;
    return myCfg;
  }
  async setLocale(options) {
    if (!options)
      return;
    if (typeof options.language != undefined)
      this.baseConfig.updateLocaleSettings({ language: options.language });
    if (typeof options.country != undefined)
      this.baseConfig.updateLocaleSettings({ country: options.country });
    if (typeof options.location != undefined)
      this.baseConfig.updateLocaleSettings({ location: options.location });
    if (typeof options.geocodeOutFields != undefined)
      this.baseConfig.updateLocaleSettings({ geocodeOutFields: options.geocodeOutFields });
    this.onLocaleSettingsChanged();
  }
  /**
   * getGeographyLevels
   *    Returns the geography level names for the country
   */
  async getGeographyLevels() {
    let list = [];
    let arr = await this.getFilteredGeographyLevels();
    if (arr && arr.length > 0) {
      arr.forEach((item) => {
        list.push(item.name);
      });
    }
    return list;
  }
  /**
   * setActiveLevels
   *    Sets the geography levels that will be requested/displayed
   *    This accepts geography level 'names' but then tracks the
   *    level using the level 'id' internally
   *
   *    Passing 'names' with empty array will enable all levels
   *    Example: ['US.States','US.ZIP5', 'US.Places']
   *    The example array will only show those 3 levels
   */
  async setActiveLevels(names, skipUI = false) {
    if (!skipUI)
      this.resetUI(true, false);
    if (names) {
      if (names.length > 0) {
        this.stActiveLevels = [...names];
        this._geographyActiveLevels = [];
        for (let ii = 0; ii < names.length; ii++) {
          let id = await this.levelNameIsValid(names[ii]);
          if (id) {
            this._geographyActiveLevels.push(id);
          }
        }
        // display updated results using new levels
        if (!skipUI)
          this.populateSuggestions();
      }
      else {
        this._geographyActiveLevels = [];
      }
    }
  }
  async setMapView(mapView) {
  }
  async setColors(colors) {
    this.colors = colors;
    this.baseConfig.syncConfigFromProps();
  }
  async setTheme(theme) {
    this.baseConfig.setTheme(theme);
  }
  /**
   * Sets host callback for property change notifications
   * @param callback  - function supplied by host after component is instantiated
   * @param context   - object reference that is returned in the callback (to the host)
   *
   * Callback data format:
   *    {
   *      <property name>: <value>,
   *      <other prop name: value,
   *      ...
   *    }
   */
  async onPropChange(callback, context) {
    this._onChangeCallback = { fn: callback, ctx: context };
  }
  // BaseUtil config-changed render callback
  onUpdateUI() {
    this.applyStyles();
  }
  applyStyles() {
    if (this.baseConfig?.config?.colors && Object.keys(this.baseConfig.config.colors).length > 0) {
      const c = this.baseConfig.config.colors;
      const searchOuter = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(this, 'div.baSearchOuter');
      if (searchOuter && 'style' in searchOuter) {
        searchOuter.style.setProperty("--calcite-ui-border-input", 'unset');
        searchOuter.style.setProperty("--calcite-ui-foreground-1", c.foreground);
        searchOuter.style.setProperty("--calcite-ui-brand", c.brand);
      }
      if (searchOuter) {
        const dropdown = searchOuter.querySelectorAll("calcite-dropdown");
        if (dropdown && 'style' in dropdown) {
          dropdown.style.setProperty("height", '32px');
        }
        searchOuter.querySelectorAll("calcite-button").forEach(node => {
          if (node.shadowRoot) {
            let button = node.shadowRoot.querySelector("button");
            // console.log(button);
            if (button && 'style' in button) {
              button.style.setProperty("height", '32px');
              // (button as HTMLElement).style.setProperty("--calcite-ui-foreground-3", c.brand);
              // (button as HTMLElement).style.setProperty("--calcite-ui-foreground-2", c.brandHover);
              // (button as HTMLElement).style.setProperty("--calcite-ui-foreground-1", c.brandPress);
            }
          }
        });
        // searchOuter.querySelectorAll("calcite-input").forEach(node => {
        //   if (node.shadowRoot) {
        //       let input = node.shadowRoot.querySelector("input");
        //       // console.log(input)
        //       if (input && 'style' in input) {
        //         (input as HTMLElement).style.setProperty("--calcite-ui-border-input", 'unset');
        //         (input as HTMLElement).style.setProperty("--calcite-ui-foreground-1", c.foreground);
        //         (input as HTMLElement).style.setProperty("--calcite-ui-brand", c.brand);
        //       }
        //   }
        // })
        // searchOuter.querySelectorAll("calcite-input").forEach(node => {
        //   if (node.shadowRoot) {
        //       let input = node.shadowRoot.querySelector("input");
        //       // console.log(input)
        //       if (input && 'style' in input) {
        //         (input as HTMLElement).style.setProperty("--calcite-ui-border-input", 'unset');
        //         (input as HTMLElement).style.setProperty("--calcite-ui-foreground-1", c.foreground);
        //         (input as HTMLElement).style.setProperty("--calcite-ui-brand", c.brand);
        //       }
        //   }
        // })
        // calcite-list
      }
    }
  }
  syncSearchScopeFromConfig(allowReset) {
    if (this._dbg) {
      console.log('%c SEARCH syncSearchScope', 'color:orange;font-size:11pt', this.baseConfig.config);
    }
    // Check for search type and apply
    let changed = false;
    const searchType = this.baseConfig.config.baSearchType;
    if (searchType) {
      if (searchType == 1) {
        changed = this.stSearchScope != 'address';
        this.stSearchScope = 'address';
      }
      else if (searchType == 2) {
        changed = this.stSearchScope != 'boundary';
        this.stSearchScope = 'boundary';
      }
      else {
        changed = this.stSearchScope != 'all';
        this.stSearchScope = 'all';
      }
      if (this._dbg) {
        console.log('%c SEARCH searchScope is now:', 'color:orange;font-size:11pt', this.stSearchScope);
      }
    }
    if (changed && allowReset) {
      this.hideSuggestions(null);
      this._clearSearchText();
      this.focusInput();
    }
  }
  _debug(...items) {
    if (!this._verboseLogging) {
      return;
    }
    if (items)
      return; // remove this
    // Logz.show('%y', ...items)
  }
  /**
   * Filters out multiple rapid events of the same type.  The callback
   * function will be called if no new events have happened during the
   * 'wait' time.
   * @param callback - your function to call when the events have settled
   * @param wait     - milliseconds delay (ex: 250)
   */
  _debounce2(callback, wait) {
    const self = this;
    const delayedCall = function () {
      self._debounceTimer = null;
      callback.apply(self);
    };
    // everytime _debounce2 is called we kill the previous timer
    if (self._debounceTimer)
      clearTimeout(self._debounceTimer);
    self._debounceTimer = setTimeout(delayedCall, wait);
  }
  _onFilteredPropChanged() {
    if (this._onChangeCallback)
      this._onChangeCallback.fn(this._onChangeCallback.ctx, this._onChangeQueue);
    // clear queue
    this._onChangeQueue = {};
  }
  // ***********************************************************************
  // Set locale string
  // **********************************************************************
  setLocaleStrings() {
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B._initialize(this.langCode);
    this.labels = {
      dropdownLocation: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('address-location-or-place'),
      dropdownBoundary: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('boundary-name'),
      dropdownAll: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('dropdown-all'),
      watermarkAll: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('all-placeholder'),
      watermarkLocation: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('enter-address-loc-or-place'),
      watermarkBoundary: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('enter-boundary-name')
    };
    this.showSearch = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('show-search');
    this.searchPlaceholder = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('search-placeholder');
    this.searchLabel = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('search-label');
    this.searchAll = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('dropdown-all');
    this.searchAllPlaceholder = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('all-placeholder');
    this.searchPlaceholderShort = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('search-placeholder-short');
    this.searchEnterBoundary = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('search-enter-boundary');
    this.searchBoundary = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B.i18n('search-boundary');
  }
  /**
   * Function called by this component internally when a Prop changes
   * @param name  - of Prop
   * @param value - value after change
   */
  _onPropChanged(name, value) {
    const self = this;
    // Add name/value to queue
    // Subsequent calls with the same name/value just updates
    // the value until the callback clears the queue
    this._onChangeQueue[name] = value;
    this._debounce2(() => { self._onFilteredPropChanged.call(self); }, 250);
  }
  _clearSearchText() {
    const inp = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
    inp.value = '';
    //this._onPropChanged('searchCleared', '')
  }
  async onClickLocationSuggestionItem(item) {
    const self = this;
    await this.geocoderClient.geocode(item.text, {
      magicKey: item.magicKey,
      outFields: this.baseConfig._localeSettings.geocodeOutFields
    }).then((results) => {
      if (results) {
        self._searchResponseItemData = {
          context: self,
          type: 'location',
          mode: self.stMode,
          name: results.candidates[0].attributes.PlaceName,
          address: results.candidates[0].attributes.Place_addr,
          location: { lon: results.candidates[0].location.x, lat: results.candidates[0].location.y }
        };
        self.searchResults.emit(self._searchResponseItemData);
        this._onPropChanged('searchResults', self._searchResponseItemData);
        self.resetUI(false);
      }
    })
      .catch((ex) => {
      _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%e', 'arcgis-ba-search Error:', ex);
    });
    this.hideSuggestions(null);
    this._clearSearchText();
    this.focusInput();
  }
  _findGeographyLevel(id) {
    let level;
    if (this._geographyLevels) {
      for (let ii = 0; ii < this._geographyLevels.length; ii++) {
        const l = this._geographyLevels[ii];
        if (l.id === id) {
          level = l;
          break;
        }
      }
    }
    return level;
  }
  _onSelectedGeographyItem(item) {
    const self = this;
    const id = item.id;
    const fullname = item.name;
    if (!this.suggestionResults?.boundary)
      return;
    // Find the search result item using ObjectId
    for (let ii = 0; ii < this.suggestionResults.boundary.length; ii++) {
      let rec = this.suggestionResults.boundary[ii];
      if (rec.attributes && rec.attributes.ObjectId == id) {
        let a = rec.attributes;
        let currentlevel = self._findGeographyLevel(a.DataLayerID);
        const defGen = (currentlevel) ? currentlevel.defaultGeneralization : 0;
        // Get boundary geometry from server
        _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.G.requestStdGeography(a.DataLayerID, a.AreaID, {
          generalizationLevel: defGen,
          returnGeometry: true,
          sourceCountry: self.stSourceCountry || 'US',
          langCode: self.langCode,
          token: self.token
        }).then((result) => {
          if (result && result.length > 0) {
            let geoFeature = result[0];
            self._searchResponseItemData = {
              context: self,
              type: 'geography',
              areaName: rec.attributes.AreaName,
              areaId: rec.attributes.AreaID,
              geometry: geoFeature.geometry.rings,
              mode: self.stMode,
              attributes: a,
              title: fullname
            };
            self.searchResults.emit(self._searchResponseItemData);
            this._onPropChanged('searchResults', self._searchResponseItemData);
            self.resetUI(false);
          }
        }, (err) => {
          _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%e', 'arcgis-ba-search Error ', err);
          if (err)
            throw err;
        });
        break;
      }
    }
  }
  // accepts a level name
  // return:  level id if valid (or undefined)
  async levelNameIsValid(name) {
    if (!name || !_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(name))
      return undefined;
    let arr = await this.getFilteredGeographyLevels();
    for (let ii = 0; ii < arr.length; ii++) {
      if (arr[ii].name == name)
        return arr[ii].id;
    }
    return undefined;
  }
  focusInput() {
    const calInputElem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(this, 'input', calInputElem).focus();
  }
  _loadInstances() {
    if (!this._instanceId)
      this._instanceId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefix).id;
    if (!this._inputId)
      this._inputId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixInput).id;
    if (!this._dropLocId)
      this._dropLocId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixDropLoc).id;
    if (!this._dropAllid)
      this._dropAllid = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixDropAll).id;
    if (!this._dropBdyId)
      this._dropBdyId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixDropBdy).id;
    if (!this._dropGroupId)
      this._dropGroupId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixDropGroup).id;
    if (!this._suggestId)
      this._suggestId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixSuggest).id;
    if (!this._dropdownId)
      this._dropdownId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.E.generateId(this._idPrefixDropDown).id;
  }
  getCountry() {
    return this.stSourceCountry || this.baseConfig._localeSettings.country;
  }
  /*
   * Geography level are normally displayed using their 'names' in the UI.  Requests use
   * the level IDs.  Therefore stActiveLevels is an array of level names, and
   */
  async getFilteredGeographyLevels() {
    let self = this;
    let hasActiveList = (self.stActiveLevels && self.stActiveLevels.length > 0);
    // look for cached values - if we have active level names from the user, always fetch levels and match to those
    if (hasActiveList || !self._geographyLevels || self._geographyLevels.length <= 0 || self._geographyLevelsSource != self.getCountry()) {
      // Request new levels for this country
      let response = await _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.G.getStandardGeographyLevels(self.getCountry(), self.langCode);
      if (response) {
        if (response && response.levels && response.levels.length > 0) {
          // create our level objects list - filtered by user (if applies)
          self._geographyLevels = [];
          for (let ii = 0; ii < response.levels.length; ii++) {
            let lev = response.levels[ii];
            // if the user passed us a list of level names, filter by those
            let active = !hasActiveList || (self.stActiveLevels && self.stActiveLevels.length > 0 && self.stActiveLevels.includes(lev.name));
            if (active && lev && lev.id && lev.name && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(lev.id) && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(lev.name)) {
              self._geographyLevels.push({ id: lev.id, name: lev.name, show: true, defaultGeneralization: lev.defaultGeneralizationLevel });
            }
          }
          self._geographyLevelsSource = self.getCountry();
        }
      }
    }
    return self._geographyLevels;
  }
  // Stencil lifecycle - called once after component is first connected to the DOM
  async componentWillLoad() {
    this.stNoGeography = this.parseGeographyFlag(this.nogeography);
    this.stMaxSuggestionHeight = (typeof this.maxsuggestionheight != undefined && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(this.maxsuggestionheight)) ? parseInt(this.maxsuggestionheight) : 300;
    // if (typeof this.theme != undefined && ACLUtils.hasText(this.theme)) {
    //   const t = this.theme.trim().toLowerCase()
    //   this.stColorTheme = (t == 'dark') ? 'dark' : 'light'
    //   this.nogeography = this.stNoGeography.toString()
    // }
    // if (typeof this.theme != undefined && ACLUtils.hasText(this.theme)) {
    //   const t = this.theme.trim().toLowerCase()
    //   this.stColorTheme = (t == 'dark') ? 'dark' : 'light'
    //   this.nogeography = this.stNoGeography.toString()
    // } else { this.stColorTheme = 'light' }
    if (this.activeLevels && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(this.activeLevels)) {
      this.stActiveLevels = JSON.parse(this.activeLevels);
    }
    if (this.sourceCountry && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(this.sourceCountry)) {
      this.stSourceCountry = this.sourceCountry;
    }
    // Set Environment BEFORE Geocoder is instantiated to ensure correct geocode URL is used
    if (!this._hasSetEnv && this.env) {
      this._hasSetEnv = true;
      this.stEnv = this.env;
      _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.setEnvironment(this.env);
    }
    // Set if GeoenrichmentUrl was optionally passed in
    if (this.geoenrichmentUrl) {
      _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.setGeoenrichmentUrl(this.geoenrichmentUrl);
    }
    // Set if GeocodeUrl was optionally passed in
    if (this.geocodeUrl) {
      _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.E.setGeocodeUrl(this.geocodeUrl);
    }
    if (this.theme) {
      this.baseConfig.setTheme(this.theme);
    }
    else {
      this.baseConfig.setTheme('light');
    }
    this.nogeography = this.stNoGeography.toString();
    this.geocoderClient = new GeocoderClient(this.token);
    this._loadInstances();
    this.stMode = this.mode;
    this.stSuglite = false;
    if (typeof this.suglite !== undefined && (this.suglite === 'true')) {
      this.stSuglite = true;
    }
    await this.getFilteredGeographyLevels();
  }
  resetUI(keepValue, keepDropdown) {
    if (!keepDropdown)
      this.hideDropdown();
    this.hideSuggestions(null);
    if (!keepValue) {
      const inp = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
      inp.value = '';
    }
  }
  // Stencil lifecycle - called once after component is fully loaded and 1st render occurred
  componentDidLoad() {
    const self = this;
    self._loadInstances();
    self.applyCssAndThemeTo_Search();
    _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.T.setToken(self.username, self.token);
    if (!self.baseConfig._localeSettings.language || self.baseConfig._localeSettings.language.length <= 0 || (self.baseConfig._localeSettings.language !== this.langCode && this.langCode)) {
      self.baseConfig._localeSettings.language = this.langCode || 'en-us'; // reset to default
      _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.B._initialize(self.baseConfig._localeSettings.language);
      self.setLocaleStrings();
    }
    const searchInput = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._inputId);
    const inputElem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(self, 'input', searchInput);
    const ddItemAll = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._dropAllid);
    if (ddItemAll)
      ddItemAll.innerText = self.labels.dropdownAll;
    const ddItemLoc = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._dropLocId);
    if (ddItemLoc)
      ddItemLoc.innerText = self.labels.dropdownLocation;
    const ddItemBdy = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._dropBdyId);
    if (ddItemBdy)
      ddItemBdy.innerText = self.labels.dropdownBoundary;
    // Event handlers
    if (searchInput) {
      let label = 'all';
      switch (this.stSearchScope) {
        case ('all'): {
          label = self.labels.watermarkAll;
          break;
        }
        case ('address'): {
          label = self.labels.watermarkLocation;
          break;
        }
        case ('boundary'): {
          label = self.labels.watermarkBoundary;
          break;
        }
      }
      searchInput.setAttribute('placeholder', label);
    }
    function _keyDelay() {
      self.baSearchKeyTimer = null;
      const elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._inputId);
      self._lastInputValue = elem.value;
      self.populateSuggestions();
      // open top accordion
      let acc = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(self, 'ba-accordion');
      if (acc) { // @ts-ignore
        acc.openAccordion();
      }
    }
    function _resetInputTimer() {
      const timeout = 1200;
      if (self.baSearchKeyTimer) {
        let t = self.baSearchKeyTimer;
        self.baSearchKeyTimer = null;
        clearTimeout(t);
      }
      self.baSearchKeyTimer = setTimeout(_keyDelay, timeout);
    }
    if (inputElem) {
      inputElem.addEventListener('focusin', () => { self.hideSuggestions(null); });
      inputElem.onchange = () => {
        const inp = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
        const v = inp.value;
        if (this._lastInputValue != v) {
          self.toggleSuggestions();
        }
        this._lastInputValue = v;
      };
      inputElem.onkeydown = (e) => {
        // DO NOT DELETE - Fix for Calcite Issue
        function _ui() {
          if (e.key === 'Backspace' || e.key === 'Delete') {
            e.preventDefault();
            e.stopPropagation();
            const target = e.target;
            if (target?.value && target.value.length > 0 && target.selectionStart != null && target.selectionEnd != null) {
              const start = target.selectionStart;
              const end = target.selectionEnd;
              const newVal = start === end
                ? target.value.slice(0, start - 1) + target.value.slice(start)
                : target.value.slice(0, start) + target.value.slice(end);
              target.value = newVal;
              target.focus();
              if (start === end)
                target.setSelectionRange(start - 1, start - 1);
              else
                target.setSelectionRange(start + 1, start);
            }
            _resetInputTimer();
          }
        }
        setTimeout(_ui, 0);
      };
      inputElem.onkeyup = () => {
        function _ui() {
          self.hideDropdown();
          _resetInputTimer();
        }
        setTimeout(_ui, 0);
      };
    }
    function onOpenDropdown() {
      self.resetUI(false, true);
      // self.showDropdown()
    }
    let elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._dropdownId);
    if (elem)
      elem.addEventListener('calciteDropdownOpen', onOpenDropdown);
    if (self.baseConfig) {
      self.baseConfig.onComponentHasRendered();
    }
    setTimeout(() => {
      self.applyCssAndThemeTo_Suggestions();
    }, 0);
  }
  componentWillRender() {
    const self = this;
    try {
      const cfgType = self.baseConfig.config.baSearchType;
      if (cfgType) {
        const cfgScope = self._searchTypeConv[cfgType];
        if (cfgScope != self.stSearchScope && !self._searchScopeDropDownSelected) {
          const allowReset = true;
          self.syncSearchScopeFromConfig(allowReset);
        }
      }
    }
    catch (ex) {
      console.log('error: search has invalid config baSearchType', ex);
    }
  }
  // Stencil lifecycle - called just after component updates, but not called during first render()
  componentDidUpdate() {
    const self = this;
    if (self.baseConfig) {
      self.baseConfig.onComponentHasRendered();
    }
    /*
    try {
      const cfgType = self.baseConfig.config.baSearchType
      if (cfgType) {
        const cfgScope = self._searchTypeConv[cfgType as number]
        if (cfgScope != self.stSearchScope) {
          const allowReset = true
          self.syncSearchScopeFromConfig(allowReset)
        }
      }
    } catch (ex) {
      console.log('error: search has invalid config baSearchType', ex)
    }*/
  }
  handleSearchScopeSelection(scope) {
    this.stSearchScope = scope;
    this._searchScopeDropDownSelected = true;
    this.suggestionResults = { location: [], boundary: [] };
    this.focusInput();
  }
  handleLocationSelection(e, data) {
    data.context.onClickLocationSuggestionItem(data.item);
    e.preventDefault();
    e.stopPropagation();
    return false;
  }
  renderLocationSuggestions() {
    const self = this;
    const iconStyle = {
      'padding-right': '0',
      'padding-left': '5px'
    };
    if ((self.stSearchScope == 'address' || self.stSearchScope == 'all') && self.suggestionResults?.location && self.suggestionResults.location.length > 0) {
      return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-list", null, this.suggestionResults.location.map(item => (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-list-item", { value: item.magicKey, label: item.text, onclick: (e) => self.handleLocationSelection(e, { context: self, item: item }) }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-icon", { style: iconStyle, icon: "pin", scale: "s", slot: "content-start" })))));
    }
    else {
      return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("ul", { class: 'baSearchSuggestionsUl' }));
    }
  }
  renderBoundarySuggestions() {
    const self = this;
    /*  ba-accordion format
     export interface AccordionItem {
     id: string;
     inlineSvgIcon?: string;
     name: string;
     subText?: string;
     usesPin?: boolean;
     isPinned?: boolean;
     usesCheckbox?: boolean;
     isChecked?: boolean;
     }
     */
    if ((self.stSearchScope == 'boundary' || self.stSearchScope == 'all')
      && self.suggestionResults?.boundary
      && self.suggestionResults.boundary.length > 0
      && self.suggestionResults.boundary[0].attributes
      && self.suggestionResults.boundary[0].attributes.DataLayerID) {
      let levels = {};
      // Build the data for the accordion lists
      // Start by capturing all the levels/accordions
      /*
       * levels => index of DataLayer types by name
       *  Each level is an array of records that form the
       *  content of the particular accordion
       */
      let record, levelName;
      // Categorize the results by DataLayerID
      /*
       * level = {
       *    aveScore:<average score for all records in level>,
       *    records: <search result records for the level>
       *  }
       */
      for (let ii = 0; ii < self.suggestionResults.boundary.length; ii++) {
        try {
          record = self.suggestionResults.boundary[ii];
          levelName = record.attributes.DataLayerID;
          if (_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(levelName)) {
            // create lvl if needed
            if (!levels[levelName]) {
              levels[levelName] = { aveScore: null, records: [] };
            }
            let score = '   Score:' + record.attributes.Score.toString();
            let sub = record.attributes.CountryAbbr + '/' + record.attributes.MajorSubdivisionName + '/' + record.attributes.AreaID + score;
            // add search result record to the level using the ba-accordion's AccordionItem interface
            // once all the records are added to each DataLayerID level, we pass the data to the ba-accordion component
            // that will render the list.
            let rec = {
              id: record.attributes.ObjectId,
              areaId: record.attributes.AreaID,
              name: record.attributes.AreaName,
              major: record.attributes.MajorSubdivisionAbbr,
              subText: sub,
              score: record.attributes.Score,
              isZipcode: record.attributes.DataLayerID.toLowerCase().includes('zip')
            };
            levels[levelName].records.push(rec);
          }
        }
        catch (ex) {
          _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show("%e", 'arcgis-ba-search error', ex);
        }
      }
      // All the accordions for these results are assigned to a unique group id
      // for toggling open/close behavior
      let groupId = new Date().getTime();
      return self.renderStdGeographyLevelLists(levels, groupId);
    }
  }
  _getAccordionTitle(displayName) {
    let title = displayName;
    if (this._geographyLevelData) {
      for (let ii = 0; ii < this._geographyLevelData.length; ii++) {
        const item = this._geographyLevelData[ii];
        const levelId = item.id;
        if (displayName == levelId && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(item.name)) {
          title = item.name;
          break;
        }
      }
    }
    return title;
  }
  renderStdGeographyLevelAccordion(displayName, level, groupId) {
    const self = this;
    if (level.records && level.records.length > 0) {
      // sort this level records by score (descending)
      let sortedRecords = level.records.sort(function (a, b) {
        if (a.score == null)
          return 0;
        if (b.score == null)
          return 1;
        return b.score - a.score;
      });
      // limit level records to a fixed maximum count
      const accordionRecordLimit = 100;
      const limitedRecords = sortedRecords.slice(0, accordionRecordLimit);
      // Build the accordion content
      //
      // export interface AccordionItem {
      //   id: string;
      //   inlineSvgIcon?: string;
      //   name: string;
      //   subText?: string;
      //   usesPin?: boolean;
      //   isPinned?: boolean;
      //   usesCheckbox?: boolean;
      //   isChecked?: boolean;
      // }
      let arr = [];
      limitedRecords.forEach(function (item) {
        const suffix = ', ' + item.major;
        const hasMajor = (item.name.includes(suffix));
        const strMajor = (hasMajor) ? '' : suffix;
        const specialNaming = (item.isZipcode && (self.sourceCountry == 'US' || self.sourceCountry === 'PR'));
        const isNonUS = !(self.sourceCountry == 'US' || self.sourceCountry === 'PR');
        // For US/PR zip codes AND rest of world we do "ID (name)", else for US/PR (non zipcode) we do "name, major"
        const name = (specialNaming || isNonUS) ? item.areaId + ' (' + item.name + ')' : item.name + strMajor;
        arr.push({
          id: item.id,
          name: name,
          subText: (item.subText) || '',
          score: item.score,
          icon: 'polygon-area'
        });
      });
      const content = JSON.stringify(arr);
      const suggestLite = (typeof this.stSuglite !== undefined && this.stSuglite !== false) ? 'true' : 'false';
      const title = this._getAccordionTitle(displayName);
      // create an accordion for this level with all records
      return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("ba-accordion", { suglite: suggestLite, groupid: groupId, calciteicon: 'polygon-area', displayname: title, content: content }));
    }
  }
  calculateLevelAverageScores(levels) {
    // This will assign an 'aveScore' value for every Hierarchy Level.
    // Levels that are empty will be assigned a 'null' score.
    let keys = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.getKeys(levels);
    for (let ii = 0; ii < keys.length; ii++) {
      let lvl = levels[keys[ii]];
      if (!lvl.records || lvl.records.length <= 0) {
        lvl.aveScore = null;
      }
      else {
        let total = 0;
        let count = 0;
        lvl.records.forEach(function (record) {
          total += record.score;
          count++;
        });
        lvl.aveScore = total / count;
      }
    }
  }
  renderStdGeographyLevelLists(levels, groupId) {
    let accordions = [];
    let keys = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.getKeys(levels);
    if (keys.length > 0) {
      this.calculateLevelAverageScores(levels);
      // sort levels by content overall record score averages.
      // Account for the possibility of null aveScore
      let sKeys = keys.sort(function (a, b) {
        if (levels[a].aveScore == null)
          return 0;
        if (levels[b].aveScore == null)
          return 1;
        return levels[b].aveScore - levels[a].aveScore;
      });
      // Generate Accordions for each boundary type
      for (let ii = 0; ii < sKeys.length; ii++) {
        let lvl = levels[sKeys[ii]];
        if (lvl.aveScore != null) {
          accordions.push(this.renderStdGeographyLevelAccordion(sKeys[ii], lvl, groupId));
        }
      }
      if (accordions && accordions.length > 0) {
        return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("div", { class: 'ba-search-boundary-types' }, accordions));
      }
      else {
        return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("div", null));
      }
    }
  }
  //  Hide all dropdown menus
  hideDropdown() {
    let elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._dropdownId);
    if (elem) {
      elem.setAttribute('open', 'false');
    }
  }
  //  Hide all dropdown menus
  showDropdown() {
    let elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._dropdownId);
    if (elem) {
      elem.setAttribute('open', 'true');
    }
  }
  // ***********************************************************************
  // Initiate dropdown
  // **********************************************************************
  toggleDropdown() {
    let elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._dropdownId);
    if (!elem) {
      this._debug('arcgis-ba-search: missing dropdown...', this._dropdownId);
    }
    else {
      const isVisible = elem.getAttribute('open') == 'true';
      if (isVisible) {
        this.hideDropdown();
      }
      else {
        this.hideSuggestions(null);
        elem.setAttribute('open', 'true');
      }
    }
    const inp = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._inputId);
    inp.value = '';
  }
  toggleSuggestions() {
    const elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._suggestId);
    if (elem) {
      if (elem.style.maxHeight == '0')
        this.showSuggestions(elem);
      else
        this.hideSuggestions(elem);
    }
  }
  applyCssAndThemeTo_Suggestions() {
    let self = this;
    // ACLUtils.applyCss.call(self, [['background-color', '#282828'], ['color', '#f4f3f3']], { selector: 'div.baSearchSuggestionsOuter' })
    let items = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementAll.call(self, 'calcite-dropdown-item');
    if (items && items.length > 0) {
      items.forEach(function (i) {
        let elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(self, 'div.container', i);
        elem.style.paddingLeft = '4px';
      });
    }
  }
  applyCssAndThemeTo_Search() {
    const self = this;
    // sync the config for the 1st time this component renders.  After that
    // it uses the @watch function
    if (this.config && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(this.config) && !this.baseConfig.config) {
      // initialize our config object
      this.onConfigChange(this.config);
    }
    // CSS adjustments to shadow dom element styles
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.applyCss.call(self, [['paddingLeft', '4px']], {
      id: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.fixId(self._dropLocId),
      subSelector: 'div.container'
    });
    // ACLUtils.applyCss.call(self, [['paddingLeft', '4px']], {
    //   id: ACLUtils.fixId(self._dropBdyId),
    //   subSelector: 'div.container'
    // })
    // const bgColor: string = this.colors?.background as string | 'transparent';
    // ACLUtils.applyCss.call(self, [['margin-top', '1px']], {
    //   selector: 'calcite-input',
    //   subSelector: 'button'
    // })
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.applyCss.call(self, [['fontSize', '9pt']], {
      selector: 'calcite-dropdown-item',
      subSelector: 'div.container'
    });
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.applyCss.call(self, [['minWidth', '212px']], { selector: 'calcite-dropdown-group' });
  }
  showSuggestions(elem) {
    let self = this;
    elem = elem || _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._suggestId);
    if (elem) {
      const suggestHeight = (typeof self.stMaxSuggestionHeight !== undefined) ? self.stMaxSuggestionHeight : 300;
      const suggestStr = suggestHeight + 'px';
      elem.style.maxHeight = suggestStr;
      elem.style.display = 'block';
      // change the background style of calcite 'clear' button
      let input = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.fixId(self._inputId));
      let btn = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(self, 'button.calcite-input__clear-button', input);
      if (btn) {
        btn.style.border = 'none';
        btn.style.backgroundColor = 'transparent';
      }
      // TODO: change suggestion width to full search width for all themes
      // (the following is experience builder customization)
      // if (self.stColorTheme == 'light') {
      //   function _after() {
      //     // full width suggestions
      //   }
      //   setTimeout(_after, 0)
      // }
    }
  }
  hideSuggestions(elem) {
    if (!elem)
      elem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(this, this._suggestId);
    if (elem && elem.style.maxHeight != '0') {
      elem.style.maxHeight = '0';
      elem.style.display = 'none';
    }
  }
  async populateSuggestions() {
    const self = this;
    self.suggestionResults = { location: [], boundary: [] };
    const suggestions = { location: [], boundary: [] };
    if (!self.token || !self.username) {
      _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%ex', 'arcgis-ba-search Error: no token set for suggestions search request');
      return;
    }
    self.showSuggestions(null);
    const inp = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElementById.call(self, self._inputId);
    // capture search string for query of suggestions
    self.searchQuery = inp.value;
    if (self.searchQuery && self.searchQuery.length > 0) {
      // ---------------------------------------------
      if (self.stSearchScope === 'address' || self.stSearchScope === 'all') {
        // Address, location, or place
        try {
          // query using search string using specified location
          const results = await self.geocoderClient.suggest(self.searchQuery, {
            sourceCountry: self.sourceCountry,
            langCode: self.langCode
          });
          if (results && results.length > 0) {
            results.forEach((i) => {
              if (!i.isCollection)
                // @ts-ignore
                suggestions.location.push(i);
            });
          }
          else if (self.stSearchScope === 'address') {
            this._debug('arcgis-ba-search: no locations found ');
            self.hideSuggestions(null);
          }
        }
        catch (error) {
          self.suggestionResults = { location: [], boundary: [] };
          _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%e', 'arcgis-ba-search error ', error);
          if (self.stSearchScope === 'address') {
            self.hideSuggestions(null);
          }
        }
      }
      // ---------------------------------------------
      if (self.stSearchScope === 'boundary' || self.stSearchScope === 'all') {
        self._geographyLevelData = await self.getFilteredGeographyLevels();
        if (self._geographyLevelData && self._geographyLevelData.length > 0) {
          const token = await _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.T.getToken();
          if (!token || !_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.hasText(token.toString())) {
            _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%e', 'arcgis-ba-search ERROR: Invalid or expired token.  Must update.');
            self.hideSuggestions(null);
          }
          else {
            const levelIdStrings = self._geographyLevelData.map(lev => lev.id.toString());
            let geoFeatures;
            try {
              // Request the list of Boundaries to suggest
              geoFeatures = await _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_1__.G.searchStdGeography(self.searchQuery, {
                featureLimit: 1000,
                geographyLayers: levelIdStrings,
                useFuzzySearch: true,
                langCode: self.langCode,
                sourceCountry: self.stSourceCountry,
                token
              });
            }
            catch (error) {
              self.suggestionResults = { location: [], boundary: [] };
              if (error.message.indexOf('token') != -1) {
                _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%e', 'search: invalid token', error);
              }
              else {
                _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%e', 'arcgis-ba-search error ', error);
              }
            }
            if (!geoFeatures?.length) {
              _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%y', 'arcgis-ba-search Warning: No STD GEO search results');
              if (self.stSearchScope === 'boundary') {
                self.hideSuggestions(null);
              }
            }
            else {
              self._openFirst = true;
              suggestions.boundary = geoFeatures;
            }
          }
        }
        else {
          _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.L.show('%y', 'arcgis-ba-search searchStdGeography error: no geography levels selected');
          self.hideSuggestions(null);
        }
      }
      self.suggestionResults = suggestions;
    }
    else {
      self.hideSuggestions(null);
    }
  }
  render() {
    const self = this;
    if (this._dbg) {
      console.log('%c SEARCH render', 'color:yellow;font-size:11pt', this.baseConfig.config, this.stSearchScope);
    }
    // console.log('%c Rendering search', 'color:green;font-size:8pt')
    if (self._openFirst) {
      self._openFirst = false;
      function _open() {
        // open first accordion
        let first = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_2__.A.queryElement.call(self, 'ba-accordion');
        // @ts-ignore
        if (first)
          first.openAccordion();
      }
      setTimeout(_open, 100);
    }
    //const btnColor = this.colors ? this.colors.brand : ''
    // in case our scope doesn't match the nogeography attribute
    if (self.stNoGeography != undefined && self.stNoGeography === true) {
      self.stSearchScope = 'address';
    }
    // searchElem=document.getElementById('mySearch')
    // userInput=document.getElementById('inputUsername')
    // tokenInput=document.getElementById('inputToken')
    // geographyLevels=document.getElementById('mySearchLevels')
    //const suggestionClass = (this.stColorTheme === 'light') ? 'lightSuggestionOuter' : 'baSearchSuggestionsOuter'
    const suggestionClass = 'lightSuggestionOuter';
    const dropdownClass = (typeof (this.baseConfig.config?.baSearchType) !== 'undefined' && this.baseConfig.config?.baSearchType !== "0") ? 'arcgisBaSearchNoDropdown' : 'arcgisBaSearchDropdownChooser';
    // const dropdownClass2 = 'arcgisBaSearchDropdownChooser2'
    const inputClass = 'arcgisBaSearchInput'; //(this.stNoGeography) ? 'arcgisBaSearchInputNoGeog' : 'arcgisBaSearchInput'
    const dropdownButtonStyle = {
      'position': 'absolute',
      'width': '30px',
      'height': '32px',
      'overflow': 'hidden'
    };
    return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("div", null, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("div", { class: "baSearchOuter" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-dropdown", { class: dropdownClass }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-button", { slot: "trigger", style: dropdownButtonStyle, kind: "neutral", "icon-start": "chevron-down" }), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-dropdown-group", { "selection-mode": "single" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-dropdown-item", { "icon-start": 'analysis', tabIndex: '0', onClick: () => this.handleSearchScopeSelection('all') }, this.searchAll), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-dropdown-item", { "icon-start": 'pin', tabIndex: '0', onClick: () => this.handleSearchScopeSelection('address') }, this.searchPlaceholderShort), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-dropdown-item", { "icon-start": 'polygon', tabIndex: '0', onClick: () => this.handleSearchScopeSelection('boundary') }, this.searchBoundary, " "))), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("calcite-input", { id: this._inputId, class: inputClass, clearable: "true", placeholder: this.stSearchScope === 'address' ? this.searchPlaceholder : (this.stSearchScope === 'all') ? this.searchAllPlaceholder : this.searchEnterBoundary }), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.h)("div", { id: this._suggestId, class: suggestionClass }, (this.stSearchScope === 'address' || this.stSearchScope === 'all') && this.renderLocationSuggestions(), (this.stSearchScope === 'boundary' || this.stSearchScope === 'all') && this.renderBoundarySuggestions()))));
  }
  get el() { return (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_3__.g)(this); }
  static get watchers() { return {
    "config": ["onConfigChange"],
    "nogeography": ["onNoGeographyChanged"],
    "maxsuggestionheight": ["onMaxSuggestionHeightChanged"],
    "env": ["onEnvChanged"],
    "token": ["onTokenChanged"],
    "username": ["onUsernameChanged"],
    "langCode": ["onLangCodeChanged"],
    "geoenrichmentUrl": ["onGeoenrichmentUrlChanged"],
    "theme": ["onThemeChanged"],
    "sourceCountry": ["onCountryChanged"],
    "currentSearchText": ["onSearchTextChanged"],
    "mode": ["onModeChanged"],
    "suglite": ["onSugliteChanged"],
    "activeLevels": ["onActiveLevelsChanged"]
  }; }
};
ArcgisBaSearch.style = arcgisBaSearchCss;



//# sourceMappingURL=arcgis-ba-search-b60a78f9.js.map

/***/ }),

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-ba-search.entry.js":
/*!*******************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-ba-search.entry.js ***!
  \*******************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_ba_search: () => (/* reexport safe */ _arcgis_ba_search_b60a78f9_js__WEBPACK_IMPORTED_MODULE_0__.A)
/* harmony export */ });
/* harmony import */ var _arcgis_ba_search_b60a78f9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arcgis-ba-search-b60a78f9.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-ba-search-b60a78f9.js");







//# sourceMappingURL=arcgis-ba-search.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYmEtaW5mb2dyYXBoaWNfbm9kZV9tb2R1bGVzX2FyY2dpc19idXNpbmVzcy1hbmFseXN0LWNvbXBvbmVudHNfZGlzLTllY2RhMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlHO0FBQ1g7QUFDZTtBQUNGO0FBQ25EOztBQUV4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0JBQWdCLGtFQUFrRSw0REFBNEQsNERBQTRELEdBQUcsdUtBQXVLLDhHQUE4Ryx1SkFBdUosK0xBQStMLCtEQUErRCw0dkJBQTR2Qiw2SEFBNkgsK0JBQStCLHVNQUF1TSxVQUFVLHlCQUF5QiwySEFBMkgsNkdBQTZHLHlGQUF5RiwrRUFBK0UsYUFBYSw2QkFBNkIsMEZBQTBGLCtDQUErQyw4ckNBQThyQyxJQUFJLGNBQWMsTUFBTSxVQUFVLFVBQVUscUNBQXFDLHlCQUF5QixrQkFBa0IsaUNBQWlDLHVHQUF1Ryx1Q0FBdUMsZUFBZSx1Q0FBdUMsR0FBRyxVQUFVLCtDQUErQywyQ0FBMkMsMkNBQTJDLEtBQUs7O0FBRTF2STtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4QkFBOEIsbURBQW1ELE1BQU0sWUFBWSxXQUFXLCtCQUErQixpQkFBaUIsV0FBVyw2QkFBNkIsVUFBVSxVQUFVLGNBQWMsY0FBYyxrQkFBa0Isc0JBQXNCLFNBQVMsOEJBQThCLFlBQVksSUFBSSxrQ0FBa0Msc0JBQXNCLFlBQVksSUFBSSxrQ0FBa0MsVUFBVSxrQkFBa0IsNENBQTRDLHlCQUF5QixZQUFZLFlBQVksSUFBSSxrQkFBa0IsU0FBUyw4QkFBOEIsWUFBWSxJQUFJLHNIQUFzSCxZQUFZLElBQUksc0hBQXNILHFCQUFxQixrQkFBa0IscUJBQXFCLHFDQUFxQyxrQkFBa0I7O0FBRXhnQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwQ0FBMEMsZ0JBQWdCLDJDQUEyQyxnQkFBZ0Isa0RBQWtELGdCQUFnQiwyQ0FBMkMsZ0JBQWdCLDRDQUE0QyxnQkFB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aUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsYUFBYSxVQUFVLGlCQUFpQixhQUFhLFVBQVUsaUJBQWlCLGFBQWEsVUFBVSxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGtCQUFrQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFVBQVUsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixjQUFjLFdBQVcsaUJBQWlCLGNBQWMsV0FBVyxpQkFBaUIsY0FBYyxXQUFXLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksa0JBQWtCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFBZSxZQUFZLGlCQUFpQixlQUFlLFlBQVksaUJBQWlCLGVBQWUsWUFBWSxpQkFBaUIsZUFB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QUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUEsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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UUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsV0FBVyxVQUFVO0FBQ3JCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDLGtCQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaLFFBQVEsUUFBUTtBQUNoQixRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlDQUFpQztBQUMvQztBQUNBO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVEsVUFBVTtBQUM5QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNkVBQTZFLHlEQUFXLHFDQUFxQyx5REFBVTtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNEVBQTRFLHlEQUFXLHFDQUFxQyx5REFBVTtBQUN0STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FB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QUFzQixFQUFFLHFEQUFHLHFCQUFxQiw0RkFBNEYsR0FBRyxxREFBRyw2QkFBNkIsNEJBQTRCLEVBQUUscURBQUcsNEJBQTRCLGdHQUFnRyxtQkFBbUIscURBQUcsNEJBQTRCLCtGQUErRixnQ0FBZ0MscURBQUcsNEJBQTRCLG9HQUFvRywrQkFBK0IscURBQUcsb0JBQW9CLHlOQUF5TixHQUFHLHFEQUFHLFVBQVUsNkNBQTZDO0FBQzFpQztBQUNBLGFBQWEsT0FBTyxxREFBVTtBQUM5QiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFeUM7O0FBRXpDOzs7Ozs7Ozs7Ozs7Ozs7QUN2cEt1RTtBQUMxQztBQUNHO0FBQ0U7QUFDRDtBQUNBOztBQUVqQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYmEtaW5mb2dyYXBoaWMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYnVzaW5lc3MtYW5hbHlzdC1jb21wb25lbnRzL2Rpc3Qvc3RlbmNpbC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1iYS1zZWFyY2gtYjYwYTc4ZjkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9iYS1pbmZvZ3JhcGhpYy9ub2RlX21vZHVsZXMvQGFyY2dpcy9idXNpbmVzcy1hbmFseXN0LWNvbXBvbmVudHMvZGlzdC9zdGVuY2lsLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLWJhLXNlYXJjaC5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGggYXMgaCRuLCBnIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTRlNjQ3NDExLmpzJztcbmltcG9ydCB7IEUgYXMgRW52aXJvbm1lbnRzLCBHIGFzIEdFQ2xpZW50LCBUIGFzIFRva2VuUHJvdmlkZXIgfSBmcm9tICcuL0dFQ2xpZW50LWY3MTA0OWY4LmpzJztcbmltcG9ydCB7IEIgYXMgQmFSZXBvcnRzTGFuZ3VhZ2UsIEEgYXMgQUNMVXRpbHMsIEwgYXMgTG9neiwgRSBhcyBFbGVtZW50SWRzIH0gZnJvbSAnLi9FbGVtZW50SWRzLWEyYzQwNTkyLmpzJztcbmltcG9ydCB7IHQgYXMgdGFiYmFibGUsIGYgYXMgZm9jdXNhYmxlLCBpIGFzIGlzVGFiYmFibGUsIGEgYXMgaXNGb2N1c2FibGUgfSBmcm9tICcuL2luZGV4LmVzbS0xYzY1ZDhjNy5qcyc7XG5pbXBvcnQgeyBCIGFzIEJhc2VVdGlsIH0gZnJvbSAnLi9iYXNlLXV0aWwtYjdkYjY5ZjAuanMnO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IGUkRTtmdW5jdGlvbiBoYXMoYSl7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIGUkRVthXT9lJEVbYV09ZSRFW2FdKGdsb2JhbFRoaXMpOmUkRVthXX1lJEU9Z2xvYmFsVGhpcy5kb2pvQ29uZmlnPy5oYXN8fGdsb2JhbFRoaXMuZXNyaUNvbmZpZz8uaGFzP3suLi5nbG9iYWxUaGlzLmRvam9Db25maWc/LmhhcywuLi5nbG9iYWxUaGlzLmVzcmlDb25maWc/Lmhhc306e30saGFzLmFkZD0oYSxvLGQscik9Pigocnx8dm9pZCAwPT09ZSRFW2FdKSYmKGUkRVthXT1vKSxkJiZoYXMoYSkpLGhhcy5jYWNoZT1lJEUsaGFzLmFkZChcImVzcmktZGVwcmVjYXRpb24td2FybmluZ3NcIiwhMCksaGFzLmFkZChcImVzcmktZm9yY2UtZnVsbHNjcmVlbi1kZWJ1Z1wiLCExKSwoKCk9PntoYXMuYWRkKFwiaG9zdC13ZWJ3b3JrZXJcIix2b2lkIDAhPT1nbG9iYWxUaGlzLldvcmtlckdsb2JhbFNjb3BlJiZzZWxmIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5Xb3JrZXJHbG9iYWxTY29wZSk7Y29uc3QgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmd2luZG93LmxvY2F0aW9uPT09bG9jYXRpb24mJndpbmRvdy5kb2N1bWVudD09PWRvY3VtZW50O2lmKGhhcy5hZGQoXCJob3N0LWJyb3dzZXJcIixlKSxoYXMuYWRkKFwiaG9zdC1ub2RlXCIsXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMucHJvY2VzcyYmZ2xvYmFsVGhpcy5wcm9jZXNzLnZlcnNpb25zPy5ub2RlJiZnbG9iYWxUaGlzLnByb2Nlc3MudmVyc2lvbnMudjgpLGhhcy5hZGQoXCJkb21cIixlKSxoYXMoXCJob3N0LWJyb3dzZXJcIikpe2NvbnN0IGU9bmF2aWdhdG9yLGE9ZS51c2VyQWdlbnQsbz1lLmFwcFZlcnNpb24sZD1wYXJzZUZsb2F0KG8pO2lmKGhhcy5hZGQoXCJ3cFwiLHBhcnNlRmxvYXQoYS5zcGxpdChcIldpbmRvd3MgUGhvbmVcIilbMV0pfHx2b2lkIDApLGhhcy5hZGQoXCJtc2FwcFwiLHBhcnNlRmxvYXQoYS5zcGxpdChcIk1TQXBwSG9zdC9cIilbMV0pfHx2b2lkIDApLGhhcy5hZGQoXCJraHRtbFwiLG8uaW5jbHVkZXMoXCJLb25xdWVyb3JcIik/ZDp2b2lkIDApLGhhcy5hZGQoXCJlZGdlXCIscGFyc2VGbG9hdChhLnNwbGl0KFwiRWRnZS9cIilbMV0pfHx2b2lkIDApLGhhcy5hZGQoXCJvcHJcIixwYXJzZUZsb2F0KGEuc3BsaXQoXCJPUFIvXCIpWzFdKXx8dm9pZCAwKSxoYXMuYWRkKFwid2Via2l0XCIsIWhhcyhcIndwXCIpJiYhaGFzKFwiZWRnZVwiKSYmcGFyc2VGbG9hdChhLnNwbGl0KFwiV2ViS2l0L1wiKVsxXSl8fHZvaWQgMCksaGFzLmFkZChcImNocm9tZVwiLCFoYXMoXCJlZGdlXCIpJiYhaGFzKFwib3ByXCIpJiZwYXJzZUZsb2F0KGEuc3BsaXQoXCJDaHJvbWUvXCIpWzFdKXx8dm9pZCAwKSxoYXMuYWRkKFwiYW5kcm9pZFwiLCFoYXMoXCJ3cFwiKSYmcGFyc2VGbG9hdChhLnNwbGl0KFwiQW5kcm9pZCBcIilbMV0pfHx2b2lkIDApLGhhcy5hZGQoXCJzYWZhcmlcIiwhby5pbmNsdWRlcyhcIlNhZmFyaVwiKXx8aGFzKFwid3BcIil8fGhhcyhcImNocm9tZVwiKXx8aGFzKFwiYW5kcm9pZFwiKXx8aGFzKFwiZWRnZVwiKXx8aGFzKFwib3ByXCIpP3ZvaWQgMDpwYXJzZUZsb2F0KG8uc3BsaXQoXCJWZXJzaW9uL1wiKVsxXSkpLGhhcy5hZGQoXCJtYWNcIixvLmluY2x1ZGVzKFwiTWFjaW50b3NoXCIpKSwhaGFzKFwid3BcIikmJi8oaVBob25lfGlQb2R8aVBhZCkvLnRlc3QoYSkpe2NvbnN0IGU9UmVnRXhwLiQxLnJlcGxhY2UoL1AvLFwicFwiKSxvPS9PUyAoW1xcZF9dKykvLnRlc3QoYSk/UmVnRXhwLiQxOlwiMVwiLGQ9cGFyc2VGbG9hdChvLnJlcGxhY2UoL18vLFwiLlwiKS5yZXBsYWNlQWxsKFwiX1wiLFwiXCIpKTtoYXMuYWRkKGUsZCksaGFzLmFkZChcImlvc1wiLGQpO31oYXMoXCJ3ZWJraXRcIil8fCghYS5pbmNsdWRlcyhcIkdlY2tvXCIpfHxoYXMoXCJ3cFwiKXx8aGFzKFwia2h0bWxcIil8fGhhcyhcImVkZ2VcIil8fGhhcy5hZGQoXCJtb3ppbGxhXCIsZCksaGFzKFwibW96aWxsYVwiKSYmaGFzLmFkZChcImZmXCIscGFyc2VGbG9hdChhLnNwbGl0KFwiRmlyZWZveC9cIilbMV18fGEuc3BsaXQoXCJNaW5lZmllbGQvXCIpWzFdKXx8dm9pZCAwKSk7fX0pKCksKCgpPT57aWYoZ2xvYmFsVGhpcy5uYXZpZ2F0b3Ipe2NvbnN0IGU9bmF2aWdhdG9yLnVzZXJBZ2VudCxhPS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxPcGVyYSBNaW5pfElFTW9iaWxlL2kudGVzdChlKSxvPS9pUGhvbmUvaS50ZXN0KGUpO2EmJmhhcy5hZGQoXCJlc3JpLW1vYmlsZVwiLGEpLG8mJmhhcy5hZGQoXCJlc3JpLWlQaG9uZVwiLG8pLGhhcy5hZGQoXCJlc3JpLWdlb2xvY2F0aW9uXCIsISFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pO31oYXMuYWRkKFwiZXNyaS13YXNtXCIsXCJXZWJBc3NlbWJseVwiaW4gZ2xvYmFsVGhpcyksaGFzLmFkZChcImVzcmktc2hhcmVkLWFycmF5LWJ1ZmZlclwiLCgoKT0+e2NvbnN0IGU9XCJTaGFyZWRBcnJheUJ1ZmZlclwiaW4gZ2xvYmFsVGhpcyxhPSExPT09Z2xvYmFsVGhpcy5jcm9zc09yaWdpbklzb2xhdGVkO3JldHVybiBlJiYhYX0pKSxoYXMuYWRkKFwid2FzbS1zaW1kXCIsKCgpPT57Y29uc3QgZT1bMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw1LDEsOTYsMCwxLDEyMywzLDIsMSwwLDEwLDEwLDEsOCwwLDY1LDAsMjUzLDE1LDI1Myw5OCwxMV07cmV0dXJuIFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KGUpKX0pKSxoYXMuYWRkKFwiZXNyaS1hdG9taWNzXCIsXCJBdG9taWNzXCJpbiBnbG9iYWxUaGlzKSxoYXMuYWRkKFwiZXNyaS13b3JrZXJzXCIsXCJXb3JrZXJcImluIGdsb2JhbFRoaXMpLGhhcy5hZGQoXCJ3ZWItZmVhdDpjYWNoZVwiLFwiY2FjaGVzXCJpbiBnbG9iYWxUaGlzKSxoYXMuYWRkKFwiZXNyaS13b3JrZXJzLWFycmF5YnVmZmVyLXRyYW5zZmVyXCIsIWhhcyhcInNhZmFyaVwiKXx8TnVtYmVyKGhhcyhcInNhZmFyaVwiKSk+PTEyKSxoYXMuYWRkKFwid29ya2Vycy1wb29sLXNpemVcIiw4KSxoYXMuYWRkKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LXRocmVzaG9sZHNcIixbLjUsLjUsLjUsLjVdKSxoYXMuYWRkKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LXBheWxvYWQtc2l6ZS1mYWN0b3JzXCIsWzEsMSw0XSksaGFzLmFkZChcImZlYXR1cmVsYXllci1hbmltYXRpb24tZW5hYmxlZFwiLCEwKSxoYXMuYWRkKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LWVuYWJsZWRcIiwhMCksaGFzLmFkZChcImZlYXR1cmVsYXllci1zbmFwc2hvdC1wb2ludC1taW4tdGhyZXNob2xkXCIsOGU0KSxoYXMuYWRkKFwiZmVhdHVyZWxheWVyLXNuYXBzaG90LXBvaW50LW1heC10aHJlc2hvbGRcIiw0ZTUpLGhhcy5hZGQoXCJmZWF0dXJlbGF5ZXItc25hcHNob3QtcG9pbnQtY292ZXJhZ2VcIiwuMSksaGFzLmFkZChcImZlYXR1cmVsYXllci1hZHZhbmNlZC1zeW1ib2xzXCIsITEpLGhhcy5hZGQoXCJmZWF0dXJlbGF5ZXItcGJmXCIsITApLGhhcy5hZGQoXCJmZWF0dXJlbGF5ZXItcGJmLXN0YXRpc3RpY3NcIiwhMSksaGFzLmFkZChcImZlYXR1cmUtbGF5ZXJzLXdvcmtlcnNcIiwhMCksaGFzLmFkZChcImZlYXR1cmUtcG9seWxpbmUtZ2VuZXJhbGl6YXRpb24tZmFjdG9yXCIsMSksaGFzLmFkZChcIm1hcHZpZXctdHJhbnNpdGlvbnMtZHVyYXRpb25cIiwyMDApLGhhcy5hZGQoXCJtYXB2aWV3LXNyc3dpdGNoLWFkanVzdC1yb3RhdGlvbi1zY2FsZS10aHJlc2hvbGRcIiwyNGU2KSxoYXMuYWRkKFwibWFwc2VydmVyLXBiZi12ZXJzaW9uLXN1cHBvcnRcIiwxMC44MSksaGFzLmFkZChcIm1hcHNlcnZpY2UtcG9wdXAtaWRlbnRpZnktbWF4LXRvbGVyYW5jZVwiLDIwKSxoYXMuYWRkKFwiaGVhdG1hcC1hbGxvdy1yYXN0ZXItZmFsbGJhY2tcIiwhMSksaGFzLmFkZChcImhlYXRtYXAtZm9yY2UtcmFzdGVyXCIsITEpLGhhcyhcImhvc3Qtd2Vid29ya2VyXCIpfHxoYXMoXCJob3N0LWJyb3dzZXJcIikmJihoYXMuYWRkKFwiZXNyaS1jc3AtcmVzdHJpY3Rpb25zXCIsKCgpPT57dHJ5e25ldyBGdW5jdGlvbjt9Y2F0Y2h7cmV0dXJuICEwfXJldHVybiAhMX0pKSxoYXMuYWRkKFwiZXNyaS1pbWFnZS1kZWNvZGVcIiwoKCk9PntpZihcImRlY29kZVwiaW4gbmV3IEltYWdlKXtjb25zdCBlPW5ldyBJbWFnZTtyZXR1cm4gZS5zcmM9J2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LDxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48L3N2Zz4nLHZvaWQgZS5kZWNvZGUoKS50aGVuKCgoKT0+e2hhcy5hZGQoXCJlc3JpLWltYWdlLWRlY29kZVwiLCEwLCEwLCEwKTt9KSkuY2F0Y2goKCgpPT57aGFzLmFkZChcImVzcmktaW1hZ2UtZGVjb2RlXCIsITEsITAsITApO30pKX1yZXR1cm4gITF9KSksaGFzLmFkZChcImVzcmktdXJsLWVuY29kZXMtYXBvc3Ryb3BoZVwiLCgoKT0+e2NvbnN0IGU9d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBlLmhyZWY9XCI/J1wiLGUuaHJlZi5pbmNsdWRlcyhcIj8lMjdcIil9KSkpO30pKCk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBzJEcodCxuLGUpe2lmKG51bGw9PXQmJm51bGw9PW4pcmV0dXJuICEwO2lmKG51bGw9PXR8fG51bGw9PW58fHQubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuICExO2lmKGUpe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKCFlKHRbcl0sbltyXSkpcmV0dXJuICExfWVsc2UgZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXSE9PW5bcl0pcmV0dXJuICExO3JldHVybiAhMH1jbGFzcyB2JGJ7Y29uc3RydWN0b3IoKXt0aGlzLmxhc3Q9MDt9fWNvbnN0IEEkYT1uZXcgdiRiO2Z1bmN0aW9uIGIkYSh0LG4sZSxyKXtyPXJ8fEEkYTtjb25zdCBvPU1hdGgubWF4KDAsci5sYXN0LTEwKTtmb3IobGV0IHU9bzt1PGU7Kyt1KWlmKHRbdV09PT1uKXJldHVybiByLmxhc3Q9dSx1O2NvbnN0IGw9TWF0aC5taW4obyxlKTtmb3IobGV0IHU9MDt1PGw7Kyt1KWlmKHRbdV09PT1uKXJldHVybiByLmxhc3Q9dSx1O3JldHVybiAtMX1jb25zdCBJJDc9bmV3IFNldDtmdW5jdGlvbiBPJDYodCxuLGU9dC5sZW5ndGgscj1uLmxlbmd0aCxvLGwpe2lmKDA9PT1yfHwwPT09ZSlyZXR1cm4gZTtJJDcuY2xlYXIoKTtmb3IobGV0IGY9MDtmPHI7KytmKUkkNy5hZGQobltmXSk7bz1vfHxBJGE7Y29uc3QgdT1NYXRoLm1heCgwLG8ubGFzdC0xMCk7Zm9yKGxldCBmPXU7ZjxlOysrZilpZihJJDcuaGFzKHRbZl0pJiYobCYmbC5wdXNoKHRbZl0pLEkkNy5kZWxldGUodFtmXSksdFtmXT10W2UtMV0sLS1lLC0tZiwwPT09SSQ3LnNpemV8fDA9PT1lKSlyZXR1cm4gSSQ3LmNsZWFyKCksZTtmb3IobGV0IGY9MDtmPHU7KytmKWlmKEkkNy5oYXModFtmXSkmJihsJiZsLnB1c2godFtmXSksSSQ3LmRlbGV0ZSh0W2ZdKSx0W2ZdPXRbZS0xXSwtLWUsLS1mLDA9PT1JJDcuc2l6ZXx8MD09PWUpKXJldHVybiBJJDcuY2xlYXIoKSxlO3JldHVybiBJJDcuY2xlYXIoKSxlfWZ1bmN0aW9uIEwkNyh0LG4pe2NvbnN0IGU9dC5pbmRleE9mKG4pO3JldHVybiAtMSE9PWU/KHQuc3BsaWNlKGUsMSksbik6bnVsbH1mdW5jdGlvbiBSJDYodCxuKXtyZXR1cm4gbnVsbCE9dH1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHIkcihuKXtyZXR1cm4gXCJJbnQ4QXJyYXlcIj09PW4/LmNvbnN0cnVjdG9yPy5uYW1lfWZ1bmN0aW9uIHQkeShuKXtyZXR1cm4gXCJVaW50OEFycmF5XCI9PT1uPy5jb25zdHJ1Y3Rvcj8ubmFtZX1mdW5jdGlvbiB1JHkobil7cmV0dXJuIFwiVWludDhDbGFtcGVkQXJyYXlcIj09PW4/LmNvbnN0cnVjdG9yPy5uYW1lfWZ1bmN0aW9uIG8kQyhuKXtyZXR1cm4gXCJJbnQxNkFycmF5XCI9PT1uPy5jb25zdHJ1Y3Rvcj8ubmFtZX1mdW5jdGlvbiBjJEIobil7cmV0dXJuIFwiVWludDE2QXJyYXlcIj09PW4/LmNvbnN0cnVjdG9yPy5uYW1lfWZ1bmN0aW9uIGUkRChuKXtyZXR1cm4gXCJJbnQzMkFycmF5XCI9PT1uPy5jb25zdHJ1Y3Rvcj8ubmFtZX1mdW5jdGlvbiBhJHcobil7cmV0dXJuIFwiVWludDMyQXJyYXlcIj09PW4/LmNvbnN0cnVjdG9yPy5uYW1lfWZ1bmN0aW9uIGkkeihuKXtyZXR1cm4gXCJGbG9hdDMyQXJyYXlcIj09PW4/LmNvbnN0cnVjdG9yPy5uYW1lfWZ1bmN0aW9uIGYkdyhuKXtyZXR1cm4gXCJGbG9hdDY0QXJyYXlcIj09PW4/LmNvbnN0cnVjdG9yPy5uYW1lfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbCR0KHQsbil7bGV0IGU7aWYobilmb3IoZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJih2b2lkIDA9PT10W2VdP2RlbGV0ZSB0W2VdOnRbZV1pbnN0YW5jZW9mIE9iamVjdCYmbCR0KHRbZV0sITApKTtlbHNlIGZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmdm9pZCAwPT09dFtlXSYmZGVsZXRlIHRbZV07cmV0dXJuIHR9ZnVuY3Rpb24gYSR2KHQpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdHx8XCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gdDtjb25zdCBuPU8kNSh0KTtpZihudWxsIT1uKXJldHVybiBuO2lmKHkkaih0KSlyZXR1cm4gdC5jbG9uZSgpO2lmKG0kbih0KSlyZXR1cm4gdC5tYXAoYSR2KTtpZihiJDkodCkpcmV0dXJuIHQuY2xvbmUoKTtjb25zdCBlPXt9O2Zvcihjb25zdCByIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpKWVbcl09YSR2KHRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIHkkaih0KXtyZXR1cm4gXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jbG9uZX1mdW5jdGlvbiBtJG4odCl7cmV0dXJuIFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZvckVhY2h9ZnVuY3Rpb24gYiQ5KHQpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm5vdGlmeUNoYW5nZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC53YXRjaH1mdW5jdGlvbiBnJGkodCl7aWYoXCJbb2JqZWN0IE9iamVjdF1cIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gITE7Y29uc3Qgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIG51bGw9PT1ufHxuPT09T2JqZWN0LnByb3RvdHlwZX1mdW5jdGlvbiBPJDUodCl7aWYociRyKHQpfHx0JHkodCl8fHUkeSh0KXx8byRDKHQpfHxjJEIodCl8fGUkRCh0KXx8YSR3KHQpfHxpJHoodCl8fGYkdyh0KSlyZXR1cm4gdC5zbGljZSgpO2lmKHQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZSh0LmdldFRpbWUoKSk7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtyZXR1cm4gdC5zbGljZSgwLHQuYnl0ZUxlbmd0aCl9aWYodCBpbnN0YW5jZW9mIE1hcCl7Y29uc3Qgbj1uZXcgTWFwO2Zvcihjb25zdFtlLHJdb2YgdCluLnNldChlLGEkdihyKSk7cmV0dXJuIG59aWYodCBpbnN0YW5jZW9mIFNldCl7Y29uc3Qgbj1uZXcgU2V0O2Zvcihjb25zdCBlIG9mIHQpbi5hZGQoYSR2KGUpKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBqJGQodCxuKXtyZXR1cm4gdD09PW58fFwibnVtYmVyXCI9PXR5cGVvZiB0JiZpc05hTih0KSYmXCJudW1iZXJcIj09dHlwZW9mIG4mJmlzTmFOKG4pfHxcImZ1bmN0aW9uXCI9PXR5cGVvZih0fHx7fSkuZ2V0VGltZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobnx8e30pLmdldFRpbWUmJnQuZ2V0VGltZSgpPT09bi5nZXRUaW1lKCl8fCExfWZ1bmN0aW9uIGgkbShuLGUpe3JldHVybiBuPT09ZXx8KG51bGw9PW58fFwic3RyaW5nXCI9PXR5cGVvZiBuP249PT1lOlwibnVtYmVyXCI9PXR5cGVvZiBuP249PT1lfHxcIm51bWJlclwiPT10eXBlb2YgZSYmaXNOYU4obikmJmlzTmFOKGUpOm4gaW5zdGFuY2VvZiBEYXRlP2UgaW5zdGFuY2VvZiBEYXRlJiZuLmdldFRpbWUoKT09PWUuZ2V0VGltZSgpOkFycmF5LmlzQXJyYXkobik/QXJyYXkuaXNBcnJheShlKSYmcyRHKG4sZSk6biBpbnN0YW5jZW9mIFNldD9lIGluc3RhbmNlb2YgU2V0JiZOJDMobixlKTpuIGluc3RhbmNlb2YgTWFwP2UgaW5zdGFuY2VvZiBNYXAmJlQkNShuLGUpOiEhZyRpKG4pJiYoZyRpKGUpJiZ3JDkobixlKSkpfWZ1bmN0aW9uIHckOSh0LG4pe2lmKG51bGw9PT10fHxudWxsPT09bilyZXR1cm4gITE7Y29uc3QgZT1PYmplY3Qua2V5cyh0KTtpZihudWxsPT09bnx8T2JqZWN0LmtleXMobikubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuICExO2Zvcihjb25zdCByIG9mIGUpaWYodFtyXSE9PW5bcl18fCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSlyZXR1cm4gITE7cmV0dXJuICEwfWZ1bmN0aW9uIE4kMyh0LG4pe2lmKHQuc2l6ZSE9PW4uc2l6ZSlyZXR1cm4gITE7Zm9yKGNvbnN0IGUgb2YgdClpZighbi5oYXMoZSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBUJDUodCxuKXtpZih0LnNpemUhPT1uLnNpemUpcmV0dXJuICExO2Zvcihjb25zdFtlLHJdb2YgdCl7Y29uc3QgdD1uLmdldChlKTtpZih0IT09cnx8dm9pZCAwPT09dCYmIW4uaGFzKGUpKXJldHVybiAhMX1yZXR1cm4gITB9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuJHUocixuLHQ9ITEpe3JldHVybiBpJHkocixuLHQpfWZ1bmN0aW9uIHQkeChyLG4pe2lmKG51bGwhPW4pcmV0dXJuIG5bcl18fGUkQyhyLnNwbGl0KFwiLlwiKSwhMSxuKX1mdW5jdGlvbiBvJEIocixuLHQpe2NvbnN0IG89ci5zcGxpdChcIi5cIiksaT1vLnBvcCgpLHU9ZSRDKG8sITAsdCk7dSYmaSYmKHVbaV09bik7fWZ1bmN0aW9uIGUkQyhyLG4sdCl7bGV0IG89dDtmb3IoY29uc3QgZSBvZiByKXtpZihudWxsPT1vKXJldHVybjtpZighKGUgaW4gbykpe2lmKCFuKXJldHVybjtvW2VdPXt9O31vPW9bZV07fXJldHVybiBvfWZ1bmN0aW9uIGkkeShuLHQsbyl7cmV0dXJuIHQ/T2JqZWN0LmtleXModCkucmVkdWNlKCgobixlKT0+e2xldCB1PW5bZV0sYz10W2VdO3JldHVybiB1PT09Yz9uOnZvaWQgMD09PXU/KG5bZV09YSR2KGMpLG4pOihBcnJheS5pc0FycmF5KGMpfHxBcnJheS5pc0FycmF5KG4pPyh1PXU/QXJyYXkuaXNBcnJheSh1KT9uW2VdPXUuY29uY2F0KCk6bltlXT1bdV06bltlXT1bXSxjJiYoQXJyYXkuaXNBcnJheShjKXx8KGM9W2NdKSxvP2MuZm9yRWFjaCgocj0+e3UuaW5jbHVkZXMocil8fHUucHVzaChyKTt9KSk6bltlXT1jLmNvbmNhdCgpKSk6YyYmXCJvYmplY3RcIj09dHlwZW9mIGM/bltlXT1pJHkodSxjLG8pOm4uaGFzT3duUHJvcGVydHkoZSkmJiF0Lmhhc093blByb3BlcnR5KGUpfHwobltlXT1jKSxuKX0pLG58fHt9KTpufVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgcyRGPXthbmFseXNpc1RoZW1lOnthY2NlbnRDb2xvcjpbMjU1LDEyNywwXSx0ZXh0Q29sb3I6XCJ3aGl0ZVwifSxhcGlLZXk6dm9pZCAwLGFwcGxpY2F0aW9uTmFtZTpcIlwiLGFwcGxpY2F0aW9uVXJsOmdsb2JhbFRoaXMubG9jYXRpb24/LmhyZWYsYXNzZXRzUGF0aDpcIlwiLGZvbnRzVXJsOlwiaHR0cHM6Ly9zdGF0aWMuYXJjZ2lzLmNvbS9mb250c1wiLGdlb21ldHJ5U2VydmljZVVybDpcImh0dHBzOi8vdXRpbGl0eS5hcmNnaXNvbmxpbmUuY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL0dlb21ldHJ5L0dlb21ldHJ5U2VydmVyXCIsZ2VvUlNTU2VydmljZVVybDpcImh0dHBzOi8vdXRpbGl0eS5hcmNnaXMuY29tL3NoYXJpbmcvcnNzXCIsa21sU2VydmljZVVybDpcImh0dHBzOi8vdXRpbGl0eS5hcmNnaXMuY29tL3NoYXJpbmcva21sXCIsdXNlclByaXZpbGVnZXNBcHBsaWVkOiExLHBvcnRhbFVybDpcImh0dHBzOi8vd3d3LmFyY2dpcy5jb21cIixyb3V0ZVNlcnZpY2VVcmw6XCJodHRwczovL3JvdXRlLWFwaS5hcmNnaXMuY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL1dvcmxkL1JvdXRlL05BU2VydmVyL1JvdXRlX1dvcmxkXCIsd29ya2Vyczp7bG9hZGVyQ29uZmlnOntoYXM6e30scGF0aHM6e30sbWFwOnt9LHBhY2thZ2VzOltdfX0scmVxdWVzdDp7Y3Jvc3NPcmlnaW5Ob0NvcnNEb21haW5zOm51bGwsaHR0cHNEb21haW5zOltcImFyY2dpcy5jb21cIixcImFyY2dpc29ubGluZS5jb21cIixcImVzcmlrci5jb21cIixcInByZW1pdW1zZXJ2aWNlcy5ibGFja2JyaWRnZS5jb21cIixcImVzcmlwcmVtaXVtLmFjY3V3ZWF0aGVyLmNvbVwiLFwiZ2JtLmRpZ2l0YWxnbG9iZS5jb21cIixcImZpcnN0bG9vay5kaWdpdGFsZ2xvYmUuY29tXCIsXCJtc2kuZGlnaXRhbGdsb2JlLmNvbVwiXSxpbnRlcmNlcHRvcnM6W10sbWF4VXJsTGVuZ3RoOjJlMyxwcmlvcml0eTpcImhpZ2hcIixwcm94eVJ1bGVzOltdLHByb3h5VXJsOm51bGwsdGltZW91dDo2ZTQsdHJ1c3RlZFNlcnZlcnM6W10sdXNlSWRlbnRpdHk6ITB9LGxvZzp7aW50ZXJjZXB0b3JzOltdLGxldmVsOm51bGx9fTtpZihnbG9iYWxUaGlzLmVzcmlDb25maWcmJihuJHUocyRGLGdsb2JhbFRoaXMuZXNyaUNvbmZpZywhMCksZGVsZXRlIHMkRi5oYXMpLCFzJEYuYXNzZXRzUGF0aCl7e2NvbnN0IGU9XCI0LjI3XCI7cyRGLmFzc2V0c1BhdGg9YGh0dHBzOi8vanMuYXJjZ2lzLmNvbS8ke2V9L0BhcmNnaXMvY29yZS9hc3NldHNgO31zJEYuZGVmYXVsdEFzc2V0c1BhdGg9cyRGLmFzc2V0c1BhdGg7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgZSRCPS9cXHsoW15cXH1dKylcXH0vZztmdW5jdGlvbiBuJHQodCl7cmV0dXJuIHQ/P1wiXCJ9ZnVuY3Rpb24gciRxKHIsbyl7cmV0dXJuIHIucmVwbGFjZUFsbChlJEIsXCJvYmplY3RcIj09dHlwZW9mIG8/KGUscik9Pm4kdCh0JHgocixvKSk6KHQsZSk9Pm4kdChvKGUpKSl9ZnVuY3Rpb24gYyRBKHQpe2xldCBlPTA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZT0oZTw8NSktZSt0LmNoYXJDb2RlQXQobiksZXw9MDtyZXR1cm4gZX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHIkcD17aW5mbzowLHdhcm46MSxlcnJvcjoyLG5vbmU6M307Y2xhc3MgcyRFe2NvbnN0cnVjdG9yKGUpe3RoaXMubGV2ZWw9bnVsbCx0aGlzLl9tb2R1bGU9XCJcIix0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLndyaXRlcj1udWxsLHRoaXMuX2xvZ2dlZE1lc3NhZ2VzPXtlcnJvcjpuZXcgTWFwLHdhcm46bmV3IE1hcCxpbmZvOm5ldyBNYXB9LG51bGwhPWUubGV2ZWwmJih0aGlzLmxldmVsPWUubGV2ZWwpLG51bGwhPWUud3JpdGVyJiYodGhpcy53cml0ZXI9ZS53cml0ZXIpLHRoaXMuX21vZHVsZT1lLm1vZHVsZSxzJEUuX2xvZ2dlcnMuc2V0KHRoaXMubW9kdWxlLHRoaXMpO2NvbnN0IHQ9dGhpcy5tb2R1bGUubGFzdEluZGV4T2YoXCIuXCIpOy0xIT09dCYmKHRoaXMuX3BhcmVudD1zJEUuZ2V0TG9nZ2VyKHRoaXMubW9kdWxlLnNsaWNlKDAsdCkpKTt9Z2V0IG1vZHVsZSgpe3JldHVybiB0aGlzLl9tb2R1bGV9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLl9wYXJlbnR9ZXJyb3IoLi4uZSl7dGhpcy5fbG9nKFwiZXJyb3JcIixcImFsd2F5c1wiLC4uLmUpO313YXJuKC4uLmUpe3RoaXMuX2xvZyhcIndhcm5cIixcImFsd2F5c1wiLC4uLmUpO31pbmZvKC4uLmUpe3RoaXMuX2xvZyhcImluZm9cIixcImFsd2F5c1wiLC4uLmUpO31lcnJvck9uY2UoLi4uZSl7dGhpcy5fbG9nKFwiZXJyb3JcIixcIm9uY2VcIiwuLi5lKTt9d2Fybk9uY2UoLi4uZSl7dGhpcy5fbG9nKFwid2FyblwiLFwib25jZVwiLC4uLmUpO31pbmZvT25jZSguLi5lKXt0aGlzLl9sb2coXCJpbmZvXCIsXCJvbmNlXCIsLi4uZSk7fWVycm9yT25jZVBlclRpY2soLi4uZSl7dGhpcy5fbG9nKFwiZXJyb3JcIixcIm9uY2VQZXJUaWNrXCIsLi4uZSk7fXdhcm5PbmNlUGVyVGljayguLi5lKXt0aGlzLl9sb2coXCJ3YXJuXCIsXCJvbmNlUGVyVGlja1wiLC4uLmUpO31pbmZvT25jZVBlclRpY2soLi4uZSl7dGhpcy5fbG9nKFwiaW5mb1wiLFwib25jZVBlclRpY2tcIiwuLi5lKTt9Z2V0IHRlc3QoKXtjb25zdCBlPXRoaXM7cmV0dXJuIHtsb2dnZWRNZXNzYWdlczplLl9sb2dnZWRNZXNzYWdlcyxjbGVhckxvZ2dlZFdhcm5pbmdzOigpPT5lLl9sb2dnZWRNZXNzYWdlcy53YXJuLmNsZWFyKCl9fXN0YXRpYyBnZXQgdGVzdCgpe3JldHVybiB7cmVzZXRMb2dnZXJzKGU9bmV3IE1hcCl7Y29uc3QgdD1zJEUuX2xvZ2dlcnM7cmV0dXJuIHMkRS5fbG9nZ2Vycz1lLHR9LHNldCB0aHJvdHRsaW5nRGlzYWJsZWQoZSl7cyRFLl90aHJvdHRsaW5nRGlzYWJsZWQ9ZTt9fX1zdGF0aWMgZ2V0TG9nZ2VyKGUpe3JldHVybiBlPVwic3RyaW5nXCIhPXR5cGVvZiBlP2UuZGVjbGFyZWRDbGFzczplLHMkRS5fbG9nZ2Vycy5nZXQoZSl8fG5ldyBzJEUoe21vZHVsZTplfSl9X2xvZyh0LHIsLi4ubil7aWYoIXRoaXMuX21hdGNoTGV2ZWwodCkpcmV0dXJuO2lmKFwiYWx3YXlzXCIhPT1yJiYhcyRFLl90aHJvdHRsaW5nRGlzYWJsZWQpe2NvbnN0IGU9dGhpcy5fYXJnc1RvS2V5KG4pLG89dGhpcy5fbG9nZ2VkTWVzc2FnZXNbdF0uZ2V0KGUpO2lmKFwib25jZVwiPT09ciYmbnVsbCE9b3x8XCJvbmNlUGVyVGlja1wiPT09ciYmbyYmbz49cyRFLl90aWNrQ291bnRlcilyZXR1cm47dGhpcy5fbG9nZ2VkTWVzc2FnZXNbdF0uc2V0KGUscyRFLl90aWNrQ291bnRlcikscyRFLl9zY2hlZHVsZVRpY2tDb3VudGVySW5jcmVtZW50KCk7fWZvcihjb25zdCBzIG9mIHMkRi5sb2cuaW50ZXJjZXB0b3JzKWlmKHModCx0aGlzLm1vZHVsZSwuLi5uKSlyZXR1cm47dGhpcy5faW5oZXJpdGVkV3JpdGVyKCkodCx0aGlzLm1vZHVsZSwuLi5uKTt9X3BhcmVudFdpdGhNZW1iZXIoZSx0KXtsZXQgcj10aGlzO2Zvcig7bnVsbCE9cjspe2NvbnN0IHQ9cltlXTtpZihudWxsIT10KXJldHVybiB0O3I9ci5wYXJlbnQ7fXJldHVybiB0fV9pbmhlcml0ZWRXcml0ZXIoKXtyZXR1cm4gdGhpcy5fcGFyZW50V2l0aE1lbWJlcihcIndyaXRlclwiLHRoaXMuX2NvbnNvbGVXcml0ZXIpfV9jb25zb2xlV3JpdGVyKGUsdCwuLi5yKXtjb25zb2xlW2VdKGBbJHt0fV1gLC4uLnIpO31fbWF0Y2hMZXZlbCh0KXtjb25zdCBzPXMkRi5sb2cubGV2ZWx8fFwid2FyblwiO3JldHVybiByJHBbdGhpcy5fcGFyZW50V2l0aE1lbWJlcihcImxldmVsXCIscyldPD1yJHBbdF19X2FyZ3NUb0tleSguLi5lKXtjb25zdCByPShlLHQpPT5cIm9iamVjdFwiIT10eXBlb2YgdHx8QXJyYXkuaXNBcnJheSh0KT90OlwiW09iamVjdF1cIjtyZXR1cm4gYyRBKEpTT04uc3RyaW5naWZ5KGUscikpfXN0YXRpYyBfc2NoZWR1bGVUaWNrQ291bnRlckluY3JlbWVudCgpe3MkRS5fdGlja0NvdW50ZXJTY2hlZHVsZWR8fChzJEUuX3RpY2tDb3VudGVyU2NoZWR1bGVkPSEwLFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT57cyRFLl90aWNrQ291bnRlcisrLHMkRS5fdGlja0NvdW50ZXJTY2hlZHVsZWQ9ITE7fSkpKTt9fXMkRS5fbG9nZ2Vycz1uZXcgTWFwLHMkRS5fdGlja0NvdW50ZXI9MCxzJEUuX3RpY2tDb3VudGVyU2NoZWR1bGVkPSExLHMkRS5fdGhyb3R0bGluZ0Rpc2FibGVkPSExO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gcyREKHMsZSl7cmV0dXJuIHMucmVwbGFjZUFsbCgvXFwkXFx7KFteXFxzXFw6XFx9XSopKD86XFw6KFteXFxzXFw6XFx9XSspKT9cXH0vZywoKHMscik9PntpZihcIlwiPT09cilyZXR1cm4gXCIkXCI7Y29uc3Qgbj10JHgocixlKTtyZXR1cm4gKG4/P1wiXCIpLnRvU3RyaW5nKCl9KSl9Y2xhc3MgZSRBe2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLm5hbWU9dCx0aGlzLmRldGFpbHM9cix0aGlzLm1lc3NhZ2U9KGUmJnMkRChlLHIpKT8/XCJcIjt9dG9TdHJpbmcoKXtyZXR1cm4gXCJbXCIrdGhpcy5uYW1lK1wiXTogXCIrdGhpcy5tZXNzYWdlfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHMkQyBleHRlbmRzIGUkQXtjb25zdHJ1Y3RvcihlLHQscil7c3VwZXIoZSx0LHIpO310b0pTT04oKXtpZihudWxsIT10aGlzLmRldGFpbHMpdHJ5e3JldHVybiB7bmFtZTp0aGlzLm5hbWUsbWVzc2FnZTp0aGlzLm1lc3NhZ2UsZGV0YWlsczpKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGV0YWlscywoKHQscik9PntpZihyJiZcIm9iamVjdFwiPT10eXBlb2YgciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci50b0pTT04pcmV0dXJuIHI7dHJ5e3JldHVybiBhJHYocil9Y2F0Y2gocyl7cmV0dXJuIFwiW29iamVjdF1cIn19KSkpfX1jYXRjaChyKXt0aHJvdyBzJEUuZ2V0TG9nZ2VyKFwiZXNyaS5jb3JlLkVycm9yXCIpLmVycm9yKHIpLHJ9cmV0dXJuIHtuYW1lOnRoaXMubmFtZSxtZXNzYWdlOnRoaXMubWVzc2FnZSxkZXRhaWxzOnRoaXMuZGV0YWlsc319c3RhdGljIGZyb21KU09OKGUpe3JldHVybiBuZXcgcyRDKGUubmFtZSxlLm1lc3NhZ2UsZS5kZXRhaWxzKX19cyRDLnByb3RvdHlwZS50eXBlPVwiZXJyb3JcIjtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGwkcyhuKXtyZXR1cm4gbj8uZGVzdHJveSgpLG51bGx9ZnVuY3Rpb24gbyRBKG4pe3JldHVybiBuPy5yZW1vdmUoKSxudWxsfWZ1bmN0aW9uIGkkeChuKXtyZXR1cm4gbnVsbH1mdW5jdGlvbiBwJG0obil7cmV0dXJuIG59XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0JHcoZSl7cmV0dXJuIC9cXC8oc2hhcmluZ3x1c3JzdmNzKVxcLyhhcHBzZXJ2aWNlc3xzZXJ2ZXJzKVxcLy9pLnRlc3QoZSl9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB1JHg9cyRFLmdldExvZ2dlcihcImVzcmkuY29yZS51cmxVdGlsc1wiKSxsJHI9cyRGLnJlcXVlc3QsYyR6PVwiZXNyaS9jb25maWc6IGVzcmlDb25maWcucmVxdWVzdC5wcm94eVVybCBpcyBub3Qgc2V0LlwiLGYkdj0vXlxccypbYS16XVthLXowLTktKy5dKjooPyFbMC05XSkvaSxhJHU9L15cXHMqaHR0cDovaSxwJGw9L15cXHMqaHR0cHM6L2ksaCRsPS9eXFxzKmZpbGU6L2ksbSRtPS86XFxkKyQvLGQkcT0vXmh0dHBzPzpcXC9cXC9bXi9dK1xcLmFyY2dpcy5jb21cXC9zaGFyaW5nKFxcL3wkKS9pLGckaD1uZXcgUmVnRXhwKFwiXigoW146Lz8jXSspOik/KC8vKFteLz8jXSopKT8oW14/I10qKShcXFxcPyhbXiNdKikpPygjKC4qKSk/JFwiKSx5JGk9bmV3IFJlZ0V4cChcIl4oKChbXlxcXFxbOl0rKTopPyhbXkBdKylAKT8oXFxcXFsoW15cXFxcXV0rKVxcXFxdfChbXlxcXFxbOl0qKSkoOihbMC05XSspKT8kXCIpO2NsYXNzICQkNHtjb25zdHJ1Y3Rvcih0PVwiXCIpe3RoaXMudXJpPXQsdGhpcy5zY2hlbWU9bnVsbCx0aGlzLmF1dGhvcml0eT1udWxsLHRoaXMucGF0aD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLmZyYWdtZW50PW51bGwsdGhpcy51c2VyPW51bGwsdGhpcy5wYXNzd29yZD1udWxsLHRoaXMuaG9zdD1udWxsLHRoaXMucG9ydD1udWxsO2xldCBuPXAkbSh0aGlzLnVyaS5tYXRjaChnJGgpKTt0aGlzLnNjaGVtZT1uWzJdfHwoblsxXT9cIlwiOm51bGwpLHRoaXMuYXV0aG9yaXR5PW5bNF18fChuWzNdP1wiXCI6bnVsbCksdGhpcy5wYXRoPW5bNV0sdGhpcy5xdWVyeT1uWzddfHwobls2XT9cIlwiOm51bGwpLHRoaXMuZnJhZ21lbnQ9bls5XXx8KG5bOF0/XCJcIjpudWxsKSxudWxsIT10aGlzLmF1dGhvcml0eSYmKG49cCRtKHRoaXMuYXV0aG9yaXR5Lm1hdGNoKHkkaSkpLHRoaXMudXNlcj1uWzNdfHxudWxsLHRoaXMucGFzc3dvcmQ9bls0XXx8bnVsbCx0aGlzLmhvc3Q9bls2XXx8bls3XSx0aGlzLnBvcnQ9bls5XXx8bnVsbCk7fXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudXJpfX1jb25zdCB4JGM9e30sdyQ4PW5ldyAkJDQocyRGLmFwcGxpY2F0aW9uVXJsKTtsZXQgTyQ0PXckODtjb25zdCBVJDM9cSQ2KCk7bGV0IEMkNz1VJDM7Y29uc3QgUiQ1PSgpPT5PJDQ7ZnVuY3Rpb24gcSQ2KCl7Y29uc3QgdD1wJG0oTyQ0LnBhdGgpLG49dC5zdWJzdHJpbmcoMCx0Lmxhc3RJbmRleE9mKHQuc3BsaXQoXCIvXCIpW3Quc3BsaXQoXCIvXCIpLmxlbmd0aC0xXSkpO3JldHVybiBgJHtgJHtPJDQuc2NoZW1lfTovLyR7TyQ0Lmhvc3R9JHtudWxsIT1PJDQucG9ydD9gOiR7TyQ0LnBvcnR9YDpcIlwifWB9JHtufWB9ZnVuY3Rpb24gTCQ2KHQpe2lmKCF0KXJldHVybiBudWxsO2NvbnN0IG49e3BhdGg6bnVsbCxxdWVyeTpudWxsfSxlPW5ldyAkJDQodCkscj10LmluZGV4T2YoXCI/XCIpO3JldHVybiBudWxsPT09ZS5xdWVyeT9uLnBhdGg9dDoobi5wYXRoPXQuc3Vic3RyaW5nKDAsciksbi5xdWVyeT1JJDYoZS5xdWVyeSkpLGUuZnJhZ21lbnQmJihuLmhhc2g9ZS5mcmFnbWVudCxudWxsPT09ZS5xdWVyeSYmKG4ucGF0aD1uLnBhdGguc3Vic3RyaW5nKDAsbi5wYXRoLmxlbmd0aC0oZS5mcmFnbWVudC5sZW5ndGgrMSkpKSksbn1mdW5jdGlvbiBJJDYodCl7Y29uc3Qgbj10LnNwbGl0KFwiJlwiKSxlPXt9O2Zvcihjb25zdCByIG9mIG4pe2lmKCFyKWNvbnRpbnVlO2NvbnN0IHQ9ci5pbmRleE9mKFwiPVwiKTtsZXQgbixvO3Q8MD8obj1kZWNvZGVVUklDb21wb25lbnQociksbz1cIlwiKToobj1kZWNvZGVVUklDb21wb25lbnQoci5zbGljZSgwLHQpKSxvPWRlY29kZVVSSUNvbXBvbmVudChyLnNsaWNlKHQrMSkpKTtsZXQgaT1lW25dO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1lW25dPVtpXSksQXJyYXkuaXNBcnJheShpKT9pLnB1c2gobyk6ZVtuXT1vO31yZXR1cm4gZX1mdW5jdGlvbiBBJDkodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcInRvSlNPTlwiaW4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b0pTT059ZnVuY3Rpb24gdiRhKHQsbil7cmV0dXJuIHQ/biYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9PYmplY3Qua2V5cyh0KS5tYXAoKGU9PmVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQobihlLHRbZV0pKSkpLmpvaW4oXCImXCIpOk9iamVjdC5rZXlzKHQpLm1hcCgoZT0+e2NvbnN0IHI9dFtlXTtpZihudWxsPT1yKXJldHVybiBcIlwiO2NvbnN0IG89ZW5jb2RlVVJJQ29tcG9uZW50KGUpK1wiPVwiLGk9biYmbltlXTtyZXR1cm4gaT9vK2VuY29kZVVSSUNvbXBvbmVudChpKHIpKTpBcnJheS5pc0FycmF5KHIpP3IubWFwKCh0PT5BJDkodCk/bytlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpOm8rZW5jb2RlVVJJQ29tcG9uZW50KHQpKSkuam9pbihcIiZcIik6QSQ5KHIpP28rZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKTpvK2VuY29kZVVSSUNvbXBvbmVudChyKX0pKS5maWx0ZXIoKHQ9PnQpKS5qb2luKFwiJlwiKTpcIlwifWZ1bmN0aW9uIFAkNCh0PSExKXtsZXQgbixyPWwkci5wcm94eVVybDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7bj1odCh0KTtjb25zdCBlPUokMih0KTtlJiYocj1lLnByb3h5VXJsKTt9ZWxzZSBuPSEhdDtpZighcil0aHJvdyB1JHgud2FybihjJHopLG5ldyBzJEMoXCJ1cmx1dGlsczpwcm94eS1ub3Qtc2V0XCIsYyR6KTtuJiZ4dCgpJiYocj15dChyKSk7cmV0dXJuIEwkNihyKX1jb25zdCBrJGE9e3BhdGg6XCJcIixxdWVyeTpcIlwifTtmdW5jdGlvbiBFJDgodCl7Y29uc3Qgbj10LmluZGV4T2YoXCI/XCIpO3JldHVybiAtMSE9PW4/KGskYS5wYXRoPXQuc2xpY2UoMCxuKSxrJGEucXVlcnk9dC5zbGljZShuKzEpKTooayRhLnBhdGg9dCxrJGEucXVlcnk9bnVsbCksayRhfWZ1bmN0aW9uIEIkNih0KXtyZXR1cm4gdD0odD13dCh0PVJ0KHQ9RSQ4KHQpLnBhdGgpLCEwKSkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBIJDModCl7Y29uc3Qgbj17cHJveHlVcmw6dC5wcm94eVVybCx1cmxQcmVmaXg6QiQ2KHQudXJsUHJlZml4KX0sZT1sJHIucHJveHlSdWxlcyxyPW4udXJsUHJlZml4O2xldCBvPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCB0PWVbaV0udXJsUHJlZml4O2lmKDA9PT1yLmluZGV4T2YodCkpe2lmKHIubGVuZ3RoPT09dC5sZW5ndGgpcmV0dXJuIC0xO289aTticmVha30wPT09dC5pbmRleE9mKHIpJiYobz1pKzEpO31yZXR1cm4gZS5zcGxpY2UobywwLG4pLG99ZnVuY3Rpb24gSiQyKHQpe2NvbnN0IG49bCRyLnByb3h5UnVsZXMsZT1CJDYodCk7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspaWYoMD09PWUuaW5kZXhPZihuW3JdLnVybFByZWZpeCkpcmV0dXJuIG5bcl19ZnVuY3Rpb24gRCQ4KHQpe2NvbnN0IG49bj0+bnVsbD09bnx8biBpbnN0YW5jZW9mIFJlZ0V4cCYmbi50ZXN0KHQpfHxcInN0cmluZ1wiPT10eXBlb2YgbiYmdC5zdGFydHNXaXRoKG4pLGU9bCRyLmludGVyY2VwdG9ycztpZihlKWZvcihjb25zdCByIG9mIGUpaWYoQXJyYXkuaXNBcnJheShyLnVybHMpKXtpZihyLnVybHMuc29tZShuKSlyZXR1cm4gcn1lbHNlIGlmKG4oci51cmxzKSlyZXR1cm4gcjtyZXR1cm4gbnVsbH1mdW5jdGlvbiBGJDQodCxuLGU9ITEpe2lmKCF0fHwhbilyZXR1cm4gITE7Y29uc3Qgcj1BdCh0KSxvPUF0KG4pO3JldHVybiAhKCFlJiZyLnNjaGVtZSE9PW8uc2NoZW1lKSYmKG51bGwhPXIuaG9zdCYmbnVsbCE9by5ob3N0JiYoci5ob3N0LnRvTG93ZXJDYXNlKCk9PT1vLmhvc3QudG9Mb3dlckNhc2UoKSYmci5wb3J0PT09by5wb3J0KSl9ZnVuY3Rpb24gTSQ4KHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZighWSQyKHQpKXJldHVybiAhMDt0PUF0KHQpO31pZihGJDQodCxPJDQpKXJldHVybiAhMDtjb25zdCBuPWwkci50cnVzdGVkU2VydmVyc3x8W107Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHI9USQzKG5bZV0pO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKWlmKEYkNCh0LHJbbl0pKXJldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24gUSQzKHQpe3JldHVybiB4JGNbdF18fChwdCh0KXx8YXQodCk/eCRjW3RdPVtuZXcgJCQ0KF8kZCh0KSldOngkY1t0XT1bbmV3ICQkNChgaHR0cDovLyR7dH1gKSxuZXcgJCQ0KGBodHRwczovLyR7dH1gKV0pLHgkY1t0XX1mdW5jdGlvbiBfJGQodCxuPUMkNyxlKXtyZXR1cm4gYXQodCk/ZSYmZS5wcmVzZXJ2ZVByb3RvY29sUmVsYXRpdmU/dDpcImh0dHBcIj09PU8kNC5zY2hlbWUmJk8kNC5hdXRob3JpdHk9PT1YJDIodCkuc2xpY2UoMik/YGh0dHA6JHt0fWA6YGh0dHBzOiR7dH1gOnB0KHQpP3Q6cCRtKFYkMihcIi9cIj09PXRbMF0/T3Qobik6bix0KSl9ZnVuY3Rpb24gSyQyKHQpe3JldHVybiB0PUx0KHQ9anQodD1xdCh0PV8kZCh0PXQudHJpbSgpKSkpKX1mdW5jdGlvbiBWJDIoLi4udCl7Y29uc3QgZT10LmZpbHRlcihSJDYpO2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHI9W107aWYoWSQyKGVbMF0pKXtjb25zdCB0PWVbMF0sbj10LmluZGV4T2YoXCIvL1wiKTstMSE9PW4mJihyLnB1c2godC5zbGljZSgwLG4rMSkpLGR0KGVbMF0pJiYoclswXSs9XCIvXCIpLGVbMF09dC5zbGljZShuKzIpKTt9ZWxzZSBcIi9cIj09PWVbMF1bMF0mJnIucHVzaChcIlwiKTtjb25zdCBvPWUucmVkdWNlKCgodCxuKT0+bj90LmNvbmNhdChuLnNwbGl0KFwiL1wiKSk6dCksW10pO2ZvcihsZXQgbj0wO248by5sZW5ndGg7bisrKXtjb25zdCB0PW9bbl07XCIuLlwiPT09dCYmci5sZW5ndGg+MCYmXCIuLlwiIT09cltyLmxlbmd0aC0xXT9yLnBvcCgpOighdCYmbj09PW8ubGVuZ3RoLTF8fHQmJihcIi5cIiE9PXR8fDA9PT1yLmxlbmd0aCkpJiZyLnB1c2godCk7fXJldHVybiByLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIFgkMih0LG49ITEpe2lmKG51bGw9PXR8fFokMyh0KXx8dHQodCkpcmV0dXJuIG51bGw7bGV0IGU9dC5pbmRleE9mKFwiOi8vXCIpO2lmKC0xPT09ZSYmYXQodCkpZT0yO2Vsc2Uge2lmKC0xPT09ZSlyZXR1cm4gbnVsbDtlKz0zO31jb25zdCByPXQuaW5kZXhPZihcIi9cIixlKTtyZXR1cm4gLTEhPT1yJiYodD10LnNsaWNlKDAscikpLG4mJih0PXd0KHQsITApKSx0fWZ1bmN0aW9uIFkkMih0KXtyZXR1cm4gYXQodCl8fHB0KHQpfWZ1bmN0aW9uIFokMyh0KXtyZXR1cm4gbnVsbCE9dCYmXCJibG9iOlwiPT09dC5zbGljZSgwLDUpfWZ1bmN0aW9uIHR0KHQpe3JldHVybiBudWxsIT10JiZcImRhdGE6XCI9PT10LnNsaWNlKDAsNSl9ZnVuY3Rpb24gZXQodCl7cmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQpKS5yZXBsYWNlQWxsKFwiK1wiLFwiLVwiKS5yZXBsYWNlQWxsKFwiL1wiLFwiX1wiKS5yZXBsYWNlKC89KyQvLFwiXCIpfWZ1bmN0aW9uIGF0KHQpe3JldHVybiBudWxsIT10JiZcIi9cIj09PXRbMF0mJlwiL1wiPT09dFsxXX1mdW5jdGlvbiBwdCh0KXtyZXR1cm4gbnVsbCE9dCYmZiR2LnRlc3QodCl9ZnVuY3Rpb24gaHQodCl7cmV0dXJuIG51bGwhPXQmJnAkbC50ZXN0KHQpfHxcImh0dHBzXCI9PT1PJDQuc2NoZW1lJiZhdCh0KX1mdW5jdGlvbiBtdCh0KXtyZXR1cm4gbnVsbCE9dCYmYSR1LnRlc3QodCl8fFwiaHR0cFwiPT09TyQ0LnNjaGVtZSYmYXQodCl9ZnVuY3Rpb24gZHQodCl7cmV0dXJuIG51bGwhPXQmJmgkbC50ZXN0KHQpfWZ1bmN0aW9uIHl0KHQpe3JldHVybiBhdCh0KT9gaHR0cHM6JHt0fWA6dC5yZXBsYWNlKGEkdSxcImh0dHBzOlwiKX1mdW5jdGlvbiAkdCgpe3JldHVybiBcImh0dHBcIj09PU8kNC5zY2hlbWV9ZnVuY3Rpb24geHQoKXtyZXR1cm4gXCJodHRwc1wiPT09TyQ0LnNjaGVtZX1mdW5jdGlvbiB3dCh0LG49ITEpe3JldHVybiBhdCh0KT90LnNsaWNlKDIpOih0PXQucmVwbGFjZShmJHYsXCJcIiksbiYmdC5sZW5ndGg+MSYmXCIvXCI9PT10WzBdJiZcIi9cIj09PXRbMV0mJih0PXQuc2xpY2UoMikpLHQpfWZ1bmN0aW9uIE90KHQpe2NvbnN0IG49dC5pbmRleE9mKFwiLy9cIiksZT10LmluZGV4T2YoXCIvXCIsbisyKTtyZXR1cm4gLTE9PT1lP3Q6dC5zbGljZSgwLGUpfWZ1bmN0aW9uIFJ0KHQpe3JldHVybiB0JiZcIi9cIj09PXRbdC5sZW5ndGgtMV0/dDpgJHt0fS9gfWZ1bmN0aW9uIHF0KHQpe2lmKC9eaHR0cHM/OlxcL1xcLy9pLnRlc3QodCkpe2NvbnN0IG49RSQ4KHQpO3Q9KHQ9bi5wYXRoLnJlcGxhY2VBbGwoL1xcL3syLH0vZyxcIi9cIikpLnJlcGxhY2UoXCIvXCIsXCIvL1wiKSxuLnF1ZXJ5JiYodCs9YD8ke24ucXVlcnl9YCk7fXJldHVybiB0fWZ1bmN0aW9uIGp0KHQpe3JldHVybiB0LnJlcGxhY2UoL14oaHR0cHM/OlxcL1xcLykoYXJjZ2lzXFwuY29tKS9pLFwiJDF3d3cuJDJcIil9ZnVuY3Rpb24gTHQodCl7Y29uc3Qgbj1sJHIuaHR0cHNEb21haW5zO2lmKCFtdCh0KSlyZXR1cm4gdDtjb25zdCBlPXQuaW5kZXhPZihcIi9cIiw3KTtsZXQgcjtpZihyPS0xPT09ZT90OnQuc2xpY2UoMCxlKSxyPXIudG9Mb3dlckNhc2UoKS5zbGljZSg3KSxtJG0udGVzdChyKSl7aWYoIXIuZW5kc1dpdGgoXCI6ODBcIikpcmV0dXJuIHQ7cj1yLnNsaWNlKDAsLTMpLHQ9dC5yZXBsYWNlKFwiOjgwXCIsXCJcIik7fXJldHVybiAkdCgpJiZyPT09TyQ0LmF1dGhvcml0eSYmIWQkcS50ZXN0KHQpfHwoeHQoKSYmcj09PU8kNC5hdXRob3JpdHl8fG4mJm4uc29tZSgodD0+cj09PXR8fHIuZW5kc1dpdGgoYC4ke3R9YCkpKXx8eHQoKSYmIUokMih0KSkmJih0PXl0KHQpKSx0fWZ1bmN0aW9uIEF0KHQpe3JldHVybiBcInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgJCQ0KF8kZCh0KSk6KHQuc2NoZW1lfHwodC5zY2hlbWU9TyQ0LnNjaGVtZSksdCl9ZnVuY3Rpb24gU3QodCxuLGUpe2NvbnN0IHI9TCQ2KHQpLG89ci5xdWVyeXx8e307cmV0dXJuIG9bbl09U3RyaW5nKGUpLGAke3IucGF0aH0/JHt2JGEobyl9YH1mdW5jdGlvbiBrdCh0LG4pe2NvbnN0IGU9TCQ2KHQpLHI9ZS5xdWVyeXx8e307Zm9yKGNvbnN0IGkgaW4gbilyW2ldPW5baV07Y29uc3Qgbz12JGEocik7cmV0dXJuIG8/YCR7ZS5wYXRofT8ke299YDplLnBhdGh9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgbiRzO2Z1bmN0aW9uIG8keih0KXtuJHM9dDt9aGFzKFwiaG9zdC13ZWJ3b3JrZXJcIik7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlJHooZSl7cmV0dXJuIHtzZXRUaW1lb3V0Oih0LG8pPT57Y29uc3Qgcj1lLnNldFRpbWVvdXQodCxvKTtyZXR1cm4ge3JlbW92ZTooKT0+ZS5jbGVhclRpbWVvdXQocil9fX19Y29uc3QgdCR2PWUkeihnbG9iYWxUaGlzKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUkeShlKXtyZXR1cm4gZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub258fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcil9ZnVuY3Rpb24gciRvKHIsdCxuKXtpZighZSR5KHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0YXJnZXQgaXMgbm90IGEgRXZlbnRlZCBvciBFdmVudFRhcmdldCBvYmplY3RcIik7aWYoXCJvblwiaW4gcilyZXR1cm4gci5vbih0LG4pO2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IGU9dC5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpci5hZGRFdmVudExpc3RlbmVyKHQsbik7cmV0dXJuIHtyZW1vdmUoKXtmb3IoY29uc3QgdCBvZiBlKXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pO319fXJldHVybiByLmFkZEV2ZW50TGlzdGVuZXIodCxuKSx7cmVtb3ZlKCl7ci5yZW1vdmVFdmVudExpc3RlbmVyKHQsbik7fX19ZnVuY3Rpb24gdCR1KHQsbixvKXtpZighZSR5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0YXJnZXQgaXMgbm90IGEgRXZlbnRlZCBvciBFdmVudFRhcmdldCBvYmplY3RcIik7aWYoXCJvbmNlXCJpbiB0KXJldHVybiB0Lm9uY2UobixvKTtjb25zdCBpPXIkbyh0LG4sKGU9PntpLnJlbW92ZSgpLG8uY2FsbCh0LGUpO30pKTtyZXR1cm4ge3JlbW92ZSgpe2kucmVtb3ZlKCk7fX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBjJHkodD1cIkFib3J0ZWRcIil7cmV0dXJuIG5ldyBzJEMoXCJBYm9ydEVycm9yXCIsdCl9ZnVuY3Rpb24gbCRxKHQpe3JldHVybiBudWxsIT10P1wiYWJvcnRlZFwiaW4gdD90OnQuc2lnbmFsOnR9ZnVuY3Rpb24gYSR0KHQpe2NvbnN0IHI9bCRxKHQpO3JldHVybiBudWxsIT1yJiZyLmFib3J0ZWR9ZnVuY3Rpb24gbSRsKHQpe2lmKCFkJHAodCkpdGhyb3cgdH1mdW5jdGlvbiB3JDcodCxyKXtjb25zdCBlPWwkcSh0KTtpZihudWxsIT1lKXtpZighZS5hYm9ydGVkKXJldHVybiB0JHUoZSxcImFib3J0XCIsKCgpPT5yKCkpKTtyKCk7fX1mdW5jdGlvbiBkJHAodCl7cmV0dXJuIFwiQWJvcnRFcnJvclwiPT09dD8ubmFtZX1hc3luYyBmdW5jdGlvbiBqJGModCl7aWYoIXQpcmV0dXJuO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuZm9yRWFjaCl7Y29uc3Qgcj1PYmplY3Qua2V5cyh0KSxuPXIubWFwKChyPT50W3JdKSksZT1hd2FpdCBqJGMobiksbz17fTtyZXR1cm4gci5tYXAoKCh0LHIpPT5vW3RdPWVbcl0pKSxvfWNvbnN0IHI9dDtyZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKHIpLnRoZW4oKHQ9PkFycmF5LmZyb20ociwoKHIsbik9Pntjb25zdCBlPXRbbl07cmV0dXJuIFwiZnVsZmlsbGVkXCI9PT1lLnN0YXR1cz97cHJvbWlzZTpyLHZhbHVlOmUudmFsdWV9Ontwcm9taXNlOnIsZXJyb3I6ZS5yZWFzb259fSkpKSl9ZnVuY3Rpb24gZyRnKHQscj12b2lkIDAsbil7Y29uc3QgZT1uZXcgQWJvcnRDb250cm9sbGVyO3JldHVybiB3JDcobiwoKCk9PmUuYWJvcnQoKSkpLG5ldyBQcm9taXNlKCgobixvKT0+e2xldCBpPXNldFRpbWVvdXQoKCgpPT57aT0wLG4ocik7fSksdCk7dyQ3KGUsKCgpPT57aSYmKGNsZWFyVGltZW91dChpKSxvKGMkeSgpKSk7fSkpO30pKX1mdW5jdGlvbiBUJDQodCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGhlbn1mdW5jdGlvbiBFJDcodCl7cmV0dXJuIFQkNCh0KT90OlByb21pc2UucmVzb2x2ZSh0KX1mdW5jdGlvbiBrJDkodCxyPS0xKXtsZXQgbixlLG8sdSxzPW51bGw7Y29uc3QgbD0oLi4uYSk9PntpZihuKXtlPWEsdSYmdS5yZWplY3QoYyR5KCkpLHU9QyQ2KCk7Y29uc3QgdD1wJG0odS5wcm9taXNlKTtpZihzKXtjb25zdCB0PXM7cz1udWxsLHQuYWJvcnQoKTt9cmV0dXJuIHR9aWYobz11fHxDJDYoKSx1PW51bGwscj4wKXtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXI7bj1FJDcodCguLi5hLGUuc2lnbmFsKSk7Y29uc3Qgbz1uO2ckZyhyKS50aGVuKCgoKT0+e249PT1vJiYodT9lLmFib3J0KCk6cz1lKTt9KSk7fWVsc2Ugbj0xLG49RSQ3KHQoLi4uYSkpO2NvbnN0IGY9KCk9Pntjb25zdCB0PWU7ZT1vPW49cz1udWxsLG51bGwhPXQmJmwoLi4udCk7fSxtPW4sdz1vO3JldHVybiBtLnRoZW4oZixmKSxtLnRoZW4ody5yZXNvbHZlLHcucmVqZWN0KSxwJG0ody5wcm9taXNlKX07cmV0dXJuIGx9ZnVuY3Rpb24gQyQ2KCl7bGV0IHIsbjtjb25zdCBlPW5ldyBQcm9taXNlKCgodCxlKT0+e3I9dCxuPWU7fSkpLG89dD0+e3IodCk7fTtyZXR1cm4gby5yZXNvbHZlPXQ9PnIodCksby5yZWplY3Q9dD0+bih0KSxvLnRpbWVvdXQ9KHIsbik9PnQkdi5zZXRUaW1lb3V0KCgoKT0+by5yZWplY3QobikpLHIpLG8ucHJvbWlzZT1lLG99XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0JHQ9W1wiZWxldmF0aW9uM2QuYXJjZ2lzLmNvbVwiLFwianMuYXJjZ2lzLmNvbVwiLFwianNkZXYuYXJjZ2lzLmNvbVwiLFwianNxYS5hcmNnaXMuY29tXCIsXCJzdGF0aWMuYXJjZ2lzLmNvbVwiXTtmdW5jdGlvbiByJG4oYyl7Y29uc3Qgcj1YJDIoYywhMCk7cmV0dXJuICEhciYmKHIuZW5kc1dpdGgoXCIuYXJjZ2lzLmNvbVwiKSYmIXQkdC5pbmNsdWRlcyhyKSYmIWMuZW5kc1dpdGgoXCIvc2hhcmluZy9yZXN0L2dlbmVyYXRlVG9rZW5cIikpfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gaSR3KGUsbyx0PSExLG4pe3JldHVybiBuZXcgUHJvbWlzZSgoKHMsaSk9PntpZihhJHQobikpcmV0dXJuIHZvaWQgaShjJHgoKSk7bGV0IGE9KCk9PntsKCksaShuZXcgRXJyb3IoYFVuYWJsZSB0byBsb2FkICR7b31gKSk7fSx1PSgpPT57Y29uc3Qgcj1lO2woKSxzKHIpO30sbT0oKT0+e2lmKCFlKXJldHVybjtjb25zdCByPWU7bCgpLHIuc3JjPVwiXCIsaShjJHgoKSk7fTtjb25zdCBsPSgpPT57aGFzKFwiZXNyaS1pbWFnZS1kZWNvZGVcIil8fChlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGEpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix1KSksYT1udWxsLHU9bnVsbCxlPW51bGwsbnVsbCE9biYmbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixtKSxtPW51bGwsdCYmVVJMLnJldm9rZU9iamVjdFVSTChvKTt9O251bGwhPW4mJm4uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbSksaGFzKFwiZXNyaS1pbWFnZS1kZWNvZGVcIik/ZS5kZWNvZGUoKS50aGVuKHUsYSk6KGUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsYSksZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHUpKTt9KSl9ZnVuY3Rpb24gYyR4KCl7dHJ5e3JldHVybiBuZXcgRE9NRXhjZXB0aW9uKFwiQWJvcnRlZFwiLFwiQWJvcnRFcnJvclwiKX1jYXRjaHtjb25zdCBlPW5ldyBFcnJvcjtyZXR1cm4gZS5uYW1lPVwiQWJvcnRFcnJvclwiLGV9fWNvbnN0IGEkcz1cIlRpbWVvdXQgZXhjZWVkZWRcIjtmdW5jdGlvbiB1JHcoKXtyZXR1cm4gbmV3IEVycm9yKGEkcyl9ZnVuY3Rpb24gbCRwKHIpe3MkRi5yZXF1ZXN0LmNyb3NzT3JpZ2luTm9Db3JzRG9tYWluc3x8KHMkRi5yZXF1ZXN0LmNyb3NzT3JpZ2luTm9Db3JzRG9tYWlucz17fSk7Y29uc3QgdD1zJEYucmVxdWVzdC5jcm9zc09yaWdpbk5vQ29yc0RvbWFpbnM7Zm9yKGxldCBlIG9mIHIpZT1lLnRvTG93ZXJDYXNlKCksL15odHRwcz86XFwvXFwvLy50ZXN0KGUpP3RbWCQyKGUpPz9cIlwiXT0wOih0W1gkMihcImh0dHA6Ly9cIitlKT8/XCJcIl09MCx0W1gkMihcImh0dHBzOi8vXCIrZSk/P1wiXCJdPTApO31mdW5jdGlvbiBkJG8ocil7Y29uc3Qgcz1zJEYucmVxdWVzdC5jcm9zc09yaWdpbk5vQ29yc0RvbWFpbnM7aWYocyl7bGV0IGU9WCQyKHIpO2lmKGUpcmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpLCFGJDQoZSxSJDUoKSkmJnNbZV08RGF0ZS5ub3coKS0zNmU1fXJldHVybiAhMX1hc3luYyBmdW5jdGlvbiBmJHUocil7Y29uc3QgdD1zJEYucmVxdWVzdC5jcm9zc09yaWdpbk5vQ29yc0RvbWFpbnMsbj1YJDIocik7dCYmbiYmKHRbbi50b0xvd2VyQ2FzZSgpXT1EYXRlLm5vdygpKTtjb25zdCBpPUwkNihyKTtyPWkucGF0aCxcImpzb25cIj09PWkucXVlcnk/LmYmJihyKz1cIj9mPWpzb25cIik7dHJ5e2F3YWl0IGZldGNoKHIse21vZGU6XCJuby1jb3JzXCIsY3JlZGVudGlhbHM6XCJpbmNsdWRlXCJ9KTt9Y2F0Y2h7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGokYihlLHQpe2UgaW5zdGFuY2VvZiBVUkwmJihlPWUudG9TdHJpbmcoKSksdD8ucXVlcnkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMmJih0LnF1ZXJ5PUkkNih0LnF1ZXJ5LnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIitcIixcIiBcIikpKTtjb25zdCByPXR0KGUpLHM9WiQzKGUpO3N8fHJ8fChlPUskMihlKSk7Y29uc3QgYT17dXJsOmUscmVxdWVzdE9wdGlvbnM6ey4uLnR9fTtsZXQgbj1EJDgoZSk7aWYobil7Y29uc3QgZT1hd2FpdCBKJDEobixhKTtpZihudWxsIT1lKXJldHVybiB7ZGF0YTplLGdldEhlYWRlcjpSJDQsaHR0cFN0YXR1czoyMDAscmVxdWVzdE9wdGlvbnM6YS5yZXF1ZXN0T3B0aW9ucyx1cmw6YS51cmx9O24uYWZ0ZXJ8fG4uZXJyb3J8fChuPW51bGwpO31pZihlPWEudXJsLFwiaW1hZ2VcIj09PSh0PWEucmVxdWVzdE9wdGlvbnMpLnJlc3BvbnNlVHlwZSYmKGhhcyhcImhvc3Qtd2Vid29ya2VyXCIpfHxoYXMoXCJob3N0LW5vZGVcIikpKXRocm93IEIkNShcInJlcXVlc3Q6aW52YWxpZC1wYXJhbWV0ZXJzXCIsbmV3IEVycm9yKFwicmVzcG9uc2VUeXBlICdpbWFnZScgaXMgbm90IHN1cHBvcnRlZCBpbiBXZWIgV29ya2VycyBvciBOb2RlIGVudmlyb25tZW50XCIpLGEpO2lmKFwiaGVhZFwiPT09dC5tZXRob2Qpe2lmKHQuYm9keSl0aHJvdyBCJDUoXCJyZXF1ZXN0OmludmFsaWQtcGFyYW1ldGVyc1wiLG5ldyBFcnJvcihcImJvZHkgcGFyYW1ldGVyIGNhbm5vdCBiZSBzZXQgd2hlbiBtZXRob2QgaXMgJ2hlYWQnXCIpLGEpO2lmKHJ8fHMpdGhyb3cgQiQ1KFwicmVxdWVzdDppbnZhbGlkLXBhcmFtZXRlcnNcIixuZXcgRXJyb3IoXCJkYXRhIGFuZCBibG9iIFVSTHMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIG1ldGhvZCAnaGVhZCdcIiksYSl9aWYoYXdhaXQgJCQzKCksUCQzKXJldHVybiBQJDMuZXhlY3V0ZShlLHQpO2NvbnN0IGk9bmV3IEFib3J0Q29udHJvbGxlcjt3JDcodCwoKCk9PmkuYWJvcnQoKSkpO2NvbnN0IGg9e2NvbnRyb2xsZXI6aSxjcmVkZW50aWFsOnZvaWQgMCxjcmVkZW50aWFsVG9rZW46dm9pZCAwLGZldGNoT3B0aW9uczp2b2lkIDAsaGFzVG9rZW46ITEsaW50ZXJjZXB0b3I6bixwYXJhbXM6YSxyZWRvUmVxdWVzdDohMSx1c2VJZGVudGl0eTpEJDcudXNlSWRlbnRpdHksdXNlUHJveHk6ITEsdXNlU1NMOiExLHdpdGhDcmVkZW50aWFsczohMX0sbT1hd2FpdCBWJDEoaCk7cmV0dXJuIG4/LmFmdGVyPy4obSksbX1sZXQgUCQzO2NvbnN0IEQkNz1zJEYucmVxdWVzdCxfJGM9XCJGb3JtRGF0YVwiaW4gZ2xvYmFsVGhpcyxBJDg9WzQ5OSw0OTgsNDAzLDQwMV0sRiQzPVtcIkNPTV8wMDU2XCIsXCJDT01fMDA1N1wiLFwiU0JfMDAwOFwiXSxJJDU9Wy9cXC9hcmNnaXNcXC90b2tlbnMvaSwvXFwvc2hhcmluZyhcXC9yZXN0KT9cXC9nZW5lcmF0ZXRva2VuL2ksL1xcL3Jlc3RcXC9pbmZvL2ldLFIkND0oKT0+bnVsbCxNJDc9U3ltYm9sKCk7ZnVuY3Rpb24gSCQyKGUpe2NvbnN0IHQ9WCQyKGUpO3QmJiFqJGIuX2NvcnNTZXJ2ZXJzLmluY2x1ZGVzKHQpJiZqJGIuX2NvcnNTZXJ2ZXJzLnB1c2godCk7fWZ1bmN0aW9uIE4kMihlKXtjb25zdCB0PVgkMihlKTtyZXR1cm4gIXR8fHQuZW5kc1dpdGgoXCIuYXJjZ2lzLmNvbVwiKXx8aiRiLl9jb3JzU2VydmVycy5pbmNsdWRlcyh0KXx8TSQ4KHQpfWZ1bmN0aW9uIEIkNShlLHQsbyxpKXtsZXQgbD1cIkVycm9yXCI7Y29uc3QgdT17dXJsOm8udXJsLHJlcXVlc3RPcHRpb25zOm8ucmVxdWVzdE9wdGlvbnMsZ2V0SGVhZGVyOlIkNCxzc2w6ITF9O2lmKHQgaW5zdGFuY2VvZiBzJEMpcmV0dXJuIHQuZGV0YWlscz8odC5kZXRhaWxzPWEkdih0LmRldGFpbHMpLHQuZGV0YWlscy51cmw9by51cmwsdC5kZXRhaWxzLnJlcXVlc3RPcHRpb25zPW8ucmVxdWVzdE9wdGlvbnMpOnQuZGV0YWlscz11LHQ7aWYodCl7Y29uc3QgZT1pJiYoZT0+aS5oZWFkZXJzLmdldChlKSkscj1pPy5zdGF0dXMscz10Lm1lc3NhZ2U7cyYmKGw9cyksZSYmKHUuZ2V0SGVhZGVyPWUpLHUuaHR0cFN0YXR1cz0obnVsbCE9dC5odHRwQ29kZT90Lmh0dHBDb2RlOnQuY29kZSl8fHJ8fDAsdS5zdWJDb2RlPXQuc3ViY29kZSx1Lm1lc3NhZ2VDb2RlPXQubWVzc2FnZUNvZGUsXCJzdHJpbmdcIj09dHlwZW9mIHQuZGV0YWlscz91Lm1lc3NhZ2VzPVt0LmRldGFpbHNdOnUubWVzc2FnZXM9dC5kZXRhaWxzLHUucmF3PU0kNyBpbiB0P3RbTSQ3XTp0O31yZXR1cm4gZCRwKHQpP2MkeSgpOm5ldyBzJEMoZSxsLHUpfWFzeW5jIGZ1bmN0aW9uICQkMygpe2hhcyhcImhvc3Qtd2Vid29ya2VyXCIpP1AkM3x8KFAkMz1hd2FpdCBpbXBvcnQoJy4vcmVxdWVzdC1jMTViNzJiMi5qcycpKTpqJGIuX2Fib3J0YWJsZUZldGNofHwoaiRiLl9hYm9ydGFibGVGZXRjaD1nbG9iYWxUaGlzLmZldGNoLmJpbmQoZ2xvYmFsVGhpcykpO31hc3luYyBmdW5jdGlvbiB6JDYoKXtuJHN8fGF3YWl0IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gSWRlbnRpdHlNYW5hZ2VyOyB9KTt9YXN5bmMgZnVuY3Rpb24gSyQxKHIpe2NvbnN0IHM9ci5wYXJhbXMudXJsLG89ci5wYXJhbXMucmVxdWVzdE9wdGlvbnMsYT1yLmNvbnRyb2xsZXIuc2lnbmFsLG49by5ib2R5O2xldCBsPW51bGwsdT1udWxsO2lmKF8kYyYmXCJIVE1MRm9ybUVsZW1lbnRcImluIGdsb2JhbFRoaXMmJihuIGluc3RhbmNlb2YgRm9ybURhdGE/bD1uOm4gaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQmJihsPW5ldyBGb3JtRGF0YShuKSkpLFwic3RyaW5nXCI9PXR5cGVvZiBuJiYodT1uKSxyLmZldGNoT3B0aW9ucz17Y2FjaGU6by5jYWNoZUJ1c3QmJiEoXCJwb2x5ZmlsbFwiaW4gaiRiLl9hYm9ydGFibGVGZXRjaCk/XCJuby1jYWNoZVwiOlwiZGVmYXVsdFwiLGNyZWRlbnRpYWxzOlwic2FtZS1vcmlnaW5cIixoZWFkZXJzOm8uaGVhZGVyc3x8e30sbWV0aG9kOlwiaGVhZFwiPT09by5tZXRob2Q/XCJIRUFEXCI6XCJHRVRcIixtb2RlOlwiY29yc1wiLHByaW9yaXR5OkQkNy5wcmlvcml0eSxyZWRpcmVjdDpcImZvbGxvd1wiLHNpZ25hbDphfSwobHx8dSkmJihyLmZldGNoT3B0aW9ucy5ib2R5PWx8fHUpLFwiYW5vbnltb3VzXCI9PT1vLmF1dGhNb2RlJiYoci51c2VJZGVudGl0eT0hMSksci5oYXNUb2tlbj0hISgvdG9rZW49L2kudGVzdChzKXx8by5xdWVyeT8udG9rZW58fGw/LmdldChcInRva2VuXCIpKSwhci5oYXNUb2tlbiYmcyRGLmFwaUtleSYmciRuKHMpJiYoby5xdWVyeXx8KG8ucXVlcnk9e30pLG8ucXVlcnkudG9rZW49cyRGLmFwaUtleSxyLmhhc1Rva2VuPSEwKSxyLnVzZUlkZW50aXR5JiYhci5oYXNUb2tlbiYmIXIuY3JlZGVudGlhbFRva2VuJiYhVyQxKHMpJiYhYSR0KGEpKXtsZXQgZTtcImltbWVkaWF0ZVwiPT09by5hdXRoTW9kZT8oYXdhaXQgeiQ2KCksZT1hd2FpdCBuJHMuZ2V0Q3JlZGVudGlhbChzLHtzaWduYWw6YX0pLHIuY3JlZGVudGlhbD1lKTpcIm5vLXByb21wdFwiPT09by5hdXRoTW9kZT8oYXdhaXQgeiQ2KCksZT1hd2FpdCBuJHMuZ2V0Q3JlZGVudGlhbChzLHtwcm9tcHQ6ITEsc2lnbmFsOmF9KS5jYXRjaCgoKCk9Pnt9KSksci5jcmVkZW50aWFsPWUpOm4kcyYmKGU9biRzLmZpbmRDcmVkZW50aWFsKHMpKSxlJiYoci5jcmVkZW50aWFsVG9rZW49ZS50b2tlbixyLnVzZVNTTD0hIWUuc3NsKTt9fWZ1bmN0aW9uIFckMShlKXtyZXR1cm4gSSQ1LnNvbWUoKHQ9PnQudGVzdChlKSkpfWFzeW5jIGZ1bmN0aW9uIEckMihlKXtsZXQgcj1lLnBhcmFtcy51cmw7Y29uc3Qgcz1lLnBhcmFtcy5yZXF1ZXN0T3B0aW9ucyxvPWUuZmV0Y2hPcHRpb25zPz97fSxhPVokMyhyKXx8dHQociksaT1zLnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsbD1hPzA6bnVsbCE9cy50aW1lb3V0P3MudGltZW91dDpEJDcudGltZW91dDtsZXQgZD0hMTtpZighYSl7ZS51c2VTU0wmJihyPXl0KHIpKSxzLmNhY2hlQnVzdCYmXCJkZWZhdWx0XCI9PT1vLmNhY2hlJiYocj1TdChyLFwicmVxdWVzdC5wcmV2ZW50Q2FjaGVcIixEYXRlLm5vdygpKSk7bGV0IGE9ey4uLnMucXVlcnl9O2UuY3JlZGVudGlhbFRva2VuJiYoYS50b2tlbj1lLmNyZWRlbnRpYWxUb2tlbik7bGV0IG49diRhKGEpO2hhcyhcImVzcmktdXJsLWVuY29kZXMtYXBvc3Ryb3BoZVwiKSYmKG49bi5yZXBsYWNlQWxsKFwiJ1wiLFwiJTI3XCIpKTtjb25zdCBpPXIubGVuZ3RoKzErbi5sZW5ndGg7bGV0IGw7ZD1cImRlbGV0ZVwiPT09cy5tZXRob2R8fFwicG9zdFwiPT09cy5tZXRob2R8fFwicHV0XCI9PT1zLm1ldGhvZHx8ISFzLmJvZHl8fGk+RCQ3Lm1heFVybExlbmd0aDtjb25zdCB1PXMudXNlUHJveHl8fCEhSiQyKHIpO2lmKHUpe2NvbnN0IGU9UCQ0KHIpO2w9ZS5wYXRoLCFkJiZsLmxlbmd0aCsxK2k+RCQ3Lm1heFVybExlbmd0aCYmKGQ9ITApLGUucXVlcnkmJihhPXsuLi5lLnF1ZXJ5LC4uLmF9KTt9aWYoXCJIRUFEXCI9PT1vLm1ldGhvZCYmKGR8fHUpKXtpZihkKXtpZihpPkQkNy5tYXhVcmxMZW5ndGgpdGhyb3cgQiQ1KFwicmVxdWVzdDppbnZhbGlkLXBhcmFtZXRlcnNcIixuZXcgRXJyb3IoXCJVUkwgZXhjZWVkcyBtYXhpbXVtIGxlbmd0aFwiKSxlLnBhcmFtcyk7dGhyb3cgQiQ1KFwicmVxdWVzdDppbnZhbGlkLXBhcmFtZXRlcnNcIixuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIFBPU1QgcmVxdWVzdCB3aGVuIG1ldGhvZCBpcyAnaGVhZCdcIiksZS5wYXJhbXMpfWlmKHUpdGhyb3cgQiQ1KFwicmVxdWVzdDppbnZhbGlkLXBhcmFtZXRlcnNcIixuZXcgRXJyb3IoXCJjYW5ub3QgdXNlIHByb3h5IHdoZW4gbWV0aG9kIGlzICdoZWFkJ1wiKSxlLnBhcmFtcyl9aWYoZD8oby5tZXRob2Q9XCJkZWxldGVcIj09PXMubWV0aG9kP1wiREVMRVRFXCI6XCJwdXRcIj09PXMubWV0aG9kP1wiUFVUXCI6XCJQT1NUXCIscy5ib2R5P3I9a3QocixhKTooby5ib2R5PXYkYShhKSxvLmhlYWRlcnN8fChvLmhlYWRlcnM9e30pLG8uaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1cImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSk6cj1rdChyLGEpLHUmJihlLnVzZVByb3h5PSEwLHI9YCR7bH0/JHtyfWApLGEudG9rZW4mJl8kYyYmby5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEmJiF0JHcocikmJm8uYm9keS5zZXQoXCJ0b2tlblwiLGEudG9rZW4pLHMuaGFzT3duUHJvcGVydHkoXCJ3aXRoQ3JlZGVudGlhbHNcIikpZS53aXRoQ3JlZGVudGlhbHM9cy53aXRoQ3JlZGVudGlhbHM7ZWxzZSBpZighRiQ0KHIsUiQ1KCkpKWlmKE0kOChyKSllLndpdGhDcmVkZW50aWFscz0hMDtlbHNlIGlmKG4kcyl7Y29uc3Qgcz1uJHMuZmluZFNlcnZlckluZm8ocik7cz8ud2ViVGllckF1dGgmJihlLndpdGhDcmVkZW50aWFscz0hMCk7fWUud2l0aENyZWRlbnRpYWxzJiYoby5jcmVkZW50aWFscz1cImluY2x1ZGVcIixkJG8ocikmJmF3YWl0IGYkdShkP2t0KHIsYSk6cikpO31sZXQgcCxDLHY9MCxVPSExO2w+MCYmKHY9c2V0VGltZW91dCgoKCk9PntVPSEwLGUuY29udHJvbGxlci5hYm9ydCgpO30pLGwpKTt0cnl7aWYoXCJuYXRpdmUtcmVxdWVzdC1pbml0XCI9PT1zLnJlc3BvbnNlVHlwZSlDPW8sQy51cmw9cjtlbHNlIGlmKFwiaW1hZ2VcIiE9PXMucmVzcG9uc2VUeXBlfHxcImRlZmF1bHRcIiE9PW8uY2FjaGV8fFwiR0VUXCIhPT1vLm1ldGhvZHx8ZHx8WCQxKHMuaGVhZGVycyl8fCFhJiYhZS51c2VQcm94eSYmRCQ3LnByb3h5VXJsJiYhTiQyKHIpKXtpZihwPWF3YWl0IGokYi5fYWJvcnRhYmxlRmV0Y2gocixvKSxlLnVzZVByb3h5fHxIJDIociksXCJuYXRpdmVcIj09PXMucmVzcG9uc2VUeXBlKUM9cDtlbHNlIGlmKFwiSEVBRFwiIT09by5tZXRob2QpaWYocC5vayl7c3dpdGNoKGkpe2Nhc2VcImFycmF5LWJ1ZmZlclwiOkM9YXdhaXQgcC5hcnJheUJ1ZmZlcigpO2JyZWFrO2Nhc2VcImJsb2JcIjpjYXNlXCJpbWFnZVwiOkM9YXdhaXQgcC5ibG9iKCk7YnJlYWs7ZGVmYXVsdDpDPWF3YWl0IHAudGV4dCgpO31pZih2JiYoY2xlYXJUaW1lb3V0KHYpLHY9MCksXCJqc29uXCI9PT1pfHxcInhtbFwiPT09aXx8XCJkb2N1bWVudFwiPT09aSlpZihDKXN3aXRjaChpKXtjYXNlXCJqc29uXCI6Qz1KU09OLnBhcnNlKEMpO2JyZWFrO2Nhc2VcInhtbFwiOkM9USQyKEMsXCJhcHBsaWNhdGlvbi94bWxcIik7YnJlYWs7Y2FzZVwiZG9jdW1lbnRcIjpDPVEkMihDLFwidGV4dC9odG1sXCIpO31lbHNlIEM9bnVsbDtpZihDKXtpZihcImFycmF5LWJ1ZmZlclwiPT09aXx8XCJibG9iXCI9PT1pKXtjb25zdCBlPXAuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIik7aWYoZSYmL2FwcGxpY2F0aW9uXFwvanNvbnx0ZXh0XFwvcGxhaW4vaS50ZXN0KGUpJiZDW1wiYmxvYlwiPT09aT9cInNpemVcIjpcImJ5dGVMZW5ndGhcIl08PTc1MCl0cnl7Y29uc3QgZT1hd2FpdCBuZXcgUmVzcG9uc2UoQykuanNvbigpO2UuZXJyb3ImJihDPWUpO31jYXRjaHt9fVwiaW1hZ2VcIj09PWkmJkMgaW5zdGFuY2VvZiBCbG9iJiYoQz1hd2FpdCBaJDIoVVJMLmNyZWF0ZU9iamVjdFVSTChDKSxlLCEwKSk7fX1lbHNlIHtDPWF3YWl0IHAudGV4dCgpO3RyeXtDPUpTT04ucGFyc2UoQyk7fWNhdGNoe319fWVsc2UgQz1hd2FpdCBaJDIocixlKTt9Y2F0Y2goUCl7aWYoXCJBYm9ydEVycm9yXCI9PT1QLm5hbWUpe2lmKFUpdGhyb3cgdSR3KCk7dGhyb3cgYyR5KFwiUmVxdWVzdCBjYW5jZWxlZFwiKX1pZighKCFwJiZQIGluc3RhbmNlb2YgVHlwZUVycm9yJiZEJDcucHJveHlVcmwpfHxzLmJvZHl8fFwiZGVsZXRlXCI9PT1zLm1ldGhvZHx8XCJoZWFkXCI9PT1zLm1ldGhvZHx8XCJwb3N0XCI9PT1zLm1ldGhvZHx8XCJwdXRcIj09PXMubWV0aG9kfHxlLnVzZVByb3h5fHxOJDIocikpdGhyb3cgUDtlLnJlZG9SZXF1ZXN0PSEwLEgkMyh7cHJveHlVcmw6RCQ3LnByb3h5VXJsLHVybFByZWZpeDpYJDIocik/P1wiXCJ9KTt9ZmluYWxseXt2JiZjbGVhclRpbWVvdXQodik7fXJldHVybiBbcCxDXX1hc3luYyBmdW5jdGlvbiBKJDEoZSx0KXtpZihudWxsIT1lLnJlc3BvbnNlRGF0YSlyZXR1cm4gZS5yZXNwb25zZURhdGE7aWYoZS5oZWFkZXJzJiYodC5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzPXsuLi50LnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsLi4uZS5oZWFkZXJzfSksZS5xdWVyeSYmKHQucmVxdWVzdE9wdGlvbnMucXVlcnk9ey4uLnQucmVxdWVzdE9wdGlvbnMucXVlcnksLi4uZS5xdWVyeX0pLGUuYmVmb3JlKXtsZXQgbyxhO3RyeXthPWF3YWl0IGUuYmVmb3JlKHQpO31jYXRjaChzKXtvPUIkNShcInJlcXVlc3Q6aW50ZXJjZXB0b3JcIixzLHQpO31pZigoYSBpbnN0YW5jZW9mIEVycm9yfHxhIGluc3RhbmNlb2YgcyRDKSYmKG89QiQ1KFwicmVxdWVzdDppbnRlcmNlcHRvclwiLGEsdCkpLG8pdGhyb3cgZS5lcnJvciYmZS5lcnJvcihvKSxvO3JldHVybiBhfX1mdW5jdGlvbiBYJDEoZSl7aWYoZSlmb3IoY29uc3QgdCBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSlpZihlW3RdKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gUSQyKGUsdCl7bGV0IHI7dHJ5e3I9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLHQpO31jYXRjaHt9aWYoIXJ8fHIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGgpdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiWE1MIFBhcnNlIGVycm9yXCIpO3JldHVybiByfWFzeW5jIGZ1bmN0aW9uIFYkMShlKXtsZXQgcixzO2F3YWl0IEskMShlKTt0cnl7ZG97W3Isc109YXdhaXQgRyQyKGUpO313aGlsZSghYXdhaXQgWSQxKGUscixzKSl9Y2F0Y2gobil7Y29uc3QgdD1CJDUoXCJyZXF1ZXN0OnNlcnZlclwiLG4sZS5wYXJhbXMscik7dGhyb3cgdC5kZXRhaWxzLnNzbD1lLnVzZVNTTCxlLmludGVyY2VwdG9yPy5lcnJvciYmZS5pbnRlcmNlcHRvci5lcnJvcih0KSx0fWNvbnN0IG89ZS5wYXJhbXMudXJsO2lmKHMmJi9cXC9zaGFyaW5nXFwvcmVzdFxcLyhhY2NvdW50c3xwb3J0YWxzKVxcL3NlbGYvaS50ZXN0KG8pKXtpZighZS5oYXNUb2tlbiYmIWUuY3JlZGVudGlhbFRva2VuJiZzLnVzZXI/LnVzZXJuYW1lJiYhTSQ4KG8pKXtjb25zdCBlPVgkMihvLCEwKTtlJiZEJDcudHJ1c3RlZFNlcnZlcnMucHVzaChlKTt9QXJyYXkuaXNBcnJheShzLmF1dGhvcml6ZWRDcm9zc09yaWdpbk5vQ29yc0RvbWFpbnMpJiZsJHAocy5hdXRob3JpemVkQ3Jvc3NPcmlnaW5Ob0NvcnNEb21haW5zKTt9Y29uc3QgYT1lLmNyZWRlbnRpYWw7aWYoYSYmbiRzKXtjb25zdCBlPW4kcy5maW5kU2VydmVySW5mbyhhLnNlcnZlcik7bGV0IHI9ZT8ub3duaW5nU3lzdGVtVXJsO2lmKHIpe3I9ci5yZXBsYWNlKC9cXC8/JC8sXCIvc2hhcmluZ1wiKTtjb25zdCBlPW4kcy5maW5kQ3JlZGVudGlhbChyLGEudXNlcklkKTtlJiYtMT09PW4kcy5fZ2V0SWRlbnRpY2FsU3ZjSWR4KHIsZSkmJmUucmVzb3VyY2VzLnVuc2hpZnQocik7fX1yZXR1cm4ge2RhdGE6cyxnZXRIZWFkZXI6cj9lPT5yPy5oZWFkZXJzLmdldChlKTpSJDQsaHR0cFN0YXR1czpyPy5zdGF0dXM/PzIwMCxyZXF1ZXN0T3B0aW9uczplLnBhcmFtcy5yZXF1ZXN0T3B0aW9ucyxzc2w6ZS51c2VTU0wsdXJsOmUucGFyYW1zLnVybH19YXN5bmMgZnVuY3Rpb24gWSQxKGUscixzKXtpZihlLnJlZG9SZXF1ZXN0KXJldHVybiBlLnJlZG9SZXF1ZXN0PSExLCExO2NvbnN0IG89ZS5wYXJhbXMucmVxdWVzdE9wdGlvbnM7aWYoIXJ8fFwibmF0aXZlXCI9PT1vLnJlc3BvbnNlVHlwZXx8XCJuYXRpdmUtcmVxdWVzdC1pbml0XCI9PT1vLnJlc3BvbnNlVHlwZSlyZXR1cm4gITA7bGV0IGEsbjtpZihzJiYocy5lcnJvcj9hPXMuZXJyb3I6XCJlcnJvclwiPT09cy5zdGF0dXMmJkFycmF5LmlzQXJyYXkocy5tZXNzYWdlcykmJihhPXsuLi5zfSxhW00kN109cyxhLmRldGFpbHM9cy5tZXNzYWdlcykpLCFhJiYhci5vayl0aHJvdyBhPW5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgJHtyLnVybH0gc3RhdHVzOiAke3Iuc3RhdHVzfWApLGFbTSQ3XT1zLGE7bGV0IGksbD1udWxsO2EmJihuPU51bWJlcihhLmNvZGUpLGw9YS5oYXNPd25Qcm9wZXJ0eShcInN1YmNvZGVcIik/TnVtYmVyKGEuc3ViY29kZSk6bnVsbCxpPWEubWVzc2FnZUNvZGUsaT1pPy50b1VwcGVyQ2FzZSgpKTtjb25zdCB1PW8uYXV0aE1vZGU7aWYoNDAzPT09biYmKDQ9PT1sfHxhLm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJzc2xcIikmJiFhLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInBlcm1pc3Npb25cIikpKXtpZighZS51c2VTU0wpcmV0dXJuIGUudXNlU1NMPSEwLCExfWVsc2UgaWYoIWUuaGFzVG9rZW4mJmUudXNlSWRlbnRpdHkmJihcIm5vLXByb21wdFwiIT09dXx8NDk4PT09bikmJnZvaWQgMCE9PW4mJkEkOC5pbmNsdWRlcyhuKSYmIVckMShlLnBhcmFtcy51cmwpJiYoNDAzIT09bnx8aSYmIUYkMy5pbmNsdWRlcyhpKSYmKG51bGw9PWx8fDI9PT1sJiZlLmNyZWRlbnRpYWxUb2tlbikpKXthd2FpdCB6JDYoKTt0cnl7Y29uc3Qgcj1hd2FpdCBuJHMuZ2V0Q3JlZGVudGlhbChlLnBhcmFtcy51cmwse2Vycm9yOkIkNShcInJlcXVlc3Q6c2VydmVyXCIsYSxlLnBhcmFtcykscHJvbXB0Olwibm8tcHJvbXB0XCIhPT11LHNpZ25hbDplLmNvbnRyb2xsZXIuc2lnbmFsLHRva2VuOmUuY3JlZGVudGlhbFRva2VufSk7cmV0dXJuIGUuY3JlZGVudGlhbD1yLGUuY3JlZGVudGlhbFRva2VuPXIudG9rZW4sZS51c2VTU0w9ZS51c2VTU0x8fHIuc3NsLCExfWNhdGNoKGMpe2lmKFwibm8tcHJvbXB0XCI9PT11KXJldHVybiBlLmNyZWRlbnRpYWw9dm9pZCAwLGUuY3JlZGVudGlhbFRva2VuPXZvaWQgMCwhMTthPWM7fX1pZihhKXRocm93IGE7cmV0dXJuICEwfWZ1bmN0aW9uIFokMihlLHQscj0hMSl7Y29uc3Qgcz10LmNvbnRyb2xsZXIuc2lnbmFsLG89bmV3IEltYWdlO3JldHVybiB0LndpdGhDcmVkZW50aWFscz9vLmNyb3NzT3JpZ2luPVwidXNlLWNyZWRlbnRpYWxzXCI6by5jcm9zc09yaWdpbj1cImFub255bW91c1wiLG8uYWx0PVwiXCIsby5mZXRjaFByaW9yaXR5PUQkNy5wcmlvcml0eSxvLnNyYz1lLGkkdyhvLGUscixzKX1qJGIuX2Fib3J0YWJsZUZldGNoPW51bGwsaiRiLl9jb3JzU2VydmVycz1bXCJodHRwczovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tXCIsXCJodHRwczovL3NlcnZpY2VzLmFyY2dpc29ubGluZS5jb21cIl07XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBpJHYocix0KXtyZXR1cm4gdD97Li4udCxxdWVyeTp7Li4ucj8/e30sLi4udC5xdWVyeX19OntxdWVyeTpyfX1mdW5jdGlvbiBmJHQocil7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiByP0wkNihyKTphJHYocil9ZnVuY3Rpb24gcyRCKHIsdCxvKXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIGluIHIpe2lmKFwiZGVjbGFyZWRDbGFzc1wiPT09biljb250aW51ZTtjb25zdCBpPXJbbl07aWYobnVsbCE9aSYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSlpZihBcnJheS5pc0FycmF5KGkpKXtlW25dPVtdO2ZvcihsZXQgcj0wO3I8aS5sZW5ndGg7cisrKWVbbl1bcl09cyRCKGlbcl0pO31lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBpKWlmKGkudG9KU09OKXtjb25zdCByPWkudG9KU09OKG8mJm9bbl0pO2Vbbl09dD9yOkpTT04uc3RyaW5naWZ5KHIpO31lbHNlIGVbbl09dD9pOkpTT04uc3RyaW5naWZ5KGkpO2Vsc2UgZVtuXT1pO31yZXR1cm4gZX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUkeChlLHQsbixjKXt2YXIgbyxyPWFyZ3VtZW50cy5sZW5ndGgsZj1yPDM/dDpudWxsPT09Yz9jPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKTpjO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKWY9UmVmbGVjdC5kZWNvcmF0ZShlLHQsbixjKTtlbHNlIGZvcih2YXIgdT1lLmxlbmd0aC0xO3U+PTA7dS0tKShvPWVbdV0pJiYoZj0ocjwzP28oZik6cj4zP28odCxuLGYpOm8odCxuKSl8fGYpO3JldHVybiByPjMmJmYmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4sZiksZn1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQkcyhuKXtyZXR1cm4gbnVsbCE9biYmXCJmdW5jdGlvblwiPT10eXBlb2YgbltTeW1ib2wuaXRlcmF0b3JdfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdCRye2NvbnN0cnVjdG9yKCl7dGhpcy5fZ3JvdXBzPW5ldyBNYXA7fWRlc3Ryb3koKXt0aGlzLnJlbW92ZUFsbCgpO31nZXQgc2l6ZSgpe2xldCByPTA7cmV0dXJuIHRoaXMuX2dyb3Vwcy5mb3JFYWNoKChlPT57cis9ZS5sZW5ndGg7fSkpLHJ9YWRkKGUsdCl7aWYodCRzKGUpKXtjb25zdCByPXRoaXMuX2dldE9yQ3JlYXRlR3JvdXAodCk7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9pc0hhbmRsZSh0KSYmci5wdXNoKHQpO31lbHNlIGlmKHRoaXMuX2lzSGFuZGxlKGUpKXt0aGlzLl9nZXRPckNyZWF0ZUdyb3VwKHQpLnB1c2goZSk7fXJldHVybiB0aGlzfWZvckVhY2gocixlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXRoaXMuX2dyb3Vwcy5mb3JFYWNoKChlPT5lLmZvckVhY2gocikpKTtlbHNlIHtjb25zdCB0PXRoaXMuX2dldEdyb3VwKHIpO3QmJmUmJnQuZm9yRWFjaChlKTt9fWhhcyhyKXtyZXR1cm4gdGhpcy5fZ3JvdXBzLmhhcyh0aGlzLl9lbnN1cmVHcm91cEtleShyKSl9cmVtb3ZlKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiZ0JHMoZSkpe2Zvcihjb25zdCByIG9mIGUpdGhpcy5yZW1vdmUocik7cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXMuaGFzKGUpPyh0aGlzLl9yZW1vdmVBbGxGcm9tR3JvdXAodGhpcy5fZ2V0R3JvdXAoZSkpLHRoaXMuX2dyb3Vwcy5kZWxldGUodGhpcy5fZW5zdXJlR3JvdXBLZXkoZSkpLHRoaXMpOnRoaXN9cmVtb3ZlQWxsKCl7cmV0dXJuIHRoaXMuX2dyb3Vwcy5mb3JFYWNoKChyPT50aGlzLl9yZW1vdmVBbGxGcm9tR3JvdXAocikpKSx0aGlzLl9ncm91cHMuY2xlYXIoKSx0aGlzfV9pc0hhbmRsZShyKXtyZXR1cm4gciYmKCEhci5yZW1vdmV8fHIgaW5zdGFuY2VvZiB0JHIpfV9nZXRPckNyZWF0ZUdyb3VwKHIpe2lmKHRoaXMuaGFzKHIpKXJldHVybiB0aGlzLl9nZXRHcm91cChyKTtjb25zdCBlPVtdO3JldHVybiB0aGlzLl9ncm91cHMuc2V0KHRoaXMuX2Vuc3VyZUdyb3VwS2V5KHIpLGUpLGV9X2dldEdyb3VwKHIpe3JldHVybiBwJG0odGhpcy5fZ3JvdXBzLmdldCh0aGlzLl9lbnN1cmVHcm91cEtleShyKSkpfV9lbnN1cmVHcm91cEtleShyKXtyZXR1cm4gcnx8XCJfZGVmYXVsdF9cIn1fcmVtb3ZlQWxsRnJvbUdyb3VwKHIpe2Zvcihjb25zdCBlIG9mIHIpZSBpbnN0YW5jZW9mIHQkcj9lLnJlbW92ZUFsbCgpOmUucmVtb3ZlKCk7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG8keT1TeW1ib2woXCJBY2Nlc3Nvci1iZWZvcmVEZXN0cm95XCIpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbiRyKG4pe3JldHVybiBlJHcoKCgpPT5uLmZvckVhY2goKG49Pm51bGwhPW4mJm4ucmVtb3ZlKCkpKSkpfWZ1bmN0aW9uIGUkdyhuKXtyZXR1cm4ge3JlbW92ZTooKT0+e24mJihuKCksbj12b2lkIDApO319fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZSR2KHIpe3JldHVybiByLl9fYWNjZXNzb3JfXz8/bnVsbH1mdW5jdGlvbiBpJHUocixuKXtyZXR1cm4gbnVsbCE9ciYmci5tZXRhZGF0YXMmJm51bGwhPXIubWV0YWRhdGFzW25dfWZ1bmN0aW9uIG8keChyLG4sdCl7aWYodCl7cmV0dXJuIGEkcihyLG4se3BvbGljeTp0LHBhdGg6XCJcIn0pfXJldHVybiBhJHIocixuLG51bGwpfWZ1bmN0aW9uIGEkcihyLGUsaSl7cmV0dXJuIGU/T2JqZWN0LmtleXMoZSkucmVkdWNlKCgocix1KT0+e2NvbnN0IG89dTtsZXQgbD1udWxsLHM9XCJtZXJnZVwiO2lmKGkmJihsPWkucGF0aD9gJHtpLnBhdGh9LiR7dX1gOnUscz1pLnBvbGljeShsKSksXCJyZXBsYWNlXCI9PT1zKXJldHVybiByW29dPWVbb10scjtpZihcInJlcGxhY2UtYXJyYXlzXCI9PT1zJiZBcnJheS5pc0FycmF5KHJbb10pKXJldHVybiByW29dPWVbb10scjtpZih2b2lkIDA9PT1yW29dKXJldHVybiByW29dPWEkdihlW29dKSxyO2xldCBjPXJbb10sZj1lW29dO2lmKGM9PT1mKXJldHVybiByO2lmKEFycmF5LmlzQXJyYXkoZil8fEFycmF5LmlzQXJyYXkocikpYz1jP0FycmF5LmlzQXJyYXkoYyk/cltvXT1jLmNvbmNhdCgpOnJbb109W2NdOnJbb109W10sZiYmKEFycmF5LmlzQXJyYXkoZil8fChmPVtmXSksZi5mb3JFYWNoKChyPT57Yy5pbmNsdWRlcyhyKXx8Yy5wdXNoKHIpO30pKSk7ZWxzZSBpZihmJiZcIm9iamVjdFwiPT10eXBlb2YgZilpZihpKXtjb25zdCBuPWkucGF0aDtpLnBhdGg9cCRtKGwpLHJbb109YSRyKGMsZixpKSxpLnBhdGg9bjt9ZWxzZSByW29dPWEkcihjLGYsbnVsbCk7ZWxzZSByLmhhc093blByb3BlcnR5KHUpJiYhZS5oYXNPd25Qcm9wZXJ0eSh1KXx8KHJbb109Zik7cmV0dXJuIHJ9KSxyfHx7fSk6cn1mdW5jdGlvbiBzJEEocil7cmV0dXJuIEFycmF5LmlzQXJyYXkocik/cjpyLnNwbGl0KFwiLlwiKX1mdW5jdGlvbiBjJHcocil7cmV0dXJuIHIuaW5jbHVkZXMoXCIsXCIpP3Iuc3BsaXQoXCIsXCIpLm1hcCgocj0+ci50cmltKCkpKTpbci50cmltKCldfWZ1bmN0aW9uIGYkcyhyKXtpZihBcnJheS5pc0FycmF5KHIpKXtjb25zdCBuPVtdO2Zvcihjb25zdCB0IG9mIHIpbi5wdXNoKC4uLmMkdyh0KSk7cmV0dXJuIG59cmV0dXJuIGMkdyhyKX1mdW5jdGlvbiB5JGgobix0LGUsaSl7Y29uc3QgdT1mJHModCk7aWYoMSE9PXUubGVuZ3RoKXtjb25zdCB0PXUubWFwKChyPT5pKG4scixlKSkpO3JldHVybiBuJHIodCl9cmV0dXJuIGkobix1WzBdLGUpfWZ1bmN0aW9uIGgkayhyKXtsZXQgbj0hMTtyZXR1cm4gKCk9PntufHwobj0hMCxyKCkpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlJHUodCxlKXtjb25zdCBpPVwiP1wiPT09dFt0Lmxlbmd0aC0xXT90LnNsaWNlKDAsLTEpOnQ7aWYobnVsbCE9ZS5nZXRJdGVtQXR8fEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IHQ9cGFyc2VJbnQoaSwxMCk7aWYoIWlzTmFOKHQpKXJldHVybiBBcnJheS5pc0FycmF5KGUpP2VbdF06ZS5hdCh0KX1jb25zdCB1PWUkdihlKTtyZXR1cm4gaSR1KHUsaSk/dS5nZXQoaSk6ZVtpXX1mdW5jdGlvbiBpJHQodCxuLHIpe2lmKG51bGw9PXQpcmV0dXJuIHQ7Y29uc3QgdT1lJHUobltyXSx0KTtyZXR1cm4gIXUmJnI8bi5sZW5ndGgtMT92b2lkIDA6cj09PW4ubGVuZ3RoLTE/dTppJHQodSxuLHIrMSl9ZnVuY3Rpb24gdSR2KG4scix1PTApe3JldHVybiBcInN0cmluZ1wiIT10eXBlb2Ygcnx8ci5pbmNsdWRlcyhcIi5cIik/aSR0KG4scyRBKHIpLHUpOmUkdShyLG4pfWZ1bmN0aW9uIG8kdyh0LG4pe3JldHVybiB1JHYodCxuKX1mdW5jdGlvbiBzJHoodCxuKXtyZXR1cm4gdm9pZCAwIT09dSR2KG4sdCl9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiByJG0oZSl7bGV0IHI9ZS5jb25zdHJ1Y3Rvci5fX2FjY2Vzc29yTWV0YWRhdGFfXztjb25zdCBvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLmNvbnN0cnVjdG9yLFwiX19hY2Nlc3Nvck1ldGFkYXRhX19cIik7aWYocil7aWYoIW8pe3I9T2JqZWN0LmNyZWF0ZShyKTtmb3IoY29uc3QgZSBpbiByKXJbZV09YSR2KHJbZV0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLmNvbnN0cnVjdG9yLFwiX19hY2Nlc3Nvck1ldGFkYXRhX19cIix7dmFsdWU6cixlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO319ZWxzZSByPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLmNvbnN0cnVjdG9yLFwiX19hY2Nlc3Nvck1ldGFkYXRhX19cIix7dmFsdWU6cixlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pO3JldHVybiBlLmNvbnN0cnVjdG9yLl9fYWNjZXNzb3JNZXRhZGF0YV9ffWZ1bmN0aW9uIG8kdih0LGUpe2NvbnN0IG89ciRtKHQpO2xldCBjPW9bZV07cmV0dXJuIGN8fChjPW9bZV09e30pLGN9ZnVuY3Rpb24gbiRxKHQscil7cmV0dXJuIG8keCh0LHIscyR5KX1jb25zdCBhJHE9L14oPzpbXi5dK1xcLik/KD86dmFsdWV8dHlwZXwoPzpqc29uXFwudHlwZXxqc29uXFwub3JpZ2luc1xcLlteLl1cXC50eXBlKSkkLztmdW5jdGlvbiBzJHkodCl7cmV0dXJuIGEkcS50ZXN0KHQpP1wicmVwbGFjZVwiOlwibWVyZ2VcIn1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQkcSh0KXtyZXR1cm4gdCYmdC5yZWxlYXNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlbGVhc2V9ZnVuY3Rpb24gaSRzKHQpe3JldHVybiB0JiZ0LmFjcXVpcmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuYWNxdWlyZX1jbGFzcyBlJHR7Y29uc3RydWN0b3IodCxpLGUsbz0xLHM9MCl7aWYodGhpcy5fY3Rvcj10LHRoaXMuX2FjcXVpcmVGdW5jdGlvbj1pLHRoaXMuX3JlbGVhc2VGdW5jdGlvbj1lLHRoaXMuYWxsb2NhdGlvblNpemU9byx0aGlzLl9wb29sPW5ldyBBcnJheShzKSx0aGlzLl9pbml0aWFsU2l6ZT1zLHRoaXMuX2N0b3IpZm9yKGxldCBuPTA7bjxzO24rKyl0aGlzLl9wb29sW25dPW5ldyB0aGlzLl9jdG9yO3RoaXMuYWxsb2NhdGlvblNpemU9TWF0aC5tYXgobywxKTt9ZGVzdHJveSgpe3RoaXMucHJ1bmUoMCk7fWFjcXVpcmUoLi4udCl7bGV0IG87aWYoZSR0LnRlc3QuZGlzYWJsZWQpbz1uZXcgdGhpcy5fY3RvcjtlbHNlIHtpZigwPT09dGhpcy5fcG9vbC5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5hbGxvY2F0aW9uU2l6ZTtmb3IobGV0IGk9MDtpPHQ7aSsrKXRoaXMuX3Bvb2xbaV09bmV3IHRoaXMuX2N0b3I7fW89dGhpcy5fcG9vbC5wb3AoKTt9cmV0dXJuIHRoaXMuX2FjcXVpcmVGdW5jdGlvbj90aGlzLl9hY3F1aXJlRnVuY3Rpb24obywuLi50KTppJHMobykmJm8uYWNxdWlyZSguLi50KSxvfXJlbGVhc2UoaSl7aSYmIWUkdC50ZXN0LmRpc2FibGVkJiYodGhpcy5fcmVsZWFzZUZ1bmN0aW9uP3RoaXMuX3JlbGVhc2VGdW5jdGlvbihpKTp0JHEoaSkmJmkucmVsZWFzZSgpLHRoaXMuX3Bvb2wucHVzaChpKSk7fXBydW5lKHQ9dGhpcy5faW5pdGlhbFNpemUpe2lmKCEodD49dGhpcy5fcG9vbC5sZW5ndGgpKXtmb3IobGV0IGk9dDtpPHRoaXMuX3Bvb2wubGVuZ3RoOysraSl7Y29uc3QgdD10aGlzLl9wb29sW2ldO3RoaXMuX2Rpc3Bvc2UodCk7fXRoaXMuX3Bvb2wubGVuZ3RoPXQ7fX1fZGlzcG9zZSh0KXt0LmRpc3Bvc2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGlzcG9zZSYmdC5kaXNwb3NlKCk7fX1lJHQudGVzdD17ZGlzYWJsZWQ6ITF9O1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIEkkNDshZnVuY3Rpb24oSSl7SVtJLklOSVRJQUxJWklORz0wXT1cIklOSVRJQUxJWklOR1wiLElbSS5DT05TVFJVQ1RJTkc9MV09XCJDT05TVFJVQ1RJTkdcIixJW0kuQ09OU1RSVUNURUQ9Ml09XCJDT05TVFJVQ1RFRFwiO30oSSQ0fHwoSSQ0PXt9KSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBzJHh7Y29uc3RydWN0b3IocixzKXt0aGlzLl9vYnNlcnZlcnM9cix0aGlzLl9vYnNlcnZlcj1zO31yZW1vdmUoKXtMJDcodGhpcy5fb2JzZXJ2ZXJzLHRoaXMuX29ic2VydmVyKTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgciRse2NvbnN0cnVjdG9yKCl7dGhpcy5fb2JzZXJ2ZXJzPW51bGwsdGhpcy5kZXN0cm95ZWQ9ITE7fW9ic2VydmUoZSl7aWYodGhpcy5kZXN0cm95ZWR8fGUuZGVzdHJveWVkKXJldHVybiB0JHA7bnVsbD09dGhpcy5fb2JzZXJ2ZXJzJiYodGhpcy5fb2JzZXJ2ZXJzPVtdKTtjb25zdCByPXRoaXMuX29ic2VydmVycztsZXQgbz0hMSxpPSExO2NvbnN0IG49ci5sZW5ndGg7Zm9yKGxldCBzPTA7czxuOysrcyl7Y29uc3QgdD1yW3NdO2lmKHQuZGVzdHJveWVkKWk9ITA7ZWxzZSBpZih0PT09ZSl7bz0hMDticmVha319cmV0dXJuIG98fChyLnB1c2goZSksaSYmdGhpcy5fcmVtb3ZlRGVzdHJveWVkT2JzZXJ2ZXJzKCkpLG5ldyBzJHgocixlKX1fcmVtb3ZlRGVzdHJveWVkT2JzZXJ2ZXJzKCl7Y29uc3QgZT10aGlzLl9vYnNlcnZlcnM7aWYoIWV8fDA9PT1lLmxlbmd0aClyZXR1cm47Y29uc3Qgcz1lLmxlbmd0aDtsZXQgcj0wO2ZvcihsZXQgdD0wO3Q8czsrK3Qpe2Zvcig7dCtyPHM7KXtpZighZVt0K3JdLmRlc3Ryb3llZClicmVhazsrK3I7fWlmKHI+MCl7aWYoISh0K3I8cykpYnJlYWs7ZVt0XT1lW3Qrcl07fX1lLmxlbmd0aD1zLXI7fWRlc3Ryb3koKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm47dGhpcy5kZXN0cm95ZWQ9ITA7Y29uc3QgZT10aGlzLl9vYnNlcnZlcnM7aWYobnVsbCE9ZSl7Zm9yKGNvbnN0IHMgb2YgZSlzLm9uQ29tbWl0dGVkKCk7dGhpcy5fb2JzZXJ2ZXJzPW51bGw7fX19Y29uc3QgdCRwPWUkdygpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIHIkazshZnVuY3Rpb24oZSl7ZVtlLkRFRkFVTFRTPTBdPVwiREVGQVVMVFNcIixlW2UuQ09NUFVURUQ9MV09XCJDT01QVVRFRFwiLGVbZS5TRVJWSUNFPTJdPVwiU0VSVklDRVwiLGVbZS5QT1JUQUxfSVRFTT0zXT1cIlBPUlRBTF9JVEVNXCIsZVtlLldFQl9TQ0VORT00XT1cIldFQl9TQ0VORVwiLGVbZS5XRUJfTUFQPTVdPVwiV0VCX01BUFwiLGVbZS5MSU5LX0NIQVJUPTZdPVwiTElOS19DSEFSVFwiLGVbZS5VU0VSPTddPVwiVVNFUlwiO30ociRrfHwociRrPXt9KSk7ZnVuY3Rpb24gbiRwKGUpe3N3aXRjaChlKXtjYXNlXCJkZWZhdWx0c1wiOnJldHVybiByJGsuREVGQVVMVFM7Y2FzZVwic2VydmljZVwiOnJldHVybiByJGsuU0VSVklDRTtjYXNlXCJwb3J0YWwtaXRlbVwiOnJldHVybiByJGsuUE9SVEFMX0lURU07Y2FzZVwid2ViLXNjZW5lXCI6cmV0dXJuIHIkay5XRUJfU0NFTkU7Y2FzZVwid2ViLW1hcFwiOnJldHVybiByJGsuV0VCX01BUDtjYXNlXCJsaW5rLWNoYXJ0XCI6cmV0dXJuIHIkay5MSU5LX0NIQVJUO2Nhc2VcInVzZXJcIjpyZXR1cm4gciRrLlVTRVI7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gRSQ2KHQpe3N3aXRjaCh0KXtjYXNlIHIkay5ERUZBVUxUUzpyZXR1cm4gXCJkZWZhdWx0c1wiO2Nhc2UgciRrLlNFUlZJQ0U6cmV0dXJuIFwic2VydmljZVwiO2Nhc2UgciRrLlBPUlRBTF9JVEVNOnJldHVybiBcInBvcnRhbC1pdGVtXCI7Y2FzZSByJGsuV0VCX1NDRU5FOnJldHVybiBcIndlYi1zY2VuZVwiO2Nhc2UgciRrLldFQl9NQVA6cmV0dXJuIFwid2ViLW1hcFwiO2Nhc2UgciRrLkxJTktfQ0hBUlQ6cmV0dXJuIFwibGluay1jaGFydFwiO2Nhc2UgciRrLlVTRVI6cmV0dXJuIFwidXNlclwifXJldHVybiBwJG0odm9pZCAwKX1mdW5jdGlvbiBjJHYoZSl7cmV0dXJuIEUkNihlKX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciBpJHI7IWZ1bmN0aW9uKGkpe2lbaS5EaXJ0eT0xXT1cIkRpcnR5XCIsaVtpLk92ZXJyaWRlbj0yXT1cIk92ZXJyaWRlblwiLGlbaS5Db21wdXRpbmc9NF09XCJDb21wdXRpbmdcIixpW2kuTm9uTnVsbGFibGU9OF09XCJOb25OdWxsYWJsZVwiLGlbaS5IYXNEZWZhdWx0VmFsdWU9MTZdPVwiSGFzRGVmYXVsdFZhbHVlXCIsaVtpLkRlcFRyYWNraW5nSW5pdGlhbGl6ZWQ9MzJdPVwiRGVwVHJhY2tpbmdJbml0aWFsaXplZFwiLGlbaS5BdXRvVHJhY2tlZD02NF09XCJBdXRvVHJhY2tlZFwiLGlbaS5FeHBsaWNpdGx5VHJhY2tpbmc9MTI4XT1cIkV4cGxpY2l0bHlUcmFja2luZ1wiO30oaSRyfHwoaSRyPXt9KSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBvJHU9e29uT2JzZXJ2YWJsZUFjY2Vzc2VkOigpPT57fSxvblRyYWNraW5nRW5kOigpPT57fX0sYyR1PVtdO2xldCBzJHc9byR1O2Z1bmN0aW9uIGkkcSh0KXtzJHcub25PYnNlcnZhYmxlQWNjZXNzZWQodCk7fWxldCBsJG89ITEsYSRwPSExO2Z1bmN0aW9uIGYkcih0LG4sZSl7aWYobCRvKXJldHVybiB1JHUodCxuLGUpO3Akayh0KTtjb25zdCByPW4uY2FsbChlKTtyZXR1cm4gZCRuKCkscn1mdW5jdGlvbiBnJGYodCxuKXtyZXR1cm4gZiRyKG8kdSx0LG4pfWZ1bmN0aW9uIHUkdShuLGUscil7Y29uc3Qgbz1sJG87bCRvPSEwLHAkayhuKTtsZXQgYz1udWxsO3RyeXtjPWUuY2FsbChyKTt9Y2F0Y2gocyl7YSRwJiZzJEUuZ2V0TG9nZ2VyKFwiZXNyaS5jb3JlLmFjY2Vzc29yU3VwcG9ydC50cmFja2luZ1wiKS5lcnJvcihzKTt9cmV0dXJuIGQkbigpLGwkbz1vLGN9ZnVuY3Rpb24gcCRrKHQpe3Mkdz10LGMkdS5wdXNoKHQpO31mdW5jdGlvbiBkJG4oKXtjb25zdCB0PWMkdS5sZW5ndGg7aWYodD4xKXtjb25zdCBuPWMkdS5wb3AoKTtzJHc9YyR1W3QtMl0sbi5vblRyYWNraW5nRW5kKCk7fWVsc2UgaWYoMT09PXQpe2NvbnN0IHQ9YyR1LnBvcCgpO3Mkdz1vJHUsdC5vblRyYWNraW5nRW5kKCk7fWVsc2UgcyR3PW8kdTt9ZnVuY3Rpb24gYiQ4KHQsbil7Y29uc3QgZT1uLm9ic2VydmVyT2JqZWN0O2lmKGUuZmxhZ3MmaSRyLkRlcFRyYWNraW5nSW5pdGlhbGl6ZWQpcmV0dXJuO2NvbnN0IG89YSRwO2EkcD0hMSxlLmZsYWdzJmkkci5BdXRvVHJhY2tlZD91JHUobixuLm1ldGFkYXRhLmdldCx0KTp5JGcodCxuKSxhJHA9bzt9Y29uc3QgbSRrPVtdO2Z1bmN0aW9uIHkkZyh0LGUpe2NvbnN0IG89ZS5vYnNlcnZlck9iamVjdDtvLmZsYWdzJmkkci5FeHBsaWNpdGx5VHJhY2tpbmd8fChvLmZsYWdzfD1pJHIuRXhwbGljaXRseVRyYWNraW5nLHUkdShlLCgoKT0+e2NvbnN0IHI9ZS5tZXRhZGF0YS5kZXBlbmRzT258fG0kaztmb3IoY29uc3QgZSBvZiByKWlmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHxlLmluY2x1ZGVzKFwiLlwiKSl7Y29uc3Qgcj1zJEEoZSk7Zm9yKGxldCBuPTAsZT10O248ci5sZW5ndGgmJm51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlOysrbillPWskOChlLHJbbl0sbiE9PXIubGVuZ3RoLTEpO31lbHNlIGskOCh0LGUsITEpO30pKSxvLmZsYWdzJj1+aSRyLkV4cGxpY2l0bHlUcmFja2luZyk7fWZ1bmN0aW9uIGskOCh0LG4scil7Y29uc3Qgbz1cIj9cIj09PW5bbi5sZW5ndGgtMV0/bi5zbGljZSgwLC0xKTpuO2lmKG51bGwhPXQuZ2V0SXRlbUF0fHxBcnJheS5pc0FycmF5KHQpKXtjb25zdCBuPXBhcnNlSW50KG8sMTApO2lmKCFpc05hTihuKSlyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90W25dOnQuYXQobil9Y29uc3QgYz1lJHYodCk7aWYoYyl7Y29uc3Qgbj1jLnByb3BlcnRpZXNCeU5hbWUuZ2V0KG8pO24mJihpJHEobi5vYnNlcnZlck9iamVjdCksYiQ4KHQsbikpO31yZXR1cm4gcj90W29dOnZvaWQgMH1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGEkb3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucHJvcGVydHlOYW1lPXQsdGhpcy5tZXRhZGF0YT1lLHRoaXMub2JzZXJ2ZXJPYmplY3Q9bmV3IGwkbix0aGlzLl9hY2Nlc3NlZD1udWxsLHRoaXMuX2hhbmRsZXM9bnVsbCx0aGlzLm9ic2VydmVyT2JqZWN0LmZsYWdzPWkkci5EaXJ0eXwoZS5ub25OdWxsYWJsZT9pJHIuTm9uTnVsbGFibGU6MCl8KGUuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKT9pJHIuSGFzRGVmYXVsdFZhbHVlOjApfCh2b2lkIDA9PT1lLmdldD9pJHIuRGVwVHJhY2tpbmdJbml0aWFsaXplZDowKXwodm9pZCAwPT09ZS5kZXBlbmRzT24/aSRyLkF1dG9UcmFja2VkOjApO31kZXN0cm95KCl7dGhpcy5vYnNlcnZlck9iamVjdC5kZXN0cm95KCksdGhpcy5fYWNjZXNzZWQ9bnVsbCx0aGlzLl9jbGVhck9ic2VydmF0aW9uSGFuZGxlcygpO31nZXRDb21wdXRlZCh0KXtjb25zdCBhPXRoaXMub2JzZXJ2ZXJPYmplY3Q7aSRxKGEpO2NvbnN0IGw9dC5zdG9yZSxjPXRoaXMucHJvcGVydHlOYW1lLGg9YS5mbGFncyxkPWwuZ2V0KGMpO2lmKGgmaSRyLkNvbXB1dGluZylyZXR1cm4gZDtpZih+aCZpJHIuRGlydHkmJmwuaGFzKGMpKXJldHVybiBkO2EuZmxhZ3N8PWkkci5Db21wdXRpbmc7Y29uc3QgZz10Lmhvc3Q7bGV0IGY7aCZpJHIuQXV0b1RyYWNrZWQ/Zj1mJHIodGhpcyx0aGlzLm1ldGFkYXRhLmdldCxnKTooeSRnKGcsdGhpcyksZj10aGlzLm1ldGFkYXRhLmdldC5jYWxsKGcpKSxsLnNldChjLGYsciRrLkNPTVBVVEVEKTtjb25zdCBtPWwuZ2V0KGMpO3JldHVybiBtPT09ZD9hLmZsYWdzJj1+aSRyLkRpcnR5OmckZih0aGlzLmNvbW1pdCx0aGlzKSxhLmZsYWdzJj1+aSRyLkNvbXB1dGluZyxtfW9uT2JzZXJ2YWJsZUFjY2Vzc2VkKHQpe2lmKHQ9PT10aGlzLm9ic2VydmVyT2JqZWN0KXJldHVybjtsZXQgZT10aGlzLl9hY2Nlc3NlZDtpZihudWxsPT1lKWU9W10sdGhpcy5fYWNjZXNzZWQ9ZTtlbHNlIGlmKGUuaW5jbHVkZXModCkpcmV0dXJuO2UucHVzaCh0KTt9b25UcmFja2luZ0VuZCgpe3RoaXMuX2NsZWFyT2JzZXJ2YXRpb25IYW5kbGVzKCk7Y29uc3QgdD10aGlzLm9ic2VydmVyT2JqZWN0O3QuZmxhZ3N8PWkkci5EZXBUcmFja2luZ0luaXRpYWxpemVkO2NvbnN0IGU9dGhpcy5fYWNjZXNzZWQ7aWYobnVsbD09ZXx8MD09PWUubGVuZ3RoKXJldHVybjtsZXQgcz10aGlzLl9oYW5kbGVzO251bGw9PXMmJihzPVtdLHRoaXMuX2hhbmRsZXM9cyk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpcy5wdXNoKGVbaV0ub2JzZXJ2ZSh0KSk7ZS5sZW5ndGg9MDt9bm90aWZ5Q2hhbmdlKCl7Y29uc3QgdD10aGlzLm9ic2VydmVyT2JqZWN0O3Qub25JbnZhbGlkYXRlZCgpLHQub25Db21taXR0ZWQoKTt9aW52YWxpZGF0ZSgpe3RoaXMub2JzZXJ2ZXJPYmplY3Qub25JbnZhbGlkYXRlZCgpO31jb21taXQoKXtjb25zdCB0PXRoaXMub2JzZXJ2ZXJPYmplY3Q7dC5mbGFncyY9fmkkci5EaXJ0eSx0Lm9uQ29tbWl0dGVkKCk7fV9jbGVhck9ic2VydmF0aW9uSGFuZGxlcygpe2NvbnN0IHQ9dGhpcy5faGFuZGxlcztpZihudWxsIT09dCl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDsrK2UpdFtlXS5yZW1vdmUoKTt0Lmxlbmd0aD0wO319fWNsYXNzIGwkbiBleHRlbmRzIHIkbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5mbGFncz0wO31vbkludmFsaWRhdGVkKCl7fnRoaXMuZmxhZ3MmaSRyLk92ZXJyaWRlbiYmKHRoaXMuZmxhZ3N8PWkkci5EaXJ0eSk7Y29uc3QgdD10aGlzLl9vYnNlcnZlcnM7aWYodCYmdC5sZW5ndGg+MClmb3IoY29uc3QgZSBvZiB0KWUub25JbnZhbGlkYXRlZCgpO31vbkNvbW1pdHRlZCgpe2NvbnN0IHQ9dGhpcy5fb2JzZXJ2ZXJzO2lmKHQmJnQubGVuZ3RoPjApe2NvbnN0IGU9dC5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5vbkNvbW1pdHRlZCgpO319ZGVzdHJveSgpe3RoaXMuZmxhZ3MmaSRyLkRpcnR5JiZ0aGlzLm9uQ29tbWl0dGVkKCksc3VwZXIuZGVzdHJveSgpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0JG97Y29uc3RydWN0b3IoKXt0aGlzLl92YWx1ZXM9bmV3IE1hcCx0aGlzLm11bHRpcGxlT3JpZ2luc1N1cHBvcnRlZD0hMTt9Y2xvbmUocyl7Y29uc3Qgcj1uZXcgdCRvO3JldHVybiB0aGlzLl92YWx1ZXMuZm9yRWFjaCgoKHQsaSk9PntzJiZzLmhhcyhpKXx8ci5zZXQoaSxhJHYodCkpO30pKSxyfWdldChlKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmdldChlKX1vcmlnaW5PZigpe3JldHVybiByJGsuVVNFUn1rZXlzKCl7cmV0dXJuIFsuLi50aGlzLl92YWx1ZXMua2V5cygpXX1zZXQoZSxzKXt0aGlzLl92YWx1ZXMuc2V0KGUscyk7fWRlbGV0ZShlKXt0aGlzLl92YWx1ZXMuZGVsZXRlKGUpO31oYXMoZSl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5oYXMoZSl9Zm9yRWFjaChlKXt0aGlzLl92YWx1ZXMuZm9yRWFjaChlKTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZyRlKHQsZSxyKXtyZXR1cm4gdm9pZCAwIT09dH1mdW5jdGlvbiB1JHQodCxlLHIsaSl7cmV0dXJuIHZvaWQgMCE9PXQmJighKG51bGw9PXImJnQub2JzZXJ2ZXJPYmplY3QuZmxhZ3MmaSRyLk5vbk51bGxhYmxlKXx8KCExKSl9ZnVuY3Rpb24gZCRtKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmRlc3Ryb3l9cyRFLmdldExvZ2dlcihcImVzcmkuY29yZS5hY2Nlc3NvclN1cHBvcnQuUHJvcGVydGllc1wiKTtjbGFzcyBtJGp7Y29uc3RydWN0b3IodCl7dGhpcy5ob3N0PXQsdGhpcy5wcm9wZXJ0aWVzQnlOYW1lPW5ldyBNYXAsdGhpcy5jdG9yQXJncz1udWxsLHRoaXMuZGVzdHJveWVkPSExLHRoaXMubGlmZWN5Y2xlPUkkNC5JTklUSUFMSVpJTkcsdGhpcy5zdG9yZT1uZXcgdCRvLHRoaXMuX29yaWdpbj1yJGsuVVNFUjtjb25zdCBlPXRoaXMuaG9zdC5jb25zdHJ1Y3Rvci5fX2FjY2Vzc29yTWV0YWRhdGFfXztmb3IoY29uc3QgciBpbiBlKXtjb25zdCB0PW5ldyBhJG8ocixlW3JdKTt0aGlzLnByb3BlcnRpZXNCeU5hbWUuc2V0KHIsdCk7fXRoaXMubWV0YWRhdGFzPWU7fWluaXRpYWxpemUoKXt0aGlzLmxpZmVjeWNsZT1JJDQuQ09OU1RSVUNUSU5HO31jb25zdHJ1Y3RlZCgpe3RoaXMubGlmZWN5Y2xlPUkkNC5DT05TVFJVQ1RFRDt9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkPSEwO2Zvcihjb25zdFt0LGVdb2YgdGhpcy5wcm9wZXJ0aWVzQnlOYW1lKXtpZihlLm1ldGFkYXRhLmF1dG9EZXN0cm95KXtjb25zdCByPXRoaXMuaW50ZXJuYWxHZXQodCk7ciYmZCRtKHIpJiYoci5kZXN0cm95KCksfmUub2JzZXJ2ZXJPYmplY3QuZmxhZ3MmaSRyLk5vbk51bGxhYmxlJiZ0aGlzLl9pbnRlcm5hbFNldChlLG51bGwpKTt9ZS5kZXN0cm95KCk7fX1nZXQgaW5pdGlhbGl6ZWQoKXtyZXR1cm4gdGhpcy5saWZlY3ljbGUhPT1JJDQuSU5JVElBTElaSU5HfWdldCh0KXtjb25zdCBlPXRoaXMucHJvcGVydGllc0J5TmFtZS5nZXQodCk7aWYoZS5tZXRhZGF0YS5nZXQpcmV0dXJuIGUuZ2V0Q29tcHV0ZWQodGhpcyk7aSRxKGUub2JzZXJ2ZXJPYmplY3QpO2NvbnN0IHI9dGhpcy5zdG9yZTtyZXR1cm4gci5oYXModCk/ci5nZXQodCk6ZS5tZXRhZGF0YS52YWx1ZX1vcmlnaW5PZih0KXtjb25zdCBlPXRoaXMuc3RvcmUub3JpZ2luT2YodCk7aWYodm9pZCAwPT09ZSl7Y29uc3QgZT10aGlzLnByb3BlcnRpZXNCeU5hbWUuZ2V0KHQpO2lmKHZvaWQgMCE9PWUmJmUub2JzZXJ2ZXJPYmplY3QuZmxhZ3MmaSRyLkhhc0RlZmF1bHRWYWx1ZSlyZXR1cm4gXCJkZWZhdWx0c1wifXJldHVybiBFJDYoZSl9aGFzKHQpe3JldHVybiAhIXRoaXMucHJvcGVydGllc0J5TmFtZS5oYXModCkmJnRoaXMuc3RvcmUuaGFzKHQpfWtleXMoKXtyZXR1cm4gWy4uLnRoaXMucHJvcGVydGllc0J5TmFtZS5rZXlzKCldfWludGVybmFsR2V0KHQpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTtpZihnJGUoZSkpcmV0dXJuIHRoaXMuc3RvcmUuaGFzKHQpP3RoaXMuc3RvcmUuZ2V0KHQpOmUubWV0YWRhdGEudmFsdWV9aW50ZXJuYWxTZXQodCxlKXtjb25zdCByPXRoaXMucHJvcGVydGllc0J5TmFtZS5nZXQodCk7ZyRlKHIpJiZ0aGlzLl9pbnRlcm5hbFNldChyLGUpO31nZXREZXBlbmRzSW5mbyh0LGUscil7Y29uc3Qgcz10aGlzLnByb3BlcnRpZXNCeU5hbWUuZ2V0KGUpO2lmKCFnJGUocykpcmV0dXJuIFwiXCI7Y29uc3Qgbz1uZXcgU2V0LG49ZiRyKHtvbk9ic2VydmFibGVBY2Nlc3NlZDp0PT5vLmFkZCh0KSxvblRyYWNraW5nRW5kOigpPT57fX0sKCgpPT5zLm1ldGFkYXRhLmdldD8uY2FsbCh0KSkpO2xldCBhPWAke3J9JHt0LmRlY2xhcmVkQ2xhc3Muc3BsaXQoXCIuXCIpLnBvcCgpfS4ke2V9OiAke259XFxuYDtpZigwPT09by5zaXplKXJldHVybiBhO3IrPVwiICBcIjtmb3IoY29uc3QgYyBvZiBvKXtpZighKGMgaW5zdGFuY2VvZiBhJG8pKWNvbnRpbnVlO2ErPWAke3J9JHtjLnByb3BlcnR5TmFtZX06IHVuZGVmaW5lZFxcbmA7fXJldHVybiBhfXNldEF0T3JpZ2luKHQsZSxyKXtjb25zdCBzPXRoaXMucHJvcGVydGllc0J5TmFtZS5nZXQodCk7aWYoZyRlKHMpKXJldHVybiB0aGlzLl9zZXRBdE9yaWdpbihzLGUscil9aXNPdmVycmlkZGVuKHQpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTtyZXR1cm4gdm9pZCAwIT09ZSYmISEoZS5vYnNlcnZlck9iamVjdC5mbGFncyZpJHIuT3ZlcnJpZGVuKX1jbGVhck92ZXJyaWRlKHQpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KSxyPWU/Lm9ic2VydmVyT2JqZWN0O3ImJnIuZmxhZ3MmaSRyLk92ZXJyaWRlbiYmKHIuZmxhZ3MmPX5pJHIuT3ZlcnJpZGVuLGUubm90aWZ5Q2hhbmdlKCkpO31vdmVycmlkZSh0LGUpe2NvbnN0IHI9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTtpZighdSR0KHIsdCxlKSlyZXR1cm47Y29uc3Qgcz1yLm1ldGFkYXRhLmNhc3Q7aWYocyl7Y29uc3QgdD10aGlzLl9jYXN0KHMsZSkse3ZhbGlkOnIsdmFsdWU6aX09dDtpZih5JGYucmVsZWFzZSh0KSwhcilyZXR1cm47ZT1pO31yLm9ic2VydmVyT2JqZWN0LmZsYWdzfD1pJHIuT3ZlcnJpZGVuLHRoaXMuX2ludGVybmFsU2V0KHIsZSk7fXNldCh0LGUpe2NvbnN0IHI9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTtpZighdSR0KHIsdCxlKSlyZXR1cm47Y29uc3Qgcz1yLm1ldGFkYXRhLmNhc3Q7aWYocyl7Y29uc3QgdD10aGlzLl9jYXN0KHMsZSkse3ZhbGlkOnIsdmFsdWU6aX09dDtpZih5JGYucmVsZWFzZSh0KSwhcilyZXR1cm47ZT1pO31jb25zdCBpPXIubWV0YWRhdGEuc2V0O2k/aS5jYWxsKHRoaXMuaG9zdCxlKTp0aGlzLl9pbnRlcm5hbFNldChyLGUpO31zZXREZWZhdWx0T3JpZ2luKHQpe3RoaXMuX29yaWdpbj1uJHAodCk7fWdldERlZmF1bHRPcmlnaW4oKXtyZXR1cm4gRSQ2KHRoaXMuX29yaWdpbil9bm90aWZ5Q2hhbmdlKHQpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTt2b2lkIDAhPT1lJiZlLm5vdGlmeUNoYW5nZSgpO31pbnZhbGlkYXRlKHQpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTt2b2lkIDAhPT1lJiZlLmludmFsaWRhdGUoKTt9Y29tbWl0KHQpe2NvbnN0IGU9dGhpcy5wcm9wZXJ0aWVzQnlOYW1lLmdldCh0KTt2b2lkIDAhPT1lJiZlLmNvbW1pdCgpO31faW50ZXJuYWxTZXQodCxlKXtjb25zdCByPXRoaXMubGlmZWN5Y2xlIT09SSQ0LklOSVRJQUxJWklORz90aGlzLl9vcmlnaW46ciRrLkRFRkFVTFRTO3RoaXMuX3NldEF0T3JpZ2luKHQsZSxyKTt9X3NldEF0T3JpZ2luKGUscixzKXtjb25zdCBpPXRoaXMuc3RvcmUsbz1lLnByb3BlcnR5TmFtZTtpLmhhcyhvLHMpJiZqJGQocixpLmdldChvKSkmJn5lLm9ic2VydmVyT2JqZWN0LmZsYWdzJmkkci5PdmVycmlkZW4mJnM9PT1pLm9yaWdpbk9mKG8pfHwoZS5pbnZhbGlkYXRlKCksaS5zZXQobyxyLHMpLGUuY29tbWl0KCksYiQ4KHRoaXMuaG9zdCxlKSk7fV9jYXN0KHQsZSl7Y29uc3Qgcj15JGYuYWNxdWlyZSgpO3JldHVybiByLnZhbGlkPSEwLHIudmFsdWU9ZSx0JiYoci52YWx1ZT10LmNhbGwodGhpcy5ob3N0LGUscikpLHJ9fWNsYXNzIHYkOXtjb25zdHJ1Y3Rvcigpe3RoaXMudmFsdWU9bnVsbCx0aGlzLnZhbGlkPSEwO31hY3F1aXJlKCl7dGhpcy52YWxpZD0hMDt9cmVsZWFzZSgpe3RoaXMudmFsdWU9bnVsbDt9fWNvbnN0IHkkZj1uZXcgZSR0KHYkOSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0JG4obyxlLHMpe2lmKG8mJmUpaWYoXCJvYmplY3RcIj09dHlwZW9mIGUpZm9yKGNvbnN0IHIgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkpdCRuKG8scixlW3JdKTtlbHNlIHtpZihlLmluY2x1ZGVzKFwiLlwiKSl7Y29uc3Qgbj1lLnNwbGl0KFwiLlwiKSxpPW4uc3BsaWNlKG4ubGVuZ3RoLTEsMSlbMF07cmV0dXJuIHZvaWQgdCRuKG8kdyhvLG4pLGkscyl9Y29uc3QgaT1vLl9fYWNjZXNzb3JfXztudWxsIT1pJiZuJG8oZSxpKSxvW2VdPXM7fX1mdW5jdGlvbiBuJG8ocix0KXtpZihoYXMoXCJlc3JpLXVua25vd24tcHJvcGVydHktZXJyb3JzXCIpJiYhZSRzKHIsdCkpdGhyb3cgbmV3IHMkQyhcInNldDp1bmtub3duLXByb3BlcnR5XCIscyR2KHIsdCkpfWZ1bmN0aW9uIGUkcyhvLHIpe3JldHVybiBudWxsIT1yLm1ldGFkYXRhc1tvXX1mdW5jdGlvbiBzJHYobyxyKXtyZXR1cm4gXCJzZXR0aW5nIHVua25vd24gcHJvcGVydHkgJ1wiK28rXCInIG9uIGluc3RhbmNlIG9mIFwiK3IuaG9zdC5kZWNsYXJlZENsYXNzfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IG4kbjtmdW5jdGlvbiB0JG0oKXtyZXR1cm4gbiRufVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gciRqKGUpe2UubGVuZ3RoPTA7fWNsYXNzIHQkbHtjb25zdHJ1Y3Rvcih0PTUwLG89NTApe3RoaXMuX3Bvb2w9bmV3IGUkdChBcnJheSx2b2lkIDAsciRqLG8sdCk7fWFjcXVpcmUoKXtyZXR1cm4gdGhpcy5fcG9vbC5hY3F1aXJlKCl9cmVsZWFzZShlKXt0aGlzLl9wb29sLnJlbGVhc2UoZSk7fXBydW5lKCl7dGhpcy5fcG9vbC5wcnVuZSgwKTt9c3RhdGljIGFjcXVpcmUoKXtyZXR1cm4gbyR0LmFjcXVpcmUoKX1zdGF0aWMgcmVsZWFzZShlKXtyZXR1cm4gbyR0LnJlbGVhc2UoZSl9c3RhdGljIHBydW5lKCl7byR0LnBydW5lKCk7fX1jb25zdCBvJHQ9bmV3IHQkbCgxMDApO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdCRrIGV4dGVuZHMgZSR0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9zZXQ9bmV3IFNldDt9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9zZXQ9aSR4KCk7fWFjcXVpcmUoLi4uZSl7Y29uc3Qgcz1zdXBlci5hY3F1aXJlKC4uLmUpO3JldHVybiB0aGlzLl9zZXQuZGVsZXRlKHMpLHN9cmVsZWFzZShlKXtlJiYhdGhpcy5fc2V0LmhhcyhlKSYmKHN1cGVyLnJlbGVhc2UoZSksdGhpcy5fc2V0LmFkZChlKSk7fV9kaXNwb3NlKGUpe3RoaXMuX3NldC5kZWxldGUoZSksc3VwZXIuX2Rpc3Bvc2UoZSk7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IG8kcz1bXTtmdW5jdGlvbiB0JGoodCl7byRzLnB1c2godCksMT09PW8kcy5sZW5ndGgmJnF1ZXVlTWljcm90YXNrKCgoKT0+e2NvbnN0IHQ9byRzLnNsaWNlKCk7byRzLmxlbmd0aD0wO2Zvcihjb25zdCBvIG9mIHQpbygpO30pKTt9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBzJHV7Y29uc3RydWN0b3IocyxlPTMwKXt0aGlzLm5hbWU9cyx0aGlzLl9jb3VudGVyPTAsdGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSk7fXJlY29yZChzKXtudWxsIT1zJiYodGhpcy5fc2FtcGxlc1srK3RoaXMuX2NvdW50ZXIldGhpcy5fc2FtcGxlcy5sZW5ndGhdPXMpO31nZXQgbWVkaWFuKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXMuc2xpY2UoKS5zb3J0KCgocyxlKT0+cy1lKSlbTWF0aC5mbG9vcih0aGlzLl9zYW1wbGVzLmxlbmd0aC8yKV19Z2V0IGF2ZXJhZ2UoKXtyZXR1cm4gdGhpcy5fc2FtcGxlcy5yZWR1Y2UoKChzLGUpPT5zK2UpLDApL3RoaXMuX3NhbXBsZXMubGVuZ3RofWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuX3NhbXBsZXNbdGhpcy5fY291bnRlciV0aGlzLl9zYW1wbGVzLmxlbmd0aF19fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIG8kcjshZnVuY3Rpb24obyl7Y29uc3QgdD0obyx0LG4sZSk9PntsZXQgaT10LGM9dDtjb25zdCBsPW4+Pj4xLHI9b1tpLTFdO2Zvcig7Yzw9bDspe2M9aTw8MSxjPG4mJmUob1tjLTFdLG9bY10pPDAmJisrYztjb25zdCB0PW9bYy0xXTtpZihlKHQscik8PTApYnJlYWs7b1tpLTFdPXQsaT1jO31vW2ktMV09cjt9LG49KG8sdCk9Pm88dD8tMTpvPnQ/MTowO2Z1bmN0aW9uIGUobyxlLGksYyl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9by5sZW5ndGgpLHZvaWQgMD09PWMmJihjPW4pO2ZvcihsZXQgbj1pPj4+MTtuPmU7bi0tKXQobyxuLGksYyk7Y29uc3QgbD1lKzE7Zm9yKGxldCBuPWktMTtuPmU7bi0tKXtjb25zdCBpPW9bZV07b1tlXT1vW25dLG9bbl09aSx0KG8sbCxuLGMpO319ZnVuY3Rpb24qaShvLGUsaSxjKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT1vLmxlbmd0aCksdm9pZCAwPT09YyYmKGM9bik7Zm9yKGxldCBuPWk+Pj4xO24+ZTtuLS0pdChvLG4saSxjKSx5aWVsZDtjb25zdCBsPWUrMTtmb3IobGV0IG49aS0xO24+ZTtuLS0pe2NvbnN0IGk9b1tlXTtvW2VdPW9bbl0sb1tuXT1pLHQobyxsLG4sYykseWllbGQ7fX1vLnNvcnQ9ZSxvLml0ZXJhYmxlU29ydD1pO30obyRyfHwobyRyPXt9KSk7Y29uc3QgdCRpPW8kcjtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGEkbj0xLjUsZSRyPTEuMTtjbGFzcyBsJG17Y29uc3RydWN0b3IoaCl7dGhpcy5kYXRhPVtdLHRoaXMuX2xlbmd0aD0wLHRoaXMuX2FsbG9jYXRvcj12b2lkIDAsdGhpcy5fZGVhbGxvY2F0b3I9KCk9Pm51bGwsdGhpcy5fc2hyaW5rPSgpPT57fSx0aGlzLl9oaW50PW5ldyB2JGIsaCYmKGguaW5pdGlhbFNpemUmJih0aGlzLmRhdGE9bmV3IEFycmF5KGguaW5pdGlhbFNpemUpKSxoLmFsbG9jYXRvciYmKHRoaXMuX2FsbG9jYXRvcj1oLmFsbG9jYXRvciksdm9pZCAwIT09aC5kZWFsbG9jYXRvciYmKHRoaXMuX2RlYWxsb2NhdG9yPWguZGVhbGxvY2F0b3IpLGguc2hyaW5rJiYodGhpcy5fc2hyaW5rPSgpPT5uJG0odGhpcykpKTt9dG9BcnJheSgpe3JldHVybiB0aGlzLmRhdGEuc2xpY2UoMCx0aGlzLmxlbmd0aCl9ZmlsdGVyKHQpe2NvbnN0IGg9bmV3IEFycmF5O2ZvcihsZXQgaT0wO2k8dGhpcy5fbGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLmRhdGFbaV07dChzKSYmaC5wdXNoKHMpO31yZXR1cm4gaH1hdCh0KXtpZigodD1NYXRoLnRydW5jKHQpfHwwKTwwJiYodCs9dGhpcy5fbGVuZ3RoKSwhKHQ8MHx8dD49dGhpcy5fbGVuZ3RoKSlyZXR1cm4gdGhpcy5kYXRhW3RdfWluY2x1ZGVzKHQsaCl7Y29uc3QgaT10aGlzLmRhdGEuaW5kZXhPZih0LGgpO3JldHVybiAtMSE9PWkmJmk8dGhpcy5sZW5ndGh9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9sZW5ndGh9c2V0IGxlbmd0aCh0KXtpZih0PnRoaXMuX2xlbmd0aCl7aWYodGhpcy5fYWxsb2NhdG9yKXtmb3IoO3RoaXMuX2xlbmd0aDx0Oyl0aGlzLmRhdGFbdGhpcy5fbGVuZ3RoKytdPXRoaXMuX2FsbG9jYXRvcih0aGlzLmRhdGFbdGhpcy5fbGVuZ3RoXSk7cmV0dXJufXRoaXMuX2xlbmd0aD10O31lbHNlIHtpZih0aGlzLl9kZWFsbG9jYXRvcilmb3IobGV0IGg9dDtoPHRoaXMuX2xlbmd0aDsrK2gpdGhpcy5kYXRhW2hdPXRoaXMuX2RlYWxsb2NhdG9yKHRoaXMuZGF0YVtoXSk7dGhpcy5fbGVuZ3RoPXQsdGhpcy5fc2hyaW5rKCk7fX1jbGVhcigpe3RoaXMubGVuZ3RoPTA7fXBydW5lKCl7dGhpcy5jbGVhcigpLHRoaXMuZGF0YT1bXTt9cHVzaCh0KXt0aGlzLmRhdGFbdGhpcy5fbGVuZ3RoKytdPXQ7fXB1c2hBcnJheSh0LGg9dC5sZW5ndGgpe2ZvcihsZXQgaT0wO2k8aDtpKyspdGhpcy5kYXRhW3RoaXMuX2xlbmd0aCsrXT10W2ldO31maWxsKHQsaCl7Zm9yKGxldCBpPTA7aTxoO2krKyl0aGlzLmRhdGFbdGhpcy5fbGVuZ3RoKytdPXQ7fXB1c2hOZXcoKXt0aGlzLl9hbGxvY2F0b3ImJih0aGlzLmRhdGFbdGhpcy5sZW5ndGhdPXRoaXMuX2FsbG9jYXRvcih0aGlzLmRhdGFbdGhpcy5sZW5ndGhdKSk7Y29uc3QgdD10aGlzLmRhdGFbdGhpcy5fbGVuZ3RoXTtyZXR1cm4gKyt0aGlzLl9sZW5ndGgsdH11bnNoaWZ0KHQpe3RoaXMuZGF0YS51bnNoaWZ0KHQpLHRoaXMuX2xlbmd0aCsrLG4kbSh0aGlzKTt9cG9wKCl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybjtjb25zdCB0PXRoaXMuZGF0YVt0aGlzLmxlbmd0aC0xXTtyZXR1cm4gdGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgtMSx0aGlzLl9zaHJpbmsoKSx0fXJlbW92ZSh0KXtjb25zdCBpPWIkYSh0aGlzLmRhdGEsdCx0aGlzLmxlbmd0aCx0aGlzLl9oaW50KTtpZigtMSE9PWkpcmV0dXJuIHRoaXMuZGF0YS5zcGxpY2UoaSwxKSx0aGlzLmxlbmd0aD10aGlzLmxlbmd0aC0xLHR9cmVtb3ZlVW5vcmRlcmVkKHQpe3JldHVybiB0aGlzLnJlbW92ZVVub3JkZXJlZEluZGV4KGIkYSh0aGlzLmRhdGEsdCx0aGlzLmxlbmd0aCx0aGlzLl9oaW50KSl9cmVtb3ZlVW5vcmRlcmVkSW5kZXgodCl7aWYoISh0Pj10aGlzLmxlbmd0aHx8dDwwKSlyZXR1cm4gdGhpcy5zd2FwRWxlbWVudHModCx0aGlzLmxlbmd0aC0xKSx0aGlzLnBvcCgpfXJlbW92ZVVub3JkZXJlZE1hbnkodCxoPXQubGVuZ3RoLHMpe3RoaXMubGVuZ3RoPU8kNih0aGlzLmRhdGEsdCx0aGlzLmxlbmd0aCxoLHRoaXMuX2hpbnQscyksdGhpcy5fc2hyaW5rKCk7fWZyb250KCl7aWYoMCE9PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLmRhdGFbMF19YmFjaygpe2lmKDAhPT10aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5kYXRhW3RoaXMubGVuZ3RoLTFdfXN3YXBFbGVtZW50cyh0LGgpe2lmKHQ+PXRoaXMubGVuZ3RofHxoPj10aGlzLmxlbmd0aHx8dD09PWgpcmV0dXJuO2NvbnN0IGk9dGhpcy5kYXRhW3RdO3RoaXMuZGF0YVt0XT10aGlzLmRhdGFbaF0sdGhpcy5kYXRhW2hdPWk7fXNvcnQodCl7dCRpLnNvcnQodGhpcy5kYXRhLDAsdGhpcy5sZW5ndGgsdCk7fWl0ZXJhYmxlU29ydCh0KXtyZXR1cm4gdCRpLml0ZXJhYmxlU29ydCh0aGlzLmRhdGEsMCx0aGlzLmxlbmd0aCx0KX1zb21lKHQsaCl7Zm9yKGxldCBpPTA7aTx0aGlzLmxlbmd0aDsrK2kpaWYodC5jYWxsKGgsdGhpcy5kYXRhW2ldLGksdGhpcy5kYXRhKSlyZXR1cm4gITA7cmV0dXJuICExfWZpbmQodCxoKXtmb3IobGV0IGk9MDtpPHRoaXMubGVuZ3RoOysraSl7Y29uc3Qgcz10aGlzLmRhdGFbaV07aWYodC5jYWxsKGgscyxpKSlyZXR1cm4gc319ZmlsdGVySW5QbGFjZSh0LGgpe2xldCBpPTA7Zm9yKGxldCBzPTA7czx0aGlzLl9sZW5ndGg7KytzKXtjb25zdCBhPXRoaXMuZGF0YVtzXTt0LmNhbGwoaCxhLHMsdGhpcy5kYXRhKSYmKHRoaXMuZGF0YVtzXT10aGlzLmRhdGFbaV0sdGhpcy5kYXRhW2ldPWEsaSsrKTt9aWYodGhpcy5fZGVhbGxvY2F0b3IpZm9yKGxldCBzPWk7czx0aGlzLl9sZW5ndGg7cysrKXRoaXMuZGF0YVtzXT10aGlzLl9kZWFsbG9jYXRvcih0aGlzLmRhdGFbc10pO3JldHVybiB0aGlzLl9sZW5ndGg9aSx0aGlzLl9zaHJpbmsoKSx0aGlzfWZvckFsbCh0LGgpe2NvbnN0IGk9dGhpcy5sZW5ndGgscz10aGlzLmRhdGE7Zm9yKGxldCBhPTA7YTxpOysrYSl0LmNhbGwoaCxzW2FdLGEscyk7fWZvckVhY2godCxoKXtmb3IobGV0IGk9MDtpPHRoaXMubGVuZ3RoOysraSl0LmNhbGwoaCx0aGlzLmRhdGFbaV0saSx0aGlzLmRhdGEpO31tYXAodCxoKXtjb25zdCBpPW5ldyBBcnJheSh0aGlzLmxlbmd0aCk7Zm9yKGxldCBzPTA7czx0aGlzLmxlbmd0aDsrK3MpaVtzXT10LmNhbGwoaCx0aGlzLmRhdGFbc10scyx0aGlzLmRhdGEpO3JldHVybiBpfXJlZHVjZSh0LGgpe2xldCBpPWg7Zm9yKGxldCBzPTA7czx0aGlzLmxlbmd0aDsrK3MpaT10KGksdGhpcy5kYXRhW3NdLHMsdGhpcy5kYXRhKTtyZXR1cm4gaX1oYXModCl7Y29uc3QgaD10aGlzLmxlbmd0aCxpPXRoaXMuZGF0YTtmb3IobGV0IHM9MDtzPGg7KytzKWlmKGlbc109PT10KXJldHVybiAhMDtyZXR1cm4gITF9fWZ1bmN0aW9uIG4kbSh0KXt0LmRhdGEubGVuZ3RoPmEkbip0Lmxlbmd0aCYmKHQuZGF0YS5sZW5ndGg9TWF0aC5mbG9vcih0Lmxlbmd0aCplJHIpKTt9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuJGwobil7cmV0dXJuIG59XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBtJGl7Y29uc3RydWN0b3IoZSl7dGhpcy5jYWxsYmFjaz1lLHRoaXMuaXNBY3RpdmU9ITA7fXJlbW92ZSgpe3RoaXMuaXNBY3RpdmU9ITE7fX1sZXQgbCRsPTA7Y29uc3QgdSRzPXt0aW1lOm4kbCgwKSxkZWx0YVRpbWU6biRsKDApLGVsYXBzZWRGcmFtZVRpbWU6biRsKDApLGZyYW1lRHVyYXRpb246biRsKDApfSxmJHE9W1wicHJlcGFyZVwiLFwicHJlUmVuZGVyXCIsXCJyZW5kZXJcIixcInBvc3RSZW5kZXJcIixcInVwZGF0ZVwiLFwiZmluaXNoXCJdLGgkaj1bXSxkJGw9bmV3IGwkbTtjb25zdCBrJDc9e2ZyYW1lVGFza3M6ZCRsLHdpbGxEaXNwYXRjaDohMSxjbGVhckZyYW1lVGFza3M6aiRhLGRpc3BhdGNoOmIkNyxleGVjdXRlRnJhbWVUYXNrczpEJDZ9O2Z1bmN0aW9uIHYkOChlKXtjb25zdCByPW5ldyBtJGkoZSk7cmV0dXJuIGgkai5wdXNoKHIpLGskNy53aWxsRGlzcGF0Y2h8fChrJDcud2lsbERpc3BhdGNoPSEwLHQkaihiJDcpKSxyfWZ1bmN0aW9uIGokYShlPSExKXtkJGwuZm9yQWxsKChlPT57ZS5yZW1vdmVkPSEwO30pKSxlJiZfJGIoKTt9ZnVuY3Rpb24gRCQ2KGUpe2NvbnN0IHQ9biRsKGUtbCRsKTtsJGw9ZTtjb25zdCByPTFlMy82MCxzPU1hdGgubWF4KDAsdC1yKTt1JHMudGltZT1lLHUkcy5mcmFtZUR1cmF0aW9uPW4kbChyLXMpO2ZvcihsZXQgbz0wO288ZiRxLmxlbmd0aDtvKyspe2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCkscz1mJHFbb107ZCRsLmZvckFsbCgocj0+e2lmKHIucGF1c2VkfHxyLnJlbW92ZWQpcmV0dXJuOzA9PT1vJiZyLnRpY2tzKys7ci5waGFzZXNbc10mJih1JHMuZWxhcHNlZEZyYW1lVGltZT1uJGwocGVyZm9ybWFuY2Uubm93KCktZSksdSRzLmRlbHRhVGltZT0wPT09ci50aWNrcz9uJGwoMCk6dCxyLnBoYXNlc1tzXT8uY2FsbChyLHUkcykpO30pKSxSJDNbb10ucmVjb3JkKHBlcmZvcm1hbmNlLm5vdygpLXIpO31fJGIoKSxxJDUucmVjb3JkKHBlcmZvcm1hbmNlLm5vdygpLWUpO31jb25zdCBnJGQ9bmV3IGwkbTtmdW5jdGlvbiBfJGIoKXtkJGwuZm9yQWxsKChlPT57ZS5yZW1vdmVkJiZnJGQucHVzaChlKTt9KSksZCRsLnJlbW92ZVVub3JkZXJlZE1hbnkoZyRkLmRhdGEsZyRkLmxlbmd0aCksZyRkLmNsZWFyKCk7fWZ1bmN0aW9uIGIkNygpe2Zvcig7aCRqLmxlbmd0aDspe2NvbnN0IHQ9cCRtKGgkai5zaGlmdCgpKTt0LmlzQWN0aXZlJiZ0LmNhbGxiYWNrKCk7fWskNy53aWxsRGlzcGF0Y2g9ITE7fWNvbnN0IFIkMz1mJHEubWFwKChlPT5uZXcgcyR1KGUpKSkscSQ1PW5ldyBzJHUoXCJ0b3RhbFwiKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCB0JGg9MDtmdW5jdGlvbiBlJHEoKXtyZXR1cm4gKyt0JGh9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0JGd7Y29uc3RydWN0b3IodCl7dGhpcy5fYWNjZXNzZWQ9W10sdGhpcy5faGFuZGxlcz1bXSx0aGlzLl9vYnNlcnZlck9iamVjdD1uZXcgZSRwKHQpLHMkdC5yZWdpc3Rlcih0aGlzLG5ldyBXZWFrUmVmKHRoaXMuX29ic2VydmVyT2JqZWN0KSx0aGlzKTt9ZGVzdHJveSgpe3MkdC51bnJlZ2lzdGVyKHRoaXMuX29ic2VydmVyT2JqZWN0KSx0aGlzLl9hY2Nlc3NlZC5sZW5ndGg9MCx0aGlzLl9vYnNlcnZlck9iamVjdD8uZGVzdHJveSgpLHRoaXMuY2xlYXIoKTt9b25PYnNlcnZhYmxlQWNjZXNzZWQodCl7Y29uc3QgZT10aGlzLl9hY2Nlc3NlZDtlLmluY2x1ZGVzKHQpfHxlLnB1c2godCk7fW9uVHJhY2tpbmdFbmQoKXtjb25zdCB0PXRoaXMuX2hhbmRsZXMsZT10aGlzLl9hY2Nlc3NlZCxzPXRoaXMuX29ic2VydmVyT2JqZWN0O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXQucHVzaChlW2ldLm9ic2VydmUocykpO2UubGVuZ3RoPTA7fWNsZWFyKCl7Y29uc3QgdD10aGlzLl9oYW5kbGVzO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKXRbZV0ucmVtb3ZlKCk7dC5sZW5ndGg9MDt9fWNsYXNzIGUkcHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9ub3RpZnk9dCx0aGlzLl9pbnZhbGlkQ291bnQ9MCx0aGlzLmRlc3Ryb3llZD0hMTt9b25JbnZhbGlkYXRlZCgpe3RoaXMuX2ludmFsaWRDb3VudCsrO31vbkNvbW1pdHRlZCgpe2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjtjb25zdCB0PXRoaXMuX2ludmFsaWRDb3VudDtpZigxPT09dClyZXR1cm4gdGhpcy5faW52YWxpZENvdW50PTAsdm9pZCB0aGlzLl9ub3RpZnkoKTt0aGlzLl9pbnZhbGlkQ291bnQ9dD4wP3QtMTowO31kZXN0cm95KCl7dGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5fbm90aWZ5PWkkcDt9fWNvbnN0IHMkdD1uZXcgRmluYWxpemF0aW9uUmVnaXN0cnkoKHQ9Pnt0LmRlcmVmKCk/LmRlc3Ryb3koKTt9KSk7ZnVuY3Rpb24gaSRwKCl7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IHIkaT0hMTtjb25zdCBlJG89W107ZnVuY3Rpb24gbyRxKGUsbyl7bGV0IHU9bmV3IHQkZyhzKSxsPW51bGwsZj0hMTtmdW5jdGlvbiBzKCl7aWYoIXV8fGYpcmV0dXJuO2lmKHIkaSlyZXR1cm4gdm9pZCBpJG8ocyk7Y29uc3QgdD1sO3UuY2xlYXIoKSxyJGk9ITAsZj0hMCxsPWYkcih1LGUpLGY9ITEsciRpPSExLG8obCx0KSxjJHQoKTt9ZnVuY3Rpb24gbSgpe3UmJih1LmRlc3Ryb3koKSx1PW51bGwsbD1udWxsKTt9cmV0dXJuIGY9ITAsbD1mJHIodSxlKSxmPSExLHtyZW1vdmU6bX19ZnVuY3Rpb24gdSRyKHIsZSl7bGV0IG89bmV3IHQkZyhsKSx1PW51bGw7ZnVuY3Rpb24gbCgpe2UodSxjKTt9ZnVuY3Rpb24gaSgpe28mJihvLmRlc3Ryb3koKSxvPW51bGwpLHU9bnVsbDt9ZnVuY3Rpb24gYygpe3JldHVybiBvPyhvLmNsZWFyKCksdT1mJHIobyxyKSx1KTpudWxsfXJldHVybiBjKCkse3JlbW92ZTppfX1mdW5jdGlvbiBpJG8obil7ZSRvLmluY2x1ZGVzKG4pfHxlJG8udW5zaGlmdChuKTt9ZnVuY3Rpb24gYyR0KCl7Zm9yKDtlJG8ubGVuZ3RoOyllJG8ucG9wKCkoKTt9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgaCRpOyFmdW5jdGlvbihlKXtlW2UuVW50cmFja2VkPTBdPVwiVW50cmFja2VkXCIsZVtlLlRyYWNrZWQ9MV09XCJUcmFja2VkXCI7fShoJGl8fChoJGk9e30pKTtjbGFzcyBmJHB7Y29uc3RydWN0b3IoKXt0aGlzLnVpZD1lJHEoKSx0aGlzLnJlbW92ZWQ9ITEsdGhpcy50eXBlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsLHRoaXMuY2FsbGJhY2s9bnVsbCx0aGlzLmdldFZhbHVlPW51bGwsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLnBhdGg9bnVsbCx0aGlzLmVxdWFscz1udWxsO31zdGF0aWMgYWNxdWlyZVVudHJhY2tlZChlLHIsbyxsLGkpe3JldHVybiB0aGlzLnBvb2wuYWNxdWlyZShoJGkuVW50cmFja2VkLGUscixvLGwsaSxqJGQpfXN0YXRpYyBhY3F1aXJlVHJhY2tlZChlLHQscixvKXtyZXR1cm4gdGhpcy5wb29sLmFjcXVpcmUoaCRpLlRyYWNrZWQsZSx0LHIsbnVsbCxudWxsLG8pfW5vdGlmeShlLHQpe3RoaXMudHlwZT09PWgkaS5VbnRyYWNrZWQ/dGhpcy5jYWxsYmFjay5jYWxsKHRoaXMudGFyZ2V0LGUsdCx0aGlzLnBhdGgsdGhpcy50YXJnZXQpOnRoaXMuY2FsbGJhY2suY2FsbChudWxsLGUsdCx2b2lkIDAsdm9pZCAwKTt9YWNxdWlyZShlLHQscixvLGwsaSxzKXt0aGlzLnVpZD1lJHEoKSx0aGlzLnJlbW92ZWQ9ITEsdGhpcy50eXBlPWUsdGhpcy5vbGRWYWx1ZT10LHRoaXMuY2FsbGJhY2s9cix0aGlzLmdldFZhbHVlPW8sdGhpcy50YXJnZXQ9bCx0aGlzLnBhdGg9aSx0aGlzLmVxdWFscz1zO31yZWxlYXNlKCl7dGhpcy50YXJnZXQ9dGhpcy5wYXRoPXRoaXMub2xkVmFsdWU9dGhpcy5jYWxsYmFjaz10aGlzLmdldFZhbHVlPW51bGwsdGhpcy51aWQ9ZSRxKCksdGhpcy5yZW1vdmVkPSEwO319ZiRwLnBvb2w9bmV3IHQkayhmJHApO2NvbnN0IG0kaD1uZXcgdCRsLHYkNz1uZXcgU2V0O2xldCBwJGo7ZnVuY3Rpb24gayQ2KGUpe3YkNy5kZWxldGUoZSksdiQ3LmFkZChlKSxwJGp8fChwJGo9diQ4KHEkNCkpO31mdW5jdGlvbiBfJGEoZSl7aWYoZS5yZW1vdmVkKXJldHVybjtjb25zdCB0PWUub2xkVmFsdWUscj1lLmdldFZhbHVlKCk7ZS5lcXVhbHModCxyKXx8KGUub2xkVmFsdWU9cixlLm5vdGlmeShyLHQpKTt9ZnVuY3Rpb24gZyRjKGUpe2Zvcihjb25zdCB0IG9mIHYkNy52YWx1ZXMoKSl0LnRhcmdldD09PWUmJih0LnJlbW92ZWQ9ITApO31mdW5jdGlvbiBxJDQoKXtsZXQgZT0xMDtmb3IoO3AkaiYmZS0tOyl7cCRqPW51bGw7Y29uc3QgZT1qJDkoKSx0PW0kaC5hY3F1aXJlKCk7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLnVpZDtfJGEociksZT09PXIudWlkJiZyLnJlbW92ZWQmJnQucHVzaChyKTt9Zm9yKGNvbnN0IHIgb2YgdiQ3KXIucmVtb3ZlZCYmKHQucHVzaChyKSx2JDcuZGVsZXRlKHIpKTtmb3IoY29uc3QgciBvZiB0KWYkcC5wb29sLnJlbGVhc2Uocik7bSRoLnJlbGVhc2UodCksbSRoLnJlbGVhc2UoZSksVi5mb3JFYWNoKChlPT5lKCkpKTt9fWZ1bmN0aW9uIGokOSgpe2NvbnN0IGU9bSRoLmFjcXVpcmUoKTtlLmxlbmd0aD12JDcuc2l6ZTtsZXQgdD0wO2Zvcihjb25zdCByIG9mIHYkNyllW3RdPXIsKyt0O3JldHVybiB2JDcuY2xlYXIoKSxlfWNvbnN0IFY9bmV3IFNldDtmdW5jdGlvbiBVJDIoZSx0LHIpe2xldCBvPXkkaChlLHQsciwoKGUsdCxyKT0+e2xldCBsLGksbj11JHIoKCgpPT51JHYoZSx0KSksKChuLHMpPT57ZS5fX2FjY2Vzc29yX18uZGVzdHJveWVkfHxsJiZsLnVpZCE9PWk/by5yZW1vdmUoKToobHx8KGw9ZiRwLmFjcXVpcmVVbnRyYWNrZWQobixyLHMsZSx0KSxpPWwudWlkKSxrJDYobCkpO30pKTtyZXR1cm4ge3JlbW92ZTpoJGsoKCgpPT57bi5yZW1vdmUoKSxsJiYobC51aWQhPT1pfHxsLnJlbW92ZWR8fChsLnJlbW92ZWQ9ITAsayQ2KGwpKSxsPW51bGwpLG89bj1udWxsO30pKX19KSk7cmV0dXJuIG99ZnVuY3Rpb24gYiQ2KGUscixvKXtjb25zdCBsPXkkaChlLHIsbywoKGUscixvKT0+e2xldCBpPSExO3JldHVybiBvJHEoKCgpPT51JHYoZSxyKSksKChuLHMpPT57ZS5fX2FjY2Vzc29yX18uZGVzdHJveWVkP2wucmVtb3ZlKCk6aXx8KGk9ITAsaiRkKHMsbil8fG8uY2FsbChlLG4scyxyLGUpLGk9ITEpO30pKX0pKTtyZXR1cm4gbH1mdW5jdGlvbiBUJDMoZSx0LHIsbz0hMSl7cmV0dXJuICFlLl9fYWNjZXNzb3JfX3x8ZS5fX2FjY2Vzc29yX18uZGVzdHJveWVkP3tyZW1vdmUoKXt9fTpvP2IkNihlLHQscik6VSQyKGUsdCxyKX1mdW5jdGlvbiB3JDYoZSx0LHIpe2xldCBvLGwsaT11JHIoZSwoKGUsbik9PntvJiZvLnVpZCE9PWw/aS5yZW1vdmUoKToob3x8KG89ZiRwLmFjcXVpcmVUcmFja2VkKGUsdCxuLHIpLGw9by51aWQpLGskNihvKSk7fSkpO3JldHVybiB7cmVtb3ZlOmgkaygoKCk9PntpLnJlbW92ZSgpLG8mJihvLnVpZCE9PWx8fG8ucmVtb3ZlZHx8KG8ucmVtb3ZlZD0hMCxrJDYobykpLG89bnVsbCksaT1udWxsO30pKX19ZnVuY3Rpb24gUyQ3KGUsdCxyKXtsZXQgbz0hMTtyZXR1cm4gbyRxKGUsKChlLGwpPT57b3x8KG89ITAscihsLGUpfHx0KGUsbCksbz0hMSk7fSkpfWZ1bmN0aW9uIFAkMihlLHQsbz0hMSxsPWgkbSl7cmV0dXJuIG8/UyQ3KGUsdCxsKTp3JDYoZSx0LGwpfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gciRoKG4sdCxyKXtjb25zdCBvPW4uZ2V0KHQpO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG87Y29uc3QgdT1yKCk7cmV0dXJuIG4uc2V0KHQsdSksdX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHIkZz1zJEUuZ2V0TG9nZ2VyKFwiZXNyaS5jb3JlLmFjY2Vzc29yU3VwcG9ydC5lbnN1cmVUeXBlc1wiKTtmdW5jdGlvbiB0JGYoZSl7cmV0dXJuIG51bGw9PWU/ZTpuZXcgRGF0ZShlKX1mdW5jdGlvbiBvJHAoZSl7cmV0dXJuIG51bGw9PWU/ZTohIWV9ZnVuY3Rpb24gdSRxKGUpe3JldHVybiBudWxsPT1lP2U6ZS50b1N0cmluZygpfWZ1bmN0aW9uIGEkbShlKXtyZXR1cm4gbnVsbD09ZT9lOihlPXBhcnNlRmxvYXQoZSksaXNOYU4oZSk/MDplKX1mdW5jdGlvbiBzJHMoZSl7cmV0dXJuIG51bGw9PWU/ZTpNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZSkpfWZ1bmN0aW9uIGkkbihlKXtyZXR1cm4gZSYmZS5jb25zdHJ1Y3RvciYmdm9pZCAwIT09ZS5jb25zdHJ1Y3Rvci5fX2FjY2Vzc29yTWV0YWRhdGFfX31mdW5jdGlvbiBjJHMoZSxuKXtyZXR1cm4gbnVsbCE9biYmZSYmIShuIGluc3RhbmNlb2YgZSl9ZnVuY3Rpb24gbCRrKGUpe3JldHVybiBlJiZcImlzQ29sbGVjdGlvblwiaW4gZX1mdW5jdGlvbiBmJG8oZSl7cmV0dXJuIGUmJmUuVHlwZT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLlR5cGU/ZS5UeXBlOmUuVHlwZS5iYXNlOm51bGx9ZnVuY3Rpb24gcCRpKGUsbil7aWYoIW58fCFuLmNvbnN0cnVjdG9yfHwhbCRrKG4uY29uc3RydWN0b3IpKXJldHVybiB5JGUoZSxuKT9uOm5ldyBlKG4pO2NvbnN0IHI9ZiRvKGUucHJvdG90eXBlLml0ZW1UeXBlKSx0PWYkbyhuLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5pdGVtVHlwZSk7cmV0dXJuIHI/dD9yPT09dD9uOnIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodC5wcm90b3R5cGUpP25ldyBlKG4pOih5JGUoZSxuKSxuKTpuZXcgZShuKTpufWZ1bmN0aW9uIHkkZShlLG4pe3JldHVybiAhIWkkbihuKSYmKHIkZy5lcnJvcihcIkFjY2Vzc29yI3NldFwiLFwiQXNzaWduaW5nIGFuIGluc3RhbmNlIG9mICdcIisobi5kZWNsYXJlZENsYXNzfHxcInVua25vd25cIikrXCInIHdoaWNoIGlzIG5vdCBhIHN1YmNsYXNzIG9mICdcIitnJGIoZSkrXCInXCIpLCEwKX1mdW5jdGlvbiB2JDYoZSxuKXtyZXR1cm4gbnVsbD09bj9uOmwkayhlKT9wJGkoZSxuKTpjJHMoZSxuKT95JGUoZSxuKT9uOm5ldyBlKG4pOm59ZnVuY3Rpb24gZyRiKGUpe3JldHVybiBlJiZlLnByb3RvdHlwZSYmZS5wcm90b3R5cGUuZGVjbGFyZWRDbGFzc3x8XCJ1bmtub3duXCJ9Y29uc3QgaCRoPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG0kZyhlKXtzd2l0Y2goZSl7Y2FzZSBOdW1iZXI6cmV0dXJuIGEkbTtjYXNlIFQkMjpyZXR1cm4gcyRzO2Nhc2UgQm9vbGVhbjpyZXR1cm4gbyRwO2Nhc2UgU3RyaW5nOnJldHVybiB1JHE7Y2FzZSBEYXRlOnJldHVybiB0JGY7ZGVmYXVsdDpyZXR1cm4gciRoKGgkaCxlLCgoKT0+diQ2LmJpbmQobnVsbCxlKSkpfX1mdW5jdGlvbiBkJGsoZSxuKXtjb25zdCByPW0kZyhlKTtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/cjpyKG4pfWZ1bmN0aW9uIGIkNShlLG4scil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2IkNS5iaW5kKG51bGwsZSk6bj9BcnJheS5pc0FycmF5KG4pP24ubWFwKChuPT5lKG4scikpKTpbZShuLHIpXTpufWZ1bmN0aW9uIHckNShlLG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9iJDUoKG49PmQkayhlLG4pKSk6YiQ1KChuPT5kJGsoZSxuKSksbil9ZnVuY3Rpb24gQSQ3KGUsbixyKXtyZXR1cm4gMCE9PW4mJkFycmF5LmlzQXJyYXkocik/ci5tYXAoKHI9PkEkNyhlLG4tMSxyKSkpOmUocil9ZnVuY3Rpb24gJCQyKGUsbixyKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj0+JCQyKGUsbixyKTtpZighcilyZXR1cm4gcjtyPUEkNyhlLG4scik7bGV0IHQ9bixvPXI7Zm9yKDt0PjAmJkFycmF5LmlzQXJyYXkobyk7KXQtLSxvPW9bMF07aWYodm9pZCAwIT09bylmb3IobGV0IHU9MDt1PHQ7dSsrKXI9W3JdO3JldHVybiByfWZ1bmN0aW9uIGokOChlLG4scil7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoPyQkMigobj0+ZCRrKGUsbikpLG4pOiQkMigobj0+ZCRrKGUsbikpLG4scil9ZnVuY3Rpb24gayQ1KGUpe3JldHVybiAhIUFycmF5LmlzQXJyYXkoZSkmJiFlLnNvbWUoKG49Pntjb25zdCByPXR5cGVvZiBuO3JldHVybiAhKFwic3RyaW5nXCI9PT1yfHxcIm51bWJlclwiPT09cnx8XCJmdW5jdGlvblwiPT09ciYmZS5sZW5ndGg+MSl9KSl9ZnVuY3Rpb24gTSQ2KGUsbil7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIE0kNihlKS5jYWxsKG51bGwsbik7Y29uc3QgdD1uZXcgU2V0LG89ZS5maWx0ZXIoKGU9PlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpKSx1PWUuZmlsdGVyKChlPT5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSk7Zm9yKGNvbnN0IHIgb2YgZSlcInN0cmluZ1wiIT10eXBlb2YgciYmXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHQuYWRkKHIpO2xldCBhPW51bGwscz1udWxsO3JldHVybiAoZSxuKT0+e2lmKG51bGw9PWUpcmV0dXJuIGU7Y29uc3QgaT10eXBlb2YgZSxsPVwic3RyaW5nXCI9PT1pfHxcIm51bWJlclwiPT09aTtyZXR1cm4gbCYmKHQuaGFzKGUpfHx1LnNvbWUoKGU9Plwic3RyaW5nXCI9PT1pJiZlPT09U3RyaW5nfHxcIm51bWJlclwiPT09aSYmZT09PU51bWJlcikpKXx8XCJvYmplY3RcIj09PWkmJnUuc29tZSgobj0+IWMkcyhlLG4pKSk/ZToobCYmby5sZW5ndGg/KGF8fChhPW8ubWFwKChlPT5cInN0cmluZ1wiPT10eXBlb2YgZT9gJyR7ZX0nYDpgJHtlfWApKS5qb2luKFwiLCBcIikpLHIkZy5lcnJvcihcIkFjY2Vzc29yI3NldFwiLGAnJHtlfScgaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHRoaXMgcHJvcGVydHksIG9ubHkgdGhlIGZvbGxvd2luZyB2YWx1ZXMgYXJlIHZhbGlkOiAke2F9YCkpOlwib2JqZWN0XCI9PXR5cGVvZiBlJiZ1Lmxlbmd0aD8oc3x8KHM9dS5tYXAoKGU9PmckYihlKSkpLmpvaW4oXCIsIFwiKSksciRnLmVycm9yKFwiQWNjZXNzb3Ijc2V0XCIsYCcke2V9JyBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eSwgdmFsdWUgbXVzdCBiZSBvbmUgb2YgJHtzfWApKTpyJGcuZXJyb3IoXCJBY2Nlc3NvciNzZXRcIixgJyR7ZX0nIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5YCksbiYmKG4udmFsaWQ9ITEpLG51bGwpfX1mdW5jdGlvbiBTJDYoZSxuKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gUyQ2KGUpLmNhbGwobnVsbCxuKTtjb25zdCB0PXt9LG89W10sdT1bXTtmb3IoY29uc3QgciBpbiBlLnR5cGVNYXApe2NvbnN0IG49ZS50eXBlTWFwW3JdO3Rbcl09ZCRrKG4pLG8ucHVzaChnJGIobikpLHUucHVzaChyKTt9Y29uc3QgYT0oKT0+YCcke28uam9pbihcIicsICdcIil9J2Ascz0oKT0+YCcke3Uuam9pbihcIicsICdcIil9J2AsbD1cInN0cmluZ1wiPT10eXBlb2YgZS5rZXk/bj0+bltlLmtleV06ZS5rZXk7cmV0dXJuIG49PntpZihlLmJhc2UmJiFjJHMoZS5iYXNlLG4pKXJldHVybiBuO2lmKG51bGw9PW4pcmV0dXJuIG47Y29uc3Qgbz1sKG4pfHxlLmRlZmF1bHRLZXlWYWx1ZSx1PXRbb107aWYoIXUpcmV0dXJuIHIkZy5lcnJvcihcIkFjY2Vzc29yI3NldFwiLGBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLCB2YWx1ZSBuZWVkcyB0byBiZSBvbmUgb2YgJHthKCl9LCBvciBhIHBsYWluIG9iamVjdCB0aGF0IGNhbiBhdXRvY2FzdCAoaGF2aW5nIC50eXBlID0gJHtzKCl9KWApLG51bGw7aWYoIWMkcyhlLnR5cGVNYXBbb10sbikpcmV0dXJuIG47aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUua2V5JiYhaSRuKG4pKXtjb25zdCByPXt9O2Zvcihjb25zdCB0IGluIG4pdCE9PWUua2V5JiYoclt0XT1uW3RdKTtyZXR1cm4gdShyKX1yZXR1cm4gdShuKX19Y2xhc3MgVCQye31mdW5jdGlvbiBfJDkoZSl7aWYoIWV8fCEoXCJ0eXBlXCJpbiBlKSlyZXR1cm4gITE7c3dpdGNoKGUudHlwZSl7Y2FzZVwibmF0aXZlXCI6Y2FzZVwiYXJyYXlcIjpjYXNlXCJvbmUtb2ZcIjpyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIEIkNChlKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJuYXRpdmVcIjpyZXR1cm4gZCRrKGUudmFsdWUpO2Nhc2VcImFycmF5XCI6cmV0dXJuIGIkNShCJDQoZS52YWx1ZSkpO2Nhc2VcIm9uZS1vZlwiOnJldHVybiBDJDUoZSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gQyQ1KGUpe2xldCBuPW51bGw7cmV0dXJuICh0LG8pPT5GJDIodCxlKT90OihudWxsPT1uJiYobj1EJDUoZSkpLHIkZy5lcnJvcihcIkFjY2Vzc29yI3NldFwiLGBJbnZhbGlkIHByb3BlcnR5IHZhbHVlLCB2YWx1ZSBuZWVkcyB0byBiZSBvZiB0eXBlICR7bn1gKSxvJiYoby52YWxpZD0hMSksbnVsbCl9ZnVuY3Rpb24gRCQ1KGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcIm5hdGl2ZVwiOnN3aXRjaChlLnZhbHVlKXtjYXNlIE51bWJlcjpyZXR1cm4gXCJudW1iZXJcIjtjYXNlIFN0cmluZzpyZXR1cm4gXCJzdHJpbmdcIjtjYXNlIEJvb2xlYW46cmV0dXJuIFwiYm9vbGVhblwiO2Nhc2UgVCQyOnJldHVybiBcImludGVnZXJcIjtjYXNlIERhdGU6cmV0dXJuIFwiZGF0ZVwiO2RlZmF1bHQ6cmV0dXJuIGckYihlLnZhbHVlKX1jYXNlXCJhcnJheVwiOnJldHVybiBgYXJyYXkgb2YgJHtEJDUoZS52YWx1ZSl9YDtjYXNlXCJvbmUtb2ZcIjp7Y29uc3Qgbj1lLnZhbHVlcy5tYXAoKGU9PkQkNShlKSkpO3JldHVybiBgb25lIG9mICR7bi5zbGljZSgwLG4ubGVuZ3RoLTEpfSBvciAke25bbi5sZW5ndGgtMV19YH19cmV0dXJuIFwidW5rbm93blwifWZ1bmN0aW9uIEYkMihlLG4pe2lmKG51bGw9PWUpcmV0dXJuICEwO3N3aXRjaChuLnR5cGUpe2Nhc2VcIm5hdGl2ZVwiOnN3aXRjaChuLnZhbHVlKXtjYXNlIE51bWJlcjpjYXNlIFQkMjpyZXR1cm4gXCJudW1iZXJcIj09dHlwZW9mIGU7Y2FzZSBCb29sZWFuOnJldHVybiBcImJvb2xlYW5cIj09dHlwZW9mIGU7Y2FzZSBTdHJpbmc6cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlfXJldHVybiBlIGluc3RhbmNlb2Ygbi52YWx1ZTtjYXNlXCJhcnJheVwiOnJldHVybiAhIUFycmF5LmlzQXJyYXkoZSkmJiFlLnNvbWUoKGU9PiFGJDIoZSxuLnZhbHVlKSkpO2Nhc2VcIm9uZS1vZlwiOnJldHVybiBuLnZhbHVlcy5zb21lKChuPT5GJDIoZSxuKSkpfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHkkZChuPXt9KXtyZXR1cm4gKG8scyk9PntpZihvPT09RnVuY3Rpb24ucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcihgSW5hcHByb3ByaWF0ZSB1c2Ugb2YgQHByb3BlcnR5KCkgb24gYSBzdGF0aWMgZmllbGQ6ICR7by5uYW1lfS4ke3N9LiBBY2Nlc3NvciBkb2VzIG5vdCBzdXBwb3J0IHN0YXRpYyBwcm9wZXJ0aWVzLmApO2NvbnN0IGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLHMpLGE9byR2KG8scyk7aSYmKGkuZ2V0fHxpLnNldD8oYS5nZXQ9aS5nZXR8fGEuZ2V0LGEuc2V0PWkuc2V0fHxhLnNldCk6XCJ2YWx1ZVwiaW4gaSYmKFwidmFsdWVcImluIG4mJnMkRS5nZXRMb2dnZXIoXCJlc3JpLmNvcmUuYWNjZXNzb3JTdXBwb3J0LmRlY29yYXRvcnMucHJvcGVydHlcIikud2FybihgQHByb3BlcnR5KCkgd2lsbCByZWRlZmluZSB0aGUgdmFsdWUgb2YgXCIke3N9XCIgb24gXCIke28uY29uc3RydWN0b3IubmFtZX1cIiBhbHJlYWR5IGRlZmluZWQgaW4gdGhlIG1ldGFkYXRhYCxuKSxhLnZhbHVlPW4udmFsdWU9aS52YWx1ZSkpLG51bGwhPW4ucmVhZE9ubHkmJihhLnJlYWRPbmx5PW4ucmVhZE9ubHkpO2NvbnN0IHA9bi5hbGlhc09mO2lmKHApe2NvbnN0IHQ9XCJzdHJpbmdcIj09dHlwZW9mIHA/cDpwLnNvdXJjZSxlPVwic3RyaW5nXCI9PXR5cGVvZiBwP251bGw6ITA9PT1wLm92ZXJyaWRhYmxlO2xldCByO2EuZGVwZW5kc09uPVt0XSxhLmdldD1mdW5jdGlvbigpe2xldCBlPW8kdyh0aGlzLHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3J8fChyPXQuc3BsaXQoXCIuXCIpLnNsaWNlKDAsLTEpLmpvaW4oXCIuXCIpKTtjb25zdCBuPW8kdyh0aGlzLHIpO24mJihlPWUuYmluZChuKSk7fXJldHVybiBlfSxhLnJlYWRPbmx5fHwoYS5zZXQ9ZT9mdW5jdGlvbih0KXt0aGlzLl9vdmVycmlkZShzLHQpO306ZnVuY3Rpb24oZSl7dCRuKHRoaXMsdCxlKTt9KTt9Y29uc3QgdT1uLnR5cGUsYz1uLnR5cGVzO2EuY2FzdHx8KHU/YS5jYXN0PWgkZyh1KTpjJiYoQXJyYXkuaXNBcnJheShjKT9hLmNhc3Q9YiQ1KFMkNihjWzBdKSk6YS5jYXN0PVMkNihjKSkpLG4kcShhLG4pLG4ucmFuZ2UmJihhLmNhc3Q9aiQ3KGEuY2FzdCxuLnJhbmdlKSk7fX1mdW5jdGlvbiBkJGoodCxlLHIpe2NvbnN0IG49byR2KHQscik7bi5qc29ufHwobi5qc29uPXt9KTtsZXQgbz1uLmpzb247cmV0dXJuIHZvaWQgMCE9PWUmJihvLm9yaWdpbnN8fChvLm9yaWdpbnM9e30pLG8ub3JpZ2luc1tlXXx8KG8ub3JpZ2luc1tlXT17fSksbz1vLm9yaWdpbnNbZV0pLG99ZnVuY3Rpb24gaCRnKHQpe2xldCBlPTAscj10O2lmKF8kOSh0KSlyZXR1cm4gQiQ0KHQpO2Zvcig7QXJyYXkuaXNBcnJheShyKSYmMT09PXIubGVuZ3RoJiZcInN0cmluZ1wiIT10eXBlb2YgclswXSYmXCJudW1iZXJcIiE9dHlwZW9mIHJbMF07KXI9clswXSxlKys7Y29uc3QgZj1yO2lmKGskNShmKSlyZXR1cm4gMD09PWU/TSQ2KGYpOiQkMihNJDYoZiksZSk7aWYoMT09PWUpcmV0dXJuIHckNShmKTtpZihlPjEpcmV0dXJuIGokOChmLGUpO2NvbnN0IGw9dDtyZXR1cm4gbC5mcm9tP2wuZnJvbTpkJGsobCl9ZnVuY3Rpb24gaiQ3KHQsZSl7cmV0dXJuIHI9PntsZXQgbj0rdChyKTtyZXR1cm4gbnVsbCE9ZS5zdGVwJiYobj1NYXRoLnJvdW5kKG4vZS5zdGVwKSplLnN0ZXApLG51bGwhPWUubWluJiYobj1NYXRoLm1heChlLm1pbixuKSksbnVsbCE9ZS5tYXgmJihuPU1hdGgubWluKGUubWF4LG4pKSxufX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4kayhuKXtpZihuLmpzb24mJm4uanNvbi5vcmlnaW5zKXtjb25zdCBvPW4uanNvbi5vcmlnaW5zLGU9e1wid2ViLWRvY3VtZW50XCI6W1wid2ViLXNjZW5lXCIsXCJ3ZWItbWFwXCJdfTtmb3IoY29uc3QgbiBpbiBlKWlmKG9bbl0pe2NvbnN0IHM9b1tuXTtlW25dLmZvckVhY2goKG49PntvW25dPXM7fSkpLGRlbGV0ZSBvW25dO319fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgcyRyIGV4dGVuZHMgZSRBe2NvbnN0cnVjdG9yKGUscyx0KXtzdXBlcihlLHMsdCk7fX1zJHIucHJvdG90eXBlLnR5cGU9XCJ3YXJuaW5nXCI7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlJG4oZSl7cmV0dXJuICEhZSYmZS5wcm90b3R5cGUmJmUucHJvdG90eXBlLmRlY2xhcmVkQ2xhc3MmJjA9PT1lLnByb3RvdHlwZS5kZWNsYXJlZENsYXNzLmluZGV4T2YoXCJlc3JpLmNvcmUuQ29sbGVjdGlvblwiKX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGkkbT1zJEUuZ2V0TG9nZ2VyKFwiZXNyaS5jb3JlLmFjY2Vzc29yU3VwcG9ydC5leHRlbnNpb25zLnNlcmlhbGl6YWJsZVByb3BlcnR5LnJlYWRlclwiKTtmdW5jdGlvbiBwJGgodCxyLG4pe3QmJighbiYmIXIucmVhZHx8ci5yZWFkPy5yZWFkZXJ8fCExPT09ci5yZWFkPy5lbmFibGVkfHxsJGoodCkmJm8kQihcInJlYWQucmVhZGVyXCIsdSRwKHQpLHIpKTt9ZnVuY3Rpb24gdSRwKHQpe2NvbnN0IGU9dC5uZGltQXJyYXk/PzA7aWYoZT4xKXJldHVybiBjJHIodCk7aWYoMT09PWUpcmV0dXJuIGEkbCh0KTtpZihcInR5cGVcImluIHQmJmQkaSh0LnR5cGUpKXtjb25zdCBlPXQudHlwZS5wcm90b3R5cGU/Lml0ZW1UeXBlPy5UeXBlLHI9YSRsKFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/e3R5cGU6ZX06e3R5cGVzOmV9KTtyZXR1cm4gKGUsbixvKT0+e2NvbnN0IGk9cihlLG4sbyk7cmV0dXJuIGk/bmV3IHQudHlwZShpKTppfX1yZXR1cm4gcyRxKHQpfWZ1bmN0aW9uIHMkcSh0KXtyZXR1cm4gXCJ0eXBlXCJpbiB0P3kkYyh0LnR5cGUpOmckYSh0LnR5cGVzKX1mdW5jdGlvbiB5JGModCl7cmV0dXJuIHQucHJvdG90eXBlLnJlYWQ/KGUscixuKT0+e2lmKG51bGw9PWUpcmV0dXJuIGU7Y29uc3Qgbz10eXBlb2YgZTtpZihcIm9iamVjdFwiIT09bylyZXR1cm4gdm9pZCBpJG0uZXJyb3IoYEV4cGVjdGVkIEpTT04gdmFsdWUgb2YgdHlwZSAnb2JqZWN0JyB0byBkZXNlcmlhbGl6ZSB0eXBlICcke3QucHJvdG90eXBlLmRlY2xhcmVkQ2xhc3N9JywgYnV0IGdvdCAnJHtvfSdgKTtjb25zdCBwPW5ldyB0O3JldHVybiBwLnJlYWQoZSxuKSxwfTp0LmZyb21KU09OfWZ1bmN0aW9uIGYkbih0LGUscixuKXtyZXR1cm4gMCE9PW4mJkFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoKGU9PmYkbih0LGUscixuLTEpKSk6dChlLHZvaWQgMCxyKX1mdW5jdGlvbiBjJHIodCl7Y29uc3QgZT1zJHEodCkscj1mJG4uYmluZChudWxsLGUpLG49dC5uZGltQXJyYXk/PzA7cmV0dXJuICh0LGUsbyk9PntpZihudWxsPT10KXJldHVybiB0O3Q9cih0LG8sbik7bGV0IGk9bixwPXQ7Zm9yKDtpPjAmJkFycmF5LmlzQXJyYXkocCk7KWktLSxwPXBbMF07aWYodm9pZCAwIT09cClmb3IobGV0IHI9MDtyPGk7cisrKXQ9W3RdO3JldHVybiB0fX1mdW5jdGlvbiBhJGwodCl7Y29uc3QgZT1zJHEodCk7cmV0dXJuICh0LHIsbik9PntpZihudWxsPT10KXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1lKG8sdm9pZCAwLG4pO3ZvaWQgMCE9PXQmJnIucHVzaCh0KTt9cmV0dXJuIHJ9Y29uc3Qgbz1lKHQsdm9pZCAwLG4pO3JldHVybiB2b2lkIDAhPT1vP1tvXTp2b2lkIDB9fWZ1bmN0aW9uIGQkaSh0KXtpZighZSRuKHQpKXJldHVybiAhMTtjb25zdCBlPXQucHJvdG90eXBlLml0ZW1UeXBlO3JldHVybiAhKCFlfHwhZS5UeXBlKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuVHlwZT9tJGYoZS5UeXBlKTpqJDYoZS5UeXBlKSl9ZnVuY3Rpb24gbCRqKHQpe3JldHVybiBcInR5cGVzXCJpbiB0P2okNih0LnR5cGVzKTptJGYodC50eXBlKX1mdW5jdGlvbiBtJGYodCl7cmV0dXJuICFBcnJheS5pc0FycmF5KHQpJiYoISF0JiZ0LnByb3RvdHlwZSYmKFwicmVhZFwiaW4gdC5wcm90b3R5cGV8fFwiZnJvbUpTT05cImluIHR8fGQkaSh0KSkpfWZ1bmN0aW9uIGokNih0KXtmb3IoY29uc3QgZSBpbiB0LnR5cGVNYXApe2lmKCFtJGYodC50eXBlTWFwW2VdKSlyZXR1cm4gITF9cmV0dXJuICEwfWZ1bmN0aW9uIGckYSh0KXtsZXQgZT1udWxsO2NvbnN0IG49dC5lcnJvckNvbnRleHQ/P1widHlwZVwiO3JldHVybiAobyxwLHUpPT57aWYobnVsbD09bylyZXR1cm4gbztjb25zdCBzPXR5cGVvZiBvO2lmKFwib2JqZWN0XCIhPT1zKXJldHVybiB2b2lkIGkkbS5lcnJvcihgRXhwZWN0ZWQgSlNPTiB2YWx1ZSBvZiB0eXBlICdvYmplY3QnIHRvIGRlc2VyaWFsaXplLCBidXQgZ290ICcke3N9J2ApO2V8fChlPXYkNSh0KSk7Y29uc3QgeT10LmtleTtpZihcInN0cmluZ1wiIT10eXBlb2YgeSlyZXR1cm47Y29uc3QgZj1vW3ldLGM9Zj9lW2ZdOnQuZGVmYXVsdEtleVZhbHVlP3QudHlwZU1hcFt0LmRlZmF1bHRLZXlWYWx1ZV06dm9pZCAwO2lmKCFjKXtjb25zdCB0PWBUeXBlICcke2Z8fFwidW5rbm93blwifScgaXMgbm90IHN1cHBvcnRlZGA7cmV0dXJuIHUmJnUubWVzc2FnZXMmJm8mJnUubWVzc2FnZXMucHVzaChuZXcgcyRyKGAke259OnVuc3VwcG9ydGVkYCx0LHtkZWZpbml0aW9uOm8sY29udGV4dDp1fSkpLHZvaWQgaSRtLmVycm9yKHQpfWNvbnN0IGE9bmV3IGM7cmV0dXJuIGEucmVhZChvLHUpLGF9fWZ1bmN0aW9uIHYkNSh0KXtjb25zdCBlPXt9O2Zvcihjb25zdCByIGluIHQudHlwZU1hcCl7Y29uc3Qgbz10LnR5cGVNYXBbcl0saT1yJG0oby5wcm90b3R5cGUpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQua2V5KWNvbnRpbnVlO2NvbnN0IHA9aVt0LmtleV07aWYoIXApY29udGludWU7cC5qc29uPy50eXBlJiZBcnJheS5pc0FycmF5KHAuanNvbi50eXBlKSYmMT09PXAuanNvbi50eXBlLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHAuanNvbi50eXBlWzBdJiYoZVtwLmpzb24udHlwZVswXV09byk7Y29uc3QgdT1wLmpzb24/LndyaXRlO2lmKCF1fHwhdS53cml0ZXIpe2Vbcl09bztjb250aW51ZX1jb25zdCBzPXUudGFyZ2V0LHk9XCJzdHJpbmdcIj09dHlwZW9mIHM/czp0LmtleSxmPXt9O3Uud3JpdGVyKHIsZix5KSxmW3ldJiYoZVtmW3ldXT1vKTt9cmV0dXJuIGV9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlJG0oZSl7aWYoZS5qc29ufHwoZS5qc29uPXt9KSxvJG8oZS5qc29uKSxuJGooZS5qc29uKSxyJGYoZS5qc29uKSxlLmpzb24ub3JpZ2lucylmb3IoY29uc3QgdCBpbiBlLmpzb24ub3JpZ2lucylvJG8oZS5qc29uLm9yaWdpbnNbdF0pLG4kaihlLmpzb24ub3JpZ2luc1t0XSksciRmKGUuanNvbi5vcmlnaW5zW3RdKTtyZXR1cm4gITB9ZnVuY3Rpb24gciRmKGUpe2UubmFtZSYmKGUucmVhZCYmXCJvYmplY3RcIj09dHlwZW9mIGUucmVhZD92b2lkIDA9PT1lLnJlYWQuc291cmNlJiYoZS5yZWFkLnNvdXJjZT1lLm5hbWUpOmUucmVhZD17c291cmNlOmUubmFtZX0sZS53cml0ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUud3JpdGU/dm9pZCAwPT09ZS53cml0ZS50YXJnZXQmJihlLndyaXRlLnRhcmdldD1lLm5hbWUpOmUud3JpdGU9e3RhcmdldDplLm5hbWV9KTt9ZnVuY3Rpb24gbyRvKGUpe1wiYm9vbGVhblwiPT10eXBlb2YgZS5yZWFkP2UucmVhZD17ZW5hYmxlZDplLnJlYWR9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVhZD9lLnJlYWQ9e2VuYWJsZWQ6ITAscmVhZGVyOmUucmVhZH06ZS5yZWFkJiZcIm9iamVjdFwiPT10eXBlb2YgZS5yZWFkJiZ2b2lkIDA9PT1lLnJlYWQuZW5hYmxlZCYmKGUucmVhZC5lbmFibGVkPSEwKTt9ZnVuY3Rpb24gbiRqKGUpe1wiYm9vbGVhblwiPT10eXBlb2YgZS53cml0ZT9lLndyaXRlPXtlbmFibGVkOmUud3JpdGV9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGUud3JpdGU/ZS53cml0ZT17ZW5hYmxlZDohMCx3cml0ZXI6ZS53cml0ZX06ZS53cml0ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUud3JpdGUmJnZvaWQgMD09PWUud3JpdGUuZW5hYmxlZCYmKGUud3JpdGUuZW5hYmxlZD0hMCk7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gaSRsKHIsZSl7aWYoIWUud3JpdGV8fGUud3JpdGUud3JpdGVyfHwhMT09PWUud3JpdGUuZW5hYmxlZCYmIWUud3JpdGUub3ZlcnJpZGVQb2xpY3kpcmV0dXJuO2NvbnN0IHQ9cj8ubmRpbUFycmF5Pz8wO3ImJigxPT09dHx8XCJ0eXBlXCJpbiByJiZlJG4oci50eXBlKSk/ZS53cml0ZS53cml0ZXI9YSRrOnQ+MT9lLndyaXRlLndyaXRlcj1sJGkodCk6ZS50eXBlcz9BcnJheS5pc0FycmF5KGUudHlwZXMpP2Uud3JpdGUud3JpdGVyPWYkbShlLnR5cGVzWzBdKTplLndyaXRlLndyaXRlcj1vJG4oZS50eXBlcyk6ZS53cml0ZS53cml0ZXI9cyRwO31mdW5jdGlvbiBvJG4ocil7cmV0dXJuIChlLHQsbixpKT0+ZT91JG8oZSxyLGkpP3MkcChlLHQsbixpKTp2b2lkIDA6cyRwKGUsdCxuLGkpfWZ1bmN0aW9uIHUkbyh0LG4saSl7Zm9yKGNvbnN0IHIgaW4gbi50eXBlTWFwKWlmKHQgaW5zdGFuY2VvZiBuLnR5cGVNYXBbcl0pcmV0dXJuICEwO2lmKGk/Lm1lc3NhZ2VzKXtjb25zdCBvPW4uZXJyb3JDb250ZXh0Pz9cInR5cGVcIix1PWBWYWx1ZXMgb2YgdHlwZSAnJHsoXCJmdW5jdGlvblwiIT10eXBlb2Ygbi5rZXk/dFtuLmtleV06dC5kZWNsYXJlZENsYXNzKT8/XCJVbmtub3duXCJ9JyBjYW5ub3QgYmUgd3JpdHRlbmA7aSYmaS5tZXNzYWdlcyYmdCYmaS5tZXNzYWdlcy5wdXNoKG5ldyBzJEMoYCR7b306dW5zdXBwb3J0ZWRgLHUse2RlZmluaXRpb246dCxjb250ZXh0Oml9KSkscyRFLmdldExvZ2dlcihcImVzcmkuY29yZS5hY2Nlc3NvclN1cHBvcnQuZXh0ZW5zaW9ucy5zZXJpYWxpemFibGVQcm9wZXJ0eS53cml0ZXJcIikuZXJyb3IodSk7fXJldHVybiAhMX1mdW5jdGlvbiBmJG0ocil7cmV0dXJuIChlLHQsbixpKT0+e2lmKCFlfHwhQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcyRwKGUsdCxuLGkpO3JldHVybiBzJHAoZS5maWx0ZXIoKGU9PnUkbyhlLHIsaSkpKSx0LG4saSl9fWZ1bmN0aW9uIHMkcChyLGUsbixpKXtvJEIobixwJGcocixpKSxlKTt9ZnVuY3Rpb24gcCRnKHIsZSl7cmV0dXJuIHImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIud3JpdGU/ci53cml0ZSh7fSxlKTpyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnRvSlNPTj9yLnRvSlNPTigpOlwibnVtYmVyXCI9PXR5cGVvZiByP3kkYihyKTpyfWZ1bmN0aW9uIHkkYihyKXtyZXR1cm4gcj09PS0xLzA/LU51bWJlci5NQVhfVkFMVUU6cj09PTEvMD9OdW1iZXIuTUFYX1ZBTFVFOmlzTmFOKHIpP251bGw6cn1mdW5jdGlvbiBhJGsocixlLG4saSl7bGV0IG87bnVsbD09PXI/bz1udWxsOnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIubWFwPyhvPXIubWFwKChyPT5wJGcocixpKSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG8udG9BcnJheSYmKG89by50b0FycmF5KCkpKTpvPVtwJGcocixpKV0sbyRCKG4sbyxlKTt9ZnVuY3Rpb24gYyRxKHIsZSx0KXtyZXR1cm4gMCE9PXQmJkFycmF5LmlzQXJyYXkocik/ci5tYXAoKHI9PmMkcShyLGUsdC0xKSkpOnAkZyhyLGUpfWZ1bmN0aW9uIGwkaShyKXtyZXR1cm4gKGUsbixpLG8pPT57bGV0IHU7aWYobnVsbD09PWUpdT1udWxsO2Vsc2Uge3U9YyRxKGUsbyxyKTtsZXQgdD1yLG49dTtmb3IoO3Q+MCYmQXJyYXkuaXNBcnJheShuKTspdC0tLG49blswXTtpZih2b2lkIDAhPT1uKWZvcihsZXQgcj0wO3I8dDtyKyspdT1bdV07fW8kQihpLHUsbik7fX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG8kbShyLGkpe3JldHVybiB5JGEocixcImFueVwiLGk/Lm9yaWdpbil9ZnVuY3Rpb24gcyRvKHIsaSl7cmV0dXJuIHkkYShyLFwicmVhZFwiLGk/Lm9yaWdpbil9ZnVuY3Rpb24gYSRqKHIsaSl7cmV0dXJuIHkkYShyLFwid3JpdGVcIixpPy5vcmlnaW4pfWZ1bmN0aW9uIHkkYShyLGksbil7bGV0IGU9cj8uanNvbjtpZihlPy5vcmlnaW5zJiZuKXtsZXQgcjtyPVwibGluay1jaGFydFwiPT09bj9lLm9yaWdpbnNbbl0mJihcImFueVwiPT09aXx8aSBpbiBlLm9yaWdpbnNbbl0pP2Uub3JpZ2luc1tuXTplLm9yaWdpbnNbXCJ3ZWItbWFwXCJdOmUub3JpZ2luc1tuXSxyJiYoXCJhbnlcIj09PWl8fGkgaW4gcikmJihlPXIpO31yZXR1cm4gZX1mdW5jdGlvbiBwJGYocil7Y29uc3QgaT1mJGwocik7aWYoci5qc29uLm9yaWdpbnMpZm9yKGNvbnN0IGUgaW4gci5qc29uLm9yaWdpbnMpe2NvbnN0IG89ci5qc29uLm9yaWdpbnNbZV0scz1vLnR5cGVzP3UkbihvKTppO3AkaChzLG8sITEpLG8udHlwZXMmJiFvLndyaXRlJiZyLmpzb24ud3JpdGUmJnIuanNvbi53cml0ZS5lbmFibGVkJiYoby53cml0ZT17Li4uci5qc29uLndyaXRlfSksaSRsKHMsbyk7fXAkaChpLHIuanNvbiwhMCksaSRsKGksci5qc29uKTt9ZnVuY3Rpb24gZiRsKHIpe3JldHVybiByLmpzb24udHlwZXM/aiQ1KHIuanNvbik6ci50eXBlP2MkcChyKTpqJDUocil9ZnVuY3Rpb24gdSRuKHIpe3JldHVybiByLnR5cGU/YyRwKHIpOmokNShyKX1mdW5jdGlvbiBjJHAoaSl7aWYoIWkudHlwZSlyZXR1cm47bGV0IG49MCxlPWkudHlwZTtmb3IoO0FycmF5LmlzQXJyYXkoZSkmJiFrJDUoZSk7KWU9ZVswXSxuKys7cmV0dXJuIHt0eXBlOmUsbmRpbUFycmF5Om59fWZ1bmN0aW9uIGokNShyKXtpZighci50eXBlcylyZXR1cm47bGV0IGk9MCxuPXIudHlwZXM7Zm9yKDtBcnJheS5pc0FycmF5KG4pOyluPW5bMF0saSsrO3JldHVybiB7dHlwZXM6bixuZGltQXJyYXk6aX19ZnVuY3Rpb24gbCRoKHIpe2UkbShyKSYmKG4kayhyKSxwJGYocikpO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGkkaz1uZXcgU2V0LG4kaT1uZXcgU2V0O2Z1bmN0aW9uIGEkaSh0KXtyZXR1cm4gbz0+e28ucHJvdG90eXBlLmRlY2xhcmVkQ2xhc3M9dCxsJGcobyk7Y29uc3Qgcz1bXSxhPVtdO2xldCBjPW8ucHJvdG90eXBlO2Zvcig7YzspYy5oYXNPd25Qcm9wZXJ0eShcImluaXRpYWxpemVcIikmJiFpJGsuaGFzKGMuaW5pdGlhbGl6ZSkmJihpJGsuYWRkKGMuaW5pdGlhbGl6ZSkscy5wdXNoKGMuaW5pdGlhbGl6ZSkpLGMuaGFzT3duUHJvcGVydHkoXCJkZXN0cm95XCIpJiYhbiRpLmhhcyhjLmRlc3Ryb3kpJiYobiRpLmFkZChjLmRlc3Ryb3kpLGEucHVzaChjLmRlc3Ryb3kpKSxjPU9iamVjdC5nZXRQcm90b3R5cGVPZihjKTtpJGsuY2xlYXIoKSxuJGkuY2xlYXIoKTtjbGFzcyBwIGV4dGVuZHMgb3tjb25zdHJ1Y3RvciguLi50KXtpZihzdXBlciguLi50KSx0aGlzLmNvbnN0cnVjdG9yPT09cCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5wb3N0c2NyaXB0KXtpZihzLmxlbmd0aCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpbml0aWFsaXplXCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHZhbHVlKCl7Zm9yKGxldCBlPXMubGVuZ3RoLTE7ZT49MDtlLS0pc1tlXS5jYWxsKHRoaXMpO319KSxhLmxlbmd0aCl7bGV0IHQ9ITE7Y29uc3Qgcj10aGlzW28keV07T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkZXN0cm95XCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHZhbHVlKCl7aWYoIXQpe3Q9ITAsci5jYWxsKHRoaXMpO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKWFbZV0uY2FsbCh0aGlzKTt9fX0pO310aGlzLnBvc3RzY3JpcHQoLi4udCk7fX19cmV0dXJuIHAuX19hY2Nlc3Nvck1ldGFkYXRhX189ciRtKG8ucHJvdG90eXBlKSxwLnByb3RvdHlwZS5kZWNsYXJlZENsYXNzPXQscH19ZnVuY3Rpb24gYyRvKGUsdCl7cmV0dXJuIG51bGw9PXQuZ2V0P2Z1bmN0aW9uKCl7Y29uc3QgdD10aGlzLl9fYWNjZXNzb3JfXyxyPXQucHJvcGVydGllc0J5TmFtZS5nZXQoZSk7aWYodm9pZCAwPT09cilyZXR1cm47aSRxKHIub2JzZXJ2ZXJPYmplY3QpO2NvbnN0IHM9dC5zdG9yZTtyZXR1cm4gcy5oYXMoZSk/cy5nZXQoZSk6ci5tZXRhZGF0YS52YWx1ZX06ZnVuY3Rpb24oKXtjb25zdCB0PXRoaXMuX19hY2Nlc3Nvcl9fLHI9dC5wcm9wZXJ0aWVzQnlOYW1lLmdldChlKTtpZih2b2lkIDAhPT1yKXJldHVybiByLmdldENvbXB1dGVkKHQpfX1mdW5jdGlvbiBsJGcoZSl7Y29uc3Qgbz1lLnByb3RvdHlwZSxpPXIkbShvKSxuPXt9O2Zvcihjb25zdCByIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpKXtjb25zdCBlPWlbcl07bCRoKGUpLG5bcl09e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpjJG8ocixlKSxzZXQobyl7Y29uc3Qgcz10aGlzLl9fYWNjZXNzb3JfXztpZih2b2lkIDAhPT1zKXtpZighT2JqZWN0LmlzRnJvemVuKHRoaXMpKXtpZihzLmluaXRpYWxpemVkJiZlLnJlYWRPbmx5KXRocm93IG5ldyBUeXBlRXJyb3IoYFthY2Nlc3Nvcl0gY2Fubm90IGFzc2lnbiB0byByZWFkLW9ubHkgcHJvcGVydHkgJyR7cn0nIG9mICR7dGhpcy5kZWNsYXJlZENsYXNzfWApO2lmKHMubGlmZWN5Y2xlPT09SSQ0LkNPTlNUUlVDVEVEJiZlLmNvbnN0cnVjdE9ubHkpdGhyb3cgbmV3IFR5cGVFcnJvcihgW2FjY2Vzc29yXSBjYW5ub3QgYXNzaWduIHRvIGNvbnN0cnVjdC1vbmx5IHByb3BlcnR5ICcke3J9JyBvZiAke3RoaXMuZGVjbGFyZWRDbGFzc31gKTtzLnNldChyLG8pO319ZWxzZSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxyLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpvfSk7fX07fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUucHJvdG90eXBlLG4pO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciB1JG0scCRlO2Z1bmN0aW9uIGQkaCh0KXtpZihudWxsPT10KXJldHVybiB7dmFsdWU6dH07aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4ge3R5cGU6W3RbMF1dLHZhbHVlOm51bGx9O3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwib2JqZWN0XCI6cmV0dXJuIHQuY29uc3RydWN0b3I/Ll9fYWNjZXNzb3JNZXRhZGF0YV9ffHx0IGluc3RhbmNlb2YgRGF0ZT97dHlwZTp0LmNvbnN0cnVjdG9yLHZhbHVlOnR9OnQ7Y2FzZVwiYm9vbGVhblwiOnJldHVybiB7dHlwZTpCb29sZWFuLHZhbHVlOnR9O2Nhc2VcInN0cmluZ1wiOnJldHVybiB7dHlwZTpTdHJpbmcsdmFsdWU6dH07Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHt0eXBlOk51bWJlcix2YWx1ZTp0fTtjYXNlXCJmdW5jdGlvblwiOnJldHVybiB7dHlwZTp0LHZhbHVlOm51bGx9O2RlZmF1bHQ6cmV0dXJufX1jb25zdCB5JDk9U3ltYm9sKFwiQWNjZXNzb3ItSGFuZGxlc1wiKSxmJGs9U3ltYm9sKFwiQWNjZXNzb3ItSW5pdGlhbGl6ZWRcIik7Y2xhc3MgbSRle3N0YXRpYyBjcmVhdGVTdWJjbGFzcyh0PXt9KXtpZihBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihcIk11bHRpLWluaGVyaXRhbmNlIHVuc3VwcG9ydGVkIHNpbmNlIDQuMTZcIik7Y29uc3R7cHJvcGVydGllczpyLGRlY2xhcmVkQ2xhc3M6ZSxjb25zdHJ1Y3RvcjpzfT10O2RlbGV0ZSB0LmRlY2xhcmVkQ2xhc3MsZGVsZXRlIHQucHJvcGVydGllcyxkZWxldGUgdC5jb25zdHJ1Y3Rvcjtjb25zdCBpPXRoaXM7Y2xhc3MgYyBleHRlbmRzIGl7Y29uc3RydWN0b3IoLi4udCl7c3VwZXIoLi4udCksdGhpcy5pbmhlcml0ZWQ9bnVsbCxzJiZzLmFwcGx5KHRoaXMsdCk7fX1yJG0oYy5wcm90b3R5cGUpO2Zvcihjb25zdCBvIGluIHQpe2NvbnN0IHI9dFtvXTtjLnByb3RvdHlwZVtvXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP2Z1bmN0aW9uKC4uLnQpe2NvbnN0IGU9dGhpcy5pbmhlcml0ZWQ7bGV0IHM7dGhpcy5pbmhlcml0ZWQ9ZnVuY3Rpb24oLi4udCl7aWYoaS5wcm90b3R5cGVbb10pcmV0dXJuIGkucHJvdG90eXBlW29dLmFwcGx5KHRoaXMsdCl9O3RyeXtzPXIuYXBwbHkodGhpcyx0KTt9Y2F0Y2goYyl7dGhyb3cgdGhpcy5pbmhlcml0ZWQ9ZSxjfXJldHVybiB0aGlzLmluaGVyaXRlZD1lLHN9OnRbb107fWZvcihjb25zdCBvIGluIHIpe2NvbnN0IHQ9ZCRoKHJbb10pO3kkZCh0KShjLnByb3RvdHlwZSxvKTt9cmV0dXJuIGEkaShlKShjKX1jb25zdHJ1Y3RvciguLi50KXtpZih0aGlzW3UkbV09bnVsbCx0aGlzW3AkZV09ITEsdGhpcy5jb25zdHJ1Y3Rvcj09PW0kZSl0aHJvdyBuZXcgRXJyb3IoXCJbYWNjZXNzb3JdIGNhbm5vdCBpbnN0YW50aWF0ZSBBY2Nlc3Nvci4gVGhpcyBjYW4gYmUgZml4ZWQgYnkgY3JlYXRpbmcgYSBzdWJjbGFzcyBvZiBBY2Nlc3NvclwiKTtjb25zdCByPW5ldyBtJGoodGhpcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfX2FjY2Vzc29yX19cIix7ZW51bWVyYWJsZTohMSx2YWx1ZTpyfSksdC5sZW5ndGg+MCYmdGhpcy5ub3JtYWxpemVDdG9yQXJncyYmKHIuY3RvckFyZ3M9dGhpcy5ub3JtYWxpemVDdG9yQXJncy5hcHBseSh0aGlzLHQpKSx0JG0oKT8ub25JbnN0YW5jZUNvbnN0cnVjdCh0aGlzKSx2JDQucmVnaXN0ZXIodGhpcyxyLnByb3BlcnRpZXNCeU5hbWUsdGhpcyk7fXBvc3RzY3JpcHQodCl7Y29uc3Qgcj10aGlzLl9fYWNjZXNzb3JfXyxlPXIuY3RvckFyZ3N8fHQ7ci5pbml0aWFsaXplKCksZSYmKHRoaXMuc2V0KGUpLHIuY3RvckFyZ3M9bnVsbCksci5jb25zdHJ1Y3RlZCgpLHRoaXMuaW5pdGlhbGl6ZSgpLHRoaXNbZiRrXT0hMDt9aW5pdGlhbGl6ZSgpe31bbyR5XSgpe3RoaXNbeSQ5XT1sJHModGhpc1t5JDldKTt9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkfHwodiQ0LnVucmVnaXN0ZXIodGhpcyksZyRjKHRoaXMpLHRoaXMuX19hY2Nlc3Nvcl9fLmRlc3Ryb3koKSx0JG0oKT8ub25JbnN0YW5jZURlc3Ryb3kodGhpcykpO31nZXQgY29uc3RydWN0ZWQoKXtyZXR1cm4gdGhpcy5fX2FjY2Vzc29yX18mJnRoaXMuX19hY2Nlc3Nvcl9fLmluaXRpYWxpemVkfHwhMX1nZXQgaW5pdGlhbGl6ZWQoKXtyZXR1cm4gdGhpc1tmJGtdfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fX2FjY2Vzc29yX18mJnRoaXMuX19hY2Nlc3Nvcl9fLmRlc3Ryb3llZHx8ITF9Y29tbWl0UHJvcGVydHkodCl7dGhpcy5nZXQodCk7fWdldCh0KXtyZXR1cm4gbyR3KHRoaXMsdCl9aGFzT3duUHJvcGVydHkodCl7cmV0dXJuIHRoaXMuX19hY2Nlc3Nvcl9fP3RoaXMuX19hY2Nlc3Nvcl9fLmhhcyh0KTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcyx0KX1rZXlzKCl7cmV0dXJuIHRoaXMuX19hY2Nlc3Nvcl9fP3RoaXMuX19hY2Nlc3Nvcl9fLmtleXMoKTpbXX1zZXQodCxyKXtyZXR1cm4gdCRuKHRoaXMsdCxyKSx0aGlzfXdhdGNoKHQscixlKXtyZXR1cm4gVCQzKHRoaXMsdCxyLGUpfW93bih0KXt0aGlzLmFkZEhhbmRsZXModCk7fWFkZEhhbmRsZXMocixlKXtpZih0aGlzLmRlc3Ryb3llZCl7Y29uc3QgdD1BcnJheS5pc0FycmF5KHIpP3I6W3JdO2Zvcihjb25zdCByIG9mIHQpci5yZW1vdmUoKTtyZXR1cm59bGV0IHM9dGhpc1t5JDldO251bGw9PXMmJihzPXRoaXNbeSQ5XT1uZXcgdCRyKSxzLmFkZChyLGUpO31yZW1vdmVIYW5kbGVzKHQpe2NvbnN0IHI9dGhpc1t5JDldO251bGwhPXImJnIucmVtb3ZlKHQpO31yZW1vdmVBbGxIYW5kbGVzKCl7Y29uc3QgdD10aGlzW3kkOV07bnVsbCE9dCYmdC5yZW1vdmVBbGwoKTt9aGFzSGFuZGxlcyh0KXtjb25zdCByPXRoaXNbeSQ5XTtyZXR1cm4gbnVsbCE9ciYmci5oYXModCl9X292ZXJyaWRlKHQscil7dm9pZCAwPT09cj90aGlzLl9fYWNjZXNzb3JfXy5jbGVhck92ZXJyaWRlKHQpOnRoaXMuX19hY2Nlc3Nvcl9fLm92ZXJyaWRlKHQscik7fV9jbGVhck92ZXJyaWRlKHQpe3JldHVybiB0aGlzLl9fYWNjZXNzb3JfXy5jbGVhck92ZXJyaWRlKHQpfV9vdmVycmlkZUlmU29tZSh0LHIpe251bGw9PXI/dGhpcy5fX2FjY2Vzc29yX18uY2xlYXJPdmVycmlkZSh0KTp0aGlzLl9fYWNjZXNzb3JfXy5vdmVycmlkZSh0LHIpO31faXNPdmVycmlkZGVuKHQpe3JldHVybiB0aGlzLl9fYWNjZXNzb3JfXy5pc092ZXJyaWRkZW4odCl9bm90aWZ5Q2hhbmdlKHQpe3RoaXMuX19hY2Nlc3Nvcl9fLm5vdGlmeUNoYW5nZSh0KTt9X2dldCh0KXtyZXR1cm4gdGhpcy5fX2FjY2Vzc29yX18uaW50ZXJuYWxHZXQodCl9X3NldCh0LHIpe3JldHVybiB0aGlzLl9fYWNjZXNzb3JfXy5pbnRlcm5hbFNldCh0LHIpLHRoaXN9fXUkbT15JDkscCRlPWYkaztjb25zdCB2JDQ9bmV3IEZpbmFsaXphdGlvblJlZ2lzdHJ5KCh0PT57Zm9yKGNvbnN0IHIgb2YgdC52YWx1ZXMoKSlyLmRlc3Ryb3koKTt9KSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBzJG57Y29uc3RydWN0b3IoKXt0aGlzLl92YWx1ZXM9bmV3IE1hcCx0aGlzLm11bHRpcGxlT3JpZ2luc1N1cHBvcnRlZD0hMTt9Y2xvbmUoZSl7Y29uc3QgdD1uZXcgcyRuO3JldHVybiB0aGlzLl92YWx1ZXMuZm9yRWFjaCgoKHMscik9PntlJiZlLmhhcyhyKXx8dC5zZXQocixhJHYocy52YWx1ZSkscy5vcmlnaW4pO30pKSx0fWdldChpLGUpe2U9dGhpcy5fbm9ybWFsaXplT3JpZ2luKGUpO2NvbnN0IHM9dGhpcy5fdmFsdWVzLmdldChpKTtyZXR1cm4gbnVsbD09ZXx8cz8ub3JpZ2luPT09ZT9zPy52YWx1ZTp2b2lkIDB9b3JpZ2luT2YoaSl7cmV0dXJuIHRoaXMuX3ZhbHVlcy5nZXQoaSk/Lm9yaWdpbj8/ciRrLlVTRVJ9a2V5cyhpKXtpPXRoaXMuX25vcm1hbGl6ZU9yaWdpbihpKTtjb25zdCBlPVsuLi50aGlzLl92YWx1ZXMua2V5cygpXTtyZXR1cm4gbnVsbD09aT9lOmUuZmlsdGVyKChlPT50aGlzLl92YWx1ZXMuZ2V0KGUpPy5vcmlnaW49PT1pKSl9c2V0KGkscyxyKXtpZigocj10aGlzLl9ub3JtYWxpemVPcmlnaW4ocikpPT09ciRrLkRFRkFVTFRTKXtjb25zdCBlPXRoaXMuX3ZhbHVlcy5nZXQoaSk7aWYoZSYmbnVsbCE9ZS5vcmlnaW4mJmUub3JpZ2luPnIpcmV0dXJufXRoaXMuX3ZhbHVlcy5zZXQoaSxuZXcgdCRlKHMscikpO31kZWxldGUoaSxlKXtudWxsIT0oZT10aGlzLl9ub3JtYWxpemVPcmlnaW4oZSkpJiZ0aGlzLl92YWx1ZXMuZ2V0KGkpPy5vcmlnaW4hPT1lfHx0aGlzLl92YWx1ZXMuZGVsZXRlKGkpO31oYXMoaSxlKXtyZXR1cm4gbnVsbCE9KGU9dGhpcy5fbm9ybWFsaXplT3JpZ2luKGUpKT90aGlzLl92YWx1ZXMuZ2V0KGkpPy5vcmlnaW49PT1lOnRoaXMuX3ZhbHVlcy5oYXMoaSl9Zm9yRWFjaChpKXt0aGlzLl92YWx1ZXMuZm9yRWFjaCgoKHt2YWx1ZTplfSxzKT0+aShlLHMpKSk7fV9ub3JtYWxpemVPcmlnaW4oaSl7aWYobnVsbCE9aSlyZXR1cm4gaT09PXIkay5ERUZBVUxUUz9pOnIkay5VU0VSfX1jbGFzcyB0JGV7Y29uc3RydWN0b3IoaSxlKXt0aGlzLnZhbHVlPWksdGhpcy5vcmlnaW49ZTt9fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZSRsKGUscixuKXtyLmtleXMoKS5mb3JFYWNoKChlPT57bi5zZXQoZSxyLmdldChlKSxyJGsuREVGQVVMVFMpO30pKTtjb25zdCBvPWUubWV0YWRhdGFzO09iamVjdC5rZXlzKG8pLmZvckVhY2goKHI9PntlLmludGVybmFsR2V0KHIpJiZuLnNldChyLGUuaW50ZXJuYWxHZXQociksciRrLkRFRkFVTFRTKTt9KSk7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gcyRtKGUscixvKXtpZighZXx8IWUucmVhZHx8ITE9PT1lLnJlYWQuZW5hYmxlZHx8IWUucmVhZC5zb3VyY2UpcmV0dXJuICExO2NvbnN0IG49ZS5yZWFkLnNvdXJjZTtpZihcInN0cmluZ1wiPT10eXBlb2Ygbil7aWYobj09PXIpcmV0dXJuICEwO2lmKG4uaW5jbHVkZXMoXCIuXCIpJiYwPT09bi5pbmRleE9mKHIpJiZzJHoobixvKSlyZXR1cm4gITB9ZWxzZSBmb3IoY29uc3QgcyBvZiBuKXtpZihzPT09cilyZXR1cm4gITA7aWYocy5pbmNsdWRlcyhcIi5cIikmJjA9PT1zLmluZGV4T2YocikmJnMkeihzLG8pKXJldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24gaSRqKGUpe3JldHVybiBlJiYoIWUucmVhZHx8ITEhPT1lLnJlYWQuZW5hYmxlZCYmIWUucmVhZC5zb3VyY2UpfWZ1bmN0aW9uIGYkaihlLHQscixuLGYpe2xldCBhPXMkbyh0W3JdLGYpO2kkaihhKSYmKGVbcl09ITApO2Zvcihjb25zdCBpIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpKWE9cyRvKHRbaV0sZikscyRtKGEscixuKSYmKGVbaV09ITApO31mdW5jdGlvbiBhJGgoZSx0LHIsbyl7Y29uc3Qgcz1yLm1ldGFkYXRhcyxpPW8kbShzW3RdLG8pLGY9aT8uZGVmYXVsdDtpZih2b2lkIDA9PT1mKXJldHVybjtjb25zdCBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIGY/Zi5jYWxsKGUsdCxvKTpmO3ZvaWQgMCE9PWEmJnIuc2V0KHQsYSk7fWNvbnN0IGMkbj17b3JpZ2luOlwic2VydmljZVwifTtmdW5jdGlvbiB1JGwodCxuLHM9YyRuKXtpZighbnx8XCJvYmplY3RcIiE9dHlwZW9mIG4pcmV0dXJuO2NvbnN0IGk9ZSR2KHQpLHU9aS5tZXRhZGF0YXMsZD17fTtmb3IoY29uc3QgZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKSlmJGooZCx1LGUsbixzKTtpLnNldERlZmF1bHRPcmlnaW4ocy5vcmlnaW4pO2Zvcihjb25zdCByIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGQpKXtjb25zdCBmPXMkbyh1W3JdLHMpLnJlYWQsYT1mJiZmLnNvdXJjZTtsZXQgYztjPWEmJlwic3RyaW5nXCI9PXR5cGVvZiBhP3UkdihuLGEpOm5bcl0sZiYmZi5yZWFkZXImJihjPWYucmVhZGVyLmNhbGwodCxjLG4scykpLHZvaWQgMCE9PWMmJmkuc2V0KHIsYyk7fWlmKCFzfHwhcy5pZ25vcmVEZWZhdWx0cyl7aS5zZXREZWZhdWx0T3JpZ2luKFwiZGVmYXVsdHNcIik7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModSkpZFtlXXx8YSRoKHQsZSxpLHMpO31pLnNldERlZmF1bHRPcmlnaW4oXCJ1c2VyXCIpO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGEkZyhyLGUsdCxpLG8pe2NvbnN0IG49e307cmV0dXJuIGUud3JpdGU/LndyaXRlcj8uY2FsbChyLGksbix0LG8pLG59ZnVuY3Rpb24gZiRpKHIsaSxzLHUsbCxhKXtpZighdXx8IXUud3JpdGUpcmV0dXJuICExO2NvbnN0IGY9ci5nZXQocyk7aWYoIWwmJnUud3JpdGUub3ZlcnJpZGVQb2xpY3kpe2NvbnN0IGU9dS53cml0ZS5vdmVycmlkZVBvbGljeS5jYWxsKHIsZixzLGE/P3ZvaWQgMCk7dm9pZCAwIT09ZSYmKGw9ZSk7fWlmKGx8fChsPXUud3JpdGUpLCFsfHwhMT09PWwuZW5hYmxlZClyZXR1cm4gITE7aWYoKG51bGw9PT1mJiYhbC5hbGxvd051bGwmJiFsLndyaXRlckVuc3VyZXNOb25OdWxsfHx2b2lkIDA9PT1mKSYmbC5pc1JlcXVpcmVkKXtjb25zdCBpPW5ldyBzJEMoXCJ3ZWItZG9jdW1lbnQtd3JpdGU6cHJvcGVydHktcmVxdWlyZWRcIixgTWlzc2luZyB2YWx1ZSBmb3IgcmVxdWlyZWQgcHJvcGVydHkgJyR7c30nIG9uICcke3IuZGVjbGFyZWRDbGFzc30nYCx7cHJvcGVydHlOYW1lOnMsdGFyZ2V0OnJ9KTtyZXR1cm4gaSYmYSYmYS5tZXNzYWdlcz9hLm1lc3NhZ2VzLnB1c2goaSk6aSYmIWEmJnMkRS5nZXRMb2dnZXIoXCJlc3JpLmNvcmUuYWNjZXNzb3JTdXBwb3J0LndyaXRlXCIpLmVycm9yKGkubmFtZSxpLm1lc3NhZ2UpLCExfWlmKHZvaWQgMD09PWYpcmV0dXJuICExO2lmKG51bGw9PT1mJiYhbC5hbGxvd051bGwmJiFsLndyaXRlckVuc3VyZXNOb25OdWxsKXJldHVybiAhMTtpZighbC5hbHdheXNXcml0ZURlZmF1bHRzJiYoIWkuc3RvcmUubXVsdGlwbGVPcmlnaW5zU3VwcG9ydGVkfHxpLnN0b3JlLm9yaWdpbk9mKHMpPT09ciRrLkRFRkFVTFRTKSYmcCRkKHIscyxhLHUsZikpcmV0dXJuICExO2lmKCFsLmlnbm9yZU9yaWdpbiYmYSYmYS5vcmlnaW4mJmkuc3RvcmUubXVsdGlwbGVPcmlnaW5zU3VwcG9ydGVkKXtpZihpLnN0b3JlLm9yaWdpbk9mKHMpPG4kcChhLm9yaWdpbikpcmV0dXJuICExfXJldHVybiAhMH1mdW5jdGlvbiBwJGQoZSx0LGksbyxuKXtjb25zdCBzPW8uZGVmYXVsdDtpZih2b2lkIDA9PT1zKXJldHVybiAhMTtpZihudWxsIT1vLmRlZmF1bHRFcXVhbHMpcmV0dXJuIG8uZGVmYXVsdEVxdWFscyhuKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzKXtpZihBcnJheS5pc0FycmF5KG4pKXtjb25zdCBvPXMuY2FsbChlLHQsaT8/dm9pZCAwKTtyZXR1cm4gcyRHKG8sbil9cmV0dXJuICExfXJldHVybiBzPT09bn1mdW5jdGlvbiBnJDkocixlLHQpe2lmKHImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIudG9KU09OJiYoIXIudG9KU09OLmlzRGVmYXVsdFRvSlNPTnx8IXIud3JpdGUpKXJldHVybiBvJHgoZSxyLnRvSlNPTih0KSk7Y29uc3Qgbz1lJHYociksbj1vLm1ldGFkYXRhcztmb3IoY29uc3QgcyBpbiBuKXtjb25zdCBwPWEkaihuW3NdLHQpO2lmKCFmJGkocixvLHMscCx2b2lkIDAsdCkpY29udGludWU7Y29uc3QgYz1yLmdldChzKSxnPWEkZyhyLHAscC53cml0ZSYmXCJzdHJpbmdcIj09dHlwZW9mIHAud3JpdGUudGFyZ2V0P3Aud3JpdGUudGFyZ2V0OnMsYyx0KTtPYmplY3Qua2V5cyhnKS5sZW5ndGg+MCYmKGU9byR4KGUsZyksdD8ucmVzb3VyY2VzPy5wZW5kaW5nT3BlcmF0aW9ucz8ubGVuZ3RoJiZ0LnJlc291cmNlcy5wZW5kaW5nT3BlcmF0aW9ucy5wdXNoKFByb21pc2UuYWxsKHQucmVzb3VyY2VzLnBlbmRpbmdPcGVyYXRpb25zKS50aGVuKCgoKT0+byR4KGUsZywoKCk9PlwicmVwbGFjZS1hcnJheXNcIikpKSkpLHQmJnQud3JpdHRlblByb3BlcnRpZXMmJnQud3JpdHRlblByb3BlcnRpZXMucHVzaCh7dGFyZ2V0OnIscHJvcE5hbWU6cyxvbGRPcmlnaW46YyR2KG8uc3RvcmUub3JpZ2luT2YocykpLG5ld09yaWdpbjp0Lm9yaWdpbn0pKTt9cmV0dXJuIGV9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB1JGs9dD0+e2xldCB1PWNsYXNzIGV4dGVuZHMgdHtjb25zdHJ1Y3RvciguLi5yKXtzdXBlciguLi5yKTtjb25zdCB0PXAkbShlJHYodGhpcykpLGk9dC5zdG9yZSxwPW5ldyBzJG47dC5zdG9yZT1wLGUkbCh0LGkscCk7fXJlYWQocix0KXt1JGwodGhpcyxyLHQpO313cml0ZShyLHQpe3JldHVybiBnJDkodGhpcyxyPz97fSx0KX10b0pTT04ocil7cmV0dXJuIHRoaXMud3JpdGUoe30scil9c3RhdGljIGZyb21KU09OKHIsdCl7cmV0dXJuIG4kaC5jYWxsKHRoaXMscix0KX19O3JldHVybiB1PWUkeChbYSRpKFwiZXNyaS5jb3JlLkpTT05TdXBwb3J0XCIpXSx1KSx1LnByb3RvdHlwZS50b0pTT04uaXNEZWZhdWx0VG9KU09OPSEwLHV9O2Z1bmN0aW9uIG4kaChyLHQpe2lmKCFyKXJldHVybiBudWxsO2lmKHIuZGVjbGFyZWRDbGFzcyl0aHJvdyBuZXcgRXJyb3IoXCJKU09OIG9iamVjdCBpcyBhbHJlYWR5IGh5ZHJhdGVkXCIpO2NvbnN0IHM9bmV3IHRoaXM7cmV0dXJuIHMucmVhZChyLHQpLHN9bGV0IGwkZj1jbGFzcyBleHRlbmRzKHUkayhtJGUpKXt9O2wkZj1lJHgoW2EkaShcImVzcmkuY29yZS5KU09OU3VwcG9ydFwiKV0sbCRmKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG8kbChvLGUsdCl7bGV0IGEsYztyZXR1cm4gdm9pZCAwPT09ZXx8QXJyYXkuaXNBcnJheShlKT8oYz1vLHQ9ZSxhPVt2b2lkIDBdKTooYz1lLGE9QXJyYXkuaXNBcnJheShvKT9vOltvXSksKG8sZSk9Pntjb25zdCBkPW8uY29uc3RydWN0b3IucHJvdG90eXBlO2EuZm9yRWFjaCgoYT0+e2NvbnN0IHM9ZCRqKG8sYSxjKTtzLnJlYWQmJlwib2JqZWN0XCI9PXR5cGVvZiBzLnJlYWR8fChzLnJlYWQ9e30pLHMucmVhZC5yZWFkZXI9ZFtlXSx0JiYocy5yZWFkLnNvdXJjZT0ocy5yZWFkLnNvdXJjZXx8W10pLmNvbmNhdCh0KSk7fSkpO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBzJGx7Y29uc3RydWN0b3IocyxvPXtpZ25vcmVVbmtub3duOiExLHVzZU51bWVyaWNLZXlzOiExfSl7dGhpcy5fanNvblRvQVBJPXMsdGhpcy5fb3B0aW9ucz1vLHRoaXMuYXBpVmFsdWVzPVtdLHRoaXMuanNvblZhbHVlcz1bXSx0aGlzLl9hcGlUb0pTT049dGhpcy5faW52ZXJ0TWFwKHMpLHRoaXMuYXBpVmFsdWVzPXRoaXMuX2dldEtleXNTb3J0ZWQodGhpcy5fYXBpVG9KU09OKSx0aGlzLmpzb25WYWx1ZXM9dGhpcy5fZ2V0S2V5c1NvcnRlZCh0aGlzLl9qc29uVG9BUEkpLHRoaXMucmVhZD10PT50aGlzLmZyb21KU09OKHQpLHRoaXMud3JpdGU9KHMsbyxpKT0+e2NvbnN0IG49dGhpcy50b0pTT04ocyk7dm9pZCAwIT09biYmbyRCKGksbixvKTt9LHRoaXMud3JpdGUuaXNKU09OTWFwV3JpdGVyPSEwO310b0pTT04odCl7aWYobnVsbD09dClyZXR1cm4gbnVsbDtpZih0aGlzLl9hcGlUb0pTT04uaGFzT3duUHJvcGVydHkodCkpe2NvbnN0IHM9dGhpcy5fYXBpVG9KU09OW3RdO3JldHVybiB0aGlzLl9vcHRpb25zLnVzZU51bWVyaWNLZXlzPytzOnN9cmV0dXJuIHRoaXMuX29wdGlvbnMuaWdub3JlVW5rbm93bj92b2lkIDA6dH1mcm9tSlNPTih0KXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5fanNvblRvQVBJLmhhc093blByb3BlcnR5KHQpP3RoaXMuX2pzb25Ub0FQSVt0XTp0aGlzLl9vcHRpb25zLmlnbm9yZVVua25vd24/dm9pZCAwOnR9X2ludmVydE1hcCh0KXtjb25zdCBzPXt9O2Zvcihjb25zdCBvIGluIHQpc1t0W29dXT1vO3JldHVybiBzfV9nZXRLZXlzU29ydGVkKHQpe2NvbnN0IHM9W107Zm9yKGNvbnN0IG8gaW4gdClzLnB1c2gobyk7cmV0dXJuIHMuc29ydCgpLHN9fWZ1bmN0aW9uIG8kaygpe3JldHVybiBmdW5jdGlvbih0LG8pe3JldHVybiBuZXcgcyRsKHQse2lnbm9yZVVua25vd246ITAsLi4ub30pfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIGkkaXtjb25zdHJ1Y3RvcihpLHMsdCxlKXt0aGlzLnNlbWlNYWpvckF4aXM9aSx0aGlzLmZsYXR0ZW5pbmc9cyx0aGlzLm91dGVyQXRtb3NwaGVyZVJpbVdpZHRoPXQ7Y29uc3QgaD0xLXRoaXMuZmxhdHRlbmluZzt0aGlzLnNlbWlNaW5vckF4aXM9dGhpcy5zZW1pTWFqb3JBeGlzKmgsdGhpcy5oYWxmU2VtaU1ham9yQXhpcz10aGlzLnNlbWlNYWpvckF4aXMvMix0aGlzLmhhbGZDaXJjdW1mZXJlbmNlPU1hdGguUEkqdGhpcy5zZW1pTWFqb3JBeGlzLHRoaXMubWV0ZXJzUGVyRGVncmVlPXRoaXMuaGFsZkNpcmN1bWZlcmVuY2UvMTgwLHRoaXMuaW52ZXJzZUZsYXR0ZW5pbmc9MS8oMS10aGlzLmZsYXR0ZW5pbmcpLTEsdGhpcy5lY2NlbnRyaWNpdHlTcXVhcmVkPWV8fDIqdGhpcy5mbGF0dGVuaW5nLXRoaXMuZmxhdHRlbmluZyp0aGlzLmZsYXR0ZW5pbmcsdGhpcy5tZWFuUmFkaXVzU2VtaUF4ZXM9KDIqdGhpcy5zZW1pTWFqb3JBeGlzK3RoaXMuc2VtaU1pbm9yQXhpcykvMzt9Z2V0IHJhZGl1cygpe3JldHVybiB0aGlzLnNlbWlNYWpvckF4aXN9fWNvbnN0IHMkaz1uZXcgaSRpKDYzNzgxMzcsMS8yOTguMjU3MjIzNTYzLDNlNSwuMDA2Njk0Mzc5OTkwMTM3Nzk5KSx0JGQ9bmV3IGkkaSgzMzk2MTkwLDEvMTY5Ljg5NDQ0NzIyMzYxMTgsMjNlNCksZSRrPW5ldyBpJGkoMTczNzQwMCwwLDApO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIFMkNTshZnVuY3Rpb24oUyl7U1tTLkNHQ1MyMDAwPTQ0OTBdPVwiQ0dDUzIwMDBcIixTW1MuR0NTTUFSUzIwMDA9MTA0OTcxXT1cIkdDU01BUlMyMDAwXCIsU1tTLkdDU01BUlMyMDAwX1NQSEVSRT0xMDQ5MDVdPVwiR0NTTUFSUzIwMDBfU1BIRVJFXCIsU1tTLkdDU01PT04yMDAwPTEwNDkwM109XCJHQ1NNT09OMjAwMFwiO30oUyQ1fHwoUyQ1PXt9KSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgbyRqO2NvbnN0IHIkZT17dmFsdWVzOlsxLC4zMDQ4LC4zMDQ4MDA2MDk2MDEyMTkyLC4zMDQ3OTcyNjU0LC45MTQzOTE3OTYyLC4yMDExNjYxOTUxNjQsLjkxNDM5ODQxNDYxNjAyODcsLjMwNDc5OTQ3MTUzODY3NjIsMjAuMTE2NzY1MTIxNTUyNjMsMjAuMTE2NzgyNDk0Mzc1ODcsLjkxNDM5ODUzMDc0NDQ0MDgsLjkxNDM5NTIzLC4zMDQ3OTk3MTAxODE1MDg4LDIwLjExNjgsMjAuMTE2NzU2LDVlNCwxNWU0XSx1bml0czpbXCJNZXRlclwiLFwiRm9vdFwiLFwiRm9vdF9VU1wiLFwiRm9vdF9DbGFya2VcIixcIllhcmRfQ2xhcmtlXCIsXCJMaW5rX0NsYXJrZVwiLFwiWWFyZF9TZWFyc1wiLFwiRm9vdF9TZWFyc1wiLFwiQ2hhaW5fU2VhcnNcIixcIkNoYWluX0Jlbm9pdF8xODk1X0JcIixcIllhcmRfSW5kaWFuXCIsXCJZYXJkX0luZGlhbl8xOTM3XCIsXCJGb290X0dvbGRfQ29hc3RcIixcIkNoYWluXCIsXCJDaGFpbl9TZWFyc18xOTIyX1RydW5jYXRlZFwiLFwiNTBfS2lsb21ldGVyc1wiLFwiMTUwX0tpbG9tZXRlcnNcIl0sMjA2Njo1LDIxMzY6MTIsMjE1NToyLDIxNTc6MCwyMTU4OjAsMjE1OToxMiwyMTYwOjEyLDIyMDQ6MiwyMjE5OjAsMjIyMDowLDIyNTQ6MiwyMjU1OjIsMjI1NjoxLDIyNjU6MSwyMjY2OjEsMjI2NzoyLDIyNjg6MiwyMjY5OjEsMjI3MDoxLDIyNzE6MiwyMjcyOjIsMjI3MzoxLDIyOTQ6MCwyMjk1OjAsMjMxNDozLDI4OTk6MiwyOTAwOjIsMjkwMToxLDI5MDk6MSwyOTEwOjEsMjkxMToyLDI5MTI6MiwyOTEzOjEsMjkxNDoxLDI5OTI6MSwyOTkzOjAsMjk5NDoxLDMwODA6MSwzMDg5OjIsMzA5MDowLDMwOTE6MiwzMTAyOjIsMzE0MTowLDMxNDI6MCwzMTY3OjE0LDMzNTk6MiwzMzYwOjAsMzM2MToxLDMzNjI6MCwzMzYzOjIsMzM2NDowLDMzNjU6MiwzMzY2OjMsMzQwNDoyLDM0MDU6MCwzNDA2OjAsMzQwNzozLDM0Mzk6MCwzNDQwOjAsMzQ3OToxLDM0ODA6MCwzNDgxOjEsMzQ4MjowLDM0ODM6MSwzNDg0OjAsMzQ4NToyLDM0ODY6MCwzNDg3OjIsMzQ4ODowLDM0ODk6MCwzNDkwOjIsMzQ5MTowLDM0OTI6MiwzNDkzOjAsMzQ5NDoyLDM0OTU6MCwzNDk2OjIsMzQ5NzowLDM0OTg6MiwzNDk5OjAsMzUwMDoyLDM1MDE6MCwzNTAyOjIsMzUwMzowLDM1MDQ6MiwzNTA1OjAsMzUwNjoyLDM1MDc6MCwzNTA4OjIsMzUwOTowLDM1MTA6MiwzNTExOjAsMzUxMjoyLDM1MTM6MCwzNTE0OjAsMzUxNToyLDM1MTY6MCwzNTE3OjIsMzUxODowLDM1MTk6MiwzNTIwOjAsMzUyMToyLDM1MjI6MCwzNTIzOjIsMzUyNDowLDM1MjU6MiwzNTI2OjAsMzUyNzoyLDM1Mjg6MCwzNTI5OjIsMzUzMDowLDM1MzE6MiwzNTMyOjAsMzUzMzoyLDM1MzQ6MCwzNTM1OjIsMzUzNjowLDM1Mzc6MiwzNTM4OjAsMzUzOToyLDM1NDA6MCwzNTQxOjIsMzU0MjowLDM1NDM6MiwzNTQ0OjAsMzU0NToyLDM1NDY6MCwzNTQ3OjIsMzU0ODowLDM1NDk6MiwzNTUwOjAsMzU1MToyLDM1NTI6MCwzNTUzOjIsMzU4MjoyLDM1ODM6MCwzNTg0OjIsMzU4NTowLDM1ODY6MiwzNTg3OjAsMzU4ODoxLDM1ODk6MCwzNTkwOjEsMzU5MTowLDM1OTI6MCwzNTkzOjEsMzU5ODoyLDM1OTk6MCwzNjAwOjIsMzYwNToxLDM2MDY6MCwzNjA3OjAsMzYwODoyLDM2MDk6MCwzNjEwOjIsMzYxMTowLDM2MTI6MiwzNjEzOjAsMzYxNDoyLDM2MTU6MCwzNjE2OjIsMzYxNzowLDM2MTg6MiwzNjE5OjAsMzYyMDoyLDM2MjE6MCwzNjIyOjIsMzYyMzowLDM2MjQ6MiwzNjI1OjAsMzYyNjoyLDM2Mjc6MCwzNjI4OjIsMzYyOTowLDM2MzA6MiwzNjMxOjAsMzYzMjoyLDM2MzM6MCwzNjM0OjEsMzYzNTowLDM2MzY6MSwzNjQwOjIsMzY0MTowLDM2NDI6MiwzNjQzOjAsMzY0NDoxLDM2NDU6MCwzNjQ2OjEsMzY0NzowLDM2NDg6MSwzNjQ5OjAsMzY1MDoyLDM2NTE6MCwzNjUyOjIsMzY1MzowLDM2NTQ6MiwzNjU1OjAsMzY1NjoxLDM2NTc6MCwzNjU4OjIsMzY1OTowLDM2NjA6MiwzNjYxOjAsMzY2MjoyLDM2NjM6MCwzNjY0OjIsMzY2ODoyLDM2Njk6MCwzNjcwOjIsMzY3MTowLDM2NzI6MiwzNjczOjAsMzY3NDoyLDM2NzU6MCwzNjc2OjEsMzY3NzoyLDM2Nzg6MCwzNjc5OjEsMzY4MDoyLDM2ODE6MCwzNjgyOjEsMzY4MzoyLDM2ODQ6MCwzNjg1OjAsMzY4NjoyLDM2ODc6MCwzNjg4OjIsMzY4OTowLDM2OTA6MiwzNjkxOjAsMzY5MjoyLDM2OTY6MiwzNjk3OjAsMzY5ODoyLDM2OTk6MCwzNzAwOjIsMzc5MzowLDM3OTQ6MCwzODEyOjAsMzg1NDowLDM4NTc6MCwzOTIwOjAsMzk3ODowLDM5Nzk6MCwzOTkxOjIsMzk5MjoyLDQwMjY6MCw0MDM3OjAsNDAzODowLDQwNzE6MCw0MDgyOjAsNDA4MzowLDQwODc6MCw0MDg4OjAsNDIxNzoyLDQ0MTQ6MCw0NDE1OjAsNDQxNzowLDQ0MzQ6MCw0NDM3OjAsNDQzODoyLDQ0Mzk6Miw0NDYyOjAsNDQ2NzowLDQ0NzE6MCw0NDc0OjAsNDU1OTowLDQ2NDc6MCw0ODIyOjAsNDgyNjowLDQ4Mzk6MCw1MDE4OjAsNTA0MTowLDUwNDI6MCw1MDQ4OjAsNTE2NzowLDUxNjg6MCw1MjIxOjAsNTIyMzowLDUyMzQ6MCw1MjM1OjAsNTI0MzowLDUyNDc6MCw1MjY2OjAsNTMxNjowLDUzMjA6MCw1MzIxOjAsNTMyNTowLDUzMzc6MCw1MzYxOjAsNTM2MjowLDUzNjc6MCw1MzgyOjAsNTM4MzowLDUzOTY6MCw1NDU2OjAsNTQ1NzowLDU0Njk6MCw1NDcyOjQsNTQ5MDowLDU1MTM6MCw1NTE0OjAsNTUyMzowLDU1NTk6MCw1NTg4OjEsNTU4OTozLDU1OTY6MCw1NjI3OjAsNTYyOTowLDU2NDE6MCw1NjQzOjAsNTY0NDowLDU2NDY6Miw1NjU0OjIsNTY1NToyLDU2NTk6MCw1NzAwOjAsNTgyNTowLDU4MzY6MCw1ODM3OjAsNTgzOTowLDU4NDI6MCw1ODQ0OjAsNTg1ODowLDU4Nzk6MCw1ODgwOjAsNTg4NzowLDU4OTA6MCw2MTI4OjEsNjEyOToxLDYxNDE6MSw2MjA0OjAsNjIxMDowLDYyMTE6MCw2MzA3OjAsNjMxMjowLDYzMTY6MCw2MzYyOjAsNjM5MToxLDY0MDU6MSw2NDA2OjAsNjQwNzoxLDY0MDg6MCw2NDA5OjEsNjQxMDowLDY0MTE6Miw2NDEyOjAsNjQxMzoyLDY0MTQ6MCw2NDE1OjAsNjQxNjoyLDY0MTc6MCw2NDE4OjIsNjQxOTowLDY0MjA6Miw2NDIxOjAsNjQyMjoyLDY0MjM6MCw2NDI0OjIsNjQyNTowLDY0MjY6Miw2NDI3OjAsNjQyODoyLDY0Mjk6MCw2NDMwOjIsNjQzMTowLDY0MzI6Miw2NDMzOjAsNjQzNDoyLDY0MzU6MCw2NDM2OjIsNjQzNzowLDY0Mzg6Miw2NDM5OjAsNjQ0MDowLDY0NDE6Miw2NDQyOjAsNjQ0MzoyLDY0NDQ6MCw2NDQ1OjIsNjQ0NjowLDY0NDc6Miw2NDQ4OjAsNjQ0OToyLDY0NTA6MCw2NDUxOjIsNjQ1MjowLDY0NTM6Miw2NDU0OjAsNjQ1NToyLDY0NTY6MCw2NDU3OjIsNjQ1ODowLDY0NTk6Miw2NDYwOjAsNjQ2MToyLDY0NjI6MCw2NDYzOjIsNjQ2NDowLDY0NjU6Miw2NDY2OjAsNjQ2NzoyLDY0Njg6MCw2NDY5OjIsNjQ3MDowLDY0NzE6Miw2NDcyOjAsNjQ3MzoyLDY0NzQ6MCw2NDc1OjIsNjQ3NjowLDY0Nzc6Miw2NDc4OjAsNjQ3OToyLDY0ODQ6Miw2NDg1OjAsNjQ4NjoyLDY0ODc6MCw2NDg4OjIsNjQ4OTowLDY0OTA6Miw2NDkxOjAsNjQ5MjoyLDY0OTM6MCw2NDk0OjEsNjQ5NTowLDY0OTY6MSw2NDk3OjAsNjQ5ODowLDY0OTk6MSw2NTAwOjAsNjUwMToyLDY1MDI6MCw2NTAzOjIsNjUwNDowLDY1MDU6Miw2NTA2OjAsNjUwNzoyLDY1MDg6MCw2NTA5OjAsNjUxMDoyLDY1MTU6MSw2NTE2OjAsNjUxODowLDY1MTk6Miw2NTIwOjAsNjUyMToyLDY1MjI6MCw2NTIzOjIsNjUyNDowLDY1MjU6Miw2NTI2OjAsNjUyNzoyLDY1Mjg6MCw2NTI5OjIsNjUzMDowLDY1MzE6Miw2NTMyOjAsNjUzMzoyLDY1MzQ6MCw2NTM1OjIsNjUzNjowLDY1Mzc6Miw2NTM4OjAsNjUzOToyLDY1NDA6MCw2NTQxOjIsNjU0MjowLDY1NDM6Miw2NTQ0OjAsNjU0NToxLDY1NDY6MCw2NTQ3OjEsNjU0ODowLDY1NDk6Miw2NTUwOjAsNjU1MToyLDY1NTI6MCw2NTUzOjIsNjU1NDowLDY1NTU6Miw2NTU2OjAsNjU1NzoxLDY1NTg6MCw2NTU5OjEsNjU2MDowLDY1NjE6MSw2NTYyOjAsNjU2MzoyLDY1NjQ6MCw2NTY1OjIsNjU2NjowLDY1Njc6MCw2NTY4OjIsNjU2OTowLDY1NzA6MSw2NTcxOjAsNjU3MjoyLDY1NzM6MCw2NTc0OjIsNjU3NTowLDY1NzY6Miw2NTc3OjAsNjU3ODoyLDY1ODI6Miw2NTgzOjAsNjU4NDoyLDY1ODU6MCw2NTg2OjIsNjU4NzowLDY1ODg6Miw2NTg5OjAsNjU5MDoyLDY1OTE6MCw2NTkyOjAsNjU5MzoyLDY1OTQ6MCw2NTk1OjIsNjU5NjowLDY1OTc6Miw2NTk4OjAsNjU5OToyLDY2MDA6MCw2NjAxOjIsNjYwMjowLDY2MDM6Miw2NjA1OjIsNjYwNjowLDY2MDc6Miw2NjA4OjAsNjYwOToyLDY2MTA6MCw2NjExOjAsNjYxMjoyLDY2MTM6MCw2NjE0OjIsNjYxNTowLDY2MTY6Miw2NjE3OjAsNjYxODoyLDY2MzM6Miw2NjQ2OjAsNjcwMzowLDY3ODQ6MCw2Nzg1OjEsNjc4NjowLDY3ODc6MSw2Nzg4OjAsNjc4OToxLDY3OTA6MCw2NzkxOjEsNjc5MjowLDY3OTM6MSw2Nzk0OjAsNjc5NToxLDY3OTY6MCw2Nzk3OjEsNjc5ODowLDY3OTk6MSw2ODAwOjAsNjgwMToxLDY4MDI6MCw2ODAzOjEsNjgwNDowLDY4MDU6MSw2ODA2OjAsNjgwNzoxLDY4MDg6MCw2ODA5OjEsNjgxMDowLDY4MTE6MSw2ODEyOjAsNjgxMzoxLDY4MTQ6MCw2ODE1OjEsNjgxNjowLDY4MTc6MSw2ODE4OjAsNjgxOToxLDY4MjA6MCw2ODIxOjEsNjgyMjowLDY4MjM6MSw2ODI0OjAsNjgyNToxLDY4MjY6MCw2ODI3OjEsNjgyODowLDY4Mjk6MSw2ODMwOjAsNjgzMToxLDY4MzI6MCw2ODMzOjEsNjgzNDowLDY4MzU6MSw2ODM2OjAsNjgzNzoxLDY4Mzg6MCw2ODM5OjEsNjg0MDowLDY4NDE6MSw2ODQyOjAsNjg0MzoxLDY4NDQ6MCw2ODQ1OjEsNjg0NjowLDY4NDc6MSw2ODQ4OjAsNjg0OToxLDY4NTA6MCw2ODUxOjEsNjg1MjowLDY4NTM6MSw2ODU0OjAsNjg1NToxLDY4NTY6MCw2ODU3OjEsNjg1ODowLDY4NTk6MSw2ODYwOjAsNjg2MToxLDY4NjI6MCw2ODYzOjEsNjg2NzowLDY4Njg6MSw2ODcwOjAsNjg3NTowLDY4NzY6MCw2ODc5OjAsNjg4MDoyLDY4ODQ6MCw2ODg1OjEsNjg4NjowLDY4ODc6MSw2OTE1OjAsNjkyMjowLDY5MjM6Miw2OTI0OjAsNjkyNToyLDY5NjI6MCw2OTg0OjAsNjk5MTowLDcxMjg6Miw3MTMxOjAsNzEzMjoyLDcxNDI6MCw3MjU3OjAsNzI1ODoyLDcyNTk6MCw3MjYwOjIsNzI2MTowLDcyNjI6Miw3MjYzOjAsNzI2NDoyLDcyNjU6MCw3MjY2OjIsNzI2NzowLDcyNjg6Miw3MjY5OjAsNzI3MDoyLDcyNzE6MCw3MjcyOjIsNzI3MzowLDcyNzQ6Miw3Mjc1OjAsNzI3NjoyLDcyNzc6MCw3Mjc4OjIsNzI3OTowLDcyODA6Miw3MjgxOjAsNzI4MjoyLDcyODM6MCw3Mjg0OjIsNzI4NTowLDcyODY6Miw3Mjg3OjAsNzI4ODoyLDcyODk6MCw3MjkwOjIsNzI5MTowLDcyOTI6Miw3MjkzOjAsNzI5NDoyLDcyOTU6MCw3Mjk2OjIsNzI5NzowLDcyOTg6Miw3Mjk5OjAsNzMwMDoyLDczMDE6MCw3MzAyOjIsNzMwMzowLDczMDQ6Miw3MzA1OjAsNzMwNjoyLDczMDc6MCw3MzA4OjIsNzMwOTowLDczMTA6Miw3MzExOjAsNzMxMjoyLDczMTM6MCw3MzE0OjIsNzMxNTowLDczMTY6Miw3MzE3OjAsNzMxODoyLDczMTk6MCw3MzIwOjIsNzMyMTowLDczMjI6Miw3MzIzOjAsNzMyNDoyLDczMjU6MCw3MzI2OjIsNzMyNzowLDczMjg6Miw3MzI5OjAsNzMzMDoyLDczMzE6MCw3MzMyOjIsNzMzMzowLDczMzQ6Miw3MzM1OjAsNzMzNjoyLDczMzc6MCw3MzM4OjIsNzMzOTowLDczNDA6Miw3MzQxOjAsNzM0MjoyLDczNDM6MCw3MzQ0OjIsNzM0NTowLDczNDY6Miw3MzQ3OjAsNzM0ODoyLDczNDk6MCw3MzUwOjIsNzM1MTowLDczNTI6Miw3MzUzOjAsNzM1NDoyLDczNTU6MCw3MzU2OjIsNzM1NzowLDczNTg6Miw3MzU5OjAsNzM2MDoyLDczNjE6MCw3MzYyOjIsNzM2MzowLDczNjQ6Miw3MzY1OjAsNzM2NjoyLDczNjc6MCw3MzY4OjIsNzM2OTowLDczNzA6Miw3ODc3OjAsNzg3ODowLDc4ODI6MCw3ODgzOjAsNzg4NzowLDc4OTk6MCw3OTkxOjAsNzk5MjowLDgwMzU6Miw4MDM2OjIsODA1ODowLDgwNTk6MCw4MDgyOjAsODA4MzowLDgwODg6MCw4MDkwOjAsODA5MToyLDgwOTI6MCw4MDkzOjIsODA5NTowLDgwOTY6Miw4MDk3OjAsODA5ODoyLDgwOTk6MCw4MTAwOjIsODEwMTowLDgxMDI6Miw4MTAzOjAsODEwNDoyLDgxMDU6MCw4MTA2OjIsODEwNzowLDgxMDg6Miw4MTA5OjAsODExMDoyLDgxMTE6MCw4MTEyOjIsODExMzowLDgxMTQ6Miw4MTE1OjAsODExNjoyLDgxMTc6MCw4MTE4OjIsODExOTowLDgxMjA6Miw4MTIxOjAsODEyMjoyLDgxMjM6MCw4MTI0OjIsODEyNTowLDgxMjY6Miw4MTI3OjAsODEyODoyLDgxMjk6MCw4MTMwOjIsODEzMTowLDgxMzI6Miw4MTMzOjAsODEzNDoyLDgxMzU6MCw4MTM2OjIsODEzNzowLDgxMzg6Miw4MTM5OjAsODE0MDoyLDgxNDE6MCw4MTQyOjIsODE0MzowLDgxNDQ6Miw4MTQ1OjAsODE0NjoyLDgxNDc6MCw4MTQ4OjIsODE0OTowLDgxNTA6Miw4MTUxOjAsODE1MjoyLDgxNTM6MCw4MTU0OjIsODE1NTowLDgxNTY6Miw4MTU3OjAsODE1ODoyLDgxNTk6MCw4MTYwOjIsODE2MTowLDgxNjI6Miw4MTYzOjAsODE2NDoyLDgxNjU6MCw4MTY2OjIsODE2NzowLDgxNjg6Miw4MTY5OjAsODE3MDoyLDgxNzE6MCw4MTcyOjIsODE3MzowLDgxNzc6Miw4MTc5OjAsODE4MDoyLDgxODE6MCw4MTgyOjIsODE4NDowLDgxODU6Miw4MTg3OjAsODE4OToyLDgxOTE6MCw4MTkzOjIsODE5NjowLDgxOTc6Miw4MTk4OjAsODIwMDoyLDgyMDE6MCw4MjAyOjIsODIwMzowLDgyMDQ6Miw4MjA1OjAsODIwNjoyLDgyMDc6MCw4MjA4OjIsODIwOTowLDgyMTA6Miw4MjEyOjAsODIxMzoyLDgyMTQ6MCw4MjE2OjIsODIxODowLDgyMjA6Miw4MjIyOjAsODIyNDoyLDgyMjU6MCw4MjI2OjIsODMxMTowLDgzMTI6MSw4MzEzOjAsODMxNDoxLDgzMTU6MCw4MzE2OjEsODMxNzowLDgzMTg6MSw4MzE5OjAsODMyMDoxLDgzMjE6MCw4MzIyOjEsODMyMzowLDgzMjQ6MSw4MzI1OjAsODMyNjoxLDgzMjc6MCw4MzI4OjEsODMyOTowLDgzMzA6MSw4MzMxOjAsODMzMjoxLDgzMzM6MCw4MzM0OjEsODMzNTowLDgzMzY6MSw4MzM3OjAsODMzODoxLDgzMzk6MCw4MzQwOjEsODM0MTowLDgzNDI6MSw4MzQzOjAsODM0NDoxLDgzNDU6MCw4MzQ2OjEsODM0NzowLDgzNDg6MSw4MzUyOjAsODM1MzowLDgzNzk6MCw4MzgwOjIsODM4MTowLDgzODI6Miw4MzgzOjAsODM4NDoyLDgzODU6MCw4Mzg3OjIsODM5MTowLDgzOTU6MCw4NDMzOjAsODQ0MTowLDg0NTU6MCw4NDU2OjAsODUzMToyLDg2ODI6MCw4Njg2OjAsODY4NzowLDg2OTI6MCw4NjkzOjAsODgyNjowLDg5MDM6MCw4OTUwOjAsODk1MTowLDkwMzk6MCw5MDQwOjAsOTE0MTowLDkxNDk6MCw5MTUwOjAsOTE5MTowLDkyMjE6MCw5MjIyOjAsOTI0OTowLDkyNTA6MCw5MjUyOjAsOTI1NDowLDkyNjU6MCw5Mjg0OjAsOTI4NTowLDkzMDA6MCw5MzU0OjAsOTM2NzowLDkzNzM6MCw5Mzc3OjAsOTM4NzowLDkzOTE6MCw5NDU2OjAsOTQ3MzowLDk0OTg6MCw5Njc0OjAsOTY3ODowLDk2ODA6MCw5NzA5OjAsOTcxMjowLDk3MTM6MCw5NzE2OjAsOTc0MTowLDk3NDg6Miw5NzQ5OjIsOTc2MTowLDk3NjY6MCw5NzkzOjAsOTc5NDowLDk4Njk6MCw5ODc0OjAsOTg3NTowLDk4ODA6MCw5OTQzOjAsOTk0NTowLDk5NDc6MCw5OTY3OjAsOTk3MjowLDk5Nzc6MCwyMDA0MjowLDIwMDUwOjEsMjA0OTk6MCwyMDUzODowLDIwNTM5OjAsMjA3OTA6MCwyMDc5MTowLDIxMjkxOjAsMjEyOTI6MCwyMTUwMDowLDIxODE3OjAsMjE4MTg6MCwyMjAzMjowLDIyMDMzOjAsMjIwOTE6MCwyMjA5MjowLDIyMjM5OjAsMjIyNDA6MCwyMjMzMjowLDIyMzM3OjAsMjIzMzg6MCwyMjM5MTowLDIyMzkyOjAsMjI2Mzk6MCwyMjcwMDowLDIyNzM5OjAsMjI3NzA6MCwyMjc4MDowLDIyODMyOjAsMjMwOTA6MCwyMzA5NTowLDIzMjM5OjAsMjMyNDA6MCwyMzQzMzowLDIzNzAwOjAsMjQwNDc6MCwyNDA0ODowLDI0MTAwOjMsMjQyMDA6MCwyNDMwNTowLDI0MzA2OjAsMjQzODI6MTAsMjQzODM6MCwyNDUwMDowLDI0NTQ3OjAsMjQ1NDg6MCwyNDU3MTo5LDI0NjAwOjAsMjVlMzowLDI1MjMxOjAsMjU4ODQ6MCwyNTkzMjowLDI2MjM3OjAsMjYzMzE6MCwyNjMzMjowLDI2NDMyOjAsMjY1OTE6MCwyNjU5MjowLDI2NjMyOjAsMjY2OTI6MCwyNzEyMDowLDI3MjAwOjAsMjcyOTE6NiwyNzI5Mjo2LDI3NDI5OjAsMjc0OTI6MCwyNzQ5MzowLDI3NTAwOjAsMjc3MDA6MCwyODIzMjowLDI4NjAwOjAsMjg5OTE6MCwyODk5MjowLDI5MTAwOjAsMjkxMDE6MCwyOTIyMDowLDI5MjIxOjAsMjkzMzM6MCwyOTYzNTowLDI5NjM2OjAsMjk3MDE6MCwyOTczODowLDI5NzM5OjAsMjk4NDk6MCwyOTg1MDowLDI5ODcxOjgsMjk4NzI6NywyOTg3MzowLDI5ODc0OjAsMzAyMDA6NSwzMDMzOTowLDMwMzQwOjAsMzA1OTE6MCwzMDU5MjowLDMwNzkxOjAsMzA3OTI6MCwzMDgwMDowLDMxMDI4OjAsMzExMjE6MCwzMTE1NDowLDMxMTcwOjAsMzExNzE6MCwzMTM3MDowLDMxNTI4OjAsMzE1Mjk6MCwzMTYwMDowLDMxNzAwOjAsMzE4Mzg6MCwzMTgzOTowLDMxOTAwOjAsMzE5MDE6MCwzMjA2MTowLDMyMDYyOjAsMzIwOTg6MCwzMjA5OToyLDMyMTAwOjAsMzIxMDQ6MCwzMjE2MTowLDMyNzY2OjAsNTMwNDg6MCw1MzA0OTowLDU0MDkwOjAsNTQwOTE6MCw2NTA2MToyLDY1MDYyOjIsNjUxNjE6MCw2NTE2MzowLDEwMjA0MToyLDEwMjA2NDoxMSwxMDIwNjg6MTUsMTAyMDY5OjE2LDEwMjExODoyLDEwMjExOToxLDEwMjEyMDoyLDEwMjEyMToyLDEwMjIxNzoyLDEwMjIxODowLDEwMjIxOToyLDEwMjIyMDoyLDEwMjM3ODoxLDEwMjM3OToxLDEwMjM4MDowLDEwMjM4MToxLDEwMjU4OToyLDEwMjU5OToyLDEwMjYwMDoyLDEwMjYwNDoyLDEwMjY0NzowLDEwMjcwNDoyLDEwMjcwNToyLDEwMjcwNjowLDEwMjczMTowLDEwMjczMjowLDEwMjc1OToxLDEwMjc2MDoxLDEwMjc2MToyLDEwMjc2MjowLDEwMjc2MzoyLDEwMjc2NDowLDEwMjc2NTowLDEwMjc2NjoyLDEwMjk3MDoxLDEwMjk3NDoyLDEwMjk5MzowLDEwMjk5NDowLDEwMjk5NToyLDEwMjk5NjoyLDEwMzAxNTowLDEwMzAxNjoyLDEwMzAxNzowLDEwMzAxODoyLDEwMzAyNTowLDEwMzAyNjowLDEwMzAyNzoyLDEwMzAyODoyLDEwMzAzNTowLDEwMzAzNjowLDEwMzAzNzoyLDEwMzAzODoyLDEwMzAzOTowLDEwMzA0MDowLDEwMzA0MToyLDEwMzA0MjoyLDEwMzA0MzowLDEwMzA0NDowLDEwMzA0NToyLDEwMzA0NjoyLDEwMzA0NzowLDEwMzA0ODowLDEwMzA0OToyLDEwMzA1MDoyLDEwMzA1MTowLDEwMzA1MjoyLDEwMzA1MzowLDEwMzA1NDoyLDEwMzA1NTowLDEwMzA1NjoyLDEwMzA1NzowLDEwMzA1ODowLDEwMzA1OToyLDEwMzA2MDoyLDEwMzA2MTowLDEwMzA2MjowLDEwMzA2MzoyLDEwMzA2NDoyLDEwMzA2OToyLDEwMzA3MDowLDEwMzA3MTowLDEwMzA3MjoyLDEwMzA3MzoyLDEwMzA4NjowLDEwMzA4NzowLDEwMzA4ODoyLDEwMzA4OToyLDEwMzA5NDoxLDEwMzA5NTowLDEwMzA5NjoyLDEwMzEwMzowLDEwMzEwNDoyLDEwMzEwNTowLDEwMzEwNjoyLDEwMzEyMTowLDEwMzEyMjoyLDEwMzEyMzowLDEwMzEyNDowLDEwMzEyNToxLDEwMzEyNjoxLDEwMzEyNzowLDEwMzEyODowLDEwMzEyOToyLDEwMzEzMDoyLDEwMzEzMTowLDEwMzEzMjowLDEwMzEzMzoyLDEwMzEzNDoyLDEwMzEzNTowLDEwMzEzNjowLDEwMzEzNzoxLDEwMzEzODoxLDEwMzEzOTowLDEwMzE0MDoyLDEwMzE0MTowLDEwMzE0MjoyLDEwMzE0MzowLDEwMzE0NDoyLDEwMzE0NTowLDEwMzE0NjoxLDEwMzE0NzowLDEwMzE0ODowLDEwMzE0OToyLDEwMzE1MDoyLDEwMzE1MTowLDEwMzE1MjoyLDEwMzE3MjowLDEwMzE3MzoyLDEwMzE3NDowLDEwMzE3NTowLDEwMzE3NjoyLDEwMzE3NzoyLDEwMzE3ODowLDEwMzE3OTowLDEwMzE4MDoyLDEwMzE4MToyLDEwMzE4MjowLDEwMzE4MzowLDEwMzE4NDoyLDEwMzE4NToyLDEwMzIyODowLDEwMzIyOTowLDEwMzIzMDoyLDEwMzIzMToyLDEwMzI1MDowLDEwMzI1MToyLDEwMzI1MjowLDEwMzI1MzoyLDEwMzI2MDowLDEwMzI2MTowLDEwMzI2MjoyLDEwMzI2MzoyLDEwMzI3MDowLDEwMzI3MTowLDEwMzI3MjoyLDEwMzI3MzoyLDEwMzI3NDowLDEwMzI3NTowLDEwMzI3NjoyLDEwMzI3NzoyLDEwMzI3ODowLDEwMzI3OTowLDEwMzI4MDoyLDEwMzI4MToyLDEwMzI4MjowLDEwMzI4MzowLDEwMzI4NDoyLDEwMzI4NToyLDEwMzI4NjowLDEwMzI4NzoyLDEwMzI4ODowLDEwMzI4OToyLDEwMzI5MDowLDEwMzI5MToyLDEwMzI5MjowLDEwMzI5MzowLDEwMzI5NDoyLDEwMzI5NToyLDEwMzI5NjowLDEwMzI5NzowLDEwMzI5ODoyLDEwMzI5OToyLDEwMzM3NjoyLDEwMzM3NzowLDEwMzM3ODowLDEwMzM3OToyLDEwMzM4MDoyLDEwMzM5MzowLDEwMzM5NDowLDEwMzM5NToyLDEwMzM5NjoyLDEwMzQ3MjowLDEwMzQ3MzoxLDEwMzQ3NDowLDEwMzQ3NToyLDEwMzQ4MjowLDEwMzQ4MzoyLDEwMzQ4NDowLDEwMzQ4NToyLDEwMzUwMDowLDEwMzUwMToyLDEwMzUwMjowLDEwMzUwMzowLDEwMzUwNDoxLDEwMzUwNToxLDEwMzUwNjowLDEwMzUwNzowLDEwMzUwODoyLDEwMzUwOToyLDEwMzUxMDowLDEwMzUxMTowLDEwMzUxMjoyLDEwMzUxMzoyLDEwMzUxNDowLDEwMzUxNToyLDEwMzUxNjowLDEwMzUxNzoyLDEwMzUxODowLDEwMzUxOToyLDEwMzUyMDowLDEwMzUyMToxLDEwMzUyMjowLDEwMzUyMzowLDEwMzUyNDoyLDEwMzUyNToyLDEwMzUyNjowLDEwMzUyNzoyLDEwMzU2MToyLDEwMzU2MjoyLDEwMzU2MzowLDEwMzU2NDowLDEwMzU2NToyLDEwMzU2NjoyLDEwMzU2NzowLDEwMzU2ODowLDEwMzU2OToyLDEwMzU3MDoyLDEwMzU4NDowLDEwMzU4NToyLDEwMzU4NjowLDEwMzU4NzoyLDEwMzU4ODoxLDEwMzU4OTowLDEwMzU5MDoyLDEwMzU5MToxLDEwMzU5MjowLDEwMzU5MzoyLDEwMzU5NDoxLDEwMzY5NToyfTtmb3IobyRqPTJlMztvJGo8PTIwNDU7byRqKyspciRlW28kal09MDtmb3IobyRqPTIwNTY7byRqPD0yMDY1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDY3O28kajw9MjEzNTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjEzNztvJGo8PTIxNTQ7byRqKyspciRlW28kal09MDtmb3IobyRqPTIxNjE7byRqPD0yMTcwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTcyO28kajw9MjE5MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjE5NTtvJGo8PTIxOTg7byRqKyspciRlW28kal09MDtmb3IobyRqPTIyMDA7byRqPD0yMjAzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjA1O28kajw9MjIxNztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjIyMjtvJGo8PTIyMjQ7byRqKyspciRlW28kal09MTtmb3IobyRqPTIyMjU7byRqPD0yMjUwO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0yMjUxO28kajw9MjI1MztvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MjI1NztvJGo8PTIyNjQ7byRqKyspciRlW28kal09Mjtmb3IobyRqPTIyNzQ7byRqPD0yMjc5O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0yMjgwO28kajw9MjI4MjtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MjI4MztvJGo8PTIyODk7byRqKyspciRlW28kal09Mjtmb3IobyRqPTIyOTA7byRqPD0yMjkyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzA4O28kajw9MjMxMztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjMxNTtvJGo8PTI0OTE7byRqKyspciRlW28kal09MDtmb3IobyRqPTI0OTQ7byRqPD0yODY2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yODY3O28kajw9Mjg2OTtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9Mjg3MDtvJGo8PTI4ODg7byRqKyspciRlW28kal09Mjtmb3IobyRqPTI4OTE7byRqPD0yODk1O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0yODk2O28kajw9Mjg5ODtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MjkwMjtvJGo8PTI5MDg7byRqKyspciRlW28kal09Mjtmb3IobyRqPTI5MTU7byRqPD0yOTIwO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0yOTIxO28kajw9MjkyMztvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MjkyNDtvJGo8PTI5MzA7byRqKyspciRlW28kal09Mjtmb3IobyRqPTI5MzE7byRqPD0yOTYyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yOTY0O28kajw9Mjk2ODtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9Mjk2OTtvJGo8PTI5NzM7byRqKyspciRlW28kal09MDtmb3IobyRqPTI5NzU7byRqPD0yOTkxO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yOTk1O28kajw9MzA1MTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzA1NDtvJGo8PTMwNzk7byRqKyspciRlW28kal09MDtmb3IobyRqPTMwODE7byRqPD0zMDg4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMDkyO28kajw9MzEwMTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzEwNjtvJGo8PTMxMzg7byRqKyspciRlW28kal09MDtmb3IobyRqPTMxNDY7byRqPD0zMTUxO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMTUzO28kajw9MzE2NjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzE2ODtvJGo8PTMxNzI7byRqKyspciRlW28kal09MDtmb3IobyRqPTMxNzQ7byRqPD0zMjAzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjk0O28kajw9MzM1ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzM2NztvJGo8PTM0MDM7byRqKyspciRlW28kal09MDtmb3IobyRqPTM0MDg7byRqPD0zNDE2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNDE3O28kajw9MzQzODtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MzQ0MTtvJGo8PTM0NDY7byRqKyspciRlW28kal09Mjtmb3IobyRqPTM0NDc7byRqPD0zNDUwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNDUxO28kajw9MzQ1OTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MzQ2MDtvJGo8PTM0Nzg7byRqKyspciRlW28kal09MDtmb3IobyRqPTM1NTQ7byRqPD0zNTU5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNTYwO28kajw9MzU3MDtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MzU3MTtvJGo8PTM1ODE7byRqKyspciRlW28kal09MDtmb3IobyRqPTM1OTQ7byRqPD0zNTk3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNjAxO28kajw9MzYwNDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzYzNztvJGo8PTM2Mzk7byRqKyspciRlW28kal09MDtmb3IobyRqPTM2NjU7byRqPD0zNjY3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNjkzO28kajw9MzY5NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzcwMTtvJGo8PTM3Mjc7byRqKyspciRlW28kal09MDtmb3IobyRqPTM3Mjg7byRqPD0zNzM5O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zNzQwO28kajw9Mzc1MTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mzc1MztvJGo8PTM3NjA7byRqKyspciRlW28kal09Mjtmb3IobyRqPTM3NjE7byRqPD0zNzczO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNzc1O28kajw9Mzc3NztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mzc3OTtvJGo8PTM3ODE7byRqKyspciRlW28kal09MDtmb3IobyRqPTM3ODM7byRqPD0zNzg1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zNzg4O28kajw9Mzc5MTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mzc5NztvJGo8PTM4MDI7byRqKyspciRlW28kal09MDtmb3IobyRqPTM4MTQ7byRqPD0zODE2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zODI1O28kajw9MzgyOTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzgzMjtvJGo8PTM4NDE7byRqKyspciRlW28kal09MDtmb3IobyRqPTM4NDQ7byRqPD0zODUyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zODczO28kajw9Mzg4NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mzg5MDtvJGo8PTM4OTM7byRqKyspciRlW28kal09MDtmb3IobyRqPTM5MDc7byRqPD0zOTEyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zOTQyO28kajw9Mzk1MDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mzk2ODtvJGo8PTM5NzA7byRqKyspciRlW28kal09MDtmb3IobyRqPTM5NzM7byRqPD0zOTc2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zOTg2O28kajw9Mzk4OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mzk5NDtvJGo8PTM5OTc7byRqKyspciRlW28kal09MDtmb3IobyRqPTQwNDg7byRqPD00MDUxO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj00MDU2O28kajw9NDA2MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NDA5MztvJGo8PTQwOTY7byRqKyspciRlW28kal09MDtmb3IobyRqPTQzOTA7byRqPD00Mzk4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj00Mzk5O28kajw9NDQxMztvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9NDQxODtvJGo8PTQ0MzM7byRqKyspciRlW28kal09Mjtmb3IobyRqPTQ0NTU7byRqPD00NDU3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj00NDg0O28kajw9NDQ4OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NDQ5MTtvJGo8PTQ1NTQ7byRqKyspciRlW28kal09MDtmb3IobyRqPTQ1Njg7byRqPD00NTg5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj00NjUyO28kajw9NDY1NjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NDc2NjtvJGo8PTQ4MDA7byRqKyspciRlW28kal09MDtmb3IobyRqPTUwMTQ7byRqPD01MDE2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MDY5O28kajw9NTA3MjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTEwNTtvJGo8PTUxMzA7byRqKyspciRlW28kal09MDtmb3IobyRqPTUxNzM7byRqPD01MTg4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MjUzO28kajw9NTI1OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTI2OTtvJGo8PTUyNzU7byRqKyspciRlW28kal09MDtmb3IobyRqPTUyOTI7byRqPD01MzExO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzI5O28kajw9NTMzMTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTM0MztvJGo8PTUzNDk7byRqKyspciRlW28kal09MDtmb3IobyRqPTUzNTU7byRqPD01MzU3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01Mzg3O28kajw9NTM4OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTQ1OTtvJGo8PTU0NjM7byRqKyspciRlW28kal09MDtmb3IobyRqPTU0Nzk7byRqPD01NDgyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NTE4O28kajw9NTUyMDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTUzMDtvJGo8PTU1Mzk7byRqKyspciRlW28kal09MDtmb3IobyRqPTU1NTA7byRqPD01NTUyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NTYyO28kajw9NTU4MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTYyMztvJGo8PTU2MjU7byRqKyspciRlW28kal09Mjtmb3IobyRqPTU2MzE7byRqPD01NjM5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NjQ5O28kajw9NTY1MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTY2MztvJGo8PTU2ODA7byRqKyspciRlW28kal09MDtmb3IobyRqPTU2ODI7byRqPD01Njg1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01ODc1O28kajw9NTg3NztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NTg5NjtvJGo8PTU4OTk7byRqKyspciRlW28kal09MDtmb3IobyRqPTU5MjE7byRqPD01OTQwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj02MDUwO28kajw9NjEyNTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NjI0NDtvJGo8PTYyNzU7byRqKyspciRlW28kal09MDtmb3IobyRqPTYzMjg7byRqPD02MzQ4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj02MzUwO28kajw9NjM1NjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NjM2NjtvJGo8PTYzNzI7byRqKyspciRlW28kal09MDtmb3IobyRqPTYzODE7byRqPD02Mzg3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj02MzkzO28kajw9NjQwNDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NjQ4MDtvJGo8PTY0ODM7byRqKyspciRlW28kal09MDtmb3IobyRqPTY1MTE7byRqPD02NTE0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj02NTc5O28kajw9NjU4MTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NjYxOTtvJGo8PTY2MjQ7byRqKyspciRlW28kal09MDtmb3IobyRqPTY2MjU7byRqPD02NjI3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj02NjI4O28kajw9NjYzMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NjYzNDtvJGo8PTY2Mzc7byRqKyspciRlW28kal09MDtmb3IobyRqPTY2Njk7byRqPD02NjkyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj02NzA3O28kajw9NjcwOTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9NjcyMDtvJGo8PTY3MjM7byRqKyspciRlW28kal09MDtmb3IobyRqPTY3MzI7byRqPD02NzM4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj02OTMxO28kajw9NjkzMztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Njk1NjtvJGo8PTY5NTk7byRqKyspciRlW28kal09MDtmb3IobyRqPTcwMDU7byRqPD03MDA3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj03MDU3O28kajw9NzA3MDtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9NzA3NDtvJGo8PTcwODI7byRqKyspciRlW28kal09MDtmb3IobyRqPTcxMDk7byRqPD03MTE4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj03MTE5O28kajw9NzEyNztvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9NzM3NDtvJGo8PTczNzY7byRqKyspciRlW28kal09MDtmb3IobyRqPTc1Mjg7byRqPD03NTg2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj03NTg3O28kajw9NzY0NTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9NzY5MjtvJGo8PTc2OTY7byRqKyspciRlW28kal09MDtmb3IobyRqPTc3NTU7byRqPD03Nzg3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj03NzkxO28kajw9Nzc5NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Nzc5OTtvJGo8PTc4MDE7byRqKyspciRlW28kal09MDtmb3IobyRqPTc4MDM7byRqPD03ODA1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj03ODI1O28kajw9NzgzMTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Nzg0NTtvJGo8PTc4NTk7byRqKyspciRlW28kal09MDtmb3IobyRqPTgwMTM7byRqPD04MDMyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj04MDY1O28kajw9ODA2ODtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9ODUxODtvJGo8PTg1Mjk7byRqKyspciRlW28kal09Mjtmb3IobyRqPTg1MzM7byRqPD04NTM2O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj04NTM4O28kajw9ODU0MDtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9ODY3NztvJGo8PTg2Nzk7byRqKyspciRlW28kal09MDtmb3IobyRqPTg4MzY7byRqPD04ODQwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj04ODU3O28kajw9ODg1OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9ODkwODtvJGo8PTg5MTA7byRqKyspciRlW28kal09MDtmb3IobyRqPTkxNTQ7byRqPD05MTU5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj05MjA1O28kajw9OTIxODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9OTI3MTtvJGo8PTkyNzM7byRqKyspciRlW28kal09MDtmb3IobyRqPTkyOTU7byRqPD05Mjk3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj05MzU2O28kajw9OTM2MDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9OTQwNDtvJGo8PTk0MDc7byRqKyspciRlW28kal09MDtmb3IobyRqPTk0NzY7byRqPD05NDgyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj05NDg3O28kajw9OTQ5NDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9OTY5NztvJGo8PTk2OTk7byRqKyspciRlW28kal09MDtmb3IobyRqPTk4MjE7byRqPD05ODY1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDAwMjtvJGo8PTIwMDMyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDA0NztvJGo8PTIwMDQ5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDA2MjtvJGo8PTIwMDkyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDEzNTtvJGo8PTIwMTM4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDI0ODtvJGo8PTIwMjU4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDM0ODtvJGo8PTIwMzU4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDQzNjtvJGo8PTIwNDQwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDgyMjtvJGo8PTIwODI0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDkwNDtvJGo8PTIwOTMyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMDkzNDtvJGo8PTIwOTM2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTAwNDtvJGo8PTIxMDMyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTAzNTtvJGo8PTIxMDM3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTA5NTtvJGo8PTIxMDk3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTE0ODtvJGo8PTIxMTUwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTIwNztvJGo8PTIxMjY0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTMwNztvJGo8PTIxMzY0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTQxMztvJGo8PTIxNDIzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTQ1MztvJGo8PTIxNDYzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTQ3MztvJGo8PTIxNDgzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTc4MDtvJGo8PTIxNzgyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTg5MTtvJGo8PTIxODk0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMTg5NjtvJGo8PTIxODk5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjE3MTtvJGo8PTIyMTc3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjE4MTtvJGo8PTIyMTg3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjE5MTtvJGo8PTIyMTk3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjIwNztvJGo8PTIyMjIyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjIzNDtvJGo8PTIyMjM2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjI0MztvJGo8PTIyMjUwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjI2MjtvJGo8PTIyMjY1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjMwNztvJGo8PTIyMzIyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjM0ODtvJGo8PTIyMzU3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjQwNztvJGo8PTIyNDIyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjQ2MjtvJGo8PTIyNDY1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjUyMTtvJGo8PTIyNTI1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjYwNztvJGo8PTIyNjIyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjY0MTtvJGo8PTIyNjQ2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjY0ODtvJGo8PTIyNjU3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjcwNztvJGo8PTIyNzIyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjc2MjtvJGo8PTIyNzY1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMjk5MTtvJGo8PTIyOTk0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzAyODtvJGo8PTIzMDM4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzgzMDtvJGo8PTIzODUzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzg2NjtvJGo8PTIzODcyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzg3NztvJGo8PTIzODg0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzg4NjtvJGo8PTIzODk0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yMzk0NjtvJGo8PTIzOTQ4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yNDMxMTtvJGo8PTI0MzEzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yNDM0MjtvJGo8PTI0MzQ3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0yNDM3MDtvJGo8PTI0Mzc0O28kaisrKXIkZVtvJGpdPTEwO2ZvcihvJGo9MjQzNzU7byRqPD0yNDM4MTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjQ3MTg7byRqPD0yNDcyMTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjQ4MTc7byRqPD0yNDgyMTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjQ4Nzc7byRqPD0yNDg4MjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjQ4OTE7byRqPD0yNDg5MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjUzOTE7byRqPD0yNTM5NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjU4Mjg7byRqPD0yNTgzODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjYxOTE7byRqPD0yNjE5NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjYzOTE7byRqPD0yNjM5MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjY3MDE7byRqPD0yNjcyMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjY3Mjk7byRqPD0yNjc5OTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MjY4MDE7byRqPD0yNjgwMztvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MjY4MTE7byRqPD0yNjgxMztvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MjY4NDc7byRqPD0yNjg3MDtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MjY4OTE7byRqPD0yNjg5OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjY5MDE7byRqPD0yNjkyMztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjY5Mjk7byRqPD0yNjk0NjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjY5NDg7byRqPD0yNjk5ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjcwMzc7byRqPD0yNzA0MDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjcyMDU7byRqPD0yNzIzMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjcyNTg7byRqPD0yNzI2MDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjczOTE7byRqPD0yNzM5ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjc1NjE7byRqPD0yNzU2NDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjc1NzE7byRqPD0yNzU3NDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjc1ODE7byRqPD0yNzU4NDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjc1OTE7byRqPD0yNzU5NDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjgxOTE7byRqPD0yODE5MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjgzNDg7byRqPD0yODM1ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjg0MDI7byRqPD0yODQzMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjg0NjI7byRqPD0yODQ5MjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjkxMTg7byRqPD0yOTEyMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjkxNjg7byRqPD0yOTE3MjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjkxNzc7byRqPD0yOTE4NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MjkxODc7byRqPD0yOTE5NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9Mjk5MDA7byRqPD0yOTkwMztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzAxNjE7byRqPD0zMDE3OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzA0OTE7byRqPD0zMDQ5NDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzA3Mjk7byRqPD0zMDczMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzEyNTE7byRqPD0zMTI1OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzEyNjU7byRqPD0zMTI2ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzEyNzU7byRqPD0zMTI3OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzEyODE7byRqPD0zMTI5NztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzE0NjE7byRqPD0zMTQ2OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzE0OTE7byRqPD0zMTQ5NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzE5MTc7byRqPD0zMTkyMjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MzE5NjU7byRqPD0zMmUzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjAwMTtvJGo8PTMyMDAzO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjAwNTtvJGo8PTMyMDMxO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjAzMztvJGo8PTMyMDYwO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjA2NDtvJGo8PTMyMDY3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjA3NDtvJGo8PTMyMDc3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjA4MTtvJGo8PTMyMDg2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjEwNztvJGo8PTMyMTMwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjEzMztvJGo8PTMyMTU5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjE2NDtvJGo8PTMyMTY3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjE4MDtvJGo8PTMyMTk5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjIwMTtvJGo8PTMyMjYwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjMwMTtvJGo8PTMyMzYwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjYwMTtvJGo8PTMyNjYyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0zMjY2NDtvJGo8PTMyNjY3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0zMjcwMTtvJGo8PTMyNzYxO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzAwMTtvJGo8PTUzMDA0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzAwODtvJGo8PTUzMDE5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzAyMTtvJGo8PTUzMDMyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzAzNDtvJGo8PTUzMDM3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzA0MjtvJGo8PTUzMDQ2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01MzA3NDtvJGo8PTUzMDgwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDAwMTtvJGo8PTU0MDA0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDAwODtvJGo8PTU0MDE5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDAyMTtvJGo8PTU0MDMyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDAzNDtvJGo8PTU0MDM3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDA0MjtvJGo8PTU0MDQ2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDA0ODtvJGo8PTU0MDUzO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDA3NDtvJGo8PTU0MDgwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj01NDA5ODtvJGo8PTU0MTAxO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDIwMDE7byRqPD0xMDIwNDA7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjA0MjtvJGo8PTEwMjA2MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyMDY1O28kajw9MTAyMDY3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDIwNzA7byRqPD0xMDIxMTc7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjEyMjtvJGo8PTEwMjIxNjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyMjIxO28kajw9MTAyMzc3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDIzODI7byRqPD0xMDIzODg7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjM4OTtvJGo8PTEwMjM5ODtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAyMzk5O28kajw9MTAyNDQ0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDI0NDU7byRqPD0xMDI0NDc7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMjQ0ODtvJGo8PTEwMjQ1ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyNDU5O28kajw9MTAyNDY4O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDI0Njk7byRqPD0xMDI0OTk7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjUwMDtvJGo8PTEwMjUxOTtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MTAyNTIwO28kajw9MTAyNTI0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDI1MjU7byRqPD0xMDI1Mjk7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMjUzMDtvJGo8PTEwMjU4ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyNTkwO28kajw9MTAyNTk4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDI2MDE7byRqPD0xMDI2MDM7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjYwNTtvJGo8PTEwMjYyODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyNjI5O28kajw9MTAyNjQ2O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDI2NDg7byRqPD0xMDI3MDA7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMjcwMTtvJGo8PTEwMjcwMztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyNzA3O28kajw9MTAyNzMwO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDI3MzM7byRqPD0xMDI3NTg7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMjc2NztvJGo8PTEwMjkwMDtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyOTAxO28kajw9MTAyOTMzO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDI5MzQ7byRqPD0xMDI5NTA7byRqKyspciRlW28kal09MTM7Zm9yKG8kaj0xMDI5NTE7byRqPD0xMDI5NTU7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjk2MTtvJGo8PTEwMjk2MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyOTY1O28kajw9MTAyOTY5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDI5NzE7byRqPD0xMDI5NzM7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMjk3NTtvJGo8PTEwMjk4OTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAyOTkwO28kajw9MTAyOTkyO28kaisrKXIkZVtvJGpdPTE7Zm9yKG8kaj0xMDI5OTc7byRqPD0xMDMwMDI7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzAwMztvJGo8PTEwMzAwODtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzMDA5O28kajw9MTAzMDExO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMwMTI7byRqPD0xMDMwMTQ7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzAxOTtvJGo8PTEwMzAyMTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMDIyO28kajw9MTAzMDI0O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDMwMjk7byRqPD0xMDMwMzE7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzAzMjtvJGo8PTEwMzAzNDtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzMDY1O28kajw9MTAzMDY4O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMwNzQ7byRqPD0xMDMwNzY7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzA3NztvJGo8PTEwMzA3OTtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MTAzMDgwO28kajw9MTAzMDgyO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMwODM7byRqPD0xMDMwODU7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzA5MDtvJGo8PTEwMzA5MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMDk3O28kajw9MTAzMDk5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMxMDA7byRqPD0xMDMxMDI7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzEwNztvJGo8PTEwMzEwOTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMTEwO28kajw9MTAzMTEyO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDMxMTM7byRqPD0xMDMxMTY7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzExNztvJGo8PTEwMzEyMDtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzMTUzO28kajw9MTAzMTU3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMxNTg7byRqPD0xMDMxNjI7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzE2MztvJGo8PTEwMzE2NTtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMTY2O28kajw9MTAzMTY4O28kaisrKXIkZVtvJGpdPTE7Zm9yKG8kaj0xMDMxNjk7byRqPD0xMDMxNzE7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzE4NjtvJGo8PTEwMzE4ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMTg5O28kajw9MTAzMTkxO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDMxOTI7byRqPD0xMDMxOTU7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzE5NjtvJGo8PTEwMzE5OTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzMjAwO28kajw9MTAzMjI0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMyMjU7byRqPD0xMDMyMjc7byRqKyspciRlW28kal09MTtmb3IobyRqPTEwMzIzMjtvJGo8PTEwMzIzNztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMjM4O28kajw9MTAzMjQzO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDMyNDQ7byRqPD0xMDMyNDY7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzI0NztvJGo8PTEwMzI0OTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzMjU0O28kajw9MTAzMjU2O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDMyNTc7byRqPD0xMDMyNTk7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzI2NDtvJGo8PTEwMzI2NjtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMjY3O28kajw9MTAzMjY5O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDMzMDA7byRqPD0xMDMzNzU7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzM4MTtvJGo8PTEwMzM4MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzMzg0O28kajw9MTAzMzg2O28kaisrKXIkZVtvJGpdPTE7Zm9yKG8kaj0xMDMzODc7byRqPD0xMDMzODk7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzM5MDtvJGo8PTEwMzM5MjtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzMzk3O28kajw9MTAzMzk5O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDM0MDA7byRqPD0xMDM0NzE7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzQ3NjtvJGo8PTEwMzQ3ODtvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzNDc5O28kajw9MTAzNDgxO28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDM0ODY7byRqPD0xMDM0ODg7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzQ4OTtvJGo8PTEwMzQ5MTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzNDkyO28kajw9MTAzNDk1O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDM0OTY7byRqPD0xMDM0OTk7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzUyODtvJGo8PTEwMzU0MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzNTQ0O28kajw9MTAzNTQ4O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDM1NDk7byRqPD0xMDM1NTE7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzU1MjtvJGo8PTEwMzU1NDtvJGorKylyJGVbbyRqXT0xO2ZvcihvJGo9MTAzNTU1O28kajw9MTAzNTU3O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDM1NTg7byRqPD0xMDM1NjA7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzU3MTtvJGo8PTEwMzU3MztvJGorKylyJGVbbyRqXT0wO2ZvcihvJGo9MTAzNTc0O28kajw9MTAzNTc2O28kaisrKXIkZVtvJGpdPTI7Zm9yKG8kaj0xMDM1Nzc7byRqPD0xMDM1ODA7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzU4MTtvJGo8PTEwMzU4MztvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzNTk1O28kajw9MTAzNjk0O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDM2OTY7byRqPD0xMDM2OTk7byRqKyspciRlW28kal09MDtmb3IobyRqPTEwMzcwMDtvJGo8PTEwMzc5MztvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzNzk0O28kajw9MTAzODkwO28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMDM4OTE7byRqPD0xMDM4OTY7byRqKyspciRlW28kal09Mjtmb3IobyRqPTEwMzkwMDtvJGo8PTEwMzk3MTtvJGorKylyJGVbbyRqXT0yO2ZvcihvJGo9MTAzOTcyO28kajw9MTAzOTc3O28kaisrKXIkZVtvJGpdPTA7Zm9yKG8kaj0xMTJlMztvJGo8PTExMjEwMTtvJGorKylyJGVbbyRqXT0wO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgbiRnPXsxMDIxMTM6ITAsMTAyMTAwOiEwLDM4NTc6ITAsMzc4NTohMH0sXyQ4PXs0MzI2OiEwLDM3ODU6ITAsMzg1NzohMCwxMDIxMTM6ITAsMTAyMTAwOiEwLDEwNDkwNTohMCwxMDQ5NzE6ITB9LGEkZj0nUFJPSkNTW1wiV0dTXzE5ODRfV2ViX01lcmNhdG9yX0F1eGlsaWFyeV9TcGhlcmVcIixHRU9HQ1NbXCJHQ1NfV0dTXzE5ODRcIixEQVRVTVtcIkRfV0dTXzE5ODRcIixTUEhFUk9JRFtcIldHU18xOTg0XCIsNjM3ODEzNy4wLDI5OC4yNTcyMjM1NjNdXSxQUklNRU1bXCJHcmVlbndpY2hcIiwwLjBdLFVOSVRbXCJEZWdyZWVcIiwwLjAxNzQ1MzI5MjUxOTk0MzNdXSxQUk9KRUNUSU9OW1wiTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZVwiXSxQQVJBTUVURVJbXCJGYWxzZV9FYXN0aW5nXCIsMC4wXSxQQVJBTUVURVJbXCJGYWxzZV9Ob3J0aGluZ1wiLDAuMF0sUEFSQU1FVEVSW1wiQ2VudHJhbF9NZXJpZGlhblwiLHtDZW50cmFsX01lcmlkaWFufV0sUEFSQU1FVEVSW1wiU3RhbmRhcmRfUGFyYWxsZWxfMVwiLDAuMF0sUEFSQU1FVEVSW1wiQXV4aWxpYXJ5X1NwaGVyZV9UeXBlXCIsMC4wXSxVTklUW1wiTWV0ZXJcIiwxLjBdXScsdCRjPVstMjAwMzc1MDguMzQyNzg4OTA1LDIwMDM3NTA4LjM0Mjc4ODkwNV0sbCRlPVstMjAwMzc1MDguMzQyNzg3LDIwMDM3NTA4LjM0Mjc4N10sTSQ1PXsxMDIxMTM6e3drVGVtcGxhdGU6J1BST0pDU1tcIldHU18xOTg0X1dlYl9NZXJjYXRvclwiLEdFT0dDU1tcIkdDU19XR1NfMTk4NF9NYWpvcl9BdXhpbGlhcnlfU3BoZXJlXCIsREFUVU1bXCJEX1dHU18xOTg0X01ham9yX0F1eGlsaWFyeV9TcGhlcmVcIixTUEhFUk9JRFtcIldHU18xOTg0X01ham9yX0F1eGlsaWFyeV9TcGhlcmVcIiw2Mzc4MTM3LjAsMC4wXV0sUFJJTUVNW1wiR3JlZW53aWNoXCIsMC4wXSxVTklUW1wiRGVncmVlXCIsMC4wMTc0NTMyOTI1MTk5NDMzXV0sUFJPSkVDVElPTltcIk1lcmNhdG9yXCJdLFBBUkFNRVRFUltcIkZhbHNlX0Vhc3RpbmdcIiwwLjBdLFBBUkFNRVRFUltcIkZhbHNlX05vcnRoaW5nXCIsMC4wXSxQQVJBTUVURVJbXCJDZW50cmFsX01lcmlkaWFuXCIse0NlbnRyYWxfTWVyaWRpYW59XSxQQVJBTUVURVJbXCJTdGFuZGFyZF9QYXJhbGxlbF8xXCIsMC4wXSxVTklUW1wiTWV0ZXJcIiwxLjBdXScsdmFsaWQ6dCRjLG9yaWdpbjpsJGUsZHg6MWUtNX0sMTAyMTAwOnt3a1RlbXBsYXRlOmEkZix2YWxpZDp0JGMsb3JpZ2luOmwkZSxkeDoxZS01fSwzNzg1Ont3a1RlbXBsYXRlOidQUk9KQ1NbXCJXR1NfMTk4NF9XZWJfTWVyY2F0b3JcIixHRU9HQ1NbXCJHQ1NfV0dTXzE5ODRfTWFqb3JfQXV4aWxpYXJ5X1NwaGVyZVwiLERBVFVNW1wiRF9XR1NfMTk4NF9NYWpvcl9BdXhpbGlhcnlfU3BoZXJlXCIsU1BIRVJPSURbXCJXR1NfMTk4NF9NYWpvcl9BdXhpbGlhcnlfU3BoZXJlXCIsNjM3ODEzNy4wLDAuMF1dLFBSSU1FTVtcIkdyZWVud2ljaFwiLDAuMF0sVU5JVFtcIkRlZ3JlZVwiLDAuMDE3NDUzMjkyNTE5OTQzM11dLFBST0pFQ1RJT05bXCJNZXJjYXRvclwiXSxQQVJBTUVURVJbXCJGYWxzZV9FYXN0aW5nXCIsMC4wXSxQQVJBTUVURVJbXCJGYWxzZV9Ob3J0aGluZ1wiLDAuMF0sUEFSQU1FVEVSW1wiQ2VudHJhbF9NZXJpZGlhblwiLHtDZW50cmFsX01lcmlkaWFufV0sUEFSQU1FVEVSW1wiU3RhbmRhcmRfUGFyYWxsZWxfMVwiLDAuMF0sVU5JVFtcIk1ldGVyXCIsMS4wXV0nLHZhbGlkOnQkYyxvcmlnaW46bCRlLGR4OjFlLTV9LDM4NTc6e3drVGVtcGxhdGU6YSRmLHZhbGlkOnQkYyxvcmlnaW46bCRlLGR4OjFlLTV9LDQzMjY6e3drVGVtcGxhdGU6J0dFT0dDU1tcIkdDU19XR1NfMTk4NFwiLERBVFVNW1wiRF9XR1NfMTk4NFwiLFNQSEVST0lEW1wiV0dTXzE5ODRcIiw2Mzc4MTM3LjAsMjk4LjI1NzIyMzU2M11dLFBSSU1FTVtcIkdyZWVud2ljaFwiLHtDZW50cmFsX01lcmlkaWFufV0sVU5JVFtcIkRlZ3JlZVwiLDAuMDE3NDUzMjkyNTE5OTQzM11dJyxhbHRUZW1wbGF0ZTonUFJPSkNTW1wiV0dTXzE5ODRfUGxhdGVfQ2FycmVlXCIsR0VPR0NTW1wiR0NTX1dHU18xOTg0XCIsREFUVU1bXCJEX1dHU18xOTg0XCIsU1BIRVJPSURbXCJXR1NfMTk4NFwiLDYzNzgxMzcuMCwyOTguMjU3MjIzNTYzXV0sUFJJTUVNW1wiR3JlZW53aWNoXCIsMC4wXSxVTklUW1wiRGVncmVlXCIsMC4wMTc0NTMyOTI1MTk5NDMzXV0sUFJPSkVDVElPTltcIlBsYXRlX0NhcnJlZVwiXSxQQVJBTUVURVJbXCJGYWxzZV9FYXN0aW5nXCIsMC4wXSxQQVJBTUVURVJbXCJGYWxzZV9Ob3J0aGluZ1wiLDAuMF0sUEFSQU1FVEVSW1wiQ2VudHJhbF9NZXJpZGlhblwiLHtDZW50cmFsX01lcmlkaWFufV0sVU5JVFtcIkRlZ3JlZXNcIiwxMTEzMTkuNDkxXV0nLHZhbGlkOlstMTgwLDE4MF0sb3JpZ2luOlstMTgwLDkwXSxkeDoxZS01fSwxMDQ5NzE6e3drVGVtcGxhdGU6J0dFT0dDU1tcIk1hcnNfMjAwMF8oU3BoZXJlKVwiLERBVFVNW1wiTWFyc18yMDAwXyhTcGhlcmUpXCIsU1BIRVJPSURbXCJNYXJzXzIwMDBfKFNwaGVyZSlcIiwzMzk2MTkwLjAsMC4wXV0sUFJJTUVNW1wiUmVmZXJlbmNlX01lcmlkaWFuXCIsMC4wXSxVTklUW1wiRGVncmVlXCIsMC4wMTc0NTMyOTI1MTk5NDMzXV0nLHZhbGlkOlstMTgwLDE4MF0sb3JpZ2luOlstMTgwLDkwXSxkeDoxZS01fSwxMDQ5MDU6e3drVGVtcGxhdGU6J0dFT0dDU1tcIkdDU19NYXJzXzIwMDBcIixEQVRVTVtcIkRfTWFyc18yMDAwXCIsU1BIRVJPSURbXCJNYXJzXzIwMDBfSUFVX0lBR1wiLDMzOTYxOTAuMCwxNjkuODk0NDQ3MjIzNjExOF1dLFBSSU1FTVtcIlJlZmVyZW5jZV9NZXJpZGlhblwiLDAuMF0sVU5JVFtcIkRlZ3JlZVwiLDAuMDE3NDUzMjkyNTE5OTQzM11dJyx2YWxpZDpbLTE4MCwxODBdLG9yaWdpbjpbLTE4MCw5MF0sZHg6MWUtNX19O2Z1bmN0aW9uIFMkNChlLHIpe3JldHVybiBlPT09cnx8bnVsbCE9ZSYmbnVsbCE9ciYmKG51bGwhPWUud2tpZHx8bnVsbCE9ci53a2lkP2Uud2tpZD09PXIud2tpZHx8QSQ2KGUpJiZBJDYocil8fG51bGwhPXIubGF0ZXN0V2tpZCYmZS53a2lkPT09ci5sYXRlc3RXa2lkfHxudWxsIT1lLmxhdGVzdFdraWQmJnIud2tpZD09PWUubGF0ZXN0V2tpZDohKCFlLndrdHx8IXIud2t0KSYmZS53a3QudG9VcHBlckNhc2UoKT09PXIud2t0LnRvVXBwZXJDYXNlKCkpfWZ1bmN0aW9uIGQkZyhlKXtyZXR1cm4gcyRqKGUpJiZlLndraWQmJk0kNVtlLndraWRdfHxudWxsfWZ1bmN0aW9uIEUkNShlKXtyZXR1cm4gISFzJGooZSkmJihlLndraWQ/bnVsbD09ciRlW2Uud2tpZF06ISFlLndrdCYmISEvXlxccypHRU9HQ1MvaS50ZXN0KGUud2t0KSl9ZnVuY3Rpb24gdSRqKGUpe3JldHVybiBzJGooZSkmJjQzMjY9PT1lLndraWR9ZnVuY3Rpb24gQSQ2KGUpe3JldHVybiBzJGooZSkmJm51bGwhPWUud2tpZCYmITA9PT1uJGdbZS53a2lkXX1mdW5jdGlvbiBrJDQoZSl7cmV0dXJuIGU9PT1TJDUuR0NTTUFSUzIwMDB8fGU9PT1TJDUuR0NTTUFSUzIwMDBfU1BIRVJFfWZ1bmN0aW9uIHckNChlKXtyZXR1cm4gZT09PVMkNS5HQ1NNT09OMjAwMH1mdW5jdGlvbiBDJDQoZSl7cmV0dXJuIHMkaihlKSYmbnVsbCE9ZS53a2lkJiYhMD09PV8kOFtlLndraWRdfWZ1bmN0aW9uIHMkaihlKXtyZXR1cm4gbnVsbCE9ZSYmKG51bGwhPWUud2tpZCYmZS53a2lkPj0yZTN8fG51bGwhPWUud2t0KX1jb25zdCBwJGM9e3draWQ6NDMyNix3a3Q6ciRxKE0kNVs0MzI2XS53a1RlbXBsYXRlLHtDZW50cmFsX01lcmlkaWFuOlwiMC4wXCJ9KX0sSSQzPXt3a2lkOjEwMjEwMCxsYXRlc3RXa2lkOjM4NTd9LGMkbT17d2tpZDozMjY2Mn07XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBvJGk9cyRrLnJhZGl1cypNYXRoLlBJLzIwMCxtJGQ9L1VOSVRcXFsoW15cXF1dKylcXF1cXF0kL2ksZiRoPXIkZSxkJGY9L1VOSVRcXFsoW15cXF1dKylcXF0vaSxVJDE9bmV3IFNldChbNDI2MSw0MzA1LDQ4MDcsNDgxMCw0ODExLDQ4MTIsNDgxNiw0ODE5LDQ4MjEsNDkwMSw0OTAyLDM3MjI1LDEwNDEzOSwxMDQxNDBdKSxxJDM9byRrKCkoe21ldGVyOlwibWV0ZXJzXCIsZm9vdDpcImZlZXRcIixmb290X3VzOlwidXMtZmVldFwiLGZvb3RfY2xhcmtlOlwiY2xhcmtlLWZlZXRcIix5YXJkX2NsYXJrZTpcImNsYXJrZS15YXJkc1wiLGxpbmtfY2xhcmtlOlwiY2xhcmtlLWxpbmtzXCIseWFyZF9zZWFyczpcInNlYXJzLXlhcmRzXCIsZm9vdF9zZWFyczpcInNlYXJzLWZlZXRcIixjaGFpbl9zZWFyczpcInNlYXJzLWNoYWluc1wiLGNoYWluX2Jlbm9pdF8xODk1X2I6XCJiZW5vaXQtMTg5NS1iLWNoYWluc1wiLHlhcmRfaW5kaWFuOlwiaW5kaWFuLXlhcmRzXCIseWFyZF9pbmRpYW5fMTkzNzpcImluZGlhbi0xOTM3LXlhcmRzXCIsZm9vdF9nb2xkX2NvYXN0OlwiZ29sZC1jb2FzdC1mZWV0XCIsY2hhaW5fc2VhcnNfMTkyMl90cnVuY2F0ZWQ6XCJzZWFycy0xOTIyLXRydW5jYXRlZC1jaGFpbnNcIixcIjUwX2tpbG9tZXRlcnNcIjpcIjUwLWtpbG9tZXRlcnNcIixcIjE1MF9raWxvbWV0ZXJzXCI6XCIxNTAta2lsb21ldGVyc1wifSk7ZnVuY3Rpb24gQSQ1KGUpe3JldHVybiBxJDMuZnJvbUpTT04oZS50b0xvd2VyQ2FzZSgpKXx8bnVsbH1mdW5jdGlvbiBIJDEoZSxzPXMkay5tZXRlcnNQZXJEZWdyZWUpe3JldHVybiBMJDUoZSwhMCk/P3N9ZnVuY3Rpb24gTCQ1KGUscz0hMSl7Y29uc3QgdD1udWxsIT1lP2Uud2tpZDpudWxsLGk9bnVsbCE9ZT9lLndrdDpudWxsO2xldCBjPW51bGw7aWYodCl7aWYoayQ0KHQpKXJldHVybiB0JGQubWV0ZXJzUGVyRGVncmVlO2lmKHckNCh0KSlyZXR1cm4gZSRrLm1ldGVyc1BlckRlZ3JlZTtjPWYkaC52YWx1ZXNbZiRoW3RdXSwhYyYmcyYmVSQxLmhhcyh0KSYmKGM9byRpKTt9ZWxzZSBpJiYoc2UoaSk/Yz0kJDEobSRkLmV4ZWMoaSksYyk6ZWUoaSkmJihjPSQkMShkJGYuZXhlYyhpKSxjKSkpO3JldHVybiBjfWZ1bmN0aW9uICQkMShlLHMpe3JldHVybiBlJiZlWzFdP3okNShlWzFdKTpzfWZ1bmN0aW9uIHokNShlKXtyZXR1cm4gcGFyc2VGbG9hdChlLnNwbGl0KFwiLFwiKVsxXSl9ZnVuY3Rpb24gUSQxKGUpe2NvbnN0IHM9bnVsbCE9ZT9lLndraWQ6bnVsbCx0PW51bGwhPWU/ZS53a3Q6bnVsbDtsZXQgcj1udWxsO2lmKHMpcj1mJGgudW5pdHNbZiRoW3NdXTtlbHNlIGlmKHQpe2NvbnN0IGU9c2UodCk/bSRkOmVlKHQpP2QkZjpudWxsO2lmKGUpe2NvbnN0IHM9ZS5leGVjKHQpO3MmJnNbMV0mJihyPXJlKHNbMV0pKTt9fXJldHVybiBudWxsIT1yP0EkNShyKTpudWxsfWZ1bmN0aW9uIGVlKGUpe3JldHVybiAvXkdFT0NDUy9pLnRlc3QoZSl9ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIC9eUFJPSkNTL2kudGVzdChlKX1jb25zdCB0ZT0xZS03O2Z1bmN0aW9uIHJlKGUpe2NvbnN0IHM9L1tcXFxcXCJcXFxcJ117MX0oW15cXFxcXCJcXFxcJ10rKS8uZXhlYyhlKTtsZXQgdD1zJiZzWzFdO2lmKCF0fHwhZiRoLnVuaXRzLmluY2x1ZGVzKHQpKXtjb25zdCBzPXokNShlKTt0PW51bGw7Y29uc3Qgcj1mJGgudmFsdWVzO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7KytlKWlmKE1hdGguYWJzKHMtcltlXSk8dGUpe3Q9ZiRoLnVuaXRzW2VdO2JyZWFrfX1yZXR1cm4gdH1jb25zdCBpZT17ZXNyaUFjcmVzOlwiYWNyZXNcIixlc3JpQXJlczpcImFyZXNcIixlc3JpSGVjdGFyZXM6XCJoZWN0YXJlc1wiLGVzcmlTcXVhcmVDZW50aW1ldGVyczpcInNxdWFyZS1jZW50aW1ldGVyc1wiLGVzcmlTcXVhcmVEZWNpbWV0ZXJzOlwic3F1YXJlLWRlY2ltZXRlcnNcIixlc3JpU3F1YXJlRmVldDpcInNxdWFyZS1mZWV0XCIsZXNyaVNxdWFyZUluY2hlczpcInNxdWFyZS1pbmNoZXNcIixlc3JpU3F1YXJlS2lsb21ldGVyczpcInNxdWFyZS1raWxvbWV0ZXJzXCIsZXNyaVNxdWFyZU1ldGVyczpcInNxdWFyZS1tZXRlcnNcIixlc3JpU3F1YXJlTWlsZXM6XCJzcXVhcmUtbWlsZXNcIixlc3JpU3F1YXJlTWlsbGltZXRlcnM6XCJzcXVhcmUtbWlsbGltZXRlcnNcIixlc3JpU3F1YXJlVXNGZWV0Olwic3F1YXJlLXVzLWZlZXRcIixlc3JpU3F1YXJlWWFyZHM6XCJzcXVhcmUteWFyZHNcIn0sYWU9e2VzcmlDZW50aW1ldGVyczpcImNlbnRpbWV0ZXJzXCIsZXNyaURlY2ltZXRlcnM6XCJkZWNpbWV0ZXJzXCIsZXNyaUZlZXQ6XCJmZWV0XCIsZXNyaUluY2hlczpcImluY2hlc1wiLGVzcmlLaWxvbWV0ZXJzOlwia2lsb21ldGVyc1wiLGVzcmlNZXRlcnM6XCJtZXRlcnNcIixlc3JpTWlsZXM6XCJtaWxlc1wiLGVzcmlNaWxsaW1ldGVyczpcIm1pbGxpbWV0ZXJzXCIsZXNyaU5hdXRpY2FsTWlsZXM6XCJuYXV0aWNhbC1taWxlc1wiLGVzcmlZYXJkczpcInlhcmRzXCJ9LHVlPXtlc3JpRFVEZWNpbWFsRGVncmVlczpcImRlZ3JlZXNcIixlc3JpRFVSYWRpYW5zOlwicmFkaWFuc1wifTtvJGsoKShpZSk7byRrKCkoYWUpO28kaygpKHVlKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHIkZChyLG8sZSl7bGV0IGksbjtyZXR1cm4gdm9pZCAwPT09bz8obj1yLGk9W3ZvaWQgMF0pOlwic3RyaW5nXCIhPXR5cGVvZiBvPyhuPXIsaT1bdm9pZCAwXSxlPW8pOihuPW8saT1BcnJheS5pc0FycmF5KHIpP3I6W3JdKSwocixvKT0+e2NvbnN0IHA9ci5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7Zm9yKGNvbnN0IGMgb2YgaSl7Y29uc3QgaT1kJGoocixjLG4pO2kud3JpdGUmJlwib2JqZWN0XCI9PXR5cGVvZiBpLndyaXRlfHwoaS53cml0ZT17fSksZSYmKGkud3JpdGUudGFyZ2V0PWUpLGkud3JpdGUud3JpdGVyPXBbb107fX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgaCRmO2xldCBrJDM9aCRmPWNsYXNzIGV4dGVuZHMgbCRme3N0YXRpYyBmcm9tSlNPTihlKXtpZighZSlyZXR1cm4gbnVsbDtpZihlLndraWQpe2lmKDEwMjEwMD09PWUud2tpZClyZXR1cm4gaCRmLldlYk1lcmNhdG9yO2lmKDQzMjY9PT1lLndraWQpcmV0dXJuIGgkZi5XR1M4NH1jb25zdCB0PW5ldyBoJGY7cmV0dXJuIHQucmVhZChlKSx0fWNvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubGF0ZXN0V2tpZD1udWxsLHRoaXMud2tpZD1udWxsLHRoaXMud2t0PW51bGwsdGhpcy52Y3NXa2lkPW51bGwsdGhpcy5sYXRlc3RWY3NXa2lkPW51bGwsdGhpcy5pbWFnZUNvb3JkaW5hdGVTeXN0ZW09bnVsbDt9bm9ybWFsaXplQ3RvckFyZ3MoZSl7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUpcmV0dXJuIGU7cmV0dXJuIHtbXCJzdHJpbmdcIj09dHlwZW9mIGU/XCJ3a3RcIjpcIndraWRcIl06ZX19Z2V0IGlzV0dTODQoKXtyZXR1cm4gdSRqKHRoaXMpfWdldCBpc1dlYk1lcmNhdG9yKCl7cmV0dXJuIEEkNih0aGlzKX1nZXQgaXNHZW9ncmFwaGljKCl7cmV0dXJuIEUkNSh0aGlzKX1nZXQgaXNXcmFwcGFibGUoKXtyZXR1cm4gQyQ0KHRoaXMpfWdldCBtZXRlcnNQZXJVbml0KCl7cmV0dXJuIEgkMSh0aGlzKX1nZXQgdW5pdCgpe3JldHVybiBRJDEodGhpcyl8fCh0aGlzLmlzR2VvZ3JhcGhpYz9cImRlZ3JlZXNcIjpudWxsKX13cml0ZVdrdChlLHQpe3RoaXMud2tpZHx8KHQud2t0PWUpO31jbG9uZSgpe2lmKHRoaXM9PT1oJGYuV0dTODQpcmV0dXJuIGgkZi5XR1M4NDtpZih0aGlzPT09aCRmLldlYk1lcmNhdG9yKXJldHVybiBoJGYuV2ViTWVyY2F0b3I7Y29uc3QgZT1uZXcgaCRmO3JldHVybiBudWxsIT10aGlzLndraWQ/KGUud2tpZD10aGlzLndraWQsbnVsbCE9dGhpcy5sYXRlc3RXa2lkJiYoZS5sYXRlc3RXa2lkPXRoaXMubGF0ZXN0V2tpZCksbnVsbCE9dGhpcy52Y3NXa2lkJiYoZS52Y3NXa2lkPXRoaXMudmNzV2tpZCksbnVsbCE9dGhpcy5sYXRlc3RWY3NXa2lkJiYoZS5sYXRlc3RWY3NXa2lkPXRoaXMubGF0ZXN0VmNzV2tpZCkpOm51bGwhPXRoaXMud2t0JiYoZS53a3Q9dGhpcy53a3QpLHRoaXMuaW1hZ2VDb29yZGluYXRlU3lzdGVtJiYoZS5pbWFnZUNvb3JkaW5hdGVTeXN0ZW09YSR2KHRoaXMuaW1hZ2VDb29yZGluYXRlU3lzdGVtKSksZX1lcXVhbHMoZSl7aWYobnVsbD09ZSlyZXR1cm4gITE7aWYodGhpcy5pbWFnZUNvb3JkaW5hdGVTeXN0ZW18fGUuaW1hZ2VDb29yZGluYXRlU3lzdGVtKXtpZihudWxsPT10aGlzLmltYWdlQ29vcmRpbmF0ZVN5c3RlbXx8bnVsbD09ZS5pbWFnZUNvb3JkaW5hdGVTeXN0ZW0pcmV0dXJuICExO2NvbnN0e2lkOnQscmVmZXJlbmNlU2VydmljZU5hbWU6cn09ZS5pbWFnZUNvb3JkaW5hdGVTeXN0ZW0se2dlb2RhdGFYZm9ybTppfT1lLmltYWdlQ29vcmRpbmF0ZVN5c3RlbSxvPXRoaXMuaW1hZ2VDb29yZGluYXRlU3lzdGVtO3JldHVybiBudWxsPT10fHxpP0pTT04uc3RyaW5naWZ5KG8pPT09SlNPTi5zdHJpbmdpZnkoZS5pbWFnZUNvb3JkaW5hdGVTeXN0ZW0pOnI/by5pZD09PXQmJm8ucmVmZXJlbmNlU2VydmljZU5hbWU9PT1yOm8uaWQ9PT10fXJldHVybiBTJDQodGhpcyxlKX10b0pTT04oZSl7cmV0dXJuIHRoaXMud3JpdGUodm9pZCAwLGUpfX07ayQzLkdDU19OQURfMTkyNz1udWxsLGskMy5XR1M4ND1udWxsLGskMy5XZWJNZXJjYXRvcj1udWxsLGskMy5QbGF0ZUNhcnJlZT1udWxsLGUkeChbeSRkKHtyZWFkT25seTohMH0pXSxrJDMucHJvdG90eXBlLFwiaXNXR1M4NFwiLG51bGwpLGUkeChbeSRkKHtyZWFkT25seTohMH0pXSxrJDMucHJvdG90eXBlLFwiaXNXZWJNZXJjYXRvclwiLG51bGwpLGUkeChbeSRkKHtyZWFkT25seTohMH0pXSxrJDMucHJvdG90eXBlLFwiaXNHZW9ncmFwaGljXCIsbnVsbCksZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLGskMy5wcm90b3R5cGUsXCJpc1dyYXBwYWJsZVwiLG51bGwpLGUkeChbeSRkKHt0eXBlOlQkMixqc29uOnt3cml0ZTohMH19KV0sayQzLnByb3RvdHlwZSxcImxhdGVzdFdraWRcIix2b2lkIDApLGUkeChbeSRkKHtyZWFkT25seTohMH0pXSxrJDMucHJvdG90eXBlLFwibWV0ZXJzUGVyVW5pdFwiLG51bGwpLGUkeChbeSRkKHtyZWFkT25seTohMH0pXSxrJDMucHJvdG90eXBlLFwidW5pdFwiLG51bGwpLGUkeChbeSRkKHt0eXBlOlQkMixqc29uOnt3cml0ZTohMCxvcmlnaW5zOntcIndlYi1zY2VuZVwiOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm4ge2lzUmVxdWlyZWQ6bnVsbD09dGhpcy53a3R9fX19fX19KV0sayQzLnByb3RvdHlwZSxcIndraWRcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOlN0cmluZyxqc29uOntvcmlnaW5zOntcIndlYi1zY2VuZVwiOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm4ge2lzUmVxdWlyZWQ6bnVsbD09dGhpcy53a2lkfX19fX19fSldLGskMy5wcm90b3R5cGUsXCJ3a3RcIix2b2lkIDApLGUkeChbciRkKFwid2t0XCIpLHIkZChcIndlYi1zY2VuZVwiLFwid2t0XCIpXSxrJDMucHJvdG90eXBlLFwid3JpdGVXa3RcIixudWxsKSxlJHgoW3kkZCh7dHlwZTpUJDIsanNvbjp7d3JpdGU6ITB9fSldLGskMy5wcm90b3R5cGUsXCJ2Y3NXa2lkXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpUJDIsanNvbjp7d3JpdGU6ITB9fSldLGskMy5wcm90b3R5cGUsXCJsYXRlc3RWY3NXa2lkXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxrJDMucHJvdG90eXBlLFwiaW1hZ2VDb29yZGluYXRlU3lzdGVtXCIsdm9pZCAwKSxrJDM9aCRmPWUkeChbYSRpKFwiZXNyaS5nZW9tZXRyeS5TcGF0aWFsUmVmZXJlbmNlXCIpXSxrJDMpLGskMy5wcm90b3R5cGUudG9KU09OLmlzRGVmYXVsdFRvSlNPTj0hMCxrJDMuR0NTX05BRF8xOTI3PW5ldyBrJDMoe3draWQ6NDI2Nyx3a3Q6J0dFT0dDU1tcIkdDU19Ob3J0aF9BbWVyaWNhbl8xOTI3XCIsREFUVU1bXCJEX05vcnRoX0FtZXJpY2FuXzE5MjdcIixTUEhFUk9JRFtcIkNsYXJrZV8xODY2XCIsNjM3ODIwNi40LDI5NC45Nzg2OTgyXV0sUFJJTUVNW1wiR3JlZW53aWNoXCIsMC4wXSxVTklUW1wiRGVncmVlXCIsMC4wMTc0NTMyOTI1MTk5NDMzXV0nfSksayQzLldHUzg0PW5ldyBrJDMocCRjKSxrJDMuV2ViTWVyY2F0b3I9bmV3IGskMyhJJDMpLGskMy5QbGF0ZUNhcnJlZT1uZXcgayQzKGMkbSksT2JqZWN0LmZyZWV6ZSYmKE9iamVjdC5mcmVlemUoayQzLkdDU19OQURfMTkyNyksT2JqZWN0LmZyZWV6ZShrJDMuV0dTODQpLE9iamVjdC5mcmVlemUoayQzLldlYk1lcmNhdG9yKSk7Y29uc3QgZiRnPWskMztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBjJGw9Y2xhc3MgZXh0ZW5kcyBsJGZ7Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy50eXBlPW51bGwsdGhpcy5oYXNNPSExLHRoaXMuaGFzWj0hMSx0aGlzLnNwYXRpYWxSZWZlcmVuY2U9ZiRnLldHUzg0O31nZXQgY2FjaGUoKXtyZXR1cm4gdGhpcy5jb21taXRQcm9wZXJ0eShcInNwYXRpYWxSZWZlcmVuY2VcIikse319Z2V0IGV4dGVudCgpe3JldHVybiBudWxsfXJlYWRTcGF0aWFsUmVmZXJlbmNlKGUscil7aWYoZSBpbnN0YW5jZW9mIGYkZylyZXR1cm4gZTtpZihudWxsIT1lKXtjb25zdCB0PW5ldyBmJGc7cmV0dXJuIHQucmVhZChlLHIpLHR9cmV0dXJuIGV9Y2xvbmUoKXtyZXR1cm4gY29uc29sZS53YXJuKFwiLmNsb25lKCkgaXMgbm90IGltcGxlbWVudGVkIGZvciBcIit0aGlzLmRlY2xhcmVkQ2xhc3MpLG51bGx9Y2xlYXJDYWNoZSgpe3RoaXMubm90aWZ5Q2hhbmdlKFwiY2FjaGVcIik7fWdldENhY2hlVmFsdWUoZSl7cmV0dXJuIHRoaXMuY2FjaGVbZV19c2V0Q2FjaGVWYWx1ZShlLHIpe3RoaXMuY2FjaGVbZV09cjt9fTtlJHgoW3kkZCgpXSxjJGwucHJvdG90eXBlLFwidHlwZVwiLHZvaWQgMCksZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLGMkbC5wcm90b3R5cGUsXCJjYWNoZVwiLG51bGwpLGUkeChbeSRkKHtyZWFkT25seTohMH0pXSxjJGwucHJvdG90eXBlLFwiZXh0ZW50XCIsbnVsbCksZSR4KFt5JGQoe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3k6ZT0+KHtlbmFibGVkOmV9KX19fSldLGMkbC5wcm90b3R5cGUsXCJoYXNNXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpCb29sZWFuLGpzb246e3dyaXRlOntvdmVycmlkZVBvbGljeTplPT4oe2VuYWJsZWQ6ZX0pfX19KV0sYyRsLnByb3RvdHlwZSxcImhhc1pcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOmYkZyxqc29uOnt3cml0ZTohMH0sdmFsdWU6ZiRnLldHUzg0fSldLGMkbC5wcm90b3R5cGUsXCJzcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlJHgoW28kbChcInNwYXRpYWxSZWZlcmVuY2VcIildLGMkbC5wcm90b3R5cGUsXCJyZWFkU3BhdGlhbFJlZmVyZW5jZVwiLG51bGwpLGMkbD1lJHgoW2EkaShcImVzcmkuZ2VvbWV0cnkuR2VvbWV0cnlcIildLGMkbCk7Y29uc3QgcCRiPWMkbDtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHIkYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIG8kaChuKXtjb25zdCByPVwiX19hY2Nlc3Nvck1ldGFkYXRhX19cImluIG4/ZCRrKG4pOm47cmV0dXJuIGZ1bmN0aW9uKC4uLnQpe2lmKHQucHVzaChyKSxcIm51bWJlclwiPT10eXBlb2YgdFsyXSl0aHJvdyBuZXcgRXJyb3IoXCJVc2luZyBAY2FzdCBoYXMgcGFyYW1ldGVyIGRlY29yYXRvciBpcyBub3Qgc3VwcG9ydGVkIHNpbmNlIDQuMTZcIik7cmV0dXJuIGUkai5hcHBseSh0aGlzLHQpfX1mdW5jdGlvbiBlJGoodCxyLG8sZSl7byR2KHQscikuY2FzdD1lO31mdW5jdGlvbiBpJGgodCl7cmV0dXJuIChyLG8pPT57byR2KHIsdCkuY2FzdD1yW29dO319ZnVuY3Rpb24gcyRpKC4uLnQpe2lmKDMhPT10Lmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIHRbMV0pcmV0dXJuIDE9PT10Lmxlbmd0aCYmXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09ciRjLmNhbGwodFswXSk/byRoKHRbMF0pOjE9PT10Lmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHRbMF0/aSRoKHRbMF0pOnZvaWQgMH1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHQkYih0LG4pe2NvbnN0IHM9dC54LW4ueCxyPXQueS1uLnksYT10Lmhhc1omJm4uaGFzWj90Lnotbi56OjA7cmV0dXJuIE1hdGguc3FydChzKnMrcipyK2EqYSl9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBhJGU9NTcuMjk1Nzc5NTEzMDgyMzIsbyRnPS4wMTc0NTMyOTI1MTk5NDM7ZnVuY3Rpb24gdSRpKG4pe3JldHVybiBuKmEkZX1mdW5jdGlvbiBsJGQobil7cmV0dXJuIG4qbyRnfWZ1bmN0aW9uIGMkayhuKXtyZXR1cm4gbnVsbCE9bi53a2lkfHxudWxsIT1uLndrdH1jb25zdCBoJGU9WzAsMF07ZnVuY3Rpb24gbSRjKG4sdCxlLGkscil7Y29uc3Qgcz1uLGE9cjtpZihhLnNwYXRpYWxSZWZlcmVuY2U9ZSxcInhcImluIHMmJlwieFwiaW4gYSlbYS54LGEueV09dChzLngscy55LGgkZSxpKTtlbHNlIGlmKFwieG1pblwiaW4gcyYmXCJ4bWluXCJpbiBhKVthLnhtaW4sYS55bWluXT10KHMueG1pbixzLnltaW4saCRlLGkpLFthLnhtYXgsYS55bWF4XT10KHMueG1heCxzLnltYXgsaCRlLGkpO2Vsc2UgaWYoXCJwYXRoc1wiaW4gcyYmXCJwYXRoc1wiaW4gYXx8XCJyaW5nc1wiaW4gcyYmXCJyaW5nc1wiaW4gYSl7Y29uc3Qgbj1cInBhdGhzXCJpbiBzP3MucGF0aHM6cy5yaW5ncyxlPVtdO2xldCByO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKXtjb25zdCBhPW5bc107cj1bXSxlLnB1c2gocik7Zm9yKGxldCBuPTA7bjxhLmxlbmd0aDtuKyspci5wdXNoKHQoYVtuXVswXSxhW25dWzFdLFswLDBdLGkpKSxhW25dLmxlbmd0aD4yJiZyW25dLnB1c2goYVtuXVsyXSksYVtuXS5sZW5ndGg+MyYmcltuXS5wdXNoKGFbbl1bM10pO31cInBhdGhzXCJpbiBhP2EucGF0aHM9ZTphLnJpbmdzPWU7fWVsc2UgaWYoXCJwb2ludHNcImluIHMmJlwicG9pbnRzXCJpbiBhKXtjb25zdCBuPXMucG9pbnRzLGU9W107Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspZVtyXT10KG5bcl1bMF0sbltyXVsxXSxbMCwwXSxpKSxuW3JdLmxlbmd0aD4yJiZlW3JdLnB1c2gobltyXVsyXSksbltyXS5sZW5ndGg+MyYmZVtyXS5wdXNoKG5bcl1bM10pO2EucG9pbnRzPWU7fXJldHVybiByfWZ1bmN0aW9uIHgkYihuLHQpe2NvbnN0IGU9biYmKGMkayhuKT9uOm4uc3BhdGlhbFJlZmVyZW5jZSksYT10JiYoYyRrKHQpP3Q6dC5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gIShuJiZcInR5cGVcImluIG4mJlwibWVzaFwiPT09bi50eXBlfHx0JiZcInR5cGVcImluIHQmJlwibWVzaFwiPT09dC50eXBlfHwhZXx8IWEpJiYoISFTJDQoYSxlKXx8KEEkNihhKSYmdSRqKGUpfHxBJDYoZSkmJnUkaihhKSkpfWZ1bmN0aW9uIGckOChlLGEpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7Y29uc3Qgbz1lLnNwYXRpYWxSZWZlcmVuY2UsdT1hJiYoYyRrKGEpP2E6YS5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4geCRiKG8sdSk/UyQ0KG8sdSk/YSR2KGUpOkEkNih1KT9tJGMoZSxNJDQsZiRnLldlYk1lcmNhdG9yLCExLGEkdihlKSk6dSRqKHUpP20kYyhlLHkkOCxmJGcuV0dTODQsITEsYSR2KGUpKTpudWxsOm51bGx9ZnVuY3Rpb24gTSQ0KG4sdCxpPVswLDBdKXt0Pjg5Ljk5OTk5P3Q9ODkuOTk5OTk6dDwtODkuOTk5OTkmJih0PS04OS45OTk5OSk7Y29uc3Qgcj1sJGQodCk7cmV0dXJuIGlbMF09bCRkKG4pKnMkay5yYWRpdXMsaVsxXT1zJGsuaGFsZlNlbWlNYWpvckF4aXMqTWF0aC5sb2coKDErTWF0aC5zaW4ocikpLygxLU1hdGguc2luKHIpKSksaX1mdW5jdGlvbiB5JDgobix0LGk9WzAsMF0scj0hMSl7Y29uc3Qgcz11JGkobi9zJGsucmFkaXVzKTtyZXR1cm4gaVswXT1yP3M6cy0zNjAqTWF0aC5mbG9vcigocysxODApLzM2MCksaVsxXT11JGkoTWF0aC5QSS8yLTIqTWF0aC5hdGFuKE1hdGguZXhwKC10L3Mkay5yYWRpdXMpKSksaX1mdW5jdGlvbiBkJGUoZSxpPSExLHI9YSR2KGUpKXtyZXR1cm4gbSRjKGUsTSQ0LGYkZy5XZWJNZXJjYXRvcixpLHIpfWZ1bmN0aW9uIFIkMihlLGk9ITEscj1hJHYoZSkpe3JldHVybiBtJGMoZSx5JDgsZiRnLldHUzg0LGkscil9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgeSQ3O2NvbnN0IG0kYj1bMCwwXTtmdW5jdGlvbiBmJGYoZSl7cmV0dXJuIGUmJihcImVzcmkuZ2VvbWV0cnkuU3BhdGlhbFJlZmVyZW5jZVwiPT09ZS5kZWNsYXJlZENsYXNzfHxudWxsIT1lLndraWQpfWxldCBnJDc9eSQ3PWNsYXNzIGV4dGVuZHMgcCRie3N0YXRpYyBjb3B5KGUsdCl7dC5fc2V0KFwieFwiLGUuX2dldChcInhcIikpLHQuX3NldChcInlcIixlLl9nZXQoXCJ5XCIpKSx0Ll9zZXQoXCJ6XCIsZS5fZ2V0KFwielwiKSksdC5fc2V0KFwibVwiLGUuX2dldChcIm1cIikpO2NvbnN0IHI9ZS5fZ2V0KFwic3BhdGlhbFJlZmVyZW5jZVwiKTt0Ll9zZXQoXCJzcGF0aWFsUmVmZXJlbmNlXCIsT2JqZWN0LmlzRnJvemVuKHIpP3I6ci5jbG9uZSgpKTt9Y29uc3RydWN0b3IoLi4uZSl7c3VwZXIoLi4uZSksdGhpcy54PTAsdGhpcy55PTAsdGhpcy56PXZvaWQgMCx0aGlzLm09dm9pZCAwLHRoaXMudHlwZT1cInBvaW50XCI7fW5vcm1hbGl6ZUN0b3JBcmdzKGUscixpLHMsbyl7bGV0IGE7aWYoQXJyYXkuaXNBcnJheShlKSlhPWUsbz1yLGU9YVswXSxyPWFbMV0saT1hWzJdLHM9YVszXTtlbHNlIGlmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlKXtpZihhPWUsZT1udWxsIT1hLng/YS54OmEubG9uZ2l0dWRlLHI9bnVsbCE9YS55P2EueTphLmxhdGl0dWRlLGk9YS56LHM9YS5tLChvPWEuc3BhdGlhbFJlZmVyZW5jZSkmJlwiZXNyaS5nZW9tZXRyeS5TcGF0aWFsUmVmZXJlbmNlXCIhPT1vLmRlY2xhcmVkQ2xhc3MmJihvPW5ldyBmJGcobykpLG51bGwhPWEubG9uZ2l0dWRlfHxudWxsIT1hLmxhdGl0dWRlKWlmKG51bGw9PWEubG9uZ2l0dWRlKXMkRS5nZXRMb2dnZXIodGhpcykud2FybihcIi5sb25naXR1ZGU9XCIsXCJMYXRpdHVkZSB3YXMgZGVmaW5lZCB3aXRob3V0IGxvbmdpdHVkZVwiKTtlbHNlIGlmKG51bGw9PWEubGF0aXR1ZGUpcyRFLmdldExvZ2dlcih0aGlzKS53YXJuKFwiLmxhdGl0dWRlPVwiLFwiTG9uZ2l0dWRlIHdhcyBkZWZpbmVkIHdpdGhvdXQgbGF0aXR1ZGVcIik7ZWxzZSBpZighYS5kZWNsYXJlZENsYXNzJiZvJiZvLmlzV2ViTWVyY2F0b3Ipe2NvbnN0IHQ9TSQ0KGEubG9uZ2l0dWRlLGEubGF0aXR1ZGUsbSRiKTtlPXRbMF0scj10WzFdO319ZWxzZSBmJGYoaSk/KG89aSxpPW51bGwpOmYkZihzKSYmKG89cyxzPW51bGwpO2NvbnN0IGw9e3g6ZSx5OnJ9O3JldHVybiBudWxsPT1sLngmJm51bGwhPWwueT9zJEUuZ2V0TG9nZ2VyKHRoaXMpLndhcm4oXCIueT1cIixcIlkgY29vcmRpbmF0ZSB3YXMgZGVmaW5lZCB3aXRob3V0IGFuIFggY29vcmRpbmF0ZVwiKTpudWxsPT1sLnkmJm51bGwhPWwueCYmcyRFLmdldExvZ2dlcih0aGlzKS53YXJuKFwiLng9XCIsXCJYIGNvb3JkaW5hdGUgd2FzIGRlZmluZWQgd2l0aG91dCBhIFkgY29vcmRpbmF0ZVwiKSxudWxsIT1vJiYobC5zcGF0aWFsUmVmZXJlbmNlPW8pLG51bGwhPWkmJihsLno9aSksbnVsbCE9cyYmKGwubT1zKSxsfWdldCBjYWNoZSgpe3JldHVybiB0aGlzLmNvbW1pdFByb3BlcnR5KFwieFwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwieVwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwielwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwibVwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwic3BhdGlhbFJlZmVyZW5jZVwiKSx7fX1nZXQgaGFzTSgpe3JldHVybiB2b2lkIDAhPT10aGlzLm19c2V0IGhhc00oZSl7ZSE9PSh2b2lkIDAhPT10aGlzLl9nZXQoXCJtXCIpKSYmKHRoaXMuX3NldChcIm1cIixlPzA6dm9pZCAwKSx0aGlzLl9zZXQoXCJoYXNNXCIsZSkpO31nZXQgaGFzWigpe3JldHVybiB2b2lkIDAhPT10aGlzLnp9c2V0IGhhc1ooZSl7ZSE9PSh2b2lkIDAhPT10aGlzLl9nZXQoXCJ6XCIpKSYmKHRoaXMuX3NldChcInpcIixlPzA6dm9pZCAwKSx0aGlzLl9zZXQoXCJoYXNaXCIsZSkpO31nZXQgbGF0aXR1ZGUoKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOmUseDp0LHk6cn09dGhpcztpZihlKXtpZihlLmlzV2ViTWVyY2F0b3IpcmV0dXJuIHkkOCh0LHIsbSRiKVsxXTtpZihlLmlzR2VvZ3JhcGhpYylyZXR1cm4gcn1yZXR1cm4gbnVsbH1zZXQgbGF0aXR1ZGUoZSl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTp0LHg6cn09dGhpcztudWxsIT1lJiZ0JiYodC5pc1dlYk1lcmNhdG9yP3RoaXMuX3NldChcInlcIixNJDQocixlLG0kYilbMV0pOnQuaXNHZW9ncmFwaGljJiZ0aGlzLl9zZXQoXCJ5XCIsZSksdGhpcy5fc2V0KFwibGF0aXR1ZGVcIixlKSk7fWdldCBsb25naXR1ZGUoKXtjb25zdHt4OmUseTp0LHNwYXRpYWxSZWZlcmVuY2U6cn09dGhpcztpZihyKXtpZihyLmlzV2ViTWVyY2F0b3IpcmV0dXJuIHkkOChlLHQsbSRiKVswXTtpZihyLmlzR2VvZ3JhcGhpYylyZXR1cm4gZX1yZXR1cm4gbnVsbH1zZXQgbG9uZ2l0dWRlKGUpe2NvbnN0e3k6dCxzcGF0aWFsUmVmZXJlbmNlOnJ9PXRoaXM7bnVsbCE9ZSYmciYmKHIuaXNXZWJNZXJjYXRvcj90aGlzLl9zZXQoXCJ4XCIsTSQ0KGUsdCxtJGIpWzBdKTpyLmlzR2VvZ3JhcGhpYyYmdGhpcy5fc2V0KFwieFwiLGUpLHRoaXMuX3NldChcImxvbmdpdHVkZVwiLGUpKTt9d3JpdGVYKGUsdCxyKXt0W3JdPWlzTmFOKGUpP1wiTmFOXCI6ZTt9cmVhZFgoZSl7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlP05hTjplfWNsb25lKCl7Y29uc3QgZT1uZXcgeSQ3O3JldHVybiBlLng9dGhpcy54LGUueT10aGlzLnksZS56PXRoaXMueixlLm09dGhpcy5tLGUuc3BhdGlhbFJlZmVyZW5jZT10aGlzLnNwYXRpYWxSZWZlcmVuY2UsZX1jb3B5KGUpe3JldHVybiB5JDcuY29weShlLHRoaXMpLHRoaXN9ZXF1YWxzKGUpe2lmKG51bGw9PWUpcmV0dXJuICExO2NvbnN0e3g6dCx5OnIsejppLG06cyxzcGF0aWFsUmVmZXJlbmNlOm99PXRoaXMse3o6YSxtOmx9PWU7bGV0e3g6bix5OnUsc3BhdGlhbFJlZmVyZW5jZTpjfT1lO2lmKCFvLmVxdWFscyhjKSlpZihvLmlzV2ViTWVyY2F0b3ImJmMuaXNXR1M4NClbbix1XT1NJDQobix1KSxjPW87ZWxzZSB7aWYoIW8uaXNXR1M4NHx8IWMuaXNXZWJNZXJjYXRvcilyZXR1cm4gITE7W24sdV09eSQ4KG4sdSksYz1vO31yZXR1cm4gdD09PW4mJnI9PT11JiZpPT09YSYmcz09PWwmJm8ud2tpZD09PWMud2tpZH1vZmZzZXQoZSx0LHIpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LG51bGwhPXImJih0aGlzLno9KHRoaXMuej8/MCkrciksdGhpc31ub3JtYWxpemUoKXtpZighdGhpcy5zcGF0aWFsUmVmZXJlbmNlKXJldHVybiB0aGlzO2NvbnN0IGU9ZCRnKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk7aWYoIWUpcmV0dXJuIHRoaXM7bGV0IHQ9dGhpcy54O2NvbnN0W3IsaV09ZS52YWxpZCxzPTIqaTtsZXQgbztyZXR1cm4gdD5pPyhvPU1hdGguY2VpbChNYXRoLmFicyh0LWkpL3MpLHQtPW8qcyk6dDxyJiYobz1NYXRoLmNlaWwoTWF0aC5hYnModC1yKS9zKSx0Kz1vKnMpLHRoaXMuX3NldChcInhcIix0KSx0aGlzfWRpc3RhbmNlKGUpe3JldHVybiB0JGIodGhpcyxlKX10b0FycmF5KCl7Y29uc3QgZT10aGlzLmhhc1osdD10aGlzLmhhc007cmV0dXJuIGUmJnQ/W3RoaXMueCx0aGlzLnksdGhpcy56LHRoaXMubV06ZT9bdGhpcy54LHRoaXMueSx0aGlzLnpdOnQ/W3RoaXMueCx0aGlzLnksdGhpcy5tXTpbdGhpcy54LHRoaXMueV19dG9KU09OKGUpe3JldHVybiB0aGlzLndyaXRlKHt9LGUpfX07ZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLGckNy5wcm90b3R5cGUsXCJjYWNoZVwiLG51bGwpLGUkeChbeSRkKHt0eXBlOkJvb2xlYW4sanNvbjp7cmVhZDohMSx3cml0ZTp7ZW5hYmxlZDohMSxvdmVycmlkZVBvbGljeTpudWxsfX19KV0sZyQ3LnByb3RvdHlwZSxcImhhc01cIixudWxsKSxlJHgoW3kkZCh7dHlwZTpCb29sZWFuLGpzb246e3JlYWQ6ITEsd3JpdGU6e2VuYWJsZWQ6ITEsb3ZlcnJpZGVQb2xpY3k6bnVsbH19fSldLGckNy5wcm90b3R5cGUsXCJoYXNaXCIsbnVsbCksZSR4KFt5JGQoe3R5cGU6TnVtYmVyfSldLGckNy5wcm90b3R5cGUsXCJsYXRpdHVkZVwiLG51bGwpLGUkeChbeSRkKHt0eXBlOk51bWJlcn0pXSxnJDcucHJvdG90eXBlLFwibG9uZ2l0dWRlXCIsbnVsbCksZSR4KFt5JGQoe3R5cGU6TnVtYmVyLGpzb246e3R5cGU6W051bWJlcixTdHJpbmddLHdyaXRlOntpc1JlcXVpcmVkOiEwLGFsbG93TnVsbDohMH19fSkscyRpKChlPT5pc05hTihlKT9lOmEkbShlKSkpXSxnJDcucHJvdG90eXBlLFwieFwiLHZvaWQgMCksZSR4KFtyJGQoXCJ4XCIpXSxnJDcucHJvdG90eXBlLFwid3JpdGVYXCIsbnVsbCksZSR4KFtvJGwoXCJ4XCIpXSxnJDcucHJvdG90eXBlLFwicmVhZFhcIixudWxsKSxlJHgoW3kkZCh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLGckNy5wcm90b3R5cGUsXCJ5XCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6e292ZXJyaWRlUG9saWN5KCl7cmV0dXJuIHtlbmFibGVkOnRoaXMuaGFzWn19fX19KV0sZyQ3LnByb3RvdHlwZSxcInpcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm4ge2VuYWJsZWQ6dGhpcy5oYXNNfX19fX0pXSxnJDcucHJvdG90eXBlLFwibVwiLHZvaWQgMCksZyQ3PXkkNz1lJHgoW2EkaShcImVzcmkuZ2VvbWV0cnkuUG9pbnRcIildLGckNyksZyQ3LnByb3RvdHlwZS50b0pTT04uaXNEZWZhdWx0VG9KU09OPSEwO2NvbnN0IHgkYT1nJDc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuJGY9WzAsMF07ZnVuY3Rpb24gdCRhKG4sdCl7cmV0dXJuIG51bGwhPXQmJmUkaShuLHQueCx0LnksdC56KX1mdW5jdGlvbiB1JGgobix0KXtjb25zdHt4bWluOnIseW1pbjp1LHptaW46aSx4bWF4Om8seW1heDpmLHptYXg6Y309dDtyZXR1cm4gbi5oYXNaJiZ0Lmhhc1o/ZSRpKG4scix1LGkpJiZlJGkobixyLGYsaSkmJmUkaShuLG8sZixpKSYmZSRpKG4sbyx1LGkpJiZlJGkobixyLHUsYykmJmUkaShuLHIsZixjKSYmZSRpKG4sbyxmLGMpJiZlJGkobixvLHUsYyk6ZSRpKG4scix1KSYmZSRpKG4scixmKSYmZSRpKG4sbyxmKSYmZSRpKG4sbyx1KX1mdW5jdGlvbiBpJGcobix0KXtyZXR1cm4gZSRpKG4sdFswXSx0WzFdKX1mdW5jdGlvbiBvJGYobix0KXtyZXR1cm4gZSRpKG4sdFswXSx0WzFdLHRbMl0pfWZ1bmN0aW9uIGUkaShuLHQscix1KXtyZXR1cm4gdD49bi54bWluJiZ0PD1uLnhtYXgmJnI+PW4ueW1pbiYmcjw9bi55bWF4JiYobnVsbD09dXx8IW4uaGFzWnx8dT49bi56bWluJiZ1PD1uLnptYXgpfWZ1bmN0aW9uIGYkZSh0LHIpe3JldHVybiBuJGZbMV09ci55LG4kZlswXT1yLngsYyRqKHQsbiRmKX1mdW5jdGlvbiBjJGoobix0KXtyZXR1cm4gcyRoKG4ucmluZ3MsdCl9ZnVuY3Rpb24gcyRoKG4sdCl7aWYoIW4pcmV0dXJuICExO2lmKHgkOShuKSlyZXR1cm4gbSRhKCExLG4sdCk7bGV0IHI9ITE7Zm9yKGxldCB1PTAsaT1uLmxlbmd0aDt1PGk7dSsrKXI9bSRhKHIsblt1XSx0KTtyZXR1cm4gcn1mdW5jdGlvbiB4JDkobil7cmV0dXJuICFBcnJheS5pc0FycmF5KG5bMF1bMF0pfWZ1bmN0aW9uIG0kYShuLHQscil7Y29uc3RbdSxpXT1yO2xldCBvPW4sZT0wO2ZvcihsZXQgZj0wLGM9dC5sZW5ndGg7ZjxjO2YrKyl7ZSsrLGU9PT1jJiYoZT0wKTtjb25zdFtuLHJdPXRbZl0sW3MseF09dFtlXTsocjxpJiZ4Pj1pfHx4PGkmJnI+PWkpJiZuKyhpLXIpLyh4LXIpKihzLW4pPHUmJihvPSFvKTt9cmV0dXJuIG99XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBpJGYodCxlKXtyZXR1cm4gdCRhKHQsZSl9ZnVuY3Rpb24gbyRlKG4sdCl7Y29uc3QgZT1uLmhhc1omJnQuaGFzWjtsZXQgcixpLG87aWYobi54bWluPD10LnhtaW4pe2lmKHI9dC54bWluLG4ueG1heDxyKXJldHVybiAhMX1lbHNlIGlmKHI9bi54bWluLHQueG1heDxyKXJldHVybiAhMTtpZihuLnltaW48PXQueW1pbil7aWYoaT10LnltaW4sbi55bWF4PGkpcmV0dXJuICExfWVsc2UgaWYoaT1uLnltaW4sdC55bWF4PGkpcmV0dXJuICExO2lmKGUmJnQuaGFzWilpZihuLnptaW48PXQuem1pbil7aWYobz10LnptaW4sbi56bWF4PG8pcmV0dXJuICExfWVsc2UgaWYobz1uLnptaW4sdC56bWF4PG8pcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBmJGQobix0KXtjb25zdHtwb2ludHM6aSxoYXNaOm99PXQsZj1vP28kZjppJGc7Zm9yKGNvbnN0IGUgb2YgaSlpZihmKG4sZSkpcmV0dXJuICEwO3JldHVybiAhMX1jb25zdCBzJGc9WzAsMF0sdSRnPVswLDBdLGMkaT1bMCwwXSxtJDk9WzAsMF0sbCRjPVtzJGcsdSRnLGMkaSxtJDldLGEkZD1bW2MkaSxzJGddLFtzJGcsdSRnXSxbdSRnLG0kOV0sW20kOSxjJGldXTtmdW5jdGlvbiB4JDgobix0KXtyZXR1cm4geSQ2KG4sdC5yaW5ncyl9ZnVuY3Rpb24geSQ2KG4scil7cyRnWzBdPW4ueG1pbixzJGdbMV09bi55bWF4LHUkZ1swXT1uLnhtYXgsdSRnWzFdPW4ueW1heCxjJGlbMF09bi54bWluLGMkaVsxXT1uLnltaW4sbSQ5WzBdPW4ueG1heCxtJDlbMV09bi55bWluO2Zvcihjb25zdCBlIG9mIGwkYylpZihzJGgocixlKSlyZXR1cm4gITA7Zm9yKGNvbnN0IHQgb2Ygcil7aWYoIXQubGVuZ3RoKWNvbnRpbnVlO2xldCByPXRbMF07aWYoaSRnKG4scikpcmV0dXJuICEwO2ZvcihsZXQgaT0xO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBvPXRbaV07aWYoaSRnKG4sbyl8fHokNChyLG8sYSRkKSlyZXR1cm4gITA7cj1vO319cmV0dXJuICExfWZ1bmN0aW9uIGgkZChuLHQpe3MkZ1swXT1uLnhtaW4scyRnWzFdPW4ueW1heCx1JGdbMF09bi54bWF4LHUkZ1sxXT1uLnltYXgsYyRpWzBdPW4ueG1pbixjJGlbMV09bi55bWluLG0kOVswXT1uLnhtYXgsbSQ5WzFdPW4ueW1pbjtjb25zdCByPXQucGF0aHM7Zm9yKGNvbnN0IGkgb2Ygcil7aWYoIXIubGVuZ3RoKWNvbnRpbnVlO2xldCB0PWlbMF07aWYoaSRnKG4sdCkpcmV0dXJuICEwO2ZvcihsZXQgcj0xO3I8aS5sZW5ndGg7cisrKXtjb25zdCBvPWlbcl07aWYoaSRnKG4sbyl8fHokNCh0LG8sYSRkKSlyZXR1cm4gITA7dD1vO319cmV0dXJuICExfWNvbnN0IGckNj1bMCwwXTtmdW5jdGlvbiBwJGEobil7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0XTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoLTE7aSsrKXtjb25zdCByPWVbaV0sbz1lW2krMV07Zm9yKGxldCBlPXQrMTtlPG4ubGVuZ3RoO2UrKylmb3IobGV0IHQ9MDt0PG5bZV0ubGVuZ3RoLTE7dCsrKXtjb25zdCBpPW5bZV1bdF0sZj1uW2VdW3QrMV07aWYoRyQxKHIsbyxpLGYsZyQ2KSYmIShnJDZbMF09PT1yWzBdJiZnJDZbMV09PT1yWzFdfHxnJDZbMF09PT1pWzBdJiZnJDZbMV09PT1pWzFdfHxnJDZbMF09PT1vWzBdJiZnJDZbMV09PT1vWzFdfHxnJDZbMF09PT1mWzBdJiZnJDZbMV09PT1mWzFdKSlyZXR1cm4gITB9fWNvbnN0IHI9ZS5sZW5ndGg7aWYoIShyPD00KSlmb3IobGV0IG49MDtuPHItMztuKyspe2xldCB0PXItMTswPT09biYmKHQ9ci0yKTtjb25zdCBpPWVbbl0sbz1lW24rMV07Zm9yKGxldCByPW4rMjtyPHQ7cisrKXtjb25zdCBuPWVbcl0sdD1lW3IrMV07aWYoRyQxKGksbyxuLHQsZyQ2KSYmIShnJDZbMF09PT1pWzBdJiZnJDZbMV09PT1pWzFdfHxnJDZbMF09PT1uWzBdJiZnJDZbMV09PT1uWzFdfHxnJDZbMF09PT1vWzBdJiZnJDZbMV09PT1vWzFdfHxnJDZbMF09PT10WzBdJiZnJDZbMV09PT10WzFdKSlyZXR1cm4gITB9fX1yZXR1cm4gITF9ZnVuY3Rpb24geiQ0KG4sdCxlKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihHJDEobix0LGVbcl1bMF0sZVtyXVsxXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBHJDEobix0LGUscixpKXtjb25zdFtvLGZdPW4sW3MsdV09dCxbYyxtXT1lLFtsLGFdPXIseD1sLWMseT1vLWMsaD1zLW8sZz1hLW0scD1mLW0sej11LWYsRz1nKmgteCp6O2lmKDA9PT1HKXJldHVybiAhMTtjb25zdCBaPSh4KnAtZyp5KS9HLFA9KGgqcC16KnkpL0c7cmV0dXJuIFo+PTAmJlo8PTEmJlA+PTAmJlA8PTEmJihpJiYoaVswXT1vK1oqKHMtbyksaVsxXT1mK1oqKHUtZikpLCEwKX1mdW5jdGlvbiBaJDEobil7c3dpdGNoKG4pe2Nhc2VcImVzcmlHZW9tZXRyeUVudmVsb3BlXCI6Y2FzZVwiZXh0ZW50XCI6cmV0dXJuIG8kZTtjYXNlXCJlc3JpR2VvbWV0cnlNdWx0aXBvaW50XCI6Y2FzZVwibXVsdGlwb2ludFwiOnJldHVybiBmJGQ7Y2FzZVwiZXNyaUdlb21ldHJ5UG9pbnRcIjpjYXNlXCJwb2ludFwiOnJldHVybiBpJGY7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWdvblwiOmNhc2VcInBvbHlnb25cIjpyZXR1cm4geCQ4O2Nhc2VcImVzcmlHZW9tZXRyeVBvbHlsaW5lXCI6Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gaCRkfX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbnZhciB1JGY7ZnVuY3Rpb24gZiRjKHQpe3JldHVybiB0JiYoXCJlc3JpLmdlb21ldHJ5LlNwYXRpYWxSZWZlcmVuY2VcIj09PXQuZGVjbGFyZWRDbGFzc3x8bnVsbCE9dC53a2lkKX1mdW5jdGlvbiBkJGQodCxpLGUpe3JldHVybiBudWxsPT1pP2U6bnVsbD09ZT9pOnQoaSxlKX1sZXQgeiQzPXUkZj1jbGFzcyBleHRlbmRzIHAkYntjb25zdHJ1Y3RvciguLi50KXtzdXBlciguLi50KSx0aGlzLnR5cGU9XCJleHRlbnRcIix0aGlzLnhtaW49MCx0aGlzLnltaW49MCx0aGlzLm1taW49dm9pZCAwLHRoaXMuem1pbj12b2lkIDAsdGhpcy54bWF4PTAsdGhpcy55bWF4PTAsdGhpcy5tbWF4PXZvaWQgMCx0aGlzLnptYXg9dm9pZCAwO31ub3JtYWxpemVDdG9yQXJncyh0LGksZSxzLG4pe3JldHVybiBmJGModCk/e3NwYXRpYWxSZWZlcmVuY2U6dCx4bWluOjAseW1pbjowLHhtYXg6MCx5bWF4OjB9Olwib2JqZWN0XCI9PXR5cGVvZiB0Pyh0LnNwYXRpYWxSZWZlcmVuY2U9bnVsbD09dC5zcGF0aWFsUmVmZXJlbmNlP2YkZy5XR1M4NDp0LnNwYXRpYWxSZWZlcmVuY2UsdCk6e3htaW46dCx5bWluOmkseG1heDplLHltYXg6cyxzcGF0aWFsUmVmZXJlbmNlOm4/P2YkZy5XR1M4NH19c3RhdGljIGZyb21Cb3VuZHModCxpKXtyZXR1cm4gbmV3IHUkZih7eG1pbjp0WzBdLHltaW46dFsxXSx4bWF4OnRbMl0seW1heDp0WzNdLHNwYXRpYWxSZWZlcmVuY2U6aX0pfXN0YXRpYyBmcm9tUG9pbnQodCl7cmV0dXJuIG5ldyB1JGYoe3htaW46dC54LHltaW46dC55LHptaW46dC56LHhtYXg6dC54LHltYXg6dC55LHptYXg6dC56LHNwYXRpYWxSZWZlcmVuY2U6dC5zcGF0aWFsUmVmZXJlbmNlfSl9Z2V0IGNhY2hlKCl7cmV0dXJuIHRoaXMuY29tbWl0UHJvcGVydHkoXCJ4bWluXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ5bWluXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ6bWluXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJtbWluXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ4bWF4XCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ5bWF4XCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJ6bWF4XCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJtbWF4XCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJzcGF0aWFsUmVmZXJlbmNlXCIpLHt9fWdldCBjZW50ZXIoKXtjb25zdCB0PW5ldyB4JGEoe3g6LjUqKHRoaXMueG1pbit0aGlzLnhtYXgpLHk6LjUqKHRoaXMueW1pbit0aGlzLnltYXgpLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfSk7cmV0dXJuIHRoaXMuaGFzWiYmKHQuej0uNSoodGhpcy56bWluK3RoaXMuem1heCkpLHRoaXMuaGFzTSYmKHQubT0uNSoodGhpcy5tbWluK3RoaXMubW1heCkpLHR9Z2V0IGV4dGVudCgpe3JldHVybiB0aGlzLmNsb25lKCl9Z2V0IGhhc00oKXtyZXR1cm4gbnVsbCE9dGhpcy5tbWluJiZudWxsIT10aGlzLm1tYXh9Z2V0IGhhc1ooKXtyZXR1cm4gbnVsbCE9dGhpcy56bWluJiZudWxsIT10aGlzLnptYXh9Z2V0IGhlaWdodCgpe3JldHVybiBNYXRoLmFicyh0aGlzLnltYXgtdGhpcy55bWluKX1nZXQgd2lkdGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54bWF4LXRoaXMueG1pbil9Y2VudGVyQXQodCl7Y29uc3QgaT10aGlzLmNlbnRlcjtyZXR1cm4gbnVsbCE9dC56JiZ0aGlzLmhhc1o/dGhpcy5vZmZzZXQodC54LWkueCx0LnktaS55LHQuei1pLnopOnRoaXMub2Zmc2V0KHQueC1pLngsdC55LWkueSl9Y2xvbmUoKXtjb25zdCB0PW5ldyB1JGY7cmV0dXJuIHQueG1pbj10aGlzLnhtaW4sdC55bWluPXRoaXMueW1pbix0LnhtYXg9dGhpcy54bWF4LHQueW1heD10aGlzLnltYXgsdC5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxudWxsIT10aGlzLnptaW4mJih0LnptaW49dGhpcy56bWluLHQuem1heD10aGlzLnptYXgpLG51bGwhPXRoaXMubW1pbiYmKHQubW1pbj10aGlzLm1taW4sdC5tbWF4PXRoaXMubW1heCksdH1jb250YWlucyh0KXtpZighdClyZXR1cm4gITE7Y29uc3QgaT10aGlzLnNwYXRpYWxSZWZlcmVuY2UsZT10LnNwYXRpYWxSZWZlcmVuY2U7cmV0dXJuIGkmJmUmJiFpLmVxdWFscyhlKSYmeCRiKGksZSkmJih0PWkuaXNXZWJNZXJjYXRvcj9kJGUodCk6UiQyKHQsITApKSxcInBvaW50XCI9PT10LnR5cGU/dCRhKHRoaXMsdCk6XCJleHRlbnRcIj09PXQudHlwZSYmdSRoKHRoaXMsdCl9ZXF1YWxzKHQpe2lmKHRoaXM9PT10KXJldHVybiAhMDtpZihudWxsPT10KXJldHVybiAhMTtjb25zdCBpPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxlPXQuc3BhdGlhbFJlZmVyZW5jZTtyZXR1cm4gaSYmZSYmIWkuZXF1YWxzKGUpJiZ4JGIoaSxlKSYmKHQ9aS5pc1dlYk1lcmNhdG9yP2QkZSh0KTpSJDIodCwhMCkpLHRoaXMueG1pbj09PXQueG1pbiYmdGhpcy55bWluPT09dC55bWluJiZ0aGlzLnptaW49PT10LnptaW4mJnRoaXMubW1pbj09PXQubW1pbiYmdGhpcy54bWF4PT09dC54bWF4JiZ0aGlzLnltYXg9PT10LnltYXgmJnRoaXMuem1heD09PXQuem1heCYmdGhpcy5tbWF4PT09dC5tbWF4fWV4cGFuZCh0KXtjb25zdCBpPS41KigxLXQpLGU9dGhpcy53aWR0aCppLHM9dGhpcy5oZWlnaHQqaTtpZih0aGlzLnhtaW4rPWUsdGhpcy55bWluKz1zLHRoaXMueG1heC09ZSx0aGlzLnltYXgtPXMsdGhpcy5oYXNaKXtjb25zdCB0PSh0aGlzLnptYXgtdGhpcy56bWluKSppO3RoaXMuem1pbis9dCx0aGlzLnptYXgtPXQ7fWlmKHRoaXMuaGFzTSl7Y29uc3QgdD0odGhpcy5tbWF4LXRoaXMubW1pbikqaTt0aGlzLm1taW4rPXQsdGhpcy5tbWF4LT10O31yZXR1cm4gdGhpc31pbnRlcnNlY3RzKHQpe2lmKG51bGw9PXQpcmV0dXJuICExO1wibWVzaFwiPT09dC50eXBlJiYodD10LmV4dGVudCk7Y29uc3QgaT10aGlzLnNwYXRpYWxSZWZlcmVuY2UsZT10LnNwYXRpYWxSZWZlcmVuY2U7aSYmZSYmIVMkNChpLGUpJiZ4JGIoaSxlKSYmKHQ9aS5pc1dlYk1lcmNhdG9yP2QkZSh0KTpSJDIodCwhMCkpO3JldHVybiBaJDEodC50eXBlKSh0aGlzLHQpfW5vcm1hbGl6ZSgpe2NvbnN0IHQ9dGhpcy5fbm9ybWFsaXplKCExLCEwKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Olt0XX1vZmZzZXQodCxpLGUpe3JldHVybiB0aGlzLnhtaW4rPXQsdGhpcy55bWluKz1pLHRoaXMueG1heCs9dCx0aGlzLnltYXgrPWksbnVsbCE9ZSYmKHRoaXMuem1pbis9ZSx0aGlzLnptYXgrPWUpLHRoaXN9c2hpZnRDZW50cmFsTWVyaWRpYW4oKXtyZXR1cm4gdGhpcy5fbm9ybWFsaXplKCEwKX11bmlvbih0KXtyZXR1cm4gdGhpcz09PXR8fCh0aGlzLnhtaW49TWF0aC5taW4odGhpcy54bWluLHQueG1pbiksdGhpcy55bWluPU1hdGgubWluKHRoaXMueW1pbix0LnltaW4pLHRoaXMueG1heD1NYXRoLm1heCh0aGlzLnhtYXgsdC54bWF4KSx0aGlzLnltYXg9TWF0aC5tYXgodGhpcy55bWF4LHQueW1heCksKHRoaXMuaGFzWnx8dC5oYXNaKSYmKHRoaXMuem1pbj1kJGQoTWF0aC5taW4sdGhpcy56bWluLHQuem1pbiksdGhpcy56bWF4PWQkZChNYXRoLm1heCx0aGlzLnptYXgsdC56bWF4KSksKHRoaXMuaGFzTXx8dC5oYXNNKSYmKHRoaXMubW1pbj1kJGQoTWF0aC5taW4sdGhpcy5tbWluLHQubW1pbiksdGhpcy5tbWF4PWQkZChNYXRoLm1heCx0aGlzLm1tYXgsdC5tbWF4KSkpLHRoaXN9aW50ZXJzZWN0aW9uKHQpe3JldHVybiB0aGlzPT09dD90aGlzOm51bGwhPXQmJnRoaXMuaW50ZXJzZWN0cyh0KT8odGhpcy54bWluPU1hdGgubWF4KHRoaXMueG1pbix0LnhtaW4pLHRoaXMueW1pbj1NYXRoLm1heCh0aGlzLnltaW4sdC55bWluKSx0aGlzLnhtYXg9TWF0aC5taW4odGhpcy54bWF4LHQueG1heCksdGhpcy55bWF4PU1hdGgubWluKHRoaXMueW1heCx0LnltYXgpLCh0aGlzLmhhc1p8fHQuaGFzWikmJih0aGlzLnptaW49ZCRkKE1hdGgubWF4LHRoaXMuem1pbix0LnptaW4pLHRoaXMuem1heD1kJGQoTWF0aC5taW4sdGhpcy56bWF4LHQuem1heCkpLCh0aGlzLmhhc018fHQuaGFzTSkmJih0aGlzLm1taW49ZCRkKE1hdGgubWF4LHRoaXMubW1pbix0Lm1taW4pLHRoaXMubW1heD1kJGQoTWF0aC5taW4sdGhpcy5tbWF4LHQubW1heCkpLHRoaXMpOm51bGx9dG9KU09OKHQpe3JldHVybiB0aGlzLndyaXRlKHt9LHQpfV9zaGlmdENNKHQ9ZCRnKHRoaXMuc3BhdGlhbFJlZmVyZW5jZSkpe2lmKCF0fHwhdGhpcy5zcGF0aWFsUmVmZXJlbmNlKXJldHVybiB0aGlzO2NvbnN0IGU9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHM9dGhpcy5fZ2V0Q00odCk7aWYocyl7Y29uc3Qgbj1lLmlzV2ViTWVyY2F0b3I/UiQyKHMpOnM7dGhpcy54bWluLT1zLngsdGhpcy54bWF4LT1zLngsZS5pc1dlYk1lcmNhdG9yfHwobi54PXRoaXMuX25vcm1hbGl6ZVgobi54LHQpLngpLHRoaXMuc3BhdGlhbFJlZmVyZW5jZT1uZXcgZiRnKHIkcSgoZS5pc1dHUzg0P3QuYWx0VGVtcGxhdGU6bnVsbCk/P3Qud2tUZW1wbGF0ZSx7Q2VudHJhbF9NZXJpZGlhbjpuLnh9KSk7fXJldHVybiB0aGlzfV9nZXRDTSh0KXtsZXQgaT1udWxsO2NvbnN0W2Usc109dC52YWxpZCxuPXRoaXMueG1pbixtPXRoaXMueG1heDtyZXR1cm4gbj49ZSYmbjw9cyYmKG0+PWUmJm08PXMpfHwoaT10aGlzLmNlbnRlciksaX1fbm9ybWFsaXplKHQsaSxlKXtjb25zdCBzPXRoaXMuc3BhdGlhbFJlZmVyZW5jZTtpZighcylyZXR1cm4gdGhpcztjb25zdCBuPWU/P2QkZyhzKTtpZihudWxsPT1uKXJldHVybiB0aGlzO2NvbnN0IG09dGhpcy5fZ2V0UGFydHMobikubWFwKCh0PT50LmV4dGVudCkpO2lmKG0ubGVuZ3RoPDIpcmV0dXJuIG1bMF18fHRoaXM7aWYobS5sZW5ndGg+MilyZXR1cm4gdD90aGlzLl9zaGlmdENNKG4pOnRoaXMuc2V0KHt4bWluOm4udmFsaWRbMF0seG1heDpuLnZhbGlkWzFdfSk7aWYodClyZXR1cm4gdGhpcy5fc2hpZnRDTShuKTtpZihpKXJldHVybiBtO2xldCByPSEwLGE9ITA7cmV0dXJuIG0uZm9yRWFjaCgodD0+e3QuaGFzWnx8KHI9ITEpLHQuaGFzTXx8KGE9ITEpO30pKSx7cmluZ3M6bS5tYXAoKHQ9Pntjb25zdCBpPVtbdC54bWluLHQueW1pbl0sW3QueG1pbix0LnltYXhdLFt0LnhtYXgsdC55bWF4XSxbdC54bWF4LHQueW1pbl0sW3QueG1pbix0LnltaW5dXTtpZihyKXtjb25zdCBlPSh0LnptYXgtdC56bWluKS8yO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKWlbdF0ucHVzaChlKTt9aWYoYSl7Y29uc3QgZT0odC5tbWF4LXQubW1pbikvMjtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylpW3RdLnB1c2goZSk7fXJldHVybiBpfSkpLGhhc1o6cixoYXNNOmEsc3BhdGlhbFJlZmVyZW5jZTpzfX1fZ2V0UGFydHModCl7bGV0IGk9dGhpcy5jYWNoZS5fcGFydHM7aWYoIWkpe2k9W107Y29uc3R7eW1pbjplLHltYXg6cyxzcGF0aWFsUmVmZXJlbmNlOm59PXRoaXMsbT10aGlzLndpZHRoLHI9dGhpcy54bWluLGE9dGhpcy54bWF4O2xldCBoO3Q9dHx8ZCRnKG4pO2NvbnN0W28seF09dC52YWxpZDtoPXRoaXMuX25vcm1hbGl6ZVgodGhpcy54bWluLHQpO2NvbnN0IHA9aC54LGM9aC5mcmFtZUlkO2g9dGhpcy5fbm9ybWFsaXplWCh0aGlzLnhtYXgsdCk7Y29uc3QgeT1oLngsZj1oLmZyYW1lSWQsZD1wPT09eSYmbT4wO2lmKG0+Mip4KXtjb25zdCB0PW5ldyB1JGYocjxhP3A6eSxlLHgscyxuKSxtPW5ldyB1JGYobyxlLHI8YT95OnAscyxuKSxoPW5ldyB1JGYoMCxlLHgscyxuKSxsPW5ldyB1JGYobyxlLDAscyxuKSxkPVtdLHo9W107dC5jb250YWlucyhoKSYmZC5wdXNoKGMpLHQuY29udGFpbnMobCkmJnoucHVzaChjKSxtLmNvbnRhaW5zKGgpJiZkLnB1c2goZiksbS5jb250YWlucyhsKSYmei5wdXNoKGYpO2ZvcihsZXQgaT1jKzE7aTxmO2krKylkLnB1c2goaSksei5wdXNoKGkpO2kucHVzaCh7ZXh0ZW50OnQsZnJhbWVJZHM6W2NdfSx7ZXh0ZW50Om0sZnJhbWVJZHM6W2ZdfSx7ZXh0ZW50OmgsZnJhbWVJZHM6ZH0se2V4dGVudDpsLGZyYW1lSWRzOnp9KTt9ZWxzZSBwPnl8fGQ/aS5wdXNoKHtleHRlbnQ6bmV3IHUkZihwLGUseCxzLG4pLGZyYW1lSWRzOltjXX0se2V4dGVudDpuZXcgdSRmKG8sZSx5LHMsbiksZnJhbWVJZHM6W2ZdfSk6aS5wdXNoKHtleHRlbnQ6bmV3IHUkZihwLGUseSxzLG4pLGZyYW1lSWRzOltjXX0pO3RoaXMuY2FjaGUuX3BhcnRzPWk7fWNvbnN0IGU9dGhpcy5oYXNaLHM9dGhpcy5oYXNNO2lmKGV8fHMpe2NvbnN0IHQ9e307ZSYmKHQuem1pbj10aGlzLnptaW4sdC56bWF4PXRoaXMuem1heCkscyYmKHQubW1pbj10aGlzLm1taW4sdC5tbWF4PXRoaXMubW1heCk7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspaVtlXS5leHRlbnQuc2V0KHQpO31yZXR1cm4gaX1fbm9ybWFsaXplWCh0LGkpe2NvbnN0W2Usc109aS52YWxpZCxuPTIqcztsZXQgbSxyPTA7cmV0dXJuIHQ+cz8obT1NYXRoLmNlaWwoTWF0aC5hYnModC1zKS9uKSx0LT1tKm4scj1tKTp0PGUmJihtPU1hdGguY2VpbChNYXRoLmFicyh0LWUpL24pLHQrPW0qbixyPS1tKSx7eDp0LGZyYW1lSWQ6cn19fTtlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0seiQzLnByb3RvdHlwZSxcImNhY2hlXCIsbnVsbCksZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLHokMy5wcm90b3R5cGUsXCJjZW50ZXJcIixudWxsKSxlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0seiQzLnByb3RvdHlwZSxcImV4dGVudFwiLG51bGwpLGUkeChbeSRkKHtyZWFkT25seTohMCxqc29uOnt3cml0ZTp7ZW5hYmxlZDohMSxvdmVycmlkZVBvbGljeTpudWxsfX19KV0seiQzLnByb3RvdHlwZSxcImhhc01cIixudWxsKSxlJHgoW3kkZCh7cmVhZE9ubHk6ITAsanNvbjp7d3JpdGU6e2VuYWJsZWQ6ITEsb3ZlcnJpZGVQb2xpY3k6bnVsbH19fSldLHokMy5wcm90b3R5cGUsXCJoYXNaXCIsbnVsbCksZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLHokMy5wcm90b3R5cGUsXCJoZWlnaHRcIixudWxsKSxlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0seiQzLnByb3RvdHlwZSxcIndpZHRoXCIsbnVsbCksZSR4KFt5JGQoe3R5cGU6TnVtYmVyLGpzb246e3R5cGU6W051bWJlcixTdHJpbmddLHdyaXRlOntlbmFibGVkOiEwLGFsbG93TnVsbDohMH19fSldLHokMy5wcm90b3R5cGUsXCJ4bWluXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpOdW1iZXIsanNvbjp7d3JpdGU6ITB9fSldLHokMy5wcm90b3R5cGUsXCJ5bWluXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpOdW1iZXIsanNvbjp7b3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7d3JpdGU6ITF9fSx3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm4ge2VuYWJsZWQ6dGhpcy5oYXNNfX19fX0pXSx6JDMucHJvdG90eXBlLFwibW1pblwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6TnVtYmVyLGpzb246e29yaWdpbnM6e1wid2ViLXNjZW5lXCI6e3dyaXRlOiExfX0sd3JpdGU6e292ZXJyaWRlUG9saWN5KCl7cmV0dXJuIHtlbmFibGVkOnRoaXMuaGFzWn19fX19KV0seiQzLnByb3RvdHlwZSxcInptaW5cIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0seiQzLnByb3RvdHlwZSxcInhtYXhcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0seiQzLnByb3RvdHlwZSxcInltYXhcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOk51bWJlcixqc29uOntvcmlnaW5zOntcIndlYi1zY2VuZVwiOnt3cml0ZTohMX19LHdyaXRlOntvdmVycmlkZVBvbGljeSgpe3JldHVybiB7ZW5hYmxlZDp0aGlzLmhhc019fX19fSldLHokMy5wcm90b3R5cGUsXCJtbWF4XCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpOdW1iZXIsanNvbjp7b3JpZ2luczp7XCJ3ZWItc2NlbmVcIjp7d3JpdGU6ITF9fSx3cml0ZTp7b3ZlcnJpZGVQb2xpY3koKXtyZXR1cm4ge2VuYWJsZWQ6dGhpcy5oYXNafX19fX0pXSx6JDMucHJvdG90eXBlLFwiem1heFwiLHZvaWQgMCkseiQzPXUkZj1lJHgoW2EkaShcImVzcmkuZ2VvbWV0cnkuRXh0ZW50XCIpXSx6JDMpLHokMy5wcm90b3R5cGUudG9KU09OLmlzRGVmYXVsdFRvSlNPTj0hMDtjb25zdCBNJDM9eiQzO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IGkkZT1jbGFzcyBleHRlbmRzIGwkZntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmFkZHJlc3M9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9bnVsbCx0aGlzLmV4dGVudD1udWxsLHRoaXMubG9jYXRpb249bnVsbCx0aGlzLnNjb3JlPW51bGw7fX07ZSR4KFt5JGQoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxpJGUucHJvdG90eXBlLFwiYWRkcmVzc1wiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6T2JqZWN0LGpzb246e3dyaXRlOiEwfX0pXSxpJGUucHJvdG90eXBlLFwiYXR0cmlidXRlc1wiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6TSQzLGpzb246e3dyaXRlOiEwfX0pXSxpJGUucHJvdG90eXBlLFwiZXh0ZW50XCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTp4JGEsanNvbjp7d3JpdGU6ITB9fSldLGkkZS5wcm90b3R5cGUsXCJsb2NhdGlvblwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxpJGUucHJvdG90eXBlLFwic2NvcmVcIix2b2lkIDApLGkkZT1lJHgoW2EkaShcImVzcmkucmVzdC5zdXBwb3J0LkFkZHJlc3NDYW5kaWRhdGVcIildLGkkZSk7Y29uc3QgYyRoPWkkZTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGgkYyhoLGEscz0hMSl7bGV0e2hhc006dCxoYXNaOmV9PWg7QXJyYXkuaXNBcnJheShhKT80IT09YS5sZW5ndGh8fHR8fGU/Mz09PWEubGVuZ3RoJiZzJiYhdD8oZT0hMCx0PSExKTozPT09YS5sZW5ndGgmJnQmJmUmJih0PSExLGU9ITEpOih0PSEwLGU9ITApOihlPSFlJiZhLmhhc1omJighdHx8YS5oYXNNKSx0PSF0JiZhLmhhc00mJighZXx8YS5oYXNaKSksaC5oYXNaPWUsaC5oYXNNPXQ7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGgkYjtmdW5jdGlvbiBsJGIodCl7cmV0dXJuIChzLGUpPT5udWxsPT1zP2U6bnVsbD09ZT9zOnQocyxlKX1mdW5jdGlvbiBjJGcodCl7cmV0dXJuIHQmJihcImVzcmkuZ2VvbWV0cnkuU3BhdGlhbFJlZmVyZW5jZVwiPT09dC5kZWNsYXJlZENsYXNzfHxudWxsIT10LndraWQpfWxldCBtJDg9aCRiPWNsYXNzIGV4dGVuZHMgcCRie2NvbnN0cnVjdG9yKC4uLnQpe3N1cGVyKC4uLnQpLHRoaXMucG9pbnRzPVtdLHRoaXMudHlwZT1cIm11bHRpcG9pbnRcIjt9bm9ybWFsaXplQ3RvckFyZ3ModCxzKXtpZighdCYmIXMpcmV0dXJuIHt9O2NvbnN0IGU9e307QXJyYXkuaXNBcnJheSh0KT8oZS5wb2ludHM9dCxlLnNwYXRpYWxSZWZlcmVuY2U9cyk6YyRnKHQpP2Uuc3BhdGlhbFJlZmVyZW5jZT10Oih0LnBvaW50cyYmKGUucG9pbnRzPXQucG9pbnRzKSx0LnNwYXRpYWxSZWZlcmVuY2UmJihlLnNwYXRpYWxSZWZlcmVuY2U9dC5zcGF0aWFsUmVmZXJlbmNlKSx0Lmhhc1omJihlLmhhc1o9dC5oYXNaKSx0Lmhhc00mJihlLmhhc009dC5oYXNNKSk7Y29uc3QgaT1lLnBvaW50cyYmZS5wb2ludHNbMF07cmV0dXJuIGkmJih2b2lkIDA9PT1lLmhhc1omJnZvaWQgMD09PWUuaGFzTT8oZS5oYXNaPWkubGVuZ3RoPjIsZS5oYXNNPSExKTp2b2lkIDA9PT1lLmhhc1o/ZS5oYXNaPWkubGVuZ3RoPjM6dm9pZCAwPT09ZS5oYXNNJiYoZS5oYXNNPWkubGVuZ3RoPjMpKSxlfWdldCBjYWNoZSgpe3JldHVybiB0aGlzLmNvbW1pdFByb3BlcnR5KFwicG9pbnRzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJoYXNaXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJoYXNNXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJzcGF0aWFsUmVmZXJlbmNlXCIpLHt9fWdldCBleHRlbnQoKXtjb25zdCB0PXRoaXMucG9pbnRzO2lmKCF0Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBzPW5ldyBNJDMsZT10aGlzLmhhc1osaT10aGlzLmhhc00scj1lPzM6MixuPXRbMF0sYT1sJGIoTWF0aC5taW4pLHA9bCRiKE1hdGgubWF4KTtsZXQgaCxjLG0sdSxbZix5XT1uLFtkLGddPW47Zm9yKGxldCBvPTAsbD10Lmxlbmd0aDtvPGw7bysrKXtjb25zdCBzPXRbb10sW24sbF09cztpZihmPWEoZixuKSx5PWEoeSxsKSxkPXAoZCxuKSxnPXAoZyxsKSxlJiZzLmxlbmd0aD4yKXtjb25zdCB0PXNbMl07aD1hKGgsdCksbT1wKG0sdCk7fWlmKGkmJnMubGVuZ3RoPnIpe2NvbnN0IHQ9c1tyXTtjPWEoYyx0KSx1PXAodSx0KTt9fXJldHVybiBzLnhtaW49ZixzLnltaW49eSxzLnhtYXg9ZCxzLnltYXg9ZyxzLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLGU/KHMuem1pbj1oLHMuem1heD1tKToocy56bWluPXZvaWQgMCxzLnptYXg9dm9pZCAwKSxpPyhzLm1taW49YyxzLm1tYXg9dSk6KHMubW1pbj12b2lkIDAscy5tbWF4PXZvaWQgMCksc313cml0ZVBvaW50cyh0LGUpe2UucG9pbnRzPWEkdih0aGlzLnBvaW50cyk7fWFkZFBvaW50KHQpe3JldHVybiBoJGModGhpcyx0KSxBcnJheS5pc0FycmF5KHQpP3RoaXMucG9pbnRzLnB1c2godCk6dGhpcy5wb2ludHMucHVzaCh0LnRvQXJyYXkoKSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJwb2ludHNcIiksdGhpc31jbG9uZSgpe2NvbnN0IHQ9e3BvaW50czphJHYodGhpcy5wb2ludHMpLHNwYXRpYWxSZWZlcmVuY2U6dGhpcy5zcGF0aWFsUmVmZXJlbmNlfTtyZXR1cm4gdGhpcy5oYXNaJiYodC5oYXNaPSEwKSx0aGlzLmhhc00mJih0Lmhhc009ITApLG5ldyBoJGIodCl9Z2V0UG9pbnQodCl7aWYoIXRoaXMuX3ZhbGlkYXRlSW5wdXRzKHQpKXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5wb2ludHNbdF0sZT17eDpzWzBdLHk6c1sxXSxzcGF0aWFsUmVmZXJlbmNlOnRoaXMuc3BhdGlhbFJlZmVyZW5jZX07bGV0IGk9MjtyZXR1cm4gdGhpcy5oYXNaJiYoZS56PXNbMl0saT0zKSx0aGlzLmhhc00mJihlLm09c1tpXSksbmV3IHgkYShlKX1yZW1vdmVQb2ludCh0KXtpZighdGhpcy5fdmFsaWRhdGVJbnB1dHModCkpcmV0dXJuIG51bGw7Y29uc3Qgcz1uZXcgeCRhKHRoaXMucG9pbnRzLnNwbGljZSh0LDEpWzBdLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIHRoaXMubm90aWZ5Q2hhbmdlKFwicG9pbnRzXCIpLHN9c2V0UG9pbnQodCxzKXtyZXR1cm4gdGhpcy5fdmFsaWRhdGVJbnB1dHModCk/KGgkYyh0aGlzLHMpLEFycmF5LmlzQXJyYXkocyl8fChzPXMudG9BcnJheSgpKSx0aGlzLnBvaW50c1t0XT1zLHRoaXMubm90aWZ5Q2hhbmdlKFwicG9pbnRzXCIpLHRoaXMpOnRoaXN9dG9KU09OKHQpe3JldHVybiB0aGlzLndyaXRlKHt9LHQpfV92YWxpZGF0ZUlucHV0cyh0KXtyZXR1cm4gbnVsbCE9dCYmdD49MCYmdDx0aGlzLnBvaW50cy5sZW5ndGh9fTtlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0sbSQ4LnByb3RvdHlwZSxcImNhY2hlXCIsbnVsbCksZSR4KFt5JGQoKV0sbSQ4LnByb3RvdHlwZSxcImV4dGVudFwiLG51bGwpLGUkeChbeSRkKHt0eXBlOltbTnVtYmVyXV0sanNvbjp7d3JpdGU6e2lzUmVxdWlyZWQ6ITB9fX0pXSxtJDgucHJvdG90eXBlLFwicG9pbnRzXCIsdm9pZCAwKSxlJHgoW3IkZChcInBvaW50c1wiKV0sbSQ4LnByb3RvdHlwZSxcIndyaXRlUG9pbnRzXCIsbnVsbCksbSQ4PWgkYj1lJHgoW2EkaShcImVzcmkuZ2VvbWV0cnkuTXVsdGlwb2ludFwiKV0sbSQ4KSxtJDgucHJvdG90eXBlLnRvSlNPTi5pc0RlZmF1bHRUb0pTT049ITA7Y29uc3QgdSRlPW0kODtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHIkYih0LG4pe2NvbnN0IGU9blswXS10WzBdLHI9blsxXS10WzFdO2lmKHQubGVuZ3RoPjImJm4ubGVuZ3RoPjIpe2NvbnN0IGk9dFsyXS1uWzJdO3JldHVybiBNYXRoLnNxcnQoZSplK3IqcitpKmkpfXJldHVybiBNYXRoLnNxcnQoZSplK3Iqcil9ZnVuY3Rpb24gaSRkKHQsbixlKXtjb25zdCByPXRbMF0rZSooblswXS10WzBdKSxpPXRbMV0rZSooblsxXS10WzFdKTtyZXR1cm4gdC5sZW5ndGg+MiYmbi5sZW5ndGg+Mj9bcixpLHRbMl0rZSooblsyXS10WzJdKV06W3IsaV19ZnVuY3Rpb24gbCRhKHQsbil7cmV0dXJuIGkkZCh0LG4sLjUpfWZ1bmN0aW9uIGgkYSh0LG4sZSl7Y29uc3Qgcj10Lmxlbmd0aDtsZXQgaT0wLG89MCxzPTA7Zm9yKGxldCBmPTA7ZjxyO2YrKyl7Y29uc3QgbD10W2ZdLHU9dFsoZisxKSVyXTtsZXQgYz0yO2krPWxbMF0qdVsxXS11WzBdKmxbMV0sbC5sZW5ndGg+MiYmdS5sZW5ndGg+MiYmZSYmKG8rPWxbMF0qdVsyXS11WzBdKmxbMl0sYz0zKSxsLmxlbmd0aD5jJiZ1Lmxlbmd0aD5jJiZuJiYocys9bFswXSp1W2NdLXVbMF0qbFtjXSk7fXJldHVybiBpPD0wJiZvPD0wJiZzPD0wfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbyRkKHQpe3JldHVybiB0P3UkZCh0LnJpbmdzLHQuaGFzWj8/ITEpOm51bGx9ZnVuY3Rpb24gdSRkKHQsbil7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCBlPVtdLHI9W10sbD1uP1sxLzAsLTEvMCwxLzAsLTEvMCwxLzAsLTEvMF06WzEvMCwtMS8wLDEvMCwtMS8wXTtmb3IobGV0IG89MCx1PXQubGVuZ3RoO288dTtvKyspe2NvbnN0IGU9cyRmKHRbb10sbixsKTtlJiZyLnB1c2goZSk7fWlmKHIuc29ydCgoKHQsZSk9PntsZXQgcj10WzJdLWVbMl07cmV0dXJuIDA9PT1yJiZuJiYocj10WzRdLWVbNF0pLHJ9KSksci5sZW5ndGgmJihlWzBdPXJbMF1bMF0sZVsxXT1yWzBdWzFdLG4mJihlWzJdPXJbMF1bM10pLChlWzBdPGxbMF18fGVbMF0+bFsxXXx8ZVsxXTxsWzJdfHxlWzFdPmxbM118fG4mJihlWzJdPGxbNF18fGVbMl0+bFs1XSkpJiYoZS5sZW5ndGg9MCkpLCFlLmxlbmd0aCl7Y29uc3Qgcj10WzBdJiZ0WzBdLmxlbmd0aD9JJDIodFswXSxuKTpudWxsO2lmKCFyKXJldHVybiBudWxsO2VbMF09clswXSxlWzFdPXJbMV0sbiYmci5sZW5ndGg+MiYmKGVbMl09clsyXSk7fXJldHVybiBlfWZ1bmN0aW9uIHMkZih0LG4sZSl7bGV0IHI9MCxsPTAsbz0wLHU9MCxzPTA7Y29uc3QgST10Lmxlbmd0aD90WzBdWzBdOjAsaT10Lmxlbmd0aD90WzBdWzFdOjAsaD10Lmxlbmd0aCYmbj90WzBdWzJdOjA7Zm9yKGxldCBOPTA7Tjx0Lmxlbmd0aDtOKyspe2NvbnN0IGM9dFtOXSxmPXRbKE4rMSkldC5sZW5ndGhdLFttLHgsZ109YyxQPW0tSSxUPXgtaSxbYSxFLHldPWYsYj1hLUksRj1FLWksVj1QKkYtYipUO2lmKHUrPVYscis9KFArYikqVixsKz0oVCtGKSpWLG4mJmMubGVuZ3RoPjImJmYubGVuZ3RoPjIpe2NvbnN0IHQ9Zy1oLG49eS1oLGU9UCpuLWIqdDtvKz0odCtuKSplLHMrPWU7fW08ZVswXSYmKGVbMF09bSksbT5lWzFdJiYoZVsxXT1tKSx4PGVbMl0mJihlWzJdPXgpLHg+ZVszXSYmKGVbM109eCksbiYmKGc8ZVs0XSYmKGVbNF09ZyksZz5lWzVdJiYoZVs1XT1nKSk7fWlmKHU+MCYmKHUqPS0xKSxzPjAmJihzKj0tMSksIXUpcmV0dXJuIG51bGw7dSo9LjUscyo9LjU7Y29uc3QgYz1bci8oNip1KStJLGwvKDYqdSkraSx1XTtyZXR1cm4gbiYmKGVbNF09PT1lWzVdfHwwPT09cz8oY1szXT0oZVs0XStlWzVdKS8yLGNbNF09MCk6KGNbM109by8oNipzKStoLGNbNF09cykpLGN9ZnVuY3Rpb24gSSQyKHQscil7Y29uc3QgbD1yP1swLDAsMF06WzAsMF0sbz1yP1swLDAsMF06WzAsMF07bGV0IHU9MCxzPTAsST0wLGk9MDtmb3IobGV0IGg9MCxjPXQubGVuZ3RoO2g8Yy0xO2grKyl7Y29uc3QgYz10W2hdLE49dFtoKzFdO2lmKGMmJk4pe2xbMF09Y1swXSxsWzFdPWNbMV0sb1swXT1OWzBdLG9bMV09TlsxXSxyJiZjLmxlbmd0aD4yJiZOLmxlbmd0aD4yJiYobFsyXT1jWzJdLG9bMl09TlsyXSk7Y29uc3QgdD1yJGIobCxvKTtpZih0KXt1Kz10O2NvbnN0IG49bCRhKGMsTik7cys9dCpuWzBdLEkrPXQqblsxXSxyJiZuLmxlbmd0aD4yJiYoaSs9dCpuWzJdKTt9fX1yZXR1cm4gdT4wP3I/W3MvdSxJL3UsaS91XTpbcy91LEkvdV06dC5sZW5ndGg/dFswXTpudWxsfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gbiRlKCl7cmV0dXJuIFswLDAsMF19ZnVuY3Rpb24gdCQ5KG4pe3JldHVybiBbblswXSxuWzFdLG5bMl1dfWZ1bmN0aW9uIHIkYShuLHQscil7cmV0dXJuIFtuLHQscl19ZnVuY3Rpb24gZSRoKHQpe2NvbnN0IHI9biRlKCksZT1NYXRoLm1pbigzLHQubGVuZ3RoKTtmb3IobGV0IG49MDtuPGU7KytuKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiB1JGMobix0KXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShuLHQsMyl9ZnVuY3Rpb24gbyRjKCl7cmV0dXJuIG4kZSgpfWZ1bmN0aW9uIGEkYygpe3JldHVybiByJGEoMSwxLDEpfWZ1bmN0aW9uIHMkZSgpe3JldHVybiByJGEoMSwwLDApfWZ1bmN0aW9uIGMkZigpe3JldHVybiByJGEoMCwxLDApfWZ1bmN0aW9uIGkkYygpe3JldHVybiByJGEoMCwwLDEpfWNvbnN0IGYkYj1vJGMoKSxsJDk9YSRjKCksXyQ3PXMkZSgpLE8kMz1jJGYoKSxiJDQ9aSRjKCk7T2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydHkoe19fcHJvdG9fXzpudWxsLE9ORVM6bCQ5LFVOSVRfWDpfJDcsVU5JVF9ZOk8kMyxVTklUX1o6YiQ0LFpFUk9TOmYkYixjbG9uZTp0JDksY3JlYXRlOm4kZSxjcmVhdGVWaWV3OnUkYyxmcm9tQXJyYXk6ZSRoLGZyb21WYWx1ZXM6ciRhLG9uZXM6YSRjLHVuaXRYOnMkZSx1bml0WTpjJGYsdW5pdFo6aSRjLHplcm9zOm8kY30sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IHQkOD0xZS02O2Z1bmN0aW9uIGEkYigpe3JldHVybiB0JDh9ZnVuY3Rpb24gZSRnKGEpe3QkOD1hO31jb25zdCBuJGQ9TWF0aC5yYW5kb20sbyRiPU1hdGguUEkvMTgwLHMkZD0xODAvTWF0aC5QSTtmdW5jdGlvbiByJDkodCl7cmV0dXJuIHQqbyRifWZ1bmN0aW9uIHUkYih0KXtyZXR1cm4gdCpzJGR9ZnVuY3Rpb24gYyRlKGEsZSl7cmV0dXJuIE1hdGguYWJzKGEtZSk8PXQkOCpNYXRoLm1heCgxLE1hdGguYWJzKGEpLE1hdGguYWJzKGUpKX1PYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7X19wcm90b19fOm51bGwsUkFORE9NOm4kZCxlcXVhbHM6YyRlLGdldEVwc2lsb246YSRiLHNldEVwc2lsb246ZSRnLHRvRGVncmVlOnUkYix0b1JhZGlhbjpyJDl9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHMkYyh0KXtjb25zdCBuPXRbMF0sYT10WzFdLHM9dFsyXTtyZXR1cm4gTWF0aC5zcXJ0KG4qbithKmErcypzKX1mdW5jdGlvbiByJDgodCxuKXtyZXR1cm4gdFswXT1uWzBdLHRbMV09blsxXSx0WzJdPW5bMl0sdH1mdW5jdGlvbiBvJGEodCxuLGEscyl7cmV0dXJuIHRbMF09bix0WzFdPWEsdFsyXT1zLHR9ZnVuY3Rpb24gdSRhKHQsbixhKXtyZXR1cm4gdFswXT1uWzBdK2FbMF0sdFsxXT1uWzFdK2FbMV0sdFsyXT1uWzJdK2FbMl0sdH1mdW5jdGlvbiBlJGYodCxuLGEpe3JldHVybiB0WzBdPW5bMF0tYVswXSx0WzFdPW5bMV0tYVsxXSx0WzJdPW5bMl0tYVsyXSx0fWZ1bmN0aW9uIGMkZCh0LG4sYSl7cmV0dXJuIHRbMF09blswXSphWzBdLHRbMV09blsxXSphWzFdLHRbMl09blsyXSphWzJdLHR9ZnVuY3Rpb24gaSRiKHQsbixhKXtyZXR1cm4gdFswXT1uWzBdL2FbMF0sdFsxXT1uWzFdL2FbMV0sdFsyXT1uWzJdL2FbMl0sdH1mdW5jdGlvbiBoJDkodCxuKXtyZXR1cm4gdFswXT1NYXRoLmNlaWwoblswXSksdFsxXT1NYXRoLmNlaWwoblsxXSksdFsyXT1NYXRoLmNlaWwoblsyXSksdH1mdW5jdGlvbiBNJDIodCxuKXtyZXR1cm4gdFswXT1NYXRoLmZsb29yKG5bMF0pLHRbMV09TWF0aC5mbG9vcihuWzFdKSx0WzJdPU1hdGguZmxvb3IoblsyXSksdH1mdW5jdGlvbiBmJGEodCxuKXtyZXR1cm4gdFswXT1NYXRoLmFicyhuWzBdKSx0WzFdPU1hdGguYWJzKG5bMV0pLHRbMl09TWF0aC5hYnMoblsyXSksdH1mdW5jdGlvbiBsJDgodCxuKXtyZXR1cm4gdFswXT1NYXRoLnNpZ24oblswXSksdFsxXT1NYXRoLnNpZ24oblsxXSksdFsyXT1NYXRoLnNpZ24oblsyXSksdH1mdW5jdGlvbiBtJDcodCxuLGEpe3JldHVybiB0WzBdPU1hdGgubWluKG5bMF0sYVswXSksdFsxXT1NYXRoLm1pbihuWzFdLGFbMV0pLHRbMl09TWF0aC5taW4oblsyXSxhWzJdKSx0fWZ1bmN0aW9uIGQkYyh0LG4sYSl7cmV0dXJuIHRbMF09TWF0aC5tYXgoblswXSxhWzBdKSx0WzFdPU1hdGgubWF4KG5bMV0sYVsxXSksdFsyXT1NYXRoLm1heChuWzJdLGFbMl0pLHR9ZnVuY3Rpb24gYiQzKHQsbil7cmV0dXJuIHRbMF09TWF0aC5yb3VuZChuWzBdKSx0WzFdPU1hdGgucm91bmQoblsxXSksdFsyXT1NYXRoLnJvdW5kKG5bMl0pLHR9ZnVuY3Rpb24gZyQ1KHQsbixhKXtyZXR1cm4gdFswXT1uWzBdKmEsdFsxXT1uWzFdKmEsdFsyXT1uWzJdKmEsdH1mdW5jdGlvbiBxJDIodCxuLGEscyl7cmV0dXJuIHRbMF09blswXSthWzBdKnMsdFsxXT1uWzFdK2FbMV0qcyx0WzJdPW5bMl0rYVsyXSpzLHR9ZnVuY3Rpb24geCQ3KHQsbil7Y29uc3QgYT1uWzBdLXRbMF0scz1uWzFdLXRbMV0scj1uWzJdLXRbMl07cmV0dXJuIE1hdGguc3FydChhKmErcypzK3Iqcil9ZnVuY3Rpb24gcCQ5KHQsbil7Y29uc3QgYT1uWzBdLXRbMF0scz1uWzFdLXRbMV0scj1uWzJdLXRbMl07cmV0dXJuIGEqYStzKnMrcipyfWZ1bmN0aW9uIHYkMyh0KXtjb25zdCBuPXRbMF0sYT10WzFdLHM9dFsyXTtyZXR1cm4gbipuK2EqYStzKnN9ZnVuY3Rpb24gaiQ0KHQsbil7cmV0dXJuIHRbMF09LW5bMF0sdFsxXT0tblsxXSx0WzJdPS1uWzJdLHR9ZnVuY3Rpb24geSQ1KHQsbil7cmV0dXJuIHRbMF09MS9uWzBdLHRbMV09MS9uWzFdLHRbMl09MS9uWzJdLHR9ZnVuY3Rpb24geiQyKHQsbil7Y29uc3QgYT1uWzBdLHM9blsxXSxyPW5bMl07bGV0IG89YSphK3MqcytyKnI7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobyksdFswXT1uWzBdKm8sdFsxXT1uWzFdKm8sdFsyXT1uWzJdKm8pLHR9ZnVuY3Rpb24gUCQxKHQsbil7cmV0dXJuIHRbMF0qblswXSt0WzFdKm5bMV0rdFsyXSpuWzJdfWZ1bmN0aW9uIF8kNih0LG4sYSl7Y29uc3Qgcz1uWzBdLHI9blsxXSxvPW5bMl0sdT1hWzBdLGU9YVsxXSxjPWFbMl07cmV0dXJuIHRbMF09cipjLW8qZSx0WzFdPW8qdS1zKmMsdFsyXT1zKmUtcip1LHR9ZnVuY3Rpb24gQSQ0KHQsbixhLHMpe2NvbnN0IHI9blswXSxvPW5bMV0sdT1uWzJdO3JldHVybiB0WzBdPXIrcyooYVswXS1yKSx0WzFdPW8rcyooYVsxXS1vKSx0WzJdPXUrcyooYVsyXS11KSx0fWZ1bmN0aW9uIEQkNCh0LG4sYSxzLHIsbyl7Y29uc3QgdT1vKm8sZT11KigyKm8tMykrMSxjPXUqKG8tMikrbyxpPXUqKG8tMSksaD11KigzLTIqbyk7cmV0dXJuIHRbMF09blswXSplK2FbMF0qYytzWzBdKmkrclswXSpoLHRbMV09blsxXSplK2FbMV0qYytzWzFdKmkrclsxXSpoLHRbMl09blsyXSplK2FbMl0qYytzWzJdKmkrclsyXSpoLHR9ZnVuY3Rpb24gSSQxKHQsbixhLHMscixvKXtjb25zdCB1PTEtbyxlPXUqdSxjPW8qbyxpPWUqdSxoPTMqbyplLE09MypjKnUsZj1jKm87cmV0dXJuIHRbMF09blswXSppK2FbMF0qaCtzWzBdKk0rclswXSpmLHRbMV09blsxXSppK2FbMV0qaCtzWzFdKk0rclsxXSpmLHRbMl09blsyXSppK2FbMl0qaCtzWzJdKk0rclsyXSpmLHR9ZnVuY3Rpb24gTCQ0KHQsbil7bj1ufHwxO2NvbnN0IHM9biRkLHI9MipzKCkqTWF0aC5QSSxvPTIqcygpLTEsdT1NYXRoLnNxcnQoMS1vKm8pKm47cmV0dXJuIHRbMF09TWF0aC5jb3MocikqdSx0WzFdPU1hdGguc2luKHIpKnUsdFsyXT1vKm4sdH1mdW5jdGlvbiBPJDIodCxuLGEpe2NvbnN0IHM9blswXSxyPW5bMV0sbz1uWzJdO3JldHVybiB0WzBdPWFbMF0qcythWzRdKnIrYVs4XSpvK2FbMTJdLHRbMV09YVsxXSpzK2FbNV0qcithWzldKm8rYVsxM10sdFsyXT1hWzJdKnMrYVs2XSpyK2FbMTBdKm8rYVsxNF0sdH1mdW5jdGlvbiBTJDModCxuLGEpe2NvbnN0IHM9blswXSxyPW5bMV0sbz1uWzJdO3JldHVybiB0WzBdPXMqYVswXStyKmFbM10rbyphWzZdLHRbMV09cyphWzFdK3IqYVs0XStvKmFbN10sdFsyXT1zKmFbMl0rciphWzVdK28qYVs4XSx0fWZ1bmN0aW9uIEUkNCh0LG4sYSl7Y29uc3Qgcz1hWzBdLHI9YVsxXSxvPWFbMl0sdT1hWzNdLGU9blswXSxjPW5bMV0saT1uWzJdO2xldCBoPXIqaS1vKmMsTT1vKmUtcyppLGY9cypjLXIqZSxsPXIqZi1vKk0sbT1vKmgtcypmLGQ9cypNLXIqaDtjb25zdCBiPTIqdTtyZXR1cm4gaCo9YixNKj1iLGYqPWIsbCo9MixtKj0yLGQqPTIsdFswXT1lK2grbCx0WzFdPWMrTSttLHRbMl09aStmK2QsdH1mdW5jdGlvbiBRKHQsbixhLHMpe2NvbnN0IHI9W10sbz1bXTtyZXR1cm4gclswXT1uWzBdLWFbMF0sclsxXT1uWzFdLWFbMV0sclsyXT1uWzJdLWFbMl0sb1swXT1yWzBdLG9bMV09clsxXSpNYXRoLmNvcyhzKS1yWzJdKk1hdGguc2luKHMpLG9bMl09clsxXSpNYXRoLnNpbihzKStyWzJdKk1hdGguY29zKHMpLHRbMF09b1swXSthWzBdLHRbMV09b1sxXSthWzFdLHRbMl09b1syXSthWzJdLHR9ZnVuY3Rpb24gUiQxKHQsbixhLHMpe2NvbnN0IHI9W10sbz1bXTtyZXR1cm4gclswXT1uWzBdLWFbMF0sclsxXT1uWzFdLWFbMV0sclsyXT1uWzJdLWFbMl0sb1swXT1yWzJdKk1hdGguc2luKHMpK3JbMF0qTWF0aC5jb3Mocyksb1sxXT1yWzFdLG9bMl09clsyXSpNYXRoLmNvcyhzKS1yWzBdKk1hdGguc2luKHMpLHRbMF09b1swXSthWzBdLHRbMV09b1sxXSthWzFdLHRbMl09b1syXSthWzJdLHR9ZnVuY3Rpb24gVCQxKHQsbixhLHMpe2NvbnN0IHI9W10sbz1bXTtyZXR1cm4gclswXT1uWzBdLWFbMF0sclsxXT1uWzFdLWFbMV0sclsyXT1uWzJdLWFbMl0sb1swXT1yWzBdKk1hdGguY29zKHMpLXJbMV0qTWF0aC5zaW4ocyksb1sxXT1yWzBdKk1hdGguc2luKHMpK3JbMV0qTWF0aC5jb3Mocyksb1syXT1yWzJdLHRbMF09b1swXSthWzBdLHRbMV09b1sxXSthWzFdLHRbMl09b1syXSthWzJdLHR9ZnVuY3Rpb24gayQyKHQsbil7ciQ4KHckMyx0KSxyJDgoQiQzLG4pLHokMih3JDMsdyQzKSx6JDIoQiQzLEIkMyk7Y29uc3QgYT1QJDEodyQzLEIkMyk7cmV0dXJuIGE+MT8wOmE8LTE/TWF0aC5QSTpNYXRoLmFjb3MoYSl9Y29uc3QgdyQzPW4kZSgpLEIkMz1uJGUoKTtmdW5jdGlvbiBDJDModCl7cmV0dXJuIFwidmVjMyhcIit0WzBdK1wiLCBcIit0WzFdK1wiLCBcIit0WzJdK1wiKVwifWZ1bmN0aW9uIEYkMSh0LG4pe3JldHVybiB0WzBdPT09blswXSYmdFsxXT09PW5bMV0mJnRbMl09PT1uWzJdfWZ1bmN0aW9uIEcodCxhKXtpZih0PT09YSlyZXR1cm4gITA7Y29uc3Qgcz10WzBdLHI9dFsxXSxvPXRbMl0sdT1hWzBdLGU9YVsxXSxjPWFbMl0saT1hJGIoKTtyZXR1cm4gTWF0aC5hYnMocy11KTw9aSpNYXRoLm1heCgxLE1hdGguYWJzKHMpLE1hdGguYWJzKHUpKSYmTWF0aC5hYnMoci1lKTw9aSpNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKGUpKSYmTWF0aC5hYnMoby1jKTw9aSpNYXRoLm1heCgxLE1hdGguYWJzKG8pLE1hdGguYWJzKGMpKX1mdW5jdGlvbiBIKHQsbixhKXtjb25zdCBzPWFbMF0tblswXSxyPWFbMV0tblsxXSxvPWFbMl0tblsyXTtsZXQgdT1zKnMrcipyK28qbztyZXR1cm4gdT4wPyh1PTEvTWF0aC5zcXJ0KHUpLHRbMF09cyp1LHRbMV09cip1LHRbMl09byp1LHQpOih0WzBdPTAsdFsxXT0wLHRbMl09MCx0KX1jb25zdCBKPWUkZixLPWMkZCxOJDE9aSRiLFU9eCQ3LFg9cCQ5LFk9cyRjLFo9diQzO09iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxhYnM6ZiRhLGFkZDp1JGEsYW5nbGU6ayQyLGJlemllcjpJJDEsY2VpbDpoJDksY29weTpyJDgsY3Jvc3M6XyQ2LGRpcmVjdGlvbjpILGRpc3Q6VSxkaXN0YW5jZTp4JDcsZGl2Ok4kMSxkaXZpZGU6aSRiLGRvdDpQJDEsZXF1YWxzOkcsZXhhY3RFcXVhbHM6RiQxLGZsb29yOk0kMixoZXJtaXRlOkQkNCxpbnZlcnNlOnkkNSxsZW46WSxsZW5ndGg6cyRjLGxlcnA6QSQ0LG1heDpkJGMsbWluOm0kNyxtdWw6SyxtdWx0aXBseTpjJGQsbmVnYXRlOmokNCxub3JtYWxpemU6eiQyLHJhbmRvbTpMJDQscm90YXRlWDpRLHJvdGF0ZVk6UiQxLHJvdGF0ZVo6VCQxLHJvdW5kOmIkMyxzY2FsZTpnJDUsc2NhbGVBbmRBZGQ6cSQyLHNldDpvJGEsc2lnbjpsJDgsc3FyRGlzdDpYLHNxckxlbjpaLHNxdWFyZWREaXN0YW5jZTpwJDksc3F1YXJlZExlbmd0aDp2JDMsc3RyOkMkMyxzdWI6SixzdWJ0cmFjdDplJGYsdHJhbnNmb3JtTWF0MzpTJDMsdHJhbnNmb3JtTWF0NDpPJDIsdHJhbnNmb3JtUXVhdDpFJDR9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGEkYSh0LG4pe3JldHVybiB0WzBdPW5bMF0sdFsxXT1uWzFdLHRbMl09blsyXSx0WzNdPW5bM10sdH1mdW5jdGlvbiByJDcodCxuLGEscixzKXtyZXR1cm4gdFswXT1uLHRbMV09YSx0WzJdPXIsdFszXT1zLHR9ZnVuY3Rpb24gcyRiKHQsbixhKXtyZXR1cm4gdFswXT1uWzBdK2FbMF0sdFsxXT1uWzFdK2FbMV0sdFsyXT1uWzJdK2FbMl0sdFszXT1uWzNdK2FbM10sdH1mdW5jdGlvbiBvJDkodCxuLGEpe3JldHVybiB0WzBdPW5bMF0tYVswXSx0WzFdPW5bMV0tYVsxXSx0WzJdPW5bMl0tYVsyXSx0WzNdPW5bM10tYVszXSx0fWZ1bmN0aW9uIHUkOSh0LG4sYSl7cmV0dXJuIHRbMF09blswXSphWzBdLHRbMV09blsxXSphWzFdLHRbMl09blsyXSphWzJdLHRbM109blszXSphWzNdLHR9ZnVuY3Rpb24gZSRlKHQsbixhKXtyZXR1cm4gdFswXT1uWzBdL2FbMF0sdFsxXT1uWzFdL2FbMV0sdFsyXT1uWzJdL2FbMl0sdFszXT1uWzNdL2FbM10sdH1mdW5jdGlvbiBjJGModCxuKXtyZXR1cm4gdFswXT1NYXRoLmNlaWwoblswXSksdFsxXT1NYXRoLmNlaWwoblsxXSksdFsyXT1NYXRoLmNlaWwoblsyXSksdFszXT1NYXRoLmNlaWwoblszXSksdH1mdW5jdGlvbiBpJGEodCxuKXtyZXR1cm4gdFswXT1NYXRoLmZsb29yKG5bMF0pLHRbMV09TWF0aC5mbG9vcihuWzFdKSx0WzJdPU1hdGguZmxvb3IoblsyXSksdFszXT1NYXRoLmZsb29yKG5bM10pLHR9ZnVuY3Rpb24gaCQ4KHQsbixhKXtyZXR1cm4gdFswXT1NYXRoLm1pbihuWzBdLGFbMF0pLHRbMV09TWF0aC5taW4oblsxXSxhWzFdKSx0WzJdPU1hdGgubWluKG5bMl0sYVsyXSksdFszXT1NYXRoLm1pbihuWzNdLGFbM10pLHR9ZnVuY3Rpb24gTSQxKHQsbixhKXtyZXR1cm4gdFswXT1NYXRoLm1heChuWzBdLGFbMF0pLHRbMV09TWF0aC5tYXgoblsxXSxhWzFdKSx0WzJdPU1hdGgubWF4KG5bMl0sYVsyXSksdFszXT1NYXRoLm1heChuWzNdLGFbM10pLHR9ZnVuY3Rpb24gZiQ5KHQsbil7cmV0dXJuIHRbMF09TWF0aC5yb3VuZChuWzBdKSx0WzFdPU1hdGgucm91bmQoblsxXSksdFsyXT1NYXRoLnJvdW5kKG5bMl0pLHRbM109TWF0aC5yb3VuZChuWzNdKSx0fWZ1bmN0aW9uIGwkNyh0LG4sYSl7cmV0dXJuIHRbMF09blswXSphLHRbMV09blsxXSphLHRbMl09blsyXSphLHRbM109blszXSphLHR9ZnVuY3Rpb24gbSQ2KHQsbixhLHIpe3JldHVybiB0WzBdPW5bMF0rYVswXSpyLHRbMV09blsxXSthWzFdKnIsdFsyXT1uWzJdK2FbMl0qcix0WzNdPW5bM10rYVszXSpyLHR9ZnVuY3Rpb24gZCRiKHQsbil7Y29uc3QgYT1uWzBdLXRbMF0scj1uWzFdLXRbMV0scz1uWzJdLXRbMl0sbz1uWzNdLXRbM107cmV0dXJuIE1hdGguc3FydChhKmErcipyK3MqcytvKm8pfWZ1bmN0aW9uIGIkMih0LG4pe2NvbnN0IGE9blswXS10WzBdLHI9blsxXS10WzFdLHM9blsyXS10WzJdLG89blszXS10WzNdO3JldHVybiBhKmErcipyK3MqcytvKm99ZnVuY3Rpb24geCQ2KHQpe2NvbnN0IG49dFswXSxhPXRbMV0scj10WzJdLHM9dFszXTtyZXR1cm4gTWF0aC5zcXJ0KG4qbithKmErcipyK3Mqcyl9ZnVuY3Rpb24gcSQxKHQpe2NvbnN0IG49dFswXSxhPXRbMV0scj10WzJdLHM9dFszXTtyZXR1cm4gbipuK2EqYStyKnIrcypzfWZ1bmN0aW9uIHAkOCh0LG4pe3JldHVybiB0WzBdPS1uWzBdLHRbMV09LW5bMV0sdFsyXT0tblsyXSx0WzNdPS1uWzNdLHR9ZnVuY3Rpb24gZyQ0KHQsbil7cmV0dXJuIHRbMF09MS9uWzBdLHRbMV09MS9uWzFdLHRbMl09MS9uWzJdLHRbM109MS9uWzNdLHR9ZnVuY3Rpb24gdiQyKHQsbil7Y29uc3QgYT1uWzBdLHI9blsxXSxzPW5bMl0sbz1uWzNdO2xldCB1PWEqYStyKnIrcypzK28qbztyZXR1cm4gdT4wJiYodT0xL01hdGguc3FydCh1KSx0WzBdPWEqdSx0WzFdPXIqdSx0WzJdPXMqdSx0WzNdPW8qdSksdH1mdW5jdGlvbiB5JDQodCxuKXtyZXR1cm4gdFswXSpuWzBdK3RbMV0qblsxXSt0WzJdKm5bMl0rdFszXSpuWzNdfWZ1bmN0aW9uIGokMyh0LG4sYSxyKXtjb25zdCBzPW5bMF0sbz1uWzFdLHU9blsyXSxlPW5bM107cmV0dXJuIHRbMF09cytyKihhWzBdLXMpLHRbMV09bytyKihhWzFdLW8pLHRbMl09dStyKihhWzJdLXUpLHRbM109ZStyKihhWzNdLWUpLHR9ZnVuY3Rpb24gXyQ1KHQsYSl7Y29uc3Qgcj1uJGQ7bGV0IHMsbyx1LGUsYyxpO2E9YXx8MTtkb3tzPTIqcigpLTEsbz0yKnIoKS0xLGM9cypzK28qbzt9d2hpbGUoYz49MSk7ZG97dT0yKnIoKS0xLGU9MipyKCktMSxpPXUqdStlKmU7fXdoaWxlKGk+PTEpO2NvbnN0IGg9TWF0aC5zcXJ0KCgxLWMpL2kpO3JldHVybiB0WzBdPWEqcyx0WzFdPWEqbyx0WzJdPWEqdSpoLHRbM109YSplKmgsdH1mdW5jdGlvbiB3JDIodCxuLGEpe2NvbnN0IHI9blswXSxzPW5bMV0sbz1uWzJdLHU9blszXTtyZXR1cm4gdFswXT1hWzBdKnIrYVs0XSpzK2FbOF0qbythWzEyXSp1LHRbMV09YVsxXSpyK2FbNV0qcythWzldKm8rYVsxM10qdSx0WzJdPWFbMl0qcithWzZdKnMrYVsxMF0qbythWzE0XSp1LHRbM109YVszXSpyK2FbN10qcythWzExXSpvK2FbMTVdKnUsdH1mdW5jdGlvbiB6JDEodCxuLGEpe2NvbnN0IHI9blswXSxzPW5bMV0sbz1uWzJdLHU9YVswXSxlPWFbMV0sYz1hWzJdLGk9YVszXSxoPWkqcitlKm8tYypzLE09aSpzK2Mqci11Km8sZj1pKm8rdSpzLWUqcixsPS11KnItZSpzLWMqbztyZXR1cm4gdFswXT1oKmkrbCotdStNKi1jLWYqLWUsdFsxXT1NKmkrbCotZStmKi11LWgqLWMsdFsyXT1mKmkrbCotYytoKi1lLU0qLXUsdFszXT1uWzNdLHR9ZnVuY3Rpb24gQSQzKHQpe3JldHVybiBcInZlYzQoXCIrdFswXStcIiwgXCIrdFsxXStcIiwgXCIrdFsyXStcIiwgXCIrdFszXStcIilcIn1mdW5jdGlvbiBEJDModCxuKXtyZXR1cm4gdFswXT09PW5bMF0mJnRbMV09PT1uWzFdJiZ0WzJdPT09blsyXSYmdFszXT09PW5bM119ZnVuY3Rpb24gRSQzKG4sYSl7Y29uc3Qgcj1uWzBdLHM9blsxXSxvPW5bMl0sdT1uWzNdLGU9YVswXSxjPWFbMV0saT1hWzJdLGg9YVszXSxNPWEkYigpO3JldHVybiBNYXRoLmFicyhyLWUpPD1NKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMoZSkpJiZNYXRoLmFicyhzLWMpPD1NKk1hdGgubWF4KDEsTWF0aC5hYnMocyksTWF0aC5hYnMoYykpJiZNYXRoLmFicyhvLWkpPD1NKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMoaSkpJiZNYXRoLmFicyh1LWgpPD1NKk1hdGgubWF4KDEsTWF0aC5hYnModSksTWF0aC5hYnMoaCkpfWNvbnN0IEwkMz1vJDksTyQxPXUkOSxTJDI9ZSRlLGskMT1kJGIsQiQyPWIkMixDJDI9eCQ2LEY9cSQxO09iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxhZGQ6cyRiLGNlaWw6YyRjLGNvcHk6YSRhLGRpc3Q6ayQxLGRpc3RhbmNlOmQkYixkaXY6UyQyLGRpdmlkZTplJGUsZG90OnkkNCxlcXVhbHM6RSQzLGV4YWN0RXF1YWxzOkQkMyxmbG9vcjppJGEsaW52ZXJzZTpnJDQsbGVuOkMkMixsZW5ndGg6eCQ2LGxlcnA6aiQzLG1heDpNJDEsbWluOmgkOCxtdWw6TyQxLG11bHRpcGx5OnUkOSxuZWdhdGU6cCQ4LG5vcm1hbGl6ZTp2JDIscmFuZG9tOl8kNSxyb3VuZDpmJDksc2NhbGU6bCQ3LHNjYWxlQW5kQWRkOm0kNixzZXQ6ciQ3LHNxckRpc3Q6QiQyLHNxckxlbjpGLHNxdWFyZWREaXN0YW5jZTpiJDIsc3F1YXJlZExlbmd0aDpxJDEsc3RyOkEkMyxzdWI6TCQzLHN1YnRyYWN0Om8kOSx0cmFuc2Zvcm1NYXQ0OnckMix0cmFuc2Zvcm1RdWF0OnokMX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdSQ4PW5ldyBGbG9hdDMyQXJyYXkoMSk7Y29uc3QgZyQzPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoRmxvYXQ2NEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKSk7ZnVuY3Rpb24gRSQyKHQpe3JldHVybiBnJDMuc2V0RmxvYXQ2NCgwLHQpLGckMy5nZXRCaWdJbnQ2NCgwKX1mdW5jdGlvbiBCJDEodCl7cmV0dXJuIGckMy5zZXRCaWdJbnQ2NCgwLHQpLGckMy5nZXRGbG9hdDY0KDApfWNvbnN0IEk9QmlnSW50KFwiMTAwMDAwMFwiKTt4JDUoMSk7ZnVuY3Rpb24geCQ1KHQpe2NvbnN0IG49RSQyKHQ9TWF0aC5hYnModCkpLHI9QiQxKG48PUk/STpuLUkpO3JldHVybiBNYXRoLmFicyh0LXIpfWZ1bmN0aW9uIFAodCl7cmV0dXJuIHUkOFswXT10LHUkOFswXX1QKDM0MDI4MjM0NjYzODUyODg2ZTIyKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIHUkNyhuKXtmdW5jdGlvbiB0KHQsaSl7cmV0dXJuIG51bGw9PXQ/aTpudWxsPT1pP3Q6bih0LGkpfXJldHVybiB0fWNvbnN0IGwkNj11JDcoTWF0aC5taW4pLGgkNz11JDcoTWF0aC5tYXgpO2Z1bmN0aW9uIHgkNChuLHQsaSxvKXtjb25zdCBlPWk/MzoyO2lmKCF0Lmxlbmd0aHx8IXRbMF0ubGVuZ3RoKXJldHVybiBudWxsO2xldCByLHUsYSxjLFtmLG1dPXRbMF1bMF0sW3gsc109dFswXVswXTtmb3IobGV0IGc9MDtnPHQubGVuZ3RoO2crKyl7Y29uc3Qgbj10W2ddO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBnPW5bdF0sW3ksZF09ZztpZihmPWwkNihmLHkpLG09bCQ2KG0sZCkseD1oJDcoeCx5KSxzPWgkNyhzLGQpLGkmJmcubGVuZ3RoPjIpe2NvbnN0IG49Z1syXTtyPWwkNihyLG4pLHU9aCQ3KHUsbik7fWlmKG8mJmcubGVuZ3RoPmUpe2NvbnN0IG49Z1tlXTthPWwkNihyLG4pLGM9aCQ3KHUsbik7fX19cmV0dXJuIGk/bz8oblswXT1mLG5bMV09bSxuWzJdPXIsblszXT1hLG5bNF09eCxuWzVdPXMsbls2XT11LG5bN109YyxuLmxlbmd0aD04LG4pOihuWzBdPWYsblsxXT1tLG5bMl09cixuWzNdPXgsbls0XT1zLG5bNV09dSxuLmxlbmd0aD02LG4pOm8/KG5bMF09ZixuWzFdPW0sblsyXT1hLG5bM109eCxuWzRdPXMsbls1XT1jLG4ubGVuZ3RoPTYsbik6KG5bMF09ZixuWzFdPW0sblsyXT14LG5bM109cyxuLmxlbmd0aD00LG4pfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgeCQzPVtdO2Z1bmN0aW9uIGEkOShuLGksdCx1KXtyZXR1cm4ge3htaW46bix5bWluOmkseG1heDp0LHltYXg6dX19ZnVuY3Rpb24gYyRiKG4saSx0LHUsbSxvKXtyZXR1cm4ge3htaW46bix5bWluOmksem1pbjp0LHhtYXg6dSx5bWF4Om0sem1heDpvfX1mdW5jdGlvbiBzJGEobixpLHQsdSxtLG8pe3JldHVybiB7eG1pbjpuLHltaW46aSxtbWluOnQseG1heDp1LHltYXg6bSxtbWF4Om99fWZ1bmN0aW9uIGUkZChuLGksdCx1LG0sbyxyLHgpe3JldHVybiB7eG1pbjpuLHltaW46aSx6bWluOnQsbW1pbjp1LHhtYXg6bSx5bWF4Om8sem1heDpyLG1tYXg6eH19ZnVuY3Rpb24gZiQ4KG4saT0hMSx0PSExKXtyZXR1cm4gaT90P2UkZChuWzBdLG5bMV0sblsyXSxuWzNdLG5bNF0sbls1XSxuWzZdLG5bN10pOmMkYihuWzBdLG5bMV0sblsyXSxuWzNdLG5bNF0sbls1XSk6dD9zJGEoblswXSxuWzFdLG5bMl0sblszXSxuWzRdLG5bNV0pOmEkOShuWzBdLG5bMV0sblsyXSxuWzNdKX1mdW5jdGlvbiB2JDEobil7Y29uc3R7aGFzWjp0LGhhc006dSxyaW5nczptfT1uLG89eCQ0KHgkMyxtLHQ/PyExLHU/PyExKTtyZXR1cm4gbz9mJDgobyx0LHUpOm51bGx9ZnVuY3Rpb24gaCQ2KG4pe2NvbnN0e2hhc1o6dCxoYXNNOnUscGF0aHM6bX09bixvPXgkNCh4JDMsbSx0Pz8hMSx1Pz8hMSk7cmV0dXJuIG8/ZiQ4KG8sdCx1KTpudWxsfVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGQkYTtmdW5jdGlvbiBSKHQpe3JldHVybiAhQXJyYXkuaXNBcnJheSh0WzBdKX1sZXQgeCQyPWQkYT1jbGFzcyBleHRlbmRzIHAkYntzdGF0aWMgZnJvbUV4dGVudCh0KXtjb25zdCBlPXQuY2xvbmUoKS5ub3JtYWxpemUoKSxyPXQuc3BhdGlhbFJlZmVyZW5jZTtsZXQgcz0hMSxuPSExO2Zvcihjb25zdCBvIG9mIGUpby5oYXNaJiYocz0hMCksby5oYXNNJiYobj0hMCk7Y29uc3QgaT17cmluZ3M6ZS5tYXAoKHQ9Pntjb25zdCBlPVtbdC54bWluLHQueW1pbl0sW3QueG1pbix0LnltYXhdLFt0LnhtYXgsdC55bWF4XSxbdC54bWF4LHQueW1pbl0sW3QueG1pbix0LnltaW5dXTtpZihzJiZ0Lmhhc1ope2NvbnN0IHI9dC56bWluKy41Kih0LnptYXgtdC56bWluKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLnB1c2gocik7fWlmKG4mJnQuaGFzTSl7Y29uc3Qgcj10Lm1taW4rLjUqKHQubW1heC10Lm1taW4pO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0ucHVzaChyKTt9cmV0dXJuIGV9KSksc3BhdGlhbFJlZmVyZW5jZTpyfTtyZXR1cm4gcyYmKGkuaGFzWj0hMCksbiYmKGkuaGFzTT0hMCksbmV3IGQkYShpKX1jb25zdHJ1Y3RvciguLi50KXtzdXBlciguLi50KSx0aGlzLnJpbmdzPVtdLHRoaXMudHlwZT1cInBvbHlnb25cIjt9bm9ybWFsaXplQ3RvckFyZ3ModCxlKXtsZXQgcixzLG49bnVsbCxpPW51bGw7cmV0dXJuIHQmJiFBcnJheS5pc0FycmF5KHQpPyhuPXQucmluZ3M/P251bGwsZXx8KHQuc3BhdGlhbFJlZmVyZW5jZT9lPXQuc3BhdGlhbFJlZmVyZW5jZTp0LnJpbmdzfHwoZT10KSkscj10Lmhhc1oscz10Lmhhc00pOm49dCxuPW58fFtdLGU9ZXx8ZiRnLldHUzg0LG4ubGVuZ3RoJiZuWzBdJiZudWxsIT1uWzBdWzBdJiZcIm51bWJlclwiPT10eXBlb2YgblswXVswXSYmKG49W25dKSxpPW5bMF0mJm5bMF1bMF0saSYmKHZvaWQgMD09PXImJnZvaWQgMD09PXM/KHI9aS5sZW5ndGg+MixzPWkubGVuZ3RoPjMpOnZvaWQgMD09PXI/cj1zP2kubGVuZ3RoPjM6aS5sZW5ndGg+Mjp2b2lkIDA9PT1zJiYocz1yP2kubGVuZ3RoPjM6aS5sZW5ndGg+MikpLHtyaW5nczpuLHNwYXRpYWxSZWZlcmVuY2U6ZSxoYXNaOnIsaGFzTTpzfX1nZXQgY2FjaGUoKXtyZXR1cm4gdGhpcy5jb21taXRQcm9wZXJ0eShcInJpbmdzXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJoYXNaXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJoYXNNXCIpLHRoaXMuY29tbWl0UHJvcGVydHkoXCJzcGF0aWFsUmVmZXJlbmNlXCIpLHt9fWdldCBjZW50cm9pZCgpe2NvbnN0IHQ9byRkKHRoaXMpO2lmKCF0fHxpc05hTih0WzBdKXx8aXNOYU4odFsxXSl8fHRoaXMuaGFzWiYmaXNOYU4odFsyXSkpcmV0dXJuIG51bGw7Y29uc3QgZT1uZXcgeCRhO3JldHVybiBlLng9dFswXSxlLnk9dFsxXSxlLnNwYXRpYWxSZWZlcmVuY2U9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMuaGFzWiYmKGUuej10WzJdKSxlfWdldCBleHRlbnQoKXtjb25zdHtzcGF0aWFsUmVmZXJlbmNlOnR9PXRoaXMsZT12JDEodGhpcyk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgcj1uZXcgTSQzKGUpO3JldHVybiByLnNwYXRpYWxSZWZlcmVuY2U9dCxyfWdldCBpc1NlbGZJbnRlcnNlY3RpbmcoKXtyZXR1cm4gcCRhKHRoaXMucmluZ3MpfXdyaXRlUmluZ3ModCxlKXtlLnJpbmdzPWEkdih0aGlzLnJpbmdzKTt9YWRkUmluZyh0KXtpZighdClyZXR1cm47Y29uc3QgZT10aGlzLnJpbmdzLHI9ZS5sZW5ndGg7aWYoUih0KSl7Y29uc3Qgcz1bXTtmb3IobGV0IGU9MCxyPXQubGVuZ3RoO2U8cjtlKyspc1tlXT10W2VdLnRvQXJyYXkoKTtlW3JdPXM7fWVsc2UgZVtyXT10LmNvbmNhdCgpO3JldHVybiB0aGlzLm5vdGlmeUNoYW5nZShcInJpbmdzXCIpLHRoaXN9Y2xvbmUoKXtjb25zdCB0PW5ldyBkJGE7cmV0dXJuIHQuc3BhdGlhbFJlZmVyZW5jZT10aGlzLnNwYXRpYWxSZWZlcmVuY2UsdC5yaW5ncz1hJHYodGhpcy5yaW5ncyksdC5oYXNaPXRoaXMuaGFzWix0Lmhhc009dGhpcy5oYXNNLHR9ZXF1YWxzKHQpe2lmKHRoaXM9PT10KXJldHVybiAhMDtpZihudWxsPT10KXJldHVybiAhMTtjb25zdCByPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxzPXQuc3BhdGlhbFJlZmVyZW5jZTtpZihudWxsIT1yIT0obnVsbCE9cykpcmV0dXJuICExO2lmKG51bGwhPXImJm51bGwhPXMmJiFyLmVxdWFscyhzKSlyZXR1cm4gITE7aWYodGhpcy5yaW5ncy5sZW5ndGghPT10LnJpbmdzLmxlbmd0aClyZXR1cm4gITE7Y29uc3Qgbj0oW3QsZSxyLHNdLFtuLGksbyxhXSk9PnQ9PT1uJiZlPT09aSYmKG51bGw9PXImJm51bGw9PW98fHI9PT1vKSYmKG51bGw9PXMmJm51bGw9PWF8fHM9PT1hKTtmb3IobGV0IGk9MDtpPHRoaXMucmluZ3MubGVuZ3RoO2krKyl7Y29uc3Qgcj10aGlzLnJpbmdzW2ldLHM9dC5yaW5nc1tpXTtpZighcyRHKHIscyxuKSlyZXR1cm4gITF9cmV0dXJuICEwfWNvbnRhaW5zKHQpe2lmKCF0KXJldHVybiAhMTtjb25zdCBlPWckOCh0LHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk7cmV0dXJuIGYkZSh0aGlzLG51bGwhPWU/ZTp0KX1pc0Nsb2Nrd2lzZSh0KXtsZXQgZTtyZXR1cm4gZT1SKHQpP3QubWFwKCh0PT50aGlzLmhhc1o/dGhpcy5oYXNNP1t0LngsdC55LHQueix0Lm1dOlt0LngsdC55LHQuel06W3QueCx0LnldKSk6dCxoJGEoZSx0aGlzLmhhc00sdGhpcy5oYXNaKX1nZXRQb2ludCh0LGUpe2lmKCF0aGlzLl92YWxpZGF0ZUlucHV0cyh0LGUpKXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy5yaW5nc1t0XVtlXSxzPXRoaXMuaGFzWixuPXRoaXMuaGFzTTtyZXR1cm4gcyYmIW4/bmV3IHgkYShyWzBdLHJbMV0sclsyXSx2b2lkIDAsdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTpuJiYhcz9uZXcgeCRhKHJbMF0sclsxXSx2b2lkIDAsclsyXSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpOnMmJm4/bmV3IHgkYShyWzBdLHJbMV0sclsyXSxyWzNdLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk6bmV3IHgkYShyWzBdLHJbMV0sdGhpcy5zcGF0aWFsUmVmZXJlbmNlKX1pbnNlcnRQb2ludCh0LGUscil7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlSW5wdXRzKHQsZSwhMCk/KGgkYyh0aGlzLHIpLEFycmF5LmlzQXJyYXkocil8fChyPXIudG9BcnJheSgpKSx0aGlzLnJpbmdzW3RdLnNwbGljZShlLDAsciksdGhpcy5ub3RpZnlDaGFuZ2UoXCJyaW5nc1wiKSx0aGlzKTp0aGlzfXJlbW92ZVBvaW50KHQsZSl7aWYoIXRoaXMuX3ZhbGlkYXRlSW5wdXRzKHQsZSkpcmV0dXJuIG51bGw7Y29uc3Qgcj1uZXcgeCRhKHRoaXMucmluZ3NbdF0uc3BsaWNlKGUsMSlbMF0sdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gdGhpcy5ub3RpZnlDaGFuZ2UoXCJyaW5nc1wiKSxyfXJlbW92ZVJpbmcodCl7aWYoIXRoaXMuX3ZhbGlkYXRlSW5wdXRzKHQsbnVsbCkpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLnJpbmdzLnNwbGljZSh0LDEpWzBdLHI9dGhpcy5zcGF0aWFsUmVmZXJlbmNlLHM9ZS5tYXAoKHQ9Pm5ldyB4JGEodCxyKSkpO3JldHVybiB0aGlzLm5vdGlmeUNoYW5nZShcInJpbmdzXCIpLHN9c2V0UG9pbnQodCxlLHIpe3JldHVybiB0aGlzLl92YWxpZGF0ZUlucHV0cyh0LGUpPyhoJGModGhpcyxyKSxBcnJheS5pc0FycmF5KHIpfHwocj1yLnRvQXJyYXkoKSksdGhpcy5yaW5nc1t0XVtlXT1yLHRoaXMubm90aWZ5Q2hhbmdlKFwicmluZ3NcIiksdGhpcyk6dGhpc31fdmFsaWRhdGVJbnB1dHModCxlLHI9ITEpe2lmKG51bGw9PXR8fHQ8MHx8dD49dGhpcy5yaW5ncy5sZW5ndGgpcmV0dXJuICExO2lmKG51bGwhPWUpe2NvbnN0IHM9dGhpcy5yaW5nc1t0XTtpZihyJiYoZTwwfHxlPnMubGVuZ3RoKSlyZXR1cm4gITE7aWYoIXImJihlPDB8fGU+PXMubGVuZ3RoKSlyZXR1cm4gITF9cmV0dXJuICEwfXRvSlNPTih0KXtyZXR1cm4gdGhpcy53cml0ZSh7fSx0KX19O2UkeChbeSRkKHtyZWFkT25seTohMH0pXSx4JDIucHJvdG90eXBlLFwiY2FjaGVcIixudWxsKSxlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0seCQyLnByb3RvdHlwZSxcImNlbnRyb2lkXCIsbnVsbCksZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLHgkMi5wcm90b3R5cGUsXCJleHRlbnRcIixudWxsKSxlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0seCQyLnByb3RvdHlwZSxcImlzU2VsZkludGVyc2VjdGluZ1wiLG51bGwpLGUkeChbeSRkKHt0eXBlOltbW051bWJlcl1dXSxqc29uOnt3cml0ZTp7aXNSZXF1aXJlZDohMH19fSldLHgkMi5wcm90b3R5cGUsXCJyaW5nc1wiLHZvaWQgMCksZSR4KFtyJGQoXCJyaW5nc1wiKV0seCQyLnByb3RvdHlwZSxcIndyaXRlUmluZ3NcIixudWxsKSx4JDI9ZCRhPWUkeChbYSRpKFwiZXNyaS5nZW9tZXRyeS5Qb2x5Z29uXCIpXSx4JDIpLHgkMi5wcm90b3R5cGUudG9KU09OLmlzRGVmYXVsdFRvSlNPTj0hMDtjb25zdCBqJDI9eCQyO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyIGMkYTtmdW5jdGlvbiB1JDYodCl7cmV0dXJuICFBcnJheS5pc0FycmF5KHRbMF0pfWxldCBmJDc9YyRhPWNsYXNzIGV4dGVuZHMgcCRie2NvbnN0cnVjdG9yKC4uLnQpe3N1cGVyKC4uLnQpLHRoaXMucGF0aHM9W10sdGhpcy50eXBlPVwicG9seWxpbmVcIjt9bm9ybWFsaXplQ3RvckFyZ3ModCxlKXtsZXQgcyxyLGk9bnVsbCxhPW51bGw7cmV0dXJuIHQmJiFBcnJheS5pc0FycmF5KHQpPyhpPXQucGF0aHM/P251bGwsZXx8KHQuc3BhdGlhbFJlZmVyZW5jZT9lPXQuc3BhdGlhbFJlZmVyZW5jZTp0LnBhdGhzfHwoZT10KSkscz10Lmhhc1oscj10Lmhhc00pOmk9dCxpPWl8fFtdLGU9ZXx8ZiRnLldHUzg0LGkubGVuZ3RoJiZpWzBdJiZudWxsIT1pWzBdWzBdJiZcIm51bWJlclwiPT10eXBlb2YgaVswXVswXSYmKGk9W2ldKSxhPWlbMF0mJmlbMF1bMF0sYSYmKHZvaWQgMD09PXMmJnZvaWQgMD09PXI/KHM9YS5sZW5ndGg+MixyPSExKTp2b2lkIDA9PT1zP3M9IXImJmEubGVuZ3RoPjM6dm9pZCAwPT09ciYmKHI9IXMmJmEubGVuZ3RoPjMpKSx7cGF0aHM6aSxzcGF0aWFsUmVmZXJlbmNlOmUsaGFzWjpzLGhhc006cn19Z2V0IGNhY2hlKCl7cmV0dXJuIHRoaXMuY29tbWl0UHJvcGVydHkoXCJwYXRoc1wiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiaGFzWlwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwiaGFzTVwiKSx0aGlzLmNvbW1pdFByb3BlcnR5KFwic3BhdGlhbFJlZmVyZW5jZVwiKSx7fX1nZXQgZXh0ZW50KCl7Y29uc3R7c3BhdGlhbFJlZmVyZW5jZTp0fT10aGlzLGU9aCQ2KHRoaXMpO2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHM9bmV3IE0kMyhlKTtyZXR1cm4gcy5zcGF0aWFsUmVmZXJlbmNlPXQsc313cml0ZVBhdGhzKHQscyl7cy5wYXRocz1hJHYodGhpcy5wYXRocyk7fWFkZFBhdGgodCl7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dGhpcy5wYXRocyxzPWUubGVuZ3RoO2lmKHUkNih0KSl7Y29uc3Qgcj1bXTtmb3IobGV0IGU9MCxzPXQubGVuZ3RoO2U8cztlKyspcltlXT10W2VdLnRvQXJyYXkoKTtlW3NdPXI7fWVsc2UgZVtzXT10LmNvbmNhdCgpO3JldHVybiB0aGlzLm5vdGlmeUNoYW5nZShcInBhdGhzXCIpLHRoaXN9Y2xvbmUoKXtjb25zdCB0PW5ldyBjJGE7cmV0dXJuIHQuc3BhdGlhbFJlZmVyZW5jZT10aGlzLnNwYXRpYWxSZWZlcmVuY2UsdC5wYXRocz1hJHYodGhpcy5wYXRocyksdC5oYXNaPXRoaXMuaGFzWix0Lmhhc009dGhpcy5oYXNNLHR9Z2V0UG9pbnQodCxlKXtpZighdGhpcy5fdmFsaWRhdGVJbnB1dHModCxlKSlyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMucGF0aHNbdF1bZV0scj10aGlzLmhhc1osaT10aGlzLmhhc007cmV0dXJuIHImJiFpP25ldyB4JGEoc1swXSxzWzFdLHNbMl0sdm9pZCAwLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSk6aSYmIXI/bmV3IHgkYShzWzBdLHNbMV0sdm9pZCAwLHNbMl0sdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTpyJiZpP25ldyB4JGEoc1swXSxzWzFdLHNbMl0sc1szXSx0aGlzLnNwYXRpYWxSZWZlcmVuY2UpOm5ldyB4JGEoc1swXSxzWzFdLHRoaXMuc3BhdGlhbFJlZmVyZW5jZSl9aW5zZXJ0UG9pbnQodCxlLHMpe3JldHVybiB0aGlzLl92YWxpZGF0ZUlucHV0cyh0LGUsITApPyhoJGModGhpcyxzKSxBcnJheS5pc0FycmF5KHMpfHwocz1zLnRvQXJyYXkoKSksdGhpcy5wYXRoc1t0XS5zcGxpY2UoZSwwLHMpLHRoaXMubm90aWZ5Q2hhbmdlKFwicGF0aHNcIiksdGhpcyk6dGhpc31yZW1vdmVQYXRoKHQpe2lmKCF0aGlzLl92YWxpZGF0ZUlucHV0cyh0LG51bGwpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5wYXRocy5zcGxpY2UodCwxKVswXSxzPXRoaXMuc3BhdGlhbFJlZmVyZW5jZSxyPWUubWFwKCh0PT5uZXcgeCRhKHQscykpKTtyZXR1cm4gdGhpcy5ub3RpZnlDaGFuZ2UoXCJwYXRoc1wiKSxyfXJlbW92ZVBvaW50KHQsZSl7aWYoIXRoaXMuX3ZhbGlkYXRlSW5wdXRzKHQsZSkpcmV0dXJuIG51bGw7Y29uc3Qgcz1uZXcgeCRhKHRoaXMucGF0aHNbdF0uc3BsaWNlKGUsMSlbMF0sdGhpcy5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gdGhpcy5ub3RpZnlDaGFuZ2UoXCJwYXRoc1wiKSxzfXNldFBvaW50KHQsZSxzKXtyZXR1cm4gdGhpcy5fdmFsaWRhdGVJbnB1dHModCxlKT8oaCRjKHRoaXMscyksQXJyYXkuaXNBcnJheShzKXx8KHM9cy50b0FycmF5KCkpLHRoaXMucGF0aHNbdF1bZV09cyx0aGlzLm5vdGlmeUNoYW5nZShcInBhdGhzXCIpLHRoaXMpOnRoaXN9X3ZhbGlkYXRlSW5wdXRzKHQsZSxzPSExKXtpZihudWxsPT10fHx0PDB8fHQ+PXRoaXMucGF0aHMubGVuZ3RoKXJldHVybiAhMTtpZihudWxsIT1lKXtjb25zdCByPXRoaXMucGF0aHNbdF07aWYocyYmKGU8MHx8ZT5yLmxlbmd0aCkpcmV0dXJuICExO2lmKCFzJiYoZTwwfHxlPj1yLmxlbmd0aCkpcmV0dXJuICExfXJldHVybiAhMH10b0pTT04odCl7cmV0dXJuIHRoaXMud3JpdGUoe30sdCl9fTtlJHgoW3kkZCh7cmVhZE9ubHk6ITB9KV0sZiQ3LnByb3RvdHlwZSxcImNhY2hlXCIsbnVsbCksZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLGYkNy5wcm90b3R5cGUsXCJleHRlbnRcIixudWxsKSxlJHgoW3kkZCh7dHlwZTpbW1tOdW1iZXJdXV0sanNvbjp7d3JpdGU6e2lzUmVxdWlyZWQ6ITB9fX0pXSxmJDcucHJvdG90eXBlLFwicGF0aHNcIix2b2lkIDApLGUkeChbciRkKFwicGF0aHNcIildLGYkNy5wcm90b3R5cGUsXCJ3cml0ZVBhdGhzXCIsbnVsbCksZiQ3PWMkYT1lJHgoW2EkaShcImVzcmkuZ2VvbWV0cnkuUG9seWxpbmVcIildLGYkNyksZiQ3LnByb3RvdHlwZS50b0pTT04uaXNEZWZhdWx0VG9KU09OPSEwO2NvbnN0IG0kNT1mJDc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5vJGsoKSh7ZXNyaUdlb21ldHJ5UG9pbnQ6XCJwb2ludFwiLGVzcmlHZW9tZXRyeU11bHRpcG9pbnQ6XCJtdWx0aXBvaW50XCIsZXNyaUdlb21ldHJ5UG9seWxpbmU6XCJwb2x5bGluZVwiLGVzcmlHZW9tZXRyeVBvbHlnb246XCJwb2x5Z29uXCJ9KTtvJGsoKSh7ZXNyaUdlb21ldHJ5UG9pbnQ6XCJwb2ludFwiLGVzcmlHZW9tZXRyeU11bHRpcG9pbnQ6XCJtdWx0aXBvaW50XCIsZXNyaUdlb21ldHJ5UG9seWxpbmU6XCJwb2x5bGluZVwiLGVzcmlHZW9tZXRyeVBvbHlnb246XCJwb2x5Z29uXCIsZXNyaUdlb21ldHJ5RW52ZWxvcGU6XCJleHRlbnRcIixtZXNoOlwibWVzaFwifSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBuJGM9e2Jhc2U6cCRiLGtleTpcInR5cGVcIix0eXBlTWFwOntleHRlbnQ6TSQzLG11bHRpcG9pbnQ6dSRlLHBvaW50OngkYSxwb2x5bGluZTptJDUscG9seWdvbjpqJDJ9fTtTJDYobiRjKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHQkNz17dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp7c291cmNlOlwidG9rZW5cIn0sd3JpdGU6e3RhcmdldDpcInRva2VuXCJ9fX07XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgbCQ1PWNsYXNzIGV4dGVuZHMgbCRme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuYWRkcmVzcz1udWxsLHRoaXMuYXBpS2V5PW51bGwsdGhpcy5jYXRlZ29yaWVzPW51bGwsdGhpcy5jb3VudHJ5Q29kZT1udWxsLHRoaXMuZm9yU3RvcmFnZT1udWxsLHRoaXMubG9jYXRpb249bnVsbCx0aGlzLmxvY2F0aW9uVHlwZT1udWxsLHRoaXMubWFnaWNLZXk9bnVsbCx0aGlzLm1heExvY2F0aW9ucz1udWxsLHRoaXMub3V0RmllbGRzPW51bGwsdGhpcy5vdXRTcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5zZWFyY2hFeHRlbnQ9bnVsbDt9fTtlJHgoW3kkZCh7dHlwZTpPYmplY3QsanNvbjp7d3JpdGU6ITB9fSldLGwkNS5wcm90b3R5cGUsXCJhZGRyZXNzXCIsdm9pZCAwKSxlJHgoW3kkZCh0JDcpXSxsJDUucHJvdG90eXBlLFwiYXBpS2V5XCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpbU3RyaW5nXSxqc29uOntyZWFkOntzb3VyY2U6XCJjYXRlZ29yeVwiLHJlYWRlcjp0PT50P3Quc3BsaXQoXCIsXCIpOm51bGx9LHdyaXRlOnt0YXJnZXQ6XCJjYXRlZ29yeVwiLHdyaXRlcjoodCxvKT0+e28uY2F0ZWdvcnk9dD90LmpvaW4oXCIsXCIpOm51bGw7fX19fSldLGwkNS5wcm90b3R5cGUsXCJjYXRlZ29yaWVzXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGwkNS5wcm90b3R5cGUsXCJjb3VudHJ5Q29kZVwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0sbCQ1LnByb3RvdHlwZSxcImZvclN0b3JhZ2VcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOngkYSxqc29uOnt3cml0ZTp7d3JpdGVyOih0LG8pPT57by5sb2NhdGlvbj10P3QuY2xvbmUoKS5ub3JtYWxpemUoKTpudWxsO319fX0pXSxsJDUucHJvdG90eXBlLFwibG9jYXRpb25cIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sbCQ1LnByb3RvdHlwZSxcImxvY2F0aW9uVHlwZVwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxsJDUucHJvdG90eXBlLFwibWFnaWNLZXlcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOk51bWJlcixqc29uOnt3cml0ZTohMH19KV0sbCQ1LnByb3RvdHlwZSxcIm1heExvY2F0aW9uc1wiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6W1N0cmluZ10sanNvbjp7d3JpdGU6e3dyaXRlcjoodCxvKT0+e28ub3V0RmllbGRzPXQ/dC5qb2luKFwiLFwiKTpudWxsO319fX0pXSxsJDUucHJvdG90eXBlLFwib3V0RmllbGRzXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpmJGcsanNvbjp7cmVhZDp7c291cmNlOlwib3V0U1JcIn0sd3JpdGU6e3RhcmdldDpcIm91dFNSXCJ9fX0pXSxsJDUucHJvdG90eXBlLFwib3V0U3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6TSQzLGpzb246e3dyaXRlOnt3cml0ZXI6KHQsbyk9Pntjb25zdCBlPXQ/dC5zaGlmdENlbnRyYWxNZXJpZGlhbigpOm51bGw7by5zZWFyY2hFeHRlbnQ9ZTt9fX19KV0sbCQ1LnByb3RvdHlwZSxcInNlYXJjaEV4dGVudFwiLHZvaWQgMCksbCQ1PWUkeChbYSRpKFwiZXNyaS5yZXN0LnN1cHBvcnQuQWRkcmVzc1RvTG9jYXRpb25zUGFyYW1ldGVyc1wiKV0sbCQ1KSxsJDUuZnJvbT1kJGsobCQ1KTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBwJDc9Y2xhc3MgZXh0ZW5kcyBsJGZ7Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5hZGRyZXNzZXM9bnVsbCx0aGlzLmNhdGVnb3JpZXM9bnVsbCx0aGlzLmNvdW50cnlDb2RlPW51bGwsdGhpcy5sb2NhdGlvblR5cGU9bnVsbCx0aGlzLm91dFNwYXRpYWxSZWZlcmVuY2U9bnVsbDt9fTtlJHgoW3kkZCh7dHlwZTpbT2JqZWN0XSxqc29uOntyZWFkOntyZWFkZXI6cj0+ciYmci5yZWNvcmRzP3IucmVjb3Jkcy5tYXAoKHI9PnIuYXR0cmlidXRlcykpOm51bGx9LHdyaXRlOnt3cml0ZXI6KHIsZSk9Pntjb25zdCBvPVtdO0FycmF5LmlzQXJyYXkocikmJnIuZm9yRWFjaCgocj0+e28ucHVzaCh7YXR0cmlidXRlczpyfSk7fSkpLGUuYWRkcmVzc2VzPXtyZWNvcmRzOm99O319fX0pXSxwJDcucHJvdG90eXBlLFwiYWRkcmVzc2VzXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpbU3RyaW5nXSxqc29uOntyZWFkOntzb3VyY2U6XCJjYXRlZ29yeVwiLHJlYWRlcjpyPT5yP3Iuc3BsaXQoXCIsXCIpOm51bGx9LHdyaXRlOnt0YXJnZXQ6XCJjYXRlZ29yeVwiLHdyaXRlcjoocixlKT0+e2UuY2F0ZWdvcnk9cj9yLmpvaW4oXCIsXCIpOm51bGw7fX19fSldLHAkNy5wcm90b3R5cGUsXCJjYXRlZ29yaWVzXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpTdHJpbmcsanNvbjp7cmVhZDp7c291cmNlOlwic291cmNlQ291bnRyeVwifSx3cml0ZTp7dGFyZ2V0Olwic291cmNlQ291bnRyeVwifX19KV0scCQ3LnByb3RvdHlwZSxcImNvdW50cnlDb2RlXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLHAkNy5wcm90b3R5cGUsXCJsb2NhdGlvblR5cGVcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOmYkZyxqc29uOntyZWFkOntzb3VyY2U6XCJvdXRTUlwifSx3cml0ZTp7dGFyZ2V0Olwib3V0U1JcIn19fSldLHAkNy5wcm90b3R5cGUsXCJvdXRTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxwJDc9ZSR4KFthJGkoXCJlc3JpLnJlc3Quc3VwcG9ydC5BZGRyZXNzZXNUb0xvY2F0aW9uc1BhcmFtZXRlcnNcIildLHAkNykscCQ3LmZyb209ZCRrKHAkNyk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgYSQ4PWNsYXNzIGV4dGVuZHMgbCRme2NvbnN0cnVjdG9yKG8pe3N1cGVyKG8pLHRoaXMuYXBpS2V5PW51bGwsdGhpcy5sb2NhdGlvbj1udWxsLHRoaXMubG9jYXRpb25UeXBlPW51bGwsdGhpcy5vdXRTcGF0aWFsUmVmZXJlbmNlPW51bGw7fX07ZSR4KFt5JGQodCQ3KV0sYSQ4LnByb3RvdHlwZSxcImFwaUtleVwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6eCRhLGpzb246e3dyaXRlOnt3cml0ZXI6KG8scik9Pntjb25zdCB0PW8/by5jbG9uZSgpLm5vcm1hbGl6ZSgpOm51bGwsZT12b2lkIDAhPT10O3IubG9jYXRpb249ZT90Om51bGw7fX19fSldLGEkOC5wcm90b3R5cGUsXCJsb2NhdGlvblwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxhJDgucHJvdG90eXBlLFwibG9jYXRpb25UeXBlXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpmJGcsanNvbjp7cmVhZDp7c291cmNlOlwib3V0U1JcIn0sd3JpdGU6e3RhcmdldDpcIm91dFNSXCJ9fX0pXSxhJDgucHJvdG90eXBlLFwib3V0U3BhdGlhbFJlZmVyZW5jZVwiLHZvaWQgMCksYSQ4PWUkeChbYSRpKFwiZXNyaS5yZXN0LnN1cHBvcnQuTG9jYXRpb25Ub0FkZHJlc3NQYXJhbWV0ZXJzXCIpXSxhJDgpLGEkOC5mcm9tPWQkayhhJDgpO2NvbnN0IG4kYj1hJDg7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5hc3luYyBmdW5jdGlvbiBuJGEoZSxuLGkpe249biRiLmZyb20obik7Y29uc3QgYz1mJHQoZSksbT17Li4ubi50b0pTT04oKSxmOlwianNvblwifSx1PXMkQih7Li4uYy5xdWVyeSwuLi5tfSksZj1pJHYodSxpKSxwPWAke2MucGF0aH0vcmV2ZXJzZUdlb2NvZGVgO3JldHVybiBqJGIocCxmKS50aGVuKGQkOSl9ZnVuY3Rpb24gZCQ5KHtkYXRhOnJ9KXtpZighcilyZXR1cm47Y29uc3R7YWRkcmVzczpvLGxvY2F0aW9uOnR9PXIscz1vJiZvLk1hdGNoX2FkZHJ8fFwiXCI7cmV0dXJuIGMkaC5mcm9tSlNPTih7YWRkcmVzczpzLGF0dHJpYnV0ZXM6b3x8e30sbG9jYXRpb246dCxzY29yZToxMDB9KX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBlJGM9Y2xhc3MgZXh0ZW5kcyBsJGZ7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5pc0NvbGxlY3Rpb249bnVsbCx0aGlzLm1hZ2ljS2V5PW51bGwsdGhpcy50ZXh0PW51bGw7fX07ZSR4KFt5JGQoe3R5cGU6Qm9vbGVhbixqc29uOnt3cml0ZTohMH19KV0sZSRjLnByb3RvdHlwZSxcImlzQ29sbGVjdGlvblwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxlJGMucHJvdG90eXBlLFwibWFnaWNLZXlcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOlN0cmluZyxqc29uOnt3cml0ZTohMH19KV0sZSRjLnByb3RvdHlwZSxcInRleHRcIix2b2lkIDApLGUkYz1lJHgoW2EkaShcImVzcmkucmVzdC5zdXBwb3J0LlN1Z2dlc3Rpb25DYW5kaWRhdGVcIildLGUkYyk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgYyQ5PWNsYXNzIGV4dGVuZHMgbCRme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuYXBpS2V5PW51bGwsdGhpcy5jYXRlZ29yaWVzPW51bGwsdGhpcy5jb3VudHJ5Q29kZT1udWxsLHRoaXMubG9jYXRpb249bnVsbCx0aGlzLm1heFN1Z2dlc3Rpb25zPW51bGwsdGhpcy5vdXRTcGF0aWFsUmVmZXJlbmNlPW51bGwsdGhpcy5zZWFyY2hFeHRlbnQ9bnVsbCx0aGlzLnRleHQ9bnVsbDt9fTtlJHgoW3kkZCh0JDcpXSxjJDkucHJvdG90eXBlLFwiYXBpS2V5XCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpbU3RyaW5nXSxqc29uOntyZWFkOntzb3VyY2U6XCJjYXRlZ29yeVwiLHJlYWRlcjp0PT50P3Quc3BsaXQoXCIsXCIpOm51bGx9LHdyaXRlOnt0YXJnZXQ6XCJjYXRlZ29yeVwiLHdyaXRlcjoodCxvKT0+e28uY2F0ZWdvcnk9dD90LmpvaW4oXCIsXCIpOm51bGw7fX19fSldLGMkOS5wcm90b3R5cGUsXCJjYXRlZ29yaWVzXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpTdHJpbmcsanNvbjp7d3JpdGU6ITB9fSldLGMkOS5wcm90b3R5cGUsXCJjb3VudHJ5Q29kZVwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6eCRhLGpzb246e3dyaXRlOnt3cml0ZXI6KHQsbyk9PntvLmxvY2F0aW9uPXQ/dC5jbG9uZSgpLm5vcm1hbGl6ZSgpOm51bGw7fX19fSldLGMkOS5wcm90b3R5cGUsXCJsb2NhdGlvblwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6TnVtYmVyLGpzb246e3dyaXRlOiEwfX0pXSxjJDkucHJvdG90eXBlLFwibWF4U3VnZ2VzdGlvbnNcIix2b2lkIDApLGUkeChbeSRkKHt0eXBlOmYkZyxqc29uOntyZWFkOntzb3VyY2U6XCJvdXRTUlwifSx3cml0ZTp7dGFyZ2V0Olwib3V0U1JcIn19fSldLGMkOS5wcm90b3R5cGUsXCJvdXRTcGF0aWFsUmVmZXJlbmNlXCIsdm9pZCAwKSxlJHgoW3kkZCh7dHlwZTpNJDMsanNvbjp7d3JpdGU6e3dyaXRlcjoodCxvKT0+e2NvbnN0IGU9dD90LnNoaWZ0Q2VudHJhbE1lcmlkaWFuKCk6bnVsbDtvLnNlYXJjaEV4dGVudD1KU09OLnN0cmluZ2lmeShlKTt9fX19KV0sYyQ5LnByb3RvdHlwZSxcInNlYXJjaEV4dGVudFwiLHZvaWQgMCksZSR4KFt5JGQoe3R5cGU6U3RyaW5nLGpzb246e3dyaXRlOiEwfX0pXSxjJDkucHJvdG90eXBlLFwidGV4dFwiLHZvaWQgMCksYyQ5PWUkeChbYSRpKFwiZXNyaS5yZXN0LnN1cHBvcnQuU3VnZ2VzdExvY2F0aW9uc1BhcmFtZXRlcnNcIildLGMkOSksYyQ5LmZyb209ZCRrKGMkOSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBpJDl7Y29uc3RydWN0b3IoKXt0aGlzLl9lbWl0dGVyPW5ldyBpJDkuRXZlbnRFbWl0dGVyKHRoaXMpO31lbWl0KHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuZW1pdCh0LGUpfW9uKHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub24odCxlKX1vbmNlKHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub25jZSh0LGUpfWhhc0V2ZW50TGlzdGVuZXIodCl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuaGFzRXZlbnRMaXN0ZW5lcih0KX19IWZ1bmN0aW9uKG4pe2NsYXNzIG97Y29uc3RydWN0b3IodD1udWxsKXt0aGlzLl90YXJnZXQ9dCx0aGlzLl9saXN0ZW5lcnNNYXA9bnVsbDt9Y2xlYXIoKXt0aGlzLl9saXN0ZW5lcnNNYXA/LmNsZWFyKCksdGhpcy5fbGlzdGVuZXJzTWFwPW51bGw7fWRlc3Ryb3koKXt0aGlzLmNsZWFyKCk7fWVtaXQodCxlKXtjb25zdCBzPXRoaXMuX2xpc3RlbmVyc01hcCYmdGhpcy5fbGlzdGVuZXJzTWFwLmdldCh0KTtpZighcylyZXR1cm4gITE7Y29uc3Qgcj10aGlzLl90YXJnZXR8fHRoaXM7cmV0dXJuIFsuLi5zXS5mb3JFYWNoKCh0PT57dC5jYWxsKHIsZSk7fSkpLHMubGVuZ3RoPjB9b24odCxlKXtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCByPXQubWFwKCh0PT50aGlzLm9uKHQsZSkpKTtyZXR1cm4gbiRyKHIpfWlmKHQuaW5jbHVkZXMoXCIsXCIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFdmVudGVkLm9uKCkgd2l0aCBhIGNvbW1hIGRlbGltaXRlZCBzdHJpbmcgb2YgZXZlbnQgdHlwZXMgaXMgbm90IHN1cHBvcnRlZFwiKTt0aGlzLl9saXN0ZW5lcnNNYXB8fCh0aGlzLl9saXN0ZW5lcnNNYXA9bmV3IE1hcCk7Y29uc3Qgcj10aGlzLl9saXN0ZW5lcnNNYXAuZ2V0KHQpfHxbXTtyZXR1cm4gci5wdXNoKGUpLHRoaXMuX2xpc3RlbmVyc01hcC5zZXQodCxyKSx7cmVtb3ZlOigpPT57Y29uc3Qgcz10aGlzLl9saXN0ZW5lcnNNYXAmJnRoaXMuX2xpc3RlbmVyc01hcC5nZXQodCl8fFtdLHI9cy5pbmRleE9mKGUpO3I+PTAmJnMuc3BsaWNlKHIsMSk7fX19b25jZSh0LGUpe2NvbnN0IHM9dGhpcy5vbih0LCh0PT57cy5yZW1vdmUoKSxlLmNhbGwobnVsbCx0KTt9KSk7cmV0dXJuIHN9aGFzRXZlbnRMaXN0ZW5lcih0KXtjb25zdCBlPXRoaXMuX2xpc3RlbmVyc01hcCYmdGhpcy5fbGlzdGVuZXJzTWFwLmdldCh0KTtyZXR1cm4gbnVsbCE9ZSYmZS5sZW5ndGg+MH19bi5FdmVudEVtaXR0ZXI9byxuLkV2ZW50ZWRNaXhpbj1lPT57bGV0IHM9Y2xhc3MgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9lbWl0dGVyPW5ldyBvO31kZXN0cm95KCl7dGhpcy5fZW1pdHRlci5jbGVhcigpO31lbWl0KHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuZW1pdCh0LGUpfW9uKHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub24odCxlKX1vbmNlKHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub25jZSh0LGUpfWhhc0V2ZW50TGlzdGVuZXIodCl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuaGFzRXZlbnRMaXN0ZW5lcih0KX19O3JldHVybiBzPWUkeChbYSRpKFwiZXNyaS5jb3JlLkV2ZW50ZWRcIildLHMpLHN9O2xldCBoPWNsYXNzIGV4dGVuZHMgbSRle2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9lbWl0dGVyPW5ldyBpJDkuRXZlbnRFbWl0dGVyKHRoaXMpO31kZXN0cm95KCl7dGhpcy5fZW1pdHRlci5jbGVhcigpO31lbWl0KHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuZW1pdCh0LGUpfW9uKHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub24odCxlKX1vbmNlKHQsZSl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIub25jZSh0LGUpfWhhc0V2ZW50TGlzdGVuZXIodCl7cmV0dXJuIHRoaXMuX2VtaXR0ZXIuaGFzRXZlbnRMaXN0ZW5lcih0KX19O2g9ZSR4KFthJGkoXCJlc3JpLmNvcmUuRXZlbnRlZFwiKV0saCksbi5FdmVudGVkQWNjZXNzb3I9aDt9KGkkOXx8KGkkOT17fSkpO2NvbnN0IG4kOT1pJDk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBsJDQobix0LHI9e30pe3JldHVybiBtJDQobix0LHIseSQzKX1mdW5jdGlvbiBmJDYobix0LHI9e30pe3JldHVybiBtJDQobix0LHIsZCQ4KX1mdW5jdGlvbiBtJDQobix0LHI9e30sZSl7bGV0IGk9bnVsbDtjb25zdCB1PXIub25jZT8obixyKT0+e2UobikmJihvJEEoaSksdChuLHIpKTt9OihuLHIpPT57ZShuKSYmdChuLHIpO307aWYoaT1QJDIobix1LHIuc3luYyxyLmVxdWFscyksci5pbml0aWFsKXtjb25zdCB0PW4oKTt1KHQsdCk7fXJldHVybiBpfWZ1bmN0aW9uIHkkMyhuKXtyZXR1cm4gITB9ZnVuY3Rpb24gZCQ4KG4pe3JldHVybiAhIW59Y29uc3QgaCQ1PXtpbml0aWFsOiEwfSx3JDE9e3N5bmM6ITAsaW5pdGlhbDohMH07XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5sZXQgbyQ4O2NvbnN0IGUkYj1nbG9iYWxUaGlzLmVzcmlDb25maWc/LmxvY2FsZT8/Z2xvYmFsVGhpcy5kb2pvQ29uZmlnPy5sb2NhbGU7ZnVuY3Rpb24gdCQ2KCl7cmV0dXJuIGUkYj8/Z2xvYmFsVGhpcy5uYXZpZ2F0b3I/Lmxhbmd1YWdlPz9cImVuXCJ9ZnVuY3Rpb24gYyQ4KCl7cmV0dXJuIHZvaWQgMD09PW8kOCYmKG8kOD10JDYoKSksbyQ4fWNvbnN0IHUkNT1bXTtmdW5jdGlvbiBzJDkobil7cmV0dXJuIHUkNS5wdXNoKG4pLHtyZW1vdmUoKXt1JDUuc3BsaWNlKHUkNS5pbmRleE9mKG4pLDEpO319fWNvbnN0IGYkNT1bXTtmdW5jdGlvbiBnJDIobil7cmV0dXJuIGYkNS5wdXNoKG4pLHtyZW1vdmUoKXt1JDUuc3BsaWNlKGYkNS5pbmRleE9mKG4pLDEpO319fWZ1bmN0aW9uIGgkNCgpe2NvbnN0IGU9dCQ2KCk7byQ4IT09ZSYmKG8kOD1lLFsuLi5mJDVdLmZvckVhY2goKG49PntuLmNhbGwobnVsbCxlKTt9KSksWy4uLnUkNV0uZm9yRWFjaCgobj0+e24uY2FsbChudWxsLGUpO30pKSk7fWdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcj8uKFwibGFuZ3VhZ2VjaGFuZ2VcIixoJDQpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuKHt0aW1lWm9uZTpJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmV9KTtjb25zdCBpJDg9e3llYXI6XCJudW1lcmljXCIsbW9udGg6XCJudW1lcmljXCIsZGF5OlwibnVtZXJpY1wifSxzJDg9e3llYXI6XCJudW1lcmljXCIsbW9udGg6XCJsb25nXCIsZGF5OlwibnVtZXJpY1wifSxsJDM9e3llYXI6XCJudW1lcmljXCIsbW9udGg6XCJzaG9ydFwiLGRheTpcIm51bWVyaWNcIn0sZCQ3PXt5ZWFyOlwibnVtZXJpY1wiLG1vbnRoOlwibG9uZ1wiLHdlZWtkYXk6XCJsb25nXCIsZGF5OlwibnVtZXJpY1wifSx5JDI9e2hvdXI6XCJudW1lcmljXCIsbWludXRlOlwibnVtZXJpY1wifSxnJDE9ey4uLnkkMixzZWNvbmQ6XCJudW1lcmljXCJ9LHUkND17XCJzaG9ydC1kYXRlXCI6aSQ4LFwic2hvcnQtZGF0ZS1zaG9ydC10aW1lXCI6ey4uLmkkOCwuLi55JDJ9LFwic2hvcnQtZGF0ZS1zaG9ydC10aW1lLTI0XCI6ey4uLmkkOCwuLi55JDIsaG91cjEyOiExfSxcInNob3J0LWRhdGUtbG9uZy10aW1lXCI6ey4uLmkkOCwuLi5nJDF9LFwic2hvcnQtZGF0ZS1sb25nLXRpbWUtMjRcIjp7Li4uaSQ4LC4uLmckMSxob3VyMTI6ITF9LFwic2hvcnQtZGF0ZS1sZVwiOmkkOCxcInNob3J0LWRhdGUtbGUtc2hvcnQtdGltZVwiOnsuLi5pJDgsLi4ueSQyfSxcInNob3J0LWRhdGUtbGUtc2hvcnQtdGltZS0yNFwiOnsuLi5pJDgsLi4ueSQyLGhvdXIxMjohMX0sXCJzaG9ydC1kYXRlLWxlLWxvbmctdGltZVwiOnsuLi5pJDgsLi4uZyQxfSxcInNob3J0LWRhdGUtbGUtbG9uZy10aW1lLTI0XCI6ey4uLmkkOCwuLi5nJDEsaG91cjEyOiExfSxcImxvbmctbW9udGgtZGF5LXllYXJcIjpzJDgsXCJsb25nLW1vbnRoLWRheS15ZWFyLXNob3J0LXRpbWVcIjp7Li4ucyQ4LC4uLnkkMn0sXCJsb25nLW1vbnRoLWRheS15ZWFyLXNob3J0LXRpbWUtMjRcIjp7Li4ucyQ4LC4uLnkkMixob3VyMTI6ITF9LFwibG9uZy1tb250aC1kYXkteWVhci1sb25nLXRpbWVcIjp7Li4ucyQ4LC4uLmckMX0sXCJsb25nLW1vbnRoLWRheS15ZWFyLWxvbmctdGltZS0yNFwiOnsuLi5zJDgsLi4uZyQxLGhvdXIxMjohMX0sXCJkYXktc2hvcnQtbW9udGgteWVhclwiOmwkMyxcImRheS1zaG9ydC1tb250aC15ZWFyLXNob3J0LXRpbWVcIjp7Li4ubCQzLC4uLnkkMn0sXCJkYXktc2hvcnQtbW9udGgteWVhci1zaG9ydC10aW1lLTI0XCI6ey4uLmwkMywuLi55JDIsaG91cjEyOiExfSxcImRheS1zaG9ydC1tb250aC15ZWFyLWxvbmctdGltZVwiOnsuLi5sJDMsLi4uZyQxfSxcImRheS1zaG9ydC1tb250aC15ZWFyLWxvbmctdGltZS0yNFwiOnsuLi5sJDMsLi4uZyQxLGhvdXIxMjohMX0sXCJsb25nLWRhdGVcIjpkJDcsXCJsb25nLWRhdGUtc2hvcnQtdGltZVwiOnsuLi5kJDcsLi4ueSQyfSxcImxvbmctZGF0ZS1zaG9ydC10aW1lLTI0XCI6ey4uLmQkNywuLi55JDIsaG91cjEyOiExfSxcImxvbmctZGF0ZS1sb25nLXRpbWVcIjp7Li4uZCQ3LC4uLmckMX0sXCJsb25nLWRhdGUtbG9uZy10aW1lLTI0XCI6ey4uLmQkNywuLi5nJDEsaG91cjEyOiExfSxcImxvbmctbW9udGgteWVhclwiOnttb250aDpcImxvbmdcIix5ZWFyOlwibnVtZXJpY1wifSxcInNob3J0LW1vbnRoLXllYXJcIjp7bW9udGg6XCJzaG9ydFwiLHllYXI6XCJudW1lcmljXCJ9LHllYXI6e3llYXI6XCJudW1lcmljXCJ9LFwic2hvcnQtdGltZVwiOnkkMixcImxvbmctdGltZVwiOmckMX07byRrKCkoe3Nob3J0RGF0ZTpcInNob3J0LWRhdGVcIixzaG9ydERhdGVTaG9ydFRpbWU6XCJzaG9ydC1kYXRlLXNob3J0LXRpbWVcIixzaG9ydERhdGVTaG9ydFRpbWUyNDpcInNob3J0LWRhdGUtc2hvcnQtdGltZS0yNFwiLHNob3J0RGF0ZUxvbmdUaW1lOlwic2hvcnQtZGF0ZS1sb25nLXRpbWVcIixzaG9ydERhdGVMb25nVGltZTI0Olwic2hvcnQtZGF0ZS1sb25nLXRpbWUtMjRcIixzaG9ydERhdGVMRTpcInNob3J0LWRhdGUtbGVcIixzaG9ydERhdGVMRVNob3J0VGltZTpcInNob3J0LWRhdGUtbGUtc2hvcnQtdGltZVwiLHNob3J0RGF0ZUxFU2hvcnRUaW1lMjQ6XCJzaG9ydC1kYXRlLWxlLXNob3J0LXRpbWUtMjRcIixzaG9ydERhdGVMRUxvbmdUaW1lOlwic2hvcnQtZGF0ZS1sZS1sb25nLXRpbWVcIixzaG9ydERhdGVMRUxvbmdUaW1lMjQ6XCJzaG9ydC1kYXRlLWxlLWxvbmctdGltZS0yNFwiLGxvbmdNb250aERheVllYXI6XCJsb25nLW1vbnRoLWRheS15ZWFyXCIsbG9uZ01vbnRoRGF5WWVhclNob3J0VGltZTpcImxvbmctbW9udGgtZGF5LXllYXItc2hvcnQtdGltZVwiLGxvbmdNb250aERheVllYXJTaG9ydFRpbWUyNDpcImxvbmctbW9udGgtZGF5LXllYXItc2hvcnQtdGltZS0yNFwiLGxvbmdNb250aERheVllYXJMb25nVGltZTpcImxvbmctbW9udGgtZGF5LXllYXItbG9uZy10aW1lXCIsbG9uZ01vbnRoRGF5WWVhckxvbmdUaW1lMjQ6XCJsb25nLW1vbnRoLWRheS15ZWFyLWxvbmctdGltZS0yNFwiLGRheVNob3J0TW9udGhZZWFyOlwiZGF5LXNob3J0LW1vbnRoLXllYXJcIixkYXlTaG9ydE1vbnRoWWVhclNob3J0VGltZTpcImRheS1zaG9ydC1tb250aC15ZWFyLXNob3J0LXRpbWVcIixkYXlTaG9ydE1vbnRoWWVhclNob3J0VGltZTI0OlwiZGF5LXNob3J0LW1vbnRoLXllYXItc2hvcnQtdGltZS0yNFwiLGRheVNob3J0TW9udGhZZWFyTG9uZ1RpbWU6XCJkYXktc2hvcnQtbW9udGgteWVhci1sb25nLXRpbWVcIixkYXlTaG9ydE1vbnRoWWVhckxvbmdUaW1lMjQ6XCJkYXktc2hvcnQtbW9udGgteWVhci1sb25nLXRpbWUtMjRcIixsb25nRGF0ZTpcImxvbmctZGF0ZVwiLGxvbmdEYXRlU2hvcnRUaW1lOlwibG9uZy1kYXRlLXNob3J0LXRpbWVcIixsb25nRGF0ZVNob3J0VGltZTI0OlwibG9uZy1kYXRlLXNob3J0LXRpbWUtMjRcIixsb25nRGF0ZUxvbmdUaW1lOlwibG9uZy1kYXRlLWxvbmctdGltZVwiLGxvbmdEYXRlTG9uZ1RpbWUyNDpcImxvbmctZGF0ZS1sb25nLXRpbWUtMjRcIixsb25nTW9udGhZZWFyOlwibG9uZy1tb250aC15ZWFyXCIsc2hvcnRNb250aFllYXI6XCJzaG9ydC1tb250aC15ZWFyXCIseWVhcjpcInllYXJcIn0pO2NvbnN0IEQkMj17YXI6XCJhci11LW51LWxhdG4tY2EtZ3JlZ29yeVwifTtsZXQgVD1uZXcgV2Vha01hcCxTJDE9dSQ0W1wic2hvcnQtZGF0ZS1zaG9ydC10aW1lXCJdO2Z1bmN0aW9uIEwkMih0KXtjb25zdCBvPXR8fFMkMTtsZXQgcj1ULmdldChvKTtpZighcil7Y29uc3QgdD1jJDgoKSxuPUQkMlt0XXx8dDtyPW5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KG4sbyksVC5zZXQobyxyKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gZiQ0KHQsbyl7cmV0dXJuIEwkMihvKS5mb3JtYXQodCl9ZyQyKCgoKT0+e1Q9bmV3IFdlYWtNYXAsUyQxPXUkNFtcInNob3J0LWRhdGUtc2hvcnQtdGltZVwiXTt9KSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlJGE9e2FyOlwiYXItdS1udS1sYXRuXCJ9O2xldCBhJDc9bmV3IFdlYWtNYXAsaSQ3PXt9O2Z1bmN0aW9uIG8kNyhuKXtjb25zdCBvPW58fGkkNztpZighYSQ3LmhhcyhvKSl7Y29uc3QgdD1jJDgoKSxpPWUkYVtjJDgoKV18fHQ7YSQ3LnNldChvLG5ldyBJbnRsLk51bWJlckZvcm1hdChpLG4pKTt9cmV0dXJuIHAkbShhJDcuZ2V0KG8pKX1mdW5jdGlvbiBjJDcodCxuKXtyZXR1cm4gT2JqZWN0LmlzKHQsLTApJiYodD0wKSxvJDcobikuZm9ybWF0KHQpfWckMigoKCk9PnthJDc9bmV3IFdlYWtNYXAsaSQ3PXt9O30pKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGkkNj1zJEUuZ2V0TG9nZ2VyKFwiZXNyaS5pbnRsLnN1YnN0aXR1dGVcIik7ZnVuY3Rpb24gcyQ3KHQscixuPXt9KXtjb25zdHtmb3JtYXQ6bz17fX09bjtyZXR1cm4gciRxKHQsKHQ9PnUkMyh0LHIsbykpKX1mdW5jdGlvbiB1JDModCxlLG4pe2xldCBvLGk7Y29uc3Qgcz10LmluZGV4T2YoXCI6XCIpO2lmKC0xPT09cz9vPXQudHJpbSgpOihvPXQuc2xpY2UoMCxzKS50cmltKCksaT10LnNsaWNlKHMrMSkudHJpbSgpKSwhbylyZXR1cm4gXCJcIjtjb25zdCB1PXQkeChvLGUpO2lmKG51bGw9PXUpcmV0dXJuIFwiXCI7Y29uc3QgbT0oaT9uPy5baV06bnVsbCk/P24/LltvXTtyZXR1cm4gbT9jJDYodSxtKTppP2EkNih1LGkpOmYkMyh1KX1mdW5jdGlvbiBjJDYodCxyKXtzd2l0Y2goci50eXBlKXtjYXNlXCJkYXRlXCI6cmV0dXJuIGYkNCh0LHIuaW50bE9wdGlvbnMpO2Nhc2VcIm51bWJlclwiOnJldHVybiBjJDcodCxyLmludGxPcHRpb25zKTtkZWZhdWx0OnJldHVybiBpJDYud2FybihcIm1pc3NpbmcgZm9ybWF0IGRlc2NyaXB0b3IgZm9yIGtleSB7a2V5fVwiKSxmJDModCl9fWZ1bmN0aW9uIGEkNih0LHIpe3N3aXRjaChyLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImRhdGVmb3JtYXRcIjpyZXR1cm4gZiQ0KHQpO2Nhc2VcIm51bWJlcmZvcm1hdFwiOnJldHVybiBjJDcodCk7ZGVmYXVsdDpyZXR1cm4gaSQ2Lndhcm4oYGlubGluZSBmb3JtYXQgaXMgdW5zdXBwb3J0ZWQgc2luY2UgNC4xMjogJHtyfWApLC9eKGRhdGVmb3JtYXR8ZGF0ZXN0cmluZykvaS50ZXN0KHIpP2YkNCh0KTovXm51bWJlcmZvcm1hdC9pLnRlc3Qocik/YyQ3KHQpOmYkMyh0KX19ZnVuY3Rpb24gZiQzKHQpe3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHQ7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIGMkNyh0KTtjYXNlXCJib29sZWFuXCI6cmV0dXJuIFwiXCIrdDtkZWZhdWx0OnJldHVybiB0IGluc3RhbmNlb2YgRGF0ZT9mJDQodCk6XCJcIn19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCByJDY9L14oW2Etel17Mn0pKD86Wy1fXShbQS1aYS16XXsyfSkpPyQvLG8kNj17YXI6ITAsYmc6ITAsYnM6ITAsY2E6ITAsY3M6ITAsZGE6ITAsZGU6ITAsZWw6ITAsZW46ITAsZXM6ITAsZXQ6ITAsZmk6ITAsZnI6ITAsaGU6ITAsaHI6ITAsaHU6ITAsaWQ6ITAsaXQ6ITAsamE6ITAsa286ITAsbHQ6ITAsbHY6ITAsbmI6ITAsbmw6ITAscGw6ITAsXCJwdC1CUlwiOiEwLFwicHQtUFRcIjohMCxybzohMCxydTohMCxzazohMCxzbDohMCxzcjohMCxzdjohMCx0aDohMCx0cjohMCx1azohMCx2aTohMCxcInpoLUNOXCI6ITAsXCJ6aC1IS1wiOiEwLFwiemgtVFdcIjohMH07ZnVuY3Rpb24gYSQ1KHQpe3JldHVybiB0IGluIG8kNn1jb25zdCBjJDU9W10sZCQ2PW5ldyBNYXA7ZnVuY3Rpb24gbCQyKHQpe2Zvcihjb25zdCBlIG9mIGQkNi5rZXlzKCkpbSQzKHQucGF0dGVybixlKSYmZCQ2LmRlbGV0ZShlKTt9ZnVuY3Rpb24gdSQyKHQpe3JldHVybiBjJDUuaW5jbHVkZXModCl8fChsJDIodCksYyQ1LnVuc2hpZnQodCkpLHtyZW1vdmUoKXtjb25zdCBlPWMkNS5pbmRleE9mKHQpO2U+LTEmJihjJDUuc3BsaWNlKGUsMSksbCQyKHQpKTt9fX1hc3luYyBmdW5jdGlvbiBoJDModCl7Y29uc3QgZT1jJDgoKTtkJDYuaGFzKHQpfHxkJDYuc2V0KHQsXyQ0KHQsZSkpO2NvbnN0IG49ZCQ2LmdldCh0KTtyZXR1cm4gbiYmYXdhaXQgcCQ2LmFkZChuKSxufWZ1bmN0aW9uIGYkMih0KXtpZighciQ2LnRlc3QodCkpcmV0dXJuIG51bGw7Y29uc3QgZT1yJDYuZXhlYyh0KTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtjb25zdFssbixzXT1lLG89bisocz9cIi1cIitzLnRvVXBwZXJDYXNlKCk6XCJcIik7cmV0dXJuIGEkNShvKT9vOmEkNShuKT9uOm51bGx9YXN5bmMgZnVuY3Rpb24gXyQ0KGUsbil7Y29uc3Qgcz1bXTtmb3IoY29uc3QgdCBvZiBjJDUpaWYobSQzKHQucGF0dGVybixlKSl0cnl7cmV0dXJuIGF3YWl0IHQuZmV0Y2hNZXNzYWdlQnVuZGxlKGUsbil9Y2F0Y2gocil7cy5wdXNoKHIpO31pZihzLmxlbmd0aCl0aHJvdyBuZXcgcyRDKFwiaW50bDptZXNzYWdlLWJ1bmRsZS1lcnJvclwiLGBFcnJvcnMgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyBcIiR7ZX1cImAse2Vycm9yczpzfSk7dGhyb3cgbmV3IHMkQyhcImludGw6bm8tbWVzc2FnZS1idW5kbGUtbG9hZGVyXCIsYE5vIGxvYWRlciBmb3VuZCBmb3IgbWVzc2FnZSBidW5kbGUgXCIke2V9XCJgKX1mdW5jdGlvbiBtJDModCxlKXtyZXR1cm4gXCJzdHJpbmdcIj09dHlwZW9mIHQ/ZS5zdGFydHNXaXRoKHQpOnQudGVzdChlKX1nJDIoKCgpPT57ZCQ2LmNsZWFyKCk7fSkpO2NvbnN0IHAkNj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLl9udW1Mb2FkaW5nPTAsdGhpcy5fZGZkPW51bGw7fWFzeW5jIHdhaXRGb3JBbGwoKXt0aGlzLl9kZmQmJmF3YWl0IHRoaXMuX2RmZC5wcm9taXNlO31hZGQodCl7cmV0dXJuIHRoaXMuX2luY3JlYXNlKCksdC50aGVuKCgoKT0+dGhpcy5fZGVjcmVhc2UoKSksKCgpPT50aGlzLl9kZWNyZWFzZSgpKSksdGhpcy53YWl0Rm9yQWxsKCl9X2luY3JlYXNlKCl7dGhpcy5fbnVtTG9hZGluZysrLHRoaXMuX2RmZHx8KHRoaXMuX2RmZD1DJDYoKSk7fV9kZWNyZWFzZSgpe3RoaXMuX251bUxvYWRpbmc9TWF0aC5tYXgodGhpcy5fbnVtTG9hZGluZy0xLDApLHRoaXMuX2RmZCYmMD09PXRoaXMuX251bUxvYWRpbmcmJih0aGlzLl9kZmQucmVzb2x2ZSgpLHRoaXMuX2RmZD1udWxsKTt9fTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmFzeW5jIGZ1bmN0aW9uIHIkNShlLHIscyxpKXtjb25zdCBhPXIuZXhlYyhzKTtpZighYSl0aHJvdyBuZXcgcyRDKFwiZXNyaS1pbnRsOmludmFsaWQtYnVuZGxlXCIsYEJ1bmRsZSBpZCBcIiR7c31cIiBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBwYXR0ZXJuIFwiJHtyfVwiYCk7Y29uc3QgYz1hWzFdP2Ake2FbMV19L2A6XCJcIixsPWFbMl0sdz1mJDIoaSksaD1gJHtjfSR7bH0uanNvbmAsdT13P2Ake2N9JHtsfV8ke3d9Lmpzb25gOmg7bGV0IGQ7dHJ5e2Q9YXdhaXQgbyQ1KGUodSkpO31jYXRjaChmKXtpZih1PT09aCl0aHJvdyBuZXcgcyRDKFwiaW50bDp1bmtub3duLWJ1bmRsZVwiLGBCdW5kbGUgXCIke3N9XCIgY2Fubm90IGJlIGxvYWRlZGAse2Vycm9yOmZ9KTt0cnl7ZD1hd2FpdCBvJDUoZShoKSk7fWNhdGNoKGYpe3Rocm93IG5ldyBzJEMoXCJpbnRsOnVua25vd24tYnVuZGxlXCIsYEJ1bmRsZSBcIiR7c31cIiBjYW5ub3QgYmUgbG9hZGVkYCx7ZXJyb3I6Zn0pfX1yZXR1cm4gZH1hc3luYyBmdW5jdGlvbiBvJDUodCl7aWYobnVsbCE9YSQ0LmZldGNoQnVuZGxlQXNzZXQpcmV0dXJuIGEkNC5mZXRjaEJ1bmRsZUFzc2V0KHQpO2NvbnN0IG49YXdhaXQgaiRiKHQse3Jlc3BvbnNlVHlwZTpcInRleHRcIn0pO3JldHVybiBKU09OLnBhcnNlKG4uZGF0YSl9Y2xhc3MgcyQ2e2NvbnN0cnVjdG9yKHtiYXNlOmU9XCJcIixwYXR0ZXJuOnQsbG9jYXRpb246bj1uZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKX0pe2xldCByO3I9XCJzdHJpbmdcIj09dHlwZW9mIG4/ZT0+bmV3IFVSTChlLG5ldyBVUkwobix3aW5kb3cubG9jYXRpb24uaHJlZikpLmhyZWY6biBpbnN0YW5jZW9mIFVSTD9lPT5uZXcgVVJMKGUsbikuaHJlZjpuLHRoaXMucGF0dGVybj1cInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgUmVnRXhwKGBeJHt0fWApOnQsdGhpcy5nZXRBc3NldFVybD1yLGU9ZT9lLmVuZHNXaXRoKFwiL1wiKT9lOmUrXCIvXCI6XCJcIix0aGlzLm1hdGNoZXI9bmV3IFJlZ0V4cChgXiR7ZX0oPzooLiopLyk/KC4qKSRgKTt9ZmV0Y2hNZXNzYWdlQnVuZGxlKGUsdCl7cmV0dXJuIHIkNSh0aGlzLmdldEFzc2V0VXJsLHRoaXMubWF0Y2hlcixlLHQpfX1mdW5jdGlvbiBpJDUoZSl7cmV0dXJuIG5ldyBzJDYoZSl9Y29uc3QgYSQ0PXt9O1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgaSQ0PXMkRS5nZXRMb2dnZXIoXCJlc3JpLmFzc2V0c1wiKTtmdW5jdGlvbiBhJDModCl7aWYoIXMkRi5hc3NldHNQYXRoKXRocm93IGkkNC5lcnJvck9uY2UoXCJUaGUgQVBJIGFzc2V0cyBsb2NhdGlvbiBuZWVkcyB0byBiZSBzZXQgdXNpbmcgY29uZmlnLmFzc2V0c1BhdGguIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vYXJjZy5pcy8xT3pMZTUwXCIpLG5ldyBzJEMoXCJhc3NldHM6cGF0aC1ub3Qtc2V0XCIsXCJjb25maWcuYXNzZXRzUGF0aCBpcyBub3Qgc2V0XCIpO3JldHVybiBWJDIocyRGLmFzc2V0c1BhdGgsdCl9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG51JDIoaSQ1KHtwYXR0ZXJuOlwiZXNyaS9cIixsb2NhdGlvbjphJDN9KSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlJDkoZSl7cmV0dXJuIFwic3RyaW5nXCI9PXR5cGVvZiBlP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpOmU/P251bGx9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgaCQyOyFmdW5jdGlvbihzKXtzW3MuUEVORElORz0wXT1cIlBFTkRJTkdcIixzW3MuUkVTT0xWRUQ9MV09XCJSRVNPTFZFRFwiLHNbcy5SRUpFQ1RFRD0yXT1cIlJFSkVDVEVEXCI7fShoJDJ8fChoJDI9e30pKTtjbGFzcyBuJDh7Y29uc3RydWN0b3IoKXt0aGlzLl9yZXNvbHZlcj1DJDYoKSx0aGlzLl9zdGF0dXM9aCQyLlBFTkRJTkcsdGhpcy5fcmVzb2x2aW5nUHJvbWlzZXM9W10sdGhpcy5fcmVzb2x2ZXIucHJvbWlzZS50aGVuKCgoKT0+e3RoaXMuX3N0YXR1cz1oJDIuUkVTT0xWRUQsdGhpcy5fY2xlYW5VcCgpO30pLCgoKT0+e3RoaXMuX3N0YXR1cz1oJDIuUkVKRUNURUQsdGhpcy5fY2xlYW5VcCgpO30pKSx0aGlzLnByb21pc2U9dGhpcy5fcmVzb2x2ZXIucHJvbWlzZTt9ZGVzdHJveSgpe3RoaXMuX2NsZWFuVXAoKTt9YWRkUmVzb2x2aW5nUHJvbWlzZShzKXt0aGlzLl9yZXNvbHZpbmdQcm9taXNlcy5wdXNoKHMpLHRoaXMuX3RyeVJlc29sdmUoKTt9aXNSZXNvbHZlZCgpe3JldHVybiB0aGlzLl9zdGF0dXM9PT1oJDIuUkVTT0xWRUR9aXNSZWplY3RlZCgpe3JldHVybiB0aGlzLl9zdGF0dXM9PT1oJDIuUkVKRUNURUR9aXNGdWxmaWxsZWQoKXtyZXR1cm4gdGhpcy5fc3RhdHVzIT09aCQyLlBFTkRJTkd9YWJvcnQoKXt0aGlzLl9yZXNvbHZlci5yZWplY3QoYyR5KCkpO31fY2xlYW5VcCgpe3RoaXMuX2FsbFByb21pc2U9bnVsbCx0aGlzLl9yZXNvbHZpbmdQcm9taXNlcz1udWxsO31fdHJ5UmVzb2x2ZSgpe2lmKHRoaXMuaXNGdWxmaWxsZWQoKSlyZXR1cm47Y29uc3Qgcz1DJDYoKSxlPVsuLi50aGlzLl9yZXNvbHZpbmdQcm9taXNlcyxwJG0ocy5wcm9taXNlKV0sdD10aGlzLl9hbGxQcm9taXNlPVByb21pc2UuYWxsKGUpO3QudGhlbigoKCk9Pnt0aGlzLmlzRnVsZmlsbGVkKCl8fHRoaXMuX2FsbFByb21pc2UhPT10fHx0aGlzLl9yZXNvbHZlci5yZXNvbHZlKCk7fSksKHM9Pnt0aGlzLmlzRnVsZmlsbGVkKCl8fHRoaXMuX2FsbFByb21pc2UhPT10fHxkJHAocyl8fHRoaXMuX3Jlc29sdmVyLnJlamVjdChzKTt9KSkscy5yZXNvbHZlKCk7fX1jb25zdCBtJDI9ZT0+e2xldCByPWNsYXNzIGV4dGVuZHMgZXtjb25zdHJ1Y3RvciguLi5zKXtzdXBlciguLi5zKSx0aGlzLl9wcm9taXNlUHJvcHM9bmV3IG4kOCx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UoUHJvbWlzZS5yZXNvbHZlKCkpO31kZXN0cm95KCl7dGhpcy5fcHJvbWlzZVByb3BzPy5kZXN0cm95KCk7fWlzUmVzb2x2ZWQoKXtyZXR1cm4gdGhpcy5fcHJvbWlzZVByb3BzLmlzUmVzb2x2ZWQoKX1pc1JlamVjdGVkKCl7cmV0dXJuIHRoaXMuX3Byb21pc2VQcm9wcy5pc1JlamVjdGVkKCl9aXNGdWxmaWxsZWQoKXtyZXR1cm4gdGhpcy5fcHJvbWlzZVByb3BzLmlzRnVsZmlsbGVkKCl9d2hlbihzLGUpe3JldHVybiB0aGlzLl9wcm9taXNlUHJvcHMucHJvbWlzZS50aGVuKCgoKT0+dGhpcykpLnRoZW4ocyxlKX1jYXRjaChzKXtyZXR1cm4gdGhpcy53aGVuKG51bGwscyl9YWRkUmVzb2x2aW5nUHJvbWlzZShzKXtzJiYhdGhpcy5fcHJvbWlzZVByb3BzLmlzRnVsZmlsbGVkKCkmJnRoaXMuX3Byb21pc2VQcm9wcy5hZGRSZXNvbHZpbmdQcm9taXNlKFwiX3Byb21pc2VQcm9wc1wiaW4gcz9zLndoZW4oKTpzKTt9fTtyZXR1cm4gcj1lJHgoW2EkaShcImVzcmkuY29yZS5Qcm9taXNlXCIpXSxyKSxyfTtsZXQgcCQ1PWNsYXNzIGV4dGVuZHMobSQyKG0kZSkpe307cCQ1PWUkeChbYSRpKFwiZXNyaS5jb3JlLlByb21pc2VcIildLHAkNSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0JDU9XCJyYW5kb21VVUlEXCJpbiBjcnlwdG87ZnVuY3Rpb24gbiQ3KCl7aWYodCQ1KXJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO2NvbnN0IG49Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDE2QXJyYXkoOCkpO25bM109NDA5NSZuWzNdfDE2Mzg0LG5bNF09MTYzODMmbls0XXwzMjc2ODtjb25zdCByPXQ9Pm5bdF0udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDQsXCIwXCIpO3JldHVybiByKDApK3IoMSkrXCItXCIrcigyKStcIi1cIityKDMpK1wiLVwiK3IoNCkrXCItXCIrcig1KStyKDYpK3IoNyl9XG5cbi8qIVxuICogQGVzcmkvYXJjZ2lzLWh0bWwtc2FuaXRpemVyIC0gdjMuMC4xIC0gVHVlIE5vdiAxNSAyMDIyIDA5OjQ2OjU0IEdNVC0wODAwIChQYWNpZmljIFN0YW5kYXJkIFRpbWUpXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjIgLSBFbnZpcm9ubWVudGFsIFN5c3RlbXMgUmVzZWFyY2ggSW5zdGl0dXRlLCBJbmMuXG4gKiBBcGFjaGUtMi4wXG4gKiBcbiAqIGpzLXhzc1xuICogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTggWm9uZ21pbiBMZWko6Zu35a6X5rCRKSA8bGVpem9uZ21pbkBnbWFpbC5jb20+XG4gKiBodHRwOi8vdWNkb2suY29tXG4gKiBNSVQgTGljZW5zZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9sZWl6b25nbWluL2pzLXhzcy9ibG9iL21hc3Rlci9MSUNFTlNFIGZvciBkZXRhaWxzXG4gKi9cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xudmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgIT09IFwiW29iamVjdCBPYmplY3RdXCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAgIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gcHJvdG87XG59O1xuXG52YXIgbGliJDEgPSB7ZXhwb3J0czoge319O1xuXG52YXIgX2RlZmF1bHQkMSA9IHt9O1xuXG52YXIgbGliID0ge2V4cG9ydHM6IHt9fTtcblxudmFyIF9kZWZhdWx0ID0ge307XG5cbi8qKlxuICogY3NzZmlsdGVyXG4gKlxuICogQGF1dGhvciDogIHpm7c8bGVpem9uZ21pbkBnbWFpbC5jb20+XG4gKi9cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFdoaXRlTGlzdCQxICgpIHtcbiAgLy8g55m95ZCN5Y2V5YC86K+05piO77yaXG4gIC8vIHRydWU6IOWFgeiuuOivpeWxnuaAp1xuICAvLyBGdW5jdGlvbjogZnVuY3Rpb24gKHZhbCkgeyB9IOi/lOWbnnRydWXooajnpLrlhYHorrjor6XlsZ7mgKfvvIzlhbbku5blgLzlnYfooajnpLrkuI3lhYHorrhcbiAgLy8gUmVnRXhwOiByZWdleHAudGVzdCh2YWwpIOi/lOWbnnRydWXooajnpLrlhYHorrjor6XlsZ7mgKfvvIzlhbbku5blgLzlnYfooajnpLrkuI3lhYHorrhcbiAgLy8g6Zmk5LiK6Z2i5YiX5Ye655qE5YC85aSW5Z2H6KGo56S65LiN5YWB6K64XG4gIHZhciB3aGl0ZUxpc3QgPSB7fTtcblxuICB3aGl0ZUxpc3RbJ2FsaWduLWNvbnRlbnQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnYWxpZ24taXRlbXMnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnYWxpZ24tc2VsZiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydhbGlnbm1lbnQtYWRqdXN0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2FsaWdubWVudC1iYXNlbGluZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGJhc2VsaW5lXG4gIHdoaXRlTGlzdFsnYWxsJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2FuY2hvci1wb2ludCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydhbmltYXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsnYW5pbWF0aW9uLWRlbGF5J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ2FuaW1hdGlvbi1kaXJlY3Rpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0WydhbmltYXRpb24tZHVyYXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsnYW5pbWF0aW9uLWZpbGwtbW9kZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydhbmltYXRpb24taXRlcmF0aW9uLWNvdW50J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMVxuICB3aGl0ZUxpc3RbJ2FuaW1hdGlvbi1uYW1lJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogcnVubmluZ1xuICB3aGl0ZUxpc3RbJ2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBlYXNlXG4gIHdoaXRlTGlzdFsnYXppbXV0aCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGNlbnRlclxuICB3aGl0ZUxpc3RbJ2JhY2tmYWNlLXZpc2liaWxpdHknXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiB2aXNpYmxlXG4gIHdoaXRlTGlzdFsnYmFja2dyb3VuZCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2JhY2tncm91bmQtYXR0YWNobWVudCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogc2Nyb2xsXG4gIHdoaXRlTGlzdFsnYmFja2dyb3VuZC1jbGlwJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBib3JkZXItYm94XG4gIHdoaXRlTGlzdFsnYmFja2dyb3VuZC1jb2xvciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogdHJhbnNwYXJlbnRcbiAgd2hpdGVMaXN0WydiYWNrZ3JvdW5kLWltYWdlJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnYmFja2dyb3VuZC1vcmlnaW4nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHBhZGRpbmctYm94XG4gIHdoaXRlTGlzdFsnYmFja2dyb3VuZC1wb3NpdGlvbiddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMCUgMCVcbiAgd2hpdGVMaXN0WydiYWNrZ3JvdW5kLXJlcGVhdCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogcmVwZWF0XG4gIHdoaXRlTGlzdFsnYmFja2dyb3VuZC1zaXplJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnYmFzZWxpbmUtc2hpZnQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBiYXNlbGluZVxuICB3aGl0ZUxpc3RbJ2JpbmRpbmcnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnYmxlZWQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiA2cHRcbiAgd2hpdGVMaXN0Wydib29rbWFyay1sYWJlbCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGNvbnRlbnQoKVxuICB3aGl0ZUxpc3RbJ2Jvb2ttYXJrLWxldmVsJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2Jvb2ttYXJrLXN0YXRlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogb3BlblxuICB3aGl0ZUxpc3RbJ2JvcmRlciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2JvcmRlci1ib3R0b20nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0Wydib3JkZXItYm90dG9tLWNvbG9yJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBjdXJyZW50IGNvbG9yXG4gIHdoaXRlTGlzdFsnYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsnYm9yZGVyLWJvdHRvbS1zdHlsZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2JvcmRlci1ib3R0b20td2lkdGgnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG1lZGl1bVxuICB3aGl0ZUxpc3RbJ2JvcmRlci1jb2xsYXBzZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogc2VwYXJhdGVcbiAgd2hpdGVMaXN0Wydib3JkZXItY29sb3InXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0Wydib3JkZXItaW1hZ2UnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydib3JkZXItaW1hZ2Utb3V0c2V0J10gPSB0cnVlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsnYm9yZGVyLWltYWdlLXJlcGVhdCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogc3RyZXRjaFxuICB3aGl0ZUxpc3RbJ2JvcmRlci1pbWFnZS1zbGljZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMTAwJVxuICB3aGl0ZUxpc3RbJ2JvcmRlci1pbWFnZS1zb3VyY2UnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydib3JkZXItaW1hZ2Utd2lkdGgnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDFcbiAgd2hpdGVMaXN0Wydib3JkZXItbGVmdCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2JvcmRlci1sZWZ0LWNvbG9yJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBjdXJyZW50IGNvbG9yXG4gIHdoaXRlTGlzdFsnYm9yZGVyLWxlZnQtc3R5bGUnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydib3JkZXItbGVmdC13aWR0aCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsnYm9yZGVyLXJhZGl1cyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ2JvcmRlci1yaWdodCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2JvcmRlci1yaWdodC1jb2xvciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogY3VycmVudCBjb2xvclxuICB3aGl0ZUxpc3RbJ2JvcmRlci1yaWdodC1zdHlsZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2JvcmRlci1yaWdodC13aWR0aCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsnYm9yZGVyLXNwYWNpbmcnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0Wydib3JkZXItc3R5bGUnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0Wydib3JkZXItdG9wJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsnYm9yZGVyLXRvcC1jb2xvciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogY3VycmVudCBjb2xvclxuICB3aGl0ZUxpc3RbJ2JvcmRlci10b3AtbGVmdC1yYWRpdXMnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0Wydib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ2JvcmRlci10b3Atc3R5bGUnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydib3JkZXItdG9wLXdpZHRoJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBtZWRpdW1cbiAgd2hpdGVMaXN0Wydib3JkZXItd2lkdGgnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0Wydib3R0b20nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnYm94LWRlY29yYXRpb24tYnJlYWsnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHNsaWNlXG4gIHdoaXRlTGlzdFsnYm94LXNoYWRvdyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2JveC1zaXppbmcnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGNvbnRlbnQtYm94XG4gIHdoaXRlTGlzdFsnYm94LXNuYXAnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydib3gtc3VwcHJlc3MnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHNob3dcbiAgd2hpdGVMaXN0WydicmVhay1hZnRlciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2JyZWFrLWJlZm9yZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2JyZWFrLWluc2lkZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2NhcHRpb24tc2lkZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IHRvcFxuICB3aGl0ZUxpc3RbJ2NoYWlucyddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydjbGVhciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2NsaXAnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnY2xpcC1wYXRoJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2NsaXAtcnVsZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbnplcm9cbiAgd2hpdGVMaXN0Wydjb2xvciddID0gdHJ1ZTsgLy8gZGVmYXVsdDogaW1wbGVtZW50YXRpb24gZGVwZW5kZW50XG4gIHdoaXRlTGlzdFsnY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnY29sdW1uLWNvdW50J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2NvbHVtbi1maWxsJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYmFsYW5jZVxuICB3aGl0ZUxpc3RbJ2NvbHVtbi1nYXAnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0Wydjb2x1bW4tcnVsZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0Wydjb2x1bW4tcnVsZS1jb2xvciddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGN1cnJlbnQgY29sb3JcbiAgd2hpdGVMaXN0Wydjb2x1bW4tcnVsZS1zdHlsZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG1lZGl1bVxuICB3aGl0ZUxpc3RbJ2NvbHVtbi1ydWxlLXdpZHRoJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsnY29sdW1uLXNwYW4nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnY29sdW1uLXdpZHRoJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2NvbHVtbnMnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsnY29udGFpbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydjb250ZW50J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnY291bnRlci1pbmNyZW1lbnQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnY291bnRlci1yZXNldCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydjb3VudGVyLXNldCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wydjcm9wJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2N1ZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydjdWUtYWZ0ZXInXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnY3VlLWJlZm9yZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydjdXJzb3InXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnZGlyZWN0aW9uJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbHRyXG4gIHdoaXRlTGlzdFsnZGlzcGxheSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2Rpc3BsYXktaW5zaWRlJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnZGlzcGxheS1saXN0J10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnZGlzcGxheS1vdXRzaWRlJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBpbmxpbmUtbGV2ZWxcbiAgd2hpdGVMaXN0Wydkb21pbmFudC1iYXNlbGluZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydlbGV2YXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBsZXZlbFxuICB3aGl0ZUxpc3RbJ2VtcHR5LWNlbGxzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogc2hvd1xuICB3aGl0ZUxpc3RbJ2ZpbHRlciddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydmbGV4J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2ZsZXgtYmFzaXMnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnZmxleC1kaXJlY3Rpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiByb3dcbiAgd2hpdGVMaXN0WydmbGV4LWZsb3cnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsnZmxleC1ncm93J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ2ZsZXgtc2hyaW5rJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMVxuICB3aGl0ZUxpc3RbJ2ZsZXgtd3JhcCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vd3JhcFxuICB3aGl0ZUxpc3RbJ2Zsb2F0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2Zsb2F0LW9mZnNldCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IDAgMFxuICB3aGl0ZUxpc3RbJ2Zsb29kLWNvbG9yJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYmxhY2tcbiAgd2hpdGVMaXN0WydmbG9vZC1vcGFjaXR5J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMVxuICB3aGl0ZUxpc3RbJ2Zsb3ctZnJvbSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydmbG93LWludG8nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnZm9udCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2ZvbnQtZmFtaWx5J10gPSB0cnVlOyAvLyBkZWZhdWx0OiBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnRcbiAgd2hpdGVMaXN0Wydmb250LWZlYXR1cmUtc2V0dGluZ3MnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ2ZvbnQta2VybmluZyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2ZvbnQtbGFuZ3VhZ2Utb3ZlcnJpZGUnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ2ZvbnQtc2l6ZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsnZm9udC1zaXplLWFkanVzdCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2ZvbnQtc3RyZXRjaCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnZm9udC1zdHlsZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnZm9udC1zeW50aGVzaXMnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHdlaWdodCBzdHlsZVxuICB3aGl0ZUxpc3RbJ2ZvbnQtdmFyaWFudCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnZm9udC12YXJpYW50LWFsdGVybmF0ZXMnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ2ZvbnQtdmFyaWFudC1jYXBzJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0Wydmb250LXZhcmlhbnQtZWFzdC1hc2lhbiddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnZm9udC12YXJpYW50LWxpZ2F0dXJlcyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnZm9udC12YXJpYW50LW51bWVyaWMnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ2ZvbnQtdmFyaWFudC1wb3NpdGlvbiddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnZm9udC13ZWlnaHQnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ2dyaWQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsnZ3JpZC1hcmVhJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2dyaWQtYXV0by1jb2x1bW5zJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2dyaWQtYXV0by1mbG93J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2dyaWQtYXV0by1yb3dzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ2dyaWQtY29sdW1uJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ2dyaWQtY29sdW1uLWVuZCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydncmlkLWNvbHVtbi1zdGFydCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydncmlkLXJvdyddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydncmlkLXJvdy1lbmQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnZ3JpZC1yb3ctc3RhcnQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnZ3JpZC10ZW1wbGF0ZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydncmlkLXRlbXBsYXRlLWFyZWFzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ2dyaWQtdGVtcGxhdGUtY29sdW1ucyddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydncmlkLXRlbXBsYXRlLXJvd3MnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnaGFuZ2luZy1wdW5jdHVhdGlvbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydoZWlnaHQnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydoeXBoZW5zJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWFudWFsXG4gIHdoaXRlTGlzdFsnaWNvbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydpbWFnZS1vcmllbnRhdGlvbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydpbWFnZS1yZXNvbHV0aW9uJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnaW1lLW1vZGUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnaW5pdGlhbC1sZXR0ZXJzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnaW5saW5lLWJveC1hbGlnbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGxhc3RcbiAgd2hpdGVMaXN0WydqdXN0aWZ5LWNvbnRlbnQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnanVzdGlmeS1pdGVtcyddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydqdXN0aWZ5LXNlbGYnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnbGVmdCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydsZXR0ZXItc3BhY2luZyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnbGlnaHRpbmctY29sb3InXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHdoaXRlXG4gIHdoaXRlTGlzdFsnbGluZS1ib3gtY29udGFpbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGJsb2NrIGlubGluZSByZXBsYWNlZFxuICB3aGl0ZUxpc3RbJ2xpbmUtYnJlYWsnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnbGluZS1ncmlkJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWF0Y2gtcGFyZW50XG4gIHdoaXRlTGlzdFsnbGluZS1oZWlnaHQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0WydsaW5lLXNuYXAnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnbGluZS1zdGFja2luZyddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydsaW5lLXN0YWNraW5nLXJ1YnknXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBleGNsdWRlLXJ1YnlcbiAgd2hpdGVMaXN0WydsaW5lLXN0YWNraW5nLXNoaWZ0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogY29uc2lkZXItc2hpZnRzXG4gIHdoaXRlTGlzdFsnbGluZS1zdGFja2luZy1zdHJhdGVneSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGlubGluZS1saW5lLWhlaWdodFxuICB3aGl0ZUxpc3RbJ2xpc3Qtc3R5bGUnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydsaXN0LXN0eWxlLWltYWdlJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnbGlzdC1zdHlsZS1wb3NpdGlvbiddID0gdHJ1ZTsgLy8gZGVmYXVsdDogb3V0c2lkZVxuICB3aGl0ZUxpc3RbJ2xpc3Qtc3R5bGUtdHlwZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGlzY1xuICB3aGl0ZUxpc3RbJ21hcmdpbiddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ21hcmdpbi1ib3R0b20nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0WydtYXJnaW4tbGVmdCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ21hcmdpbi1yaWdodCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ21hcmdpbi10b3AnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0WydtYXJrZXItb2Zmc2V0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ21hcmtlci1zaWRlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbGlzdC1pdGVtXG4gIHdoaXRlTGlzdFsnbWFya3MnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnbWFzayddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGJvcmRlci1ib3hcbiAgd2hpdGVMaXN0WydtYXNrLWJveCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IHNlZSBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydtYXNrLWJveC1vdXRzZXQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsnbWFzay1ib3gtcmVwZWF0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogc3RyZXRjaFxuICB3aGl0ZUxpc3RbJ21hc2stYm94LXNsaWNlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMCBmaWxsXG4gIHdoaXRlTGlzdFsnbWFzay1ib3gtc291cmNlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ21hc2stYm94LXdpZHRoJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ21hc2stY2xpcCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGJvcmRlci1ib3hcbiAgd2hpdGVMaXN0WydtYXNrLWltYWdlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ21hc2stb3JpZ2luJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYm9yZGVyLWJveFxuICB3aGl0ZUxpc3RbJ21hc2stcG9zaXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBjZW50ZXJcbiAgd2hpdGVMaXN0WydtYXNrLXJlcGVhdCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vLXJlcGVhdFxuICB3aGl0ZUxpc3RbJ21hc2stc2l6ZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGJvcmRlci1ib3hcbiAgd2hpdGVMaXN0WydtYXNrLXNvdXJjZS10eXBlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ21hc2stdHlwZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGx1bWluYW5jZVxuICB3aGl0ZUxpc3RbJ21heC1oZWlnaHQnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydtYXgtbGluZXMnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnbWF4LXdpZHRoJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnbWluLWhlaWdodCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ21pbi13aWR0aCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ21vdmUtdG8nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0WyduYXYtZG93biddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WyduYXYtaW5kZXgnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnbmF2LWxlZnQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsnbmF2LXJpZ2h0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ25hdi11cCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydvYmplY3QtZml0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogZmlsbFxuICB3aGl0ZUxpc3RbJ29iamVjdC1wb3NpdGlvbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IDUwJSA1MCVcbiAgd2hpdGVMaXN0WydvcGFjaXR5J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMVxuICB3aGl0ZUxpc3RbJ29yZGVyJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ29ycGhhbnMnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAyXG4gIHdoaXRlTGlzdFsnb3V0bGluZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydvdXRsaW5lLWNvbG9yJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogaW52ZXJ0XG4gIHdoaXRlTGlzdFsnb3V0bGluZS1vZmZzZXQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsnb3V0bGluZS1zdHlsZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydvdXRsaW5lLXdpZHRoJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsnb3ZlcmZsb3cnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsnb3ZlcmZsb3ctd3JhcCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ292ZXJmbG93LXgnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiB2aXNpYmxlXG4gIHdoaXRlTGlzdFsnb3ZlcmZsb3cteSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IHZpc2libGVcbiAgd2hpdGVMaXN0WydwYWRkaW5nJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBkZXBlbmRpbmcgb24gaW5kaXZpZHVhbCBwcm9wZXJ0aWVzXG4gIHdoaXRlTGlzdFsncGFkZGluZy1ib3R0b20nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0WydwYWRkaW5nLWxlZnQnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0WydwYWRkaW5nLXJpZ2h0J10gPSB0cnVlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsncGFkZGluZy10b3AnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0WydwYWdlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3BhZ2UtYnJlYWstYWZ0ZXInXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsncGFnZS1icmVhay1iZWZvcmUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsncGFnZS1icmVhay1pbnNpZGUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsncGFnZS1wb2xpY3knXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBzdGFydFxuICB3aGl0ZUxpc3RbJ3BhdXNlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogaW1wbGVtZW50YXRpb24gZGVwZW5kZW50XG4gIHdoaXRlTGlzdFsncGF1c2UtYWZ0ZXInXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnRcbiAgd2hpdGVMaXN0WydwYXVzZS1iZWZvcmUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnRcbiAgd2hpdGVMaXN0WydwZXJzcGVjdGl2ZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0WydwZXJzcGVjdGl2ZS1vcmlnaW4nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiA1MCUgNTAlXG4gIHdoaXRlTGlzdFsncGl0Y2gnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBtZWRpdW1cbiAgd2hpdGVMaXN0WydwaXRjaC1yYW5nZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IDUwXG4gIHdoaXRlTGlzdFsncGxheS1kdXJpbmcnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsncG9zaXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBzdGF0aWNcbiAgd2hpdGVMaXN0WydwcmVzZW50YXRpb24tbGV2ZWwnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAwXG4gIHdoaXRlTGlzdFsncXVvdGVzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogdGV4dFxuICB3aGl0ZUxpc3RbJ3JlZ2lvbi1mcmFnbWVudCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0WydyZXNpemUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsncmVzdCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0WydyZXN0LWFmdGVyJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ3Jlc3QtYmVmb3JlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ3JpY2huZXNzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogNTBcbiAgd2hpdGVMaXN0WydyaWdodCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0Wydyb3RhdGlvbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0Wydyb3RhdGlvbi1wb2ludCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IDUwJSA1MCVcbiAgd2hpdGVMaXN0WydydWJ5LWFsaWduJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3J1YnktbWVyZ2UnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBzZXBhcmF0ZVxuICB3aGl0ZUxpc3RbJ3J1YnktcG9zaXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBiZWZvcmVcbiAgd2hpdGVMaXN0WydzaGFwZS1pbWFnZS10aHJlc2hvbGQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAwLjBcbiAgd2hpdGVMaXN0WydzaGFwZS1vdXRzaWRlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ3NoYXBlLW1hcmdpbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IDBcbiAgd2hpdGVMaXN0WydzaXplJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3NwZWFrJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3NwZWFrLWFzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnc3BlYWstaGVhZGVyJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogb25jZVxuICB3aGl0ZUxpc3RbJ3NwZWFrLW51bWVyYWwnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBjb250aW51b3VzXG4gIHdoaXRlTGlzdFsnc3BlYWstcHVuY3R1YXRpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsnc3BlZWNoLXJhdGUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBtZWRpdW1cbiAgd2hpdGVMaXN0WydzdHJlc3MnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiA1MFxuICB3aGl0ZUxpc3RbJ3N0cmluZy1zZXQnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsndGFiLXNpemUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiA4XG4gIHdoaXRlTGlzdFsndGFibGUtbGF5b3V0J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3RleHQtYWxpZ24nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHN0YXJ0XG4gIHdoaXRlTGlzdFsndGV4dC1hbGlnbi1sYXN0J10gPSB0cnVlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsndGV4dC1jb21iaW5lLXVwcmlnaHQnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wyd0ZXh0LWRlY29yYXRpb24nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vbmVcbiAgd2hpdGVMaXN0Wyd0ZXh0LWRlY29yYXRpb24tY29sb3InXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGN1cnJlbnRDb2xvclxuICB3aGl0ZUxpc3RbJ3RleHQtZGVjb3JhdGlvbi1saW5lJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsndGV4dC1kZWNvcmF0aW9uLXNraXAnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG9iamVjdHNcbiAgd2hpdGVMaXN0Wyd0ZXh0LWRlY29yYXRpb24tc3R5bGUnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IHNvbGlkXG4gIHdoaXRlTGlzdFsndGV4dC1lbXBoYXNpcyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogZGVwZW5kaW5nIG9uIGluZGl2aWR1YWwgcHJvcGVydGllc1xuICB3aGl0ZUxpc3RbJ3RleHQtZW1waGFzaXMtY29sb3InXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGN1cnJlbnRDb2xvclxuICB3aGl0ZUxpc3RbJ3RleHQtZW1waGFzaXMtcG9zaXRpb24nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG92ZXIgcmlnaHRcbiAgd2hpdGVMaXN0Wyd0ZXh0LWVtcGhhc2lzLXN0eWxlJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsndGV4dC1oZWlnaHQnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0Wyd0ZXh0LWluZGVudCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogMFxuICB3aGl0ZUxpc3RbJ3RleHQtanVzdGlmeSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3RleHQtb3JpZW50YXRpb24nXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG1peGVkXG4gIHdoaXRlTGlzdFsndGV4dC1vdmVyZmxvdyddID0gdHJ1ZTsgLy8gZGVmYXVsdDogY2xpcFxuICB3aGl0ZUxpc3RbJ3RleHQtc2hhZG93J10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub25lXG4gIHdoaXRlTGlzdFsndGV4dC1zcGFjZS1jb2xsYXBzZSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogY29sbGFwc2VcbiAgd2hpdGVMaXN0Wyd0ZXh0LXRyYW5zZm9ybSddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ3RleHQtdW5kZXJsaW5lLXBvc2l0aW9uJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsndGV4dC13cmFwJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0Wyd0b3AnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBhdXRvXG4gIHdoaXRlTGlzdFsndHJhbnNmb3JtJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9uZVxuICB3aGl0ZUxpc3RbJ3RyYW5zZm9ybS1vcmlnaW4nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiA1MCUgNTAlIDBcbiAgd2hpdGVMaXN0Wyd0cmFuc2Zvcm0tc3R5bGUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBmbGF0XG4gIHdoaXRlTGlzdFsndHJhbnNpdGlvbiddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGRlcGVuZGluZyBvbiBpbmRpdmlkdWFsIHByb3BlcnRpZXNcbiAgd2hpdGVMaXN0Wyd0cmFuc2l0aW9uLWRlbGF5J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMHNcbiAgd2hpdGVMaXN0Wyd0cmFuc2l0aW9uLWR1cmF0aW9uJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogMHNcbiAgd2hpdGVMaXN0Wyd0cmFuc2l0aW9uLXByb3BlcnR5J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYWxsXG4gIHdoaXRlTGlzdFsndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBlYXNlXG4gIHdoaXRlTGlzdFsndW5pY29kZS1iaWRpJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsndmVydGljYWwtYWxpZ24nXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBiYXNlbGluZVxuICB3aGl0ZUxpc3RbJ3Zpc2liaWxpdHknXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiB2aXNpYmxlXG4gIHdoaXRlTGlzdFsndm9pY2UtYmFsYW5jZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGNlbnRlclxuICB3aGl0ZUxpc3RbJ3ZvaWNlLWR1cmF0aW9uJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3ZvaWNlLWZhbWlseSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGltcGxlbWVudGF0aW9uIGRlcGVuZGVudFxuICB3aGl0ZUxpc3RbJ3ZvaWNlLXBpdGNoJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsndm9pY2UtcmFuZ2UnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBtZWRpdW1cbiAgd2hpdGVMaXN0Wyd2b2ljZS1yYXRlJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsndm9pY2Utc3RyZXNzJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsndm9pY2Utdm9sdW1lJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsndm9sdW1lJ10gPSBmYWxzZTsgLy8gZGVmYXVsdDogbWVkaXVtXG4gIHdoaXRlTGlzdFsnd2hpdGUtc3BhY2UnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0Wyd3aWRvd3MnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiAyXG4gIHdoaXRlTGlzdFsnd2lkdGgnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0Wyd3aWxsLWNoYW5nZSddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cbiAgd2hpdGVMaXN0Wyd3b3JkLWJyZWFrJ10gPSB0cnVlOyAvLyBkZWZhdWx0OiBub3JtYWxcbiAgd2hpdGVMaXN0Wyd3b3JkLXNwYWNpbmcnXSA9IHRydWU7IC8vIGRlZmF1bHQ6IG5vcm1hbFxuICB3aGl0ZUxpc3RbJ3dvcmQtd3JhcCddID0gdHJ1ZTsgLy8gZGVmYXVsdDogbm9ybWFsXG4gIHdoaXRlTGlzdFsnd3JhcC1mbG93J10gPSBmYWxzZTsgLy8gZGVmYXVsdDogYXV0b1xuICB3aGl0ZUxpc3RbJ3dyYXAtdGhyb3VnaCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IHdyYXBcbiAgd2hpdGVMaXN0Wyd3cml0aW5nLW1vZGUnXSA9IGZhbHNlOyAvLyBkZWZhdWx0OiBob3Jpem9udGFsLXRiXG4gIHdoaXRlTGlzdFsnei1pbmRleCddID0gZmFsc2U7IC8vIGRlZmF1bHQ6IGF1dG9cblxuICByZXR1cm4gd2hpdGVMaXN0O1xufVxuXG5cbi8qKlxuICog5Yy56YWN5Yiw55m95ZCN5Y2V5LiK55qE5LiA5Liq5bGe5oCn5pe2XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gb25BdHRyIChuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAvLyBkbyBub3RoaW5nXG59XG5cbi8qKlxuICog5Yy56YWN5Yiw5LiN5Zyo55m95ZCN5Y2V5LiK55qE5LiA5Liq5bGe5oCn5pe2XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gb25JZ25vcmVBdHRyIChuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAvLyBkbyBub3RoaW5nXG59XG5cbnZhciBSRUdFWFBfVVJMX0pBVkFTQ1JJUFQgPSAvamF2YXNjcmlwdFxccypcXDovaW1nO1xuXG4vKipcbiAqIOi/h+a7pOWxnuaAp+WAvFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc2FmZUF0dHJWYWx1ZSQxKG5hbWUsIHZhbHVlKSB7XG4gIGlmIChSRUdFWFBfVVJMX0pBVkFTQ1JJUFQudGVzdCh2YWx1ZSkpIHJldHVybiAnJztcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5cbl9kZWZhdWx0LndoaXRlTGlzdCA9IGdldERlZmF1bHRXaGl0ZUxpc3QkMSgpO1xuX2RlZmF1bHQuZ2V0RGVmYXVsdFdoaXRlTGlzdCA9IGdldERlZmF1bHRXaGl0ZUxpc3QkMTtcbl9kZWZhdWx0Lm9uQXR0ciA9IG9uQXR0cjtcbl9kZWZhdWx0Lm9uSWdub3JlQXR0ciA9IG9uSWdub3JlQXR0cjtcbl9kZWZhdWx0LnNhZmVBdHRyVmFsdWUgPSBzYWZlQXR0clZhbHVlJDE7XG5cbnZhciB1dGlsJDEgPSB7XG4gIGluZGV4T2Y6IGZ1bmN0aW9uIChhcnIsIGl0ZW0pIHtcbiAgICB2YXIgaSwgajtcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICAgIHJldHVybiBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaiA9IGFyci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmIChhcnJbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfSxcbiAgZm9yRWFjaDogZnVuY3Rpb24gKGFyciwgZm4sIHNjb3BlKSB7XG4gICAgdmFyIGksIGo7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7XG4gICAgICByZXR1cm4gYXJyLmZvckVhY2goZm4sIHNjb3BlKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaiA9IGFyci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltpXSwgaSwgYXJyKTtcbiAgICB9XG4gIH0sXG4gIHRyaW06IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoU3RyaW5nLnByb3RvdHlwZS50cmltKSB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXlxccyopfChcXHMqJCkvZywgJycpO1xuICB9LFxuICB0cmltUmlnaHQ6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoU3RyaW5nLnByb3RvdHlwZS50cmltUmlnaHQpIHtcbiAgICAgIHJldHVybiBzdHIudHJpbVJpZ2h0KCk7XG4gICAgfVxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFxccyokKS9nLCAnJyk7XG4gIH1cbn07XG5cbi8qKlxuICogY3NzZmlsdGVyXG4gKlxuICogQGF1dGhvciDogIHpm7c8bGVpem9uZ21pbkBnbWFpbC5jb20+XG4gKi9cblxudmFyIF8kMyA9IHV0aWwkMTtcblxuXG4vKipcbiAqIOino+aekHN0eWxlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gb25BdHRyIOWkhOeQhuWxnuaAp+eahOWHveaVsFxuICogICDlj4LmlbDmoLzlvI/vvJogZnVuY3Rpb24gKHNvdXJjZVBvc2l0aW9uLCBwb3NpdGlvbiwgbmFtZSwgdmFsdWUsIHNvdXJjZSlcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcGFyc2VTdHlsZSQxIChjc3MsIG9uQXR0cikge1xuICBjc3MgPSBfJDMudHJpbVJpZ2h0KGNzcyk7XG4gIGlmIChjc3NbY3NzLmxlbmd0aCAtIDFdICE9PSAnOycpIGNzcyArPSAnOyc7XG4gIHZhciBjc3NMZW5ndGggPSBjc3MubGVuZ3RoO1xuICB2YXIgaXNQYXJlbnRoZXNpc09wZW4gPSBmYWxzZTtcbiAgdmFyIGxhc3RQb3MgPSAwO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXRDU1MgPSAnJztcblxuICBmdW5jdGlvbiBhZGROZXdBdHRyICgpIHtcbiAgICAvLyDlpoLmnpzmsqHmnInmraPluLjnmoTpl63lkIjlnIbmi6zlj7fvvIzliJnnm7TmjqXlv73nlaXlvZPliY3lsZ7mgKdcbiAgICBpZiAoIWlzUGFyZW50aGVzaXNPcGVuKSB7XG4gICAgICB2YXIgc291cmNlID0gXyQzLnRyaW0oY3NzLnNsaWNlKGxhc3RQb3MsIGkpKTtcbiAgICAgIHZhciBqID0gc291cmNlLmluZGV4T2YoJzonKTtcbiAgICAgIGlmIChqICE9PSAtMSkge1xuICAgICAgICB2YXIgbmFtZSA9IF8kMy50cmltKHNvdXJjZS5zbGljZSgwLCBqKSk7XG4gICAgICAgIHZhciB2YWx1ZSA9IF8kMy50cmltKHNvdXJjZS5zbGljZShqICsgMSkpO1xuICAgICAgICAvLyDlv4XpobvmnInlsZ7mgKflkI3np7BcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICB2YXIgcmV0ID0gb25BdHRyKGxhc3RQb3MsIHJldENTUy5sZW5ndGgsIG5hbWUsIHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgIGlmIChyZXQpIHJldENTUyArPSByZXQgKyAnOyAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RQb3MgPSBpICsgMTtcbiAgfVxuXG4gIGZvciAoOyBpIDwgY3NzTGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IGNzc1tpXTtcbiAgICBpZiAoYyA9PT0gJy8nICYmIGNzc1tpICsgMV0gPT09ICcqJykge1xuICAgICAgLy8g5aSH5rOo5byA5aeLXG4gICAgICB2YXIgaiA9IGNzcy5pbmRleE9mKCcqLycsIGkgKyAyKTtcbiAgICAgIC8vIOWmguaenOayoeacieato+W4uOeahOWkh+azqOe7k+adn++8jOWImeWQjumdoueahOmDqOWIhuWFqOmDqOi3s+i/h1xuICAgICAgaWYgKGogPT09IC0xKSBicmVhaztcbiAgICAgIC8vIOebtOaOpeWwhuW9k+WJjeS9jee9ruiwg+WIsOWkh+azqOe7k+Wwvu+8jOW5tuS4lOWIneWni+WMlueKtuaAgVxuICAgICAgaSA9IGogKyAxO1xuICAgICAgbGFzdFBvcyA9IGkgKyAxO1xuICAgICAgaXNQYXJlbnRoZXNpc09wZW4gPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGMgPT09ICcoJykge1xuICAgICAgaXNQYXJlbnRoZXNpc09wZW4gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJyknKSB7XG4gICAgICBpc1BhcmVudGhlc2lzT3BlbiA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJzsnKSB7XG4gICAgICBpZiAoaXNQYXJlbnRoZXNpc09wZW4pIDsgZWxzZSB7XG4gICAgICAgIGFkZE5ld0F0dHIoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGMgPT09ICdcXG4nKSB7XG4gICAgICBhZGROZXdBdHRyKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF8kMy50cmltKHJldENTUyk7XG59XG5cbnZhciBwYXJzZXIkMiA9IHBhcnNlU3R5bGUkMTtcblxuLyoqXG4gKiBjc3NmaWx0ZXJcbiAqXG4gKiBAYXV0aG9yIOiAgembtzxsZWl6b25nbWluQGdtYWlsLmNvbT5cbiAqL1xuXG52YXIgREVGQVVMVCQxID0gX2RlZmF1bHQ7XG52YXIgcGFyc2VTdHlsZSA9IHBhcnNlciQyO1xuXG5cbi8qKlxuICog6L+U5Zue5YC85piv5ZCm5Li656m6XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOdWxsJDEgKG9iaikge1xuICByZXR1cm4gKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICog5rWF5ou36LSd5a+56LGhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBzaGFsbG93Q29weU9iamVjdCQxIChvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIHJldFtpXSA9IG9ialtpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIOWIm+W7ukNTU+i/h+a7pOWZqFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiAgIC0ge09iamVjdH0gd2hpdGVMaXN0XG4gKiAgIC0ge0Z1bmN0aW9ufSBvbkF0dHJcbiAqICAgLSB7RnVuY3Rpb259IG9uSWdub3JlQXR0clxuICogICAtIHtGdW5jdGlvbn0gc2FmZUF0dHJWYWx1ZVxuICovXG5mdW5jdGlvbiBGaWx0ZXJDU1MkMiAob3B0aW9ucykge1xuICBvcHRpb25zID0gc2hhbGxvd0NvcHlPYmplY3QkMShvcHRpb25zIHx8IHt9KTtcbiAgb3B0aW9ucy53aGl0ZUxpc3QgPSBvcHRpb25zLndoaXRlTGlzdCB8fCBERUZBVUxUJDEud2hpdGVMaXN0O1xuICBvcHRpb25zLm9uQXR0ciA9IG9wdGlvbnMub25BdHRyIHx8IERFRkFVTFQkMS5vbkF0dHI7XG4gIG9wdGlvbnMub25JZ25vcmVBdHRyID0gb3B0aW9ucy5vbklnbm9yZUF0dHIgfHwgREVGQVVMVCQxLm9uSWdub3JlQXR0cjtcbiAgb3B0aW9ucy5zYWZlQXR0clZhbHVlID0gb3B0aW9ucy5zYWZlQXR0clZhbHVlIHx8IERFRkFVTFQkMS5zYWZlQXR0clZhbHVlO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xufVxuXG5GaWx0ZXJDU1MkMi5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8g5YW85a655ZCE56eN5aWH6JGp6L6T5YWlXG4gIGNzcyA9IGNzcyB8fCAnJztcbiAgY3NzID0gY3NzLnRvU3RyaW5nKCk7XG4gIGlmICghY3NzKSByZXR1cm4gJyc7XG5cbiAgdmFyIG1lID0gdGhpcztcbiAgdmFyIG9wdGlvbnMgPSBtZS5vcHRpb25zO1xuICB2YXIgd2hpdGVMaXN0ID0gb3B0aW9ucy53aGl0ZUxpc3Q7XG4gIHZhciBvbkF0dHIgPSBvcHRpb25zLm9uQXR0cjtcbiAgdmFyIG9uSWdub3JlQXR0ciA9IG9wdGlvbnMub25JZ25vcmVBdHRyO1xuICB2YXIgc2FmZUF0dHJWYWx1ZSA9IG9wdGlvbnMuc2FmZUF0dHJWYWx1ZTtcblxuICB2YXIgcmV0Q1NTID0gcGFyc2VTdHlsZShjc3MsIGZ1bmN0aW9uIChzb3VyY2VQb3NpdGlvbiwgcG9zaXRpb24sIG5hbWUsIHZhbHVlLCBzb3VyY2UpIHtcblxuICAgIHZhciBjaGVjayA9IHdoaXRlTGlzdFtuYW1lXTtcbiAgICB2YXIgaXNXaGl0ZSA9IGZhbHNlO1xuICAgIGlmIChjaGVjayA9PT0gdHJ1ZSkgaXNXaGl0ZSA9IGNoZWNrO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBjaGVjayA9PT0gJ2Z1bmN0aW9uJykgaXNXaGl0ZSA9IGNoZWNrKHZhbHVlKTtcbiAgICBlbHNlIGlmIChjaGVjayBpbnN0YW5jZW9mIFJlZ0V4cCkgaXNXaGl0ZSA9IGNoZWNrLnRlc3QodmFsdWUpO1xuICAgIGlmIChpc1doaXRlICE9PSB0cnVlKSBpc1doaXRlID0gZmFsc2U7XG5cbiAgICAvLyDlpoLmnpzov4fmu6TlkI4gdmFsdWUg5Li656m65YiZ55u05o6l5b+955WlXG4gICAgdmFsdWUgPSBzYWZlQXR0clZhbHVlKG5hbWUsIHZhbHVlKTtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XG5cbiAgICB2YXIgb3B0cyA9IHtcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgIHNvdXJjZVBvc2l0aW9uOiBzb3VyY2VQb3NpdGlvbixcbiAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgaXNXaGl0ZTogaXNXaGl0ZVxuICAgIH07XG5cbiAgICBpZiAoaXNXaGl0ZSkge1xuXG4gICAgICB2YXIgcmV0ID0gb25BdHRyKG5hbWUsIHZhbHVlLCBvcHRzKTtcbiAgICAgIGlmIChpc051bGwkMShyZXQpKSB7XG4gICAgICAgIHJldHVybiBuYW1lICsgJzonICsgdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIHJldCA9IG9uSWdub3JlQXR0cihuYW1lLCB2YWx1ZSwgb3B0cyk7XG4gICAgICBpZiAoIWlzTnVsbCQxKHJldCkpIHtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cblxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJldENTUztcbn07XG5cblxudmFyIGNzcyA9IEZpbHRlckNTUyQyO1xuXG4vKipcbiAqIGNzc2ZpbHRlclxuICpcbiAqIEBhdXRob3Ig6ICB6Zu3PGxlaXpvbmdtaW5AZ21haWwuY29tPlxuICovXG5cbihmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdHZhciBERUZBVUxUID0gX2RlZmF1bHQ7XG5cdHZhciBGaWx0ZXJDU1MgPSBjc3M7XG5cblxuXHQvKipcblx0ICogWFNT6L+H5rukXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjc3Mg6KaB6L+H5ruk55qEQ1NT5Luj56CBXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOmAiemhue+8mndoaXRlTGlzdCwgb25BdHRyLCBvbklnbm9yZUF0dHJcblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gZmlsdGVyQ1NTIChodG1sLCBvcHRpb25zKSB7XG5cdCAgdmFyIHhzcyA9IG5ldyBGaWx0ZXJDU1Mob3B0aW9ucyk7XG5cdCAgcmV0dXJuIHhzcy5wcm9jZXNzKGh0bWwpO1xuXHR9XG5cblxuXHQvLyDovpPlh7pcblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZmlsdGVyQ1NTO1xuXHRleHBvcnRzLkZpbHRlckNTUyA9IEZpbHRlckNTUztcblx0Zm9yICh2YXIgaSBpbiBERUZBVUxUKSBleHBvcnRzW2ldID0gREVGQVVMVFtpXTtcbn0gKGxpYiwgbGliLmV4cG9ydHMpKTtcblxudmFyIHV0aWwgPSB7XG4gIGluZGV4T2Y6IGZ1bmN0aW9uIChhcnIsIGl0ZW0pIHtcbiAgICB2YXIgaSwgajtcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICAgIHJldHVybiBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaiA9IGFyci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmIChhcnJbaV0gPT09IGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfSxcbiAgZm9yRWFjaDogZnVuY3Rpb24gKGFyciwgZm4sIHNjb3BlKSB7XG4gICAgdmFyIGksIGo7XG4gICAgaWYgKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7XG4gICAgICByZXR1cm4gYXJyLmZvckVhY2goZm4sIHNjb3BlKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaiA9IGFyci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGZuLmNhbGwoc2NvcGUsIGFycltpXSwgaSwgYXJyKTtcbiAgICB9XG4gIH0sXG4gIHRyaW06IGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoU3RyaW5nLnByb3RvdHlwZS50cmltKSB7XG4gICAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXlxccyopfChcXHMqJCkvZywgXCJcIik7XG4gIH0sXG4gIHNwYWNlSW5kZXg6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB2YXIgcmVnID0gL1xcc3xcXG58XFx0LztcbiAgICB2YXIgbWF0Y2ggPSByZWcuZXhlYyhzdHIpO1xuICAgIHJldHVybiBtYXRjaCA/IG1hdGNoLmluZGV4IDogLTE7XG4gIH0sXG59O1xuXG4vKipcbiAqIGRlZmF1bHQgc2V0dGluZ3NcbiAqXG4gKiBAYXV0aG9yIFpvbmdtaW4gTGVpPGxlaXpvbmdtaW5AZ21haWwuY29tPlxuICovXG5cbnZhciBGaWx0ZXJDU1MkMSA9IGxpYi5leHBvcnRzLkZpbHRlckNTUztcbnZhciBnZXREZWZhdWx0Q1NTV2hpdGVMaXN0ID0gbGliLmV4cG9ydHMuZ2V0RGVmYXVsdFdoaXRlTGlzdDtcbnZhciBfJDIgPSB1dGlsO1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0V2hpdGVMaXN0KCkge1xuICByZXR1cm4ge1xuICAgIGE6IFtcInRhcmdldFwiLCBcImhyZWZcIiwgXCJ0aXRsZVwiXSxcbiAgICBhYmJyOiBbXCJ0aXRsZVwiXSxcbiAgICBhZGRyZXNzOiBbXSxcbiAgICBhcmVhOiBbXCJzaGFwZVwiLCBcImNvb3Jkc1wiLCBcImhyZWZcIiwgXCJhbHRcIl0sXG4gICAgYXJ0aWNsZTogW10sXG4gICAgYXNpZGU6IFtdLFxuICAgIGF1ZGlvOiBbXG4gICAgICBcImF1dG9wbGF5XCIsXG4gICAgICBcImNvbnRyb2xzXCIsXG4gICAgICBcImNyb3Nzb3JpZ2luXCIsXG4gICAgICBcImxvb3BcIixcbiAgICAgIFwibXV0ZWRcIixcbiAgICAgIFwicHJlbG9hZFwiLFxuICAgICAgXCJzcmNcIixcbiAgICBdLFxuICAgIGI6IFtdLFxuICAgIGJkaTogW1wiZGlyXCJdLFxuICAgIGJkbzogW1wiZGlyXCJdLFxuICAgIGJpZzogW10sXG4gICAgYmxvY2txdW90ZTogW1wiY2l0ZVwiXSxcbiAgICBicjogW10sXG4gICAgY2FwdGlvbjogW10sXG4gICAgY2VudGVyOiBbXSxcbiAgICBjaXRlOiBbXSxcbiAgICBjb2RlOiBbXSxcbiAgICBjb2w6IFtcImFsaWduXCIsIFwidmFsaWduXCIsIFwic3BhblwiLCBcIndpZHRoXCJdLFxuICAgIGNvbGdyb3VwOiBbXCJhbGlnblwiLCBcInZhbGlnblwiLCBcInNwYW5cIiwgXCJ3aWR0aFwiXSxcbiAgICBkZDogW10sXG4gICAgZGVsOiBbXCJkYXRldGltZVwiXSxcbiAgICBkZXRhaWxzOiBbXCJvcGVuXCJdLFxuICAgIGRpdjogW10sXG4gICAgZGw6IFtdLFxuICAgIGR0OiBbXSxcbiAgICBlbTogW10sXG4gICAgZmlnY2FwdGlvbjogW10sXG4gICAgZmlndXJlOiBbXSxcbiAgICBmb250OiBbXCJjb2xvclwiLCBcInNpemVcIiwgXCJmYWNlXCJdLFxuICAgIGZvb3RlcjogW10sXG4gICAgaDE6IFtdLFxuICAgIGgyOiBbXSxcbiAgICBoMzogW10sXG4gICAgaDQ6IFtdLFxuICAgIGg1OiBbXSxcbiAgICBoNjogW10sXG4gICAgaGVhZGVyOiBbXSxcbiAgICBocjogW10sXG4gICAgaTogW10sXG4gICAgaW1nOiBbXCJzcmNcIiwgXCJhbHRcIiwgXCJ0aXRsZVwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCJdLFxuICAgIGluczogW1wiZGF0ZXRpbWVcIl0sXG4gICAgbGk6IFtdLFxuICAgIG1hcms6IFtdLFxuICAgIG5hdjogW10sXG4gICAgb2w6IFtdLFxuICAgIHA6IFtdLFxuICAgIHByZTogW10sXG4gICAgczogW10sXG4gICAgc2VjdGlvbjogW10sXG4gICAgc21hbGw6IFtdLFxuICAgIHNwYW46IFtdLFxuICAgIHN1YjogW10sXG4gICAgc3VtbWFyeTogW10sXG4gICAgc3VwOiBbXSxcbiAgICBzdHJvbmc6IFtdLFxuICAgIHN0cmlrZTogW10sXG4gICAgdGFibGU6IFtcIndpZHRoXCIsIFwiYm9yZGVyXCIsIFwiYWxpZ25cIiwgXCJ2YWxpZ25cIl0sXG4gICAgdGJvZHk6IFtcImFsaWduXCIsIFwidmFsaWduXCJdLFxuICAgIHRkOiBbXCJ3aWR0aFwiLCBcInJvd3NwYW5cIiwgXCJjb2xzcGFuXCIsIFwiYWxpZ25cIiwgXCJ2YWxpZ25cIl0sXG4gICAgdGZvb3Q6IFtcImFsaWduXCIsIFwidmFsaWduXCJdLFxuICAgIHRoOiBbXCJ3aWR0aFwiLCBcInJvd3NwYW5cIiwgXCJjb2xzcGFuXCIsIFwiYWxpZ25cIiwgXCJ2YWxpZ25cIl0sXG4gICAgdGhlYWQ6IFtcImFsaWduXCIsIFwidmFsaWduXCJdLFxuICAgIHRyOiBbXCJyb3dzcGFuXCIsIFwiYWxpZ25cIiwgXCJ2YWxpZ25cIl0sXG4gICAgdHQ6IFtdLFxuICAgIHU6IFtdLFxuICAgIHVsOiBbXSxcbiAgICB2aWRlbzogW1xuICAgICAgXCJhdXRvcGxheVwiLFxuICAgICAgXCJjb250cm9sc1wiLFxuICAgICAgXCJjcm9zc29yaWdpblwiLFxuICAgICAgXCJsb29wXCIsXG4gICAgICBcIm11dGVkXCIsXG4gICAgICBcInBsYXlzaW5saW5lXCIsXG4gICAgICBcInBvc3RlclwiLFxuICAgICAgXCJwcmVsb2FkXCIsXG4gICAgICBcInNyY1wiLFxuICAgICAgXCJoZWlnaHRcIixcbiAgICAgIFwid2lkdGhcIixcbiAgICBdLFxuICB9O1xufVxuXG52YXIgZGVmYXVsdENTU0ZpbHRlciA9IG5ldyBGaWx0ZXJDU1MkMSgpO1xuXG4vKipcbiAqIGRlZmF1bHQgb25UYWcgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGFnXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gb25UYWcodGFnLCBodG1sLCBvcHRpb25zKSB7XG4gIC8vIGRvIG5vdGhpbmdcbn1cblxuLyoqXG4gKiBkZWZhdWx0IG9uSWdub3JlVGFnIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRhZ1xuICogQHBhcmFtIHtTdHJpbmd9IGh0bWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIG9uSWdub3JlVGFnKHRhZywgaHRtbCwgb3B0aW9ucykge1xuICAvLyBkbyBub3RoaW5nXG59XG5cbi8qKlxuICogZGVmYXVsdCBvblRhZ0F0dHIgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGFnXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIG9uVGFnQXR0cih0YWcsIG5hbWUsIHZhbHVlKSB7XG4gIC8vIGRvIG5vdGhpbmdcbn1cblxuLyoqXG4gKiBkZWZhdWx0IG9uSWdub3JlVGFnQXR0ciBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0YWdcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gb25JZ25vcmVUYWdBdHRyKHRhZywgbmFtZSwgdmFsdWUpIHtcbiAgLy8gZG8gbm90aGluZ1xufVxuXG4vKipcbiAqIGRlZmF1bHQgZXNjYXBlSHRtbCBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUh0bWwoaHRtbCkge1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKFJFR0VYUF9MVCwgXCImbHQ7XCIpLnJlcGxhY2UoUkVHRVhQX0dULCBcIiZndDtcIik7XG59XG5cbi8qKlxuICogZGVmYXVsdCBzYWZlQXR0clZhbHVlIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRhZ1xuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHBhcmFtIHtPYmplY3R9IGNzc0ZpbHRlclxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBzYWZlQXR0clZhbHVlKHRhZywgbmFtZSwgdmFsdWUsIGNzc0ZpbHRlcikge1xuICAvLyB1bmVzY2FwZSBhdHRyaWJ1dGUgdmFsdWUgZmlyc3RseVxuICB2YWx1ZSA9IGZyaWVuZGx5QXR0clZhbHVlKHZhbHVlKTtcblxuICBpZiAobmFtZSA9PT0gXCJocmVmXCIgfHwgbmFtZSA9PT0gXCJzcmNcIikge1xuICAgIC8vIGZpbHRlciBgaHJlZmAgYW5kIGBzcmNgIGF0dHJpYnV0ZVxuICAgIC8vIG9ubHkgYWxsb3cgdGhlIHZhbHVlIHRoYXQgc3RhcnRzIHdpdGggYGh0dHA6Ly9gIHwgYGh0dHBzOi8vYCB8IGBtYWlsdG86YCB8IGAvYCB8IGAjYFxuICAgIHZhbHVlID0gXyQyLnRyaW0odmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PT0gXCIjXCIpIHJldHVybiBcIiNcIjtcbiAgICBpZiAoXG4gICAgICAhKFxuICAgICAgICB2YWx1ZS5zdWJzdHIoMCwgNykgPT09IFwiaHR0cDovL1wiIHx8XG4gICAgICAgIHZhbHVlLnN1YnN0cigwLCA4KSA9PT0gXCJodHRwczovL1wiIHx8XG4gICAgICAgIHZhbHVlLnN1YnN0cigwLCA3KSA9PT0gXCJtYWlsdG86XCIgfHxcbiAgICAgICAgdmFsdWUuc3Vic3RyKDAsIDQpID09PSBcInRlbDpcIiB8fFxuICAgICAgICB2YWx1ZS5zdWJzdHIoMCwgMTEpID09PSBcImRhdGE6aW1hZ2UvXCIgfHxcbiAgICAgICAgdmFsdWUuc3Vic3RyKDAsIDYpID09PSBcImZ0cDovL1wiIHx8XG4gICAgICAgIHZhbHVlLnN1YnN0cigwLCAyKSA9PT0gXCIuL1wiIHx8XG4gICAgICAgIHZhbHVlLnN1YnN0cigwLCAzKSA9PT0gXCIuLi9cIiB8fFxuICAgICAgICB2YWx1ZVswXSA9PT0gXCIjXCIgfHxcbiAgICAgICAgdmFsdWVbMF0gPT09IFwiL1wiXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAobmFtZSA9PT0gXCJiYWNrZ3JvdW5kXCIpIHtcbiAgICAvLyBmaWx0ZXIgYGJhY2tncm91bmRgIGF0dHJpYnV0ZSAobWF5YmUgbm8gdXNlKVxuICAgIC8vIGBqYXZhc2NyaXB0OmBcbiAgICBSRUdFWFBfREVGQVVMVF9PTl9UQUdfQVRUUl80Lmxhc3RJbmRleCA9IDA7XG4gICAgaWYgKFJFR0VYUF9ERUZBVUxUX09OX1RBR19BVFRSXzQudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChuYW1lID09PSBcInN0eWxlXCIpIHtcbiAgICAvLyBgZXhwcmVzc2lvbigpYFxuICAgIFJFR0VYUF9ERUZBVUxUX09OX1RBR19BVFRSXzcubGFzdEluZGV4ID0gMDtcbiAgICBpZiAoUkVHRVhQX0RFRkFVTFRfT05fVEFHX0FUVFJfNy50ZXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIC8vIGB1cmwoKWBcbiAgICBSRUdFWFBfREVGQVVMVF9PTl9UQUdfQVRUUl84Lmxhc3RJbmRleCA9IDA7XG4gICAgaWYgKFJFR0VYUF9ERUZBVUxUX09OX1RBR19BVFRSXzgudGVzdCh2YWx1ZSkpIHtcbiAgICAgIFJFR0VYUF9ERUZBVUxUX09OX1RBR19BVFRSXzQubGFzdEluZGV4ID0gMDtcbiAgICAgIGlmIChSRUdFWFBfREVGQVVMVF9PTl9UQUdfQVRUUl80LnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3NzRmlsdGVyICE9PSBmYWxzZSkge1xuICAgICAgY3NzRmlsdGVyID0gY3NzRmlsdGVyIHx8IGRlZmF1bHRDU1NGaWx0ZXI7XG4gICAgICB2YWx1ZSA9IGNzc0ZpbHRlci5wcm9jZXNzKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2NhcGUgYDw+XCJgIGJlZm9yZSByZXR1cm5zXG4gIHZhbHVlID0gZXNjYXBlQXR0clZhbHVlKHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBSZWdFeHAgbGlzdFxudmFyIFJFR0VYUF9MVCA9IC88L2c7XG52YXIgUkVHRVhQX0dUID0gLz4vZztcbnZhciBSRUdFWFBfUVVPVEUgPSAvXCIvZztcbnZhciBSRUdFWFBfUVVPVEVfMiA9IC8mcXVvdDsvZztcbnZhciBSRUdFWFBfQVRUUl9WQUxVRV8xID0gLyYjKFthLXpBLVowLTldKik7Py9naW07XG52YXIgUkVHRVhQX0FUVFJfVkFMVUVfQ09MT04gPSAvJmNvbG9uOz8vZ2ltO1xudmFyIFJFR0VYUF9BVFRSX1ZBTFVFX05FV0xJTkUgPSAvJm5ld2xpbmU7Py9naW07XG4vLyB2YXIgUkVHRVhQX0RFRkFVTFRfT05fVEFHX0FUVFJfMyA9IC9cXC9cXCp8XFwqXFwvL2dtO1xudmFyIFJFR0VYUF9ERUZBVUxUX09OX1RBR19BVFRSXzQgPVxuICAvKChqXFxzKmFcXHMqdlxccyphfHZcXHMqYnxsXFxzKmlcXHMqdlxccyplKVxccypzXFxzKmNcXHMqclxccyppXFxzKnBcXHMqdFxccyp8bVxccypvXFxzKmNcXHMqaFxccyphKTovZ2k7XG4vLyB2YXIgUkVHRVhQX0RFRkFVTFRfT05fVEFHX0FUVFJfNSA9IC9eW1xcc1wiJ2BdKihkXFxzKmFcXHMqdFxccyphXFxzKilcXDovZ2k7XG4vLyB2YXIgUkVHRVhQX0RFRkFVTFRfT05fVEFHX0FUVFJfNiA9IC9eW1xcc1wiJ2BdKihkXFxzKmFcXHMqdFxccyphXFxzKilcXDpcXHMqaW1hZ2VcXC8vZ2k7XG52YXIgUkVHRVhQX0RFRkFVTFRfT05fVEFHX0FUVFJfNyA9XG4gIC9lXFxzKnhcXHMqcFxccypyXFxzKmVcXHMqc1xccypzXFxzKmlcXHMqb1xccypuXFxzKlxcKC4qL2dpO1xudmFyIFJFR0VYUF9ERUZBVUxUX09OX1RBR19BVFRSXzggPSAvdVxccypyXFxzKmxcXHMqXFwoLiovZ2k7XG5cbi8qKlxuICogZXNjYXBlIGRvdWJsZSBxdW90ZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ30gc3RyXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVF1b3RlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoUkVHRVhQX1FVT1RFLCBcIiZxdW90O1wiKTtcbn1cblxuLyoqXG4gKiB1bmVzY2FwZSBkb3VibGUgcXVvdGVcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHN0clxuICovXG5mdW5jdGlvbiB1bmVzY2FwZVF1b3RlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoUkVHRVhQX1FVT1RFXzIsICdcIicpO1xufVxuXG4vKipcbiAqIGVzY2FwZSBodG1sIGVudGl0aWVzXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVIdG1sRW50aXRpZXMoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShSRUdFWFBfQVRUUl9WQUxVRV8xLCBmdW5jdGlvbiByZXBsYWNlVW5pY29kZShzdHIsIGNvZGUpIHtcbiAgICByZXR1cm4gY29kZVswXSA9PT0gXCJ4XCIgfHwgY29kZVswXSA9PT0gXCJYXCJcbiAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChjb2RlLnN1YnN0cigxKSwgMTYpKVxuICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGNvZGUsIDEwKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIGVzY2FwZSBodG1sNSBuZXcgZGFuZ2VyIGVudGl0aWVzXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVEYW5nZXJIdG1sNUVudGl0aWVzKHN0cikge1xuICByZXR1cm4gc3RyXG4gICAgLnJlcGxhY2UoUkVHRVhQX0FUVFJfVkFMVUVfQ09MT04sIFwiOlwiKVxuICAgIC5yZXBsYWNlKFJFR0VYUF9BVFRSX1ZBTFVFX05FV0xJTkUsIFwiIFwiKTtcbn1cblxuLyoqXG4gKiBjbGVhciBub25wcmludGFibGUgY2hhcmFjdGVyc1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2xlYXJOb25QcmludGFibGVDaGFyYWN0ZXIoc3RyKSB7XG4gIHZhciBzdHIyID0gXCJcIjtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHN0cjIgKz0gc3RyLmNoYXJDb2RlQXQoaSkgPCAzMiA/IFwiIFwiIDogc3RyLmNoYXJBdChpKTtcbiAgfVxuICByZXR1cm4gXyQyLnRyaW0oc3RyMik7XG59XG5cbi8qKlxuICogZ2V0IGZyaWVuZGx5IGF0dHJpYnV0ZSB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZnJpZW5kbHlBdHRyVmFsdWUoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlUXVvdGUoc3RyKTtcbiAgc3RyID0gZXNjYXBlSHRtbEVudGl0aWVzKHN0cik7XG4gIHN0ciA9IGVzY2FwZURhbmdlckh0bWw1RW50aXRpZXMoc3RyKTtcbiAgc3RyID0gY2xlYXJOb25QcmludGFibGVDaGFyYWN0ZXIoc3RyKTtcbiAgcmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiB1bmVzY2FwZSBhdHRyaWJ1dGUgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUF0dHJWYWx1ZShzdHIpIHtcbiAgc3RyID0gZXNjYXBlUXVvdGUoc3RyKTtcbiAgc3RyID0gZXNjYXBlSHRtbChzdHIpO1xuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIGBvbklnbm9yZVRhZ2AgZnVuY3Rpb24gZm9yIHJlbW92aW5nIGFsbCB0aGUgdGFncyB0aGF0IGFyZSBub3QgaW4gd2hpdGVsaXN0XG4gKi9cbmZ1bmN0aW9uIG9uSWdub3JlVGFnU3RyaXBBbGwoKSB7XG4gIHJldHVybiBcIlwiO1xufVxuXG4vKipcbiAqIHJlbW92ZSB0YWcgYm9keVxuICogc3BlY2lmeSBhIGB0YWdzYCBsaXN0LCBpZiB0aGUgdGFnIGlzIG5vdCBpbiB0aGUgYHRhZ3NgIGxpc3QgdGhlbiBwcm9jZXNzIGJ5IHRoZSBzcGVjaWZ5IGZ1bmN0aW9uIChvcHRpb25hbClcbiAqXG4gKiBAcGFyYW0ge2FycmF5fSB0YWdzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gKi9cbmZ1bmN0aW9uIFN0cmlwVGFnQm9keSh0YWdzLCBuZXh0KSB7XG4gIGlmICh0eXBlb2YgbmV4dCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgbmV4dCA9IGZ1bmN0aW9uICgpIHt9O1xuICB9XG5cbiAgdmFyIGlzUmVtb3ZlQWxsVGFnID0gIUFycmF5LmlzQXJyYXkodGFncyk7XG4gIGZ1bmN0aW9uIGlzUmVtb3ZlVGFnKHRhZykge1xuICAgIGlmIChpc1JlbW92ZUFsbFRhZykgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIF8kMi5pbmRleE9mKHRhZ3MsIHRhZykgIT09IC0xO1xuICB9XG5cbiAgdmFyIHJlbW92ZUxpc3QgPSBbXTtcbiAgdmFyIHBvc1N0YXJ0ID0gZmFsc2U7XG5cbiAgcmV0dXJuIHtcbiAgICBvbklnbm9yZVRhZzogZnVuY3Rpb24gKHRhZywgaHRtbCwgb3B0aW9ucykge1xuICAgICAgaWYgKGlzUmVtb3ZlVGFnKHRhZykpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaXNDbG9zaW5nKSB7XG4gICAgICAgICAgdmFyIHJldCA9IFwiWy9yZW1vdmVkXVwiO1xuICAgICAgICAgIHZhciBlbmQgPSBvcHRpb25zLnBvc2l0aW9uICsgcmV0Lmxlbmd0aDtcbiAgICAgICAgICByZW1vdmVMaXN0LnB1c2goW1xuICAgICAgICAgICAgcG9zU3RhcnQgIT09IGZhbHNlID8gcG9zU3RhcnQgOiBvcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHBvc1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIXBvc1N0YXJ0KSB7XG4gICAgICAgICAgICBwb3NTdGFydCA9IG9wdGlvbnMucG9zaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIltyZW1vdmVkXVwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV4dCh0YWcsIGh0bWwsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgdmFyIHJldGh0bWwgPSBcIlwiO1xuICAgICAgdmFyIGxhc3RQb3MgPSAwO1xuICAgICAgXyQyLmZvckVhY2gocmVtb3ZlTGlzdCwgZnVuY3Rpb24gKHBvcykge1xuICAgICAgICByZXRodG1sICs9IGh0bWwuc2xpY2UobGFzdFBvcywgcG9zWzBdKTtcbiAgICAgICAgbGFzdFBvcyA9IHBvc1sxXTtcbiAgICAgIH0pO1xuICAgICAgcmV0aHRtbCArPSBodG1sLnNsaWNlKGxhc3RQb3MpO1xuICAgICAgcmV0dXJuIHJldGh0bWw7XG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiByZW1vdmUgaHRtbCBjb21tZW50c1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmlwQ29tbWVudFRhZyhodG1sKSB7XG4gIHZhciByZXRIdG1sID0gXCJcIjtcbiAgdmFyIGxhc3RQb3MgPSAwO1xuICB3aGlsZSAobGFzdFBvcyA8IGh0bWwubGVuZ3RoKSB7XG4gICAgdmFyIGkgPSBodG1sLmluZGV4T2YoXCI8IS0tXCIsIGxhc3RQb3MpO1xuICAgIGlmIChpID09PSAtMSkge1xuICAgICAgcmV0SHRtbCArPSBodG1sLnNsaWNlKGxhc3RQb3MpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldEh0bWwgKz0gaHRtbC5zbGljZShsYXN0UG9zLCBpKTtcbiAgICB2YXIgaiA9IGh0bWwuaW5kZXhPZihcIi0tPlwiLCBpKTtcbiAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsYXN0UG9zID0gaiArIDM7XG4gIH1cbiAgcmV0dXJuIHJldEh0bWw7XG59XG5cbi8qKlxuICogcmVtb3ZlIGludmlzaWJsZSBjaGFyYWN0ZXJzXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc3RyaXBCbGFua0NoYXIoaHRtbCkge1xuICB2YXIgY2hhcnMgPSBodG1sLnNwbGl0KFwiXCIpO1xuICBjaGFycyA9IGNoYXJzLmZpbHRlcihmdW5jdGlvbiAoY2hhcikge1xuICAgIHZhciBjID0gY2hhci5jaGFyQ29kZUF0KDApO1xuICAgIGlmIChjID09PSAxMjcpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYyA8PSAzMSkge1xuICAgICAgaWYgKGMgPT09IDEwIHx8IGMgPT09IDEzKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICByZXR1cm4gY2hhcnMuam9pbihcIlwiKTtcbn1cblxuX2RlZmF1bHQkMS53aGl0ZUxpc3QgPSBnZXREZWZhdWx0V2hpdGVMaXN0KCk7XG5fZGVmYXVsdCQxLmdldERlZmF1bHRXaGl0ZUxpc3QgPSBnZXREZWZhdWx0V2hpdGVMaXN0O1xuX2RlZmF1bHQkMS5vblRhZyA9IG9uVGFnO1xuX2RlZmF1bHQkMS5vbklnbm9yZVRhZyA9IG9uSWdub3JlVGFnO1xuX2RlZmF1bHQkMS5vblRhZ0F0dHIgPSBvblRhZ0F0dHI7XG5fZGVmYXVsdCQxLm9uSWdub3JlVGFnQXR0ciA9IG9uSWdub3JlVGFnQXR0cjtcbl9kZWZhdWx0JDEuc2FmZUF0dHJWYWx1ZSA9IHNhZmVBdHRyVmFsdWU7XG5fZGVmYXVsdCQxLmVzY2FwZUh0bWwgPSBlc2NhcGVIdG1sO1xuX2RlZmF1bHQkMS5lc2NhcGVRdW90ZSA9IGVzY2FwZVF1b3RlO1xuX2RlZmF1bHQkMS51bmVzY2FwZVF1b3RlID0gdW5lc2NhcGVRdW90ZTtcbl9kZWZhdWx0JDEuZXNjYXBlSHRtbEVudGl0aWVzID0gZXNjYXBlSHRtbEVudGl0aWVzO1xuX2RlZmF1bHQkMS5lc2NhcGVEYW5nZXJIdG1sNUVudGl0aWVzID0gZXNjYXBlRGFuZ2VySHRtbDVFbnRpdGllcztcbl9kZWZhdWx0JDEuY2xlYXJOb25QcmludGFibGVDaGFyYWN0ZXIgPSBjbGVhck5vblByaW50YWJsZUNoYXJhY3Rlcjtcbl9kZWZhdWx0JDEuZnJpZW5kbHlBdHRyVmFsdWUgPSBmcmllbmRseUF0dHJWYWx1ZTtcbl9kZWZhdWx0JDEuZXNjYXBlQXR0clZhbHVlID0gZXNjYXBlQXR0clZhbHVlO1xuX2RlZmF1bHQkMS5vbklnbm9yZVRhZ1N0cmlwQWxsID0gb25JZ25vcmVUYWdTdHJpcEFsbDtcbl9kZWZhdWx0JDEuU3RyaXBUYWdCb2R5ID0gU3RyaXBUYWdCb2R5O1xuX2RlZmF1bHQkMS5zdHJpcENvbW1lbnRUYWcgPSBzdHJpcENvbW1lbnRUYWc7XG5fZGVmYXVsdCQxLnN0cmlwQmxhbmtDaGFyID0gc3RyaXBCbGFua0NoYXI7XG5fZGVmYXVsdCQxLmNzc0ZpbHRlciA9IGRlZmF1bHRDU1NGaWx0ZXI7XG5fZGVmYXVsdCQxLmdldERlZmF1bHRDU1NXaGl0ZUxpc3QgPSBnZXREZWZhdWx0Q1NTV2hpdGVMaXN0O1xuXG52YXIgcGFyc2VyJDEgPSB7fTtcblxuLyoqXG4gKiBTaW1wbGUgSFRNTCBQYXJzZXJcbiAqXG4gKiBAYXV0aG9yIFpvbmdtaW4gTGVpPGxlaXpvbmdtaW5AZ21haWwuY29tPlxuICovXG5cbnZhciBfJDEgPSB1dGlsO1xuXG4vKipcbiAqIGdldCB0YWcgbmFtZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIGUuZy4gJzxhIGhlZj1cIiNcIj4nXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldFRhZ05hbWUoaHRtbCkge1xuICB2YXIgaSA9IF8kMS5zcGFjZUluZGV4KGh0bWwpO1xuICB2YXIgdGFnTmFtZTtcbiAgaWYgKGkgPT09IC0xKSB7XG4gICAgdGFnTmFtZSA9IGh0bWwuc2xpY2UoMSwgLTEpO1xuICB9IGVsc2Uge1xuICAgIHRhZ05hbWUgPSBodG1sLnNsaWNlKDEsIGkgKyAxKTtcbiAgfVxuICB0YWdOYW1lID0gXyQxLnRyaW0odGFnTmFtZSkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKHRhZ05hbWUuc2xpY2UoMCwgMSkgPT09IFwiL1wiKSB0YWdOYW1lID0gdGFnTmFtZS5zbGljZSgxKTtcbiAgaWYgKHRhZ05hbWUuc2xpY2UoLTEpID09PSBcIi9cIikgdGFnTmFtZSA9IHRhZ05hbWUuc2xpY2UoMCwgLTEpO1xuICByZXR1cm4gdGFnTmFtZTtcbn1cblxuLyoqXG4gKiBpcyBjbG9zZSB0YWc/XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWwg5aaC77yaJzxhIGhlZj1cIiNcIj4nXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Nsb3NpbmcoaHRtbCkge1xuICByZXR1cm4gaHRtbC5zbGljZSgwLCAyKSA9PT0gXCI8L1wiO1xufVxuXG4vKipcbiAqIHBhcnNlIGlucHV0IGh0bWwgYW5kIHJldHVybnMgcHJvY2Vzc2VkIGh0bWxcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHBhcmFtIHtGdW5jdGlvbn0gb25UYWcgZS5nLiBmdW5jdGlvbiAoc291cmNlUG9zaXRpb24sIHBvc2l0aW9uLCB0YWcsIGh0bWwsIGlzQ2xvc2luZylcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVzY2FwZUh0bWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcGFyc2VUYWckMShodG1sLCBvblRhZywgZXNjYXBlSHRtbCkge1xuXG4gIHZhciByZXRodG1sID0gXCJcIjtcbiAgdmFyIGxhc3RQb3MgPSAwO1xuICB2YXIgdGFnU3RhcnQgPSBmYWxzZTtcbiAgdmFyIHF1b3RlU3RhcnQgPSBmYWxzZTtcbiAgdmFyIGN1cnJlbnRQb3MgPSAwO1xuICB2YXIgbGVuID0gaHRtbC5sZW5ndGg7XG4gIHZhciBjdXJyZW50VGFnTmFtZSA9IFwiXCI7XG4gIHZhciBjdXJyZW50SHRtbCA9IFwiXCI7XG5cbiAgY2hhcml0ZXJhdG9yOiBmb3IgKGN1cnJlbnRQb3MgPSAwOyBjdXJyZW50UG9zIDwgbGVuOyBjdXJyZW50UG9zKyspIHtcbiAgICB2YXIgYyA9IGh0bWwuY2hhckF0KGN1cnJlbnRQb3MpO1xuICAgIGlmICh0YWdTdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgIGlmIChjID09PSBcIjxcIikge1xuICAgICAgICB0YWdTdGFydCA9IGN1cnJlbnRQb3M7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocXVvdGVTdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGMgPT09IFwiPFwiKSB7XG4gICAgICAgICAgcmV0aHRtbCArPSBlc2NhcGVIdG1sKGh0bWwuc2xpY2UobGFzdFBvcywgY3VycmVudFBvcykpO1xuICAgICAgICAgIHRhZ1N0YXJ0ID0gY3VycmVudFBvcztcbiAgICAgICAgICBsYXN0UG9zID0gY3VycmVudFBvcztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYyA9PT0gXCI+XCIpIHtcbiAgICAgICAgICByZXRodG1sICs9IGVzY2FwZUh0bWwoaHRtbC5zbGljZShsYXN0UG9zLCB0YWdTdGFydCkpO1xuICAgICAgICAgIGN1cnJlbnRIdG1sID0gaHRtbC5zbGljZSh0YWdTdGFydCwgY3VycmVudFBvcyArIDEpO1xuICAgICAgICAgIGN1cnJlbnRUYWdOYW1lID0gZ2V0VGFnTmFtZShjdXJyZW50SHRtbCk7XG4gICAgICAgICAgcmV0aHRtbCArPSBvblRhZyhcbiAgICAgICAgICAgIHRhZ1N0YXJ0LFxuICAgICAgICAgICAgcmV0aHRtbC5sZW5ndGgsXG4gICAgICAgICAgICBjdXJyZW50VGFnTmFtZSxcbiAgICAgICAgICAgIGN1cnJlbnRIdG1sLFxuICAgICAgICAgICAgaXNDbG9zaW5nKGN1cnJlbnRIdG1sKVxuICAgICAgICAgICk7XG4gICAgICAgICAgbGFzdFBvcyA9IGN1cnJlbnRQb3MgKyAxO1xuICAgICAgICAgIHRhZ1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09ICdcIicgfHwgYyA9PT0gXCInXCIpIHtcbiAgICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgICAgdmFyIGljID0gaHRtbC5jaGFyQXQoY3VycmVudFBvcyAtIGkpO1xuXG4gICAgICAgICAgd2hpbGUgKGljLnRyaW0oKSA9PT0gXCJcIiB8fCBpYyA9PT0gXCI9XCIpIHtcbiAgICAgICAgICAgIGlmIChpYyA9PT0gXCI9XCIpIHtcbiAgICAgICAgICAgICAgcXVvdGVTdGFydCA9IGM7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIGNoYXJpdGVyYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGljID0gaHRtbC5jaGFyQXQoY3VycmVudFBvcyAtICsraSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYyA9PT0gcXVvdGVTdGFydCkge1xuICAgICAgICAgIHF1b3RlU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobGFzdFBvcyA8IGh0bWwubGVuZ3RoKSB7XG4gICAgcmV0aHRtbCArPSBlc2NhcGVIdG1sKGh0bWwuc3Vic3RyKGxhc3RQb3MpKTtcbiAgfVxuXG4gIHJldHVybiByZXRodG1sO1xufVxuXG52YXIgUkVHRVhQX0lMTEVHQUxfQVRUUl9OQU1FID0gL1teYS16QS1aMC05XFxcXF86Li1dL2dpbTtcblxuLyoqXG4gKiBwYXJzZSBpbnB1dCBhdHRyaWJ1dGVzIGFuZCByZXR1cm5zIHByb2Nlc3NlZCBhdHRyaWJ1dGVzXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWwgZS5nLiBgaHJlZj1cIiNcIiB0YXJnZXQ9XCJfYmxhbmtcImBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQXR0ciBlLmcuIGBmdW5jdGlvbiAobmFtZSwgdmFsdWUpYFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBwYXJzZUF0dHIkMShodG1sLCBvbkF0dHIpIHtcblxuICB2YXIgbGFzdFBvcyA9IDA7XG4gIHZhciBsYXN0TWFya1BvcyA9IDA7XG4gIHZhciByZXRBdHRycyA9IFtdO1xuICB2YXIgdG1wTmFtZSA9IGZhbHNlO1xuICB2YXIgbGVuID0gaHRtbC5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gYWRkQXR0cihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBfJDEudHJpbShuYW1lKTtcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFJFR0VYUF9JTExFR0FMX0FUVFJfTkFNRSwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobmFtZS5sZW5ndGggPCAxKSByZXR1cm47XG4gICAgdmFyIHJldCA9IG9uQXR0cihuYW1lLCB2YWx1ZSB8fCBcIlwiKTtcbiAgICBpZiAocmV0KSByZXRBdHRycy5wdXNoKHJldCk7XG4gIH1cblxuICAvLyDpgJDkuKrliIbmnpDlrZfnrKZcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjID0gaHRtbC5jaGFyQXQoaSk7XG4gICAgdmFyIHYsIGo7XG4gICAgaWYgKHRtcE5hbWUgPT09IGZhbHNlICYmIGMgPT09IFwiPVwiKSB7XG4gICAgICB0bXBOYW1lID0gaHRtbC5zbGljZShsYXN0UG9zLCBpKTtcbiAgICAgIGxhc3RQb3MgPSBpICsgMTtcbiAgICAgIGxhc3RNYXJrUG9zID0gaHRtbC5jaGFyQXQobGFzdFBvcykgPT09ICdcIicgfHwgaHRtbC5jaGFyQXQobGFzdFBvcykgPT09IFwiJ1wiID8gbGFzdFBvcyA6IGZpbmROZXh0UXVvdGF0aW9uTWFyayhodG1sLCBpICsgMSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHRtcE5hbWUgIT09IGZhbHNlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGkgPT09IGxhc3RNYXJrUG9zXG4gICAgICApIHtcbiAgICAgICAgaiA9IGh0bWwuaW5kZXhPZihjLCBpICsgMSk7XG4gICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBfJDEudHJpbShodG1sLnNsaWNlKGxhc3RNYXJrUG9zICsgMSwgaikpO1xuICAgICAgICAgIGFkZEF0dHIodG1wTmFtZSwgdik7XG4gICAgICAgICAgdG1wTmFtZSA9IGZhbHNlO1xuICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgIGxhc3RQb3MgPSBpICsgMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoL1xcc3xcXG58XFx0Ly50ZXN0KGMpKSB7XG4gICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9cXHN8XFxufFxcdC9nLCBcIiBcIik7XG4gICAgICBpZiAodG1wTmFtZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaiA9IGZpbmROZXh0RXF1YWwoaHRtbCwgaSk7XG4gICAgICAgIGlmIChqID09PSAtMSkge1xuICAgICAgICAgIHYgPSBfJDEudHJpbShodG1sLnNsaWNlKGxhc3RQb3MsIGkpKTtcbiAgICAgICAgICBhZGRBdHRyKHYpO1xuICAgICAgICAgIHRtcE5hbWUgPSBmYWxzZTtcbiAgICAgICAgICBsYXN0UG9zID0gaSArIDE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSA9IGogLSAxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqID0gZmluZEJlZm9yZUVxdWFsKGh0bWwsIGkgLSAxKTtcbiAgICAgICAgaWYgKGogPT09IC0xKSB7XG4gICAgICAgICAgdiA9IF8kMS50cmltKGh0bWwuc2xpY2UobGFzdFBvcywgaSkpO1xuICAgICAgICAgIHYgPSBzdHJpcFF1b3RlV3JhcCh2KTtcbiAgICAgICAgICBhZGRBdHRyKHRtcE5hbWUsIHYpO1xuICAgICAgICAgIHRtcE5hbWUgPSBmYWxzZTtcbiAgICAgICAgICBsYXN0UG9zID0gaSArIDE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGFzdFBvcyA8IGh0bWwubGVuZ3RoKSB7XG4gICAgaWYgKHRtcE5hbWUgPT09IGZhbHNlKSB7XG4gICAgICBhZGRBdHRyKGh0bWwuc2xpY2UobGFzdFBvcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZGRBdHRyKHRtcE5hbWUsIHN0cmlwUXVvdGVXcmFwKF8kMS50cmltKGh0bWwuc2xpY2UobGFzdFBvcykpKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF8kMS50cmltKHJldEF0dHJzLmpvaW4oXCIgXCIpKTtcbn1cblxuZnVuY3Rpb24gZmluZE5leHRFcXVhbChzdHIsIGkpIHtcbiAgZm9yICg7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHN0cltpXTtcbiAgICBpZiAoYyA9PT0gXCIgXCIpIGNvbnRpbnVlO1xuICAgIGlmIChjID09PSBcIj1cIikgcmV0dXJuIGk7XG4gICAgcmV0dXJuIC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmROZXh0UXVvdGF0aW9uTWFyayhzdHIsIGkpIHtcbiAgZm9yICg7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHN0cltpXTtcbiAgICBpZiAoYyA9PT0gXCIgXCIpIGNvbnRpbnVlO1xuICAgIGlmIChjID09PSBcIidcIiB8fCBjID09PSAnXCInKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZEJlZm9yZUVxdWFsKHN0ciwgaSkge1xuICBmb3IgKDsgaSA+IDA7IGktLSkge1xuICAgIHZhciBjID0gc3RyW2ldO1xuICAgIGlmIChjID09PSBcIiBcIikgY29udGludWU7XG4gICAgaWYgKGMgPT09IFwiPVwiKSByZXR1cm4gaTtcbiAgICByZXR1cm4gLTE7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNRdW90ZVdyYXBTdHJpbmcodGV4dCkge1xuICBpZiAoXG4gICAgKHRleHRbMF0gPT09ICdcIicgJiYgdGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnXCInKSB8fFxuICAgICh0ZXh0WzBdID09PSBcIidcIiAmJiB0ZXh0W3RleHQubGVuZ3RoIC0gMV0gPT09IFwiJ1wiKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaXBRdW90ZVdyYXAodGV4dCkge1xuICBpZiAoaXNRdW90ZVdyYXBTdHJpbmcodGV4dCkpIHtcbiAgICByZXR1cm4gdGV4dC5zdWJzdHIoMSwgdGV4dC5sZW5ndGggLSAyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxufVxuXG5wYXJzZXIkMS5wYXJzZVRhZyA9IHBhcnNlVGFnJDE7XG5wYXJzZXIkMS5wYXJzZUF0dHIgPSBwYXJzZUF0dHIkMTtcblxuLyoqXG4gKiBmaWx0ZXIgeHNzXG4gKlxuICogQGF1dGhvciBab25nbWluIExlaTxsZWl6b25nbWluQGdtYWlsLmNvbT5cbiAqL1xuXG52YXIgRmlsdGVyQ1NTID0gbGliLmV4cG9ydHMuRmlsdGVyQ1NTO1xudmFyIERFRkFVTFQgPSBfZGVmYXVsdCQxO1xudmFyIHBhcnNlciA9IHBhcnNlciQxO1xudmFyIHBhcnNlVGFnID0gcGFyc2VyLnBhcnNlVGFnO1xudmFyIHBhcnNlQXR0ciA9IHBhcnNlci5wYXJzZUF0dHI7XG52YXIgXyA9IHV0aWw7XG5cbi8qKlxuICogcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGlucHV0IHZhbHVlIGlzIGB1bmRlZmluZWRgIG9yIGBudWxsYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTnVsbChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbDtcbn1cblxuLyoqXG4gKiBnZXQgYXR0cmlidXRlcyBmb3IgYSB0YWdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaHRtbFxuICogQHJldHVybiB7T2JqZWN0fVxuICogICAtIHtTdHJpbmd9IGh0bWxcbiAqICAgLSB7Qm9vbGVhbn0gY2xvc2luZ1xuICovXG5mdW5jdGlvbiBnZXRBdHRycyhodG1sKSB7XG4gIHZhciBpID0gXy5zcGFjZUluZGV4KGh0bWwpO1xuICBpZiAoaSA9PT0gLTEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaHRtbDogXCJcIixcbiAgICAgIGNsb3Npbmc6IGh0bWxbaHRtbC5sZW5ndGggLSAyXSA9PT0gXCIvXCIsXG4gICAgfTtcbiAgfVxuICBodG1sID0gXy50cmltKGh0bWwuc2xpY2UoaSArIDEsIC0xKSk7XG4gIHZhciBpc0Nsb3NpbmcgPSBodG1sW2h0bWwubGVuZ3RoIC0gMV0gPT09IFwiL1wiO1xuICBpZiAoaXNDbG9zaW5nKSBodG1sID0gXy50cmltKGh0bWwuc2xpY2UoMCwgLTEpKTtcbiAgcmV0dXJuIHtcbiAgICBodG1sOiBodG1sLFxuICAgIGNsb3Npbmc6IGlzQ2xvc2luZyxcbiAgfTtcbn1cblxuLyoqXG4gKiBzaGFsbG93IGNvcHlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5T2JqZWN0KG9iaikge1xuICB2YXIgcmV0ID0ge307XG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgcmV0W2ldID0gb2JqW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGtleXNUb0xvd2VyQ2FzZShvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9ialtpXSkpIHtcbiAgICAgIHJldFtpLnRvTG93ZXJDYXNlKCldID0gb2JqW2ldLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldFtpLnRvTG93ZXJDYXNlKCldID0gb2JqW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIEZpbHRlclhTUyBjbGFzc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiAgICAgICAgd2hpdGVMaXN0IChvciBhbGxvd0xpc3QpLCBvblRhZywgb25UYWdBdHRyLCBvbklnbm9yZVRhZyxcbiAqICAgICAgICBvbklnbm9yZVRhZ0F0dHIsIHNhZmVBdHRyVmFsdWUsIGVzY2FwZUh0bWxcbiAqICAgICAgICBzdHJpcElnbm9yZVRhZ0JvZHksIGFsbG93Q29tbWVudFRhZywgc3RyaXBCbGFua0NoYXJcbiAqICAgICAgICBjc3N7d2hpdGVMaXN0LCBvbkF0dHIsIG9uSWdub3JlQXR0cn0gYGNzcz1mYWxzZWAgbWVhbnMgZG9uJ3QgdXNlIGBjc3NmaWx0ZXJgXG4gKi9cbmZ1bmN0aW9uIEZpbHRlclhTUyhvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBzaGFsbG93Q29weU9iamVjdChvcHRpb25zIHx8IHt9KTtcblxuICBpZiAob3B0aW9ucy5zdHJpcElnbm9yZVRhZykge1xuICAgIGlmIChvcHRpb25zLm9uSWdub3JlVGFnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnTm90ZXM6IGNhbm5vdCB1c2UgdGhlc2UgdHdvIG9wdGlvbnMgXCJzdHJpcElnbm9yZVRhZ1wiIGFuZCBcIm9uSWdub3JlVGFnXCIgYXQgdGhlIHNhbWUgdGltZSdcbiAgICAgICk7XG4gICAgfVxuICAgIG9wdGlvbnMub25JZ25vcmVUYWcgPSBERUZBVUxULm9uSWdub3JlVGFnU3RyaXBBbGw7XG4gIH1cbiAgaWYgKG9wdGlvbnMud2hpdGVMaXN0IHx8IG9wdGlvbnMuYWxsb3dMaXN0KSB7XG4gICAgb3B0aW9ucy53aGl0ZUxpc3QgPSBrZXlzVG9Mb3dlckNhc2Uob3B0aW9ucy53aGl0ZUxpc3QgfHwgb3B0aW9ucy5hbGxvd0xpc3QpO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMud2hpdGVMaXN0ID0gREVGQVVMVC53aGl0ZUxpc3Q7XG4gIH1cblxuICBvcHRpb25zLm9uVGFnID0gb3B0aW9ucy5vblRhZyB8fCBERUZBVUxULm9uVGFnO1xuICBvcHRpb25zLm9uVGFnQXR0ciA9IG9wdGlvbnMub25UYWdBdHRyIHx8IERFRkFVTFQub25UYWdBdHRyO1xuICBvcHRpb25zLm9uSWdub3JlVGFnID0gb3B0aW9ucy5vbklnbm9yZVRhZyB8fCBERUZBVUxULm9uSWdub3JlVGFnO1xuICBvcHRpb25zLm9uSWdub3JlVGFnQXR0ciA9IG9wdGlvbnMub25JZ25vcmVUYWdBdHRyIHx8IERFRkFVTFQub25JZ25vcmVUYWdBdHRyO1xuICBvcHRpb25zLnNhZmVBdHRyVmFsdWUgPSBvcHRpb25zLnNhZmVBdHRyVmFsdWUgfHwgREVGQVVMVC5zYWZlQXR0clZhbHVlO1xuICBvcHRpb25zLmVzY2FwZUh0bWwgPSBvcHRpb25zLmVzY2FwZUh0bWwgfHwgREVGQVVMVC5lc2NhcGVIdG1sO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gIGlmIChvcHRpb25zLmNzcyA9PT0gZmFsc2UpIHtcbiAgICB0aGlzLmNzc0ZpbHRlciA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMuY3NzID0gb3B0aW9ucy5jc3MgfHwge307XG4gICAgdGhpcy5jc3NGaWx0ZXIgPSBuZXcgRmlsdGVyQ1NTKG9wdGlvbnMuY3NzKTtcbiAgfVxufVxuXG4vKipcbiAqIHN0YXJ0IHByb2Nlc3MgYW5kIHJldHVybnMgcmVzdWx0XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGh0bWxcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuRmlsdGVyWFNTLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGh0bWwpIHtcbiAgLy8gY29tcGF0aWJsZSB3aXRoIHRoZSBpbnB1dFxuICBodG1sID0gaHRtbCB8fCBcIlwiO1xuICBodG1sID0gaHRtbC50b1N0cmluZygpO1xuICBpZiAoIWh0bWwpIHJldHVybiBcIlwiO1xuXG4gIHZhciBtZSA9IHRoaXM7XG4gIHZhciBvcHRpb25zID0gbWUub3B0aW9ucztcbiAgdmFyIHdoaXRlTGlzdCA9IG9wdGlvbnMud2hpdGVMaXN0O1xuICB2YXIgb25UYWcgPSBvcHRpb25zLm9uVGFnO1xuICB2YXIgb25JZ25vcmVUYWcgPSBvcHRpb25zLm9uSWdub3JlVGFnO1xuICB2YXIgb25UYWdBdHRyID0gb3B0aW9ucy5vblRhZ0F0dHI7XG4gIHZhciBvbklnbm9yZVRhZ0F0dHIgPSBvcHRpb25zLm9uSWdub3JlVGFnQXR0cjtcbiAgdmFyIHNhZmVBdHRyVmFsdWUgPSBvcHRpb25zLnNhZmVBdHRyVmFsdWU7XG4gIHZhciBlc2NhcGVIdG1sID0gb3B0aW9ucy5lc2NhcGVIdG1sO1xuICB2YXIgY3NzRmlsdGVyID0gbWUuY3NzRmlsdGVyO1xuXG4gIC8vIHJlbW92ZSBpbnZpc2libGUgY2hhcmFjdGVyc1xuICBpZiAob3B0aW9ucy5zdHJpcEJsYW5rQ2hhcikge1xuICAgIGh0bWwgPSBERUZBVUxULnN0cmlwQmxhbmtDaGFyKGh0bWwpO1xuICB9XG5cbiAgLy8gcmVtb3ZlIGh0bWwgY29tbWVudHNcbiAgaWYgKCFvcHRpb25zLmFsbG93Q29tbWVudFRhZykge1xuICAgIGh0bWwgPSBERUZBVUxULnN0cmlwQ29tbWVudFRhZyhodG1sKTtcbiAgfVxuXG4gIC8vIGlmIGVuYWJsZSBzdHJpcElnbm9yZVRhZ0JvZHlcbiAgdmFyIHN0cmlwSWdub3JlVGFnQm9keSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucy5zdHJpcElnbm9yZVRhZ0JvZHkpIHtcbiAgICBzdHJpcElnbm9yZVRhZ0JvZHkgPSBERUZBVUxULlN0cmlwVGFnQm9keShcbiAgICAgIG9wdGlvbnMuc3RyaXBJZ25vcmVUYWdCb2R5LFxuICAgICAgb25JZ25vcmVUYWdcbiAgICApO1xuICAgIG9uSWdub3JlVGFnID0gc3RyaXBJZ25vcmVUYWdCb2R5Lm9uSWdub3JlVGFnO1xuICB9XG5cbiAgdmFyIHJldEh0bWwgPSBwYXJzZVRhZyhcbiAgICBodG1sLFxuICAgIGZ1bmN0aW9uIChzb3VyY2VQb3NpdGlvbiwgcG9zaXRpb24sIHRhZywgaHRtbCwgaXNDbG9zaW5nKSB7XG4gICAgICB2YXIgaW5mbyA9IHtcbiAgICAgICAgc291cmNlUG9zaXRpb246IHNvdXJjZVBvc2l0aW9uLFxuICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIGlzQ2xvc2luZzogaXNDbG9zaW5nLFxuICAgICAgICBpc1doaXRlOiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwod2hpdGVMaXN0LCB0YWcpLFxuICAgICAgfTtcblxuICAgICAgLy8gY2FsbCBgb25UYWcoKWBcbiAgICAgIHZhciByZXQgPSBvblRhZyh0YWcsIGh0bWwsIGluZm8pO1xuICAgICAgaWYgKCFpc051bGwocmV0KSkgcmV0dXJuIHJldDtcblxuICAgICAgaWYgKGluZm8uaXNXaGl0ZSkge1xuICAgICAgICBpZiAoaW5mby5pc0Nsb3NpbmcpIHtcbiAgICAgICAgICByZXR1cm4gXCI8L1wiICsgdGFnICsgXCI+XCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXR0cnMgPSBnZXRBdHRycyhodG1sKTtcbiAgICAgICAgdmFyIHdoaXRlQXR0ckxpc3QgPSB3aGl0ZUxpc3RbdGFnXTtcbiAgICAgICAgdmFyIGF0dHJzSHRtbCA9IHBhcnNlQXR0cihhdHRycy5odG1sLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAvLyBjYWxsIGBvblRhZ0F0dHIoKWBcbiAgICAgICAgICB2YXIgaXNXaGl0ZUF0dHIgPSBfLmluZGV4T2Yod2hpdGVBdHRyTGlzdCwgbmFtZSkgIT09IC0xO1xuICAgICAgICAgIHZhciByZXQgPSBvblRhZ0F0dHIodGFnLCBuYW1lLCB2YWx1ZSwgaXNXaGl0ZUF0dHIpO1xuICAgICAgICAgIGlmICghaXNOdWxsKHJldCkpIHJldHVybiByZXQ7XG5cbiAgICAgICAgICBpZiAoaXNXaGl0ZUF0dHIpIHtcbiAgICAgICAgICAgIC8vIGNhbGwgYHNhZmVBdHRyVmFsdWUoKWBcbiAgICAgICAgICAgIHZhbHVlID0gc2FmZUF0dHJWYWx1ZSh0YWcsIG5hbWUsIHZhbHVlLCBjc3NGaWx0ZXIpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuYW1lICsgJz1cIicgKyB2YWx1ZSArICdcIic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FsbCBgb25JZ25vcmVUYWdBdHRyKClgXG4gICAgICAgICAgICByZXQgPSBvbklnbm9yZVRhZ0F0dHIodGFnLCBuYW1lLCB2YWx1ZSwgaXNXaGl0ZUF0dHIpO1xuICAgICAgICAgICAgaWYgKCFpc051bGwocmV0KSkgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJ1aWxkIG5ldyB0YWcgaHRtbFxuICAgICAgICBodG1sID0gXCI8XCIgKyB0YWc7XG4gICAgICAgIGlmIChhdHRyc0h0bWwpIGh0bWwgKz0gXCIgXCIgKyBhdHRyc0h0bWw7XG4gICAgICAgIGlmIChhdHRycy5jbG9zaW5nKSBodG1sICs9IFwiIC9cIjtcbiAgICAgICAgaHRtbCArPSBcIj5cIjtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjYWxsIGBvbklnbm9yZVRhZygpYFxuICAgICAgICByZXQgPSBvbklnbm9yZVRhZyh0YWcsIGh0bWwsIGluZm8pO1xuICAgICAgICBpZiAoIWlzTnVsbChyZXQpKSByZXR1cm4gcmV0O1xuICAgICAgICByZXR1cm4gZXNjYXBlSHRtbChodG1sKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVzY2FwZUh0bWxcbiAgKTtcblxuICAvLyBpZiBlbmFibGUgc3RyaXBJZ25vcmVUYWdCb2R5XG4gIGlmIChzdHJpcElnbm9yZVRhZ0JvZHkpIHtcbiAgICByZXRIdG1sID0gc3RyaXBJZ25vcmVUYWdCb2R5LnJlbW92ZShyZXRIdG1sKTtcbiAgfVxuXG4gIHJldHVybiByZXRIdG1sO1xufTtcblxudmFyIHhzcyA9IEZpbHRlclhTUztcblxuLyoqXG4gKiB4c3NcbiAqXG4gKiBAYXV0aG9yIFpvbmdtaW4gTGVpPGxlaXpvbmdtaW5AZ21haWwuY29tPlxuICovXG5cbihmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cdHZhciBERUZBVUxUID0gX2RlZmF1bHQkMTtcblx0dmFyIHBhcnNlciA9IHBhcnNlciQxO1xuXHR2YXIgRmlsdGVyWFNTID0geHNzO1xuXG5cdC8qKlxuXHQgKiBmaWx0ZXIgeHNzIGZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBodG1sXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHsgd2hpdGVMaXN0LCBvblRhZywgb25UYWdBdHRyLCBvbklnbm9yZVRhZywgb25JZ25vcmVUYWdBdHRyLCBzYWZlQXR0clZhbHVlLCBlc2NhcGVIdG1sIH1cblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKi9cblx0ZnVuY3Rpb24gZmlsdGVyWFNTKGh0bWwsIG9wdGlvbnMpIHtcblx0ICB2YXIgeHNzID0gbmV3IEZpbHRlclhTUyhvcHRpb25zKTtcblx0ICByZXR1cm4geHNzLnByb2Nlc3MoaHRtbCk7XG5cdH1cblxuXHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmaWx0ZXJYU1M7XG5cdGV4cG9ydHMuZmlsdGVyWFNTID0gZmlsdGVyWFNTO1xuXHRleHBvcnRzLkZpbHRlclhTUyA9IEZpbHRlclhTUztcblxuXHQoZnVuY3Rpb24gKCkge1xuXHQgIGZvciAodmFyIGkgaW4gREVGQVVMVCkge1xuXHQgICAgZXhwb3J0c1tpXSA9IERFRkFVTFRbaV07XG5cdCAgfVxuXHQgIGZvciAodmFyIGogaW4gcGFyc2VyKSB7XG5cdCAgICBleHBvcnRzW2pdID0gcGFyc2VyW2pdO1xuXHQgIH1cblx0fSkoKTtcblxuXHQvLyB1c2luZyBgeHNzYCBvbiB0aGUgV2ViV29ya2VyLCBvdXRwdXQgYGZpbHRlclhTU2AgdG8gdGhlIGdsb2JhbHNcblx0ZnVuY3Rpb24gaXNXb3JrZXJFbnYoKSB7XG5cdCAgcmV0dXJuIChcblx0ICAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdCAgICB0eXBlb2YgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0ICAgIHNlbGYgaW5zdGFuY2VvZiBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZVxuXHQgICk7XG5cdH1cblx0aWYgKGlzV29ya2VyRW52KCkpIHtcblx0ICBzZWxmLmZpbHRlclhTUyA9IG1vZHVsZS5leHBvcnRzO1xuXHR9XG59IChsaWIkMSwgbGliJDEuZXhwb3J0cykpO1xuXG4vKiBDb3B5cmlnaHQgKGMpIDIwMjAgRW52aXJvbm1lbnRhbCBTeXN0ZW1zIFJlc2VhcmNoIEluc3RpdHV0ZSwgSW5jLlxuICogQXBhY2hlLTIuMFxuICpcbiAqIGpzLXhzc1xuICogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTggWm9uZ21pbiBMZWko6Zu35a6X5rCRKSA8bGVpem9uZ21pbkBnbWFpbC5jb20+XG4gKiBodHRwOi8vdWNkb2suY29tXG4gKiBUaGUgTUlUIExpY2Vuc2UsIHNlZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2xlaXpvbmdtaW4vanMteHNzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UgZm9yIGRldGFpbHNcbiAqICovXG4vKipcbiAqIFRoZSBTYW5pdGl6ZXIgQ2xhc3NcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgU2FuaXRpemVyXG4gKi9cbnZhciBTYW5pdGl6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2FuaXRpemVyKGZpbHRlck9wdGlvbnMsIGV4dGVuZERlZmF1bHRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFN1cHBvcnRlZCBIVE1MIFNwZWM6IGh0dHBzOi8vZG9jLmFyY2dpcy5jb20vZW4vYXJjZ2lzLW9ubGluZS9yZWZlcmVuY2Uvc3VwcG9ydGVkLWh0bWwuaHRtXG4gICAgICAgIHRoaXMuYXJjZ2lzV2hpdGVMaXN0ID0ge1xuICAgICAgICAgICAgYTogW1wiaHJlZlwiLCBcInN0eWxlXCIsIFwidGFyZ2V0XCJdLFxuICAgICAgICAgICAgYWJicjogW1widGl0bGVcIl0sXG4gICAgICAgICAgICBhdWRpbzogW1wiYXV0b3BsYXlcIiwgXCJjb250cm9sc1wiLCBcImxvb3BcIiwgXCJtdXRlZFwiLCBcInByZWxvYWRcIl0sXG4gICAgICAgICAgICBiOiBbXSxcbiAgICAgICAgICAgIGJyOiBbXSxcbiAgICAgICAgICAgIGRkOiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGRpdjogW1wiYWxpZ25cIiwgXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGRsOiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGR0OiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGVtOiBbXSxcbiAgICAgICAgICAgIGZpZ2NhcHRpb246IFtcInN0eWxlXCJdLFxuICAgICAgICAgICAgZmlndXJlOiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGZvbnQ6IFtcImNvbG9yXCIsIFwiZmFjZVwiLCBcInNpemVcIiwgXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGgxOiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGgyOiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGgzOiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGg0OiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGg1OiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGg2OiBbXCJzdHlsZVwiXSxcbiAgICAgICAgICAgIGhyOiBbXSxcbiAgICAgICAgICAgIGk6IFtdLFxuICAgICAgICAgICAgaW1nOiBbXCJhbHRcIiwgXCJib3JkZXJcIiwgXCJoZWlnaHRcIiwgXCJzcmNcIiwgXCJzdHlsZVwiLCBcIndpZHRoXCJdLFxuICAgICAgICAgICAgbGk6IFtdLFxuICAgICAgICAgICAgb2w6IFtdLFxuICAgICAgICAgICAgcDogW1wic3R5bGVcIl0sXG4gICAgICAgICAgICBzb3VyY2U6IFtcIm1lZGlhXCIsIFwic3JjXCIsIFwidHlwZVwiXSxcbiAgICAgICAgICAgIHNwYW46IFtcInN0eWxlXCJdLFxuICAgICAgICAgICAgc3Ryb25nOiBbXSxcbiAgICAgICAgICAgIHN1YjogW1wic3R5bGVcIl0sXG4gICAgICAgICAgICBzdXA6IFtcInN0eWxlXCJdLFxuICAgICAgICAgICAgdGFibGU6IFtcImJvcmRlclwiLCBcImNlbGxwYWRkaW5nXCIsIFwiY2VsbHNwYWNpbmdcIiwgXCJoZWlnaHRcIiwgXCJzdHlsZVwiLCBcIndpZHRoXCJdLFxuICAgICAgICAgICAgdGJvZHk6IFtdLFxuICAgICAgICAgICAgdHI6IFtcImFsaWduXCIsIFwiaGVpZ2h0XCIsIFwic3R5bGVcIiwgXCJ2YWxpZ25cIl0sXG4gICAgICAgICAgICB0ZDogW1xuICAgICAgICAgICAgICAgIFwiYWxpZ25cIixcbiAgICAgICAgICAgICAgICBcImNvbHNwYW5cIixcbiAgICAgICAgICAgICAgICBcImhlaWdodFwiLFxuICAgICAgICAgICAgICAgIFwibm93cmFwXCIsXG4gICAgICAgICAgICAgICAgXCJyb3dzcGFuXCIsXG4gICAgICAgICAgICAgICAgXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgIFwidmFsaWduXCIsXG4gICAgICAgICAgICAgICAgXCJ3aWR0aFwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHRoOiBbXG4gICAgICAgICAgICAgICAgXCJhbGlnblwiLFxuICAgICAgICAgICAgICAgIFwiY29sc3BhblwiLFxuICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgICBcInJvd3NwYW5cIixcbiAgICAgICAgICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgXCJ2YWxpZ25cIixcbiAgICAgICAgICAgICAgICBcIndpZHRoXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdTogW10sXG4gICAgICAgICAgICB1bDogW10sXG4gICAgICAgICAgICB2aWRlbzogW1xuICAgICAgICAgICAgICAgIFwiYXV0b3BsYXlcIixcbiAgICAgICAgICAgICAgICBcImNvbnRyb2xzXCIsXG4gICAgICAgICAgICAgICAgXCJoZWlnaHRcIixcbiAgICAgICAgICAgICAgICBcImxvb3BcIixcbiAgICAgICAgICAgICAgICBcIm11dGVkXCIsXG4gICAgICAgICAgICAgICAgXCJwb3N0ZXJcIixcbiAgICAgICAgICAgICAgICBcInByZWxvYWRcIixcbiAgICAgICAgICAgICAgICBcIndpZHRoXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFsbG93ZWRQcm90b2NvbHMgPSBbXG4gICAgICAgICAgICBcImh0dHBcIixcbiAgICAgICAgICAgIFwiaHR0cHNcIixcbiAgICAgICAgICAgIFwibWFpbHRvXCIsXG4gICAgICAgICAgICBcImlmb3JtXCIsXG4gICAgICAgICAgICBcInRlbFwiLFxuICAgICAgICAgICAgXCJmbG93XCIsXG4gICAgICAgICAgICBcImxmbW9iaWxlXCIsXG4gICAgICAgICAgICBcImFyY2dpcy1uYXZpZ2F0b3JcIixcbiAgICAgICAgICAgIFwiYXJjZ2lzLWFwcHN0dWRpby1wbGF5ZXJcIixcbiAgICAgICAgICAgIFwiYXJjZ2lzLXN1cnZleTEyM1wiLFxuICAgICAgICAgICAgXCJhcmNnaXMtY29sbGVjdG9yXCIsXG4gICAgICAgICAgICBcImFyY2dpcy13b3JrZm9yY2VcIixcbiAgICAgICAgICAgIFwiYXJjZ2lzLWV4cGxvcmVyXCIsXG4gICAgICAgICAgICBcImFyY2dpcy10cmVrMnRoZXJlXCIsXG4gICAgICAgICAgICBcImFyY2dpcy1xdWlja2NhcHR1cmVcIixcbiAgICAgICAgICAgIFwibXNwYmlcIixcbiAgICAgICAgICAgIFwiY29tZ29vZ2xlbWFwc1wiLFxuICAgICAgICAgICAgXCJwZGZlZmlsZVwiLFxuICAgICAgICAgICAgXCJwZGZlaHR0cFwiLFxuICAgICAgICAgICAgXCJwZGZlaHR0cHNcIixcbiAgICAgICAgICAgIFwiYm94YXBwXCIsXG4gICAgICAgICAgICBcImJveGVtbVwiLFxuICAgICAgICAgICAgXCJhd2JcIixcbiAgICAgICAgICAgIFwiYXdic1wiLFxuICAgICAgICAgICAgXCJncm9wZW5cIixcbiAgICAgICAgICAgIFwicmFkYXJzY29wZVwiLFxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmFyY2dpc0ZpbHRlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhbGxvd0NvbW1lbnRUYWc6IHRydWUsXG4gICAgICAgICAgICBzYWZlQXR0clZhbHVlOiBmdW5jdGlvbiAodGFnLCBuYW1lLCB2YWx1ZSwgY3NzRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gVGFrZSBvdmVyIHNhZmUgYXR0cmlidXRlIGZpbHRlcmluZyBmb3IgYGFgIGBocmVmYCwgYGltZ2AgYHNyY2AsXG4gICAgICAgICAgICAgICAgLy8gYW5kIGBzb3VyY2VgIGBzcmNgIGF0dHJpYnV0ZXMsIG90aGVyd2lzZSBwYXNzIG9udG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCBgWFNTLnNhZmVBdHRyVmFsdWVgIG1ldGhvZC5cbiAgICAgICAgICAgICAgICBpZiAoKHRhZyA9PT0gXCJhXCIgJiYgbmFtZSA9PT0gXCJocmVmXCIpIHx8XG4gICAgICAgICAgICAgICAgICAgICgodGFnID09PSBcImltZ1wiIHx8IHRhZyA9PT0gXCJzb3VyY2VcIikgJiYgbmFtZSA9PT0gXCJzcmNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNhbml0aXplVXJsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpYiQxLmV4cG9ydHMuc2FmZUF0dHJWYWx1ZSh0YWcsIG5hbWUsIHZhbHVlLCBjc3NGaWx0ZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZW50aXR5TWFwID0ge1xuICAgICAgICAgICAgXCImXCI6IFwiJiN4Mzg7XCIsXG4gICAgICAgICAgICBcIjxcIjogXCImI3gzQztcIixcbiAgICAgICAgICAgIFwiPlwiOiBcIiYjeDNFO1wiLFxuICAgICAgICAgICAgJ1wiJzogXCImI3gyMjtcIixcbiAgICAgICAgICAgIFwiJ1wiOiBcIiYjeDI3O1wiLFxuICAgICAgICAgICAgXCIvXCI6IFwiJiN4MkY7XCIsXG4gICAgICAgIH07XG4gICAgICAgIHZhciB4c3NGaWx0ZXJPcHRpb25zO1xuICAgICAgICBpZiAoZmlsdGVyT3B0aW9ucyAmJiAhZXh0ZW5kRGVmYXVsdHMpIHtcbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBkZWZhdWx0c1xuICAgICAgICAgICAgeHNzRmlsdGVyT3B0aW9ucyA9IGZpbHRlck9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsdGVyT3B0aW9ucyAmJiBleHRlbmREZWZhdWx0cykge1xuICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBkZWZhdWx0c1xuICAgICAgICAgICAgeHNzRmlsdGVyT3B0aW9ucyA9IE9iamVjdC5jcmVhdGUodGhpcy5hcmNnaXNGaWx0ZXJPcHRpb25zKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlck9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwid2hpdGVMaXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSB3aGl0ZWxpc3QgYnkgY29uY2F0ZW5hdGluZyBhcnJheXNcbiAgICAgICAgICAgICAgICAgICAgeHNzRmlsdGVyT3B0aW9ucy53aGl0ZUxpc3QgPSBfdGhpcy5fZXh0ZW5kT2JqZWN0T2ZBcnJheXMoW1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXJjZ2lzV2hpdGVMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9ucy53aGl0ZUxpc3QgfHwge30sXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeHNzRmlsdGVyT3B0aW9uc1trZXldID0gZmlsdGVyT3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gT25seSB1c2UgdGhlIGRlZmF1bHRzXG4gICAgICAgICAgICB4c3NGaWx0ZXJPcHRpb25zID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmFyY2dpc0ZpbHRlck9wdGlvbnMpO1xuICAgICAgICAgICAgeHNzRmlsdGVyT3B0aW9ucy53aGl0ZUxpc3QgPSB0aGlzLmFyY2dpc1doaXRlTGlzdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhzc0ZpbHRlck9wdGlvbnMgPSB4c3NGaWx0ZXJPcHRpb25zO1xuICAgICAgICAvLyBNYWtlIHRoaXMgcmVhZGFibGUgdG8gdGVzdHNcbiAgICAgICAgdGhpcy5feHNzRmlsdGVyID0gbmV3IGxpYiQxLmV4cG9ydHMuRmlsdGVyWFNTKHhzc0ZpbHRlck9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYW5pdGl6ZXMgdmFsdWUgdG8gcmVtb3ZlIGludmFsaWQgSFRNTCB0YWdzLlxuICAgICAqXG4gICAgICogTm90ZTogSWYgdGhlIHZhbHVlIHBhc3NlZCBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgSlNPTiBkYXRhIHR5cGUgKFN0cmluZyxcbiAgICAgKiBOdW1iZXIsIEpTT04gT2JqZWN0LCBBcnJheSwgQm9vbGVhbiwgb3IgbnVsbCksIHRoZSB2YWx1ZSB3aWxsIGJlIG51bGxpZmllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2FuaXRpemUuXG4gICAgICogQHJldHVybnMge2FueX0gVGhlIHNhbml0aXplZCB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyb2YgU2FuaXRpemVyXG4gICAgICovXG4gICAgU2FuaXRpemVyLnByb3RvdHlwZS5zYW5pdGl6ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZSkgfHwgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3hzc0ZpbHRlci5wcm9jZXNzKHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlcmF0ZU92ZXJPYmplY3QodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hbGxvd1VuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2FuaXRpemVzIGEgVVJMIHN0cmluZyBmb2xsb3dpbmcgdGhlIGFsbG93ZWQgcHJvdG9jb2xzIGFuZCBzYW5pdGl6YXRpb24gcnVsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIFVSTCB0byBzYW5pdGl6ZS5cbiAgICAgKiBAcGFyYW0ge3sgaXNQcm90b2NvbFJlcXVpcmVkOiBib29sZWFuIH19IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBVUkwgY2hlY2tpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHNhbml0aXplZCBVUkwgaWYgaXQncyB2YWxpZCwgb3IgYW4gZW1wdHkgc3RyaW5nIGlmIHRoZSBVUkwgaXMgaW52YWxpZC5cbiAgICAgKi9cbiAgICBTYW5pdGl6ZXIucHJvdG90eXBlLnNhbml0aXplVXJsID0gZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSA9IChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSkuaXNQcm90b2NvbFJlcXVpcmVkLCBpc1Byb3RvY29sUmVxdWlyZWQgPSBfYSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9hO1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSB0aGlzLl90cmltKHZhbHVlLnN1YnN0cmluZygwLCB2YWx1ZS5pbmRleE9mKFwiOlwiKSkpO1xuICAgICAgICB2YXIgaXNSb290VXJsID0gdmFsdWUgPT09ICcvJztcbiAgICAgICAgdmFyIGlzVXJsRnJhZ21lbnQgPSAvXiMvLnRlc3QodmFsdWUpO1xuICAgICAgICB2YXIgaXNWYWxpZFByb3RvY29sID0gcHJvdG9jb2wgJiYgdGhpcy5hbGxvd2VkUHJvdG9jb2xzLmluZGV4T2YocHJvdG9jb2wudG9Mb3dlckNhc2UoKSkgPiAtMTtcbiAgICAgICAgaWYgKGlzUm9vdFVybCB8fCBpc1VybEZyYWdtZW50IHx8IGlzVmFsaWRQcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpYiQxLmV4cG9ydHMuZXNjYXBlQXR0clZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByb3RvY29sICYmICFpc1Byb3RvY29sUmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsaWIkMS5leHBvcnRzLmVzY2FwZUF0dHJWYWx1ZShcImh0dHBzOi8vXCIuY29uY2F0KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTYW5pdGl6ZXMgYW4gSFRNTCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSB0YWduYW1lIG9mIHRoZSBIVE1MIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBUaGUgYXR0cmlidXRlIG5hbWUgb2YgdGhlIEhUTUwgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHJhdyB2YWx1ZSB0byBiZSB1c2VkIGZvciB0aGUgSFRNTCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtYU1MuSUNTU0ZpbHRlcn0gW2Nzc0ZpbHRlcl0gVGhlIENTUyBmaWx0ZXIgdG8gYmUgdXNlZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc2FuaXRpemVkIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyb2YgU2FuaXRpemVyXG4gICAgICovXG4gICAgU2FuaXRpemVyLnByb3RvdHlwZS5zYW5pdGl6ZUhUTUxBdHRyaWJ1dGUgPSBmdW5jdGlvbiAodGFnLCBhdHRyaWJ1dGUsIHZhbHVlLCBjc3NGaWx0ZXIpIHtcbiAgICAgICAgLy8gdXNlIHRoZSBjdXN0b20gc2FmZUF0dHJWYWx1ZSBmdW5jdGlvbiBpZiBwcm92aWRlZFxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueHNzRmlsdGVyT3B0aW9ucy5zYWZlQXR0clZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhzc0ZpbHRlck9wdGlvbnMuc2FmZUF0dHJWYWx1ZSh0YWcsIGF0dHJpYnV0ZSwgdmFsdWUsIFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBzYWZlQXR0clZhbHVlIGRvZXMgaGFuZGxlIHVuZGVmaW5lZCBjc3NGaWx0ZXJcbiAgICAgICAgICAgIGNzc0ZpbHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXJ3aXNlIHVzZSB0aGUgZGVmYXVsdFxuICAgICAgICAvLyBAdHMtaWdub3JlIHNhZmVBdHRyVmFsdWUgZG9lcyBoYW5kbGUgdW5kZWZpbmVkIGNzc0ZpbHRlclxuICAgICAgICByZXR1cm4gbGliJDEuZXhwb3J0cy5zYWZlQXR0clZhbHVlKHRhZywgYXR0cmlidXRlLCB2YWx1ZSwgY3NzRmlsdGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHZhbHVlIG9ubHkgY29udGFpbnMgdmFsaWQgSFRNTC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBUaGUgdmFsdWUgdG8gdmFsaWRhdGUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFNhbml0aXplclxuICAgICAqL1xuICAgIFNhbml0aXplci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHNhbml0aXplZCA9IHRoaXMuc2FuaXRpemUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNWYWxpZDogdmFsdWUgPT09IHNhbml0aXplZCxcbiAgICAgICAgICAgIHNhbml0aXplZDogc2FuaXRpemVkLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnMsIGAmIDwgPiBcXFwiICcgL2AgdG8gdGhlaXIgaGV4YWRlY2ltYWwgSFRNTCBlbnRpdHkgY29kZS5cbiAgICAgKiBFeGFtcGxlOiBcIiZtaWRkb3Q7XCIgPT4gXCImI3gzODttaWRkb3Q7XCJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZW5jb2RlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZyB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyb2YgU2FuaXRpemVyXG4gICAgICovXG4gICAgU2FuaXRpemVyLnByb3RvdHlwZS5lbmNvZGVIVE1MID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1smPD5cIidcXC9dL2csIGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuX2VudGl0eU1hcFtzXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGFsbCBub24tYWxwaGFudW1lcmljIEFTQ0lJIGNoYXJhY3RlcnMgdG8gdGhlaXIgaGV4YWRlY2ltYWwgSFRNTCBlbnRpdHkgY29kZXMuXG4gICAgICogRXhhbXBsZTogXCJhbGVydChkb2N1bWVudC5jb29raWUpXCIgPT4gXCJhbGVydCYjeDI4O2RvY3VtZW50JiN4MmU7Y29va2llJiN4Mjk7XCJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZW5jb2RlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZyB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyb2YgU2FuaXRpemVyXG4gICAgICovXG4gICAgU2FuaXRpemVyLnByb3RvdHlwZS5lbmNvZGVBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGFscGhhbnVtZXJpY1JFID0gL15bYS16QS1aMC05XSQvO1xuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5yZXBsYWNlKC9bXFx4MDAtXFx4RkZdL2csIGZ1bmN0aW9uIChjLCBpZHgpIHtcbiAgICAgICAgICAgIHJldHVybiAhYWxwaGFudW1lcmljUkUudGVzdChjKVxuICAgICAgICAgICAgICAgID8gXCImI3hcIi5jb25jYXQoTnVtYmVyKHZhbHVlLmNoYXJDb2RlQXQoaWR4KSkudG9TdHJpbmcoMTYpLCBcIjtcIilcbiAgICAgICAgICAgICAgICA6IGM7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXh0ZW5kcyBhbiBvYmplY3Qgb2YgYXJyYXlzIGJ5IGJ5IGNvbmNhdGVuYXRpbmcgYXJyYXlzIG9mIHRoZSBzYW1lIG9iamVjdFxuICAgICAqIGtleXMuIElmIHRoZSBpZiB0aGUgcHJldmlvdXMga2V5J3MgdmFsdWUgaXMgbm90IGFuIGFycmF5LCB0aGUgbmV4dCBrZXknc1xuICAgICAqIHZhbHVlIHdpbGwgcmVwbGFjZSB0aGUgcHJldmlvdXMga2V5LiBUaGlzIG1ldGhvZCBpcyB1c2VkIGZvciBleHRlbmRpbmcgdGhlXG4gICAgICogd2hpdGVMaXN0IGluIHRoZSBYU1MgZmlsdGVyIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXk8e30+fSBvYmplY3RzIEFuIGFycmF5IG9mIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge3t9fSBUaGUgZXh0ZW5kZWQgb2JqZWN0LlxuICAgICAqIEBtZW1iZXJvZiBTYW5pdGl6ZXJcbiAgICAgKi9cbiAgICBTYW5pdGl6ZXIucHJvdG90eXBlLl9leHRlbmRPYmplY3RPZkFycmF5cyA9IGZ1bmN0aW9uIChvYmplY3RzKSB7XG4gICAgICAgIHZhciBmaW5hbE9iaiA9IHt9O1xuICAgICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba2V5XSkgJiYgQXJyYXkuaXNBcnJheShmaW5hbE9ialtrZXldKSkge1xuICAgICAgICAgICAgICAgICAgICBmaW5hbE9ialtrZXldID0gZmluYWxPYmpba2V5XS5jb25jYXQob2JqW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmluYWxPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZpbmFsT2JqO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZSBvdmVyIGEgcGxhaW4gb2JqZWN0IG9yIGFycmF5IHRvIGRlZXBseSBzYW5pdGl6ZSBlYWNoIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsob2JqZWN0IHwgbnVsbCl9IFRoZSBzYW5pdGl6ZWQgb2JqZWN0LlxuICAgICAqIEBtZW1iZXJvZiBTYW5pdGl6ZXJcbiAgICAgKi9cbiAgICBTYW5pdGl6ZXIucHJvdG90eXBlLl9pdGVyYXRlT3Zlck9iamVjdCA9IGZ1bmN0aW9uIChvYmosIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBoYXNDaGFuZ2VkXzEgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VkT2JqID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWRPYmogPSBvYmoucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGlvbiA9IF90aGlzLnZhbGlkYXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24uaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXYuY29uY2F0KFt2YWx1ZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZF8xID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LmNvbmNhdChbdmFsaWRhdGlvbi5zYW5pdGl6ZWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc1BsYWluT2JqZWN0KG9iaikpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hbGxvd1VuZGVmaW5lZCAmJiB0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICAgICAgY2hhbmdlZE9iaiA9IGtleXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uID0gX3RoaXMudmFsaWRhdGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWRfMSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2W2tleV0gPSB2YWxpZGF0aW9uLnNhbml0aXplZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZF8xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWRPYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUcmltIHdoaXRlc3BhY2UgZnJvbSB0aGUgc3RhcnQgYW5kIGVuZHMgb2YgYSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIFNhbml0aXplci5wcm90b3R5cGUuX3RyaW0gPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgVGhpcyBpcyB1c2VkIGJ5IEplc3QsXG4gICAgICAgIC8vIGJ1dCBUeXBlU2NyaXB0IGVycm9ycyBzaW5jZSBpdCBhc3N1bWVzIGB0cmltYCBpcyBhbHdheXMgYXZhaWxhYmxlLlxuICAgICAgICByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltXG4gICAgICAgICAgICA/IHZhbC50cmltKClcbiAgICAgICAgICAgIDogdmFsLnJlcGxhY2UoLyheXFxzKil8KFxccyokKS9nLCBcIlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBTYW5pdGl6ZXI7XG59KCkpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgbiQ2PW5ldyBNYXA7ZnVuY3Rpb24gdCQ0KCl7biQ2LmNsZWFyKCk7fWZ1bmN0aW9uIGUkOCh0KXtyZXR1cm4gbiQ2LmdldCh0KX1mdW5jdGlvbiBjJDQodCxlKXtuJDYuc2V0KHQsZSk7fWZ1bmN0aW9uIG8kNCh0KXtuJDYuZGVsZXRlKHQpO31cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGYkMT1zJEUuZ2V0TG9nZ2VyKFwiZXNyaS53aWRnZXRzLnN1cHBvcnQud2lkZ2V0VXRpbHNcIik7ZnVuY3Rpb24gbSQxKGUpe2NvbnN0IG49dCRsLmFjcXVpcmUoKTtmb3IobGV0IHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXtjb25zdCBlPWFyZ3VtZW50c1t0XSxyPXR5cGVvZiBlO2lmKFwic3RyaW5nXCI9PT1yKW4ucHVzaChlKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkpbi5wdXNoLmFwcGx5KG4sZSk7ZWxzZSBpZihcIm9iamVjdFwiPT09cilmb3IoY29uc3QgdCBpbiBlKWVbdF0mJm4ucHVzaCh0KTt9Y29uc3Qgcj1uLmpvaW4oXCIgXCIpO3JldHVybiB0JGwucmVsZWFzZShuKSxyfSgoKT0+e2NvbnN0IGU9bmV3IE1hcCx0PW5ldyBSZXNpemVPYnNlcnZlcigodD0+e3QkNCgpO2Zvcihjb25zdCBuIG9mIHQpZS5nZXQobi50YXJnZXQpPy4obik7fSkpLHI9KHIsaSxvKT0+KGUuaGFzKHIpJiZmJDEuZXJyb3IoXCJBbHJlYWR5IG9ic2VydmluZyBlbGVtZW50XCIsciksZS5zZXQocixpKSx0Lm9ic2VydmUocixvKSxlJHcoKCgpPT57dC51bm9ic2VydmUociksZS5kZWxldGUocik7fSkpKTtyZXR1cm4gKGUsdCxuKT0+e2xldCBzPW51bGw7cmV0dXJuIGwkNCgoKCk9PlwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSgpOmUpLChlPT57cz8ucmVtb3ZlKCksZSYmKHM9cihlLHQsbikpO30pLHckMSl9fSkoKTtmdW5jdGlvbiBMJDEoZSl7Y29uc3QgdD1cImRhdGEtbm9kZS1yZWZcIjt0aGlzW2UuZ2V0QXR0cmlidXRlKHQpXT1lO31jb25zdCB5JDE9W1wiZGRcIixcImRsXCIsXCJkdFwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiLFwic3ViXCIsXCJzdXBcIiwuLi5bXCJhbmltYXRlXCIsXCJhbmltYXRldHJhbnNmb3JtXCIsXCJjaXJjbGVcIixcImNsaXBwYXRoXCIsXCJkZWZzXCIsXCJlbGxpcHNlXCIsXCJnXCIsXCJpbWFnZVwiLFwibGluZVwiLFwibGluZWFyZ3JhZGllbnRcIixcIm1hcmtlclwiLFwibWFza1wiLFwicGF0aFwiLFwicGF0dGVyblwiLFwicG9seWdvblwiLFwicG9seWxpbmVcIixcInJhZGlhbGdyYWRpZW50XCIsXCJyZWN0XCIsXCJzdG9wXCIsXCJzdmdcIixcInN3aXRjaFwiLFwic3ltYm9sXCIsXCJ0ZXh0XCIsXCJ0ZXh0cGF0aFwiLFwidHNwYW5cIixcInVzZVwiXV0sRSQxPXkkMS5yZWR1Y2UoKChlLHQpPT4oZVt0XT1bXSxlKSkse30pLEEkMj1bXCJhbGlnblwiLFwiYWxpbmtcIixcImFsdFwiLFwiYmdjb2xvclwiLFwiYm9yZGVyXCIsXCJjZWxscGFkZGluZ1wiLFwiY2VsbHNwYWNpbmdcIixcImNsYXNzXCIsXCJjb2xvclwiLFwiY29sc1wiLFwiY29sc3BhblwiLFwiY29vcmRzXCIsXCJkXCIsXCJkaXJcIixcImZhY2VcIixcImhlaWdodFwiLFwiaHNwYWNlXCIsXCJpc21hcFwiLFwibGFuZ1wiLFwibWFyZ2luaGVpZ2h0XCIsXCJtYXJnaW53aWR0aFwiLFwibXVsdGlwbGVcIixcIm5vaHJlZlwiLFwibm9yZXNpemVcIixcIm5vc2hhZGVcIixcIm5vd3JhcFwiLFwicmVmXCIsXCJyZWxcIixcInJldlwiLFwicm93c1wiLFwicm93c3BhblwiLFwic2Nyb2xsaW5nXCIsXCJzaGFwZVwiLFwic3BhblwiLFwic3VtbWFyeVwiLFwidGFiaW5kZXhcIixcInRpdGxlXCIsXCJ1c2VtYXBcIixcInZhbGlnblwiLFwidmFsdWVcIixcInZsaW5rXCIsXCJ2c3BhY2VcIixcIndpZHRoXCJdLGokMT1uZXcgU2FuaXRpemVyKHt3aGl0ZUxpc3Q6RSQxLG9uVGFnQXR0cjooZSx0LG4pPT57Y29uc3Qgcj1gJHt0fT1cIiR7bn1cImA7aWYoQSQyLmluY2x1ZGVzKHQpKXJldHVybiByfSxzdHJpcElnbm9yZVRhZzohMCxzdHJpcElnbm9yZVRhZ0JvZHk6W1wic2NyaXB0XCIsXCJzdHlsZVwiXX0sITApO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgdCQzPVwiaHR0cDovL3d3dy53My5vcmcvXCIsciQ0PWAke3QkM30yMDAwL3N2Z2AsbyQzPWAke3QkM30xOTk5L3hsaW5rYDtsZXQgaSQzPVtdLG4kNT0oZSx0KT0+e2xldCByPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKCh0PT57clt0XT1lW3RdO30pKSx0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChlPT57cltlXT10W2VdO30pKSxyfSxzJDU9KGUsdCk9PmUudm5vZGVTZWxlY3Rvcj09PXQudm5vZGVTZWxlY3RvciYmKGUucHJvcGVydGllcyYmdC5wcm9wZXJ0aWVzP2UucHJvcGVydGllcy5rZXk9PT10LnByb3BlcnRpZXMua2V5JiZlLnByb3BlcnRpZXMuYmluZD09PXQucHJvcGVydGllcy5iaW5kOiFlLnByb3BlcnRpZXMmJiF0LnByb3BlcnRpZXMpLGwkMT1lPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgdmFsdWVzIG11c3QgYmUgc3RyaW5nc1wiKX0scCQ0PShlLHQscik9PntpZihcIlwiIT09dC52bm9kZVNlbGVjdG9yKWZvcihsZXQgbz1yO288ZS5sZW5ndGg7bysrKWlmKHMkNShlW29dLHQpKXJldHVybiBvO3JldHVybiAtMX0sZCQ1PShlLHQscixvKT0+e2xldCBpPWVbdF07aWYoXCJcIj09PWkudm5vZGVTZWxlY3RvcilyZXR1cm47bGV0IG49aS5wcm9wZXJ0aWVzO2lmKCEobj92b2lkIDA9PT1uLmtleT9uLmJpbmQ6bi5rZXk6dm9pZCAwKSlmb3IobGV0IGw9MDtsPGUubGVuZ3RoO2wrKylpZihsIT09dCl7bGV0IHQ9ZVtsXTtpZihzJDUodCxpKSl0aHJvdyBuZXcgRXJyb3IoYCR7ci52bm9kZVNlbGVjdG9yfSBoYWQgYSAke2kudm5vZGVTZWxlY3Rvcn0gY2hpbGQgJHtcImFkZGVkXCI9PT1vP286XCJyZW1vdmVkXCJ9LCBidXQgdGhlcmUgaXMgbm93IG1vcmUgdGhhbiBvbmUuIFlvdSBtdXN0IGFkZCB1bmlxdWUga2V5IHByb3BlcnRpZXMgdG8gbWFrZSB0aGVtIGRpc3Rpbmd1aXNoYWJsZS5gKX19LGEkMj1lPT57aWYoZS5wcm9wZXJ0aWVzKXtsZXQgdD1lLnByb3BlcnRpZXMuZW50ZXJBbmltYXRpb247dCYmdChlLmRvbU5vZGUsZS5wcm9wZXJ0aWVzKTt9fSxmPVtdLGMkMz0hMSx1JDE9ZT0+eyhlLmNoaWxkcmVufHxbXSkuZm9yRWFjaCh1JDEpLGUucHJvcGVydGllcyYmZS5wcm9wZXJ0aWVzLmFmdGVyUmVtb3ZlZCYmZS5wcm9wZXJ0aWVzLmFmdGVyUmVtb3ZlZC5hcHBseShlLnByb3BlcnRpZXMuYmluZHx8ZS5wcm9wZXJ0aWVzLFtlLmRvbU5vZGVdKTt9LG09KCk9PntjJDM9ITEsZi5mb3JFYWNoKHUkMSksZi5sZW5ndGg9MDt9LGgkMT1lPT57Zi5wdXNoKGUpLGMkM3x8KGMkMz0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInJlcXVlc3RJZGxlQ2FsbGJhY2tcImluIHdpbmRvdz93aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhtLHt0aW1lb3V0OjE2fSk6c2V0VGltZW91dChtLDE2KSk7fSx2PWU9PntsZXQgdD1lLmRvbU5vZGU7aWYoZS5wcm9wZXJ0aWVzKXtsZXQgcj1lLnByb3BlcnRpZXMuZXhpdEFuaW1hdGlvbjtpZihyKXt0LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCI7bGV0IG89KCk9Pnt0LnBhcmVudE5vZGUmJih0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksaCQxKGUpKTt9O3JldHVybiB2b2lkIHIodCxvLGUucHJvcGVydGllcyl9fXQucGFyZW50Tm9kZSYmKHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxoJDEoZSkpO30seT0odCxpLG4pPT57aWYoIWkpcmV0dXJuO2xldCBzPW4uZXZlbnRIYW5kbGVySW50ZXJjZXB0b3IscD1PYmplY3Qua2V5cyhpKSxkPXAubGVuZ3RoO2ZvcihsZXQgYT0wO2E8ZDthKyspe2xldCBkPXBbYV0sZj1pW2RdO2lmKFwiY2xhc3NOYW1lXCI9PT1kKXRocm93IG5ldyBFcnJvcignUHJvcGVydHkgXCJjbGFzc05hbWVcIiBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgXCJjbGFzc1wiLicpO2lmKFwiY2xhc3NcIj09PWQpayh0LGYsITApO2Vsc2UgaWYoXCJjbGFzc2VzXCI9PT1kKXtsZXQgZT1PYmplY3Qua2V5cyhmKSxyPWUubGVuZ3RoO2ZvcihsZXQgbz0wO288cjtvKyspe2xldCByPWVbb107ZltyXSYmdC5jbGFzc0xpc3QuYWRkKHIpO319ZWxzZSBpZihcInN0eWxlc1wiPT09ZCl7bGV0IGU9T2JqZWN0LmtleXMoZikscj1lLmxlbmd0aDtmb3IobGV0IG89MDtvPHI7bysrKXtsZXQgcj1lW29dLGk9ZltyXTtpJiYobCQxKGkpLG4uc3R5bGVBcHBseWVyKHQscixpKSk7fX1lbHNlIGlmKFwia2V5XCIhPT1kJiZudWxsIT1mKXtsZXQgbD10eXBlb2YgZjtcImZ1bmN0aW9uXCI9PT1sPygwPT09ZC5sYXN0SW5kZXhPZihcIm9uXCIsMCkmJihzJiYoZj1zKGQsZix0LGkpKSxcIm9uaW5wdXRcIj09PWQmJmZ1bmN0aW9uKCl7bGV0IGU9ZjtmPWZ1bmN0aW9uKHQpe2UuYXBwbHkodGhpcyxbdF0pLHQudGFyZ2V0W1wib25pbnB1dC12YWx1ZVwiXT10LnRhcmdldC52YWx1ZTt9O30oKSksdFtkXT1mKTpuLm5hbWVzcGFjZT09PXIkND9cImhyZWZcIj09PWQ/dC5zZXRBdHRyaWJ1dGVOUyhvJDMsZCxmKTp0LnNldEF0dHJpYnV0ZShkLGYpOlwic3RyaW5nXCI9PT1sJiZcInZhbHVlXCIhPT1kP1wiaW5uZXJIVE1MXCI9PT1kP3RbZF09aiQxLnNhbml0aXplKGYpOmcodCkmJmQgaW4gdD90W2RdPWY6dC5zZXRBdHRyaWJ1dGUoZCxmKTp0W2RdPWY7fX19O2Z1bmN0aW9uIGcoZSl7aWYoIShlIGluc3RhbmNlb2YgRWxlbWVudCYmZS50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKSkpcmV0dXJuICExO2NvbnN0IHQ9d2luZG93LmN1c3RvbUVsZW1lbnRzLmdldChlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7cmV0dXJuICEhdCYmZSBpbnN0YW5jZW9mIHR9bGV0IE4sYiQxPShlLHQscik9PntpZih0KWZvcihsZXQgbyBvZiB0KXgkMShvLGUsdm9pZCAwLHIpO30sdz0oZSx0LHIpPT57YiQxKGUsdC5jaGlsZHJlbixyKSx0LnRleHQmJihlLnRleHRDb250ZW50PXQudGV4dCkseShlLHQucHJvcGVydGllcyxyKSx0LnByb3BlcnRpZXMmJnQucHJvcGVydGllcy5hZnRlckNyZWF0ZSYmdC5wcm9wZXJ0aWVzLmFmdGVyQ3JlYXRlLmFwcGx5KHQucHJvcGVydGllcy5iaW5kfHx0LnByb3BlcnRpZXMsW2Uscix0LnZub2RlU2VsZWN0b3IsdC5wcm9wZXJ0aWVzLHQuY2hpbGRyZW5dKTt9LHgkMT0oZSx0LG8saSk9PntsZXQgcyxsPTAscD1lLnZub2RlU2VsZWN0b3IsZD10Lm93bmVyRG9jdW1lbnQ7aWYoXCJcIj09PXApcz1lLmRvbU5vZGU9ZC5jcmVhdGVUZXh0Tm9kZShlLnRleHQpLHZvaWQgMCE9PW8/dC5pbnNlcnRCZWZvcmUocyxvKTp0LmFwcGVuZENoaWxkKHMpO2Vsc2Uge2ZvcihsZXQgYT0wO2E8PXAubGVuZ3RoOysrYSl7bGV0IGY9cC5jaGFyQXQoYSk7aWYoYT09PXAubGVuZ3RofHxcIi5cIj09PWZ8fFwiI1wiPT09Zil7bGV0IGY9cC5jaGFyQXQobC0xKSxjPXAuc2xpY2UobCxhKTtcIi5cIj09PWY/cy5jbGFzc0xpc3QuYWRkKGMpOlwiI1wiPT09Zj9zLmlkPWM6KFwic3ZnXCI9PT1jJiYoaT1uJDUoaSx7bmFtZXNwYWNlOnIkNH0pKSx2b2lkIDAhPT1pLm5hbWVzcGFjZT9zPWUuZG9tTm9kZT1kLmNyZWF0ZUVsZW1lbnROUyhpLm5hbWVzcGFjZSxjKToocz1lLmRvbU5vZGU9ZS5kb21Ob2RlfHxkLmNyZWF0ZUVsZW1lbnQoYyksXCJpbnB1dFwiPT09YyYmZS5wcm9wZXJ0aWVzJiZ2b2lkIDAhPT1lLnByb3BlcnRpZXMudHlwZSYmcy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsZS5wcm9wZXJ0aWVzLnR5cGUpKSx2b2lkIDAhPT1vP3QuaW5zZXJ0QmVmb3JlKHMsbyk6cy5wYXJlbnROb2RlIT09dCYmdC5hcHBlbmRDaGlsZChzKSksbD1hKzE7fX13KHMsZSxpKTt9fSxrPShlLHQscik9Pnt0JiZ0LnNwbGl0KFwiIFwiKS5mb3JFYWNoKCh0PT57dCYmZS5jbGFzc0xpc3QudG9nZ2xlKHQscik7fSkpO30sQSQxPSh0LGksbixzKT0+e2lmKCFuKXJldHVybjtsZXQgcD0hMSxkPU9iamVjdC5rZXlzKG4pLGE9ZC5sZW5ndGg7Zm9yKGxldCBmPTA7ZjxhO2YrKyl7bGV0IGE9ZFtmXSxjPW5bYV0sdT1pW2FdO2lmKFwiY2xhc3NcIj09PWEpdSE9PWMmJihrKHQsdSwhMSksayh0LGMsITApKTtlbHNlIGlmKFwiY2xhc3Nlc1wiPT09YSl7bGV0IGU9dC5jbGFzc0xpc3Qscj1PYmplY3Qua2V5cyhjKSxvPXIubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8bzt0Kyspe2xldCBvPXJbdF0saT0hIWNbb107aSE9PSEhdVtvXSYmKHA9ITAsaT9lLmFkZChvKTplLnJlbW92ZShvKSk7fX1lbHNlIGlmKFwic3R5bGVzXCI9PT1hKXtsZXQgZT1PYmplY3Qua2V5cyhjKSxyPWUubGVuZ3RoO2ZvcihsZXQgbz0wO288cjtvKyspe2xldCByPWVbb10saT1jW3JdO2khPT11W3JdJiYocD0hMCxpPyhsJDEoaSkscy5zdHlsZUFwcGx5ZXIodCxyLGkpKTpzLnN0eWxlQXBwbHllcih0LHIsXCJcIikpO319ZWxzZSBpZihjfHxcInN0cmluZ1wiIT10eXBlb2YgdXx8KGM9XCJcIiksXCJ2YWx1ZVwiPT09YSl7bGV0IGU9dFthXTtlIT09YyYmKHRbXCJvbmlucHV0LXZhbHVlXCJdP2U9PT10W1wib25pbnB1dC12YWx1ZVwiXTpjIT09dSkmJih0W2FdPWMsdFtcIm9uaW5wdXQtdmFsdWVcIl09dm9pZCAwKSxjIT09dSYmKHA9ITApO31lbHNlIGlmKGMhPT11KXtsZXQgaT10eXBlb2YgYztcImZ1bmN0aW9uXCI9PT1pJiZzLmV2ZW50SGFuZGxlckludGVyY2VwdG9yfHwocy5uYW1lc3BhY2U9PT1yJDQ/XCJocmVmXCI9PT1hP3Quc2V0QXR0cmlidXRlTlMobyQzLGEsYyk6dC5zZXRBdHRyaWJ1dGUoYSxjKTpcInN0cmluZ1wiPT09aT9cImlubmVySFRNTFwiPT09YT90W2FdPWokMS5zYW5pdGl6ZShjKTpcInJvbGVcIj09PWEmJlwiXCI9PT1jP3QucmVtb3ZlQXR0cmlidXRlKGEpOmcodCkmJmEgaW4gdD90W2FdPWM6dC5zZXRBdHRyaWJ1dGUoYSxjKTp0W2FdIT09YyYmKHRbYV09YykscD0hMCk7fX1yZXR1cm4gcH0sUz0oZSx0LHIsbyxuKT0+e2lmKHI9PT1vKXJldHVybiAhMTtvPW98fGkkMztsZXQgbCxmPShyPXJ8fGkkMykubGVuZ3RoLGM9by5sZW5ndGgsdT0wLG09MCxoPSExO2Zvcig7bTxjOyl7bGV0IGk9dTxmP3JbdV06dm9pZCAwLGM9b1ttXTtpZih2b2lkIDAhPT1pJiZzJDUoaSxjKSloPU4oaSxjLG4pfHxoLHUrKztlbHNlIHtsZXQgaT1wJDQocixjLHUrMSk7aWYoaT49MCl7Zm9yKGw9dTtsPGk7bCsrKXYocltsXSksZCQ1KHIsbCxlLFwicmVtb3ZlZFwiKTtoPU4ocltpXSxjLG4pfHxoLHU9aSsxO31lbHNlIHgkMShjLHQsdTxmP3JbdV0uZG9tTm9kZTp2b2lkIDAsbiksYSQyKGMpLGQkNShvLG0sZSxcImFkZGVkXCIpO31tKys7fWlmKGY+dSlmb3IobD11O2w8ZjtsKyspdihyW2xdKSxkJDUocixsLGUsXCJyZW1vdmVkXCIpO3JldHVybiBofTtOPShlLHQsbyk9PntsZXQgaT1lLmRvbU5vZGUscz0hMTtpZihlPT09dClyZXR1cm4gITE7bGV0IGw9ITE7aWYoXCJcIj09PXQudm5vZGVTZWxlY3Rvcil7aWYodC50ZXh0IT09ZS50ZXh0KXtsZXQgZT1pLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodC50ZXh0KTtyZXR1cm4gaS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlLGkpLHQuZG9tTm9kZT1lLHM9ITAsc310LmRvbU5vZGU9aTt9ZWxzZSAwPT09dC52bm9kZVNlbGVjdG9yLmxhc3RJbmRleE9mKFwic3ZnXCIsMCkmJihvPW4kNShvLHtuYW1lc3BhY2U6ciQ0fSkpLGUudGV4dCE9PXQudGV4dCYmKGw9ITAsdm9pZCAwPT09dC50ZXh0P2kucmVtb3ZlQ2hpbGQoaS5maXJzdENoaWxkKTppLnRleHRDb250ZW50PXQudGV4dCksdC5kb21Ob2RlPWksbD1TKHQsaSxlLmNoaWxkcmVuLHQuY2hpbGRyZW4sbyl8fGwsbD1BJDEoaSxlLnByb3BlcnRpZXMsdC5wcm9wZXJ0aWVzLG8pfHxsLHQucHJvcGVydGllcyYmdC5wcm9wZXJ0aWVzLmFmdGVyVXBkYXRlJiZ0LnByb3BlcnRpZXMuYWZ0ZXJVcGRhdGUuYXBwbHkodC5wcm9wZXJ0aWVzLmJpbmR8fHQucHJvcGVydGllcyxbaSxvLHQudm5vZGVTZWxlY3Rvcix0LnByb3BlcnRpZXMsdC5jaGlsZHJlbl0pO3JldHVybiBsJiZ0LnByb3BlcnRpZXMmJnQucHJvcGVydGllcy51cGRhdGVBbmltYXRpb24mJnQucHJvcGVydGllcy51cGRhdGVBbmltYXRpb24oaSx0LnByb3BlcnRpZXMsZS5wcm9wZXJ0aWVzKSxzfTtsZXQgQyQxPShlLHQpPT4oe2dldExhc3RSZW5kZXI6KCk9PmUsdXBkYXRlOnI9PntpZihlLnZub2RlU2VsZWN0b3IhPT1yLnZub2RlU2VsZWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHNlbGVjdG9yIGZvciB0aGUgcm9vdCBWTm9kZSBtYXkgbm90IGJlIGNoYW5nZWQuIChjb25zaWRlciB1c2luZyBkb20ubWVyZ2UgYW5kIGFkZCBvbmUgZXh0cmEgbGV2ZWwgdG8gdGhlIHZpcnR1YWwgRE9NKVwiKTtsZXQgbz1lO2U9cixOKG8scix0KTt9LGRvbU5vZGU6ZS5kb21Ob2RlfSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBwJDM9e25hbWVzcGFjZTp2b2lkIDAscGVyZm9ybWFuY2VMb2dnZXI6KCk9Pnt9LGV2ZW50SGFuZGxlckludGVyY2VwdG9yOnZvaWQgMCxzdHlsZUFwcGx5ZXI6KGUscixvKT0+e1wiLVwiPT09ci5jaGFyQXQoMCk/ZS5zdHlsZS5zZXRQcm9wZXJ0eShyLG8pOmUuc3R5bGVbcl09bzt9fTtsZXQgZCQ0PXI9Pm4kNShwJDMsciksbiQ0PXtjcmVhdGU6KGUsdCk9Pih0PWQkNCh0KSx4JDEoZSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHZvaWQgMCx0KSxDJDEoZSx0KSksYXBwZW5kOihlLHQscCk9PihwPWQkNChwKSx4JDEodCxlLHZvaWQgMCxwKSxDJDEodCxwKSksaW5zZXJ0QmVmb3JlOihlLHQscCk9PihwPWQkNChwKSx4JDEodCxlLnBhcmVudE5vZGUsZSxwKSxDJDEodCxwKSksbWVyZ2U6KGUscixwKT0+KHA9ZCQ0KHApLHIuZG9tTm9kZT1lLHcoZSxyLHApLEMkMShyLHApKSxyZXBsYWNlOihlLHQscCk9PihwPWQkNChwKSx4JDEodCxlLnBhcmVudE5vZGUsZSxwKSxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksQyQxKHQscCkpfTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGUkNz17aGFuZGxlSW50ZXJjZXB0ZWRFdmVudDooZSxwLHQsbik9PihlLnNjaGVkdWxlUmVuZGVyKCkscC5wcm9wZXJ0aWVzW2BvbiR7bi50eXBlfWBdLmFwcGx5KHAucHJvcGVydGllcy5iaW5kfHx0LFtuXSkpfTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGUkNj17bmFtZXNwYWNlOnZvaWQgMCxwZXJmb3JtYW5jZUxvZ2dlcjooKT0+e30sZXZlbnRIYW5kbGVySW50ZXJjZXB0b3I6dm9pZCAwLHN0eWxlQXBwbHllcjooZSxyLG8pPT57ZS5zdHlsZVtyXT1vO319LHIkMz1yPT4oey4uLmUkNiwuLi5yfSk7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBvJDI9KGUsdCk9Pntjb25zdCByPVtdO2Zvcig7ZSYmZSE9PXQ7KXIucHVzaChlKSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gcn0sbiQzPShlLHQpPT5lLmZpbmQodCksZCQzPShlLHQscj0hMSk9PntsZXQgbz1lO3JldHVybiB0LmZvckVhY2goKChlLGQpPT57Y29uc3Qgcz1vPy5jaGlsZHJlbj9uJDMoby5jaGlsZHJlbiwodD0+dC5kb21Ob2RlPT09ZSkpOnZvaWQgMDtyJiYhcyYmZCE9PXQubGVuZ3RoLTF8fChvPXMpO30pKSxvfSxzJDQ9bj0+e2xldCBzO2NvbnN0IGk9ey4uLmUkNywuLi5ufSxjPXIkMyhpKSxhPWMucGVyZm9ybWFuY2VMb2dnZXI7bGV0IG0scD0hMCxsPSExO2NvbnN0IGY9W10sdT1bXSxoPShlLHQscik9PntsZXQgbjtjLmV2ZW50SGFuZGxlckludGVyY2VwdG9yPShlLHQscixjKT0+ZnVuY3Rpb24oZSl7bGV0IHQ7YShcImRvbUV2ZW50XCIsZSk7Y29uc3Qgcj1vJDIoZS5jdXJyZW50VGFyZ2V0LG4uZG9tTm9kZSksYz1yLnNvbWUoKGU9PmN1c3RvbUVsZW1lbnRzLmdldChlPy50YWdOYW1lPy50b0xvd2VyQ2FzZSgpKSkpO2lmKGUuZXZlbnRQaGFzZT09PUV2ZW50LkNBUFRVUklOR19QSEFTRXx8IWMpci5yZXZlcnNlKCksdD1kJDMobi5nZXRMYXN0UmVuZGVyKCkscik7ZWxzZSB7Y29uc3Qgcj1lLmNvbXBvc2VkUGF0aCgpLG89ci5zbGljZShyLmluZGV4T2YoZS5jdXJyZW50VGFyZ2V0KSxyLmluZGV4T2Yobi5kb21Ob2RlKSkuZmlsdGVyKChlPT5lLmdldFJvb3ROb2RlKCk9PT1lLm93bmVyRG9jdW1lbnQpKS5yZXZlcnNlKCk7dD1kJDMobi5nZXRMYXN0UmVuZGVyKCksbywhMCk7fWxldCBtO3JldHVybiB0JiYobT1pLmhhbmRsZUludGVyY2VwdGVkRXZlbnQocyx0LHRoaXMsZSkpLGEoXCJkb21FdmVudFByb2Nlc3NlZFwiLGUpLG19LGkucG9zdFByb2Nlc3NQcm9qZWN0aW9uT3B0aW9ucz8uKGMpO2NvbnN0IG09cigpO249ZSh0LG0sYyksZi5wdXNoKG4pLHUucHVzaChyKSxpLmFmdGVyRmlyc3RWTm9kZVJlbmRlcmVkJiZpLmFmdGVyRmlyc3RWTm9kZVJlbmRlcmVkKG4sbSk7fTtsZXQgdj0oKT0+e2lmKG09dm9pZCAwLHApe3A9ITEsYShcInJlbmRlclN0YXJ0XCIsdm9pZCAwKTtmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrKyl7Y29uc3QgdD11W2VdKCk7YShcInJlbmRlcmVkXCIsdm9pZCAwKSxmW2VdLnVwZGF0ZSh0KSxhKFwicGF0Y2hlZFwiLHZvaWQgMCk7fWEoXCJyZW5kZXJEb25lXCIsdm9pZCAwKSxwPSEwO319O3JldHVybiBpLm1vZGlmeURvUmVuZGVySW1wbGVtZW50YXRpb24mJih2PWkubW9kaWZ5RG9SZW5kZXJJbXBsZW1lbnRhdGlvbih2LGYsdSkpLHM9e3JlbmRlck5vdzp2LHNjaGVkdWxlUmVuZGVyOigpPT57bXx8bHx8KG09cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHYpKTt9LHN0b3A6KCk9PnttJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUobSksbT12b2lkIDApLGw9ITA7fSxyZXN1bWU6KCk9PntsPSExLHA9ITAscy5zY2hlZHVsZVJlbmRlcigpO30sYXBwZW5kOih0LHIpPT57aChuJDQuYXBwZW5kLHQscik7fSxpbnNlcnRCZWZvcmU6KHQscik9PntoKG4kNC5pbnNlcnRCZWZvcmUsdCxyKTt9LG1lcmdlOih0LHIpPT57aChuJDQubWVyZ2UsdCxyKTt9LHJlcGxhY2U6KHQscik9PntoKG4kNC5yZXBsYWNlLHQscik7fSxkZXRhY2g6ZT0+e2ZvcihsZXQgdD0wO3Q8dS5sZW5ndGg7dCsrKWlmKHVbdF09PT1lKXJldHVybiB1LnNwbGljZSh0LDEpLGYuc3BsaWNlKHQsMSlbMF07dGhyb3cgbmV3IEVycm9yKFwicmVuZGVyRnVuY3Rpb24gd2FzIG5vdCBmb3VuZFwiKX19LHN9O1xuXG4vKipcbiAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieVxuICogU2ltb24gRnJpaXMgVmluZHVtIChAcGFsZGVwaW5kKVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc25hYmJkb20vc25hYmJkb20vYmxvYi9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIE1vZGlmaWVkIGZvciBTdGVuY2lsJ3MgcmVuZGVyZXIgYW5kIHNsb3QgcHJvamVjdGlvblxuICovXG5jb25zdCBnZXRBc3NldFBhdGggPSAocGF0aCkgPT4ge1xuICAgIGNvbnN0IGFzc2V0VXJsID0gbmV3IFVSTChwYXRoLCBwbHQuJHJlc291cmNlc1VybCQpO1xuICAgIHJldHVybiBhc3NldFVybC5vcmlnaW4gIT09IHdpbi5sb2NhdGlvbi5vcmlnaW4gPyBhc3NldFVybC5ocmVmIDogYXNzZXRVcmwucGF0aG5hbWU7XG59O1xuY29uc3Qgc2V0QXNzZXRQYXRoID0gKHBhdGgpID0+IChwbHQuJHJlc291cmNlc1VybCQgPSBwYXRoKTtcbmNvbnN0IHdpbiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDoge307XG5jb25zdCBwbHQgPSB7XG4gICAgJGZsYWdzJDogMCxcbiAgICAkcmVzb3VyY2VzVXJsJDogJycsXG4gICAgam1wOiAoaCkgPT4gaCgpLFxuICAgIHJhZjogKGgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZShoKSxcbiAgICBhZWw6IChlbCwgZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cykgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSxcbiAgICByZWw6IChlbCwgZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cykgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSxcbiAgICBjZTogKGV2ZW50TmFtZSwgb3B0cykgPT4gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgb3B0cyksXG59O1xuXG4vKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1kZXNpZ24tc3lzdGVtL2Jsb2IvbWFpbi9MSUNFTlNFLm1kIGZvciBkZXRhaWxzLlxuICogdjEuOC4wXG4gKi9cblxuY29uc3QgYXV0b01vZGUgPSBcImNhbGNpdGUtbW9kZS1hdXRvXCI7XG5jb25zdCBkYXJrTW9kZSA9IFwiY2FsY2l0ZS1tb2RlLWRhcmtcIjtcblxuLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Fc3JpL2NhbGNpdGUtZGVzaWduLXN5c3RlbS9ibG9iL21haW4vTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbiAqIHYxLjguMFxuICovXG5cbi8qKlxuICogRW1pdHMgd2hlbiB0aGUgbW9kZSBpcyBkeW5hbWljYWxseSB0b2dnbGVkIGJldHdlZW4gbGlnaHQgYW5kIGRhcmsgb24gPGJvZHk+IG9yIGluIE9TIHByZWZlcmVuY2VzLlxuICovXG5mdW5jdGlvbiBpbml0TW9kZUNoYW5nZUV2ZW50KCkge1xuICBjb25zdCB7IGNsYXNzTGlzdCB9ID0gZG9jdW1lbnQuYm9keTtcbiAgY29uc3QgcHJlZmVyc0RhcmsgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcztcbiAgY29uc3QgZ2V0TW9kZSA9ICgpID0+IGNsYXNzTGlzdC5jb250YWlucyhkYXJrTW9kZSkgfHwgKGNsYXNzTGlzdC5jb250YWlucyhhdXRvTW9kZSkgJiYgcHJlZmVyc0RhcmspID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gIGNvbnN0IGVtaXRNb2RlQ2hhbmdlID0gKG1vZGUpID0+IGRvY3VtZW50LmJvZHkuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJjYWxjaXRlTW9kZUNoYW5nZVwiLCB7IGJ1YmJsZXM6IHRydWUsIGRldGFpbDogeyBtb2RlIH0gfSkpO1xuICBjb25zdCBtb2RlQ2hhbmdlSGFuZGxlciA9IChuZXdNb2RlKSA9PiB7XG4gICAgY3VycmVudE1vZGUgIT09IG5ld01vZGUgJiYgZW1pdE1vZGVDaGFuZ2UobmV3TW9kZSk7XG4gICAgY3VycmVudE1vZGUgPSBuZXdNb2RlO1xuICB9O1xuICBsZXQgY3VycmVudE1vZGUgPSBnZXRNb2RlKCk7XG4gIC8vIGVtaXRzIGV2ZW50IG9uIHBhZ2UgbG9hZFxuICBlbWl0TW9kZUNoYW5nZShjdXJyZW50TW9kZSk7XG4gIC8vIGVtaXRzIGV2ZW50IHdoZW4gY2hhbmdpbmcgT1MgbW9kZSBwcmVmZXJlbmNlc1xuICB3aW5kb3dcbiAgICAubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIilcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IG1vZGVDaGFuZ2VIYW5kbGVyKGV2ZW50Lm1hdGNoZXMgPyBcImRhcmtcIiA6IFwibGlnaHRcIikpO1xuICAvLyBlbWl0cyBldmVudCB3aGVuIHRvZ2dsaW5nIGJldHdlZW4gbW9kZSBjbGFzc2VzIG9uIDxib2R5PlxuICBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiBtb2RlQ2hhbmdlSGFuZGxlcihnZXRNb2RlKCkpKS5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wiY2xhc3NcIl0sXG4gIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgZmlsZSBpcyBpbXBvcnRlZCBpbiBTdGVuY2lsJ3MgYGdsb2JhbFNjcmlwdGAgY29uZmlnIG9wdGlvbi5cbiAqXG4gKiBAc2VlIHtAbGluayBodHRwczovL3N0ZW5jaWxqcy5jb20vZG9jcy9jb25maWcjZ2xvYmFsc2NyaXB0fVxuICovXG5mdW5jdGlvbiBhcHBHbG9iYWxTY3JpcHQgKCkge1xuICBjb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgd2luZG93LmxvY2F0aW9uID09PSBsb2NhdGlvbiAmJlxuICAgIHdpbmRvdy5kb2N1bWVudCA9PT0gZG9jdW1lbnQ7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4gICAgICBpbml0TW9kZUNoYW5nZUV2ZW50KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gaW5pdE1vZGVDaGFuZ2VFdmVudCgpLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGdsb2JhbFNjcmlwdHMgPSBhcHBHbG9iYWxTY3JpcHQ7XG5cbmdsb2JhbFNjcmlwdHMoKTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmxldCBjJDI7ZnVuY3Rpb24gciQyKCl7dHJ5e2dldEFzc2V0UGF0aChcIi5cIik7fWNhdGNoe3NldEFzc2V0UGF0aChfJGQoYSQzKGMkMikpKTt9fWMkMj1cImNvbXBvbmVudHMvYXNzZXRzXCI7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0JDI9U3ltYm9sKFwid2lkZ2V0XCIpLGUkNT1TeW1ib2woXCJ3aWRnZXQtdGVzdC1kYXRhXCIpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY29uc3QgciQxPVtdLG8kMT17fSxuJDI9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gaSQyKGUsdCl7bGV0IG49dC5jaGlsZHJlbjtpZihuJiZuLmxlbmd0aClmb3IobGV0IHI9MDtyPG4ubGVuZ3RoOysrciluW3JdPWkkMihlLG5bcl0pO2Vsc2Ugbj1yJDE7Y29uc3QgZj10LnZub2RlU2VsZWN0b3I7aWYoYSQxKGYpKXtjb25zdCByPXQucHJvcGVydGllc3x8byQxLGk9ci5rZXl8fGY7cmV0dXJuIHt2bm9kZVNlbGVjdG9yOlwiZGl2XCIscHJvcGVydGllczp7a2V5OmksYWZ0ZXJDcmVhdGU6ZCQyLGFmdGVyVXBkYXRlOnMkMyxhZnRlclJlbW92ZWQ6YyQxLHBhcmVudFdpZGdldDplLHdpZGdldENvbnN0cnVjdG9yOmYsd2lkZ2V0UHJvcGVydGllczp7Li4ucixrZXk6aSxjaGlsZHJlbjpufX0sY2hpbGRyZW46dm9pZCAwLHRleHQ6dm9pZCAwLGRvbU5vZGU6bnVsbH19cmV0dXJuIHR9ZnVuY3Rpb24gZCQyKHQscixvLHtwYXJlbnRXaWRnZXQ6aSx3aWRnZXRDb25zdHJ1Y3RvcjpkLHdpZGdldFByb3BlcnRpZXM6c30pe2NvbnN0IGE9bmV3IGQocyk7YS5jb250YWluZXI9dCxuJDIuc2V0KHQsYSksYS5hZnRlckNyZWF0ZT8uKGEsdCksaS5faW50ZXJuYWxIYW5kbGVzLmFkZChlJHcoKCgpPT5jJDEodCkpKSk7fWZ1bmN0aW9uIHMkMyhlLHQscix7d2lkZ2V0UHJvcGVydGllczpvfSl7Y29uc3QgaT1uJDIuZ2V0KGUpO2kmJihpLnNldChvKSxpLmFmdGVyVXBkYXRlPy4oaSxlKSk7fWZ1bmN0aW9uIGMkMShlKXtjb25zdCB0PW4kMi5nZXQoZSk7dCYmKHQuYWZ0ZXJSZW1vdmVkPy4odCxlKSx0LmRlc3Ryb3koKSxuJDIuZGVsZXRlKGUpKTt9ZnVuY3Rpb24gYSQxKGUpe3JldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlW3QkMl19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCBlJDQ9bmV3IFNldDtmdW5jdGlvbiBuJDEobil7ZSQ0LmFkZChuKSxuLmZpbmFsbHkoKCgpPT5lJDQuZGVsZXRlKG4pKSk7fVxuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xudmFyICQ7Y29uc3Qgej1cImVzcmkud2lkZ2V0cy5XaWRnZXRcIjtsZXQgeD0wO2NvbnN0IEE9e3dpZGdldEljb246XCJlc3JpLWljb24tY2hlY2tib3gtdW5jaGVja2VkXCJ9O2Z1bmN0aW9uIEIoZSx0KXtmb3IoY29uc3QgciBpbiB0KW51bGwhPWVbcl0mJihcIm9iamVjdFwiPT10eXBlb2YgZVtyXSYmXCJvYmplY3RcIj09dHlwZW9mIHRbcl0/QihlW3JdLHQ/LltyXSk6ZVtyXT10W3JdKTtyZXR1cm4gZX1jb25zdCBEJDE9cyQ0KHtwb3N0UHJvY2Vzc1Byb2plY3Rpb25PcHRpb25zKGUpe2NvbnN0IHQ9ZS5ldmVudEhhbmRsZXJJbnRlcmNlcHRvcixyPS9jYXB0dXJlJC9pO2UuZXZlbnRIYW5kbGVySW50ZXJjZXB0b3I9KGUscyxvLGkpPT57Y29uc3Qgbj10Py4oZSxzLG8saSksYT1yLnRlc3QoZSk7aWYoISgoZT1lLnJlcGxhY2UocixcIlwiKSkudG9Mb3dlckNhc2UoKWluIG8pfHxhKXtjb25zdCB0PWVbMl0udG9Mb3dlckNhc2UoKStlLnNsaWNlKDMpLHI9ZT0+bj8uY2FsbChvLGUpO28uYWRkRXZlbnRMaXN0ZW5lcih0LHIsYSk7Y29uc3Qgcz0oKT0+by5yZW1vdmVFdmVudExpc3RlbmVyKHQscixhKSxjPWkuYWZ0ZXJSZW1vdmVkO2kuYWZ0ZXJSZW1vdmVkPWU9PntjPy4oZSkscygpO307fXJldHVybiBufTt9LGhhbmRsZUludGVyY2VwdGVkRXZlbnQoZSx0LHIscyl7Y29uc3R7ZXZlbnRQaGFzZTpvLHR5cGU6aX09cyxuPW89PT1FdmVudC5DQVBUVVJJTkdfUEhBU0U7bGV0IGE9YG9uJHtpfSR7bj9cImNhcHR1cmVcIjpcIlwifWA7Y29uc3QgYz10LnByb3BlcnRpZXM7KGMmJmEgaW4gY3x8KGE9YG9uJHtpWzBdLnRvVXBwZXJDYXNlKCl9JHtpLnNsaWNlKDEpfSR7bj9cIkNhcHR1cmVcIjpcIlwifWAsYyYmYSBpbiBjKSkmJih0JDQoKSxlLnNjaGVkdWxlUmVuZGVyKCksY1thXS5jYWxsKGMuYmluZHx8cixzKSk7fX0pO2xldCBNPSExLE89Y2xhc3MgZXh0ZW5kcyhtJDIobiQ5LkV2ZW50ZWRBY2Nlc3Nvcikpe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl9hdHRhY2hlZD0hMSx0aGlzLl9pbnRlcm5hbEhhbmRsZXM9bmV3IHQkcix0aGlzLl9wcm9qZWN0b3I9RCQxLHRoaXMuX3JlYWR5Rm9yVHJ1ZVJlbmRlcj0hMSx0aGlzLmljb25DbGFzcz1BLndpZGdldEljb24sdGhpcy5pY29uPW51bGwsdGhpcy5rZXk9dGhpcyx0aGlzLl9sb2FkTG9jYWxlPWskOSgoYXN5bmMoKT0+e2lmKHRoaXMuX21lc3NhZ2VCdW5kbGVQcm9wcyYmdGhpcy5fbWVzc2FnZUJ1bmRsZVByb3BzLmxlbmd0aCl7Y29uc3QgZT1hd2FpdCBqJGModGhpcy5fbWVzc2FnZUJ1bmRsZVByb3BzLm1hcCgoYXN5bmMoe2J1bmRsZVBhdGg6ZSxwcm9wZXJ0eU5hbWU6dH0pPT57aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuO2xldCByPWF3YWl0IGgkMyhlKTt0aGlzLnVpU3RyaW5ncyYmT2JqZWN0LmtleXModGhpcy51aVN0cmluZ3MpJiYocj1CKGEkdihyKSx0aGlzLnVpU3RyaW5ncykpLHRoaXNbdF09cjt9KSkpO2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjtmb3IoY29uc3QgdCBvZiBlKXQuZXJyb3ImJnMkRS5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJ3aWRnZXQtaW50bDpsb2NhbGUtZXJyb3JcIix0aGlzLmRlY2xhcmVkQ2xhc3MsdC5lcnJvcik7fWF3YWl0IHRoaXMubG9hZExvY2FsZSgpO30pKSxyJDIoKTtjb25zdCByPVwiZXNyaS13aWRnZXQtdWlkLVwiK24kNygpLHM9dGhpcy5yZW5kZXIuYmluZCh0aGlzKTt0aGlzLl90cmFja2luZ1RhcmdldD1uZXcgdCRnKCgoKT0+dGhpcy5zY2hlZHVsZVJlbmRlcigpKSk7Y29uc3Qgbz0oKT0+e2lmKCF0aGlzLl9yZWFkeUZvclRydWVSZW5kZXJ8fHRoaXMuZGVzdHJveWVkKXJldHVybiBudWxsO2NvbnN0IGU9cygpO2xldHtwcm9wZXJ0aWVzOnR9PWU7dHx8KGUucHJvcGVydGllcz10PXt9KTtjb25zdHtrZXk6b309dDtvfHwodC5rZXk9ciksdGhpcy52aXNpYmxlP3Quc3R5bGVzfHwodC5zdHlsZXM9e30pOih0LmNsYXNzPVwiXCIsdC5zdHlsZXM9e2Rpc3BsYXk6XCJub25lXCJ9KSx0LnN0eWxlcy5kaXNwbGF5fHwodC5zdHlsZXMuZGlzcGxheT1cIlwiKTtsZXQgaT0wO3JldHVybiBlLmNoaWxkcmVuPy5mb3JFYWNoKChlPT57aWYoYSQxKGUudm5vZGVTZWxlY3RvcikpcmV0dXJuO2xldHtwcm9wZXJ0aWVzOnR9PWU7dHx8KGUucHJvcGVydGllcz10PXt9KSx0LmtleXx8KHQua2V5PWAke3RoaXMuaWR9LS0ke2krK31gKTt9KSksaSQyKHRoaXMsZSl9O3RoaXMucmVuZGVyPSgpPT57aWYoTSlyZXR1cm4gbygpO2xldCBlPWUkOCh0aGlzKT8/bnVsbDtpZihlKXJldHVybiBlO3RoaXMuX3RyYWNraW5nVGFyZ2V0LmNsZWFyKCksTT0hMDt0cnl7ZT1mJHIodGhpcy5fdHJhY2tpbmdUYXJnZXQsbyk7fWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IodCksdH1maW5hbGx5e009ITE7fXJldHVybiBlJiZjJDQodGhpcyxlKSxlfSx0aGlzLmFkZFJlc29sdmluZ1Byb21pc2UodGhpcy5fcmVzb3VyY2VzRmV0Y2g9dGhpcy5iZWZvcmVGaXJzdFJlbmRlcigpLnRoZW4oKCgpPT57dGhpcy5fcmVhZHlGb3JUcnVlUmVuZGVyPSEwLHRoaXMuX3Bvc3RJbml0aWFsaXplKCk7fSkpKSxuJDEodGhpcy5fcmVzb3VyY2VzRmV0Y2gpO31ub3JtYWxpemVDdG9yQXJncyhlLHQpe2NvbnN0IHI9ey4uLmV9O3JldHVybiB0JiYoci5jb250YWluZXI9dCkscn1wb3N0SW5pdGlhbGl6ZSgpe31iZWZvcmVGaXJzdFJlbmRlcigpe3JldHVybiBQcm9taXNlLmFsbChbdGhpcy5sb2FkRGVwZW5kZW5jaWVzKCksdGhpcy5fbG9hZExvY2FsZSgpXSkudGhlbigoKCk9Pnt9KSkuY2F0Y2gobSRsKX1hc3luYyBsb2FkRGVwZW5kZW5jaWVzKCl7fWFzeW5jIGxvYWRMb2NhbGUoKXt9ZGVzdHJveSgpe3RoaXMuZGVzdHJveWVkfHwobCRzKHRoaXMuX3RyYWNraW5nVGFyZ2V0KSxsJHModGhpcy52aWV3TW9kZWwpLHRoaXMuX2RldGFjaCh0aGlzLmNvbnRhaW5lciksdGhpcy5fc2V0KFwiY29udGFpbmVyXCIsbnVsbCksdGhpcy5faW50ZXJuYWxIYW5kbGVzLmRlc3Ryb3koKSx0aGlzLl9lbWl0dGVyLmNsZWFyKCksdGhpcy5yZW5kZXI9KCk9Pm51bGwsdGhpcy5fcHJvamVjdG9yPW51bGwsbyQ0KHRoaXMpKTt9c2V0IGNvbnRhaW5lcihlKXt0aGlzLl9nZXQoXCJjb250YWluZXJcIil8fHRoaXMuX3NldChcImNvbnRhaW5lclwiLGUpO31jYXN0Q29udGFpbmVyKGUpe3JldHVybiBlJDkoZSl9Z2V0IGRvbU5vZGUoKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9c2V0IGRvbU5vZGUoZSl7dGhpcy5jb250YWluZXI9ZTt9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2dldChcImlkXCIpfHx0aGlzLmdldChcImNvbnRhaW5lci5pZFwiKXx8RGF0ZS5ub3coKS50b1N0cmluZygxNikrXCItd2lkZ2V0LVwiK3grK31zZXQgaWQoZSl7ZSYmdGhpcy5fc2V0KFwiaWRcIixlKTt9Z2V0IGxhYmVsKCl7cmV0dXJuIHRoaXMuZGVjbGFyZWRDbGFzcy5zcGxpdChcIi5cIikucG9wKCl9c2V0IGxhYmVsKGUpe3RoaXMuX292ZXJyaWRlSWZTb21lKFwibGFiZWxcIixlKTt9Z2V0IHJlbmRlcmFibGUoKXtyZXR1cm4gdGhpcy5fcmVzb3VyY2VzRmV0Y2h9Z2V0IHZpc2libGUoKXtyZXR1cm4gdGhpcy5fZ2V0KFwidmlzaWJsZVwiKX1zZXQgdmlzaWJsZShlKXt0aGlzLl9zZXQoXCJ2aXNpYmxlXCIsZSk7fWdldFsoJD10JDIsZSQ1KV0oKXtyZXR1cm4ge3Byb2plY3Rvcjp0aGlzLl9wcm9qZWN0b3J9fXJlbmRlcigpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX1zY2hlZHVsZVJlbmRlcigpe3RoaXMuZGVzdHJveWVkfHwobyQ0KHRoaXMpLHRoaXMuX3Byb2plY3Rvci5zY2hlZHVsZVJlbmRlcigpKTt9Y2xhc3NlcyguLi5lKXtyZXR1cm4gbSQxLmFwcGx5KHRoaXMsZSl9cmVuZGVyTm93KCl7byQ0KHRoaXMpLHRoaXMuX3Byb2plY3Rvci5yZW5kZXJOb3coKTt9X3Bvc3RJbml0aWFsaXplKCl7aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuO3RoaXMuc2NoZWR1bGVSZW5kZXIoKSx0aGlzLl9kZWxlZ2F0ZWRFdmVudE5hbWVzPy5sZW5ndGgmJnRoaXMuX2ludGVybmFsSGFuZGxlcy5hZGQobCQ0KCgoKT0+dGhpcy52aWV3TW9kZWwpLCgoZSx0KT0+e3QmJnRoaXMuX2ludGVybmFsSGFuZGxlcy5yZW1vdmUoXCJkZWxlZ2F0ZWQtZXZlbnRzXCIpLGUmJmUkeShlKSYmdGhpcy5faW50ZXJuYWxIYW5kbGVzLmFkZCh0aGlzLl9kZWxlZ2F0ZWRFdmVudE5hbWVzLm1hcCgodD0+ciRvKGUsdCwoZT0+e3RoaXMuZW1pdCh0LGUpO30pKSkpLFwiZGVsZWdhdGVkLWV2ZW50c1wiKTt9KSxoJDUpKSx0aGlzLnBvc3RJbml0aWFsaXplKCk7Y29uc3QgZT1hc3luYygpPT57YXdhaXQgdGhpcy5fbG9hZExvY2FsZSgpLmNhdGNoKG0kbCksdGhpcy5zY2hlZHVsZVJlbmRlcigpO307dGhpcy5faW50ZXJuYWxIYW5kbGVzLmFkZChbcyQ5KGUpLGwkNCgoKCk9PnRoaXMudWlTdHJpbmdzKSxlKSxmJDYoKCgpPT50aGlzLmNvbnRhaW5lciksKGU9Pnt0aGlzLmRlc3Ryb3llZHx8dGhpcy5fYXR0YWNoKGUpO30pLHtpbml0aWFsOiEwLG9uY2U6ITB9KV0pO31fYXR0YWNoKGUpe2UmJih0aGlzLl9wcm9qZWN0b3IubWVyZ2UoZSx0aGlzLnJlbmRlciksdGhpcy5fYXR0YWNoZWQ9ITApO31fZGV0YWNoKGUpe3RoaXMuX2F0dGFjaGVkJiYodGhpcy5fcHJvamVjdG9yLmRldGFjaCh0aGlzLnJlbmRlciksdGhpcy5fYXR0YWNoZWQ9ITEpLGU/LnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGUpO319O09bJF09ITAsZSR4KFt5JGQoKV0sTy5wcm90b3R5cGUsXCJfcmVhZHlGb3JUcnVlUmVuZGVyXCIsdm9pZCAwKSxlJHgoW3kkZCh7dmFsdWU6bnVsbH0pXSxPLnByb3RvdHlwZSxcImNvbnRhaW5lclwiLG51bGwpLGUkeChbcyRpKFwiY29udGFpbmVyXCIpXSxPLnByb3RvdHlwZSxcImNhc3RDb250YWluZXJcIixudWxsKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcImljb25DbGFzc1wiLHZvaWQgMCksZSR4KFt5JGQoKV0sTy5wcm90b3R5cGUsXCJpY29uXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcImlkXCIsbnVsbCksZSR4KFt5JGQoKV0sTy5wcm90b3R5cGUsXCJsYWJlbFwiLG51bGwpLGUkeChbeSRkKCldLE8ucHJvdG90eXBlLFwicmVuZGVyYWJsZVwiLG51bGwpLGUkeChbeSRkKCldLE8ucHJvdG90eXBlLFwidWlTdHJpbmdzXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcInZpZXdNb2RlbFwiLHZvaWQgMCksZSR4KFt5JGQoe3ZhbHVlOiEwfSldLE8ucHJvdG90eXBlLFwidmlzaWJsZVwiLG51bGwpLGUkeChbeSRkKCldLE8ucHJvdG90eXBlLFwia2V5XCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcImNoaWxkcmVuXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcImFmdGVyQ3JlYXRlXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcImFmdGVyVXBkYXRlXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxPLnByb3RvdHlwZSxcImFmdGVyUmVtb3ZlZFwiLHZvaWQgMCksTz1lJHgoW2EkaSh6KV0sTyk7Y29uc3QgVz1PO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZSQzKGUpe3JldHVybiAocyxyKT0+e3MuaGFzT3duUHJvcGVydHkoXCJfbWVzc2FnZUJ1bmRsZVByb3BzXCIpfHwocy5fbWVzc2FnZUJ1bmRsZVByb3BzPXMuX21lc3NhZ2VCdW5kbGVQcm9wcz9zLl9tZXNzYWdlQnVuZGxlUHJvcHMuc2xpY2UoKTpbXSk7cy5fbWVzc2FnZUJ1bmRsZVByb3BzLnB1c2goe2J1bmRsZVBhdGg6ZSxwcm9wZXJ0eU5hbWU6cn0pO319XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgZSQyPWZ1bmN0aW9uKHIpe3JldHVybiB7dm5vZGVTZWxlY3RvcjpcIlwiLHByb3BlcnRpZXM6dm9pZCAwLGNoaWxkcmVuOnZvaWQgMCx0ZXh0OnIudG9TdHJpbmcoKSxkb21Ob2RlOm51bGx9fSxvPWZ1bmN0aW9uKHIsdCl7Zm9yKHZhciBuPTAsaT1yLmxlbmd0aDtuPGk7bisrKXt2YXIgZD1yW25dO0FycmF5LmlzQXJyYXkoZCk/byhkLHQpOm51bGwhPWQmJiExIT09ZCYmKGQuaGFzT3duUHJvcGVydHkoXCJ2bm9kZVNlbGVjdG9yXCIpfHwoZD1lJDIoZCkpLHQucHVzaChkKSk7fX0sdCQxPWZ1bmN0aW9uKHIsZSl7Zm9yKHZhciB0PVtdLG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0yXT1hcmd1bWVudHNbbl07aWYoMT09PXQubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgdFswXSlyZXR1cm4ge3Zub2RlU2VsZWN0b3I6cixwcm9wZXJ0aWVzOmV8fHZvaWQgMCxjaGlsZHJlbjp2b2lkIDAsdGV4dDp0WzBdLGRvbU5vZGU6bnVsbH07dmFyIGk9W107cmV0dXJuIG8odCxpKSx7dm5vZGVTZWxlY3RvcjpyLHByb3BlcnRpZXM6ZXx8dm9pZCAwLGNoaWxkcmVuOmksdGV4dDp2b2lkIDAsZG9tTm9kZTpudWxsfX07ZnVuY3Rpb24gbihlLG8sLi4ubil7cmV0dXJuIFwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fGEkMShlKT90JDEoZSxvLC4uLm4pOmUobywuLi5uKX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGE9XCJlc3JpLWlkZW50aXR5LWZvcm1cIixwJDI9e2Jhc2U6YSxncm91cDpgJHthfV9fZ3JvdXBgLGxhYmVsOmAke2F9X19sYWJlbGAsZm9vdGVyOmAke2F9X19mb290ZXJgLGVzcmlJbnB1dDpcImVzcmktaW5wdXRcIixlc3JpQnV0dG9uOlwiZXNyaS1idXR0b25cIixlc3JpQnV0dG9uU2Vjb25kYXJ5OlwiZXNyaS1idXR0b24tLXNlY29uZGFyeVwifSxsPVwiQXJjR0lTIE9ubGluZVwiO2xldCBkJDE9Y2xhc3MgZXh0ZW5kcyBXe2NvbnN0cnVjdG9yKHMsZSl7c3VwZXIocyxlKSx0aGlzLl91c2VybmFtZUlucHV0Tm9kZT1udWxsLHRoaXMuX3Bhc3N3b3JkSW5wdXROb2RlPW51bGwsdGhpcy5zaWduaW5nSW49ITEsdGhpcy5zZXJ2ZXI9bnVsbCx0aGlzLnJlc291cmNlPW51bGwsdGhpcy5lcnJvcj1udWxsLHRoaXMub0F1dGhQcm9tcHQ9ITE7fXJlbmRlcigpe2NvbnN0e2Vycm9yOnMsc2VydmVyOmUscmVzb3VyY2U6dCxzaWduaW5nSW46byxvQXV0aFByb21wdDpuJDEsbWVzc2FnZXM6YX09dGhpcyxkPW4oXCJkaXZcIix7Y2xhc3M6cCQyLmdyb3VwfSxzJDcobiQxP2Eub0F1dGhJbmZvOmEuaW5mbyx7c2VydmVyOmUmJi9cXC5hcmNnaXNcXC5jb20vaS50ZXN0KGUpP2w6ZSxyZXNvdXJjZTpgKCR7dHx8YS5sYmxJdGVtfSlgfSkpLGM9biQxP251bGw6bihcImRpdlwiLHtjbGFzczpwJDIuZ3JvdXAsa2V5OlwidXNlcm5hbWVcIn0sbihcImxhYmVsXCIse2NsYXNzOnAkMi5sYWJlbH0sYS5sYmxVc2VyLG4oXCJpbnB1dFwiLHt2YWx1ZTpcIlwiLHJlcXVpcmVkOiEwLGF1dG9jb21wbGV0ZTpcIm9mZlwiLHNwZWxsY2hlY2s6ITEsdHlwZTpcInRleHRcIixiaW5kOnRoaXMsYWZ0ZXJDcmVhdGU6TCQxLFwiZGF0YS1ub2RlLXJlZlwiOlwiX3VzZXJuYW1lSW5wdXROb2RlXCIsY2xhc3M6cCQyLmVzcmlJbnB1dH0pKSksbT1uJDE/bnVsbDpuKFwiZGl2XCIse2NsYXNzOnAkMi5ncm91cCxrZXk6XCJwYXNzd29yZFwifSxuKFwibGFiZWxcIix7Y2xhc3M6cCQyLmxhYmVsfSxhLmxibFB3ZCxuKFwiaW5wdXRcIix7dmFsdWU6XCJcIixyZXF1aXJlZDohMCx0eXBlOlwicGFzc3dvcmRcIixiaW5kOnRoaXMsYWZ0ZXJDcmVhdGU6TCQxLFwiZGF0YS1ub2RlLXJlZlwiOlwiX3Bhc3N3b3JkSW5wdXROb2RlXCIsY2xhc3M6cCQyLmVzcmlJbnB1dH0pKSksaD1uKFwiZGl2XCIse2NsYXNzOnRoaXMuY2xhc3NlcyhwJDIuZ3JvdXAscCQyLmZvb3Rlcil9LG4oXCJpbnB1dFwiLHt0eXBlOlwic3VibWl0XCIsZGlzYWJsZWQ6ISFvLHZhbHVlOm8/YS5sYmxTaWduaW5nOmEubGJsT2ssY2xhc3M6cCQyLmVzcmlCdXR0b259KSxuKFwiaW5wdXRcIix7dHlwZTpcImJ1dHRvblwiLHZhbHVlOmEubGJsQ2FuY2VsLGJpbmQ6dGhpcyxvbmNsaWNrOnRoaXMuX2NhbmNlbCxjbGFzczp0aGlzLmNsYXNzZXMocCQyLmVzcmlCdXR0b24scCQyLmVzcmlCdXR0b25TZWNvbmRhcnkpfSkpLGI9cz9uKFwiZGl2XCIsbnVsbCxzLmRldGFpbHMmJnMuZGV0YWlscy5odHRwU3RhdHVzP2EuaW52YWxpZFVzZXI6YS5ub0F1dGhTZXJ2aWNlKTpudWxsO3JldHVybiBuKFwiZm9ybVwiLHtjbGFzczpwJDIuYmFzZSxiaW5kOnRoaXMsb25zdWJtaXQ6dGhpcy5fc3VibWl0fSxkLGIsYyxtLGgpfV9jYW5jZWwoKXt0aGlzLl9zZXQoXCJzaWduaW5nSW5cIiwhMSksdGhpcy5fdXNlcm5hbWVJbnB1dE5vZGUmJih0aGlzLl91c2VybmFtZUlucHV0Tm9kZS52YWx1ZT1cIlwiKSx0aGlzLl9wYXNzd29yZElucHV0Tm9kZSYmKHRoaXMuX3Bhc3N3b3JkSW5wdXROb2RlLnZhbHVlPVwiXCIpLHRoaXMuZW1pdChcImNhbmNlbFwiKTt9X3N1Ym1pdChzKXtzLnByZXZlbnREZWZhdWx0KCksdGhpcy5fc2V0KFwic2lnbmluZ0luXCIsITApO2NvbnN0IGU9dGhpcy5vQXV0aFByb21wdD97fTp7dXNlcm5hbWU6dGhpcy5fdXNlcm5hbWVJbnB1dE5vZGUmJnRoaXMuX3VzZXJuYW1lSW5wdXROb2RlLnZhbHVlLHBhc3N3b3JkOnRoaXMuX3Bhc3N3b3JkSW5wdXROb2RlJiZ0aGlzLl9wYXNzd29yZElucHV0Tm9kZS52YWx1ZX07dGhpcy5lbWl0KFwic3VibWl0XCIsZSk7fX07ZSR4KFt5JGQoKSxlJDMoXCJlc3JpL2lkZW50aXR5L3Q5bi9pZGVudGl0eVwiKV0sZCQxLnByb3RvdHlwZSxcIm1lc3NhZ2VzXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxkJDEucHJvdG90eXBlLFwic2lnbmluZ0luXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxkJDEucHJvdG90eXBlLFwic2VydmVyXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxkJDEucHJvdG90eXBlLFwicmVzb3VyY2VcIix2b2lkIDApLGUkeChbeSRkKCldLGQkMS5wcm90b3R5cGUsXCJlcnJvclwiLHZvaWQgMCksZSR4KFt5JGQoKV0sZCQxLnByb3RvdHlwZSxcIm9BdXRoUHJvbXB0XCIsdm9pZCAwKSxkJDE9ZSR4KFthJGkoXCJlc3JpLmlkZW50aXR5LklkZW50aXR5Rm9ybVwiKV0sZCQxKTtjb25zdCBjPWQkMTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUkMShlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW5kZXJ9XG5cbi8qIVxuKiBmb2N1cy10cmFwIDcuNC4zXG4qIEBsaWNlbnNlIE1JVCwgaHR0cHM6Ly9naXRodWIuY29tL2ZvY3VzLXRyYXAvZm9jdXMtdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFXG4qL1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgIGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gbnVsbCAhPSBhcmd1bWVudHNbaV0gPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICBpICUgMiA/IG93bktleXMoT2JqZWN0KHNvdXJjZSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn1cblxudmFyIGFjdGl2ZUZvY3VzVHJhcHMgPSB7XG4gIGFjdGl2YXRlVHJhcDogZnVuY3Rpb24gYWN0aXZhdGVUcmFwKHRyYXBTdGFjaywgdHJhcCkge1xuICAgIGlmICh0cmFwU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGFjdGl2ZVRyYXAgPSB0cmFwU3RhY2tbdHJhcFN0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFjdGl2ZVRyYXAgIT09IHRyYXApIHtcbiAgICAgICAgYWN0aXZlVHJhcC5wYXVzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgdHJhcEluZGV4ID0gdHJhcFN0YWNrLmluZGV4T2YodHJhcCk7XG4gICAgaWYgKHRyYXBJbmRleCA9PT0gLTEpIHtcbiAgICAgIHRyYXBTdGFjay5wdXNoKHRyYXApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtb3ZlIHRoaXMgZXhpc3RpbmcgdHJhcCB0byB0aGUgZnJvbnQgb2YgdGhlIHF1ZXVlXG4gICAgICB0cmFwU3RhY2suc3BsaWNlKHRyYXBJbmRleCwgMSk7XG4gICAgICB0cmFwU3RhY2sucHVzaCh0cmFwKTtcbiAgICB9XG4gIH0sXG4gIGRlYWN0aXZhdGVUcmFwOiBmdW5jdGlvbiBkZWFjdGl2YXRlVHJhcCh0cmFwU3RhY2ssIHRyYXApIHtcbiAgICB2YXIgdHJhcEluZGV4ID0gdHJhcFN0YWNrLmluZGV4T2YodHJhcCk7XG4gICAgaWYgKHRyYXBJbmRleCAhPT0gLTEpIHtcbiAgICAgIHRyYXBTdGFjay5zcGxpY2UodHJhcEluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYgKHRyYXBTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICB0cmFwU3RhY2tbdHJhcFN0YWNrLmxlbmd0aCAtIDFdLnVucGF1c2UoKTtcbiAgICB9XG4gIH1cbn07XG52YXIgaXNTZWxlY3RhYmxlSW5wdXQgPSBmdW5jdGlvbiBpc1NlbGVjdGFibGVJbnB1dChub2RlKSB7XG4gIHJldHVybiBub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgdHlwZW9mIG5vZGUuc2VsZWN0ID09PSAnZnVuY3Rpb24nO1xufTtcbnZhciBpc0VzY2FwZUV2ZW50ID0gZnVuY3Rpb24gaXNFc2NhcGVFdmVudChlKSB7XG4gIHJldHVybiBlLmtleSA9PT0gJ0VzY2FwZScgfHwgZS5rZXkgPT09ICdFc2MnIHx8IGUua2V5Q29kZSA9PT0gMjc7XG59O1xudmFyIGlzVGFiRXZlbnQgPSBmdW5jdGlvbiBpc1RhYkV2ZW50KGUpIHtcbiAgcmV0dXJuIGUua2V5ID09PSAnVGFiJyB8fCBlLmtleUNvZGUgPT09IDk7XG59O1xuXG4vLyBjaGVja3MgZm9yIFRBQiBieSBkZWZhdWx0XG52YXIgaXNLZXlGb3J3YXJkID0gZnVuY3Rpb24gaXNLZXlGb3J3YXJkKGUpIHtcbiAgcmV0dXJuIGlzVGFiRXZlbnQoZSkgJiYgIWUuc2hpZnRLZXk7XG59O1xuXG4vLyBjaGVja3MgZm9yIFNISUZUK1RBQiBieSBkZWZhdWx0XG52YXIgaXNLZXlCYWNrd2FyZCA9IGZ1bmN0aW9uIGlzS2V5QmFja3dhcmQoZSkge1xuICByZXR1cm4gaXNUYWJFdmVudChlKSAmJiBlLnNoaWZ0S2V5O1xufTtcbnZhciBkZWxheSA9IGZ1bmN0aW9uIGRlbGF5KGZuKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGZuLCAwKTtcbn07XG5cbi8vIEFycmF5LmZpbmQvZmluZEluZGV4KCkgYXJlIG5vdCBzdXBwb3J0ZWQgb24gSUU7IHRoaXMgcmVwbGljYXRlcyBlbm91Z2hcbi8vICBvZiBBcnJheS5maW5kSW5kZXgoKSBmb3Igb3VyIG5lZWRzXG52YXIgZmluZEluZGV4ID0gZnVuY3Rpb24gZmluZEluZGV4KGFyciwgZm4pIHtcbiAgdmFyIGlkeCA9IC0xO1xuICBhcnIuZXZlcnkoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgaWYgKGZuKHZhbHVlKSkge1xuICAgICAgaWR4ID0gaTtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gYnJlYWtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTsgLy8gbmV4dFxuICB9KTtcblxuICByZXR1cm4gaWR4O1xufTtcblxuLyoqXG4gKiBHZXQgYW4gb3B0aW9uJ3MgdmFsdWUgd2hlbiBpdCBjb3VsZCBiZSBhIHBsYWluIHZhbHVlLCBvciBhIGhhbmRsZXIgdGhhdCBwcm92aWRlc1xuICogIHRoZSB2YWx1ZS5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgT3B0aW9uJ3MgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0gey4uLip9IFtwYXJhbXNdIEFueSBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIGhhbmRsZXIsIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHsqfSBUaGUgYHZhbHVlYCwgb3IgdGhlIGhhbmRsZXIncyByZXR1cm5lZCB2YWx1ZS5cbiAqL1xudmFyIHZhbHVlT3JIYW5kbGVyID0gZnVuY3Rpb24gdmFsdWVPckhhbmRsZXIodmFsdWUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcGFyYW1zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUuYXBwbHkodm9pZCAwLCBwYXJhbXMpIDogdmFsdWU7XG59O1xudmFyIGdldEFjdHVhbFRhcmdldCA9IGZ1bmN0aW9uIGdldEFjdHVhbFRhcmdldChldmVudCkge1xuICAvLyBOT1RFOiBJZiB0aGUgdHJhcCBpcyBfaW5zaWRlXyBhIHNoYWRvdyBET00sIGV2ZW50LnRhcmdldCB3aWxsIGFsd2F5cyBiZSB0aGVcbiAgLy8gIHNoYWRvdyBob3N0LiBIb3dldmVyLCBldmVudC50YXJnZXQuY29tcG9zZWRQYXRoKCkgd2lsbCBiZSBhbiBhcnJheSBvZlxuICAvLyAgbm9kZXMgXCJjbGlja2VkXCIgZnJvbSBpbm5lci1tb3N0ICh0aGUgYWN0dWFsIGVsZW1lbnQgaW5zaWRlIHRoZSBzaGFkb3cpIHRvXG4gIC8vICBvdXRlci1tb3N0ICh0aGUgaG9zdCBIVE1MIGRvY3VtZW50KS4gSWYgd2UgaGF2ZSBhY2Nlc3MgdG8gY29tcG9zZWRQYXRoKCksXG4gIC8vICB0aGVuIHVzZSBpdHMgZmlyc3QgZWxlbWVudDsgb3RoZXJ3aXNlLCBmYWxsIGJhY2sgdG8gZXZlbnQudGFyZ2V0IChhbmRcbiAgLy8gIHRoaXMgb25seSB3b3JrcyBmb3IgYW4gX29wZW5fIHNoYWRvdyBET007IG90aGVyd2lzZSxcbiAgLy8gIGNvbXBvc2VkUGF0aCgpWzBdID09PSBldmVudC50YXJnZXQgYWx3YXlzKS5cbiAgcmV0dXJuIGV2ZW50LnRhcmdldC5zaGFkb3dSb290ICYmIHR5cGVvZiBldmVudC5jb21wb3NlZFBhdGggPT09ICdmdW5jdGlvbicgPyBldmVudC5jb21wb3NlZFBhdGgoKVswXSA6IGV2ZW50LnRhcmdldDtcbn07XG5cbi8vIE5PVEU6IHRoaXMgbXVzdCBiZSBfb3V0c2lkZV8gYGNyZWF0ZUZvY3VzVHJhcCgpYCB0byBtYWtlIHN1cmUgYWxsIHRyYXBzIGluIHRoaXNcbi8vICBjdXJyZW50IGluc3RhbmNlIHVzZSB0aGUgc2FtZSBzdGFjayBpZiBgdXNlck9wdGlvbnMudHJhcFN0YWNrYCBpc24ndCBzcGVjaWZpZWRcbnZhciBpbnRlcm5hbFRyYXBTdGFjayA9IFtdO1xudmFyIGNyZWF0ZUZvY3VzVHJhcCA9IGZ1bmN0aW9uIGNyZWF0ZUZvY3VzVHJhcChlbGVtZW50cywgdXNlck9wdGlvbnMpIHtcbiAgLy8gU1NSOiBhIGxpdmUgdHJhcCBzaG91bGRuJ3QgYmUgY3JlYXRlZCBpbiB0aGlzIHR5cGUgb2YgZW52aXJvbm1lbnQgc28gdGhpc1xuICAvLyAgc2hvdWxkIGJlIHNhZmUgY29kZSB0byBleGVjdXRlIGlmIHRoZSBgZG9jdW1lbnRgIG9wdGlvbiBpc24ndCBzcGVjaWZpZWRcbiAgdmFyIGRvYyA9ICh1c2VyT3B0aW9ucyA9PT0gbnVsbCB8fCB1c2VyT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlck9wdGlvbnMuZG9jdW1lbnQpIHx8IGRvY3VtZW50O1xuICB2YXIgdHJhcFN0YWNrID0gKHVzZXJPcHRpb25zID09PSBudWxsIHx8IHVzZXJPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1c2VyT3B0aW9ucy50cmFwU3RhY2spIHx8IGludGVybmFsVHJhcFN0YWNrO1xuICB2YXIgY29uZmlnID0gX29iamVjdFNwcmVhZDIoe1xuICAgIHJldHVybkZvY3VzT25EZWFjdGl2YXRlOiB0cnVlLFxuICAgIGVzY2FwZURlYWN0aXZhdGVzOiB0cnVlLFxuICAgIGRlbGF5SW5pdGlhbEZvY3VzOiB0cnVlLFxuICAgIGlzS2V5Rm9yd2FyZDogaXNLZXlGb3J3YXJkLFxuICAgIGlzS2V5QmFja3dhcmQ6IGlzS2V5QmFja3dhcmRcbiAgfSwgdXNlck9wdGlvbnMpO1xuICB2YXIgc3RhdGUgPSB7XG4gICAgLy8gY29udGFpbmVycyBnaXZlbiB0byBjcmVhdGVGb2N1c1RyYXAoKVxuICAgIC8vIEB0eXBlIHtBcnJheTxIVE1MRWxlbWVudD59XG4gICAgY29udGFpbmVyczogW10sXG4gICAgLy8gbGlzdCBvZiBvYmplY3RzIGlkZW50aWZ5aW5nIHRhYmJhYmxlIG5vZGVzIGluIGBjb250YWluZXJzYCBpbiB0aGUgdHJhcFxuICAgIC8vIE5PVEU6IGl0J3MgcG9zc2libGUgdGhhdCBhIGdyb3VwIGhhcyBubyB0YWJiYWJsZSBub2RlcyBpZiBub2RlcyBnZXQgcmVtb3ZlZCB3aGlsZSB0aGUgdHJhcFxuICAgIC8vICBpcyBhY3RpdmUsIGJ1dCB0aGUgdHJhcCBzaG91bGQgbmV2ZXIgZ2V0IHRvIGEgc3RhdGUgd2hlcmUgdGhlcmUgaXNuJ3QgYXQgbGVhc3Qgb25lIGdyb3VwXG4gICAgLy8gIHdpdGggYXQgbGVhc3Qgb25lIHRhYmJhYmxlIG5vZGUgaW4gaXQgKHRoYXQgd291bGQgbGVhZCB0byBhbiBlcnJvciBjb25kaXRpb24gdGhhdCB3b3VsZFxuICAgIC8vICByZXN1bHQgaW4gYW4gZXJyb3IgYmVpbmcgdGhyb3duKVxuICAgIC8vIEB0eXBlIHtBcnJheTx7XG4gICAgLy8gICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIC8vICAgdGFiYmFibGVOb2RlczogQXJyYXk8SFRNTEVsZW1lbnQ+LCAvLyBlbXB0eSBpZiBub25lXG4gICAgLy8gICBmb2N1c2FibGVOb2RlczogQXJyYXk8SFRNTEVsZW1lbnQ+LCAvLyBlbXB0eSBpZiBub25lXG4gICAgLy8gICBmaXJzdFRhYmJhYmxlTm9kZTogSFRNTEVsZW1lbnR8bnVsbCxcbiAgICAvLyAgIGxhc3RUYWJiYWJsZU5vZGU6IEhUTUxFbGVtZW50fG51bGwsXG4gICAgLy8gICBuZXh0VGFiYmFibGVOb2RlOiAobm9kZTogSFRNTEVsZW1lbnQsIGZvcndhcmQ6IGJvb2xlYW4pID0+IEhUTUxFbGVtZW50fHVuZGVmaW5lZFxuICAgIC8vIH0+fVxuICAgIGNvbnRhaW5lckdyb3VwczogW10sXG4gICAgLy8gc2FtZSBvcmRlci9sZW5ndGggYXMgYGNvbnRhaW5lcnNgIGxpc3RcblxuICAgIC8vIHJlZmVyZW5jZXMgdG8gb2JqZWN0cyBpbiBgY29udGFpbmVyR3JvdXBzYCwgYnV0IG9ubHkgdGhvc2UgdGhhdCBhY3R1YWxseSBoYXZlXG4gICAgLy8gIHRhYmJhYmxlIG5vZGVzIGluIHRoZW1cbiAgICAvLyBOT1RFOiBzYW1lIG9yZGVyIGFzIGBjb250YWluZXJzYCBhbmQgYGNvbnRhaW5lckdyb3Vwc2AsIGJ1dCBfX25vdCBuZWNlc3NhcmlseV9fXG4gICAgLy8gIHRoZSBzYW1lIGxlbmd0aFxuICAgIHRhYmJhYmxlR3JvdXBzOiBbXSxcbiAgICBub2RlRm9jdXNlZEJlZm9yZUFjdGl2YXRpb246IG51bGwsXG4gICAgbW9zdFJlY2VudGx5Rm9jdXNlZE5vZGU6IG51bGwsXG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIC8vIHRpbWVyIElEIGZvciB3aGVuIGRlbGF5SW5pdGlhbEZvY3VzIGlzIHRydWUgYW5kIGluaXRpYWwgZm9jdXMgaW4gdGhpcyB0cmFwXG4gICAgLy8gIGhhcyBiZWVuIGRlbGF5ZWQgZHVyaW5nIGFjdGl2YXRpb25cbiAgICBkZWxheUluaXRpYWxGb2N1c1RpbWVyOiB1bmRlZmluZWRcbiAgfTtcbiAgdmFyIHRyYXA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0IC0tIHNvbWUgcHJpdmF0ZSBmdW5jdGlvbnMgcmVmZXJlbmNlIGl0LCBhbmQgaXRzIG1ldGhvZHMgcmVmZXJlbmNlIHByaXZhdGUgZnVuY3Rpb25zLCBzbyB3ZSBtdXN0IGRlY2xhcmUgaGVyZSBhbmQgZGVmaW5lIGxhdGVyXG5cbiAgLyoqXG4gICAqIEdldHMgYSBjb25maWd1cmF0aW9uIG9wdGlvbiB2YWx1ZS5cbiAgICogQHBhcmFtIHtPYmplY3R8dW5kZWZpbmVkfSBjb25maWdPdmVycmlkZU9wdGlvbnMgSWYgdHJ1ZSwgYW5kIG9wdGlvbiBpcyBkZWZpbmVkIGluIHRoaXMgc2V0LFxuICAgKiAgdmFsdWUgd2lsbCBiZSB0YWtlbiBmcm9tIHRoaXMgb2JqZWN0LiBPdGhlcndpc2UsIHZhbHVlIHdpbGwgYmUgdGFrZW4gZnJvbSBiYXNlIGNvbmZpZ3VyYXRpb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25OYW1lIE5hbWUgb2YgdGhlIG9wdGlvbiB3aG9zZSB2YWx1ZSBpcyBzb3VnaHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gW2NvbmZpZ09wdGlvbk5hbWVdIE5hbWUgb2Ygb3B0aW9uIHRvIHVzZSBfX2luc3RlYWQgb2ZfXyBgb3B0aW9uTmFtZWBcbiAgICogIElJRiBgY29uZmlnT3ZlcnJpZGVPcHRpb25zYCBpcyBub3QgZGVmaW5lZC4gT3RoZXJ3aXNlLCBgb3B0aW9uTmFtZWAgaXMgdXNlZC5cbiAgICovXG4gIHZhciBnZXRPcHRpb24gPSBmdW5jdGlvbiBnZXRPcHRpb24oY29uZmlnT3ZlcnJpZGVPcHRpb25zLCBvcHRpb25OYW1lLCBjb25maWdPcHRpb25OYW1lKSB7XG4gICAgcmV0dXJuIGNvbmZpZ092ZXJyaWRlT3B0aW9ucyAmJiBjb25maWdPdmVycmlkZU9wdGlvbnNbb3B0aW9uTmFtZV0gIT09IHVuZGVmaW5lZCA/IGNvbmZpZ092ZXJyaWRlT3B0aW9uc1tvcHRpb25OYW1lXSA6IGNvbmZpZ1tjb25maWdPcHRpb25OYW1lIHx8IG9wdGlvbk5hbWVdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoZSBlbGVtZW50LlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7RXZlbnR9IFtldmVudF1cbiAgICogQHJldHVybnMge251bWJlcn0gSW5kZXggb2YgdGhlIGNvbnRhaW5lciBpbiBlaXRoZXIgYHN0YXRlLmNvbnRhaW5lcnNgIG9yXG4gICAqICBgc3RhdGUuY29udGFpbmVyR3JvdXBzYCAodGhlIG9yZGVyL2xlbmd0aCBvZiB0aGVzZSBsaXN0cyBhcmUgdGhlIHNhbWUpOyAtMVxuICAgKiAgaWYgdGhlIGVsZW1lbnQgaXNuJ3QgZm91bmQuXG4gICAqL1xuICB2YXIgZmluZENvbnRhaW5lckluZGV4ID0gZnVuY3Rpb24gZmluZENvbnRhaW5lckluZGV4KGVsZW1lbnQsIGV2ZW50KSB7XG4gICAgdmFyIGNvbXBvc2VkUGF0aCA9IHR5cGVvZiAoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50LmNvbXBvc2VkUGF0aCkgPT09ICdmdW5jdGlvbicgPyBldmVudC5jb21wb3NlZFBhdGgoKSA6IHVuZGVmaW5lZDtcbiAgICAvLyBOT1RFOiBzZWFyY2ggYGNvbnRhaW5lckdyb3Vwc2AgYmVjYXVzZSBpdCdzIHBvc3NpYmxlIGEgZ3JvdXAgY29udGFpbnMgbm8gdGFiYmFibGVcbiAgICAvLyAgbm9kZXMsIGJ1dCBzdGlsbCBjb250YWlucyBmb2N1c2FibGUgbm9kZXMgKGUuZy4gaWYgdGhleSBhbGwgaGF2ZSBgdGFiaW5kZXg9LTFgKVxuICAgIC8vICBhbmQgd2Ugc3RpbGwgbmVlZCB0byBmaW5kIHRoZSBlbGVtZW50IGluIHRoZXJlXG4gICAgcmV0dXJuIHN0YXRlLmNvbnRhaW5lckdyb3Vwcy5maW5kSW5kZXgoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSBfcmVmLmNvbnRhaW5lcixcbiAgICAgICAgdGFiYmFibGVOb2RlcyA9IF9yZWYudGFiYmFibGVOb2RlcztcbiAgICAgIHJldHVybiBjb250YWluZXIuY29udGFpbnMoZWxlbWVudCkgfHwgKCAvLyBmYWxsIGJhY2sgdG8gZXhwbGljaXQgdGFiYmFibGUgc2VhcmNoIHdoaWNoIHdpbGwgdGFrZSBpbnRvIGNvbnNpZGVyYXRpb24gYW55XG4gICAgICAvLyAgd2ViIGNvbXBvbmVudHMgaWYgdGhlIGB0YWJiYWJsZU9wdGlvbnMuZ2V0U2hhZG93Um9vdGAgb3B0aW9uIHdhcyB1c2VkIGZvclxuICAgICAgLy8gIHRoZSB0cmFwLCBlbmFibGluZyBzaGFkb3cgRE9NIHN1cHBvcnQgaW4gdGFiYmFibGUgKGBOb2RlLmNvbnRhaW5zKClgIGRvZXNuJ3RcbiAgICAgIC8vICBsb29rIGluc2lkZSB3ZWIgY29tcG9uZW50cyBldmVuIGlmIG9wZW4pXG4gICAgICBjb21wb3NlZFBhdGggPT09IG51bGwgfHwgY29tcG9zZWRQYXRoID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb3NlZFBhdGguaW5jbHVkZXMoY29udGFpbmVyKSkgfHwgdGFiYmFibGVOb2Rlcy5maW5kKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlID09PSBlbGVtZW50O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG5vZGUgZm9yIHRoZSBnaXZlbiBvcHRpb24sIHdoaWNoIGlzIGV4cGVjdGVkIHRvIGJlIGFuIG9wdGlvbiB0aGF0XG4gICAqICBjYW4gYmUgZWl0aGVyIGEgRE9NIG5vZGUsIGEgc3RyaW5nIHRoYXQgaXMgYSBzZWxlY3RvciB0byBnZXQgYSBub2RlLCBgZmFsc2VgXG4gICAqICAoaWYgYSBub2RlIGlzIGV4cGxpY2l0bHkgTk9UIGdpdmVuKSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW55IG9mIHRoZXNlXG4gICAqICB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25OYW1lXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWQgfCBmYWxzZSB8IEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gUmV0dXJuc1xuICAgKiAgYHVuZGVmaW5lZGAgaWYgdGhlIG9wdGlvbiBpcyBub3Qgc3BlY2lmaWVkOyBgZmFsc2VgIGlmIHRoZSBvcHRpb25cbiAgICogIHJlc29sdmVkIHRvIGBmYWxzZWAgKG5vZGUgZXhwbGljaXRseSBub3QgZ2l2ZW4pOyBvdGhlcndpc2UsIHRoZSByZXNvbHZlZFxuICAgKiAgRE9NIG5vZGUuXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgb3B0aW9uIGlzIHNldCwgbm90IGBmYWxzZWAsIGFuZCBpcyBub3QsIG9yIGRvZXMgbm90XG4gICAqICByZXNvbHZlIHRvIGEgbm9kZS5cbiAgICovXG4gIHZhciBnZXROb2RlRm9yT3B0aW9uID0gZnVuY3Rpb24gZ2V0Tm9kZUZvck9wdGlvbihvcHRpb25OYW1lKSB7XG4gICAgdmFyIG9wdGlvblZhbHVlID0gY29uZmlnW29wdGlvbk5hbWVdO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9uVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgcGFyYW1zW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgb3B0aW9uVmFsdWUgPSBvcHRpb25WYWx1ZS5hcHBseSh2b2lkIDAsIHBhcmFtcyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25WYWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgb3B0aW9uVmFsdWUgPSB1bmRlZmluZWQ7IC8vIHVzZSBkZWZhdWx0IHZhbHVlXG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25WYWx1ZSkge1xuICAgICAgaWYgKG9wdGlvblZhbHVlID09PSB1bmRlZmluZWQgfHwgb3B0aW9uVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25WYWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGVsc2UsIGVtcHR5IHN0cmluZyAoaW52YWxpZCksIG51bGwgKGludmFsaWQpLCAwIChpbnZhbGlkKVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJgXCIuY29uY2F0KG9wdGlvbk5hbWUsIFwiYCB3YXMgc3BlY2lmaWVkIGJ1dCB3YXMgbm90IGEgbm9kZSwgb3IgZGlkIG5vdCByZXR1cm4gYSBub2RlXCIpKTtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBvcHRpb25WYWx1ZTsgLy8gY291bGQgYmUgSFRNTEVsZW1lbnQsIFNWR0VsZW1lbnQsIG9yIG5vbi1lbXB0eSBzdHJpbmcgYXQgdGhpcyBwb2ludFxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25WYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5vZGUgPSBkb2MucXVlcnlTZWxlY3RvcihvcHRpb25WYWx1ZSk7IC8vIHJlc29sdmUgdG8gbm9kZSwgb3IgbnVsbCBpZiBmYWlsc1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImBcIi5jb25jYXQob3B0aW9uTmFtZSwgXCJgIGFzIHNlbGVjdG9yIHJlZmVycyB0byBubyBrbm93biBub2RlXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIHZhciBnZXRJbml0aWFsRm9jdXNOb2RlID0gZnVuY3Rpb24gZ2V0SW5pdGlhbEZvY3VzTm9kZSgpIHtcbiAgICB2YXIgbm9kZSA9IGdldE5vZGVGb3JPcHRpb24oJ2luaXRpYWxGb2N1cycpO1xuXG4gICAgLy8gZmFsc2UgZXhwbGljaXRseSBpbmRpY2F0ZXMgd2Ugd2FudCBubyBpbml0aWFsRm9jdXMgYXQgYWxsXG4gICAgaWYgKG5vZGUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChub2RlID09PSB1bmRlZmluZWQgfHwgIWlzRm9jdXNhYmxlKG5vZGUsIGNvbmZpZy50YWJiYWJsZU9wdGlvbnMpKSB7XG4gICAgICAvLyBvcHRpb24gbm90IHNwZWNpZmllZCBub3IgZm9jdXNhYmxlOiB1c2UgZmFsbGJhY2sgb3B0aW9uc1xuICAgICAgaWYgKGZpbmRDb250YWluZXJJbmRleChkb2MuYWN0aXZlRWxlbWVudCkgPj0gMCkge1xuICAgICAgICBub2RlID0gZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmlyc3RUYWJiYWJsZUdyb3VwID0gc3RhdGUudGFiYmFibGVHcm91cHNbMF07XG4gICAgICAgIHZhciBmaXJzdFRhYmJhYmxlTm9kZSA9IGZpcnN0VGFiYmFibGVHcm91cCAmJiBmaXJzdFRhYmJhYmxlR3JvdXAuZmlyc3RUYWJiYWJsZU5vZGU7XG5cbiAgICAgICAgLy8gTk9URTogYGZhbGxiYWNrRm9jdXNgIG9wdGlvbiBmdW5jdGlvbiBjYW5ub3QgcmV0dXJuIGBmYWxzZWAgKG5vdCBzdXBwb3J0ZWQpXG4gICAgICAgIG5vZGUgPSBmaXJzdFRhYmJhYmxlTm9kZSB8fCBnZXROb2RlRm9yT3B0aW9uKCdmYWxsYmFja0ZvY3VzJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3VyIGZvY3VzLXRyYXAgbmVlZHMgdG8gaGF2ZSBhdCBsZWFzdCBvbmUgZm9jdXNhYmxlIGVsZW1lbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIHZhciB1cGRhdGVUYWJiYWJsZU5vZGVzID0gZnVuY3Rpb24gdXBkYXRlVGFiYmFibGVOb2RlcygpIHtcbiAgICBzdGF0ZS5jb250YWluZXJHcm91cHMgPSBzdGF0ZS5jb250YWluZXJzLm1hcChmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICB2YXIgdGFiYmFibGVOb2RlcyA9IHRhYmJhYmxlKGNvbnRhaW5lciwgY29uZmlnLnRhYmJhYmxlT3B0aW9ucyk7XG5cbiAgICAgIC8vIE5PVEU6IGlmIHdlIGhhdmUgdGFiYmFibGUgbm9kZXMsIHdlIG11c3QgaGF2ZSBmb2N1c2FibGUgbm9kZXM7IGZvY3VzYWJsZSBub2Rlc1xuICAgICAgLy8gIGFyZSBhIHN1cGVyc2V0IG9mIHRhYmJhYmxlIG5vZGVzXG4gICAgICB2YXIgZm9jdXNhYmxlTm9kZXMgPSBmb2N1c2FibGUoY29udGFpbmVyLCBjb25maWcudGFiYmFibGVPcHRpb25zKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICB0YWJiYWJsZU5vZGVzOiB0YWJiYWJsZU5vZGVzLFxuICAgICAgICBmb2N1c2FibGVOb2RlczogZm9jdXNhYmxlTm9kZXMsXG4gICAgICAgIGZpcnN0VGFiYmFibGVOb2RlOiB0YWJiYWJsZU5vZGVzLmxlbmd0aCA+IDAgPyB0YWJiYWJsZU5vZGVzWzBdIDogbnVsbCxcbiAgICAgICAgbGFzdFRhYmJhYmxlTm9kZTogdGFiYmFibGVOb2Rlcy5sZW5ndGggPiAwID8gdGFiYmFibGVOb2Rlc1t0YWJiYWJsZU5vZGVzLmxlbmd0aCAtIDFdIDogbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmRzIHRoZSBfX3RhYmJhYmxlX18gbm9kZSB0aGF0IGZvbGxvd3MgdGhlIGdpdmVuIG5vZGUgaW4gdGhlIHNwZWNpZmllZCBkaXJlY3Rpb24sXG4gICAgICAgICAqICBpbiB0aGlzIGNvbnRhaW5lciwgaWYgYW55LlxuICAgICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcndhcmRdIFRydWUgaWYgZ29pbmcgaW4gZm9yd2FyZCB0YWIgb3JkZXI7IGZhbHNlIGlmIGdvaW5nXG4gICAgICAgICAqICBpbiByZXZlcnNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8dW5kZWZpbmVkfSBUaGUgbmV4dCB0YWJiYWJsZSBub2RlLCBpZiBhbnkuXG4gICAgICAgICAqL1xuICAgICAgICBuZXh0VGFiYmFibGVOb2RlOiBmdW5jdGlvbiBuZXh0VGFiYmFibGVOb2RlKG5vZGUpIHtcbiAgICAgICAgICB2YXIgZm9yd2FyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgICAgICAvLyBOT1RFOiBJZiB0YWJpbmRleCBpcyBwb3NpdGl2ZSAoaW4gb3JkZXIgdG8gbWFuaXB1bGF0ZSB0aGUgdGFiIG9yZGVyIHNlcGFyYXRlXG4gICAgICAgICAgLy8gIGZyb20gdGhlIERPTSBvcmRlciksIHRoaXMgX193aWxsIG5vdCB3b3JrX18gYmVjYXVzZSB0aGUgbGlzdCBvZiBmb2N1c2FibGVOb2RlcyxcbiAgICAgICAgICAvLyAgd2hpbGUgaXQgY29udGFpbnMgdGFiYmFibGUgbm9kZXMsIGRvZXMgbm90IHNvcnQgaXRzIG5vZGVzIGluIGFueSBvcmRlciBvdGhlclxuICAgICAgICAgIC8vICB0aGFuIERPTSBvcmRlciwgYmVjYXVzZSBpdCBjYW4ndDogV2hlcmUgd291bGQgeW91IHBsYWNlIGZvY3VzYWJsZSAoYnV0IG5vdFxuICAgICAgICAgIC8vICB0YWJiYWJsZSkgbm9kZXMgaW4gdGhhdCBvcmRlcj8gVGhleSBoYXZlIG5vIG9yZGVyLCBiZWNhdXNlIHRoZXkgYXJlbid0IHRhYmJhbGUuLi5cbiAgICAgICAgICAvLyBTdXBwb3J0IGZvciBwb3NpdGl2ZSB0YWJpbmRleCBpcyBhbHJlYWR5IGJyb2tlbiBhbmQgaGFyZCB0byBtYW5hZ2UgKHBvc3NpYmx5XG4gICAgICAgICAgLy8gIG5vdCBzdXBwb3J0YWJsZSwgVEJEKSwgc28gdGhpcyBpc24ndCBnb2luZyB0byBtYWtlIHRoaW5ncyB3b3JzZSB0aGFuIHRoZXlcbiAgICAgICAgICAvLyAgYWxyZWFkeSBhcmUsIGFuZCBhdCBsZWFzdCBtYWtlcyB0aGluZ3MgYmV0dGVyIGZvciB0aGUgbWFqb3JpdHkgb2YgY2FzZXMgd2hlcmVcbiAgICAgICAgICAvLyAgdGFiaW5kZXggaXMgZWl0aGVyIDAvdW5zZXQgb3IgbmVnYXRpdmUuXG4gICAgICAgICAgLy8gRllJLCBwb3NpdGl2ZSB0YWJpbmRleCBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZvY3VzLXRyYXAvZm9jdXMtdHJhcC9pc3N1ZXMvMzc1XG4gICAgICAgICAgdmFyIG5vZGVJZHggPSBmb2N1c2FibGVOb2Rlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBuID09PSBub2RlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChub2RlSWR4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZvcndhcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBmb2N1c2FibGVOb2Rlcy5zbGljZShub2RlSWR4ICsgMSkuZmluZChmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgICByZXR1cm4gaXNUYWJiYWJsZShuLCBjb25maWcudGFiYmFibGVPcHRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZm9jdXNhYmxlTm9kZXMuc2xpY2UoMCwgbm9kZUlkeCkucmV2ZXJzZSgpLmZpbmQoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBpc1RhYmJhYmxlKG4sIGNvbmZpZy50YWJiYWJsZU9wdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHN0YXRlLnRhYmJhYmxlR3JvdXBzID0gc3RhdGUuY29udGFpbmVyR3JvdXBzLmZpbHRlcihmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgIHJldHVybiBncm91cC50YWJiYWJsZU5vZGVzLmxlbmd0aCA+IDA7XG4gICAgfSk7XG5cbiAgICAvLyB0aHJvdyBpZiBubyBncm91cHMgaGF2ZSB0YWJiYWJsZSBub2RlcyBhbmQgd2UgZG9uJ3QgaGF2ZSBhIGZhbGxiYWNrIGZvY3VzIG5vZGUgZWl0aGVyXG4gICAgaWYgKHN0YXRlLnRhYmJhYmxlR3JvdXBzLmxlbmd0aCA8PSAwICYmICFnZXROb2RlRm9yT3B0aW9uKCdmYWxsYmFja0ZvY3VzJykgLy8gcmV0dXJuaW5nIGZhbHNlIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgb3B0aW9uXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgZm9jdXMtdHJhcCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGNvbnRhaW5lciB3aXRoIGF0IGxlYXN0IG9uZSB0YWJiYWJsZSBub2RlIGluIGl0IGF0IGFsbCB0aW1lcycpO1xuICAgIH1cbiAgfTtcbiAgdmFyIHRyeUZvY3VzID0gZnVuY3Rpb24gdHJ5Rm9jdXMobm9kZSkge1xuICAgIGlmIChub2RlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZSA9PT0gZG9jLmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFub2RlIHx8ICFub2RlLmZvY3VzKSB7XG4gICAgICB0cnlGb2N1cyhnZXRJbml0aWFsRm9jdXNOb2RlKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBub2RlLmZvY3VzKHtcbiAgICAgIHByZXZlbnRTY3JvbGw6ICEhY29uZmlnLnByZXZlbnRTY3JvbGxcbiAgICB9KTtcbiAgICBzdGF0ZS5tb3N0UmVjZW50bHlGb2N1c2VkTm9kZSA9IG5vZGU7XG4gICAgaWYgKGlzU2VsZWN0YWJsZUlucHV0KG5vZGUpKSB7XG4gICAgICBub2RlLnNlbGVjdCgpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGdldFJldHVybkZvY3VzTm9kZSA9IGZ1bmN0aW9uIGdldFJldHVybkZvY3VzTm9kZShwcmV2aW91c0FjdGl2ZUVsZW1lbnQpIHtcbiAgICB2YXIgbm9kZSA9IGdldE5vZGVGb3JPcHRpb24oJ3NldFJldHVybkZvY3VzJywgcHJldmlvdXNBY3RpdmVFbGVtZW50KTtcbiAgICByZXR1cm4gbm9kZSA/IG5vZGUgOiBub2RlID09PSBmYWxzZSA/IGZhbHNlIDogcHJldmlvdXNBY3RpdmVFbGVtZW50O1xuICB9O1xuXG4gIC8vIFRoaXMgbmVlZHMgdG8gYmUgZG9uZSBvbiBtb3VzZWRvd24gYW5kIHRvdWNoc3RhcnQgaW5zdGVhZCBvZiBjbGlja1xuICAvLyBzbyB0aGF0IGl0IHByZWNlZGVzIHRoZSBmb2N1cyBldmVudC5cbiAgdmFyIGNoZWNrUG9pbnRlckRvd24gPSBmdW5jdGlvbiBjaGVja1BvaW50ZXJEb3duKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0QWN0dWFsVGFyZ2V0KGUpO1xuICAgIGlmIChmaW5kQ29udGFpbmVySW5kZXgodGFyZ2V0LCBlKSA+PSAwKSB7XG4gICAgICAvLyBhbGxvdyB0aGUgY2xpY2sgc2luY2UgaXQgb2N1cnJlZCBpbnNpZGUgdGhlIHRyYXBcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHZhbHVlT3JIYW5kbGVyKGNvbmZpZy5jbGlja091dHNpZGVEZWFjdGl2YXRlcywgZSkpIHtcbiAgICAgIC8vIGltbWVkaWF0ZWx5IGRlYWN0aXZhdGUgdGhlIHRyYXBcbiAgICAgIHRyYXAuZGVhY3RpdmF0ZSh7XG4gICAgICAgIC8vIE5PVEU6IGJ5IHNldHRpbmcgYHJldHVybkZvY3VzOiBmYWxzZWAsIGRlYWN0aXZhdGUoKSB3aWxsIGRvIG5vdGhpbmcsXG4gICAgICAgIC8vICB3aGljaCB3aWxsIHJlc3VsdCBpbiB0aGUgb3V0c2lkZSBjbGljayBzZXR0aW5nIGZvY3VzIHRvIHRoZSBub2RlXG4gICAgICAgIC8vICB0aGF0IHdhcyBjbGlja2VkIChhbmQgaWYgbm90IGZvY3VzYWJsZSwgdG8gXCJub3RoaW5nXCIpOyBieSBzZXR0aW5nXG4gICAgICAgIC8vICBgcmV0dXJuRm9jdXM6IHRydWVgLCB3ZSdsbCBhdHRlbXB0IHRvIHJlLWZvY3VzIHRoZSBub2RlIG9yaWdpbmFsbHktZm9jdXNlZFxuICAgICAgICAvLyAgb24gYWN0aXZhdGlvbiAob3IgdGhlIGNvbmZpZ3VyZWQgYHNldFJldHVybkZvY3VzYCBub2RlKSwgd2hldGhlciB0aGVcbiAgICAgICAgLy8gIG91dHNpZGUgY2xpY2sgd2FzIG9uIGEgZm9jdXNhYmxlIG5vZGUgb3Igbm90XG4gICAgICAgIHJldHVybkZvY3VzOiBjb25maWcucmV0dXJuRm9jdXNPbkRlYWN0aXZhdGVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRoaXMgaXMgbmVlZGVkIGZvciBtb2JpbGUgZGV2aWNlcy5cbiAgICAvLyAoSWYgd2UnbGwgb25seSBsZXQgYGNsaWNrYCBldmVudHMgdGhyb3VnaCxcbiAgICAvLyB0aGVuIG9uIG1vYmlsZSB0aGV5IHdpbGwgYmUgYmxvY2tlZCBhbnl3YXlzIGlmIGB0b3VjaHN0YXJ0YCBpcyBibG9ja2VkLilcbiAgICBpZiAodmFsdWVPckhhbmRsZXIoY29uZmlnLmFsbG93T3V0c2lkZUNsaWNrLCBlKSkge1xuICAgICAgLy8gYWxsb3cgdGhlIGNsaWNrIG91dHNpZGUgdGhlIHRyYXAgdG8gdGFrZSBwbGFjZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG90aGVyd2lzZSwgcHJldmVudCB0aGUgY2xpY2tcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG5cbiAgLy8gSW4gY2FzZSBmb2N1cyBlc2NhcGVzIHRoZSB0cmFwIGZvciBzb21lIHN0cmFuZ2UgcmVhc29uLCBwdWxsIGl0IGJhY2sgaW4uXG4gIHZhciBjaGVja0ZvY3VzSW4gPSBmdW5jdGlvbiBjaGVja0ZvY3VzSW4oZSkge1xuICAgIHZhciB0YXJnZXQgPSBnZXRBY3R1YWxUYXJnZXQoZSk7XG4gICAgdmFyIHRhcmdldENvbnRhaW5lZCA9IGZpbmRDb250YWluZXJJbmRleCh0YXJnZXQsIGUpID49IDA7XG5cbiAgICAvLyBJbiBGaXJlZm94IHdoZW4geW91IFRhYiBvdXQgb2YgYW4gaWZyYW1lIHRoZSBEb2N1bWVudCBpcyBicmllZmx5IGZvY3VzZWQuXG4gICAgaWYgKHRhcmdldENvbnRhaW5lZCB8fCB0YXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xuICAgICAgaWYgKHRhcmdldENvbnRhaW5lZCkge1xuICAgICAgICBzdGF0ZS5tb3N0UmVjZW50bHlGb2N1c2VkTm9kZSA9IHRhcmdldDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZXNjYXBlZCEgcHVsbCBpdCBiYWNrIGluIHRvIHdoZXJlIGl0IGp1c3QgbGVmdFxuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIHRyeUZvY3VzKHN0YXRlLm1vc3RSZWNlbnRseUZvY3VzZWROb2RlIHx8IGdldEluaXRpYWxGb2N1c05vZGUoKSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhpamFjayBrZXkgbmF2IGV2ZW50cyBvbiB0aGUgZmlyc3QgYW5kIGxhc3QgZm9jdXNhYmxlIG5vZGVzIG9mIHRoZSB0cmFwLFxuICAvLyBpbiBvcmRlciB0byBwcmV2ZW50IGZvY3VzIGZyb20gZXNjYXBpbmcuIElmIGl0IGVzY2FwZXMgZm9yIGV2ZW4gYVxuICAvLyBtb21lbnQgaXQgY2FuIGVuZCB1cCBzY3JvbGxpbmcgdGhlIHBhZ2UgYW5kIGNhdXNpbmcgY29uZnVzaW9uIHNvIHdlXG4gIC8vIGtpbmQgb2YgbmVlZCB0byBjYXB0dXJlIHRoZSBhY3Rpb24gYXQgdGhlIGtleWRvd24gcGhhc2UuXG4gIHZhciBjaGVja0tleU5hdiA9IGZ1bmN0aW9uIGNoZWNrS2V5TmF2KGV2ZW50KSB7XG4gICAgdmFyIGlzQmFja3dhcmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgIHZhciB0YXJnZXQgPSBnZXRBY3R1YWxUYXJnZXQoZXZlbnQpO1xuICAgIHVwZGF0ZVRhYmJhYmxlTm9kZXMoKTtcbiAgICB2YXIgZGVzdGluYXRpb25Ob2RlID0gbnVsbDtcbiAgICBpZiAoc3RhdGUudGFiYmFibGVHcm91cHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gbWFrZSBzdXJlIHRoZSB0YXJnZXQgaXMgYWN0dWFsbHkgY29udGFpbmVkIGluIGEgZ3JvdXBcbiAgICAgIC8vIE5PVEU6IHRoZSB0YXJnZXQgbWF5IGFsc28gYmUgdGhlIGNvbnRhaW5lciBpdHNlbGYgaWYgaXQncyBmb2N1c2FibGVcbiAgICAgIC8vICB3aXRoIHRhYkluZGV4PSctMScgYW5kIHdhcyBnaXZlbiBpbml0aWFsIGZvY3VzXG4gICAgICB2YXIgY29udGFpbmVySW5kZXggPSBmaW5kQ29udGFpbmVySW5kZXgodGFyZ2V0LCBldmVudCk7XG4gICAgICB2YXIgY29udGFpbmVyR3JvdXAgPSBjb250YWluZXJJbmRleCA+PSAwID8gc3RhdGUuY29udGFpbmVyR3JvdXBzW2NvbnRhaW5lckluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb250YWluZXJJbmRleCA8IDApIHtcbiAgICAgICAgLy8gdGFyZ2V0IG5vdCBmb3VuZCBpbiBhbnkgZ3JvdXA6IHF1aXRlIHBvc3NpYmxlIGZvY3VzIGhhcyBlc2NhcGVkIHRoZSB0cmFwLFxuICAgICAgICAvLyAgc28gYnJpbmcgaXQgYmFjayBpbnRvLi4uXG4gICAgICAgIGlmIChpc0JhY2t3YXJkKSB7XG4gICAgICAgICAgLy8gLi4udGhlIGxhc3Qgbm9kZSBpbiB0aGUgbGFzdCBncm91cFxuICAgICAgICAgIGRlc3RpbmF0aW9uTm9kZSA9IHN0YXRlLnRhYmJhYmxlR3JvdXBzW3N0YXRlLnRhYmJhYmxlR3JvdXBzLmxlbmd0aCAtIDFdLmxhc3RUYWJiYWJsZU5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gLi4udGhlIGZpcnN0IG5vZGUgaW4gdGhlIGZpcnN0IGdyb3VwXG4gICAgICAgICAgZGVzdGluYXRpb25Ob2RlID0gc3RhdGUudGFiYmFibGVHcm91cHNbMF0uZmlyc3RUYWJiYWJsZU5vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNCYWNrd2FyZCkge1xuICAgICAgICAvLyBSRVZFUlNFXG5cbiAgICAgICAgLy8gaXMgdGhlIHRhcmdldCB0aGUgZmlyc3QgdGFiYmFibGUgbm9kZSBpbiBhIGdyb3VwP1xuICAgICAgICB2YXIgc3RhcnRPZkdyb3VwSW5kZXggPSBmaW5kSW5kZXgoc3RhdGUudGFiYmFibGVHcm91cHMsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICAgIHZhciBmaXJzdFRhYmJhYmxlTm9kZSA9IF9yZWYyLmZpcnN0VGFiYmFibGVOb2RlO1xuICAgICAgICAgIHJldHVybiB0YXJnZXQgPT09IGZpcnN0VGFiYmFibGVOb2RlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHN0YXJ0T2ZHcm91cEluZGV4IDwgMCAmJiAoY29udGFpbmVyR3JvdXAuY29udGFpbmVyID09PSB0YXJnZXQgfHwgaXNGb2N1c2FibGUodGFyZ2V0LCBjb25maWcudGFiYmFibGVPcHRpb25zKSAmJiAhaXNUYWJiYWJsZSh0YXJnZXQsIGNvbmZpZy50YWJiYWJsZU9wdGlvbnMpICYmICFjb250YWluZXJHcm91cC5uZXh0VGFiYmFibGVOb2RlKHRhcmdldCwgZmFsc2UpKSkge1xuICAgICAgICAgIC8vIGFuIGV4Y2VwdGlvbiBjYXNlIHdoZXJlIHRoZSB0YXJnZXQgaXMgZWl0aGVyIHRoZSBjb250YWluZXIgaXRzZWxmLCBvclxuICAgICAgICAgIC8vICBhIG5vbi10YWJiYWJsZSBub2RlIHRoYXQgd2FzIGdpdmVuIGZvY3VzIChpLmUuIHRhYmluZGV4IGlzIG5lZ2F0aXZlXG4gICAgICAgICAgLy8gIGFuZCB1c2VyIGNsaWNrZWQgb24gaXQgb3Igbm9kZSB3YXMgcHJvZ3JhbW1hdGljYWxseSBnaXZlbiBmb2N1cylcbiAgICAgICAgICAvLyAgYW5kIGlzIG5vdCBmb2xsb3dlZCBieSBhbnkgb3RoZXIgdGFiYmFibGUgbm9kZSwgaW4gd2hpY2hcbiAgICAgICAgICAvLyAgY2FzZSwgd2Ugc2hvdWxkIGhhbmRsZSBzaGlmdCt0YWIgYXMgaWYgZm9jdXMgd2VyZSBvbiB0aGUgY29udGFpbmVyJ3NcbiAgICAgICAgICAvLyAgZmlyc3QgdGFiYmFibGUgbm9kZSwgYW5kIGdvIHRvIHRoZSBsYXN0IHRhYmJhYmxlIG5vZGUgb2YgdGhlIExBU1QgZ3JvdXBcbiAgICAgICAgICBzdGFydE9mR3JvdXBJbmRleCA9IGNvbnRhaW5lckluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydE9mR3JvdXBJbmRleCA+PSAwKSB7XG4gICAgICAgICAgLy8gWUVTOiB0aGVuIHNoaWZ0K3RhYiBzaG91bGQgZ28gdG8gdGhlIGxhc3QgdGFiYmFibGUgbm9kZSBpbiB0aGVcbiAgICAgICAgICAvLyAgcHJldmlvdXMgZ3JvdXAgKGFuZCB3cmFwIGFyb3VuZCB0byB0aGUgbGFzdCB0YWJiYWJsZSBub2RlIG9mXG4gICAgICAgICAgLy8gIHRoZSBMQVNUIGdyb3VwIGlmIGl0J3MgdGhlIGZpcnN0IHRhYmJhYmxlIG5vZGUgb2YgdGhlIEZJUlNUIGdyb3VwKVxuICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkdyb3VwSW5kZXggPSBzdGFydE9mR3JvdXBJbmRleCA9PT0gMCA/IHN0YXRlLnRhYmJhYmxlR3JvdXBzLmxlbmd0aCAtIDEgOiBzdGFydE9mR3JvdXBJbmRleCAtIDE7XG4gICAgICAgICAgdmFyIGRlc3RpbmF0aW9uR3JvdXAgPSBzdGF0ZS50YWJiYWJsZUdyb3Vwc1tkZXN0aW5hdGlvbkdyb3VwSW5kZXhdO1xuICAgICAgICAgIGRlc3RpbmF0aW9uTm9kZSA9IGRlc3RpbmF0aW9uR3JvdXAubGFzdFRhYmJhYmxlTm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNUYWJFdmVudChldmVudCkpIHtcbiAgICAgICAgICAvLyB1c2VyIG11c3QgaGF2ZSBjdXN0b21pemVkIHRoZSBuYXYga2V5cyBzbyB3ZSBoYXZlIHRvIG1vdmUgZm9jdXMgbWFudWFsbHkgX3dpdGhpbl9cbiAgICAgICAgICAvLyAgdGhlIGFjdGl2ZSBncm91cDogZG8gdGhpcyBiYXNlZCBvbiB0aGUgb3JkZXIgZGV0ZXJtaW5lZCBieSB0YWJiYWJsZSgpXG4gICAgICAgICAgZGVzdGluYXRpb25Ob2RlID0gY29udGFpbmVyR3JvdXAubmV4dFRhYmJhYmxlTm9kZSh0YXJnZXQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRk9SV0FSRFxuXG4gICAgICAgIC8vIGlzIHRoZSB0YXJnZXQgdGhlIGxhc3QgdGFiYmFibGUgbm9kZSBpbiBhIGdyb3VwP1xuICAgICAgICB2YXIgbGFzdE9mR3JvdXBJbmRleCA9IGZpbmRJbmRleChzdGF0ZS50YWJiYWJsZUdyb3VwcywgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgICAgdmFyIGxhc3RUYWJiYWJsZU5vZGUgPSBfcmVmMy5sYXN0VGFiYmFibGVOb2RlO1xuICAgICAgICAgIHJldHVybiB0YXJnZXQgPT09IGxhc3RUYWJiYWJsZU5vZGU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobGFzdE9mR3JvdXBJbmRleCA8IDAgJiYgKGNvbnRhaW5lckdyb3VwLmNvbnRhaW5lciA9PT0gdGFyZ2V0IHx8IGlzRm9jdXNhYmxlKHRhcmdldCwgY29uZmlnLnRhYmJhYmxlT3B0aW9ucykgJiYgIWlzVGFiYmFibGUodGFyZ2V0LCBjb25maWcudGFiYmFibGVPcHRpb25zKSAmJiAhY29udGFpbmVyR3JvdXAubmV4dFRhYmJhYmxlTm9kZSh0YXJnZXQpKSkge1xuICAgICAgICAgIC8vIGFuIGV4Y2VwdGlvbiBjYXNlIHdoZXJlIHRoZSB0YXJnZXQgaXMgdGhlIGNvbnRhaW5lciBpdHNlbGYsIG9yXG4gICAgICAgICAgLy8gIGEgbm9uLXRhYmJhYmxlIG5vZGUgdGhhdCB3YXMgZ2l2ZW4gZm9jdXMgKGkuZS4gdGFiaW5kZXggaXMgbmVnYXRpdmVcbiAgICAgICAgICAvLyAgYW5kIHVzZXIgY2xpY2tlZCBvbiBpdCBvciBub2RlIHdhcyBwcm9ncmFtbWF0aWNhbGx5IGdpdmVuIGZvY3VzKVxuICAgICAgICAgIC8vICBhbmQgaXMgbm90IGZvbGxvd2VkIGJ5IGFueSBvdGhlciB0YWJiYWJsZSBub2RlLCBpbiB3aGljaFxuICAgICAgICAgIC8vICBjYXNlLCB3ZSBzaG91bGQgaGFuZGxlIHRhYiBhcyBpZiBmb2N1cyB3ZXJlIG9uIHRoZSBjb250YWluZXInc1xuICAgICAgICAgIC8vICBsYXN0IHRhYmJhYmxlIG5vZGUsIGFuZCBnbyB0byB0aGUgZmlyc3QgdGFiYmFibGUgbm9kZSBvZiB0aGUgRklSU1QgZ3JvdXBcbiAgICAgICAgICBsYXN0T2ZHcm91cEluZGV4ID0gY29udGFpbmVySW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RPZkdyb3VwSW5kZXggPj0gMCkge1xuICAgICAgICAgIC8vIFlFUzogdGhlbiB0YWIgc2hvdWxkIGdvIHRvIHRoZSBmaXJzdCB0YWJiYWJsZSBub2RlIGluIHRoZSBuZXh0XG4gICAgICAgICAgLy8gIGdyb3VwIChhbmQgd3JhcCBhcm91bmQgdG8gdGhlIGZpcnN0IHRhYmJhYmxlIG5vZGUgb2YgdGhlIEZJUlNUXG4gICAgICAgICAgLy8gIGdyb3VwIGlmIGl0J3MgdGhlIGxhc3QgdGFiYmFibGUgbm9kZSBvZiB0aGUgTEFTVCBncm91cClcbiAgICAgICAgICB2YXIgX2Rlc3RpbmF0aW9uR3JvdXBJbmRleCA9IGxhc3RPZkdyb3VwSW5kZXggPT09IHN0YXRlLnRhYmJhYmxlR3JvdXBzLmxlbmd0aCAtIDEgPyAwIDogbGFzdE9mR3JvdXBJbmRleCArIDE7XG4gICAgICAgICAgdmFyIF9kZXN0aW5hdGlvbkdyb3VwID0gc3RhdGUudGFiYmFibGVHcm91cHNbX2Rlc3RpbmF0aW9uR3JvdXBJbmRleF07XG4gICAgICAgICAgZGVzdGluYXRpb25Ob2RlID0gX2Rlc3RpbmF0aW9uR3JvdXAuZmlyc3RUYWJiYWJsZU5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzVGFiRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgLy8gdXNlciBtdXN0IGhhdmUgY3VzdG9taXplZCB0aGUgbmF2IGtleXMgc28gd2UgaGF2ZSB0byBtb3ZlIGZvY3VzIG1hbnVhbGx5IF93aXRoaW5fXG4gICAgICAgICAgLy8gIHRoZSBhY3RpdmUgZ3JvdXA6IGRvIHRoaXMgYmFzZWQgb24gdGhlIG9yZGVyIGRldGVybWluZWQgYnkgdGFiYmFibGUoKVxuICAgICAgICAgIGRlc3RpbmF0aW9uTm9kZSA9IGNvbnRhaW5lckdyb3VwLm5leHRUYWJiYWJsZU5vZGUodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBubyBncm91cHMgYXZhaWxhYmxlXG4gICAgICAvLyBOT1RFOiB0aGUgZmFsbGJhY2tGb2N1cyBvcHRpb24gZG9lcyBub3Qgc3VwcG9ydCByZXR1cm5pbmcgZmFsc2UgdG8gb3B0LW91dFxuICAgICAgZGVzdGluYXRpb25Ob2RlID0gZ2V0Tm9kZUZvck9wdGlvbignZmFsbGJhY2tGb2N1cycpO1xuICAgIH1cbiAgICBpZiAoZGVzdGluYXRpb25Ob2RlKSB7XG4gICAgICBpZiAoaXNUYWJFdmVudChldmVudCkpIHtcbiAgICAgICAgLy8gc2luY2UgdGFiIG5hdGl2ZWx5IG1vdmVzIGZvY3VzLCB3ZSB3b3VsZG4ndCBoYXZlIGEgZGVzdGluYXRpb24gbm9kZSB1bmxlc3Mgd2VcbiAgICAgICAgLy8gIHdlcmUgb24gdGhlIGVkZ2Ugb2YgYSBjb250YWluZXIgYW5kIGhhZCB0byBtb3ZlIHRvIHRoZSBuZXh0L3ByZXZpb3VzIGVkZ2UsIGluXG4gICAgICAgIC8vICB3aGljaCBjYXNlIHdlIHdhbnQgdG8gcHJldmVudCBkZWZhdWx0IHRvIGtlZXAgdGhlIGJyb3dzZXIgZnJvbSBtb3ZpbmcgZm9jdXNcbiAgICAgICAgLy8gIHRvIHdoZXJlIGl0IG5vcm1hbGx5IHdvdWxkXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICB0cnlGb2N1cyhkZXN0aW5hdGlvbk5vZGUpO1xuICAgIH1cbiAgICAvLyBlbHNlLCBsZXQgdGhlIGJyb3dzZXIgdGFrZSBjYXJlIG9mIFtzaGlmdCtddGFiIGFuZCBtb3ZlIHRoZSBmb2N1c1xuICB9O1xuXG4gIHZhciBjaGVja0tleSA9IGZ1bmN0aW9uIGNoZWNrS2V5KGV2ZW50KSB7XG4gICAgaWYgKGlzRXNjYXBlRXZlbnQoZXZlbnQpICYmIHZhbHVlT3JIYW5kbGVyKGNvbmZpZy5lc2NhcGVEZWFjdGl2YXRlcywgZXZlbnQpICE9PSBmYWxzZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRyYXAuZGVhY3RpdmF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmlzS2V5Rm9yd2FyZChldmVudCkgfHwgY29uZmlnLmlzS2V5QmFja3dhcmQoZXZlbnQpKSB7XG4gICAgICBjaGVja0tleU5hdihldmVudCwgY29uZmlnLmlzS2V5QmFja3dhcmQoZXZlbnQpKTtcbiAgICB9XG4gIH07XG4gIHZhciBjaGVja0NsaWNrID0gZnVuY3Rpb24gY2hlY2tDbGljayhlKSB7XG4gICAgdmFyIHRhcmdldCA9IGdldEFjdHVhbFRhcmdldChlKTtcbiAgICBpZiAoZmluZENvbnRhaW5lckluZGV4KHRhcmdldCwgZSkgPj0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodmFsdWVPckhhbmRsZXIoY29uZmlnLmNsaWNrT3V0c2lkZURlYWN0aXZhdGVzLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodmFsdWVPckhhbmRsZXIoY29uZmlnLmFsbG93T3V0c2lkZUNsaWNrLCBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICAvL1xuICAvLyBFVkVOVCBMSVNURU5FUlNcbiAgLy9cblxuICB2YXIgYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkge1xuICAgIGlmICghc3RhdGUuYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGhlcmUgY2FuIGJlIG9ubHkgb25lIGxpc3RlbmluZyBmb2N1cyB0cmFwIGF0IGEgdGltZVxuICAgIGFjdGl2ZUZvY3VzVHJhcHMuYWN0aXZhdGVUcmFwKHRyYXBTdGFjaywgdHJhcCk7XG5cbiAgICAvLyBEZWxheSBlbnN1cmVzIHRoYXQgdGhlIGZvY3VzZWQgZWxlbWVudCBkb2Vzbid0IGNhcHR1cmUgdGhlIGV2ZW50XG4gICAgLy8gdGhhdCBjYXVzZWQgdGhlIGZvY3VzIHRyYXAgYWN0aXZhdGlvbi5cbiAgICBzdGF0ZS5kZWxheUluaXRpYWxGb2N1c1RpbWVyID0gY29uZmlnLmRlbGF5SW5pdGlhbEZvY3VzID8gZGVsYXkoZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5Rm9jdXMoZ2V0SW5pdGlhbEZvY3VzTm9kZSgpKTtcbiAgICB9KSA6IHRyeUZvY3VzKGdldEluaXRpYWxGb2N1c05vZGUoKSk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBjaGVja0ZvY3VzSW4sIHRydWUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjaGVja1BvaW50ZXJEb3duLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9KTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGNoZWNrUG9pbnRlckRvd24sIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0pO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrQ2xpY2ssIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0pO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2hlY2tLZXksIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiB0cmFwO1xuICB9O1xuICB2YXIgcmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKCkge1xuICAgIGlmICghc3RhdGUuYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgY2hlY2tGb2N1c0luLCB0cnVlKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2hlY2tQb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBjaGVja1BvaW50ZXJEb3duLCB0cnVlKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NsaWNrLCB0cnVlKTtcbiAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNoZWNrS2V5LCB0cnVlKTtcbiAgICByZXR1cm4gdHJhcDtcbiAgfTtcblxuICAvL1xuICAvLyBNVVRBVElPTiBPQlNFUlZFUlxuICAvL1xuXG4gIHZhciBjaGVja0RvbVJlbW92YWwgPSBmdW5jdGlvbiBjaGVja0RvbVJlbW92YWwobXV0YXRpb25zKSB7XG4gICAgdmFyIGlzRm9jdXNlZE5vZGVSZW1vdmVkID0gbXV0YXRpb25zLnNvbWUoZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICB2YXIgcmVtb3ZlZE5vZGVzID0gQXJyYXkuZnJvbShtdXRhdGlvbi5yZW1vdmVkTm9kZXMpO1xuICAgICAgcmV0dXJuIHJlbW92ZWROb2Rlcy5zb21lKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlID09PSBzdGF0ZS5tb3N0UmVjZW50bHlGb2N1c2VkTm9kZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGlzIHJlbW92ZWQgdGhlbiBicm93c2VycyB3aWxsIG1vdmUgZm9jdXMgdG8gdGhlXG4gICAgLy8gPGJvZHk+IGVsZW1lbnQuIElmIHRoaXMgaGFwcGVucywgdHJ5IHRvIG1vdmUgZm9jdXMgYmFjayBpbnRvIHRoZSB0cmFwLlxuICAgIGlmIChpc0ZvY3VzZWROb2RlUmVtb3ZlZCkge1xuICAgICAgdHJ5Rm9jdXMoZ2V0SW5pdGlhbEZvY3VzTm9kZSgpKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVXNlIE11dGF0aW9uT2JzZXJ2ZXIgLSBpZiBzdXBwb3J0ZWQgLSB0byBkZXRlY3QgaWYgZm9jdXNlZCBub2RlIGlzIHJlbW92ZWRcbiAgLy8gZnJvbSB0aGUgRE9NLlxuICB2YXIgbXV0YXRpb25PYnNlcnZlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdNdXRhdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cgPyBuZXcgTXV0YXRpb25PYnNlcnZlcihjaGVja0RvbVJlbW92YWwpIDogdW5kZWZpbmVkO1xuICB2YXIgdXBkYXRlT2JzZXJ2ZWROb2RlcyA9IGZ1bmN0aW9uIHVwZGF0ZU9ic2VydmVkTm9kZXMoKSB7XG4gICAgaWYgKCFtdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIGlmIChzdGF0ZS5hY3RpdmUgJiYgIXN0YXRlLnBhdXNlZCkge1xuICAgICAgc3RhdGUuY29udGFpbmVycy5tYXAoZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyLCB7XG4gICAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy9cbiAgLy8gVFJBUCBERUZJTklUSU9OXG4gIC8vXG5cbiAgdHJhcCA9IHtcbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2ZTtcbiAgICB9LFxuICAgIGdldCBwYXVzZWQoKSB7XG4gICAgICByZXR1cm4gc3RhdGUucGF1c2VkO1xuICAgIH0sXG4gICAgYWN0aXZhdGU6IGZ1bmN0aW9uIGFjdGl2YXRlKGFjdGl2YXRlT3B0aW9ucykge1xuICAgICAgaWYgKHN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvbkFjdGl2YXRlID0gZ2V0T3B0aW9uKGFjdGl2YXRlT3B0aW9ucywgJ29uQWN0aXZhdGUnKTtcbiAgICAgIHZhciBvblBvc3RBY3RpdmF0ZSA9IGdldE9wdGlvbihhY3RpdmF0ZU9wdGlvbnMsICdvblBvc3RBY3RpdmF0ZScpO1xuICAgICAgdmFyIGNoZWNrQ2FuRm9jdXNUcmFwID0gZ2V0T3B0aW9uKGFjdGl2YXRlT3B0aW9ucywgJ2NoZWNrQ2FuRm9jdXNUcmFwJyk7XG4gICAgICBpZiAoIWNoZWNrQ2FuRm9jdXNUcmFwKSB7XG4gICAgICAgIHVwZGF0ZVRhYmJhYmxlTm9kZXMoKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmFjdGl2ZSA9IHRydWU7XG4gICAgICBzdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN0YXRlLm5vZGVGb2N1c2VkQmVmb3JlQWN0aXZhdGlvbiA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgICAgb25BY3RpdmF0ZSA9PT0gbnVsbCB8fCBvbkFjdGl2YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkFjdGl2YXRlKCk7XG4gICAgICB2YXIgZmluaXNoQWN0aXZhdGlvbiA9IGZ1bmN0aW9uIGZpbmlzaEFjdGl2YXRpb24oKSB7XG4gICAgICAgIGlmIChjaGVja0NhbkZvY3VzVHJhcCkge1xuICAgICAgICAgIHVwZGF0ZVRhYmJhYmxlTm9kZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdXBkYXRlT2JzZXJ2ZWROb2RlcygpO1xuICAgICAgICBvblBvc3RBY3RpdmF0ZSA9PT0gbnVsbCB8fCBvblBvc3RBY3RpdmF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Qb3N0QWN0aXZhdGUoKTtcbiAgICAgIH07XG4gICAgICBpZiAoY2hlY2tDYW5Gb2N1c1RyYXApIHtcbiAgICAgICAgY2hlY2tDYW5Gb2N1c1RyYXAoc3RhdGUuY29udGFpbmVycy5jb25jYXQoKSkudGhlbihmaW5pc2hBY3RpdmF0aW9uLCBmaW5pc2hBY3RpdmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBmaW5pc2hBY3RpdmF0aW9uKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGRlYWN0aXZhdGU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoZGVhY3RpdmF0ZU9wdGlvbnMpIHtcbiAgICAgIGlmICghc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkMih7XG4gICAgICAgIG9uRGVhY3RpdmF0ZTogY29uZmlnLm9uRGVhY3RpdmF0ZSxcbiAgICAgICAgb25Qb3N0RGVhY3RpdmF0ZTogY29uZmlnLm9uUG9zdERlYWN0aXZhdGUsXG4gICAgICAgIGNoZWNrQ2FuUmV0dXJuRm9jdXM6IGNvbmZpZy5jaGVja0NhblJldHVybkZvY3VzXG4gICAgICB9LCBkZWFjdGl2YXRlT3B0aW9ucyk7XG4gICAgICBjbGVhclRpbWVvdXQoc3RhdGUuZGVsYXlJbml0aWFsRm9jdXNUaW1lcik7IC8vIG5vb3AgaWYgdW5kZWZpbmVkXG4gICAgICBzdGF0ZS5kZWxheUluaXRpYWxGb2N1c1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICBzdGF0ZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgdXBkYXRlT2JzZXJ2ZWROb2RlcygpO1xuICAgICAgYWN0aXZlRm9jdXNUcmFwcy5kZWFjdGl2YXRlVHJhcCh0cmFwU3RhY2ssIHRyYXApO1xuICAgICAgdmFyIG9uRGVhY3RpdmF0ZSA9IGdldE9wdGlvbihvcHRpb25zLCAnb25EZWFjdGl2YXRlJyk7XG4gICAgICB2YXIgb25Qb3N0RGVhY3RpdmF0ZSA9IGdldE9wdGlvbihvcHRpb25zLCAnb25Qb3N0RGVhY3RpdmF0ZScpO1xuICAgICAgdmFyIGNoZWNrQ2FuUmV0dXJuRm9jdXMgPSBnZXRPcHRpb24ob3B0aW9ucywgJ2NoZWNrQ2FuUmV0dXJuRm9jdXMnKTtcbiAgICAgIHZhciByZXR1cm5Gb2N1cyA9IGdldE9wdGlvbihvcHRpb25zLCAncmV0dXJuRm9jdXMnLCAncmV0dXJuRm9jdXNPbkRlYWN0aXZhdGUnKTtcbiAgICAgIG9uRGVhY3RpdmF0ZSA9PT0gbnVsbCB8fCBvbkRlYWN0aXZhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRGVhY3RpdmF0ZSgpO1xuICAgICAgdmFyIGZpbmlzaERlYWN0aXZhdGlvbiA9IGZ1bmN0aW9uIGZpbmlzaERlYWN0aXZhdGlvbigpIHtcbiAgICAgICAgZGVsYXkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChyZXR1cm5Gb2N1cykge1xuICAgICAgICAgICAgdHJ5Rm9jdXMoZ2V0UmV0dXJuRm9jdXNOb2RlKHN0YXRlLm5vZGVGb2N1c2VkQmVmb3JlQWN0aXZhdGlvbikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvblBvc3REZWFjdGl2YXRlID09PSBudWxsIHx8IG9uUG9zdERlYWN0aXZhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uUG9zdERlYWN0aXZhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgaWYgKHJldHVybkZvY3VzICYmIGNoZWNrQ2FuUmV0dXJuRm9jdXMpIHtcbiAgICAgICAgY2hlY2tDYW5SZXR1cm5Gb2N1cyhnZXRSZXR1cm5Gb2N1c05vZGUoc3RhdGUubm9kZUZvY3VzZWRCZWZvcmVBY3RpdmF0aW9uKSkudGhlbihmaW5pc2hEZWFjdGl2YXRpb24sIGZpbmlzaERlYWN0aXZhdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgZmluaXNoRGVhY3RpdmF0aW9uKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZShwYXVzZU9wdGlvbnMpIHtcbiAgICAgIGlmIChzdGF0ZS5wYXVzZWQgfHwgIXN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvblBhdXNlID0gZ2V0T3B0aW9uKHBhdXNlT3B0aW9ucywgJ29uUGF1c2UnKTtcbiAgICAgIHZhciBvblBvc3RQYXVzZSA9IGdldE9wdGlvbihwYXVzZU9wdGlvbnMsICdvblBvc3RQYXVzZScpO1xuICAgICAgc3RhdGUucGF1c2VkID0gdHJ1ZTtcbiAgICAgIG9uUGF1c2UgPT09IG51bGwgfHwgb25QYXVzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25QYXVzZSgpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB1cGRhdGVPYnNlcnZlZE5vZGVzKCk7XG4gICAgICBvblBvc3RQYXVzZSA9PT0gbnVsbCB8fCBvblBvc3RQYXVzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Qb3N0UGF1c2UoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgdW5wYXVzZTogZnVuY3Rpb24gdW5wYXVzZSh1bnBhdXNlT3B0aW9ucykge1xuICAgICAgaWYgKCFzdGF0ZS5wYXVzZWQgfHwgIXN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvblVucGF1c2UgPSBnZXRPcHRpb24odW5wYXVzZU9wdGlvbnMsICdvblVucGF1c2UnKTtcbiAgICAgIHZhciBvblBvc3RVbnBhdXNlID0gZ2V0T3B0aW9uKHVucGF1c2VPcHRpb25zLCAnb25Qb3N0VW5wYXVzZScpO1xuICAgICAgc3RhdGUucGF1c2VkID0gZmFsc2U7XG4gICAgICBvblVucGF1c2UgPT09IG51bGwgfHwgb25VbnBhdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblVucGF1c2UoKTtcbiAgICAgIHVwZGF0ZVRhYmJhYmxlTm9kZXMoKTtcbiAgICAgIGFkZExpc3RlbmVycygpO1xuICAgICAgdXBkYXRlT2JzZXJ2ZWROb2RlcygpO1xuICAgICAgb25Qb3N0VW5wYXVzZSA9PT0gbnVsbCB8fCBvblBvc3RVbnBhdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvblBvc3RVbnBhdXNlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZUNvbnRhaW5lckVsZW1lbnRzOiBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJFbGVtZW50cyhjb250YWluZXJFbGVtZW50cykge1xuICAgICAgdmFyIGVsZW1lbnRzQXNBcnJheSA9IFtdLmNvbmNhdChjb250YWluZXJFbGVtZW50cykuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgc3RhdGUuY29udGFpbmVycyA9IGVsZW1lbnRzQXNBcnJheS5tYXAoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyA/IGRvYy5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpIDogZWxlbWVudDtcbiAgICAgIH0pO1xuICAgICAgaWYgKHN0YXRlLmFjdGl2ZSkge1xuICAgICAgICB1cGRhdGVUYWJiYWJsZU5vZGVzKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVPYnNlcnZlZE5vZGVzKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgLy8gaW5pdGlhbGl6ZSBjb250YWluZXIgZWxlbWVudHNcbiAgdHJhcC51cGRhdGVDb250YWluZXJFbGVtZW50cyhlbGVtZW50cyk7XG4gIHJldHVybiB0cmFwO1xufTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IGQ9XCJlc3JpLWlkZW50aXR5LW1vZGFsXCIscCQxPXtiYXNlOmQsb3BlbjpgJHtkfS0tb3BlbmAsY2xvc2VkOmAke2R9LS1jbG9zZWRgLHRpdGxlOmAke2R9X190aXRsZWAsZGlhbG9nOmAke2R9X19kaWFsb2dgLGNvbnRlbnQ6YCR7ZH1fX2NvbnRlbnRgLGNsb3NlQnV0dG9uOmAke2R9X19jbG9zZS1idXR0b25gLGljb25DbG9zZTpcImVzcmktaWNvbi1jbG9zZVwifTtsZXQgdT1jbGFzcyBleHRlbmRzIFd7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5jb250ZW50PW51bGwsdGhpcy5vcGVuPSExLHRoaXMuX2ZvY3VzVHJhcD1udWxsLHRoaXMuX2Nsb3NlPSgpPT57dGhpcy5vcGVuPSExO30sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lciksdGhpcy5hZGRIYW5kbGVzKGwkNCgoKCk9PnRoaXMub3BlbiksKCgpPT50aGlzLl90b2dnbGVGb2N1c1RyYXAoKSkpKTt9ZGVzdHJveSgpe3RoaXMuX2Rlc3Ryb3lGb2N1c1RyYXAoKTt9Z2V0IHRpdGxlKCl7cmV0dXJuIHRoaXMubWVzc2FnZXM/LmF1dGguc2lnbklufXJlbmRlcigpe2NvbnN0IHQ9dGhpcy5pZCx7b3BlbjplLGNvbnRlbnQ6byx0aXRsZTpzLG1lc3NhZ2VzOml9PXRoaXMscj1lJiYhIW8sbiQxPXtbcCQxLm9wZW5dOnIsW3AkMS5jbG9zZWRdOiFyfSxhPW4oXCJidXR0b25cIix7Y2xhc3M6cCQxLmNsb3NlQnV0dG9uLFwiYXJpYS1sYWJlbFwiOmkuY2xvc2UsdGl0bGU6aS5jbG9zZSxiaW5kOnRoaXMsb25jbGljazp0aGlzLl9jbG9zZSx0eXBlOlwiYnV0dG9uXCJ9LG4oXCJzcGFuXCIse1wiYXJpYS1oaWRkZW5cIjpcInRydWVcIixjbGFzczpwJDEuaWNvbkNsb3NlfSkpLGw9YCR7dH1fdGl0bGVgLGQ9YCR7dH1fY29udGVudGAsdT1zP24oXCJoMVwiLHtpZDpsLGNsYXNzOnAkMS50aXRsZX0scyk6bnVsbCxoPXI/bihcImRpdlwiLHtiaW5kOnRoaXMsY2xhc3M6cCQxLmRpYWxvZyxyb2xlOlwiZGlhbG9nXCIsXCJhcmlhLWxhYmVsbGVkYnlcIjpsLFwiYXJpYS1kZXNjcmliZWRieVwiOmQsYWZ0ZXJDcmVhdGU6dGhpcy5fY3JlYXRlRm9jdXNUcmFwfSxhLHUsdGhpcy5fcmVuZGVyQ29udGVudChkKSk6bnVsbDtyZXR1cm4gbihcImRpdlwiLHt0YWJJbmRleDotMSxjbGFzczp0aGlzLmNsYXNzZXMocCQxLmJhc2UsbiQxKX0saCl9X2Rlc3Ryb3lGb2N1c1RyYXAoKXt0aGlzLl9mb2N1c1RyYXA/LmRlYWN0aXZhdGUoe29uRGVhY3RpdmF0ZTooKT0+e319KSx0aGlzLl9mb2N1c1RyYXA9bnVsbDt9X3RvZ2dsZUZvY3VzVHJhcCgpe2NvbnN0e19mb2N1c1RyYXA6dCxvcGVuOmV9PXRoaXM7dCYmKGU/dC5hY3RpdmF0ZSgpOnQuZGVhY3RpdmF0ZSgpKTt9X2NyZWF0ZUZvY3VzVHJhcCh0KXt0aGlzLl9kZXN0cm95Rm9jdXNUcmFwKCk7Y29uc3Qgbz1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57dGhpcy5fZm9jdXNUcmFwPWNyZWF0ZUZvY3VzVHJhcCh0LHtpbml0aWFsRm9jdXM6XCJpbnB1dFwiLG9uRGVhY3RpdmF0ZTp0aGlzLl9jbG9zZX0pLHRoaXMuX3RvZ2dsZUZvY3VzVHJhcCgpO30pKTt0aGlzLmFkZEhhbmRsZXMoZSR3KCgoKT0+Y2FuY2VsQW5pbWF0aW9uRnJhbWUobykpKSk7fV9yZW5kZXJDb250ZW50KHQpe2NvbnN0IGU9dGhpcy5jb250ZW50O3JldHVybiBcInN0cmluZ1wiPT10eXBlb2YgZT9uKFwiZGl2XCIse2NsYXNzOnAkMS5jb250ZW50LGlkOnQsaW5uZXJIVE1MOmV9KTplJDEoZSk/bihcImRpdlwiLHtjbGFzczpwJDEuY29udGVudCxpZDp0fSxlLnJlbmRlcigpKTplIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ/bihcImRpdlwiLHtjbGFzczpwJDEuY29udGVudCxpZDp0LGJpbmQ6ZSxhZnRlckNyZWF0ZTp0aGlzLl9hdHRhY2hUb05vZGV9KTpudWxsfV9hdHRhY2hUb05vZGUodCl7Y29uc3QgZT10aGlzO3QuYXBwZW5kQ2hpbGQoZSk7fX07ZSR4KFt5JGQoe3JlYWRPbmx5OiEwfSldLHUucHJvdG90eXBlLFwiY29udGFpbmVyXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSx1LnByb3RvdHlwZSxcImNvbnRlbnRcIix2b2lkIDApLGUkeChbeSRkKCldLHUucHJvdG90eXBlLFwib3BlblwiLHZvaWQgMCksZSR4KFt5JGQoKSxlJDMoXCJlc3JpL3Q5bi9jb21tb25cIildLHUucHJvdG90eXBlLFwibWVzc2FnZXNcIix2b2lkIDApLGUkeChbeSRkKCldLHUucHJvdG90eXBlLFwidGl0bGVcIixudWxsKSx1PWUkeChbYSRpKFwiZXNyaS5pZGVudGl0eS5JZGVudGl0eU1vZGFsXCIpXSx1KTtjb25zdCBoPXU7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PVwiZXNyaUpTQVBJT0F1dGhcIjtjbGFzcyBle2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5vQXV0aEluZm89bnVsbCx0aGlzLnN0b3JhZ2U9bnVsbCx0aGlzLmFwcElkPW51bGwsdGhpcy5jb2RlVmVyaWZpZXI9bnVsbCx0aGlzLmV4cGlyZXM9bnVsbCx0aGlzLnJlZnJlc2hUb2tlbj1udWxsLHRoaXMuc3NsPW51bGwsdGhpcy5zdGF0ZVVJRD1udWxsLHRoaXMudG9rZW49bnVsbCx0aGlzLnVzZXJJZD1udWxsLHRoaXMub0F1dGhJbmZvPXQsdGhpcy5zdG9yYWdlPWUsdGhpcy5faW5pdCgpO31pc1ZhbGlkKCl7bGV0IHQ9ITE7aWYodGhpcy5vQXV0aEluZm8mJnRoaXMudXNlcklkJiYodGhpcy5yZWZyZXNoVG9rZW58fHRoaXMudG9rZW4pKWlmKG51bGw9PXRoaXMuZXhwaXJlcyYmdGhpcy5yZWZyZXNoVG9rZW4pdD0hMDtlbHNlIGlmKHRoaXMuZXhwaXJlcyl7Y29uc3QgZT1EYXRlLm5vdygpO2lmKHRoaXMuZXhwaXJlcz5lKXsodGhpcy5leHBpcmVzLWUpLzFlMz42MCp0aGlzLm9BdXRoSW5mby5taW5UaW1lVW50aWxFeHBpcmF0aW9uJiYodD0hMCk7fX1yZXR1cm4gdH1zYXZlKCl7aWYoIXRoaXMuc3RvcmFnZSlyZXR1cm4gITE7Y29uc3QgZT10aGlzLl9sb2FkKCkscz10aGlzLm9BdXRoSW5mbztpZihzJiZzLmF1dGhOYW1lc3BhY2UmJnMucG9ydGFsVXJsKXtsZXQgcj1lW3MuYXV0aE5hbWVzcGFjZV07cnx8KHI9ZVtzLmF1dGhOYW1lc3BhY2VdPXt9KSx0aGlzLmFwcElkfHwodGhpcy5hcHBJZD1zLmFwcElkKSxyW3MucG9ydGFsVXJsXT17YXBwSWQ6dGhpcy5hcHBJZCxjb2RlVmVyaWZpZXI6dGhpcy5jb2RlVmVyaWZpZXIsZXhwaXJlczp0aGlzLmV4cGlyZXMscmVmcmVzaFRva2VuOnRoaXMucmVmcmVzaFRva2VuLHNzbDp0aGlzLnNzbCxzdGF0ZVVJRDp0aGlzLnN0YXRlVUlELHRva2VuOnRoaXMudG9rZW4sdXNlcklkOnRoaXMudXNlcklkfTt0cnl7dGhpcy5zdG9yYWdlLnNldEl0ZW0odCxKU09OLnN0cmluZ2lmeShlKSk7fWNhdGNoKGkpe3JldHVybiBjb25zb2xlLndhcm4oaSksITF9cmV0dXJuICEwfXJldHVybiAhMX1kZXN0cm95KCl7Y29uc3QgZT10aGlzLl9sb2FkKCkscz10aGlzLm9BdXRoSW5mbztpZihzJiZzLmFwcElkJiZzLnBvcnRhbFVybCYmKG51bGw9PXRoaXMuZXhwaXJlc3x8dGhpcy5leHBpcmVzPkRhdGUubm93KCkpJiYodGhpcy5yZWZyZXNoVG9rZW58fHRoaXMudG9rZW4pKXtjb25zdCB0PXMucG9ydGFsVXJsLnJlcGxhY2UoL15odHRwOi9pLFwiaHR0cHM6XCIpK1wiL3NoYXJpbmcvcmVzdC9vYXV0aDIvcmV2b2tlVG9rZW5cIixlPW5ldyBGb3JtRGF0YTtpZihlLmFwcGVuZChcImZcIixcImpzb25cIiksZS5hcHBlbmQoXCJhdXRoX3Rva2VuXCIsdGhpcy5yZWZyZXNoVG9rZW58fHRoaXMudG9rZW4pLGUuYXBwZW5kKFwiY2xpZW50X2lkXCIscy5hcHBJZCksZS5hcHBlbmQoXCJ0b2tlbl90eXBlX2hpbnRcIix0aGlzLnJlZnJlc2hUb2tlbj9cInJlZnJlc2hfdG9rZW5cIjpcImFjY2Vzc190b2tlblwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiluYXZpZ2F0b3Iuc2VuZEJlYWNvbih0LGUpO2Vsc2Uge2NvbnN0IHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbihcIlBPU1RcIix0KSxzLnNlbmQoZSk7fX1pZihzJiZzLmF1dGhOYW1lc3BhY2UmJnMucG9ydGFsVXJsJiZ0aGlzLnN0b3JhZ2Upe2NvbnN0IHI9ZVtzLmF1dGhOYW1lc3BhY2VdO2lmKHIpe2RlbGV0ZSByW3MucG9ydGFsVXJsXTt0cnl7dGhpcy5zdG9yYWdlLnNldEl0ZW0odCxKU09OLnN0cmluZ2lmeShlKSk7fWNhdGNoKGkpe2NvbnNvbGUubG9nKGkpO319fXMmJihzLl9vQXV0aENyZWQ9bnVsbCx0aGlzLm9BdXRoSW5mbz1udWxsKTt9X2luaXQoKXtjb25zdCB0PXRoaXMuX2xvYWQoKSxlPXRoaXMub0F1dGhJbmZvO2lmKGUmJmUuYXV0aE5hbWVzcGFjZSYmZS5wb3J0YWxVcmwpe2xldCBzPXRbZS5hdXRoTmFtZXNwYWNlXTtzJiYocz1zW2UucG9ydGFsVXJsXSxzJiYodGhpcy5hcHBJZD1zLmFwcElkLHRoaXMuY29kZVZlcmlmaWVyPXMuY29kZVZlcmlmaWVyLHRoaXMuZXhwaXJlcz1zLmV4cGlyZXMsdGhpcy5yZWZyZXNoVG9rZW49cy5yZWZyZXNoVG9rZW4sdGhpcy5zc2w9cy5zc2wsdGhpcy5zdGF0ZVVJRD1zLnN0YXRlVUlELHRoaXMudG9rZW49cy50b2tlbix0aGlzLnVzZXJJZD1zLnVzZXJJZCkpO319X2xvYWQoKXtsZXQgZT17fTtpZih0aGlzLnN0b3JhZ2Upe2NvbnN0IGk9dGhpcy5zdG9yYWdlLmdldEl0ZW0odCk7aWYoaSl0cnl7ZT1KU09OLnBhcnNlKGkpO31jYXRjaChzKXtjb25zb2xlLndhcm4ocyk7fX1yZXR1cm4gZX19ZS5wcm90b3R5cGUuZGVjbGFyZWRDbGFzcz1cImVzcmkuaWRlbnRpdHkuT0F1dGhDcmVkZW50aWFsXCI7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG52YXIgcDtsZXQgcyQyPXA9Y2xhc3MgZXh0ZW5kcyBsJGZ7Y29uc3RydWN0b3Iobyl7c3VwZXIobyksdGhpcy5fb0F1dGhDcmVkPW51bGwsdGhpcy5hcHBJZD1udWxsLHRoaXMuYXV0aE5hbWVzcGFjZT1cIi9cIix0aGlzLmV4cGlyYXRpb249MjAxNjAsdGhpcy5mbG93VHlwZT1cImF1dG9cIix0aGlzLmZvcmNlTG9naW49ITEsdGhpcy5mb3JjZVVzZXJJZD0hMSx0aGlzLmxvY2FsZT1udWxsLHRoaXMubWluVGltZVVudGlsRXhwaXJhdGlvbj0zMCx0aGlzLnBvcHVwPSExLHRoaXMucG9wdXBDYWxsYmFja1VybD1cIm9hdXRoLWNhbGxiYWNrLmh0bWxcIix0aGlzLnBvcHVwV2luZG93RmVhdHVyZXM9XCJoZWlnaHQ9NDkwLHdpZHRoPTgwMCxyZXNpemFibGUsc2Nyb2xsYmFycyxzdGF0dXNcIix0aGlzLnBvcnRhbFVybD1cImh0dHBzOi8vd3d3LmFyY2dpcy5jb21cIix0aGlzLnByZXNlcnZlVXJsSGFzaD0hMSx0aGlzLnVzZXJJZD1udWxsO31jbG9uZSgpe3JldHVybiBwLmZyb21KU09OKHRoaXMudG9KU09OKCkpfX07ZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDIucHJvdG90eXBlLFwiYXBwSWRcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQyLnByb3RvdHlwZSxcImF1dGhOYW1lc3BhY2VcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQyLnByb3RvdHlwZSxcImV4cGlyYXRpb25cIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQyLnByb3RvdHlwZSxcImZsb3dUeXBlXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMi5wcm90b3R5cGUsXCJmb3JjZUxvZ2luXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMi5wcm90b3R5cGUsXCJmb3JjZVVzZXJJZFwiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDIucHJvdG90eXBlLFwibG9jYWxlXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMi5wcm90b3R5cGUsXCJtaW5UaW1lVW50aWxFeHBpcmF0aW9uXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMi5wcm90b3R5cGUsXCJwb3B1cFwiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDIucHJvdG90eXBlLFwicG9wdXBDYWxsYmFja1VybFwiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDIucHJvdG90eXBlLFwicG9wdXBXaW5kb3dGZWF0dXJlc1wiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDIucHJvdG90eXBlLFwicG9ydGFsVXJsXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMi5wcm90b3R5cGUsXCJwcmVzZXJ2ZVVybEhhc2hcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQyLnByb3RvdHlwZSxcInVzZXJJZFwiLHZvaWQgMCkscyQyPXA9ZSR4KFthJGkoXCJlc3JpLmlkZW50aXR5Lk9BdXRoSW5mb1wiKV0scyQyKTtjb25zdCBpJDE9cyQyO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xubGV0IHMkMT1jbGFzcyBleHRlbmRzIGwkZntjb25zdHJ1Y3RvcihvKXtzdXBlcihvKSx0aGlzLmFkbWluVG9rZW5TZXJ2aWNlVXJsPW51bGwsdGhpcy5jdXJyZW50VmVyc2lvbj1udWxsLHRoaXMuaGFzUG9ydGFsPW51bGwsdGhpcy5oYXNTZXJ2ZXI9bnVsbCx0aGlzLm93bmluZ1N5c3RlbVVybD1udWxsLHRoaXMub3duaW5nVGVuYW50PW51bGwsdGhpcy5zZXJ2ZXI9bnVsbCx0aGlzLnNob3J0TGl2ZWRUb2tlblZhbGlkaXR5PW51bGwsdGhpcy50b2tlblNlcnZpY2VVcmw9bnVsbCx0aGlzLndlYlRpZXJBdXRoPW51bGw7fX07ZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDEucHJvdG90eXBlLFwiYWRtaW5Ub2tlblNlcnZpY2VVcmxcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQxLnByb3RvdHlwZSxcImN1cnJlbnRWZXJzaW9uXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMS5wcm90b3R5cGUsXCJoYXNQb3J0YWxcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQxLnByb3RvdHlwZSxcImhhc1NlcnZlclwiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDEucHJvdG90eXBlLFwib3duaW5nU3lzdGVtVXJsXCIsdm9pZCAwKSxlJHgoW3kkZCh7anNvbjp7d3JpdGU6ITB9fSldLHMkMS5wcm90b3R5cGUsXCJvd25pbmdUZW5hbnRcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQxLnByb3RvdHlwZSxcInNlcnZlclwiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDEucHJvdG90eXBlLFwic2hvcnRMaXZlZFRva2VuVmFsaWRpdHlcIix2b2lkIDApLGUkeChbeSRkKHtqc29uOnt3cml0ZTohMH19KV0scyQxLnByb3RvdHlwZSxcInRva2VuU2VydmljZVVybFwiLHZvaWQgMCksZSR4KFt5JGQoe2pzb246e3dyaXRlOiEwfX0pXSxzJDEucHJvdG90eXBlLFwid2ViVGllckF1dGhcIix2b2lkIDApLHMkMT1lJHgoW2EkaShcImVzcmkuaWRlbnRpdHkuU2VydmVySW5mb1wiKV0scyQxKTtjb25zdCBpPXMkMTtcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IEM9e30sYj1lPT57Y29uc3QgdD1uZXcgJCQ0KGUub3duaW5nU3lzdGVtVXJsKS5ob3N0LHI9bmV3ICQkNChlLnNlcnZlcikuaG9zdCxzPS8uK1xcLmFyY2dpc1xcLmNvbSQvaTtyZXR1cm4gcy50ZXN0KHQpJiZzLnRlc3Qocil9LEQ9KGUsdCk9PiEhKGIoZSkmJnQmJnQuc29tZSgodD0+dC50ZXN0KGUuc2VydmVyKSkpKTtsZXQgcT1udWxsLGo9bnVsbDt0cnl7cT13aW5kb3cubG9jYWxTdG9yYWdlLGo9d2luZG93LnNlc3Npb25TdG9yYWdlO31jYXRjaHt9Y2xhc3MgRSBleHRlbmRzIG4kOXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5fcG9ydGFsQ29uZmlnPWdsb2JhbFRoaXMuZXNyaUdlb3dDb25maWcsdGhpcy5zZXJ2ZXJJbmZvcz1bXSx0aGlzLm9BdXRoSW5mb3M9W10sdGhpcy5jcmVkZW50aWFscz1bXSx0aGlzLl9zb1JlcXM9W10sdGhpcy5feG9SZXFzPVtdLHRoaXMuX3BvcnRhbHM9W10sdGhpcy5fZGVmYXVsdE9BdXRoSW5mbz1udWxsLHRoaXMuX2RlZmF1bHRUb2tlblZhbGlkaXR5PTYwLHRoaXMuZGlhbG9nPW51bGwsdGhpcy5mb3JtQ29uc3RydWN0b3I9Yyx0aGlzLnRva2VuVmFsaWRpdHk9bnVsbCx0aGlzLm5vcm1hbGl6ZVdlYlRpZXJBdXRoPSExLHRoaXMuX2FwcE9yaWdpbj1cIm51bGxcIiE9PXdpbmRvdy5vcmlnaW4/d2luZG93Lm9yaWdpbjp3aW5kb3cubG9jYXRpb24ub3JpZ2luLHRoaXMuX2FwcFVybE9iaj1MJDYod2luZG93LmxvY2F0aW9uLmhyZWYpLHRoaXMuX2J1c3k9bnVsbCx0aGlzLl9yZWplY3RPblBlcnNpc3RlZFBhZ2VTaG93PSExLHRoaXMuX29BdXRoTG9jYXRpb25QYXJhbXM9bnVsbCx0aGlzLl9nd1Rva2VuVXJsPVwiL3NoYXJpbmcvcmVzdC9nZW5lcmF0ZVRva2VuXCIsdGhpcy5fYWdzUmVzdD1cIi9yZXN0L3NlcnZpY2VzXCIsdGhpcy5fYWdzUG9ydGFsPS9cXC9zaGFyaW5nKFxcL3wkKS9pLHRoaXMuX2Fnc0FkbWluPS8oaHR0cHM/OlxcL1xcL1teXFwvXStcXC9bXlxcL10rKVxcL2FkbWluXFwvPyhcXC8uKik/JC9pLHRoaXMuX2FkbWluU3Zjcz0vXFwvcmVzdFxcL2FkbWluXFwvc2VydmljZXMoXFwvfCQpL2ksdGhpcy5fZ3dEb21haW5zPVt7cmVnZXg6L15odHRwcz86XFwvXFwvd3d3XFwuYXJjZ2lzXFwuY29tL2ksY3VzdG9tQmFzZVVybDpcIm1hcHMuYXJjZ2lzLmNvbVwiLHRva2VuU2VydmljZVVybDpcImh0dHBzOi8vd3d3LmFyY2dpcy5jb20vc2hhcmluZy9yZXN0L2dlbmVyYXRlVG9rZW5cIn0se3JlZ2V4Oi9eaHR0cHM/OlxcL1xcLyg/OmRldnxbYS16XFxkLV0rXFwubWFwc2RldilcXC5hcmNnaXNcXC5jb20vaSxjdXN0b21CYXNlVXJsOlwibWFwc2Rldi5hcmNnaXMuY29tXCIsdG9rZW5TZXJ2aWNlVXJsOlwiaHR0cHM6Ly9kZXYuYXJjZ2lzLmNvbS9zaGFyaW5nL3Jlc3QvZ2VuZXJhdGVUb2tlblwifSx7cmVnZXg6L15odHRwcz86XFwvXFwvKD86ZGV2ZXh0fFthLXpcXGQtXStcXC5tYXBzZGV2ZXh0KVxcLmFyY2dpc1xcLmNvbS9pLGN1c3RvbUJhc2VVcmw6XCJtYXBzZGV2ZXh0LmFyY2dpcy5jb21cIix0b2tlblNlcnZpY2VVcmw6XCJodHRwczovL2RldmV4dC5hcmNnaXMuY29tL3NoYXJpbmcvcmVzdC9nZW5lcmF0ZVRva2VuXCJ9LHtyZWdleDovXmh0dHBzPzpcXC9cXC8oPzpxYWV4dHxbYS16XFxkLV0rXFwubWFwc3FhKVxcLmFyY2dpc1xcLmNvbS9pLGN1c3RvbUJhc2VVcmw6XCJtYXBzcWEuYXJjZ2lzLmNvbVwiLHRva2VuU2VydmljZVVybDpcImh0dHBzOi8vcWFleHQuYXJjZ2lzLmNvbS9zaGFyaW5nL3Jlc3QvZ2VuZXJhdGVUb2tlblwifSx7cmVnZXg6L15odHRwcz86XFwvXFwvW2EtelxcZC1dK1xcLm1hcHNcXC5hcmNnaXNcXC5jb20vaSxjdXN0b21CYXNlVXJsOlwibWFwcy5hcmNnaXMuY29tXCIsdG9rZW5TZXJ2aWNlVXJsOlwiaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbS9zaGFyaW5nL3Jlc3QvZ2VuZXJhdGVUb2tlblwifV0sdGhpcy5fbGVnYWN5RmVkPVtdLHRoaXMuX3JlZ2V4U0RpclVybD0vaHR0cC4rXFwvcmVzdFxcL3NlcnZpY2VzXFwvPy9naSx0aGlzLl9yZWdleFNlcnZlclR5cGU9LyhcXC8oRmVhdHVyZVNlcnZlcnxHUFNlcnZlcnxHZW9EYXRhU2VydmVyfEdlb2NvZGVTZXJ2ZXJ8R2VvZW5yaWNobWVudFNlcnZlcnxHZW9tZXRyeVNlcnZlcnxHbG9iZVNlcnZlcnxJbWFnZVNlcnZlcnxLbm93bGVkZ2VHcmFwaFNlcnZlcnxNYXBTZXJ2ZXJ8TWlzc2lvblNlcnZlcnxNb2JpbGVTZXJ2ZXJ8TkFTZXJ2ZXJ8TmV0d29ya0RpYWdyYW1TZXJ2ZXJ8T0dDRmVhdHVyZVNlcnZlcnxQYXJjZWxGYWJyaWNTZXJ2ZXJ8UmVsYXRpb25hbENhdGFsb2dTZXJ2ZXJ8U2NlbmVTZXJ2ZXJ8U3RyZWFtU2VydmVyfFV0aWxpdHlOZXR3b3JrU2VydmVyfFZhbGlkYXRpb25TZXJ2ZXJ8VmVjdG9yVGlsZVNlcnZlcnxWZXJzaW9uTWFuYWdlbWVudFNlcnZlcnxWaWRlb1NlcnZlcikpLiovZ2ksdGhpcy5fZ3dVc2VyPS9odHRwLitcXC91c2Vyc1xcLyhbXlxcL10rKVxcLz8uKi9pLHRoaXMuX2d3SXRlbT0vaHR0cC4rXFwvaXRlbXNcXC8oW15cXC9dKylcXC8/LiovaSx0aGlzLl9nd0dyb3VwPS9odHRwLitcXC9ncm91cHNcXC8oW15cXC9dKylcXC8/LiovaSx0aGlzLl9yZVBvcnRhbFRva2VuU3ZjPS9cXC9zaGFyaW5nKFxcL3Jlc3QpP1xcL2dlbmVyYXRldG9rZW4vaSx0aGlzLl9jcmVhdGVEZWZhdWx0T0F1dGhJbmZvPSEwLHRoaXMuX2hhc1Rlc3RlZElmQXBwSXNPblBvcnRhbD0hMSx0aGlzLl9nZXRPQXV0aExvY2F0aW9uUGFyYW1zKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLChlPT57dGhpcy5fcGFnZVNob3dIYW5kbGVyKGUpO30pKTt9cmVnaXN0ZXJTZXJ2ZXJzKGUpe2NvbnN0IHQ9dGhpcy5zZXJ2ZXJJbmZvczt0PyhlPWUuZmlsdGVyKChlPT4hdGhpcy5maW5kU2VydmVySW5mbyhlLnNlcnZlcikpKSx0aGlzLnNlcnZlckluZm9zPXQuY29uY2F0KGUpKTp0aGlzLnNlcnZlckluZm9zPWUsZS5mb3JFYWNoKChlPT57ZS5vd25pbmdTeXN0ZW1VcmwmJnRoaXMuX3BvcnRhbHMucHVzaChlLm93bmluZ1N5c3RlbVVybCksZS5oYXNQb3J0YWwmJnRoaXMuX3BvcnRhbHMucHVzaChlLnNlcnZlcik7fSkpO31yZWdpc3Rlck9BdXRoSW5mb3MoZSl7Y29uc3QgdD10aGlzLm9BdXRoSW5mb3M7aWYodCl7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT10aGlzLmZpbmRPQXV0aEluZm8oci5wb3J0YWxVcmwpO2UmJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKTt9dGhpcy5vQXV0aEluZm9zPXQuY29uY2F0KGUpO31lbHNlIHRoaXMub0F1dGhJbmZvcz1lO31yZWdpc3RlclRva2VuKGUpe2U9ey4uLmV9O2NvbnN0IHQ9dGhpcy5fc2FuaXRpemVVcmwoZS5zZXJ2ZXIpLHI9dGhpcy5faXNTZXJ2ZXJSc3JjKHQpO2xldCBzLGkkMT10aGlzLmZpbmRTZXJ2ZXJJbmZvKHQpLG89ITA7aSQxfHwoaSQxPW5ldyBpLGkkMS5zZXJ2ZXI9dGhpcy5fZ2V0U2VydmVySW5zdGFuY2VSb290KHQpLHI/aSQxLmhhc1NlcnZlcj0hMDooaSQxLnRva2VuU2VydmljZVVybD10aGlzLl9nZXRUb2tlblN2Y1VybCh0KSxpJDEuaGFzUG9ydGFsPSEwKSx0aGlzLnJlZ2lzdGVyU2VydmVycyhbaSQxXSkpLHM9dGhpcy5fZmluZENyZWRlbnRpYWwodCkscz8oZGVsZXRlIGUuc2VydmVyLE9iamVjdC5hc3NpZ24ocyxlKSxvPSExKToocz1uZXcgTCh7dXNlcklkOmUudXNlcklkLHNlcnZlcjppJDEuc2VydmVyLHRva2VuOmUudG9rZW4sZXhwaXJlczplLmV4cGlyZXMsc3NsOmUuc3NsLHNjb3BlOnI/XCJzZXJ2ZXJcIjpcInBvcnRhbFwifSkscy5yZXNvdXJjZXM9W3RdLHRoaXMuY3JlZGVudGlhbHMucHVzaChzKSkscy5lbWl0VG9rZW5DaGFuZ2UoITEpLG98fHMucmVmcmVzaFNlcnZlclRva2VucygpO310b0pTT04oKXtyZXR1cm4gbCR0KHtzZXJ2ZXJJbmZvczp0aGlzLnNlcnZlckluZm9zLm1hcCgoZT0+ZS50b0pTT04oKSkpLG9BdXRoSW5mb3M6dGhpcy5vQXV0aEluZm9zLm1hcCgoZT0+ZS50b0pTT04oKSkpLGNyZWRlbnRpYWxzOnRoaXMuY3JlZGVudGlhbHMubWFwKChlPT5lLnRvSlNPTigpKSl9KX1pbml0aWFsaXplKGUpe2lmKCFlKXJldHVybjtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9SlNPTi5wYXJzZShlKSk7Y29uc3QgdD1lLnNlcnZlckluZm9zLHI9ZS5vQXV0aEluZm9zLHM9ZS5jcmVkZW50aWFscztpZih0KXtjb25zdCBlPVtdO3QuZm9yRWFjaCgodD0+e3Quc2VydmVyJiZ0LnRva2VuU2VydmljZVVybCYmZS5wdXNoKHQuZGVjbGFyZWRDbGFzcz90Om5ldyBpKHQpKTt9KSksZS5sZW5ndGgmJnRoaXMucmVnaXN0ZXJTZXJ2ZXJzKGUpO31pZihyKXtjb25zdCBlPVtdO3IuZm9yRWFjaCgodD0+e3QuYXBwSWQmJmUucHVzaCh0LmRlY2xhcmVkQ2xhc3M/dDpuZXcgaSQxKHQpKTt9KSksZS5sZW5ndGgmJnRoaXMucmVnaXN0ZXJPQXV0aEluZm9zKGUpO31zJiZzLmZvckVhY2goKGU9PntlLnNlcnZlciYmZS50b2tlbiYmZS5leHBpcmVzJiZlLmV4cGlyZXM+RGF0ZS5ub3coKSYmKChlPWUuZGVjbGFyZWRDbGFzcz9lOm5ldyBMKGUpKS5lbWl0VG9rZW5DaGFuZ2UoKSx0aGlzLmNyZWRlbnRpYWxzLnB1c2goZSkpO30pKTt9ZmluZFNlcnZlckluZm8oZSl7bGV0IHQ7ZT10aGlzLl9zYW5pdGl6ZVVybChlKTtmb3IoY29uc3QgciBvZiB0aGlzLnNlcnZlckluZm9zKWlmKHRoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZShyLnNlcnZlcixlKSl7dD1yO2JyZWFrfXJldHVybiB0fWZpbmRPQXV0aEluZm8oZSl7bGV0IHQ7ZT10aGlzLl9zYW5pdGl6ZVVybChlKTtmb3IoY29uc3QgciBvZiB0aGlzLm9BdXRoSW5mb3MpaWYodGhpcy5faGFzU2FtZVNlcnZlckluc3RhbmNlKHIucG9ydGFsVXJsLGUpKXt0PXI7YnJlYWt9cmV0dXJuIHR9ZmluZENyZWRlbnRpYWwoZSx0KXtpZighZSlyZXR1cm47bGV0IHI7ZT10aGlzLl9zYW5pdGl6ZVVybChlKTtjb25zdCBzPXRoaXMuX2lzU2VydmVyUnNyYyhlKT9cInNlcnZlclwiOlwicG9ydGFsXCI7aWYodCl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5jcmVkZW50aWFscylpZih0aGlzLl9oYXNTYW1lU2VydmVySW5zdGFuY2UoaS5zZXJ2ZXIsZSkmJnQ9PT1pLnVzZXJJZCYmaS5zY29wZT09PXMpe3I9aTticmVha319ZWxzZSBmb3IoY29uc3QgaSBvZiB0aGlzLmNyZWRlbnRpYWxzKWlmKHRoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZShpLnNlcnZlcixlKSYmLTEhPT10aGlzLl9nZXRJZGVudGljYWxTdmNJZHgoZSxpKSYmaS5zY29wZT09PXMpe3I9aTticmVha31yZXR1cm4gcn1nZXRDcmVkZW50aWFsKGUsdCl7bGV0IHIscyxvPSEwO3QmJihyPSEhdC50b2tlbixzPXQuZXJyb3Isbz0hMSE9PXQucHJvbXB0KSx0PXsuLi50fSxlPXRoaXMuX3Nhbml0aXplVXJsKGUpO2NvbnN0IG49bmV3IEFib3J0Q29udHJvbGxlcixhPUMkNigpO2lmKHQuc2lnbmFsJiZ3JDcodC5zaWduYWwsKCgpPT57bi5hYm9ydCgpO30pKSx3JDcobiwoKCk9PnthLnJlamVjdChuZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjp1c2VyLWFib3J0ZWRcIixcIkFCT1JURURcIikpO30pKSxhJHQobikpcmV0dXJuIGEucHJvbWlzZTt0LnNpZ25hbD1uLnNpZ25hbDtjb25zdCBoPXRoaXMuX2lzQWRtaW5SZXNvdXJjZShlKSx1PXI/dGhpcy5maW5kQ3JlZGVudGlhbChlKTpudWxsO2xldCBwO2lmKHUmJnMmJnMuZGV0YWlscyYmNDk4PT09cy5kZXRhaWxzLmh0dHBTdGF0dXMpdS5kZXN0cm95KCk7ZWxzZSBpZih1KXJldHVybiBwPW5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOm5vdC1hdXRob3JpemVkXCIsXCJZb3UgYXJlIGN1cnJlbnRseSBzaWduZWQgaW4gYXM6ICdcIit1LnVzZXJJZCtcIicuIFlvdSBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyByZXNvdXJjZTogXCIrZSx7ZXJyb3I6c30pLGEucmVqZWN0KHApLGEucHJvbWlzZTtjb25zdCBmPXRoaXMuX2ZpbmRDcmVkZW50aWFsKGUsdCk7aWYoZilyZXR1cm4gYS5yZXNvbHZlKGYpLGEucHJvbWlzZTtsZXQgZz10aGlzLmZpbmRTZXJ2ZXJJbmZvKGUpO2lmKGcpIWcuaGFzU2VydmVyJiZ0aGlzLl9pc1NlcnZlclJzcmMoZSkmJihnLl9yZXN0SW5mb1Btcz10aGlzLl9nZXRUb2tlblN2Y1VybChlKSxnLmhhc1NlcnZlcj0hMCk7ZWxzZSB7Y29uc3QgdD10aGlzLl9nZXRUb2tlblN2Y1VybChlKTtpZighdClyZXR1cm4gcD1uZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjp1bmtub3duLXJlc291cmNlXCIsXCJVbmtub3duIHJlc291cmNlIC0gY291bGQgbm90IGZpbmQgdG9rZW4gc2VydmljZSBlbmRwb2ludC5cIiksYS5yZWplY3QocCksYS5wcm9taXNlO2c9bmV3IGksZy5zZXJ2ZXI9dGhpcy5fZ2V0U2VydmVySW5zdGFuY2VSb290KGUpLFwic3RyaW5nXCI9PXR5cGVvZiB0PyhnLnRva2VuU2VydmljZVVybD10LGcuaGFzUG9ydGFsPSEwKTooZy5fcmVzdEluZm9QbXM9dCxnLmhhc1NlcnZlcj0hMCksdGhpcy5yZWdpc3RlclNlcnZlcnMoW2ddKTt9cmV0dXJuIGcuaGFzUG9ydGFsJiZ2b2lkIDA9PT1nLl9zZWxmUmVxJiYob3x8RiQ0KGcudG9rZW5TZXJ2aWNlVXJsLHRoaXMuX2FwcE9yaWdpbil8fHRoaXMuX2d3RG9tYWlucy5zb21lKChlPT5lLnRva2VuU2VydmljZVVybD09PWcudG9rZW5TZXJ2aWNlVXJsKSkpJiYoZy5fc2VsZlJlcT17b3duaW5nVGVuYW50OnQmJnQub3duaW5nVGVuYW50LHNlbGZEZmQ6dGhpcy5fZ2V0UG9ydGFsU2VsZihnLnRva2VuU2VydmljZVVybC5yZXBsYWNlKHRoaXMuX3JlUG9ydGFsVG9rZW5TdmMsXCIvc2hhcmluZy9yZXN0L3BvcnRhbHMvc2VsZlwiKSxlKX0pLHRoaXMuX2VucXVldWUoZSxnLHQsYSxoKX1nZXRSZXNvdXJjZU5hbWUoZSl7cmV0dXJuIHRoaXMuX2lzUkVTVFNlcnZpY2UoZSk/ZS5yZXBsYWNlKHRoaXMuX3JlZ2V4U0RpclVybCxcIlwiKS5yZXBsYWNlKHRoaXMuX3JlZ2V4U2VydmVyVHlwZSxcIlwiKXx8XCJcIjp0aGlzLl9nd1VzZXIudGVzdChlKSYmZS5yZXBsYWNlKHRoaXMuX2d3VXNlcixcIiQxXCIpfHx0aGlzLl9nd0l0ZW0udGVzdChlKSYmZS5yZXBsYWNlKHRoaXMuX2d3SXRlbSxcIiQxXCIpfHx0aGlzLl9nd0dyb3VwLnRlc3QoZSkmJmUucmVwbGFjZSh0aGlzLl9nd0dyb3VwLFwiJDFcIil8fFwiXCJ9Z2VuZXJhdGVUb2tlbihlLHQscil7Y29uc3Qgbz10aGlzLl9yZVBvcnRhbFRva2VuU3ZjLnRlc3QoZS50b2tlblNlcnZpY2VVcmwpLG49bmV3ICQkNCh0aGlzLl9hcHBPcmlnaW4pLGE9ZS5zaG9ydExpdmVkVG9rZW5WYWxpZGl0eTtsZXQgaCxsLGMsZCx1LHAsZyxtO3QmJihtPXRoaXMudG9rZW5WYWxpZGl0eXx8YXx8dGhpcy5fZGVmYXVsdFRva2VuVmFsaWRpdHksbT5hJiZhPjAmJihtPWEpKSxyJiYoaD1yLmlzQWRtaW4sbD1yLnNlcnZlclVybCxjPXIudG9rZW4scD1yLnNpZ25hbCxnPXIuc3NsLGUuY3VzdG9tUGFyYW1ldGVycz1yLmN1c3RvbVBhcmFtZXRlcnMpLGg/ZD1lLmFkbWluVG9rZW5TZXJ2aWNlVXJsOihkPWUudG9rZW5TZXJ2aWNlVXJsLHU9bmV3ICQkNChkLnRvTG93ZXJDYXNlKCkpLGUud2ViVGllckF1dGgmJnI/LnNlcnZlclVybCYmIWcmJlwiaHR0cFwiPT09bi5zY2hlbWUmJihGJDQobi51cmksZCwhMCl8fFwiaHR0cHNcIj09PXUuc2NoZW1lJiZuLmhvc3Q9PT11Lmhvc3QmJlwiNzA4MFwiPT09bi5wb3J0JiZcIjc0NDNcIj09PXUucG9ydCkmJihkPWQucmVwbGFjZSgvXmh0dHBzOi9pLFwiaHR0cDpcIikucmVwbGFjZSgvOjc0NDMvaSxcIjo3MDgwXCIpKSk7Y29uc3Qgdj17cXVlcnk6e3JlcXVlc3Q6XCJnZXRUb2tlblwiLHVzZXJuYW1lOnQ/LnVzZXJuYW1lLHBhc3N3b3JkOnQ/LnBhc3N3b3JkLHNlcnZlclVybDpsLHRva2VuOmMsZXhwaXJhdGlvbjptLHJlZmVyZXI6aHx8bz90aGlzLl9hcHBPcmlnaW46bnVsbCxjbGllbnQ6aD9cInJlZmVyZXJcIjpudWxsLGY6XCJqc29uXCIsLi4uZS5jdXN0b21QYXJhbWV0ZXJzfSxtZXRob2Q6XCJwb3N0XCIsYXV0aE1vZGU6XCJhbm9ueW1vdXNcIix1c2VQcm94eTp0aGlzLl91c2VQcm94eShlLHIpLHNpZ25hbDpwLC4uLnI/LmlvQXJnc307b3x8KHYud2l0aENyZWRlbnRpYWxzPSExKTtyZXR1cm4gaiRiKGQsdikudGhlbigocj0+e2NvbnN0IHM9ci5kYXRhO2lmKCFzfHwhcy50b2tlbilyZXR1cm4gbmV3IHMkQyhcImlkZW50aXR5LW1hbmFnZXI6YXV0aGVudGljYXRpb24tZmFpbGVkXCIsXCJVbmFibGUgdG8gZ2VuZXJhdGUgdG9rZW5cIik7Y29uc3Qgbz1lLnNlcnZlcjtyZXR1cm4gQ1tvXXx8KENbb109e30pLHQmJihDW29dW3QudXNlcm5hbWVdPXQucGFzc3dvcmQpLHMudmFsaWRpdHk9bSxzfSkpfWlzQnVzeSgpe3JldHVybiAhIXRoaXMuX2J1c3l9Y2hlY2tTaWduSW5TdGF0dXMoZSl7cmV0dXJuIHRoaXMuY2hlY2tBcHBBY2Nlc3MoZSxcIlwiKS50aGVuKChlPT5lLmNyZWRlbnRpYWwpKX1jaGVja0FwcEFjY2VzcyhlLHQscil7bGV0IG89ITE7cmV0dXJuIHRoaXMuZ2V0Q3JlZGVudGlhbChlLHtwcm9tcHQ6ITF9KS50aGVuKChuPT57bGV0IGE7Y29uc3QgaD17ZjpcImpzb25cIn07aWYoXCJwb3J0YWxcIj09PW4uc2NvcGUpaWYodCYmKHRoaXMuX2RvUG9ydGFsU2lnbkluKGUpfHxyJiZyLmZvcmNlKSlhPW4uc2VydmVyK1wiL3NoYXJpbmcvcmVzdC9vYXV0aDIvdmFsaWRhdGVBcHBBY2Nlc3NcIixoLmNsaWVudF9pZD10O2Vsc2Uge2lmKCFuLnRva2VuKXJldHVybiB7Y3JlZGVudGlhbDpufTthPW4uc2VydmVyK1wiL3NoYXJpbmcvcmVzdFwiO31lbHNlIHtpZighbi50b2tlbilyZXR1cm4ge2NyZWRlbnRpYWw6bn07YT1uLnNlcnZlcitcIi9yZXN0L3NlcnZpY2VzXCI7fXJldHVybiBuLnRva2VuJiYoaC50b2tlbj1uLnRva2VuKSxqJGIoYSx7cXVlcnk6aCxhdXRoTW9kZTpcImFub255bW91c1wifSkudGhlbigoZT0+e2lmKCExPT09ZS5kYXRhLnZhbGlkKXRocm93IG5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOm5vdC1hdXRob3JpemVkXCIsYFlvdSBhcmUgY3VycmVudGx5IHNpZ25lZCBpbiBhczogJyR7bi51c2VySWR9Jy5gLGUuZGF0YSk7cmV0dXJuIG89ISFlLmRhdGEudmlld09ubHlVc2VyVHlwZUFwcCx7Y3JlZGVudGlhbDpufX0pKS5jYXRjaCgoZT0+e2lmKFwiaWRlbnRpdHktbWFuYWdlcjpub3QtYXV0aG9yaXplZFwiPT09ZS5uYW1lKXRocm93IGU7Y29uc3QgdD1lLmRldGFpbHMmJmUuZGV0YWlscy5odHRwU3RhdHVzO2lmKDQ5OD09PXQpdGhyb3cgbi5kZXN0cm95KCksbmV3IHMkQyhcImlkZW50aXR5LW1hbmFnZXI6bm90LWF1dGhlbnRpY2F0ZWRcIixcIlVzZXIgaXMgbm90IHNpZ25lZCBpbi5cIik7aWYoNDAwPT09dCl0aHJvdyBuZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjppbnZhbGlkLXJlcXVlc3RcIik7cmV0dXJuIHtjcmVkZW50aWFsOm59fSkpfSkpLnRoZW4oKGU9Pih7Y3JlZGVudGlhbDplLmNyZWRlbnRpYWwsdmlld09ubHk6b30pKSl9c2V0T0F1dGhSZXNwb25zZUhhc2goZSl7ZSYmKFwiI1wiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKSx0aGlzLl9wcm9jZXNzT0F1dGhQb3B1cFBhcmFtcyhJJDYoZSkpKTt9c2V0T0F1dGhSZWRpcmVjdGlvbkhhbmRsZXIoZSl7dGhpcy5fb0F1dGhSZWRpcmVjdEZ1bmM9ZTt9c2V0UHJvdG9jb2xFcnJvckhhbmRsZXIoZSl7dGhpcy5fcHJvdG9jb2xGdW5jPWU7fXNpZ25JbihlLHQscj17fSl7Y29uc3Qgcz1DJDYoKSxvPSgpPT57aCQxPy5yZW1vdmUoKSxkPy5yZW1vdmUoKSxwPy5yZW1vdmUoKSxhPy5kZXN0cm95KCksdGhpcy5kaWFsb2c/LmRlc3Ryb3koKSx0aGlzLmRpYWxvZz1hPWgkMT1kPXA9bnVsbDt9LG49KCk9PntvKCksdGhpcy5fb0F1dGhEZmQ9bnVsbCxzLnJlamVjdChuZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjp1c2VyLWFib3J0ZWRcIixcIkFCT1JURURcIikpO307ci5zaWduYWwmJnckNyhyLnNpZ25hbCwoKCk9PntuKCk7fSkpO2xldCBhPW5ldyB0aGlzLmZvcm1Db25zdHJ1Y3RvcjthLnJlc291cmNlPXRoaXMuZ2V0UmVzb3VyY2VOYW1lKGUpLGEuc2VydmVyPXQuc2VydmVyLHRoaXMuZGlhbG9nPW5ldyBoLHRoaXMuZGlhbG9nLmNvbnRlbnQ9YSx0aGlzLmRpYWxvZy5vcGVuPSEwLHRoaXMuZW1pdChcImRpYWxvZy1jcmVhdGVcIik7bGV0IGgkMT1hLm9uKFwiY2FuY2VsXCIsbiksZD1sJDQoKCgpPT50aGlzLmRpYWxvZy5vcGVuKSxuKSxwPWEub24oXCJzdWJtaXRcIiwoZT0+e3RoaXMuZ2VuZXJhdGVUb2tlbih0LGUse2lzQWRtaW46ci5pc0FkbWluLHNpZ25hbDpyLnNpZ25hbH0pLnRoZW4oKGk9PntvKCk7Y29uc3Qgbj1uZXcgTCh7dXNlcklkOmUudXNlcm5hbWUsc2VydmVyOnQuc2VydmVyLHRva2VuOmkudG9rZW4sZXhwaXJlczpudWxsIT1pLmV4cGlyZXM/TnVtYmVyKGkuZXhwaXJlcyk6bnVsbCxzc2w6ISFpLnNzbCxpc0FkbWluOnIuaXNBZG1pbix2YWxpZGl0eTppLnZhbGlkaXR5fSk7cy5yZXNvbHZlKG4pO30pKS5jYXRjaCgoZT0+e2EuZXJyb3I9ZSxhLnNpZ25pbmdJbj0hMTt9KSk7fSkpO3JldHVybiBzLnByb21pc2V9b0F1dGhTaWduSW4oZSx0LHIscyl7dGhpcy5fb0F1dGhEZmQ9QyQ2KCk7Y29uc3Qgbz10aGlzLl9vQXV0aERmZDtsZXQgbjtzPy5zaWduYWwmJnckNyhzLnNpZ25hbCwoKCk9Pntjb25zdCBlPXRoaXMuX29BdXRoRGZkJiZ0aGlzLl9vQXV0aERmZC5vQXV0aFdpbl87ZSYmIWUuY2xvc2VkP2UuY2xvc2UoKTp0aGlzLmRpYWxvZyYmZigpO30pKSxvLnJlc1VybF89ZSxvLnNpbmZvXz10LG8ub2luZm9fPXI7Y29uc3QgYT1yLl9vQXV0aENyZWQ7aWYoYS5zdG9yYWdlJiYoXCJhdXRob3JpemF0aW9uLWNvZGVcIj09PXIuZmxvd1R5cGV8fFwiYXV0b1wiPT09ci5mbG93VHlwZSYmIXIucG9wdXAmJnQuY3VycmVudFZlcnNpb24+PTguNCkpe2xldCBlPWNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMzIpKTtuPWV0KGUpLGEuY29kZVZlcmlmaWVyPW4sZT1jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDMyKSksYS5zdGF0ZVVJRD1ldChlKSxhLnNhdmUoKXx8KGEuY29kZVZlcmlmaWVyPW49bnVsbCk7fWVsc2UgYS5jb2RlVmVyaWZpZXI9bnVsbDtsZXQgaCQxLGQscCxfO3RoaXMuX2dldENvZGVDaGFsbGVuZ2UobikudGhlbigoaT0+e2NvbnN0IG89IXN8fCExIT09cy5vQXV0aFBvcHVwQ29uZmlybWF0aW9uO3IucG9wdXAmJm8/KGgkMT1uZXcgdGhpcy5mb3JtQ29uc3RydWN0b3IsaCQxLm9BdXRoUHJvbXB0PSEwLGgkMS5zZXJ2ZXI9dC5zZXJ2ZXIsdGhpcy5kaWFsb2c9bmV3IGgsdGhpcy5kaWFsb2cuY29udGVudD1oJDEsdGhpcy5kaWFsb2cub3Blbj0hMCx0aGlzLmVtaXQoXCJkaWFsb2ctY3JlYXRlXCIpLGQ9aCQxLm9uKFwiY2FuY2VsXCIsZikscD1sJDQoKCgpPT50aGlzLmRpYWxvZy5vcGVuKSxmKSxfPWgkMS5vbihcInN1Ym1pdFwiLCgoKT0+e2coKSx0aGlzLl9kb09BdXRoU2lnbkluKGUsdCxyLGkpO30pKSk6dGhpcy5fZG9PQXV0aFNpZ25JbihlLHQscixpKTt9KSk7Y29uc3QgZj0oKT0+e2coKSx0aGlzLl9vQXV0aERmZD1udWxsLG8ucmVqZWN0KG5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOnVzZXItYWJvcnRlZFwiLFwiQUJPUlRFRFwiKSk7fSxnPSgpPT57ZD8ucmVtb3ZlKCkscD8ucmVtb3ZlKCksXz8ucmVtb3ZlKCksaCQxPy5kZXN0cm95KCksdGhpcy5kaWFsb2c/LmRlc3Ryb3koKSx0aGlzLmRpYWxvZz1udWxsO307cmV0dXJuIG8ucHJvbWlzZX1kZXN0cm95Q3JlZGVudGlhbHMoKXtpZih0aGlzLmNyZWRlbnRpYWxzKXt0aGlzLmNyZWRlbnRpYWxzLnNsaWNlKCkuZm9yRWFjaCgoZT0+e2UuZGVzdHJveSgpO30pKTt9dGhpcy5lbWl0KFwiY3JlZGVudGlhbHMtZGVzdHJveVwiKTt9ZW5hYmxlUG9zdE1lc3NhZ2VBdXRoKGU9XCJodHRwczovL3d3dy5hcmNnaXMuY29tL3NoYXJpbmcvcmVzdFwiKXt0aGlzLl9wb3N0TWVzc2FnZUF1dGhIYW5kbGUmJnRoaXMuX3Bvc3RNZXNzYWdlQXV0aEhhbmRsZS5yZW1vdmUoKSx0aGlzLl9wb3N0TWVzc2FnZUF1dGhIYW5kbGU9ciRvKHdpbmRvdyxcIm1lc3NhZ2VcIiwodD0+e2lmKCh0Lm9yaWdpbj09PXRoaXMuX2FwcE9yaWdpbnx8dC5vcmlnaW4uZW5kc1dpdGgoXCIuYXJjZ2lzLmNvbVwiKSkmJlwiYXJjZ2lzOmF1dGg6cmVxdWVzdENyZWRlbnRpYWxcIj09PXQuZGF0YT8udHlwZSl7Y29uc3Qgcj10LnNvdXJjZTt0aGlzLmdldENyZWRlbnRpYWwoZSkudGhlbigoZT0+e3IucG9zdE1lc3NhZ2Uoe3R5cGU6XCJhcmNnaXM6YXV0aDpjcmVkZW50aWFsXCIsY3JlZGVudGlhbDp7ZXhwaXJlczplLmV4cGlyZXMsc2VydmVyOmUuc2VydmVyLHNzbDplLnNzbCx0b2tlbjplLnRva2VuLHVzZXJJZDplLnVzZXJJZH19LHQub3JpZ2luKTt9KSkuY2F0Y2goKGU9PntyLnBvc3RNZXNzYWdlKHt0eXBlOlwiYXJjZ2lzOmF1dGg6ZXJyb3JcIixlcnJvcjp7bmFtZTplLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2V9fSx0Lm9yaWdpbik7fSkpO319KSk7fWRpc2FibGVQb3N0TWVzc2FnZUF1dGgoKXt0aGlzLl9wb3N0TWVzc2FnZUF1dGhIYW5kbGUmJih0aGlzLl9wb3N0TWVzc2FnZUF1dGhIYW5kbGUucmVtb3ZlKCksdGhpcy5fcG9zdE1lc3NhZ2VBdXRoSGFuZGxlPW51bGwpO31fZ2V0T0F1dGhMb2NhdGlvblBhcmFtcygpe2xldCBlPXdpbmRvdy5sb2NhdGlvbi5oYXNoO2lmKGUpe1wiI1wiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKTtjb25zdCB0PUkkNihlKTtsZXQgcj0hMTtpZih0LmFjY2Vzc190b2tlbiYmdC5leHBpcmVzX2luJiZ0LnN0YXRlJiZ0Lmhhc093blByb3BlcnR5KFwidXNlcm5hbWVcIikpdHJ5e3Quc3RhdGU9SlNPTi5wYXJzZSh0LnN0YXRlKSx0LnN0YXRlLnBvcnRhbFVybCYmKHRoaXMuX29BdXRoTG9jYXRpb25QYXJhbXM9dCxyPSEwKTt9Y2F0Y2h7fWVsc2UgaWYodC5lcnJvciYmdC5lcnJvcl9kZXNjcmlwdGlvbiYmKGNvbnNvbGUubG9nKFwiSWRlbnRpdHlNYW5hZ2VyIE9BdXRoIEVycm9yOiBcIix0LmVycm9yLFwiIC0gXCIsdC5lcnJvcl9kZXNjcmlwdGlvbiksXCJhY2Nlc3NfZGVuaWVkXCI9PT10LmVycm9yJiYocj0hMCx0LnN0YXRlKSkpdHJ5e3Quc3RhdGU9SlNPTi5wYXJzZSh0LnN0YXRlKTt9Y2F0Y2h7fXImJih3aW5kb3cubG9jYXRpb24uaGFzaD10LnN0YXRlPy5oYXNofHxcIlwiKTt9bGV0IHQ9d2luZG93LmxvY2F0aW9uLnNlYXJjaDtpZih0KXtcIj9cIj09PXQuY2hhckF0KDApJiYodD10LnN1YnN0cmluZygxKSk7Y29uc3QgZT1JJDYodCk7bGV0IHI9ITE7aWYoZS5jb2RlJiZlLnN0YXRlKXRyeXtlLnN0YXRlPUpTT04ucGFyc2UoZS5zdGF0ZSksZS5zdGF0ZS5wb3J0YWxVcmwmJmUuc3RhdGUudWlkJiYodGhpcy5fb0F1dGhMb2NhdGlvblBhcmFtcz1lLHI9ITApO31jYXRjaHt9ZWxzZSBpZihlLmVycm9yJiZlLmVycm9yX2Rlc2NyaXB0aW9uJiYoY29uc29sZS5sb2coXCJJZGVudGl0eU1hbmFnZXIgT0F1dGggRXJyb3I6IFwiLGUuZXJyb3IsXCIgLSBcIixlLmVycm9yX2Rlc2NyaXB0aW9uKSxcImFjY2Vzc19kZW5pZWRcIj09PWUuZXJyb3ImJihyPSEwLGUuc3RhdGUpKSl0cnl7ZS5zdGF0ZT1KU09OLnBhcnNlKGUuc3RhdGUpO31jYXRjaHt9aWYocil7Y29uc3QgdD17Li4uZX07W1wiY29kZVwiLFwiZXJyb3JcIixcImVycm9yX2Rlc2NyaXB0aW9uXCIsXCJtZXNzYWdlX2NvZGVcIixcInBlcnNpc3RcIixcInN0YXRlXCJdLmZvckVhY2goKGU9PntkZWxldGUgdFtlXTt9KSk7Y29uc3Qgcj12JGEodCkscz13aW5kb3cubG9jYXRpb24ucGF0aG5hbWUrKHI/YD8ke3J9YDpcIlwiKSsoZS5zdGF0ZT8uaGFzaHx8XCJcIik7d2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHdpbmRvdy5oaXN0b3J5LnN0YXRlLFwiXCIscyk7fX19X2dldE9BdXRoVG9rZW4oZSx0LHIsaSxvKXtyZXR1cm4gZT1lLnJlcGxhY2UoL15odHRwOi9pLFwiaHR0cHM6XCIpLGokYihgJHtlfS9zaGFyaW5nL3Jlc3Qvb2F1dGgyL3Rva2VuYCx7YXV0aE1vZGU6XCJhbm9ueW1vdXNcIixtZXRob2Q6XCJwb3N0XCIscXVlcnk6aSYmbz97Z3JhbnRfdHlwZTpcImF1dGhvcml6YXRpb25fY29kZVwiLGNvZGU6dCxyZWRpcmVjdF91cmk6aSxjbGllbnRfaWQ6cixjb2RlX3ZlcmlmaWVyOm99OntncmFudF90eXBlOlwicmVmcmVzaF90b2tlblwiLHJlZnJlc2hfdG9rZW46dCxjbGllbnRfaWQ6cn19KS50aGVuKChlPT5lLmRhdGEpKX1fZ2V0Q29kZUNoYWxsZW5nZShlKXtpZihlJiZnbG9iYWxUaGlzLmlzU2VjdXJlQ29udGV4dCl7Y29uc3QgdD0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7cmV0dXJuIGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLHQpLnRoZW4oKGU9PmV0KG5ldyBVaW50OEFycmF5KGUpKSkpfXJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCl9X3BhZ2VTaG93SGFuZGxlcihlKXtpZihlLnBlcnNpc3RlZCYmdGhpcy5pc0J1c3koKSYmdGhpcy5fcmVqZWN0T25QZXJzaXN0ZWRQYWdlU2hvdyl7Y29uc3QgZT1uZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjp1c2VyLWFib3J0ZWRcIixcIkFCT1JURURcIik7dGhpcy5fZXJyYmFja0Z1bmMoZSk7fX1fZmluZENyZWRlbnRpYWwoZSx0KXtsZXQgcixzLGksbyxuPS0xO2NvbnN0IGE9dCYmdC50b2tlbixoPXQmJnQucmVzb3VyY2UsbD10aGlzLl9pc1NlcnZlclJzcmMoZSk/XCJzZXJ2ZXJcIjpcInBvcnRhbFwiLGM9dGhpcy5jcmVkZW50aWFscy5maWx0ZXIoKHQ9PnRoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZSh0LnNlcnZlcixlKSYmdC5zY29wZT09PWwpKTtpZihlPWh8fGUsYy5sZW5ndGgpaWYoMT09PWMubGVuZ3RoKXtpZihyPWNbMF0saT10aGlzLmZpbmRTZXJ2ZXJJbmZvKHIuc2VydmVyKSxzPWkmJmkub3duaW5nU3lzdGVtVXJsLG89cz90aGlzLmZpbmRDcmVkZW50aWFsKHMsci51c2VySWQpOnZvaWQgMCxuPXRoaXMuX2dldElkZW50aWNhbFN2Y0lkeChlLHIpLCFhKXJldHVybiAtMT09PW4mJnIucmVzb3VyY2VzLnB1c2goZSksdGhpcy5fYWRkUmVzb3VyY2UoZSxvKSxyOy0xIT09biYmKHIucmVzb3VyY2VzLnNwbGljZShuLDEpLHRoaXMuX3JlbW92ZVJlc291cmNlKGUsbykpO31lbHNlIHtsZXQgdCxyO2lmKGMuc29tZSgoYT0+KHI9dGhpcy5fZ2V0SWRlbnRpY2FsU3ZjSWR4KGUsYSksLTEhPT1yJiYodD1hLGk9dGhpcy5maW5kU2VydmVySW5mbyh0LnNlcnZlcikscz1pJiZpLm93bmluZ1N5c3RlbVVybCxvPXM/dGhpcy5maW5kQ3JlZGVudGlhbChzLHQudXNlcklkKTp2b2lkIDAsbj1yLCEwKSkpKSxhKXQmJih0LnJlc291cmNlcy5zcGxpY2UobiwxKSx0aGlzLl9yZW1vdmVSZXNvdXJjZShlLG8pKTtlbHNlIGlmKHQpcmV0dXJuIHRoaXMuX2FkZFJlc291cmNlKGUsbyksdH19X2ZpbmRPQXV0aEluZm8oZSl7bGV0IHQ9dGhpcy5maW5kT0F1dGhJbmZvKGUpO2lmKCF0KWZvcihjb25zdCByIG9mIHRoaXMub0F1dGhJbmZvcylpZih0aGlzLl9pc0lkUHJvdmlkZXIoci5wb3J0YWxVcmwsZSkpe3Q9cjticmVha31yZXR1cm4gdH1fYWRkUmVzb3VyY2UoZSx0KXt0JiYtMT09PXRoaXMuX2dldElkZW50aWNhbFN2Y0lkeChlLHQpJiZ0LnJlc291cmNlcy5wdXNoKGUpO31fcmVtb3ZlUmVzb3VyY2UoZSx0KXtsZXQgcj0tMTt0JiYocj10aGlzLl9nZXRJZGVudGljYWxTdmNJZHgoZSx0KSxyPi0xJiZ0LnJlc291cmNlcy5zcGxpY2UociwxKSk7fV91c2VQcm94eShlLHQpe3JldHVybiB0JiZ0LmlzQWRtaW4mJiFGJDQoZS5hZG1pblRva2VuU2VydmljZVVybCx0aGlzLl9hcHBPcmlnaW4pfHwhdGhpcy5faXNQb3J0YWxEb21haW4oZS50b2tlblNlcnZpY2VVcmwpJiZcIjEwLjFcIj09PVN0cmluZyhlLmN1cnJlbnRWZXJzaW9uKSYmIUYkNChlLnRva2VuU2VydmljZVVybCx0aGlzLl9hcHBPcmlnaW4pfV9nZXRPcmlnaW4oZSl7Y29uc3QgdD1uZXcgJCQ0KGUpO3JldHVybiB0LnNjaGVtZStcIjovL1wiK3QuaG9zdCsobnVsbCE9dC5wb3J0P1wiOlwiK3QucG9ydDpcIlwiKX1fZ2V0U2VydmVySW5zdGFuY2VSb290KGUpe2NvbnN0IHQ9ZS50b0xvd2VyQ2FzZSgpO2xldCByPXQuaW5kZXhPZih0aGlzLl9hZ3NSZXN0KTtyZXR1cm4gLTE9PT1yJiZ0aGlzLl9pc0FkbWluUmVzb3VyY2UoZSkmJihyPXRoaXMuX2Fnc0FkbWluLnRlc3QoZSk/ZS5yZXBsYWNlKHRoaXMuX2Fnc0FkbWluLFwiJDFcIikubGVuZ3RoOmUuc2VhcmNoKHRoaXMuX2FkbWluU3ZjcykpLC0xIT09cnx8dCR3KHQpfHwocj10LmluZGV4T2YoXCIvc2hhcmluZ1wiKSksLTE9PT1yJiZcIi9cIj09PXQuc3Vic3RyKC0xKSYmKHI9dC5sZW5ndGgtMSkscj4tMT9lLnN1YnN0cmluZygwLHIpOmV9X2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZShlLHQpe3JldHVybiBcIi9cIj09PWUuc3Vic3RyKC0xKSYmKGU9ZS5zbGljZSgwLC0xKSksZT1lLnRvTG93ZXJDYXNlKCksdD10aGlzLl9nZXRTZXJ2ZXJJbnN0YW5jZVJvb3QodCkudG9Mb3dlckNhc2UoKSxlPXRoaXMuX25vcm1hbGl6ZUFHT0xvcmdEb21haW4oZSksdD10aGlzLl9ub3JtYWxpemVBR09Mb3JnRG9tYWluKHQpLChlPWUuc3Vic3RyKGUuaW5kZXhPZihcIjpcIikpKT09PSh0PXQuc3Vic3RyKHQuaW5kZXhPZihcIjpcIikpKX1fbm9ybWFsaXplQUdPTG9yZ0RvbWFpbihlKXtjb25zdCB0PS9eaHR0cHM/OlxcL1xcLyg/OmNkbnxbYS16XFxkLV0rXFwubWFwcylcXC5hcmNnaXNcXC5jb20vaSxyPS9eaHR0cHM/OlxcL1xcLyg/OmNkbmRldnxbYS16XFxkLV0rXFwubWFwc2RldmV4dClcXC5hcmNnaXNcXC5jb20vaSxzPS9eaHR0cHM/OlxcL1xcLyg/OmNkbnFhfFthLXpcXGQtXStcXC5tYXBzcWEpXFwuYXJjZ2lzXFwuY29tL2k7cmV0dXJuIHQudGVzdChlKT9lPWUucmVwbGFjZSh0LFwiaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbVwiKTpyLnRlc3QoZSk/ZT1lLnJlcGxhY2UocixcImh0dHBzOi8vZGV2ZXh0LmFyY2dpcy5jb21cIik6cy50ZXN0KGUpJiYoZT1lLnJlcGxhY2UocyxcImh0dHBzOi8vcWFleHQuYXJjZ2lzLmNvbVwiKSksZX1fc2FuaXRpemVVcmwoZSl7Y29uc3Qgcj0ocyRGLnJlcXVlc3QucHJveHlVcmx8fFwiXCIpLnRvTG93ZXJDYXNlKCkscz1yP2UudG9Mb3dlckNhc2UoKS5pbmRleE9mKHIrXCI/XCIpOi0xO3JldHVybiAtMSE9PXMmJihlPWUuc3Vic3RyaW5nKHMrci5sZW5ndGgrMSkpLGU9SyQyKGUpLEwkNihlKS5wYXRofV9pc1JFU1RTZXJ2aWNlKGUpe3JldHVybiBlLmluY2x1ZGVzKHRoaXMuX2Fnc1Jlc3QpfV9pc0FkbWluUmVzb3VyY2UoZSl7cmV0dXJuIHRoaXMuX2Fnc0FkbWluLnRlc3QoZSl8fHRoaXMuX2FkbWluU3Zjcy50ZXN0KGUpfV9pc1NlcnZlclJzcmMoZSl7cmV0dXJuIHRoaXMuX2lzUkVTVFNlcnZpY2UoZSl8fHRoaXMuX2lzQWRtaW5SZXNvdXJjZShlKX1faXNJZGVudGljYWxTZXJ2aWNlKGUsdCl7bGV0IHI9ITE7aWYodGhpcy5faXNSRVNUU2VydmljZShlKSYmdGhpcy5faXNSRVNUU2VydmljZSh0KSl7Y29uc3Qgcz10aGlzLl9nZXRTdWZmaXgoZSkudG9Mb3dlckNhc2UoKSxpPXRoaXMuX2dldFN1ZmZpeCh0KS50b0xvd2VyQ2FzZSgpO2lmKHI9cz09PWksIXIpe2NvbnN0IGU9LyguKilcXC8oTWFwU2VydmVyfEZlYXR1cmVTZXJ2ZXJ8VXRpbGl0eU5ldHdvcmtTZXJ2ZXIpLiovZ2k7cj1zLnJlcGxhY2VBbGwoZSxcIiQxXCIpPT09aS5yZXBsYWNlQWxsKGUsXCIkMVwiKTt9fWVsc2UgdGhpcy5faXNBZG1pblJlc291cmNlKGUpJiZ0aGlzLl9pc0FkbWluUmVzb3VyY2UodCk/cj0hMDp0aGlzLl9pc1NlcnZlclJzcmMoZSl8fHRoaXMuX2lzU2VydmVyUnNyYyh0KXx8IXRoaXMuX2lzUG9ydGFsRG9tYWluKGUpfHwocj0hMCk7cmV0dXJuIHJ9X2lzUG9ydGFsRG9tYWluKGUpe2NvbnN0IHI9bmV3ICQkNChlLnRvTG93ZXJDYXNlKCkpLHM9dGhpcy5fcG9ydGFsQ29uZmlnO2xldCBpPXRoaXMuX2d3RG9tYWlucy5zb21lKChlPT5lLnJlZ2V4LnRlc3Qoci51cmkpKSk7cmV0dXJuICFpJiZzJiYoaT10aGlzLl9oYXNTYW1lU2VydmVySW5zdGFuY2UodGhpcy5fZ2V0U2VydmVySW5zdGFuY2VSb290KHMucmVzdEJhc2VVcmwpLHIudXJpKSksaXx8cyRGLnBvcnRhbFVybCYmKGk9RiQ0KHIscyRGLnBvcnRhbFVybCwhMCkpLGl8fChpPXRoaXMuX3BvcnRhbHMuc29tZSgoZT0+dGhpcy5faGFzU2FtZVNlcnZlckluc3RhbmNlKGUsci51cmkpKSkpLGk9aXx8dGhpcy5fYWdzUG9ydGFsLnRlc3Qoci5wYXRoKSxpfV9pc0lkUHJvdmlkZXIoZSx0KXtsZXQgcj0tMSxzPS0xO3RoaXMuX2d3RG9tYWlucy5mb3JFYWNoKCgoaSxvKT0+ey0xPT09ciYmaS5yZWdleC50ZXN0KGUpJiYocj1vKSwtMT09PXMmJmkucmVnZXgudGVzdCh0KSYmKHM9byk7fSkpO2xldCBpPSExO2lmKHI+LTEmJnM+LTEmJigwPT09cnx8ND09PXI/MCE9PXMmJjQhPT1zfHwoaT0hMCk6MT09PXI/MSE9PXMmJjIhPT1zfHwoaT0hMCk6Mj09PXI/Mj09PXMmJihpPSEwKTozPT09ciYmMz09PXMmJihpPSEwKSksIWkpe2NvbnN0IHI9dGhpcy5maW5kU2VydmVySW5mbyh0KSxzPXImJnIub3duaW5nU3lzdGVtVXJsO3MmJmIocikmJnRoaXMuX2lzUG9ydGFsRG9tYWluKHMpJiZ0aGlzLl9pc0lkUHJvdmlkZXIoZSxzKSYmKGk9ITApO31yZXR1cm4gaX1fZ2V0SWRlbnRpY2FsU3ZjSWR4KGUsdCl7bGV0IHI9LTE7Zm9yKGxldCBzPTA7czx0LnJlc291cmNlcy5sZW5ndGg7cysrKXtjb25zdCBpPXQucmVzb3VyY2VzW3NdO2lmKHRoaXMuX2lzSWRlbnRpY2FsU2VydmljZShlLGkpKXtyPXM7YnJlYWt9fXJldHVybiByfV9nZXRTdWZmaXgoZSl7cmV0dXJuIGUucmVwbGFjZSh0aGlzLl9yZWdleFNEaXJVcmwsXCJcIikucmVwbGFjZSh0aGlzLl9yZWdleFNlcnZlclR5cGUsXCIkMVwiKX1fZ2V0VG9rZW5TdmNVcmwoZSl7bGV0IHQscixpO2lmKHRoaXMuX2lzUkVTVFNlcnZpY2UoZSl8fHRoaXMuX2lzQWRtaW5SZXNvdXJjZShlKSl7Y29uc3QgaT10aGlzLl9nZXRTZXJ2ZXJJbnN0YW5jZVJvb3QoZSk7cmV0dXJuIHQ9aStcIi9hZG1pbi9nZW5lcmF0ZVRva2VuXCIscj1qJGIoZT1pK1wiL3Jlc3QvaW5mb1wiLHtxdWVyeTp7ZjpcImpzb25cIn19KS50aGVuKChlPT5lLmRhdGEpKSx7YWRtaW5Vcmw6dCxwcm9taXNlOnJ9fWlmKHRoaXMuX2lzUG9ydGFsRG9tYWluKGUpKXtsZXQgdD1cIlwiO2lmKHRoaXMuX2d3RG9tYWlucy5zb21lKChyPT4oci5yZWdleC50ZXN0KGUpJiYodD1yLnRva2VuU2VydmljZVVybCksISF0KSkpLHR8fHRoaXMuX3BvcnRhbHMuc29tZSgocj0+KHRoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZShyLGUpJiYodD1yK3RoaXMuX2d3VG9rZW5VcmwpLCEhdCkpKSx0fHwoaT1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi9zaGFyaW5nXCIpLC0xIT09aSYmKHQ9ZS5zdWJzdHJpbmcoMCxpKSt0aGlzLl9nd1Rva2VuVXJsKSksdHx8KHQ9dGhpcy5fZ2V0T3JpZ2luKGUpK3RoaXMuX2d3VG9rZW5VcmwpLHQpe2NvbnN0IHI9bmV3ICQkNChlKS5wb3J0Oy9eaHR0cDpcXC9cXC8vaS50ZXN0KGUpJiZcIjcwODBcIj09PXImJih0PXQucmVwbGFjZSgvOjcwODAvaSxcIjo3NDQzXCIpKSx0PXQucmVwbGFjZSgvaHR0cDovaSxcImh0dHBzOlwiKTt9cmV0dXJuIHR9aWYoZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicHJlbWl1bS5hcmNnaXNvbmxpbmUuY29tXCIpKXJldHVybiBcImh0dHBzOi8vcHJlbWl1bS5hcmNnaXNvbmxpbmUuY29tL3NlcnZlci90b2tlbnNcIn1fcHJvY2Vzc09BdXRoUmVzcG9uc2VQYXJhbXMoZSx0LHIpe2NvbnN0IHM9dC5fb0F1dGhDcmVkO2lmKGUuY29kZSl7Y29uc3QgaT1zLmNvZGVWZXJpZmllcjtyZXR1cm4gcy5jb2RlVmVyaWZpZXI9bnVsbCxzLnN0YXRlVUlEPW51bGwscy5zYXZlKCksdGhpcy5fZ2V0T0F1dGhUb2tlbihyLnNlcnZlcixlLmNvZGUsdC5hcHBJZCx0aGlzLl9nZXRSZWRpcmVjdFVSSSh0LCEwKSxpKS50aGVuKChpPT57Y29uc3Qgbz1uZXcgTCh7dXNlcklkOmkudXNlcm5hbWUsc2VydmVyOnIuc2VydmVyLHRva2VuOmkuYWNjZXNzX3Rva2VuLGV4cGlyZXM6RGF0ZS5ub3coKSsxZTMqaS5leHBpcmVzX2luLHNzbDppLnNzbCxvQXV0aFN0YXRlOmUuc3RhdGUsX29BdXRoQ3JlZDpzfSk7cmV0dXJuIHQudXNlcklkPW8udXNlcklkLHMuc3RvcmFnZT1pLnBlcnNpc3Q/cTpqLHMucmVmcmVzaFRva2VuPWkucmVmcmVzaF90b2tlbixzLnRva2VuPW51bGwscy5leHBpcmVzPWkucmVmcmVzaF90b2tlbl9leHBpcmVzX2luP0RhdGUubm93KCkrMWUzKmkucmVmcmVzaF90b2tlbl9leHBpcmVzX2luOm51bGwscy51c2VySWQ9by51c2VySWQscy5zc2w9by5zc2wscy5zYXZlKCksb30pKX1jb25zdCBpPW5ldyBMKHt1c2VySWQ6ZS51c2VybmFtZSxzZXJ2ZXI6ci5zZXJ2ZXIsdG9rZW46ZS5hY2Nlc3NfdG9rZW4sZXhwaXJlczpEYXRlLm5vdygpKzFlMypOdW1iZXIoZS5leHBpcmVzX2luKSxzc2w6XCJ0cnVlXCI9PT1lLnNzbCxvQXV0aFN0YXRlOmUuc3RhdGUsX29BdXRoQ3JlZDpzfSk7cmV0dXJuIHQudXNlcklkPWkudXNlcklkLHMuc3RvcmFnZT1lLnBlcnNpc3Q/cTpqLHMucmVmcmVzaFRva2VuPW51bGwscy50b2tlbj1pLnRva2VuLHMuZXhwaXJlcz1pLmV4cGlyZXMscy51c2VySWQ9aS51c2VySWQscy5zc2w9aS5zc2wscy5zYXZlKCksUHJvbWlzZS5yZXNvbHZlKGkpfV9wcm9jZXNzT0F1dGhQb3B1cFBhcmFtcyhlKXtjb25zdCB0PXRoaXMuX29BdXRoRGZkO2lmKHRoaXMuX29BdXRoRGZkPW51bGwsdClpZihjbGVhckludGVydmFsKHRoaXMuX29BdXRoSW50ZXJ2YWxJZCksdGhpcy5fb0F1dGhPblBvcHVwSGFuZGxlPy5yZW1vdmUoKSxlLmVycm9yKXtjb25zdCByPVwiYWNjZXNzX2RlbmllZFwiPT09ZS5lcnJvcixzPW5ldyBzJEMocj9cImlkZW50aXR5LW1hbmFnZXI6dXNlci1hYm9ydGVkXCI6XCJpZGVudGl0eS1tYW5hZ2VyOmF1dGhlbnRpY2F0aW9uLWZhaWxlZFwiLHI/XCJBQk9SVEVEXCI6XCJPQXV0aDogXCIrZS5lcnJvcitcIiAtIFwiK2UuZXJyb3JfZGVzY3JpcHRpb24pO3QucmVqZWN0KHMpO31lbHNlIHRoaXMuX3Byb2Nlc3NPQXV0aFJlc3BvbnNlUGFyYW1zKGUsdC5vaW5mb18sdC5zaW5mb18pLnRoZW4oKGU9Pnt0LnJlc29sdmUoZSk7fSkpLmNhdGNoKChlPT57dC5yZWplY3QoZSk7fSkpO31fc2V0T0F1dGhSZXNwb25zZVF1ZXJ5U3RyaW5nKGUpe2UmJihcIj9cIj09PWUuY2hhckF0KDApJiYoZT1lLnN1YnN0cmluZygxKSksdGhpcy5fcHJvY2Vzc09BdXRoUG9wdXBQYXJhbXMoSSQ2KGUpKSk7fV9leGNoYW5nZVRva2VuKGUsdCxyKXtyZXR1cm4gaiRiKGAke2V9L3NoYXJpbmcvcmVzdC9vYXV0aDIvZXhjaGFuZ2VUb2tlbmAse2F1dGhNb2RlOlwiYW5vbnltb3VzXCIsbWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntmOlwianNvblwiLGNsaWVudF9pZDp0LHRva2VuOnJ9fSkudGhlbigoZT0+ZS5kYXRhLnRva2VuKSl9X2dldFBsYXRmb3JtU2VsZihlLHQpe3JldHVybiBlPWUucmVwbGFjZSgvXmh0dHA6L2ksXCJodHRwczpcIiksaiRiKGAke2V9L3NoYXJpbmcvcmVzdC9vYXV0aDIvcGxhdGZvcm1TZWxmYCx7YXV0aE1vZGU6XCJhbm9ueW1vdXNcIixoZWFkZXJzOntcIlgtRXNyaS1BdXRoLUNsaWVudC1JZFwiOnQsXCJYLUVzcmktQXV0aC1SZWRpcmVjdC1VcmlcIjp3aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiokLyxcIlwiKX0sbWV0aG9kOlwicG9zdFwiLHF1ZXJ5OntmOlwianNvblwiLGV4cGlyYXRpb246MzB9LHdpdGhDcmVkZW50aWFsczohMH0pLnRoZW4oKGU9PmUuZGF0YSkpfV9nZXRQb3J0YWxTZWxmKGUsdCl7bGV0IHI7aWYodGhpcy5fZ3dEb21haW5zLnNvbWUoKHQ9Pih0LnJlZ2V4LnRlc3QoZSkmJihyPXQuY3VzdG9tQmFzZVVybCksISFyKSkpLHIpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7YWxsU1NMOiEwLGN1cnJlbnRWZXJzaW9uOlwiOC40XCIsY3VzdG9tQmFzZVVybDpyLHBvcnRhbE1vZGU6XCJtdWx0aXRlbmFudFwiLHN1cHBvcnRzT0F1dGg6ITB9KTt0aGlzLl9hcHBPcmlnaW4uc3RhcnRzV2l0aChcImh0dHBzOlwiKT9lPWUucmVwbGFjZSgvXmh0dHA6L2ksXCJodHRwczpcIikucmVwbGFjZSgvOjcwODAvaSxcIjo3NDQzXCIpOi9eaHR0cDovaS50ZXN0KHQpJiYoZT1lLnJlcGxhY2UoL15odHRwczovaSxcImh0dHA6XCIpLnJlcGxhY2UoLzo3NDQzL2ksXCI6NzA4MFwiKSk7cmV0dXJuIGokYihlLHtxdWVyeTp7ZjpcImpzb25cIn0sYXV0aE1vZGU6XCJhbm9ueW1vdXNcIix3aXRoQ3JlZGVudGlhbHM6ITB9KS50aGVuKChlPT5lLmRhdGEpKX1fZG9Qb3J0YWxTaWduSW4oZSl7Y29uc3QgdD10aGlzLl9wb3J0YWxDb25maWcscj13aW5kb3cubG9jYXRpb24uaHJlZixzPXRoaXMuZmluZFNlcnZlckluZm8oZSk7cmV0dXJuICEoIXQmJiF0aGlzLl9pc1BvcnRhbERvbWFpbihyKXx8IShzP3MuaGFzUG9ydGFsfHxzLm93bmluZ1N5c3RlbVVybCYmdGhpcy5faXNQb3J0YWxEb21haW4ocy5vd25pbmdTeXN0ZW1VcmwpOnRoaXMuX2lzUG9ydGFsRG9tYWluKGUpKXx8ISh0aGlzLl9pc0lkUHJvdmlkZXIocixlKXx8dCYmKHRoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZSh0aGlzLl9nZXRTZXJ2ZXJJbnN0YW5jZVJvb3QodC5yZXN0QmFzZVVybCksZSl8fHRoaXMuX2lzSWRQcm92aWRlcih0LnJlc3RCYXNlVXJsLGUpKXx8RiQ0KHIsZSwhMCkpKX1fY2hlY2tQcm90b2NvbChlLHQscixzKXtsZXQgbz0hMDtjb25zdCBuPXM/dC5hZG1pblRva2VuU2VydmljZVVybDp0LnRva2VuU2VydmljZVVybDtpZihuLnRyaW0oKS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoXCJodHRwczpcIikmJiF0aGlzLl9hcHBPcmlnaW4uc3RhcnRzV2l0aChcImh0dHBzOlwiKSYmSiQyKG4pJiYobz0hIXRoaXMuX3Byb3RvY29sRnVuYyYmISF0aGlzLl9wcm90b2NvbEZ1bmMoe3Jlc291cmNlVXJsOmUsc2VydmVySW5mbzp0fSksIW8pKXtyKG5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOmFib3J0ZWRcIixcIkFib3J0ZWQgdGhlIFNpZ24tSW4gcHJvY2VzcyB0byBhdm9pZCBzZW5kaW5nIHBhc3N3b3JkIG92ZXIgaW5zZWN1cmUgY29ubmVjdGlvbi5cIikpO31yZXR1cm4gb31fZW5xdWV1ZShlLHQscixzLGksbyl7cmV0dXJuIHN8fChzPUMkNigpKSxzLnJlc1VybF89ZSxzLnNpbmZvXz10LHMub3B0aW9uc189cixzLmFkbWluXz1pLHMucmVmcmVzaF89byx0aGlzLl9idXN5P3RoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZSh0aGlzLl9nZXRTZXJ2ZXJJbnN0YW5jZVJvb3QoZSksdGhpcy5fYnVzeS5yZXNVcmxfKT8odGhpcy5fb0F1dGhEZmQmJnRoaXMuX29BdXRoRGZkLm9BdXRoV2luXyYmdGhpcy5fb0F1dGhEZmQub0F1dGhXaW5fLmZvY3VzKCksdGhpcy5fc29SZXFzLnB1c2gocykpOnRoaXMuX3hvUmVxcy5wdXNoKHMpOnRoaXMuX2RvU2lnbkluKHMpLHMucHJvbWlzZX1fZG9TaWduSW4oZSQxKXt0aGlzLl9idXN5PWUkMSx0aGlzLl9yZWplY3RPblBlcnNpc3RlZFBhZ2VTaG93PSExO2NvbnN0IHQ9dD0+e2NvbnN0IHI9ZSQxLm9wdGlvbnNfJiZlJDEub3B0aW9uc18ucmVzb3VyY2Uscz1lJDEucmVzVXJsXyxpPWUkMS5yZWZyZXNoXztsZXQgbz0hMTt0aGlzLmNyZWRlbnRpYWxzLmluY2x1ZGVzKHQpfHwoaSYmdGhpcy5jcmVkZW50aWFscy5pbmNsdWRlcyhpKT8oaS51c2VySWQ9dC51c2VySWQsaS50b2tlbj10LnRva2VuLGkuZXhwaXJlcz10LmV4cGlyZXMsaS52YWxpZGl0eT10LnZhbGlkaXR5LGkuc3NsPXQuc3NsLGkuY3JlYXRpb25UaW1lPXQuY3JlYXRpb25UaW1lLG89ITAsdD1pKTp0aGlzLmNyZWRlbnRpYWxzLnB1c2godCkpLHQucmVzb3VyY2VzfHwodC5yZXNvdXJjZXM9W10pLHQucmVzb3VyY2VzLmluY2x1ZGVzKHJ8fHMpfHx0LnJlc291cmNlcy5wdXNoKHJ8fHMpLHQuc2NvcGU9dGhpcy5faXNTZXJ2ZXJSc3JjKHMpP1wic2VydmVyXCI6XCJwb3J0YWxcIix0LmVtaXRUb2tlbkNoYW5nZSgpO2NvbnN0IG49dGhpcy5fc29SZXFzLGE9e307dGhpcy5fc29SZXFzPVtdLG4uZm9yRWFjaCgoZT0+e2lmKCF0aGlzLl9pc0lkZW50aWNhbFNlcnZpY2UocyxlLnJlc1VybF8pKXtjb25zdCByPXRoaXMuX2dldFN1ZmZpeChlLnJlc1VybF8pO2Fbcl18fChhW3JdPSEwLHQucmVzb3VyY2VzLnB1c2goZS5yZXNVcmxfKSk7fX0pKSxlJDEucmVzb2x2ZSh0KSxuLmZvckVhY2goKGU9Pnt0aGlzLl9oYXNTYW1lU2VydmVySW5zdGFuY2UodGhpcy5fZ2V0U2VydmVySW5zdGFuY2VSb290KHMpLGUucmVzVXJsXyk/ZS5yZXNvbHZlKHQpOnRoaXMuX3NvUmVxcy5wdXNoKGUpO30pKSx0aGlzLl9idXN5PWUkMS5yZXNVcmxfPWUkMS5zaW5mb189ZSQxLnJlZnJlc2hfPW51bGwsb3x8dGhpcy5lbWl0KFwiY3JlZGVudGlhbC1jcmVhdGVcIix7Y3JlZGVudGlhbDp0fSksdGhpcy5fc29SZXFzLmxlbmd0aD90aGlzLl9kb1NpZ25Jbih0aGlzLl9zb1JlcXMuc2hpZnQoKSk6dGhpcy5feG9SZXFzLmxlbmd0aCYmdGhpcy5fZG9TaWduSW4odGhpcy5feG9SZXFzLnNoaWZ0KCkpO30scj10PT57ZSQxLnJlamVjdCh0KSx0aGlzLl9idXN5PWUkMS5yZXNVcmxfPWUkMS5zaW5mb189ZSQxLnJlZnJlc2hfPW51bGwsdGhpcy5fc29SZXFzLmxlbmd0aD90aGlzLl9kb1NpZ25Jbih0aGlzLl9zb1JlcXMuc2hpZnQoKSk6dGhpcy5feG9SZXFzLmxlbmd0aCYmdGhpcy5fZG9TaWduSW4odGhpcy5feG9SZXFzLnNoaWZ0KCkpO30scz0obyxhLGgsbCk9Pntjb25zdCBkPWUkMS5zaW5mb18sdT0hZSQxLm9wdGlvbnNffHwhMSE9PWUkMS5vcHRpb25zXy5wcm9tcHQscD1kLmhhc1BvcnRhbCYmdGhpcy5fZmluZE9BdXRoSW5mbyhlJDEucmVzVXJsXyk7bGV0IGYsZztpZihvKXQobmV3IEwoe3VzZXJJZDpvLHNlcnZlcjpkLnNlcnZlcix0b2tlbjpofHxudWxsLGV4cGlyZXM6bnVsbCE9bD9OdW1iZXIobCk6bnVsbCxzc2w6ISFhfSkpO2Vsc2UgaWYod2luZG93IT09d2luZG93LnBhcmVudCYmdGhpcy5fYXBwVXJsT2JqLnF1ZXJ5Py5bXCJhcmNnaXMtYXV0aC1vcmlnaW5cIl0mJnRoaXMuX2FwcFVybE9iai5xdWVyeT8uW1wiYXJjZ2lzLWF1dGgtcG9ydGFsXCJdJiZ0aGlzLl9oYXNTYW1lU2VydmVySW5zdGFuY2UodGhpcy5fZ2V0U2VydmVySW5zdGFuY2VSb290KHRoaXMuX2FwcFVybE9iai5xdWVyeVtcImFyY2dpcy1hdXRoLXBvcnRhbFwiXSksZSQxLnJlc1VybF8pKXt3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHt0eXBlOlwiYXJjZ2lzOmF1dGg6cmVxdWVzdENyZWRlbnRpYWxcIn0sdGhpcy5fYXBwVXJsT2JqLnF1ZXJ5W1wiYXJjZ2lzLWF1dGgtb3JpZ2luXCJdKTtjb25zdCBzPXIkbyh3aW5kb3csXCJtZXNzYWdlXCIsKGU9PntlLnNvdXJjZT09PXdpbmRvdy5wYXJlbnQmJmUuZGF0YSYmKFwiYXJjZ2lzOmF1dGg6Y3JlZGVudGlhbFwiPT09ZS5kYXRhLnR5cGU/KHMucmVtb3ZlKCksZS5kYXRhLmNyZWRlbnRpYWwuZXhwaXJlczxEYXRlLm5vdygpP3IobmV3IHMkQyhcImlkZW50aXR5LW1hbmFnZXI6Y3JlZGVudGlhbC1yZXF1ZXN0LWZhaWxlZFwiLFwiUGFyZW50IGFwcGxpY2F0aW9uJ3MgdG9rZW4gaGFzIGV4cGlyZWQuXCIpKTp0KG5ldyBMKGUuZGF0YS5jcmVkZW50aWFsKSkpOlwiYXJjZ2lzOmF1dGg6ZXJyb3JcIj09PWUuZGF0YS50eXBlJiYocy5yZW1vdmUoKSxcInRva2VuRXhwaXJlZEVycm9yXCI9PT1lLmRhdGEuZXJyb3IubmFtZT9yKG5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOmNyZWRlbnRpYWwtcmVxdWVzdC1mYWlsZWRcIixcIlBhcmVudCBhcHBsaWNhdGlvbidzIHRva2VuIGhhcyBleHBpcmVkLlwiKSk6cihzJEMuZnJvbUpTT04oZS5kYXRhLmVycm9yKSkpKTt9KSk7dyQ3KGUkMS5vcHRpb25zXz8uc2lnbmFsLCgoKT0+e3MucmVtb3ZlKCk7fSkpO31lbHNlIGlmKHApe2xldCBvPXAuX29BdXRoQ3JlZDtpZighbyl7Y29uc3QgZSQxPW5ldyBlKHAscSksdD1uZXcgZShwLGopO2UkMS5pc1ZhbGlkKCkmJnQuaXNWYWxpZCgpP2UkMS5leHBpcmVzPnQuZXhwaXJlcz8obz1lJDEsdC5kZXN0cm95KCkpOihvPXQsZSQxLmRlc3Ryb3koKSk6bz1lJDEuaXNWYWxpZCgpP2UkMTp0LHAuX29BdXRoQ3JlZD1vO31pZihvLmlzVmFsaWQoKSl7Zj1uZXcgTCh7dXNlcklkOm8udXNlcklkLHNlcnZlcjpkLnNlcnZlcix0b2tlbjpvLnRva2VuLGV4cGlyZXM6by5leHBpcmVzLHNzbDpvLnNzbCxfb0F1dGhDcmVkOm99KTtjb25zdCByPXAuYXBwSWQhPT1vLmFwcElkJiZ0aGlzLl9kb1BvcnRhbFNpZ25JbihlJDEucmVzVXJsXyk7cnx8by5yZWZyZXNoVG9rZW4/KGUkMS5fcGVuZGluZ0RmZD1vLnJlZnJlc2hUb2tlbj90aGlzLl9nZXRPQXV0aFRva2VuKGQuc2VydmVyLG8ucmVmcmVzaFRva2VuLG8uYXBwSWQpLnRoZW4oKGU9PihmLmV4cGlyZXM9RGF0ZS5ub3coKSsxZTMqZS5leHBpcmVzX2luLGYudG9rZW49ZS5hY2Nlc3NfdG9rZW4sZikpKTpQcm9taXNlLnJlc29sdmUoZiksZSQxLl9wZW5kaW5nRGZkLnRoZW4oKGU9PnI/dGhpcy5fZXhjaGFuZ2VUb2tlbihlLnNlcnZlcixwLmFwcElkLGUudG9rZW4pLnRoZW4oKHQ9PihlLnRva2VuPXQsZSkpKS5jYXRjaCgoKCk9PmUpKTplKSkudGhlbigoZT0+e3QoZSk7fSkpLmNhdGNoKCgoKT0+e28/LmRlc3Ryb3koKSxzKCk7fSkpKTp0KGYpO31lbHNlIGlmKHRoaXMuX29BdXRoTG9jYXRpb25QYXJhbXMmJnRoaXMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZShwLnBvcnRhbFVybCx0aGlzLl9vQXV0aExvY2F0aW9uUGFyYW1zLnN0YXRlLnBvcnRhbFVybCkmJih0aGlzLl9vQXV0aExvY2F0aW9uUGFyYW1zLmFjY2Vzc190b2tlbnx8dGhpcy5fb0F1dGhMb2NhdGlvblBhcmFtcy5jb2RlJiZ0aGlzLl9vQXV0aExvY2F0aW9uUGFyYW1zLnN0YXRlLnVpZD09PW8uc3RhdGVVSUQmJm8uY29kZVZlcmlmaWVyKSl7Y29uc3Qgcz10aGlzLl9vQXV0aExvY2F0aW9uUGFyYW1zO3RoaXMuX29BdXRoTG9jYXRpb25QYXJhbXM9bnVsbCxlJDEuX3BlbmRpbmdEZmQ9dGhpcy5fcHJvY2Vzc09BdXRoUmVzcG9uc2VQYXJhbXMocyxwLGQpLnRoZW4oKGU9Pnt0KGUpO30pKS5jYXRjaChyKTt9ZWxzZSB7Y29uc3Qgcz0oKT0+e3U/ZSQxLl9wZW5kaW5nRGZkPXRoaXMub0F1dGhTaWduSW4oZSQxLnJlc1VybF8sZCxwLGUkMS5vcHRpb25zXykudGhlbih0LHIpOihnPW5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOm5vdC1hdXRoZW50aWNhdGVkXCIsXCJVc2VyIGlzIG5vdCBzaWduZWQgaW4uXCIpLHIoZykpO307dGhpcy5fZG9Qb3J0YWxTaWduSW4oZSQxLnJlc1VybF8pP2UkMS5fcGVuZGluZ0RmZD10aGlzLl9nZXRQbGF0Zm9ybVNlbGYoZC5zZXJ2ZXIscC5hcHBJZCkudGhlbigoZT0+e0YkNChlLnBvcnRhbFVybCx0aGlzLl9hcHBPcmlnaW4sITApPyhmPW5ldyBMKHt1c2VySWQ6ZS51c2VybmFtZSxzZXJ2ZXI6ZC5zZXJ2ZXIsZXhwaXJlczpEYXRlLm5vdygpKzFlMyplLmV4cGlyZXNfaW4sdG9rZW46ZS50b2tlbn0pLHQoZikpOnMoKTt9KSkuY2F0Y2gocyk6cygpO319ZWxzZSBpZih1KXtpZih0aGlzLl9jaGVja1Byb3RvY29sKGUkMS5yZXNVcmxfLGQscixlJDEuYWRtaW5fKSl7bGV0IHM9ZSQxLm9wdGlvbnNfO2UkMS5hZG1pbl8mJihzPXN8fHt9LHMuaXNBZG1pbj0hMCksZSQxLl9wZW5kaW5nRGZkPXRoaXMuc2lnbkluKGUkMS5yZXNVcmxfLGQscykudGhlbih0LHIpO319ZWxzZSBnPW5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOm5vdC1hdXRoZW50aWNhdGVkXCIsXCJVc2VyIGlzIG5vdCBzaWduZWQgaW4uXCIpLHIoZyk7fSxvPSgpPT57Y29uc3Qgcz1lJDEuc2luZm9fLGk9cy5vd25pbmdTeXN0ZW1Vcmwsbz1lJDEub3B0aW9uc187bGV0IG4sYSxoLGw7aWYobyYmKG49by50b2tlbixhPW8uZXJyb3IsaD1vLnByb21wdCksbD10aGlzLl9maW5kQ3JlZGVudGlhbChpLHt0b2tlbjpuLHJlc291cmNlOmUkMS5yZXNVcmxffSksIWwpZm9yKGNvbnN0IGUgb2YgdGhpcy5jcmVkZW50aWFscylpZih0aGlzLl9pc0lkUHJvdmlkZXIoaSxlLnNlcnZlcikpe2w9ZTticmVha31pZihsKXtjb25zdCBpPXRoaXMuZmluZENyZWRlbnRpYWwoZSQxLnJlc1VybF8sbC51c2VySWQpO2lmKGkpdChpKTtlbHNlIGlmKEQocyx0aGlzLl9sZWdhY3lGZWQpKXtjb25zdCBlPWwudG9KU09OKCk7ZS5zZXJ2ZXI9cy5zZXJ2ZXIsZS5yZXNvdXJjZXM9bnVsbCx0KG5ldyBMKGUpKTt9ZWxzZSB7KGUkMS5fcGVuZGluZ0RmZD10aGlzLmdlbmVyYXRlVG9rZW4odGhpcy5maW5kU2VydmVySW5mbyhsLnNlcnZlciksbnVsbCx7c2VydmVyVXJsOmUkMS5yZXNVcmxfLHRva2VuOmwudG9rZW4sc2lnbmFsOmUkMS5vcHRpb25zXy5zaWduYWwsc3NsOmwuc3NsfSkpLnRoZW4oKHI9Pnt0KG5ldyBMKHt1c2VySWQ6bD8udXNlcklkLHNlcnZlcjpzLnNlcnZlcix0b2tlbjpyLnRva2VuLGV4cGlyZXM6bnVsbCE9ci5leHBpcmVzP051bWJlcihyLmV4cGlyZXMpOm51bGwsc3NsOiEhci5zc2wsaXNBZG1pbjplJDEuYWRtaW5fLHZhbGlkaXR5OnIudmFsaWRpdHl9KSk7fSkscik7fX1lbHNlIHt0aGlzLl9idXN5PW51bGwsbiYmKGUkMS5vcHRpb25zXy50b2tlbj1udWxsKTsoZSQxLl9wZW5kaW5nRGZkPXRoaXMuZ2V0Q3JlZGVudGlhbChpLnJlcGxhY2UoL1xcLz8kLyxcIi9zaGFyaW5nXCIpLHtyZXNvdXJjZTplJDEucmVzVXJsXyxvd25pbmdUZW5hbnQ6cy5vd25pbmdUZW5hbnQsc2lnbmFsOmUkMS5vcHRpb25zXy5zaWduYWwsdG9rZW46bixlcnJvcjphLHByb21wdDpofSkpLnRoZW4oKCgpPT57dGhpcy5fZW5xdWV1ZShlJDEucmVzVXJsXyxlJDEuc2luZm9fLGUkMS5vcHRpb25zXyxlJDEsZSQxLmFkbWluXyk7fSksKHQ9PntlJDEucmVzVXJsXz1lJDEuc2luZm9fPWUkMS5yZWZyZXNoXz1udWxsLGUkMS5yZWplY3QodCk7fSkpO319O3RoaXMuX2VycmJhY2tGdW5jPXI7Y29uc3QgYT1lJDEuc2luZm9fLm93bmluZ1N5c3RlbVVybCxsPXRoaXMuX2lzU2VydmVyUnNyYyhlJDEucmVzVXJsXyksZD1lJDEuc2luZm9fLl9yZXN0SW5mb1BtcztkP2QucHJvbWlzZS50aGVuKCh0PT57Y29uc3Qgcj1lJDEuc2luZm9fO2lmKHIuX3Jlc3RJbmZvUG1zKXtyLmFkbWluVG9rZW5TZXJ2aWNlVXJsPXIuX3Jlc3RJbmZvUG1zLmFkbWluVXJsLHIuX3Jlc3RJbmZvUG1zPW51bGwsci50b2tlblNlcnZpY2VVcmw9KHQkeChcImF1dGhJbmZvLnRva2VuU2VydmljZXNVcmxcIix0KXx8dCR4KFwiYXV0aEluZm8udG9rZW5TZXJ2aWNlVXJsXCIsdCl8fHQkeChcInRva2VuU2VydmljZVVybFwiLHQpKT8/bnVsbCxyLnNob3J0TGl2ZWRUb2tlblZhbGlkaXR5PXQkeChcImF1dGhJbmZvLnNob3J0TGl2ZWRUb2tlblZhbGlkaXR5XCIsdCk/P251bGwsci5jdXJyZW50VmVyc2lvbj10LmN1cnJlbnRWZXJzaW9uLHIub3duaW5nVGVuYW50PXQub3duaW5nVGVuYW50O2NvbnN0IGU9ci5vd25pbmdTeXN0ZW1Vcmw9dC5vd25pbmdTeXN0ZW1Vcmw7ZSYmdGhpcy5fcG9ydGFscy5wdXNoKGUpO31sJiZyLm93bmluZ1N5c3RlbVVybD9vKCk6cygpO30pLCgoKT0+e2UkMS5zaW5mb18uX3Jlc3RJbmZvUG1zPW51bGw7Y29uc3QgdD1uZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjpzZXJ2ZXItaWRlbnRpZmljYXRpb24tZmFpbGVkXCIsXCJVbmtub3duIHJlc291cmNlIC0gY291bGQgbm90IGZpbmQgdG9rZW4gc2VydmljZSBlbmRwb2ludC5cIik7cih0KTt9KSk6bCYmYT9vKCk6ZSQxLnNpbmZvXy5fc2VsZlJlcT9lJDEuc2luZm9fLl9zZWxmUmVxLnNlbGZEZmQudGhlbigodD0+e2NvbnN0IHI9e307bGV0IHMsaSxvLG47cmV0dXJuIHQmJihzPXQudXNlciYmdC51c2VyLnVzZXJuYW1lLHIudXNlcm5hbWU9cyxyLmFsbFNTTD10LmFsbFNTTCxpPXQuc3VwcG9ydHNPQXV0aCxuPXBhcnNlRmxvYXQodC5jdXJyZW50VmVyc2lvbiksXCJtdWx0aXRlbmFudFwiPT09dC5wb3J0YWxNb2RlJiYobz10LmN1c3RvbUJhc2VVcmwpLGUkMS5zaW5mb18uY3VycmVudFZlcnNpb249biksZSQxLnNpbmZvXy53ZWJUaWVyQXV0aD0hIXMscyYmdGhpcy5ub3JtYWxpemVXZWJUaWVyQXV0aD90aGlzLmdlbmVyYXRlVG9rZW4oZSQxLnNpbmZvXyxudWxsLHtzc2w6ci5hbGxTU0x9KS5jYXRjaCgoKCk9Pm51bGwpKS50aGVuKChlPT4oci5wb3J0YWxUb2tlbj1lJiZlLnRva2VuLHIudG9rZW5FeHBpcmF0aW9uPWUmJmUuZXhwaXJlcyxyKSkpOiFzJiZpJiZuPj00LjQmJiF0aGlzLl9maW5kT0F1dGhJbmZvKGUkMS5yZXNVcmxfKT90aGlzLl9nZW5lcmF0ZU9BdXRoSW5mbyh7cG9ydGFsVXJsOmUkMS5zaW5mb18uc2VydmVyLGN1c3RvbUJhc2VVcmw6byxvd25pbmdUZW5hbnQ6ZSQxLnNpbmZvXy5fc2VsZlJlcS5vd25pbmdUZW5hbnR9KS5jYXRjaCgoKCk9Pm51bGwpKS50aGVuKCgoKT0+cikpOnJ9KSkuY2F0Y2goKCgpPT5udWxsKSkudGhlbigodD0+e2UkMS5zaW5mb18uX3NlbGZSZXE9bnVsbCx0P3ModC51c2VybmFtZSx0LmFsbFNTTCx0LnBvcnRhbFRva2VuLHQudG9rZW5FeHBpcmF0aW9uKTpzKCk7fSkpOnMoKTt9X2dlbmVyYXRlT0F1dGhJbmZvKGUpe2xldCB0LHI9bnVsbCxpPWUucG9ydGFsVXJsO2NvbnN0IG89ZS5jdXN0b21CYXNlVXJsLG49ZS5vd25pbmdUZW5hbnQsYT0hdGhpcy5fZGVmYXVsdE9BdXRoSW5mbyYmdGhpcy5fY3JlYXRlRGVmYXVsdE9BdXRoSW5mbyYmIXRoaXMuX2hhc1Rlc3RlZElmQXBwSXNPblBvcnRhbDtpZihhKXtyPXdpbmRvdy5sb2NhdGlvbi5ocmVmO2xldCBlPXIuaW5kZXhPZihcIj9cIik7ZT4tMSYmKHI9ci5zbGljZSgwLGUpKSxlPXIuc2VhcmNoKC9cXC8oYXBwc3xob21lKVxcLy8pLHI9ZT4tMT9yLnNsaWNlKDAsZSk6bnVsbDt9cmV0dXJuIGEmJnI/KHRoaXMuX2hhc1Rlc3RlZElmQXBwSXNPblBvcnRhbD0hMCx0PWokYihyK1wiL3NoYXJpbmcvcmVzdFwiLHtxdWVyeTp7ZjpcImpzb25cIn19KS50aGVuKCgoKT0+e3RoaXMuX2RlZmF1bHRPQXV0aEluZm89bmV3IGkkMSh7YXBwSWQ6XCJhcmNnaXNvbmxpbmVcIixwb3B1cENhbGxiYWNrVXJsOnIrXCIvaG9tZS9vYXV0aC1jYWxsYmFjay5odG1sXCJ9KTt9KSkpOnQ9UHJvbWlzZS5yZXNvbHZlKCksdC50aGVuKCgoKT0+e2lmKHRoaXMuX2RlZmF1bHRPQXV0aEluZm8pcmV0dXJuIGk9aS5yZXBsYWNlKC9eaHR0cDovaSxcImh0dHBzOlwiKSxqJGIoaStcIi9zaGFyaW5nL3Jlc3Qvb2F1dGgyL3ZhbGlkYXRlUmVkaXJlY3RVcmlcIix7cXVlcnk6e2FjY291bnRJZDpuLGNsaWVudF9pZDp0aGlzLl9kZWZhdWx0T0F1dGhJbmZvLmFwcElkLHJlZGlyZWN0X3VyaTpfJGQodGhpcy5fZGVmYXVsdE9BdXRoSW5mby5wb3B1cENhbGxiYWNrVXJsKSxmOlwianNvblwifX0pLnRoZW4oKGU9PntpZihlLmRhdGEudmFsaWQpe2NvbnN0IHQ9dGhpcy5fZGVmYXVsdE9BdXRoSW5mby5jbG9uZSgpO2UuZGF0YS51cmxLZXkmJm8/dC5wb3J0YWxVcmw9XCJodHRwczovL1wiK2UuZGF0YS51cmxLZXkudG9Mb3dlckNhc2UoKStcIi5cIitvOnQucG9ydGFsVXJsPWksdC5wb3B1cD13aW5kb3chPT13aW5kb3cudG9wfHwhKEYkNChpLHRoaXMuX2FwcE9yaWdpbil8fHRoaXMuX2d3RG9tYWlucy5zb21lKChlPT5lLnJlZ2V4LnRlc3QoaSkmJmUucmVnZXgudGVzdCh0aGlzLl9hcHBPcmlnaW4pKSkpLHRoaXMub0F1dGhJbmZvcy5wdXNoKHQpO319KSl9KSl9X2RvT0F1dGhTaWduSW4oZSx0LHIscyl7Y29uc3Qgbz1yLl9vQXV0aENyZWQsYT17cG9ydGFsVXJsOnIucG9ydGFsVXJsfTshci5wb3B1cCYmci5wcmVzZXJ2ZVVybEhhc2gmJndpbmRvdy5sb2NhdGlvbi5oYXNoJiYoYS5oYXNoPXdpbmRvdy5sb2NhdGlvbi5oYXNoKSxvLnN0YXRlVUlEJiYoYS51aWQ9by5zdGF0ZVVJRCk7Y29uc3QgaD17Y2xpZW50X2lkOnIuYXBwSWQscmVzcG9uc2VfdHlwZTpvLmNvZGVWZXJpZmllcj9cImNvZGVcIjpcInRva2VuXCIsc3RhdGU6SlNPTi5zdHJpbmdpZnkoYSksZXhwaXJhdGlvbjpyLmV4cGlyYXRpb24sbG9jYWxlOnIubG9jYWxlLHJlZGlyZWN0X3VyaTp0aGlzLl9nZXRSZWRpcmVjdFVSSShyLCEhby5jb2RlVmVyaWZpZXIpfTtyLmZvcmNlTG9naW4mJihoLmZvcmNlX2xvZ2luPSEwKSxyLmZvcmNlVXNlcklkJiZyLnVzZXJJZCYmKGgucHJlcG9wdWxhdGVkdXNlcm5hbWU9ci51c2VySWQpLCFyLnBvcHVwJiZ0aGlzLl9kb1BvcnRhbFNpZ25JbihlKSYmKGgucmVkaXJlY3RUb1VzZXJPcmdVcmw9ITApLG8uY29kZVZlcmlmaWVyJiYoaC5jb2RlX2NoYWxsZW5nZT1zfHxvLmNvZGVWZXJpZmllcixoLmNvZGVfY2hhbGxlbmdlX21ldGhvZD1zP1wiUzI1NlwiOlwicGxhaW5cIik7Y29uc3QgbD1yLnBvcnRhbFVybC5yZXBsYWNlKC9eaHR0cDovaSxcImh0dHBzOlwiKStcIi9zaGFyaW5nL29hdXRoMi9hdXRob3JpemVcIixjPWwrXCI/XCIrdiRhKGgpO2lmKHIucG9wdXApe2NvbnN0IGU9d2luZG93Lm9wZW4oYyxcImVzcmlKU0FQSU9BdXRoXCIsci5wb3B1cFdpbmRvd0ZlYXR1cmVzKTtpZihlKWUuZm9jdXMoKSx0aGlzLl9vQXV0aERmZC5vQXV0aFdpbl89ZSx0aGlzLl9vQXV0aEludGVydmFsSWQ9c2V0SW50ZXJ2YWwoKCgpPT57aWYoZS5jbG9zZWQpe2NsZWFySW50ZXJ2YWwodGhpcy5fb0F1dGhJbnRlcnZhbElkKSx0aGlzLl9vQXV0aE9uUG9wdXBIYW5kbGUucmVtb3ZlKCk7Y29uc3QgZT10aGlzLl9vQXV0aERmZDtpZihlKXtjb25zdCB0PW5ldyBzJEMoXCJpZGVudGl0eS1tYW5hZ2VyOnVzZXItYWJvcnRlZFwiLFwiQUJPUlRFRFwiKTtlLnJlamVjdCh0KTt9fX0pLDUwMCksdGhpcy5fb0F1dGhPblBvcHVwSGFuZGxlPXIkbyh3aW5kb3csW1wiYXJjZ2lzOmF1dGg6aGFzaFwiLFwiYXJjZ2lzOmF1dGg6bG9jYXRpb246c2VhcmNoXCJdLChlPT57XCJhcmNnaXM6YXV0aDpoYXNoXCI9PT1lLnR5cGU/dGhpcy5zZXRPQXV0aFJlc3BvbnNlSGFzaChlLmRldGFpbCk6dGhpcy5fc2V0T0F1dGhSZXNwb25zZVF1ZXJ5U3RyaW5nKGUuZGV0YWlsKTt9KSk7ZWxzZSB7Y29uc3QgZT1uZXcgcyRDKFwiaWRlbnRpdHktbWFuYWdlcjpwb3B1cC1ibG9ja2VkXCIsXCJBQk9SVEVEXCIpO3RoaXMuX29BdXRoRGZkLnJlamVjdChlKTt9fWVsc2UgdGhpcy5fcmVqZWN0T25QZXJzaXN0ZWRQYWdlU2hvdz0hMCx0aGlzLl9vQXV0aFJlZGlyZWN0RnVuYz90aGlzLl9vQXV0aFJlZGlyZWN0RnVuYyh7YXV0aG9yaXplUGFyYW1zOmgsYXV0aG9yaXplVXJsOmwscmVzb3VyY2VVcmw6ZSxzZXJ2ZXJJbmZvOnQsb0F1dGhJbmZvOnJ9KTp3aW5kb3cubG9jYXRpb24uaHJlZj1jO31fZ2V0UmVkaXJlY3RVUkkoZSx0KXtjb25zdCByPXdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKiQvLFwiXCIpO2lmKGUucG9wdXApcmV0dXJuIF8kZChlLnBvcHVwQ2FsbGJhY2tVcmwpO2lmKHQpe2NvbnN0IGU9TCQ2KHIpO3JldHVybiBlLnF1ZXJ5JiZbXCJjb2RlXCIsXCJlcnJvclwiLFwiZXJyb3JfZGVzY3JpcHRpb25cIixcIm1lc3NhZ2VfY29kZVwiLFwicGVyc2lzdFwiLFwic3RhdGVcIl0uZm9yRWFjaCgodD0+e2RlbGV0ZSBlLnF1ZXJ5W3RdO30pKSxrdChlLnBhdGgsZS5xdWVyeSl9cmV0dXJuIHJ9fUUucHJvdG90eXBlLmRlY2xhcmVkQ2xhc3M9XCJlc3JpLmlkZW50aXR5LklkZW50aXR5TWFuYWdlckJhc2VcIjtsZXQgTD1jbGFzcyBleHRlbmRzIG4kOS5FdmVudGVkQWNjZXNzb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fb0F1dGhDcmVkPW51bGwsdGhpcy50b2tlblJlZnJlc2hCdWZmZXI9MixlJiZlLl9vQXV0aENyZWQmJih0aGlzLl9vQXV0aENyZWQ9ZS5fb0F1dGhDcmVkKTt9aW5pdGlhbGl6ZSgpe3RoaXMucmVzb3VyY2VzPXRoaXMucmVzb3VyY2VzfHxbXSxudWxsPT10aGlzLmNyZWF0aW9uVGltZSYmKHRoaXMuY3JlYXRpb25UaW1lPURhdGUubm93KCkpO31yZWZyZXNoVG9rZW4oKXtjb25zdCBlPW4kcy5maW5kU2VydmVySW5mbyh0aGlzLnNlcnZlciksdD1lJiZlLm93bmluZ1N5c3RlbVVybCxzPSEhdCYmXCJzZXJ2ZXJcIj09PXRoaXMuc2NvcGUsaT1zJiZEKGUsbiRzLl9sZWdhY3lGZWQpLG89ZS53ZWJUaWVyQXV0aCxuPW8mJm4kcy5ub3JtYWxpemVXZWJUaWVyQXV0aCxhPUNbdGhpcy5zZXJ2ZXJdLGg9YSYmYVt0aGlzLnVzZXJJZF07bGV0IGwsYz10aGlzLnJlc291cmNlcyYmdGhpcy5yZXNvdXJjZXNbMF0sZD1zP24kcy5maW5kU2VydmVySW5mbyh0KTpudWxsLHU9e3VzZXJuYW1lOnRoaXMudXNlcklkLHBhc3N3b3JkOmh9O2lmKG8mJiFuKXJldHVybjtzJiYhZCYmbiRzLnNlcnZlckluZm9zLnNvbWUoKGU9PihuJHMuX2lzSWRQcm92aWRlcih0LGUuc2VydmVyKSYmKGQ9ZSksISFkKSkpO2NvbnN0IHA9ZD9uJHMuZmluZENyZWRlbnRpYWwoZC5zZXJ2ZXIsdGhpcy51c2VySWQpOm51bGw7aWYoIXN8fHApe2lmKCFpKXtpZihzKWw9e3NlcnZlclVybDpjLHRva2VuOnAmJnAudG9rZW4sc3NsOnAmJnAuc3NsfTtlbHNlIGlmKG4pdT1udWxsLGw9e3NzbDp0aGlzLnNzbH07ZWxzZSB7aWYoIWgpe2xldCB0O3JldHVybiBjJiYoYz1uJHMuX3Nhbml0aXplVXJsKGMpLHRoaXMuX2VucXVldWVkPTEsdD1uJHMuX2VucXVldWUoYyxlLG51bGwsbnVsbCx0aGlzLmlzQWRtaW4sdGhpcyksdC50aGVuKCgoKT0+e3RoaXMuX2VucXVldWVkPTAsdGhpcy5yZWZyZXNoU2VydmVyVG9rZW5zKCk7fSkpLmNhdGNoKCgoKT0+e3RoaXMuX2VucXVldWVkPTA7fSkpKSx0fXRoaXMuaXNBZG1pbiYmKGw9e2lzQWRtaW46ITB9KTt9cmV0dXJuIG4kcy5nZW5lcmF0ZVRva2VuKHM/ZDplLHM/bnVsbDp1LGwpLnRoZW4oKGU9Pnt0aGlzLnRva2VuPWUudG9rZW4sdGhpcy5leHBpcmVzPW51bGwhPWUuZXhwaXJlcz9OdW1iZXIoZS5leHBpcmVzKTpudWxsLHRoaXMuY3JlYXRpb25UaW1lPURhdGUubm93KCksdGhpcy52YWxpZGl0eT1lLnZhbGlkaXR5LHRoaXMuZW1pdFRva2VuQ2hhbmdlKCksdGhpcy5yZWZyZXNoU2VydmVyVG9rZW5zKCk7fSkpLmNhdGNoKCgoKT0+e30pKX1wPy5yZWZyZXNoVG9rZW4oKTt9fXJlZnJlc2hTZXJ2ZXJUb2tlbnMoKXtcInBvcnRhbFwiPT09dGhpcy5zY29wZSYmbiRzLmNyZWRlbnRpYWxzLmZvckVhY2goKGU9Pntjb25zdCB0PW4kcy5maW5kU2VydmVySW5mbyhlLnNlcnZlcikscz10JiZ0Lm93bmluZ1N5c3RlbVVybDtlIT09dGhpcyYmZS51c2VySWQ9PT10aGlzLnVzZXJJZCYmcyYmXCJzZXJ2ZXJcIj09PWUuc2NvcGUmJihuJHMuX2hhc1NhbWVTZXJ2ZXJJbnN0YW5jZSh0aGlzLnNlcnZlcixzKXx8biRzLl9pc0lkUHJvdmlkZXIocyx0aGlzLnNlcnZlcikpJiYoRCh0LG4kcy5fbGVnYWN5RmVkKT8oZS50b2tlbj10aGlzLnRva2VuLGUuZXhwaXJlcz10aGlzLmV4cGlyZXMsZS5jcmVhdGlvblRpbWU9dGhpcy5jcmVhdGlvblRpbWUsZS52YWxpZGl0eT10aGlzLnZhbGlkaXR5LGUuZW1pdFRva2VuQ2hhbmdlKCkpOmUucmVmcmVzaFRva2VuKCkpO30pKTt9ZW1pdFRva2VuQ2hhbmdlKGUpe2NsZWFyVGltZW91dCh0aGlzLl9yZWZyZXNoVGltZXIpO2NvbnN0IHQ9dGhpcy5zZXJ2ZXImJm4kcy5maW5kU2VydmVySW5mbyh0aGlzLnNlcnZlcikscz10JiZ0Lm93bmluZ1N5c3RlbVVybCxpPXMmJm4kcy5maW5kU2VydmVySW5mbyhzKTshMT09PWV8fHMmJlwicG9ydGFsXCIhPT10aGlzLnNjb3BlJiYoIWl8fCFpLndlYlRpZXJBdXRofHxuJHMubm9ybWFsaXplV2ViVGllckF1dGgpfHxudWxsPT10aGlzLmV4cGlyZXMmJm51bGw9PXRoaXMudmFsaWRpdHl8fHRoaXMuX3N0YXJ0UmVmcmVzaFRpbWVyKCksdGhpcy5lbWl0KFwidG9rZW4tY2hhbmdlXCIpO31kZXN0cm95KCl7dGhpcy51c2VySWQ9dGhpcy5zZXJ2ZXI9dGhpcy50b2tlbj10aGlzLmV4cGlyZXM9dGhpcy52YWxpZGl0eT10aGlzLnJlc291cmNlcz10aGlzLmNyZWF0aW9uVGltZT1udWxsLHRoaXMuX29BdXRoQ3JlZCYmKHRoaXMuX29BdXRoQ3JlZC5kZXN0cm95KCksdGhpcy5fb0F1dGhDcmVkPW51bGwpO2NvbnN0IGU9biRzLmNyZWRlbnRpYWxzLmluZGV4T2YodGhpcyk7ZT4tMSYmbiRzLmNyZWRlbnRpYWxzLnNwbGljZShlLDEpLHRoaXMuZW1pdFRva2VuQ2hhbmdlKCksdGhpcy5lbWl0KFwiZGVzdHJveVwiKTt9dG9KU09OKCl7Y29uc3QgZT1sJHQoe3VzZXJJZDp0aGlzLnVzZXJJZCxzZXJ2ZXI6dGhpcy5zZXJ2ZXIsdG9rZW46dGhpcy50b2tlbixleHBpcmVzOnRoaXMuZXhwaXJlcyx2YWxpZGl0eTp0aGlzLnZhbGlkaXR5LHNzbDp0aGlzLnNzbCxpc0FkbWluOnRoaXMuaXNBZG1pbixjcmVhdGlvblRpbWU6dGhpcy5jcmVhdGlvblRpbWUsc2NvcGU6dGhpcy5zY29wZX0pLHQ9dGhpcy5yZXNvdXJjZXM7cmV0dXJuIHQmJnQubGVuZ3RoPjAmJihlLnJlc291cmNlcz10LnNsaWNlKCkpLGV9X3N0YXJ0UmVmcmVzaFRpbWVyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlZnJlc2hUaW1lcik7Y29uc3QgZT02ZTQqdGhpcy50b2tlblJlZnJlc2hCdWZmZXIsdD0yKiozMS0xO2xldCByPSh0aGlzLnZhbGlkaXR5P3RoaXMuY3JlYXRpb25UaW1lKzZlNCp0aGlzLnZhbGlkaXR5OnRoaXMuZXhwaXJlcyktRGF0ZS5ub3coKTtyPDA/cj0wOnI+dCYmKHI9dCksdGhpcy5fcmVmcmVzaFRpbWVyPXNldFRpbWVvdXQodGhpcy5yZWZyZXNoVG9rZW4uYmluZCh0aGlzKSxyPmU/ci1lOnIpO319O2UkeChbeSRkKCldLEwucHJvdG90eXBlLFwiY3JlYXRpb25UaW1lXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxMLnByb3RvdHlwZSxcImV4cGlyZXNcIix2b2lkIDApLGUkeChbeSRkKCldLEwucHJvdG90eXBlLFwiaXNBZG1pblwiLHZvaWQgMCksZSR4KFt5JGQoKV0sTC5wcm90b3R5cGUsXCJvQXV0aFN0YXRlXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxMLnByb3RvdHlwZSxcInJlc291cmNlc1wiLHZvaWQgMCksZSR4KFt5JGQoKV0sTC5wcm90b3R5cGUsXCJzY29wZVwiLHZvaWQgMCksZSR4KFt5JGQoKV0sTC5wcm90b3R5cGUsXCJzZXJ2ZXJcIix2b2lkIDApLGUkeChbeSRkKCldLEwucHJvdG90eXBlLFwic3NsXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxMLnByb3RvdHlwZSxcInRva2VuXCIsdm9pZCAwKSxlJHgoW3kkZCgpXSxMLnByb3RvdHlwZSxcInRva2VuUmVmcmVzaEJ1ZmZlclwiLHZvaWQgMCksZSR4KFt5JGQoKV0sTC5wcm90b3R5cGUsXCJ1c2VySWRcIix2b2lkIDApLGUkeChbeSRkKCldLEwucHJvdG90eXBlLFwidmFsaWRpdHlcIix2b2lkIDApLEw9ZSR4KFthJGkoXCJlc3JpLmlkZW50aXR5LkNyZWRlbnRpYWxcIildLEwpO1xuXG4vKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgciBleHRlbmRzIEV7fXIucHJvdG90eXBlLmRlY2xhcmVkQ2xhc3M9XCJlc3JpLmlkZW50aXR5LklkZW50aXR5TWFuYWdlclwiO2NvbnN0IHM9bmV3IHI7byR6KHMpO1xuXG5jb25zdCBJZGVudGl0eU1hbmFnZXIgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgJ2RlZmF1bHQnOiBzXG59KTtcblxuY2xhc3MgR2VvY29kZXJDbGllbnQge1xyXG4gIGNvbnN0cnVjdG9yKHRva2VuLCBnZW9jb2RlclVybCkge1xyXG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xyXG4gICAgdGhpcy5nZW9jb2RlclVybCA9IGdlb2NvZGVyVXJsIHx8IEVudmlyb25tZW50cy5nZXRVcmwoJ2dlb2NvZGUnKTtcclxuICAgIGlmICghdGhpcy5nZW9jb2RlclVybC5lbmRzV2l0aCgnLycpKVxyXG4gICAgICB0aGlzLmdlb2NvZGVyVXJsICs9ICcvJztcclxuICAgIHMkRi5hcGlLZXkgPSB0b2tlbjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogUHJvdmlkZXMgcXVpY2sgc2VhcmNoIHN1Z2dlc3Rpb25zIGJ5IHNpbmdsZS1saW5lIHRleHQgYW5kIG9wdGlvbmFsIHBhcmFtZXRlcnMuXHJcbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL3Jlc3QvZ2VvY29kZS9hcGktcmVmZXJlbmNlL2dlb2NvZGluZy1zdWdnZXN0Lmh0bVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHRleHRcclxuICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzOlxyXG4gICAqICAgIGxvY2F0aW9uIC0gb3JpZ2luIHBvaW50IHVzZWQgdG8gcHJlZmVyIGdlb2NvZGluZyBjYW5kaWRhdGVzOyBzdHJpbmcgaW4gZm9ybWF0IFwieCx5XCIgKGUuZy4sIFwiLTExNy4xOTYsMzQuMDU2XCIpXHJcbiAgICogICAgc291cmNlQ291bnRyeSAtIHNvdXJjZUNvdW50cnkgdG8gYmUgdXNlZCBmb3Igc2VhcmNoXHJcbiAgICogICAgbGFuZ0NvZGUgLSBsb2NhbGUgZm9yIHNlYXJjaFxyXG4gICAqL1xyXG4gIHN1Z2dlc3QodGV4dCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgaWYgKCF0ZXh0IHx8ICF0ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBsZXQgc3VnZ2VzdFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgIHRleHQ6IHRleHRcclxuICAgICAgfSk7XHJcbiAgICAgIG9wdGlvbnM/LmxvY2F0aW9uICYmIHN1Z2dlc3RQYXJhbXMuc2V0KCdsb2NhdGlvbicsIG9wdGlvbnMubG9jYXRpb24pO1xyXG4gICAgICBvcHRpb25zPy5zb3VyY2VDb3VudHJ5ICYmIHN1Z2dlc3RQYXJhbXMuc2V0KCdzb3VyY2VDb3VudHJ5Jywgb3B0aW9ucy5zb3VyY2VDb3VudHJ5KTtcclxuICAgICAgb3B0aW9ucz8ubGFuZ0NvZGUgJiYgc3VnZ2VzdFBhcmFtcy5zZXQoJ2xhbmdDb2RlJywgb3B0aW9ucy5sYW5nQ29kZSk7XHJcbiAgICAgIHRoaXMuX3JlcXVlc3QodGhpcy5nZW9jb2RlclVybCArICdzdWdnZXN0Jywgc3VnZ2VzdFBhcmFtcylcclxuICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgIHJlc29sdmUocmVzdWx0LnN1Z2dlc3Rpb25zKTtcclxuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEdlb2NvZGVzIGxvY2F0aW9uIGJ5IHNpbmdsZS1saW5lIGFkZHJlc3MgYW5kIG9wdGlvbmFsIHBhcmFtZXRlcnMuXHJcbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5hcmNnaXMuY29tL3Jlc3QvZ2VvY29kZS9hcGktcmVmZXJlbmNlL2dlb2NvZGluZy1maW5kLWFkZHJlc3MtY2FuZGlkYXRlcy5odG1cclxuICAgKlxyXG4gICAqIEBwYXJhbSB0ZXh0IExvY2F0aW9uIHRvIGJlIGdlb2NvZGVkXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVyczpcclxuICAgKiAgICBsb2NhdGlvbiAtIG9yaWdpbiBwb2ludCB1c2VkIHRvIHByZWZlciBnZW9jb2RpbmcgY2FuZGlkYXRlczsgc3RyaW5nIGluIGZvcm1hdCBcIngseVwiIChlLmcuLCBcIi0xMTcuMTk2LDM0LjA1NlwiKVxyXG4gICAqICAgIG1hZ2ljS2V5IC0ga2V5IHJldHVybmVkIGZyb20gJ3N1Z2dlc3QnIG9wZXJhdGlvbiBmb3IgJ3RleHQnIGlucHV0OyBzdHJpbmdcclxuICAgKiAgICBtYXhMb2NhdGlvbnMgLSBtYXhpbXVtIG51bWJlciBvZiBsb2NhdGlvbnMgdG8gYmUgcmV0dXJuZWQ7IG51bWJlciwgZGVmYXVsdCBpcyAxMFxyXG4gICAqICAgIG91dEZpZWxkcyAtIGxpc3Qgb2YgZmllbGRzIHRvIGJlIHJldHVybmVkIGFzIGF0dHJpYnV0ZXM7IHN0cmluZyAoZS5nLiwgXCJSZWdpb24sQ2l0eSxQaG9uZVwiKVxyXG4gICAqL1xyXG4gIGdlb2NvZGUodGV4dCwgb3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgaWYgKCF0ZXh0IHx8ICF0ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBsZXQgZ2VvY29kZVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xyXG4gICAgICAgIG1heExvY2F0aW9uczogb3B0aW9ucz8ubWF4TG9jYXRpb25zIHx8IDEwLFxyXG4gICAgICAgIHNpbmdsZUxpbmU6IHRleHRcclxuICAgICAgfSk7XHJcbiAgICAgIG9wdGlvbnM/LmxvY2F0aW9uICYmIGdlb2NvZGVQYXJhbXMuc2V0KCdsb2NhdGlvbicsIG9wdGlvbnMubG9jYXRpb24pO1xyXG4gICAgICBvcHRpb25zPy5vdXRGaWVsZHMgJiYgZ2VvY29kZVBhcmFtcy5zZXQoJ291dEZpZWxkcycsIG9wdGlvbnMub3V0RmllbGRzKTtcclxuICAgICAgb3B0aW9ucz8ubWFnaWNLZXkgJiYgZ2VvY29kZVBhcmFtcy5zZXQoJ21hZ2ljS2V5Jywgb3B0aW9ucy5tYWdpY0tleSk7XHJcbiAgICAgIC8vIEZvciB0aGUgb25saW5lIGdlb2NvZGVyIHNlcnZpY2UsIHdlIHdhbnQgdG8gYnlwYXNzIHNlbmRpbmcgdGhlIHRva2VuLCBpdCBpcyBub3QgcmVxdWlyZWQgYW5kIGNhdXNlcyBhbiBpc3N1ZSBmb3IgRW50ZXJwcmlzZSBpbXBsZW1lbnRhdGlvbnNcclxuICAgICAgdGhpcy5fcmVxdWVzdCh0aGlzLmdlb2NvZGVyVXJsICsgJ2ZpbmRBZGRyZXNzQ2FuZGlkYXRlcycsIGdlb2NvZGVQYXJhbXMsIEVudmlyb25tZW50cy5pc09ubGluZUdlb2NvZGVyKHRoaXMuZ2VvY29kZXJVcmwpKVxyXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZ2VvY29kZVVzaW5nQXBpKGxhdCwgbG9uKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBwdCA9IG5ldyB4JGEoeyBsYXRpdHVkZTogbGF0LCBsb25naXR1ZGU6IGxvbiB9KTtcclxuICAgICAgY29uc3Qgc2VydmljZVVybCA9IHRoaXMuZ2VvY29kZXJVcmw7XHJcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgICAgICBsb2NhdGlvbjogcHRcclxuICAgICAgfTtcclxuICAgICAgLy8gUmVnaXN0ZXIgdG9rZW4gaWYgd2UgYXJlIE5PVCB1c2luZyB0aGUgb25saW5lIEdlb2NvZGVyIFNlcnZpY2VcclxuICAgICAgaWYgKCFFbnZpcm9ubWVudHMuaXNPbmxpbmVHZW9jb2RlcihzZXJ2aWNlVXJsKSkge1xyXG4gICAgICAgIHMucmVnaXN0ZXJUb2tlbih7XHJcbiAgICAgICAgICBzZXJ2ZXI6IHNlcnZpY2VVcmwsXHJcbiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlblxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEVsc2UgaWYgd2UgYXJlIHVzaW5nIHRoZSBvbmxpbmUgR2VvY29kZXIgU2VydmljZSwgdW5zZXQgdGhlIHRva2VuIGFzIGl0J3Mgbm90IHJlcXVpcmVkXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHMkRi5hcGlLZXkgPSBcIlwiO1xyXG4gICAgICB9XHJcbiAgICAgIG4kYShzZXJ2aWNlVXJsLCBwYXJhbXMpXHJcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgYWRkcmVzczogcmVzdWx0LmFkZHJlc3MsXHJcbiAgICAgICAgICBzaG9ydEFkZHJlc3NUeXBlOiByZXN1bHQuYXR0cmlidXRlcy5BZGRyX3R5cGUsXHJcbiAgICAgICAgICBzaG9ydEFkZHJlc3M6IHJlc3VsdC5hdHRyaWJ1dGVzLkFkZHJlc3MsXHJcbiAgICAgICAgICBjaXR5OiByZXN1bHQuYXR0cmlidXRlcy5DaXR5LFxyXG4gICAgICAgICAgY291bnRyeUNvZGU6IHJlc3VsdC5hdHRyaWJ1dGVzLkNvdW50cnlDb2RlLFxyXG4gICAgICAgICAgcG9zdGFsOiByZXN1bHQuYXR0cmlidXRlcy5Qb3N0YWwsXHJcbiAgICAgICAgICBsYWJlbDogcmVzdWx0LmF0dHJpYnV0ZXMuTG9uZ0xhYmVsLFxyXG4gICAgICAgICAgbWF0Y2hBZGRyOiByZXN1bHQuYXR0cmlidXRlcy5NYXRjaF9hZGRyXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXNvbHZlKGRhdGEpO1xyXG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgX3JlcXVlc3QodXJsLCBwYXJhbXMsIGJ5cGFzc1Rva2VuKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBpZiAoIWJ5cGFzc1Rva2VuKSB7XHJcbiAgICAgICAgcGFyYW1zLnNldCgndG9rZW4nLCB0aGlzLnRva2VuKTtcclxuICAgICAgfVxyXG4gICAgICBwYXJhbXMuc2V0KCdmJywgJ2pzb24nKTtcclxuICAgICAgbGV0IHJlcXVlc3RVcmwgPSB1cmwgKyAnPycgKyBwYXJhbXMudG9TdHJpbmcoKTtcclxuICAgICAgZmV0Y2gocmVxdWVzdFVybCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihCYVJlcG9ydHNMYW5ndWFnZS5pMThuKCduZXR3b3JrLXJlc3BvbnNlLWVycm9yJykpO1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICByZXN1bHQuZXJyb3IgPyByZWplY3QocmVzdWx0LmVycm9yKSA6IHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XG5cbmNvbnN0IGFyY2dpc0JhU2VhcmNoQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmJsb2NrfWFyY2dpcy1iYS1zZWFyY2h7d2lkdGg6NTAlO2hlaWdodDozNnB4fS5iYS1jYWxjaXRlLWRyb3Bkb3duLWdyb3Vwe2Rpc3BsYXk6YmxvY2s7bWluLXdpZHRoOjI0MHB4fS5hcmNnaXNCYVNlYXJjaEljb25CdXR0b257d2lkdGg6MzBweDtoZWlnaHQ6MzBweDt9LmFyY2dpc0JhU2VhcmNoSW5wdXROb0dlb2d7cG9zaXRpb246cmVsYXRpdmU7bGVmdDowO3dpZHRoOjEwMCU7ei1pbmRleDoxfS5hcmNnaXNCQVNlYXJjaE91dGVye3Bvc2l0aW9uOnJlbGF0aXZlfS5iYVNlYXJjaEVsZW1lbnR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7Zm9udC1mYW1pbHk6YXJpYWw7Zm9udC1zaXplOjEzcHQ7ei1pbmRleDoxfS5iYVNlYXJjaE1hZ0dsYXNze3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0Oi03cHg7aGVpZ2h0OmNhbGMoMTAwJSAtIDJweCk7d2lkdGg6MzJweDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxuczpzdmc9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScgeD0nMHB4JyB5PScwcHgnIHdpZHRoPScyOHB4JyBoZWlnaHQ9JzI4cHgnIHZpZXdCb3g9JzAgMCAyOCAyOCcgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMjggMjgnIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFJTNDcGF0aCBkPSdNMjkuOTc0LDUzLjc0NWMtMC4wMzQtMC4xNjUtMC4zMDctMC43ODItMC40MDItMC45MjNjLTAuMDk2LTAuMTM3LTEuMDc4LTAuODgyLTEuMjMyLTAuOTQyIGMtMC4xNTgtMC4wNi0wLjg1MS0wLjAzLTEuMDQxLTAuMDNsLTE0LjkwNiwwLjAzM2wyLjM5Mi0yLjQ0N2MwLjA4NS0wLjA4NiwwLjE3My0wLjE4NCwwLjI1OS0wLjI3IGMwLjA4Ny0wLjA4NiwwLjE3My0wLjE3MywwLjI2MS0wLjI2YzAuMDg2LTAuMDg2LDAuMTY4LTAuMTcyLDAuMjQ3LTAuMjZjMC4wNzctMC4wODYsMC4xNDktMC4xNzIsMC4yMi0wLjI1OSBjMC4xMzktMC4xMiwwLjI1OC0wLjI1MSwwLjM1Mi0wLjM5YzAuMDk2LTAuMTM5LDAuMTc2LTAuMjgxLDAuMjQ3LTAuNDI4YzAuMDctMC4xNDgsMC4xMi0wLjMwMywwLjE1Ni0wLjQ2OSBjMC4wMzUtMC4xNjYsMC4wNTEtMC4zNDIsMC4wNTEtMC41MzNjMC0wLjA4Ny0wLjAwNS0wLjE2OC0wLjAxNC0wLjI0N2MtMC4wMDgtMC4wNzgtMC4wMjEtMC4xNTUtMC4wMzgtMC4yMzMgYy0wLjAxOC0wLjA3Ny0wLjAzOS0wLjE1Ni0wLjA2NS0wLjIzNGMtMC4wMjUtMC4wNzctMC4wNTctMC4xNi0wLjA5MS0wLjI0NmMtMC4wMzUtMC4wODYtMC4wNzQtMC4xNjktMC4xMTctMC4yNDYgYy0wLjA0My0wLjA3OC0wLjA5Mi0wLjE1Ni0wLjE0My0wLjIzNGMtMC4wNTEtMC4wNzctMC4xMDgtMC4xNTEtMC4xNjgtMC4yMjFjLTAuMDYxLTAuMDctMC4xMjYtMC4xMzgtMC4xOTUtMC4yMDcgYy0wLjEzOS0wLjEyMS0wLjI4MS0wLjIyNS0wLjQyOS0wLjMxMnMtMC4zLTAuMTU4LTAuNDU1LTAuMjJjLTAuMTU2LTAuMDYxLTAuMzIxLTAuMTAyLTAuNDk0LTAuMTI3IGMtMC4xNzItMC4wMjUtMC4zNTQtMC4wMzUtMC41NDYtMC4wMzVjLTAuMTksMC0wLjM3MiwwLjAyNS0wLjU0NSwwLjA1MWMtMC4xNzMsMC4wMjUtMC4zMzcsMC4wOTItMC40OTQsMC4xNTIgYy0wLjE1NiwwLjA2MS0wLjMwNywwLjE3OC0wLjQ1NSwwLjI2NGMtMC4xNDYsMC4wODYtMC4yOSwwLjI3OS0wLjQyOSwwLjRMMiw1NC4zMDFsOS45NSw5LjY0NmMwLjEzOCwwLjEzOSwwLjI4MSwwLjA4LDAuNDI5LDAuMTc0IGMwLjE0NywwLjA5NiwwLjI5OCwwLjE4LDAuNDU0LDAuMjQ4YzAuMTU2LDAuMDcsMC4zMjEsMC4xMjEsMC40OTQsMC4xNTRjMC4xNzMsMC4wMzUsMC4zNTUsMC4wNTMsMC41NDYsMC4wNTMgYzAuMTksMCwwLjM3Mi0wLjAxOCwwLjU0NS0wLjA1M2MwLjE3NC0wLjAzMywwLjMzOS0wLjA4NCwwLjQ5My0wLjE1NGMwLjE1NS0wLjA2OCwwLjMwOC0wLjE1MiwwLjQ1NC0wLjI0OCBjMC4xNDgtMC4wOTQsMC4yOS0wLjIxMSwwLjQzLTAuMzVjMC4xMzktMC4xMjEsMC4yNTctMC4yNTIsMC4zNTEtMC4zOTFjMC4wOTYtMC4xMzksMC4xNzgtMC4yODUsMC4yNDgtMC40NDEgYzAuMDY4LTAuMTU2LDAuMTIxLTAuMzE4LDAuMTU2LTAuNDgyYzAuMDM0LTAuMTY0LDAuMDUxLTAuMzQsMC4wNTEtMC41MzFjMC0wLjA3LTAuMDA0LTAuMTQzLTAuMDE0LTAuMjIxIGMtMC4wMDktMC4wNzgtMC4wMjEtMC4xNTYtMC4wMzgtMC4yMzRjLTAuMDE4LTAuMDc2LTAuMDQtMC4xNTQtMC4wNjQtMC4yMzJjLTAuMDI2LTAuMDc4LTAuMDU4LTAuMTYyLTAuMDkyLTAuMjQ4IGMtMC4wMzUtMC4wODgtMC4wNzUtMC4xNjgtMC4xMTctMC4yNDZjLTAuMDQzLTAuMDc4LTAuMDkxLTAuMTUtMC4xNDMtMC4yMjNjLTAuMDUxLTAuMDY4LTAuMTA3LTAuMTM5LTAuMTY4LTAuMjA1IGMtMC4wNjEtMC4wNzItMC4xMjctMC4xNDEtMC4xOTUtMC4yMTFjLTAuMDctMC4wODQtMC4xNDMtMC4xNzQtMC4yMjEtMC4yNThjLTAuMDc4LTAuMDg4LTAuMTYtMC4xNzYtMC4yNDctMC4yNjIgYy0wLjA4OC0wLjA4Ni0wLjE3My0wLjE3Ni0wLjI2MS0wLjI2MmMtMC4wODUtMC4wODgtMC4xNzItMC4xOC0wLjI1OS0wLjI2NmwtMi4zOTEtMi4zNTJsMTQuOTA2LTAuMDMxIGMwLjE5LDAsMC44ODMtMC4wNTksMS4wNDEtMC4xMjFjMC4xNTQtMC4wNjEsMC43NDItMC40MzYsMC44ODItMC41NTljMC4xMzktMC4xMjEsMC41MjgtMC42NzYsMC41OTgtMC44MzIgYzAuMDY4LTAuMTU2LDAuMTIxLTAuMjE3LDAuMTU1LTAuMzc5QzMwLjAwOSw1NC42MTksMzAuMDA5LDUzLjkxLDI5Ljk3NCw1My43NDV6JyBzdHlsZT0nZmlsbDolMjM1NTU7ZmlsbC1vcGFjaXR5OjEnLyUzRSUzQ2cgaWQ9J2cyOTg4JyBzdHlsZT0nZmlsbDolMjM1NTU7ZmlsbC1vcGFjaXR5OjEnJTNFJTNDcGF0aCBkPSdNMC4xLDEwLjUzNWMwLTEuNDUsMC4yNzEtMi44MDgsMC44MTUtNC4wNzZjMC41NDMtMS4yNjgsMS4yODYtMi4zNzQsMi4yMjktMy4zMTVjMC45NDEtMC45NDIsMi4wNDctMS42ODUsMy4zMTUtMi4yMjkgQzcuNzI3LDAuMzcyLDkuMDg1LDAuMSwxMC41MzUsMC4xczIuODA4LDAuMjcxLDQuMDc2LDAuODE1YzEuMjY5LDAuNTQzLDIuMzc0LDEuMjg2LDMuMzE1LDIuMjI5IGMwLjk0LDAuOTQxLDEuNjg1LDIuMDQ3LDIuMjI5LDMuMzE1YzAuNTQzLDEuMjY4LDAuODE0LDIuNjI2LDAuODE0LDQuMDc2YzAsMC41MDgtMC4wMzUsMS4wMS0wLjEwOSwxLjUwOSBjLTAuMDcxLDAuNDk4LTAuMTc3LDAuOTgyLTAuMzExLDEuNDUzYy0wLjEzOCwwLjQ3LTAuMzA2LDAuOTI0LTAuNTA0LDEuMzU4Yy0wLjE5OCwwLjQzNC0wLjQyOCwwLjg1MS0wLjY4MSwxLjI1bDcuODgsNy44NTMgYzAuMjIxLDAuMjE5LDAuMzgxLDAuNDcxLDAuNDkxLDAuNzYyYzAuMTA4LDAuMjkxLDAuMTYzLDAuNTg2LDAuMTYzLDAuODgzYzAsMC4yOTgtMC4wNTUsMC41OTUtMC4xNjMsMC44ODQgYy0wLjExLDAuMjkxLTAuMjcxLDAuNTQzLTAuNDkxLDAuNzZjLTAuMTA2LDAuMTA5LTAuMjI3LDAuMjA2LTAuMzUxLDAuMjg3Yy0wLjEyNywwLjA4LTAuMjYsMC4xNDktMC4zOTUsMC4yMDQgYy0wLjEzNywwLjA1NC0wLjI3NSwwLjA5NS0wLjQyMiwwLjEyNGMtMC4xNDUsMC4wMjUtMC4yOSwwLjAzOS0wLjQzNSwwLjAzOXMtMC4yOTEtMC4wMTQtMC40MzYtMC4wMzkgYy0wLjE0Ni0wLjAyOS0wLjI5MS0wLjA3LTAuNDM0LTAuMTI0Yy0wLjE0Ni0wLjA1NS0wLjI4MS0wLjEyNC0wLjQwOC0wLjIwNGMtMC4xMjctMC4wODEtMC4yNDQtMC4xNzgtMC4zNTQtMC4yODdsLTcuODUzLTcuODgxIGMtMC4zOTgsMC4yNTUtMC44MTYsMC40ODMtMS4yNSwwLjY4MWMtMC40MzUsMC4yLTAuODg4LDAuMzY3LTEuMzU5LDAuNTA1Yy0wLjQ3MSwwLjEzNi0wLjk1NiwwLjIzOC0xLjQ1NCwwLjMxMiBjLTAuNDk5LDAuMDcyLTEsMC4xMDctMS41MDksMC4xMDdjLTEuNDQ4LDAtMi44MDctMC4yNzEtNC4wNzYtMC44MTRjLTEuMjY4LTAuNTQzLTIuMzczLTEuMjg4LTMuMzE0LTIuMjI5IGMtMC45NDMtMC45NDItMS42ODUtMi4wNDgtMi4yMjktMy4zMTVjLTAuNTQzLTEuMjY4LTAuODE1LTIuNjI2LTAuODE1LTQuMDc2SDAuMXogTTMuNTc5LDEwLjUzNWMwLDAuOTYxLDAuMTgyLDEuODYyLDAuNTQ0LDIuNzA0IGMwLjM2MiwwLjg0NCwwLjg2LDEuNTgxLDEuNDk0LDIuMjE1YzAuNjM0LDAuNjM1LDEuMzcyLDEuMTMxLDIuMjE1LDEuNDkzYzAuODQxLDAuMzYzLDEuNzQyLDAuNTQ1LDIuNzAzLDAuNTQ1IHMxLjg2Mi0wLjE4MiwyLjcwNC0wLjU0NWMwLjg0NC0wLjM2MiwxLjU4MS0wLjg1OCwyLjIxNC0xLjQ5M2MwLjYzNS0wLjYzNCwxLjEzMi0xLjM3MiwxLjQ5NC0yLjIxNSBjMC4zNjMtMC44NDEsMC41NDUtMS43NDMsMC41NDUtMi43MDRzLTAuMTgyLTEuODYyLTAuNTQ1LTIuNzAzYy0wLjM2Mi0wLjg0My0wLjg1OS0xLjU4Mi0xLjQ5NC0yLjIxNSBjLTAuNjMzLTAuNjM0LTEuMzcxLTEuMTMyLTIuMjE0LTEuNDk0Yy0wLjg0MS0wLjM2Mi0xLjc0My0wLjU0NC0yLjcwNC0wLjU0NFM4LjY3MywzLjc2LDcuODMyLDQuMTIzIEM2Ljk4OSw0LjQ4NSw2LjI1LDQuOTgzLDUuNjE3LDUuNjE3UzQuNDg1LDYuOTg5LDQuMTIzLDcuODMyQzMuNzYsOC42NzMsMy41NzksOS41NzQsMy41NzksMTAuNTM1eicgaWQ9J3BhdGgyOTkwJyBzdHlsZT0nZmlsbDolMjM1NTU7ZmlsbC1vcGFjaXR5OjEnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO2JhY2tncm91bmQtc2l6ZToxOHB4O2JhY2tncm91bmQtcG9zaXRpb246MnB4IDZweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7Ym9yZGVyOm5vbmV9LmJhU2VhcmNoSW5wdXR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDozMnB4O2hlaWdodDoyOHB4O3dpZHRoOjEwMCU7Ym9yZGVyOm5vbmU7Zm9udC1zaXplOjEycHR9Lmh0bWxTZWFyY2hCb3VuZHN7cG9zaXRpb246cmVsYXRpdmU7dG9wOjA7bGVmdDo0MHB4O3dpZHRoOjUwJX0uYmFTZWFyY2hUb2dnbGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMTAwMCAxMDAwJyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAxMDAwIDEwMDAnIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFJTNDZyUzRSUzQ3BhdGggZD0nTTE4LjEsMjMyLjJsNDUyLjQsNTgxLjljMTUuMSwxOS41LDQ0LjUsMTkuNSw1OS43LDBMOTgyLDIzMi4yYzE5LjMtMjQuOCwxLjUtNjAuOS0yOS45LTYwLjlINDcuOUMxNi40LDE3MS4yLTEuMywyMDcuNCwxOC4xLDIzMi4yeicvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFJTBBXFxcIik7YmFja2dyb3VuZC1zaXplOjEycHg7YmFja2dyb3VuZC1wb3NpdGlvbjoxMnB4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtib3JkZXI6bm9uZX0uYmFTZWFyY2hJbnB1dDpmb2N1c3tvdXRsaW5lOm5vbmV9LmJhU2VhcmNoRHJvcGRvd25UYXJnZXR7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMHB4O2xlZnQ6LTEwcHg7d2lkdGg6NDJweDtoZWlnaHQ6NDJweDt6LWluZGV4OjN9LmJhU2VhcmNoRHJvcGRvd25UZXh0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo4cHg7bGVmdDozN3B4fS5iYVNlYXJjaERyb3Bkb3duSW1nTG9je3Bvc2l0aW9uOmFic29sdXRlO3RvcDo2cHg7bGVmdDo0cHg7d2lkdGg6MjRweDtoZWlnaHQ6MjZweDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDE2IDE2JyUzRSUzQ3BhdGggZmlsbD0nJTIzNkY2RjZGJyBkPSdNNy40Njg4IDBDNS4zNTg2IDAgMyAuODQ1OSAzIDMuMDQ2OVYxMmw0LjUgNCA0LjUtNFYzLjA0N0MxMiAuODQ1OSA5LjU3OTcgMCA3LjQ2ODcgMHpNMTEgMTEuNTUwOEw3LjUgMTQuNjYyIDQgMTEuNTUwOHYtOC41MDRDNCAxLjA1NzcgNy4xMTM4IDEgNy40Njg4IDEgOC43ODAzIDEgMTEgMS40MzEyIDExIDMuMDQ2OXY4LjUwMzl6TTcuNSAzQzYuMTE5MyAzIDUgNC4xMTkzIDUgNS41UzYuMTE5MyA4IDcuNSA4IDEwIDYuODgwNyAxMCA1LjUgOC44ODA3IDMgNy41IDN6bTAgNC4xMjVjLS44OTYgMC0xLjYyNS0uNzI5LTEuNjI1LTEuNjI1IDAtLjg5NjEuNzI5LTEuNjI1IDEuNjI1LTEuNjI1czEuNjI1LjcyODkgMS42MjUgMS42MjVjMCAuODk2LS43MjkgMS42MjUtMS42MjUgMS42MjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIik7YmFja2dyb3VuZC1zaXplOjI0cHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0fS5iYVNlYXJjaERyb3Bkb3duSW1nQmR5e3Bvc2l0aW9uOmFic29sdXRlO3RvcDo2cHg7bGVmdDo0cHg7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDE2IDE2JyUzRSUzQ3BhdGggZmlsbD0nJTIzNkY2RjZGJyBkPSdNMiAxNkgxVjFoMXYxNXpNMTUgLjVoLTF2N2gxdi03em0wIC41VjBIMXYxaDE0em0tNSA2LjQ5MjhWOGg1VjdoLTQuNTQzMk0zLjQ0NSAxNS44Nzk5VjE1SDF2MWgyLjIyOTltOC41OTY4LTguOTgxNmgtLjk5NDVsLS4xMTIuMTEzNGMtLjEwNjQuMTEzMy0uMzc1LjQwMjItLjQwNzMuNDU5OC0uMTE3Mi4yMS0uMTQ0NS41MzAzLS4xNzg3IDEuMDM2MS0uMDExNy4xNjgtLjA2MjguOTc5MS0uMTAzOSAxLjA2MjEtLjI2MDcuMzY4Mi0uMTAwNi44NjEzLjAxNjYgMS4yMjM3YTEuODA2IDEuODA2IDAgMCAxIC4wMjY0LjA3OGMtLjA5NzcuMDE1Ny0uMTgxNi4wNDctLjI1Mi4wOTI5bC0uMDYwNS0uMDEyN2MtLjAwNjgtLjAwMi0uNzM3My0uMTc2OC0xLjM4MjgtLjE3NjgtLjQwODIgMC0uNjkzNC4wNjc0LS44NzYuMjEtLjMyMzIuMjU0OC0uNTAxLjM5NDUtLjUxOTUuNjUxMy0uMDE2Ni4yMzczLjEyODkuMzg4Ny4yNTU4LjUyMDVsLjA4OTkuMDk1N2MuMjIxNy4yNDEyLjMzLjU0NS4yNjE3LjczOTMtLjA3OTEuMjI3NS0uNDE3LjMxMzUtLjYxMTMuMzQzN2ExLjYzMDYgMS42MzA2IDAgMCAxLS4yNzI1LjAyMzVjLS4zMjQyIDAtLjU2NjQtLjEwODQtLjg1MjUtLjIzNTQtLjMzOTktLjE1MTMtLjk1NjYtLjMyMjItMS41MzM4LS4zMzk4LS4zMDk1IDAtLjkzODUuMjUtMS4wMzYxLjcyNjUtLjA0My4yMDQyLS4wOTE4LjU5NDguMDU5Ni44OTc1LjAwMzkuMDM4MS4yMDI3LjI4NjEtLjc5MTUgMS4zNTU1TDIuNDQ0OCAxNmgxLjA3NDhjLjUyNzUtLjYzOC44MDU3LTEuMjg4My41NDUzLTEuODE1LS4wMjE0LS4wNDQtLjA0LS4xODg1LS4wMTI3LS4zNTU1LjAzNDItLjA0Mi4yMDQxLS4xMjQuMjU1LS4xMjUuNDA3Mi4wMTI3LjkwNzcuMTMwOCAxLjIyNDEuMjcwNS4zMTkzLjE0MjYuNjgwNy4zMDI3IDEuMTc0OC4zMDI3LjEyMyAwIC4yNTQ5LS4wMDk4LjM5NzUtLjAzMTIuODIwMy0uMTMgMS4xMjgtLjU0NiAxLjI0MjItLjg3My4xNjgtLjQ4MTUuMDAyOS0xLjA3MjQtLjQyOTctMS41NDRsLS4wMTc2LS4wMTg2Yy4wMzIyLS4wMjU0LjA2NjQtLjA1MTcuMDk5Ni0uMDc4MS4wMDEgMCAuMDY2NC0uMDM5LjM0MDgtLjAzOS4zNTQ1IDAgLjg0OTYuMDYyNCAxLjIzMzQuMTU1Mi4xMzM4LjAzMjIuMjM3My4wNTI3LjMzNi4wNTI3LjE2MiAwIC4yODgtLjA1NTYuMzM3OS0uMTIxbC4xNDQ1LjAwMzhjLjE4MTYgMCAuMzI2Mi0uMDY4My40Mjk3LS4yMDMuMjAxMS0uMjU4OS4wOTc2LS41NzcyLS4wMTI3LS45MTctLjA5NTctLjI5MS0uMTM1OC0uNDY3OC0uMTI2LS41MTA4LjE2MTEtLjIyNDYuMjEwMy0uODkxMi4yNTEzLTEuNDg0LjAxMjctLjE4MjYuMDQzLS42MDkzLjA3NTItLjY4MjZhLjMwOS4zMDkgMCAwIDEgLjAzMDMtLjAzOWgyLjgwNTd2LS44MDA4bC0yLjAxNzUtLjEyOXonLyUzRSUzQy9zdmclM0VcXFwiKTtiYWNrZ3JvdW5kLXNpemU6MjRweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXR9LmJhU2VhcmNoRHJvcGRvd25NZW51e3Bvc2l0aW9uOmFic29sdXRlO3RvcDoyN3B4O2xlZnQ6NnB4O21pbi13aWR0aDoyNjBweDttYXJnaW46MDtsaXN0LXN0eWxlOm5vbmU7cGFkZGluZy1sZWZ0OjA7ei1pbmRleDo0O2Rpc3BsYXk6bm9uZX0uYmFTZWFyY2hEcm9wZG93bk1lbnUuYmFTZWFyY2hNZW51SXNWaXNpYmxle2Rpc3BsYXk6YmxvY2t9LmJhU2VhcmNoRHJvcGRvd25NZW51IGxpe3BhZGRpbmc6NXB4IDEwcHh9dWwuYmFTZWFyY2hEcm9wZG93bk1lbnUgbGl7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjMwcHg7cGFkZGluZy10b3A6OXB4O3BhZGRpbmctYm90dG9tOjA7ei1pbmRleDo0fS5saWdodFN1Z2dlc3Rpb25PdXRlciwuYmFTZWFyY2hTdWdnZXN0aW9uc091dGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDozMHB4O2xlZnQ6MHB4O21pbi13aWR0aDoyMTBweDtoZWlnaHQ6YXV0bzttaW4taGVpZ2h0OjQxcHg7b3ZlcmZsb3cteTpub25lO21heC1oZWlnaHQ6MHB4O3RyYW5zaXRpb24tcHJvcGVydHk6YWxsO3RyYW5zaXRpb24tZHVyYXRpb246LjVzO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLCAxLCAwLjUsIDEpO2ZvbnQtZmFtaWx5OmFyaWFsO2ZvbnQtc2l6ZToxMHB0O3otaW5kZXg6NDtvdmVyZmxvdzpub25lO2Rpc3BsYXk6bm9uZX0uYmFTZWFyY2hTdWdnZXN0aW9uc091dGVye3dpZHRoOjIxMHB4O21heC13aWR0aDoyMTBweDt9LmxpZ2h0U3VnZ2VzdGlvbk91dGVye3dpZHRoOjEwMCU7bWF4LXdpZHRoOjEwMCU7fXVsLmJhU2VhcmNoU3VnZ2VzdGlvbnNVbHtwYWRkaW5nLWlubGluZS1zdGFydDoxMnB4O21hcmdpbi1ibG9jay1zdGFydDo4cHg7bWFyZ2luLWJsb2NrLWVuZDo2cHg7d2lkdGg6Y2FsYygxMDAlIC0gMTRweCl9dWwuYmFTZWFyY2hTdWdnZXN0aW9uc1VsIGxpe3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmctdG9wOjRweDtwYWRkaW5nLWxlZnQ6MXB4O3BhZGRpbmctYm90dG9tOjRweDtmb250LXNpemU6OS41cHQ7bGlzdC1zdHlsZTpub25lO3otaW5kZXg6NH0uYmFTZWFyY2hTdWdnZXN0aW9uTm9TdWJ7Zm9udC1zaXplOjExLjVwdDt9LmJhU2VhcmNoU3RkR2VvZ3JhcGh5SW5mb3tmb250LXNpemU6OC41cHQ7cGFkZGluZy10b3A6NHB4O30uYmFTZWFyY2hTdGRHZW9ncmFwaHlOYW1le2ZvbnQtc2l6ZToxMS41cHR9Y2FsY2l0ZS1pbnB1dDo6cGFydChiYWRhcmtpbnB1dCk6OnBsYWNlaG9sZGVye29wYWNpdHk6MTt9Y2FsY2l0ZS1pbnB1dDo6cGFydChiYWRhcmtpbnB1dCk6LW1zLWlucHV0LXBsYWNlaG9sZGVye31jYWxjaXRlLWlucHV0OjpwYXJ0KGJhZGFya2lucHV0KTo6LW1zLWlucHV0LXBsYWNlaG9sZGVye30uYmFTZWFyY2hPdXRlcntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDozMnB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6bGVmdDthbGlnbi1pdGVtczpjZW50ZXI7fS5hcmNnaXNCYVNlYXJjaERyb3Bkb3duQ2hvb3Nlcntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMHB4O2hlaWdodDozMnB4O3otaW5kZXg6NX0uYXJjZ2lzQmFTZWFyY2hJbnB1dHtmbGV4LWdyb3c6MTtoZWlnaHQ6MzJweDt6LWluZGV4OjE7fS5hcmNnaXNCYVNlYXJjaElucHV0PmlucHV0e2xlZnQ6MXB4fS5hcmNnaXNCYVNlYXJjaE5vRHJvcGRvd257ZGlzcGxheTpub25lfVwiO1xuXG5jb25zdCBBcmNnaXNCYVNlYXJjaCA9IGNsYXNzIHtcclxuICAvL1xyXG4gIC8vIF9sb2NhbGVTZXR0aW5nczogTG9jYWxlU2V0dGluZ3MgPSB7XHJcbiAgLy8gICBsYW5ndWFnZTogJ2VuLVVTJyxcclxuICAvLyAgIGNvdW50cnk6ICdVUycsXHJcbiAgLy8gICBsb2NhdGlvbjogJy0xMTcuMTk2LDM0LjA1NicsXHJcbiAgLy8gICBnZW9jb2RlT3V0RmllbGRzOiAnU3VicmVnaW9uLFJlZ2lvbixQbGFjZU5hbWUsTWF0Y2hfYWRkcixDb3VudHJ5LEFkZHJfdHlwZSxDaXR5LFBsYWNlX2FkZHIsUGhvbmUsVVJMJ1xyXG4gIC8vIH1cclxuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XHJcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xyXG4gICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gY3JlYXRlRXZlbnQodGhpcywgXCJzZWFyY2hSZXN1bHRzXCIsIDYpO1xyXG4gICAgdGhpcy5zZWFyY2hDbGVhcmVkID0gY3JlYXRlRXZlbnQodGhpcywgXCJzZWFyY2hDbGVhcmVkXCIsIDcpO1xyXG4gICAgdGhpcy5nZW9jb2RlckNsaWVudCA9IEdlb2NvZGVyQ2xpZW50O1xyXG4gICAgdGhpcy5iYVNlYXJjaEtleVRpbWVyID0gbnVsbDtcclxuICAgIHRoaXMuc3VnZ2VzdGlvblRpbWVyID0gbnVsbDtcclxuICAgIHRoaXMuX2xhc3RJbnB1dFZhbHVlID0gJyc7XHJcbiAgICB0aGlzLl9vcGVuRmlyc3QgPSBmYWxzZTtcclxuICAgIHRoaXMuX2hhc1NldEVudiA9IGZhbHNlO1xyXG4gICAgdGhpcy5fdmVyYm9zZUxvZ2dpbmcgPSB0cnVlO1xyXG4gICAgdGhpcy5fc2VhcmNoVHlwZUNvbnYgPSBbJ2FsbCcsICdhZGRyZXNzJywgJ2JvdW5kYXJ5J107XHJcbiAgICB0aGlzLl9pZFByZWZpeCA9ICdhcmNnaXMtYmEtc2VhcmNoLSc7XHJcbiAgICB0aGlzLl9pZFByZWZpeElucHV0ID0gJ2JhLXNlYXJjaC1pbnB1dC0nO1xyXG4gICAgdGhpcy5faWRQcmVmaXhEcm9wRG93biA9ICdiYS1zZWFyY2gtZHJvcC0nO1xyXG4gICAgdGhpcy5faWRQcmVmaXhEcm9wTG9jID0gJ2JhLXNlYXJjaC1kcm9wLWxvYy0nO1xyXG4gICAgdGhpcy5faWRQcmVmaXhEcm9wQWxsID0gJ2JhLXNlYXJjaC1kcm9wLWFsbC0nO1xyXG4gICAgdGhpcy5faWRQcmVmaXhEcm9wQmR5ID0gJ2JhLXNlYXJjaC1kcm9wLWJkeS0nO1xyXG4gICAgdGhpcy5faWRQcmVmaXhEcm9wR3JvdXAgPSAnYmEtc2VhcmNoLWRyb3AtZ3JvdXAtJztcclxuICAgIHRoaXMuX2lkUHJlZml4U3VnZ2VzdCA9ICdiYS1zZWFyY2gtc3VnZ2VzdC0nO1xyXG4gICAgdGhpcy5fZ2VvZ3JhcGh5QWN0aXZlTGV2ZWxzID0gW107XHJcbiAgICB0aGlzLl9kYmcgPSBmYWxzZTtcclxuICAgIHRoaXMuX3NlYXJjaFNjb3BlRHJvcERvd25TZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zdFNlYXJjaFNjb3BlID0gJ2FsbCc7XHJcbiAgICB0aGlzLnNlYXJjaFF1ZXJ5ID0gbnVsbDtcclxuICAgIHRoaXMuc3VnZ2VzdGlvblJlc3VsdHMgPSB7IGxvY2F0aW9uOiBbXSwgYm91bmRhcnk6IFtdIH07IC8vIGNvbnRhaW5zIGxvY2F0aW9uLCBTVEQgR0VPIHN1Z2dlc3Rpb24sIG9yIGJvdGggcXVlcnkgcmVzdWx0c1xyXG4gICAgdGhpcy5iYXNlQ29uZmlnID0gbmV3IEJhc2VVdGlsKCdzZWFyY2gnLCB0aGlzLCB0aGlzLm9uVXBkYXRlVUkpO1xyXG4gICAgQUNMVXRpbHMuYW5ub3VuY2VWZXJzaW9uKCk7XHJcbiAgICB0aGlzLnN0U2VhcmNoU2NvcGUgPSAnYWxsJztcclxuICAgIHRoaXMuX29uQ2hhbmdlUXVldWUgPSB7fTtcclxuICAgIGlmICh0aGlzLl9kYmcpIHtcclxuICAgICAgY29uc29sZS5sb2coJyVjIFNFQVJDSCBjb25zdHJ1Y3RvcicsICdjb2xvcjpvcmFuZ2U7Zm9udC1zaXplOjExcHQnKTtcclxuICAgIH1cclxuICAgIC8vIC8vIFVzZSBwYXNzZWQgaW4gbGFuZ0NvZGUgaWYgc2V0XHJcbiAgICAvLyBpZiAodGhpcy5sYW5nQ29kZSkge1xyXG4gICAgLy8gICB0aGlzLl9iYXNlLl9sb2NhbGVTZXR0aW5ncy5sYW5ndWFnZSA9IHRoaXMubGFuZ0NvZGU7XHJcbiAgICAvLyB9XHJcbiAgICB0aGlzLmxhbmdDb2RlID0gdGhpcy5sYW5nQ29kZSB8fCAnZW4tdXMnO1xyXG4gICAgQmFSZXBvcnRzTGFuZ3VhZ2UuX2luaXRpYWxpemUodGhpcy5sYW5nQ29kZSk7XHJcbiAgICB0aGlzLnNldExvY2FsZVN0cmluZ3MoKTtcclxuICAgIHRoaXMuc291cmNlQ291bnRyeSA9IHRoaXMuc291cmNlQ291bnRyeSB8fCAnVVMnO1xyXG4gICAgdGhpcy5zdFNlYXJjaFNjb3BlID0gJ2FsbCc7XHJcbiAgICB0aGlzLmJhc2VDb25maWcudXBkYXRlTG9jYWxlU2V0dGluZ3MoeyBsYW5ndWFnZTogdGhpcy5sYW5nQ29kZSwgY291bnRyeTogdGhpcy5zb3VyY2VDb3VudHJ5IH0pO1xyXG4gICAgaWYgKHRoaXMuY29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IGNmZyA9IEpTT04ucGFyc2UodGhpcy5jb25maWcpO1xyXG4gICAgICB0aGlzLmJhc2VDb25maWcudXBkYXRlQ29uZmlnKGNmZywgbnVsbCk7XHJcbiAgICAgIGlmIChjZmc/LnNlbGVjdGVkR2VvZ3JhcGh5TGV2ZWxzICYmIGNmZz8uc2VsZWN0ZWRHZW9ncmFwaHlMZXZlbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlTGV2ZWxzKGNmZy5zZWxlY3RlZEdlb2dyYXBoeUxldmVscywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuX29uQ2hhbmdlUXVldWUgPSB7fTtcclxuICB9XHJcbiAgLy9cclxuICAvLyBVcGRhdGUgUHJvcHMvU3RhdGVzIGFuZCBiYXNlIGNvbmZpZyB3aGVuIHRoZSBjb21wb25lbnQgY29uZmlnIGNoYW5nZXNcclxuICBvbkNvbmZpZ0NoYW5nZShuZXdDb25maWcpIHtcclxuICAgIC8vIExvZ3ouc2hvdyhcIiVsZ1wiLCBcImFyY2dpcy1iYS1zZWFyY2ggQ29uZmlnIGhhcyBjaGFuZ2VkOlwiLCBuZXdDb25maWcsIG9sZENvbmZpZylcclxuICAgIGlmICh0aGlzLl9kYmcpIHtcclxuICAgICAgY29uc29sZS5sb2coJyVjIFNFQVJDSCBjb25maWdDaGFuZ2UnLCAnY29sb3I6eWVsbG93O2ZvbnQtc2l6ZToxMXB0Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIGlmIChuZXdDb25maWcgJiYgQUNMVXRpbHMuaGFzVGV4dChuZXdDb25maWcpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2ZnID0gSlNPTi5wYXJzZShuZXdDb25maWcpO1xyXG4gICAgICAgIGlmICh0aGlzLl9kYmcpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCclYyAuLi5TRUFSQ0ggY29uZmlnIGNoYW5nZWQ9JywgJ2NvbG9yOnllbGxvdztmb250LXNpemU6MTFwdCcsIG5ld0NmZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gQ09MT1JTOlxyXG4gICAgICAgIC8vIGRlZmluZSBhIHRlbXAgY29sb3Igb2JqZWN0IHNvIHRoYXQgd2UgdXBkYXRlIHRoZSAnY29sb3JzJyBQcm9wIG9uZSB0aW1lXHJcbiAgICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyhuZXdDZmcsIG51bGwpO1xyXG4gICAgICAgIGlmICh0aGlzLmJhc2VDb25maWc/LmNvbmZpZz8uc2VsZWN0ZWRHZW9ncmFwaHlMZXZlbHMgJiYgdGhpcy5iYXNlQ29uZmlnPy5jb25maWc/LnNlbGVjdGVkR2VvZ3JhcGh5TGV2ZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlTGV2ZWxzKHRoaXMuYmFzZUNvbmZpZy5jb25maWcuc2VsZWN0ZWRHZW9ncmFwaHlMZXZlbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN5bmNTZWFyY2hTY29wZUZyb21Db25maWcodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgb25Mb2NhbGVTZXR0aW5nc0NoYW5nZWQoKSB7XHJcbiAgICB0aGlzLmdldEZpbHRlcmVkR2VvZ3JhcGh5TGV2ZWxzKCk7XHJcbiAgfVxyXG4gIHBhcnNlR2VvZ3JhcGh5RmxhZyhmbGFnKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBmbGFnICE9IHVuZGVmaW5lZCAmJiBBQ0xVdGlscy5oYXNUZXh0KGZsYWcpICYmIGZsYWcudHJpbSgpLnRvTG93ZXJDYXNlKCkgPT0gJ3RydWUnKTtcclxuICB9XHJcbiAgb25Ob0dlb2dyYXBoeUNoYW5nZWQoKSB7XHJcbiAgICB0aGlzLnN0Tm9HZW9ncmFwaHkgPSB0aGlzLnBhcnNlR2VvZ3JhcGh5RmxhZyh0aGlzLm5vZ2VvZ3JhcGh5KTtcclxuICAgIGlmICh0aGlzLnN0Tm9HZW9ncmFwaHkgPT09IGZhbHNlKSB7XHJcbiAgICAgIHRoaXMuc3RTZWFyY2hTY29wZSA9ICdhbGwnOyAvLyBkZWZhdWx0IHJlc3RvcmVkXHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uTWF4U3VnZ2VzdGlvbkhlaWdodENoYW5nZWQoKSB7XHJcbiAgICB0aGlzLnN0TWF4U3VnZ2VzdGlvbkhlaWdodCA9ICh0eXBlb2YgdGhpcy5tYXhzdWdnZXN0aW9uaGVpZ2h0ICE9IHVuZGVmaW5lZCAmJiBBQ0xVdGlscy5oYXNUZXh0KHRoaXMubWF4c3VnZ2VzdGlvbmhlaWdodCkpID8gcGFyc2VJbnQodGhpcy5tYXhzdWdnZXN0aW9uaGVpZ2h0KSA6IDMwMDtcclxuICB9XHJcbiAgLy8gQEBAQEBAXHJcbiAgLy8gQFdhdGNoKCd0aGVtZScpIG9uVGhlbWVDaGFuZ2VkKCkge1xyXG4gIC8vICAgaWYgKHR5cGVvZiB0aGlzLnRoZW1lICE9IHVuZGVmaW5lZCAmJiBBQ0xVdGlscy5oYXNUZXh0KHRoaXMudGhlbWUpKSB7XHJcbiAgLy8gICAgIGNvbnN0IHQgPSB0aGlzLnRoZW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpXHJcbiAgLy8gICAgIHRoaXMuc3RDb2xvclRoZW1lID0gKHQgPT0gJ2RhcmsnKSA/ICdkYXJrJyA6ICdsaWdodCdcclxuICAvLyAgICAgdGhpcy5ub2dlb2dyYXBoeSA9IHRoaXMuc3ROb0dlb2dyYXBoeS50b1N0cmluZygpXHJcbiAgLy8gICB9IGVsc2UgeyB0aGlzLnN0Q29sb3JUaGVtZSA9ICdsaWdodCcgfVxyXG4gIC8vIH1cclxuICBvbkVudkNoYW5nZWQoKSB7XHJcbiAgICB0aGlzLnN0RW52ID0gdGhpcy5lbnY7XHJcbiAgICBFbnZpcm9ubWVudHMuc2V0RW52aXJvbm1lbnQodGhpcy5lbnYpO1xyXG4gICAgaWYgKHRoaXMuYmFzZUNvbmZpZykge1xyXG4gICAgICAvLyB1cGRhdGVzIGNvbmZpZyBhbmQgc3ViLWNvbXBvbmVudCBjb25maWdzXHJcbiAgICAgIHRoaXMuYmFzZUNvbmZpZy51cGRhdGVDb25maWcoeyBlbnY6IHRoaXMuZW52IH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvblRva2VuQ2hhbmdlZCgpIHtcclxuICAgIHRoaXMuc3RUb2tlbiA9IHRoaXMudG9rZW47XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIC8vIHVwZGF0ZXMgY29uZmlnIGFuZCBzdWItY29tcG9uZW50IGNvbmZpZ3NcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IHRva2VuOiB0aGlzLnRva2VuIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvblVzZXJuYW1lQ2hhbmdlZCgpIHtcclxuICAgIHRoaXMuc3RVc2VybmFtZSA9IHRoaXMudXNlcm5hbWU7XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIC8vIHVwZGF0ZXMgY29uZmlnIGFuZCBzdWItY29tcG9uZW50IGNvbmZpZ3NcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbkxhbmdDb2RlQ2hhbmdlZCgpIHtcclxuICAgIHRoaXMuc3RMYW5nQ29kZSA9IHRoaXMubGFuZ0NvZGU7XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIC8vIHVwZGF0ZXMgY29uZmlnIGFuZCBzdWItY29tcG9uZW50IGNvbmZpZ3NcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IGxhbmdDb2RlOiB0aGlzLmxhbmdDb2RlIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbkdlb2VucmljaG1lbnRVcmxDaGFuZ2VkKCkge1xyXG4gICAgdGhpcy5zdEdlb2VucmljaG1lbnRVcmwgPSB0aGlzLmdlb2VucmljaG1lbnRVcmw7XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIC8vIHVwZGF0ZXMgY29uZmlnIGFuZCBzdWItY29tcG9uZW50IGNvbmZpZ3NcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IGdlb2VucmljaG1lbnRVcmw6IHRoaXMuZ2VvZW5yaWNobWVudFVybCB9LCBudWxsKTtcclxuICAgIH1cclxuICB9XHJcbiAgb25UaGVtZUNoYW5nZWQoKSB7XHJcbiAgICB0aGlzLnN0VGhlbWUgPSB0aGlzLnRoZW1lO1xyXG4gICAgaWYgKHRoaXMuYmFzZUNvbmZpZykge1xyXG4gICAgICB0aGlzLmJhc2VDb25maWcuc2V0VGhlbWUodGhpcy50aGVtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uQ291bnRyeUNoYW5nZWQoKSB7XHJcbiAgICB0aGlzLnN0U291cmNlQ291bnRyeSA9IHRoaXMuc291cmNlQ291bnRyeTtcclxuICAgIGlmICh0aGlzLmJhc2VDb25maWcpIHtcclxuICAgICAgLy8gdXBkYXRlcyBjb25maWcgYW5kIHN1Yi1jb21wb25lbnQgY29uZmlnc1xyXG4gICAgICB0aGlzLmJhc2VDb25maWcudXBkYXRlQ29uZmlnKHsgc291cmNlQ291bnRyeTogdGhpcy5zb3VyY2VDb3VudHJ5IH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvblNlYXJjaFRleHRDaGFuZ2VkKCkge1xyXG4gICAgdGhpcy5oaWRlRHJvcGRvd24oKTtcclxuICAgIHRoaXMuaGlkZVN1Z2dlc3Rpb25zKG51bGwpO1xyXG4gICAgY29uc3QgaW5wID0gQUNMVXRpbHMucXVlcnlFbGVtZW50QnlJZC5jYWxsKHRoaXMsIHRoaXMuX2lucHV0SWQpO1xyXG4gICAgaWYgKGlucCAmJiB0aGlzLmN1cnJlbnRTZWFyY2hUZXh0KSB7IC8vIEB0cy1pZ25vcmVcclxuICAgICAgaW5wLnZhbHVlID0gdGhpcy5jdXJyZW50U2VhcmNoVGV4dDtcclxuICAgIH1cclxuICB9XHJcbiAgb25Nb2RlQ2hhbmdlZCgpIHtcclxuICAgIHRoaXMuc3RNb2RlID0gdGhpcy5tb2RlO1xyXG4gIH1cclxuICBvblN1Z2xpdGVDaGFuZ2VkKCkge1xyXG4gICAgdGhpcy5zdFN1Z2xpdGUgPSBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5zdWdsaXRlICE9PSB1bmRlZmluZWQgJiYgKHRoaXMuc3VnbGl0ZSA9PT0gJ3RydWUnKSkge1xyXG4gICAgICB0aGlzLnN0U3VnbGl0ZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uQWN0aXZlTGV2ZWxzQ2hhbmdlZCgpIHtcclxuICAgIC8vIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzXHJcbiAgICB0aGlzLnN0QWN0aXZlTGV2ZWxzID0gSlNPTi5wYXJzZSh0aGlzLmFjdGl2ZUxldmVscyk7XHJcbiAgfVxyXG4gIG9uU3RhbmRhcmRHZW9ncmFwaHlJdGVtU2VsZWN0ZWQoZXZlbnQpIHtcclxuICAgIHRoaXMuX29uU2VsZWN0ZWRHZW9ncmFwaHlJdGVtKGV2ZW50LmRldGFpbC5pdGVtKTtcclxuICAgIHRoaXMuaGlkZVN1Z2dlc3Rpb25zKG51bGwpO1xyXG4gICAgdGhpcy5fY2xlYXJTZWFyY2hUZXh0KCk7XHJcbiAgICB0aGlzLmZvY3VzSW5wdXQoKTtcclxuICB9XHJcbiAgb25TdGFuZGFyZEdlb2dyYXBoeUl0ZW1DaGVja2VkKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQuZGV0YWlsLml0ZW1zVHlwZSA9PSAnb3RoZXInKSB7XHJcbiAgICAgIHRoaXMuaGlkZVN1Z2dlc3Rpb25zKG51bGwpO1xyXG4gICAgICB0aGlzLl9jbGVhclNlYXJjaFRleHQoKTtcclxuICAgICAgdGhpcy5mb2N1c0lucHV0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFzeW5jIHNlYXJjaElzRW1wdHkoKSB7XHJcbiAgICBjb25zdCBzZWFyY2hJbnB1dCA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbCh0aGlzLCB0aGlzLl9pbnB1dElkKTtcclxuICAgIGlmICghc2VhcmNoSW5wdXQpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5wdXRFbGVtID0gQUNMVXRpbHMucXVlcnlFbGVtZW50LmNhbGwoc2VsZiwgJ2lucHV0Jywgc2VhcmNoSW5wdXQpO1xyXG4gICAgaWYgKCFpbnB1dEVsZW0pIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc3RyID0gaW5wdXRFbGVtLnZhbHVlO1xyXG4gICAgcmV0dXJuICEoc3RyICYmIEFDTFV0aWxzLmhhc1RleHQoc3RyKSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIGdldFNlYXJjaFJlc3VsdHNcclxuICAgKiAgICBSZXR1cm5zIHRoZSBsYXRlc3Qgc2VsZWN0ZWQgc3VnZ2VzdGlvbiBpbmZvIGFuZCByZWxhdGVkIGdlb21ldHJ5XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0U2VhcmNoUmVzdWx0cygpIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWFyY2hSZXNwb25zZUl0ZW1EYXRhO1xyXG4gIH1cclxuICBhc3luYyBnZXRDb25maWcoKSB7XHJcbiAgICBjb25zdCBteUNmZyA9IHRoaXMuYmFzZUNvbmZpZztcclxuICAgIHJldHVybiBteUNmZztcclxuICB9XHJcbiAgYXN5bmMgc2V0TG9jYWxlKG9wdGlvbnMpIHtcclxuICAgIGlmICghb3B0aW9ucylcclxuICAgICAgcmV0dXJuO1xyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmxhbmd1YWdlICE9IHVuZGVmaW5lZClcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUxvY2FsZVNldHRpbmdzKHsgbGFuZ3VhZ2U6IG9wdGlvbnMubGFuZ3VhZ2UgfSk7XHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY291bnRyeSAhPSB1bmRlZmluZWQpXHJcbiAgICAgIHRoaXMuYmFzZUNvbmZpZy51cGRhdGVMb2NhbGVTZXR0aW5ncyh7IGNvdW50cnk6IG9wdGlvbnMuY291bnRyeSB9KTtcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sb2NhdGlvbiAhPSB1bmRlZmluZWQpXHJcbiAgICAgIHRoaXMuYmFzZUNvbmZpZy51cGRhdGVMb2NhbGVTZXR0aW5ncyh7IGxvY2F0aW9uOiBvcHRpb25zLmxvY2F0aW9uIH0pO1xyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmdlb2NvZGVPdXRGaWVsZHMgIT0gdW5kZWZpbmVkKVxyXG4gICAgICB0aGlzLmJhc2VDb25maWcudXBkYXRlTG9jYWxlU2V0dGluZ3MoeyBnZW9jb2RlT3V0RmllbGRzOiBvcHRpb25zLmdlb2NvZGVPdXRGaWVsZHMgfSk7XHJcbiAgICB0aGlzLm9uTG9jYWxlU2V0dGluZ3NDaGFuZ2VkKCk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIGdldEdlb2dyYXBoeUxldmVsc1xyXG4gICAqICAgIFJldHVybnMgdGhlIGdlb2dyYXBoeSBsZXZlbCBuYW1lcyBmb3IgdGhlIGNvdW50cnlcclxuICAgKi9cclxuICBhc3luYyBnZXRHZW9ncmFwaHlMZXZlbHMoKSB7XHJcbiAgICBsZXQgbGlzdCA9IFtdO1xyXG4gICAgbGV0IGFyciA9IGF3YWl0IHRoaXMuZ2V0RmlsdGVyZWRHZW9ncmFwaHlMZXZlbHMoKTtcclxuICAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCA+IDApIHtcclxuICAgICAgYXJyLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBsaXN0LnB1c2goaXRlbS5uYW1lKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlzdDtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogc2V0QWN0aXZlTGV2ZWxzXHJcbiAgICogICAgU2V0cyB0aGUgZ2VvZ3JhcGh5IGxldmVscyB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkL2Rpc3BsYXllZFxyXG4gICAqICAgIFRoaXMgYWNjZXB0cyBnZW9ncmFwaHkgbGV2ZWwgJ25hbWVzJyBidXQgdGhlbiB0cmFja3MgdGhlXHJcbiAgICogICAgbGV2ZWwgdXNpbmcgdGhlIGxldmVsICdpZCcgaW50ZXJuYWxseVxyXG4gICAqXHJcbiAgICogICAgUGFzc2luZyAnbmFtZXMnIHdpdGggZW1wdHkgYXJyYXkgd2lsbCBlbmFibGUgYWxsIGxldmVsc1xyXG4gICAqICAgIEV4YW1wbGU6IFsnVVMuU3RhdGVzJywnVVMuWklQNScsICdVUy5QbGFjZXMnXVxyXG4gICAqICAgIFRoZSBleGFtcGxlIGFycmF5IHdpbGwgb25seSBzaG93IHRob3NlIDMgbGV2ZWxzXHJcbiAgICovXHJcbiAgYXN5bmMgc2V0QWN0aXZlTGV2ZWxzKG5hbWVzLCBza2lwVUkgPSBmYWxzZSkge1xyXG4gICAgaWYgKCFza2lwVUkpXHJcbiAgICAgIHRoaXMucmVzZXRVSSh0cnVlLCBmYWxzZSk7XHJcbiAgICBpZiAobmFtZXMpIHtcclxuICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0aGlzLnN0QWN0aXZlTGV2ZWxzID0gWy4uLm5hbWVzXTtcclxuICAgICAgICB0aGlzLl9nZW9ncmFwaHlBY3RpdmVMZXZlbHMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmFtZXMubGVuZ3RoOyBpaSsrKSB7XHJcbiAgICAgICAgICBsZXQgaWQgPSBhd2FpdCB0aGlzLmxldmVsTmFtZUlzVmFsaWQobmFtZXNbaWldKTtcclxuICAgICAgICAgIGlmIChpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9nZW9ncmFwaHlBY3RpdmVMZXZlbHMucHVzaChpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRpc3BsYXkgdXBkYXRlZCByZXN1bHRzIHVzaW5nIG5ldyBsZXZlbHNcclxuICAgICAgICBpZiAoIXNraXBVSSlcclxuICAgICAgICAgIHRoaXMucG9wdWxhdGVTdWdnZXN0aW9ucygpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2dlb2dyYXBoeUFjdGl2ZUxldmVscyA9IFtdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFzeW5jIHNldE1hcFZpZXcobWFwVmlldykge1xyXG4gIH1cclxuICBhc3luYyBzZXRDb2xvcnMoY29sb3JzKSB7XHJcbiAgICB0aGlzLmNvbG9ycyA9IGNvbG9ycztcclxuICAgIHRoaXMuYmFzZUNvbmZpZy5zeW5jQ29uZmlnRnJvbVByb3BzKCk7XHJcbiAgfVxyXG4gIGFzeW5jIHNldFRoZW1lKHRoZW1lKSB7XHJcbiAgICB0aGlzLmJhc2VDb25maWcuc2V0VGhlbWUodGhlbWUpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBTZXRzIGhvc3QgY2FsbGJhY2sgZm9yIHByb3BlcnR5IGNoYW5nZSBub3RpZmljYXRpb25zXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrICAtIGZ1bmN0aW9uIHN1cHBsaWVkIGJ5IGhvc3QgYWZ0ZXIgY29tcG9uZW50IGlzIGluc3RhbnRpYXRlZFxyXG4gICAqIEBwYXJhbSBjb250ZXh0ICAgLSBvYmplY3QgcmVmZXJlbmNlIHRoYXQgaXMgcmV0dXJuZWQgaW4gdGhlIGNhbGxiYWNrICh0byB0aGUgaG9zdClcclxuICAgKlxyXG4gICAqIENhbGxiYWNrIGRhdGEgZm9ybWF0OlxyXG4gICAqICAgIHtcclxuICAgKiAgICAgIDxwcm9wZXJ0eSBuYW1lPjogPHZhbHVlPixcclxuICAgKiAgICAgIDxvdGhlciBwcm9wIG5hbWU6IHZhbHVlLFxyXG4gICAqICAgICAgLi4uXHJcbiAgICogICAgfVxyXG4gICAqL1xyXG4gIGFzeW5jIG9uUHJvcENoYW5nZShjYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgdGhpcy5fb25DaGFuZ2VDYWxsYmFjayA9IHsgZm46IGNhbGxiYWNrLCBjdHg6IGNvbnRleHQgfTtcclxuICB9XHJcbiAgLy8gQmFzZVV0aWwgY29uZmlnLWNoYW5nZWQgcmVuZGVyIGNhbGxiYWNrXHJcbiAgb25VcGRhdGVVSSgpIHtcclxuICAgIHRoaXMuYXBwbHlTdHlsZXMoKTtcclxuICB9XHJcbiAgYXBwbHlTdHlsZXMoKSB7XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnPy5jb25maWc/LmNvbG9ycyAmJiBPYmplY3Qua2V5cyh0aGlzLmJhc2VDb25maWcuY29uZmlnLmNvbG9ycykubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBjID0gdGhpcy5iYXNlQ29uZmlnLmNvbmZpZy5jb2xvcnM7XHJcbiAgICAgIGNvbnN0IHNlYXJjaE91dGVyID0gQUNMVXRpbHMucXVlcnlFbGVtZW50LmNhbGwodGhpcywgJ2Rpdi5iYVNlYXJjaE91dGVyJyk7XHJcbiAgICAgIGlmIChzZWFyY2hPdXRlciAmJiAnc3R5bGUnIGluIHNlYXJjaE91dGVyKSB7XHJcbiAgICAgICAgc2VhcmNoT3V0ZXIuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktYm9yZGVyLWlucHV0XCIsICd1bnNldCcpO1xyXG4gICAgICAgIHNlYXJjaE91dGVyLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMVwiLCBjLmZvcmVncm91bmQpO1xyXG4gICAgICAgIHNlYXJjaE91dGVyLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYWxjaXRlLXVpLWJyYW5kXCIsIGMuYnJhbmQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzZWFyY2hPdXRlcikge1xyXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duID0gc2VhcmNoT3V0ZXIucXVlcnlTZWxlY3RvckFsbChcImNhbGNpdGUtZHJvcGRvd25cIik7XHJcbiAgICAgICAgaWYgKGRyb3Bkb3duICYmICdzdHlsZScgaW4gZHJvcGRvd24pIHtcclxuICAgICAgICAgIGRyb3Bkb3duLnN0eWxlLnNldFByb3BlcnR5KFwiaGVpZ2h0XCIsICczMnB4Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlYXJjaE91dGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYWxjaXRlLWJ1dHRvblwiKS5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgaWYgKG5vZGUuc2hhZG93Um9vdCkge1xyXG4gICAgICAgICAgICBsZXQgYnV0dG9uID0gbm9kZS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ1dHRvbik7XHJcbiAgICAgICAgICAgIGlmIChidXR0b24gJiYgJ3N0eWxlJyBpbiBidXR0b24pIHtcclxuICAgICAgICAgICAgICBidXR0b24uc3R5bGUuc2V0UHJvcGVydHkoXCJoZWlnaHRcIiwgJzMycHgnKTtcclxuICAgICAgICAgICAgICAvLyAoYnV0dG9uIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTNcIiwgYy5icmFuZCk7XHJcbiAgICAgICAgICAgICAgLy8gKGJ1dHRvbiBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0yXCIsIGMuYnJhbmRIb3Zlcik7XHJcbiAgICAgICAgICAgICAgLy8gKGJ1dHRvbiBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xXCIsIGMuYnJhbmRQcmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBzZWFyY2hPdXRlci5xdWVyeVNlbGVjdG9yQWxsKFwiY2FsY2l0ZS1pbnB1dFwiKS5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgIC8vICAgaWYgKG5vZGUuc2hhZG93Um9vdCkge1xyXG4gICAgICAgIC8vICAgICAgIGxldCBpbnB1dCA9IG5vZGUuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XHJcbiAgICAgICAgLy8gICAgICAgLy8gY29uc29sZS5sb2coaW5wdXQpXHJcbiAgICAgICAgLy8gICAgICAgaWYgKGlucHV0ICYmICdzdHlsZScgaW4gaW5wdXQpIHtcclxuICAgICAgICAvLyAgICAgICAgIChpbnB1dCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktYm9yZGVyLWlucHV0XCIsICd1bnNldCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgKGlucHV0IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTFcIiwgYy5mb3JlZ3JvdW5kKTtcclxuICAgICAgICAvLyAgICAgICAgIChpbnB1dCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktYnJhbmRcIiwgYy5icmFuZCk7XHJcbiAgICAgICAgLy8gICAgICAgfVxyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vIH0pXHJcbiAgICAgICAgLy8gc2VhcmNoT3V0ZXIucXVlcnlTZWxlY3RvckFsbChcImNhbGNpdGUtaW5wdXRcIikuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgICAvLyAgIGlmIChub2RlLnNoYWRvd1Jvb3QpIHtcclxuICAgICAgICAvLyAgICAgICBsZXQgaW5wdXQgPSBub2RlLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xyXG4gICAgICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKGlucHV0KVxyXG4gICAgICAgIC8vICAgICAgIGlmIChpbnB1dCAmJiAnc3R5bGUnIGluIGlucHV0KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAoaW5wdXQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYWxjaXRlLXVpLWJvcmRlci1pbnB1dFwiLCAndW5zZXQnKTtcclxuICAgICAgICAvLyAgICAgICAgIChpbnB1dCBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xXCIsIGMuZm9yZWdyb3VuZCk7XHJcbiAgICAgICAgLy8gICAgICAgICAoaW5wdXQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYWxjaXRlLXVpLWJyYW5kXCIsIGMuYnJhbmQpO1xyXG4gICAgICAgIC8vICAgICAgIH1cclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICAvLyB9KVxyXG4gICAgICAgIC8vIGNhbGNpdGUtbGlzdFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHN5bmNTZWFyY2hTY29wZUZyb21Db25maWcoYWxsb3dSZXNldCkge1xyXG4gICAgaWYgKHRoaXMuX2RiZykge1xyXG4gICAgICBjb25zb2xlLmxvZygnJWMgU0VBUkNIIHN5bmNTZWFyY2hTY29wZScsICdjb2xvcjpvcmFuZ2U7Zm9udC1zaXplOjExcHQnLCB0aGlzLmJhc2VDb25maWcuY29uZmlnKTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGZvciBzZWFyY2ggdHlwZSBhbmQgYXBwbHlcclxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICBjb25zdCBzZWFyY2hUeXBlID0gdGhpcy5iYXNlQ29uZmlnLmNvbmZpZy5iYVNlYXJjaFR5cGU7XHJcbiAgICBpZiAoc2VhcmNoVHlwZSkge1xyXG4gICAgICBpZiAoc2VhcmNoVHlwZSA9PSAxKSB7XHJcbiAgICAgICAgY2hhbmdlZCA9IHRoaXMuc3RTZWFyY2hTY29wZSAhPSAnYWRkcmVzcyc7XHJcbiAgICAgICAgdGhpcy5zdFNlYXJjaFNjb3BlID0gJ2FkZHJlc3MnO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHNlYXJjaFR5cGUgPT0gMikge1xyXG4gICAgICAgIGNoYW5nZWQgPSB0aGlzLnN0U2VhcmNoU2NvcGUgIT0gJ2JvdW5kYXJ5JztcclxuICAgICAgICB0aGlzLnN0U2VhcmNoU2NvcGUgPSAnYm91bmRhcnknO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGNoYW5nZWQgPSB0aGlzLnN0U2VhcmNoU2NvcGUgIT0gJ2FsbCc7XHJcbiAgICAgICAgdGhpcy5zdFNlYXJjaFNjb3BlID0gJ2FsbCc7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuX2RiZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCclYyBTRUFSQ0ggc2VhcmNoU2NvcGUgaXMgbm93OicsICdjb2xvcjpvcmFuZ2U7Zm9udC1zaXplOjExcHQnLCB0aGlzLnN0U2VhcmNoU2NvcGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY2hhbmdlZCAmJiBhbGxvd1Jlc2V0KSB7XHJcbiAgICAgIHRoaXMuaGlkZVN1Z2dlc3Rpb25zKG51bGwpO1xyXG4gICAgICB0aGlzLl9jbGVhclNlYXJjaFRleHQoKTtcclxuICAgICAgdGhpcy5mb2N1c0lucHV0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9kZWJ1ZyguLi5pdGVtcykge1xyXG4gICAgaWYgKCF0aGlzLl92ZXJib3NlTG9nZ2luZykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoaXRlbXMpXHJcbiAgICAgIHJldHVybjsgLy8gcmVtb3ZlIHRoaXNcclxuICAgIC8vIExvZ3ouc2hvdygnJXknLCAuLi5pdGVtcylcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRmlsdGVycyBvdXQgbXVsdGlwbGUgcmFwaWQgZXZlbnRzIG9mIHRoZSBzYW1lIHR5cGUuICBUaGUgY2FsbGJhY2tcclxuICAgKiBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBpZiBubyBuZXcgZXZlbnRzIGhhdmUgaGFwcGVuZWQgZHVyaW5nIHRoZVxyXG4gICAqICd3YWl0JyB0aW1lLlxyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHlvdXIgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBldmVudHMgaGF2ZSBzZXR0bGVkXHJcbiAgICogQHBhcmFtIHdhaXQgICAgIC0gbWlsbGlzZWNvbmRzIGRlbGF5IChleDogMjUwKVxyXG4gICAqL1xyXG4gIF9kZWJvdW5jZTIoY2FsbGJhY2ssIHdhaXQpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgY29uc3QgZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNlbGYuX2RlYm91bmNlVGltZXIgPSBudWxsO1xyXG4gICAgICBjYWxsYmFjay5hcHBseShzZWxmKTtcclxuICAgIH07XHJcbiAgICAvLyBldmVyeXRpbWUgX2RlYm91bmNlMiBpcyBjYWxsZWQgd2Uga2lsbCB0aGUgcHJldmlvdXMgdGltZXJcclxuICAgIGlmIChzZWxmLl9kZWJvdW5jZVRpbWVyKVxyXG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi5fZGVib3VuY2VUaW1lcik7XHJcbiAgICBzZWxmLl9kZWJvdW5jZVRpbWVyID0gc2V0VGltZW91dChkZWxheWVkQ2FsbCwgd2FpdCk7XHJcbiAgfVxyXG4gIF9vbkZpbHRlcmVkUHJvcENoYW5nZWQoKSB7XHJcbiAgICBpZiAodGhpcy5fb25DaGFuZ2VDYWxsYmFjaylcclxuICAgICAgdGhpcy5fb25DaGFuZ2VDYWxsYmFjay5mbih0aGlzLl9vbkNoYW5nZUNhbGxiYWNrLmN0eCwgdGhpcy5fb25DaGFuZ2VRdWV1ZSk7XHJcbiAgICAvLyBjbGVhciBxdWV1ZVxyXG4gICAgdGhpcy5fb25DaGFuZ2VRdWV1ZSA9IHt9O1xyXG4gIH1cclxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gIC8vIFNldCBsb2NhbGUgc3RyaW5nXHJcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gIHNldExvY2FsZVN0cmluZ3MoKSB7XHJcbiAgICBCYVJlcG9ydHNMYW5ndWFnZS5faW5pdGlhbGl6ZSh0aGlzLmxhbmdDb2RlKTtcclxuICAgIHRoaXMubGFiZWxzID0ge1xyXG4gICAgICBkcm9wZG93bkxvY2F0aW9uOiBCYVJlcG9ydHNMYW5ndWFnZS5pMThuKCdhZGRyZXNzLWxvY2F0aW9uLW9yLXBsYWNlJyksXHJcbiAgICAgIGRyb3Bkb3duQm91bmRhcnk6IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2JvdW5kYXJ5LW5hbWUnKSxcclxuICAgICAgZHJvcGRvd25BbGw6IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2Ryb3Bkb3duLWFsbCcpLFxyXG4gICAgICB3YXRlcm1hcmtBbGw6IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2FsbC1wbGFjZWhvbGRlcicpLFxyXG4gICAgICB3YXRlcm1hcmtMb2NhdGlvbjogQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bignZW50ZXItYWRkcmVzcy1sb2Mtb3ItcGxhY2UnKSxcclxuICAgICAgd2F0ZXJtYXJrQm91bmRhcnk6IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2VudGVyLWJvdW5kYXJ5LW5hbWUnKVxyXG4gICAgfTtcclxuICAgIHRoaXMuc2hvd1NlYXJjaCA9IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ3Nob3ctc2VhcmNoJyk7XHJcbiAgICB0aGlzLnNlYXJjaFBsYWNlaG9sZGVyID0gQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bignc2VhcmNoLXBsYWNlaG9sZGVyJyk7XHJcbiAgICB0aGlzLnNlYXJjaExhYmVsID0gQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bignc2VhcmNoLWxhYmVsJyk7XHJcbiAgICB0aGlzLnNlYXJjaEFsbCA9IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2Ryb3Bkb3duLWFsbCcpO1xyXG4gICAgdGhpcy5zZWFyY2hBbGxQbGFjZWhvbGRlciA9IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2FsbC1wbGFjZWhvbGRlcicpO1xyXG4gICAgdGhpcy5zZWFyY2hQbGFjZWhvbGRlclNob3J0ID0gQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bignc2VhcmNoLXBsYWNlaG9sZGVyLXNob3J0Jyk7XHJcbiAgICB0aGlzLnNlYXJjaEVudGVyQm91bmRhcnkgPSBCYVJlcG9ydHNMYW5ndWFnZS5pMThuKCdzZWFyY2gtZW50ZXItYm91bmRhcnknKTtcclxuICAgIHRoaXMuc2VhcmNoQm91bmRhcnkgPSBCYVJlcG9ydHNMYW5ndWFnZS5pMThuKCdzZWFyY2gtYm91bmRhcnknKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gY2FsbGVkIGJ5IHRoaXMgY29tcG9uZW50IGludGVybmFsbHkgd2hlbiBhIFByb3AgY2hhbmdlc1xyXG4gICAqIEBwYXJhbSBuYW1lICAtIG9mIFByb3BcclxuICAgKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSBhZnRlciBjaGFuZ2VcclxuICAgKi9cclxuICBfb25Qcm9wQ2hhbmdlZChuYW1lLCB2YWx1ZSkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAvLyBBZGQgbmFtZS92YWx1ZSB0byBxdWV1ZVxyXG4gICAgLy8gU3Vic2VxdWVudCBjYWxscyB3aXRoIHRoZSBzYW1lIG5hbWUvdmFsdWUganVzdCB1cGRhdGVzXHJcbiAgICAvLyB0aGUgdmFsdWUgdW50aWwgdGhlIGNhbGxiYWNrIGNsZWFycyB0aGUgcXVldWVcclxuICAgIHRoaXMuX29uQ2hhbmdlUXVldWVbbmFtZV0gPSB2YWx1ZTtcclxuICAgIHRoaXMuX2RlYm91bmNlMigoKSA9PiB7IHNlbGYuX29uRmlsdGVyZWRQcm9wQ2hhbmdlZC5jYWxsKHNlbGYpOyB9LCAyNTApO1xyXG4gIH1cclxuICBfY2xlYXJTZWFyY2hUZXh0KCkge1xyXG4gICAgY29uc3QgaW5wID0gQUNMVXRpbHMucXVlcnlFbGVtZW50QnlJZC5jYWxsKHRoaXMsIHRoaXMuX2lucHV0SWQpO1xyXG4gICAgaW5wLnZhbHVlID0gJyc7XHJcbiAgICAvL3RoaXMuX29uUHJvcENoYW5nZWQoJ3NlYXJjaENsZWFyZWQnLCAnJylcclxuICB9XHJcbiAgYXN5bmMgb25DbGlja0xvY2F0aW9uU3VnZ2VzdGlvbkl0ZW0oaXRlbSkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICBhd2FpdCB0aGlzLmdlb2NvZGVyQ2xpZW50Lmdlb2NvZGUoaXRlbS50ZXh0LCB7XHJcbiAgICAgIG1hZ2ljS2V5OiBpdGVtLm1hZ2ljS2V5LFxyXG4gICAgICBvdXRGaWVsZHM6IHRoaXMuYmFzZUNvbmZpZy5fbG9jYWxlU2V0dGluZ3MuZ2VvY29kZU91dEZpZWxkc1xyXG4gICAgfSkudGhlbigocmVzdWx0cykgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0cykge1xyXG4gICAgICAgIHNlbGYuX3NlYXJjaFJlc3BvbnNlSXRlbURhdGEgPSB7XHJcbiAgICAgICAgICBjb250ZXh0OiBzZWxmLFxyXG4gICAgICAgICAgdHlwZTogJ2xvY2F0aW9uJyxcclxuICAgICAgICAgIG1vZGU6IHNlbGYuc3RNb2RlLFxyXG4gICAgICAgICAgbmFtZTogcmVzdWx0cy5jYW5kaWRhdGVzWzBdLmF0dHJpYnV0ZXMuUGxhY2VOYW1lLFxyXG4gICAgICAgICAgYWRkcmVzczogcmVzdWx0cy5jYW5kaWRhdGVzWzBdLmF0dHJpYnV0ZXMuUGxhY2VfYWRkcixcclxuICAgICAgICAgIGxvY2F0aW9uOiB7IGxvbjogcmVzdWx0cy5jYW5kaWRhdGVzWzBdLmxvY2F0aW9uLngsIGxhdDogcmVzdWx0cy5jYW5kaWRhdGVzWzBdLmxvY2F0aW9uLnkgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZWFyY2hSZXN1bHRzLmVtaXQoc2VsZi5fc2VhcmNoUmVzcG9uc2VJdGVtRGF0YSk7XHJcbiAgICAgICAgdGhpcy5fb25Qcm9wQ2hhbmdlZCgnc2VhcmNoUmVzdWx0cycsIHNlbGYuX3NlYXJjaFJlc3BvbnNlSXRlbURhdGEpO1xyXG4gICAgICAgIHNlbGYucmVzZXRVSShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXgpID0+IHtcclxuICAgICAgTG9nei5zaG93KCclZScsICdhcmNnaXMtYmEtc2VhcmNoIEVycm9yOicsIGV4KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5oaWRlU3VnZ2VzdGlvbnMobnVsbCk7XHJcbiAgICB0aGlzLl9jbGVhclNlYXJjaFRleHQoKTtcclxuICAgIHRoaXMuZm9jdXNJbnB1dCgpO1xyXG4gIH1cclxuICBfZmluZEdlb2dyYXBoeUxldmVsKGlkKSB7XHJcbiAgICBsZXQgbGV2ZWw7XHJcbiAgICBpZiAodGhpcy5fZ2VvZ3JhcGh5TGV2ZWxzKSB7XHJcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLl9nZW9ncmFwaHlMZXZlbHMubGVuZ3RoOyBpaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbCA9IHRoaXMuX2dlb2dyYXBoeUxldmVsc1tpaV07XHJcbiAgICAgICAgaWYgKGwuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICBsZXZlbCA9IGw7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZXZlbDtcclxuICB9XHJcbiAgX29uU2VsZWN0ZWRHZW9ncmFwaHlJdGVtKGl0ZW0pIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgY29uc3QgaWQgPSBpdGVtLmlkO1xyXG4gICAgY29uc3QgZnVsbG5hbWUgPSBpdGVtLm5hbWU7XHJcbiAgICBpZiAoIXRoaXMuc3VnZ2VzdGlvblJlc3VsdHM/LmJvdW5kYXJ5KVxyXG4gICAgICByZXR1cm47XHJcbiAgICAvLyBGaW5kIHRoZSBzZWFyY2ggcmVzdWx0IGl0ZW0gdXNpbmcgT2JqZWN0SWRcclxuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCB0aGlzLnN1Z2dlc3Rpb25SZXN1bHRzLmJvdW5kYXJ5Lmxlbmd0aDsgaWkrKykge1xyXG4gICAgICBsZXQgcmVjID0gdGhpcy5zdWdnZXN0aW9uUmVzdWx0cy5ib3VuZGFyeVtpaV07XHJcbiAgICAgIGlmIChyZWMuYXR0cmlidXRlcyAmJiByZWMuYXR0cmlidXRlcy5PYmplY3RJZCA9PSBpZCkge1xyXG4gICAgICAgIGxldCBhID0gcmVjLmF0dHJpYnV0ZXM7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRsZXZlbCA9IHNlbGYuX2ZpbmRHZW9ncmFwaHlMZXZlbChhLkRhdGFMYXllcklEKTtcclxuICAgICAgICBjb25zdCBkZWZHZW4gPSAoY3VycmVudGxldmVsKSA/IGN1cnJlbnRsZXZlbC5kZWZhdWx0R2VuZXJhbGl6YXRpb24gOiAwO1xyXG4gICAgICAgIC8vIEdldCBib3VuZGFyeSBnZW9tZXRyeSBmcm9tIHNlcnZlclxyXG4gICAgICAgIEdFQ2xpZW50LnJlcXVlc3RTdGRHZW9ncmFwaHkoYS5EYXRhTGF5ZXJJRCwgYS5BcmVhSUQsIHtcclxuICAgICAgICAgIGdlbmVyYWxpemF0aW9uTGV2ZWw6IGRlZkdlbixcclxuICAgICAgICAgIHJldHVybkdlb21ldHJ5OiB0cnVlLFxyXG4gICAgICAgICAgc291cmNlQ291bnRyeTogc2VsZi5zdFNvdXJjZUNvdW50cnkgfHwgJ1VTJyxcclxuICAgICAgICAgIGxhbmdDb2RlOiBzZWxmLmxhbmdDb2RlLFxyXG4gICAgICAgICAgdG9rZW46IHNlbGYudG9rZW5cclxuICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGdlb0ZlYXR1cmUgPSByZXN1bHRbMF07XHJcbiAgICAgICAgICAgIHNlbGYuX3NlYXJjaFJlc3BvbnNlSXRlbURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgY29udGV4dDogc2VsZixcclxuICAgICAgICAgICAgICB0eXBlOiAnZ2VvZ3JhcGh5JyxcclxuICAgICAgICAgICAgICBhcmVhTmFtZTogcmVjLmF0dHJpYnV0ZXMuQXJlYU5hbWUsXHJcbiAgICAgICAgICAgICAgYXJlYUlkOiByZWMuYXR0cmlidXRlcy5BcmVhSUQsXHJcbiAgICAgICAgICAgICAgZ2VvbWV0cnk6IGdlb0ZlYXR1cmUuZ2VvbWV0cnkucmluZ3MsXHJcbiAgICAgICAgICAgICAgbW9kZTogc2VsZi5zdE1vZGUsXHJcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogYSxcclxuICAgICAgICAgICAgICB0aXRsZTogZnVsbG5hbWVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2VsZi5zZWFyY2hSZXN1bHRzLmVtaXQoc2VsZi5fc2VhcmNoUmVzcG9uc2VJdGVtRGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uUHJvcENoYW5nZWQoJ3NlYXJjaFJlc3VsdHMnLCBzZWxmLl9zZWFyY2hSZXNwb25zZUl0ZW1EYXRhKTtcclxuICAgICAgICAgICAgc2VsZi5yZXNldFVJKGZhbHNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICBMb2d6LnNob3coJyVlJywgJ2FyY2dpcy1iYS1zZWFyY2ggRXJyb3IgJywgZXJyKTtcclxuICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBhY2NlcHRzIGEgbGV2ZWwgbmFtZVxyXG4gIC8vIHJldHVybjogIGxldmVsIGlkIGlmIHZhbGlkIChvciB1bmRlZmluZWQpXHJcbiAgYXN5bmMgbGV2ZWxOYW1lSXNWYWxpZChuYW1lKSB7XHJcbiAgICBpZiAoIW5hbWUgfHwgIUFDTFV0aWxzLmhhc1RleHQobmFtZSkpXHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICBsZXQgYXJyID0gYXdhaXQgdGhpcy5nZXRGaWx0ZXJlZEdlb2dyYXBoeUxldmVscygpO1xyXG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyci5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgaWYgKGFycltpaV0ubmFtZSA9PSBuYW1lKVxyXG4gICAgICAgIHJldHVybiBhcnJbaWldLmlkO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbiAgZm9jdXNJbnB1dCgpIHtcclxuICAgIGNvbnN0IGNhbElucHV0RWxlbSA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbCh0aGlzLCB0aGlzLl9pbnB1dElkKTtcclxuICAgIEFDTFV0aWxzLnF1ZXJ5RWxlbWVudC5jYWxsKHRoaXMsICdpbnB1dCcsIGNhbElucHV0RWxlbSkuZm9jdXMoKTtcclxuICB9XHJcbiAgX2xvYWRJbnN0YW5jZXMoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlSWQpXHJcbiAgICAgIHRoaXMuX2luc3RhbmNlSWQgPSBFbGVtZW50SWRzLmdlbmVyYXRlSWQodGhpcy5faWRQcmVmaXgpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9pbnB1dElkKVxyXG4gICAgICB0aGlzLl9pbnB1dElkID0gRWxlbWVudElkcy5nZW5lcmF0ZUlkKHRoaXMuX2lkUHJlZml4SW5wdXQpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9kcm9wTG9jSWQpXHJcbiAgICAgIHRoaXMuX2Ryb3BMb2NJZCA9IEVsZW1lbnRJZHMuZ2VuZXJhdGVJZCh0aGlzLl9pZFByZWZpeERyb3BMb2MpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9kcm9wQWxsaWQpXHJcbiAgICAgIHRoaXMuX2Ryb3BBbGxpZCA9IEVsZW1lbnRJZHMuZ2VuZXJhdGVJZCh0aGlzLl9pZFByZWZpeERyb3BBbGwpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9kcm9wQmR5SWQpXHJcbiAgICAgIHRoaXMuX2Ryb3BCZHlJZCA9IEVsZW1lbnRJZHMuZ2VuZXJhdGVJZCh0aGlzLl9pZFByZWZpeERyb3BCZHkpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9kcm9wR3JvdXBJZClcclxuICAgICAgdGhpcy5fZHJvcEdyb3VwSWQgPSBFbGVtZW50SWRzLmdlbmVyYXRlSWQodGhpcy5faWRQcmVmaXhEcm9wR3JvdXApLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9zdWdnZXN0SWQpXHJcbiAgICAgIHRoaXMuX3N1Z2dlc3RJZCA9IEVsZW1lbnRJZHMuZ2VuZXJhdGVJZCh0aGlzLl9pZFByZWZpeFN1Z2dlc3QpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9kcm9wZG93bklkKVxyXG4gICAgICB0aGlzLl9kcm9wZG93bklkID0gRWxlbWVudElkcy5nZW5lcmF0ZUlkKHRoaXMuX2lkUHJlZml4RHJvcERvd24pLmlkO1xyXG4gIH1cclxuICBnZXRDb3VudHJ5KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RTb3VyY2VDb3VudHJ5IHx8IHRoaXMuYmFzZUNvbmZpZy5fbG9jYWxlU2V0dGluZ3MuY291bnRyeTtcclxuICB9XHJcbiAgLypcclxuICAgKiBHZW9ncmFwaHkgbGV2ZWwgYXJlIG5vcm1hbGx5IGRpc3BsYXllZCB1c2luZyB0aGVpciAnbmFtZXMnIGluIHRoZSBVSS4gIFJlcXVlc3RzIHVzZVxyXG4gICAqIHRoZSBsZXZlbCBJRHMuICBUaGVyZWZvcmUgc3RBY3RpdmVMZXZlbHMgaXMgYW4gYXJyYXkgb2YgbGV2ZWwgbmFtZXMsIGFuZFxyXG4gICAqL1xyXG4gIGFzeW5jIGdldEZpbHRlcmVkR2VvZ3JhcGh5TGV2ZWxzKCkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgbGV0IGhhc0FjdGl2ZUxpc3QgPSAoc2VsZi5zdEFjdGl2ZUxldmVscyAmJiBzZWxmLnN0QWN0aXZlTGV2ZWxzLmxlbmd0aCA+IDApO1xyXG4gICAgLy8gbG9vayBmb3IgY2FjaGVkIHZhbHVlcyAtIGlmIHdlIGhhdmUgYWN0aXZlIGxldmVsIG5hbWVzIGZyb20gdGhlIHVzZXIsIGFsd2F5cyBmZXRjaCBsZXZlbHMgYW5kIG1hdGNoIHRvIHRob3NlXHJcbiAgICBpZiAoaGFzQWN0aXZlTGlzdCB8fCAhc2VsZi5fZ2VvZ3JhcGh5TGV2ZWxzIHx8IHNlbGYuX2dlb2dyYXBoeUxldmVscy5sZW5ndGggPD0gMCB8fCBzZWxmLl9nZW9ncmFwaHlMZXZlbHNTb3VyY2UgIT0gc2VsZi5nZXRDb3VudHJ5KCkpIHtcclxuICAgICAgLy8gUmVxdWVzdCBuZXcgbGV2ZWxzIGZvciB0aGlzIGNvdW50cnlcclxuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgR0VDbGllbnQuZ2V0U3RhbmRhcmRHZW9ncmFwaHlMZXZlbHMoc2VsZi5nZXRDb3VudHJ5KCksIHNlbGYubGFuZ0NvZGUpO1xyXG4gICAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubGV2ZWxzICYmIHJlc3BvbnNlLmxldmVscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAvLyBjcmVhdGUgb3VyIGxldmVsIG9iamVjdHMgbGlzdCAtIGZpbHRlcmVkIGJ5IHVzZXIgKGlmIGFwcGxpZXMpXHJcbiAgICAgICAgICBzZWxmLl9nZW9ncmFwaHlMZXZlbHMgPSBbXTtcclxuICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCByZXNwb25zZS5sZXZlbHMubGVuZ3RoOyBpaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBsZXYgPSByZXNwb25zZS5sZXZlbHNbaWldO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBwYXNzZWQgdXMgYSBsaXN0IG9mIGxldmVsIG5hbWVzLCBmaWx0ZXIgYnkgdGhvc2VcclxuICAgICAgICAgICAgbGV0IGFjdGl2ZSA9ICFoYXNBY3RpdmVMaXN0IHx8IChzZWxmLnN0QWN0aXZlTGV2ZWxzICYmIHNlbGYuc3RBY3RpdmVMZXZlbHMubGVuZ3RoID4gMCAmJiBzZWxmLnN0QWN0aXZlTGV2ZWxzLmluY2x1ZGVzKGxldi5uYW1lKSk7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmUgJiYgbGV2ICYmIGxldi5pZCAmJiBsZXYubmFtZSAmJiBBQ0xVdGlscy5oYXNUZXh0KGxldi5pZCkgJiYgQUNMVXRpbHMuaGFzVGV4dChsZXYubmFtZSkpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9nZW9ncmFwaHlMZXZlbHMucHVzaCh7IGlkOiBsZXYuaWQsIG5hbWU6IGxldi5uYW1lLCBzaG93OiB0cnVlLCBkZWZhdWx0R2VuZXJhbGl6YXRpb246IGxldi5kZWZhdWx0R2VuZXJhbGl6YXRpb25MZXZlbCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2VsZi5fZ2VvZ3JhcGh5TGV2ZWxzU291cmNlID0gc2VsZi5nZXRDb3VudHJ5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2VsZi5fZ2VvZ3JhcGh5TGV2ZWxzO1xyXG4gIH1cclxuICAvLyBTdGVuY2lsIGxpZmVjeWNsZSAtIGNhbGxlZCBvbmNlIGFmdGVyIGNvbXBvbmVudCBpcyBmaXJzdCBjb25uZWN0ZWQgdG8gdGhlIERPTVxyXG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xyXG4gICAgdGhpcy5zdE5vR2VvZ3JhcGh5ID0gdGhpcy5wYXJzZUdlb2dyYXBoeUZsYWcodGhpcy5ub2dlb2dyYXBoeSk7XHJcbiAgICB0aGlzLnN0TWF4U3VnZ2VzdGlvbkhlaWdodCA9ICh0eXBlb2YgdGhpcy5tYXhzdWdnZXN0aW9uaGVpZ2h0ICE9IHVuZGVmaW5lZCAmJiBBQ0xVdGlscy5oYXNUZXh0KHRoaXMubWF4c3VnZ2VzdGlvbmhlaWdodCkpID8gcGFyc2VJbnQodGhpcy5tYXhzdWdnZXN0aW9uaGVpZ2h0KSA6IDMwMDtcclxuICAgIC8vIGlmICh0eXBlb2YgdGhpcy50aGVtZSAhPSB1bmRlZmluZWQgJiYgQUNMVXRpbHMuaGFzVGV4dCh0aGlzLnRoZW1lKSkge1xyXG4gICAgLy8gICBjb25zdCB0ID0gdGhpcy50aGVtZS50cmltKCkudG9Mb3dlckNhc2UoKVxyXG4gICAgLy8gICB0aGlzLnN0Q29sb3JUaGVtZSA9ICh0ID09ICdkYXJrJykgPyAnZGFyaycgOiAnbGlnaHQnXHJcbiAgICAvLyAgIHRoaXMubm9nZW9ncmFwaHkgPSB0aGlzLnN0Tm9HZW9ncmFwaHkudG9TdHJpbmcoKVxyXG4gICAgLy8gfVxyXG4gICAgLy8gaWYgKHR5cGVvZiB0aGlzLnRoZW1lICE9IHVuZGVmaW5lZCAmJiBBQ0xVdGlscy5oYXNUZXh0KHRoaXMudGhlbWUpKSB7XHJcbiAgICAvLyAgIGNvbnN0IHQgPSB0aGlzLnRoZW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpXHJcbiAgICAvLyAgIHRoaXMuc3RDb2xvclRoZW1lID0gKHQgPT0gJ2RhcmsnKSA/ICdkYXJrJyA6ICdsaWdodCdcclxuICAgIC8vICAgdGhpcy5ub2dlb2dyYXBoeSA9IHRoaXMuc3ROb0dlb2dyYXBoeS50b1N0cmluZygpXHJcbiAgICAvLyB9IGVsc2UgeyB0aGlzLnN0Q29sb3JUaGVtZSA9ICdsaWdodCcgfVxyXG4gICAgaWYgKHRoaXMuYWN0aXZlTGV2ZWxzICYmIEFDTFV0aWxzLmhhc1RleHQodGhpcy5hY3RpdmVMZXZlbHMpKSB7XHJcbiAgICAgIHRoaXMuc3RBY3RpdmVMZXZlbHMgPSBKU09OLnBhcnNlKHRoaXMuYWN0aXZlTGV2ZWxzKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNvdXJjZUNvdW50cnkgJiYgQUNMVXRpbHMuaGFzVGV4dCh0aGlzLnNvdXJjZUNvdW50cnkpKSB7XHJcbiAgICAgIHRoaXMuc3RTb3VyY2VDb3VudHJ5ID0gdGhpcy5zb3VyY2VDb3VudHJ5O1xyXG4gICAgfVxyXG4gICAgLy8gU2V0IEVudmlyb25tZW50IEJFRk9SRSBHZW9jb2RlciBpcyBpbnN0YW50aWF0ZWQgdG8gZW5zdXJlIGNvcnJlY3QgZ2VvY29kZSBVUkwgaXMgdXNlZFxyXG4gICAgaWYgKCF0aGlzLl9oYXNTZXRFbnYgJiYgdGhpcy5lbnYpIHtcclxuICAgICAgdGhpcy5faGFzU2V0RW52ID0gdHJ1ZTtcclxuICAgICAgdGhpcy5zdEVudiA9IHRoaXMuZW52O1xyXG4gICAgICBFbnZpcm9ubWVudHMuc2V0RW52aXJvbm1lbnQodGhpcy5lbnYpO1xyXG4gICAgfVxyXG4gICAgLy8gU2V0IGlmIEdlb2VucmljaG1lbnRVcmwgd2FzIG9wdGlvbmFsbHkgcGFzc2VkIGluXHJcbiAgICBpZiAodGhpcy5nZW9lbnJpY2htZW50VXJsKSB7XHJcbiAgICAgIEVudmlyb25tZW50cy5zZXRHZW9lbnJpY2htZW50VXJsKHRoaXMuZ2VvZW5yaWNobWVudFVybCk7XHJcbiAgICB9XHJcbiAgICAvLyBTZXQgaWYgR2VvY29kZVVybCB3YXMgb3B0aW9uYWxseSBwYXNzZWQgaW5cclxuICAgIGlmICh0aGlzLmdlb2NvZGVVcmwpIHtcclxuICAgICAgRW52aXJvbm1lbnRzLnNldEdlb2NvZGVVcmwodGhpcy5nZW9jb2RlVXJsKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRoZW1lKSB7XHJcbiAgICAgIHRoaXMuYmFzZUNvbmZpZy5zZXRUaGVtZSh0aGlzLnRoZW1lKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmJhc2VDb25maWcuc2V0VGhlbWUoJ2xpZ2h0Jyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm5vZ2VvZ3JhcGh5ID0gdGhpcy5zdE5vR2VvZ3JhcGh5LnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLmdlb2NvZGVyQ2xpZW50ID0gbmV3IEdlb2NvZGVyQ2xpZW50KHRoaXMudG9rZW4pO1xyXG4gICAgdGhpcy5fbG9hZEluc3RhbmNlcygpO1xyXG4gICAgdGhpcy5zdE1vZGUgPSB0aGlzLm1vZGU7XHJcbiAgICB0aGlzLnN0U3VnbGl0ZSA9IGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnN1Z2xpdGUgIT09IHVuZGVmaW5lZCAmJiAodGhpcy5zdWdsaXRlID09PSAndHJ1ZScpKSB7XHJcbiAgICAgIHRoaXMuc3RTdWdsaXRlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGF3YWl0IHRoaXMuZ2V0RmlsdGVyZWRHZW9ncmFwaHlMZXZlbHMoKTtcclxuICB9XHJcbiAgcmVzZXRVSShrZWVwVmFsdWUsIGtlZXBEcm9wZG93bikge1xyXG4gICAgaWYgKCFrZWVwRHJvcGRvd24pXHJcbiAgICAgIHRoaXMuaGlkZURyb3Bkb3duKCk7XHJcbiAgICB0aGlzLmhpZGVTdWdnZXN0aW9ucyhudWxsKTtcclxuICAgIGlmICgha2VlcFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IGlucCA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbCh0aGlzLCB0aGlzLl9pbnB1dElkKTtcclxuICAgICAgaW5wLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFN0ZW5jaWwgbGlmZWN5Y2xlIC0gY2FsbGVkIG9uY2UgYWZ0ZXIgY29tcG9uZW50IGlzIGZ1bGx5IGxvYWRlZCBhbmQgMXN0IHJlbmRlciBvY2N1cnJlZFxyXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XHJcbiAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuX2xvYWRJbnN0YW5jZXMoKTtcclxuICAgIHNlbGYuYXBwbHlDc3NBbmRUaGVtZVRvX1NlYXJjaCgpO1xyXG4gICAgVG9rZW5Qcm92aWRlci5zZXRUb2tlbihzZWxmLnVzZXJuYW1lLCBzZWxmLnRva2VuKTtcclxuICAgIGlmICghc2VsZi5iYXNlQ29uZmlnLl9sb2NhbGVTZXR0aW5ncy5sYW5ndWFnZSB8fCBzZWxmLmJhc2VDb25maWcuX2xvY2FsZVNldHRpbmdzLmxhbmd1YWdlLmxlbmd0aCA8PSAwIHx8IChzZWxmLmJhc2VDb25maWcuX2xvY2FsZVNldHRpbmdzLmxhbmd1YWdlICE9PSB0aGlzLmxhbmdDb2RlICYmIHRoaXMubGFuZ0NvZGUpKSB7XHJcbiAgICAgIHNlbGYuYmFzZUNvbmZpZy5fbG9jYWxlU2V0dGluZ3MubGFuZ3VhZ2UgPSB0aGlzLmxhbmdDb2RlIHx8ICdlbi11cyc7IC8vIHJlc2V0IHRvIGRlZmF1bHRcclxuICAgICAgQmFSZXBvcnRzTGFuZ3VhZ2UuX2luaXRpYWxpemUoc2VsZi5iYXNlQ29uZmlnLl9sb2NhbGVTZXR0aW5ncy5sYW5ndWFnZSk7XHJcbiAgICAgIHNlbGYuc2V0TG9jYWxlU3RyaW5ncygpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnRCeUlkLmNhbGwoc2VsZiwgc2VsZi5faW5wdXRJZCk7XHJcbiAgICBjb25zdCBpbnB1dEVsZW0gPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnQuY2FsbChzZWxmLCAnaW5wdXQnLCBzZWFyY2hJbnB1dCk7XHJcbiAgICBjb25zdCBkZEl0ZW1BbGwgPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnRCeUlkLmNhbGwoc2VsZiwgc2VsZi5fZHJvcEFsbGlkKTtcclxuICAgIGlmIChkZEl0ZW1BbGwpXHJcbiAgICAgIGRkSXRlbUFsbC5pbm5lclRleHQgPSBzZWxmLmxhYmVscy5kcm9wZG93bkFsbDtcclxuICAgIGNvbnN0IGRkSXRlbUxvYyA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbChzZWxmLCBzZWxmLl9kcm9wTG9jSWQpO1xyXG4gICAgaWYgKGRkSXRlbUxvYylcclxuICAgICAgZGRJdGVtTG9jLmlubmVyVGV4dCA9IHNlbGYubGFiZWxzLmRyb3Bkb3duTG9jYXRpb247XHJcbiAgICBjb25zdCBkZEl0ZW1CZHkgPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnRCeUlkLmNhbGwoc2VsZiwgc2VsZi5fZHJvcEJkeUlkKTtcclxuICAgIGlmIChkZEl0ZW1CZHkpXHJcbiAgICAgIGRkSXRlbUJkeS5pbm5lclRleHQgPSBzZWxmLmxhYmVscy5kcm9wZG93bkJvdW5kYXJ5O1xyXG4gICAgLy8gRXZlbnQgaGFuZGxlcnNcclxuICAgIGlmIChzZWFyY2hJbnB1dCkge1xyXG4gICAgICBsZXQgbGFiZWwgPSAnYWxsJztcclxuICAgICAgc3dpdGNoICh0aGlzLnN0U2VhcmNoU2NvcGUpIHtcclxuICAgICAgICBjYXNlICgnYWxsJyk6IHtcclxuICAgICAgICAgIGxhYmVsID0gc2VsZi5sYWJlbHMud2F0ZXJtYXJrQWxsO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgKCdhZGRyZXNzJyk6IHtcclxuICAgICAgICAgIGxhYmVsID0gc2VsZi5sYWJlbHMud2F0ZXJtYXJrTG9jYXRpb247XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSAoJ2JvdW5kYXJ5Jyk6IHtcclxuICAgICAgICAgIGxhYmVsID0gc2VsZi5sYWJlbHMud2F0ZXJtYXJrQm91bmRhcnk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgc2VhcmNoSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIGxhYmVsKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIF9rZXlEZWxheSgpIHtcclxuICAgICAgc2VsZi5iYVNlYXJjaEtleVRpbWVyID0gbnVsbDtcclxuICAgICAgY29uc3QgZWxlbSA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbChzZWxmLCBzZWxmLl9pbnB1dElkKTtcclxuICAgICAgc2VsZi5fbGFzdElucHV0VmFsdWUgPSBlbGVtLnZhbHVlO1xyXG4gICAgICBzZWxmLnBvcHVsYXRlU3VnZ2VzdGlvbnMoKTtcclxuICAgICAgLy8gb3BlbiB0b3AgYWNjb3JkaW9uXHJcbiAgICAgIGxldCBhY2MgPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnQuY2FsbChzZWxmLCAnYmEtYWNjb3JkaW9uJyk7XHJcbiAgICAgIGlmIChhY2MpIHsgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGFjYy5vcGVuQWNjb3JkaW9uKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIF9yZXNldElucHV0VGltZXIoKSB7XHJcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSAxMjAwO1xyXG4gICAgICBpZiAoc2VsZi5iYVNlYXJjaEtleVRpbWVyKSB7XHJcbiAgICAgICAgbGV0IHQgPSBzZWxmLmJhU2VhcmNoS2V5VGltZXI7XHJcbiAgICAgICAgc2VsZi5iYVNlYXJjaEtleVRpbWVyID0gbnVsbDtcclxuICAgICAgICBjbGVhclRpbWVvdXQodCk7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5iYVNlYXJjaEtleVRpbWVyID0gc2V0VGltZW91dChfa2V5RGVsYXksIHRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0RWxlbSkge1xyXG4gICAgICBpbnB1dEVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsICgpID0+IHsgc2VsZi5oaWRlU3VnZ2VzdGlvbnMobnVsbCk7IH0pO1xyXG4gICAgICBpbnB1dEVsZW0ub25jaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5wID0gQUNMVXRpbHMucXVlcnlFbGVtZW50QnlJZC5jYWxsKHRoaXMsIHRoaXMuX2lucHV0SWQpO1xyXG4gICAgICAgIGNvbnN0IHYgPSBpbnAudmFsdWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xhc3RJbnB1dFZhbHVlICE9IHYpIHtcclxuICAgICAgICAgIHNlbGYudG9nZ2xlU3VnZ2VzdGlvbnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbGFzdElucHV0VmFsdWUgPSB2O1xyXG4gICAgICB9O1xyXG4gICAgICBpbnB1dEVsZW0ub25rZXlkb3duID0gKGUpID0+IHtcclxuICAgICAgICAvLyBETyBOT1QgREVMRVRFIC0gRml4IGZvciBDYWxjaXRlIElzc3VlXHJcbiAgICAgICAgZnVuY3Rpb24gX3VpKCkge1xyXG4gICAgICAgICAgaWYgKGUua2V5ID09PSAnQmFja3NwYWNlJyB8fCBlLmtleSA9PT0gJ0RlbGV0ZScpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHRhcmdldD8udmFsdWUgJiYgdGFyZ2V0LnZhbHVlLmxlbmd0aCA+IDAgJiYgdGFyZ2V0LnNlbGVjdGlvblN0YXJ0ICE9IG51bGwgJiYgdGFyZ2V0LnNlbGVjdGlvbkVuZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB0YXJnZXQuc2VsZWN0aW9uU3RhcnQ7XHJcbiAgICAgICAgICAgICAgY29uc3QgZW5kID0gdGFyZ2V0LnNlbGVjdGlvbkVuZDtcclxuICAgICAgICAgICAgICBjb25zdCBuZXdWYWwgPSBzdGFydCA9PT0gZW5kXHJcbiAgICAgICAgICAgICAgICA/IHRhcmdldC52YWx1ZS5zbGljZSgwLCBzdGFydCAtIDEpICsgdGFyZ2V0LnZhbHVlLnNsaWNlKHN0YXJ0KVxyXG4gICAgICAgICAgICAgICAgOiB0YXJnZXQudmFsdWUuc2xpY2UoMCwgc3RhcnQpICsgdGFyZ2V0LnZhbHVlLnNsaWNlKGVuZCk7XHJcbiAgICAgICAgICAgICAgdGFyZ2V0LnZhbHVlID0gbmV3VmFsO1xyXG4gICAgICAgICAgICAgIHRhcmdldC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gZW5kKVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKHN0YXJ0IC0gMSwgc3RhcnQgLSAxKTtcclxuICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQgKyAxLCBzdGFydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3Jlc2V0SW5wdXRUaW1lcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KF91aSwgMCk7XHJcbiAgICAgIH07XHJcbiAgICAgIGlucHV0RWxlbS5vbmtleXVwID0gKCkgPT4ge1xyXG4gICAgICAgIGZ1bmN0aW9uIF91aSgpIHtcclxuICAgICAgICAgIHNlbGYuaGlkZURyb3Bkb3duKCk7XHJcbiAgICAgICAgICBfcmVzZXRJbnB1dFRpbWVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFRpbWVvdXQoX3VpLCAwKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uT3BlbkRyb3Bkb3duKCkge1xyXG4gICAgICBzZWxmLnJlc2V0VUkoZmFsc2UsIHRydWUpO1xyXG4gICAgICAvLyBzZWxmLnNob3dEcm9wZG93bigpXHJcbiAgICB9XHJcbiAgICBsZXQgZWxlbSA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbChzZWxmLCBzZWxmLl9kcm9wZG93bklkKTtcclxuICAgIGlmIChlbGVtKVxyXG4gICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbGNpdGVEcm9wZG93bk9wZW4nLCBvbk9wZW5Ecm9wZG93bik7XHJcbiAgICBpZiAoc2VsZi5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIHNlbGYuYmFzZUNvbmZpZy5vbkNvbXBvbmVudEhhc1JlbmRlcmVkKCk7XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2VsZi5hcHBseUNzc0FuZFRoZW1lVG9fU3VnZ2VzdGlvbnMoKTtcclxuICAgIH0sIDApO1xyXG4gIH1cclxuICBjb21wb25lbnRXaWxsUmVuZGVyKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjZmdUeXBlID0gc2VsZi5iYXNlQ29uZmlnLmNvbmZpZy5iYVNlYXJjaFR5cGU7XHJcbiAgICAgIGlmIChjZmdUeXBlKSB7XHJcbiAgICAgICAgY29uc3QgY2ZnU2NvcGUgPSBzZWxmLl9zZWFyY2hUeXBlQ29udltjZmdUeXBlXTtcclxuICAgICAgICBpZiAoY2ZnU2NvcGUgIT0gc2VsZi5zdFNlYXJjaFNjb3BlICYmICFzZWxmLl9zZWFyY2hTY29wZURyb3BEb3duU2VsZWN0ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IGFsbG93UmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgc2VsZi5zeW5jU2VhcmNoU2NvcGVGcm9tQ29uZmlnKGFsbG93UmVzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGV4KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJvcjogc2VhcmNoIGhhcyBpbnZhbGlkIGNvbmZpZyBiYVNlYXJjaFR5cGUnLCBleCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFN0ZW5jaWwgbGlmZWN5Y2xlIC0gY2FsbGVkIGp1c3QgYWZ0ZXIgY29tcG9uZW50IHVwZGF0ZXMsIGJ1dCBub3QgY2FsbGVkIGR1cmluZyBmaXJzdCByZW5kZXIoKVxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgaWYgKHNlbGYuYmFzZUNvbmZpZykge1xyXG4gICAgICBzZWxmLmJhc2VDb25maWcub25Db21wb25lbnRIYXNSZW5kZXJlZCgpO1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNmZ1R5cGUgPSBzZWxmLmJhc2VDb25maWcuY29uZmlnLmJhU2VhcmNoVHlwZVxyXG4gICAgICBpZiAoY2ZnVHlwZSkge1xyXG4gICAgICAgIGNvbnN0IGNmZ1Njb3BlID0gc2VsZi5fc2VhcmNoVHlwZUNvbnZbY2ZnVHlwZSBhcyBudW1iZXJdXHJcbiAgICAgICAgaWYgKGNmZ1Njb3BlICE9IHNlbGYuc3RTZWFyY2hTY29wZSkge1xyXG4gICAgICAgICAgY29uc3QgYWxsb3dSZXNldCA9IHRydWVcclxuICAgICAgICAgIHNlbGYuc3luY1NlYXJjaFNjb3BlRnJvbUNvbmZpZyhhbGxvd1Jlc2V0KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiBzZWFyY2ggaGFzIGludmFsaWQgY29uZmlnIGJhU2VhcmNoVHlwZScsIGV4KVxyXG4gICAgfSovXHJcbiAgfVxyXG4gIGhhbmRsZVNlYXJjaFNjb3BlU2VsZWN0aW9uKHNjb3BlKSB7XHJcbiAgICB0aGlzLnN0U2VhcmNoU2NvcGUgPSBzY29wZTtcclxuICAgIHRoaXMuX3NlYXJjaFNjb3BlRHJvcERvd25TZWxlY3RlZCA9IHRydWU7XHJcbiAgICB0aGlzLnN1Z2dlc3Rpb25SZXN1bHRzID0geyBsb2NhdGlvbjogW10sIGJvdW5kYXJ5OiBbXSB9O1xyXG4gICAgdGhpcy5mb2N1c0lucHV0KCk7XHJcbiAgfVxyXG4gIGhhbmRsZUxvY2F0aW9uU2VsZWN0aW9uKGUsIGRhdGEpIHtcclxuICAgIGRhdGEuY29udGV4dC5vbkNsaWNrTG9jYXRpb25TdWdnZXN0aW9uSXRlbShkYXRhLml0ZW0pO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgcmVuZGVyTG9jYXRpb25TdWdnZXN0aW9ucygpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgY29uc3QgaWNvblN0eWxlID0ge1xyXG4gICAgICAncGFkZGluZy1yaWdodCc6ICcwJyxcclxuICAgICAgJ3BhZGRpbmctbGVmdCc6ICc1cHgnXHJcbiAgICB9O1xyXG4gICAgaWYgKChzZWxmLnN0U2VhcmNoU2NvcGUgPT0gJ2FkZHJlc3MnIHx8IHNlbGYuc3RTZWFyY2hTY29wZSA9PSAnYWxsJykgJiYgc2VsZi5zdWdnZXN0aW9uUmVzdWx0cz8ubG9jYXRpb24gJiYgc2VsZi5zdWdnZXN0aW9uUmVzdWx0cy5sb2NhdGlvbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiAoaCRuKFwiY2FsY2l0ZS1saXN0XCIsIG51bGwsIHRoaXMuc3VnZ2VzdGlvblJlc3VsdHMubG9jYXRpb24ubWFwKGl0ZW0gPT4gaCRuKFwiY2FsY2l0ZS1saXN0LWl0ZW1cIiwgeyB2YWx1ZTogaXRlbS5tYWdpY0tleSwgbGFiZWw6IGl0ZW0udGV4dCwgb25jbGljazogKGUpID0+IHNlbGYuaGFuZGxlTG9jYXRpb25TZWxlY3Rpb24oZSwgeyBjb250ZXh0OiBzZWxmLCBpdGVtOiBpdGVtIH0pIH0sIGgkbihcImNhbGNpdGUtaWNvblwiLCB7IHN0eWxlOiBpY29uU3R5bGUsIGljb246IFwicGluXCIsIHNjYWxlOiBcInNcIiwgc2xvdDogXCJjb250ZW50LXN0YXJ0XCIgfSkpKSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiAoaCRuKFwidWxcIiwgeyBjbGFzczogJ2JhU2VhcmNoU3VnZ2VzdGlvbnNVbCcgfSkpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZW5kZXJCb3VuZGFyeVN1Z2dlc3Rpb25zKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAvKiAgYmEtYWNjb3JkaW9uIGZvcm1hdFxyXG4gICAgIGV4cG9ydCBpbnRlcmZhY2UgQWNjb3JkaW9uSXRlbSB7XHJcbiAgICAgaWQ6IHN0cmluZztcclxuICAgICBpbmxpbmVTdmdJY29uPzogc3RyaW5nO1xyXG4gICAgIG5hbWU6IHN0cmluZztcclxuICAgICBzdWJUZXh0Pzogc3RyaW5nO1xyXG4gICAgIHVzZXNQaW4/OiBib29sZWFuO1xyXG4gICAgIGlzUGlubmVkPzogYm9vbGVhbjtcclxuICAgICB1c2VzQ2hlY2tib3g/OiBib29sZWFuO1xyXG4gICAgIGlzQ2hlY2tlZD86IGJvb2xlYW47XHJcbiAgICAgfVxyXG4gICAgICovXHJcbiAgICBpZiAoKHNlbGYuc3RTZWFyY2hTY29wZSA9PSAnYm91bmRhcnknIHx8IHNlbGYuc3RTZWFyY2hTY29wZSA9PSAnYWxsJylcclxuICAgICAgJiYgc2VsZi5zdWdnZXN0aW9uUmVzdWx0cz8uYm91bmRhcnlcclxuICAgICAgJiYgc2VsZi5zdWdnZXN0aW9uUmVzdWx0cy5ib3VuZGFyeS5sZW5ndGggPiAwXHJcbiAgICAgICYmIHNlbGYuc3VnZ2VzdGlvblJlc3VsdHMuYm91bmRhcnlbMF0uYXR0cmlidXRlc1xyXG4gICAgICAmJiBzZWxmLnN1Z2dlc3Rpb25SZXN1bHRzLmJvdW5kYXJ5WzBdLmF0dHJpYnV0ZXMuRGF0YUxheWVySUQpIHtcclxuICAgICAgbGV0IGxldmVscyA9IHt9O1xyXG4gICAgICAvLyBCdWlsZCB0aGUgZGF0YSBmb3IgdGhlIGFjY29yZGlvbiBsaXN0c1xyXG4gICAgICAvLyBTdGFydCBieSBjYXB0dXJpbmcgYWxsIHRoZSBsZXZlbHMvYWNjb3JkaW9uc1xyXG4gICAgICAvKlxyXG4gICAgICAgKiBsZXZlbHMgPT4gaW5kZXggb2YgRGF0YUxheWVyIHR5cGVzIGJ5IG5hbWVcclxuICAgICAgICogIEVhY2ggbGV2ZWwgaXMgYW4gYXJyYXkgb2YgcmVjb3JkcyB0aGF0IGZvcm0gdGhlXHJcbiAgICAgICAqICBjb250ZW50IG9mIHRoZSBwYXJ0aWN1bGFyIGFjY29yZGlvblxyXG4gICAgICAgKi9cclxuICAgICAgbGV0IHJlY29yZCwgbGV2ZWxOYW1lO1xyXG4gICAgICAvLyBDYXRlZ29yaXplIHRoZSByZXN1bHRzIGJ5IERhdGFMYXllcklEXHJcbiAgICAgIC8qXHJcbiAgICAgICAqIGxldmVsID0ge1xyXG4gICAgICAgKiAgICBhdmVTY29yZTo8YXZlcmFnZSBzY29yZSBmb3IgYWxsIHJlY29yZHMgaW4gbGV2ZWw+LFxyXG4gICAgICAgKiAgICByZWNvcmRzOiA8c2VhcmNoIHJlc3VsdCByZWNvcmRzIGZvciB0aGUgbGV2ZWw+XHJcbiAgICAgICAqICB9XHJcbiAgICAgICAqL1xyXG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc2VsZi5zdWdnZXN0aW9uUmVzdWx0cy5ib3VuZGFyeS5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmVjb3JkID0gc2VsZi5zdWdnZXN0aW9uUmVzdWx0cy5ib3VuZGFyeVtpaV07XHJcbiAgICAgICAgICBsZXZlbE5hbWUgPSByZWNvcmQuYXR0cmlidXRlcy5EYXRhTGF5ZXJJRDtcclxuICAgICAgICAgIGlmIChBQ0xVdGlscy5oYXNUZXh0KGxldmVsTmFtZSkpIHtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIGx2bCBpZiBuZWVkZWRcclxuICAgICAgICAgICAgaWYgKCFsZXZlbHNbbGV2ZWxOYW1lXSkge1xyXG4gICAgICAgICAgICAgIGxldmVsc1tsZXZlbE5hbWVdID0geyBhdmVTY29yZTogbnVsbCwgcmVjb3JkczogW10gfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgc2NvcmUgPSAnICAgU2NvcmU6JyArIHJlY29yZC5hdHRyaWJ1dGVzLlNjb3JlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBzdWIgPSByZWNvcmQuYXR0cmlidXRlcy5Db3VudHJ5QWJiciArICcvJyArIHJlY29yZC5hdHRyaWJ1dGVzLk1ham9yU3ViZGl2aXNpb25OYW1lICsgJy8nICsgcmVjb3JkLmF0dHJpYnV0ZXMuQXJlYUlEICsgc2NvcmU7XHJcbiAgICAgICAgICAgIC8vIGFkZCBzZWFyY2ggcmVzdWx0IHJlY29yZCB0byB0aGUgbGV2ZWwgdXNpbmcgdGhlIGJhLWFjY29yZGlvbidzIEFjY29yZGlvbkl0ZW0gaW50ZXJmYWNlXHJcbiAgICAgICAgICAgIC8vIG9uY2UgYWxsIHRoZSByZWNvcmRzIGFyZSBhZGRlZCB0byBlYWNoIERhdGFMYXllcklEIGxldmVsLCB3ZSBwYXNzIHRoZSBkYXRhIHRvIHRoZSBiYS1hY2NvcmRpb24gY29tcG9uZW50XHJcbiAgICAgICAgICAgIC8vIHRoYXQgd2lsbCByZW5kZXIgdGhlIGxpc3QuXHJcbiAgICAgICAgICAgIGxldCByZWMgPSB7XHJcbiAgICAgICAgICAgICAgaWQ6IHJlY29yZC5hdHRyaWJ1dGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgICAgIGFyZWFJZDogcmVjb3JkLmF0dHJpYnV0ZXMuQXJlYUlELFxyXG4gICAgICAgICAgICAgIG5hbWU6IHJlY29yZC5hdHRyaWJ1dGVzLkFyZWFOYW1lLFxyXG4gICAgICAgICAgICAgIG1ham9yOiByZWNvcmQuYXR0cmlidXRlcy5NYWpvclN1YmRpdmlzaW9uQWJicixcclxuICAgICAgICAgICAgICBzdWJUZXh0OiBzdWIsXHJcbiAgICAgICAgICAgICAgc2NvcmU6IHJlY29yZC5hdHRyaWJ1dGVzLlNjb3JlLFxyXG4gICAgICAgICAgICAgIGlzWmlwY29kZTogcmVjb3JkLmF0dHJpYnV0ZXMuRGF0YUxheWVySUQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnemlwJylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbGV2ZWxzW2xldmVsTmFtZV0ucmVjb3Jkcy5wdXNoKHJlYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChleCkge1xyXG4gICAgICAgICAgTG9nei5zaG93KFwiJWVcIiwgJ2FyY2dpcy1iYS1zZWFyY2ggZXJyb3InLCBleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIEFsbCB0aGUgYWNjb3JkaW9ucyBmb3IgdGhlc2UgcmVzdWx0cyBhcmUgYXNzaWduZWQgdG8gYSB1bmlxdWUgZ3JvdXAgaWRcclxuICAgICAgLy8gZm9yIHRvZ2dsaW5nIG9wZW4vY2xvc2UgYmVoYXZpb3JcclxuICAgICAgbGV0IGdyb3VwSWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgcmV0dXJuIHNlbGYucmVuZGVyU3RkR2VvZ3JhcGh5TGV2ZWxMaXN0cyhsZXZlbHMsIGdyb3VwSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBfZ2V0QWNjb3JkaW9uVGl0bGUoZGlzcGxheU5hbWUpIHtcclxuICAgIGxldCB0aXRsZSA9IGRpc3BsYXlOYW1lO1xyXG4gICAgaWYgKHRoaXMuX2dlb2dyYXBoeUxldmVsRGF0YSkge1xyXG4gICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy5fZ2VvZ3JhcGh5TGV2ZWxEYXRhLmxlbmd0aDsgaWkrKykge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9nZW9ncmFwaHlMZXZlbERhdGFbaWldO1xyXG4gICAgICAgIGNvbnN0IGxldmVsSWQgPSBpdGVtLmlkO1xyXG4gICAgICAgIGlmIChkaXNwbGF5TmFtZSA9PSBsZXZlbElkICYmIEFDTFV0aWxzLmhhc1RleHQoaXRlbS5uYW1lKSkge1xyXG4gICAgICAgICAgdGl0bGUgPSBpdGVtLm5hbWU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aXRsZTtcclxuICB9XHJcbiAgcmVuZGVyU3RkR2VvZ3JhcGh5TGV2ZWxBY2NvcmRpb24oZGlzcGxheU5hbWUsIGxldmVsLCBncm91cElkKSB7XHJcbiAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgIGlmIChsZXZlbC5yZWNvcmRzICYmIGxldmVsLnJlY29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAvLyBzb3J0IHRoaXMgbGV2ZWwgcmVjb3JkcyBieSBzY29yZSAoZGVzY2VuZGluZylcclxuICAgICAgbGV0IHNvcnRlZFJlY29yZHMgPSBsZXZlbC5yZWNvcmRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAoYS5zY29yZSA9PSBudWxsKVxyXG4gICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgaWYgKGIuc2NvcmUgPT0gbnVsbClcclxuICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIHJldHVybiBiLnNjb3JlIC0gYS5zY29yZTtcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIGxpbWl0IGxldmVsIHJlY29yZHMgdG8gYSBmaXhlZCBtYXhpbXVtIGNvdW50XHJcbiAgICAgIGNvbnN0IGFjY29yZGlvblJlY29yZExpbWl0ID0gMTAwO1xyXG4gICAgICBjb25zdCBsaW1pdGVkUmVjb3JkcyA9IHNvcnRlZFJlY29yZHMuc2xpY2UoMCwgYWNjb3JkaW9uUmVjb3JkTGltaXQpO1xyXG4gICAgICAvLyBCdWlsZCB0aGUgYWNjb3JkaW9uIGNvbnRlbnRcclxuICAgICAgLy9cclxuICAgICAgLy8gZXhwb3J0IGludGVyZmFjZSBBY2NvcmRpb25JdGVtIHtcclxuICAgICAgLy8gICBpZDogc3RyaW5nO1xyXG4gICAgICAvLyAgIGlubGluZVN2Z0ljb24/OiBzdHJpbmc7XHJcbiAgICAgIC8vICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICAvLyAgIHN1YlRleHQ/OiBzdHJpbmc7XHJcbiAgICAgIC8vICAgdXNlc1Bpbj86IGJvb2xlYW47XHJcbiAgICAgIC8vICAgaXNQaW5uZWQ/OiBib29sZWFuO1xyXG4gICAgICAvLyAgIHVzZXNDaGVja2JveD86IGJvb2xlYW47XHJcbiAgICAgIC8vICAgaXNDaGVja2VkPzogYm9vbGVhbjtcclxuICAgICAgLy8gfVxyXG4gICAgICBsZXQgYXJyID0gW107XHJcbiAgICAgIGxpbWl0ZWRSZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBjb25zdCBzdWZmaXggPSAnLCAnICsgaXRlbS5tYWpvcjtcclxuICAgICAgICBjb25zdCBoYXNNYWpvciA9IChpdGVtLm5hbWUuaW5jbHVkZXMoc3VmZml4KSk7XHJcbiAgICAgICAgY29uc3Qgc3RyTWFqb3IgPSAoaGFzTWFqb3IpID8gJycgOiBzdWZmaXg7XHJcbiAgICAgICAgY29uc3Qgc3BlY2lhbE5hbWluZyA9IChpdGVtLmlzWmlwY29kZSAmJiAoc2VsZi5zb3VyY2VDb3VudHJ5ID09ICdVUycgfHwgc2VsZi5zb3VyY2VDb3VudHJ5ID09PSAnUFInKSk7XHJcbiAgICAgICAgY29uc3QgaXNOb25VUyA9ICEoc2VsZi5zb3VyY2VDb3VudHJ5ID09ICdVUycgfHwgc2VsZi5zb3VyY2VDb3VudHJ5ID09PSAnUFInKTtcclxuICAgICAgICAvLyBGb3IgVVMvUFIgemlwIGNvZGVzIEFORCByZXN0IG9mIHdvcmxkIHdlIGRvIFwiSUQgKG5hbWUpXCIsIGVsc2UgZm9yIFVTL1BSIChub24gemlwY29kZSkgd2UgZG8gXCJuYW1lLCBtYWpvclwiXHJcbiAgICAgICAgY29uc3QgbmFtZSA9IChzcGVjaWFsTmFtaW5nIHx8IGlzTm9uVVMpID8gaXRlbS5hcmVhSWQgKyAnICgnICsgaXRlbS5uYW1lICsgJyknIDogaXRlbS5uYW1lICsgc3RyTWFqb3I7XHJcbiAgICAgICAgYXJyLnB1c2goe1xyXG4gICAgICAgICAgaWQ6IGl0ZW0uaWQsXHJcbiAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgc3ViVGV4dDogKGl0ZW0uc3ViVGV4dCkgfHwgJycsXHJcbiAgICAgICAgICBzY29yZTogaXRlbS5zY29yZSxcclxuICAgICAgICAgIGljb246ICdwb2x5Z29uLWFyZWEnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoYXJyKTtcclxuICAgICAgY29uc3Qgc3VnZ2VzdExpdGUgPSAodHlwZW9mIHRoaXMuc3RTdWdsaXRlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zdFN1Z2xpdGUgIT09IGZhbHNlKSA/ICd0cnVlJyA6ICdmYWxzZSc7XHJcbiAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5fZ2V0QWNjb3JkaW9uVGl0bGUoZGlzcGxheU5hbWUpO1xyXG4gICAgICAvLyBjcmVhdGUgYW4gYWNjb3JkaW9uIGZvciB0aGlzIGxldmVsIHdpdGggYWxsIHJlY29yZHNcclxuICAgICAgcmV0dXJuIChoJG4oXCJiYS1hY2NvcmRpb25cIiwgeyBzdWdsaXRlOiBzdWdnZXN0TGl0ZSwgZ3JvdXBpZDogZ3JvdXBJZCwgY2FsY2l0ZWljb246ICdwb2x5Z29uLWFyZWEnLCBkaXNwbGF5bmFtZTogdGl0bGUsIGNvbnRlbnQ6IGNvbnRlbnQgfSkpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjYWxjdWxhdGVMZXZlbEF2ZXJhZ2VTY29yZXMobGV2ZWxzKSB7XHJcbiAgICAvLyBUaGlzIHdpbGwgYXNzaWduIGFuICdhdmVTY29yZScgdmFsdWUgZm9yIGV2ZXJ5IEhpZXJhcmNoeSBMZXZlbC5cclxuICAgIC8vIExldmVscyB0aGF0IGFyZSBlbXB0eSB3aWxsIGJlIGFzc2lnbmVkIGEgJ251bGwnIHNjb3JlLlxyXG4gICAgbGV0IGtleXMgPSBBQ0xVdGlscy5nZXRLZXlzKGxldmVscyk7XHJcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwga2V5cy5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgbGV0IGx2bCA9IGxldmVsc1trZXlzW2lpXV07XHJcbiAgICAgIGlmICghbHZsLnJlY29yZHMgfHwgbHZsLnJlY29yZHMubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICBsdmwuYXZlU2NvcmUgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBsdmwucmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHtcclxuICAgICAgICAgIHRvdGFsICs9IHJlY29yZC5zY29yZTtcclxuICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbHZsLmF2ZVNjb3JlID0gdG90YWwgLyBjb3VudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZW5kZXJTdGRHZW9ncmFwaHlMZXZlbExpc3RzKGxldmVscywgZ3JvdXBJZCkge1xyXG4gICAgbGV0IGFjY29yZGlvbnMgPSBbXTtcclxuICAgIGxldCBrZXlzID0gQUNMVXRpbHMuZ2V0S2V5cyhsZXZlbHMpO1xyXG4gICAgaWYgKGtleXMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLmNhbGN1bGF0ZUxldmVsQXZlcmFnZVNjb3JlcyhsZXZlbHMpO1xyXG4gICAgICAvLyBzb3J0IGxldmVscyBieSBjb250ZW50IG92ZXJhbGwgcmVjb3JkIHNjb3JlIGF2ZXJhZ2VzLlxyXG4gICAgICAvLyBBY2NvdW50IGZvciB0aGUgcG9zc2liaWxpdHkgb2YgbnVsbCBhdmVTY29yZVxyXG4gICAgICBsZXQgc0tleXMgPSBrZXlzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAobGV2ZWxzW2FdLmF2ZVNjb3JlID09IG51bGwpXHJcbiAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICBpZiAobGV2ZWxzW2JdLmF2ZVNjb3JlID09IG51bGwpXHJcbiAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICByZXR1cm4gbGV2ZWxzW2JdLmF2ZVNjb3JlIC0gbGV2ZWxzW2FdLmF2ZVNjb3JlO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gR2VuZXJhdGUgQWNjb3JkaW9ucyBmb3IgZWFjaCBib3VuZGFyeSB0eXBlXHJcbiAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBzS2V5cy5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgICBsZXQgbHZsID0gbGV2ZWxzW3NLZXlzW2lpXV07XHJcbiAgICAgICAgaWYgKGx2bC5hdmVTY29yZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICBhY2NvcmRpb25zLnB1c2godGhpcy5yZW5kZXJTdGRHZW9ncmFwaHlMZXZlbEFjY29yZGlvbihzS2V5c1tpaV0sIGx2bCwgZ3JvdXBJZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYWNjb3JkaW9ucyAmJiBhY2NvcmRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXR1cm4gKGgkbihcImRpdlwiLCB7IGNsYXNzOiAnYmEtc2VhcmNoLWJvdW5kYXJ5LXR5cGVzJyB9LCBhY2NvcmRpb25zKSk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChoJG4oXCJkaXZcIiwgbnVsbCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vICBIaWRlIGFsbCBkcm9wZG93biBtZW51c1xyXG4gIGhpZGVEcm9wZG93bigpIHtcclxuICAgIGxldCBlbGVtID0gQUNMVXRpbHMucXVlcnlFbGVtZW50QnlJZC5jYWxsKHRoaXMsIHRoaXMuX2Ryb3Bkb3duSWQpO1xyXG4gICAgaWYgKGVsZW0pIHtcclxuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnZmFsc2UnKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gIEhpZGUgYWxsIGRyb3Bkb3duIG1lbnVzXHJcbiAgc2hvd0Ryb3Bkb3duKCkge1xyXG4gICAgbGV0IGVsZW0gPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnRCeUlkLmNhbGwodGhpcywgdGhpcy5fZHJvcGRvd25JZCk7XHJcbiAgICBpZiAoZWxlbSkge1xyXG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnb3BlbicsICd0cnVlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgLy8gSW5pdGlhdGUgZHJvcGRvd25cclxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgdG9nZ2xlRHJvcGRvd24oKSB7XHJcbiAgICBsZXQgZWxlbSA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbCh0aGlzLCB0aGlzLl9kcm9wZG93bklkKTtcclxuICAgIGlmICghZWxlbSkge1xyXG4gICAgICB0aGlzLl9kZWJ1ZygnYXJjZ2lzLWJhLXNlYXJjaDogbWlzc2luZyBkcm9wZG93bi4uLicsIHRoaXMuX2Ryb3Bkb3duSWQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IGVsZW0uZ2V0QXR0cmlidXRlKCdvcGVuJykgPT0gJ3RydWUnO1xyXG4gICAgICBpZiAoaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgdGhpcy5oaWRlRHJvcGRvd24oKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB0aGlzLmhpZGVTdWdnZXN0aW9ucyhudWxsKTtcclxuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnb3BlbicsICd0cnVlJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGlucCA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbCh0aGlzLCB0aGlzLl9pbnB1dElkKTtcclxuICAgIGlucC52YWx1ZSA9ICcnO1xyXG4gIH1cclxuICB0b2dnbGVTdWdnZXN0aW9ucygpIHtcclxuICAgIGNvbnN0IGVsZW0gPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnRCeUlkLmNhbGwodGhpcywgdGhpcy5fc3VnZ2VzdElkKTtcclxuICAgIGlmIChlbGVtKSB7XHJcbiAgICAgIGlmIChlbGVtLnN0eWxlLm1heEhlaWdodCA9PSAnMCcpXHJcbiAgICAgICAgdGhpcy5zaG93U3VnZ2VzdGlvbnMoZWxlbSk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB0aGlzLmhpZGVTdWdnZXN0aW9ucyhlbGVtKTtcclxuICAgIH1cclxuICB9XHJcbiAgYXBwbHlDc3NBbmRUaGVtZVRvX1N1Z2dlc3Rpb25zKCkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gQUNMVXRpbHMuYXBwbHlDc3MuY2FsbChzZWxmLCBbWydiYWNrZ3JvdW5kLWNvbG9yJywgJyMyODI4MjgnXSwgWydjb2xvcicsICcjZjRmM2YzJ11dLCB7IHNlbGVjdG9yOiAnZGl2LmJhU2VhcmNoU3VnZ2VzdGlvbnNPdXRlcicgfSlcclxuICAgIGxldCBpdGVtcyA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEFsbC5jYWxsKHNlbGYsICdjYWxjaXRlLWRyb3Bkb3duLWl0ZW0nKTtcclxuICAgIGlmIChpdGVtcyAmJiBpdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICBsZXQgZWxlbSA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudC5jYWxsKHNlbGYsICdkaXYuY29udGFpbmVyJywgaSk7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5wYWRkaW5nTGVmdCA9ICc0cHgnO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgYXBwbHlDc3NBbmRUaGVtZVRvX1NlYXJjaCgpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gc3luYyB0aGUgY29uZmlnIGZvciB0aGUgMXN0IHRpbWUgdGhpcyBjb21wb25lbnQgcmVuZGVycy4gIEFmdGVyIHRoYXRcclxuICAgIC8vIGl0IHVzZXMgdGhlIEB3YXRjaCBmdW5jdGlvblxyXG4gICAgaWYgKHRoaXMuY29uZmlnICYmIEFDTFV0aWxzLmhhc1RleHQodGhpcy5jb25maWcpICYmICF0aGlzLmJhc2VDb25maWcuY29uZmlnKSB7XHJcbiAgICAgIC8vIGluaXRpYWxpemUgb3VyIGNvbmZpZyBvYmplY3RcclxuICAgICAgdGhpcy5vbkNvbmZpZ0NoYW5nZSh0aGlzLmNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICAvLyBDU1MgYWRqdXN0bWVudHMgdG8gc2hhZG93IGRvbSBlbGVtZW50IHN0eWxlc1xyXG4gICAgQUNMVXRpbHMuYXBwbHlDc3MuY2FsbChzZWxmLCBbWydwYWRkaW5nTGVmdCcsICc0cHgnXV0sIHtcclxuICAgICAgaWQ6IEFDTFV0aWxzLmZpeElkKHNlbGYuX2Ryb3BMb2NJZCksXHJcbiAgICAgIHN1YlNlbGVjdG9yOiAnZGl2LmNvbnRhaW5lcidcclxuICAgIH0pO1xyXG4gICAgLy8gQUNMVXRpbHMuYXBwbHlDc3MuY2FsbChzZWxmLCBbWydwYWRkaW5nTGVmdCcsICc0cHgnXV0sIHtcclxuICAgIC8vICAgaWQ6IEFDTFV0aWxzLmZpeElkKHNlbGYuX2Ryb3BCZHlJZCksXHJcbiAgICAvLyAgIHN1YlNlbGVjdG9yOiAnZGl2LmNvbnRhaW5lcidcclxuICAgIC8vIH0pXHJcbiAgICAvLyBjb25zdCBiZ0NvbG9yOiBzdHJpbmcgPSB0aGlzLmNvbG9ycz8uYmFja2dyb3VuZCBhcyBzdHJpbmcgfCAndHJhbnNwYXJlbnQnO1xyXG4gICAgLy8gQUNMVXRpbHMuYXBwbHlDc3MuY2FsbChzZWxmLCBbWydtYXJnaW4tdG9wJywgJzFweCddXSwge1xyXG4gICAgLy8gICBzZWxlY3RvcjogJ2NhbGNpdGUtaW5wdXQnLFxyXG4gICAgLy8gICBzdWJTZWxlY3RvcjogJ2J1dHRvbidcclxuICAgIC8vIH0pXHJcbiAgICBBQ0xVdGlscy5hcHBseUNzcy5jYWxsKHNlbGYsIFtbJ2ZvbnRTaXplJywgJzlwdCddXSwge1xyXG4gICAgICBzZWxlY3RvcjogJ2NhbGNpdGUtZHJvcGRvd24taXRlbScsXHJcbiAgICAgIHN1YlNlbGVjdG9yOiAnZGl2LmNvbnRhaW5lcidcclxuICAgIH0pO1xyXG4gICAgQUNMVXRpbHMuYXBwbHlDc3MuY2FsbChzZWxmLCBbWydtaW5XaWR0aCcsICcyMTJweCddXSwgeyBzZWxlY3RvcjogJ2NhbGNpdGUtZHJvcGRvd24tZ3JvdXAnIH0pO1xyXG4gIH1cclxuICBzaG93U3VnZ2VzdGlvbnMoZWxlbSkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgZWxlbSA9IGVsZW0gfHwgQUNMVXRpbHMucXVlcnlFbGVtZW50QnlJZC5jYWxsKHNlbGYsIHNlbGYuX3N1Z2dlc3RJZCk7XHJcbiAgICBpZiAoZWxlbSkge1xyXG4gICAgICBjb25zdCBzdWdnZXN0SGVpZ2h0ID0gKHR5cGVvZiBzZWxmLnN0TWF4U3VnZ2VzdGlvbkhlaWdodCAhPT0gdW5kZWZpbmVkKSA/IHNlbGYuc3RNYXhTdWdnZXN0aW9uSGVpZ2h0IDogMzAwO1xyXG4gICAgICBjb25zdCBzdWdnZXN0U3RyID0gc3VnZ2VzdEhlaWdodCArICdweCc7XHJcbiAgICAgIGVsZW0uc3R5bGUubWF4SGVpZ2h0ID0gc3VnZ2VzdFN0cjtcclxuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgLy8gY2hhbmdlIHRoZSBiYWNrZ3JvdW5kIHN0eWxlIG9mIGNhbGNpdGUgJ2NsZWFyJyBidXR0b25cclxuICAgICAgbGV0IGlucHV0ID0gQUNMVXRpbHMucXVlcnlFbGVtZW50QnlJZC5jYWxsKHNlbGYsIEFDTFV0aWxzLmZpeElkKHNlbGYuX2lucHV0SWQpKTtcclxuICAgICAgbGV0IGJ0biA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudC5jYWxsKHNlbGYsICdidXR0b24uY2FsY2l0ZS1pbnB1dF9fY2xlYXItYnV0dG9uJywgaW5wdXQpO1xyXG4gICAgICBpZiAoYnRuKSB7XHJcbiAgICAgICAgYnRuLnN0eWxlLmJvcmRlciA9ICdub25lJztcclxuICAgICAgICBidG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JztcclxuICAgICAgfVxyXG4gICAgICAvLyBUT0RPOiBjaGFuZ2Ugc3VnZ2VzdGlvbiB3aWR0aCB0byBmdWxsIHNlYXJjaCB3aWR0aCBmb3IgYWxsIHRoZW1lc1xyXG4gICAgICAvLyAodGhlIGZvbGxvd2luZyBpcyBleHBlcmllbmNlIGJ1aWxkZXIgY3VzdG9taXphdGlvbilcclxuICAgICAgLy8gaWYgKHNlbGYuc3RDb2xvclRoZW1lID09ICdsaWdodCcpIHtcclxuICAgICAgLy8gICBmdW5jdGlvbiBfYWZ0ZXIoKSB7XHJcbiAgICAgIC8vICAgICAvLyBmdWxsIHdpZHRoIHN1Z2dlc3Rpb25zXHJcbiAgICAgIC8vICAgfVxyXG4gICAgICAvLyAgIHNldFRpbWVvdXQoX2FmdGVyLCAwKVxyXG4gICAgICAvLyB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGhpZGVTdWdnZXN0aW9ucyhlbGVtKSB7XHJcbiAgICBpZiAoIWVsZW0pXHJcbiAgICAgIGVsZW0gPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnRCeUlkLmNhbGwodGhpcywgdGhpcy5fc3VnZ2VzdElkKTtcclxuICAgIGlmIChlbGVtICYmIGVsZW0uc3R5bGUubWF4SGVpZ2h0ICE9ICcwJykge1xyXG4gICAgICBlbGVtLnN0eWxlLm1heEhlaWdodCA9ICcwJztcclxuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gIH1cclxuICBhc3luYyBwb3B1bGF0ZVN1Z2dlc3Rpb25zKCkge1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnN1Z2dlc3Rpb25SZXN1bHRzID0geyBsb2NhdGlvbjogW10sIGJvdW5kYXJ5OiBbXSB9O1xyXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB7IGxvY2F0aW9uOiBbXSwgYm91bmRhcnk6IFtdIH07XHJcbiAgICBpZiAoIXNlbGYudG9rZW4gfHwgIXNlbGYudXNlcm5hbWUpIHtcclxuICAgICAgTG9nei5zaG93KCclZXgnLCAnYXJjZ2lzLWJhLXNlYXJjaCBFcnJvcjogbm8gdG9rZW4gc2V0IGZvciBzdWdnZXN0aW9ucyBzZWFyY2ggcmVxdWVzdCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzZWxmLnNob3dTdWdnZXN0aW9ucyhudWxsKTtcclxuICAgIGNvbnN0IGlucCA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbChzZWxmLCBzZWxmLl9pbnB1dElkKTtcclxuICAgIC8vIGNhcHR1cmUgc2VhcmNoIHN0cmluZyBmb3IgcXVlcnkgb2Ygc3VnZ2VzdGlvbnNcclxuICAgIHNlbGYuc2VhcmNoUXVlcnkgPSBpbnAudmFsdWU7XHJcbiAgICBpZiAoc2VsZi5zZWFyY2hRdWVyeSAmJiBzZWxmLnNlYXJjaFF1ZXJ5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgIGlmIChzZWxmLnN0U2VhcmNoU2NvcGUgPT09ICdhZGRyZXNzJyB8fCBzZWxmLnN0U2VhcmNoU2NvcGUgPT09ICdhbGwnKSB7XHJcbiAgICAgICAgLy8gQWRkcmVzcywgbG9jYXRpb24sIG9yIHBsYWNlXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIHF1ZXJ5IHVzaW5nIHNlYXJjaCBzdHJpbmcgdXNpbmcgc3BlY2lmaWVkIGxvY2F0aW9uXHJcbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VsZi5nZW9jb2RlckNsaWVudC5zdWdnZXN0KHNlbGYuc2VhcmNoUXVlcnksIHtcclxuICAgICAgICAgICAgc291cmNlQ291bnRyeTogc2VsZi5zb3VyY2VDb3VudHJ5LFxyXG4gICAgICAgICAgICBsYW5nQ29kZTogc2VsZi5sYW5nQ29kZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKChpKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFpLmlzQ29sbGVjdGlvbilcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zLmxvY2F0aW9uLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZiAoc2VsZi5zdFNlYXJjaFNjb3BlID09PSAnYWRkcmVzcycpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVidWcoJ2FyY2dpcy1iYS1zZWFyY2g6IG5vIGxvY2F0aW9ucyBmb3VuZCAnKTtcclxuICAgICAgICAgICAgc2VsZi5oaWRlU3VnZ2VzdGlvbnMobnVsbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgc2VsZi5zdWdnZXN0aW9uUmVzdWx0cyA9IHsgbG9jYXRpb246IFtdLCBib3VuZGFyeTogW10gfTtcclxuICAgICAgICAgIExvZ3ouc2hvdygnJWUnLCAnYXJjZ2lzLWJhLXNlYXJjaCBlcnJvciAnLCBlcnJvcik7XHJcbiAgICAgICAgICBpZiAoc2VsZi5zdFNlYXJjaFNjb3BlID09PSAnYWRkcmVzcycpIHtcclxuICAgICAgICAgICAgc2VsZi5oaWRlU3VnZ2VzdGlvbnMobnVsbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICBpZiAoc2VsZi5zdFNlYXJjaFNjb3BlID09PSAnYm91bmRhcnknIHx8IHNlbGYuc3RTZWFyY2hTY29wZSA9PT0gJ2FsbCcpIHtcclxuICAgICAgICBzZWxmLl9nZW9ncmFwaHlMZXZlbERhdGEgPSBhd2FpdCBzZWxmLmdldEZpbHRlcmVkR2VvZ3JhcGh5TGV2ZWxzKCk7XHJcbiAgICAgICAgaWYgKHNlbGYuX2dlb2dyYXBoeUxldmVsRGF0YSAmJiBzZWxmLl9nZW9ncmFwaHlMZXZlbERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBUb2tlblByb3ZpZGVyLmdldFRva2VuKCk7XHJcbiAgICAgICAgICBpZiAoIXRva2VuIHx8ICFBQ0xVdGlscy5oYXNUZXh0KHRva2VuLnRvU3RyaW5nKCkpKSB7XHJcbiAgICAgICAgICAgIExvZ3ouc2hvdygnJWUnLCAnYXJjZ2lzLWJhLXNlYXJjaCBFUlJPUjogSW52YWxpZCBvciBleHBpcmVkIHRva2VuLiAgTXVzdCB1cGRhdGUuJyk7XHJcbiAgICAgICAgICAgIHNlbGYuaGlkZVN1Z2dlc3Rpb25zKG51bGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxldmVsSWRTdHJpbmdzID0gc2VsZi5fZ2VvZ3JhcGh5TGV2ZWxEYXRhLm1hcChsZXYgPT4gbGV2LmlkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBsZXQgZ2VvRmVhdHVyZXM7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgLy8gUmVxdWVzdCB0aGUgbGlzdCBvZiBCb3VuZGFyaWVzIHRvIHN1Z2dlc3RcclxuICAgICAgICAgICAgICBnZW9GZWF0dXJlcyA9IGF3YWl0IEdFQ2xpZW50LnNlYXJjaFN0ZEdlb2dyYXBoeShzZWxmLnNlYXJjaFF1ZXJ5LCB7XHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlTGltaXQ6IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBnZW9ncmFwaHlMYXllcnM6IGxldmVsSWRTdHJpbmdzLFxyXG4gICAgICAgICAgICAgICAgdXNlRnV6enlTZWFyY2g6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYW5nQ29kZTogc2VsZi5sYW5nQ29kZSxcclxuICAgICAgICAgICAgICAgIHNvdXJjZUNvdW50cnk6IHNlbGYuc3RTb3VyY2VDb3VudHJ5LFxyXG4gICAgICAgICAgICAgICAgdG9rZW5cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICBzZWxmLnN1Z2dlc3Rpb25SZXN1bHRzID0geyBsb2NhdGlvbjogW10sIGJvdW5kYXJ5OiBbXSB9O1xyXG4gICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluZGV4T2YoJ3Rva2VuJykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIExvZ3ouc2hvdygnJWUnLCAnc2VhcmNoOiBpbnZhbGlkIHRva2VuJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIExvZ3ouc2hvdygnJWUnLCAnYXJjZ2lzLWJhLXNlYXJjaCBlcnJvciAnLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZ2VvRmVhdHVyZXM/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIExvZ3ouc2hvdygnJXknLCAnYXJjZ2lzLWJhLXNlYXJjaCBXYXJuaW5nOiBObyBTVEQgR0VPIHNlYXJjaCByZXN1bHRzJyk7XHJcbiAgICAgICAgICAgICAgaWYgKHNlbGYuc3RTZWFyY2hTY29wZSA9PT0gJ2JvdW5kYXJ5Jykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlU3VnZ2VzdGlvbnMobnVsbCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNlbGYuX29wZW5GaXJzdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgc3VnZ2VzdGlvbnMuYm91bmRhcnkgPSBnZW9GZWF0dXJlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIExvZ3ouc2hvdygnJXknLCAnYXJjZ2lzLWJhLXNlYXJjaCBzZWFyY2hTdGRHZW9ncmFwaHkgZXJyb3I6IG5vIGdlb2dyYXBoeSBsZXZlbHMgc2VsZWN0ZWQnKTtcclxuICAgICAgICAgIHNlbGYuaGlkZVN1Z2dlc3Rpb25zKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBzZWxmLnN1Z2dlc3Rpb25SZXN1bHRzID0gc3VnZ2VzdGlvbnM7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgc2VsZi5oaWRlU3VnZ2VzdGlvbnMobnVsbCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgaWYgKHRoaXMuX2RiZykge1xyXG4gICAgICBjb25zb2xlLmxvZygnJWMgU0VBUkNIIHJlbmRlcicsICdjb2xvcjp5ZWxsb3c7Zm9udC1zaXplOjExcHQnLCB0aGlzLmJhc2VDb25maWcuY29uZmlnLCB0aGlzLnN0U2VhcmNoU2NvcGUpO1xyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coJyVjIFJlbmRlcmluZyBzZWFyY2gnLCAnY29sb3I6Z3JlZW47Zm9udC1zaXplOjhwdCcpXHJcbiAgICBpZiAoc2VsZi5fb3BlbkZpcnN0KSB7XHJcbiAgICAgIHNlbGYuX29wZW5GaXJzdCA9IGZhbHNlO1xyXG4gICAgICBmdW5jdGlvbiBfb3BlbigpIHtcclxuICAgICAgICAvLyBvcGVuIGZpcnN0IGFjY29yZGlvblxyXG4gICAgICAgIGxldCBmaXJzdCA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudC5jYWxsKHNlbGYsICdiYS1hY2NvcmRpb24nKTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKGZpcnN0KVxyXG4gICAgICAgICAgZmlyc3Qub3BlbkFjY29yZGlvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHNldFRpbWVvdXQoX29wZW4sIDEwMCk7XHJcbiAgICB9XHJcbiAgICAvL2NvbnN0IGJ0bkNvbG9yID0gdGhpcy5jb2xvcnMgPyB0aGlzLmNvbG9ycy5icmFuZCA6ICcnXHJcbiAgICAvLyBpbiBjYXNlIG91ciBzY29wZSBkb2Vzbid0IG1hdGNoIHRoZSBub2dlb2dyYXBoeSBhdHRyaWJ1dGVcclxuICAgIGlmIChzZWxmLnN0Tm9HZW9ncmFwaHkgIT0gdW5kZWZpbmVkICYmIHNlbGYuc3ROb0dlb2dyYXBoeSA9PT0gdHJ1ZSkge1xyXG4gICAgICBzZWxmLnN0U2VhcmNoU2NvcGUgPSAnYWRkcmVzcyc7XHJcbiAgICB9XHJcbiAgICAvLyBzZWFyY2hFbGVtPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteVNlYXJjaCcpXHJcbiAgICAvLyB1c2VySW5wdXQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0VXNlcm5hbWUnKVxyXG4gICAgLy8gdG9rZW5JbnB1dD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRUb2tlbicpXHJcbiAgICAvLyBnZW9ncmFwaHlMZXZlbHM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215U2VhcmNoTGV2ZWxzJylcclxuICAgIC8vY29uc3Qgc3VnZ2VzdGlvbkNsYXNzID0gKHRoaXMuc3RDb2xvclRoZW1lID09PSAnbGlnaHQnKSA/ICdsaWdodFN1Z2dlc3Rpb25PdXRlcicgOiAnYmFTZWFyY2hTdWdnZXN0aW9uc091dGVyJ1xyXG4gICAgY29uc3Qgc3VnZ2VzdGlvbkNsYXNzID0gJ2xpZ2h0U3VnZ2VzdGlvbk91dGVyJztcclxuICAgIGNvbnN0IGRyb3Bkb3duQ2xhc3MgPSAodHlwZW9mICh0aGlzLmJhc2VDb25maWcuY29uZmlnPy5iYVNlYXJjaFR5cGUpICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmJhc2VDb25maWcuY29uZmlnPy5iYVNlYXJjaFR5cGUgIT09IFwiMFwiKSA/ICdhcmNnaXNCYVNlYXJjaE5vRHJvcGRvd24nIDogJ2FyY2dpc0JhU2VhcmNoRHJvcGRvd25DaG9vc2VyJztcclxuICAgIC8vIGNvbnN0IGRyb3Bkb3duQ2xhc3MyID0gJ2FyY2dpc0JhU2VhcmNoRHJvcGRvd25DaG9vc2VyMidcclxuICAgIGNvbnN0IGlucHV0Q2xhc3MgPSAnYXJjZ2lzQmFTZWFyY2hJbnB1dCc7IC8vKHRoaXMuc3ROb0dlb2dyYXBoeSkgPyAnYXJjZ2lzQmFTZWFyY2hJbnB1dE5vR2VvZycgOiAnYXJjZ2lzQmFTZWFyY2hJbnB1dCdcclxuICAgIGNvbnN0IGRyb3Bkb3duQnV0dG9uU3R5bGUgPSB7XHJcbiAgICAgICdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXHJcbiAgICAgICd3aWR0aCc6ICczMHB4JyxcclxuICAgICAgJ2hlaWdodCc6ICczMnB4JyxcclxuICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbidcclxuICAgIH07XHJcbiAgICByZXR1cm4gKGgkbihcImRpdlwiLCBudWxsLCBoJG4oXCJkaXZcIiwgeyBjbGFzczogXCJiYVNlYXJjaE91dGVyXCIgfSwgaCRuKFwiY2FsY2l0ZS1kcm9wZG93blwiLCB7IGNsYXNzOiBkcm9wZG93bkNsYXNzIH0sIGgkbihcImNhbGNpdGUtYnV0dG9uXCIsIHsgc2xvdDogXCJ0cmlnZ2VyXCIsIHN0eWxlOiBkcm9wZG93bkJ1dHRvblN0eWxlLCBraW5kOiBcIm5ldXRyYWxcIiwgXCJpY29uLXN0YXJ0XCI6IFwiY2hldnJvbi1kb3duXCIgfSksIGgkbihcImNhbGNpdGUtZHJvcGRvd24tZ3JvdXBcIiwgeyBcInNlbGVjdGlvbi1tb2RlXCI6IFwic2luZ2xlXCIgfSwgaCRuKFwiY2FsY2l0ZS1kcm9wZG93bi1pdGVtXCIsIHsgXCJpY29uLXN0YXJ0XCI6ICdhbmFseXNpcycsIHRhYkluZGV4OiAnMCcsIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlU2VhcmNoU2NvcGVTZWxlY3Rpb24oJ2FsbCcpIH0sIHRoaXMuc2VhcmNoQWxsKSwgaCRuKFwiY2FsY2l0ZS1kcm9wZG93bi1pdGVtXCIsIHsgXCJpY29uLXN0YXJ0XCI6ICdwaW4nLCB0YWJJbmRleDogJzAnLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZVNlYXJjaFNjb3BlU2VsZWN0aW9uKCdhZGRyZXNzJykgfSwgdGhpcy5zZWFyY2hQbGFjZWhvbGRlclNob3J0KSwgaCRuKFwiY2FsY2l0ZS1kcm9wZG93bi1pdGVtXCIsIHsgXCJpY29uLXN0YXJ0XCI6ICdwb2x5Z29uJywgdGFiSW5kZXg6ICcwJywgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVTZWFyY2hTY29wZVNlbGVjdGlvbignYm91bmRhcnknKSB9LCB0aGlzLnNlYXJjaEJvdW5kYXJ5LCBcIiBcIikpKSwgaCRuKFwiY2FsY2l0ZS1pbnB1dFwiLCB7IGlkOiB0aGlzLl9pbnB1dElkLCBjbGFzczogaW5wdXRDbGFzcywgY2xlYXJhYmxlOiBcInRydWVcIiwgcGxhY2Vob2xkZXI6IHRoaXMuc3RTZWFyY2hTY29wZSA9PT0gJ2FkZHJlc3MnID8gdGhpcy5zZWFyY2hQbGFjZWhvbGRlciA6ICh0aGlzLnN0U2VhcmNoU2NvcGUgPT09ICdhbGwnKSA/IHRoaXMuc2VhcmNoQWxsUGxhY2Vob2xkZXIgOiB0aGlzLnNlYXJjaEVudGVyQm91bmRhcnkgfSksIGgkbihcImRpdlwiLCB7IGlkOiB0aGlzLl9zdWdnZXN0SWQsIGNsYXNzOiBzdWdnZXN0aW9uQ2xhc3MgfSwgKHRoaXMuc3RTZWFyY2hTY29wZSA9PT0gJ2FkZHJlc3MnIHx8IHRoaXMuc3RTZWFyY2hTY29wZSA9PT0gJ2FsbCcpICYmIHRoaXMucmVuZGVyTG9jYXRpb25TdWdnZXN0aW9ucygpLCAodGhpcy5zdFNlYXJjaFNjb3BlID09PSAnYm91bmRhcnknIHx8IHRoaXMuc3RTZWFyY2hTY29wZSA9PT0gJ2FsbCcpICYmIHRoaXMucmVuZGVyQm91bmRhcnlTdWdnZXN0aW9ucygpKSkpKTtcclxuICB9XHJcbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxyXG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XHJcbiAgICBcImNvbmZpZ1wiOiBbXCJvbkNvbmZpZ0NoYW5nZVwiXSxcclxuICAgIFwibm9nZW9ncmFwaHlcIjogW1wib25Ob0dlb2dyYXBoeUNoYW5nZWRcIl0sXHJcbiAgICBcIm1heHN1Z2dlc3Rpb25oZWlnaHRcIjogW1wib25NYXhTdWdnZXN0aW9uSGVpZ2h0Q2hhbmdlZFwiXSxcclxuICAgIFwiZW52XCI6IFtcIm9uRW52Q2hhbmdlZFwiXSxcclxuICAgIFwidG9rZW5cIjogW1wib25Ub2tlbkNoYW5nZWRcIl0sXHJcbiAgICBcInVzZXJuYW1lXCI6IFtcIm9uVXNlcm5hbWVDaGFuZ2VkXCJdLFxyXG4gICAgXCJsYW5nQ29kZVwiOiBbXCJvbkxhbmdDb2RlQ2hhbmdlZFwiXSxcclxuICAgIFwiZ2VvZW5yaWNobWVudFVybFwiOiBbXCJvbkdlb2VucmljaG1lbnRVcmxDaGFuZ2VkXCJdLFxyXG4gICAgXCJ0aGVtZVwiOiBbXCJvblRoZW1lQ2hhbmdlZFwiXSxcclxuICAgIFwic291cmNlQ291bnRyeVwiOiBbXCJvbkNvdW50cnlDaGFuZ2VkXCJdLFxyXG4gICAgXCJjdXJyZW50U2VhcmNoVGV4dFwiOiBbXCJvblNlYXJjaFRleHRDaGFuZ2VkXCJdLFxyXG4gICAgXCJtb2RlXCI6IFtcIm9uTW9kZUNoYW5nZWRcIl0sXHJcbiAgICBcInN1Z2xpdGVcIjogW1wib25TdWdsaXRlQ2hhbmdlZFwiXSxcclxuICAgIFwiYWN0aXZlTGV2ZWxzXCI6IFtcIm9uQWN0aXZlTGV2ZWxzQ2hhbmdlZFwiXVxyXG4gIH07IH1cclxufTtcclxuQXJjZ2lzQmFTZWFyY2guc3R5bGUgPSBhcmNnaXNCYVNlYXJjaENzcztcblxuZXhwb3J0IHsgQXJjZ2lzQmFTZWFyY2ggYXMgQSwgcyRDIGFzIHMgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJjZ2lzLWJhLXNlYXJjaC1iNjBhNzhmOS5qcy5tYXAiLCJleHBvcnQgeyBBIGFzIGFyY2dpc19iYV9zZWFyY2ggfSBmcm9tICcuL2FyY2dpcy1iYS1zZWFyY2gtYjYwYTc4ZjkuanMnO1xuaW1wb3J0ICcuL2luZGV4LTRlNjQ3NDExLmpzJztcbmltcG9ydCAnLi9HRUNsaWVudC1mNzEwNDlmOC5qcyc7XG5pbXBvcnQgJy4vRWxlbWVudElkcy1hMmM0MDU5Mi5qcyc7XG5pbXBvcnQgJy4vaW5kZXguZXNtLTFjNjVkOGM3LmpzJztcbmltcG9ydCAnLi9iYXNlLXV0aWwtYjdkYjY5ZjAuanMnO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmNnaXMtYmEtc2VhcmNoLmVudHJ5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==