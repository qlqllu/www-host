"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_geoenrichment-components_dist_-a9077f"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/editingSupport-3f319c4e.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/editingSupport-3f319c4e.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   applyEdits: () => (/* binding */ o),
/* harmony export */   isEditableLayer: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");
/* harmony import */ var _normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./normalizeUtils-69f83c05.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js");
/* harmony import */ var _arcgis_geoenrichment_databrowser_6ca8ea14_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./arcgis-geoenrichment-databrowser-6ca8ea14.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/arcgis-geoenrichment-databrowser-6ca8ea14.js");
/* harmony import */ var _index_4a62c63d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-4a62c63d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/index-4a62c63d.js");





/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
function l(e){var t,a;return !0===(null==e||null==(t=e.capabilities)||null==(a=t.operations)?void 0:a.supportsEditing)&&e&&(!("editingEnabled"in e)||e.editingEnabled)}function n(e){return e&&null!=e.applyEdits}async function o(t,a,r,s){let d,i;const l={edits:r,result:new Promise(((e,t)=>{d=e,i=t;}))};t.emit("apply-edits",l);try{const{results:i,edits:l}=await p(t,a,r,s),n=t=>t.filter((e=>!e.error)).map(_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.R),o={edits:l,addedFeatures:n(i.addFeatureResults),updatedFeatures:n(i.updateFeatureResults),deletedFeatures:n(i.deleteFeatureResults),addedAttachments:n(i.addAttachmentResults),updatedAttachments:n(i.updateAttachmentResults),deletedAttachments:n(i.deleteAttachmentResults)};return (o.addedFeatures.length||o.updatedFeatures.length||o.deletedFeatures.length||o.addedAttachments.length||o.updatedAttachments.length||o.deletedAttachments.length)&&t.emit("edits",o),d(o),i}catch(n){throw i(n),n}}async function p(e,t,r,s$1){if(await e.load(),!n(t))return Promise.reject(new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:e}));if(!e.editingEnabled)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:e});const d=await u(e,r,s$1);return d.addFeatures.length||d.updateFeatures.length||d.deleteFeatures.length||d.addAttachments.length||d.updateAttachments.length||d.deleteAttachments.length?{edits:d,results:await t.applyEdits(d,s$1)}:{edits:d,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}function u(e,t,r){const d=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),i=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments);if(!t||!d&&!i)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!e.capabilities.data.isVersioned&&r&&r.gdbVersion)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!e.capabilities.editing.supportsRollbackOnFailure&&r&&r.rollbackOnFailureEnabled)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");if(!e.capabilities.editing.supportsGlobalId&&r&&r.globalIdUsed)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:invalid-parameter`,"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!e.capabilities.editing.supportsGlobalId&&i)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:invalid-parameter`,"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((!r||!r.globalIdUsed)&&i)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");const l={...t};if(l.addFeatures=t&&_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae.isCollection(t.addFeatures)?t.addFeatures.toArray():l.addFeatures||[],l.updateFeatures=t&&_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae.isCollection(t.updateFeatures)?t.updateFeatures.toArray():l.updateFeatures||[],l.deleteFeatures=t&&_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ae.isCollection(t.deleteFeatures)?t.deleteFeatures.toArray():l.deleteFeatures||[],l.addFeatures.length&&!e.capabilities.operations.supportsAdd)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:unsupported-operation`,"Layer does not support adding features.");if(l.updateFeatures.length&&!e.capabilities.operations.supportsUpdate)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:unsupported-operation`,"Layer does not support updating features.");if(l.deleteFeatures.length&&!e.capabilities.operations.supportsDelete)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${e.type}-layer:unsupported-operation`,"Layer does not support deleting features.");l.addAttachments=l.addAttachments||[],l.updateAttachments=l.updateAttachments||[],l.deleteAttachments=l.deleteAttachments||[],l.addFeatures=l.addFeatures.map(b),l.updateFeatures=l.updateFeatures.map(b);const n=r&&r.globalIdUsed;return l.addFeatures.forEach((t=>c(t,e,n))),l.updateFeatures.forEach((t=>y(t,e,n))),l.deleteFeatures.forEach((t=>m(t,e,n))),l.addAttachments.forEach((t=>g(t,e))),l.updateAttachments.forEach((t=>g(t,e))),f(l)}function h(e,r$1,s$1){if(s$1){if("attributes"in e&&!e.attributes[r$1.globalIdField])throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${r$1.type}-layer:invalid-parameter`,"Feature should have 'globalId' when 'globalIdUsed' is true");if(!("attributes"in e)&&!e.globalId)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${r$1.type}-layer:invalid-parameter`,"'globalId' of the feature should be passed when 'globalIdUsed' is true")}if("geometry"in e&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e.geometry)){if(e.geometry.hasZ&&!1===r$1.capabilities.data.supportsZ)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${r$1.type}-layer:z-unsupported`,"Layer does not support z values while feature has z values.");if(e.geometry.hasM&&!1===r$1.capabilities.data.supportsM)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${r$1.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.")}}function c(e,t,a){h(e,t,a);}function m(e,t,a){h(e,t,a);}function y(e,r$1,s$1){if(h(e,r$1,s$1),"geometry"in e&&(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(e.geometry)&&!r$1.capabilities.editing.supportsGeometryUpdate)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${r$1.type}-layer:unsupported-operation`,"Layer does not support geometry updates.")}function g(e,t){const{feature:s$1,attachment:d}=e;if(!s$1||"attributes"in s$1&&!s$1.attributes[t.globalIdField])throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in s$1)&&!s$1.globalId)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"Attachment should have reference to 'globalId' of the parent feature");if(!d.globalId)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!d.data&&!d.uploadId)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"Attachment should have 'data' or 'uploadId'");if(!(d.data instanceof File&&!!d.data.name)&&!d.name)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!t.capabilities.editing.supportsUploadWithItemId&&d.uploadId)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"==typeof d.data){const e=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.br)(d.data);if(e&&!e.isBase64)throw new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(`${t.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string")}}async function f(e){const t=e.addFeatures,a=e.updateFeatures,r=t.concat(a).map((e=>e.geometry)),s=await (0,_normalizeUtils_69f83c05_js__WEBPACK_IMPORTED_MODULE_1__.L)(r),d=t.length,l=a.length;return s.slice(0,d).forEach(((t,a)=>{e.addFeatures[a].geometry=t;})),s.slice(d,d+l).forEach(((t,a)=>{e.updateFeatures[a].geometry=t;})),e}function b(e){const t=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.an;return e.attributes||(e.attributes={}),t.geometry=e.geometry,t.attributes=e.attributes,t}



//# sourceMappingURL=editingSupport-3f319c4e.js.map

/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js":
/*!******************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/normalizeUtils-69f83c05.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataBrowser-5ce2ade9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/geoenrichment-components/dist/esm/DataBrowser-5ce2ade9.js");


/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator}),minus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[180,-180],[180,180]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84}),minus180Line:new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:[[[-180,-180],[-180,180]]],spatialReference:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.O.WGS84})}};function i$1(e,n){return Math.ceil((e-n)/(2*n))}function o$1(e,n){const t=s$1(e);for(const r of t)for(const e of r)e[0]+=n;return e}function s$1(e){return (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.V)(e)?e.rings:e.paths}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function o(o,i,n,m){const p$1="string"==typeof o?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(o):o,a=i[0].spatialReference,u={...m,query:{...p$1.query,f:"json",sr:JSON.stringify(a),target:JSON.stringify({geometryType:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(p$1.path+"/cut",u),{cutIndexes:f,geometries:g=[]}=c.data;return {cutIndexes:f,geometries:g.map((e=>{const t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.J)(e);return t.spatialReference=a,t}))}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
async function i(e,i,f){const m="string"==typeof e?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.j)(e):e,p=i[0].spatialReference,a=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(i[0]),u={...f,query:{...m.query,f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(s(i))}};return n((await (0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.U)(m.path+"/simplify",u)).data,a,p)}function s(r){return {geometryType:(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.ar)(r[0]),geometries:r.map((r=>r.toJSON()))}}function n(r,t,o){const i=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.as)(t);return r.map((r=>{const t=i.fromJSON(r);return t.spatialReference=o,t}))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
const y=_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.S.getLogger("esri.geometry.support.normalizeUtils");function x(t){return "polygon"===t.type}function d(t){return "polygon"===t[0].type}function w(t){return "polyline"===t[0].type}function R(t,e){if(!(t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v||t instanceof _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x)){const t="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(t),new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.s(t)}const n=s$1(t),o=[];for(const s of n){const t=[];o.push(t),t.push([s[0][0],s[0][1]]);for(let n=0;n<s.length-1;n++){const o=s[n][0],r=s[n][1],i=s[n+1][0],l=s[n+1][1],f=Math.sqrt((i-o)*(i-o)+(l-r)*(l-r)),c=(l-r)/f,p=(i-o)/f,u=f/e;if(u>1){for(let l=1;l<=u-1;l++){const n=l*e,s=p*n+o,i=c*n+r;t.push([s,i]);}const n=(f+Math.floor(u-1)*e)/2,s=p*n+o,i=c*n+r;t.push([s,i]);}t.push([i,l]);}}return x(t)?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x({rings:o,spatialReference:t.spatialReference}):new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v({paths:o,spatialReference:t.spatialReference})}function M(t,e,n){if(e){const e=R(t,1e6);t=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.au)(e,!0);}return n&&(t=o$1(t,n)),t}function P(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=i$1(o,e);t[0]=o+n*(-2*e);}else if(o<n){const e=i$1(o,n);t[0]=o+e*(-2*n);}}else {const o=t.x;if(o>e){const n=i$1(o,e);t=t.clone().offset(n*(-2*e),0);}else if(o<n){const e=i$1(o,n);t=t.clone().offset(e*(-2*n),0);}}return t}function b(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],r=e.geometries[o],i=s$1(r);for(let t=0;t<i.length;t++){const e=i[t];e.some((n=>{if(n[0]<180)return !0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n;}n=Number(n.toFixed(9));const o=-360*i$1(n,180);for(let s=0;s<e.length;s++){const e=r.getPoint(t,s);r.setPoint(t,s,e.clone().offset(o,0));}return !0}}));}if(s===n){if(d(t))for(const e of s$1(r))t[s]=t[s].addRing(e);else if(w(t))for(const e of s$1(r))t[s]=t[s].addPath(e);}else n=s,t[s]=r;}return t}async function L(o$2,s,l){if(!Array.isArray(o$2))return L([o$2],s);const p=s?s.url:_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.aw.geometryServiceUrl;let y,x,d,w,j,R,U,k,v=0;const A=[],z=[];for(const t$1 of o$2)if((0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.t)(t$1))z.push(t$1);else if(y||(y=t$1.spatialReference,x=(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.av)(y),d=y.isWebMercator,R=d?102100:4326,w=r[R].maxX,j=r[R].minX,U=r[R].plus180Line,k=r[R].minus180Line),x)if("mesh"===t$1.type)z.push(t$1);else if("point"===t$1.type)z.push(P(t$1.clone(),w,j));else if("multipoint"===t$1.type){const e=t$1.clone();e.points=e.points.map((t=>P(t,w,j))),z.push(e);}else if("extent"===t$1.type){const e=t$1.clone()._normalize(!1,!1,x);z.push(e.rings?new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.x(e):e);}else if(t$1.extent){const e=t$1.extent,n=i$1(e.xmin,j)*(2*w);let o=0===n?t$1.clone():o$1(t$1.clone(),n);e.offset(n,0),e.intersects(U)&&e.xmax!==w?(v=e.xmax>v?e.xmax:v,o=M(o,d),A.push(o),z.push("cut")):e.intersects(k)&&e.xmin!==j?(v=e.xmax*(2*w)>v?e.xmax*(2*w):v,o=M(o,d,360),A.push(o),z.push("cut")):z.push(o);}else z.push(t$1.clone());else z.push(t$1);let I=i$1(v,w),X=-90;const q=I,C=new _DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.v;for(;I>0;){const t=360*I-180;C.addPath([[t,X],[t,-1*X]]),X*=-1,I--;}if(A.length>0&&q>0){const t=b(A,await o(p,A,C,l)),e=[],s=[];for(let l=0;l<z.length;l++){const r=z[l];if("cut"!==r)s.push(r);else {const r=t.shift(),f=o$2[l];(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.H)(f)&&"polygon"===f.type&&f.rings&&f.rings.length>1&&r.rings.length>=f.rings.length?(e.push(r),s.push("simplify")):s.push(d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(r):r);}}if(!e.length)return s;const r=await i(p,e,l),f=[];for(let n=0;n<s.length;n++){const t=s[n];"simplify"!==t?f.push(t):f.push(d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(r.shift()):r.shift());}return f}const D=[];for(let t=0;t<z.length;t++){const e=z[t];if("cut"!==e)D.push(e);else {const t=A.shift();D.push(!0===d?(0,_DataBrowser_5ce2ade9_js__WEBPACK_IMPORTED_MODULE_0__.at)(t):t);}}return Promise.resolve(D)}



//# sourceMappingURL=normalizeUtils-69f83c05.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfZ2VvZW5yaWNobWVudC1jb21wb25lbnRzX2Rpc3RfLWE5MDc3Zi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkY7QUFDckM7QUFDQTtBQUMzQjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVEsaUpBQWlKLGNBQWMsNkJBQTZCLDBCQUEwQixRQUFRLFNBQVMsb0NBQW9DLFNBQVMsSUFBSSx3QkFBd0IsSUFBSSxNQUFNLGtCQUFrQixtREFBbUQsdURBQUcsS0FBSyw2UUFBNlEsbU1BQW1NLFNBQVMsY0FBYyw0QkFBNEIsa0RBQWtELHVEQUFDLElBQUksT0FBTyxrRkFBa0YsUUFBUSxHQUFHLCtCQUErQix1REFBQyxJQUFJLE9BQU8sMERBQTBELFFBQVEsRUFBRSx5QkFBeUIsZ0tBQWdLLDBDQUEwQyxFQUFFLGlCQUFpQixxSkFBcUosa0JBQWtCLGlJQUFpSSx3QkFBd0IsdURBQUMsSUFBSSxPQUFPLG9LQUFvSywrREFBK0QsdURBQUMsSUFBSSxPQUFPLHdJQUF3SSw4RkFBOEYsdURBQUMsSUFBSSxPQUFPLHFKQUFxSix5RUFBeUUsdURBQUMsSUFBSSxPQUFPLGdJQUFnSSx5REFBeUQsdURBQUMsSUFBSSxPQUFPLDhMQUE4TCxzQ0FBc0MsdURBQUMsSUFBSSxPQUFPLGdKQUFnSixTQUFTLE1BQU0sb0JBQW9CLHdEQUFDLDJGQUEyRix3REFBQyxvR0FBb0csd0RBQUMsdUpBQXVKLHVEQUFDLElBQUksT0FBTyx5RUFBeUUsZ0ZBQWdGLHVEQUFDLElBQUksT0FBTywyRUFBMkUsZ0ZBQWdGLHVEQUFDLElBQUksT0FBTywyRUFBMkUsME1BQTBNLDBCQUEwQixnTkFBZ04sc0JBQXNCLFFBQVEsZ0VBQWdFLHVEQUFDLElBQUksU0FBUyx3RkFBd0YsOENBQThDLHVEQUFDLElBQUksU0FBUyxvR0FBb0csbUJBQW1CLDJEQUFDLGNBQWMsbUVBQW1F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QXlJLHNEQUFzRCxpQ0FBaUMsb0JBQW9CLGdEQUFnRCw2QkFBNkIsd0NBQXdDLG1CQUFtQix1REFBRyxRQUFRLG9CQUFvQix5Q0FBeUMsMkNBQTJDLCtNQUErTSx5QkFBeUIsaUJBQWlCLHFCQUFxQixnQkFBZ0IsdURBQUMsQ0FBQyxLQUFLLElBQUksRUFBRSxrQkFBa0IsdUNBQXVDLG9CQUFvQix3Q0FBd0MsWUFBWSxXQUFXLEtBQUssYUFBYSx1QkFBdUIsTUFBTSwyQkFBMkIsMkRBQUcsMkhBQTJILDREQUFHLFNBQVMsc0JBQXNCLDRCQUE0QixZQUFZLFdBQVcsS0FBSyxhQUFhLGtDQUFrQyw0REFBRyx3QkFBd0IsU0FBUyxXQUFXLFlBQVksV0FBVyxLQUFLLGFBQWEsdUJBQXVCLE1BQU0sa0JBQWtCLGNBQWMsNERBQUcsU0FBUzs7QUFFOTFHOztBQUViIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvZ2VvZW5yaWNobWVudC1jb21wb25lbnRzL2Rpc3QvZXNtL2VkaXRpbmdTdXBwb3J0LTNmMzE5YzRlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2dlb2VucmljaG1lbnQtY29tcG9uZW50cy9kaXN0L2VzbS9ub3JtYWxpemVVdGlscy02OWY4M2MwNS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSIGFzIHkkMSwgcywgYWUgYXMgTCwgSCBhcyByLCBiciBhcyBWLCBhbiBhcyBuJDEgfSBmcm9tICcuL0RhdGFCcm93c2VyLTVjZTJhZGU5LmpzJztcbmltcG9ydCB7IEwgYXMgTCQxIH0gZnJvbSAnLi9ub3JtYWxpemVVdGlscy02OWY4M2MwNS5qcyc7XG5pbXBvcnQgJy4vYXJjZ2lzLWdlb2VucmljaG1lbnQtZGF0YWJyb3dzZXItNmNhOGVhMTQuanMnO1xuaW1wb3J0ICcuL2luZGV4LTRhNjJjNjNkLmpzJztcblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGwoZSl7dmFyIHQsYTtyZXR1cm4gITA9PT0obnVsbD09ZXx8bnVsbD09KHQ9ZS5jYXBhYmlsaXRpZXMpfHxudWxsPT0oYT10Lm9wZXJhdGlvbnMpP3ZvaWQgMDphLnN1cHBvcnRzRWRpdGluZykmJmUmJighKFwiZWRpdGluZ0VuYWJsZWRcImluIGUpfHxlLmVkaXRpbmdFbmFibGVkKX1mdW5jdGlvbiBuKGUpe3JldHVybiBlJiZudWxsIT1lLmFwcGx5RWRpdHN9YXN5bmMgZnVuY3Rpb24gbyh0LGEscixzKXtsZXQgZCxpO2NvbnN0IGw9e2VkaXRzOnIscmVzdWx0Om5ldyBQcm9taXNlKCgoZSx0KT0+e2Q9ZSxpPXQ7fSkpfTt0LmVtaXQoXCJhcHBseS1lZGl0c1wiLGwpO3RyeXtjb25zdHtyZXN1bHRzOmksZWRpdHM6bH09YXdhaXQgcCh0LGEscixzKSxuPXQ9PnQuZmlsdGVyKChlPT4hZS5lcnJvcikpLm1hcCh5JDEpLG89e2VkaXRzOmwsYWRkZWRGZWF0dXJlczpuKGkuYWRkRmVhdHVyZVJlc3VsdHMpLHVwZGF0ZWRGZWF0dXJlczpuKGkudXBkYXRlRmVhdHVyZVJlc3VsdHMpLGRlbGV0ZWRGZWF0dXJlczpuKGkuZGVsZXRlRmVhdHVyZVJlc3VsdHMpLGFkZGVkQXR0YWNobWVudHM6bihpLmFkZEF0dGFjaG1lbnRSZXN1bHRzKSx1cGRhdGVkQXR0YWNobWVudHM6bihpLnVwZGF0ZUF0dGFjaG1lbnRSZXN1bHRzKSxkZWxldGVkQXR0YWNobWVudHM6bihpLmRlbGV0ZUF0dGFjaG1lbnRSZXN1bHRzKX07cmV0dXJuIChvLmFkZGVkRmVhdHVyZXMubGVuZ3RofHxvLnVwZGF0ZWRGZWF0dXJlcy5sZW5ndGh8fG8uZGVsZXRlZEZlYXR1cmVzLmxlbmd0aHx8by5hZGRlZEF0dGFjaG1lbnRzLmxlbmd0aHx8by51cGRhdGVkQXR0YWNobWVudHMubGVuZ3RofHxvLmRlbGV0ZWRBdHRhY2htZW50cy5sZW5ndGgpJiZ0LmVtaXQoXCJlZGl0c1wiLG8pLGQobyksaX1jYXRjaChuKXt0aHJvdyBpKG4pLG59fWFzeW5jIGZ1bmN0aW9uIHAoZSx0LHIscyQxKXtpZihhd2FpdCBlLmxvYWQoKSwhbih0KSlyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IHMoYCR7ZS50eXBlfS1sYXllcjpuby1lZGl0aW5nLXN1cHBvcnRgLFwiTGF5ZXIgc291cmNlIGRvZXMgbm90IHN1cHBvcnQgYXBwbHlFZGl0cyBjYXBhYmlsaXR5XCIse2xheWVyOmV9KSk7aWYoIWUuZWRpdGluZ0VuYWJsZWQpdGhyb3cgbmV3IHMoYCR7ZS50eXBlfS1sYXllcjplZGl0aW5nLWRpc2FibGVkYCxcIkVkaXRpbmcgaXMgZGlzYWJsZWQgZm9yIGxheWVyXCIse2xheWVyOmV9KTtjb25zdCBkPWF3YWl0IHUoZSxyLHMkMSk7cmV0dXJuIGQuYWRkRmVhdHVyZXMubGVuZ3RofHxkLnVwZGF0ZUZlYXR1cmVzLmxlbmd0aHx8ZC5kZWxldGVGZWF0dXJlcy5sZW5ndGh8fGQuYWRkQXR0YWNobWVudHMubGVuZ3RofHxkLnVwZGF0ZUF0dGFjaG1lbnRzLmxlbmd0aHx8ZC5kZWxldGVBdHRhY2htZW50cy5sZW5ndGg/e2VkaXRzOmQscmVzdWx0czphd2FpdCB0LmFwcGx5RWRpdHMoZCxzJDEpfTp7ZWRpdHM6ZCxyZXN1bHRzOnthZGRGZWF0dXJlUmVzdWx0czpbXSx1cGRhdGVGZWF0dXJlUmVzdWx0czpbXSxkZWxldGVGZWF0dXJlUmVzdWx0czpbXSxhZGRBdHRhY2htZW50UmVzdWx0czpbXSx1cGRhdGVBdHRhY2htZW50UmVzdWx0czpbXSxkZWxldGVBdHRhY2htZW50UmVzdWx0czpbXX19fWZ1bmN0aW9uIHUoZSx0LHIpe2NvbnN0IGQ9dCYmKHQuYWRkRmVhdHVyZXN8fHQudXBkYXRlRmVhdHVyZXN8fHQuZGVsZXRlRmVhdHVyZXMpLGk9dCYmKHQuYWRkQXR0YWNobWVudHN8fHQudXBkYXRlQXR0YWNobWVudHN8fHQuZGVsZXRlQXR0YWNobWVudHMpO2lmKCF0fHwhZCYmIWkpdGhyb3cgbmV3IHMoYCR7ZS50eXBlfS1sYXllcjptaXNzaW5nLXBhcmFtZXRlcnNgLFwiJ2FkZEZlYXR1cmVzJywgJ3VwZGF0ZUZlYXR1cmVzJywgJ2RlbGV0ZUZlYXR1cmVzJywgJ2FkZEF0dGFjaG1lbnRzJywgJ3VwZGF0ZUF0dGFjaG1lbnRzJyBvciAnZGVsZXRlQXR0YWNobWVudHMnIHBhcmFtZXRlciBpcyByZXF1aXJlZFwiKTtpZighZS5jYXBhYmlsaXRpZXMuZGF0YS5pc1ZlcnNpb25lZCYmciYmci5nZGJWZXJzaW9uKXRocm93IG5ldyBzKGAke2UudHlwZX0tbGF5ZXI6aW52YWxpZC1wYXJhbWV0ZXJgLFwiJ2dkYlZlcnNpb24nIGlzIGFwcGxpY2FibGUgb25seSBpZiB0aGUgbGF5ZXIgc3VwcG9ydHMgdmVyc2lvbmVkIGRhdGEuIFNlZTogJ2NhcGFiaWxpdGllcy5kYXRhLmlzVmVyc2lvbmVkJ1wiKTtpZighZS5jYXBhYmlsaXRpZXMuZWRpdGluZy5zdXBwb3J0c1JvbGxiYWNrT25GYWlsdXJlJiZyJiZyLnJvbGxiYWNrT25GYWlsdXJlRW5hYmxlZCl0aHJvdyBuZXcgcyhgJHtlLnR5cGV9LWxheWVyOmludmFsaWQtcGFyYW1ldGVyYCxcIlRoaXMgbGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCAncm9sbGJhY2tPbkZhaWx1cmVFbmFibGVkJyBwYXJhbWV0ZXIuIFNlZTogJ2NhcGFiaWxpdGllcy5lZGl0aW5nLnN1cHBvcnRzUm9sbGJhY2tPbkZhaWx1cmUnXCIpO2lmKCFlLmNhcGFiaWxpdGllcy5lZGl0aW5nLnN1cHBvcnRzR2xvYmFsSWQmJnImJnIuZ2xvYmFsSWRVc2VkKXRocm93IG5ldyBzKGAke2UudHlwZX0tbGF5ZXI6aW52YWxpZC1wYXJhbWV0ZXJgLFwiVGhpcyBsYXllciBkb2VzIG5vdCBzdXBwb3J0ICdnbG9iYWxJZFVzZWQnIHBhcmFtZXRlci4gU2VlOiAnY2FwYWJpbGl0aWVzLmVkaXRpbmcuc3VwcG9ydHNHbG9iYWxJZCdcIik7aWYoIWUuY2FwYWJpbGl0aWVzLmVkaXRpbmcuc3VwcG9ydHNHbG9iYWxJZCYmaSl0aHJvdyBuZXcgcyhgJHtlLnR5cGV9LWxheWVyOmludmFsaWQtcGFyYW1ldGVyYCxcIidhZGRBdHRhY2htZW50cycsICd1cGRhdGVBdHRhY2htZW50cycgYW5kICdkZWxldGVBdHRhY2htZW50cycgYXJlIGFwcGxpY2FibGUgb25seSBpZiB0aGUgbGF5ZXIgc3VwcG9ydHMgZ2xvYmFsIGlkcy4gU2VlOiAnY2FwYWJpbGl0aWVzLmVkaXRpbmcuc3VwcG9ydHNHbG9iYWxJZCdcIik7aWYoKCFyfHwhci5nbG9iYWxJZFVzZWQpJiZpKXRocm93IG5ldyBzKGAke2UudHlwZX0tbGF5ZXI6aW52YWxpZC1wYXJhbWV0ZXJgLFwiV2hlbiAnYWRkQXR0YWNobWVudHMnLCAndXBkYXRlQXR0YWNobWVudHMnIG9yICdkZWxldGVBdHRhY2htZW50cycgaXMgc3BlY2lmaWVkLCBnbG9iYWxJZFVzZWQgc2hvdWxkIGJlIHNldCB0byB0cnVlXCIpO2NvbnN0IGw9ey4uLnR9O2lmKGwuYWRkRmVhdHVyZXM9dCYmTC5pc0NvbGxlY3Rpb24odC5hZGRGZWF0dXJlcyk/dC5hZGRGZWF0dXJlcy50b0FycmF5KCk6bC5hZGRGZWF0dXJlc3x8W10sbC51cGRhdGVGZWF0dXJlcz10JiZMLmlzQ29sbGVjdGlvbih0LnVwZGF0ZUZlYXR1cmVzKT90LnVwZGF0ZUZlYXR1cmVzLnRvQXJyYXkoKTpsLnVwZGF0ZUZlYXR1cmVzfHxbXSxsLmRlbGV0ZUZlYXR1cmVzPXQmJkwuaXNDb2xsZWN0aW9uKHQuZGVsZXRlRmVhdHVyZXMpP3QuZGVsZXRlRmVhdHVyZXMudG9BcnJheSgpOmwuZGVsZXRlRmVhdHVyZXN8fFtdLGwuYWRkRmVhdHVyZXMubGVuZ3RoJiYhZS5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c0FkZCl0aHJvdyBuZXcgcyhgJHtlLnR5cGV9LWxheWVyOnVuc3VwcG9ydGVkLW9wZXJhdGlvbmAsXCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGFkZGluZyBmZWF0dXJlcy5cIik7aWYobC51cGRhdGVGZWF0dXJlcy5sZW5ndGgmJiFlLmNhcGFiaWxpdGllcy5vcGVyYXRpb25zLnN1cHBvcnRzVXBkYXRlKXRocm93IG5ldyBzKGAke2UudHlwZX0tbGF5ZXI6dW5zdXBwb3J0ZWQtb3BlcmF0aW9uYCxcIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgdXBkYXRpbmcgZmVhdHVyZXMuXCIpO2lmKGwuZGVsZXRlRmVhdHVyZXMubGVuZ3RoJiYhZS5jYXBhYmlsaXRpZXMub3BlcmF0aW9ucy5zdXBwb3J0c0RlbGV0ZSl0aHJvdyBuZXcgcyhgJHtlLnR5cGV9LWxheWVyOnVuc3VwcG9ydGVkLW9wZXJhdGlvbmAsXCJMYXllciBkb2VzIG5vdCBzdXBwb3J0IGRlbGV0aW5nIGZlYXR1cmVzLlwiKTtsLmFkZEF0dGFjaG1lbnRzPWwuYWRkQXR0YWNobWVudHN8fFtdLGwudXBkYXRlQXR0YWNobWVudHM9bC51cGRhdGVBdHRhY2htZW50c3x8W10sbC5kZWxldGVBdHRhY2htZW50cz1sLmRlbGV0ZUF0dGFjaG1lbnRzfHxbXSxsLmFkZEZlYXR1cmVzPWwuYWRkRmVhdHVyZXMubWFwKGIpLGwudXBkYXRlRmVhdHVyZXM9bC51cGRhdGVGZWF0dXJlcy5tYXAoYik7Y29uc3Qgbj1yJiZyLmdsb2JhbElkVXNlZDtyZXR1cm4gbC5hZGRGZWF0dXJlcy5mb3JFYWNoKCh0PT5jKHQsZSxuKSkpLGwudXBkYXRlRmVhdHVyZXMuZm9yRWFjaCgodD0+eSh0LGUsbikpKSxsLmRlbGV0ZUZlYXR1cmVzLmZvckVhY2goKHQ9Pm0odCxlLG4pKSksbC5hZGRBdHRhY2htZW50cy5mb3JFYWNoKCh0PT5nKHQsZSkpKSxsLnVwZGF0ZUF0dGFjaG1lbnRzLmZvckVhY2goKHQ9PmcodCxlKSkpLGYobCl9ZnVuY3Rpb24gaChlLHIkMSxzJDEpe2lmKHMkMSl7aWYoXCJhdHRyaWJ1dGVzXCJpbiBlJiYhZS5hdHRyaWJ1dGVzW3IkMS5nbG9iYWxJZEZpZWxkXSl0aHJvdyBuZXcgcyhgJHtyJDEudHlwZX0tbGF5ZXI6aW52YWxpZC1wYXJhbWV0ZXJgLFwiRmVhdHVyZSBzaG91bGQgaGF2ZSAnZ2xvYmFsSWQnIHdoZW4gJ2dsb2JhbElkVXNlZCcgaXMgdHJ1ZVwiKTtpZighKFwiYXR0cmlidXRlc1wiaW4gZSkmJiFlLmdsb2JhbElkKXRocm93IG5ldyBzKGAke3IkMS50eXBlfS1sYXllcjppbnZhbGlkLXBhcmFtZXRlcmAsXCInZ2xvYmFsSWQnIG9mIHRoZSBmZWF0dXJlIHNob3VsZCBiZSBwYXNzZWQgd2hlbiAnZ2xvYmFsSWRVc2VkJyBpcyB0cnVlXCIpfWlmKFwiZ2VvbWV0cnlcImluIGUmJnIoZS5nZW9tZXRyeSkpe2lmKGUuZ2VvbWV0cnkuaGFzWiYmITE9PT1yJDEuY2FwYWJpbGl0aWVzLmRhdGEuc3VwcG9ydHNaKXRocm93IG5ldyBzKGAke3IkMS50eXBlfS1sYXllcjp6LXVuc3VwcG9ydGVkYCxcIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgeiB2YWx1ZXMgd2hpbGUgZmVhdHVyZSBoYXMgeiB2YWx1ZXMuXCIpO2lmKGUuZ2VvbWV0cnkuaGFzTSYmITE9PT1yJDEuY2FwYWJpbGl0aWVzLmRhdGEuc3VwcG9ydHNNKXRocm93IG5ldyBzKGAke3IkMS50eXBlfS1sYXllcjptLXVuc3VwcG9ydGVkYCxcIkxheWVyIGRvZXMgbm90IHN1cHBvcnQgbSB2YWx1ZXMgd2hpbGUgZmVhdHVyZSBoYXMgbSB2YWx1ZXMuXCIpfX1mdW5jdGlvbiBjKGUsdCxhKXtoKGUsdCxhKTt9ZnVuY3Rpb24gbShlLHQsYSl7aChlLHQsYSk7fWZ1bmN0aW9uIHkoZSxyJDEscyQxKXtpZihoKGUsciQxLHMkMSksXCJnZW9tZXRyeVwiaW4gZSYmcihlLmdlb21ldHJ5KSYmIXIkMS5jYXBhYmlsaXRpZXMuZWRpdGluZy5zdXBwb3J0c0dlb21ldHJ5VXBkYXRlKXRocm93IG5ldyBzKGAke3IkMS50eXBlfS1sYXllcjp1bnN1cHBvcnRlZC1vcGVyYXRpb25gLFwiTGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBnZW9tZXRyeSB1cGRhdGVzLlwiKX1mdW5jdGlvbiBnKGUsdCl7Y29uc3R7ZmVhdHVyZTpzJDEsYXR0YWNobWVudDpkfT1lO2lmKCFzJDF8fFwiYXR0cmlidXRlc1wiaW4gcyQxJiYhcyQxLmF0dHJpYnV0ZXNbdC5nbG9iYWxJZEZpZWxkXSl0aHJvdyBuZXcgcyhgJHt0LnR5cGV9LWxheWVyOmludmFsaWQtcGFyYW1ldGVyYCxcIkF0dGFjaG1lbnQgc2hvdWxkIGhhdmUgcmVmZXJlbmNlIHRvIGEgZmVhdHVyZSB3aXRoICdnbG9iYWxJZCdcIik7aWYoIShcImF0dHJpYnV0ZXNcImluIHMkMSkmJiFzJDEuZ2xvYmFsSWQpdGhyb3cgbmV3IHMoYCR7dC50eXBlfS1sYXllcjppbnZhbGlkLXBhcmFtZXRlcmAsXCJBdHRhY2htZW50IHNob3VsZCBoYXZlIHJlZmVyZW5jZSB0byAnZ2xvYmFsSWQnIG9mIHRoZSBwYXJlbnQgZmVhdHVyZVwiKTtpZighZC5nbG9iYWxJZCl0aHJvdyBuZXcgcyhgJHt0LnR5cGV9LWxheWVyOmludmFsaWQtcGFyYW1ldGVyYCxcIkF0dGFjaG1lbnQgc2hvdWxkIGhhdmUgJ2dsb2JhbElkJ1wiKTtpZighZC5kYXRhJiYhZC51cGxvYWRJZCl0aHJvdyBuZXcgcyhgJHt0LnR5cGV9LWxheWVyOmludmFsaWQtcGFyYW1ldGVyYCxcIkF0dGFjaG1lbnQgc2hvdWxkIGhhdmUgJ2RhdGEnIG9yICd1cGxvYWRJZCdcIik7aWYoIShkLmRhdGEgaW5zdGFuY2VvZiBGaWxlJiYhIWQuZGF0YS5uYW1lKSYmIWQubmFtZSl0aHJvdyBuZXcgcyhgJHt0LnR5cGV9LWxheWVyOmludmFsaWQtcGFyYW1ldGVyYCxcIiduYW1lJyBpcyByZXF1aXJlZCB3aGVuIGF0dGFjaG1lbnQgaXMgc3BlY2lmaWVkIGFzIEJhc2U2NCBlbmNvZGVkIHN0cmluZyB1c2luZyAnZGF0YSdcIik7aWYoIXQuY2FwYWJpbGl0aWVzLmVkaXRpbmcuc3VwcG9ydHNVcGxvYWRXaXRoSXRlbUlkJiZkLnVwbG9hZElkKXRocm93IG5ldyBzKGAke3QudHlwZX0tbGF5ZXI6aW52YWxpZC1wYXJhbWV0ZXJgLFwiVGhpcyBsYXllciBkb2VzIG5vdCBzdXBwb3J0ICd1cGxvYWRJZCcgcGFyYW1ldGVyLiBTZWU6ICdjYXBhYmlsaXRpZXMuZWRpdGluZy5zdXBwb3J0c1VwbG9hZFdpdGhJdGVtSWQnXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBkLmRhdGEpe2NvbnN0IGU9VihkLmRhdGEpO2lmKGUmJiFlLmlzQmFzZTY0KXRocm93IG5ldyBzKGAke3QudHlwZX0tbGF5ZXI6aW52YWxpZC1wYXJhbWV0ZXJgLFwiQXR0YWNobWVudCAnZGF0YScgc2hvdWxkIGJlIGEgQmxvYiwgRmlsZSBvciBCYXNlNjQgZW5jb2RlZCBzdHJpbmdcIil9fWFzeW5jIGZ1bmN0aW9uIGYoZSl7Y29uc3QgdD1lLmFkZEZlYXR1cmVzLGE9ZS51cGRhdGVGZWF0dXJlcyxyPXQuY29uY2F0KGEpLm1hcCgoZT0+ZS5nZW9tZXRyeSkpLHM9YXdhaXQgTCQxKHIpLGQ9dC5sZW5ndGgsbD1hLmxlbmd0aDtyZXR1cm4gcy5zbGljZSgwLGQpLmZvckVhY2goKCh0LGEpPT57ZS5hZGRGZWF0dXJlc1thXS5nZW9tZXRyeT10O30pKSxzLnNsaWNlKGQsZCtsKS5mb3JFYWNoKCgodCxhKT0+e2UudXBkYXRlRmVhdHVyZXNbYV0uZ2VvbWV0cnk9dDt9KSksZX1mdW5jdGlvbiBiKGUpe2NvbnN0IHQ9bmV3IG4kMTtyZXR1cm4gZS5hdHRyaWJ1dGVzfHwoZS5hdHRyaWJ1dGVzPXt9KSx0Lmdlb21ldHJ5PWUuZ2VvbWV0cnksdC5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlcyx0fVxuXG5leHBvcnQgeyBvIGFzIGFwcGx5RWRpdHMsIGwgYXMgaXNFZGl0YWJsZUxheWVyIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVkaXRpbmdTdXBwb3J0LTNmMzE5YzRlLmpzLm1hcCIsImltcG9ydCB7IHYgYXMgbSwgTyBhcyBrLCBWIGFzIHkkMSwgSiBhcyBwLCBqIGFzIFUsIGFyIGFzIGQkMSwgVSBhcyBVJDEsIGFzIGFzIEcsIFMgYXMgbiQxLCB0LCB4IGFzIHgkMSwgSCBhcyByJDEsIGF0IGFzIGQkMiwgYXUgYXMgUiQxLCBhdiBhcyBTLCBzIGFzIHMkMiwgYXcgYXMgcyQzIH0gZnJvbSAnLi9EYXRhQnJvd3Nlci01Y2UyYWRlOS5qcyc7XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCByPXsxMDIxMDA6e21heFg6MjAwMzc1MDguMzQyNzg4OTA1LG1pblg6LTIwMDM3NTA4LjM0Mjc4ODkwNSxwbHVzMTgwTGluZTpuZXcgbSh7cGF0aHM6W1tbMjAwMzc1MDguMzQyNzg4OTA1LC0yMDAzNzUwOC4zNDI3ODg5MDVdLFsyMDAzNzUwOC4zNDI3ODg5MDUsMjAwMzc1MDguMzQyNzg4OTA1XV1dLHNwYXRpYWxSZWZlcmVuY2U6ay5XZWJNZXJjYXRvcn0pLG1pbnVzMTgwTGluZTpuZXcgbSh7cGF0aHM6W1tbLTIwMDM3NTA4LjM0Mjc4ODkwNSwtMjAwMzc1MDguMzQyNzg4OTA1XSxbLTIwMDM3NTA4LjM0Mjc4ODkwNSwyMDAzNzUwOC4zNDI3ODg5MDVdXV0sc3BhdGlhbFJlZmVyZW5jZTprLldlYk1lcmNhdG9yfSl9LDQzMjY6e21heFg6MTgwLG1pblg6LTE4MCxwbHVzMTgwTGluZTpuZXcgbSh7cGF0aHM6W1tbMTgwLC0xODBdLFsxODAsMTgwXV1dLHNwYXRpYWxSZWZlcmVuY2U6ay5XR1M4NH0pLG1pbnVzMTgwTGluZTpuZXcgbSh7cGF0aHM6W1tbLTE4MCwtMTgwXSxbLTE4MCwxODBdXV0sc3BhdGlhbFJlZmVyZW5jZTprLldHUzg0fSl9fTtmdW5jdGlvbiBpJDEoZSxuKXtyZXR1cm4gTWF0aC5jZWlsKChlLW4pLygyKm4pKX1mdW5jdGlvbiBvJDEoZSxuKXtjb25zdCB0PXMkMShlKTtmb3IoY29uc3QgciBvZiB0KWZvcihjb25zdCBlIG9mIHIpZVswXSs9bjtyZXR1cm4gZX1mdW5jdGlvbiBzJDEoZSl7cmV0dXJuIHkkMShlKT9lLnJpbmdzOmUucGF0aHN9XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5hc3luYyBmdW5jdGlvbiBvKG8saSxuLG0pe2NvbnN0IHAkMT1cInN0cmluZ1wiPT10eXBlb2Ygbz9VKG8pOm8sYT1pWzBdLnNwYXRpYWxSZWZlcmVuY2UsdT17Li4ubSxxdWVyeTp7Li4ucCQxLnF1ZXJ5LGY6XCJqc29uXCIsc3I6SlNPTi5zdHJpbmdpZnkoYSksdGFyZ2V0OkpTT04uc3RyaW5naWZ5KHtnZW9tZXRyeVR5cGU6ZCQxKGlbMF0pLGdlb21ldHJpZXM6aX0pLGN1dHRlcjpKU09OLnN0cmluZ2lmeShuKX19LGM9YXdhaXQgVSQxKHAkMS5wYXRoK1wiL2N1dFwiLHUpLHtjdXRJbmRleGVzOmYsZ2VvbWV0cmllczpnPVtdfT1jLmRhdGE7cmV0dXJuIHtjdXRJbmRleGVzOmYsZ2VvbWV0cmllczpnLm1hcCgoZT0+e2NvbnN0IHQ9cChlKTtyZXR1cm4gdC5zcGF0aWFsUmVmZXJlbmNlPWEsdH0pKX19XG5cbi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjE5L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5hc3luYyBmdW5jdGlvbiBpKGUsaSxmKXtjb25zdCBtPVwic3RyaW5nXCI9PXR5cGVvZiBlP1UoZSk6ZSxwPWlbMF0uc3BhdGlhbFJlZmVyZW5jZSxhPWQkMShpWzBdKSx1PXsuLi5mLHF1ZXJ5OnsuLi5tLnF1ZXJ5LGY6XCJqc29uXCIsc3I6cC53a2lkP3Aud2tpZDpKU09OLnN0cmluZ2lmeShwKSxnZW9tZXRyaWVzOkpTT04uc3RyaW5naWZ5KHMoaSkpfX07cmV0dXJuIG4oKGF3YWl0IFUkMShtLnBhdGgrXCIvc2ltcGxpZnlcIix1KSkuZGF0YSxhLHApfWZ1bmN0aW9uIHMocil7cmV0dXJuIHtnZW9tZXRyeVR5cGU6ZCQxKHJbMF0pLGdlb21ldHJpZXM6ci5tYXAoKHI9PnIudG9KU09OKCkpKX19ZnVuY3Rpb24gbihyLHQsbyl7Y29uc3QgaT1HKHQpO3JldHVybiByLm1hcCgocj0+e2NvbnN0IHQ9aS5mcm9tSlNPTihyKTtyZXR1cm4gdC5zcGF0aWFsUmVmZXJlbmNlPW8sdH0pKX1cblxuLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMTkvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNvbnN0IHk9biQxLmdldExvZ2dlcihcImVzcmkuZ2VvbWV0cnkuc3VwcG9ydC5ub3JtYWxpemVVdGlsc1wiKTtmdW5jdGlvbiB4KHQpe3JldHVybiBcInBvbHlnb25cIj09PXQudHlwZX1mdW5jdGlvbiBkKHQpe3JldHVybiBcInBvbHlnb25cIj09PXRbMF0udHlwZX1mdW5jdGlvbiB3KHQpe3JldHVybiBcInBvbHlsaW5lXCI9PT10WzBdLnR5cGV9ZnVuY3Rpb24gUih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIG18fHQgaW5zdGFuY2VvZiB4JDEpKXtjb25zdCB0PVwic3RyYWlnaHRMaW5lRGVuc2lmeTogdGhlIGlucHV0IGdlb21ldHJ5IGlzIG5laXRoZXIgcG9seWxpbmUgbm9yIHBvbHlnb25cIjt0aHJvdyB5LmVycm9yKHQpLG5ldyBzJDIodCl9Y29uc3Qgbj1zJDEodCksbz1bXTtmb3IoY29uc3QgcyBvZiBuKXtjb25zdCB0PVtdO28ucHVzaCh0KSx0LnB1c2goW3NbMF1bMF0sc1swXVsxXV0pO2ZvcihsZXQgbj0wO248cy5sZW5ndGgtMTtuKyspe2NvbnN0IG89c1tuXVswXSxyPXNbbl1bMV0saT1zW24rMV1bMF0sbD1zW24rMV1bMV0sZj1NYXRoLnNxcnQoKGktbykqKGktbykrKGwtcikqKGwtcikpLGM9KGwtcikvZixwPShpLW8pL2YsdT1mL2U7aWYodT4xKXtmb3IobGV0IGw9MTtsPD11LTE7bCsrKXtjb25zdCBuPWwqZSxzPXAqbitvLGk9YypuK3I7dC5wdXNoKFtzLGldKTt9Y29uc3Qgbj0oZitNYXRoLmZsb29yKHUtMSkqZSkvMixzPXAqbitvLGk9YypuK3I7dC5wdXNoKFtzLGldKTt9dC5wdXNoKFtpLGxdKTt9fXJldHVybiB4KHQpP25ldyB4JDEoe3JpbmdzOm8sc3BhdGlhbFJlZmVyZW5jZTp0LnNwYXRpYWxSZWZlcmVuY2V9KTpuZXcgbSh7cGF0aHM6byxzcGF0aWFsUmVmZXJlbmNlOnQuc3BhdGlhbFJlZmVyZW5jZX0pfWZ1bmN0aW9uIE0odCxlLG4pe2lmKGUpe2NvbnN0IGU9Uih0LDFlNik7dD1SJDEoZSwhMCk7fXJldHVybiBuJiYodD1vJDEodCxuKSksdH1mdW5jdGlvbiBQKHQsZSxuKXtpZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBvPXRbMF07aWYobz5lKXtjb25zdCBuPWkkMShvLGUpO3RbMF09bytuKigtMiplKTt9ZWxzZSBpZihvPG4pe2NvbnN0IGU9aSQxKG8sbik7dFswXT1vK2UqKC0yKm4pO319ZWxzZSB7Y29uc3Qgbz10Lng7aWYobz5lKXtjb25zdCBuPWkkMShvLGUpO3Q9dC5jbG9uZSgpLm9mZnNldChuKigtMiplKSwwKTt9ZWxzZSBpZihvPG4pe2NvbnN0IGU9aSQxKG8sbik7dD10LmNsb25lKCkub2Zmc2V0KGUqKC0yKm4pLDApO319cmV0dXJuIHR9ZnVuY3Rpb24gYih0LGUpe2xldCBuPS0xO2ZvcihsZXQgbz0wO288ZS5jdXRJbmRleGVzLmxlbmd0aDtvKyspe2NvbnN0IHM9ZS5jdXRJbmRleGVzW29dLHI9ZS5nZW9tZXRyaWVzW29dLGk9cyQxKHIpO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBlPWlbdF07ZS5zb21lKChuPT57aWYoblswXTwxODApcmV0dXJuICEwO3tsZXQgbj0wO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF1bMF07bj1vPm4/bzpuO31uPU51bWJlcihuLnRvRml4ZWQoOSkpO2NvbnN0IG89LTM2MCppJDEobiwxODApO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBlPXIuZ2V0UG9pbnQodCxzKTtyLnNldFBvaW50KHQscyxlLmNsb25lKCkub2Zmc2V0KG8sMCkpO31yZXR1cm4gITB9fSkpO31pZihzPT09bil7aWYoZCh0KSlmb3IoY29uc3QgZSBvZiBzJDEocikpdFtzXT10W3NdLmFkZFJpbmcoZSk7ZWxzZSBpZih3KHQpKWZvcihjb25zdCBlIG9mIHMkMShyKSl0W3NdPXRbc10uYWRkUGF0aChlKTt9ZWxzZSBuPXMsdFtzXT1yO31yZXR1cm4gdH1hc3luYyBmdW5jdGlvbiBMKG8kMixzLGwpe2lmKCFBcnJheS5pc0FycmF5KG8kMikpcmV0dXJuIEwoW28kMl0scyk7Y29uc3QgcD1zP3MudXJsOnMkMy5nZW9tZXRyeVNlcnZpY2VVcmw7bGV0IHkseCxkLHcsaixSLFUsayx2PTA7Y29uc3QgQT1bXSx6PVtdO2Zvcihjb25zdCB0JDEgb2YgbyQyKWlmKHQodCQxKSl6LnB1c2godCQxKTtlbHNlIGlmKHl8fCh5PXQkMS5zcGF0aWFsUmVmZXJlbmNlLHg9Uyh5KSxkPXkuaXNXZWJNZXJjYXRvcixSPWQ/MTAyMTAwOjQzMjYsdz1yW1JdLm1heFgsaj1yW1JdLm1pblgsVT1yW1JdLnBsdXMxODBMaW5lLGs9cltSXS5taW51czE4MExpbmUpLHgpaWYoXCJtZXNoXCI9PT10JDEudHlwZSl6LnB1c2godCQxKTtlbHNlIGlmKFwicG9pbnRcIj09PXQkMS50eXBlKXoucHVzaChQKHQkMS5jbG9uZSgpLHcsaikpO2Vsc2UgaWYoXCJtdWx0aXBvaW50XCI9PT10JDEudHlwZSl7Y29uc3QgZT10JDEuY2xvbmUoKTtlLnBvaW50cz1lLnBvaW50cy5tYXAoKHQ9PlAodCx3LGopKSksei5wdXNoKGUpO31lbHNlIGlmKFwiZXh0ZW50XCI9PT10JDEudHlwZSl7Y29uc3QgZT10JDEuY2xvbmUoKS5fbm9ybWFsaXplKCExLCExLHgpO3oucHVzaChlLnJpbmdzP25ldyB4JDEoZSk6ZSk7fWVsc2UgaWYodCQxLmV4dGVudCl7Y29uc3QgZT10JDEuZXh0ZW50LG49aSQxKGUueG1pbixqKSooMip3KTtsZXQgbz0wPT09bj90JDEuY2xvbmUoKTpvJDEodCQxLmNsb25lKCksbik7ZS5vZmZzZXQobiwwKSxlLmludGVyc2VjdHMoVSkmJmUueG1heCE9PXc/KHY9ZS54bWF4PnY/ZS54bWF4OnYsbz1NKG8sZCksQS5wdXNoKG8pLHoucHVzaChcImN1dFwiKSk6ZS5pbnRlcnNlY3RzKGspJiZlLnhtaW4hPT1qPyh2PWUueG1heCooMip3KT52P2UueG1heCooMip3KTp2LG89TShvLGQsMzYwKSxBLnB1c2gobyksei5wdXNoKFwiY3V0XCIpKTp6LnB1c2gobyk7fWVsc2Ugei5wdXNoKHQkMS5jbG9uZSgpKTtlbHNlIHoucHVzaCh0JDEpO2xldCBJPWkkMSh2LHcpLFg9LTkwO2NvbnN0IHE9SSxDPW5ldyBtO2Zvcig7ST4wOyl7Y29uc3QgdD0zNjAqSS0xODA7Qy5hZGRQYXRoKFtbdCxYXSxbdCwtMSpYXV0pLFgqPS0xLEktLTt9aWYoQS5sZW5ndGg+MCYmcT4wKXtjb25zdCB0PWIoQSxhd2FpdCBvKHAsQSxDLGwpKSxlPVtdLHM9W107Zm9yKGxldCBsPTA7bDx6Lmxlbmd0aDtsKyspe2NvbnN0IHI9eltsXTtpZihcImN1dFwiIT09cilzLnB1c2gocik7ZWxzZSB7Y29uc3Qgcj10LnNoaWZ0KCksZj1vJDJbbF07ciQxKGYpJiZcInBvbHlnb25cIj09PWYudHlwZSYmZi5yaW5ncyYmZi5yaW5ncy5sZW5ndGg+MSYmci5yaW5ncy5sZW5ndGg+PWYucmluZ3MubGVuZ3RoPyhlLnB1c2gocikscy5wdXNoKFwic2ltcGxpZnlcIikpOnMucHVzaChkP2QkMihyKTpyKTt9fWlmKCFlLmxlbmd0aClyZXR1cm4gcztjb25zdCByPWF3YWl0IGkocCxlLGwpLGY9W107Zm9yKGxldCBuPTA7bjxzLmxlbmd0aDtuKyspe2NvbnN0IHQ9c1tuXTtcInNpbXBsaWZ5XCIhPT10P2YucHVzaCh0KTpmLnB1c2goZD9kJDIoci5zaGlmdCgpKTpyLnNoaWZ0KCkpO31yZXR1cm4gZn1jb25zdCBEPVtdO2ZvcihsZXQgdD0wO3Q8ei5sZW5ndGg7dCsrKXtjb25zdCBlPXpbdF07aWYoXCJjdXRcIiE9PWUpRC5wdXNoKGUpO2Vsc2Uge2NvbnN0IHQ9QS5zaGlmdCgpO0QucHVzaCghMD09PWQ/ZCQyKHQpOnQpO319cmV0dXJuIFByb21pc2UucmVzb2x2ZShEKX1cblxuZXhwb3J0IHsgTCB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3JtYWxpemVVdGlscy02OWY4M2MwNS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=