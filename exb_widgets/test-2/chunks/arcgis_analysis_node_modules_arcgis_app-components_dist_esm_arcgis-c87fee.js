"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c87fee"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-settings.entry.js":
/*!********************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-tile-layer-settings.entry.js ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_tile_layer_settings: () => (/* binding */ ArcgisNewItemPagesTileLayerSettings)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _portal_79caaeff_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./portal-79caaeff.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-79caaeff.js");
/* harmony import */ var _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config-eb5f7dc2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js");
/* harmony import */ var _item_properties_e6412a9a_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./item-properties-e6412a9a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-properties-e6412a9a.js");
/* harmony import */ var _feature_layer_38cdae87_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./feature-layer-38cdae87.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-38cdae87.js");
/* harmony import */ var _tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tile-layer-f8be7028.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-f8be7028.js");
/* harmony import */ var _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./add-item-97d577a9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js");
/* harmony import */ var _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ui-ecf86bba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js");
/* harmony import */ var _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tile-layer-90a6b901.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-90a6b901.js");
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _privileges_ccd5f37d_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./privileges-ccd5f37d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/privileges-ccd5f37d.js");
/* harmony import */ var _functional_c82f5ab9_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./functional-c82f5ab9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-c82f5ab9.js");
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/* harmony import */ var _feature_layer_d33ea114_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./feature-layer-d33ea114.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-d33ea114.js");
/* harmony import */ var _guid_4f4176ba_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./guid-4f4176ba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/guid-4f4176ba.js");
/* harmony import */ var _thumbnail_0b7adfcd_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./thumbnail-0b7adfcd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/thumbnail-0b7adfcd.js");
/* harmony import */ var _query_4f7b7e4d_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./query-4f7b7e4d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/query-4f7b7e4d.js");
/* harmony import */ var _user_e3dedc4a_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./user-e3dedc4a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/user-e3dedc4a.js");
/* harmony import */ var _api_f7934cd7_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./api-f7934cd7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/api-f7934cd7.js");
/* harmony import */ var _server_item_f12153e6_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./server-item-f12153e6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-f12153e6.js");
/* harmony import */ var _functional_9f648bee_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./functional-9f648bee.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-9f648bee.js");
/* harmony import */ var _item_types_b4fe86ad_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./item-types-b4fe86ad.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-types-b4fe86ad.js");
/* harmony import */ var _item_d9d70416_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./item-d9d70416.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-d9d70416.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/* harmony import */ var _feature_layer_69305a85_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./feature-layer-69305a85.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-69305a85.js");
/* harmony import */ var _ags_68d4ae20_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ags-68d4ae20.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ags-68d4ae20.js");
/* harmony import */ var _url_f3b82cc7_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./url-f3b82cc7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-f3b82cc7.js");
/* harmony import */ var _storage_d7f5822e_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./storage-d7f5822e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/storage-d7f5822e.js");
/* harmony import */ var _file_f36193e9_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./file-f36193e9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/file-f36193e9.js");
/* harmony import */ var _store_3210b604_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./store-3210b604.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/store-3210b604.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */































const arcgisNewItemPagesTileLayerSettingsCss = ".title{margin-bottom:1.5rem}.section{margin-bottom:2rem}.section-title{font-size:1rem;font-weight:400;margin-bottom:0.25rem;margin-top:0}.description{margin-bottom:1rem;margin-top:0;font-size:0.75rem}";

const ArcgisNewItemPagesTileLayerSettings = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.newItemUpdatePage = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
    // --- Main flow controller
    this.publishType = "tiles";
    // --- Data
    this.autoCreation = true;
    this.basemapUrl = "";
    this.featureLayerInfos = null;
    this.featureLayerLayers = null;
    this.serviceInfo = null;
    /* For auto creation option */
    this.cacheOnDemandMinScale = _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.T;
    this.calculatedScale = {
      minScale: _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.T,
      maxScale: _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.e
    };
    /** Used to prevent re-fetching whenever the user switch baseMapType */
    this.curLods = [];
    this.ranges = [
      { level: 0, label: "world" },
      { level: 1, label: "continent" },
      { level: 2, label: "countries" },
      { level: 3, label: "countriesSmall" },
      { level: 4, label: "states" },
      { level: 5, label: "state" },
      { level: 6, label: "counties" },
      { level: 7, label: "county" },
      { level: 8, label: "metropolitan" },
      { level: 9, label: "cities" },
      { level: 10, label: "city" },
      { level: 11, label: "town" },
      { level: 12, label: "neighborhood" },
      { level: 13, label: "streets" },
      { level: 14, label: "street" },
      { level: 15, label: "buildings" },
      { level: 16, label: "building" },
      { level: 17, label: "small" },
      { level: 18, label: "rooms" },
      { level: 19, label: "room" }
    ];
    this.tileLayerInfo = null;
    // --- UI
    this.handleUrlInputError = (errString) => {
      const { error } = this.i18n;
      this.alertInfo = {
        title: errString === "invalidUrl" ? this.invalidUrlString : error.urlErrorTitle,
        description: errString === "invalidUrl" ? undefined : error[errString]
      };
    };
    // --- Functionality
    this.getPublishTypeInfo = () => {
      const { publishType } = this;
      switch (publishType) {
        case "tiles":
          return "mapserver";
        case "scenes":
          return "sceneserver";
        case "features":
          return "featureserver";
        case "vectorTiles":
          return "vectortileserver";
        case "tiledImagery":
        case "dynamicImagery":
          return "imageserver";
        default:
          return publishType;
      }
    };
    this.toggleAutoCreation = (e) => {
      this.autoCreation = e.detail;
    };
    this.handleBasemapChange = (basemap) => {
      var _a;
      const { tileLayerInfo, curLods } = this;
      this.basemapType = basemap;
      const handleNewLods = (newLods) => {
        const isSameLods = newLods.length === curLods.length &&
          newLods.every((lod, index) => {
            const curLod = curLods[index];
            return (lod.level === curLod.level &&
              lod.resolution === curLod.resolution &&
              lod.scale === curLod.scale &&
              lod.label === curLod.label);
          });
        if (!isSameLods) {
          this.curLods = newLods;
        }
      };
      const userDefinedLods = (_a = tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.info) === null || _a === void 0 ? void 0 : _a.lods;
      if (basemap === "standard") {
        handleNewLods(_tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.g);
      }
      else if (userDefinedLods) {
        handleNewLods(userDefinedLods);
      }
    };
    this.fetchTileLayerInfo = async (url) => {
      this.isProcessing = true;
      this.alertInfo = null;
      this.tileLayerInfo = null;
      const { error, result } = await (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.b)(url, false);
      if (error) {
        this.handleUrlInputError(error.code);
      }
      else if (result) {
        this.tileLayerInfo = { url, info: result };
      }
      this.isProcessing = false;
      return !error;
    };
    this.onUrlInputBlur = async () => {
      const { tileLayerInfo, basemapUrl } = this;
      if (!basemapUrl) {
        this.tileLayerInfo = null;
        this.basemapUrl = null;
        return;
      }
      if ((tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.url) === basemapUrl) {
        // No point in re-fetching the same info
        return;
      }
      this.fetchTileLayerInfo(basemapUrl);
    };
    this.alertInfo = undefined;
    this.isProcessing = false;
    this.showIncreaseScaleRangeWarning = false;
    this.selectedItem = undefined;
    this.basemapType = undefined;
  }
  async handleNext() {
    var _a;
    if (_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
      // 3D Tiles doesn't support this flow
      return;
    }
    const { publishType, serviceInfo: _, autoCreation, cacheOnDemandMinScale, calculatedScale, tileLayerInfo, selectedItem, basemapType, basemapUrl, inputRef, handleUrlInputError, fetchTileLayerInfo } = this;
    if (basemapType === "custom") {
      if (!basemapUrl) {
        handleUrlInputError("invalidUrl");
        inputRef.setFocus();
        return;
      }
      if (!tileLayerInfo) {
        const success = await fetchTileLayerInfo(basemapUrl);
        if (!success) {
          inputRef.setFocus();
          return;
        }
      }
    }
    const { publishContent } = (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.d)({
      id: selectedItem.id,
      title: selectedItem.title
    }, {
      publishType,
      cacheOnDemand: publishType !== "vectorTiles" && autoCreation,
      cacheOnDemandMinScale,
      tileInfo: tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.info,
      scale: Object.assign({}, calculatedScale),
      layers: (_a = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerData) === null || _a === void 0 ? void 0 : _a.layers
    }, _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__.c.portal.isPortal);
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishContent = publishContent;
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileAutoCreation = autoCreation;
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapType = basemapType;
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapUrl = basemapUrl;
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType = publishType;
    this.newItemUpdatePage.emit("itemProperties");
  }
  async componentWillLoad() {
    var _a, _b;
    if (_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
      // 3D Tiles doesn't support this flow
      return;
    }
    this.fromFeatureLayer = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerFromFeatureLayer;
    this.publishType = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType;
    this.i18n = _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_7__.u.i18n.tileLayerSettings;
    this.invalidUrlString = _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_7__.u.i18n.url.invalidUrl;
    this.autoCreation = (_a = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileAutoCreation) !== null && _a !== void 0 ? _a : true;
    this.basemapUrl = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapUrl;
    this.basemapType = (_b = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerBasemapType) !== null && _b !== void 0 ? _b : "standard";
    // Reset request item
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishContent = null;
    let curItem = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.item;
    if (!curItem) {
      // In case the item is published from item detail page
      curItem = Object.assign(Object.assign({}, _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.existingItem), { id: _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.id, title: _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.sourceTitle, type: _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.type, tags: _item_properties_e6412a9a_js__WEBPACK_IMPORTED_MODULE_3__.i.tags });
      _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.item = curItem;
    }
    // TODO: integrate feature/tile layer publish types with main ItemType structure
    const publishMap = {
      vectorTiles: "Vector Tile Service",
      tiles: "Tile Layer",
      scenes: "Scene Service"
    };
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.type = publishMap[_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType];
    _item_properties_e6412a9a_js__WEBPACK_IMPORTED_MODULE_3__.i.title = curItem.title;
    this.selectedItem = curItem;
    const processTileDetail = async () => {
      var _a;
      if (_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerPublishType === "3dTiles") {
        // 3D Tiles doesn't support this flow
        return;
      }
      this.isProcessing = true;
      const url = curItem.url;
      let layers = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerLayers;
      let tables = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerTables;
      let serviceInfo = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerServiceInfo;
      if ((!_config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__.c.portal.isPortal || !_add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_6__.a.tileLayerFromFeatureLayer) &&
        !layers &&
        !tables &&
        !serviceInfo) {
        const result = await (0,_feature_layer_38cdae87_js__WEBPACK_IMPORTED_MODULE_4__.g)(url, (0,_portal_79caaeff_js__WEBPACK_IMPORTED_MODULE_1__.g)(_config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__.c.portal), true);
        layers = result.layers;
        tables = result.tables;
        serviceInfo = result.serviceInfo;
      }
      this.serviceInfo = serviceInfo;
      this.featureLayerInfos = [...(layers || []), ...(tables || [])];
      this.featureLayerLayers = [...(layers || [])];
      // TODO: support scene
      // https://devtopia.esri.com/WebGIS/arcgis-portal-app/blob/master/src/js/arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg.js#L382-L394
      // https://devtopia.esri.com/WebGIS/arcgis-portal-app/blob/master/src/js/arcgisonline/sharing/dijit/dialog/PublishTileServiceDlg.js#L404-L406
      await this.handleTileLayerScaleChange({
        minScale: _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.T,
        maxScale: _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.e
      });
      // check for tiles on demand renderer support
      if (this.publishType === "tiles") {
        // TODO: disable cache on demand based on the result
        (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.h)(this.featureLayerLayers, (_a = _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__.c.config.tilesOnDemandEnabled) !== null && _a !== void 0 ? _a : false);
      }
      this.isProcessing = false;
    };
    // Avoid blocking the render thread with await
    processTileDetail();
  }
  async handleTileLayerScaleChange(constraints) {
    var _a, _b;
    const { selectedItem, featureLayerInfos, tileLayerInfo, publishType } = this;
    if (publishType !== "tiles") {
      return;
    }
    const itemUrl = selectedItem.url;
    const { cacheOnDemandMinScale, calculatedScale } = await (0,_tile_layer_f8be7028_js__WEBPACK_IMPORTED_MODULE_5__.e)(constraints, (_b = (_a = tileLayerInfo === null || tileLayerInfo === void 0 ? void 0 : tileLayerInfo.info) === null || _a === void 0 ? void 0 : _a.lods) !== null && _b !== void 0 ? _b : _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.a.lods, featureLayerInfos, itemUrl);
    if (itemUrl) {
      cacheOnDemandMinScale && (this.cacheOnDemandMinScale = cacheOnDemandMinScale);
      this.calculatedScale = calculatedScale;
    }
  }
  render() {
    const { ranges: _, i18n, toggleAutoCreation, handleBasemapChange, onUrlInputBlur, isProcessing, autoCreation, basemapType, basemapUrl, alertInfo, publishType, fromFeatureLayer } = this;
    // TODO: add _selectAttributesContainer for vector tiles
    // TODO: implement the rest of `_getItemAttr`
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-loader", { active: isProcessing }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "title" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-description", { header: i18n.title, scale: "l" })), publishType === "tiles" && (!_config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_2__.c.portal.isPortal || !fromFeatureLayer) && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "section" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-switch-card", { defaultChecked: autoCreation, header: i18n.autoCreateOption.title, description: i18n.autoCreateOption.description, onSwitchChange: toggleAutoCreation }))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "section" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "section-title" }, i18n.basemapOption), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select-group", { layout: "vertical" }, _tile_layer_90a6b901_js__WEBPACK_IMPORTED_MODULE_8__.f.map((option) => {
      const key = option === "custom" ? "customBasemap" : "onlineBasemapOption";
      return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-tile-select", { key: option, checked: option === basemapType, onCalciteTileSelectChange: () => handleBasemapChange(option), description: i18n[key].description, heading: i18n[key].title, name: option, "input-enabled": true, "input-alignment": "start", type: "radio", value: option, width: "full", id: `${option}-input-option` }));
    }))), basemapType === "custom" && ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "section" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "section-title" }, i18n.customBasemapUrl), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-input", { scale: "m", disabled: isProcessing, value: basemapUrl, onCalciteInputInput: (e) => {
        this.basemapUrl = e.target.value;
        this.alertInfo = null;
      }, onBlur: onUrlInputBlur, placeholder: "https://webadaptorhost.domain.com/arcgis/rest/services/service/MapServer", ref: (ele) => (this.inputRef = ele) }))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { heading: alertInfo === null || alertInfo === void 0 ? void 0 : alertInfo.title, description: alertInfo === null || alertInfo === void 0 ? void 0 : alertInfo.description, active: !!alertInfo, onAlertDismiss: () => (this.alertInfo = null) })));
  }
  get el() { return (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
};
ArcgisNewItemPagesTileLayerSettings.style = arcgisNewItemPagesTileLayerSettingsCss;




/***/ }),

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-90a6b901.js":
/*!****************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/tile-layer-90a6b901.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE),
/* harmony export */   T: () => (/* binding */ TILE_LAYER_SCALE_MIN),
/* harmony export */   a: () => (/* binding */ presetRasterTileCacheInfo),
/* harmony export */   b: () => (/* binding */ presetVectorTileImageInfo),
/* harmony export */   c: () => (/* binding */ presetRasterTileImageInfo),
/* harmony export */   d: () => (/* binding */ tileLayerTypes),
/* harmony export */   e: () => (/* binding */ TILE_LAYER_SCALE_MAX),
/* harmony export */   f: () => (/* binding */ tileLayerBasemaps),
/* harmony export */   g: () => (/* binding */ presetLods),
/* harmony export */   p: () => (/* binding */ presetVectorTileCacheInfo),
/* harmony export */   t: () => (/* binding */ tilesLayer3dTilesLayerTypes)
/* harmony export */ });
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */
const tileLayerBasemaps = ["standard", "custom"];
const tilesLayer3dTilesLayerTypes = ["IntegratedMesh", "3DObject"];
const DEFAULT_TILE_LAYER_3D_TILES_LAYER_TYPE = tilesLayer3dTilesLayerTypes[0];
const tileLayerTypes = ["vector", "raster", "3dTiles"];
// TODO: switch this back once the SettingTileLayer supports this number
// export const TILE_LAYER_SCALE_MIN = 591657527.591555;
const TILE_LAYER_SCALE_MIN = 147914382;
const TILE_LAYER_SCALE_MAX = 0;
const presetLods = [
  { level: 0, label: "1:591,657,528", scale: 591657527.591555 },
  { level: 1, label: "1:295,828,764", scale: 295828763.795777 },
  { level: 2, label: "1:147,914,382", scale: 147914381.897889 },
  { level: 3, label: "1:73,957,191", scale: 73957190.948944 },
  { level: 4, label: "1:36,978,595", scale: 36978595.474472 },
  { level: 5, label: "1:18,489,298", scale: 18489297.737236 },
  { level: 6, label: "1:9,244,649", scale: 9244648.868618 },
  { level: 7, label: "1:4,622,324", scale: 4622324.434309 },
  { level: 8, label: "1:2,311,162", scale: 2311162.217155 },
  { level: 9, label: "1:1,155,581", scale: 1155581.108577 },
  { level: 10, label: "1:577,791", scale: 577790.554289 },
  { level: 11, label: "1:288,895", scale: 288895.277144 },
  { level: 12, label: "1:144,448", scale: 144447.638572 },
  { level: 13, label: "1:72,224", scale: 72223.819286 },
  { level: 14, label: "1:36,112", scale: 36111.909643 },
  { level: 15, label: "1:18,056", scale: 18055.954822 },
  { level: 16, label: "1:9,028", scale: 9027.977411 },
  { level: 17, label: "1:4,514", scale: 4513.988705 },
  { level: 18, label: "1:2,257", scale: 2256.994353 },
  { level: 19, label: "1:1,128", scale: 1128.497176 },
  { level: 20, label: "1:564", scale: 564.248588 },
  { level: 21, label: "1:282", scale: 282.124294 },
  { level: 22, label: "1:141", scale: 141.062147 }
];
const presetRasterTileCacheInfo = {
  spatialReference: { wkid: 102100, latestWkid: 3857 },
  origin: { x: -20037508.342787, y: 20037508.342787 },
  rows: 256,
  cols: 256,
  dpi: 96,
  preciseDpi: 96,
  lods: [
    { level: 0, resolution: 156543.033928, scale: 591657527.591555 },
    { level: 1, resolution: 78271.5169639999, scale: 295828763.795777 },
    { level: 2, resolution: 39135.7584820001, scale: 147914381.897889 },
    { level: 3, resolution: 19567.8792409999, scale: 73957190.948944 },
    { level: 4, resolution: 9783.93962049996, scale: 36978595.474472 },
    { level: 5, resolution: 4891.96981024998, scale: 18489297.737236 },
    { level: 6, resolution: 2445.98490512499, scale: 9244648.868618 },
    { level: 7, resolution: 1222.99245256249, scale: 4622324.434309 },
    { level: 8, resolution: 611.49622628138, scale: 2311162.217155 },
    { level: 9, resolution: 305.748113140558, scale: 1155581.108577 },
    { level: 10, resolution: 152.874056570411, scale: 577790.554289 },
    { level: 11, resolution: 76.4370282850732, scale: 288895.277144 },
    { level: 12, resolution: 38.2185141425366, scale: 144447.638572 },
    { level: 13, resolution: 19.1092570712683, scale: 72223.819286 },
    { level: 14, resolution: 9.55462853563415, scale: 36111.909643 },
    { level: 15, resolution: 4.77731426794937, scale: 18055.954822 },
    { level: 16, resolution: 2.38865713397468, scale: 9027.977411 },
    { level: 17, resolution: 1.19432856685505, scale: 4513.988705 },
    { level: 18, resolution: 0.597164283559817, scale: 2256.994353 },
    { level: 19, resolution: 0.298582141647617, scale: 1128.497176 },
    { level: 20, resolution: 0.14929107082380833, scale: 564.248588 },
    { level: 21, resolution: 0.07464553541190416, scale: 282.124294 },
    { level: 22, resolution: 0.03732276770595208, scale: 141.062147 }
  ]
};
const presetVectorTileCacheInfo = {
  spatialReference: {
    wkid: 102100,
    latestWkid: 3857
  },
  origin: {
    x: -2.0037508342787e7,
    y: 2.0037508342787e7
  },
  rows: 512,
  cols: 512,
  dpi: 96,
  preciseDpi: 96,
  lods: [
    { level: 0, resolution: 78271.51696399994, scale: 2.95828763795777e8 },
    { level: 1, resolution: 39135.75848200009, scale: 1.47914381897889e8 },
    { level: 2, resolution: 19567.87924099992, scale: 7.3957190948944e7 },
    { level: 3, resolution: 9783.93962049996, scale: 3.6978595474472e7 },
    { level: 4, resolution: 4891.96981024998, scale: 1.8489297737236e7 },
    { level: 5, resolution: 2445.98490512499, scale: 9244648.868618 },
    { level: 6, resolution: 1222.992452562495, scale: 4622324.434309 },
    { level: 7, resolution: 611.4962262813797, scale: 2311162.217155 },
    { level: 8, resolution: 305.74811314055756, scale: 1155581.108577 },
    { level: 9, resolution: 152.87405657041106, scale: 577790.554289 },
    { level: 10, resolution: 76.43702828507324, scale: 288895.277144 },
    { level: 11, resolution: 38.21851414253662, scale: 144447.638572 },
    { level: 12, resolution: 19.10925707126831, scale: 72223.819286 },
    { level: 13, resolution: 9.554628535634155, scale: 36111.909643 },
    { level: 14, resolution: 4.77731426794937, scale: 18055.954822 },
    { level: 15, resolution: 2.388657133974685, scale: 9027.977411 },
    { level: 16, resolution: 1.1943285668550503, scale: 4513.988705 },
    { level: 17, resolution: 0.5971642835598172, scale: 2256.994353 },
    { level: 18, resolution: 0.29858214164761665, scale: 1128.497176 },
    { level: 19, resolution: 0.14929107082380833, scale: 564.248588 },
    { level: 20, resolution: 0.07464553541190416, scale: 282.124294 },
    { level: 21, resolution: 0.03732276770595208, scale: 141.062147 },
    { level: 22, resolution: 0.01866138385297604, scale: 70.5310735 },
    { level: 23, resolution: 0.0093306919293428040466217365, scale: 35.265536760789715032412079626 }
  ]
};
const presetVectorTileImageInfo = {
  format: "indexedVector",
  compressionQuality: 0,
  antialiasing: false
};
const presetRasterTileImageInfo = {
  format: "PNG32",
  compressionQuality: 0,
  antialiasing: true
};




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLWM4N2ZlZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDNkc7QUFDbEQ7QUFDSDtBQUNpQjtBQUNDO0FBQ29GO0FBQ25HO0FBQ047QUFDb0g7QUFDdEk7QUFDRDtBQUNBO0FBQ0w7QUFDUTtBQUNUO0FBQ0s7QUFDSjtBQUNEO0FBQ0Q7QUFDUTtBQUNEO0FBQ0E7QUFDTjtBQUNEO0FBQ1U7QUFDVjtBQUNBO0FBQ0k7QUFDSDtBQUNDOztBQUU3Qix1REFBdUQscUJBQXFCLFNBQVMsbUJBQW1CLGVBQWUsZUFBZSxnQkFBZ0Isc0JBQXNCLGFBQWEsYUFBYSxtQkFBbUIsYUFBYSxrQkFBa0I7O0FBRXhQO0FBQ0E7QUFDQSxJQUFJLHFEQUFnQjtBQUNwQiw2QkFBNkIscURBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHNEQUFvQjtBQUNyRDtBQUNBLGdCQUFnQixzREFBb0I7QUFDcEMsZ0JBQWdCLHNEQUFvQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMEJBQTBCO0FBQ2xDLFFBQVEsOEJBQThCO0FBQ3RDLFFBQVEsOEJBQThCO0FBQ3RDLFFBQVEsbUNBQW1DO0FBQzNDLFFBQVEsMkJBQTJCO0FBQ25DLFFBQVEsMEJBQTBCO0FBQ2xDLFFBQVEsNkJBQTZCO0FBQ3JDLFFBQVEsMkJBQTJCO0FBQ25DLFFBQVEsaUNBQWlDO0FBQ3pDLFFBQVEsMkJBQTJCO0FBQ25DLFFBQVEsMEJBQTBCO0FBQ2xDLFFBQVEsMEJBQTBCO0FBQ2xDLFFBQVEsa0NBQWtDO0FBQzFDLFFBQVEsNkJBQTZCO0FBQ3JDLFFBQVEsNEJBQTRCO0FBQ3BDLFFBQVEsK0JBQStCO0FB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QWlFO0FBQ3ZFLE1BQU0sZ0VBQWdFO0FBQ3RFLE1BQU0sZ0VBQWdFO0FBQ3RFLE1BQU0sZ0VBQWdFO0FBQ3RFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sOERBQThEO0FBQ3BFLE1BQU0sOERBQThEO0FBQ3BFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sZ0VBQWdFO0FBQ3RFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU0sK0RBQStEO0FBQ3JFLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTZVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vYXJjZ2lzLW5ldy1pdGVtLXBhZ2VzLXRpbGUtbGF5ZXItc2V0dGluZ3MuZW50cnkuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYW5hbHlzaXMvbm9kZV9tb2R1bGVzL0BhcmNnaXMvYXBwLWNvbXBvbmVudHMvZGlzdC9lc20vdGlsZS1sYXllci05MGE2YjkwMS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBkIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTkyZWJiMzk2LmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0UmVzdEJhc2VVcmwgfSBmcm9tICcuL3BvcnRhbC03OWNhYWVmZi5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbmZpZ1N0YXRlIH0gZnJvbSAnLi9jb25maWctZWI1ZjdkYzIuanMnO1xuaW1wb3J0IHsgaSBhcyBpdGVtUHJvcGVydGllc1N0YXRlIH0gZnJvbSAnLi9pdGVtLXByb3BlcnRpZXMtZTY0MTJhOWEuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRTZXJ2aWNlQW5kTGF5ZXJJbmZvIH0gZnJvbSAnLi9mZWF0dXJlLWxheWVyLTM4Y2RhZTg3LmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0VGlsZUxheWVySW5mbywgZCBhcyBnZXRQdWJsaXNoVGlsZUxheWVyUGFyYW1zLCBlIGFzIGdldFN1Z2dlc3RlZFNjYWxlUmFuZ2UsIGggYXMgY2hlY2tUaWxlc09uRGVtYW5kU3VwcG9ydCB9IGZyb20gJy4vdGlsZS1sYXllci1mOGJlNzAyOC5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEl0ZW1TdGF0ZSB9IGZyb20gJy4vYWRkLWl0ZW0tOTdkNTc3YTkuanMnO1xuaW1wb3J0IHsgdSBhcyB1aVN0b3JlU3RhdGUgfSBmcm9tICcuL3VpLWVjZjg2YmJhLmpzJztcbmltcG9ydCB7IFQgYXMgVElMRV9MQVlFUl9TQ0FMRV9NSU4sIGUgYXMgVElMRV9MQVlFUl9TQ0FMRV9NQVgsIGYgYXMgdGlsZUxheWVyQmFzZW1hcHMsIGcgYXMgcHJlc2V0TG9kcywgYSBhcyBwcmVzZXRSYXN0ZXJUaWxlQ2FjaGVJbmZvIH0gZnJvbSAnLi90aWxlLWxheWVyLTkwYTZiOTAxLmpzJztcbmltcG9ydCAnLi9sb2FkTW9kdWxlcy1hYWYzMGJkNi5qcyc7XG5pbXBvcnQgJy4vcHJpdmlsZWdlcy1jY2Q1ZjM3ZC5qcyc7XG5pbXBvcnQgJy4vZnVuY3Rpb25hbC1jODJmNWFiOS5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtODFkNTQ4YjcuanMnO1xuaW1wb3J0ICcuL2ZlYXR1cmUtbGF5ZXItZDMzZWExMTQuanMnO1xuaW1wb3J0ICcuL2d1aWQtNGY0MTc2YmEuanMnO1xuaW1wb3J0ICcuL3RodW1ibmFpbC0wYjdhZGZjZC5qcyc7XG5pbXBvcnQgJy4vcXVlcnktNGY3YjdlNGQuanMnO1xuaW1wb3J0ICcuL3VzZXItZTNkZWRjNGEuanMnO1xuaW1wb3J0ICcuL2FwaS1mNzkzNGNkNy5qcyc7XG5pbXBvcnQgJy4vc2VydmVyLWl0ZW0tZjEyMTUzZTYuanMnO1xuaW1wb3J0ICcuL2Z1bmN0aW9uYWwtOWY2NDhiZWUuanMnO1xuaW1wb3J0ICcuL2l0ZW0tdHlwZXMtYjRmZTg2YWQuanMnO1xuaW1wb3J0ICcuL2l0ZW0tZDlkNzA0MTYuanMnO1xuaW1wb3J0ICcuL2RvbS0xM2Y1YjAwYy5qcyc7XG5pbXBvcnQgJy4vZmVhdHVyZS1sYXllci02OTMwNWE4NS5qcyc7XG5pbXBvcnQgJy4vYWdzLTY4ZDRhZTIwLmpzJztcbmltcG9ydCAnLi91cmwtZjNiODJjYzcuanMnO1xuaW1wb3J0ICcuL3N0b3JhZ2UtZDdmNTgyMmUuanMnO1xuaW1wb3J0ICcuL2ZpbGUtZjM2MTkzZTkuanMnO1xuaW1wb3J0ICcuL3N0b3JlLTMyMTBiNjA0LmpzJztcblxuY29uc3QgYXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2V0dGluZ3NDc3MgPSBcIi50aXRsZXttYXJnaW4tYm90dG9tOjEuNXJlbX0uc2VjdGlvbnttYXJnaW4tYm90dG9tOjJyZW19LnNlY3Rpb24tdGl0bGV7Zm9udC1zaXplOjFyZW07Zm9udC13ZWlnaHQ6NDAwO21hcmdpbi1ib3R0b206MC4yNXJlbTttYXJnaW4tdG9wOjB9LmRlc2NyaXB0aW9ue21hcmdpbi1ib3R0b206MXJlbTttYXJnaW4tdG9wOjA7Zm9udC1zaXplOjAuNzVyZW19XCI7XG5cbmNvbnN0IEFyY2dpc05ld0l0ZW1QYWdlc1RpbGVMYXllclNldHRpbmdzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJuZXdJdGVtVXBkYXRlUGFnZVwiLCA3KTtcbiAgICAvLyAtLS0gTWFpbiBmbG93IGNvbnRyb2xsZXJcbiAgICB0aGlzLnB1Ymxpc2hUeXBlID0gXCJ0aWxlc1wiO1xuICAgIC8vIC0tLSBEYXRhXG4gICAgdGhpcy5hdXRvQ3JlYXRpb24gPSB0cnVlO1xuICAgIHRoaXMuYmFzZW1hcFVybCA9IFwiXCI7XG4gICAgdGhpcy5mZWF0dXJlTGF5ZXJJbmZvcyA9IG51bGw7XG4gICAgdGhpcy5mZWF0dXJlTGF5ZXJMYXllcnMgPSBudWxsO1xuICAgIHRoaXMuc2VydmljZUluZm8gPSBudWxsO1xuICAgIC8qIEZvciBhdXRvIGNyZWF0aW9uIG9wdGlvbiAqL1xuICAgIHRoaXMuY2FjaGVPbkRlbWFuZE1pblNjYWxlID0gVElMRV9MQVlFUl9TQ0FMRV9NSU47XG4gICAgdGhpcy5jYWxjdWxhdGVkU2NhbGUgPSB7XG4gICAgICBtaW5TY2FsZTogVElMRV9MQVlFUl9TQ0FMRV9NSU4sXG4gICAgICBtYXhTY2FsZTogVElMRV9MQVlFUl9TQ0FMRV9NQVhcbiAgICB9O1xuICAgIC8qKiBVc2VkIHRvIHByZXZlbnQgcmUtZmV0Y2hpbmcgd2hlbmV2ZXIgdGhlIHVzZXIgc3dpdGNoIGJhc2VNYXBUeXBlICovXG4gICAgdGhpcy5jdXJMb2RzID0gW107XG4gICAgdGhpcy5yYW5nZXMgPSBbXG4gICAgICB7IGxldmVsOiAwLCBsYWJlbDogXCJ3b3JsZFwiIH0sXG4gICAgICB7IGxldmVsOiAxLCBsYWJlbDogXCJjb250aW5lbnRcIiB9LFxuICAgICAgeyBsZXZlbDogMiwgbGFiZWw6IFwiY291bnRyaWVzXCIgfSxcbiAgICAgIHsgbGV2ZWw6IDMsIGxhYmVsOiBcImNvdW50cmllc1NtYWxsXCIgfSxcbiAgICAgIHsgbGV2ZWw6IDQsIGxhYmVsOiBcInN0YXRlc1wiIH0sXG4gICAgICB7IGxldmVsOiA1LCBsYWJlbDogXCJzdGF0ZVwiIH0sXG4gICAgICB7IGxldmVsOiA2LCBsYWJlbDogXCJjb3VudGllc1wiIH0sXG4gICAgICB7IGxldmVsOiA3LCBsYWJlbDogXCJjb3VudHlcIiB9LFxuICAgICAgeyBsZXZlbDogOCwgbGFiZWw6IFwibWV0cm9wb2xpdGFuXCIgfSxcbiAgICAgIHsgbGV2ZWw6IDksIGxhYmVsOiBcImNpdGllc1wiIH0sXG4gICAgICB7IGxldmVsOiAxMCwgbGFiZWw6IFwiY2l0eVwiIH0sXG4gICAgICB7IGxldmVsOiAxMSwgbGFiZWw6IFwidG93blwiIH0sXG4gICAgICB7IGxldmVsOiAxMiwgbGFiZWw6IFwibmVpZ2hib3Job29kXCIgfSxcbiAgICAgIHsgbGV2ZWw6IDEzLCBsYWJlbDogXCJzdHJlZXRzXCIgfSxcbiAgICAgIHsgbGV2ZWw6IDE0LCBsYWJlbDogXCJzdHJlZXRcIiB9LFxuICAgICAgeyBsZXZlbDogMTUsIGxhYmVsOiBcImJ1aWxkaW5nc1wiIH0sXG4gICAgICB7IGxldmVsOiAxNiwgbGFiZWw6IFwiYnVpbGRpbmdcIiB9LFxuICAgICAgeyBsZXZlbDogMTcsIGxhYmVsOiBcInNtYWxsXCIgfSxcbiAgICAgIHsgbGV2ZWw6IDE4LCBsYWJlbDogXCJyb29tc1wiIH0sXG4gICAgICB7IGxldmVsOiAxOSwgbGFiZWw6IFwicm9vbVwiIH1cbiAgICBdO1xuICAgIHRoaXMudGlsZUxheWVySW5mbyA9IG51bGw7XG4gICAgLy8gLS0tIFVJXG4gICAgdGhpcy5oYW5kbGVVcmxJbnB1dEVycm9yID0gKGVyclN0cmluZykgPT4ge1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gdGhpcy5pMThuO1xuICAgICAgdGhpcy5hbGVydEluZm8gPSB7XG4gICAgICAgIHRpdGxlOiBlcnJTdHJpbmcgPT09IFwiaW52YWxpZFVybFwiID8gdGhpcy5pbnZhbGlkVXJsU3RyaW5nIDogZXJyb3IudXJsRXJyb3JUaXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGVyclN0cmluZyA9PT0gXCJpbnZhbGlkVXJsXCIgPyB1bmRlZmluZWQgOiBlcnJvcltlcnJTdHJpbmddXG4gICAgICB9O1xuICAgIH07XG4gICAgLy8gLS0tIEZ1bmN0aW9uYWxpdHlcbiAgICB0aGlzLmdldFB1Ymxpc2hUeXBlSW5mbyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcHVibGlzaFR5cGUgfSA9IHRoaXM7XG4gICAgICBzd2l0Y2ggKHB1Ymxpc2hUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0aWxlc1wiOlxuICAgICAgICAgIHJldHVybiBcIm1hcHNlcnZlclwiO1xuICAgICAgICBjYXNlIFwic2NlbmVzXCI6XG4gICAgICAgICAgcmV0dXJuIFwic2NlbmVzZXJ2ZXJcIjtcbiAgICAgICAgY2FzZSBcImZlYXR1cmVzXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZmVhdHVyZXNlcnZlclwiO1xuICAgICAgICBjYXNlIFwidmVjdG9yVGlsZXNcIjpcbiAgICAgICAgICByZXR1cm4gXCJ2ZWN0b3J0aWxlc2VydmVyXCI7XG4gICAgICAgIGNhc2UgXCJ0aWxlZEltYWdlcnlcIjpcbiAgICAgICAgY2FzZSBcImR5bmFtaWNJbWFnZXJ5XCI6XG4gICAgICAgICAgcmV0dXJuIFwiaW1hZ2VzZXJ2ZXJcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gcHVibGlzaFR5cGU7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnRvZ2dsZUF1dG9DcmVhdGlvbiA9IChlKSA9PiB7XG4gICAgICB0aGlzLmF1dG9DcmVhdGlvbiA9IGUuZGV0YWlsO1xuICAgIH07XG4gICAgdGhpcy5oYW5kbGVCYXNlbWFwQ2hhbmdlID0gKGJhc2VtYXApID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHsgdGlsZUxheWVySW5mbywgY3VyTG9kcyB9ID0gdGhpcztcbiAgICAgIHRoaXMuYmFzZW1hcFR5cGUgPSBiYXNlbWFwO1xuICAgICAgY29uc3QgaGFuZGxlTmV3TG9kcyA9IChuZXdMb2RzKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzU2FtZUxvZHMgPSBuZXdMb2RzLmxlbmd0aCA9PT0gY3VyTG9kcy5sZW5ndGggJiZcbiAgICAgICAgICBuZXdMb2RzLmV2ZXJ5KChsb2QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJMb2QgPSBjdXJMb2RzW2luZGV4XTtcbiAgICAgICAgICAgIHJldHVybiAobG9kLmxldmVsID09PSBjdXJMb2QubGV2ZWwgJiZcbiAgICAgICAgICAgICAgbG9kLnJlc29sdXRpb24gPT09IGN1ckxvZC5yZXNvbHV0aW9uICYmXG4gICAgICAgICAgICAgIGxvZC5zY2FsZSA9PT0gY3VyTG9kLnNjYWxlICYmXG4gICAgICAgICAgICAgIGxvZC5sYWJlbCA9PT0gY3VyTG9kLmxhYmVsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc1NhbWVMb2RzKSB7XG4gICAgICAgICAgdGhpcy5jdXJMb2RzID0gbmV3TG9kcztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVzZXJEZWZpbmVkTG9kcyA9IChfYSA9IHRpbGVMYXllckluZm8gPT09IG51bGwgfHwgdGlsZUxheWVySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGlsZUxheWVySW5mby5pbmZvKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9kcztcbiAgICAgIGlmIChiYXNlbWFwID09PSBcInN0YW5kYXJkXCIpIHtcbiAgICAgICAgaGFuZGxlTmV3TG9kcyhwcmVzZXRMb2RzKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHVzZXJEZWZpbmVkTG9kcykge1xuICAgICAgICBoYW5kbGVOZXdMb2RzKHVzZXJEZWZpbmVkTG9kcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmZldGNoVGlsZUxheWVySW5mbyA9IGFzeW5jICh1cmwpID0+IHtcbiAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWxlcnRJbmZvID0gbnVsbDtcbiAgICAgIHRoaXMudGlsZUxheWVySW5mbyA9IG51bGw7XG4gICAgICBjb25zdCB7IGVycm9yLCByZXN1bHQgfSA9IGF3YWl0IGdldFRpbGVMYXllckluZm8odXJsLCBmYWxzZSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVVcmxJbnB1dEVycm9yKGVycm9yLmNvZGUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocmVzdWx0KSB7XG4gICAgICAgIHRoaXMudGlsZUxheWVySW5mbyA9IHsgdXJsLCBpbmZvOiByZXN1bHQgfTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICByZXR1cm4gIWVycm9yO1xuICAgIH07XG4gICAgdGhpcy5vblVybElucHV0Qmx1ciA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdGlsZUxheWVySW5mbywgYmFzZW1hcFVybCB9ID0gdGhpcztcbiAgICAgIGlmICghYmFzZW1hcFVybCkge1xuICAgICAgICB0aGlzLnRpbGVMYXllckluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLmJhc2VtYXBVcmwgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoKHRpbGVMYXllckluZm8gPT09IG51bGwgfHwgdGlsZUxheWVySW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGlsZUxheWVySW5mby51cmwpID09PSBiYXNlbWFwVXJsKSB7XG4gICAgICAgIC8vIE5vIHBvaW50IGluIHJlLWZldGNoaW5nIHRoZSBzYW1lIGluZm9cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5mZXRjaFRpbGVMYXllckluZm8oYmFzZW1hcFVybCk7XG4gICAgfTtcbiAgICB0aGlzLmFsZXJ0SW5mbyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd0luY3JlYXNlU2NhbGVSYW5nZVdhcm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJhc2VtYXBUeXBlID0gdW5kZWZpbmVkO1xuICB9XG4gIGFzeW5jIGhhbmRsZU5leHQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPT09IFwiM2RUaWxlc1wiKSB7XG4gICAgICAvLyAzRCBUaWxlcyBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmbG93XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgcHVibGlzaFR5cGUsIHNlcnZpY2VJbmZvOiBfLCBhdXRvQ3JlYXRpb24sIGNhY2hlT25EZW1hbmRNaW5TY2FsZSwgY2FsY3VsYXRlZFNjYWxlLCB0aWxlTGF5ZXJJbmZvLCBzZWxlY3RlZEl0ZW0sIGJhc2VtYXBUeXBlLCBiYXNlbWFwVXJsLCBpbnB1dFJlZiwgaGFuZGxlVXJsSW5wdXRFcnJvciwgZmV0Y2hUaWxlTGF5ZXJJbmZvIH0gPSB0aGlzO1xuICAgIGlmIChiYXNlbWFwVHlwZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgaWYgKCFiYXNlbWFwVXJsKSB7XG4gICAgICAgIGhhbmRsZVVybElucHV0RXJyb3IoXCJpbnZhbGlkVXJsXCIpO1xuICAgICAgICBpbnB1dFJlZi5zZXRGb2N1cygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRpbGVMYXllckluZm8pIHtcbiAgICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGZldGNoVGlsZUxheWVySW5mbyhiYXNlbWFwVXJsKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgaW5wdXRSZWYuc2V0Rm9jdXMoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBwdWJsaXNoQ29udGVudCB9ID0gZ2V0UHVibGlzaFRpbGVMYXllclBhcmFtcyh7XG4gICAgICBpZDogc2VsZWN0ZWRJdGVtLmlkLFxuICAgICAgdGl0bGU6IHNlbGVjdGVkSXRlbS50aXRsZVxuICAgIH0sIHtcbiAgICAgIHB1Ymxpc2hUeXBlLFxuICAgICAgY2FjaGVPbkRlbWFuZDogcHVibGlzaFR5cGUgIT09IFwidmVjdG9yVGlsZXNcIiAmJiBhdXRvQ3JlYXRpb24sXG4gICAgICBjYWNoZU9uRGVtYW5kTWluU2NhbGUsXG4gICAgICB0aWxlSW5mbzogdGlsZUxheWVySW5mbyA9PT0gbnVsbCB8fCB0aWxlTGF5ZXJJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aWxlTGF5ZXJJbmZvLmluZm8sXG4gICAgICBzY2FsZTogT2JqZWN0LmFzc2lnbih7fSwgY2FsY3VsYXRlZFNjYWxlKSxcbiAgICAgIGxheWVyczogKF9hID0gYWRkSXRlbVN0YXRlLnRpbGVMYXllckRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXllcnNcbiAgICB9LCBjb25maWdTdGF0ZS5wb3J0YWwuaXNQb3J0YWwpO1xuICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJQdWJsaXNoQ29udGVudCA9IHB1Ymxpc2hDb250ZW50O1xuICAgIGFkZEl0ZW1TdGF0ZS50aWxlQXV0b0NyZWF0aW9uID0gYXV0b0NyZWF0aW9uO1xuICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJCYXNlbWFwVHlwZSA9IGJhc2VtYXBUeXBlO1xuICAgIGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJCYXNlbWFwVXJsID0gYmFzZW1hcFVybDtcbiAgICBhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPSBwdWJsaXNoVHlwZTtcbiAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlLmVtaXQoXCJpdGVtUHJvcGVydGllc1wiKTtcbiAgfVxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmIChhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGUgPT09IFwiM2RUaWxlc1wiKSB7XG4gICAgICAvLyAzRCBUaWxlcyBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmbG93XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZnJvbUZlYXR1cmVMYXllciA9IGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJGcm9tRmVhdHVyZUxheWVyO1xuICAgIHRoaXMucHVibGlzaFR5cGUgPSBhZGRJdGVtU3RhdGUudGlsZUxheWVyUHVibGlzaFR5cGU7XG4gICAgdGhpcy5pMThuID0gdWlTdG9yZVN0YXRlLmkxOG4udGlsZUxheWVyU2V0dGluZ3M7XG4gICAgdGhpcy5pbnZhbGlkVXJsU3RyaW5nID0gdWlTdG9yZVN0YXRlLmkxOG4udXJsLmludmFsaWRVcmw7XG4gICAgdGhpcy5hdXRvQ3JlYXRpb24gPSAoX2EgPSBhZGRJdGVtU3RhdGUudGlsZUF1dG9DcmVhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZTtcbiAgICB0aGlzLmJhc2VtYXBVcmwgPSBhZGRJdGVtU3RhdGUudGlsZUxheWVyQmFzZW1hcFVybDtcbiAgICB0aGlzLmJhc2VtYXBUeXBlID0gKF9iID0gYWRkSXRlbVN0YXRlLnRpbGVMYXllckJhc2VtYXBUeXBlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBcInN0YW5kYXJkXCI7XG4gICAgLy8gUmVzZXQgcmVxdWVzdCBpdGVtXG4gICAgYWRkSXRlbVN0YXRlLnRpbGVMYXllclB1Ymxpc2hDb250ZW50ID0gbnVsbDtcbiAgICBsZXQgY3VySXRlbSA9IGFkZEl0ZW1TdGF0ZS5pdGVtO1xuICAgIGlmICghY3VySXRlbSkge1xuICAgICAgLy8gSW4gY2FzZSB0aGUgaXRlbSBpcyBwdWJsaXNoZWQgZnJvbSBpdGVtIGRldGFpbCBwYWdlXG4gICAgICBjdXJJdGVtID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhZGRJdGVtU3RhdGUuZXhpc3RpbmdJdGVtKSwgeyBpZDogYWRkSXRlbVN0YXRlLmlkLCB0aXRsZTogYWRkSXRlbVN0YXRlLnNvdXJjZVRpdGxlLCB0eXBlOiBhZGRJdGVtU3RhdGUudHlwZSwgdGFnczogaXRlbVByb3BlcnRpZXNTdGF0ZS50YWdzIH0pO1xuICAgICAgYWRkSXRlbVN0YXRlLml0ZW0gPSBjdXJJdGVtO1xuICAgIH1cbiAgICAvLyBUT0RPOiBpbnRlZ3JhdGUgZmVhdHVyZS90aWxlIGxheWVyIHB1Ymxpc2ggdHlwZXMgd2l0aCBtYWluIEl0ZW1UeXBlIHN0cnVjdHVyZVxuICAgIGNvbnN0IHB1Ymxpc2hNYXAgPSB7XG4gICAgICB2ZWN0b3JUaWxlczogXCJWZWN0b3IgVGlsZSBTZXJ2aWNlXCIsXG4gICAgICB0aWxlczogXCJUaWxlIExheWVyXCIsXG4gICAgICBzY2VuZXM6IFwiU2NlbmUgU2VydmljZVwiXG4gICAgfTtcbiAgICBhZGRJdGVtU3RhdGUudHlwZSA9IHB1Ymxpc2hNYXBbYWRkSXRlbVN0YXRlLnRpbGVMYXllclB1Ymxpc2hUeXBlXTtcbiAgICBpdGVtUHJvcGVydGllc1N0YXRlLnRpdGxlID0gY3VySXRlbS50aXRsZTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGN1ckl0ZW07XG4gICAgY29uc3QgcHJvY2Vzc1RpbGVEZXRhaWwgPSBhc3luYyAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoYWRkSXRlbVN0YXRlLnRpbGVMYXllclB1Ymxpc2hUeXBlID09PSBcIjNkVGlsZXNcIikge1xuICAgICAgICAvLyAzRCBUaWxlcyBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmbG93XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHVybCA9IGN1ckl0ZW0udXJsO1xuICAgICAgbGV0IGxheWVycyA9IGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJMYXllcnM7XG4gICAgICBsZXQgdGFibGVzID0gYWRkSXRlbVN0YXRlLnRpbGVMYXllclRhYmxlcztcbiAgICAgIGxldCBzZXJ2aWNlSW5mbyA9IGFkZEl0ZW1TdGF0ZS50aWxlTGF5ZXJTZXJ2aWNlSW5mbztcbiAgICAgIGlmICgoIWNvbmZpZ1N0YXRlLnBvcnRhbC5pc1BvcnRhbCB8fCAhYWRkSXRlbVN0YXRlLnRpbGVMYXllckZyb21GZWF0dXJlTGF5ZXIpICYmXG4gICAgICAgICFsYXllcnMgJiZcbiAgICAgICAgIXRhYmxlcyAmJlxuICAgICAgICAhc2VydmljZUluZm8pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0U2VydmljZUFuZExheWVySW5mbyh1cmwsIGdldFJlc3RCYXNlVXJsKGNvbmZpZ1N0YXRlLnBvcnRhbCksIHRydWUpO1xuICAgICAgICBsYXllcnMgPSByZXN1bHQubGF5ZXJzO1xuICAgICAgICB0YWJsZXMgPSByZXN1bHQudGFibGVzO1xuICAgICAgICBzZXJ2aWNlSW5mbyA9IHJlc3VsdC5zZXJ2aWNlSW5mbztcbiAgICAgIH1cbiAgICAgIHRoaXMuc2VydmljZUluZm8gPSBzZXJ2aWNlSW5mbztcbiAgICAgIHRoaXMuZmVhdHVyZUxheWVySW5mb3MgPSBbLi4uKGxheWVycyB8fCBbXSksIC4uLih0YWJsZXMgfHwgW10pXTtcbiAgICAgIHRoaXMuZmVhdHVyZUxheWVyTGF5ZXJzID0gWy4uLihsYXllcnMgfHwgW10pXTtcbiAgICAgIC8vIFRPRE86IHN1cHBvcnQgc2NlbmVcbiAgICAgIC8vIGh0dHBzOi8vZGV2dG9waWEuZXNyaS5jb20vV2ViR0lTL2FyY2dpcy1wb3J0YWwtYXBwL2Jsb2IvbWFzdGVyL3NyYy9qcy9hcmNnaXNvbmxpbmUvc2hhcmluZy9kaWppdC9kaWFsb2cvUHVibGlzaFRpbGVTZXJ2aWNlRGxnLmpzI0wzODItTDM5NFxuICAgICAgLy8gaHR0cHM6Ly9kZXZ0b3BpYS5lc3JpLmNvbS9XZWJHSVMvYXJjZ2lzLXBvcnRhbC1hcHAvYmxvYi9tYXN0ZXIvc3JjL2pzL2FyY2dpc29ubGluZS9zaGFyaW5nL2Rpaml0L2RpYWxvZy9QdWJsaXNoVGlsZVNlcnZpY2VEbGcuanMjTDQwNC1MNDA2XG4gICAgICBhd2FpdCB0aGlzLmhhbmRsZVRpbGVMYXllclNjYWxlQ2hhbmdlKHtcbiAgICAgICAgbWluU2NhbGU6IFRJTEVfTEFZRVJfU0NBTEVfTUlOLFxuICAgICAgICBtYXhTY2FsZTogVElMRV9MQVlFUl9TQ0FMRV9NQVhcbiAgICAgIH0pO1xuICAgICAgLy8gY2hlY2sgZm9yIHRpbGVzIG9uIGRlbWFuZCByZW5kZXJlciBzdXBwb3J0XG4gICAgICBpZiAodGhpcy5wdWJsaXNoVHlwZSA9PT0gXCJ0aWxlc1wiKSB7XG4gICAgICAgIC8vIFRPRE86IGRpc2FibGUgY2FjaGUgb24gZGVtYW5kIGJhc2VkIG9uIHRoZSByZXN1bHRcbiAgICAgICAgY2hlY2tUaWxlc09uRGVtYW5kU3VwcG9ydCh0aGlzLmZlYXR1cmVMYXllckxheWVycywgKF9hID0gY29uZmlnU3RhdGUuY29uZmlnLnRpbGVzT25EZW1hbmRFbmFibGVkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgIH07XG4gICAgLy8gQXZvaWQgYmxvY2tpbmcgdGhlIHJlbmRlciB0aHJlYWQgd2l0aCBhd2FpdFxuICAgIHByb2Nlc3NUaWxlRGV0YWlsKCk7XG4gIH1cbiAgYXN5bmMgaGFuZGxlVGlsZUxheWVyU2NhbGVDaGFuZ2UoY29uc3RyYWludHMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgc2VsZWN0ZWRJdGVtLCBmZWF0dXJlTGF5ZXJJbmZvcywgdGlsZUxheWVySW5mbywgcHVibGlzaFR5cGUgfSA9IHRoaXM7XG4gICAgaWYgKHB1Ymxpc2hUeXBlICE9PSBcInRpbGVzXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXRlbVVybCA9IHNlbGVjdGVkSXRlbS51cmw7XG4gICAgY29uc3QgeyBjYWNoZU9uRGVtYW5kTWluU2NhbGUsIGNhbGN1bGF0ZWRTY2FsZSB9ID0gYXdhaXQgZ2V0U3VnZ2VzdGVkU2NhbGVSYW5nZShjb25zdHJhaW50cywgKF9iID0gKF9hID0gdGlsZUxheWVySW5mbyA9PT0gbnVsbCB8fCB0aWxlTGF5ZXJJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aWxlTGF5ZXJJbmZvLmluZm8pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2RzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBwcmVzZXRSYXN0ZXJUaWxlQ2FjaGVJbmZvLmxvZHMsIGZlYXR1cmVMYXllckluZm9zLCBpdGVtVXJsKTtcbiAgICBpZiAoaXRlbVVybCkge1xuICAgICAgY2FjaGVPbkRlbWFuZE1pblNjYWxlICYmICh0aGlzLmNhY2hlT25EZW1hbmRNaW5TY2FsZSA9IGNhY2hlT25EZW1hbmRNaW5TY2FsZSk7XG4gICAgICB0aGlzLmNhbGN1bGF0ZWRTY2FsZSA9IGNhbGN1bGF0ZWRTY2FsZTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcmFuZ2VzOiBfLCBpMThuLCB0b2dnbGVBdXRvQ3JlYXRpb24sIGhhbmRsZUJhc2VtYXBDaGFuZ2UsIG9uVXJsSW5wdXRCbHVyLCBpc1Byb2Nlc3NpbmcsIGF1dG9DcmVhdGlvbiwgYmFzZW1hcFR5cGUsIGJhc2VtYXBVcmwsIGFsZXJ0SW5mbywgcHVibGlzaFR5cGUsIGZyb21GZWF0dXJlTGF5ZXIgfSA9IHRoaXM7XG4gICAgLy8gVE9ETzogYWRkIF9zZWxlY3RBdHRyaWJ1dGVzQ29udGFpbmVyIGZvciB2ZWN0b3IgdGlsZXNcbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgdGhlIHJlc3Qgb2YgYF9nZXRJdGVtQXR0cmBcbiAgICByZXR1cm4gKGgoSG9zdCwgbnVsbCwgaChcImFyY2dpcy1uZXctaXRlbS1sb2FkZXJcIiwgeyBhY3RpdmU6IGlzUHJvY2Vzc2luZyB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInRpdGxlXCIgfSwgaChcImFyY2dpcy1uZXctaXRlbS1kZXNjcmlwdGlvblwiLCB7IGhlYWRlcjogaTE4bi50aXRsZSwgc2NhbGU6IFwibFwiIH0pKSwgcHVibGlzaFR5cGUgPT09IFwidGlsZXNcIiAmJiAoIWNvbmZpZ1N0YXRlLnBvcnRhbC5pc1BvcnRhbCB8fCAhZnJvbUZlYXR1cmVMYXllcikgJiYgKGgoXCJkaXZcIiwgeyBjbGFzczogXCJzZWN0aW9uXCIgfSwgaChcImFyY2dpcy1uZXctaXRlbS1zd2l0Y2gtY2FyZFwiLCB7IGRlZmF1bHRDaGVja2VkOiBhdXRvQ3JlYXRpb24sIGhlYWRlcjogaTE4bi5hdXRvQ3JlYXRlT3B0aW9uLnRpdGxlLCBkZXNjcmlwdGlvbjogaTE4bi5hdXRvQ3JlYXRlT3B0aW9uLmRlc2NyaXB0aW9uLCBvblN3aXRjaENoYW5nZTogdG9nZ2xlQXV0b0NyZWF0aW9uIH0pKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJzZWN0aW9uXCIgfSwgaChcInBcIiwgeyBjbGFzczogXCJzZWN0aW9uLXRpdGxlXCIgfSwgaTE4bi5iYXNlbWFwT3B0aW9uKSwgaChcImNhbGNpdGUtdGlsZS1zZWxlY3QtZ3JvdXBcIiwgeyBsYXlvdXQ6IFwidmVydGljYWxcIiB9LCB0aWxlTGF5ZXJCYXNlbWFwcy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gb3B0aW9uID09PSBcImN1c3RvbVwiID8gXCJjdXN0b21CYXNlbWFwXCIgOiBcIm9ubGluZUJhc2VtYXBPcHRpb25cIjtcbiAgICAgIHJldHVybiAoaChcImNhbGNpdGUtdGlsZS1zZWxlY3RcIiwgeyBrZXk6IG9wdGlvbiwgY2hlY2tlZDogb3B0aW9uID09PSBiYXNlbWFwVHlwZSwgb25DYWxjaXRlVGlsZVNlbGVjdENoYW5nZTogKCkgPT4gaGFuZGxlQmFzZW1hcENoYW5nZShvcHRpb24pLCBkZXNjcmlwdGlvbjogaTE4bltrZXldLmRlc2NyaXB0aW9uLCBoZWFkaW5nOiBpMThuW2tleV0udGl0bGUsIG5hbWU6IG9wdGlvbiwgXCJpbnB1dC1lbmFibGVkXCI6IHRydWUsIFwiaW5wdXQtYWxpZ25tZW50XCI6IFwic3RhcnRcIiwgdHlwZTogXCJyYWRpb1wiLCB2YWx1ZTogb3B0aW9uLCB3aWR0aDogXCJmdWxsXCIsIGlkOiBgJHtvcHRpb259LWlucHV0LW9wdGlvbmAgfSkpO1xuICAgIH0pKSksIGJhc2VtYXBUeXBlID09PSBcImN1c3RvbVwiICYmIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwic2VjdGlvblwiIH0sIGgoXCJwXCIsIHsgY2xhc3M6IFwic2VjdGlvbi10aXRsZVwiIH0sIGkxOG4uY3VzdG9tQmFzZW1hcFVybCksIGgoXCJjYWxjaXRlLWlucHV0XCIsIHsgc2NhbGU6IFwibVwiLCBkaXNhYmxlZDogaXNQcm9jZXNzaW5nLCB2YWx1ZTogYmFzZW1hcFVybCwgb25DYWxjaXRlSW5wdXRJbnB1dDogKGUpID0+IHtcbiAgICAgICAgdGhpcy5iYXNlbWFwVXJsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMuYWxlcnRJbmZvID0gbnVsbDtcbiAgICAgIH0sIG9uQmx1cjogb25VcmxJbnB1dEJsdXIsIHBsYWNlaG9sZGVyOiBcImh0dHBzOi8vd2ViYWRhcHRvcmhvc3QuZG9tYWluLmNvbS9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9zZXJ2aWNlL01hcFNlcnZlclwiLCByZWY6IChlbGUpID0+ICh0aGlzLmlucHV0UmVmID0gZWxlKSB9KSkpLCBoKFwiYXJjZ2lzLW5ldy1pdGVtLWFsZXJ0XCIsIHsgaGVhZGluZzogYWxlcnRJbmZvID09PSBudWxsIHx8IGFsZXJ0SW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxlcnRJbmZvLnRpdGxlLCBkZXNjcmlwdGlvbjogYWxlcnRJbmZvID09PSBudWxsIHx8IGFsZXJ0SW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxlcnRJbmZvLmRlc2NyaXB0aW9uLCBhY3RpdmU6ICEhYWxlcnRJbmZvLCBvbkFsZXJ0RGlzbWlzczogKCkgPT4gKHRoaXMuYWxlcnRJbmZvID0gbnVsbCkgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2V0dGluZ3Muc3R5bGUgPSBhcmNnaXNOZXdJdGVtUGFnZXNUaWxlTGF5ZXJTZXR0aW5nc0NzcztcblxuZXhwb3J0IHsgQXJjZ2lzTmV3SXRlbVBhZ2VzVGlsZUxheWVyU2V0dGluZ3MgYXMgYXJjZ2lzX25ld19pdGVtX3BhZ2VzX3RpbGVfbGF5ZXJfc2V0dGluZ3MgfTtcbiIsIi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIHYzLjAuOTlcbiAqL1xuY29uc3QgdGlsZUxheWVyQmFzZW1hcHMgPSBbXCJzdGFuZGFyZFwiLCBcImN1c3RvbVwiXTtcbmNvbnN0IHRpbGVzTGF5ZXIzZFRpbGVzTGF5ZXJUeXBlcyA9IFtcIkludGVncmF0ZWRNZXNoXCIsIFwiM0RPYmplY3RcIl07XG5jb25zdCBERUZBVUxUX1RJTEVfTEFZRVJfM0RfVElMRVNfTEFZRVJfVFlQRSA9IHRpbGVzTGF5ZXIzZFRpbGVzTGF5ZXJUeXBlc1swXTtcbmNvbnN0IHRpbGVMYXllclR5cGVzID0gW1widmVjdG9yXCIsIFwicmFzdGVyXCIsIFwiM2RUaWxlc1wiXTtcbi8vIFRPRE86IHN3aXRjaCB0aGlzIGJhY2sgb25jZSB0aGUgU2V0dGluZ1RpbGVMYXllciBzdXBwb3J0cyB0aGlzIG51bWJlclxuLy8gZXhwb3J0IGNvbnN0IFRJTEVfTEFZRVJfU0NBTEVfTUlOID0gNTkxNjU3NTI3LjU5MTU1NTtcbmNvbnN0IFRJTEVfTEFZRVJfU0NBTEVfTUlOID0gMTQ3OTE0MzgyO1xuY29uc3QgVElMRV9MQVlFUl9TQ0FMRV9NQVggPSAwO1xuY29uc3QgcHJlc2V0TG9kcyA9IFtcbiAgeyBsZXZlbDogMCwgbGFiZWw6IFwiMTo1OTEsNjU3LDUyOFwiLCBzY2FsZTogNTkxNjU3NTI3LjU5MTU1NSB9LFxuICB7IGxldmVsOiAxLCBsYWJlbDogXCIxOjI5NSw4MjgsNzY0XCIsIHNjYWxlOiAyOTU4Mjg3NjMuNzk1Nzc3IH0sXG4gIHsgbGV2ZWw6IDIsIGxhYmVsOiBcIjE6MTQ3LDkxNCwzODJcIiwgc2NhbGU6IDE0NzkxNDM4MS44OTc4ODkgfSxcbiAgeyBsZXZlbDogMywgbGFiZWw6IFwiMTo3Myw5NTcsMTkxXCIsIHNjYWxlOiA3Mzk1NzE5MC45NDg5NDQgfSxcbiAgeyBsZXZlbDogNCwgbGFiZWw6IFwiMTozNiw5NzgsNTk1XCIsIHNjYWxlOiAzNjk3ODU5NS40NzQ0NzIgfSxcbiAgeyBsZXZlbDogNSwgbGFiZWw6IFwiMToxOCw0ODksMjk4XCIsIHNjYWxlOiAxODQ4OTI5Ny43MzcyMzYgfSxcbiAgeyBsZXZlbDogNiwgbGFiZWw6IFwiMTo5LDI0NCw2NDlcIiwgc2NhbGU6IDkyNDQ2NDguODY4NjE4IH0sXG4gIHsgbGV2ZWw6IDcsIGxhYmVsOiBcIjE6NCw2MjIsMzI0XCIsIHNjYWxlOiA0NjIyMzI0LjQzNDMwOSB9LFxuICB7IGxldmVsOiA4LCBsYWJlbDogXCIxOjIsMzExLDE2MlwiLCBzY2FsZTogMjMxMTE2Mi4yMTcxNTUgfSxcbiAgeyBsZXZlbDogOSwgbGFiZWw6IFwiMToxLDE1NSw1ODFcIiwgc2NhbGU6IDExNTU1ODEuMTA4NTc3IH0sXG4gIHsgbGV2ZWw6IDEwLCBsYWJlbDogXCIxOjU3Nyw3OTFcIiwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgeyBsZXZlbDogMTEsIGxhYmVsOiBcIjE6Mjg4LDg5NVwiLCBzY2FsZTogMjg4ODk1LjI3NzE0NCB9LFxuICB7IGxldmVsOiAxMiwgbGFiZWw6IFwiMToxNDQsNDQ4XCIsIHNjYWxlOiAxNDQ0NDcuNjM4NTcyIH0sXG4gIHsgbGV2ZWw6IDEzLCBsYWJlbDogXCIxOjcyLDIyNFwiLCBzY2FsZTogNzIyMjMuODE5Mjg2IH0sXG4gIHsgbGV2ZWw6IDE0LCBsYWJlbDogXCIxOjM2LDExMlwiLCBzY2FsZTogMzYxMTEuOTA5NjQzIH0sXG4gIHsgbGV2ZWw6IDE1LCBsYWJlbDogXCIxOjE4LDA1NlwiLCBzY2FsZTogMTgwNTUuOTU0ODIyIH0sXG4gIHsgbGV2ZWw6IDE2LCBsYWJlbDogXCIxOjksMDI4XCIsIHNjYWxlOiA5MDI3Ljk3NzQxMSB9LFxuICB7IGxldmVsOiAxNywgbGFiZWw6IFwiMTo0LDUxNFwiLCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgeyBsZXZlbDogMTgsIGxhYmVsOiBcIjE6MiwyNTdcIiwgc2NhbGU6IDIyNTYuOTk0MzUzIH0sXG4gIHsgbGV2ZWw6IDE5LCBsYWJlbDogXCIxOjEsMTI4XCIsIHNjYWxlOiAxMTI4LjQ5NzE3NiB9LFxuICB7IGxldmVsOiAyMCwgbGFiZWw6IFwiMTo1NjRcIiwgc2NhbGU6IDU2NC4yNDg1ODggfSxcbiAgeyBsZXZlbDogMjEsIGxhYmVsOiBcIjE6MjgyXCIsIHNjYWxlOiAyODIuMTI0Mjk0IH0sXG4gIHsgbGV2ZWw6IDIyLCBsYWJlbDogXCIxOjE0MVwiLCBzY2FsZTogMTQxLjA2MjE0NyB9XG5dO1xuY29uc3QgcHJlc2V0UmFzdGVyVGlsZUNhY2hlSW5mbyA9IHtcbiAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiAxMDIxMDAsIGxhdGVzdFdraWQ6IDM4NTcgfSxcbiAgb3JpZ2luOiB7IHg6IC0yMDAzNzUwOC4zNDI3ODcsIHk6IDIwMDM3NTA4LjM0Mjc4NyB9LFxuICByb3dzOiAyNTYsXG4gIGNvbHM6IDI1NixcbiAgZHBpOiA5NixcbiAgcHJlY2lzZURwaTogOTYsXG4gIGxvZHM6IFtcbiAgICB7IGxldmVsOiAwLCByZXNvbHV0aW9uOiAxNTY1NDMuMDMzOTI4LCBzY2FsZTogNTkxNjU3NTI3LjU5MTU1NSB9LFxuICAgIHsgbGV2ZWw6IDEsIHJlc29sdXRpb246IDc4MjcxLjUxNjk2Mzk5OTksIHNjYWxlOiAyOTU4Mjg3NjMuNzk1Nzc3IH0sXG4gICAgeyBsZXZlbDogMiwgcmVzb2x1dGlvbjogMzkxMzUuNzU4NDgyMDAwMSwgc2NhbGU6IDE0NzkxNDM4MS44OTc4ODkgfSxcbiAgICB7IGxldmVsOiAzLCByZXNvbHV0aW9uOiAxOTU2Ny44NzkyNDA5OTk5LCBzY2FsZTogNzM5NTcxOTAuOTQ4OTQ0IH0sXG4gICAgeyBsZXZlbDogNCwgcmVzb2x1dGlvbjogOTc4My45Mzk2MjA0OTk5Niwgc2NhbGU6IDM2OTc4NTk1LjQ3NDQ3MiB9LFxuICAgIHsgbGV2ZWw6IDUsIHJlc29sdXRpb246IDQ4OTEuOTY5ODEwMjQ5OTgsIHNjYWxlOiAxODQ4OTI5Ny43MzcyMzYgfSxcbiAgICB7IGxldmVsOiA2LCByZXNvbHV0aW9uOiAyNDQ1Ljk4NDkwNTEyNDk5LCBzY2FsZTogOTI0NDY0OC44Njg2MTggfSxcbiAgICB7IGxldmVsOiA3LCByZXNvbHV0aW9uOiAxMjIyLjk5MjQ1MjU2MjQ5LCBzY2FsZTogNDYyMjMyNC40MzQzMDkgfSxcbiAgICB7IGxldmVsOiA4LCByZXNvbHV0aW9uOiA2MTEuNDk2MjI2MjgxMzgsIHNjYWxlOiAyMzExMTYyLjIxNzE1NSB9LFxuICAgIHsgbGV2ZWw6IDksIHJlc29sdXRpb246IDMwNS43NDgxMTMxNDA1NTgsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICAgIHsgbGV2ZWw6IDEwLCByZXNvbHV0aW9uOiAxNTIuODc0MDU2NTcwNDExLCBzY2FsZTogNTc3NzkwLjU1NDI4OSB9LFxuICAgIHsgbGV2ZWw6IDExLCByZXNvbHV0aW9uOiA3Ni40MzcwMjgyODUwNzMyLCBzY2FsZTogMjg4ODk1LjI3NzE0NCB9LFxuICAgIHsgbGV2ZWw6IDEyLCByZXNvbHV0aW9uOiAzOC4yMTg1MTQxNDI1MzY2LCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICAgIHsgbGV2ZWw6IDEzLCByZXNvbHV0aW9uOiAxOS4xMDkyNTcwNzEyNjgzLCBzY2FsZTogNzIyMjMuODE5Mjg2IH0sXG4gICAgeyBsZXZlbDogMTQsIHJlc29sdXRpb246IDkuNTU0NjI4NTM1NjM0MTUsIHNjYWxlOiAzNjExMS45MDk2NDMgfSxcbiAgICB7IGxldmVsOiAxNSwgcmVzb2x1dGlvbjogNC43NzczMTQyNjc5NDkzNywgc2NhbGU6IDE4MDU1Ljk1NDgyMiB9LFxuICAgIHsgbGV2ZWw6IDE2LCByZXNvbHV0aW9uOiAyLjM4ODY1NzEzMzk3NDY4LCBzY2FsZTogOTAyNy45Nzc0MTEgfSxcbiAgICB7IGxldmVsOiAxNywgcmVzb2x1dGlvbjogMS4xOTQzMjg1NjY4NTUwNSwgc2NhbGU6IDQ1MTMuOTg4NzA1IH0sXG4gICAgeyBsZXZlbDogMTgsIHJlc29sdXRpb246IDAuNTk3MTY0MjgzNTU5ODE3LCBzY2FsZTogMjI1Ni45OTQzNTMgfSxcbiAgICB7IGxldmVsOiAxOSwgcmVzb2x1dGlvbjogMC4yOTg1ODIxNDE2NDc2MTcsIHNjYWxlOiAxMTI4LjQ5NzE3NiB9LFxuICAgIHsgbGV2ZWw6IDIwLCByZXNvbHV0aW9uOiAwLjE0OTI5MTA3MDgyMzgwODMzLCBzY2FsZTogNTY0LjI0ODU4OCB9LFxuICAgIHsgbGV2ZWw6IDIxLCByZXNvbHV0aW9uOiAwLjA3NDY0NTUzNTQxMTkwNDE2LCBzY2FsZTogMjgyLjEyNDI5NCB9LFxuICAgIHsgbGV2ZWw6IDIyLCByZXNvbHV0aW9uOiAwLjAzNzMyMjc2NzcwNTk1MjA4LCBzY2FsZTogMTQxLjA2MjE0NyB9XG4gIF1cbn07XG5jb25zdCBwcmVzZXRWZWN0b3JUaWxlQ2FjaGVJbmZvID0ge1xuICBzcGF0aWFsUmVmZXJlbmNlOiB7XG4gICAgd2tpZDogMTAyMTAwLFxuICAgIGxhdGVzdFdraWQ6IDM4NTdcbiAgfSxcbiAgb3JpZ2luOiB7XG4gICAgeDogLTIuMDAzNzUwODM0Mjc4N2U3LFxuICAgIHk6IDIuMDAzNzUwODM0Mjc4N2U3XG4gIH0sXG4gIHJvd3M6IDUxMixcbiAgY29sczogNTEyLFxuICBkcGk6IDk2LFxuICBwcmVjaXNlRHBpOiA5NixcbiAgbG9kczogW1xuICAgIHsgbGV2ZWw6IDAsIHJlc29sdXRpb246IDc4MjcxLjUxNjk2Mzk5OTk0LCBzY2FsZTogMi45NTgyODc2Mzc5NTc3N2U4IH0sXG4gICAgeyBsZXZlbDogMSwgcmVzb2x1dGlvbjogMzkxMzUuNzU4NDgyMDAwMDksIHNjYWxlOiAxLjQ3OTE0MzgxODk3ODg5ZTggfSxcbiAgICB7IGxldmVsOiAyLCByZXNvbHV0aW9uOiAxOTU2Ny44NzkyNDA5OTk5Miwgc2NhbGU6IDcuMzk1NzE5MDk0ODk0NGU3IH0sXG4gICAgeyBsZXZlbDogMywgcmVzb2x1dGlvbjogOTc4My45Mzk2MjA0OTk5Niwgc2NhbGU6IDMuNjk3ODU5NTQ3NDQ3MmU3IH0sXG4gICAgeyBsZXZlbDogNCwgcmVzb2x1dGlvbjogNDg5MS45Njk4MTAyNDk5OCwgc2NhbGU6IDEuODQ4OTI5NzczNzIzNmU3IH0sXG4gICAgeyBsZXZlbDogNSwgcmVzb2x1dGlvbjogMjQ0NS45ODQ5MDUxMjQ5OSwgc2NhbGU6IDkyNDQ2NDguODY4NjE4IH0sXG4gICAgeyBsZXZlbDogNiwgcmVzb2x1dGlvbjogMTIyMi45OTI0NTI1NjI0OTUsIHNjYWxlOiA0NjIyMzI0LjQzNDMwOSB9LFxuICAgIHsgbGV2ZWw6IDcsIHJlc29sdXRpb246IDYxMS40OTYyMjYyODEzNzk3LCBzY2FsZTogMjMxMTE2Mi4yMTcxNTUgfSxcbiAgICB7IGxldmVsOiA4LCByZXNvbHV0aW9uOiAzMDUuNzQ4MTEzMTQwNTU3NTYsIHNjYWxlOiAxMTU1NTgxLjEwODU3NyB9LFxuICAgIHsgbGV2ZWw6IDksIHJlc29sdXRpb246IDE1Mi44NzQwNTY1NzA0MTEwNiwgc2NhbGU6IDU3Nzc5MC41NTQyODkgfSxcbiAgICB7IGxldmVsOiAxMCwgcmVzb2x1dGlvbjogNzYuNDM3MDI4Mjg1MDczMjQsIHNjYWxlOiAyODg4OTUuMjc3MTQ0IH0sXG4gICAgeyBsZXZlbDogMTEsIHJlc29sdXRpb246IDM4LjIxODUxNDE0MjUzNjYyLCBzY2FsZTogMTQ0NDQ3LjYzODU3MiB9LFxuICAgIHsgbGV2ZWw6IDEyLCByZXNvbHV0aW9uOiAxOS4xMDkyNTcwNzEyNjgzMSwgc2NhbGU6IDcyMjIzLjgxOTI4NiB9LFxuICAgIHsgbGV2ZWw6IDEzLCByZXNvbHV0aW9uOiA5LjU1NDYyODUzNTYzNDE1NSwgc2NhbGU6IDM2MTExLjkwOTY0MyB9LFxuICAgIHsgbGV2ZWw6IDE0LCByZXNvbHV0aW9uOiA0Ljc3NzMxNDI2Nzk0OTM3LCBzY2FsZTogMTgwNTUuOTU0ODIyIH0sXG4gICAgeyBsZXZlbDogMTUsIHJlc29sdXRpb246IDIuMzg4NjU3MTMzOTc0Njg1LCBzY2FsZTogOTAyNy45Nzc0MTEgfSxcbiAgICB7IGxldmVsOiAxNiwgcmVzb2x1dGlvbjogMS4xOTQzMjg1NjY4NTUwNTAzLCBzY2FsZTogNDUxMy45ODg3MDUgfSxcbiAgICB7IGxldmVsOiAxNywgcmVzb2x1dGlvbjogMC41OTcxNjQyODM1NTk4MTcyLCBzY2FsZTogMjI1Ni45OTQzNTMgfSxcbiAgICB7IGxldmVsOiAxOCwgcmVzb2x1dGlvbjogMC4yOTg1ODIxNDE2NDc2MTY2NSwgc2NhbGU6IDExMjguNDk3MTc2IH0sXG4gICAgeyBsZXZlbDogMTksIHJlc29sdXRpb246IDAuMTQ5MjkxMDcwODIzODA4MzMsIHNjYWxlOiA1NjQuMjQ4NTg4IH0sXG4gICAgeyBsZXZlbDogMjAsIHJlc29sdXRpb246IDAuMDc0NjQ1NTM1NDExOTA0MTYsIHNjYWxlOiAyODIuMTI0Mjk0IH0sXG4gICAgeyBsZXZlbDogMjEsIHJlc29sdXRpb246IDAuMDM3MzIyNzY3NzA1OTUyMDgsIHNjYWxlOiAxNDEuMDYyMTQ3IH0sXG4gICAgeyBsZXZlbDogMjIsIHJlc29sdXRpb246IDAuMDE4NjYxMzgzODUyOTc2MDQsIHNjYWxlOiA3MC41MzEwNzM1IH0sXG4gICAgeyBsZXZlbDogMjMsIHJlc29sdXRpb246IDAuMDA5MzMwNjkxOTI5MzQyODA0MDQ2NjIxNzM2NSwgc2NhbGU6IDM1LjI2NTUzNjc2MDc4OTcxNTAzMjQxMjA3OTYyNiB9XG4gIF1cbn07XG5jb25zdCBwcmVzZXRWZWN0b3JUaWxlSW1hZ2VJbmZvID0ge1xuICBmb3JtYXQ6IFwiaW5kZXhlZFZlY3RvclwiLFxuICBjb21wcmVzc2lvblF1YWxpdHk6IDAsXG4gIGFudGlhbGlhc2luZzogZmFsc2Vcbn07XG5jb25zdCBwcmVzZXRSYXN0ZXJUaWxlSW1hZ2VJbmZvID0ge1xuICBmb3JtYXQ6IFwiUE5HMzJcIixcbiAgY29tcHJlc3Npb25RdWFsaXR5OiAwLFxuICBhbnRpYWxpYXNpbmc6IHRydWVcbn07XG5cbmV4cG9ydCB7IERFRkFVTFRfVElMRV9MQVlFUl8zRF9USUxFU19MQVlFUl9UWVBFIGFzIEQsIFRJTEVfTEFZRVJfU0NBTEVfTUlOIGFzIFQsIHByZXNldFJhc3RlclRpbGVDYWNoZUluZm8gYXMgYSwgcHJlc2V0VmVjdG9yVGlsZUltYWdlSW5mbyBhcyBiLCBwcmVzZXRSYXN0ZXJUaWxlSW1hZ2VJbmZvIGFzIGMsIHRpbGVMYXllclR5cGVzIGFzIGQsIFRJTEVfTEFZRVJfU0NBTEVfTUFYIGFzIGUsIHRpbGVMYXllckJhc2VtYXBzIGFzIGYsIHByZXNldExvZHMgYXMgZywgcHJlc2V0VmVjdG9yVGlsZUNhY2hlSW5mbyBhcyBwLCB0aWxlc0xheWVyM2RUaWxlc0xheWVyVHlwZXMgYXMgdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9