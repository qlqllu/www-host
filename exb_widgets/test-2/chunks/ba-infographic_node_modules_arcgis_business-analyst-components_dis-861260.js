"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-extensions_widgets_ba-infographic_node_modules_arcgis_business-analyst-components_dis-861260"],{

/***/ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-infographic-workflow.entry.js":
/*!******************************************************************************************************************************************************************!*\
  !*** ./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/arcgis-infographic-workflow.entry.js ***!
  \******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_infographic_workflow: () => (/* binding */ ArcgisInfographicWorkflow)
/* harmony export */ });
/* harmony import */ var _index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-4e647411.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/index-4e647411.js");
/* harmony import */ var _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./infographics-step-9e7ffb8d.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/infographics-step-9e7ffb8d.js");
/* harmony import */ var _base_util_b7db69f0_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-util-b7db69f0.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/base-util-b7db69f0.js");
/* harmony import */ var _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ElementIds-a2c40592.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/ElementIds-a2c40592.js");
/* harmony import */ var _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GEClient-f71049f8.js */ "./extensions/widgets/ba-infographic/node_modules/@arcgis/business-analyst-components/dist/stencil-components/dist/esm/GEClient-f71049f8.js");












/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */

const stepperCss = "@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;display:flex;inline-size:100%;min-inline-size:-moz-fit-content;min-inline-size:fit-content;flex-direction:row;flex-wrap:wrap;align-items:stretch;justify-content:space-between}:host([layout=vertical]){flex:1 1 auto;flex-direction:column}:host([layout=horizontal]){display:grid;grid-template-areas:\"items\" \"content\"}";

const Stepper = /*@__PURE__*/ (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.p)(class extends _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.H {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.calciteStepperItemChange = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteStepperItemChange", 6);
    this.calciteInternalStepperItemChange = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalStepperItemChange", 6);
    //--------------------------------------------------------------------------
    //
    //  Private State/Props
    //
    //--------------------------------------------------------------------------
    this.itemMap = new Map();
    /** list of sorted Stepper items */
    this.items = [];
    /** list of enabled Stepper items */
    this.enabledItems = [];
    this.icon = false;
    this.layout = "horizontal";
    this.numbered = false;
    this.numberingSystem = undefined;
    this.selectedItem = null;
    this.scale = "m";
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  componentDidLoad() {
    // if no stepper items are set as active, default to the first one
    if (typeof this.currentPosition !== "number") {
      this.calciteInternalStepperItemChange.emit({
        position: 0
      });
    }
  }
  render() {
    return ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { onSlotchange: (event) => {
        const items = event.currentTarget
          .assignedElements()
          .filter((el) => el?.tagName === "CALCITE-STEPPER-ITEM");
        const spacing = Array(items.length).fill("1fr").join(" ");
        this.el.style.gridTemplateAreas = spacing;
        this.el.style.gridTemplateColumns = spacing;
      } }));
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  calciteInternalStepperItemKeyEvent(event) {
    const item = event.detail.item;
    const itemToFocus = event.target;
    switch (item.key) {
      case "ArrowDown":
      case "ArrowRight":
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.f)(this.enabledItems, itemToFocus, "next");
        break;
      case "ArrowUp":
      case "ArrowLeft":
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.f)(this.enabledItems, itemToFocus, "previous");
        break;
      case "Home":
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.f)(this.enabledItems, itemToFocus, "first");
        break;
      case "End":
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.f)(this.enabledItems, itemToFocus, "last");
        break;
    }
    event.stopPropagation();
  }
  registerItem(event) {
    const item = event.target;
    const { content, position } = event.detail;
    this.itemMap.set(item, { position, content });
    this.items = this.sortItems();
    this.enabledItems = this.filterItems();
    event.stopPropagation();
  }
  updateItem(event) {
    const { position } = event.detail;
    if (typeof position === "number") {
      this.currentPosition = position;
      this.selectedItem = event.target;
    }
    this.calciteInternalStepperItemChange.emit({
      position
    });
  }
  handleUserRequestedStepperItemSelect() {
    this.calciteStepperItemChange.emit();
  }
  //--------------------------------------------------------------------------
  //
  //  Public Methods
  //
  //--------------------------------------------------------------------------
  /** Set the next `calcite-stepper-item` as active. */
  async nextStep() {
    const enabledStepIndex = this.getEnabledStepIndex(this.currentPosition + 1, "next");
    if (typeof enabledStepIndex !== "number") {
      return;
    }
    this.updateStep(enabledStepIndex);
  }
  /** Set the previous `calcite-stepper-item` as active. */
  async prevStep() {
    const enabledStepIndex = this.getEnabledStepIndex(this.currentPosition - 1, "previous");
    if (typeof enabledStepIndex !== "number") {
      return;
    }
    this.updateStep(enabledStepIndex);
  }
  /**
   * Set a specified `calcite-stepper-item` as active.
   *
   * @param step
   */
  async goToStep(step) {
    const position = step - 1;
    if (this.currentPosition !== position) {
      this.updateStep(position);
    }
  }
  /** Set the first `calcite-stepper-item` as active. */
  async startStep() {
    const enabledStepIndex = this.getEnabledStepIndex(0, "next");
    if (typeof enabledStepIndex !== "number") {
      return;
    }
    this.updateStep(enabledStepIndex);
  }
  /** Set the last `calcite-stepper-item` as active. */
  async endStep() {
    const enabledStepIndex = this.getEnabledStepIndex(this.items.length - 1, "previous");
    if (typeof enabledStepIndex !== "number") {
      return;
    }
    this.updateStep(enabledStepIndex);
  }
  //--------------------------------------------------------------------------
  //
  //  Private Methods
  //
  //--------------------------------------------------------------------------
  getEnabledStepIndex(startIndex, direction = "next") {
    const { items, currentPosition } = this;
    let newIndex = startIndex;
    while (items[newIndex]?.disabled) {
      newIndex = newIndex + (direction === "previous" ? -1 : 1);
    }
    return newIndex !== currentPosition && newIndex < items.length && newIndex >= 0
      ? newIndex
      : null;
  }
  updateStep(position) {
    this.currentPosition = position;
    this.calciteInternalStepperItemChange.emit({
      position
    });
  }
  sortItems() {
    const { itemMap } = this;
    return Array.from(itemMap.keys()).sort((a, b) => itemMap.get(a).position - itemMap.get(b).position);
  }
  filterItems() {
    return this.items.filter((item) => !item.disabled);
  }
  get el() { return this; }
  static get style() { return stepperCss; }
}, [1, "calcite-stepper", {
    "icon": [516],
    "layout": [513],
    "numbered": [516],
    "numberingSystem": [513, "numbering-system"],
    "selectedItem": [1040],
    "scale": [513],
    "nextStep": [64],
    "prevStep": [64],
    "goToStep": [64],
    "startStep": [64],
    "endStep": [64]
  }, [[0, "calciteInternalStepperItemKeyEvent", "calciteInternalStepperItemKeyEvent"], [0, "calciteInternalStepperItemRegister", "registerItem"], [0, "calciteInternalStepperItemSelect", "updateItem"], [0, "calciteInternalUserRequestedStepperItemSelect", "handleUserRequestedStepperItemSelect"]]]);
function defineCustomElement$1$1() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-stepper"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-stepper":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, Stepper);
      }
      break;
  } });
}
defineCustomElement$1$1();

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */

const stepperItemCss = "@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([layout=horizontal][disabled]) .stepper-item-header,:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([scale=s]){--calcite-stepper-item-spacing-unit-s:0.25rem;--calcite-stepper-item-spacing-unit-m:0.75rem;--calcite-stepper-item-spacing-unit-l:1rem;font-size:var(--calcite-font-size--1);line-height:1rem;margin-inline-end:0.25rem}:host([scale=s]) .stepper-item-description{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-stepper-item-spacing-unit-s:0.5rem;--calcite-stepper-item-spacing-unit-m:1rem;--calcite-stepper-item-spacing-unit-l:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;margin-inline-end:0.5rem}:host([scale=m]) .stepper-item-description{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-stepper-item-spacing-unit-s:0.75rem;--calcite-stepper-item-spacing-unit-m:1.25rem;--calcite-stepper-item-spacing-unit-l:1.5rem;font-size:var(--calcite-font-size-1);line-height:1.5rem;margin-inline-end:0.75rem}:host([scale=l]) .stepper-item-description{font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:flex;flex-grow:1;flex-direction:column;align-self:flex-start;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host .container{position:relative;display:flex;flex-grow:1;cursor:pointer;flex-direction:column;border-width:0px;border-block-start-width:2px;border-style:solid;border-color:var(--calcite-ui-border-3);color:var(--calcite-ui-text-3);text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host{outline-color:transparent}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host .stepper-item-header{display:flex;cursor:pointer;align-items:flex-start}:host .stepper-item-content,:host .stepper-item-header{transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);padding-block:var(--calcite-stepper-item-spacing-unit-l);padding-inline-end:var(--calcite-stepper-item-spacing-unit-m);text-align:start}:host .stepper-item-header *{display:inline-flex;align-items:center;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-content{display:none;inline-size:100%;flex-direction:column;font-size:var(--calcite-font-size--2);line-height:1.375}:host .stepper-item-icon{margin-inline-end:var(--calcite-stepper-item-spacing-unit-m);margin-block-start:1px;display:inline-flex;block-size:0.75rem;flex-shrink:0;align-self:flex-start;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-header-text{flex-direction:column;text-align:initial;margin-inline-end:auto}:host .stepper-item-heading,:host .stepper-item-description{display:flex;inline-size:100%}:host .stepper-item-heading{margin-block-end:0.25rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .stepper-item-description{color:var(--calcite-ui-text-3)}:host .stepper-item-number{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-inline-end:var(--calcite-stepper-item-spacing-unit-m)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([complete]) .container .stepper-item-icon{color:var(--calcite-ui-brand)}:host([error]) .container{border-block-start-color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-number{color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-icon{opacity:1;color:var(--calcite-ui-danger)}:host(:hover:not([disabled]):not([selected])) .container,:host(:focus:not([disabled]):not([selected])) .container{border-block-start-color:var(--calcite-ui-brand)}:host(:hover:not([disabled]):not([selected])) .container .stepper-item-heading,:host(:focus:not([disabled]):not([selected])) .container .stepper-item-heading{color:var(--calcite-ui-text-1)}:host(:hover:not([disabled]):not([selected])) .container .stepper-item-description,:host(:focus:not([disabled]):not([selected])) .container .stepper-item-description{color:var(--calcite-ui-text-2)}:host([error]:hover:not([disabled]):not([selected])) .container,:host([error]:focus:not([disabled]):not([selected])) .container{border-block-start-color:var(--calcite-ui-danger-hover)}:host([selected]) .container{border-block-start-color:var(--calcite-ui-brand)}:host([selected]) .container .stepper-item-heading{color:var(--calcite-ui-text-1)}:host([selected]) .container .stepper-item-description{color:var(--calcite-ui-text-2)}:host([selected]) .container .stepper-item-number{color:var(--calcite-ui-brand)}:host([selected]) .container .stepper-item-icon{color:var(--calcite-ui-brand);opacity:1}:host([selected]) .container .stepper-item-content{display:flex}:host([layout=vertical]) .container{margin-inline:0px;margin-block-start:0px;flex:1 1 auto;border-block-start-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-block:0px;border-inline-start-width:2px;padding-inline-start:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical]) .container .stepper-item-icon{order:3;margin-block:1px 0px;padding-inline-start:var(--calcite-stepper-item-spacing-unit-s);margin-inline-start:auto}:host([layout=vertical]) .container .stepper-item-header{padding-inline-end:0px}:host([layout=vertical]) .container .stepper-item-content{padding:0px}:host([layout=vertical][complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][complete]:hover:not([disabled]):not([selected])) .container,:host([layout=vertical][complete]:focus:not([disabled]):not([selected])) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical][error]) .container{border-color:var(--calcite-ui-danger)}:host([layout=vertical][selected]) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical][selected]) .container .stepper-item-content:not(:empty){margin-block-end:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical]:hover:not([disabled]):not([selected])) .container,:host([layout=vertical]:focus:not([disabled]):not([selected])) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][error]:hover:not([disabled]):not([selected])) .container,:host([layout=vertical][error]:focus:not([disabled]):not([selected])) .container{border-color:var(--calcite-ui-danger-hover)}:host([layout=horizontal]){display:contents}:host([layout=horizontal]) .container{display:contents}:host([layout=horizontal]) .stepper-item-header{border-width:0px;border-block-start-width:2px;border-style:solid;border-color:var(--calcite-ui-border-3);outline-color:transparent;grid-row:items;margin-inline-end:0.5rem;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host([layout=horizontal]) .stepper-item-header:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host([layout=horizontal]) .stepper-item-content{cursor:auto;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);padding-block:0;padding-inline-end:var(--calcite-stepper-item-spacing-unit-m);text-align:start}:host([layout=horizontal][selected]) .stepper-item-content{grid-area:2/1/2/-1}:host([layout=horizontal][scale=s]) .stepper-item-header{margin-inline-end:0.25rem;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host([layout=horizontal][scale=l]) .stepper-item-header{margin-inline-end:0.75rem;margin-block-end:var(--calcite-stepper-item-spacing-unit-s)}:host([layout=horizontal][complete]) .stepper-item-header{border-color:rgba(0, 122, 194, 0.5)}:host([layout=horizontal][complete]:hover:not([disabled]):not([selected])) .stepper-item-header,:host([layout=horizontal][complete]:focus:not([disabled]):not([selected])) .stepper-item-header{border-color:var(--calcite-ui-brand)}:host([layout=horizontal][error]) .stepper-item-header{border-color:var(--calcite-ui-danger)}:host([layout=horizontal][selected]) .stepper-item-header{border-color:var(--calcite-ui-brand)}:host([layout=horizontal]:hover:not([disabled]):not([selected])) .stepper-item-header,:host([layout=horizontal]:focus:not([disabled]):not([selected])) .stepper-item-header{border-color:rgba(0, 122, 194, 0.5)}:host([layout=horizontal][error]:hover:not([disabled]):not([selected])) .stepper-item-header,:host([layout=horizontal][error]:focus:not([disabled]):not([selected])) .stepper-item-header{border-color:var(--calcite-ui-danger-hover)}@media (forced-colors: active){:host .container{outline-width:0;outline-offset:0}:host(:focus),:host(:focus-visible){outline-color:canvasText}:host([selected]) .container{border-block-start-color:highlight}:host([selected]) .container .stepper-item-number{color:highlight}:host([selected]) .container .stepper-item-icon{color:highlight}:host([layout=vertical][selected]) .container{border-color:highlight}}";

const StepperItem = /*@__PURE__*/ (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.p)(class extends _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.H {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    this.calciteInternalStepperItemKeyEvent = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalStepperItemKeyEvent", 6);
    this.calciteInternalStepperItemSelect = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalStepperItemSelect", 6);
    this.calciteInternalUserRequestedStepperItemSelect = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalUserRequestedStepperItemSelect", 6);
    this.calciteInternalStepperItemRegister = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "calciteInternalStepperItemRegister", 6);
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    this.keyDownHandler = (event) => {
      if (!this.disabled && event.target === this.el) {
        switch (event.key) {
          case " ":
          case "Enter":
            this.emitUserRequestedItem();
            event.preventDefault();
            break;
          case "ArrowUp":
          case "ArrowDown":
          case "ArrowLeft":
          case "ArrowRight":
          case "Home":
          case "End":
            this.calciteInternalStepperItemKeyEvent.emit({ item: event });
            event.preventDefault();
            break;
        }
      }
    };
    this.handleItemClick = (event) => {
      if (this.layout === "horizontal" &&
        event
          .composedPath()
          .some((el) => el.classList?.contains("stepper-item-content"))) {
        return;
      }
      this.emitUserRequestedItem();
    };
    this.emitUserRequestedItem = () => {
      this.emitRequestedItem();
      if (!this.disabled) {
        const position = this.itemPosition;
        this.calciteInternalUserRequestedStepperItemSelect.emit({
          position
        });
      }
    };
    this.emitRequestedItem = () => {
      if (!this.disabled) {
        const position = this.itemPosition;
        this.calciteInternalStepperItemSelect.emit({
          position
        });
      }
    };
    this.selected = false;
    this.complete = false;
    this.error = false;
    this.disabled = false;
    this.heading = undefined;
    this.description = undefined;
    this.layout = "horizontal";
    this.icon = false;
    this.iconFlipRtl = false;
    this.numbered = false;
    this.scale = "m";
    this.effectiveLocale = "";
  }
  selectedHandler() {
    if (this.selected) {
      this.emitRequestedItem();
    }
  }
  // watch for removal of disabled to register step
  disabledWatcher() {
    this.registerStepperItem();
  }
  effectiveLocaleWatcher(locale) {
    _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.n.numberFormatOptions = {
      locale,
      numberingSystem: this.parentStepperEl?.numberingSystem,
      useGrouping: false
    };
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  connectedCallback() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.a)(this);
  }
  componentWillLoad() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.s)(this);
    this.icon = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.el, "icon", false);
    this.numbered = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.el, "numbered", false);
    this.layout = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.el, "layout", false);
    this.scale = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.g)(this.el, "scale", "m");
    this.parentStepperEl = this.el.parentElement;
    this.itemPosition = this.getItemPosition();
    this.registerStepperItem();
    if (this.selected) {
      this.emitRequestedItem();
    }
  }
  componentDidLoad() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.b)(this);
  }
  componentDidRender() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.u)(this, true);
  }
  disconnectedCallback() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.e)(this);
  }
  render() {
    return ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.i, { "aria-expanded": (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.t)(this.selected), onClick: this.handleItemClick, onKeyDown: this.keyDownHandler }, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "container" }, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "stepper-item-header", ref: (el) => (this.headerEl = el), tabIndex: 
      /* additional tab index logic needed because of display: contents */
      this.layout === "horizontal" && !this.disabled ? 0 : null }, this.icon ? this.renderIcon() : null, this.numbered ? (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "stepper-item-number" }, this.renderNumbers(), ".") : null, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "stepper-item-header-text" }, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "stepper-item-heading" }, this.heading), (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "stepper-item-description" }, this.description))), (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "stepper-item-content" }, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null)))));
  }
  //--------------------------------------------------------------------------
  //
  //  Event Listeners
  //
  //--------------------------------------------------------------------------
  updateActiveItemOnChange(event) {
    if (event.target === this.parentStepperEl ||
      event.composedPath().includes(this.parentStepperEl)) {
      this.selectedPosition = event.detail.position;
      this.determineSelectedItem();
    }
  }
  //--------------------------------------------------------------------------
  //
  //  Public Methods
  //
  //--------------------------------------------------------------------------
  /** Sets focus on the component. */
  async setFocus() {
    await (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.j)(this);
    (this.layout === "vertical" ? this.el : this.headerEl)?.focus();
  }
  renderIcon() {
    const path = this.selected
      ? "circleF"
      : this.error
        ? "exclamationMarkCircleF"
        : this.complete
          ? "checkCircleF"
          : "circle";
    return ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: "stepper-item-icon", flipRtl: this.iconFlipRtl, icon: path, scale: "s" }));
  }
  determineSelectedItem() {
    this.selected = !this.disabled && this.itemPosition === this.selectedPosition;
  }
  registerStepperItem() {
    this.calciteInternalStepperItemRegister.emit({
      position: this.itemPosition
    });
  }
  getItemPosition() {
    return Array.from(this.parentStepperEl?.querySelectorAll("calcite-stepper-item")).indexOf(this.el);
  }
  renderNumbers() {
    _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.n.numberFormatOptions = {
      locale: this.effectiveLocale,
      numberingSystem: this.parentStepperEl?.numberingSystem,
      useGrouping: false
    };
    return _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.n.numberFormatter.format(this.itemPosition + 1);
  }
  get el() { return this; }
  static get watchers() { return {
    "selected": ["selectedHandler"],
    "disabled": ["disabledWatcher"],
    "effectiveLocale": ["effectiveLocaleWatcher"]
  }; }
  static get style() { return stepperItemCss; }
}, [1, "calcite-stepper-item", {
    "selected": [1540],
    "complete": [516],
    "error": [516],
    "disabled": [516],
    "heading": [1],
    "description": [1],
    "layout": [1537],
    "icon": [1028],
    "iconFlipRtl": [516, "icon-flip-rtl"],
    "numbered": [1028],
    "scale": [1537],
    "effectiveLocale": [32],
    "setFocus": [64]
  }, [[16, "calciteInternalStepperItemChange", "updateActiveItemOnChange"]]]);
function defineCustomElement$1() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-stepper-item", "calcite-icon"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-stepper-item":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, StepperItem);
      }
      break;
    case "calcite-icon":
      if (!customElements.get(tagName)) {
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.d)();
      }
      break;
  } });
}
defineCustomElement$1();

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */

(function(prototype) {
  if (typeof prototype.requestSubmit == "function") return

  prototype.requestSubmit = function(submitter) {
    if (submitter) {
      validateSubmitter(submitter, this);
      submitter.click();
    } else {
      submitter = document.createElement("input");
      submitter.type = "submit";
      submitter.hidden = true;
      this.appendChild(submitter);
      submitter.click();
      this.removeChild(submitter);
    }
  };

  function validateSubmitter(submitter, form) {
    submitter instanceof HTMLElement || raise(TypeError, "parameter 1 is not of type 'HTMLElement'");
    submitter.type == "submit" || raise(TypeError, "The specified element is not a submit button");
    submitter.form == form || raise(DOMException, "The specified element is not owned by this form element", "NotFoundError");
  }

  function raise(errorConstructor, message, name) {
    throw new errorConstructor("Failed to execute 'requestSubmit' on 'HTMLFormElement': " + message + ".", name)
  }
})(HTMLFormElement.prototype);

const CSS = {
  buttonLoader: "calcite-button--loader",
  content: "content",
  contentSlotted: "content--slotted",
  icon: "icon",
  iconStart: "icon--start",
  iconEnd: "icon--end",
  loadingIn: "loading-in",
  loadingOut: "loading-out",
  iconStartEmpty: "icon-start-empty",
  iconEndEmpty: "icon-end-empty",
  buttonPadding: "button-padding",
  buttonPaddingShrunk: "button-padding--shrunk"
};

const buttonCss = "@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block;inline-size:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-color:transparent}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host button,:host a{--calcite-button-content-margin-internal:0.5rem;--calcite-button-padding-x-internal:7px;--calcite-button-padding-y-internal:3px;padding-block:var(--calcite-button-padding-y-internal);padding-inline:var(--calcite-button-padding-x-internal);position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-appearance:none;appearance:none;align-items:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host button:hover,:host a:hover{text-decoration-line:none}.content{display:flex;flex-basis:auto;margin-inline:var(--calcite-button-content-margin-internal)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin-internal:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin-internal:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-button-content-margin-internal)}.icon{position:relative;margin:0px;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([loading]){pointer-events:none}:host([loading]) button,:host([loading]) a{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(0.5)}100%{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}100%{inline-size:0;opacity:0;transform:scale(0.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0px;transition:inline-size var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out}.calcite-button--loader calcite-loader.loading-in{animation-name:loader-in;animation-duration:var(--calcite-internal-animation-timing-slow)}.calcite-button--loader calcite-loader.loading-out{animation-name:loader-out;animation-duration:var(--calcite-internal-animation-timing-slow)}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-button-content-margin-internal)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{border-width:1px;border-style:solid;border-color:transparent}:host([kind=brand]) button,:host([kind=brand]) a{background-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) button:focus,:host([kind=brand]) a:hover,:host([kind=brand]) a:focus{background-color:var(--calcite-ui-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{background-color:var(--calcite-ui-brand-press)}:host([kind=brand]) button calcite-loader,:host([kind=brand]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([kind=danger]) button,:host([kind=danger]) a{background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) button:focus,:host([kind=danger]) a:hover,:host([kind=danger]) a:focus{background-color:var(--calcite-ui-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{background-color:var(--calcite-ui-danger-press)}:host([kind=danger]) button calcite-loader,:host([kind=danger]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([kind=neutral]) button,:host([kind=neutral]) a{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) button:focus,:host([kind=neutral]) a:hover,:host([kind=neutral]) a:focus{background-color:var(--calcite-ui-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{background-color:var(--calcite-ui-foreground-1)}:host([kind=neutral]) button calcite-loader,:host([kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{color:var(--calcite-ui-text-inverse);background-color:var(--calcite-ui-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) button:focus,:host([kind=inverse]) a:hover,:host([kind=inverse]) a:focus{background-color:var(--calcite-ui-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{background-color:var(--calcite-ui-inverse-press)}:host([kind=inverse]) button calcite-loader,:host([kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{border-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{border-color:var(--calcite-ui-danger);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button calcite-loader,:host([appearance=outline-fill][kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{border-color:var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline-fill][kind=inverse]) button calcite-loader,:host([appearance=outline-fill][kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{border-color:var(--calcite-ui-brand);background-color:transparent;color:var(--calcite-ui-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{border-color:var(--calcite-ui-danger);background-color:transparent;color:var(--calcite-ui-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{background-color:transparent;color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-border-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button calcite-loader,:host([appearance=outline][kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{background-color:transparent;color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{border-color:var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline][kind=inverse]) button calcite-loader,:host([appearance=outline][kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-button-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-button-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{color:var(--calcite-ui-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{color:var(--calcite-ui-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{color:var(--calcite-ui-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{color:var(--calcite-ui-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{border-block-start-width:1px;border-block-end-width:1px;color:var(--calcite-ui-text-3);border-block-start-color:var(--calcite-ui-border-input);border-block-end-color:var(--calcite-ui-border-input);border-block-style:solid}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y-internal:0}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{color:var(--calcite-ui-text-1)}:host([appearance=transparent][kind=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button,:host([appearance=transparent][kind=inverse]) a,:host([appearance=transparent][kind=inverse]) calcite-loader{color:var(--calcite-ui-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-button-padding-y-internal:3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x-internal:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-padding-y-internal:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x-internal:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-button-padding-x-internal:1rem;--calcite-button-padding-y-internal:11px}:host([scale=l]) .button-padding--shrunk{--calcite-button-padding-y-internal:9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y-internal:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:2.75rem}";

const Button = /*@__PURE__*/ (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.p)(class extends _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.H {
  constructor() {
    super();
    this.__registerHost();
    this.__attachShadow();
    /** watches for changing text content */
    this.mutationObserver = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.l)("mutation", () => this.updateHasContent());
    // act on a requested or nearby form based on type
    this.handleClick = () => {
      const { type } = this;
      if (this.href) {
        return;
      }
      // this.type refers to type attribute, not child element type
      if (type === "submit") {
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.m)(this);
      }
      else if (type === "reset") {
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.r)(this);
      }
    };
    this.alignment = "center";
    this.appearance = "solid";
    this.label = undefined;
    this.kind = "brand";
    this.disabled = false;
    this.href = undefined;
    this.iconEnd = undefined;
    this.iconFlipRtl = undefined;
    this.iconStart = undefined;
    this.loading = false;
    this.name = undefined;
    this.rel = undefined;
    this.round = false;
    this.scale = "m";
    this.splitChild = false;
    this.target = undefined;
    this.type = "button";
    this.width = "auto";
    this.messages = undefined;
    this.messageOverrides = undefined;
    this.hasContent = false;
    this.hasLoader = false;
    this.effectiveLocale = "";
    this.defaultMessages = undefined;
  }
  loadingChanged(newValue, oldValue) {
    if (!!newValue && !oldValue) {
      this.hasLoader = true;
    }
    if (!newValue && !!oldValue) {
      window.setTimeout(() => {
        this.hasLoader = false;
      }, 300);
    }
  }
  onMessagesChange() {
    /** referred in t9n util */
  }
  //--------------------------------------------------------------------------
  //
  //  Lifecycle
  //
  //--------------------------------------------------------------------------
  async connectedCallback() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.a)(this);
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.o)(this);
    this.hasLoader = this.loading;
    this.setupTextContentObserver();
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.q)(this);
    this.formEl = (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.v)(this.el, "form");
  }
  disconnectedCallback() {
    this.mutationObserver?.disconnect();
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.w)(this);
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.e)(this);
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.x)(this);
    this.formEl = null;
  }
  async componentWillLoad() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.s)(this);
    {
      this.updateHasContent();
      await (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.y)(this);
    }
  }
  componentDidLoad() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.b)(this);
  }
  componentDidRender() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.u)(this);
  }
  render() {
    const childElType = this.href ? "a" : "button";
    const Tag = childElType;
    const loaderNode = this.hasLoader ? ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: CSS.buttonLoader }, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-loader", { class: this.loading ? CSS.loadingIn : CSS.loadingOut, inline: true, label: this.messages.loading, scale: this.scale === "l" ? "m" : "s" }))) : null;
    const noStartEndIcons = !this.iconStart && !this.iconEnd;
    const iconStartEl = ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: { [CSS.icon]: true, [CSS.iconStart]: true }, flipRtl: this.iconFlipRtl === "start" || this.iconFlipRtl === "both", icon: this.iconStart, scale: this.scale === "l" ? "m" : "s" }));
    const iconEndEl = ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: { [CSS.icon]: true, [CSS.iconEnd]: true }, flipRtl: this.iconFlipRtl === "end" || this.iconFlipRtl === "both", icon: this.iconEnd, scale: this.scale === "l" ? "m" : "s" }));
    const contentEl = ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: CSS.content }, (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null)));
    return ((0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.h)(Tag, { "aria-label": (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.z)(this), class: {
        [CSS.buttonPadding]: noStartEndIcons,
        [CSS.buttonPaddingShrunk]: !noStartEndIcons,
        [CSS.contentSlotted]: this.hasContent,
        [CSS.iconStartEmpty]: !this.iconStart,
        [CSS.iconEndEmpty]: !this.iconEnd
      }, disabled: this.disabled || this.loading, href: childElType === "a" && this.href, name: childElType === "button" && this.name, onClick: this.handleClick, ref: (el) => (this.childEl = el), rel: childElType === "a" && this.rel, tabIndex: this.disabled || this.loading ? -1 : null, target: childElType === "a" && this.target, type: childElType === "button" && this.type }, loaderNode, this.iconStart ? iconStartEl : null, this.hasContent ? contentEl : null, this.iconEnd ? iconEndEl : null));
  }
  //--------------------------------------------------------------------------
  //
  //  Public Methods
  //
  //--------------------------------------------------------------------------
  /** Sets focus on the component. */
  async setFocus() {
    await (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.j)(this);
    this.childEl?.focus();
  }
  effectiveLocaleChange() {
    (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.A)(this, this.effectiveLocale);
  }
  updateHasContent() {
    const slottedContent = this.el.textContent.trim().length > 0 || this.el.childNodes.length > 0;
    this.hasContent =
      this.el.childNodes.length === 1 && this.el.childNodes[0]?.nodeName === "#text"
        ? this.el.textContent?.trim().length > 0
        : slottedContent;
  }
  setupTextContentObserver() {
    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });
  }
  //--------------------------------------------------------------------------
  //
  //  Private Methods
  //
  //--------------------------------------------------------------------------
  onLabelClick() {
    this.handleClick();
    this.setFocus();
  }
  static get assetsDirs() { return ["assets"]; }
  get el() { return this; }
  static get watchers() { return {
    "loading": ["loadingChanged"],
    "messageOverrides": ["onMessagesChange"],
    "effectiveLocale": ["effectiveLocaleChange"]
  }; }
  static get style() { return buttonCss; }
}, [1, "calcite-button", {
    "alignment": [513],
    "appearance": [513],
    "label": [1],
    "kind": [513],
    "disabled": [516],
    "href": [513],
    "iconEnd": [513, "icon-end"],
    "iconFlipRtl": [513, "icon-flip-rtl"],
    "iconStart": [513, "icon-start"],
    "loading": [516],
    "name": [513],
    "rel": [513],
    "round": [516],
    "scale": [513],
    "splitChild": [520, "split-child"],
    "target": [513],
    "type": [1537],
    "width": [513],
    "messages": [1040],
    "messageOverrides": [1040],
    "hasContent": [32],
    "hasLoader": [32],
    "effectiveLocale": [32],
    "defaultMessages": [32],
    "setFocus": [64]
  }]);
function defineCustomElement() {
  if (typeof customElements === "undefined") {
    return;
  }
  const components = ["calcite-button", "calcite-icon", "calcite-loader"];
  components.forEach(tagName => { switch (tagName) {
    case "calcite-button":
      if (!customElements.get(tagName)) {
        customElements.define(tagName, Button);
      }
      break;
    case "calcite-icon":
      if (!customElements.get(tagName)) {
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.d)();
      }
      break;
    case "calcite-loader":
      if (!customElements.get(tagName)) {
        (0,_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.k)();
      }
      break;
  } });
}
defineCustomElement();

const arcgisInfographicWorkflowCss = ":host{display:block;height:100%;width:100%}calcite-grid{height:100%;width:100%}.navigation-buttons-container{display:flex;justify-content:flex-end;align-items:flex-end;height:100%}.navigation-buttons{display:flex;gap:0.25rem}.nav-button{padding-left:10px}.wf-layout-outer{position:relative;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.stepper-item-header{height:18px}.wf-layout-card{position:absolute;top:0;width:100%;height:100%;min-width:300px;min-height:200px;max-width:700px;display:flex;flex-flow:column;}.wf-layout-stepper{width:96%;height:calc(94% - 35px);position:absolute;top:10px;left:2%;background-color:'transparent';flex:2}.wf-layout-nav{width:96%;height:36px;position:absolute;left:2%;bottom:10px;background-color:'transparent'}.wf-layout-buttons{position:absolute;top:2px;right:2px}.draw-components-class{height:45px;width:100%}calcite-stepper{position:relative;height:100%}.wf-step-content{position:absolute;top:80px;left:10px;width:calc(100% - 20px);height:calc(100% - 82px);}.wf-step-search{overflow:auto}::-webkit-scrollbar{background-color:var(--calcite-ui-background-1);width:8px;height:8px}::-webkit-scrollbar-thumb{background-color:var(--calcite-ui-foreground-3)}::-webkit-scrollbar-track{background-color:transparent}::-webkit-scrollbar-corner{background-color:var(--calcite-ui-background-1);width:8px;height:8px}";

const ArcgisInfographicWorkflow = class {
  constructor(hostRef) {
    (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.drawPointClick = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "drawPointClick", 6);
    this.drawPolygonClick = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "drawPolygonClick", 6);
    this.selectedFeatureClear = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "selectedFeatureClear", 6);
    this.buffersUpdate = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "buffersUpdate", 6);
    this.runInfographic = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "runInfographic", 6);
    this.baSearchFeatureChange = (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.c)(this, "baSearchFeatureChange", 6);
    this._idPrefix = 'arcgis-infographic-workflow-';
    this._idPrefixSearch = 'workflow-search-step-';
    this._idPrefixBuffer = 'workflow-buffer-step-';
    this._idPrefixInfographic = 'workflow-infographic-step-';
    this._localeSettings = {};
    this._dbg = false;
    this._setInitialStepperTab = null;
    // @State() igData!: Record<string, string>;
    this.steps = [_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.search, _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers, _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.infographics];
    this.numSteps = 3;
    this.currentStep = 1;
    this.bufferType = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.ring;
    this.bufferVals = [5, 10, 15];
    this.bufferUnit = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.C.miles;
    // @State() showTabNumbers: boolean = true;
    this.searchTabStatus = {};
    this.bufferTabStatus = {};
    this.infographicTabStatus = {};
    this.infographicTabViewed = false;
    this.baseConfig = new _base_util_b7db69f0_js__WEBPACK_IMPORTED_MODULE_2__.B('workflow', this, this.onUpdateUI);
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.announceVersion();
    this.langCode = this.langCode || 'en-us';
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B._initialize(this.langCode);
    this.setLocaleStrings();
    this.sourceCountry = this.sourceCountry || 'US';
    this.baseConfig.updateLocaleSettings({ language: this.langCode, country: this.sourceCountry });
  }
  onEnvChanged() {
    _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__.E.setEnvironment(this.env);
    if (this.baseConfig) {
      // updates config and sub-component configs
      this.baseConfig.updateConfig({ env: this.env }, null);
    }
  }
  onTokenChanged() {
    // console.log('%c workflow: token changed', 'color:orange;font-size:8pt', this.token)
    const t = this.token;
    const u = this.baseConfig?.config?.username;
    if (t && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(t) && u && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(u)) {
      _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__.T.setToken(u, t);
    }
    if (this.baseConfig) {
      this.baseConfig.updateConfig({ token: this.token }, null);
    }
  }
  onUsernameChanged() {
    // console.log('%c workflow: username changed', 'color:orange;font-size:8pt', this.username)
    const u = this.username;
    const t = this.baseConfig?.config?.token;
    if (t && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(t) && u && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(u)) {
      _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__.T.setToken(u, t);
    }
    if (this.baseConfig) {
      this.baseConfig.updateConfig({ username: this.username }, null);
    }
  }
  onLangCodeChanged() {
    if (this.baseConfig) {
      this.baseConfig.updateConfig({ langCode: this.langCode }, null);
    }
  }
  onGeoenrichmentUrlChanged() {
    if (this.baseConfig) {
      this.baseConfig.updateConfig({ geoenrichmentUrl: this.geoenrichmentUrl }, null);
    }
  }
  onSourceCountryChanged() {
    if (this.baseConfig) {
      this.baseConfig.updateConfig({ sourceCountry: this.sourceCountry }, null);
    }
  }
  setLocaleStrings() {
    this.labels = {
      back: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B.i18n('back'),
      next: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B.i18n('next'),
      runInfographic: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B.i18n('run-infographic')
    };
  }
  // BaseUtil config-changed render callback
  onUpdateUI() {
    this.applyStyles();
  }
  applyStyles() {
    if (this.baseConfig?.config?.colors && Object.keys(this.baseConfig.config.colors).length > 0) {
      const c = this.baseConfig.config.colors;
      const stepperOuter = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.queryElement.call(this, 'calcite-stepper');
      if (stepperOuter) {
        if ('style' in stepperOuter) {
          stepperOuter.style.setProperty("--calcite-ui-brand", c.brand);
          stepperOuter.style.setProperty("--calcite-ui-background-1", c.background);
          stepperOuter.style.setProperty("--calcite-ui-foreground-1", c.foreground);
          // (stepperOuter as HTMLElement).style.setProperty("--calcite-ui-foreground-3", c.brand);
        }
        stepperOuter.querySelectorAll("calcite-stepper-item").forEach(node => {
          if (node.shadowRoot) {
            let header = node.shadowRoot.querySelector("div.stepper-item-header");
            if (header && 'style' in header) {
              header.style.setProperty("height", "18px");
            }
          }
        });
      }
      const navOuter = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.queryElement.call(this, 'div.wf-layout-buttons');
      if (navOuter) {
        navOuter.querySelectorAll("calcite-button").forEach(node => {
          if (node.shadowRoot) {
            let button = node.shadowRoot.querySelector("button");
            if (button) {
              button.style.setProperty("--calcite-ui-brand", c.brand);
              button.style.setProperty("--calcite-ui-brand-hover", c.brand);
              button.style.setProperty("--calcite-ui-brand-press", c.brand);
            }
          }
        });
      }
      const wfOuter = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.queryElement.call(this, 'div.wf-layout-outer');
      if (wfOuter) {
        wfOuter.style.setProperty("background-color", c.background);
      }
    }
  }
  _loadInstances() {
    if (!this._instanceId) {
      const eid = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.E.generateId(this._idPrefix);
      this._instanceId = eid.id;
      this._instanceIdNumber = eid.counter.toString();
    }
    if (!this._searchStepId)
      this._searchStepId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.E.generateId(this._idPrefixSearch).id;
    if (!this._bufferStepId)
      this._bufferStepId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.E.generateId(this._idPrefixBuffer).id;
    if (!this._infographicStepId)
      this._infographicStepId = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.E.generateId(this._idPrefixInfographic).id;
  }
  // Stencil lifecycle - called once after component is first connected to the DOM
  componentWillLoad() {
    _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.announceVersion();
    // Load props that may have values but no Watches have triggered yet
    if (this.env) {
      this.onEnvChanged();
    }
    if (this.token) {
      this.onTokenChanged();
    }
    if (this.username) {
      this.onUsernameChanged();
    }
    if (this.langCode) {
      this.onLangCodeChanged();
    }
    if (this.geoenrichmentUrl) {
      this.onGeoenrichmentUrlChanged();
    }
    if (this.sourceCountry) {
      this.onSourceCountryChanged();
    }
    if (this.config) {
      this.onConfigChange(this.config, '');
    }
    if (this.theme) {
      this.baseConfig.setTheme(this.theme);
    }
    else {
      this.baseConfig.setTheme('light');
    }
    // Set if Poratl Url was optionally passed in
    if (this.portalUrl) {
      _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__.E.setPortalUrl(this.portalUrl);
    }
    this._loadInstances();
    this.initSteps();
    this.buildInfographicOptions();
    this.updateTabStatuses();
    // if (!this.baseConfig.hasSubComponents()) {
    //   // add the workflow sub components for config updates
    //   this.baseConfig.addSubComponents([this._searchStepId, this._bufferStepId, this._infographicStepId]);
    // }
  }
  // Stencil lifecycle - called once after component is fully loaded and 1st render occurred
  componentDidLoad() {
    const self = this;
    if (this._dbg) {
      console.log('%c workflow componentDidLoad', 'font-size:8pt;color:orange;');
    }
    this._loadInstances();
    const cfg = self.baseConfig.config;
    _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__.T.setToken(cfg.username, cfg.token);
    if (!cfg._localeSettings) {
      cfg._localeSettings = {};
    }
    if (!cfg._localeSettings.language || cfg._localeSettings.language.length <= 0 || (cfg._localeSettings.language !== cfg.langCode && cfg.langCode)) {
      cfg._localeSettings.language = cfg.langCode || 'en-us'; // reset to default
      _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B._initialize(cfg._localeSettings.language);
      self.setLocaleStrings();
    }
    if (self.baseConfig) {
      self.baseConfig.onComponentHasRendered();
    }
  }
  // Stencil lifecycle - called just after component updates, but not called during first render()
  componentDidUpdate(prevProps, newProps) {
    const self = this;
    // console.log('%c workflow didUpdate', 'font-size:8pt;color:orange;')
    const cfg = self.baseConfig.config;
    _GEClient_f71049f8_js__WEBPACK_IMPORTED_MODULE_4__.T.setToken(cfg.username, cfg.token);
    if (!cfg._localeSettings) {
      cfg._localeSettings = {};
    }
    if (!cfg._localeSettings.language || cfg._localeSettings.language.length <= 0 || (cfg._localeSettings.language !== cfg.langCode && cfg.langCode)) {
      cfg._localeSettings.language = cfg.langCode || 'en-us'; // reset to default
      _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B._initialize(cfg._localeSettings.language);
      self.setLocaleStrings();
    }
    if (prevProps != newProps) {
      this.buildInfographicOptions();
    }
    if (self.baseConfig) {
      self.baseConfig.onComponentHasRendered();
    }
    //this.initTabNumbers()
  }
  onConfigChange(newConfig, oldConfig) {
    if (this.baseConfig) {
      let changed = [];
      if (newConfig && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(newConfig)) {
        const newCfg = JSON.parse(newConfig);
        const oldCfg = (oldConfig && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(oldConfig)) ? JSON.parse(oldConfig) : null;
        // console.log('%c BAC Workflow config changed', 'color:green;font-family:verdana;font-size:9pt;', this.baseConfig.config)
        changed = this.baseConfig.updateConfig(newCfg, oldCfg);
      }
      if (changed.length > 0 &&
        (changed.includes('workflowEnableSearch') ||
          changed.includes('workflowEnableUserConfigBuffers') ||
          changed.includes('workflowEnableInfographicChoice') ||
          changed.includes('workflowSearchSelectedObject') ||
          changed.includes('workflowSelectedReport'))) {
        this.initSteps();
        this.updateTabStatuses();
      }
    }
  }
  onsearchResultChange(newSelectedFeatureResult) {
    this.searchResultObjChanged(JSON.parse(newSelectedFeatureResult));
    // console.log('arcgis-infographic-workflow Selected Feature changed:', newSelectedFeatureResult);
    // TODO: implementation
  }
  searchResultObjChanged(data) {
    // If searchResultObject is being cleared, emit clear event
    if (JSON.stringify(this.searchResultObj) !== '{}' && JSON.stringify(data.detail) === '{}') {
      this.selectedFeatureClear.emit();
    }
    this.searchResultObj = data.detail;
    this.initSteps();
    this.updateTabStatuses();
  }
  searchResultsEventHandler(e) {
    this.baSearchFeatureChange.emit(e);
  }
  modalClosed() {
    this.modalOpened = false;
  }
  onBufferTypeChanged(event) {
    this.bufferType = event.detail;
    this.buildInfographicOptions();
  }
  onBufferValsChanged(event) {
    this.bufferVals = event.detail;
    this.buildInfographicOptions();
  }
  onBufferUnitChanged(event) {
    this.bufferUnit = event.detail;
    this.buildInfographicOptions();
  }
  handleStepperItemClick() {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper) {
      const stepperItems = Array.from(stepper.querySelectorAll('calcite-stepper-item'));
      const selectedIndex = stepperItems.findIndex(item => item.selected);
      if (selectedIndex !== -1) {
        this.currentStep = selectedIndex + 1;
      }
    }
  }
  handleReportSelectedChange(event) {
    this.selectedReport = event.detail.report.id;
  }
  handleDrawPointClick() {
    this.drawPointClick.emit();
  }
  handleDrawPolygonClick() {
    this.drawPolygonClick.emit();
  }
  updateBufferObj(obj, key, value) {
    if (['ringsObj', 'walktimeObj', 'drivetimeObj'].includes(obj)) {
      this[obj] = { ...(this[obj]), [key]: value };
    }
    else {
      console.error('Invalid state variable:', obj);
    }
  }
  //   @Method()
  // async setColors(colors: ColorTypes) {
  //   this.colors = colors;
  //   this.baseConfig.syncConfigFromProps();
  // }
  // Theme may be any of these:   1, "1", "light", 2, "2", "dark"
  async setTheme(theme) {
    this.baseConfig.setTheme(theme);
  }
  /**
   * setActiveLevels
   *    Sets the geography levels that will be requested/displayed
   *    in the search-step ba-search component
   *
   *    This accepts geography level 'names' but then tracks the
   *    level using the level 'id' internally
   *
   *    Passing 'names' with empty array will enable all levels
   *    Example: ['US.States','US.ZIP5', 'US.Places']
   *    The example array will only show those 3 levels
   */
  async setActiveLevels(names) {
    // // find the search-step
    // const stepId = 'workflow-search-step' + this._instanceIdNumber
    const searchStepElem = _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.queryElementById.call(this, this._searchStepId);
    if (searchStepElem) {
      searchStepElem.setActiveLevels(names);
    }
  }
  // Stepper Methods
  initSteps() {
    const { workflowEnableSearch, workflowEnableUserConfigBuffers, workflowEnableInfographicChoice, workflowSearchSelectedObject, workflowSelectedReport } = this.baseConfig.config;
    if (!workflowEnableSearch && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(workflowSearchSelectedObject) && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj)) {
      this.searchResultObj = JSON.parse(workflowSearchSelectedObject);
    }
    if (!workflowEnableInfographicChoice && _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(workflowSelectedReport)) {
      this.selectedReport = workflowSelectedReport;
    }
    const updatedSteps = [];
    if (workflowEnableSearch) {
      updatedSteps.push(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.search);
    }
    if (workflowEnableUserConfigBuffers && (_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj) || (!_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj) && this.searchResultObj.type === 'location'))) {
      updatedSteps.push(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers);
    }
    if (workflowEnableInfographicChoice) {
      updatedSteps.push(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.infographics);
    }
    this.steps = updatedSteps;
    this.numSteps = updatedSteps.length;
    // console.log(this.numSteps)
    this.goToFirstStep();
  }
  // initTabNumbers() {
  //   if (this.showTabNumbers && this.numSteps === 1) {
  //     this.showTabNumbers = false
  //   } else if (!this.showTabNumbers && this.numSteps > 1) {
  //     this.showTabNumbers = true
  //   }
  // }
  handleNextButtonClick() {
    this.currentStep = Math.min(this.currentStep + 1, this.numSteps);
    this.renderBuffers();
    //if (this.currentStep < this.numSteps)
    this.goToStep(this.currentStep);
    //this.goToNextStep();
    this.updateTabStatuses();
  }
  handleBackButtonClick() {
    this.currentStep = Math.max(this.currentStep - 1, 1);
    //if (this.currentStep > 0)
    this.goToPrevStep();
    this.updateTabStatuses();
  }
  handleInfographicTabClick() {
    // console.log('clicked')
    this.infographicTabViewed = true;
    this.updateTabStatuses();
  }
  goToStep(stepIndex) {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper) {
      stepper.goToStep(stepIndex);
    }
  }
  renderBuffers(forceEvent = false) {
    const stepName = this.steps[Math.max(this.currentStep - 2, 0)];
    // Trigger event when buffers are specified so we can render on map
    if (stepName === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers || (!this.steps.includes(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers) && stepName === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.search) || forceEvent) {
      this.buildInfographicOptions();
      this.buffersUpdate.emit({ options: this.baseConfig.config.infographicOptions, searchResultObj: this.searchResultObj });
    }
  }
  goToNextStep() {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper) {
      stepper.nextStep();
    }
  }
  goToPrevStep() {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper) {
      stepper.prevStep();
    }
  }
  goToFirstStep() {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper) {
      stepper.startStep();
    }
  }
  goToLastStep() {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper) {
      stepper.endStep();
    }
  }
  openModal() {
    if (!this.steps.includes(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.infographics)) {
      this.renderBuffers(true);
    }
    this.runInfographic.emit({ config: this.baseConfig.config, searchResultObj: this.searchResultObj, selectedReport: this.selectedReport });
    //this.modalOpened = true;
  }
  cleanArray(inputArr) {
    let outputArray = [];
    for (let i = 0; i < inputArr.length; i++) {
      if (!Number.isNaN(inputArr[i]) && inputArr[i] !== null) {
        outputArray.push(inputArr[i]);
      }
    }
    return outputArray;
  }
  handleNoBufferConfig() {
    if (!this.baseConfig?.config) {
      return;
    }
    const cfg = this.baseConfig.config;
    if (!cfg.workflowEnableUserConfigBuffers) {
      if (cfg.workflowBuffer === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.ring) {
        this.bufferType = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.ring;
        this.bufferVals = this.cleanArray([cfg.workflowRingsBuffer1, cfg.workflowRingsBuffer2, cfg.workflowRingsBuffer3]);
        this.bufferUnit = cfg.workflowRingsBufferUnit;
      }
      else if (cfg.workflowBuffer === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.drivetime) {
        this.bufferType = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.drivetime;
        this.bufferVals = this.cleanArray([cfg.workflowDrivetimeBuffer1, cfg.workflowDrivetimeBuffer2, cfg.workflowDrivetimeBuffer3]);
        this.bufferUnit = cfg.workflowDrivetimeBufferUnit;
      }
      else if (cfg.workflowBuffer === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.walktime) {
        this.bufferType = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.B.walktime;
        this.bufferVals = this.cleanArray([cfg.workflowWalktimeBuffer1, cfg.workflowWalktimeBuffer2, cfg.workflowWalktimeBuffer3]);
        this.bufferUnit = cfg.workflowWalktimeBufferUnit;
      }
    }
  }
  buildInfographicOptions() {
    let cfg;
    if (this.baseConfig?.config) {
      cfg = this.baseConfig.config;
    }
    else if (_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.hasText(this.config)) {
      cfg = JSON.parse(this.config);
      this.baseConfig.updateConfig(cfg, null);
    }
    else {
      return;
    }
    let options = {};
    let sharedOptions = {};
    // Handle when there is no buffer option available
    this.handleNoBufferConfig();
    options = {
      bufferType: this.bufferType,
      bufferUnits: this.bufferUnit
    };
    sharedOptions = {
      bufferSizes: this.bufferVals,
      viewMode: cfg.viewMode,
      report: {
        showHeader: cfg.displayHeader,
        showZoomLevel: !cfg.zoomLevel,
        showFullscreen: false // Always false for workflow mode
      },
      export: {
        excel: cfg.excel,
        image: cfg.imageExport,
        pdf: cfg.pdf,
        dynamicHtml: cfg.dynamicHtml,
        print: false
      },
      style: {
        backgroundColor: cfg.igBackgroundColor,
        headerColor: cfg.headerColor,
        headerTextColor: cfg.headerTextColor
      },
      map: {
        runReportOnClick: cfg.runReportOnClick,
        showSearch: false
      }
    };
    const combinedOptions = Object.assign({}, options, sharedOptions);
    if (this.baseConfig) {
      this.baseConfig.updateConfig({ infographicOptions: combinedOptions }, null);
    }
  }
  hasSearchResult() {
    return !_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj);
  }
  updateTabStatuses() {
    // Be careful what you change in this function as you can easily create an infinite loop with the state management
    let canContinue = false;
    // Update search tab status state  (complete || error)
    if (this.hasSearchResult() && this.searchTabStatus?.complete !== 'complete') {
      this.searchTabStatus = { complete: 'complete' };
      canContinue = true;
    }
    else if (this.searchTabStatus?.error !== 'error' && this.searchTabStatus?.complete !== 'complete') {
      this.searchTabStatus = { error: 'error' };
    }
    else if (this.hasSearchResult() && this.searchTabStatus?.complete === 'complete') {
      canContinue = true;
    }
    // Update buffer tab status state (complete || error || disabled)
    if (canContinue) {
      if (this.bufferVals?.length === 0) {
        this.bufferTabStatus = { error: 'error' };
      }
      else if (this.bufferTabStatus?.complete !== 'complete') {
        this.bufferTabStatus = { complete: 'complete' };
      }
    }
    else if (this.bufferTabStatus?.disabled !== 'disabled') {
      this.bufferTabStatus = { disabled: 'disabled' };
    }
    // Update Infographic Tab status state (complete || error || disabled)
    if (canContinue) {
      // console.log(this.selectedReport, this.infographicTabViewed, this.infographicTabStatus?.error, this.infographicTabStatus?.complete, this.infographicTabStatus?.disabled)
      if (this.selectedReport && this.infographicTabStatus?.complete !== 'complete') {
        this.infographicTabStatus = { complete: 'complete' };
      }
      else if (this.infographicTabViewed && this.infographicTabStatus?.error !== 'error') {
        this.infographicTabStatus = { error: 'error' };
      }
      else if (!this.infographicTabViewed && this.infographicTabStatus?.error !== 'error') {
        this.infographicTabStatus = {};
      }
    }
    else if (this.infographicTabStatus?.disabled !== 'disabled') {
      this.infographicTabStatus = { disabled: 'disabled' };
    }
    // Set the selected tab if none are selected
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper === null || stepper?.selectedItem === null) {
      if (this.steps[0] === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.search) {
        this._setInitialStepperTab = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.search;
        this.searchTabStatus = {};
      }
      else if (this.steps[0] === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers) {
        this._setInitialStepperTab = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers;
        this.bufferTabStatus = {};
      }
      else if (this.steps[0] === _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.infographics) {
        this._setInitialStepperTab = _infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.infographics;
        this.infographicTabStatus = {};
      }
    }
  }
  componentDidRender() {
    const stepper = this.el.shadowRoot?.querySelector('calcite-stepper');
    if (stepper && this._setInitialStepperTab) {
      this.goToStep(this.steps.indexOf(this._setInitialStepperTab) + 1);
      //stepper?.goToStep(this.steps.indexOf(this._setInitialStepperTab) + 1);
      this._setInitialStepperTab = null;
    }
  }
  render() {
    try {
      const idn = this._instanceIdNumber;
      // const themeColors = {
      //   '--calcite-ui-brand': primaryColor,
      //   '--calcite-ui-brand-hover': secondaryColor,
      //   '--calcite-stepper-item-header-hover-border-color': primaryColor,
      // };
      const isFirstStep = this.currentStep === 1;
      const isLastStep = this.currentStep === this.numSteps;
      _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B._initialize(this.langCode);
      return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: 'wf-layout-outer' }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: 'wf-layout-card' }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: 'wf-layout-stepper' }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-stepper", { id: 'workflow-stepper-' + idn }, this.steps.includes(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.search) && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-stepper-item", { heading: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B.i18n('search-label') }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: "step-content wf-step-content wf-step-search" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("search-step", { id: this._searchStepId, stepId: 'workflow-search-step' + idn, config: this.baseConfig.getConfigString(), selectedFeatureResult: this.selectedFeatureResult, geocodeUrl: this.geocodeUrl }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: "draw-components-class", slot: "draw-components" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", { name: "draw-components" })))))), this.steps.includes(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.buffers) && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-stepper-item", { heading: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B.i18n('buffers-label'), ...this.bufferTabStatus }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: "step-content wf-step-content" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("buffers-step", { stepId: this._bufferStepId, config: this.baseConfig.getConfigString(), langCode: this.langCode })))), this.steps.includes(_infographics_step_9e7ffb8d_js__WEBPACK_IMPORTED_MODULE_0__.S.infographics) && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-stepper-item", { heading: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.B.i18n('infographics-label'), ...this.infographicTabStatus, onClick: () => this.handleInfographicTabClick() }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: "step-content wf-step-content" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("infographics-step", { stepId: this._infographicStepId, config: this.baseConfig.getConfigString(), selectedReport: this.selectedReport, portalOnlineGEProxy: this.portalOnlineGEProxy })))))), (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: "wf-layout-nav" }, (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", { class: "wf-layout-buttons" }, !isFirstStep && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-button", { appearance: 'outline', onClick: () => this.handleBackButtonClick() }, this.labels.back)), !isLastStep && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-button", { class: "nav-button", onClick: () => this.handleNextButtonClick(), disabled: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj) }, this.labels.next)), ((!_ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj) && isLastStep) || (this.numSteps === 1)) && ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("calcite-button", { class: "nav-button", onClick: () => this.openModal(), disabled: _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.selectedReport) || _ElementIds_a2c40592_js__WEBPACK_IMPORTED_MODULE_3__.A.isEmptyObject(this.searchResultObj) }, this.labels.runInfographic)))))));
    }
    catch (ex) {
      console.log('%c Workflow error:', 'font-size:9pt;color:red', ex);
    }
    return ((0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, "Workflow error"));
  }
  get el() { return (0,_index_4e647411_js__WEBPACK_IMPORTED_MODULE_1__.g)(this); }
  static get watchers() { return {
    "env": ["onEnvChanged"],
    "token": ["onTokenChanged"],
    "username": ["onUsernameChanged"],
    "langCode": ["onLangCodeChanged"],
    "geoenrichmentUrl": ["onGeoenrichmentUrlChanged"],
    "sourceCountry": ["onSourceCountryChanged"],
    "config": ["onConfigChange"],
    "selectedFeatureResult": ["onsearchResultChange"]
  }; }
};
ArcgisInfographicWorkflow.style = arcgisInfographicWorkflowCss;



//# sourceMappingURL=arcgis-infographic-workflow.entry.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYmEtaW5mb2dyYXBoaWNfbm9kZV9tb2R1bGVzX2FyY2dpc19idXNpbmVzcy1hbmFseXN0LWNvbXBvbmVudHNfZGlzLTg2MTI2MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkc7QUFDcW1CO0FBQ3hwQjtBQUMwQztBQUNuQjtBQUMvQjtBQUNSO0FBQ1A7QUFDYztBQUNWO0FBQ0s7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLEdBQUcsVUFBVSxLQUFLLFdBQVcsbUJBQW1CLEdBQUcsVUFBVSxrQ0FBa0MsS0FBSyxVQUFVLGdDQUFnQyxpQkFBaUIsR0FBRyxVQUFVLGlDQUFpQyxLQUFLLFVBQVUsZ0NBQWdDLG9CQUFvQixHQUFHLFVBQVUsaUNBQWlDLEtBQUssVUFBVSw0QkFBNEIsTUFBTSxpRkFBaUYscUVBQXFFLCtGQUErRixpR0FBaUcsK0ZBQStGLGlCQUFpQixVQUFVLHlCQUF5QixtREFBbUQscUJBQXFCLGtCQUFrQiwwQkFBMEIsdUJBQXVCLHdCQUF3QixxQkFBcUIsMkJBQTJCLHdCQUF3Qix3Q0FBd0MsTUFBTSxzQ0FBc0MsTUFBTSxpRUFBaUUsa0NBQWtDLGdCQUFnQixhQUFhLE1BQU0sa0JBQWtCLGFBQWEsaUJBQWlCLGlDQUFpQyw0QkFBNEIsbUJBQW1CLGVBQWUsb0JBQW9CLDhCQUE4Qix5QkFBeUIsY0FBYyxzQkFBc0IsMkJBQTJCLGFBQWEsMENBQTBDOztBQUVycEQsOEJBQThCLGlFQUFrQixlQUFlLDZEQUFDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlFQUFXO0FBQy9DLDRDQUE0QyxpRUFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFP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aWRnZXRzL2JhLWluZm9ncmFwaGljL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2J1c2luZXNzLWFuYWx5c3QtY29tcG9uZW50cy9kaXN0L3N0ZW5jaWwtY29tcG9uZW50cy9kaXN0L2VzbS9hcmNnaXMtaW5mb2dyYXBoaWMtd29ya2Zsb3cuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBjIGFzIGNyZWF0ZUV2ZW50JDEsIGggYXMgaCQxLCBnIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTRlNjQ3NDExLmpzJztcbmltcG9ydCB7IHAgYXMgcHJveHlDdXN0b21FbGVtZW50LCBILCBjIGFzIGNyZWF0ZUV2ZW50LCBoLCBmIGFzIGZvY3VzRWxlbWVudEluR3JvdXAsIGQgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudCQyLCBuIGFzIG51bWJlclN0cmluZ0Zvcm1hdHRlciwgYSBhcyBjb25uZWN0TG9jYWxpemVkLCBzIGFzIHNldFVwTG9hZGFibGVDb21wb25lbnQsIGcgYXMgZ2V0RWxlbWVudFByb3AsIGIgYXMgc2V0Q29tcG9uZW50TG9hZGVkLCB1IGFzIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbiwgZSBhcyBkaXNjb25uZWN0TG9jYWxpemVkLCB0IGFzIHRvQXJpYUJvb2xlYW4sIGkgYXMgSG9zdCwgaiBhcyBjb21wb25lbnRMb2FkZWQsIGsgYXMgZGVmaW5lQ3VzdG9tRWxlbWVudCQzLCBsIGFzIGNyZWF0ZU9ic2VydmVyLCBtIGFzIHN1Ym1pdEZvcm0sIHIgYXMgcmVzZXRGb3JtLCBvIGFzIGNvbm5lY3RNZXNzYWdlcywgcSBhcyBjb25uZWN0TGFiZWwsIHYgYXMgY2xvc2VzdEVsZW1lbnRDcm9zc1NoYWRvd0JvdW5kYXJ5LCB3IGFzIGRpc2Nvbm5lY3RMYWJlbCwgeCBhcyBkaXNjb25uZWN0TWVzc2FnZXMsIHkgYXMgc2V0VXBNZXNzYWdlcywgeiBhcyBnZXRMYWJlbFRleHQsIEEgYXMgdXBkYXRlTWVzc2FnZXMsIFMgYXMgU3RlcFZhbHVlcywgQiBhcyBCdWZmZXJUeXBlc1ZhbHVlcywgQyBhcyBCdWZmZXJVbml0c1ZhbHVlcyB9IGZyb20gJy4vaW5mb2dyYXBoaWNzLXN0ZXAtOWU3ZmZiOGQuanMnO1xuaW1wb3J0IHsgQiBhcyBCYXNlVXRpbCB9IGZyb20gJy4vYmFzZS11dGlsLWI3ZGI2OWYwLmpzJztcbmltcG9ydCB7IEEgYXMgQUNMVXRpbHMsIEIgYXMgQmFSZXBvcnRzTGFuZ3VhZ2UsIEUgYXMgRWxlbWVudElkcyB9IGZyb20gJy4vRWxlbWVudElkcy1hMmM0MDU5Mi5qcyc7XG5pbXBvcnQgeyBFIGFzIEVudmlyb25tZW50cywgVCBhcyBUb2tlblByb3ZpZGVyIH0gZnJvbSAnLi9HRUNsaWVudC1mNzEwNDlmOC5qcyc7XG5pbXBvcnQgJy4vYXJjZ2lzLWluZm9ncmFwaGljLW1vZGFsLTUzMWUwZTgyLmpzJztcbmltcG9ydCAnLi9hcmNnaXMtYmEtc2VhcmNoLWI2MGE3OGY5LmpzJztcbmltcG9ydCAnLi9pbmRleC5lc20tMWM2NWQ4YzcuanMnO1xuaW1wb3J0ICcuL2FyY2dpcy1pbmZvZ3JhcGhpYy10cmVlLTU3ZWFiZjJjLmpzJztcbmltcG9ydCAnLi9hcmNnaXNSZXBvcnRzLTBjMzUxZjBhLmpzJztcbmltcG9ydCAnLi9hcmNnaXMtaW5mb2dyYXBoaWMtM2VmMWEwMGYuanMnO1xuXG4vKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0VzcmkvY2FsY2l0ZS1jb21wb25lbnRzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWQgZm9yIGRldGFpbHMuXG4gKiB2MS4wLjVcbiAqL1xuXG5jb25zdCBzdGVwcGVyQ3NzID0gXCJAa2V5ZnJhbWVzIGluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19QGtleWZyYW1lcyBpbi1kb3duezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgLTVweCwgMCl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZTNEKDAsIDAsIDApfX1Aa2V5ZnJhbWVzIGluLXVwezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgNXB4LCAwKX0xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgMCwgMCl9fUBrZXlmcmFtZXMgaW4tc2NhbGV7MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZTNEKDAuOTUsIDAuOTUsIDEpfTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZTNEKDEsIDEsIDEpfX06cm9vdHstLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZzpjYWxjKDE1MG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yOnZhcigtLWNhbGNpdGUtZHVyYXRpb24tZmFjdG9yLCAxKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1mYXN0OmNhbGMoMTAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpOy0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLW1lZGl1bTpjYWxjKDIwMG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1zbG93OmNhbGMoMzAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpfS5jYWxjaXRlLWFuaW1hdGV7b3BhY2l0eTowO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aDthbmltYXRpb24tZHVyYXRpb246dmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKX0uY2FsY2l0ZS1hbmltYXRlX19pbnthbmltYXRpb24tbmFtZTppbn0uY2FsY2l0ZS1hbmltYXRlX19pbi1kb3due2FuaW1hdGlvbi1uYW1lOmluLWRvd259LmNhbGNpdGUtYW5pbWF0ZV9faW4tdXB7YW5pbWF0aW9uLW5hbWU6aW4tdXB9LmNhbGNpdGUtYW5pbWF0ZV9faW4tc2NhbGV7YW5pbWF0aW9uLW5hbWU6aW4tc2NhbGV9QG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2Upezpyb290ey0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3I6MH19OnJvb3R7LS1jYWxjaXRlLWZsb2F0aW5nLXVpLXRyYW5zaXRpb246dmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKTstLWNhbGNpdGUtZmxvYXRpbmctdWktei1pbmRleDo2MDB9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX06aG9zdHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7aW5saW5lLXNpemU6MTAwJTttaW4taW5saW5lLXNpemU6LW1vei1maXQtY29udGVudDttaW4taW5saW5lLXNpemU6Zml0LWNvbnRlbnQ7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDp3cmFwO2FsaWduLWl0ZW1zOnN0cmV0Y2g7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59Omhvc3QoW2xheW91dD12ZXJ0aWNhbF0pe2ZsZXg6MSAxIGF1dG87ZmxleC1kaXJlY3Rpb246Y29sdW1ufTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF0pe2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWFyZWFzOlxcXCJpdGVtc1xcXCIgXFxcImNvbnRlbnRcXFwifVwiO1xuXG5jb25zdCBTdGVwcGVyID0gLypAX19QVVJFX18qLyBwcm94eUN1c3RvbUVsZW1lbnQoY2xhc3MgZXh0ZW5kcyBIIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgdGhpcy5fX2F0dGFjaFNoYWRvdygpO1xuICAgIHRoaXMuY2FsY2l0ZVN0ZXBwZXJJdGVtQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlU3RlcHBlckl0ZW1DaGFuZ2VcIiwgNik7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiY2FsY2l0ZUludGVybmFsU3RlcHBlckl0ZW1DaGFuZ2VcIiwgNik7XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy8gIFByaXZhdGUgU3RhdGUvUHJvcHNcbiAgICAvL1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB0aGlzLml0ZW1NYXAgPSBuZXcgTWFwKCk7XG4gICAgLyoqIGxpc3Qgb2Ygc29ydGVkIFN0ZXBwZXIgaXRlbXMgKi9cbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgLyoqIGxpc3Qgb2YgZW5hYmxlZCBTdGVwcGVyIGl0ZW1zICovXG4gICAgdGhpcy5lbmFibGVkSXRlbXMgPSBbXTtcbiAgICB0aGlzLmljb24gPSBmYWxzZTtcbiAgICB0aGlzLmxheW91dCA9IFwiaG9yaXpvbnRhbFwiO1xuICAgIHRoaXMubnVtYmVyZWQgPSBmYWxzZTtcbiAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgdGhpcy5zY2FsZSA9IFwibVwiO1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgLy8gaWYgbm8gc3RlcHBlciBpdGVtcyBhcmUgc2V0IGFzIGFjdGl2ZSwgZGVmYXVsdCB0byB0aGUgZmlyc3Qgb25lXG4gICAgaWYgKHR5cGVvZiB0aGlzLmN1cnJlbnRQb3NpdGlvbiAhPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbUNoYW5nZS5lbWl0KHtcbiAgICAgICAgcG9zaXRpb246IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwic2xvdFwiLCB7IG9uU2xvdGNoYW5nZTogKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZXZlbnQuY3VycmVudFRhcmdldFxuICAgICAgICAgIC5hc3NpZ25lZEVsZW1lbnRzKClcbiAgICAgICAgICAuZmlsdGVyKChlbCkgPT4gZWw/LnRhZ05hbWUgPT09IFwiQ0FMQ0lURS1TVEVQUEVSLUlURU1cIik7XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSBBcnJheShpdGVtcy5sZW5ndGgpLmZpbGwoXCIxZnJcIikuam9pbihcIiBcIik7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuZ3JpZFRlbXBsYXRlQXJlYXMgPSBzcGFjaW5nO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBzcGFjaW5nO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgRXZlbnQgTGlzdGVuZXJzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgY2FsY2l0ZUludGVybmFsU3RlcHBlckl0ZW1LZXlFdmVudChldmVudCkge1xuICAgIGNvbnN0IGl0ZW0gPSBldmVudC5kZXRhaWwuaXRlbTtcbiAgICBjb25zdCBpdGVtVG9Gb2N1cyA9IGV2ZW50LnRhcmdldDtcbiAgICBzd2l0Y2ggKGl0ZW0ua2V5KSB7XG4gICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICBmb2N1c0VsZW1lbnRJbkdyb3VwKHRoaXMuZW5hYmxlZEl0ZW1zLCBpdGVtVG9Gb2N1cywgXCJuZXh0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgIGZvY3VzRWxlbWVudEluR3JvdXAodGhpcy5lbmFibGVkSXRlbXMsIGl0ZW1Ub0ZvY3VzLCBcInByZXZpb3VzXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJIb21lXCI6XG4gICAgICAgIGZvY3VzRWxlbWVudEluR3JvdXAodGhpcy5lbmFibGVkSXRlbXMsIGl0ZW1Ub0ZvY3VzLCBcImZpcnN0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbmRcIjpcbiAgICAgICAgZm9jdXNFbGVtZW50SW5Hcm91cCh0aGlzLmVuYWJsZWRJdGVtcywgaXRlbVRvRm9jdXMsIFwibGFzdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIHJlZ2lzdGVySXRlbShldmVudCkge1xuICAgIGNvbnN0IGl0ZW0gPSBldmVudC50YXJnZXQ7XG4gICAgY29uc3QgeyBjb250ZW50LCBwb3NpdGlvbiB9ID0gZXZlbnQuZGV0YWlsO1xuICAgIHRoaXMuaXRlbU1hcC5zZXQoaXRlbSwgeyBwb3NpdGlvbiwgY29udGVudCB9KTtcbiAgICB0aGlzLml0ZW1zID0gdGhpcy5zb3J0SXRlbXMoKTtcbiAgICB0aGlzLmVuYWJsZWRJdGVtcyA9IHRoaXMuZmlsdGVySXRlbXMoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICB1cGRhdGVJdGVtKGV2ZW50KSB7XG4gICAgY29uc3QgeyBwb3NpdGlvbiB9ID0gZXZlbnQuZGV0YWlsO1xuICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGV2ZW50LnRhcmdldDtcbiAgICB9XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbUNoYW5nZS5lbWl0KHtcbiAgICAgIHBvc2l0aW9uXG4gICAgfSk7XG4gIH1cbiAgaGFuZGxlVXNlclJlcXVlc3RlZFN0ZXBwZXJJdGVtU2VsZWN0KCkge1xuICAgIHRoaXMuY2FsY2l0ZVN0ZXBwZXJJdGVtQ2hhbmdlLmVtaXQoKTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQdWJsaWMgTWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qKiBTZXQgdGhlIG5leHQgYGNhbGNpdGUtc3RlcHBlci1pdGVtYCBhcyBhY3RpdmUuICovXG4gIGFzeW5jIG5leHRTdGVwKCkge1xuICAgIGNvbnN0IGVuYWJsZWRTdGVwSW5kZXggPSB0aGlzLmdldEVuYWJsZWRTdGVwSW5kZXgodGhpcy5jdXJyZW50UG9zaXRpb24gKyAxLCBcIm5leHRcIik7XG4gICAgaWYgKHR5cGVvZiBlbmFibGVkU3RlcEluZGV4ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU3RlcChlbmFibGVkU3RlcEluZGV4KTtcbiAgfVxuICAvKiogU2V0IHRoZSBwcmV2aW91cyBgY2FsY2l0ZS1zdGVwcGVyLWl0ZW1gIGFzIGFjdGl2ZS4gKi9cbiAgYXN5bmMgcHJldlN0ZXAoKSB7XG4gICAgY29uc3QgZW5hYmxlZFN0ZXBJbmRleCA9IHRoaXMuZ2V0RW5hYmxlZFN0ZXBJbmRleCh0aGlzLmN1cnJlbnRQb3NpdGlvbiAtIDEsIFwicHJldmlvdXNcIik7XG4gICAgaWYgKHR5cGVvZiBlbmFibGVkU3RlcEluZGV4ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU3RlcChlbmFibGVkU3RlcEluZGV4KTtcbiAgfVxuICAvKipcbiAgICogU2V0IGEgc3BlY2lmaWVkIGBjYWxjaXRlLXN0ZXBwZXItaXRlbWAgYXMgYWN0aXZlLlxuICAgKlxuICAgKiBAcGFyYW0gc3RlcFxuICAgKi9cbiAgYXN5bmMgZ29Ub1N0ZXAoc3RlcCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gc3RlcCAtIDE7XG4gICAgaWYgKHRoaXMuY3VycmVudFBvc2l0aW9uICE9PSBwb3NpdGlvbikge1xuICAgICAgdGhpcy51cGRhdGVTdGVwKHBvc2l0aW9uKTtcbiAgICB9XG4gIH1cbiAgLyoqIFNldCB0aGUgZmlyc3QgYGNhbGNpdGUtc3RlcHBlci1pdGVtYCBhcyBhY3RpdmUuICovXG4gIGFzeW5jIHN0YXJ0U3RlcCgpIHtcbiAgICBjb25zdCBlbmFibGVkU3RlcEluZGV4ID0gdGhpcy5nZXRFbmFibGVkU3RlcEluZGV4KDAsIFwibmV4dFwiKTtcbiAgICBpZiAodHlwZW9mIGVuYWJsZWRTdGVwSW5kZXggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVTdGVwKGVuYWJsZWRTdGVwSW5kZXgpO1xuICB9XG4gIC8qKiBTZXQgdGhlIGxhc3QgYGNhbGNpdGUtc3RlcHBlci1pdGVtYCBhcyBhY3RpdmUuICovXG4gIGFzeW5jIGVuZFN0ZXAoKSB7XG4gICAgY29uc3QgZW5hYmxlZFN0ZXBJbmRleCA9IHRoaXMuZ2V0RW5hYmxlZFN0ZXBJbmRleCh0aGlzLml0ZW1zLmxlbmd0aCAtIDEsIFwicHJldmlvdXNcIik7XG4gICAgaWYgKHR5cGVvZiBlbmFibGVkU3RlcEluZGV4ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU3RlcChlbmFibGVkU3RlcEluZGV4KTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBnZXRFbmFibGVkU3RlcEluZGV4KHN0YXJ0SW5kZXgsIGRpcmVjdGlvbiA9IFwibmV4dFwiKSB7XG4gICAgY29uc3QgeyBpdGVtcywgY3VycmVudFBvc2l0aW9uIH0gPSB0aGlzO1xuICAgIGxldCBuZXdJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgd2hpbGUgKGl0ZW1zW25ld0luZGV4XT8uZGlzYWJsZWQpIHtcbiAgICAgIG5ld0luZGV4ID0gbmV3SW5kZXggKyAoZGlyZWN0aW9uID09PSBcInByZXZpb3VzXCIgPyAtMSA6IDEpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3SW5kZXggIT09IGN1cnJlbnRQb3NpdGlvbiAmJiBuZXdJbmRleCA8IGl0ZW1zLmxlbmd0aCAmJiBuZXdJbmRleCA+PSAwXG4gICAgICA/IG5ld0luZGV4XG4gICAgICA6IG51bGw7XG4gIH1cbiAgdXBkYXRlU3RlcChwb3NpdGlvbikge1xuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbUNoYW5nZS5lbWl0KHtcbiAgICAgIHBvc2l0aW9uXG4gICAgfSk7XG4gIH1cbiAgc29ydEl0ZW1zKCkge1xuICAgIGNvbnN0IHsgaXRlbU1hcCB9ID0gdGhpcztcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpdGVtTWFwLmtleXMoKSkuc29ydCgoYSwgYikgPT4gaXRlbU1hcC5nZXQoYSkucG9zaXRpb24gLSBpdGVtTWFwLmdldChiKS5wb3NpdGlvbik7XG4gIH1cbiAgZmlsdGVySXRlbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiAhaXRlbS5kaXNhYmxlZCk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gc3RlcHBlckNzczsgfVxufSwgWzEsIFwiY2FsY2l0ZS1zdGVwcGVyXCIsIHtcbiAgICBcImljb25cIjogWzUxNl0sXG4gICAgXCJsYXlvdXRcIjogWzUxM10sXG4gICAgXCJudW1iZXJlZFwiOiBbNTE2XSxcbiAgICBcIm51bWJlcmluZ1N5c3RlbVwiOiBbNTEzLCBcIm51bWJlcmluZy1zeXN0ZW1cIl0sXG4gICAgXCJzZWxlY3RlZEl0ZW1cIjogWzEwNDBdLFxuICAgIFwic2NhbGVcIjogWzUxM10sXG4gICAgXCJuZXh0U3RlcFwiOiBbNjRdLFxuICAgIFwicHJldlN0ZXBcIjogWzY0XSxcbiAgICBcImdvVG9TdGVwXCI6IFs2NF0sXG4gICAgXCJzdGFydFN0ZXBcIjogWzY0XSxcbiAgICBcImVuZFN0ZXBcIjogWzY0XVxuICB9LCBbWzAsIFwiY2FsY2l0ZUludGVybmFsU3RlcHBlckl0ZW1LZXlFdmVudFwiLCBcImNhbGNpdGVJbnRlcm5hbFN0ZXBwZXJJdGVtS2V5RXZlbnRcIl0sIFswLCBcImNhbGNpdGVJbnRlcm5hbFN0ZXBwZXJJdGVtUmVnaXN0ZXJcIiwgXCJyZWdpc3Rlckl0ZW1cIl0sIFswLCBcImNhbGNpdGVJbnRlcm5hbFN0ZXBwZXJJdGVtU2VsZWN0XCIsIFwidXBkYXRlSXRlbVwiXSwgWzAsIFwiY2FsY2l0ZUludGVybmFsVXNlclJlcXVlc3RlZFN0ZXBwZXJJdGVtU2VsZWN0XCIsIFwiaGFuZGxlVXNlclJlcXVlc3RlZFN0ZXBwZXJJdGVtU2VsZWN0XCJdXV0pO1xuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudCQxJDEoKSB7XG4gIGlmICh0eXBlb2YgY3VzdG9tRWxlbWVudHMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29tcG9uZW50cyA9IFtcImNhbGNpdGUtc3RlcHBlclwiXTtcbiAgY29tcG9uZW50cy5mb3JFYWNoKHRhZ05hbWUgPT4geyBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICBjYXNlIFwiY2FsY2l0ZS1zdGVwcGVyXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgU3RlcHBlcik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfSB9KTtcbn1cbmRlZmluZUN1c3RvbUVsZW1lbnQkMSQxKCk7XG5cbi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbiAqIHYxLjAuNVxuICovXG5cbmNvbnN0IHN0ZXBwZXJJdGVtQ3NzID0gXCJAa2V5ZnJhbWVzIGluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19QGtleWZyYW1lcyBpbi1kb3duezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgLTVweCwgMCl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnRyYW5zbGF0ZTNEKDAsIDAsIDApfX1Aa2V5ZnJhbWVzIGluLXVwezAle29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgNXB4LCAwKX0xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgMCwgMCl9fUBrZXlmcmFtZXMgaW4tc2NhbGV7MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZTNEKDAuOTUsIDAuOTUsIDEpfTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZTNEKDEsIDEsIDEpfX06cm9vdHstLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZzpjYWxjKDE1MG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yOnZhcigtLWNhbGNpdGUtZHVyYXRpb24tZmFjdG9yLCAxKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1mYXN0OmNhbGMoMTAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpOy0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLW1lZGl1bTpjYWxjKDIwMG1zICogdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3IpKTstLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1zbG93OmNhbGMoMzAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpfS5jYWxjaXRlLWFuaW1hdGV7b3BhY2l0eTowO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aDthbmltYXRpb24tZHVyYXRpb246dmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKX0uY2FsY2l0ZS1hbmltYXRlX19pbnthbmltYXRpb24tbmFtZTppbn0uY2FsY2l0ZS1hbmltYXRlX19pbi1kb3due2FuaW1hdGlvbi1uYW1lOmluLWRvd259LmNhbGNpdGUtYW5pbWF0ZV9faW4tdXB7YW5pbWF0aW9uLW5hbWU6aW4tdXB9LmNhbGNpdGUtYW5pbWF0ZV9faW4tc2NhbGV7YW5pbWF0aW9uLW5hbWU6aW4tc2NhbGV9QG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2Upezpyb290ey0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3I6MH19OnJvb3R7LS1jYWxjaXRlLWZsb2F0aW5nLXVpLXRyYW5zaXRpb246dmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKTstLWNhbGNpdGUtZmxvYXRpbmctdWktei1pbmRleDo2MDB9Omhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX06aG9zdChbbGF5b3V0PWhvcml6b250YWxdW2Rpc2FibGVkXSkgLnN0ZXBwZXItaXRlbS1oZWFkZXIsOmhvc3QoW2Rpc2FibGVkXSl7cG9pbnRlci1ldmVudHM6bm9uZTtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtvcGFjaXR5OnZhcigtLWNhbGNpdGUtdWktb3BhY2l0eS1kaXNhYmxlZCl9Omhvc3QoW3NjYWxlPXNdKXstLWNhbGNpdGUtc3RlcHBlci1pdGVtLXNwYWNpbmctdW5pdC1zOjAuMjVyZW07LS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtbTowLjc1cmVtOy0tY2FsY2l0ZS1zdGVwcGVyLWl0ZW0tc3BhY2luZy11bml0LWw6MXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtLTEpO2xpbmUtaGVpZ2h0OjFyZW07bWFyZ2luLWlubGluZS1lbmQ6MC4yNXJlbX06aG9zdChbc2NhbGU9c10pIC5zdGVwcGVyLWl0ZW0tZGVzY3JpcHRpb257Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0yKTtsaW5lLWhlaWdodDoxcmVtfTpob3N0KFtzY2FsZT1tXSl7LS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtczowLjVyZW07LS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtbToxcmVtOy0tY2FsY2l0ZS1zdGVwcGVyLWl0ZW0tc3BhY2luZy11bml0LWw6MS4yNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4yNXJlbTttYXJnaW4taW5saW5lLWVuZDowLjVyZW19Omhvc3QoW3NjYWxlPW1dKSAuc3RlcHBlci1pdGVtLWRlc2NyaXB0aW9ue2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMSk7bGluZS1oZWlnaHQ6MXJlbX06aG9zdChbc2NhbGU9bF0pey0tY2FsY2l0ZS1zdGVwcGVyLWl0ZW0tc3BhY2luZy11bml0LXM6MC43NXJlbTstLWNhbGNpdGUtc3RlcHBlci1pdGVtLXNwYWNpbmctdW5pdC1tOjEuMjVyZW07LS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtbDoxLjVyZW07Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLTEpO2xpbmUtaGVpZ2h0OjEuNXJlbTttYXJnaW4taW5saW5lLWVuZDowLjc1cmVtfTpob3N0KFtzY2FsZT1sXSkgLnN0ZXBwZXItaXRlbS1kZXNjcmlwdGlvbntmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4yNXJlbX06aG9zdHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7ZmxleC1ncm93OjE7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLXNlbGY6ZmxleC1zdGFydDttYXJnaW4tYmxvY2stZW5kOnZhcigtLWNhbGNpdGUtc3RlcHBlci1pdGVtLXNwYWNpbmctdW5pdC1zKX06aG9zdCAuY29udGFpbmVye3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6ZmxleDtmbGV4LWdyb3c6MTtjdXJzb3I6cG9pbnRlcjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Ym9yZGVyLXdpZHRoOjBweDtib3JkZXItYmxvY2stc3RhcnQtd2lkdGg6MnB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMyk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTMpO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7b3V0bGluZToycHggc29saWQgdHJhbnNwYXJlbnQ7b3V0bGluZS1vZmZzZXQ6MnB4O3RyYW5zaXRpb24tZHVyYXRpb246MTUwbXM7dHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKX06aG9zdHtvdXRsaW5lLWNvbG9yOnRyYW5zcGFyZW50fTpob3N0KDpmb2N1cyl7b3V0bGluZToycHggc29saWQgdmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7b3V0bGluZS1vZmZzZXQ6MnB4fTpob3N0IC5zdGVwcGVyLWl0ZW0taGVhZGVye2Rpc3BsYXk6ZmxleDtjdXJzb3I6cG9pbnRlcjthbGlnbi1pdGVtczpmbGV4LXN0YXJ0fTpob3N0IC5zdGVwcGVyLWl0ZW0tY29udGVudCw6aG9zdCAuc3RlcHBlci1pdGVtLWhlYWRlcnt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7cGFkZGluZy1ibG9jazp2YXIoLS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtbCk7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3RlcHBlci1pdGVtLXNwYWNpbmctdW5pdC1tKTt0ZXh0LWFsaWduOnN0YXJ0fTpob3N0IC5zdGVwcGVyLWl0ZW0taGVhZGVyICp7ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtczt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpfTpob3N0IC5zdGVwcGVyLWl0ZW0tY29udGVudHtkaXNwbGF5Om5vbmU7aW5saW5lLXNpemU6MTAwJTtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0yKTtsaW5lLWhlaWdodDoxLjM3NX06aG9zdCAuc3RlcHBlci1pdGVtLWljb257bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0tY2FsY2l0ZS1zdGVwcGVyLWl0ZW0tc3BhY2luZy11bml0LW0pO21hcmdpbi1ibG9jay1zdGFydDoxcHg7ZGlzcGxheTppbmxpbmUtZmxleDtibG9jay1zaXplOjAuNzVyZW07ZmxleC1zaHJpbms6MDthbGlnbi1zZWxmOmZsZXgtc3RhcnQ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTMpO29wYWNpdHk6dmFyKC0tY2FsY2l0ZS11aS1vcGFjaXR5LWRpc2FibGVkKTt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSl9Omhvc3QgLnN0ZXBwZXItaXRlbS1oZWFkZXItdGV4dHtmbGV4LWRpcmVjdGlvbjpjb2x1bW47dGV4dC1hbGlnbjppbml0aWFsO21hcmdpbi1pbmxpbmUtZW5kOmF1dG99Omhvc3QgLnN0ZXBwZXItaXRlbS1oZWFkaW5nLDpob3N0IC5zdGVwcGVyLWl0ZW0tZGVzY3JpcHRpb257ZGlzcGxheTpmbGV4O2lubGluZS1zaXplOjEwMCV9Omhvc3QgLnN0ZXBwZXItaXRlbS1oZWFkaW5ne21hcmdpbi1ibG9jay1lbmQ6MC4yNXJlbTtmb250LXdlaWdodDp2YXIoLS1jYWxjaXRlLWZvbnQtd2VpZ2h0LW1lZGl1bSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTIpfTpob3N0IC5zdGVwcGVyLWl0ZW0tZGVzY3JpcHRpb257Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTMpfTpob3N0IC5zdGVwcGVyLWl0ZW0tbnVtYmVye2ZvbnQtd2VpZ2h0OnZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbWVkaXVtKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMyk7dHJhbnNpdGlvbi1kdXJhdGlvbjoxNTBtczt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtc3RlcHBlci1pdGVtLXNwYWNpbmctdW5pdC1tKX06aG9zdChbZGlzYWJsZWRdKSA6OnNsb3R0ZWQoW2NhbGNpdGUtaHlkcmF0ZWRdW2Rpc2FibGVkXSksOmhvc3QoW2Rpc2FibGVkXSkgW2NhbGNpdGUtaHlkcmF0ZWRdW2Rpc2FibGVkXXtvcGFjaXR5OjF9Omhvc3QoW2NvbXBsZXRlXSkgLmNvbnRhaW5lcntib3JkZXItY29sb3I6cmdiYSgwLCAxMjIsIDE5NCwgMC41KX06aG9zdChbY29tcGxldGVdKSAuY29udGFpbmVyIC5zdGVwcGVyLWl0ZW0taWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbZXJyb3JdKSAuY29udGFpbmVye2JvcmRlci1ibG9jay1zdGFydC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcil9Omhvc3QoW2Vycm9yXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLW51bWJlcntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcil9Omhvc3QoW2Vycm9yXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWljb257b3BhY2l0eToxO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKX06aG9zdCg6aG92ZXI6bm90KFtkaXNhYmxlZF0pOm5vdChbc2VsZWN0ZWRdKSkgLmNvbnRhaW5lciw6aG9zdCg6Zm9jdXM6bm90KFtkaXNhYmxlZF0pOm5vdChbc2VsZWN0ZWRdKSkgLmNvbnRhaW5lcntib3JkZXItYmxvY2stc3RhcnQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QoOmhvdmVyOm5vdChbZGlzYWJsZWRdKTpub3QoW3NlbGVjdGVkXSkpIC5jb250YWluZXIgLnN0ZXBwZXItaXRlbS1oZWFkaW5nLDpob3N0KDpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVyIC5zdGVwcGVyLWl0ZW0taGVhZGluZ3tjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMSl9Omhvc3QoOmhvdmVyOm5vdChbZGlzYWJsZWRdKTpub3QoW3NlbGVjdGVkXSkpIC5jb250YWluZXIgLnN0ZXBwZXItaXRlbS1kZXNjcmlwdGlvbiw6aG9zdCg6Zm9jdXM6bm90KFtkaXNhYmxlZF0pOm5vdChbc2VsZWN0ZWRdKSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWRlc2NyaXB0aW9ue2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0yKX06aG9zdChbZXJyb3JdOmhvdmVyOm5vdChbZGlzYWJsZWRdKTpub3QoW3NlbGVjdGVkXSkpIC5jb250YWluZXIsOmhvc3QoW2Vycm9yXTpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVye2JvcmRlci1ibG9jay1zdGFydC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1ob3Zlcil9Omhvc3QoW3NlbGVjdGVkXSkgLmNvbnRhaW5lcntib3JkZXItYmxvY2stc3RhcnQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QoW3NlbGVjdGVkXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWhlYWRpbmd7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTEpfTpob3N0KFtzZWxlY3RlZF0pIC5jb250YWluZXIgLnN0ZXBwZXItaXRlbS1kZXNjcmlwdGlvbntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMil9Omhvc3QoW3NlbGVjdGVkXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLW51bWJlcntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbc2VsZWN0ZWRdKSAuY29udGFpbmVyIC5zdGVwcGVyLWl0ZW0taWNvbntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtvcGFjaXR5OjF9Omhvc3QoW3NlbGVjdGVkXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWNvbnRlbnR7ZGlzcGxheTpmbGV4fTpob3N0KFtsYXlvdXQ9dmVydGljYWxdKSAuY29udGFpbmVye21hcmdpbi1pbmxpbmU6MHB4O21hcmdpbi1ibG9jay1zdGFydDowcHg7ZmxleDoxIDEgYXV0bztib3JkZXItYmxvY2stc3RhcnQtd2lkdGg6MHB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMyk7cGFkZGluZy1ibG9jazowcHg7Ym9yZGVyLWlubGluZS1zdGFydC13aWR0aDoycHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0tY2FsY2l0ZS1zdGVwcGVyLWl0ZW0tc3BhY2luZy11bml0LWwpfTpob3N0KFtsYXlvdXQ9dmVydGljYWxdKSAuY29udGFpbmVyIC5zdGVwcGVyLWl0ZW0taWNvbntvcmRlcjozO21hcmdpbi1ibG9jazoxcHggMHB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtc3RlcHBlci1pdGVtLXNwYWNpbmctdW5pdC1zKTttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG99Omhvc3QoW2xheW91dD12ZXJ0aWNhbF0pIC5jb250YWluZXIgLnN0ZXBwZXItaXRlbS1oZWFkZXJ7cGFkZGluZy1pbmxpbmUtZW5kOjBweH06aG9zdChbbGF5b3V0PXZlcnRpY2FsXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWNvbnRlbnR7cGFkZGluZzowcHh9Omhvc3QoW2xheW91dD12ZXJ0aWNhbF1bY29tcGxldGVdKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjpyZ2JhKDAsIDEyMiwgMTk0LCAwLjUpfTpob3N0KFtsYXlvdXQ9dmVydGljYWxdW2NvbXBsZXRlXTpob3Zlcjpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVyLDpob3N0KFtsYXlvdXQ9dmVydGljYWxdW2NvbXBsZXRlXTpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbbGF5b3V0PXZlcnRpY2FsXVtlcnJvcl0pIC5jb250YWluZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKX06aG9zdChbbGF5b3V0PXZlcnRpY2FsXVtzZWxlY3RlZF0pIC5jb250YWluZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQpfTpob3N0KFtsYXlvdXQ9dmVydGljYWxdW3NlbGVjdGVkXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWNvbnRlbnQ6bm90KDplbXB0eSl7bWFyZ2luLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtbCl9Omhvc3QoW2xheW91dD12ZXJ0aWNhbF06aG92ZXI6bm90KFtkaXNhYmxlZF0pOm5vdChbc2VsZWN0ZWRdKSkgLmNvbnRhaW5lciw6aG9zdChbbGF5b3V0PXZlcnRpY2FsXTpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjpyZ2JhKDAsIDEyMiwgMTk0LCAwLjUpfTpob3N0KFtsYXlvdXQ9dmVydGljYWxdW2Vycm9yXTpob3Zlcjpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVyLDpob3N0KFtsYXlvdXQ9dmVydGljYWxdW2Vycm9yXTpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuY29udGFpbmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1ob3Zlcil9Omhvc3QoW2xheW91dD1ob3Jpem9udGFsXSl7ZGlzcGxheTpjb250ZW50c306aG9zdChbbGF5b3V0PWhvcml6b250YWxdKSAuY29udGFpbmVye2Rpc3BsYXk6Y29udGVudHN9Omhvc3QoW2xheW91dD1ob3Jpem9udGFsXSkgLnN0ZXBwZXItaXRlbS1oZWFkZXJ7Ym9yZGVyLXdpZHRoOjBweDtib3JkZXItYmxvY2stc3RhcnQtd2lkdGg6MnB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItMyk7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudDtncmlkLXJvdzppdGVtczttYXJnaW4taW5saW5lLWVuZDowLjVyZW07bWFyZ2luLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtcyl9Omhvc3QoW2xheW91dD1ob3Jpem9udGFsXSkgLnN0ZXBwZXItaXRlbS1oZWFkZXI6Zm9jdXN7b3V0bGluZToycHggc29saWQgdmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7b3V0bGluZS1vZmZzZXQ6MnB4fTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF0pIC5zdGVwcGVyLWl0ZW0tY29udGVudHtjdXJzb3I6YXV0bzt0cmFuc2l0aW9uLWR1cmF0aW9uOjE1MG1zO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7cGFkZGluZy1ibG9jazowO3BhZGRpbmctaW5saW5lLWVuZDp2YXIoLS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtbSk7dGV4dC1hbGlnbjpzdGFydH06aG9zdChbbGF5b3V0PWhvcml6b250YWxdW3NlbGVjdGVkXSkgLnN0ZXBwZXItaXRlbS1jb250ZW50e2dyaWQtYXJlYToyLzEvMi8tMX06aG9zdChbbGF5b3V0PWhvcml6b250YWxdW3NjYWxlPXNdKSAuc3RlcHBlci1pdGVtLWhlYWRlcnttYXJnaW4taW5saW5lLWVuZDowLjI1cmVtO21hcmdpbi1ibG9jay1lbmQ6dmFyKC0tY2FsY2l0ZS1zdGVwcGVyLWl0ZW0tc3BhY2luZy11bml0LXMpfTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF1bc2NhbGU9bF0pIC5zdGVwcGVyLWl0ZW0taGVhZGVye21hcmdpbi1pbmxpbmUtZW5kOjAuNzVyZW07bWFyZ2luLWJsb2NrLWVuZDp2YXIoLS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1zcGFjaW5nLXVuaXQtcyl9Omhvc3QoW2xheW91dD1ob3Jpem9udGFsXVtjb21wbGV0ZV0pIC5zdGVwcGVyLWl0ZW0taGVhZGVye2JvcmRlci1jb2xvcjpyZ2JhKDAsIDEyMiwgMTk0LCAwLjUpfTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF1bY29tcGxldGVdOmhvdmVyOm5vdChbZGlzYWJsZWRdKTpub3QoW3NlbGVjdGVkXSkpIC5zdGVwcGVyLWl0ZW0taGVhZGVyLDpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF1bY29tcGxldGVdOmZvY3VzOm5vdChbZGlzYWJsZWRdKTpub3QoW3NlbGVjdGVkXSkpIC5zdGVwcGVyLWl0ZW0taGVhZGVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbbGF5b3V0PWhvcml6b250YWxdW2Vycm9yXSkgLnN0ZXBwZXItaXRlbS1oZWFkZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKX06aG9zdChbbGF5b3V0PWhvcml6b250YWxdW3NlbGVjdGVkXSkgLnN0ZXBwZXItaXRlbS1oZWFkZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQpfTpob3N0KFtsYXlvdXQ9aG9yaXpvbnRhbF06aG92ZXI6bm90KFtkaXNhYmxlZF0pOm5vdChbc2VsZWN0ZWRdKSkgLnN0ZXBwZXItaXRlbS1oZWFkZXIsOmhvc3QoW2xheW91dD1ob3Jpem9udGFsXTpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuc3RlcHBlci1pdGVtLWhlYWRlcntib3JkZXItY29sb3I6cmdiYSgwLCAxMjIsIDE5NCwgMC41KX06aG9zdChbbGF5b3V0PWhvcml6b250YWxdW2Vycm9yXTpob3Zlcjpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuc3RlcHBlci1pdGVtLWhlYWRlciw6aG9zdChbbGF5b3V0PWhvcml6b250YWxdW2Vycm9yXTpmb2N1czpub3QoW2Rpc2FibGVkXSk6bm90KFtzZWxlY3RlZF0pKSAuc3RlcHBlci1pdGVtLWhlYWRlcntib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXItaG92ZXIpfUBtZWRpYSAoZm9yY2VkLWNvbG9yczogYWN0aXZlKXs6aG9zdCAuY29udGFpbmVye291dGxpbmUtd2lkdGg6MDtvdXRsaW5lLW9mZnNldDowfTpob3N0KDpmb2N1cyksOmhvc3QoOmZvY3VzLXZpc2libGUpe291dGxpbmUtY29sb3I6Y2FudmFzVGV4dH06aG9zdChbc2VsZWN0ZWRdKSAuY29udGFpbmVye2JvcmRlci1ibG9jay1zdGFydC1jb2xvcjpoaWdobGlnaHR9Omhvc3QoW3NlbGVjdGVkXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLW51bWJlcntjb2xvcjpoaWdobGlnaHR9Omhvc3QoW3NlbGVjdGVkXSkgLmNvbnRhaW5lciAuc3RlcHBlci1pdGVtLWljb257Y29sb3I6aGlnaGxpZ2h0fTpob3N0KFtsYXlvdXQ9dmVydGljYWxdW3NlbGVjdGVkXSkgLmNvbnRhaW5lcntib3JkZXItY29sb3I6aGlnaGxpZ2h0fX1cIjtcblxuY29uc3QgU3RlcHBlckl0ZW0gPSAvKkBfX1BVUkVfXyovIHByb3h5Q3VzdG9tRWxlbWVudChjbGFzcyBleHRlbmRzIEgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICB0aGlzLl9fYXR0YWNoU2hhZG93KCk7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbUtleUV2ZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbUtleUV2ZW50XCIsIDYpO1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsU3RlcHBlckl0ZW1TZWxlY3QgPSBjcmVhdGVFdmVudCh0aGlzLCBcImNhbGNpdGVJbnRlcm5hbFN0ZXBwZXJJdGVtU2VsZWN0XCIsIDYpO1xuICAgIHRoaXMuY2FsY2l0ZUludGVybmFsVXNlclJlcXVlc3RlZFN0ZXBwZXJJdGVtU2VsZWN0ID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW50ZXJuYWxVc2VyUmVxdWVzdGVkU3RlcHBlckl0ZW1TZWxlY3RcIiwgNik7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbVJlZ2lzdGVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJjYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbVJlZ2lzdGVyXCIsIDYpO1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgICAvL1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB0aGlzLmtleURvd25IYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgZXZlbnQudGFyZ2V0ID09PSB0aGlzLmVsKSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICBjYXNlIFwiRW50ZXJcIjpcbiAgICAgICAgICAgIHRoaXMuZW1pdFVzZXJSZXF1ZXN0ZWRJdGVtKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgICAgY2FzZSBcIkhvbWVcIjpcbiAgICAgICAgICBjYXNlIFwiRW5kXCI6XG4gICAgICAgICAgICB0aGlzLmNhbGNpdGVJbnRlcm5hbFN0ZXBwZXJJdGVtS2V5RXZlbnQuZW1pdCh7IGl0ZW06IGV2ZW50IH0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZUl0ZW1DbGljayA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMubGF5b3V0ID09PSBcImhvcml6b250YWxcIiAmJlxuICAgICAgICBldmVudFxuICAgICAgICAgIC5jb21wb3NlZFBhdGgoKVxuICAgICAgICAgIC5zb21lKChlbCkgPT4gZWwuY2xhc3NMaXN0Py5jb250YWlucyhcInN0ZXBwZXItaXRlbS1jb250ZW50XCIpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXRVc2VyUmVxdWVzdGVkSXRlbSgpO1xuICAgIH07XG4gICAgdGhpcy5lbWl0VXNlclJlcXVlc3RlZEl0ZW0gPSAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXRSZXF1ZXN0ZWRJdGVtKCk7XG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLml0ZW1Qb3NpdGlvbjtcbiAgICAgICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxVc2VyUmVxdWVzdGVkU3RlcHBlckl0ZW1TZWxlY3QuZW1pdCh7XG4gICAgICAgICAgcG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmVtaXRSZXF1ZXN0ZWRJdGVtID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5pdGVtUG9zaXRpb247XG4gICAgICAgIHRoaXMuY2FsY2l0ZUludGVybmFsU3RlcHBlckl0ZW1TZWxlY3QuZW1pdCh7XG4gICAgICAgICAgcG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xuICAgIHRoaXMuZXJyb3IgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5oZWFkaW5nID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYXlvdXQgPSBcImhvcml6b250YWxcIjtcbiAgICB0aGlzLmljb24gPSBmYWxzZTtcbiAgICB0aGlzLmljb25GbGlwUnRsID0gZmFsc2U7XG4gICAgdGhpcy5udW1iZXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2NhbGUgPSBcIm1cIjtcbiAgICB0aGlzLmVmZmVjdGl2ZUxvY2FsZSA9IFwiXCI7XG4gIH1cbiAgc2VsZWN0ZWRIYW5kbGVyKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XG4gICAgICB0aGlzLmVtaXRSZXF1ZXN0ZWRJdGVtKCk7XG4gICAgfVxuICB9XG4gIC8vIHdhdGNoIGZvciByZW1vdmFsIG9mIGRpc2FibGVkIHRvIHJlZ2lzdGVyIHN0ZXBcbiAgZGlzYWJsZWRXYXRjaGVyKCkge1xuICAgIHRoaXMucmVnaXN0ZXJTdGVwcGVySXRlbSgpO1xuICB9XG4gIGVmZmVjdGl2ZUxvY2FsZVdhdGNoZXIobG9jYWxlKSB7XG4gICAgbnVtYmVyU3RyaW5nRm9ybWF0dGVyLm51bWJlckZvcm1hdE9wdGlvbnMgPSB7XG4gICAgICBsb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IHRoaXMucGFyZW50U3RlcHBlckVsPy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICB9O1xuICB9XG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy9cbiAgLy8gIExpZmVjeWNsZVxuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgc2V0VXBMb2FkYWJsZUNvbXBvbmVudCh0aGlzKTtcbiAgICB0aGlzLmljb24gPSBnZXRFbGVtZW50UHJvcCh0aGlzLmVsLCBcImljb25cIiwgZmFsc2UpO1xuICAgIHRoaXMubnVtYmVyZWQgPSBnZXRFbGVtZW50UHJvcCh0aGlzLmVsLCBcIm51bWJlcmVkXCIsIGZhbHNlKTtcbiAgICB0aGlzLmxheW91dCA9IGdldEVsZW1lbnRQcm9wKHRoaXMuZWwsIFwibGF5b3V0XCIsIGZhbHNlKTtcbiAgICB0aGlzLnNjYWxlID0gZ2V0RWxlbWVudFByb3AodGhpcy5lbCwgXCJzY2FsZVwiLCBcIm1cIik7XG4gICAgdGhpcy5wYXJlbnRTdGVwcGVyRWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQ7XG4gICAgdGhpcy5pdGVtUG9zaXRpb24gPSB0aGlzLmdldEl0ZW1Qb3NpdGlvbigpO1xuICAgIHRoaXMucmVnaXN0ZXJTdGVwcGVySXRlbSgpO1xuICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XG4gICAgICB0aGlzLmVtaXRSZXF1ZXN0ZWRJdGVtKCk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgc2V0Q29tcG9uZW50TG9hZGVkKHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZFJlbmRlcigpIHtcbiAgICB1cGRhdGVIb3N0SW50ZXJhY3Rpb24odGhpcywgdHJ1ZSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgZGlzY29ubmVjdExvY2FsaXplZCh0aGlzKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgXCJhcmlhLWV4cGFuZGVkXCI6IHRvQXJpYUJvb2xlYW4odGhpcy5zZWxlY3RlZCksIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSXRlbUNsaWNrLCBvbktleURvd246IHRoaXMua2V5RG93bkhhbmRsZXIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImNvbnRhaW5lclwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJzdGVwcGVyLWl0ZW0taGVhZGVyXCIsIHJlZjogKGVsKSA9PiAodGhpcy5oZWFkZXJFbCA9IGVsKSwgdGFiSW5kZXg6IFxuICAgICAgLyogYWRkaXRpb25hbCB0YWIgaW5kZXggbG9naWMgbmVlZGVkIGJlY2F1c2Ugb2YgZGlzcGxheTogY29udGVudHMgKi9cbiAgICAgIHRoaXMubGF5b3V0ID09PSBcImhvcml6b250YWxcIiAmJiAhdGhpcy5kaXNhYmxlZCA/IDAgOiBudWxsIH0sIHRoaXMuaWNvbiA/IHRoaXMucmVuZGVySWNvbigpIDogbnVsbCwgdGhpcy5udW1iZXJlZCA/IGgoXCJkaXZcIiwgeyBjbGFzczogXCJzdGVwcGVyLWl0ZW0tbnVtYmVyXCIgfSwgdGhpcy5yZW5kZXJOdW1iZXJzKCksIFwiLlwiKSA6IG51bGwsIGgoXCJkaXZcIiwgeyBjbGFzczogXCJzdGVwcGVyLWl0ZW0taGVhZGVyLXRleHRcIiB9LCBoKFwic3BhblwiLCB7IGNsYXNzOiBcInN0ZXBwZXItaXRlbS1oZWFkaW5nXCIgfSwgdGhpcy5oZWFkaW5nKSwgaChcInNwYW5cIiwgeyBjbGFzczogXCJzdGVwcGVyLWl0ZW0tZGVzY3JpcHRpb25cIiB9LCB0aGlzLmRlc2NyaXB0aW9uKSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwic3RlcHBlci1pdGVtLWNvbnRlbnRcIiB9LCBoKFwic2xvdFwiLCBudWxsKSkpKSk7XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgRXZlbnQgTGlzdGVuZXJzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgdXBkYXRlQWN0aXZlSXRlbU9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5wYXJlbnRTdGVwcGVyRWwgfHxcbiAgICAgIGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKHRoaXMucGFyZW50U3RlcHBlckVsKSkge1xuICAgICAgdGhpcy5zZWxlY3RlZFBvc2l0aW9uID0gZXZlbnQuZGV0YWlsLnBvc2l0aW9uO1xuICAgICAgdGhpcy5kZXRlcm1pbmVTZWxlY3RlZEl0ZW0oKTtcbiAgICB9XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHVibGljIE1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKiogU2V0cyBmb2N1cyBvbiB0aGUgY29tcG9uZW50LiAqL1xuICBhc3luYyBzZXRGb2N1cygpIHtcbiAgICBhd2FpdCBjb21wb25lbnRMb2FkZWQodGhpcyk7XG4gICAgKHRoaXMubGF5b3V0ID09PSBcInZlcnRpY2FsXCIgPyB0aGlzLmVsIDogdGhpcy5oZWFkZXJFbCk/LmZvY3VzKCk7XG4gIH1cbiAgcmVuZGVySWNvbigpIHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5zZWxlY3RlZFxuICAgICAgPyBcImNpcmNsZUZcIlxuICAgICAgOiB0aGlzLmVycm9yXG4gICAgICAgID8gXCJleGNsYW1hdGlvbk1hcmtDaXJjbGVGXCJcbiAgICAgICAgOiB0aGlzLmNvbXBsZXRlXG4gICAgICAgICAgPyBcImNoZWNrQ2lyY2xlRlwiXG4gICAgICAgICAgOiBcImNpcmNsZVwiO1xuICAgIHJldHVybiAoaChcImNhbGNpdGUtaWNvblwiLCB7IGNsYXNzOiBcInN0ZXBwZXItaXRlbS1pY29uXCIsIGZsaXBSdGw6IHRoaXMuaWNvbkZsaXBSdGwsIGljb246IHBhdGgsIHNjYWxlOiBcInNcIiB9KSk7XG4gIH1cbiAgZGV0ZXJtaW5lU2VsZWN0ZWRJdGVtKCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLml0ZW1Qb3NpdGlvbiA9PT0gdGhpcy5zZWxlY3RlZFBvc2l0aW9uO1xuICB9XG4gIHJlZ2lzdGVyU3RlcHBlckl0ZW0oKSB7XG4gICAgdGhpcy5jYWxjaXRlSW50ZXJuYWxTdGVwcGVySXRlbVJlZ2lzdGVyLmVtaXQoe1xuICAgICAgcG9zaXRpb246IHRoaXMuaXRlbVBvc2l0aW9uXG4gICAgfSk7XG4gIH1cbiAgZ2V0SXRlbVBvc2l0aW9uKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucGFyZW50U3RlcHBlckVsPy5xdWVyeVNlbGVjdG9yQWxsKFwiY2FsY2l0ZS1zdGVwcGVyLWl0ZW1cIikpLmluZGV4T2YodGhpcy5lbCk7XG4gIH1cbiAgcmVuZGVyTnVtYmVycygpIHtcbiAgICBudW1iZXJTdHJpbmdGb3JtYXR0ZXIubnVtYmVyRm9ybWF0T3B0aW9ucyA9IHtcbiAgICAgIGxvY2FsZTogdGhpcy5lZmZlY3RpdmVMb2NhbGUsXG4gICAgICBudW1iZXJpbmdTeXN0ZW06IHRoaXMucGFyZW50U3RlcHBlckVsPy5udW1iZXJpbmdTeXN0ZW0sXG4gICAgICB1c2VHcm91cGluZzogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBudW1iZXJTdHJpbmdGb3JtYXR0ZXIubnVtYmVyRm9ybWF0dGVyLmZvcm1hdCh0aGlzLml0ZW1Qb3NpdGlvbiArIDEpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInNlbGVjdGVkXCI6IFtcInNlbGVjdGVkSGFuZGxlclwiXSxcbiAgICBcImRpc2FibGVkXCI6IFtcImRpc2FibGVkV2F0Y2hlclwiXSxcbiAgICBcImVmZmVjdGl2ZUxvY2FsZVwiOiBbXCJlZmZlY3RpdmVMb2NhbGVXYXRjaGVyXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHN0ZXBwZXJJdGVtQ3NzOyB9XG59LCBbMSwgXCJjYWxjaXRlLXN0ZXBwZXItaXRlbVwiLCB7XG4gICAgXCJzZWxlY3RlZFwiOiBbMTU0MF0sXG4gICAgXCJjb21wbGV0ZVwiOiBbNTE2XSxcbiAgICBcImVycm9yXCI6IFs1MTZdLFxuICAgIFwiZGlzYWJsZWRcIjogWzUxNl0sXG4gICAgXCJoZWFkaW5nXCI6IFsxXSxcbiAgICBcImRlc2NyaXB0aW9uXCI6IFsxXSxcbiAgICBcImxheW91dFwiOiBbMTUzN10sXG4gICAgXCJpY29uXCI6IFsxMDI4XSxcbiAgICBcImljb25GbGlwUnRsXCI6IFs1MTYsIFwiaWNvbi1mbGlwLXJ0bFwiXSxcbiAgICBcIm51bWJlcmVkXCI6IFsxMDI4XSxcbiAgICBcInNjYWxlXCI6IFsxNTM3XSxcbiAgICBcImVmZmVjdGl2ZUxvY2FsZVwiOiBbMzJdLFxuICAgIFwic2V0Rm9jdXNcIjogWzY0XVxuICB9LCBbWzE2LCBcImNhbGNpdGVJbnRlcm5hbFN0ZXBwZXJJdGVtQ2hhbmdlXCIsIFwidXBkYXRlQWN0aXZlSXRlbU9uQ2hhbmdlXCJdXV0pO1xuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudCQxKCkge1xuICBpZiAodHlwZW9mIGN1c3RvbUVsZW1lbnRzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBbXCJjYWxjaXRlLXN0ZXBwZXItaXRlbVwiLCBcImNhbGNpdGUtaWNvblwiXTtcbiAgY29tcG9uZW50cy5mb3JFYWNoKHRhZ05hbWUgPT4geyBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICBjYXNlIFwiY2FsY2l0ZS1zdGVwcGVyLWl0ZW1cIjpcbiAgICAgIGlmICghY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBTdGVwcGVySXRlbSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FsY2l0ZS1pY29uXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBkZWZpbmVDdXN0b21FbGVtZW50JDIoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9IH0pO1xufVxuZGVmaW5lQ3VzdG9tRWxlbWVudCQxKCk7XG5cbi8qIVxuICogQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLWNvbXBvbmVudHMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCBmb3IgZGV0YWlscy5cbiAqIHYxLjAuNVxuICovXG5cbihmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUucmVxdWVzdFN1Ym1pdCA9PSBcImZ1bmN0aW9uXCIpIHJldHVyblxuXG4gIHByb3RvdHlwZS5yZXF1ZXN0U3VibWl0ID0gZnVuY3Rpb24oc3VibWl0dGVyKSB7XG4gICAgaWYgKHN1Ym1pdHRlcikge1xuICAgICAgdmFsaWRhdGVTdWJtaXR0ZXIoc3VibWl0dGVyLCB0aGlzKTtcbiAgICAgIHN1Ym1pdHRlci5jbGljaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBzdWJtaXR0ZXIudHlwZSA9IFwic3VibWl0XCI7XG4gICAgICBzdWJtaXR0ZXIuaGlkZGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoc3VibWl0dGVyKTtcbiAgICAgIHN1Ym1pdHRlci5jbGljaygpO1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChzdWJtaXR0ZXIpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB2YWxpZGF0ZVN1Ym1pdHRlcihzdWJtaXR0ZXIsIGZvcm0pIHtcbiAgICBzdWJtaXR0ZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCByYWlzZShUeXBlRXJyb3IsIFwicGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0hUTUxFbGVtZW50J1wiKTtcbiAgICBzdWJtaXR0ZXIudHlwZSA9PSBcInN1Ym1pdFwiIHx8IHJhaXNlKFR5cGVFcnJvciwgXCJUaGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgc3VibWl0IGJ1dHRvblwiKTtcbiAgICBzdWJtaXR0ZXIuZm9ybSA9PSBmb3JtIHx8IHJhaXNlKERPTUV4Y2VwdGlvbiwgXCJUaGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IG93bmVkIGJ5IHRoaXMgZm9ybSBlbGVtZW50XCIsIFwiTm90Rm91bmRFcnJvclwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJhaXNlKGVycm9yQ29uc3RydWN0b3IsIG1lc3NhZ2UsIG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JDb25zdHJ1Y3RvcihcIkZhaWxlZCB0byBleGVjdXRlICdyZXF1ZXN0U3VibWl0JyBvbiAnSFRNTEZvcm1FbGVtZW50JzogXCIgKyBtZXNzYWdlICsgXCIuXCIsIG5hbWUpXG4gIH1cbn0pKEhUTUxGb3JtRWxlbWVudC5wcm90b3R5cGUpO1xuXG5jb25zdCBDU1MgPSB7XG4gIGJ1dHRvbkxvYWRlcjogXCJjYWxjaXRlLWJ1dHRvbi0tbG9hZGVyXCIsXG4gIGNvbnRlbnQ6IFwiY29udGVudFwiLFxuICBjb250ZW50U2xvdHRlZDogXCJjb250ZW50LS1zbG90dGVkXCIsXG4gIGljb246IFwiaWNvblwiLFxuICBpY29uU3RhcnQ6IFwiaWNvbi0tc3RhcnRcIixcbiAgaWNvbkVuZDogXCJpY29uLS1lbmRcIixcbiAgbG9hZGluZ0luOiBcImxvYWRpbmctaW5cIixcbiAgbG9hZGluZ091dDogXCJsb2FkaW5nLW91dFwiLFxuICBpY29uU3RhcnRFbXB0eTogXCJpY29uLXN0YXJ0LWVtcHR5XCIsXG4gIGljb25FbmRFbXB0eTogXCJpY29uLWVuZC1lbXB0eVwiLFxuICBidXR0b25QYWRkaW5nOiBcImJ1dHRvbi1wYWRkaW5nXCIsXG4gIGJ1dHRvblBhZGRpbmdTaHJ1bms6IFwiYnV0dG9uLXBhZGRpbmctLXNocnVua1wiXG59O1xuXG5jb25zdCBidXR0b25Dc3MgPSBcIkBrZXlmcmFtZXMgaW57MCV7b3BhY2l0eTowfTEwMCV7b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGluLWRvd257MCV7b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGUzRCgwLCAtNXB4LCAwKX0xMDAle29wYWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlM0QoMCwgMCwgMCl9fUBrZXlmcmFtZXMgaW4tdXB7MCV7b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGUzRCgwLCA1cHgsIDApfTEwMCV7b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGUzRCgwLCAwLCAwKX19QGtleWZyYW1lcyBpbi1zY2FsZXswJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlM0QoMC45NSwgMC45NSwgMSl9MTAwJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlM0QoMSwgMSwgMSl9fTpyb290ey0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nOmNhbGMoMTUwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpOy0tY2FsY2l0ZS1pbnRlcm5hbC1kdXJhdGlvbi1mYWN0b3I6dmFyKC0tY2FsY2l0ZS1kdXJhdGlvbi1mYWN0b3IsIDEpOy0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLWZhc3Q6Y2FsYygxMDBtcyAqIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSk7LS1jYWxjaXRlLWludGVybmFsLWFuaW1hdGlvbi10aW1pbmctbWVkaXVtOmNhbGMoMjAwbXMgKiB2YXIoLS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcikpOy0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLXNsb3c6Y2FsYygzMDBtcyAqIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtZHVyYXRpb24tZmFjdG9yKSl9LmNhbGNpdGUtYW5pbWF0ZXtvcGFjaXR5OjA7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1hdGlvbi1kdXJhdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpfS5jYWxjaXRlLWFuaW1hdGVfX2lue2FuaW1hdGlvbi1uYW1lOmlufS5jYWxjaXRlLWFuaW1hdGVfX2luLWRvd257YW5pbWF0aW9uLW5hbWU6aW4tZG93bn0uY2FsY2l0ZS1hbmltYXRlX19pbi11cHthbmltYXRpb24tbmFtZTppbi11cH0uY2FsY2l0ZS1hbmltYXRlX19pbi1zY2FsZXthbmltYXRpb24tbmFtZTppbi1zY2FsZX1AbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSl7OnJvb3R7LS1jYWxjaXRlLWludGVybmFsLWR1cmF0aW9uLWZhY3RvcjowfX06cm9vdHstLWNhbGNpdGUtZmxvYXRpbmctdWktdHJhbnNpdGlvbjp2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpOy0tY2FsY2l0ZS1mbG9hdGluZy11aS16LWluZGV4OjYwMH06aG9zdChbaGlkZGVuXSl7ZGlzcGxheTpub25lfTpob3N0KFtkaXNhYmxlZF0pe3BvaW50ZXItZXZlbnRzOm5vbmU7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7b3BhY2l0eTp2YXIoLS1jYWxjaXRlLXVpLW9wYWNpdHktZGlzYWJsZWQpfTpob3N0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO2lubGluZS1zaXplOmF1dG87dmVydGljYWwtYWxpZ246bWlkZGxlfTpob3N0KFtyb3VuZF0pe2JvcmRlci1yYWRpdXM6NTBweH06aG9zdChbcm91bmRdKSBhLDpob3N0KFtyb3VuZF0pIGJ1dHRvbntib3JkZXItcmFkaXVzOjUwcHh9Omhvc3QgYnV0dG9uLDpob3N0IGF7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudH06aG9zdCBidXR0b246Zm9jdXMsOmhvc3QgYTpmb2N1c3tvdXRsaW5lOjJweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtvdXRsaW5lLW9mZnNldDoycHh9Omhvc3QgYnV0dG9uLDpob3N0IGF7LS1jYWxjaXRlLWJ1dHRvbi1jb250ZW50LW1hcmdpbi1pbnRlcm5hbDowLjVyZW07LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXgtaW50ZXJuYWw6N3B4Oy0tY2FsY2l0ZS1idXR0b24tcGFkZGluZy15LWludGVybmFsOjNweDtwYWRkaW5nLWJsb2NrOnZhcigtLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteS1pbnRlcm5hbCk7cGFkZGluZy1pbmxpbmU6dmFyKC0tY2FsY2l0ZS1idXR0b24tcGFkZGluZy14LWludGVybmFsKTtwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpmbGV4O2Jsb2NrLXNpemU6MTAwJTtpbmxpbmUtc2l6ZToxMDAlO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZTthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3JkZXItcmFkaXVzOjBweDtib3JkZXItc3R5bGU6bm9uZTt0ZXh0LWFsaWduOmNlbnRlcjtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OnZhcigtLWNhbGNpdGUtZm9udC13ZWlnaHQtbm9ybWFsKTt0ZXh0LWRlY29yYXRpb24tbGluZTpub25lO3RyYW5zaXRpb246Y29sb3IgdmFyKC0tY2FsY2l0ZS1hbmltYXRpb24tdGltaW5nKSBlYXNlLWluLW91dCwgYmFja2dyb3VuZC1jb2xvciB2YXIoLS1jYWxjaXRlLWFuaW1hdGlvbi10aW1pbmcpIGVhc2UtaW4tb3V0LCBib3gtc2hhZG93IHZhcigtLWNhbGNpdGUtYW5pbWF0aW9uLXRpbWluZykgZWFzZS1pbi1vdXQsIG91dGxpbmUtY29sb3IgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLWZhc3QpIGVhc2UtaW4tb3V0fTpob3N0IGJ1dHRvbjpob3Zlciw6aG9zdCBhOmhvdmVye3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmV9LmNvbnRlbnR7ZGlzcGxheTpmbGV4O2ZsZXgtYmFzaXM6YXV0bzttYXJnaW4taW5saW5lOnZhcigtLWNhbGNpdGUtYnV0dG9uLWNvbnRlbnQtbWFyZ2luLWludGVybmFsKX0uaWNvbi1zdGFydC1lbXB0eSAuY29udGVudHttYXJnaW4taW5saW5lLXN0YXJ0OnVuc2V0fS5pY29uLWVuZC1lbXB0eSAuY29udGVudHttYXJnaW4taW5saW5lLWVuZDp1bnNldH06aG9zdChbc2NhbGU9bV0pIGJ1dHRvbiw6aG9zdChbc2NhbGU9bV0pIGF7LS1jYWxjaXRlLWJ1dHRvbi1jb250ZW50LW1hcmdpbi1pbnRlcm5hbDowLjc1cmVtfTpob3N0KFtzY2FsZT1sXSkgYnV0dG9uLDpob3N0KFtzY2FsZT1sXSkgYXstLWNhbGNpdGUtYnV0dG9uLWNvbnRlbnQtbWFyZ2luLWludGVybmFsOjFyZW19Omhvc3QoW3dpZHRoPWF1dG9dKXtpbmxpbmUtc2l6ZTphdXRvfTpob3N0KFt3aWR0aD1oYWxmXSl7aW5saW5lLXNpemU6NTAlfTpob3N0KFt3aWR0aD1mdWxsXSl7aW5saW5lLXNpemU6MTAwJX06aG9zdChbYWxpZ25tZW50PWNlbnRlcl06bm90KFt3aWR0aD1hdXRvXSkpIGEsOmhvc3QoW2FsaWdubWVudD1jZW50ZXJdOm5vdChbd2lkdGg9YXV0b10pKSBidXR0b257anVzdGlmeS1jb250ZW50OmNlbnRlcn06aG9zdChbYWxpZ25tZW50PXN0YXJ0XTpub3QoW3dpZHRoPWF1dG9dKSkgYSw6aG9zdChbYWxpZ25tZW50PXN0YXJ0XTpub3QoW3dpZHRoPWF1dG9dKSkgYnV0dG9ue2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0fTpob3N0KFthbGlnbm1lbnQ9ZW5kXTpub3QoW3dpZHRoPWF1dG9dKSkgYSw6aG9zdChbYWxpZ25tZW50PWVuZF06bm90KFt3aWR0aD1hdXRvXSkpIGJ1dHRvbntqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9Omhvc3QoW2FsaWdubWVudCo9c3BhY2UtYmV0d2Vlbl06bm90KFt3aWR0aD1hdXRvXSkpIGEsOmhvc3QoW2FsaWdubWVudCo9c3BhY2UtYmV0d2Vlbl06bm90KFt3aWR0aD1hdXRvXSkpIGJ1dHRvbntqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn06aG9zdChbYWxpZ25tZW50PWljb24tc3RhcnQtc3BhY2UtYmV0d2Vlbl06bm90KFt3aWR0aD1hdXRvXSkpIC5pY29uLS1zdGFydHttYXJnaW4taW5saW5lLWVuZDphdXRvfTpob3N0KFthbGlnbm1lbnQ9aWNvbi1zdGFydC1zcGFjZS1iZXR3ZWVuXTpub3QoW3dpZHRoPWF1dG9dKSkgYSw6aG9zdChbYWxpZ25tZW50PWljb24tc3RhcnQtc3BhY2UtYmV0d2Vlbl06bm90KFt3aWR0aD1hdXRvXSkpIGJ1dHRvbnt0ZXh0LWFsaWduOnVuc2V0fTpob3N0KFthbGlnbm1lbnQ9aWNvbi1lbmQtc3BhY2UtYmV0d2Vlbl06bm90KFt3aWR0aD1hdXRvXSkpIC5pY29uLS1lbmR7bWFyZ2luLWlubGluZS1zdGFydDphdXRvfTpob3N0KFthbGlnbm1lbnQ9aWNvbi1lbmQtc3BhY2UtYmV0d2Vlbl06bm90KFt3aWR0aD1hdXRvXSkpIGEsOmhvc3QoW2FsaWdubWVudD1pY29uLWVuZC1zcGFjZS1iZXR3ZWVuXTpub3QoW3dpZHRoPWF1dG9dKSkgYnV0dG9ue3RleHQtYWxpZ246dW5zZXR9Omhvc3QoW2FsaWdubWVudD1jZW50ZXJdKSBhOm5vdCguY29udGVudC0tc2xvdHRlZCkgLmljb24tLXN0YXJ0Ky5pY29uLS1lbmQsOmhvc3QoW2FsaWdubWVudD1jZW50ZXJdKSBidXR0b246bm90KC5jb250ZW50LS1zbG90dGVkKSAuaWNvbi0tc3RhcnQrLmljb24tLWVuZHttYXJnaW4taW5saW5lLXN0YXJ0OnZhcigtLWNhbGNpdGUtYnV0dG9uLWNvbnRlbnQtbWFyZ2luLWludGVybmFsKX0uaWNvbntwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46MHB4O2Rpc3BsYXk6aW5saW5lLWZsZXg7Zm9udC13ZWlnaHQ6dmFyKC0tY2FsY2l0ZS1mb250LXdlaWdodC1ub3JtYWwpO2xpbmUtaGVpZ2h0OmluaGVyaXR9Omhvc3QoW2Rpc2FibGVkXSkgOjpzbG90dGVkKFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF0pLDpob3N0KFtkaXNhYmxlZF0pIFtjYWxjaXRlLWh5ZHJhdGVkXVtkaXNhYmxlZF17b3BhY2l0eToxfTpob3N0KFtsb2FkaW5nXSl7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdChbbG9hZGluZ10pIGJ1dHRvbiw6aG9zdChbbG9hZGluZ10pIGF7cG9pbnRlci1ldmVudHM6bm9uZTtvcGFjaXR5OnZhcigtLWNhbGNpdGUtdWktb3BhY2l0eS1kaXNhYmxlZCl9QGtleWZyYW1lcyBsb2FkZXItaW57MCV7aW5saW5lLXNpemU6MDtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKDAuNSl9MTAwJXtpbmxpbmUtc2l6ZToxZW07b3BhY2l0eToxO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBsb2FkZXItb3V0ezAle2lubGluZS1zaXplOjFlbTtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpfTEwMCV7aW5saW5lLXNpemU6MDtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKDAuNSl9fS5jYWxjaXRlLWJ1dHRvbi0tbG9hZGVye2Rpc3BsYXk6ZmxleH0uY2FsY2l0ZS1idXR0b24tLWxvYWRlciBjYWxjaXRlLWxvYWRlcnttYXJnaW46MHB4O3RyYW5zaXRpb246aW5saW5lLXNpemUgdmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLXNsb3cpIGVhc2UtaW4tb3V0LCBvcGFjaXR5IHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1zbG93KSBlYXNlLWluLW91dCwgdHJhbnNmb3JtIHZhcigtLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1zbG93KSBlYXNlLWluLW91dH0uY2FsY2l0ZS1idXR0b24tLWxvYWRlciBjYWxjaXRlLWxvYWRlci5sb2FkaW5nLWlue2FuaW1hdGlvbi1uYW1lOmxvYWRlci1pbjthbmltYXRpb24tZHVyYXRpb246dmFyKC0tY2FsY2l0ZS1pbnRlcm5hbC1hbmltYXRpb24tdGltaW5nLXNsb3cpfS5jYWxjaXRlLWJ1dHRvbi0tbG9hZGVyIGNhbGNpdGUtbG9hZGVyLmxvYWRpbmctb3V0e2FuaW1hdGlvbi1uYW1lOmxvYWRlci1vdXQ7YW5pbWF0aW9uLWR1cmF0aW9uOnZhcigtLWNhbGNpdGUtaW50ZXJuYWwtYW5pbWF0aW9uLXRpbWluZy1zbG93KX06aG9zdChbbG9hZGluZ10pIGJ1dHRvbi5jb250ZW50LS1zbG90dGVkIC5jYWxjaXRlLWJ1dHRvbi0tbG9hZGVyIGNhbGNpdGUtbG9hZGVyLDpob3N0KFtsb2FkaW5nXSkgYS5jb250ZW50LS1zbG90dGVkIC5jYWxjaXRlLWJ1dHRvbi0tbG9hZGVyIGNhbGNpdGUtbG9hZGVye21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWNhbGNpdGUtYnV0dG9uLWNvbnRlbnQtbWFyZ2luLWludGVybmFsKX06aG9zdChbbG9hZGluZ10pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpIC5pY29uLS1zdGFydCw6aG9zdChbbG9hZGluZ10pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpIC5pY29uLS1lbmQsOmhvc3QoW2xvYWRpbmddKSBhOm5vdCguY29udGVudC0tc2xvdHRlZCkgLmljb24tLXN0YXJ0LDpob3N0KFtsb2FkaW5nXSkgYTpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpIC5pY29uLS1lbmR7ZGlzcGxheTpub25lfTpob3N0KFthcHBlYXJhbmNlXSkgYnV0dG9uLDpob3N0KFthcHBlYXJhbmNlXSkgYXtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9Omhvc3QoW2tpbmQ9YnJhbmRdKSBidXR0b24sOmhvc3QoW2tpbmQ9YnJhbmRdKSBhe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LWludmVyc2UpfTpob3N0KFtraW5kPWJyYW5kXSkgYnV0dG9uOmhvdmVyLDpob3N0KFtraW5kPWJyYW5kXSkgYnV0dG9uOmZvY3VzLDpob3N0KFtraW5kPWJyYW5kXSkgYTpob3Zlciw6aG9zdChba2luZD1icmFuZF0pIGE6Zm9jdXN7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLWhvdmVyKX06aG9zdChba2luZD1icmFuZF0pIGJ1dHRvbjphY3RpdmUsOmhvc3QoW2tpbmQ9YnJhbmRdKSBhOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQtcHJlc3MpfTpob3N0KFtraW5kPWJyYW5kXSkgYnV0dG9uIGNhbGNpdGUtbG9hZGVyLDpob3N0KFtraW5kPWJyYW5kXSkgYSBjYWxjaXRlLWxvYWRlcntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtaW52ZXJzZSl9Omhvc3QoW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uLDpob3N0KFtraW5kPWRhbmdlcl0pIGF7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcik7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LWludmVyc2UpfTpob3N0KFtraW5kPWRhbmdlcl0pIGJ1dHRvbjpob3Zlciw6aG9zdChba2luZD1kYW5nZXJdKSBidXR0b246Zm9jdXMsOmhvc3QoW2tpbmQ9ZGFuZ2VyXSkgYTpob3Zlciw6aG9zdChba2luZD1kYW5nZXJdKSBhOmZvY3Vze2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXItaG92ZXIpfTpob3N0KFtraW5kPWRhbmdlcl0pIGJ1dHRvbjphY3RpdmUsOmhvc3QoW2tpbmQ9ZGFuZ2VyXSkgYTphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1wcmVzcyl9Omhvc3QoW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uIGNhbGNpdGUtbG9hZGVyLDpob3N0KFtraW5kPWRhbmdlcl0pIGEgY2FsY2l0ZS1sb2FkZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LWludmVyc2UpfTpob3N0KFtraW5kPW5ldXRyYWxdKSBidXR0b24sOmhvc3QoW2tpbmQ9bmV1dHJhbF0pIGF7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMyk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTEpfTpob3N0KFtraW5kPW5ldXRyYWxdKSBidXR0b246aG92ZXIsOmhvc3QoW2tpbmQ9bmV1dHJhbF0pIGJ1dHRvbjpmb2N1cyw6aG9zdChba2luZD1uZXV0cmFsXSkgYTpob3Zlciw6aG9zdChba2luZD1uZXV0cmFsXSkgYTpmb2N1c3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0yKX06aG9zdChba2luZD1uZXV0cmFsXSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChba2luZD1uZXV0cmFsXSkgYTphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSl9Omhvc3QoW2tpbmQ9bmV1dHJhbF0pIGJ1dHRvbiBjYWxjaXRlLWxvYWRlciw6aG9zdChba2luZD1uZXV0cmFsXSkgYSBjYWxjaXRlLWxvYWRlcntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMSl9Omhvc3QoW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbiw6aG9zdChba2luZD1pbnZlcnNlXSkgYXtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtaW52ZXJzZSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UpfTpob3N0KFtraW5kPWludmVyc2VdKSBidXR0b246aG92ZXIsOmhvc3QoW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbjpmb2N1cyw6aG9zdChba2luZD1pbnZlcnNlXSkgYTpob3Zlciw6aG9zdChba2luZD1pbnZlcnNlXSkgYTpmb2N1c3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktaW52ZXJzZS1ob3Zlcil9Omhvc3QoW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbjphY3RpdmUsOmhvc3QoW2tpbmQ9aW52ZXJzZV0pIGE6YWN0aXZle2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1pbnZlcnNlLXByZXNzKX06aG9zdChba2luZD1pbnZlcnNlXSkgYnV0dG9uIGNhbGNpdGUtbG9hZGVyLDpob3N0KFtraW5kPWludmVyc2VdKSBhIGNhbGNpdGUtbG9hZGVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC1pbnZlcnNlKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdKSBidXR0b24sOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXSkgYXtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0xKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB0cmFuc3BhcmVudH06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9YnJhbmRdKSBidXR0b24sOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWJyYW5kXSkgYXtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWJyYW5kXSkgYnV0dG9uOmhvdmVyLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1icmFuZF0pIGE6aG92ZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQtaG92ZXIpO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQtaG92ZXIpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLWNhbGNpdGUtdWktYnJhbmQtaG92ZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1icmFuZF0pIGJ1dHRvbjpmb2N1cyw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9YnJhbmRdKSBhOmZvY3Vze2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9YnJhbmRdKSBidXR0b246YWN0aXZlLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1icmFuZF0pIGE6YWN0aXZle2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLXByZXNzKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLXByZXNzKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLXByZXNzKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9YnJhbmRdKSBidXR0b24gY2FsY2l0ZS1sb2FkZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWJyYW5kXSkgYSBjYWxjaXRlLWxvYWRlcntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1kYW5nZXJdKSBhe2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1kYW5nZXJdKSBidXR0b246aG92ZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWRhbmdlcl0pIGE6aG92ZXJ7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyLWhvdmVyKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1ob3Zlcik7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggdmFyKC0tY2FsY2l0ZS11aS1kYW5nZXItaG92ZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1kYW5nZXJdKSBidXR0b246Zm9jdXMsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWRhbmdlcl0pIGE6Zm9jdXN7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcik7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAycHggdmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1kYW5nZXJdKSBidXR0b246YWN0aXZlLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1kYW5nZXJdKSBhOmFjdGl2ZXtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXItcHJlc3MpO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyLXByZXNzKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1wcmVzcyl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWRhbmdlcl0pIGJ1dHRvbiBjYWxjaXRlLWxvYWRlciw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9ZGFuZ2VyXSkgYSBjYWxjaXRlLWxvYWRlcntjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcil9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBidXR0b24sOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBhe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTEpO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKTtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTMpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1uZXV0cmFsXSkgYnV0dG9uOmhvdmVyLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1uZXV0cmFsXSkgYTpob3Zlcntib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMyl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBidXR0b246Zm9jdXMsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBhOmZvY3Vze2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtdWktZm9yZWdyb3VuZC0zKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9bmV1dHJhbF0pIGJ1dHRvbjphY3RpdmUsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBhOmFjdGl2ZXtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMyl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBidXR0b24gY2FsY2l0ZS1sb2FkZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPW5ldXRyYWxdKSBhIGNhbGNpdGUtbG9hZGVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbiw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9aW52ZXJzZV0pIGF7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMSk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTEpO2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1pbnZlcnNlXSkgYnV0dG9uOmhvdmVyLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1pbnZlcnNlXSkgYTpob3Zlcntib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1pbnZlcnNlLWhvdmVyKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UtaG92ZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1pbnZlcnNlXSkgYnV0dG9uOmZvY3VzLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1pbnZlcnNlXSkgYTpmb2N1c3tib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1pbnZlcnNlKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1ba2luZD1pbnZlcnNlXSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW2tpbmQ9aW52ZXJzZV0pIGE6YWN0aXZle2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UtcHJlc3MpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtdWktaW52ZXJzZS1wcmVzcyl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWludmVyc2VdKSBidXR0b24gY2FsY2l0ZS1sb2FkZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZS1maWxsXVtraW5kPWludmVyc2VdKSBhIGNhbGNpdGUtbG9hZGVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXSkgYnV0dG9uLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdKSBhe2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXN0eWxlOnNvbGlkO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggdHJhbnNwYXJlbnR9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1icmFuZF0pIGJ1dHRvbiw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWJyYW5kXSkgYXtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCk7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWJyYW5kXSkgYnV0dG9uOmhvdmVyLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9YnJhbmRdKSBhOmhvdmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLWhvdmVyKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLWhvdmVyKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLWhvdmVyKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWJyYW5kXSkgYnV0dG9uOmZvY3VzLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9YnJhbmRdKSBhOmZvY3Vze2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWJyYW5kXSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWJyYW5kXSkgYTphY3RpdmV7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQtcHJlc3MpO2NvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQtcHJlc3MpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtdWktYnJhbmQtcHJlc3MpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9YnJhbmRdKSBidXR0b24gY2FsY2l0ZS1sb2FkZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1icmFuZF0pIGEgY2FsY2l0ZS1sb2FkZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1kYW5nZXJdKSBidXR0b24sOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1kYW5nZXJdKSBhe2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcik7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcil9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1kYW5nZXJdKSBidXR0b246aG92ZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1kYW5nZXJdKSBhOmhvdmVye2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1ob3Zlcik7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXItaG92ZXIpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4IHZhcigtLWNhbGNpdGUtdWktZGFuZ2VyLWhvdmVyKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWRhbmdlcl0pIGJ1dHRvbjpmb2N1cyw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWRhbmdlcl0pIGE6Zm9jdXN7Ym9yZGVyLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKTtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcik7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAycHggdmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWRhbmdlcl0pIGE6YWN0aXZle2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1wcmVzcyk7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXItcHJlc3MpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtdWktZGFuZ2VyLXByZXNzKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWRhbmdlcl0pIGJ1dHRvbiBjYWxjaXRlLWxvYWRlciw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWRhbmdlcl0pIGEgY2FsY2l0ZS1sb2FkZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9bmV1dHJhbF0pIGJ1dHRvbiw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPW5ldXRyYWxdKSBhe2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTEpO2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJvcmRlci0xKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPW5ldXRyYWxdKSBidXR0b246aG92ZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1uZXV0cmFsXSkgYTpob3Zlcntib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMyl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1uZXV0cmFsXSkgYnV0dG9uOmZvY3VzLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9bmV1dHJhbF0pIGE6Zm9jdXN7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAycHggdmFyKC0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTMpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9bmV1dHJhbF0pIGJ1dHRvbjphY3RpdmUsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1uZXV0cmFsXSkgYTphY3RpdmV7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAycHggdmFyKC0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTMpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9bmV1dHJhbF0pIGJ1dHRvbiBjYWxjaXRlLWxvYWRlciw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPW5ldXRyYWxdKSBhIGNhbGNpdGUtbG9hZGVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWludmVyc2VdKSBidXR0b24sOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1pbnZlcnNlXSkgYXtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKTtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1pbnZlcnNlKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWludmVyc2VdKSBidXR0b246aG92ZXIsOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1pbnZlcnNlXSkgYTpob3Zlcntib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1pbnZlcnNlLWhvdmVyKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCB2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UtaG92ZXIpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbjpmb2N1cyw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWludmVyc2VdKSBhOmZvY3Vze2JvcmRlci1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UpO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMnB4IHZhcigtLWNhbGNpdGUtdWktaW52ZXJzZSl9Omhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1ba2luZD1pbnZlcnNlXSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWludmVyc2VdKSBhOmFjdGl2ZXtib3JkZXItY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1pbnZlcnNlLXByZXNzKTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDJweCB2YXIoLS1jYWxjaXRlLXVpLWludmVyc2UtcHJlc3MpfTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbiBjYWxjaXRlLWxvYWRlciw6aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lXVtraW5kPWludmVyc2VdKSBhIGNhbGNpdGUtbG9hZGVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX06aG9zdChbYXBwZWFyYW5jZT1vdXRsaW5lLWZpbGxdW3NwbGl0LWNoaWxkPXByaW1hcnldKSBidXR0b24sOmhvc3QoW2FwcGVhcmFuY2U9b3V0bGluZV1bc3BsaXQtY2hpbGQ9cHJpbWFyeV0pIGJ1dHRvbntib3JkZXItaW5saW5lLWVuZC13aWR0aDowO2JvcmRlci1pbmxpbmUtc3RhcnQtd2lkdGg6MXB4fTpob3N0KFthcHBlYXJhbmNlPW91dGxpbmUtZmlsbF1bc3BsaXQtY2hpbGQ9c2Vjb25kYXJ5XSkgYnV0dG9uLDpob3N0KFthcHBlYXJhbmNlPW91dGxpbmVdW3NwbGl0LWNoaWxkPXNlY29uZGFyeV0pIGJ1dHRvbntib3JkZXItaW5saW5lLXN0YXJ0LXdpZHRoOjA7Ym9yZGVyLWlubGluZS1lbmQtd2lkdGg6MXB4fTpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XTpub3QoLmVuYWJsZS1lZGl0aW5nLWJ1dHRvbikpIGJ1dHRvbiw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF06bm90KC5lbmFibGUtZWRpdGluZy1idXR0b24pKSBhe2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdOm5vdCguZW5hYmxlLWVkaXRpbmctYnV0dG9uKSkgYnV0dG9uOmhvdmVyLDpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XTpub3QoLmVuYWJsZS1lZGl0aW5nLWJ1dHRvbikpIGJ1dHRvbjpmb2N1cyw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF06bm90KC5lbmFibGUtZWRpdGluZy1idXR0b24pKSBhOmhvdmVyLDpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XTpub3QoLmVuYWJsZS1lZGl0aW5nLWJ1dHRvbikpIGE6Zm9jdXN7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLWJ1dHRvbi10cmFuc3BhcmVudC1ob3Zlcil9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdOm5vdCguZW5hYmxlLWVkaXRpbmctYnV0dG9uKSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF06bm90KC5lbmFibGUtZWRpdGluZy1idXR0b24pKSBhOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNhbGNpdGUtYnV0dG9uLXRyYW5zcGFyZW50LXByZXNzKX06aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1icmFuZF0pIGJ1dHRvbiw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1icmFuZF0pIGF7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9YnJhbmRdKSBidXR0b246aG92ZXIsOmhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9YnJhbmRdKSBhOmhvdmVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktYnJhbmQtaG92ZXIpfTpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPWJyYW5kXSkgYnV0dG9uOmZvY3VzLDpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPWJyYW5kXSkgYTpmb2N1c3tjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKX06aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1icmFuZF0pIGJ1dHRvbjphY3RpdmUsOmhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9YnJhbmRdKSBhOmFjdGl2ZXtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWJyYW5kLXByZXNzKX06aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1icmFuZF0pIGJ1dHRvbiBjYWxjaXRlLWxvYWRlciw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1icmFuZF0pIGEgY2FsY2l0ZS1sb2FkZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1icmFuZCl9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uLDpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPWRhbmdlcl0pIGF7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfTpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPWRhbmdlcl0pIGJ1dHRvbjpob3Zlciw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1kYW5nZXJdKSBhOmhvdmVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyLWhvdmVyKX06aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1kYW5nZXJdKSBidXR0b246Zm9jdXMsOmhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9ZGFuZ2VyXSkgYTpmb2N1c3tjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlcil9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uOmFjdGl2ZSw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1kYW5nZXJdKSBhOmFjdGl2ZXtjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWRhbmdlci1wcmVzcyl9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9ZGFuZ2VyXSkgYnV0dG9uIGNhbGNpdGUtbG9hZGVyLDpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPWRhbmdlcl0pIGEgY2FsY2l0ZS1sb2FkZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS1kYW5nZXIpfTpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPW5ldXRyYWxdOm5vdCguY2FuY2VsLWVkaXRpbmctYnV0dG9uKSkgYnV0dG9uLDpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPW5ldXRyYWxdOm5vdCguY2FuY2VsLWVkaXRpbmctYnV0dG9uKSkgYSw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1uZXV0cmFsXTpub3QoLmNhbmNlbC1lZGl0aW5nLWJ1dHRvbikpIGNhbGNpdGUtbG9hZGVye2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0xKX06aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1uZXV0cmFsXS5jYW5jZWwtZWRpdGluZy1idXR0b24pIGJ1dHRvbntib3JkZXItYmxvY2stc3RhcnQtd2lkdGg6MXB4O2JvcmRlci1ibG9jay1lbmQtd2lkdGg6MXB4O2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0zKTtib3JkZXItYmxvY2stc3RhcnQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItaW5wdXQpO2JvcmRlci1ibG9jay1lbmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1ib3JkZXItaW5wdXQpO2JvcmRlci1ibG9jay1zdHlsZTpzb2xpZH06aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1uZXV0cmFsXS5jYW5jZWwtZWRpdGluZy1idXR0b24pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpey0tY2FsY2l0ZS1idXR0b24tcGFkZGluZy15LWludGVybmFsOjB9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9bmV1dHJhbF0uY2FuY2VsLWVkaXRpbmctYnV0dG9uKSBidXR0b246aG92ZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LTEpfTpob3N0KFthcHBlYXJhbmNlPXRyYW5zcGFyZW50XVtraW5kPW5ldXRyYWxdLmVuYWJsZS1lZGl0aW5nLWJ1dHRvbikgYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Omhvc3QoLmNvbmZpcm0tY2hhbmdlcy1idXR0b24pIGJ1dHRvbjpmb2N1cyw6aG9zdCguY2FuY2VsLWVkaXRpbmctYnV0dG9uKSBidXR0b246Zm9jdXMsOmhvc3QoLmVuYWJsZS1lZGl0aW5nLWJ1dHRvbikgYnV0dG9uOmZvY3Vze291dGxpbmUtb2Zmc2V0Oi0ycHh9Omhvc3QoW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdW2tpbmQ9aW52ZXJzZV0pIGJ1dHRvbiw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1pbnZlcnNlXSkgYSw6aG9zdChbYXBwZWFyYW5jZT10cmFuc3BhcmVudF1ba2luZD1pbnZlcnNlXSkgY2FsY2l0ZS1sb2FkZXJ7Y29sb3I6dmFyKC0tY2FsY2l0ZS11aS10ZXh0LWludmVyc2UpfTpob3N0KFtzY2FsZT1zXSkgYnV0dG9uLmNvbnRlbnQtLXNsb3R0ZWQsOmhvc3QoW3NjYWxlPXNdKSBhLmNvbnRlbnQtLXNsb3R0ZWR7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLS0yKTtsaW5lLWhlaWdodDoxcmVtfTpob3N0KFtzY2FsZT1zXVthcHBlYXJhbmNlPXRyYW5zcGFyZW50XSkgYnV0dG9uLmNvbnRlbnQtLXNsb3R0ZWQsOmhvc3QoW3NjYWxlPXNdW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdKSBhLmNvbnRlbnQtLXNsb3R0ZWR7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXgtaW50ZXJuYWw6MC41cmVtfTpob3N0KFtzY2FsZT1zXSkgYnV0dG9uLDpob3N0KFtzY2FsZT1zXSkgYXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteS1pbnRlcm5hbDozcHh9Omhvc3QoW3NjYWxlPW1dKSBidXR0b24uY29udGVudC0tc2xvdHRlZCw6aG9zdChbc2NhbGU9bV0pIGEuY29udGVudC0tc2xvdHRlZHstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDoxMXB4O2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0tMSk7bGluZS1oZWlnaHQ6MXJlbX06aG9zdChbc2NhbGU9bV0pIGJ1dHRvbiw6aG9zdChbc2NhbGU9bV0pIGF7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXktaW50ZXJuYWw6N3B4fTpob3N0KFtzY2FsZT1tXVthcHBlYXJhbmNlPXRyYW5zcGFyZW50XSkgYnV0dG9uLmNvbnRlbnQtLXNsb3R0ZWQsOmhvc3QoW3NjYWxlPW1dW2FwcGVhcmFuY2U9dHJhbnNwYXJlbnRdKSBhLmNvbnRlbnQtLXNsb3R0ZWR7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXgtaW50ZXJuYWw6MC43NXJlbX06aG9zdChbc2NhbGU9bF0pIGJ1dHRvbi5jb250ZW50LS1zbG90dGVkLDpob3N0KFtzY2FsZT1sXSkgYS5jb250ZW50LS1zbG90dGVkey0tY2FsY2l0ZS1idXR0b24tcGFkZGluZy14LWludGVybmFsOjE1cHg7Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLTApO2xpbmUtaGVpZ2h0OjEuMjVyZW19Omhvc3QoW3NjYWxlPWxdKSAuYnV0dG9uLXBhZGRpbmd7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXgtaW50ZXJuYWw6MXJlbTstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteS1pbnRlcm5hbDoxMXB4fTpob3N0KFtzY2FsZT1sXSkgLmJ1dHRvbi1wYWRkaW5nLS1zaHJ1bmt7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXktaW50ZXJuYWw6OXB4fTpob3N0KFtzY2FsZT1zXSkgYnV0dG9uOm5vdCguY29udGVudC0tc2xvdHRlZCksOmhvc3QoW3NjYWxlPXNdKSBhOm5vdCguY29udGVudC0tc2xvdHRlZCl7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXgtaW50ZXJuYWw6MC4xMjVyZW07LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXktaW50ZXJuYWw6M3B4O2lubGluZS1zaXplOjEuNXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4yNXJlbTttaW4tYmxvY2stc2l6ZToxLjVyZW19Omhvc3QoW3NjYWxlPW1dKSBidXR0b246bm90KC5jb250ZW50LS1zbG90dGVkKSw6aG9zdChbc2NhbGU9bV0pIGE6bm90KC5jb250ZW50LS1zbG90dGVkKXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDowLjEyNXJlbTstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteS1pbnRlcm5hbDo3cHg7aW5saW5lLXNpemU6MnJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4yNXJlbTttaW4tYmxvY2stc2l6ZToycmVtfTpob3N0KFtzY2FsZT1sXSkgYnV0dG9uOm5vdCguY29udGVudC0tc2xvdHRlZCksOmhvc3QoW3NjYWxlPWxdKSBhOm5vdCguY29udGVudC0tc2xvdHRlZCl7LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXgtaW50ZXJuYWw6MC4xMjVyZW07LS1jYWxjaXRlLWJ1dHRvbi1wYWRkaW5nLXktaW50ZXJuYWw6OXB4O2lubGluZS1zaXplOjIuNzVyZW07Zm9udC1zaXplOnZhcigtLWNhbGNpdGUtZm9udC1zaXplLTApO2xpbmUtaGVpZ2h0OjEuMjVyZW07bWluLWJsb2NrLXNpemU6Mi43NXJlbX06aG9zdChbc2NhbGU9bF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpLDpob3N0KFtzY2FsZT1sXVthcHBlYXJhbmNlPXRyYW5zcGFyZW50XSkgYTpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpey0tY2FsY2l0ZS1idXR0b24tcGFkZGluZy15LWludGVybmFsOjAuNjI1cmVtfTpob3N0KFtzY2FsZT1zXVtpY29uLXN0YXJ0XVtpY29uLWVuZF0pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpLDpob3N0KFtzY2FsZT1zXVtpY29uLXN0YXJ0XVtpY29uLWVuZF0pIGE6bm90KC5jb250ZW50LS1zbG90dGVkKXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDoyM3B4O2Jsb2NrLXNpemU6MS41cmVtO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0wKTtsaW5lLWhlaWdodDoxLjI1cmVtfTpob3N0KFtzY2FsZT1zXVtpY29uLXN0YXJ0XVtpY29uLWVuZF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpLDpob3N0KFtzY2FsZT1zXVtpY29uLXN0YXJ0XVtpY29uLWVuZF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGE6bm90KC5jb250ZW50LS1zbG90dGVkKXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDoxLjVyZW19Omhvc3QoW3NjYWxlPW1dW2ljb24tc3RhcnRdW2ljb24tZW5kXSkgYnV0dG9uOm5vdCguY29udGVudC0tc2xvdHRlZCksOmhvc3QoW3NjYWxlPW1dW2ljb24tc3RhcnRdW2ljb24tZW5kXSkgYTpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpey0tY2FsY2l0ZS1idXR0b24tcGFkZGluZy14LWludGVybmFsOjJyZW07YmxvY2stc2l6ZToycmVtO2ZvbnQtc2l6ZTp2YXIoLS1jYWxjaXRlLWZvbnQtc2l6ZS0wKTtsaW5lLWhlaWdodDoxLjI1cmVtfTpob3N0KFtzY2FsZT1tXVtpY29uLXN0YXJ0XVtpY29uLWVuZF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpLDpob3N0KFtzY2FsZT1tXVtpY29uLXN0YXJ0XVtpY29uLWVuZF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGE6bm90KC5jb250ZW50LS1zbG90dGVkKXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDozM3B4fTpob3N0KFtzY2FsZT1sXVtpY29uLXN0YXJ0XVtpY29uLWVuZF0pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpLDpob3N0KFtzY2FsZT1sXVtpY29uLXN0YXJ0XVtpY29uLWVuZF0pIGE6bm90KC5jb250ZW50LS1zbG90dGVkKXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDo0M3B4O2Jsb2NrLXNpemU6Mi43NXJlbTtmb250LXNpemU6dmFyKC0tY2FsY2l0ZS1mb250LXNpemUtMCk7bGluZS1oZWlnaHQ6MS4yNXJlbX06aG9zdChbc2NhbGU9bF1baWNvbi1zdGFydF1baWNvbi1lbmRdKSBidXR0b246bm90KC5jb250ZW50LS1zbG90dGVkKSAuaWNvbi0tc3RhcnQrLmljb24tLWVuZCw6aG9zdChbc2NhbGU9bF1baWNvbi1zdGFydF1baWNvbi1lbmRdKSBhOm5vdCguY29udGVudC0tc2xvdHRlZCkgLmljb24tLXN0YXJ0Ky5pY29uLS1lbmR7bWFyZ2luLWlubGluZS1zdGFydDoxcmVtfTpob3N0KFtzY2FsZT1sXVtpY29uLXN0YXJ0XVtpY29uLWVuZF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGJ1dHRvbjpub3QoLmNvbnRlbnQtLXNsb3R0ZWQpLDpob3N0KFtzY2FsZT1sXVtpY29uLXN0YXJ0XVtpY29uLWVuZF1bYXBwZWFyYW5jZT10cmFuc3BhcmVudF0pIGE6bm90KC5jb250ZW50LS1zbG90dGVkKXstLWNhbGNpdGUtYnV0dG9uLXBhZGRpbmcteC1pbnRlcm5hbDoyLjc1cmVtfVwiO1xuXG5jb25zdCBCdXR0b24gPSAvKkBfX1BVUkVfXyovIHByb3h5Q3VzdG9tRWxlbWVudChjbGFzcyBleHRlbmRzIEgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICB0aGlzLl9fYXR0YWNoU2hhZG93KCk7XG4gICAgLyoqIHdhdGNoZXMgZm9yIGNoYW5naW5nIHRleHQgY29udGVudCAqL1xuICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IGNyZWF0ZU9ic2VydmVyKFwibXV0YXRpb25cIiwgKCkgPT4gdGhpcy51cGRhdGVIYXNDb250ZW50KCkpO1xuICAgIC8vIGFjdCBvbiBhIHJlcXVlc3RlZCBvciBuZWFyYnkgZm9ybSBiYXNlZCBvbiB0eXBlXG4gICAgdGhpcy5oYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdHlwZSB9ID0gdGhpcztcbiAgICAgIGlmICh0aGlzLmhyZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy50eXBlIHJlZmVycyB0byB0eXBlIGF0dHJpYnV0ZSwgbm90IGNoaWxkIGVsZW1lbnQgdHlwZVxuICAgICAgaWYgKHR5cGUgPT09IFwic3VibWl0XCIpIHtcbiAgICAgICAgc3VibWl0Rm9ybSh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwicmVzZXRcIikge1xuICAgICAgICByZXNldEZvcm0odGhpcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmFsaWdubWVudCA9IFwiY2VudGVyXCI7XG4gICAgdGhpcy5hcHBlYXJhbmNlID0gXCJzb2xpZFwiO1xuICAgIHRoaXMubGFiZWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5raW5kID0gXCJicmFuZFwiO1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmhyZWYgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uRW5kID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaWNvbkZsaXBSdGwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uU3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5uYW1lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucm91bmQgPSBmYWxzZTtcbiAgICB0aGlzLnNjYWxlID0gXCJtXCI7XG4gICAgdGhpcy5zcGxpdENoaWxkID0gZmFsc2U7XG4gICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50eXBlID0gXCJidXR0b25cIjtcbiAgICB0aGlzLndpZHRoID0gXCJhdXRvXCI7XG4gICAgdGhpcy5tZXNzYWdlcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1lc3NhZ2VPdmVycmlkZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oYXNDb250ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5oYXNMb2FkZXIgPSBmYWxzZTtcbiAgICB0aGlzLmVmZmVjdGl2ZUxvY2FsZSA9IFwiXCI7XG4gICAgdGhpcy5kZWZhdWx0TWVzc2FnZXMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgbG9hZGluZ0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgaWYgKCEhbmV3VmFsdWUgJiYgIW9sZFZhbHVlKSB7XG4gICAgICB0aGlzLmhhc0xvYWRlciA9IHRydWU7XG4gICAgfVxuICAgIGlmICghbmV3VmFsdWUgJiYgISFvbGRWYWx1ZSkge1xuICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmhhc0xvYWRlciA9IGZhbHNlO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH1cbiAgb25NZXNzYWdlc0NoYW5nZSgpIHtcbiAgICAvKiogcmVmZXJyZWQgaW4gdDluIHV0aWwgKi9cbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBMaWZlY3ljbGVcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25uZWN0TG9jYWxpemVkKHRoaXMpO1xuICAgIGNvbm5lY3RNZXNzYWdlcyh0aGlzKTtcbiAgICB0aGlzLmhhc0xvYWRlciA9IHRoaXMubG9hZGluZztcbiAgICB0aGlzLnNldHVwVGV4dENvbnRlbnRPYnNlcnZlcigpO1xuICAgIGNvbm5lY3RMYWJlbCh0aGlzKTtcbiAgICB0aGlzLmZvcm1FbCA9IGNsb3Nlc3RFbGVtZW50Q3Jvc3NTaGFkb3dCb3VuZGFyeSh0aGlzLmVsLCBcImZvcm1cIik7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gICAgZGlzY29ubmVjdExhYmVsKHRoaXMpO1xuICAgIGRpc2Nvbm5lY3RMb2NhbGl6ZWQodGhpcyk7XG4gICAgZGlzY29ubmVjdE1lc3NhZ2VzKHRoaXMpO1xuICAgIHRoaXMuZm9ybUVsID0gbnVsbDtcbiAgfVxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICBzZXRVcExvYWRhYmxlQ29tcG9uZW50KHRoaXMpO1xuICAgIHtcbiAgICAgIHRoaXMudXBkYXRlSGFzQ29udGVudCgpO1xuICAgICAgYXdhaXQgc2V0VXBNZXNzYWdlcyh0aGlzKTtcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBzZXRDb21wb25lbnRMb2FkZWQodGhpcyk7XG4gIH1cbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAgIHVwZGF0ZUhvc3RJbnRlcmFjdGlvbih0aGlzKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2hpbGRFbFR5cGUgPSB0aGlzLmhyZWYgPyBcImFcIiA6IFwiYnV0dG9uXCI7XG4gICAgY29uc3QgVGFnID0gY2hpbGRFbFR5cGU7XG4gICAgY29uc3QgbG9hZGVyTm9kZSA9IHRoaXMuaGFzTG9hZGVyID8gKGgoXCJkaXZcIiwgeyBjbGFzczogQ1NTLmJ1dHRvbkxvYWRlciB9LCBoKFwiY2FsY2l0ZS1sb2FkZXJcIiwgeyBjbGFzczogdGhpcy5sb2FkaW5nID8gQ1NTLmxvYWRpbmdJbiA6IENTUy5sb2FkaW5nT3V0LCBpbmxpbmU6IHRydWUsIGxhYmVsOiB0aGlzLm1lc3NhZ2VzLmxvYWRpbmcsIHNjYWxlOiB0aGlzLnNjYWxlID09PSBcImxcIiA/IFwibVwiIDogXCJzXCIgfSkpKSA6IG51bGw7XG4gICAgY29uc3Qgbm9TdGFydEVuZEljb25zID0gIXRoaXMuaWNvblN0YXJ0ICYmICF0aGlzLmljb25FbmQ7XG4gICAgY29uc3QgaWNvblN0YXJ0RWwgPSAoaChcImNhbGNpdGUtaWNvblwiLCB7IGNsYXNzOiB7IFtDU1MuaWNvbl06IHRydWUsIFtDU1MuaWNvblN0YXJ0XTogdHJ1ZSB9LCBmbGlwUnRsOiB0aGlzLmljb25GbGlwUnRsID09PSBcInN0YXJ0XCIgfHwgdGhpcy5pY29uRmxpcFJ0bCA9PT0gXCJib3RoXCIsIGljb246IHRoaXMuaWNvblN0YXJ0LCBzY2FsZTogdGhpcy5zY2FsZSA9PT0gXCJsXCIgPyBcIm1cIiA6IFwic1wiIH0pKTtcbiAgICBjb25zdCBpY29uRW5kRWwgPSAoaChcImNhbGNpdGUtaWNvblwiLCB7IGNsYXNzOiB7IFtDU1MuaWNvbl06IHRydWUsIFtDU1MuaWNvbkVuZF06IHRydWUgfSwgZmxpcFJ0bDogdGhpcy5pY29uRmxpcFJ0bCA9PT0gXCJlbmRcIiB8fCB0aGlzLmljb25GbGlwUnRsID09PSBcImJvdGhcIiwgaWNvbjogdGhpcy5pY29uRW5kLCBzY2FsZTogdGhpcy5zY2FsZSA9PT0gXCJsXCIgPyBcIm1cIiA6IFwic1wiIH0pKTtcbiAgICBjb25zdCBjb250ZW50RWwgPSAoaChcInNwYW5cIiwgeyBjbGFzczogQ1NTLmNvbnRlbnQgfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgICByZXR1cm4gKGgoVGFnLCB7IFwiYXJpYS1sYWJlbFwiOiBnZXRMYWJlbFRleHQodGhpcyksIGNsYXNzOiB7XG4gICAgICAgIFtDU1MuYnV0dG9uUGFkZGluZ106IG5vU3RhcnRFbmRJY29ucyxcbiAgICAgICAgW0NTUy5idXR0b25QYWRkaW5nU2hydW5rXTogIW5vU3RhcnRFbmRJY29ucyxcbiAgICAgICAgW0NTUy5jb250ZW50U2xvdHRlZF06IHRoaXMuaGFzQ29udGVudCxcbiAgICAgICAgW0NTUy5pY29uU3RhcnRFbXB0eV06ICF0aGlzLmljb25TdGFydCxcbiAgICAgICAgW0NTUy5pY29uRW5kRW1wdHldOiAhdGhpcy5pY29uRW5kXG4gICAgICB9LCBkaXNhYmxlZDogdGhpcy5kaXNhYmxlZCB8fCB0aGlzLmxvYWRpbmcsIGhyZWY6IGNoaWxkRWxUeXBlID09PSBcImFcIiAmJiB0aGlzLmhyZWYsIG5hbWU6IGNoaWxkRWxUeXBlID09PSBcImJ1dHRvblwiICYmIHRoaXMubmFtZSwgb25DbGljazogdGhpcy5oYW5kbGVDbGljaywgcmVmOiAoZWwpID0+ICh0aGlzLmNoaWxkRWwgPSBlbCksIHJlbDogY2hpbGRFbFR5cGUgPT09IFwiYVwiICYmIHRoaXMucmVsLCB0YWJJbmRleDogdGhpcy5kaXNhYmxlZCB8fCB0aGlzLmxvYWRpbmcgPyAtMSA6IG51bGwsIHRhcmdldDogY2hpbGRFbFR5cGUgPT09IFwiYVwiICYmIHRoaXMudGFyZ2V0LCB0eXBlOiBjaGlsZEVsVHlwZSA9PT0gXCJidXR0b25cIiAmJiB0aGlzLnR5cGUgfSwgbG9hZGVyTm9kZSwgdGhpcy5pY29uU3RhcnQgPyBpY29uU3RhcnRFbCA6IG51bGwsIHRoaXMuaGFzQ29udGVudCA/IGNvbnRlbnRFbCA6IG51bGwsIHRoaXMuaWNvbkVuZCA/IGljb25FbmRFbCA6IG51bGwpKTtcbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQdWJsaWMgTWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8qKiBTZXRzIGZvY3VzIG9uIHRoZSBjb21wb25lbnQuICovXG4gIGFzeW5jIHNldEZvY3VzKCkge1xuICAgIGF3YWl0IGNvbXBvbmVudExvYWRlZCh0aGlzKTtcbiAgICB0aGlzLmNoaWxkRWw/LmZvY3VzKCk7XG4gIH1cbiAgZWZmZWN0aXZlTG9jYWxlQ2hhbmdlKCkge1xuICAgIHVwZGF0ZU1lc3NhZ2VzKHRoaXMsIHRoaXMuZWZmZWN0aXZlTG9jYWxlKTtcbiAgfVxuICB1cGRhdGVIYXNDb250ZW50KCkge1xuICAgIGNvbnN0IHNsb3R0ZWRDb250ZW50ID0gdGhpcy5lbC50ZXh0Q29udGVudC50cmltKCkubGVuZ3RoID4gMCB8fCB0aGlzLmVsLmNoaWxkTm9kZXMubGVuZ3RoID4gMDtcbiAgICB0aGlzLmhhc0NvbnRlbnQgPVxuICAgICAgdGhpcy5lbC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmVsLmNoaWxkTm9kZXNbMF0/Lm5vZGVOYW1lID09PSBcIiN0ZXh0XCJcbiAgICAgICAgPyB0aGlzLmVsLnRleHRDb250ZW50Py50cmltKCkubGVuZ3RoID4gMFxuICAgICAgICA6IHNsb3R0ZWRDb250ZW50O1xuICB9XG4gIHNldHVwVGV4dENvbnRlbnRPYnNlcnZlcigpIHtcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXI/Lm9ic2VydmUodGhpcy5lbCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUHJpdmF0ZSBNZXRob2RzXG4gIC8vXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgb25MYWJlbENsaWNrKCkge1xuICAgIHRoaXMuaGFuZGxlQ2xpY2soKTtcbiAgICB0aGlzLnNldEZvY3VzKCk7XG4gIH1cbiAgc3RhdGljIGdldCBhc3NldHNEaXJzKCkgeyByZXR1cm4gW1wiYXNzZXRzXCJdOyB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImxvYWRpbmdcIjogW1wibG9hZGluZ0NoYW5nZWRcIl0sXG4gICAgXCJtZXNzYWdlT3ZlcnJpZGVzXCI6IFtcIm9uTWVzc2FnZXNDaGFuZ2VcIl0sXG4gICAgXCJlZmZlY3RpdmVMb2NhbGVcIjogW1wiZWZmZWN0aXZlTG9jYWxlQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGJ1dHRvbkNzczsgfVxufSwgWzEsIFwiY2FsY2l0ZS1idXR0b25cIiwge1xuICAgIFwiYWxpZ25tZW50XCI6IFs1MTNdLFxuICAgIFwiYXBwZWFyYW5jZVwiOiBbNTEzXSxcbiAgICBcImxhYmVsXCI6IFsxXSxcbiAgICBcImtpbmRcIjogWzUxM10sXG4gICAgXCJkaXNhYmxlZFwiOiBbNTE2XSxcbiAgICBcImhyZWZcIjogWzUxM10sXG4gICAgXCJpY29uRW5kXCI6IFs1MTMsIFwiaWNvbi1lbmRcIl0sXG4gICAgXCJpY29uRmxpcFJ0bFwiOiBbNTEzLCBcImljb24tZmxpcC1ydGxcIl0sXG4gICAgXCJpY29uU3RhcnRcIjogWzUxMywgXCJpY29uLXN0YXJ0XCJdLFxuICAgIFwibG9hZGluZ1wiOiBbNTE2XSxcbiAgICBcIm5hbWVcIjogWzUxM10sXG4gICAgXCJyZWxcIjogWzUxM10sXG4gICAgXCJyb3VuZFwiOiBbNTE2XSxcbiAgICBcInNjYWxlXCI6IFs1MTNdLFxuICAgIFwic3BsaXRDaGlsZFwiOiBbNTIwLCBcInNwbGl0LWNoaWxkXCJdLFxuICAgIFwidGFyZ2V0XCI6IFs1MTNdLFxuICAgIFwidHlwZVwiOiBbMTUzN10sXG4gICAgXCJ3aWR0aFwiOiBbNTEzXSxcbiAgICBcIm1lc3NhZ2VzXCI6IFsxMDQwXSxcbiAgICBcIm1lc3NhZ2VPdmVycmlkZXNcIjogWzEwNDBdLFxuICAgIFwiaGFzQ29udGVudFwiOiBbMzJdLFxuICAgIFwiaGFzTG9hZGVyXCI6IFszMl0sXG4gICAgXCJlZmZlY3RpdmVMb2NhbGVcIjogWzMyXSxcbiAgICBcImRlZmF1bHRNZXNzYWdlc1wiOiBbMzJdLFxuICAgIFwic2V0Rm9jdXNcIjogWzY0XVxuICB9XSk7XG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50KCkge1xuICBpZiAodHlwZW9mIGN1c3RvbUVsZW1lbnRzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBbXCJjYWxjaXRlLWJ1dHRvblwiLCBcImNhbGNpdGUtaWNvblwiLCBcImNhbGNpdGUtbG9hZGVyXCJdO1xuICBjb21wb25lbnRzLmZvckVhY2godGFnTmFtZSA9PiB7IHN3aXRjaCAodGFnTmFtZSkge1xuICAgIGNhc2UgXCJjYWxjaXRlLWJ1dHRvblwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIEJ1dHRvbik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiY2FsY2l0ZS1pY29uXCI6XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICBkZWZpbmVDdXN0b21FbGVtZW50JDIoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjYWxjaXRlLWxvYWRlclwiOlxuICAgICAgaWYgKCFjdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgICAgZGVmaW5lQ3VzdG9tRWxlbWVudCQzKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfSB9KTtcbn1cbmRlZmluZUN1c3RvbUVsZW1lbnQoKTtcblxuY29uc3QgYXJjZ2lzSW5mb2dyYXBoaWNXb3JrZmxvd0NzcyA9IFwiOmhvc3R7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfWNhbGNpdGUtZ3JpZHtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5uYXZpZ2F0aW9uLWJ1dHRvbnMtY29udGFpbmVye2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7YWxpZ24taXRlbXM6ZmxleC1lbmQ7aGVpZ2h0OjEwMCV9Lm5hdmlnYXRpb24tYnV0dG9uc3tkaXNwbGF5OmZsZXg7Z2FwOjAuMjVyZW19Lm5hdi1idXR0b257cGFkZGluZy1sZWZ0OjEwcHh9LndmLWxheW91dC1vdXRlcntwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnN0ZXBwZXItaXRlbS1oZWFkZXJ7aGVpZ2h0OjE4cHh9LndmLWxheW91dC1jYXJke3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bWluLXdpZHRoOjMwMHB4O21pbi1oZWlnaHQ6MjAwcHg7bWF4LXdpZHRoOjcwMHB4O2Rpc3BsYXk6ZmxleDtmbGV4LWZsb3c6Y29sdW1uO30ud2YtbGF5b3V0LXN0ZXBwZXJ7d2lkdGg6OTYlO2hlaWdodDpjYWxjKDk0JSAtIDM1cHgpO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMHB4O2xlZnQ6MiU7YmFja2dyb3VuZC1jb2xvcjondHJhbnNwYXJlbnQnO2ZsZXg6Mn0ud2YtbGF5b3V0LW5hdnt3aWR0aDo5NiU7aGVpZ2h0OjM2cHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoyJTtib3R0b206MTBweDtiYWNrZ3JvdW5kLWNvbG9yOid0cmFuc3BhcmVudCd9LndmLWxheW91dC1idXR0b25ze3Bvc2l0aW9uOmFic29sdXRlO3RvcDoycHg7cmlnaHQ6MnB4fS5kcmF3LWNvbXBvbmVudHMtY2xhc3N7aGVpZ2h0OjQ1cHg7d2lkdGg6MTAwJX1jYWxjaXRlLXN0ZXBwZXJ7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwMCV9LndmLXN0ZXAtY29udGVudHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6ODBweDtsZWZ0OjEwcHg7d2lkdGg6Y2FsYygxMDAlIC0gMjBweCk7aGVpZ2h0OmNhbGMoMTAwJSAtIDgycHgpO30ud2Ytc3RlcC1zZWFyY2h7b3ZlcmZsb3c6YXV0b306Oi13ZWJraXQtc2Nyb2xsYmFye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1iYWNrZ3JvdW5kLTEpO3dpZHRoOjhweDtoZWlnaHQ6OHB4fTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWJ7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtMyl9Ojotd2Via2l0LXNjcm9sbGJhci10cmFja3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fTo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVye2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2FsY2l0ZS11aS1iYWNrZ3JvdW5kLTEpO3dpZHRoOjhweDtoZWlnaHQ6OHB4fVwiO1xuXG5jb25zdCBBcmNnaXNJbmZvZ3JhcGhpY1dvcmtmbG93ID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcclxuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XHJcbiAgICB0aGlzLmRyYXdQb2ludENsaWNrID0gY3JlYXRlRXZlbnQkMSh0aGlzLCBcImRyYXdQb2ludENsaWNrXCIsIDYpO1xyXG4gICAgdGhpcy5kcmF3UG9seWdvbkNsaWNrID0gY3JlYXRlRXZlbnQkMSh0aGlzLCBcImRyYXdQb2x5Z29uQ2xpY2tcIiwgNik7XHJcbiAgICB0aGlzLnNlbGVjdGVkRmVhdHVyZUNsZWFyID0gY3JlYXRlRXZlbnQkMSh0aGlzLCBcInNlbGVjdGVkRmVhdHVyZUNsZWFyXCIsIDYpO1xyXG4gICAgdGhpcy5idWZmZXJzVXBkYXRlID0gY3JlYXRlRXZlbnQkMSh0aGlzLCBcImJ1ZmZlcnNVcGRhdGVcIiwgNik7XHJcbiAgICB0aGlzLnJ1bkluZm9ncmFwaGljID0gY3JlYXRlRXZlbnQkMSh0aGlzLCBcInJ1bkluZm9ncmFwaGljXCIsIDYpO1xyXG4gICAgdGhpcy5iYVNlYXJjaEZlYXR1cmVDaGFuZ2UgPSBjcmVhdGVFdmVudCQxKHRoaXMsIFwiYmFTZWFyY2hGZWF0dXJlQ2hhbmdlXCIsIDYpO1xyXG4gICAgdGhpcy5faWRQcmVmaXggPSAnYXJjZ2lzLWluZm9ncmFwaGljLXdvcmtmbG93LSc7XHJcbiAgICB0aGlzLl9pZFByZWZpeFNlYXJjaCA9ICd3b3JrZmxvdy1zZWFyY2gtc3RlcC0nO1xyXG4gICAgdGhpcy5faWRQcmVmaXhCdWZmZXIgPSAnd29ya2Zsb3ctYnVmZmVyLXN0ZXAtJztcclxuICAgIHRoaXMuX2lkUHJlZml4SW5mb2dyYXBoaWMgPSAnd29ya2Zsb3ctaW5mb2dyYXBoaWMtc3RlcC0nO1xyXG4gICAgdGhpcy5fbG9jYWxlU2V0dGluZ3MgPSB7fTtcclxuICAgIHRoaXMuX2RiZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5fc2V0SW5pdGlhbFN0ZXBwZXJUYWIgPSBudWxsO1xyXG4gICAgLy8gQFN0YXRlKCkgaWdEYXRhITogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuICAgIHRoaXMuc3RlcHMgPSBbU3RlcFZhbHVlcy5zZWFyY2gsIFN0ZXBWYWx1ZXMuYnVmZmVycywgU3RlcFZhbHVlcy5pbmZvZ3JhcGhpY3NdO1xyXG4gICAgdGhpcy5udW1TdGVwcyA9IDM7XHJcbiAgICB0aGlzLmN1cnJlbnRTdGVwID0gMTtcclxuICAgIHRoaXMuYnVmZmVyVHlwZSA9IEJ1ZmZlclR5cGVzVmFsdWVzLnJpbmc7XHJcbiAgICB0aGlzLmJ1ZmZlclZhbHMgPSBbNSwgMTAsIDE1XTtcclxuICAgIHRoaXMuYnVmZmVyVW5pdCA9IEJ1ZmZlclVuaXRzVmFsdWVzLm1pbGVzO1xyXG4gICAgLy8gQFN0YXRlKCkgc2hvd1RhYk51bWJlcnM6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgdGhpcy5zZWFyY2hUYWJTdGF0dXMgPSB7fTtcclxuICAgIHRoaXMuYnVmZmVyVGFiU3RhdHVzID0ge307XHJcbiAgICB0aGlzLmluZm9ncmFwaGljVGFiU3RhdHVzID0ge307XHJcbiAgICB0aGlzLmluZm9ncmFwaGljVGFiVmlld2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLmJhc2VDb25maWcgPSBuZXcgQmFzZVV0aWwoJ3dvcmtmbG93JywgdGhpcywgdGhpcy5vblVwZGF0ZVVJKTtcclxuICAgIEFDTFV0aWxzLmFubm91bmNlVmVyc2lvbigpO1xyXG4gICAgdGhpcy5sYW5nQ29kZSA9IHRoaXMubGFuZ0NvZGUgfHwgJ2VuLXVzJztcclxuICAgIEJhUmVwb3J0c0xhbmd1YWdlLl9pbml0aWFsaXplKHRoaXMubGFuZ0NvZGUpO1xyXG4gICAgdGhpcy5zZXRMb2NhbGVTdHJpbmdzKCk7XHJcbiAgICB0aGlzLnNvdXJjZUNvdW50cnkgPSB0aGlzLnNvdXJjZUNvdW50cnkgfHwgJ1VTJztcclxuICAgIHRoaXMuYmFzZUNvbmZpZy51cGRhdGVMb2NhbGVTZXR0aW5ncyh7IGxhbmd1YWdlOiB0aGlzLmxhbmdDb2RlLCBjb3VudHJ5OiB0aGlzLnNvdXJjZUNvdW50cnkgfSk7XHJcbiAgfVxyXG4gIG9uRW52Q2hhbmdlZCgpIHtcclxuICAgIEVudmlyb25tZW50cy5zZXRFbnZpcm9ubWVudCh0aGlzLmVudik7XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIC8vIHVwZGF0ZXMgY29uZmlnIGFuZCBzdWItY29tcG9uZW50IGNvbmZpZ3NcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IGVudjogdGhpcy5lbnYgfSwgbnVsbCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uVG9rZW5DaGFuZ2VkKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJyVjIHdvcmtmbG93OiB0b2tlbiBjaGFuZ2VkJywgJ2NvbG9yOm9yYW5nZTtmb250LXNpemU6OHB0JywgdGhpcy50b2tlbilcclxuICAgIGNvbnN0IHQgPSB0aGlzLnRva2VuO1xyXG4gICAgY29uc3QgdSA9IHRoaXMuYmFzZUNvbmZpZz8uY29uZmlnPy51c2VybmFtZTtcclxuICAgIGlmICh0ICYmIEFDTFV0aWxzLmhhc1RleHQodCkgJiYgdSAmJiBBQ0xVdGlscy5oYXNUZXh0KHUpKSB7XHJcbiAgICAgIFRva2VuUHJvdmlkZXIuc2V0VG9rZW4odSwgdCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIHRoaXMuYmFzZUNvbmZpZy51cGRhdGVDb25maWcoeyB0b2tlbjogdGhpcy50b2tlbiB9LCBudWxsKTtcclxuICAgIH1cclxuICB9XHJcbiAgb25Vc2VybmFtZUNoYW5nZWQoKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnJWMgd29ya2Zsb3c6IHVzZXJuYW1lIGNoYW5nZWQnLCAnY29sb3I6b3JhbmdlO2ZvbnQtc2l6ZTo4cHQnLCB0aGlzLnVzZXJuYW1lKVxyXG4gICAgY29uc3QgdSA9IHRoaXMudXNlcm5hbWU7XHJcbiAgICBjb25zdCB0ID0gdGhpcy5iYXNlQ29uZmlnPy5jb25maWc/LnRva2VuO1xyXG4gICAgaWYgKHQgJiYgQUNMVXRpbHMuaGFzVGV4dCh0KSAmJiB1ICYmIEFDTFV0aWxzLmhhc1RleHQodSkpIHtcclxuICAgICAgVG9rZW5Qcm92aWRlci5zZXRUb2tlbih1LCB0KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmJhc2VDb25maWcpIHtcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbkxhbmdDb2RlQ2hhbmdlZCgpIHtcclxuICAgIGlmICh0aGlzLmJhc2VDb25maWcpIHtcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IGxhbmdDb2RlOiB0aGlzLmxhbmdDb2RlIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvbkdlb2VucmljaG1lbnRVcmxDaGFuZ2VkKCkge1xyXG4gICAgaWYgKHRoaXMuYmFzZUNvbmZpZykge1xyXG4gICAgICB0aGlzLmJhc2VDb25maWcudXBkYXRlQ29uZmlnKHsgZ2VvZW5yaWNobWVudFVybDogdGhpcy5nZW9lbnJpY2htZW50VXJsIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvblNvdXJjZUNvdW50cnlDaGFuZ2VkKCkge1xyXG4gICAgaWYgKHRoaXMuYmFzZUNvbmZpZykge1xyXG4gICAgICB0aGlzLmJhc2VDb25maWcudXBkYXRlQ29uZmlnKHsgc291cmNlQ291bnRyeTogdGhpcy5zb3VyY2VDb3VudHJ5IH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZXRMb2NhbGVTdHJpbmdzKCkge1xyXG4gICAgdGhpcy5sYWJlbHMgPSB7XHJcbiAgICAgIGJhY2s6IEJhUmVwb3J0c0xhbmd1YWdlLmkxOG4oJ2JhY2snKSxcclxuICAgICAgbmV4dDogQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bignbmV4dCcpLFxyXG4gICAgICBydW5JbmZvZ3JhcGhpYzogQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bigncnVuLWluZm9ncmFwaGljJylcclxuICAgIH07XHJcbiAgfVxyXG4gIC8vIEJhc2VVdGlsIGNvbmZpZy1jaGFuZ2VkIHJlbmRlciBjYWxsYmFja1xyXG4gIG9uVXBkYXRlVUkoKSB7XHJcbiAgICB0aGlzLmFwcGx5U3R5bGVzKCk7XHJcbiAgfVxyXG4gIGFwcGx5U3R5bGVzKCkge1xyXG4gICAgaWYgKHRoaXMuYmFzZUNvbmZpZz8uY29uZmlnPy5jb2xvcnMgJiYgT2JqZWN0LmtleXModGhpcy5iYXNlQ29uZmlnLmNvbmZpZy5jb2xvcnMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgYyA9IHRoaXMuYmFzZUNvbmZpZy5jb25maWcuY29sb3JzO1xyXG4gICAgICBjb25zdCBzdGVwcGVyT3V0ZXIgPSBBQ0xVdGlscy5xdWVyeUVsZW1lbnQuY2FsbCh0aGlzLCAnY2FsY2l0ZS1zdGVwcGVyJyk7XHJcbiAgICAgIGlmIChzdGVwcGVyT3V0ZXIpIHtcclxuICAgICAgICBpZiAoJ3N0eWxlJyBpbiBzdGVwcGVyT3V0ZXIpIHtcclxuICAgICAgICAgIHN0ZXBwZXJPdXRlci5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2FsY2l0ZS11aS1icmFuZFwiLCBjLmJyYW5kKTtcclxuICAgICAgICAgIHN0ZXBwZXJPdXRlci5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2FsY2l0ZS11aS1iYWNrZ3JvdW5kLTFcIiwgYy5iYWNrZ3JvdW5kKTtcclxuICAgICAgICAgIHN0ZXBwZXJPdXRlci5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2FsY2l0ZS11aS1mb3JlZ3JvdW5kLTFcIiwgYy5mb3JlZ3JvdW5kKTtcclxuICAgICAgICAgIC8vIChzdGVwcGVyT3V0ZXIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYWxjaXRlLXVpLWZvcmVncm91bmQtM1wiLCBjLmJyYW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RlcHBlck91dGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYWxjaXRlLXN0ZXBwZXItaXRlbVwiKS5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgaWYgKG5vZGUuc2hhZG93Um9vdCkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gbm9kZS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuc3RlcHBlci1pdGVtLWhlYWRlclwiKTtcclxuICAgICAgICAgICAgaWYgKGhlYWRlciAmJiAnc3R5bGUnIGluIGhlYWRlcikge1xyXG4gICAgICAgICAgICAgIGhlYWRlci5zdHlsZS5zZXRQcm9wZXJ0eShcImhlaWdodFwiLCBcIjE4cHhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBuYXZPdXRlciA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudC5jYWxsKHRoaXMsICdkaXYud2YtbGF5b3V0LWJ1dHRvbnMnKTtcclxuICAgICAgaWYgKG5hdk91dGVyKSB7XHJcbiAgICAgICAgbmF2T3V0ZXIucXVlcnlTZWxlY3RvckFsbChcImNhbGNpdGUtYnV0dG9uXCIpLmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgICAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XHJcbiAgICAgICAgICAgIGxldCBidXR0b24gPSBub2RlLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbikge1xyXG4gICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tY2FsY2l0ZS11aS1icmFuZFwiLCBjLmJyYW5kKTtcclxuICAgICAgICAgICAgICBidXR0b24uc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhbGNpdGUtdWktYnJhbmQtaG92ZXJcIiwgYy5icmFuZCk7XHJcbiAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLnNldFByb3BlcnR5KFwiLS1jYWxjaXRlLXVpLWJyYW5kLXByZXNzXCIsIGMuYnJhbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgd2ZPdXRlciA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudC5jYWxsKHRoaXMsICdkaXYud2YtbGF5b3V0LW91dGVyJyk7XHJcbiAgICAgIGlmICh3Zk91dGVyKSB7XHJcbiAgICAgICAgd2ZPdXRlci5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtY29sb3JcIiwgYy5iYWNrZ3JvdW5kKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBfbG9hZEluc3RhbmNlcygpIHtcclxuICAgIGlmICghdGhpcy5faW5zdGFuY2VJZCkge1xyXG4gICAgICBjb25zdCBlaWQgPSBFbGVtZW50SWRzLmdlbmVyYXRlSWQodGhpcy5faWRQcmVmaXgpO1xyXG4gICAgICB0aGlzLl9pbnN0YW5jZUlkID0gZWlkLmlkO1xyXG4gICAgICB0aGlzLl9pbnN0YW5jZUlkTnVtYmVyID0gZWlkLmNvdW50ZXIudG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGlmICghdGhpcy5fc2VhcmNoU3RlcElkKVxyXG4gICAgICB0aGlzLl9zZWFyY2hTdGVwSWQgPSBFbGVtZW50SWRzLmdlbmVyYXRlSWQodGhpcy5faWRQcmVmaXhTZWFyY2gpLmlkO1xyXG4gICAgaWYgKCF0aGlzLl9idWZmZXJTdGVwSWQpXHJcbiAgICAgIHRoaXMuX2J1ZmZlclN0ZXBJZCA9IEVsZW1lbnRJZHMuZ2VuZXJhdGVJZCh0aGlzLl9pZFByZWZpeEJ1ZmZlcikuaWQ7XHJcbiAgICBpZiAoIXRoaXMuX2luZm9ncmFwaGljU3RlcElkKVxyXG4gICAgICB0aGlzLl9pbmZvZ3JhcGhpY1N0ZXBJZCA9IEVsZW1lbnRJZHMuZ2VuZXJhdGVJZCh0aGlzLl9pZFByZWZpeEluZm9ncmFwaGljKS5pZDtcclxuICB9XHJcbiAgLy8gU3RlbmNpbCBsaWZlY3ljbGUgLSBjYWxsZWQgb25jZSBhZnRlciBjb21wb25lbnQgaXMgZmlyc3QgY29ubmVjdGVkIHRvIHRoZSBET01cclxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcclxuICAgIEFDTFV0aWxzLmFubm91bmNlVmVyc2lvbigpO1xyXG4gICAgLy8gTG9hZCBwcm9wcyB0aGF0IG1heSBoYXZlIHZhbHVlcyBidXQgbm8gV2F0Y2hlcyBoYXZlIHRyaWdnZXJlZCB5ZXRcclxuICAgIGlmICh0aGlzLmVudikge1xyXG4gICAgICB0aGlzLm9uRW52Q2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudG9rZW4pIHtcclxuICAgICAgdGhpcy5vblRva2VuQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudXNlcm5hbWUpIHtcclxuICAgICAgdGhpcy5vblVzZXJuYW1lQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubGFuZ0NvZGUpIHtcclxuICAgICAgdGhpcy5vbkxhbmdDb2RlQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZ2VvZW5yaWNobWVudFVybCkge1xyXG4gICAgICB0aGlzLm9uR2VvZW5yaWNobWVudFVybENoYW5nZWQoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnNvdXJjZUNvdW50cnkpIHtcclxuICAgICAgdGhpcy5vblNvdXJjZUNvdW50cnlDaGFuZ2VkKCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jb25maWcpIHtcclxuICAgICAgdGhpcy5vbkNvbmZpZ0NoYW5nZSh0aGlzLmNvbmZpZywgJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudGhlbWUpIHtcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnNldFRoZW1lKHRoaXMudGhlbWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuYmFzZUNvbmZpZy5zZXRUaGVtZSgnbGlnaHQnKTtcclxuICAgIH1cclxuICAgIC8vIFNldCBpZiBQb3JhdGwgVXJsIHdhcyBvcHRpb25hbGx5IHBhc3NlZCBpblxyXG4gICAgaWYgKHRoaXMucG9ydGFsVXJsKSB7XHJcbiAgICAgIEVudmlyb25tZW50cy5zZXRQb3J0YWxVcmwodGhpcy5wb3J0YWxVcmwpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbG9hZEluc3RhbmNlcygpO1xyXG4gICAgdGhpcy5pbml0U3RlcHMoKTtcclxuICAgIHRoaXMuYnVpbGRJbmZvZ3JhcGhpY09wdGlvbnMoKTtcclxuICAgIHRoaXMudXBkYXRlVGFiU3RhdHVzZXMoKTtcclxuICAgIC8vIGlmICghdGhpcy5iYXNlQ29uZmlnLmhhc1N1YkNvbXBvbmVudHMoKSkge1xyXG4gICAgLy8gICAvLyBhZGQgdGhlIHdvcmtmbG93IHN1YiBjb21wb25lbnRzIGZvciBjb25maWcgdXBkYXRlc1xyXG4gICAgLy8gICB0aGlzLmJhc2VDb25maWcuYWRkU3ViQ29tcG9uZW50cyhbdGhpcy5fc2VhcmNoU3RlcElkLCB0aGlzLl9idWZmZXJTdGVwSWQsIHRoaXMuX2luZm9ncmFwaGljU3RlcElkXSk7XHJcbiAgICAvLyB9XHJcbiAgfVxyXG4gIC8vIFN0ZW5jaWwgbGlmZWN5Y2xlIC0gY2FsbGVkIG9uY2UgYWZ0ZXIgY29tcG9uZW50IGlzIGZ1bGx5IGxvYWRlZCBhbmQgMXN0IHJlbmRlciBvY2N1cnJlZFxyXG4gIGNvbXBvbmVudERpZExvYWQoKSB7XHJcbiAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgIGlmICh0aGlzLl9kYmcpIHtcclxuICAgICAgY29uc29sZS5sb2coJyVjIHdvcmtmbG93IGNvbXBvbmVudERpZExvYWQnLCAnZm9udC1zaXplOjhwdDtjb2xvcjpvcmFuZ2U7Jyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9sb2FkSW5zdGFuY2VzKCk7XHJcbiAgICBjb25zdCBjZmcgPSBzZWxmLmJhc2VDb25maWcuY29uZmlnO1xyXG4gICAgVG9rZW5Qcm92aWRlci5zZXRUb2tlbihjZmcudXNlcm5hbWUsIGNmZy50b2tlbik7XHJcbiAgICBpZiAoIWNmZy5fbG9jYWxlU2V0dGluZ3MpIHtcclxuICAgICAgY2ZnLl9sb2NhbGVTZXR0aW5ncyA9IHt9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFjZmcuX2xvY2FsZVNldHRpbmdzLmxhbmd1YWdlIHx8IGNmZy5fbG9jYWxlU2V0dGluZ3MubGFuZ3VhZ2UubGVuZ3RoIDw9IDAgfHwgKGNmZy5fbG9jYWxlU2V0dGluZ3MubGFuZ3VhZ2UgIT09IGNmZy5sYW5nQ29kZSAmJiBjZmcubGFuZ0NvZGUpKSB7XHJcbiAgICAgIGNmZy5fbG9jYWxlU2V0dGluZ3MubGFuZ3VhZ2UgPSBjZmcubGFuZ0NvZGUgfHwgJ2VuLXVzJzsgLy8gcmVzZXQgdG8gZGVmYXVsdFxyXG4gICAgICBCYVJlcG9ydHNMYW5ndWFnZS5faW5pdGlhbGl6ZShjZmcuX2xvY2FsZVNldHRpbmdzLmxhbmd1YWdlKTtcclxuICAgICAgc2VsZi5zZXRMb2NhbGVTdHJpbmdzKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2VsZi5iYXNlQ29uZmlnKSB7XHJcbiAgICAgIHNlbGYuYmFzZUNvbmZpZy5vbkNvbXBvbmVudEhhc1JlbmRlcmVkKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFN0ZW5jaWwgbGlmZWN5Y2xlIC0gY2FsbGVkIGp1c3QgYWZ0ZXIgY29tcG9uZW50IHVwZGF0ZXMsIGJ1dCBub3QgY2FsbGVkIGR1cmluZyBmaXJzdCByZW5kZXIoKVxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIG5ld1Byb3BzKSB7XHJcbiAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgIC8vIGNvbnNvbGUubG9nKCclYyB3b3JrZmxvdyBkaWRVcGRhdGUnLCAnZm9udC1zaXplOjhwdDtjb2xvcjpvcmFuZ2U7JylcclxuICAgIGNvbnN0IGNmZyA9IHNlbGYuYmFzZUNvbmZpZy5jb25maWc7XHJcbiAgICBUb2tlblByb3ZpZGVyLnNldFRva2VuKGNmZy51c2VybmFtZSwgY2ZnLnRva2VuKTtcclxuICAgIGlmICghY2ZnLl9sb2NhbGVTZXR0aW5ncykge1xyXG4gICAgICBjZmcuX2xvY2FsZVNldHRpbmdzID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAoIWNmZy5fbG9jYWxlU2V0dGluZ3MubGFuZ3VhZ2UgfHwgY2ZnLl9sb2NhbGVTZXR0aW5ncy5sYW5ndWFnZS5sZW5ndGggPD0gMCB8fCAoY2ZnLl9sb2NhbGVTZXR0aW5ncy5sYW5ndWFnZSAhPT0gY2ZnLmxhbmdDb2RlICYmIGNmZy5sYW5nQ29kZSkpIHtcclxuICAgICAgY2ZnLl9sb2NhbGVTZXR0aW5ncy5sYW5ndWFnZSA9IGNmZy5sYW5nQ29kZSB8fCAnZW4tdXMnOyAvLyByZXNldCB0byBkZWZhdWx0XHJcbiAgICAgIEJhUmVwb3J0c0xhbmd1YWdlLl9pbml0aWFsaXplKGNmZy5fbG9jYWxlU2V0dGluZ3MubGFuZ3VhZ2UpO1xyXG4gICAgICBzZWxmLnNldExvY2FsZVN0cmluZ3MoKTtcclxuICAgIH1cclxuICAgIGlmIChwcmV2UHJvcHMgIT0gbmV3UHJvcHMpIHtcclxuICAgICAgdGhpcy5idWlsZEluZm9ncmFwaGljT3B0aW9ucygpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlbGYuYmFzZUNvbmZpZykge1xyXG4gICAgICBzZWxmLmJhc2VDb25maWcub25Db21wb25lbnRIYXNSZW5kZXJlZCgpO1xyXG4gICAgfVxyXG4gICAgLy90aGlzLmluaXRUYWJOdW1iZXJzKClcclxuICB9XHJcbiAgb25Db25maWdDaGFuZ2UobmV3Q29uZmlnLCBvbGRDb25maWcpIHtcclxuICAgIGlmICh0aGlzLmJhc2VDb25maWcpIHtcclxuICAgICAgbGV0IGNoYW5nZWQgPSBbXTtcclxuICAgICAgaWYgKG5ld0NvbmZpZyAmJiBBQ0xVdGlscy5oYXNUZXh0KG5ld0NvbmZpZykpIHtcclxuICAgICAgICBjb25zdCBuZXdDZmcgPSBKU09OLnBhcnNlKG5ld0NvbmZpZyk7XHJcbiAgICAgICAgY29uc3Qgb2xkQ2ZnID0gKG9sZENvbmZpZyAmJiBBQ0xVdGlscy5oYXNUZXh0KG9sZENvbmZpZykpID8gSlNPTi5wYXJzZShvbGRDb25maWcpIDogbnVsbDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnJWMgQkFDIFdvcmtmbG93IGNvbmZpZyBjaGFuZ2VkJywgJ2NvbG9yOmdyZWVuO2ZvbnQtZmFtaWx5OnZlcmRhbmE7Zm9udC1zaXplOjlwdDsnLCB0aGlzLmJhc2VDb25maWcuY29uZmlnKVxyXG4gICAgICAgIGNoYW5nZWQgPSB0aGlzLmJhc2VDb25maWcudXBkYXRlQ29uZmlnKG5ld0NmZywgb2xkQ2ZnKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoY2hhbmdlZC5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgKGNoYW5nZWQuaW5jbHVkZXMoJ3dvcmtmbG93RW5hYmxlU2VhcmNoJykgfHxcclxuICAgICAgICAgIGNoYW5nZWQuaW5jbHVkZXMoJ3dvcmtmbG93RW5hYmxlVXNlckNvbmZpZ0J1ZmZlcnMnKSB8fFxyXG4gICAgICAgICAgY2hhbmdlZC5pbmNsdWRlcygnd29ya2Zsb3dFbmFibGVJbmZvZ3JhcGhpY0Nob2ljZScpIHx8XHJcbiAgICAgICAgICBjaGFuZ2VkLmluY2x1ZGVzKCd3b3JrZmxvd1NlYXJjaFNlbGVjdGVkT2JqZWN0JykgfHxcclxuICAgICAgICAgIGNoYW5nZWQuaW5jbHVkZXMoJ3dvcmtmbG93U2VsZWN0ZWRSZXBvcnQnKSkpIHtcclxuICAgICAgICB0aGlzLmluaXRTdGVwcygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGFiU3RhdHVzZXMoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBvbnNlYXJjaFJlc3VsdENoYW5nZShuZXdTZWxlY3RlZEZlYXR1cmVSZXN1bHQpIHtcclxuICAgIHRoaXMuc2VhcmNoUmVzdWx0T2JqQ2hhbmdlZChKU09OLnBhcnNlKG5ld1NlbGVjdGVkRmVhdHVyZVJlc3VsdCkpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2FyY2dpcy1pbmZvZ3JhcGhpYy13b3JrZmxvdyBTZWxlY3RlZCBGZWF0dXJlIGNoYW5nZWQ6JywgbmV3U2VsZWN0ZWRGZWF0dXJlUmVzdWx0KTtcclxuICAgIC8vIFRPRE86IGltcGxlbWVudGF0aW9uXHJcbiAgfVxyXG4gIHNlYXJjaFJlc3VsdE9iakNoYW5nZWQoZGF0YSkge1xyXG4gICAgLy8gSWYgc2VhcmNoUmVzdWx0T2JqZWN0IGlzIGJlaW5nIGNsZWFyZWQsIGVtaXQgY2xlYXIgZXZlbnRcclxuICAgIGlmIChKU09OLnN0cmluZ2lmeSh0aGlzLnNlYXJjaFJlc3VsdE9iaikgIT09ICd7fScgJiYgSlNPTi5zdHJpbmdpZnkoZGF0YS5kZXRhaWwpID09PSAne30nKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRGZWF0dXJlQ2xlYXIuZW1pdCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZWFyY2hSZXN1bHRPYmogPSBkYXRhLmRldGFpbDtcclxuICAgIHRoaXMuaW5pdFN0ZXBzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVRhYlN0YXR1c2VzKCk7XHJcbiAgfVxyXG4gIHNlYXJjaFJlc3VsdHNFdmVudEhhbmRsZXIoZSkge1xyXG4gICAgdGhpcy5iYVNlYXJjaEZlYXR1cmVDaGFuZ2UuZW1pdChlKTtcclxuICB9XHJcbiAgbW9kYWxDbG9zZWQoKSB7XHJcbiAgICB0aGlzLm1vZGFsT3BlbmVkID0gZmFsc2U7XHJcbiAgfVxyXG4gIG9uQnVmZmVyVHlwZUNoYW5nZWQoZXZlbnQpIHtcclxuICAgIHRoaXMuYnVmZmVyVHlwZSA9IGV2ZW50LmRldGFpbDtcclxuICAgIHRoaXMuYnVpbGRJbmZvZ3JhcGhpY09wdGlvbnMoKTtcclxuICB9XHJcbiAgb25CdWZmZXJWYWxzQ2hhbmdlZChldmVudCkge1xyXG4gICAgdGhpcy5idWZmZXJWYWxzID0gZXZlbnQuZGV0YWlsO1xyXG4gICAgdGhpcy5idWlsZEluZm9ncmFwaGljT3B0aW9ucygpO1xyXG4gIH1cclxuICBvbkJ1ZmZlclVuaXRDaGFuZ2VkKGV2ZW50KSB7XHJcbiAgICB0aGlzLmJ1ZmZlclVuaXQgPSBldmVudC5kZXRhaWw7XHJcbiAgICB0aGlzLmJ1aWxkSW5mb2dyYXBoaWNPcHRpb25zKCk7XHJcbiAgfVxyXG4gIGhhbmRsZVN0ZXBwZXJJdGVtQ2xpY2soKSB7XHJcbiAgICBjb25zdCBzdGVwcGVyID0gdGhpcy5lbC5zaGFkb3dSb290Py5xdWVyeVNlbGVjdG9yKCdjYWxjaXRlLXN0ZXBwZXInKTtcclxuICAgIGlmIChzdGVwcGVyKSB7XHJcbiAgICAgIGNvbnN0IHN0ZXBwZXJJdGVtcyA9IEFycmF5LmZyb20oc3RlcHBlci5xdWVyeVNlbGVjdG9yQWxsKCdjYWxjaXRlLXN0ZXBwZXItaXRlbScpKTtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHN0ZXBwZXJJdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnNlbGVjdGVkKTtcclxuICAgICAgaWYgKHNlbGVjdGVkSW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3RlcCA9IHNlbGVjdGVkSW5kZXggKyAxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGhhbmRsZVJlcG9ydFNlbGVjdGVkQ2hhbmdlKGV2ZW50KSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkUmVwb3J0ID0gZXZlbnQuZGV0YWlsLnJlcG9ydC5pZDtcclxuICB9XHJcbiAgaGFuZGxlRHJhd1BvaW50Q2xpY2soKSB7XHJcbiAgICB0aGlzLmRyYXdQb2ludENsaWNrLmVtaXQoKTtcclxuICB9XHJcbiAgaGFuZGxlRHJhd1BvbHlnb25DbGljaygpIHtcclxuICAgIHRoaXMuZHJhd1BvbHlnb25DbGljay5lbWl0KCk7XHJcbiAgfVxyXG4gIHVwZGF0ZUJ1ZmZlck9iaihvYmosIGtleSwgdmFsdWUpIHtcclxuICAgIGlmIChbJ3JpbmdzT2JqJywgJ3dhbGt0aW1lT2JqJywgJ2RyaXZldGltZU9iaiddLmluY2x1ZGVzKG9iaikpIHtcclxuICAgICAgdGhpc1tvYmpdID0geyAuLi4odGhpc1tvYmpdKSwgW2tleV06IHZhbHVlIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBzdGF0ZSB2YXJpYWJsZTonLCBvYmopO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyAgIEBNZXRob2QoKVxyXG4gIC8vIGFzeW5jIHNldENvbG9ycyhjb2xvcnM6IENvbG9yVHlwZXMpIHtcclxuICAvLyAgIHRoaXMuY29sb3JzID0gY29sb3JzO1xyXG4gIC8vICAgdGhpcy5iYXNlQ29uZmlnLnN5bmNDb25maWdGcm9tUHJvcHMoKTtcclxuICAvLyB9XHJcbiAgLy8gVGhlbWUgbWF5IGJlIGFueSBvZiB0aGVzZTogICAxLCBcIjFcIiwgXCJsaWdodFwiLCAyLCBcIjJcIiwgXCJkYXJrXCJcclxuICBhc3luYyBzZXRUaGVtZSh0aGVtZSkge1xyXG4gICAgdGhpcy5iYXNlQ29uZmlnLnNldFRoZW1lKHRoZW1lKTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogc2V0QWN0aXZlTGV2ZWxzXHJcbiAgICogICAgU2V0cyB0aGUgZ2VvZ3JhcGh5IGxldmVscyB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkL2Rpc3BsYXllZFxyXG4gICAqICAgIGluIHRoZSBzZWFyY2gtc3RlcCBiYS1zZWFyY2ggY29tcG9uZW50XHJcbiAgICpcclxuICAgKiAgICBUaGlzIGFjY2VwdHMgZ2VvZ3JhcGh5IGxldmVsICduYW1lcycgYnV0IHRoZW4gdHJhY2tzIHRoZVxyXG4gICAqICAgIGxldmVsIHVzaW5nIHRoZSBsZXZlbCAnaWQnIGludGVybmFsbHlcclxuICAgKlxyXG4gICAqICAgIFBhc3NpbmcgJ25hbWVzJyB3aXRoIGVtcHR5IGFycmF5IHdpbGwgZW5hYmxlIGFsbCBsZXZlbHNcclxuICAgKiAgICBFeGFtcGxlOiBbJ1VTLlN0YXRlcycsJ1VTLlpJUDUnLCAnVVMuUGxhY2VzJ11cclxuICAgKiAgICBUaGUgZXhhbXBsZSBhcnJheSB3aWxsIG9ubHkgc2hvdyB0aG9zZSAzIGxldmVsc1xyXG4gICAqL1xyXG4gIGFzeW5jIHNldEFjdGl2ZUxldmVscyhuYW1lcykge1xyXG4gICAgLy8gLy8gZmluZCB0aGUgc2VhcmNoLXN0ZXBcclxuICAgIC8vIGNvbnN0IHN0ZXBJZCA9ICd3b3JrZmxvdy1zZWFyY2gtc3RlcCcgKyB0aGlzLl9pbnN0YW5jZUlkTnVtYmVyXHJcbiAgICBjb25zdCBzZWFyY2hTdGVwRWxlbSA9IEFDTFV0aWxzLnF1ZXJ5RWxlbWVudEJ5SWQuY2FsbCh0aGlzLCB0aGlzLl9zZWFyY2hTdGVwSWQpO1xyXG4gICAgaWYgKHNlYXJjaFN0ZXBFbGVtKSB7XHJcbiAgICAgIHNlYXJjaFN0ZXBFbGVtLnNldEFjdGl2ZUxldmVscyhuYW1lcyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIFN0ZXBwZXIgTWV0aG9kc1xyXG4gIGluaXRTdGVwcygpIHtcclxuICAgIGNvbnN0IHsgd29ya2Zsb3dFbmFibGVTZWFyY2gsIHdvcmtmbG93RW5hYmxlVXNlckNvbmZpZ0J1ZmZlcnMsIHdvcmtmbG93RW5hYmxlSW5mb2dyYXBoaWNDaG9pY2UsIHdvcmtmbG93U2VhcmNoU2VsZWN0ZWRPYmplY3QsIHdvcmtmbG93U2VsZWN0ZWRSZXBvcnQgfSA9IHRoaXMuYmFzZUNvbmZpZy5jb25maWc7XHJcbiAgICBpZiAoIXdvcmtmbG93RW5hYmxlU2VhcmNoICYmIEFDTFV0aWxzLmhhc1RleHQod29ya2Zsb3dTZWFyY2hTZWxlY3RlZE9iamVjdCkgJiYgQUNMVXRpbHMuaXNFbXB0eU9iamVjdCh0aGlzLnNlYXJjaFJlc3VsdE9iaikpIHtcclxuICAgICAgdGhpcy5zZWFyY2hSZXN1bHRPYmogPSBKU09OLnBhcnNlKHdvcmtmbG93U2VhcmNoU2VsZWN0ZWRPYmplY3QpO1xyXG4gICAgfVxyXG4gICAgaWYgKCF3b3JrZmxvd0VuYWJsZUluZm9ncmFwaGljQ2hvaWNlICYmIEFDTFV0aWxzLmhhc1RleHQod29ya2Zsb3dTZWxlY3RlZFJlcG9ydCkpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFJlcG9ydCA9IHdvcmtmbG93U2VsZWN0ZWRSZXBvcnQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkU3RlcHMgPSBbXTtcclxuICAgIGlmICh3b3JrZmxvd0VuYWJsZVNlYXJjaCkge1xyXG4gICAgICB1cGRhdGVkU3RlcHMucHVzaChTdGVwVmFsdWVzLnNlYXJjaCk7XHJcbiAgICB9XHJcbiAgICBpZiAod29ya2Zsb3dFbmFibGVVc2VyQ29uZmlnQnVmZmVycyAmJiAoQUNMVXRpbHMuaXNFbXB0eU9iamVjdCh0aGlzLnNlYXJjaFJlc3VsdE9iaikgfHwgKCFBQ0xVdGlscy5pc0VtcHR5T2JqZWN0KHRoaXMuc2VhcmNoUmVzdWx0T2JqKSAmJiB0aGlzLnNlYXJjaFJlc3VsdE9iai50eXBlID09PSAnbG9jYXRpb24nKSkpIHtcclxuICAgICAgdXBkYXRlZFN0ZXBzLnB1c2goU3RlcFZhbHVlcy5idWZmZXJzKTtcclxuICAgIH1cclxuICAgIGlmICh3b3JrZmxvd0VuYWJsZUluZm9ncmFwaGljQ2hvaWNlKSB7XHJcbiAgICAgIHVwZGF0ZWRTdGVwcy5wdXNoKFN0ZXBWYWx1ZXMuaW5mb2dyYXBoaWNzKTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RlcHMgPSB1cGRhdGVkU3RlcHM7XHJcbiAgICB0aGlzLm51bVN0ZXBzID0gdXBkYXRlZFN0ZXBzLmxlbmd0aDtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubnVtU3RlcHMpXHJcbiAgICB0aGlzLmdvVG9GaXJzdFN0ZXAoKTtcclxuICB9XHJcbiAgLy8gaW5pdFRhYk51bWJlcnMoKSB7XHJcbiAgLy8gICBpZiAodGhpcy5zaG93VGFiTnVtYmVycyAmJiB0aGlzLm51bVN0ZXBzID09PSAxKSB7XHJcbiAgLy8gICAgIHRoaXMuc2hvd1RhYk51bWJlcnMgPSBmYWxzZVxyXG4gIC8vICAgfSBlbHNlIGlmICghdGhpcy5zaG93VGFiTnVtYmVycyAmJiB0aGlzLm51bVN0ZXBzID4gMSkge1xyXG4gIC8vICAgICB0aGlzLnNob3dUYWJOdW1iZXJzID0gdHJ1ZVxyXG4gIC8vICAgfVxyXG4gIC8vIH1cclxuICBoYW5kbGVOZXh0QnV0dG9uQ2xpY2soKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRTdGVwID0gTWF0aC5taW4odGhpcy5jdXJyZW50U3RlcCArIDEsIHRoaXMubnVtU3RlcHMpO1xyXG4gICAgdGhpcy5yZW5kZXJCdWZmZXJzKCk7XHJcbiAgICAvL2lmICh0aGlzLmN1cnJlbnRTdGVwIDwgdGhpcy5udW1TdGVwcylcclxuICAgIHRoaXMuZ29Ub1N0ZXAodGhpcy5jdXJyZW50U3RlcCk7XHJcbiAgICAvL3RoaXMuZ29Ub05leHRTdGVwKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVRhYlN0YXR1c2VzKCk7XHJcbiAgfVxyXG4gIGhhbmRsZUJhY2tCdXR0b25DbGljaygpIHtcclxuICAgIHRoaXMuY3VycmVudFN0ZXAgPSBNYXRoLm1heCh0aGlzLmN1cnJlbnRTdGVwIC0gMSwgMSk7XHJcbiAgICAvL2lmICh0aGlzLmN1cnJlbnRTdGVwID4gMClcclxuICAgIHRoaXMuZ29Ub1ByZXZTdGVwKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVRhYlN0YXR1c2VzKCk7XHJcbiAgfVxyXG4gIGhhbmRsZUluZm9ncmFwaGljVGFiQ2xpY2soKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnY2xpY2tlZCcpXHJcbiAgICB0aGlzLmluZm9ncmFwaGljVGFiVmlld2VkID0gdHJ1ZTtcclxuICAgIHRoaXMudXBkYXRlVGFiU3RhdHVzZXMoKTtcclxuICB9XHJcbiAgZ29Ub1N0ZXAoc3RlcEluZGV4KSB7XHJcbiAgICBjb25zdCBzdGVwcGVyID0gdGhpcy5lbC5zaGFkb3dSb290Py5xdWVyeVNlbGVjdG9yKCdjYWxjaXRlLXN0ZXBwZXInKTtcclxuICAgIGlmIChzdGVwcGVyKSB7XHJcbiAgICAgIHN0ZXBwZXIuZ29Ub1N0ZXAoc3RlcEluZGV4KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmVuZGVyQnVmZmVycyhmb3JjZUV2ZW50ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHN0ZXBOYW1lID0gdGhpcy5zdGVwc1tNYXRoLm1heCh0aGlzLmN1cnJlbnRTdGVwIC0gMiwgMCldO1xyXG4gICAgLy8gVHJpZ2dlciBldmVudCB3aGVuIGJ1ZmZlcnMgYXJlIHNwZWNpZmllZCBzbyB3ZSBjYW4gcmVuZGVyIG9uIG1hcFxyXG4gICAgaWYgKHN0ZXBOYW1lID09PSBTdGVwVmFsdWVzLmJ1ZmZlcnMgfHwgKCF0aGlzLnN0ZXBzLmluY2x1ZGVzKFN0ZXBWYWx1ZXMuYnVmZmVycykgJiYgc3RlcE5hbWUgPT09IFN0ZXBWYWx1ZXMuc2VhcmNoKSB8fCBmb3JjZUV2ZW50KSB7XHJcbiAgICAgIHRoaXMuYnVpbGRJbmZvZ3JhcGhpY09wdGlvbnMoKTtcclxuICAgICAgdGhpcy5idWZmZXJzVXBkYXRlLmVtaXQoeyBvcHRpb25zOiB0aGlzLmJhc2VDb25maWcuY29uZmlnLmluZm9ncmFwaGljT3B0aW9ucywgc2VhcmNoUmVzdWx0T2JqOiB0aGlzLnNlYXJjaFJlc3VsdE9iaiB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgZ29Ub05leHRTdGVwKCkge1xyXG4gICAgY29uc3Qgc3RlcHBlciA9IHRoaXMuZWwuc2hhZG93Um9vdD8ucXVlcnlTZWxlY3RvcignY2FsY2l0ZS1zdGVwcGVyJyk7XHJcbiAgICBpZiAoc3RlcHBlcikge1xyXG4gICAgICBzdGVwcGVyLm5leHRTdGVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdvVG9QcmV2U3RlcCgpIHtcclxuICAgIGNvbnN0IHN0ZXBwZXIgPSB0aGlzLmVsLnNoYWRvd1Jvb3Q/LnF1ZXJ5U2VsZWN0b3IoJ2NhbGNpdGUtc3RlcHBlcicpO1xyXG4gICAgaWYgKHN0ZXBwZXIpIHtcclxuICAgICAgc3RlcHBlci5wcmV2U3RlcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnb1RvRmlyc3RTdGVwKCkge1xyXG4gICAgY29uc3Qgc3RlcHBlciA9IHRoaXMuZWwuc2hhZG93Um9vdD8ucXVlcnlTZWxlY3RvcignY2FsY2l0ZS1zdGVwcGVyJyk7XHJcbiAgICBpZiAoc3RlcHBlcikge1xyXG4gICAgICBzdGVwcGVyLnN0YXJ0U3RlcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBnb1RvTGFzdFN0ZXAoKSB7XHJcbiAgICBjb25zdCBzdGVwcGVyID0gdGhpcy5lbC5zaGFkb3dSb290Py5xdWVyeVNlbGVjdG9yKCdjYWxjaXRlLXN0ZXBwZXInKTtcclxuICAgIGlmIChzdGVwcGVyKSB7XHJcbiAgICAgIHN0ZXBwZXIuZW5kU3RlcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICBvcGVuTW9kYWwoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RlcHMuaW5jbHVkZXMoU3RlcFZhbHVlcy5pbmZvZ3JhcGhpY3MpKSB7XHJcbiAgICAgIHRoaXMucmVuZGVyQnVmZmVycyh0cnVlKTtcclxuICAgIH1cclxuICAgIHRoaXMucnVuSW5mb2dyYXBoaWMuZW1pdCh7IGNvbmZpZzogdGhpcy5iYXNlQ29uZmlnLmNvbmZpZywgc2VhcmNoUmVzdWx0T2JqOiB0aGlzLnNlYXJjaFJlc3VsdE9iaiwgc2VsZWN0ZWRSZXBvcnQ6IHRoaXMuc2VsZWN0ZWRSZXBvcnQgfSk7XHJcbiAgICAvL3RoaXMubW9kYWxPcGVuZWQgPSB0cnVlO1xyXG4gIH1cclxuICBjbGVhbkFycmF5KGlucHV0QXJyKSB7XHJcbiAgICBsZXQgb3V0cHV0QXJyYXkgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oaW5wdXRBcnJbaV0pICYmIGlucHV0QXJyW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgb3V0cHV0QXJyYXkucHVzaChpbnB1dEFycltpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXRBcnJheTtcclxuICB9XHJcbiAgaGFuZGxlTm9CdWZmZXJDb25maWcoKSB7XHJcbiAgICBpZiAoIXRoaXMuYmFzZUNvbmZpZz8uY29uZmlnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGNmZyA9IHRoaXMuYmFzZUNvbmZpZy5jb25maWc7XHJcbiAgICBpZiAoIWNmZy53b3JrZmxvd0VuYWJsZVVzZXJDb25maWdCdWZmZXJzKSB7XHJcbiAgICAgIGlmIChjZmcud29ya2Zsb3dCdWZmZXIgPT09IEJ1ZmZlclR5cGVzVmFsdWVzLnJpbmcpIHtcclxuICAgICAgICB0aGlzLmJ1ZmZlclR5cGUgPSBCdWZmZXJUeXBlc1ZhbHVlcy5yaW5nO1xyXG4gICAgICAgIHRoaXMuYnVmZmVyVmFscyA9IHRoaXMuY2xlYW5BcnJheShbY2ZnLndvcmtmbG93UmluZ3NCdWZmZXIxLCBjZmcud29ya2Zsb3dSaW5nc0J1ZmZlcjIsIGNmZy53b3JrZmxvd1JpbmdzQnVmZmVyM10pO1xyXG4gICAgICAgIHRoaXMuYnVmZmVyVW5pdCA9IGNmZy53b3JrZmxvd1JpbmdzQnVmZmVyVW5pdDtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChjZmcud29ya2Zsb3dCdWZmZXIgPT09IEJ1ZmZlclR5cGVzVmFsdWVzLmRyaXZldGltZSkge1xyXG4gICAgICAgIHRoaXMuYnVmZmVyVHlwZSA9IEJ1ZmZlclR5cGVzVmFsdWVzLmRyaXZldGltZTtcclxuICAgICAgICB0aGlzLmJ1ZmZlclZhbHMgPSB0aGlzLmNsZWFuQXJyYXkoW2NmZy53b3JrZmxvd0RyaXZldGltZUJ1ZmZlcjEsIGNmZy53b3JrZmxvd0RyaXZldGltZUJ1ZmZlcjIsIGNmZy53b3JrZmxvd0RyaXZldGltZUJ1ZmZlcjNdKTtcclxuICAgICAgICB0aGlzLmJ1ZmZlclVuaXQgPSBjZmcud29ya2Zsb3dEcml2ZXRpbWVCdWZmZXJVbml0O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGNmZy53b3JrZmxvd0J1ZmZlciA9PT0gQnVmZmVyVHlwZXNWYWx1ZXMud2Fsa3RpbWUpIHtcclxuICAgICAgICB0aGlzLmJ1ZmZlclR5cGUgPSBCdWZmZXJUeXBlc1ZhbHVlcy53YWxrdGltZTtcclxuICAgICAgICB0aGlzLmJ1ZmZlclZhbHMgPSB0aGlzLmNsZWFuQXJyYXkoW2NmZy53b3JrZmxvd1dhbGt0aW1lQnVmZmVyMSwgY2ZnLndvcmtmbG93V2Fsa3RpbWVCdWZmZXIyLCBjZmcud29ya2Zsb3dXYWxrdGltZUJ1ZmZlcjNdKTtcclxuICAgICAgICB0aGlzLmJ1ZmZlclVuaXQgPSBjZmcud29ya2Zsb3dXYWxrdGltZUJ1ZmZlclVuaXQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgYnVpbGRJbmZvZ3JhcGhpY09wdGlvbnMoKSB7XHJcbiAgICBsZXQgY2ZnO1xyXG4gICAgaWYgKHRoaXMuYmFzZUNvbmZpZz8uY29uZmlnKSB7XHJcbiAgICAgIGNmZyA9IHRoaXMuYmFzZUNvbmZpZy5jb25maWc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChBQ0xVdGlscy5oYXNUZXh0KHRoaXMuY29uZmlnKSkge1xyXG4gICAgICBjZmcgPSBKU09OLnBhcnNlKHRoaXMuY29uZmlnKTtcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyhjZmcsIG51bGwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBvcHRpb25zID0ge307XHJcbiAgICBsZXQgc2hhcmVkT3B0aW9ucyA9IHt9O1xyXG4gICAgLy8gSGFuZGxlIHdoZW4gdGhlcmUgaXMgbm8gYnVmZmVyIG9wdGlvbiBhdmFpbGFibGVcclxuICAgIHRoaXMuaGFuZGxlTm9CdWZmZXJDb25maWcoKTtcclxuICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgIGJ1ZmZlclR5cGU6IHRoaXMuYnVmZmVyVHlwZSxcclxuICAgICAgYnVmZmVyVW5pdHM6IHRoaXMuYnVmZmVyVW5pdFxyXG4gICAgfTtcclxuICAgIHNoYXJlZE9wdGlvbnMgPSB7XHJcbiAgICAgIGJ1ZmZlclNpemVzOiB0aGlzLmJ1ZmZlclZhbHMsXHJcbiAgICAgIHZpZXdNb2RlOiBjZmcudmlld01vZGUsXHJcbiAgICAgIHJlcG9ydDoge1xyXG4gICAgICAgIHNob3dIZWFkZXI6IGNmZy5kaXNwbGF5SGVhZGVyLFxyXG4gICAgICAgIHNob3dab29tTGV2ZWw6ICFjZmcuem9vbUxldmVsLFxyXG4gICAgICAgIHNob3dGdWxsc2NyZWVuOiBmYWxzZSAvLyBBbHdheXMgZmFsc2UgZm9yIHdvcmtmbG93IG1vZGVcclxuICAgICAgfSxcclxuICAgICAgZXhwb3J0OiB7XHJcbiAgICAgICAgZXhjZWw6IGNmZy5leGNlbCxcclxuICAgICAgICBpbWFnZTogY2ZnLmltYWdlRXhwb3J0LFxyXG4gICAgICAgIHBkZjogY2ZnLnBkZixcclxuICAgICAgICBkeW5hbWljSHRtbDogY2ZnLmR5bmFtaWNIdG1sLFxyXG4gICAgICAgIHByaW50OiBmYWxzZVxyXG4gICAgICB9LFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogY2ZnLmlnQmFja2dyb3VuZENvbG9yLFxyXG4gICAgICAgIGhlYWRlckNvbG9yOiBjZmcuaGVhZGVyQ29sb3IsXHJcbiAgICAgICAgaGVhZGVyVGV4dENvbG9yOiBjZmcuaGVhZGVyVGV4dENvbG9yXHJcbiAgICAgIH0sXHJcbiAgICAgIG1hcDoge1xyXG4gICAgICAgIHJ1blJlcG9ydE9uQ2xpY2s6IGNmZy5ydW5SZXBvcnRPbkNsaWNrLFxyXG4gICAgICAgIHNob3dTZWFyY2g6IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBjb21iaW5lZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCBzaGFyZWRPcHRpb25zKTtcclxuICAgIGlmICh0aGlzLmJhc2VDb25maWcpIHtcclxuICAgICAgdGhpcy5iYXNlQ29uZmlnLnVwZGF0ZUNvbmZpZyh7IGluZm9ncmFwaGljT3B0aW9uczogY29tYmluZWRPcHRpb25zIH0sIG51bGwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBoYXNTZWFyY2hSZXN1bHQoKSB7XHJcbiAgICByZXR1cm4gIUFDTFV0aWxzLmlzRW1wdHlPYmplY3QodGhpcy5zZWFyY2hSZXN1bHRPYmopO1xyXG4gIH1cclxuICB1cGRhdGVUYWJTdGF0dXNlcygpIHtcclxuICAgIC8vIEJlIGNhcmVmdWwgd2hhdCB5b3UgY2hhbmdlIGluIHRoaXMgZnVuY3Rpb24gYXMgeW91IGNhbiBlYXNpbHkgY3JlYXRlIGFuIGluZmluaXRlIGxvb3Agd2l0aCB0aGUgc3RhdGUgbWFuYWdlbWVudFxyXG4gICAgbGV0IGNhbkNvbnRpbnVlID0gZmFsc2U7XHJcbiAgICAvLyBVcGRhdGUgc2VhcmNoIHRhYiBzdGF0dXMgc3RhdGUgIChjb21wbGV0ZSB8fCBlcnJvcilcclxuICAgIGlmICh0aGlzLmhhc1NlYXJjaFJlc3VsdCgpICYmIHRoaXMuc2VhcmNoVGFiU3RhdHVzPy5jb21wbGV0ZSAhPT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICB0aGlzLnNlYXJjaFRhYlN0YXR1cyA9IHsgY29tcGxldGU6ICdjb21wbGV0ZScgfTtcclxuICAgICAgY2FuQ29udGludWUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhpcy5zZWFyY2hUYWJTdGF0dXM/LmVycm9yICE9PSAnZXJyb3InICYmIHRoaXMuc2VhcmNoVGFiU3RhdHVzPy5jb21wbGV0ZSAhPT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICB0aGlzLnNlYXJjaFRhYlN0YXR1cyA9IHsgZXJyb3I6ICdlcnJvcicgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuaGFzU2VhcmNoUmVzdWx0KCkgJiYgdGhpcy5zZWFyY2hUYWJTdGF0dXM/LmNvbXBsZXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgIGNhbkNvbnRpbnVlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSBidWZmZXIgdGFiIHN0YXR1cyBzdGF0ZSAoY29tcGxldGUgfHwgZXJyb3IgfHwgZGlzYWJsZWQpXHJcbiAgICBpZiAoY2FuQ29udGludWUpIHtcclxuICAgICAgaWYgKHRoaXMuYnVmZmVyVmFscz8ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5idWZmZXJUYWJTdGF0dXMgPSB7IGVycm9yOiAnZXJyb3InIH07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5idWZmZXJUYWJTdGF0dXM/LmNvbXBsZXRlICE9PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgdGhpcy5idWZmZXJUYWJTdGF0dXMgPSB7IGNvbXBsZXRlOiAnY29tcGxldGUnIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuYnVmZmVyVGFiU3RhdHVzPy5kaXNhYmxlZCAhPT0gJ2Rpc2FibGVkJykge1xyXG4gICAgICB0aGlzLmJ1ZmZlclRhYlN0YXR1cyA9IHsgZGlzYWJsZWQ6ICdkaXNhYmxlZCcgfTtcclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSBJbmZvZ3JhcGhpYyBUYWIgc3RhdHVzIHN0YXRlIChjb21wbGV0ZSB8fCBlcnJvciB8fCBkaXNhYmxlZClcclxuICAgIGlmIChjYW5Db250aW51ZSkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkUmVwb3J0LCB0aGlzLmluZm9ncmFwaGljVGFiVmlld2VkLCB0aGlzLmluZm9ncmFwaGljVGFiU3RhdHVzPy5lcnJvciwgdGhpcy5pbmZvZ3JhcGhpY1RhYlN0YXR1cz8uY29tcGxldGUsIHRoaXMuaW5mb2dyYXBoaWNUYWJTdGF0dXM/LmRpc2FibGVkKVxyXG4gICAgICBpZiAodGhpcy5zZWxlY3RlZFJlcG9ydCAmJiB0aGlzLmluZm9ncmFwaGljVGFiU3RhdHVzPy5jb21wbGV0ZSAhPT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICAgIHRoaXMuaW5mb2dyYXBoaWNUYWJTdGF0dXMgPSB7IGNvbXBsZXRlOiAnY29tcGxldGUnIH07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5pbmZvZ3JhcGhpY1RhYlZpZXdlZCAmJiB0aGlzLmluZm9ncmFwaGljVGFiU3RhdHVzPy5lcnJvciAhPT0gJ2Vycm9yJykge1xyXG4gICAgICAgIHRoaXMuaW5mb2dyYXBoaWNUYWJTdGF0dXMgPSB7IGVycm9yOiAnZXJyb3InIH07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIXRoaXMuaW5mb2dyYXBoaWNUYWJWaWV3ZWQgJiYgdGhpcy5pbmZvZ3JhcGhpY1RhYlN0YXR1cz8uZXJyb3IgIT09ICdlcnJvcicpIHtcclxuICAgICAgICB0aGlzLmluZm9ncmFwaGljVGFiU3RhdHVzID0ge307XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHRoaXMuaW5mb2dyYXBoaWNUYWJTdGF0dXM/LmRpc2FibGVkICE9PSAnZGlzYWJsZWQnKSB7XHJcbiAgICAgIHRoaXMuaW5mb2dyYXBoaWNUYWJTdGF0dXMgPSB7IGRpc2FibGVkOiAnZGlzYWJsZWQnIH07XHJcbiAgICB9XHJcbiAgICAvLyBTZXQgdGhlIHNlbGVjdGVkIHRhYiBpZiBub25lIGFyZSBzZWxlY3RlZFxyXG4gICAgY29uc3Qgc3RlcHBlciA9IHRoaXMuZWwuc2hhZG93Um9vdD8ucXVlcnlTZWxlY3RvcignY2FsY2l0ZS1zdGVwcGVyJyk7XHJcbiAgICBpZiAoc3RlcHBlciA9PT0gbnVsbCB8fCBzdGVwcGVyPy5zZWxlY3RlZEl0ZW0gPT09IG51bGwpIHtcclxuICAgICAgaWYgKHRoaXMuc3RlcHNbMF0gPT09IFN0ZXBWYWx1ZXMuc2VhcmNoKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0SW5pdGlhbFN0ZXBwZXJUYWIgPSBTdGVwVmFsdWVzLnNlYXJjaDtcclxuICAgICAgICB0aGlzLnNlYXJjaFRhYlN0YXR1cyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMuc3RlcHNbMF0gPT09IFN0ZXBWYWx1ZXMuYnVmZmVycykge1xyXG4gICAgICAgIHRoaXMuX3NldEluaXRpYWxTdGVwcGVyVGFiID0gU3RlcFZhbHVlcy5idWZmZXJzO1xyXG4gICAgICAgIHRoaXMuYnVmZmVyVGFiU3RhdHVzID0ge307XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5zdGVwc1swXSA9PT0gU3RlcFZhbHVlcy5pbmZvZ3JhcGhpY3MpIHtcclxuICAgICAgICB0aGlzLl9zZXRJbml0aWFsU3RlcHBlclRhYiA9IFN0ZXBWYWx1ZXMuaW5mb2dyYXBoaWNzO1xyXG4gICAgICAgIHRoaXMuaW5mb2dyYXBoaWNUYWJTdGF0dXMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7XHJcbiAgICBjb25zdCBzdGVwcGVyID0gdGhpcy5lbC5zaGFkb3dSb290Py5xdWVyeVNlbGVjdG9yKCdjYWxjaXRlLXN0ZXBwZXInKTtcclxuICAgIGlmIChzdGVwcGVyICYmIHRoaXMuX3NldEluaXRpYWxTdGVwcGVyVGFiKSB7XHJcbiAgICAgIHRoaXMuZ29Ub1N0ZXAodGhpcy5zdGVwcy5pbmRleE9mKHRoaXMuX3NldEluaXRpYWxTdGVwcGVyVGFiKSArIDEpO1xyXG4gICAgICAvL3N0ZXBwZXI/LmdvVG9TdGVwKHRoaXMuc3RlcHMuaW5kZXhPZih0aGlzLl9zZXRJbml0aWFsU3RlcHBlclRhYikgKyAxKTtcclxuICAgICAgdGhpcy5fc2V0SW5pdGlhbFN0ZXBwZXJUYWIgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuICByZW5kZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBpZG4gPSB0aGlzLl9pbnN0YW5jZUlkTnVtYmVyO1xyXG4gICAgICAvLyBjb25zdCB0aGVtZUNvbG9ycyA9IHtcclxuICAgICAgLy8gICAnLS1jYWxjaXRlLXVpLWJyYW5kJzogcHJpbWFyeUNvbG9yLFxyXG4gICAgICAvLyAgICctLWNhbGNpdGUtdWktYnJhbmQtaG92ZXInOiBzZWNvbmRhcnlDb2xvcixcclxuICAgICAgLy8gICAnLS1jYWxjaXRlLXN0ZXBwZXItaXRlbS1oZWFkZXItaG92ZXItYm9yZGVyLWNvbG9yJzogcHJpbWFyeUNvbG9yLFxyXG4gICAgICAvLyB9O1xyXG4gICAgICBjb25zdCBpc0ZpcnN0U3RlcCA9IHRoaXMuY3VycmVudFN0ZXAgPT09IDE7XHJcbiAgICAgIGNvbnN0IGlzTGFzdFN0ZXAgPSB0aGlzLmN1cnJlbnRTdGVwID09PSB0aGlzLm51bVN0ZXBzO1xyXG4gICAgICBCYVJlcG9ydHNMYW5ndWFnZS5faW5pdGlhbGl6ZSh0aGlzLmxhbmdDb2RlKTtcclxuICAgICAgcmV0dXJuIChoJDEoXCJkaXZcIiwgeyBjbGFzczogJ3dmLWxheW91dC1vdXRlcicgfSwgaCQxKFwiZGl2XCIsIHsgY2xhc3M6ICd3Zi1sYXlvdXQtY2FyZCcgfSwgaCQxKFwiZGl2XCIsIHsgY2xhc3M6ICd3Zi1sYXlvdXQtc3RlcHBlcicgfSwgaCQxKFwiY2FsY2l0ZS1zdGVwcGVyXCIsIHsgaWQ6ICd3b3JrZmxvdy1zdGVwcGVyLScgKyBpZG4gfSwgdGhpcy5zdGVwcy5pbmNsdWRlcyhTdGVwVmFsdWVzLnNlYXJjaCkgJiYgKGgkMShcImNhbGNpdGUtc3RlcHBlci1pdGVtXCIsIHsgaGVhZGluZzogQmFSZXBvcnRzTGFuZ3VhZ2UuaTE4bignc2VhcmNoLWxhYmVsJykgfSwgaCQxKFwiZGl2XCIsIHsgY2xhc3M6IFwic3RlcC1jb250ZW50IHdmLXN0ZXAtY29udGVudCB3Zi1zdGVwLXNlYXJjaFwiIH0sIGgkMShcInNlYXJjaC1zdGVwXCIsIHsgaWQ6IHRoaXMuX3NlYXJjaFN0ZXBJZCwgc3RlcElkOiAnd29ya2Zsb3ctc2VhcmNoLXN0ZXAnICsgaWRuLCBjb25maWc6IHRoaXMuYmFzZUNvbmZpZy5nZXRDb25maWdTdHJpbmcoKSwgc2VsZWN0ZWRGZWF0dXJlUmVzdWx0OiB0aGlzLnNlbGVjdGVkRmVhdHVyZVJlc3VsdCwgZ2VvY29kZVVybDogdGhpcy5nZW9jb2RlVXJsIH0sIGgkMShcImRpdlwiLCB7IGNsYXNzOiBcImRyYXctY29tcG9uZW50cy1jbGFzc1wiLCBzbG90OiBcImRyYXctY29tcG9uZW50c1wiIH0sIGgkMShcInNsb3RcIiwgeyBuYW1lOiBcImRyYXctY29tcG9uZW50c1wiIH0pKSkpKSksIHRoaXMuc3RlcHMuaW5jbHVkZXMoU3RlcFZhbHVlcy5idWZmZXJzKSAmJiAoaCQxKFwiY2FsY2l0ZS1zdGVwcGVyLWl0ZW1cIiwgeyBoZWFkaW5nOiBCYVJlcG9ydHNMYW5ndWFnZS5pMThuKCdidWZmZXJzLWxhYmVsJyksIC4uLnRoaXMuYnVmZmVyVGFiU3RhdHVzIH0sIGgkMShcImRpdlwiLCB7IGNsYXNzOiBcInN0ZXAtY29udGVudCB3Zi1zdGVwLWNvbnRlbnRcIiB9LCBoJDEoXCJidWZmZXJzLXN0ZXBcIiwgeyBzdGVwSWQ6IHRoaXMuX2J1ZmZlclN0ZXBJZCwgY29uZmlnOiB0aGlzLmJhc2VDb25maWcuZ2V0Q29uZmlnU3RyaW5nKCksIGxhbmdDb2RlOiB0aGlzLmxhbmdDb2RlIH0pKSkpLCB0aGlzLnN0ZXBzLmluY2x1ZGVzKFN0ZXBWYWx1ZXMuaW5mb2dyYXBoaWNzKSAmJiAoaCQxKFwiY2FsY2l0ZS1zdGVwcGVyLWl0ZW1cIiwgeyBoZWFkaW5nOiBCYVJlcG9ydHNMYW5ndWFnZS5pMThuKCdpbmZvZ3JhcGhpY3MtbGFiZWwnKSwgLi4udGhpcy5pbmZvZ3JhcGhpY1RhYlN0YXR1cywgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVJbmZvZ3JhcGhpY1RhYkNsaWNrKCkgfSwgaCQxKFwiZGl2XCIsIHsgY2xhc3M6IFwic3RlcC1jb250ZW50IHdmLXN0ZXAtY29udGVudFwiIH0sIGgkMShcImluZm9ncmFwaGljcy1zdGVwXCIsIHsgc3RlcElkOiB0aGlzLl9pbmZvZ3JhcGhpY1N0ZXBJZCwgY29uZmlnOiB0aGlzLmJhc2VDb25maWcuZ2V0Q29uZmlnU3RyaW5nKCksIHNlbGVjdGVkUmVwb3J0OiB0aGlzLnNlbGVjdGVkUmVwb3J0LCBwb3J0YWxPbmxpbmVHRVByb3h5OiB0aGlzLnBvcnRhbE9ubGluZUdFUHJveHkgfSkpKSkpKSwgaCQxKFwiZGl2XCIsIHsgY2xhc3M6IFwid2YtbGF5b3V0LW5hdlwiIH0sIGgkMShcImRpdlwiLCB7IGNsYXNzOiBcIndmLWxheW91dC1idXR0b25zXCIgfSwgIWlzRmlyc3RTdGVwICYmIChoJDEoXCJjYWxjaXRlLWJ1dHRvblwiLCB7IGFwcGVhcmFuY2U6ICdvdXRsaW5lJywgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVCYWNrQnV0dG9uQ2xpY2soKSB9LCB0aGlzLmxhYmVscy5iYWNrKSksICFpc0xhc3RTdGVwICYmIChoJDEoXCJjYWxjaXRlLWJ1dHRvblwiLCB7IGNsYXNzOiBcIm5hdi1idXR0b25cIiwgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0QnV0dG9uQ2xpY2soKSwgZGlzYWJsZWQ6IEFDTFV0aWxzLmlzRW1wdHlPYmplY3QodGhpcy5zZWFyY2hSZXN1bHRPYmopIH0sIHRoaXMubGFiZWxzLm5leHQpKSwgKCghQUNMVXRpbHMuaXNFbXB0eU9iamVjdCh0aGlzLnNlYXJjaFJlc3VsdE9iaikgJiYgaXNMYXN0U3RlcCkgfHwgKHRoaXMubnVtU3RlcHMgPT09IDEpKSAmJiAoaCQxKFwiY2FsY2l0ZS1idXR0b25cIiwgeyBjbGFzczogXCJuYXYtYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHRoaXMub3Blbk1vZGFsKCksIGRpc2FibGVkOiBBQ0xVdGlscy5pc0VtcHR5T2JqZWN0KHRoaXMuc2VsZWN0ZWRSZXBvcnQpIHx8IEFDTFV0aWxzLmlzRW1wdHlPYmplY3QodGhpcy5zZWFyY2hSZXN1bHRPYmopIH0sIHRoaXMubGFiZWxzLnJ1bkluZm9ncmFwaGljKSkpKSkpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChleCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnJWMgV29ya2Zsb3cgZXJyb3I6JywgJ2ZvbnQtc2l6ZTo5cHQ7Y29sb3I6cmVkJywgZXgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChoJDEoXCJkaXZcIiwgbnVsbCwgXCJXb3JrZmxvdyBlcnJvclwiKSk7XHJcbiAgfVxyXG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cclxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xyXG4gICAgXCJlbnZcIjogW1wib25FbnZDaGFuZ2VkXCJdLFxyXG4gICAgXCJ0b2tlblwiOiBbXCJvblRva2VuQ2hhbmdlZFwiXSxcclxuICAgIFwidXNlcm5hbWVcIjogW1wib25Vc2VybmFtZUNoYW5nZWRcIl0sXHJcbiAgICBcImxhbmdDb2RlXCI6IFtcIm9uTGFuZ0NvZGVDaGFuZ2VkXCJdLFxyXG4gICAgXCJnZW9lbnJpY2htZW50VXJsXCI6IFtcIm9uR2VvZW5yaWNobWVudFVybENoYW5nZWRcIl0sXHJcbiAgICBcInNvdXJjZUNvdW50cnlcIjogW1wib25Tb3VyY2VDb3VudHJ5Q2hhbmdlZFwiXSxcclxuICAgIFwiY29uZmlnXCI6IFtcIm9uQ29uZmlnQ2hhbmdlXCJdLFxyXG4gICAgXCJzZWxlY3RlZEZlYXR1cmVSZXN1bHRcIjogW1wib25zZWFyY2hSZXN1bHRDaGFuZ2VcIl1cclxuICB9OyB9XHJcbn07XHJcbkFyY2dpc0luZm9ncmFwaGljV29ya2Zsb3cuc3R5bGUgPSBhcmNnaXNJbmZvZ3JhcGhpY1dvcmtmbG93Q3NzO1xuXG5leHBvcnQgeyBBcmNnaXNJbmZvZ3JhcGhpY1dvcmtmbG93IGFzIGFyY2dpc19pbmZvZ3JhcGhpY193b3JrZmxvdyB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmNnaXMtaW5mb2dyYXBoaWMtd29ya2Zsb3cuZW50cnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9