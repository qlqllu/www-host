"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-cf0438"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-server-list.entry.js":
/*!************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-new-item-pages-server-list.entry.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_new_item_pages_server_list: () => (/* binding */ ArcgisNewItemPagesServerList)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/* harmony import */ var _data_store_f509564d_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data-store-f509564d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-f509564d.js");
/* harmony import */ var _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add-item-97d577a9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/add-item-97d577a9.js");
/* harmony import */ var _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui-ecf86bba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ui-ecf86bba.js");
/* harmony import */ var _portal_79caaeff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./portal-79caaeff.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/portal-79caaeff.js");
/* harmony import */ var _loadModules_aaf30bd6_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./loadModules-aaf30bd6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/loadModules-aaf30bd6.js");
/* harmony import */ var _config_eb5f7dc2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config-eb5f7dc2.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/config-eb5f7dc2.js");
/* harmony import */ var _index_81d548b7_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-81d548b7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-81d548b7.js");
/* harmony import */ var _privileges_ccd5f37d_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./privileges-ccd5f37d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/privileges-ccd5f37d.js");
/* harmony import */ var _functional_c82f5ab9_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./functional-c82f5ab9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-c82f5ab9.js");
/* harmony import */ var _item_d9d70416_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./item-d9d70416.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-d9d70416.js");
/* harmony import */ var _data_store_e8b5ce2f_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./data-store-e8b5ce2f.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/data-store-e8b5ce2f.js");
/* harmony import */ var _feature_layer_38cdae87_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./feature-layer-38cdae87.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-38cdae87.js");
/* harmony import */ var _item_properties_e6412a9a_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./item-properties-e6412a9a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-properties-e6412a9a.js");
/* harmony import */ var _feature_layer_d33ea114_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./feature-layer-d33ea114.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-d33ea114.js");
/* harmony import */ var _guid_4f4176ba_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./guid-4f4176ba.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/guid-4f4176ba.js");
/* harmony import */ var _thumbnail_0b7adfcd_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./thumbnail-0b7adfcd.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/thumbnail-0b7adfcd.js");
/* harmony import */ var _query_4f7b7e4d_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./query-4f7b7e4d.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/query-4f7b7e4d.js");
/* harmony import */ var _user_e3dedc4a_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./user-e3dedc4a.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/user-e3dedc4a.js");
/* harmony import */ var _api_f7934cd7_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./api-f7934cd7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/api-f7934cd7.js");
/* harmony import */ var _server_item_f12153e6_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./server-item-f12153e6.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/server-item-f12153e6.js");
/* harmony import */ var _functional_9f648bee_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./functional-9f648bee.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/functional-9f648bee.js");
/* harmony import */ var _item_types_b4fe86ad_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./item-types-b4fe86ad.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/item-types-b4fe86ad.js");
/* harmony import */ var _dom_13f5b00c_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./dom-13f5b00c.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/dom-13f5b00c.js");
/* harmony import */ var _feature_layer_69305a85_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./feature-layer-69305a85.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/feature-layer-69305a85.js");
/* harmony import */ var _ags_68d4ae20_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ags-68d4ae20.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/ags-68d4ae20.js");
/* harmony import */ var _url_f3b82cc7_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./url-f3b82cc7.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/url-f3b82cc7.js");
/* harmony import */ var _storage_d7f5822e_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./storage-d7f5822e.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/storage-d7f5822e.js");
/* harmony import */ var _file_f36193e9_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./file-f36193e9.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/file-f36193e9.js");
/* harmony import */ var _store_3210b604_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./store-3210b604.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/store-3210b604.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */































const arcgisNewItemPagesServerListCss = ":host{font-size:0.875rem;font-weight:500}.heading{color:var(--calcite-ui-text-1)}.sub-heading{color:var(--calcite-ui-text-3);font-weight:400}.row-wrapper{width:100%;padding-top:0.75rem;padding-bottom:0.75rem;margin-top:0.5rem;margin-bottom:0.5rem;display:flex}.row-divider{box-shadow:0 -1px 0 #eaeaea}.status-wrapper{display:flex;grid-gap:0.5rem;gap:0.5rem;line-height:1rem}.success{--calcite-ui-icon-color:var(--calcite-ui-success)}.failure{--calcite-ui-icon-color:var(--calcite-ui-danger)}.error{--calcite-ui-icon-color:var(--calcite-ui-warning)}.validating{--calcite-ui-icon-color:var(--calcite-ui-info)}.half-row{width:50%}.server-wrapper:hover{cursor:pointer}";

const ArcgisNewItemPagesServerList = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.newItemUpdatePage = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "newItemUpdatePage", 7);
    this.serverStatusIcons = {
      success: "check-circle-f",
      failure: "exclamation-mark-circle-f",
      error: "exclamation-mark-triangle-f",
      validating: "information"
    };
    this.serverList = undefined;
    this.serverId = undefined;
    this.error = undefined;
  }
  async componentWillLoad() {
    this.i18n = _ui_ecf86bba_js__WEBPACK_IMPORTED_MODULE_3__.u.i18n.serverSelection;
    this.serverList = _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_2__.a.serverList;
    this.serverList = this.serverList.map((server) => (Object.assign(Object.assign({}, server), { serverStatus: "validating" })));
    Promise.all(this.serverList.map((server) => (0,_data_store_f509564d_js__WEBPACK_IMPORTED_MODULE_1__.e)(server, _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_2__.a.dataStoreId))).then((responses) => {
      this.serverList = this.serverList.map((server, index) => {
        return Object.assign(Object.assign({}, server), { serverStatus: responses[index].result });
      });
      if (this.serverList.length === 1 && this.serverList[0].serverStatus === "success") {
        this.serverId = this.serverList[0]["id"];
      }
    });
  }
  handleNext() {
    if (!this.serverId) {
      this.error = true;
      return;
    }
    _add_item_97d577a9_js__WEBPACK_IMPORTED_MODULE_2__.a.serverId = this.serverId;
    this.newItemUpdatePage.emit("itemProperties");
  }
  convertStatusDisplayText(status) {
    const i18n = this.i18n;
    const displayTable = {
      success: i18n.status.success,
      failure: i18n.status.failure,
      error: i18n.status.error,
      validating: i18n.status.validating
    };
    return displayTable[status];
  }
  render() {
    const { i18n, error, serverList } = this;
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "heading" }, i18n.layer.heading), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("p", { class: "sub-heading" }, " ", i18n.layer.subHeading), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "row-wrapper" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "half-row" }, i18n.list.title), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "half-row" }, i18n.list.status)), serverList.map((server) => {
      return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "row-wrapper row-divider" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "half-row" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-label", { layout: "inline", class: "server-wrapper" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-radio-button", { disabled: server.serverStatus !== "success", value: server["id"], onCalciteRadioButtonChange: (e) => (this.serverId = e.target.value), checked: this.serverId === server["id"] }), server["url"])), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "half-row" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "status-wrapper" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { class: {
          success: server.serverStatus === "success",
          failure: server.serverStatus === "failure",
          error: server.serverStatus === "error",
          validating: server.serverStatus === "validating"
        }, scale: "s", icon: this.serverStatusIcons[server.serverStatus] }), this.convertStatusDisplayText(server.serverStatus)))));
    }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("arcgis-new-item-alert", { heading: i18n.error.noServerSelectedHeading, description: i18n.error.noServerSelectedDescription, active: error, onAlertDismiss: () => {
        this.error = false;
      } })));
  }
};
ArcgisNewItemPagesServerList.style = arcgisNewItemPagesServerListCss;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLW5ldy1pdGUtY2YwNDM4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUM0RjtBQUNwQjtBQUNiO0FBQ047QUFDdkI7QUFDSztBQUNMO0FBQ0Q7QUFDSztBQUNBO0FBQ047QUFDTTtBQUNHO0FBQ0U7QUFDRjtBQUNUO0FBQ0s7QUFDSjtBQUNEO0FBQ0Q7QUFDUTtBQUNEO0FBQ0E7QUFDUDtBQUNVO0FBQ1Y7QUFDQTtBQUNJO0FBQ0g7QUFDQzs7QUFFN0IsK0NBQStDLG1CQUFtQixnQkFBZ0IsU0FBUywrQkFBK0IsYUFBYSwrQkFBK0IsZ0JBQWdCLGFBQWEsV0FBVyxvQkFBb0IsdUJBQXVCLGtCQUFrQixxQkFBcUIsYUFBYSxhQUFhLDRCQUE0QixnQkFBZ0IsYUFBYSxnQkFBZ0IsV0FBVyxpQkFBaUIsU0FBUyxrREFBa0QsU0FBUyxpREFBaUQsT0FBTyxrREFBa0QsWUFBWSwrQ0FBK0MsVUFBVSxVQUFVLHNCQUFzQixlQUFlOztBQUVqc0I7QUFDQTtBQUNBLElBQUkscURBQWdCO0FBQ3BCLDZCQUE2QixxREFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhDQUFZO0FBQzVCLHNCQUFzQixvREFBWTtBQUNsQyxxRkFBcUYsYUFBYSw0QkFBNEI7QUFDOUgsZ0RBQWdELDBEQUF1QixTQUFTLG9EQUFZO0FBQzVGO0FBQ0EsNkNBQTZDLGFBQWEsdUNBQXVDO0FBQ2pHLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxvREFBWTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMEJBQTBCO0FBQ3RDLFlBQVkscURBQUMsQ0FBQyxpREFBSSxRQUFRLHFEQUFDLFFBQVEsa0JBQWtCLHVCQUF1QixxREFBQyxRQUFRLHNCQUFzQiwrQkFBK0IscURBQUMsVUFBVSxzQkFBc0IsRUFBRSxxREFBQyxVQUFVLG1CQUFtQixvQkFBb0IscURBQUMsVUFBVSxtQkFBbUI7QUFDN1AsY0FBYyxxREFBQyxVQUFVLGtDQUFrQyxFQUFFLHFEQUFDLFVBQVUsbUJBQW1CLEVBQUUscURBQUMsb0JBQW9CLDJDQUEyQyxFQUFFLHFEQUFDLDJCQUEyQixnTEFBZ0wsb0JBQW9CLHFEQUFDLFVBQVUsbUJBQW1CLEVBQUUscURBQUMsVUFBVSx5QkFBeUIsRUFBRSxxREFBQyxtQkFBbUI7QUFDemQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGlFQUFpRTtBQUMxRSxLQUFLLEdBQUcscURBQUMsNEJBQTRCO0FBQ3JDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFNkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hbmFseXNpcy9ub2RlX21vZHVsZXMvQGFyY2dpcy9hcHAtY29tcG9uZW50cy9kaXN0L2VzbS9hcmNnaXMtbmV3LWl0ZW0tcGFnZXMtc2VydmVyLWxpc3QuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBBbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuICogdjMuMC45OVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGMgYXMgY3JlYXRlRXZlbnQsIGgsIEggYXMgSG9zdCB9IGZyb20gJy4vaW5kZXgtOTJlYmIzOTYuanMnO1xuaW1wb3J0IHsgZSBhcyB2YWxpZGF0ZURhdGFzdG9yZVNlcnZlciB9IGZyb20gJy4vZGF0YS1zdG9yZS1mNTA5NTY0ZC5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEl0ZW1TdGF0ZSB9IGZyb20gJy4vYWRkLWl0ZW0tOTdkNTc3YTkuanMnO1xuaW1wb3J0IHsgdSBhcyB1aVN0b3JlU3RhdGUgfSBmcm9tICcuL3VpLWVjZjg2YmJhLmpzJztcbmltcG9ydCAnLi9wb3J0YWwtNzljYWFlZmYuanMnO1xuaW1wb3J0ICcuL2xvYWRNb2R1bGVzLWFhZjMwYmQ2LmpzJztcbmltcG9ydCAnLi9jb25maWctZWI1ZjdkYzIuanMnO1xuaW1wb3J0ICcuL2luZGV4LTgxZDU0OGI3LmpzJztcbmltcG9ydCAnLi9wcml2aWxlZ2VzLWNjZDVmMzdkLmpzJztcbmltcG9ydCAnLi9mdW5jdGlvbmFsLWM4MmY1YWI5LmpzJztcbmltcG9ydCAnLi9pdGVtLWQ5ZDcwNDE2LmpzJztcbmltcG9ydCAnLi9kYXRhLXN0b3JlLWU4YjVjZTJmLmpzJztcbmltcG9ydCAnLi9mZWF0dXJlLWxheWVyLTM4Y2RhZTg3LmpzJztcbmltcG9ydCAnLi9pdGVtLXByb3BlcnRpZXMtZTY0MTJhOWEuanMnO1xuaW1wb3J0ICcuL2ZlYXR1cmUtbGF5ZXItZDMzZWExMTQuanMnO1xuaW1wb3J0ICcuL2d1aWQtNGY0MTc2YmEuanMnO1xuaW1wb3J0ICcuL3RodW1ibmFpbC0wYjdhZGZjZC5qcyc7XG5pbXBvcnQgJy4vcXVlcnktNGY3YjdlNGQuanMnO1xuaW1wb3J0ICcuL3VzZXItZTNkZWRjNGEuanMnO1xuaW1wb3J0ICcuL2FwaS1mNzkzNGNkNy5qcyc7XG5pbXBvcnQgJy4vc2VydmVyLWl0ZW0tZjEyMTUzZTYuanMnO1xuaW1wb3J0ICcuL2Z1bmN0aW9uYWwtOWY2NDhiZWUuanMnO1xuaW1wb3J0ICcuL2l0ZW0tdHlwZXMtYjRmZTg2YWQuanMnO1xuaW1wb3J0ICcuL2RvbS0xM2Y1YjAwYy5qcyc7XG5pbXBvcnQgJy4vZmVhdHVyZS1sYXllci02OTMwNWE4NS5qcyc7XG5pbXBvcnQgJy4vYWdzLTY4ZDRhZTIwLmpzJztcbmltcG9ydCAnLi91cmwtZjNiODJjYzcuanMnO1xuaW1wb3J0ICcuL3N0b3JhZ2UtZDdmNTgyMmUuanMnO1xuaW1wb3J0ICcuL2ZpbGUtZjM2MTkzZTkuanMnO1xuaW1wb3J0ICcuL3N0b3JlLTMyMTBiNjA0LmpzJztcblxuY29uc3QgYXJjZ2lzTmV3SXRlbVBhZ2VzU2VydmVyTGlzdENzcyA9IFwiOmhvc3R7Zm9udC1zaXplOjAuODc1cmVtO2ZvbnQtd2VpZ2h0OjUwMH0uaGVhZGluZ3tjb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXRleHQtMSl9LnN1Yi1oZWFkaW5ne2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0zKTtmb250LXdlaWdodDo0MDB9LnJvdy13cmFwcGVye3dpZHRoOjEwMCU7cGFkZGluZy10b3A6MC43NXJlbTtwYWRkaW5nLWJvdHRvbTowLjc1cmVtO21hcmdpbi10b3A6MC41cmVtO21hcmdpbi1ib3R0b206MC41cmVtO2Rpc3BsYXk6ZmxleH0ucm93LWRpdmlkZXJ7Ym94LXNoYWRvdzowIC0xcHggMCAjZWFlYWVhfS5zdGF0dXMtd3JhcHBlcntkaXNwbGF5OmZsZXg7Z3JpZC1nYXA6MC41cmVtO2dhcDowLjVyZW07bGluZS1oZWlnaHQ6MXJlbX0uc3VjY2Vzc3stLWNhbGNpdGUtdWktaWNvbi1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLXN1Y2Nlc3MpfS5mYWlsdXJley0tY2FsY2l0ZS11aS1pY29uLWNvbG9yOnZhcigtLWNhbGNpdGUtdWktZGFuZ2VyKX0uZXJyb3J7LS1jYWxjaXRlLXVpLWljb24tY29sb3I6dmFyKC0tY2FsY2l0ZS11aS13YXJuaW5nKX0udmFsaWRhdGluZ3stLWNhbGNpdGUtdWktaWNvbi1jb2xvcjp2YXIoLS1jYWxjaXRlLXVpLWluZm8pfS5oYWxmLXJvd3t3aWR0aDo1MCV9LnNlcnZlci13cmFwcGVyOmhvdmVye2N1cnNvcjpwb2ludGVyfVwiO1xuXG5jb25zdCBBcmNnaXNOZXdJdGVtUGFnZXNTZXJ2ZXJMaXN0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLm5ld0l0ZW1VcGRhdGVQYWdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJuZXdJdGVtVXBkYXRlUGFnZVwiLCA3KTtcbiAgICB0aGlzLnNlcnZlclN0YXR1c0ljb25zID0ge1xuICAgICAgc3VjY2VzczogXCJjaGVjay1jaXJjbGUtZlwiLFxuICAgICAgZmFpbHVyZTogXCJleGNsYW1hdGlvbi1tYXJrLWNpcmNsZS1mXCIsXG4gICAgICBlcnJvcjogXCJleGNsYW1hdGlvbi1tYXJrLXRyaWFuZ2xlLWZcIixcbiAgICAgIHZhbGlkYXRpbmc6IFwiaW5mb3JtYXRpb25cIlxuICAgIH07XG4gICAgdGhpcy5zZXJ2ZXJMaXN0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc2VydmVySWQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5lcnJvciA9IHVuZGVmaW5lZDtcbiAgfVxuICBhc3luYyBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmkxOG4gPSB1aVN0b3JlU3RhdGUuaTE4bi5zZXJ2ZXJTZWxlY3Rpb247XG4gICAgdGhpcy5zZXJ2ZXJMaXN0ID0gYWRkSXRlbVN0YXRlLnNlcnZlckxpc3Q7XG4gICAgdGhpcy5zZXJ2ZXJMaXN0ID0gdGhpcy5zZXJ2ZXJMaXN0Lm1hcCgoc2VydmVyKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzZXJ2ZXIpLCB7IHNlcnZlclN0YXR1czogXCJ2YWxpZGF0aW5nXCIgfSkpKTtcbiAgICBQcm9taXNlLmFsbCh0aGlzLnNlcnZlckxpc3QubWFwKChzZXJ2ZXIpID0+IHZhbGlkYXRlRGF0YXN0b3JlU2VydmVyKHNlcnZlciwgYWRkSXRlbVN0YXRlLmRhdGFTdG9yZUlkKSkpLnRoZW4oKHJlc3BvbnNlcykgPT4ge1xuICAgICAgdGhpcy5zZXJ2ZXJMaXN0ID0gdGhpcy5zZXJ2ZXJMaXN0Lm1hcCgoc2VydmVyLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzZXJ2ZXIpLCB7IHNlcnZlclN0YXR1czogcmVzcG9uc2VzW2luZGV4XS5yZXN1bHQgfSk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLnNlcnZlckxpc3QubGVuZ3RoID09PSAxICYmIHRoaXMuc2VydmVyTGlzdFswXS5zZXJ2ZXJTdGF0dXMgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgIHRoaXMuc2VydmVySWQgPSB0aGlzLnNlcnZlckxpc3RbMF1bXCJpZFwiXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBoYW5kbGVOZXh0KCkge1xuICAgIGlmICghdGhpcy5zZXJ2ZXJJZCkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkZEl0ZW1TdGF0ZS5zZXJ2ZXJJZCA9IHRoaXMuc2VydmVySWQ7XG4gICAgdGhpcy5uZXdJdGVtVXBkYXRlUGFnZS5lbWl0KFwiaXRlbVByb3BlcnRpZXNcIik7XG4gIH1cbiAgY29udmVydFN0YXR1c0Rpc3BsYXlUZXh0KHN0YXR1cykge1xuICAgIGNvbnN0IGkxOG4gPSB0aGlzLmkxOG47XG4gICAgY29uc3QgZGlzcGxheVRhYmxlID0ge1xuICAgICAgc3VjY2VzczogaTE4bi5zdGF0dXMuc3VjY2VzcyxcbiAgICAgIGZhaWx1cmU6IGkxOG4uc3RhdHVzLmZhaWx1cmUsXG4gICAgICBlcnJvcjogaTE4bi5zdGF0dXMuZXJyb3IsXG4gICAgICB2YWxpZGF0aW5nOiBpMThuLnN0YXR1cy52YWxpZGF0aW5nXG4gICAgfTtcbiAgICByZXR1cm4gZGlzcGxheVRhYmxlW3N0YXR1c107XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaTE4biwgZXJyb3IsIHNlcnZlckxpc3QgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJwXCIsIHsgY2xhc3M6IFwiaGVhZGluZ1wiIH0sIGkxOG4ubGF5ZXIuaGVhZGluZyksIGgoXCJwXCIsIHsgY2xhc3M6IFwic3ViLWhlYWRpbmdcIiB9LCBcIiBcIiwgaTE4bi5sYXllci5zdWJIZWFkaW5nKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInJvdy13cmFwcGVyXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImhhbGYtcm93XCIgfSwgaTE4bi5saXN0LnRpdGxlKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImhhbGYtcm93XCIgfSwgaTE4bi5saXN0LnN0YXR1cykpLCBzZXJ2ZXJMaXN0Lm1hcCgoc2VydmVyKSA9PiB7XG4gICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJyb3ctd3JhcHBlciByb3ctZGl2aWRlclwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJoYWxmLXJvd1wiIH0sIGgoXCJjYWxjaXRlLWxhYmVsXCIsIHsgbGF5b3V0OiBcImlubGluZVwiLCBjbGFzczogXCJzZXJ2ZXItd3JhcHBlclwiIH0sIGgoXCJjYWxjaXRlLXJhZGlvLWJ1dHRvblwiLCB7IGRpc2FibGVkOiBzZXJ2ZXIuc2VydmVyU3RhdHVzICE9PSBcInN1Y2Nlc3NcIiwgdmFsdWU6IHNlcnZlcltcImlkXCJdLCBvbkNhbGNpdGVSYWRpb0J1dHRvbkNoYW5nZTogKGUpID0+ICh0aGlzLnNlcnZlcklkID0gZS50YXJnZXQudmFsdWUpLCBjaGVja2VkOiB0aGlzLnNlcnZlcklkID09PSBzZXJ2ZXJbXCJpZFwiXSB9KSwgc2VydmVyW1widXJsXCJdKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJoYWxmLXJvd1wiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJzdGF0dXMtd3JhcHBlclwiIH0sIGgoXCJjYWxjaXRlLWljb25cIiwgeyBjbGFzczoge1xuICAgICAgICAgIHN1Y2Nlc3M6IHNlcnZlci5zZXJ2ZXJTdGF0dXMgPT09IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIGZhaWx1cmU6IHNlcnZlci5zZXJ2ZXJTdGF0dXMgPT09IFwiZmFpbHVyZVwiLFxuICAgICAgICAgIGVycm9yOiBzZXJ2ZXIuc2VydmVyU3RhdHVzID09PSBcImVycm9yXCIsXG4gICAgICAgICAgdmFsaWRhdGluZzogc2VydmVyLnNlcnZlclN0YXR1cyA9PT0gXCJ2YWxpZGF0aW5nXCJcbiAgICAgICAgfSwgc2NhbGU6IFwic1wiLCBpY29uOiB0aGlzLnNlcnZlclN0YXR1c0ljb25zW3NlcnZlci5zZXJ2ZXJTdGF0dXNdIH0pLCB0aGlzLmNvbnZlcnRTdGF0dXNEaXNwbGF5VGV4dChzZXJ2ZXIuc2VydmVyU3RhdHVzKSkpKSk7XG4gICAgfSksIGgoXCJhcmNnaXMtbmV3LWl0ZW0tYWxlcnRcIiwgeyBoZWFkaW5nOiBpMThuLmVycm9yLm5vU2VydmVyU2VsZWN0ZWRIZWFkaW5nLCBkZXNjcmlwdGlvbjogaTE4bi5lcnJvci5ub1NlcnZlclNlbGVjdGVkRGVzY3JpcHRpb24sIGFjdGl2ZTogZXJyb3IsIG9uQWxlcnREaXNtaXNzOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTtcbiAgICAgIH0gfSkpKTtcbiAgfVxufTtcbkFyY2dpc05ld0l0ZW1QYWdlc1NlcnZlckxpc3Quc3R5bGUgPSBhcmNnaXNOZXdJdGVtUGFnZXNTZXJ2ZXJMaXN0Q3NzO1xuXG5leHBvcnQgeyBBcmNnaXNOZXdJdGVtUGFnZXNTZXJ2ZXJMaXN0IGFzIGFyY2dpc19uZXdfaXRlbV9wYWdlc19zZXJ2ZXJfbGlzdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9