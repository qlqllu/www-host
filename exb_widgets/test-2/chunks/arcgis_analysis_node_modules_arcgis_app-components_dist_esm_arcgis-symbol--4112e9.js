"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-symbol--4112e9"],{

/***/ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-symbol-styler-inline-input.entry.js":
/*!************************************************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/arcgis-symbol-styler-inline-input.entry.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   arcgis_symbol_styler_inline_input: () => (/* binding */ ArcgisSymbolStylerInlineInput)
/* harmony export */ });
/* harmony import */ var _index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-92ebb396.js */ "./extensions/widgets/arcgis/analysis/node_modules/@arcgis/app-components/dist/esm/index-92ebb396.js");
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * v3.0.99
 */


const CSS = {
  recent: "recent",
  preview: "preview",
  colorPickerContainer: "color-picker-container"
};

const arcgisSymbolStylerInlineInputCss = ":host{--arcgis-symbol-styler-inline-input-trigger-background-color:var(--arcgis-app-background);display:flex}:host([disabled]){opacity:var(--arcgis-app-disabled-opacity);pointer-events:none}button{overflow:hidden;background-color:var(--arcgis-symbol-styler-inline-input-trigger-background-color);align-items:center;border:none;border-radius:0;box-sizing:border-box;cursor:pointer;display:flex;font-family:inherit;gap:8px;height:100%;justify-content:center;outline-color:transparent;outline-offset:0;padding:3px 0;padding-inline:3px 8px;position:relative;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-align:center;-webkit-appearance:none;width:100%}button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}button:hover{text-decoration:none}.preview{border:1px solid #949494;display:flex;align-items:center;flex-grow:1}.container{display:flex;gap:16px;width:100%}::slotted([slot=preview]){flex-grow:1;display:flex}calcite-icon{color:var(--calcite-ui-text-3)}";

const ArcgisSymbolStylerInlineInput = class {
  constructor(hostRef) {
    (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.arcgisSymbolStylerInlineInputClose = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "arcgisSymbolStylerInlineInputClose", 7);
    this.arcgisSymbolStylerInlineInputOpen = (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.c)(this, "arcgisSymbolStylerInlineInputOpen", 7);
    //--------------------------------------------------------------------------
    //
    //  Private Methods
    //
    //--------------------------------------------------------------------------
    this.handlePanelDismissedChange = (event) => {
      const panel = event.currentTarget;
      if (panel.closed) {
        this.close();
        panel.closed = false;
      }
      event.stopPropagation();
    };
    this.handleTriggerClick = () => {
      this.open = !this.open;
      if (this.open) {
        setTimeout(() => {
          // doesn't work without timeout
          this.panelElement.setFocus();
        }, 300);
      }
    };
    this.handleDone = () => {
      this.close();
    };
    this.handlePopoverOpen = (event) => {
      this.arcgisSymbolStylerInlineInputOpen.emit();
      event.stopPropagation();
    };
    this.handlePopoverClose = (event) => {
      this.arcgisSymbolStylerInlineInputClose.emit();
      event.stopPropagation();
    };
    this.handlePopoverKeyUp = ({ key }) => {
      if (key === "Escape") {
        this.close();
      }
    };
    this.setTriggerRef = (el) => {
      this.triggerEl = el;
    };
    this.setPreviewContainerRef = (el) => {
      this.previewContainerEl = el;
    };
    this.disabled = false;
    this.heading = undefined;
    this.iconEnd = "pencil";
    this.intlDone = undefined;
    this.label = undefined;
    this.popoverProps = undefined;
    this.open = false;
  }
  disabledChanged(value) {
    if (value && this.open) {
      this.close();
    }
  }
  onInlineInputOpen(event) {
    if (!this.open) {
      return;
    }
    if (!event.composedPath().includes(this.el)) {
      this.open = false;
    }
  }
  //--------------------------------------------------------------------------
  //
  //  Public Methods
  //
  //--------------------------------------------------------------------------
  async setFocus() {
    var _a;
    (_a = this.triggerEl) === null || _a === void 0 ? void 0 : _a.focus();
  }
  async close() {
    this.open = false;
    this.arcgisSymbolStylerInlineInputClose.emit();
    await this.setFocus();
  }
  //--------------------------------------------------------------------------
  //
  //  Render Methods
  //
  //--------------------------------------------------------------------------
  render() {
    const { popoverProps } = this;
    return ((0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.H, null, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-popover", { pointerDisabled: true, onKeyUp: this.handlePopoverKeyUp, label: this.label, offsetDistance: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.offsetDistance) || 0, offsetSkidding: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.offsetSkidding) || 0, flipDisabled: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.flipDisabled) || false, open: this.open, overlayPositioning: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.overlayPositioning) || "fixed", referenceElement: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.refElement) || this.previewContainerEl, onCalcitePopoverClose: this.handlePopoverClose, onCalcitePopoverOpen: this.handlePopoverOpen, placement: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.placement) || "bottom" // setting to bottom (vs auto) to workaround absolute placement issue
      ,
      triggerDisabled: true }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-panel", { closable: true, onCalcitePanelClose: this.handlePanelDismissedChange, heading: this.heading, style: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.maxHeight) && { maxHeight: popoverProps.maxHeight }, ref: (node) => (this.panelElement = node) }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: "content" }), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-button", { appearance: "solid", scale: "m", slot: "footer", width: "full", label: this.intlDone, onClick: this.handleDone }, this.intlDone))), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "container" }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: CSS.preview, ref: this.setPreviewContainerRef }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { disabled: this.disabled, onClick: this.handleTriggerClick, ref: this.setTriggerRef, type: "button", "aria-label": this.label }, (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: "preview" }), this.iconEnd ? (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("calcite-icon", { icon: this.iconEnd, scale: "s" }) : null)), (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: "content-end" }))));
  }
  get el() { return (0,_index_92ebb396_js__WEBPACK_IMPORTED_MODULE_0__.d)(this); }
  static get watchers() { return {
    "disabled": ["disabledChanged"]
  }; }
};
ArcgisSymbolStylerInlineInput.style = arcgisSymbolStylerInlineInputCss;




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYXJjZ2lzX2FuYWx5c2lzX25vZGVfbW9kdWxlc19hcmNnaXNfYXBwLWNvbXBvbmVudHNfZGlzdF9lc21fYXJjZ2lzLXN5bWJvbC0tNDExMmU5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDNkc7O0FBRTdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0RBQWdELDBGQUEwRixhQUFhLGtCQUFrQiwyQ0FBMkMsb0JBQW9CLE9BQU8sZ0JBQWdCLG1GQUFtRixtQkFBbUIsWUFBWSxnQkFBZ0Isc0JBQXNCLGVBQWUsYUFBYSxvQkFBb0IsUUFBUSxZQUFZLHVCQUF1QiwwQkFBMEIsaUJBQWlCLGNBQWMsdUJBQXVCLGtCQUFrQixxQkFBcUIseUJBQXlCLHNCQUFzQixpQkFBaUIsa0JBQWtCLHdCQUF3QixXQUFXLGFBQWEsMENBQTBDLG1CQUFtQixhQUFhLHFCQUFxQixTQUFTLHlCQUF5QixhQUFhLG1CQUFtQixZQUFZLFdBQVcsYUFBYSxTQUFTLFdBQVcsMEJBQTBCLFlBQVksYUFBYSxhQUFhLCtCQUErQjs7QUFFbmlDO0FBQ0E7QUFDQSxJQUFJLHFEQUFnQjtBQUNwQiw4Q0FBOEMscURBQVc7QUFDekQsNkNBQTZDLHFEQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLEtBQUs7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxlQUFlO0FBQzNCLFlBQVkscURBQUMsQ0FBQyxpREFBSSxRQUFRLHFEQUFDLHNCQUFzQjtBQUNqRDtBQUNBLDZCQUE2QixFQUFFLHFEQUFDLG9CQUFvQiw4TEFBOEwsbUNBQW1DLDZDQUE2QyxFQUFFLHFEQUFDLFdBQVcsaUJBQWlCLEdBQUcscURBQUMscUJBQXFCLGdIQUFnSCxvQkFBb0IscURBQUMsVUFBVSxvQkFBb0IsRUFBRSxxREFBQyxVQUFVLHNEQUFzRCxFQUFFLHFEQUFDLGFBQWEsOEhBQThILEVBQUUscURBQUMsV0FBVyxpQkFBaUIsa0JBQWtCLHFEQUFDLG1CQUFtQixnQ0FBZ0MsWUFBWSxxREFBQyxXQUFXLHFCQUFxQjtBQUNoNEI7QUFDQSxhQUFhLE9BQU8scURBQVU7QUFDOUIsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUU4RSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FuYWx5c2lzL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2FwcC1jb21wb25lbnRzL2Rpc3QvZXNtL2FyY2dpcy1zeW1ib2wtc3R5bGVyLWlubGluZS1pbnB1dC5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gKiB2My4wLjk5XG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgYyBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBkIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTkyZWJiMzk2LmpzJztcblxuY29uc3QgQ1NTID0ge1xuICByZWNlbnQ6IFwicmVjZW50XCIsXG4gIHByZXZpZXc6IFwicHJldmlld1wiLFxuICBjb2xvclBpY2tlckNvbnRhaW5lcjogXCJjb2xvci1waWNrZXItY29udGFpbmVyXCJcbn07XG5cbmNvbnN0IGFyY2dpc1N5bWJvbFN0eWxlcklubGluZUlucHV0Q3NzID0gXCI6aG9zdHstLWFyY2dpcy1zeW1ib2wtc3R5bGVyLWlubGluZS1pbnB1dC10cmlnZ2VyLWJhY2tncm91bmQtY29sb3I6dmFyKC0tYXJjZ2lzLWFwcC1iYWNrZ3JvdW5kKTtkaXNwbGF5OmZsZXh9Omhvc3QoW2Rpc2FibGVkXSl7b3BhY2l0eTp2YXIoLS1hcmNnaXMtYXBwLWRpc2FibGVkLW9wYWNpdHkpO3BvaW50ZXItZXZlbnRzOm5vbmV9YnV0dG9ue292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWFyY2dpcy1zeW1ib2wtc3R5bGVyLWlubGluZS1pbnB1dC10cmlnZ2VyLWJhY2tncm91bmQtY29sb3IpO2FsaWduLWl0ZW1zOmNlbnRlcjtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjA7Ym94LXNpemluZzpib3JkZXItYm94O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtmb250LWZhbWlseTppbmhlcml0O2dhcDo4cHg7aGVpZ2h0OjEwMCU7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lLWNvbG9yOnRyYW5zcGFyZW50O291dGxpbmUtb2Zmc2V0OjA7cGFkZGluZzozcHggMDtwYWRkaW5nLWlubGluZTozcHggOHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtZGVjb3JhdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTt3aWR0aDoxMDAlfWJ1dHRvbjpmb2N1c3tvdXRsaW5lOjJweCBzb2xpZCB2YXIoLS1jYWxjaXRlLXVpLWJyYW5kKTtvdXRsaW5lLW9mZnNldDoycHh9YnV0dG9uOmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lfS5wcmV2aWV3e2JvcmRlcjoxcHggc29saWQgIzk0OTQ5NDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZ3JvdzoxfS5jb250YWluZXJ7ZGlzcGxheTpmbGV4O2dhcDoxNnB4O3dpZHRoOjEwMCV9OjpzbG90dGVkKFtzbG90PXByZXZpZXddKXtmbGV4LWdyb3c6MTtkaXNwbGF5OmZsZXh9Y2FsY2l0ZS1pY29ue2NvbG9yOnZhcigtLWNhbGNpdGUtdWktdGV4dC0zKX1cIjtcblxuY29uc3QgQXJjZ2lzU3ltYm9sU3R5bGVySW5saW5lSW5wdXQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuYXJjZ2lzU3ltYm9sU3R5bGVySW5saW5lSW5wdXRDbG9zZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiYXJjZ2lzU3ltYm9sU3R5bGVySW5saW5lSW5wdXRDbG9zZVwiLCA3KTtcbiAgICB0aGlzLmFyY2dpc1N5bWJvbFN0eWxlcklubGluZUlucHV0T3BlbiA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiYXJjZ2lzU3ltYm9sU3R5bGVySW5saW5lSW5wdXRPcGVuXCIsIDcpO1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvL1xuICAgIC8vICBQcml2YXRlIE1ldGhvZHNcbiAgICAvL1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB0aGlzLmhhbmRsZVBhbmVsRGlzbWlzc2VkQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBwYW5lbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICBpZiAocGFuZWwuY2xvc2VkKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgcGFuZWwuY2xvc2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlVHJpZ2dlckNsaWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgICAgIGlmICh0aGlzLm9wZW4pIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy8gZG9lc24ndCB3b3JrIHdpdGhvdXQgdGltZW91dFxuICAgICAgICAgIHRoaXMucGFuZWxFbGVtZW50LnNldEZvY3VzKCk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZURvbmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZVBvcG92ZXJPcGVuID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmFyY2dpc1N5bWJvbFN0eWxlcklubGluZUlucHV0T3Blbi5lbWl0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlUG9wb3ZlckNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmFyY2dpc1N5bWJvbFN0eWxlcklubGluZUlucHV0Q2xvc2UuZW1pdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZVBvcG92ZXJLZXlVcCA9ICh7IGtleSB9KSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2V0VHJpZ2dlclJlZiA9IChlbCkgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyRWwgPSBlbDtcbiAgICB9O1xuICAgIHRoaXMuc2V0UHJldmlld0NvbnRhaW5lclJlZiA9IChlbCkgPT4ge1xuICAgICAgdGhpcy5wcmV2aWV3Q29udGFpbmVyRWwgPSBlbDtcbiAgICB9O1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmhlYWRpbmcgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pY29uRW5kID0gXCJwZW5jaWxcIjtcbiAgICB0aGlzLmludGxEb25lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGFiZWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wb3BvdmVyUHJvcHMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gIH1cbiAgZGlzYWJsZWRDaGFuZ2VkKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICYmIHRoaXMub3Blbikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICBvbklubGluZUlucHV0T3BlbihldmVudCkge1xuICAgIGlmICghdGhpcy5vcGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXModGhpcy5lbCkpIHtcbiAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vXG4gIC8vICBQdWJsaWMgTWV0aG9kc1xuICAvL1xuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGFzeW5jIHNldEZvY3VzKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLnRyaWdnZXJFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgdGhpcy5hcmNnaXNTeW1ib2xTdHlsZXJJbmxpbmVJbnB1dENsb3NlLmVtaXQoKTtcbiAgICBhd2FpdCB0aGlzLnNldEZvY3VzKCk7XG4gIH1cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvL1xuICAvLyAgUmVuZGVyIE1ldGhvZHNcbiAgLy9cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3BvdmVyUHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIChoKEhvc3QsIG51bGwsIGgoXCJjYWxjaXRlLXBvcG92ZXJcIiwgeyBwb2ludGVyRGlzYWJsZWQ6IHRydWUsIG9uS2V5VXA6IHRoaXMuaGFuZGxlUG9wb3ZlcktleVVwLCBsYWJlbDogdGhpcy5sYWJlbCwgb2Zmc2V0RGlzdGFuY2U6IChwb3BvdmVyUHJvcHMgPT09IG51bGwgfHwgcG9wb3ZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3BvdmVyUHJvcHMub2Zmc2V0RGlzdGFuY2UpIHx8IDAsIG9mZnNldFNraWRkaW5nOiAocG9wb3ZlclByb3BzID09PSBudWxsIHx8IHBvcG92ZXJQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9wb3ZlclByb3BzLm9mZnNldFNraWRkaW5nKSB8fCAwLCBmbGlwRGlzYWJsZWQ6IChwb3BvdmVyUHJvcHMgPT09IG51bGwgfHwgcG9wb3ZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3BvdmVyUHJvcHMuZmxpcERpc2FibGVkKSB8fCBmYWxzZSwgb3BlbjogdGhpcy5vcGVuLCBvdmVybGF5UG9zaXRpb25pbmc6IChwb3BvdmVyUHJvcHMgPT09IG51bGwgfHwgcG9wb3ZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3BvdmVyUHJvcHMub3ZlcmxheVBvc2l0aW9uaW5nKSB8fCBcImZpeGVkXCIsIHJlZmVyZW5jZUVsZW1lbnQ6IChwb3BvdmVyUHJvcHMgPT09IG51bGwgfHwgcG9wb3ZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3BvdmVyUHJvcHMucmVmRWxlbWVudCkgfHwgdGhpcy5wcmV2aWV3Q29udGFpbmVyRWwsIG9uQ2FsY2l0ZVBvcG92ZXJDbG9zZTogdGhpcy5oYW5kbGVQb3BvdmVyQ2xvc2UsIG9uQ2FsY2l0ZVBvcG92ZXJPcGVuOiB0aGlzLmhhbmRsZVBvcG92ZXJPcGVuLCBwbGFjZW1lbnQ6IChwb3BvdmVyUHJvcHMgPT09IG51bGwgfHwgcG9wb3ZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3BvdmVyUHJvcHMucGxhY2VtZW50KSB8fCBcImJvdHRvbVwiIC8vIHNldHRpbmcgdG8gYm90dG9tICh2cyBhdXRvKSB0byB3b3JrYXJvdW5kIGFic29sdXRlIHBsYWNlbWVudCBpc3N1ZVxuICAgICAgLFxuICAgICAgdHJpZ2dlckRpc2FibGVkOiB0cnVlIH0sIGgoXCJjYWxjaXRlLXBhbmVsXCIsIHsgY2xvc2FibGU6IHRydWUsIG9uQ2FsY2l0ZVBhbmVsQ2xvc2U6IHRoaXMuaGFuZGxlUGFuZWxEaXNtaXNzZWRDaGFuZ2UsIGhlYWRpbmc6IHRoaXMuaGVhZGluZywgc3R5bGU6IChwb3BvdmVyUHJvcHMgPT09IG51bGwgfHwgcG9wb3ZlclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb3BvdmVyUHJvcHMubWF4SGVpZ2h0KSAmJiB7IG1heEhlaWdodDogcG9wb3ZlclByb3BzLm1heEhlaWdodCB9LCByZWY6IChub2RlKSA9PiAodGhpcy5wYW5lbEVsZW1lbnQgPSBub2RlKSB9LCBoKFwic2xvdFwiLCB7IG5hbWU6IFwiY29udGVudFwiIH0pLCBoKFwiY2FsY2l0ZS1idXR0b25cIiwgeyBhcHBlYXJhbmNlOiBcInNvbGlkXCIsIHNjYWxlOiBcIm1cIiwgc2xvdDogXCJmb290ZXJcIiwgd2lkdGg6IFwiZnVsbFwiLCBsYWJlbDogdGhpcy5pbnRsRG9uZSwgb25DbGljazogdGhpcy5oYW5kbGVEb25lIH0sIHRoaXMuaW50bERvbmUpKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJjb250YWluZXJcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IENTUy5wcmV2aWV3LCByZWY6IHRoaXMuc2V0UHJldmlld0NvbnRhaW5lclJlZiB9LCBoKFwiYnV0dG9uXCIsIHsgZGlzYWJsZWQ6IHRoaXMuZGlzYWJsZWQsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVHJpZ2dlckNsaWNrLCByZWY6IHRoaXMuc2V0VHJpZ2dlclJlZiwgdHlwZTogXCJidXR0b25cIiwgXCJhcmlhLWxhYmVsXCI6IHRoaXMubGFiZWwgfSwgaChcInNsb3RcIiwgeyBuYW1lOiBcInByZXZpZXdcIiB9KSwgdGhpcy5pY29uRW5kID8gaChcImNhbGNpdGUtaWNvblwiLCB7IGljb246IHRoaXMuaWNvbkVuZCwgc2NhbGU6IFwic1wiIH0pIDogbnVsbCkpLCBoKFwic2xvdFwiLCB7IG5hbWU6IFwiY29udGVudC1lbmRcIiB9KSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJkaXNhYmxlZFwiOiBbXCJkaXNhYmxlZENoYW5nZWRcIl1cbiAgfTsgfVxufTtcbkFyY2dpc1N5bWJvbFN0eWxlcklubGluZUlucHV0LnN0eWxlID0gYXJjZ2lzU3ltYm9sU3R5bGVySW5saW5lSW5wdXRDc3M7XG5cbmV4cG9ydCB7IEFyY2dpc1N5bWJvbFN0eWxlcklubGluZUlucHV0IGFzIGFyY2dpc19zeW1ib2xfc3R5bGVyX2lubGluZV9pbnB1dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9