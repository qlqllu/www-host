System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-layouts/layout-runtime"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M.1 6.9h6.8V.1H.1v6.8Zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 0 0 1.609.805V6.1Zm0-1.128a3.758 3.758 0 0 1-1.006-.523c.31-.203.65-.358 1.006-.459v.982ZM6.1.9v2.266a4.229 4.229 0 0 0-1.613.73 6.038 6.038 0 0 1-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 0 1 2.99.9H6.1ZM.9.9h1.266a8.7 8.7 0 0 0 .359 1.249A1.93 1.93 0 0 1 .9 3.188V.9Zm0 3.09a2.828 2.828 0 0 0 2.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 0 0 3.17 6.1H.9V3.99ZM9.1.1v6.8h6.8V.1H9.1Zm.8.8h4.063a.373.373 0 0 1-.045.2.594.594 0 0 1-.438.176 1.637 1.637 0 0 0-1.175.49.91.91 0 0 0-.203.708c-.001.007-.114.736-.607.742a.74.74 0 0 0-.719.384.828.828 0 0 0-.026.6H9.9V.9Zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 0 1-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 0 1 .028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 0 0 .16-.625h.344v5.2Zm-15 9.8h6.8V9.1H.1v6.8Zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089V9.9Zm0 4.01 4 .112v-1.355l1.2-1.182V15.1H.9v-1.19Zm8.2 1.99h6.8V9.1H9.1v6.8Zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605V15.1Zm0-5.2v2.628L12.49 9.9h2.61Zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9V9.9Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg ***!
  \************************************************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 14 14\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"nonzero\" fill=\"none\"><path d=\"m7.745 7 4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746L7.746 7Z\" fill=\"#000\"></path><path d=\"M1 1h12v12H1z\"></path></g></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg ***!
  \************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 39 32\"><path d=\"M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665h31.29zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg":
/*!********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg ***!
  \********************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M5 11v5H4v-4.001L0 12v-1h5Zm11 0v1l-4-.001V16h-1v-5h5ZM5 0v5H0V4l4 .001V0h1Zm7 0v4.001L16 4v1h-5V0h1Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M1 11v4.001L5 15v1H0v-5h1Zm15 0v5h-5v-1l4 .001V11h1ZM5 0v1L1 .999V5H0V0h5Zm11 0v5h-1V.999L11 1V0h5Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"m14.376 10.573 1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353 1.02-.574Zm-.999-2.414.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915-1.02.574ZM8.023 1.023l-8 4.5 8 4.5 8-4.5-8-4.5Zm-5.96 4.5 5.96-3.352 5.96 3.352-5.96 3.353-5.96-3.353Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg":
/*!****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 16\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M4 8h1v3H4V8ZM2 9h1v2H2V9Zm6-1h1v3H8V8Zm4 0h1v3h-1V8Z\"></path><path d=\"M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1h2Zm-3-9h1v1h-1V3Zm-8-.92L11 4v1h1v1H3V3h1v-.92ZM2 1h1v1H2V1Zm1 14H2v-1h1v1Zm8-1H4v-1H3v-1h9v1h-1v1Zm2 1h-1v-1h1v1ZM1 11V7h13v4H1Z\"></path><path d=\"M6 9h1v2H6V9Zm4 0h1v2h-1V9Z\"></path></g></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg":
/*!********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg ***!
  \********************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 10\"><path d=\"M0 10h15V4H0v6Zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1V5Zm11-5v1H3V0H0v3h3V2h9v1h3V0h-3ZM2 2H1V1h1v1Zm12 0h-1V1h1v1Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M0 9v6h16V9H0Zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14v2Zm.18-7.5-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7 2.85 2.89ZM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7L2.68 4Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg":
/*!**********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M7 1a6 6 0 1 0 0 12A6 6 0 0 0 7 1Zm0 13a7 7 0 1 1 5.621-2.828l-.222.284 3.405 3.404a.668.668 0 0 1-.944.944L11.456 12.4A6.974 6.974 0 0 1 7 14Z\" fill=\"#000\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg":
/*!*****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814Z\"></path><path d=\"M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 0 1-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0Z\"></path></g></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M16 0v16H0V0h16ZM7.077 1H1v14h10.561L7.078 7.616 7.077 1ZM15 6.391 9.56 9.779 12.73 15H15V6.391ZM15 1H8.077v6.335l.965 1.589L15 5.213V1Z\" fill=\"#363636\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.75 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.75 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814Z\"></path><path d=\"M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0Z\"></path></g></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg":
/*!***************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg ***!
  \***************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z\"></path></g></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill=\"#363636\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM16 0v11H8.5v-1H15V1H6v2.5H5V0h11Z\" fill=\"#363636\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg":
/*!*****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path d=\"M7.682 6.318a4.5 4.5 0 0 1 .335 5.99l2.847 2.849-.707.707-2.848-2.848a4.5 4.5 0 1 1 .373-6.698Zm-5.657.707a3.5 3.5 0 1 0 4.95 4.95 3.5 3.5 0 0 0-4.95-4.95ZM16 0v11H9.5v-1h3.099L10 5.153V1H6v2.5H5V0h11Zm-1 5.954L12.637 7.83 13.801 10H15V5.954ZM15 1h-3.981v3.813l1.055 1.967L15 4.457V1Z\" fill=\"#363636\" fill-rule=\"nonzero\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/filled/data/placeholder-map.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/filled/data/placeholder-map.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m12.687 9.074.073-.133a.147.147 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.05.05 0 0 1-.019.01l-.092.017a.042.042 0 0 0-.033.051l.019.077a.135.135 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066ZM13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069c.002 0 .002 0 .003.002l.104.13c.005.006.013.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131V9.39ZM13.878 6.775l-.048.043a.294.294 0 0 0-.094.187.299.299 0 0 1-.082.178.496.496 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.546.546 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011-.04-.067ZM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.125.125 0 0 0-.058.105v.333ZM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.063.063 0 0 0-.031-.008h-.328l-.035-.038a.216.216 0 0 0-.157-.074L5.778 4l-.048.009a2.362 2.362 0 0 1-.048.009l-.289.122a.209.209 0 0 1-.076.018l-.464.023a.232.232 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.093.093 0 0 0-.015.105l.183.37a.134.134 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.097.097 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.227.227 0 0 0-.001-.172l-.03-.07a.227.227 0 0 1 .097-.28ZM4.03 4.643l.061-.11a.221.221 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.203.203 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.226.226 0 0 0 .199-.118ZM4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.137.137 0 0 0-.081-.027h-.224a.131.131 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085c.006.01.018.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038c0 .005 0 .01-.002.016l-.03.073a.036.036 0 0 0 .006.036l.07.084a.032.032 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007c.008 0 .018.002.024.007l.174.133c.013.011.017.029.01.044l-.057.116a.033.033 0 0 1-.03.018l-.054.004a.036.036 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009c.024.001.048.01.069.024l.206.146c.014.01.03.008.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.035.035 0 0 0-.004-.029l-.07-.11.022-.004a.037.037 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008ZM2.08 5.136h.07l.104.147c.014.018.03.033.05.044l.136.068c.018.01.04.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.136.136 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138v-.123ZM2.679 5.022l.11-.058a.139.139 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003-.016-.031ZM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028H3.06ZM2.414 4.698l.158.057a.12.12 0 0 1 .03.015l.109.073c.018.012.038.02.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122l-.108.087ZM7.46 5.712l.058.092a.025.025 0 0 1-.001.028l-.044.06c-.004.008-.007.016-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.138.138 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.023.023 0 0 1 .014-.017l.049-.024c.01-.004.015-.015.013-.026l-.002-.03a.026.026 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118c-.003.011-.013.018-.024.018l-.11-.003a.024.024 0 0 1-.018-.007.024.024 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002c.008 0 .014-.004.02-.01l.053-.079A.027.027 0 0 0 7.3 5.94V5.82c0-.008.004-.015.01-.019l.115-.094a.024.024 0 0 1 .037.005Z\" fill=\"#050505\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.073 5.1H14.7a.042.042 0 0 1-.04-.03l-.358-.069a.161.161 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.033.033 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049c0-.017.006-.032.02-.044l.218-.2a.162.162 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.057.057 0 0 1-.03.008h-.101a.159.159 0 0 0-.114.049l-.244.252a.165.165 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.161.161 0 0 1-.098.11l-.081.032a.157.157 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.147.147 0 0 0-.042.027l-.62.565a.162.162 0 0 0-.006.231l.058.061.083-.069a.057.057 0 0 1 .076.003l.155.146h.04l.146-.176a.057.057 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.042.042 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.134.134 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.161.161 0 0 1-.134.064l-.254-.01a.046.046 0 0 1-.031-.013.047.047 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.042.042 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.158.158 0 0 1 .13-.067h.097c.032 0 .064.01.09.028l.157.11c.03.022.033.068.004.092l-.088.077a.156.156 0 0 1-.104.04h-.55a.158.158 0 0 0-.126.064l-.425.573a.168.168 0 0 0-.032.096v.38c0 .035.011.069.032.097l.148.198c.013.016.02.036.027.055.01.033.036.08.1.08h.686s.172.005.172.12c0 .04-.001.08-.003.116a.162.162 0 0 0 .083.148c.048.028.099.077.099.155v.21a.203.203 0 0 1-.007.049.772.772 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.583.583 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.115.115 0 0 0-.018-.062l-.033-.057a.162.162 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.596.596 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.158.158 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.159.159 0 0 0-.035-.1l-.125-.158a.159.159 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5.405 5.405 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001c.011 0 .021 0 .03-.002a.132.132 0 0 1 .127.083c.006.016.01.034.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.122.122 0 0 1 .075-.045l.054-.011a.125.125 0 0 0 .08-.053l.247-.373a.165.165 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.155.155 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.158.158 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.125.125 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.154.154 0 0 0 .104-.039l.159-.14a.043.043 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08c0-.013.005-.024.013-.032l.062-.058a.156.156 0 0 1 .181-.024l.104.055a.061.061 0 0 0 .076-.016l.051-.065a.062.062 0 0 0 .012-.052.062.062 0 0 0-.033-.042l-.503-.25a5.427 5.427 0 0 0-.39-.014ZM8.141 7.024l.09-.078-.09.079-.133-.163a.053.053 0 0 1-.01-.019.053.053 0 0 0 .01.018l.133.163Zm.755.493h-.081a.13.13 0 0 1-.032-.004 9.127 9.127 0 0 1-.61-.186.062.062 0 0 1-.035-.045.063.063 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056c-.011-.027.048-.061.048-.061s.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088Zm.417-.503H9.2l-.083-.065a.057.057 0 0 0-.032-.01h-.108a.067.067 0 0 0-.044.017l-.078.07-.078.012a.053.053 0 0 1-.056-.026.055.055 0 0 1-.006-.02l-.011-.087a.09.09 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.051.051 0 0 0 .05.058h.029a.069.069 0 0 0 .064-.042l.026-.058.12.02.01.087a.077.077 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052Zm.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.052.052 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004c.006.02 0 .04-.013.056a.061.061 0 0 0-.015.031l-.013.085.113.105-.08.054.043.054Z\" fill=\"#050505\"></path><path d=\"M12.945 7.8c-.006-.015-.01-.022-.017-.021-.007 0-.018.009-.036.025a.11.11 0 0 0-.039.08c0 .02.003.04.012.062.007.018.02.032.028.032.025 0 .066-.14.052-.178ZM12.894 8.108a.116.116 0 0 1 .024.005l.014.004c.018.006.027.009.033.015.005.005.008.014.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016-.007.007 0 .016.014.021.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.047.047 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02-.038.01-.05.006-.05-.018a.05.05 0 0 1 .03-.044c.013-.005.02-.009.02-.017 0-.008-.007-.019-.02-.038a.174.174 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201.004-.002.009-.008.012-.016a.148.148 0 0 0 .009-.053c0-.04.003-.054.021-.052ZM12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013ZM12.912 8.698a.02.02 0 0 1 .021.02c0 .011-.003.02-.008.02 0 0-.005 0-.007-.003a.064.064 0 0 1-.015-.017c-.007-.011-.003-.02.01-.02ZM13.254 8.913c-.013-.03-.03-.045-.044-.043-.014.001-.025.018-.03.05a.058.058 0 0 1-.01.026c.013.052.052.06.064.063h.004a.255.255 0 0 1 .025-.029.751.751 0 0 0 .014-.015l-.023-.052ZM13.082 8.894c.026-.004.035.015.011.043a.044.044 0 0 0-.008.015l-.057.01a.62.62 0 0 1-.036.005c-.038.006-.077.011-.1.037 0 .004.004.007.01.009.007.002.019.002.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017-.006-.023-.01-.016-.012.021-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.142.142 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012c.01-.005.02-.01.031-.011ZM13.36 9.136c0-.027-.034-.042-.092-.042a.445.445 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015ZM5.866 9.362l-.35-.185a.222.222 0 0 0-.102-.026h-.101a.038.038 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.217.217 0 0 1-.173-.088l-.048-.065a.216.216 0 0 0-.155-.086l-.262-.023a.028.028 0 0 1-.017-.007l-.043-.03c-.012-.007-.026-.009-.038 0l-.187.106a.216.216 0 0 1-.108.028h-.192a.037.037 0 0 1-.017-.004.146.146 0 0 1-.071-.133v-.112a.038.038 0 0 0-.023-.035.037.037 0 0 0-.014-.003h-.122a.037.037 0 0 1-.032-.019.038.038 0 0 1 0-.038l.057-.1a.044.044 0 0 0 .006-.02V8.2c0-.01-.004-.02-.011-.027a.037.037 0 0 0-.027-.011h-.066a.037.037 0 0 0-.03.017l-.038.06a.217.217 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.097.097 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.038.038 0 0 1 .043.005l.07.066c.007.007.015.01.024.01h.015c.022 0 .051 0 .057-.003.004-.002.004-.007.003-.014 0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.037.037 0 0 0 .05.006l.023-.016a.038.038 0 0 0 .012-.05l-.002-.005a.223.223 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.767.767 0 0 0 .208-.093.036.036 0 0 0 .019-.033v-.047l-.143.03a.038.038 0 0 1-.044-.031l-.016-.095a.038.038 0 0 0-.036-.03l-.143.015.018-.043a.043.043 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.038.038 0 0 0 .004-.055l-.396-.41a.039.039 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.033.033 0 0 0-.007.02l-.01.174c0 .011.003.02.011.029l.048.05a.038.038 0 0 1-.005.056l-.07.051a.037.037 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.042.042 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.123.123 0 0 1-.12.104H2.54l-.05-.01a2.652 2.652 0 0 1-.04-.009l-.358-.162a2.003 2.003 0 0 0-.075-.018l-.33-.022a2.158 2.158 0 0 1-.092.015l-.148.058a.217.217 0 0 1-.124.01L.591 5.23a.212.212 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.037.037 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.215.215 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.222.222 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.038.038 0 0 0 .014-.055s.365.383.4.399l.296.148a.22.22 0 0 0 .097.023h.147c.015 0 .028.008.033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.036.036 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212c0 .01.003.017.008.024.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.038.038 0 0 1 .008.024v.122a.04.04 0 0 1 .001.006l.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.222.222 0 0 1 .076.186l-.027.345-.003.02a.43.43 0 0 1-.003.02l-.119.45a1.75 1.75 0 0 0-.007.08l.012.185a.233.233 0 0 1-.01.095l-.044.126a.235.235 0 0 0-.007.125l.056.233a.123.123 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114c.01 0 .02-.004.026-.012l.266-.294a.036.036 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.039.039 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215ZM14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044.036.023.028.034-.022.03-.038-.004-.049.002-.07.039a.27.27 0 0 1-.078.074c-.071.044-.108.109-.06.109.013 0 .017.01.012.026-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.065.065 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076-.005-.006.001-.011.012-.011.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003-.024.005-.035.002-.035-.01 0-.02-.075-.089-.102-.097ZM12.885 9.274l-.486-.057a.119.119 0 0 1-.035-.01l-.118-.048a.144.144 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.128.128 0 0 0 .04.005h.397l.005-.083ZM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.254.254 0 0 0-.1.023l-.098.046a.249.249 0 0 0-.07.049l-.18.178a.24.24 0 0 1-.075.051l-.123.055a.259.259 0 0 0-.152.236v.02c0 .034.007.068.02.1l.096.228c.003.005.004.01.005.015a.11.11 0 0 0 .143.077l.245-.088a.248.248 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.254.254 0 0 0 .218.122h.118a.255.255 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006ZM13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.332.332 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043.02-.022.041-.032.058-.03ZM13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027ZM6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.133.133 0 0 1-.1-.028l-.153-.121.056-.067ZM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.132.132 0 0 0-.076-.024ZM8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08-.076-.057ZM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109-.117-.06ZM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456l-.044-.049ZM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082-.087-.007ZM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038-.067-.022Z\" fill=\"#050505\"></path><path d=\"m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13h-.222ZM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0ZM14.162 10.93h-.28l.074.164h.066l.14-.165Z\" fill=\"#050505\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6ZM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5Z\" fill=\"#000\"></path><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1Zm0 3V1H5v2h6Zm1.895 1h-9.79l.8 11h8.19l.8-11Z\" fill=\"#000\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-header.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-header.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 9 5\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4.128 4.587.751.834A.5.5 0 0 1 1.123 0h6.754a.5.5 0 0 1 .372.834L4.872 4.587a.5.5 0 0 1-.744 0Z\" fill=\"#000\" fill-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/more-16.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/more-16.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><g fill-rule=\"nonzero\" fill=\"none\"><path d=\"M13 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm-6.5 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM0 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z\" fill=\"#000\"></path><path d=\"M0 0h16v16H0z\"></path></g></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/widgets.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/widgets.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M20.889 1.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556h-6.222a3.556 3.556 0 0 1-3.556-3.556V4.889a3.556 3.556 0 0 1 3.556-3.556zM20 4v8h8V4h-8zM4.889 17.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556H4.889a3.556 3.556 0 0 1-3.556-3.556v-6.222a3.556 3.556 0 0 1 3.556-3.556zM4 20v8h8v-8H4zm20 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 2.667a6.667 6.667 0 1 1 0-13.334 6.667 6.667 0 0 1 0 13.334zM4.981 12h6.037L7.999 5.963 4.98 12zm4.212-9.615 5.176 10.352a1.334 1.334 0 0 1-1.192 1.93H2.825a1.333 1.333 0 0 1-1.192-1.929L6.809 2.386a1.332 1.332 0 0 1 2.385 0z\"></path></svg>"

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/config.ts":
/*!************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/config.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SceneQualityMode": () => (/* binding */ SceneQualityMode)
/* harmony export */ });
var SceneQualityMode;
(function (SceneQualityMode) {
    SceneQualityMode["auto"] = "auto";
    SceneQualityMode["low"] = "low";
    SceneQualityMode["medium"] = "medium";
    SceneQualityMode["high"] = "high";
})(SceneQualityMode || (SceneQualityMode = {}));


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DefaultMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class DefaultMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {
            defaultMapInfo: null
        };
    }
    componentDidMount() {
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.portalUtils.getDefaultWebMap(this.props.baseWidgetProps.portalUrl).then(defaultMapInfo => {
            this.setState({
                defaultMapInfo: defaultMapInfo
            });
        });
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100' },
            !this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'widget-map w-100 h-100 widget-map-background' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIsLive)(this.props.baseWidgetProps.appMode) }) }, this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap__WEBPACK_IMPORTED_MODULE_2__["default"], { key: 0, fullScreenMap: this.props.fullScreenMap, baseWidgetProps: this.props.baseWidgetProps, startLoadModules: this.props.startLoadModules, isDefaultMap: true, ref: this.props.setMultiSourceMapInstance, onViewGroupCreate: this.props.onViewGroupCreate, widgetHeight: this.props.widgetHeight, widthBreakpoint: this.props.widthBreakpoint, isFullScreen: this.props.isFullScreen, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.state.defaultMapInfo }))));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapThumb)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/filled/data/placeholder-map */ "./jimu-icons/filled/data/placeholder-map.tsx");



class MapThumb extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.unmount = false;
        this.setMapThumbUrl = (mapId) => {
            var _a;
            if (!mapId) {
                this.setState({ mapThumbUrl: null });
            }
            // if no portalUrl or same to config portalurl, use app config's portalUrl
            const portalUrl = ((_a = this.props) === null || _a === void 0 ? void 0 : _a.portUrl) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl) || null;
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restPortal.searchItems({
                q: `id:${mapId}`,
                authentication: session,
                portal: portalUrl + '/sharing/rest'
            }).then(items => {
                var _a;
                if (!this.unmount) {
                    if ((_a = items.results[0]) === null || _a === void 0 ? void 0 : _a.thumbnail) {
                        const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl);
                        let tempThumbUrl = null;
                        if (session && session.token) {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}?token=${session.token}`;
                        }
                        else {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}`;
                        }
                        this.setState({ mapThumbUrl: tempThumbUrl });
                    }
                    else {
                        this.setState({ mapThumbUrl: null });
                    }
                }
            });
        };
        this.state = {
            mapThumbUrl: null
        };
    }
    componentDidMount() {
        this.unmount = false;
        this.setMapThumbUrl(this.props.mapItemId);
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevProps.mapItemId !== this.props.mapItemId) {
            this.setMapThumbUrl(this.props.mapItemId);
        }
    }
    componentWillUnmount() {
        this.unmount = true;
    }
    render() {
        if (this.state.mapThumbUrl) {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ImageWithParam, { imageParam: { url: this.state.mapThumbUrl } });
        }
        else {
            const palette = this.props.theme.colors.palette;
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { backgroundColor: palette.light[200], height: '100%' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__.PlaceholderMapFilled, { color: palette.light[600], size: '100%' })));
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLoadStatus": () => (/* binding */ MapLoadStatus),
/* harmony export */   "default": () => (/* binding */ MapBase)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./extensions/widgets/arcgis/arcgis-map/src/config.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};






const Exchange = __webpack_require__(/*! ../assets/icons/exchange.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg");
var MapLoadStatus;
(function (MapLoadStatus) {
    MapLoadStatus["Loading"] = "LOADING";
    MapLoadStatus["Loadok"] = "LOADOK";
    MapLoadStatus["LoadError"] = "LOADERROR";
})(MapLoadStatus || (MapLoadStatus = {}));
class MapBase extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.highLightHandles = {};
        this.mapBaseViewEventHandles = {};
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.onExtented = null;
        this.isFirstReceiveMessage = true;
        this.isRequestingMap = false;
        this.__unmount = false;
        this.startRenderMap = () => {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/geometry/Extent',
                'esri/Viewpoint'
            ]).then(modules => {
                [
                    this.Extent, this.Viewpoint
                ] = modules;
                if (this.__unmount) {
                    return;
                }
                this.setState({
                    isModulesLoaded: true
                });
            });
        };
        this.analysisMapView = () => __awaiter(this, void 0, void 0, function* () {
            if (!this.mapView) {
                if (this.MapView) {
                    return yield this.initMapView();
                }
                else {
                    return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                        'esri/geometry/Geometry',
                        'esri/webmap/InitialViewProperties',
                        'esri/Basemap',
                        'esri/layers/TileLayer',
                        'esri/views/MapView',
                        'esri/WebMap',
                        'esri/portal/Portal',
                        'esri/portal/PortalItem',
                        'esri/Color'
                    ]).then((modules) => __awaiter(this, void 0, void 0, function* () {
                        [
                            this.Geometry, this.InitialViewProperties, this.Basemap, this.TileLayer, this.MapView, this.WebMap, this.Portal, this.PortalItem, this.Color
                        ] = modules;
                        return yield this.initMapView();
                    }));
                }
            }
            else {
                return yield Promise.resolve();
            }
        });
        this.analysisSceneView = () => __awaiter(this, void 0, void 0, function* () {
            if (!this.sceneView) {
                if (this.SceneView) {
                    return yield this.initSceneView();
                }
                else {
                    return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                        'esri/views/SceneView',
                        'esri/WebScene',
                        'esri/portal/Portal',
                        'esri/portal/PortalItem',
                        'esri/Color'
                    ]).then((modules) => __awaiter(this, void 0, void 0, function* () {
                        [
                            this.SceneView, this.WebScene, this.Portal, this.PortalItem, this.Color
                        ] = modules;
                        return yield this.initSceneView();
                    }));
                }
            }
            else {
                return yield Promise.resolve();
            }
        });
        this.generateViewPointFromInitialMapState = (initialMapState) => {
            if (initialMapState.viewType === '2d') {
                return new this.Viewpoint({
                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                    rotation: initialMapState.rotation
                });
            }
            else {
                return this.Viewpoint.fromJSON(initialMapState.viewPoint);
            }
        };
        this.cloneMap = () => __awaiter(this, void 0, void 0, function* () {
            let map = null;
            const dataSourceJson = this.getDsJsonFromDsId(this.props.dataSourceId);
            let MapClass = null;
            if (dataSourceJson.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {
                MapClass = this.WebMap;
            }
            if (dataSourceJson.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                MapClass = this.WebScene;
            }
            if (dataSourceJson.portalUrl) {
                const portal = new this.Portal({
                    url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getPlatformUrlByOrgUrl(dataSourceJson.portalUrl)
                });
                map = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId,
                        portal: portal
                    })
                });
            }
            else {
                map = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId
                    })
                });
            }
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getWhetherUseProxy()) {
                return yield map.load().then(() => __awaiter(this, void 0, void 0, function* () {
                    return yield map.when(() => __awaiter(this, void 0, void 0, function* () {
                        const tables = map.tables ? map.tables.toArray() : [];
                        tables.forEach(table => {
                            const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(table);
                            if (!sourceUrl) {
                                return;
                            }
                            const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);
                            if (proxyUrl) {
                                table.url = proxyUrl;
                            }
                        });
                        map.allLayers.toArray()
                            .forEach(layer => {
                            const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(layer);
                            if (!sourceUrl) {
                                return;
                            }
                            const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);
                            if (proxyUrl) {
                                layer.url = proxyUrl;
                            }
                        });
                        return Promise.resolve(map);
                    }));
                }));
            }
            else {
                return Promise.resolve(map);
            }
        });
        this.getInitViewPointForDefaultWebMap = () => {
            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
            let tempViewPoint = null;
            if (this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.viewPoint) {
                tempViewPoint = this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            else {
                tempViewPoint = new this.Viewpoint({
                    targetGeometry: new this.Extent({
                        xmin: defaultExtent && defaultExtent.xmin,
                        ymin: defaultExtent && defaultExtent.ymin,
                        xmax: defaultExtent && defaultExtent.xmax,
                        ymax: defaultExtent && defaultExtent.ymax,
                        spatialReference: { wkid: defaultExtent.spatialReference.wkid }
                    })
                });
            }
            return tempViewPoint;
        };
        this.getDefaultWebMap = () => {
            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
            let tempViewPoint = null;
            tempViewPoint = new this.Viewpoint({
                targetGeometry: new this.Extent({
                    xmin: defaultExtent && defaultExtent.xmin,
                    ymin: defaultExtent && defaultExtent.ymin,
                    xmax: defaultExtent && defaultExtent.xmax,
                    ymax: defaultExtent && defaultExtent.ymax,
                    spatialReference: { wkid: defaultExtent.spatialReference.wkid }
                })
            });
            const defaultWebmap = new this.WebMap({
                portalItem: {
                    id: this.props.defaultMapInfo.defaultMapId,
                    portal: {
                        url: this.props.baseWidgetProps.portalUrl
                    }
                },
                initialViewProperties: new this.InitialViewProperties({
                    spatialReference: defaultExtent && defaultExtent.spatialReference,
                    viewpoint: tempViewPoint
                })
            });
            return defaultWebmap;
        };
        this.initMapView = () => __awaiter(this, void 0, void 0, function* () {
            this.extentWatch = null;
            this.fatalErrorWatch = null;
            if (this.mapView && !this.isRequestingMap) {
                return yield Promise.resolve();
            }
            if (this.isRequestingMap) {
                return;
            }
            this.isRequestingMap = true;
            let mapViewOption;
            if (this.props.isDefaultMap) {
                const defaultMap = this.getDefaultWebMap();
                mapViewOption = {
                    map: defaultMap,
                    container: this.mapContainer,
                    viewpoint: this.getInitViewPointForDefaultWebMap(),
                    rotation: this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.rotation
                };
            }
            else {
                const tempWebmap = yield this.cloneMap();
                if (this.props.baseWidgetProps.config.initialMapState) {
                    mapViewOption = {
                        map: tempWebmap,
                        container: this.mapContainer,
                        viewpoint: this.props.baseWidgetProps.config.initialMapState &&
                            this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState)
                    };
                }
                else {
                    mapViewOption = {
                        map: tempWebmap,
                        container: this.mapContainer
                    };
                }
                if (this.props.baseWidgetProps.config.selectionHighlightColor) {
                    mapViewOption.highlightOptions = {
                        color: this.props.baseWidgetProps.config.selectionHighlightColor,
                        haloColor: this.props.baseWidgetProps.config.selectionHighlightHaloColor
                    };
                }
            }
            if (!window.jimuConfig.isInBuilder) {
                if (this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id]) {
                    const extentStr = this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id].substr('extent='.length);
                    let extent;
                    try {
                        extent = new this.Extent(JSON.parse(extentStr));
                    }
                    catch (err) {
                        console.error('Bad extent URL parameter.');
                    }
                    if (extent) {
                        mapViewOption.extent = extent;
                    }
                }
            }
            if (this.mapView) {
                return yield Promise.resolve();
            }
            this.mapView = new this.MapView(mapViewOption);
            this.mapView.popup.spinnerEnabled = false;
            if (this.props.isDefaultMap || (this.mapDs && this.mapDs.id === this.props.dataSourceId)) {
                this.createJimuMapView();
            }
            this.mapView.when(() => {
                var _a, _b, _c;
                // after view is loaded, send extent change message
                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {
                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);
                });
                if (!this.extentWatch) {
                    // Should listen extentChange event when all layers are loaded, otherwise the callback will be called
                    // several times while view loading.
                    const startWatchExtentChangePromise = Promise.allSettled(this.mapView.map.allLayers.map((layer) => __awaiter(this, void 0, void 0, function* () {
                        return yield this.mapView.whenLayerView(layer);
                    }))).then(() => {
                        return true;
                    }).catch(() => {
                        return true;
                    });
                    startWatchExtentChangePromise.then(() => {
                        this.extentWatch = this.mapView.watch('extent', (extent) => {
                            if (!extent) {
                                return;
                            }
                            clearTimeout(this.onExtented);
                            this.onExtented = setTimeout(() => {
                                if (!extent) {
                                    return;
                                }
                                if (this.mapView.isReceiveExtentChange) {
                                    this.mapView.isReceiveExtentChange = false;
                                }
                                else {
                                    const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent);
                                    extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
                                    this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                                }
                            }, 200);
                        });
                    });
                }
                if (!this.fatalErrorWatch) {
                    this.fatalErrorWatch = this.mapView.watch('fatalError', (error) => {
                        if (error) {
                            if (!this.mapView.isInCaching) {
                                console.error('Fatal Error! View has lost its WebGL context. Attempting to recover...');
                                this.mapView.tryFatalErrorRecovery();
                            }
                            else {
                                this.setState({
                                    isMapCrashed: true
                                });
                            }
                        }
                    });
                }
                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish
                // extentMessage and change other mapWidget's extent.
                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {
                    this.goHome(false).then(() => {
                        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, this.mapView.extent);
                        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
                        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                        this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: this.mapView.viewpoint.clone() });
                    });
                }
            });
            this.isRequestingMap = false;
            this.bindMapBaseViewEvent(this.mapView);
            return Promise.resolve();
        });
        this.initSceneView = () => __awaiter(this, void 0, void 0, function* () {
            this.extentWatch = null;
            this.fatalErrorWatch = null;
            if (this.sceneView && !this.isRequestingMap) {
                return yield Promise.resolve();
            }
            if (this.isRequestingMap) {
                return;
            }
            this.isRequestingMap = true;
            const tempWebScene = yield this.cloneMap();
            const mapViewOption = {
                map: tempWebScene,
                container: this.mapContainer
            };
            if (this.props.baseWidgetProps.config.initialMapState) {
                mapViewOption.viewpoint = this.props.baseWidgetProps.config.initialMapState &&
                    this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            if (this.props.baseWidgetProps.config.selectionHighlightColor) {
                mapViewOption.highlightOptions = {
                    color: new this.Color(this.props.baseWidgetProps.config.selectionHighlightColor),
                    haloColor: new this.Color(this.props.baseWidgetProps.config.selectionHighlightHaloColor)
                };
            }
            const sceneQualityMode = this.props.baseWidgetProps.config.sceneQualityMode;
            if (sceneQualityMode && sceneQualityMode !== _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.auto) {
                mapViewOption.qualityProfile = sceneQualityMode;
            }
            else {
                // use 'low' as default value
                mapViewOption.qualityProfile = _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.low;
            }
            if (this.sceneView) {
                return yield Promise.resolve();
            }
            this.sceneView = new this.SceneView(mapViewOption);
            this.sceneView.popup.spinnerEnabled = false;
            if (this.mapDs && this.mapDs.id === this.props.dataSourceId) {
                this.createJimuMapView();
            }
            this.sceneView.when(() => {
                var _a, _b, _c;
                // after view is loaded, send extent change message
                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {
                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);
                });
                if (!this.extentWatch) {
                    // Should listen extentChange event when all layers are loaded, otherwise the callback will be called
                    // several times while view loading.
                    const startWatchExtentChangePromise = Promise.allSettled(this.sceneView.map.allLayers.map((layer) => __awaiter(this, void 0, void 0, function* () {
                        return yield this.sceneView.whenLayerView(layer);
                    }))).then(() => {
                        return true;
                    }).catch(() => {
                        return true;
                    });
                    startWatchExtentChangePromise.then(() => {
                        this.extentWatch = this.sceneView.watch('extent', (extent) => {
                            if (!extent) {
                                return;
                            }
                            clearTimeout(this.onExtented);
                            this.onExtented = setTimeout(() => {
                                if (!extent) {
                                    return;
                                }
                                if (this.sceneView.isReceiveExtentChange) {
                                    this.sceneView.isReceiveExtentChange = false;
                                }
                                else {
                                    const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent);
                                    extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
                                    this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                                }
                            }, 100);
                        });
                    });
                }
                if (!this.fatalErrorWatch) {
                    this.fatalErrorWatch = this.sceneView.watch('fatalError', (error) => {
                        if (error) {
                            if (!this.sceneView.isInCaching) {
                                this.sceneView.tryFatalErrorRecovery();
                                console.error('Fatal Error! View has lost its WebGL context. Attempting to recover...');
                            }
                            else {
                                this.setState({
                                    isMapCrashed: true
                                });
                            }
                        }
                    });
                }
                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish
                // extentMessage and change other mapWidget's extent.
                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {
                    this.goHome(false).then(() => {
                        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, this.sceneView.extent);
                        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
                        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                        this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: this.sceneView.viewpoint.clone() });
                    });
                }
            });
            this.isRequestingMap = false;
            this.bindMapBaseViewEvent(this.sceneView);
            return Promise.resolve();
        });
        this.updateMapView = (config, preConfig) => {
            var _a;
            const jimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
            let jimuMapView = null;
            if (jimuMapViewId) {
                jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            }
            if (!jimuMapView || !this.mapView) {
                return;
            }
            // update popup options
            if (config.disablePopUp) {
                (_a = this.mapView.popup) === null || _a === void 0 ? void 0 : _a.close();
                this.mapView.popup && (this.mapView.popup.autoOpenEnabled = false);
            }
            else {
                this.mapView.popup && (this.mapView.popup.autoOpenEnabled = true);
            }
            if ((config.selectionHighlightColor && config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) ||
                (config.selectionHighlightHaloColor && config.selectionHighlightHaloColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightHaloColor))) {
                const highlightOptions = Object.assign(Object.assign({}, this.mapView.highlightOptions), { color: new this.Color(config.selectionHighlightColor), haloColor: new this.Color(config.selectionHighlightHaloColor) });
                this.mapView.highlightOptions = highlightOptions;
            }
            if (!this.mapView.ui) {
                return;
            }
            this.mapView.ui.components = [];
        };
        this.updateSceneView = (config, preConfig) => {
            var _a;
            const jimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
            let jimuMapView = null;
            if (jimuMapViewId) {
                jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            }
            if (!jimuMapView || !this.sceneView) {
                return;
            }
            // update popup option
            if (config.disablePopUp) {
                (_a = this.sceneView.popup) === null || _a === void 0 ? void 0 : _a.close();
                this.sceneView.popup && (this.sceneView.popup.autoOpenEnabled = false);
            }
            else {
                this.sceneView.popup && (this.sceneView.popup.autoOpenEnabled = true);
            }
            if ((config.selectionHighlightColor && config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) ||
                (config.selectionHighlightHaloColor && config.selectionHighlightHaloColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightHaloColor))) {
                const highlightOptions = Object.assign(Object.assign({}, this.sceneView.highlightOptions), { color: new this.Color(config.selectionHighlightColor), haloColor: new this.Color(config.selectionHighlightHaloColor) });
                this.sceneView.highlightOptions = highlightOptions;
            }
            const sceneQualityMode = config.sceneQualityMode;
            if (sceneQualityMode && sceneQualityMode !== this.sceneView.qualityProfile) {
                this.sceneView.qualityProfile = sceneQualityMode;
            }
            if (!this.sceneView.ui) {
                return;
            }
            this.sceneView.ui.components = [];
        };
        this.bindMapBaseViewEvent = (mapBaseView) => {
            if (mapBaseView) {
                if (this.mapBaseViewEventHandles['mouse-wheel']) {
                    this.mapBaseViewEventHandles['mouse-wheel'].remove();
                    this.mapBaseViewEventHandles['mouse-wheel'] = null;
                }
                this.mapBaseViewEventHandles['mouse-wheel'] = mapBaseView.on('mouse-wheel', (e) => {
                    if (this.props.baseWidgetProps.config.disableScroll) {
                        e.stopPropagation();
                        this.handleDisableWheel();
                        return;
                    }
                    this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: mapBaseView.viewpoint.clone() });
                });
                if (this.mapBaseViewEventHandles.drag) {
                    this.mapBaseViewEventHandles.drag.remove();
                    this.mapBaseViewEventHandles.drag = null;
                }
                this.mapBaseViewEventHandles.drag = mapBaseView.on('drag', () => {
                    this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: mapBaseView.viewpoint.clone() });
                });
                if (this.mapBaseViewEventHandles.click) {
                    this.mapBaseViewEventHandles.click.remove();
                    this.mapBaseViewEventHandles.click = null;
                }
                this.mapBaseViewEventHandles.click = mapBaseView.on('click', () => {
                    for (const key in this.highLightHandles) {
                        this.highLightHandles[key].remove();
                    }
                });
            }
        };
        // onShowOnMapDataChanged = (showOnMapDatasKey) => {
        //  this.setState({
        //    showOnMapDatasKey: showOnMapDatasKey
        //  })
        // }
        this.createJimuMapView = () => {
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().createJimuMapView({
                mapWidgetId: this.props.baseWidgetProps.id,
                dataSourceId: this.props.dataSourceId,
                view: this.mapView || this.sceneView,
                isEnablePopup: this.props.baseWidgetProps.config && !this.props.baseWidgetProps.config.disablePopUp,
                mapViewManager: jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance()
            });
            const mapBaseView = this.mapView || this.sceneView;
            if (mapBaseView) {
                mapBaseView.when(() => {
                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);
                    if (tempJimuMapView) {
                        if (tempJimuMapView.view) {
                            tempJimuMapView.whenJimuMapViewLoaded().then(() => {
                                if (!tempJimuMapView.view) {
                                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(tempJimuMapViewId);
                                    return;
                                }
                                this.props.onJimuMapViewCreated();
                                this.setState({
                                    mapBaseJimuMapView: tempJimuMapView
                                });
                            });
                        }
                        else {
                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(tempJimuMapViewId);
                        }
                    }
                });
            }
            else {
                const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(tempJimuMapViewId);
            }
        };
        this.onDataSourceCreated = (dataSource) => {
            this.mapDs = dataSource;
            if (this.mapDs.id === this.props.dataSourceId && (this.mapView || this.sceneView)) {
                this.createJimuMapView();
            }
            this.setState({
                isMapCrashed: false
            });
        };
        this.onCreateDataSourceFailed = (err) => {
            console.warn(err);
            this.mapDs = null;
            this.setState({
                mapLoadStatus: MapLoadStatus.LoadError,
                isMapCrashed: false
            }, () => {
                this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.LoadError);
                this.createJimuMapView();
            });
        };
        this.setViewPoint = (viewPoint) => {
            if (!viewPoint || !this.getDsJsonFromDsId(this.props.dataSourceId)) {
                return;
            }
            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {
                if (this.mapView) {
                    this.mapView.viewpoint = viewPoint;
                }
            }
            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                if (this.sceneView) {
                    this.sceneView.viewpoint = viewPoint;
                }
            }
        };
        this.getMapLoadStatus = () => {
            return this.state.mapLoadStatus;
        };
        this.getViewPoint = () => {
            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {
                return null;
            }
            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {
                return this.mapView && this.mapView.viewpoint ? this.mapView.viewpoint.clone() : null;
            }
            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                if (this.sceneView && this.sceneView.viewpoint) {
                    // For scene, the first extent (after scene loaded) is not correct. So we use go to camera to get correct extent
                    this.sceneView.goTo(this.sceneView.viewpoint.camera, {
                        animate: false
                    });
                    return this.sceneView.viewpoint.clone();
                }
                else {
                    return null;
                }
            }
        };
        this.getViewType = () => {
            return this.getDsJsonFromDsId(this.props.dataSourceId).type;
        };
        this.goToTilt = (tilt) => {
            this.sceneView && this.sceneView.goTo({
                tilt: tilt
            });
        };
        this.goHome = (useAmination) => __awaiter(this, void 0, void 0, function* () {
            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {
                return yield Promise.resolve();
            }
            const initViewPoint = this.getMapBaseInitViewPoint();
            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {
                if (this.mapView) {
                    return this.mapView.goTo(initViewPoint, {
                        animate: useAmination
                    });
                }
            }
            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                if (this.sceneView) {
                    return this.sceneView.goTo(initViewPoint, {
                        animate: useAmination
                    });
                }
            }
            return yield Promise.resolve();
        });
        this.getMapBaseInitViewPoint = () => {
            var _a, _b, _c, _d, _e, _f;
            if (this.props.isDefaultMap) {
                return this.getInitViewPointForDefaultWebMap();
            }
            else {
                if (this.props.baseWidgetProps.config.initialMapState) {
                    return this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
                }
                else {
                    if (this.mapView) {
                        return (_c = (_b = (_a = this.mapView.map) === null || _a === void 0 ? void 0 : _a.initialViewProperties) === null || _b === void 0 ? void 0 : _b.viewpoint) === null || _c === void 0 ? void 0 : _c.clone();
                    }
                    if (this.sceneView) {
                        return (_f = (_e = (_d = this.sceneView.map) === null || _d === void 0 ? void 0 : _d.initialViewProperties) === null || _e === void 0 ? void 0 : _e.viewpoint) === null || _f === void 0 ? void 0 : _f.clone();
                    }
                }
            }
        };
        this.getDsJsonFromDsId = (dataSourceId) => {
            const dsJson = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources[dataSourceId];
            return dsJson || {};
        };
        this.queryExtentFromQueryParams = (mapBaseView, dataSourceId, useDataSources) => {
            const dataSource = this.dsManager.getDataSource(dataSourceId);
            const queryParams = dataSource.getCurrentQueryParams();
            const useDefaultExtentOfCurrentView = !useDataSources.some(useDataSource => {
                const dataSource = this.dsManager.getDataSource(useDataSource.dataSourceId);
                const queryParams = dataSource.getRuntimeQueryParams();
                // use default extent if all merged SQLs on data source is remvoved.
                const hasQueryWhere = (queryParams === null || queryParams === void 0 ? void 0 : queryParams.where) && queryParams.where !== '1=1';
                if (hasQueryWhere) {
                    return true;
                }
                else {
                    return false;
                }
            });
            let layerObjectPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerObjectPromise = Promise.resolve(dataSource.layer);
            }
            else {
                layerObjectPromise = dataSource.createJSAPILayerByDataSource().then((layerObject) => Promise.resolve(layerObject));
            }
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query',
                'esri/Graphic',
                'esri/geometry/Point'
            ]).then(modules => {
                const [Query, Graphic, Point] = modules;
                const query = new Query();
                query.where = queryParams === null || queryParams === void 0 ? void 0 : queryParams.where;
                return layerObjectPromise.then(layerObject => {
                    if (useDefaultExtentOfCurrentView) {
                        const initViewPoint = this.getMapBaseInitViewPoint();
                        return {
                            viewpoint: initViewPoint,
                            useDefaultExtentOfCurrentView: true,
                            singlePointGraphic: null,
                            count: 2,
                            layer: layerObject
                        };
                    }
                    return layerObject.queryExtent(query).then(result => {
                        var _a;
                        const extentCenter = (_a = result === null || result === void 0 ? void 0 : result.extent) === null || _a === void 0 ? void 0 : _a.center;
                        const extent = result === null || result === void 0 ? void 0 : result.extent;
                        let singlePointGraphic;
                        if ((result === null || result === void 0 ? void 0 : result.count) === 1 && (layerObject.geometryType === 'point') && extentCenter) {
                            const point = new Point({
                                x: extentCenter.x,
                                y: extentCenter.y,
                                spatialReference: extent.spatialReference
                            });
                            singlePointGraphic = new Graphic({ geometry: point });
                        }
                        return {
                            extent: extent,
                            singlePointGraphic: singlePointGraphic,
                            count: result === null || result === void 0 ? void 0 : result.count,
                            layer: layerObject
                        };
                    });
                });
            });
        };
        /**
         * handle data/action.
         */
        this.handleDataAction = (mutableStateProps, jimuMapView) => {
            // handle show data on map action
            if (mutableStateProps.showOnMapDatas) {
                jimuMapView.drawDataOnMap(mutableStateProps.showOnMapDatas);
            }
        };
        /**
         * handle message/action.
         */
        this.handleAction = (mutableStateProps, mapBaseView) => {
            var _a, _b;
            if (mutableStateProps.zoomToFeatureActionValue) {
                if (mutableStateProps.zoomToFeatureActionValue.relatedWidgets &&
                    mutableStateProps.zoomToFeatureActionValue.relatedWidgets.includes(this.props.baseWidgetProps.id)) {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
                }
                else {
                    const tempMapBaseView = mapBaseView;
                    const relatedWidgets = mutableStateProps.zoomToFeatureActionValue.relatedWidgets
                        ? mutableStateProps.zoomToFeatureActionValue.relatedWidgets
                        : [];
                    const zoomToFeatureValue = mutableStateProps.zoomToFeatureActionValue.value;
                    let layer = null;
                    if (zoomToFeatureValue.layerId) {
                        layer = tempMapBaseView.map.layers.find(layer => layer.id === zoomToFeatureValue.layerId);
                    }
                    if (zoomToFeatureValue.type === 'zoom-to-extent') {
                        tempMapBaseView.isReceiveExtentChange = true;
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(tempMapBaseView, zoomToFeatureValue.features[0], zoomToFeatureValue.zoomToOption).then(() => {
                            relatedWidgets.push(this.props.baseWidgetProps.id);
                            const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, tempMapBaseView.extent);
                            extentMessage.setRelatedWidgetIds(relatedWidgets);
                            this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                        }, () => {
                            tempMapBaseView.isReceiveExtentChange = false;
                        });
                    }
                    else if (zoomToFeatureValue.type === 'zoom-to-query-params') {
                        this.queryExtentFromQueryParams(mapBaseView, zoomToFeatureValue.dataSourceId, zoomToFeatureValue.useDataSources).then((result) => {
                            let target;
                            if (result.count === 0) {
                                return;
                            }
                            else if (result.count === 1 && (result === null || result === void 0 ? void 0 : result.singlePointGraphic)) {
                                target = {
                                    graphics: [result === null || result === void 0 ? void 0 : result.singlePointGraphic],
                                    layer: result === null || result === void 0 ? void 0 : result.layer
                                };
                            }
                            else {
                                target = {
                                    extent: result === null || result === void 0 ? void 0 : result.extent,
                                    layer: result === null || result === void 0 ? void 0 : result.layer
                                };
                            }
                            // Because of 'zoomToUtils' does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                            if (result.useDefaultExtentOfCurrentView) {
                                tempMapBaseView.goTo(result.viewpoint);
                            }
                            else {
                                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(tempMapBaseView, target, zoomToFeatureValue.zoomToOption);
                            }
                        });
                    }
                    else {
                        let target = null;
                        if (layer) {
                            target = {
                                layer: layer,
                                graphics: zoomToFeatureValue.features
                            };
                        }
                        else {
                            target = zoomToFeatureValue.features;
                        }
                        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.processZoomToFeatures)(tempMapBaseView, target.layer, (target && target.graphics) ? target.graphics : target).then(graphics => {
                            if (layer) {
                                target.graphics = graphics;
                            }
                            else {
                                target = graphics;
                            }
                            tempMapBaseView.isReceiveExtentChange = true;
                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(tempMapBaseView, target, zoomToFeatureValue.zoomToOption).then(() => {
                                relatedWidgets.push(this.props.baseWidgetProps.id);
                                const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, tempMapBaseView.extent);
                                extentMessage.setRelatedWidgetIds(relatedWidgets);
                                this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                            }, () => {
                                tempMapBaseView.isReceiveExtentChange = false;
                            });
                        });
                    }
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
                }
            }
            if (mutableStateProps.panToActionValue) {
                if (mutableStateProps.panToActionValue.relatedWidgets &&
                    mutableStateProps.panToActionValue.relatedWidgets.includes(this.props.baseWidgetProps.id)) {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
                }
                else if (((_b = (_a = mutableStateProps.panToActionValue) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.type) === 'pan-to-query-params') {
                    const panToValue = mutableStateProps.panToActionValue.value;
                    const relatedWidgets = mutableStateProps.panToActionValue.relatedWidgets
                        ? mutableStateProps.panToActionValue.relatedWidgets
                        : [];
                    this.queryExtentFromQueryParams(mapBaseView, panToValue.dataSourceId, panToValue.useDataSources).then((result) => {
                        var _a, _b, _c;
                        // Because of 'panToGeometry' method does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                        if (result.useDefaultExtentOfCurrentView) {
                            const targetGeometry = ((_b = (_a = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _a === void 0 ? void 0 : _a.camera) === null || _b === void 0 ? void 0 : _b.position) || ((_c = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _c === void 0 ? void 0 : _c.targetGeometry);
                            this.panToGeometry([targetGeometry], mapBaseView, relatedWidgets);
                        }
                        else {
                            this.panToGeometry([result === null || result === void 0 ? void 0 : result.extent], mapBaseView, relatedWidgets);
                        }
                    });
                }
                else {
                    const panToValue = mutableStateProps.panToActionValue.value;
                    const relatedWidgets = mutableStateProps.panToActionValue.relatedWidgets
                        ? mutableStateProps.panToActionValue.relatedWidgets
                        : [];
                    this.panToGeometry(panToValue.features, mapBaseView, relatedWidgets);
                }
                mapBaseView.isReceiveExtentChange = true;
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
            }
            if (mutableStateProps.newFeatureSetActionValue && !mutableStateProps.newFeatureSetActionValue.promise) {
                const createNewFeaturelayerPromise = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.createNewFeaturelayer)(mapBaseView, mutableStateProps.newFeatureSetActionValue.value);
                if (createNewFeaturelayerPromise) {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue.promise', createNewFeaturelayerPromise);
                    createNewFeaturelayerPromise.then(() => {
                        this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
                    });
                }
                else {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
                }
            }
            if (mutableStateProps.changedFeatureSetActionValue) {
                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateFeaturelayer)(mapBaseView, mutableStateProps.changedFeatureSetActionValue);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'changedFeatureSetActionValue', null);
            }
            if (mutableStateProps.selectFeatureActionValue) {
                mapBaseView.popup.close();
                for (const key in this.highLightHandles) {
                    this.highLightHandles[key].remove();
                }
                const selectFeatureHandle = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.selectFeature)(mapBaseView, mutableStateProps.selectFeatureActionValue);
                if (selectFeatureHandle) {
                    this.highLightHandles[selectFeatureHandle.layerId] = selectFeatureHandle.handle;
                }
                setTimeout(() => {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'selectFeatureActionValue', null);
                }, 500);
            }
            const mutableStatePropsKeys = Object.keys(mutableStateProps);
            mutableStatePropsKeys.some(actionKey => {
                var _a;
                const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
                const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);
                // handle flash action
                if (actionKey.indexOf('flashActionValue-') === 0 && mutableStateProps[actionKey]) {
                    mutableStateProps[actionKey].querySQL && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.flashFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
                }
                // handle filter action
                if (actionKey.indexOf('filterActionValue-') === 0 && mutableStateProps[actionKey]) {
                    ((_a = mutableStateProps[actionKey].querySQL) === null || _a === void 0 ? void 0 : _a.length) >= 0 && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.filterFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
                }
                return false;
            });
        };
        this.panToGeometry = (geometrys, mapBaseView, relatedWidgets) => {
            //const tempMapBaseView = mapBaseView as any
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)(geometrys, mapBaseView.spatialReference).then((geometries) => {
                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.mapPanto)(mapBaseView, geometries).then(() => {
                    mapBaseView.isReceiveExtentChange = true;
                    relatedWidgets.push(this.props.baseWidgetProps.id);
                    const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, mapBaseView.extent);
                    extentMessage.setRelatedWidgetIds(relatedWidgets);
                    this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
                }, () => {
                    mapBaseView.isReceiveExtentChange = true;
                });
            });
        };
        this.formatMessage = (id) => {
            return this.props.baseWidgetProps.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages[id] });
        };
        this.handleDisableWheel = () => {
            this.widgetContainer.style.pointerEvents = 'none';
            setTimeout(() => {
                this.widgetContainer.style.pointerEvents = 'auto';
            }, 50);
        };
        this.getMapSwitchForErrorMap = () => {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mapswitch-container', style: {
                    display: isShowMapSwitchBtn ? 'block' : 'none',
                    marginBottom: this.props.widthBreakpoint === 'xsmall' ? 10 : 0
                } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { onClick: (e) => { e.preventDefault(); switchMap(); }, className: 'w-100 h-100 esri-widget--button' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: Exchange, width: 16, height: 16, className: 'mapswitch-icon' }))))));
        };
        this.recoverMap = () => {
            if (this.mapView) {
                this.mapView.tryFatalErrorRecovery();
                this.setState({
                    isMapCrashed: false
                });
            }
            if (this.sceneView) {
                this.sceneView.tryFatalErrorRecovery();
                this.setState({
                    isMapCrashed: false
                });
            }
        };
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',
            `${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`]);
        if (restoreData) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.restoreMapBase)(this, restoreData);
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`, null);
            this.bindMapBaseViewEvent(this.mapView || this.sceneView);
            if (this.mapView) {
                this.mapView.isInCaching = false;
                this.mapView.tryFatalErrorRecovery();
            }
            if (this.sceneView) {
                this.sceneView.isInCaching = false;
                this.sceneView.tryFatalErrorRecovery();
            }
        }
        else {
            this.state = {
                mapLoadStatus: MapLoadStatus.Loading,
                widthBreakpoint: null,
                mapBaseJimuMapView: null,
                dataSourceId: null,
                widgetHeight: null,
                isMapCrashed: false
            };
        }
    }
    componentDidMount() {
        this.__unmount = false;
        if (this.widgetContainer.getElementsByClassName('widget-map').length === 0) {
            if (!this.mapContainer) {
                this.mapContainer = document && document.createElement('div');
                this.mapContainer.className = 'w-100 h-100 widget-map mapview-container';
            }
            this.widgetContainer.appendChild(this.mapContainer);
        }
        if (this.props.startLoadModules && !this.state.isModulesLoaded) {
            this.startRenderMap();
            return;
        }
        if (!this.props.dataSourceId && !this.props.isDefaultMap) {
            return;
        }
        if (!this.getDsJsonFromDsId(this.props.dataSourceId) && !this.props.isDefaultMap) {
            return;
        }
        if (this.props.isDefaultMap) {
            // init and update map
            this.analysisMapView().then(() => {
                this.updateMapView(this.props.baseWidgetProps.config);
            });
            return;
        }
        if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {
            // init and update map
            this.analysisMapView().then(() => {
                this.updateMapView(this.props.baseWidgetProps.config);
            });
        }
        if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
            // init and update map
            this.analysisSceneView().then(() => {
                this.updateSceneView(this.props.baseWidgetProps.config);
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (!this.state.isModulesLoaded) {
            return;
        }
        if (prevProps.isMapInVisibleArea !== this.props.isMapInVisibleArea && (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length === 2)) {
            if (this.props.isMapInVisibleArea) {
                if (this.mapView) {
                    this.mapView.isInCaching = false;
                    this.mapView.tryFatalErrorRecovery();
                }
                if (this.sceneView) {
                    this.sceneView.isInCaching = false;
                    this.sceneView.tryFatalErrorRecovery();
                }
            }
            if (!this.props.isMapInVisibleArea) {
                if (this.mapView) {
                    this.mapView.isInCaching = true;
                }
                if (this.sceneView) {
                    this.sceneView.isInCaching = true;
                }
            }
        }
        const curDsId = this.props.dataSourceId;
        const prevDsId = prevProps.dataSourceId;
        const curDsItemId = this.getDsJsonFromDsId(curDsId).itemId;
        const preDsItemId = this.getDsJsonFromDsId(prevDsId).itemId;
        if (curDsId !== prevDsId || curDsItemId !== preDsItemId) {
            this.mapView = null;
            this.sceneView = null;
            this.isRequestingMap = false;
            this.mapDs = null;
            const prevJimuMapViewId = this.getDsJsonFromDsId(prevDsId) && `${this.props.baseWidgetProps.id}-${prevDsId}`;
            if (prevJimuMapViewId) {
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(prevJimuMapViewId);
            }
            if (this.state.mapLoadStatus === MapLoadStatus.LoadError && !this.getDsJsonFromDsId(curDsId)) {
                return;
            }
            this.setState({
                mapLoadStatus: MapLoadStatus.Loading
            });
        }
        if (this.props.isDefaultMap) {
            this.sceneView = null;
            this.isRequestingMap = false;
            this.analysisMapView().then(() => {
                this.updateMapView(this.props.baseWidgetProps.config);
                if (!this.mapView || !this.props.baseWidgetProps.mutableStateProps) {
                    return;
                }
                if (this.props.baseWidgetProps.mutableStateProps) {
                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);
                    if (tempJimuMapView) {
                        tempJimuMapView.whenJimuMapViewLoaded().then(() => {
                            setTimeout(() => {
                                this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.mapView);
                                this.handleDataAction(this.props.baseWidgetProps.mutableStateProps, tempJimuMapView);
                                this.isFirstReceiveMessage = false;
                            }, this.isFirstReceiveMessage ? 500 : 0);
                        });
                    }
                }
            });
        }
        if (!this.getDsJsonFromDsId(curDsId)) {
            return;
        }
        if (this.getDsJsonFromDsId(curDsId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {
            this.sceneView = null;
            this.isRequestingMap = false;
            this.analysisMapView().then(() => {
                var _a;
                this.updateMapView(this.props.baseWidgetProps.config, (_a = prevProps.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.config);
                if (!this.mapView || !this.props.baseWidgetProps.mutableStateProps) {
                    return;
                }
                if (this.props.baseWidgetProps.mutableStateProps) {
                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);
                    if (tempJimuMapView) {
                        tempJimuMapView.whenJimuMapViewLoaded().then(() => {
                            setTimeout(() => {
                                this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.mapView);
                                this.handleDataAction(this.props.baseWidgetProps.mutableStateProps, tempJimuMapView);
                                this.isFirstReceiveMessage = false;
                            }, this.isFirstReceiveMessage ? 500 : 0);
                        });
                    }
                }
            });
        }
        if (this.getDsJsonFromDsId(curDsId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
            this.mapView = null;
            this.isRequestingMap = false;
            this.analysisSceneView().then(() => {
                var _a;
                this.updateSceneView(this.props.baseWidgetProps.config, (_a = prevProps.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.config);
                if (!this.sceneView || !this.props.baseWidgetProps.mutableStateProps) {
                    return;
                }
                if (this.props.baseWidgetProps.mutableStateProps) {
                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);
                    if (tempJimuMapView) {
                        tempJimuMapView.whenJimuMapViewLoaded().then(() => {
                            setTimeout(() => {
                                this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.sceneView);
                                this.handleDataAction(this.props.baseWidgetProps.mutableStateProps, tempJimuMapView);
                                this.isFirstReceiveMessage = false;
                            }, this.isFirstReceiveMessage ? 500 : 0);
                        });
                    }
                }
            });
        }
    }
    static getDerivedStateFromProps(nextProps, prevState) {
        if (nextProps.dataSourceId !== prevState.dataSourceId) {
            return {
                dataSourceId: nextProps.dataSourceId,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
        else {
            return null;
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources &&
            this.state.mapLoadStatus !== MapLoadStatus.Loading) {
            const restoreData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapBaseRestoreData)(this);
            if (this.mapView) {
                this.mapView.isInCaching = true;
            }
            if (this.sceneView) {
                this.sceneView.isInCaching = true;
            }
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`, restoreData);
        }
        else {
            this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: null });
            const jimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
            if (this.mapView && !this.mapView.destroyed) {
                this.mapView.container = null;
                this.mapView = null;
            }
            if (this.sceneView && !this.sceneView.destroyed) {
                this.sceneView.container = null;
                this.sceneView = null;
            }
            this.highLightHandles = {};
            this.extentWatch = null;
            this.fatalErrorWatch = null;
            this.mapDs = null;
            this.isRequestingMap = false;
        }
    }
    render() {
        let useDataSource = null;
        if (this.props.baseWidgetProps.useDataSources) {
            for (let i = 0; i < this.props.baseWidgetProps.useDataSources.length; i++) {
                if (this.props.baseWidgetProps.useDataSources[i].dataSourceId === this.props.dataSourceId) {
                    useDataSource = this.props.baseWidgetProps.useDataSources[i];
                }
            }
        }
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 map-base', style: { position: 'relative' }, ref: ref => { this.widgetContainer = ref; } },
            (this.state.mapLoadStatus === MapLoadStatus.Loading) &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 widget-map-background' },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            (this.state.mapLoadStatus === MapLoadStatus.LoadError) &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 widget-map-background' },
                    this.getMapSwitchForErrorMap(),
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 d-flex justify-content-center align-items-center' }, this.formatMessage('mapFailure'))),
            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { position: 'absolute', display: 'none' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSource, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed }))));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts":
/*!***********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MultiSourceMapContext": () => (/* binding */ MultiSourceMapContext)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const MultiSourceMapContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createContext({
    mapWidgetId: null,
    mapWidgetHeight: null,
    isShowMapSwitchBtn: false,
    isShowClearShowOnMapDataBtn: false,
    isFullScreen: false,
    dataSourceIds: [],
    activeDataSourceId: null,
    switchMap: () => { },
    fullScreenMap: () => { },
    initialMapState: null,
    mobilePanelContainer: null,
    onMobilePanelContentChange: (MobilePanelContent) => { },
    theme: null
});


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx":
/*!****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MultiSourceMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _mapbase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapbase */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layout/map-fixed-layout */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx");
/* harmony import */ var _layout_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/layout */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx");
/* harmony import */ var _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/pc-layout-json */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts");
/* harmony import */ var _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout/mobile-layout-json */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};








const VisibleStyles = {
    firstMapVisible: [{
            zIndex: 6,
            opacity: 1
        }, {
            zIndex: 5,
            opacity: 0
        }],
    secondMapVisible: [{
            zIndex: 5,
            opacity: 0
        }, {
            zIndex: 6,
            opacity: 1
        }]
};
class MultiSourceMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.mutableStatePropsMap = {};
        this.__unmount = false;
        this.onPageChange = (prePageId, currentPageId) => {
            // close active tool
            if (prePageId && currentPageId && prePageId !== currentPageId) {
                this.setState({
                    activeToolInfo: null
                });
            }
        };
        this.onResize = (width, height) => {
            // close active tool
            this.setState({
                activeToolInfo: null
            });
        };
        this.reInitWidgetInstance = (restoreData) => {
            this.state = restoreData;
            this.isReIniting = true;
        };
        this.changeInitialMapDataSourceID = (dataSourceId, callBack) => {
            if (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1) {
                const firstMapInstance = this.refs.firstMapInstance;
                const secondMapInstance = this.refs.secondMapInstance;
                if (!this.state.currentMapIndex) {
                    if (this.state.secondMapDsId && this.state.secondMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        secondMapInstance.goHome(false);
                    }
                    else {
                        firstMapInstance.goHome(false);
                    }
                }
                else {
                    if (this.state.firstMapDsId && this.state.firstMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        firstMapInstance.goHome(false);
                    }
                    else {
                        secondMapInstance.goHome(false);
                    }
                }
            }
        };
        this.startChangeInitialMapAnimation = (callBack) => {
            const tempState = Object.assign({}, this.state);
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!this.state.currentMapIndex) {
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance && firstMapInstance.getViewPoint && firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance && secondMapInstance.setViewPoint && secondMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack(); });
            }
            else {
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance && secondMapInstance.getViewPoint && secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance && firstMapInstance.setViewPoint && firstMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack(); });
            }
        };
        this.switchMap = () => __awaiter(this, void 0, void 0, function* () {
            if (!this.props.baseWidgetProps.useDataSources || this.props.baseWidgetProps.useDataSources.length < 2) {
                return yield Promise.resolve();
            }
            const tempState = Object.assign({}, this.state);
            tempState.useAnimation = true;
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!this.state.currentMapIndex) {
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance && firstMapInstance.getViewPoint && firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance && secondMapInstance.setViewPoint && secondMapInstance.setViewPoint(viewPoint);
                }
            }
            else {
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance && secondMapInstance.getViewPoint && secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance && firstMapInstance.setViewPoint && firstMapInstance.setViewPoint(viewPoint);
                }
            }
            if (firstMapInstance && secondMapInstance) {
                const firstViewType = firstMapInstance.getViewType();
                const secondViewType = secondMapInstance.getViewType();
                if (firstViewType && secondViewType && (firstViewType !== secondViewType)) {
                    firstMapInstance.goToTilt(0);
                    secondMapInstance.goToTilt(0);
                    if (this.state.currentMapIndex) {
                        setTimeout(() => {
                            firstMapInstance.goToTilt(45);
                        }, 300);
                    }
                    else {
                        setTimeout(() => {
                            secondMapInstance.goToTilt(45);
                        }, 300);
                    }
                }
            }
            return new Promise((resolve, reject) => {
                this.setState(tempState, () => {
                    this.confirmJimuMapViewIsActive();
                    setTimeout(() => {
                        this.setState({
                            useAnimation: false
                        }, () => {
                            return resolve(null);
                        });
                    }, 500);
                });
            });
        });
        this.handleMutableStatePropsChanged = (dataSourceId, propKey, value) => {
            if (!this.mutableStatePropsMap[propKey]) {
                this.mutableStatePropsMap[propKey] = [dataSourceId];
            }
            else {
                if (!this.mutableStatePropsMap[propKey].includes(dataSourceId)) {
                    this.mutableStatePropsMap[propKey].push(dataSourceId);
                }
            }
            const multiMapDsIds = [];
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && firstMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.firstMapDsId);
            }
            if (secondMapInstance && secondMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.secondMapDsId);
            }
            let isAllMatched = true;
            for (let i = 0; i < multiMapDsIds.length; i++) {
                if (!this.mutableStatePropsMap[propKey].includes(multiMapDsIds[i])) {
                    isAllMatched = false;
                    break;
                }
            }
            if (isAllMatched) {
                delete this.mutableStatePropsMap[propKey];
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, propKey, value);
            }
        };
        this.handleViewChanged = (shareViewPoint) => {
            if (shareViewPoint.viewpoint === null) {
                const firstMapInstance = this.refs.firstMapInstance;
                const secondMapInstance = this.refs.secondMapInstance;
                firstMapInstance && firstMapInstance.goHome(false);
                secondMapInstance && secondMapInstance.goHome(false);
                return;
            }
            const triggerMv = this.getJimuMapViewByDataSourceId(shareViewPoint.dataSourceId);
            if (triggerMv === null || triggerMv === void 0 ? void 0 : triggerMv.isActive) {
                if (this.state.firstMapDsId && this.state.firstMapDsId !== shareViewPoint.dataSourceId) {
                    const firstMapInstance = this.refs.firstMapInstance;
                    firstMapInstance && firstMapInstance.setViewPoint(shareViewPoint.viewpoint);
                }
                if (this.state.secondMapDsId && this.state.secondMapDsId !== shareViewPoint.dataSourceId) {
                    const secondMapInstance = this.refs.secondMapInstance;
                    secondMapInstance && secondMapInstance.setViewPoint(shareViewPoint.viewpoint);
                }
            }
        };
        this.handleExtentChanged = (dataSourceId, extentMessage) => {
            const currentVisibleDsId = this.getCurrentVisibleDsId();
            if (currentVisibleDsId === dataSourceId) {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(extentMessage);
            }
        };
        this.handleMapLoaded = (dataSourceId, mapLoadStatus) => {
            this.forceUpdate();
        };
        this.handleJimuMapViewCreated = () => {
            if (this.__unmount) {
                return;
            }
            this.confirmJimuMapViewIsActive();
        };
        this.confirmJimuMapViewIsActive = () => {
            if (this.props.isDefaultMap) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(null);
                if (jimuMapView) {
                    this.setActiveJimuMapView(jimuMapView, true);
                }
                return;
            }
            const allDatasourceIds = [];
            this.state.firstMapDsId && allDatasourceIds.push(this.state.firstMapDsId);
            this.state.secondMapDsId && allDatasourceIds.push(this.state.secondMapDsId);
            const currentDataSourceId = this.getCurrentVisibleDsId();
            for (let i = 0; i < allDatasourceIds.length; i++) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(allDatasourceIds[i]);
                if (jimuMapView) {
                    if (allDatasourceIds[i] === currentDataSourceId) {
                        this.setActiveJimuMapView(jimuMapView, true);
                    }
                    else {
                        this.setActiveJimuMapView(jimuMapView, false);
                    }
                }
            }
        };
        this.isShowMapSwitchBtn = () => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && secondMapInstance) {
                if (firstMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading && secondMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading) {
                    return true;
                }
            }
            else {
                return false;
            }
        };
        this.getCurrentVisibleDsId = () => {
            if (this.state.multiMapStyle[0].opacity === 1) {
                return this.state.firstMapDsId;
            }
            else {
                return this.state.secondMapDsId;
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (this.props.onViewGroupCreate) {
                this.props.onViewGroupCreate(viewGroup);
            }
        };
        this.handleMobilePanelContentChange = (mobilePanelContent) => {
            this.setState({
                mobilePanelContent: mobilePanelContent
            });
        };
        this.handleActiveToolInfoChange = (activeToolInfo) => {
            this.setState({
                activeToolInfo: activeToolInfo
            });
        };
        // handleShowOnMapDataChange = (showOnMapDatasKey: string[]) => {
        //  this.setState({
        //    showOnMapDatasKey: showOnMapDatasKey
        //  })
        // }
        this.getLayoutConfig = () => {
            if (this.props.widthBreakpoint === 'xsmall') {
                return _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__["default"][0];
            }
            else {
                return this.props.baseWidgetProps.config.layoutIndex ? _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][this.props.baseWidgetProps.config.layoutIndex] : _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][0];
            }
        };
        this.isShowClearShowOnMapDataBtn = () => {
            var _a;
            const showOnMapDatas = (_a = this.props.baseWidgetProps.mutableStateProps) === null || _a === void 0 ? void 0 : _a.showOnMapDatas;
            return Object.entries(showOnMapDatas || {}).some(entry => {
                // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,
                // use a default jimuMapViewId to show data.
                let jimuMapViewId = entry[1].jimuMapViewId;
                if (!jimuMapViewId && entry[1].mapWidgetId === this.props.baseWidgetProps.id) {
                    const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;
                    jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === this.props.baseWidgetProps.id);
                }
                return (jimuMapViewId === this.state.currentJimuMapViewId && entry[1].type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.ShowOnMapDataType.DataAction);
            });
        };
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',
            `${this.props.baseWidgetProps.id}-restoreData-multimap`]);
        if (restoreData) {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            restoreData.mobilePanelContainer = mobilePanelContainer;
            this.reInitWidgetInstance(restoreData);
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, null);
        }
        else {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            this.state = {
                currentMapIndex: 0,
                multiMapStyle: VisibleStyles.firstMapVisible,
                firstMapDsId: null,
                secondMapDsId: null,
                useAnimation: false,
                useDataSources: null,
                currentJimuMapViewId: null,
                mobilePanelContent: null,
                mobilePanelContainer: mobilePanelContainer,
                activeToolInfo: null
                // showOnMapDatasKey: null
            };
        }
        this.mutableStatePropsMap = {};
        this.useMapWidgetIds = this.props.baseWidgetProps.id ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.props.baseWidgetProps.id]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.observeStore)(this.onPageChange, ['appRuntimeInfo', 'currentPageId']);
    }
    componentDidMount() {
        if ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo) {
            if (!(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo[this.props.baseWidgetProps.id]) {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoAdded(this.props.baseWidgetProps.id, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({ mapWidgetId: this.props.baseWidgetProps.id })));
            }
        }
        this.__unmount = false;
        if (this.isReIniting) {
            return;
        }
        if (this.props.baseWidgetProps.useDataSources) {
            const initialMapDataSourceID = this.props.baseWidgetProps.config.initialMapDataSourceID;
            if (!initialMapDataSourceID) {
                this.setState({
                    firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,
                    secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId
                });
            }
            else {
                if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId)) {
                    this.setState({
                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,
                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId
                    });
                }
                else if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId)) {
                    this.setState({
                        firstMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId,
                        secondMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId
                    });
                }
                else {
                    this.setState({
                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,
                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId
                    });
                }
            }
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources) {
            const restoreData = {
                currentMapIndex: this.state.currentMapIndex,
                multiMapStyle: this.state.multiMapStyle,
                firstMapDsId: this.state.firstMapDsId,
                secondMapDsId: this.state.secondMapDsId,
                useAnimation: this.state.useAnimation,
                currentJimuMapViewId: this.state.currentJimuMapViewId
            };
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, restoreData);
        }
        if (!widgets[this.props.baseWidgetProps.id]) {
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoRemoved(this.props.baseWidgetProps.id));
        }
    }
    static getDerivedStateFromProps(newProps, prevState) {
        if (newProps.baseWidgetProps.useDataSources !== prevState.useDataSources) {
            const newState = MultiSourceMap.getChangedState(prevState.firstMapDsId, prevState.secondMapDsId, newProps.baseWidgetProps.useDataSources);
            return newState;
        }
        else {
            return null;
        }
    }
    componentDidUpdate(prevProps, prevState, snapshot) {
        if (this.props.baseWidgetProps.stateProps && this.props.baseWidgetProps.stateProps.initialMapDataSourceID) {
            const initialMapDataSourceID = this.props.baseWidgetProps.stateProps.initialMapDataSourceID;
            if (this.state.firstMapDsId === initialMapDataSourceID) {
                const firstMapInstance = this.refs.firstMapInstance;
                if (firstMapInstance) {
                    firstMapInstance.goHome(false);
                }
            }
            if (this.state.secondMapDsId === initialMapDataSourceID) {
                const secondMapInstance = this.refs.secondMapInstance;
                if (secondMapInstance) {
                    secondMapInstance.goHome(false);
                }
            }
            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(this.props.baseWidgetProps.id, 'initialMapDataSourceID', null));
        }
        if (this.isReIniting) {
            this.isReIniting = false;
            return;
        }
        if (this.props.baseWidgetProps.config.initialMapDataSourceID !== prevProps.baseWidgetProps.config.initialMapDataSourceID) {
            this.changeInitialMapDataSourceID(this.props.baseWidgetProps.config.initialMapDataSourceID, this.confirmJimuMapViewIsActive);
        }
        if (this.props.baseWidgetProps.useDataSources !== prevProps.baseWidgetProps.useDataSources) {
            this.confirmJimuMapViewIsActive();
        }
    }
    getJimuMapViewByDataSourceId(dsId) {
        const jimuMapViewId = `${this.props.baseWidgetProps.id}-${dsId}`;
        const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
        return jimuMapView;
    }
    setActiveJimuMapView(jimuMapView, isActive) {
        if (isActive) {
            jimuMapView.setIsActive(isActive);
            this.setState({
                currentJimuMapViewId: jimuMapView.id
            });
        }
        else {
            jimuMapView.setIsActive(isActive);
        }
    }
    render() {
        var _a;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Provider, { value: {
                mapWidgetId: this.props.baseWidgetProps.id,
                mapWidgetHeight: this.props.widgetHeight,
                isShowMapSwitchBtn: this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1 && this.isShowMapSwitchBtn(),
                isShowClearShowOnMapDataBtn: this.isShowClearShowOnMapDataBtn(),
                dataSourceIds: [this.state.firstMapDsId, this.state.secondMapDsId],
                activeDataSourceId: this.getCurrentVisibleDsId(),
                switchMap: this.switchMap,
                fullScreenMap: this.props.fullScreenMap,
                isFullScreen: this.props.isFullScreen,
                mobilePanelContainer: this.state.mobilePanelContainer,
                onMobilePanelContentChange: this.handleMobilePanelContentChange,
                initialMapState: this.props.baseWidgetProps.config && this.props.baseWidgetProps.config.initialMapState,
                theme: this.props.baseWidgetProps.theme
            } },
            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 multi-map-container', style: { position: 'relative' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map1', {
                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[0].opacity,
                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[0].opacity),
                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[0].opacity,
                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[0].opacity)
                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[0].zIndex } }, this.state.firstMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: (dataSourceId, message) => { this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, 
                    // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                    startLoadModules: this.props.startLoadModules, dataSourceId: this.state.firstMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map2', {
                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[1].opacity,
                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[1].opacity),
                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[1].opacity,
                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[1].opacity)
                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[1].zIndex } }, this.state.secondMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'secondMapInstance', onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: (dataSourceId, message) => { this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, 
                    // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                    startLoadModules: this.props.startLoadModules, dataSourceId: this.state.secondMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea }))),
            this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 default-map-container', style: { position: 'relative' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 multisourcemap-item-appear-noanimate default-map'), style: { position: 'absolute', zIndex: 6 } },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', isDefaultMap: this.props.isDefaultMap, onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, dataSourceId: null, onExtentChanged: (dataSourceId, message) => { this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.props.defaultMapInfo }))),
            this.state.currentJimuMapViewId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__["default"], { jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, widgetManifestName: this.props.baseWidgetProps.manifest.name }),
            this.state.currentJimuMapViewId && jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId) &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_layout__WEBPACK_IMPORTED_MODULE_5__["default"], { mapWidgetId: this.props.baseWidgetProps.id, isMobile: this.props.widthBreakpoint === 'xsmall', jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, intl: this.props.baseWidgetProps.intl, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, layoutConfig: this.getLayoutConfig(), toolConfig: this.props.baseWidgetProps.config.toolConifg ? this.props.baseWidgetProps.config.toolConifg : {}, activeToolInfo: this.state.activeToolInfo, onActiveToolInfoChange: this.handleActiveToolInfoChange, theme: this.props.baseWidgetProps.theme, widgetManifestName: this.props.baseWidgetProps.manifest.name, widgetHeight: this.props.widthBreakpoint === 'xsmall' ? null : this.props.widgetHeight }),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.JimuMapViewComponent, { useMapWidgetId: (_a = this.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0], onViewGroupCreate: this.handleViewGroupCreate }),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, handleWidth: true, onResize: this.onResize })));
    }
}
MultiSourceMap.getChangedState = (firstMapDsId, secondMapDsId, useDataSources) => {
    const changedState = {};
    if (useDataSources && useDataSources[0]) {
        const newDataSourceArr = [];
        const repeatDataSourceArr = [];
        for (let i = 0; i < useDataSources.length; i++) {
            if (firstMapDsId !== useDataSources[i].dataSourceId) {
                newDataSourceArr.push(useDataSources[i].dataSourceId);
            }
            else {
                repeatDataSourceArr.push(useDataSources[i].dataSourceId);
            }
        }
        if (repeatDataSourceArr.length > 0) {
            changedState.firstMapDsId = firstMapDsId;
            changedState.secondMapDsId = newDataSourceArr[0];
        }
        else if (repeatDataSourceArr.length === 0) {
            if (newDataSourceArr.includes(secondMapDsId)) {
                newDataSourceArr.splice(newDataSourceArr.indexOf(secondMapDsId), 1);
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = secondMapDsId;
            }
            else {
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = newDataSourceArr[1];
            }
        }
    }
    else {
        changedState.firstMapDsId = null;
        changedState.secondMapDsId = null;
    }
    if (changedState.firstMapDsId !== firstMapDsId) {
        if (changedState.firstMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
        else {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
    }
    else {
        if (!changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId !== secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
    }
    return changedState;
};


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx":
/*!******************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseToolShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-modules */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts");
/** @jsx jsx */



class BaseToolShell extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    render() {
        const ToolClass = _tool_modules__WEBPACK_IMPORTED_MODULE_2__["default"][this.props.toolName];
        if (ToolClass) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(this.props.className, 'exbmap-ui exbmap-ui-tool-shell divitem', this.props.layoutConfig.elements[this.props.toolName].className, {
                    'exbmap-ui-hidden-element': this.props.isHidden,
                    'mb-0 mr-0': this.props.isLastElement,
                    'rounded-pill': ['Compass'].includes(this.props.toolName)
                }), style: this.props.layoutConfig.elements[this.props.toolName].style },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolClass, { mapWidgetId: this.props.mapWidgetId, ref: 'baseToolInstance', toolJson: this.props.layoutConfig.elements[this.props.toolName], toolName: this.props.toolName, isMobile: this.props.isMobile, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, theme: this.props.theme })));
        }
        else {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null);
            }
            else {
                return null;
            }
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseTool": () => (/* binding */ BaseTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-component */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _scroll_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scroll-container */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx");
/* harmony import */ var _panel_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel-shell */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






const defaultIcon = __webpack_require__(/*! jimu-ui/lib/icons/widgets.svg */ "./jimu-ui/lib/icons/widgets.svg");
const closeIcon = __webpack_require__(/*! ../../assets/icons/close-12.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg");
class BaseTool extends _ui_component__WEBPACK_IMPORTED_MODULE_2__.UIComponent {
    constructor(props) {
        super(props);
        this.toolName = null;
        this.isContainedToMobilePanel = false;
        // this param is used to update pop position when pc content has changed
        this.generation = 0;
        this._getContent = () => {
            if (this.props.toolJson.isOnlyExpanded) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: 'exbmap-ui exbmap-ui-tool-panel' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())));
            }
            else {
                if (this.props.isMobile) {
                    return this._renderMobileTool();
                }
                else {
                    return this._renderPCTool();
                }
            }
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.generation = height;
            this.forceUpdate();
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        const mapContainer = this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.container;
        if (jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanelManager.getInstance().checkDomIsContained(mapContainer)) {
            this.isContainedToMobilePanel = true;
        }
        this.modifiers = [{
                name: 'flip',
                options: {
                    padding: 0
                }
            }, {
                name: 'preventOverflow',
                options: {
                    boundary: mapContainer
                }
            }];
    }
    _cssStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      /* pointer-events: auto;
      box-shadow: 0 1px 2px rgba(0,0,0,0.3);
      position: relative;

      .exbmap-ui-tool-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .exbmap-ui-expand-content {
        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;
        min-height: 10px;
        min-width: 10px;
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};

        .exbmap-ui-expand-content-header {
          margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        }

        .panel-title {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
          color: #000000;
        }
      }

      .expand-placement-bottom {
        padding-top: 0.25rem !important;
      }

      .expand-placement-left {
        padding-right: 0.25rem !important;
      }

      .expand-placement-right {
        padding-left: 0.25rem !important;
      }

      .expand-placement-top {
        padding-bottom: 0.25rem !important;
      }

      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      } */
    `;
    }
    onShowPanel() { }
    onClosePanel() { }
    destroy() { }
    static getIsNeedSetting() {
        return true;
    }
    _onIconClick(e) {
        const onIconClick = this.getIcon() && this.getIcon().onIconClick;
        if (onIconClick) {
            onIconClick(e);
        }
        if (!this.getExpandPanel()) {
            return;
        }
        if (this.props.activeToolInfo) {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
            else {
                this.props.onActiveToolInfoChange({
                    activeToolName: this.toolName,
                    activeToolTitle: this.getTitle()
                });
                this.onShowPanel();
            }
        }
        else {
            this.props.onActiveToolInfoChange({
                activeToolName: this.toolName,
                activeToolTitle: this.getTitle()
            });
            this.onShowPanel();
        }
    }
    _initIconContainer(ref) {
        if (ref && !this.iconContainer) {
            this.iconContainer = ref;
            this.forceUpdate();
        }
    }
    _renderPCTool() {
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        this.generation = this.generation + 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle(), style: { width: '32px', height: '32px' } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this._initIconContainer(ref); }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.iconContainer && (this.toolName === activeToolName && expandPanel) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { className: 'exbmap-ui-popper', reference: this.iconContainer, open: !!(this.toolName === activeToolName && expandPanel), placement: this.props.toolJson.panelPlacement, modifiers: this.modifiers, version: this.generation, offset: [0, 4] },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mapWidgetHeight }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: this.getExpandPanelPlacementClassName() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-expand-content' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 justify-content-between d-flex exbmap-ui-expand-content-header' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'panel-title text-truncate', style: { maxWidth: '210px' }, title: this.getTitle() }, this.getTitle()),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: () => { this.props.onActiveToolInfoChange(null); }, style: { cursor: 'pointer' } },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 20, height: 20, icon: closeIcon }))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { maxHeight: `${mapWidgetHeight - 55}px`, overflowY: this.toolName !== 'Search' ? 'auto' : 'inherit' } }, expandPanel),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.onResize }))))))))));
    }
    _renderMobileTool() {
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this.iconContainer = ref; }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.toolName === activeToolName && expandPanel &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex flex-column', css: this._cssStyle() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_scroll_container__WEBPACK_IMPORTED_MODULE_3__["default"], { className: 'w-100 h-100' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())))), mobilePanelContainer)))));
    }
    getExpandPanelPlacementClassName() {
        if (!this.props.toolJson.panelPlacement) {
            return null;
        }
        else {
            return `expand-placement-${this.props.toolJson.panelPlacement.split('-')[0]}`;
        }
    }
    render() {
        return this._getContent();
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Group)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _base_tool_shell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tool-shell */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-modules */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






class Group extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    constructor(props) {
        super(props);
        this.moveY = 0;
        this.startY = 0;
        this.sliding = false;
        this.startDrag = false;
        this.currentBottomPanelHeight = 0;
        this.thumbMapElementNames = ['FullScreen', 'Zoom', 'MapSwitch'];
        this.checkIsHiddenElement = (elementName) => {
            if (this.props.hiddenElementNames) {
                if (this.props.hiddenElementNames.includes(elementName)) {
                    return true;
                }
                else {
                    return false;
                }
            }
            else {
                return false;
            }
        };
        this.start = (event, type) => {
            this.startDrag = true;
            if (type === 'touch') {
                this.moveY = 0;
                const touch = event.touches[0];
                this.startY = touch.clientY;
            }
            if (type === 'mouse') {
                this.moveY = 0;
                this.startY = event.clientY;
            }
            document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).classList.remove('expand-mobile-panel-transition');
        };
        this.move = (event, type) => {
            if (type === 'touch') {
                this.sliding = true;
                const touch = event.touches[0];
                this.moveY = (touch.clientY - this.startY) * -1;
            }
            if (type === 'mouse' && this.startDrag) {
                this.sliding = true;
                this.moveY = (event.clientY - this.startY) * -1;
            }
            if (type === 'mouse' && !this.startDrag) {
                return;
            }
            let expectHeight = 150;
            if (this.state.bottomPanelHeight + this.moveY > expectHeight) {
                expectHeight = this.state.bottomPanelHeight + this.moveY;
            }
            document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).style.height = `${expectHeight}px`;
            this.currentBottomPanelHeight = expectHeight;
            const aboveHeight = this.state.widgetHeight - (expectHeight);
            if (aboveHeight > 360) {
                this.props.onSetHiddenElementNames([]);
            }
            if (aboveHeight > 200 && aboveHeight <= 360) {
                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage1);
            }
            if (aboveHeight > 54 && aboveHeight <= 200) {
                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage2);
            }
            if (aboveHeight < 54) {
                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage3);
            }
        };
        this.end = (event, type) => {
            if (type === 'mouse' && !this.startDrag) {
                return;
            }
            this.startDrag = false;
            this.sliding = false;
            document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).classList.add('expand-mobile-panel-transition');
            if (type === 'touch') {
                if (Math.abs(this.moveY) < 10) {
                    document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).style.height = `${this.state.bottomPanelHeight}px`;
                    this.currentBottomPanelHeight = this.state.bottomPanelHeight;
                    return;
                }
            }
            if (this.moveY >= 0) {
                // up slider
                let targetBottomPanelHeight = 0;
                if (this.currentBottomPanelHeight >= 150 && this.currentBottomPanelHeight < this.state.widgetHeight * 0.6) {
                    targetBottomPanelHeight = this.state.widgetHeight * 0.6;
                }
                else if (this.currentBottomPanelHeight >= this.state.widgetHeight * 0.6 && this.currentBottomPanelHeight < this.state.widgetHeight) {
                    targetBottomPanelHeight = this.state.widgetHeight - 20;
                }
                else {
                    targetBottomPanelHeight = 150;
                }
                this.setState({
                    bottomPanelHeight: targetBottomPanelHeight
                }, () => {
                    this.checkResponsive();
                });
                this.currentBottomPanelHeight = targetBottomPanelHeight;
            }
            else {
                // down slider
                let targetBottomPanelHeight = 0;
                if (this.currentBottomPanelHeight > 150 && this.currentBottomPanelHeight < this.state.widgetHeight * 0.6) {
                    targetBottomPanelHeight = 150;
                }
                else if (this.currentBottomPanelHeight >= this.state.widgetHeight * 0.6 && this.currentBottomPanelHeight < this.state.widgetHeight) {
                    targetBottomPanelHeight = this.state.widgetHeight * 0.6;
                }
                else {
                    targetBottomPanelHeight = 150;
                }
                this.setState({
                    bottomPanelHeight: targetBottomPanelHeight
                }, () => {
                    this.checkResponsive();
                });
                this.currentBottomPanelHeight = targetBottomPanelHeight;
            }
        };
        this.checkResponsive = () => {
            if (this.state.isThumbMap) {
                this.props.onSetHiddenElementNames([]);
                return;
            }
            if (this.state.bottomPanelHeight === 0) {
                this.props.onSetHiddenElementNames([]);
                return;
            }
            const aboveHeight = this.state.widgetHeight - (this.state.bottomPanelHeight);
            if (aboveHeight > 360) {
                this.props.onSetHiddenElementNames([]);
            }
            if (aboveHeight > 200 && aboveHeight <= 360) {
                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage1);
            }
            if (aboveHeight > 54 && aboveHeight <= 200) {
                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage2);
            }
            if (aboveHeight < 54) {
                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage3);
            }
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.setState({
                widgetWidth: width,
                widgetHeight: height,
                isThumbMap: false
            }, () => {
                this.checkResponsive();
            });
        };
        this.returnNullNode = (key) => {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { key: key });
            }
            else {
                return null;
            }
        };
        this.checkIsLastElement = (parentGroupJson, toolJson) => {
            const toolName = toolJson.toolName;
            const layoutJson = this.props.layoutConfig;
            const children = layoutJson.layout[parentGroupJson.groupName].children;
            const index = children.indexOf(toolName);
            if (index === children.length - 1) {
                return true;
            }
            if (index < children.length - 1) {
                let isLastElement = true;
                for (let i = (index + 1); i < children.length; i++) {
                    const elementName = children[i];
                    if (layoutJson.elements[children[i]].type === 'GROUP') {
                        continue;
                    }
                    else if ((!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][elementName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${elementName}`]) ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(elementName)))) {
                        isLastElement = false;
                        break;
                    }
                    else {
                        continue;
                    }
                }
                return isLastElement;
            }
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        this.handlePanelHeightChange = (panelWidth, panelHeight) => {
            this.setState({ bottomPanelHeight: panelHeight }, () => {
                this.checkResponsive();
            });
        };
        this.getMobilePanelInContext = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer, mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.MobilePanel, { mapWidgetId: mapWidgetId, title: this.props.activeToolInfo && this.props.activeToolInfo.activeToolTitle, open: !!this.props.activeToolInfo, toggle: () => { this.handleToggleMobilePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: (container) => { if (mobilePanelContainer && container) {
                        container.appendChild(mobilePanelContainer);
                    } } })))));
        };
        this.getGroupContent = (layoutJson) => {
            if (!layoutJson) {
                return this.returnNullNode();
            }
            else {
                const children = layoutJson.layout[this.props.groupName] && layoutJson.layout[this.props.groupName].children;
                if (this.checkIsShowGroup(layoutJson, children)) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: (this.props.isMainGroup ? this.props.mapWidgetId : undefined), css: this.getStyle(), className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui exbmap-ui-group', this.props.className, { 'exbmap-ui-hidden-element': this.props.isHidden }), style: this.props.style },
                        children.map((key, index) => {
                            if (!layoutJson.elements[key]) {
                                return this.returnNullNode(index);
                            }
                            if (layoutJson.elements[key].type === 'GROUP') {
                                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group, { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, isMobile: this.props.isMobile, intl: this.props.intl, jimuMapView: this.props.jimuMapView, groupName: key, activeToolInfo: this.props.activeToolInfo, hiddenElementNames: this.props.hiddenElementNames, onActiveToolInfoChange: this.props.onActiveToolInfoChange, theme: this.props.theme, isThumbMap: this.props.isMainGroup ? this.state.isThumbMap : this.props.isThumbMap }));
                            }
                            else if (layoutJson.elements[key].type === 'TOOL') {
                                if (layoutJson.elements[key].toolName === 'Navigation' && this.props.jimuMapView && this.props.jimuMapView.view &&
                                    this.props.jimuMapView.view.type === '2d') {
                                    return this.returnNullNode(index);
                                }
                                if (!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][key].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${key}`]) || (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(key))) {
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__["default"], { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), key: index, layoutConfig: layoutJson, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: key, theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: this.checkIsLastElement(layoutJson.elements[this.props.groupName], layoutJson.elements[key]) }));
                                }
                                else {
                                    return this.returnNullNode(index);
                                }
                            }
                            else {
                                return this.returnNullNode(index);
                            }
                        }),
                        this.props.isMobile && this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }),
                        this.props.isMainGroup && this.props.isMobile && this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== 'Select' && this.getMobilePanelInContext(),
                        this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui w-100', style: {
                                position: 'relative',
                                pointerEvents: 'auto',
                                overflow: 'hidden',
                                touchAction: 'none',
                                display: this.props.isMobile && !(this.state.isThumbMap || this.props.isThumbMap) ? 'block' : 'none'
                            } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.props.mapWidgetId}-bottom-panel exbmap-ui w-100 expand-mobile-panel`, style: { overflow: 'hidden', pointerEvents: 'auto', position: 'relative', touchAction: 'none' } },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.handlePanelHeightChange }))))));
                }
                else {
                    return this.returnNullNode();
                }
            }
        };
        this.checkIsShowGroup = (layoutJson, children) => {
            if (!children || children.length === 0) {
                return false;
            }
            else {
                const toolNames = [];
                this.findAllToolNames(layoutJson, children, toolNames);
                let isShowGroup = false;
                for (let i = 0; i < toolNames.length; i++) {
                    if (this.props.toolConfig[`can${toolNames[i]}`] || !_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][toolNames[i]].getIsNeedSetting() ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(toolNames[i]))) {
                        isShowGroup = true;
                        break;
                    }
                }
                return isShowGroup;
            }
        };
        this.findAllToolNames = (layoutJson, children, toolNames) => {
            if (!children || children.length === 0) {
                return;
            }
            for (let i = 0; i < children.length; i++) {
                if (layoutJson.elements[children[i]].type === 'GROUP') {
                    const groupName = layoutJson.elements[children[i]].groupName;
                    this.findAllToolNames(layoutJson, layoutJson.layout[groupName] && layoutJson.layout[groupName].children, toolNames);
                }
                else {
                    toolNames.push(children[i]);
                }
            }
        };
        this.state = {
            bottomPanelHeight: 0,
            isThumbMap: !!this.props.isMobile
        };
    }
    getStyle() {
        const position = this.props.layoutConfig.layout[this.props.groupName] && this.props.layoutConfig.layout[this.props.groupName].position;
        const direction = this.props.layoutConfig.elements[this.props.groupName].direction;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      position: ${position ? 'absolute' : 'relative'};
      top: ${position ? position.top : null}px;
      bottom: ${position ? position.bottom : null}px;
      left: ${position ? position.left : null}px;
      right: ${position ? position.right : null}px;
      display: flex;
      flex-flow: ${direction === 'vertical' ? 'column' : 'row'};
      align-items: flex-start;

      > .exbmap-ui + .exbmap-ui, > .exbmap-ui + span {
        margin-top: ${direction === 'vertical' ? '10px' : 0};
        margin-left: ${direction === 'horizontal' ? '10px' : 0};
      }

      .exbmap-ui-group-expand-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .expand-mobile-panel {
        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;
        border-radius: 10px 10px 0px 0px;
      }

      .expand-mobile-panel-transition {
        transition: height 0.3s;
      }

      .expand-mobile-panel-touch-container {
        top: 0;
        position: absolute;
        width: 100%;
        height: 31px;
      }

      .expand-mobile-panel-bar {
        width: 36px;
        height: 4px;
        background-color: #434343;
        border-radius: 2px;
      }
      `;
    }
    componentDidUpdate(prevProps, prevState) {
        if (this.props.activeToolInfo !== prevProps.activeToolInfo) {
            if (this.props.activeToolInfo && prevProps.activeToolInfo) {
                return;
            }
            if (this.props.activeToolInfo && !prevProps.activeToolInfo && this.props.isMobile && this.props.isMainGroup) {
                this.setState({
                    bottomPanelHeight: 150
                }, () => {
                    this.checkResponsive();
                });
                this.currentBottomPanelHeight = 150;
            }
            if (!this.props.activeToolInfo && prevProps.activeToolInfo && this.props.isMobile && this.props.isMainGroup) {
                this.setState({
                    bottomPanelHeight: 0
                }, () => {
                    this.checkResponsive();
                });
                this.currentBottomPanelHeight = 0;
            }
        }
    }
    render() {
        if (this.props.isMainGroup && this.props.isMobile && this.props.toolConfig && this.props.toolConfig.canSelect) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `${this.props.mapWidgetId}-with-select-container`, style: { position: 'absolute', top: 0, left: 0, bottom: 40, right: 0 } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', style: { position: 'relative' } }, this.getGroupContent(this.props.layoutConfig))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: 0, bottom: 0, right: 0, height: 40 } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', style: { position: 'relative' } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__["default"], { mapWidgetId: this.props.mapWidgetId, isHidden: false, layoutConfig: this.props.layoutConfig, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: 'SelectState', theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: true })))));
        }
        else {
            return this.getGroupContent(this.props.layoutConfig);
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PanelShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class PanelShell extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    componentWillUnmount() {
        if (this.props.onDestroyed) {
            this.props.onDestroyed();
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null, this.props.children));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx":
/*!*******************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScrollContainer)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/** @jsx jsx */

class ScrollContainer extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.moveY = 0;
        this.startY = 0;
        this.isRegisted = false;
        this.registerTouchEvent = (ref) => {
            if (ref && !this.isRegisted) {
                ref.addEventListener('touchstart', (event) => {
                    this.moveY = 0;
                    const touch = event.touches[0];
                    this.startY = touch.clientY;
                }, { passive: false });
                ref.addEventListener('touchmove', (event) => {
                    const touch = event.touches[0];
                    this.moveY = (touch.clientY - this.startY) * -1;
                    this.startY = touch.clientY;
                    ref.scrollTop = ref.scrollTop + this.moveY;
                }, { passive: false });
                ref.addEventListener('touchend', (event) => {
                    this.moveY = 0;
                    this.startY = 0;
                }, { passive: false });
                this.isRegisted = true;
            }
        };
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      overflow: auto;
      pointer-events: auto;
      `;
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: this.props.className, style: this.props.style, ref: ref => {
                this.registerTouchEvent(ref);
            } }, this.props.children));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UIComponent": () => (/* binding */ UIComponent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class UIComponent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _base_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/group */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx");
/** @jsx jsx */


class Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        // this item is used to solve the flash issue when swith mulitimap
        this.cloneLayoutRef = null;
        this.getMaxHeightForPcExpand = (widgetHeight) => {
            if (!widgetHeight) {
                return null;
            }
            else {
                if (widgetHeight < 65) {
                    return null;
                }
                else {
                    const resultHeight = widgetHeight - 65;
                    if (resultHeight < 300) {
                        return resultHeight;
                    }
                    else {
                        return 300;
                    }
                }
            }
        };
        this.handSetHiddenElementNames = (elementNames) => {
            this.setState({
                hiddenElementNames: elementNames
            });
        };
        this.getLayoutContent = (layoutJson) => {
            if (!layoutJson || !this.props.toolConfig) {
                return null;
            }
            else {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle() }, Object.keys(layoutJson.layout).map((key, index) => {
                    if (!layoutJson.elements[key] || layoutJson.elements[key].type !== 'GROUP' || !layoutJson.layout[key].position) {
                        return null;
                    }
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_group__WEBPACK_IMPORTED_MODULE_1__["default"], { mapWidgetId: this.props.mapWidgetId, className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, isResponsive: layoutJson.elements[key].isResponsive, isMobile: this.props.isMobile, isMainGroup: true, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, activeToolInfo: this.props.activeToolInfo, jimuMapView: this.props.jimuMapView, groupName: key, onActiveToolInfoChange: this.props.onActiveToolInfoChange, hiddenElementNames: layoutJson.mobileResponsiveStrategy && this.state.hiddenElementNames, intl: this.props.intl, onSetHiddenElementNames: this.handSetHiddenElementNames, theme: this.props.theme }));
                })));
            }
        };
        this.state = {
            toolsContentInMobileExpandPanel: null,
            hiddenElementNames: []
        };
        this.contentRef = document.createElement('div');
        this.contentRef.className = 'exbmap-ui esri-ui-inner-container map-tool-layout';
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      z-index: 0;

      .expand-panel-transition {
        transition: opacity 0.3s, right 0.3s;
      }

      .scale-attribution-xy-group {
        > div:first-of-type:nth-last-of-type(1) {
          width: 100%;
          max-width: 100% !important;
        }
      }

      .exbmap-ui-hidden-element {
        display: none !important;
      }
/*
      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      } */

      .exbmap-ui-pc-expand-maxheight {
        max-height: ${this.getMaxHeightForPcExpand(this.props.widgetHeight)}px;
        overflow: auto
      }
      `;
    }
    componentDidMount() {
        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {
            this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);
        }
    }
    componentDidUpdate(prevProps) {
        var _a, _b;
        if (prevProps.appMode !== this.props.appMode && this.props.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            this.props.onActiveToolInfoChange(null);
        }
        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {
            const cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('tool-layout-clone');
            if (cloneDoms && cloneDoms.length > 0) {
                for (let i = 0; i < cloneDoms.length; i++) {
                    cloneDoms[i].remove();
                }
            }
        }
        if (((_a = prevProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.id) !== ((_b = this.props.jimuMapView) === null || _b === void 0 ? void 0 : _b.id)) {
            this.cloneLayoutRef = this.contentRef.cloneNode(true);
            this.cloneLayoutRef.classList.add('tool-layout-clone');
            setTimeout(() => {
                if (this.cloneLayoutRef && this.cloneLayoutRef.parentNode) {
                    this.cloneLayoutRef.parentNode.removeChild(this.cloneLayoutRef);
                }
                this.cloneLayoutRef = null;
            }, 500);
            if (prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui && prevProps.jimuMapView.view.ui.container) {
                prevProps.jimuMapView.view.ui.container.appendChild(this.cloneLayoutRef);
                prevProps.jimuMapView.view.ui.container.removeChild(this.contentRef);
            }
            if (this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {
                this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);
            }
        }
    }
    render() {
        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal(this.getLayoutContent(this.props.layoutConfig), this.contentRef)));
        }
        else {
            return null;
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts");
/** @jsx jsx */



class Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        // this item is used to solve the flash issue when swith mulitimap
        this.cloneLayoutRef = null;
        this.insertFixedDom = (container, insertedDom) => {
            if (!container || !insertedDom) {
                return;
            }
            const toolLayoutDoms = container.getElementsByClassName('map-tool-layout');
            if (toolLayoutDoms && toolLayoutDoms[0]) {
                container.insertBefore(insertedDom, toolLayoutDoms[0]);
            }
            else {
                container.appendChild(insertedDom);
            }
        };
        this.getMapFixedLayout = () => {
            if (window.jimuConfig.isInBuilder) {
                const LayoutEntry = this.props.LayoutEntry;
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayoutEntry, { layouts: layout || null, isInWidget: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map-fix-layout', { 'widget-map-usemask': !(0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode), 'map-is-live-mode': (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode) }) }));
            }
            else {
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.LayoutEntry, { layouts: layout ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(layout) : null, className: 'w-100 h-100 map-is-live-mode map-fix-layout' });
            }
        };
        this.state = {};
        this.fixedLayoutRef = document.createElement('div');
        this.fixedLayoutRef.className = 'w-100 h-100 map-fix-layout';
        this.fixedLayoutRef.style.position = 'absolute';
        this.fixedLayoutRef.style.zIndex = '0';
    }
    componentDidMount() {
        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {
            this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (!prevProps.jimuMapView || !this.props.jimuMapView) {
            return;
        }
        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {
            const cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('layout-clone');
            if (cloneDoms && cloneDoms.length > 0) {
                for (let i = 0; i < cloneDoms.length; i++) {
                    cloneDoms[i].remove();
                }
            }
        }
        if (prevProps.jimuMapView.id !== this.props.jimuMapView.id) {
            if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {
                this.cloneLayoutRef = this.fixedLayoutRef.cloneNode(true);
                this.cloneLayoutRef.classList.add('layout-clone');
                this.insertFixedDom(prevProps.jimuMapView.view.ui.container, this.cloneLayoutRef);
                setTimeout(() => {
                    if (this.cloneLayoutRef && this.cloneLayoutRef.parentNode) {
                        this.cloneLayoutRef.parentNode.removeChild(this.cloneLayoutRef);
                    }
                    this.cloneLayoutRef = null;
                }, 500);
                if (prevProps.jimuMapView.view.ui.container.contains(this.fixedLayoutRef)) {
                    prevProps.jimuMapView.view.ui.container.removeChild(this.fixedLayoutRef);
                }
            }
            this.props.jimuMapView && this.props.jimuMapView.view && this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);
        }
    }
    render() {
        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal(this.getMapFixedLayout(), this.fixedLayoutRef)));
        }
        else {
            // seems we can't run to here?
            return this.getMapFixedLayout();
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* tslint:disable */
const mobileLayoutJson = {
    elements: {
        mainGroup: {
            type: 'GROUP',
            groupName: 'mainGroup',
            direction: 'vertical',
            style: {
                position: 'absolute'
            },
            className: 'd-flex flex-column'
        },
        topGroup: {
            type: 'GROUP',
            groupName: 'topGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between',
            style: {
                padding: '10px'
            }
        },
        midGroup: {
            type: 'GROUP',
            groupName: 'midGroup',
            direction: 'horizontal',
            className: 'flex-grow-1 d-flex w-100 justify-content-between',
            style: {
                position: 'relative'
            }
        },
        'midGroup-left': {
            type: 'GROUP',
            groupName: 'midGroup-left',
            direction: 'vertical',
            className: 'h-100 d-flex flex-column-reverse',
            style: {
                paddingLeft: '10px',
                paddingRight: '10px',
                paddingBottom: '10px',
                position: 'absolute',
                top: 0,
                left: 0,
                bottom: 0
            }
        },
        'midGroup-left-content': {
            type: 'GROUP',
            groupName: 'midGroup-left-content',
            direction: 'vertical'
        },
        'midGroup-right': {
            type: 'GROUP',
            groupName: 'midGroup-right',
            direction: 'vertical',
            className: 'h-100 d-flex flex-column justify-content-between',
            style: {
                paddingRight: '10px',
                paddingLeft: '10px',
                paddingBottom: '10px',
                position: 'absolute',
                top: 0,
                right: 0,
                bottom: 0
            }
        },
        'midGroup-right-content-top': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-top',
            direction: 'vertical'
        },
        'midGroup-right-content-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-bottom',
            direction: 'vertical'
        },
        bottomGroup: {
            type: 'GROUP',
            groupName: 'bottomGroup',
            direction: 'vertical'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'flex-grow-1'
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'mb-0'
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        }
    },
    layout: {
        mainGroup: {
            children: ['topGroup', 'midGroup', 'bottomGroup'],
            position: {
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            }
        },
        topGroup: {
            children: ['Search', 'FullScreen']
        },
        midGroup: {
            children: ['midGroup-left', 'midGroup-right']
        },
        'midGroup-left': {
            children: ['midGroup-left-content']
        },
        'midGroup-left-content': {
            children: ['Compass', 'MapSwitch']
        },
        'midGroup-right': {
            children: ['midGroup-right-content-top', 'midGroup-right-content-bottom']
        },
        'midGroup-right-content-top': {
            children: ['Layers', 'BaseMap', 'Measure', 'Select']
        },
        'midGroup-right-content-bottom': {
            children: ['Zoom', 'Home', 'Locate', 'ClearActionData']
        }
    },
    mobileResponsiveStrategy: {
        stage1: ['midGroup-left-content', 'midGroup-right-content-bottom'],
        stage2: ['midGroup-left-content', 'midGroup-right-content-bottom', 'midGroup-right-content-top'],
        stage3: ['topGroup', 'midGroup-left-content', 'midGroup-right-content-bottom', 'midGroup-right-content-top']
    },
    lockToolNames: []
};
/* tslint:enable */
const mobileLayoutJsons = [mobileLayoutJson];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mobileLayoutJsons);


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* tslint:disable */
const layoutJson1 = {
    elements: {
        leftTopContainer: {
            type: 'GROUP',
            groupName: 'leftTopContainer',
            direction: 'horizontal'
        },
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical'
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'vertical',
            isResponsive: true
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100'
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                marginBottom: 0,
                marginTop: 0
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                paddingLeft: '15px',
                paddingRight: '15px',
                marginBottom: '10px'
            }
        },
        'SelectState-FullScreen-Container': {
            type: 'GROUP',
            groupName: 'SelectState-FullScreen-Container',
            direction: 'vertical',
            className: 'align-items-end'
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                maxWidth: '60%'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        }
    },
    layout: {
        leftTopContainer: {
            children: ['navigator', 'Select'],
            position: {
                top: 15,
                left: 15
            }
        },
        navigator: {
            children: ['Zoom', 'Home', 'Navigation', 'Locate', 'Compass']
        },
        interact: {
            children: ['Search', 'Layers', 'BaseMap', 'Measure'],
            position: {
                top: 15,
                right: 15
            }
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'SelectState-FullScreen-Container']
        },
        'SelectState-FullScreen-Container': {
            children: ['FullScreen', 'ClearActionData', 'SelectState']
        },
        bottom: {
            children: ['bottom-line2', 'bottom-line1'],
            position: {
                bottom: 0,
                left: 0
            }
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJson2 = {
    elements: {
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            className: 'align-items-end'
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'horizontal',
            isResponsive: true
        },
        fullScreenGroup: {
            type: 'GROUP',
            groupName: 'fullScreenGroup',
            direction: 'horizontal'
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100'
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                marginBottom: 0,
                marginTop: 0
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                paddingLeft: '15px',
                paddingRight: '15px',
                marginBottom: '10px'
            }
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                maxWidth: '60%'
            },
            className: 'attibute-group'
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom'
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom'
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom'
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom'
        }
    },
    layout: {
        navigator: {
            children: ['Compass', 'Locate', 'Navigation', 'Zoom', 'Home', 'SelectState']
        },
        interact: {
            children: ['Search', 'Layers', 'BaseMap', 'Measure', 'Select'],
            position: {
                top: 15,
                left: 15
            }
        },
        fullScreenGroup: {
            children: ['FullScreen', 'ClearActionData'],
            position: {
                top: 15,
                right: 15
            }
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'navigator']
        },
        bottom: {
            children: ['bottom-line2', 'bottom-line1'],
            position: {
                bottom: 0,
                left: 0
            }
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
/* tslint:enable */
const layoutJsons = [layoutJson1, layoutJson2];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layoutJsons);


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tools_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/zoom */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx");
/* harmony import */ var _tools_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/home */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx");
/* harmony import */ var _tools_compass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/compass */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx");
/* harmony import */ var _tools_locate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/locate */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx");
/* harmony import */ var _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/clear-action-data */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx");
/* harmony import */ var _tools_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/navigation */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx");
/* harmony import */ var _tools_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tools/search */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx");
/* harmony import */ var _tools_layers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/layers */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx");
/* harmony import */ var _tools_basemap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/basemap */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx");
/* harmony import */ var _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/mapswitch */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx");
/* harmony import */ var _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/fullscreen */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx");
/* harmony import */ var _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/scalebar */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx");
/* harmony import */ var _tools_attribution__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/attribution */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tools/measure */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx");
/* harmony import */ var _tools_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/select */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx");
/* harmony import */ var _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/selectstate */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx");
















const ToolModules = {
    Zoom: _tools_zoom__WEBPACK_IMPORTED_MODULE_0__["default"],
    Home: _tools_home__WEBPACK_IMPORTED_MODULE_1__["default"],
    Navigation: _tools_navigation__WEBPACK_IMPORTED_MODULE_5__["default"],
    Locate: _tools_locate__WEBPACK_IMPORTED_MODULE_3__["default"],
    ClearActionData: _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__["default"],
    Compass: _tools_compass__WEBPACK_IMPORTED_MODULE_2__["default"],
    Search: _tools_search__WEBPACK_IMPORTED_MODULE_6__["default"],
    Layers: _tools_layers__WEBPACK_IMPORTED_MODULE_7__["default"],
    BaseMap: _tools_basemap__WEBPACK_IMPORTED_MODULE_8__["default"],
    Measure: _tools_measure__WEBPACK_IMPORTED_MODULE_13__["default"],
    MapSwitch: _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__["default"],
    FullScreen: _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__["default"],
    ScaleBar: _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__["default"],
    Attribution: _tools_attribution__WEBPACK_IMPORTED_MODULE_12__["default"],
    Select: _tools_select__WEBPACK_IMPORTED_MODULE_14__["default"],
    SelectState: _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__["default"]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolModules);


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Attribution)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Attribution extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Attribution';
    }
    static getIsNeedSetting() {
        return false;
    }
    getTitle() {
        return 'Attribution';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(AttributionInner, { jimuMapView: this.props.jimuMapView });
    }
}
class AttributionInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Attribution = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Attribution']).then(modules => {
                [this.Attribution] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.AttributionBtn && !this.AttributionBtn.destroy) {
                    this.AttributionBtn.view = this.props.jimuMapView.view;
                    this.AttributionBtn.renderNow();
                    this.props.jimuMapView.addJimuMapTool({
                        name: 'Attribution',
                        instance: this.AttributionBtn
                    });
                }
            }
            else {
                this.AttributionBtn = new this.Attribution({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Attribution');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Attribution',
                    instance: this.AttributionBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.AttributionBtn) {
            this.AttributionBtn.destroy();
            this.AttributionBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Attribution');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'attribution-map-tool', style: { position: 'relative' }, ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class BaseMap extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'BaseMap';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'BaseMapLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.BaseMapLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/basemap.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg")
        };
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(BaseMapInner, { jimuMapView: this.props.jimuMapView, isMobile: this.props.isMobile });
    }
}
class BaseMapInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.BaseMap = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/BasemapGallery']).then(modules => {
                [this.BaseMap] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.BaseMapBtn) {
                    this.BaseMapBtn.view = this.props.jimuMapView.view;
                    this.BaseMapBtn.renderNow();
                }
            }
            else {
                this.BaseMapBtn = new this.BaseMap({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('BaseMap');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'BaseMap',
                    instance: this.BaseMapBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.BaseMapBtn) {
            this.BaseMapBtn.destroy();
            this.BaseMapBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('BaseMap');
        }
    }
    render() {
        if (this.props.isMobile) {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'basemap-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', maxWidth: 'none', maxHeight: 'none', overflowY: 'auto', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
        else {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '250px', minHeight: '32px', position: 'relative' }, className: 'exbmap-ui-pc-expand-maxheight basemap-map-tool' }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ClearActionData)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */





class ClearActionData extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'ClearActionData';
        this.onIconClick = () => { };
        this.onDropDownToggle = () => {
            this.setState({ isOpen: !this.state.isOpen });
        };
        this.onActionItemClick = (evt, actionDataId, mapWidgetId) => {
            var _a;
            this.setState({ isOpen: false });
            const showOnMapDatas = (_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _a === void 0 ? void 0 : _a.showOnMapDatas;
            if (showOnMapDatas) {
                delete showOnMapDatas[actionDataId];
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, 'showOnMapDatas', showOnMapDatas);
            }
        };
        this.getContent = (isShowClearShowOnMapDataBtn, mapWidgetId) => {
            if (isShowClearShowOnMapDataBtn) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), title: this.getTitle() },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Dropdown, { direction: 'down', size: 'sm', toggle: this.onDropDownToggle, isOpen: this.state.isOpen },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownToggle, { icon: true, size: 'sm', type: 'default' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { size: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, null, this.getShowOnMapDatas(mapWidgetId).map((entry, index) => this.createActionDataItem(entry[0], entry[1].title, mapWidgetId, index))))));
            }
            else {
                return null;
            }
        };
        this.state = { isOpen: false };
    }
    static getIsNeedSetting() {
        return false;
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .jimu-dropdown {
        display: flex;
        .icon-btn {
          padding: 7px;
          border-radius: 0;
        }
      }
    `;
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'clearResults', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.clearResults });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! jimu-icons/svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg"),
            onIconClick: () => {
                this.onIconClick();
            }
        };
    }
    createActionDataItem(actionDataId, actionDataTitle, mapWidgetId, key) {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { key: key, header: false, onClick: e => this.onActionItemClick(e, actionDataId, mapWidgetId) }, actionDataTitle));
    }
    getShowOnMapDatas(mapWidgetId) {
        var _a;
        const showOnMapDatas = ((_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _a === void 0 ? void 0 : _a.showOnMapDatas) || {};
        return Object.entries(showOnMapDatas).filter(entry => {
            // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,
            // use a default jimuMapViewId to show data.
            let jimuMapViewId = entry[1].jimuMapViewId;
            if (!jimuMapViewId && entry[1].mapWidgetId === mapWidgetId) {
                const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;
                jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === mapWidgetId);
            }
            return (jimuMapViewId === this.props.jimuMapView.id && entry[1].type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.ShowOnMapDataType.DataAction);
        });
    }
    getExpandPanel() {
        // return (
        //  <div className='exbmap-ui-tool esri-widget--button'>
        //    <Icon width={16} height={16} className='exbmap-ui-tool-icon' icon={this.getIcon().icon} />
        //  </div>
        // )
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ isShowClearShowOnMapDataBtn, mapWidgetId }) => (this.getContent(isShowClearShowOnMapDataBtn, mapWidgetId))));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Compass)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Compass extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Compass';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'CompassLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.CompassLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(CompassInner, { jimuMapView: this.props.jimuMapView });
    }
}
class CompassInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Compass = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Compass']).then(modules => {
                [this.Compass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.CompassBtn) {
                this.container.innerHTML = '';
            }
            this.CompassBtn = new this.Compass({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Compass');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Compass',
                instance: this.CompassBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.CompassBtn) {
            this.CompassBtn.destroy();
            this.CompassBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Compass');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'compass-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Fullscreen)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Fullscreen extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Fullscreen';
        this.isFullScreen = false;
        this.fullScreenMap = () => { };
        this.getContent = (fullScreenMap, isFullScreen) => {
            this.fullScreenMap = fullScreenMap;
            this.isFullScreen = isFullScreen;
            return super.render();
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'FullScreenLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.FullScreenLabel });
    }
    getIcon() {
        return {
            icon: this.isFullScreen ? __webpack_require__(/*! ../assets/icons/exit-full-screen.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg") : __webpack_require__(/*! ../assets/icons/full-screen.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg"),
            onIconClick: (evt) => {
                this.fullScreenMap();
            }
        };
    }
    getExpandPanel() {
        return null;
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Consumer, null, ({ fullScreenMap, isFullScreen }) => (this.getContent(fullScreenMap, isFullScreen))));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx":
/*!*************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Home)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");





class Home extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Home';
        this.getHomeContent = (initialMapState) => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(HomeInner, { jimuMapView: this.props.jimuMapView, initialMapState: initialMapState });
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'HomeLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.HomeLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        // return <HomeInner jimuMapView={this.props.jimuMapView}></HomeInner>;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ initialMapState }) => (this.getHomeContent(initialMapState))));
    }
}
class HomeInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Home = null;
        this.generateViewPointFromInitialMapState = (initialMapState) => {
            if (initialMapState.viewType === '2d') {
                return new this.Viewpoint({
                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                    rotation: initialMapState.rotation
                });
            }
            else {
                return this.Viewpoint.fromJSON(initialMapState.viewPoint);
            }
        };
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Home',
                'esri/geometry/Extent',
                'esri/Viewpoint']).then(modules => {
                [this.Home, this.Extent, this.Viewpoint] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        var _a;
        if (this.state.apiLoaded && this.container && ((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view)) {
            if (this.homeBtn) {
                this.container.innerHTML = '';
            }
            this.homeBtn = new this.Home({
                container: this.container,
                view: this.props.jimuMapView.view,
                viewpoint: this.props.initialMapState
                    ? this.generateViewPointFromInitialMapState(this.props.initialMapState)
                    : this.props.jimuMapView.view.map.initialViewProperties.viewpoint
            });
            this.props.jimuMapView.deleteJimuMapTool('Home');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Home',
                instance: this.homeBtn
            });
            if (prevProps.initialMapState !== this.props.initialMapState) {
                if (this.props.jimuMapView.view) {
                    this.props.jimuMapView.view.goTo(this.homeBtn.viewpoint, {
                        animate: false
                    });
                }
                else {
                    this.homeBtn.destroy();
                    this.homeBtn = null;
                }
            }
        }
    }
    componentWillUnmount() {
        if (this.homeBtn) {
            this.homeBtn.destroy();
            this.homeBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Home');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'esri-widget--button home-map-tool', ref: ref => { if (!this.container) {
                this.container = ref;
            } } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layers)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Layers extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Layers';
        this.handleTabIndexChange = (activeTabIndex) => {
            this.setState({
                activeTabIndex: activeTabIndex
            });
        };
        this.state = {
            activeTabIndex: 0
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'LayersLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/layerlist.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg")
        };
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', minHeight: '32px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Nav, { tabs: true },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 0, onClick: () => { this.handleTabIndexChange(0); } }, this.props.intl.formatMessage({ id: 'LayersLabelLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLayer }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 1, onClick: () => { this.handleTabIndexChange(1); } }, this.props.intl.formatMessage({ id: 'LayersLabelLegend', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLegend })))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-1' }),
            this.state.activeTabIndex === 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LayerListInner, { jimuMapView: this.props.jimuMapView }),
            this.state.activeTabIndex === 1 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LegendInner, { jimuMapView: this.props.jimuMapView })));
    }
}
class LayerListInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.LayerList = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/LayerList']).then(modules => {
                [this.LayerList] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LayerListBtn) {
                    this.LayerListBtn.view = this.props.jimuMapView.view;
                    this.LayerListBtn.renderNow();
                }
            }
            else {
                this.LayerListBtn = new this.LayerList({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('LayerList');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'LayerList',
                    instance: this.LayerListBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LayerListBtn) {
            this.LayerListBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('LayerList');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'layers-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}
class LegendInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Legend = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Legend']).then(modules => {
                [this.Legend] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LegendBtn) {
                    this.LegendBtn.view = this.props.jimuMapView.view;
                    this.LegendBtn.renderNow();
                }
            }
            else {
                this.LegendBtn = new this.Legend({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Legend');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Legend',
                    instance: this.LegendBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LegendBtn) {
            this.LegendBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Legend');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Locate)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Locate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Locate';
    }
    getTitle() {
        return 'Locate';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LocateInner, { jimuMapView: this.props.jimuMapView });
    }
}
class LocateInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Locate = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Locate']).then(modules => {
                [this.Locate] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.LocateBtn) {
                this.container.innerHTML = '';
            }
            this.LocateBtn = new this.Locate({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Locate');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Locate',
                instance: this.LocateBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.LocateBtn) {
            this.LocateBtn.destroy();
            this.LocateBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Locate');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'esri-widget--button locate-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx":
/*!******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapSwitch)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var _components_map_thumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/map-thumb */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx");
/** @jsx jsx */





class MapSwitch extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'MapSwitch';
        this.switchMap = () => { };
        this.getContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme) => {
            const onClick = () => {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(mapWidgetId, mapWidgetId));
                switchMap();
            };
            if (isShowMapSwitchBtn) {
                if (this.props.isMobile) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-tool esri-widget--button', onClick: onClick },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })));
                }
                else {
                    const dsJsons = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources;
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-map-tool', css: this.getStyle(), onClick: onClick },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[0] !== activeDataSourceId }, { back: dataSourceIds[0] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].itemId : null, portUrl: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].portalUrl : null, theme: theme })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[1] !== activeDataSourceId }, { back: dataSourceIds[1] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].itemId : null, portUrl: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].portalUrl : null, theme: theme }))));
                }
            }
            else {
                return null;
            }
        };
        this.getIconContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) => {
            if (isShowMapSwitchBtn) {
                this.switchMap = switchMap;
                return super.render();
            }
            else {
                return null;
            }
        };
    }
    static getIsNeedSetting() {
        return false;
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(68)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(52)};
      cursor: pointer;
      position: relative;

      .mapthumb-item {
        position: absolute;
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(64)};
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(48)};
        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;
      }

      .front {
        z-index: 1;
        bottom: 0;
        left: 0;
      }

      .back {
        z-index: 0;
        top: 0;
        right: 0;
      }
    `;
    }
    getTitle() {
        return 'MapSwitch';
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/exchange.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg"),
            onIconClick: () => {
                this.switchMap();
            }
        };
    }
    getExpandPanel() {
        if (this.props.toolJson.isOnlyExpanded) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme }) => (this.getContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme))));
        }
        else {
            return null;
        }
    }
    render() {
        if (this.props.toolJson.isOnlyExpanded) {
            return super.render();
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (this.getIconContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap))));
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Measure)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class Measure extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Measure';
        this.measureModules2D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'distance',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg")
            }];
        this.measureModules3D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'direct-line',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg")
            }];
        this.destroy = () => {
            if (this.state.measureInstance && !this.state.measureInstance.destroyed) {
                this.state.measureInstance.destroy();
                this.setState({
                    measureInstance: null,
                    activeTabIndex: 0
                });
            }
        };
        this.handleMeasurceInstanceCreated = (measureInstance) => {
            this.setState({
                measureInstance: measureInstance
            });
        };
        this.onTabClick = (index) => {
            if (this.state.activeTabIndex === index) {
                return;
            }
            this.state.measureInstance.clear();
            this.setState({ activeTabIndex: index });
            if (index === 0) {
                this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
            }
            else if (index === 1) {
                this.state.measureInstance.activeTool = 'area';
            }
        };
        this.onClosePanel = () => {
            this.destroy();
        };
        this.onShowPanel = () => {
            if (this.state.measureInstance) {
                if (this.state.activeTabIndex === 0) {
                    this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
                }
                else if (this.state.activeTabIndex === 1) {
                    this.state.measureInstance.activeTool = 'area';
                }
            }
        };
        this.getNavTab = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules2D.map((module, index) => {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, onClick: () => { this.onTabClick(index); } },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else if (this.props.jimuMapView.view.type === '3d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules3D.map((module, index) => {
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, onClick: () => { this.onTabClick(index); } },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else {
                return null;
            }
        };
        this.getMeasureModule = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return this.measureModules2D[this.state.activeTabIndex];
            }
            else {
                return this.measureModules3D[this.state.activeTabIndex];
            }
        };
        this.state = {
            activeTabIndex: 0,
            measureInstance: null
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'MeasureLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.MeasureLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/measure.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg")
        };
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            this.getNavTab(),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(MeasureInner, { activeTabIndex: this.state.activeTabIndex, jimuMapView: this.props.jimuMapView, measureModule: this.getMeasureModule(), measureInstance: this.state.measureInstance, onMeasurceInstanceCreated: this.handleMeasurceInstanceCreated })));
    }
}
class MeasureInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.MeasureInstance = null;
        this.toolName = 'measurement';
        this.checkContainer = () => {
            if (this.container.style.opacity === '0' || this.container.style.opacity === 0) {
                this.container.style.opacity = 1;
                this.container.style.height = '';
            }
        };
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)(['esri/widgets/Measurement']).then(modules => {
                [this.MeasureClass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.parentContainer && this.container) {
            if (!this.props.measureInstance) {
                // crate measure isntance here
                const tempInstance = new this.MeasureClass({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                tempInstance.activeTool = this.props.measureModule.activeTool;
                this.props.jimuMapView.deleteJimuMapTool(this.toolName);
                this.props.jimuMapView.addJimuMapTool({
                    name: this.toolName,
                    instance: tempInstance
                });
                this.props.onMeasurceInstanceCreated(tempInstance);
            }
            else {
                if (this.props.measureInstance.view !== this.props.jimuMapView.view) {
                    // map view changed by switch
                    this.props.measureInstance.clear();
                    this.props.measureInstance.view = this.props.jimuMapView.view;
                    // @ts-expect-error
                    this.props.measureInstance.activeTool = this.props.measureModule.activeTool;
                }
            }
            this.checkContainer();
        }
    }
    reload() {
        if (this.container.childNodes && this.container.childNodes[0]) {
            this.container.style.opacity = 0;
            this.container.style.height = '35px';
        }
        //this.setState({
        //  apiLoaded: false
        //}, () => {
        //  loadArcGISJSAPIModules(['esri/widgets/Measurement']).then(modules => {
        //    [this.MeasureClass] = modules
        //    this.setState({
        //      apiLoaded: true
        //    })
        //  })
        //})
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100', style: { width: '250px', position: 'relative', minHeight: '32px' }, ref: ref => { this.parentContainer = ref; } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'measure-container measure-map-tool', ref: ref => { this.container = ref; } }),
            !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Navigation)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Navigation extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Navigation';
    }
    getTitle() {
        return 'Navigation';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(NavigationInner, { jimuMapView: this.props.jimuMapView });
    }
}
class NavigationInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Navigation = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/NavigationToggle']).then(modules => {
                [this.Navigation] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.NavigationBtn) {
                this.container.innerHTML = '';
            }
            this.NavigationBtn = new this.Navigation({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Navigation',
                instance: this.NavigationBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.NavigationBtn) {
            this.NavigationBtn.destroy();
            this.NavigationBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'navigation-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx":
/*!*****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScaleBar)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class ScaleBar extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'ScaleBar';
    }
    getTitle() {
        return 'ScaleBar';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ScaleBarInner, { jimuMapView: this.props.jimuMapView });
    }
}
class ScaleBarInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.ScaleBar = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/ScaleBar']).then(modules => {
                [this.ScaleBar] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ScaleBarBtn) {
                this.container.innerHTML = '';
            }
            this.ScaleBarBtn = new this.ScaleBar({
                container: this.container,
                view: this.props.jimuMapView.view,
                unit: 'dual'
            });
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
            this.props.jimuMapView.addJimuMapTool({
                name: 'ScaleBar',
                instance: this.ScaleBarBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ScaleBarBtn) {
            this.ScaleBarBtn.destroy();
            this.ScaleBarBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'scalebar-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Search)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */




class Search extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Search';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SearchLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.SearchLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/search.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minHeight: '32px', position: 'relative', width: '100%' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minWidth: '250px', minHeight: '32px', position: 'relative' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
    }
}
class SearchInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Search = null;
        this.Portal = null;
        this.state = {
            apiLoaded: false
        };
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      /* border: solid 1px rgba(110,110,110,0.3); */
    `;
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Search', 'esri/portal/Portal']).then(modules => {
                [this.Search, this.Portal] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.SearchBtn) {
                this.container.innerHTML = '';
            }
            this.SearchBtn = new this.Search({
                container: this.container,
                view: this.props.jimuMapView.view,
                portal: new this.Portal({
                    url: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl
                })
            });
            this.props.jimuMapView.deleteJimuMapTool('Search');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Search',
                instance: this.SearchBtn
            });
            this.SearchBtn.on('select-result', (event) => {
                var _a, _b, _c, _d, _e;
                // use zoomToUtils to instead of default zoom for searing result with single point
                if (((_b = (_a = event === null || event === void 0 ? void 0 : event.result) === null || _a === void 0 ? void 0 : _a.feature) === null || _b === void 0 ? void 0 : _b.layer) && ((_e = (_d = (_c = event === null || event === void 0 ? void 0 : event.result) === null || _c === void 0 ? void 0 : _c.feature) === null || _d === void 0 ? void 0 : _d.geometry) === null || _e === void 0 ? void 0 : _e.type) === 'point') {
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(this.props.jimuMapView.view, [event.result.feature], {});
                }
                if (!event.result.feature.layer) {
                    const geometry = event.result.feature.geometry.toJSON();
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry));
                }
                else {
                    const geometry = event.result.feature.geometry;
                    if (geometry.type === 'point') {
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry.toJSON()));
                    }
                    else {
                        const point = geometry.extent.center;
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, point.toJSON()));
                    }
                }
            });
        }
    }
    componentWillUnmount() {
        if (this.SearchBtn) {
            this.SearchBtn.destroy();
            this.SearchBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Search');
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 search-map-tool', ref: ref => { this.container = ref; } }, !this.state.apiLoaded && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _select_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-pc */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx");
/* harmony import */ var _select_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-mobile */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx");
/** @jsx jsx */





class Select extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Select';
        this.state = {};
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.SelectLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_mobile__WEBPACK_IMPORTED_MODULE_4__.SelectMobileTool, { isActive: this.toolName === (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName), activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); }, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView }));
        }
        else {
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_pc__WEBPACK_IMPORTED_MODULE_3__.SelectPCTool, { theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView });
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx":
/*!*****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectMobileTool": () => (/* binding */ SelectMobileTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */




const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectMoreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-16.svg */ "./jimu-ui/lib/icons/more-16.svg");
class SelectMobileTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.jsonUtils = null;
        this.currentActiveTool = 'rectangle';
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === this.state.currentSelectType) {
                return;
            }
            if (currentSelectType === 'Point') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('point');
                }
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('rectangle');
                }
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('polygon');
                }
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('circle');
                }
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('polyline');
                }
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType
            }, () => {
                if (!this.props.activeToolInfo || (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== this.props.toolName)) {
                    this.props._onIconClick(null);
                }
            });
        };
        this.toggleIsSelectActive = () => {
            this.props._onIconClick(null);
        };
        this.handleIsShowSelectSetting = () => {
            this.setState({
                isShowSelectSetting: !this.state.isShowSelectSetting
            });
        };
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.getMobilePanelForSelectSetting = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanel, { mapWidgetId: `${mapWidgetId}-with-select-container`, title: '', open: this.state.isShowSelectSetting, toggle: () => { this.handleIsShowSelectSetting(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100' }, this.getMobilePanelSettingContent())))));
        };
        this.getMobilePanelSettingContent = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 select-tool-type-mobile-container-shell' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-mobile-container' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                            }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, style: { float: 'left' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                            }), onClick: () => { this.setCurrentSelectType('Lasso'); }, style: { float: 'left' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                            }), onClick: () => { this.setCurrentSelectType('Circle'); }, style: { float: 'left' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                            }), onClick: () => { this.setCurrentSelectType('Line'); }, style: { float: 'left' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                            }), onClick: () => { this.setCurrentSelectType('Point'); }, style: { float: 'left' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain }))))));
        };
        this.state = {
            currentSelectType: 'Rectangle',
            sketchInitialed: false,
            spatialRelationship: 'intersects',
            isQuerying: false,
            isShowSelectSetting: false
        };
    }
    getCSSStyle() {
        const theme = this.props.theme;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      background-color: 'initial';

      .select-tool-btn-hover: hover {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.palette.primary[500], 0.1)};;
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 40%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        const prevActiveToolName = prevProps.activeToolInfo && prevProps.activeToolInfo.activeToolName;
        const currentActiveToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        if (prevActiveToolName !== currentActiveToolName && currentActiveToolName !== this.props.toolName && currentActiveToolName) {
            this.setState({
                isShowSelectSetting: false
            });
        }
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            this.initialSketchTool();
            if (this.props.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            this.initialSketchTool();
            this.sketchViewModel.view = this.props.jimuMapView.view;
            if (this.props.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.isActive !== this.props.isActive) {
            this.initialSketchTool();
            if (this.props.isActive) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            else {
                this.sketchViewModel.destroy();
                this.sketchViewModel = null;
            }
        }
    }
    componentWillUnmount() {
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
        }
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.sketchViewModel = new this.SketchViewModel({
                view: this.props.jimuMapView.view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    this.sketchViewModel.create(this.currentActiveTool);
                    this.setState({
                        isQuerying: true
                    });
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.selectFeaturesByGraphic(event.graphic, this.state.spatialRelationship).then(() => {
                        this.setState({
                            isQuerying: false
                        });
                    });
                }
            });
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.toggleIsSelectActive, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.props.isActive
                }) },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'border border-top-0 w-100', style: { height: '1px' } }),
            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.handleIsShowSelectSetting, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            this.state.isShowSelectSetting && this.getMobilePanelForSelectSetting(),
            (this.state.isQuerying || !this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-loader' })));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectPCTool": () => (/* binding */ SelectPCTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/** @jsx jsx */



const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const IconArrowDown = __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-header.svg */ "./jimu-ui/lib/icons/arrow-down-header.svg");
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg");
class SelectPCTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.currentActiveTool = 'rectangle';
        this.jsonUtils = null;
        this.resultGraphics = [];
        this.toggleIsSelectActive = () => {
            this.setState({
                isActive: !this.state.isActive
            });
        };
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.toggleSelectTypePopup = () => {
            this.setState({
                isShowSelectTypePopup: !this.state.isShowSelectTypePopup
            });
        };
        this.toggleResultPopup = () => {
            this.setState({
                isShowResultPopup: !this.state.isShowResultPopup
            });
        };
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === 'Point') {
                this.sketchViewModel.create('point');
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                this.sketchViewModel.create('rectangle');
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                this.sketchViewModel.create('polygon');
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                this.sketchViewModel.create('circle');
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                this.sketchViewModel.create('polyline');
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType,
                isShowSelectTypePopup: false,
                isActive: true
            });
        };
        this.clearSelect = () => {
            this.props.jimuMapView.clearSelectedFeatures();
        };
        this.state = {
            isShowResultPopup: false,
            isShowSelectTypePopup: false,
            currentSelectType: 'Rectangle',
            sketchInitialed: false,
            isActive: false,
            spatialRelationship: 'intersects',
            resultGraphics: [],
            isQuerying: false
        };
    }
    getCSSStyle() {
        const theme = this.props.theme;
        const containerbg = theme.arcgis.components.button.variants.default.default.bg;
        const containerBorder = theme.arcgis.components.button.variants.default.default.border;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .select-tool-container {
        ${containerbg && `background-color: ${containerbg};`}
        ${containerBorder && `border: ${containerBorder.color} ${containerBorder.width} solid;`}
      }

      .select-tool-btn {
        width: 32px;
        height: 32px;
      }

      .content-bg {
        background-color: ${theme.colors.palette.light[100]};
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            this.initialSketchTool();
            this.sketchViewModel.view = this.props.jimuMapView.view;
            if (this.state.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevState.isActive !== this.state.isActive) {
            this.initialSketchTool();
            if (this.state.isActive) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            else {
                this.sketchViewModel.destroy();
                this.sketchViewModel = null;
            }
        }
    }
    componentWillUnmount() {
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
        }
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.sketchViewModel = new this.SketchViewModel({
                view: this.props.jimuMapView.view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    this.sketchViewModel.create(this.currentActiveTool);
                    this.setState({
                        isQuerying: true
                    });
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.selectFeaturesByGraphic(event.graphic, this.state.spatialRelationship).then(() => {
                        this.setState({
                            isQuerying: false
                        });
                    });
                }
            });
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-center select-tool-container', ref: ref => { this.btnContainer = ref; } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleIsSelectActive, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isActive }), disabled: !this.state.sketchInitialed },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: this.getSelectToolIcon() })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleSelectTypePopup, style: { width: 18 }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isShowSelectTypePopup }), disabled: !this.state.sketchInitialed },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 8, height: 8, icon: IconArrowDown }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: 'select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0', ref: ref => { this.selectResultContainer = ref; }, onClick: this.clearSelect, disabled: !this.state.sketchInitialed },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectClearIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { css: this.getCSSStyle(), reference: this.btnContainer, open: this.state.isShowSelectTypePopup, placement: 'bottom-start', toggle: this.toggleSelectTypePopup },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'p-3 content-bg', style: { display: 'flex', flexDirection: 'column' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-2 mb-2' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex mb-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                                        }), onClick: () => { this.setCurrentSelectType('Rectangle'); } },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                                        }), onClick: () => { this.setCurrentSelectType('Lasso'); } },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                                        }), onClick: () => { this.setCurrentSelectType('Circle'); } },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle })))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                                        }), onClick: () => { this.setCurrentSelectType('Line'); } },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                                        }), onClick: () => { this.setCurrentSelectType('Point'); } },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain })))))))),
            (this.state.isQuerying || !this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-loader' })));
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SelectState)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _selected_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selected-number */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx");
/** @jsx jsx */




const SelectZoomtoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-zoomto.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg");
const SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg");
class SelectState extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'SelectState';
        this.handleSelectedGraphicsChanged = (selectedGraphics) => {
            this.setState({
                selectedGraphics: selectedGraphics
            });
        };
        this.zoomToSelectedFeatures = () => {
            if (this.props.jimuMapView.view) {
                this.props.jimuMapView.view.goTo(this.state.selectedGraphics);
            }
        };
        this.clearSelectedFeatures = () => {
            this.props.jimuMapView.clearSelectedFeatures();
        };
        this.state = {
            selectedGraphics: []
        };
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      background-color: ${this.props.theme.arcgis.components.button.variants.default.default.bg};

      .divide-line {
        border-right: 1px solid ${this.props.theme.colors.palette.dark[400]};
        height: 100%;
      }
    `;
    }
    getTitle() {
        return '';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 d-flex justify-content-between align-items-center', style: { height: '40px' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-2' }, `${this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures })}:${this.state.selectedGraphics.length}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100 border border-top-0 border-bottom-0 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.zoomToSelectedFeatures },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectZoomtoIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.clearSelectedFeatures },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectClearIcon }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.zoomToSelectedFeatures },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectZoomtoIcon, className: 'mr-2' }),
                    `${this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures })}:${this.state.selectedGraphics.length}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx":
/*!************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectedNumber": () => (/* binding */ SelectedNumber)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class _SelectedNumber extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    componentDidMount() {
        this.computerSelectedGraphics();
    }
    componentDidUpdate() {
        this.computerSelectedGraphics();
    }
    computerSelectedGraphics() {
        if (this.props.onSelectedGraphicsChanged) {
            const jimuLayerViews = this.props.jimuMapView.jimuLayerViews;
            const jimuLayerViewIds = Object.keys(jimuLayerViews);
            const selectedGraphics = [];
            for (let i = 0; i < jimuLayerViewIds.length; i++) {
                const jimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];
                const dsId = jimuLayerView.layerDataSourceId;
                const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
                if (ds) {
                    const selectedRecords = ds.getSelectedRecords();
                    for (let j = 0; j < selectedRecords.length; j++) {
                        const tempFeature = selectedRecords[j].feature.clone();
                        selectedGraphics.push(tempFeature);
                    }
                }
            }
            this.props.onSelectedGraphicsChanged(selectedGraphics);
        }
    }
    render() {
        return null;
    }
}
const mapStateToProps = (state, ownProps) => {
    if (state.appStateInBuilder) {
        const dataSourcesInfo = state.appStateInBuilder && state.appStateInBuilder.dataSourcesInfo;
        const jimuMapViewsInfo = state.appStateInBuilder && state.appStateInBuilder.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
    else {
        const dataSourcesInfo = state && state.dataSourcesInfo;
        const jimuMapViewsInfo = state && state.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
};
const SelectedNumber = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_SelectedNumber);


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx":
/*!*************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Zoom)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Zoom extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Zoom';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'ZoomLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.ZoomLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ZoomInner, { jimuMapView: this.props.jimuMapView });
    }
}
class ZoomInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Zoom = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Zoom']).then(modules => {
                [this.Zoom] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ZoomBtn) {
                this.container.innerHTML = '';
            }
            this.ZoomBtn = new this.Zoom({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Zoom',
                instance: this.ZoomBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ZoomBtn) {
            this.ZoomBtn.destroy();
            this.ZoomBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            /**
             * TODO
             * When the map widget has two maps, the "componentWillUnmount" is called only for the current active view,
             * so the another view's mapTool is not cleared.
             */
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'zoom-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts":
/*!*******************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkIsLive": () => (/* binding */ checkIsLive),
/* harmony export */   "createNewFeaturelayer": () => (/* binding */ createNewFeaturelayer),
/* harmony export */   "filterFeaturesByQuery": () => (/* binding */ filterFeaturesByQuery),
/* harmony export */   "flashFeaturesByQuery": () => (/* binding */ flashFeaturesByQuery),
/* harmony export */   "getMapBaseRestoreData": () => (/* binding */ getMapBaseRestoreData),
/* harmony export */   "handleFeature": () => (/* binding */ handleFeature),
/* harmony export */   "mapPanto": () => (/* binding */ mapPanto),
/* harmony export */   "processZoomToFeatures": () => (/* binding */ processZoomToFeatures),
/* harmony export */   "projectGeometries": () => (/* binding */ projectGeometries),
/* harmony export */   "restoreMapBase": () => (/* binding */ restoreMapBase),
/* harmony export */   "selectFeature": () => (/* binding */ selectFeature),
/* harmony export */   "updateFeaturelayer": () => (/* binding */ updateFeaturelayer)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/* eslint-disable prefer-const */


function createNewFeaturelayer(mapBaseView, newFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const newLayerPromises = [];
        newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                console.warn('the feature layer is already created');
                return;
            }
            newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));
        });
        if (newLayerPromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(newLayerPromises);
        }
    });
}
function updateFeaturelayer(mapBaseView, changedFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const updatePromises = [];
        changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                mapBaseView.map.remove(layer);
                updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));
            }
        });
        if (updatePromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(updatePromises);
        }
    });
}
function addFeatureSetToMap(mapBaseView, featureSet, layerId) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield new Promise((resolve, reject) => {
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/layers/FeatureLayer'
            ]).then(modules => {
                if (featureSet.features.length < 1) {
                    return resolve(null);
                }
                else {
                    // let FeatureSet: typeof  __esri.FeatureSet;
                    let FeatureLayer;
                    // eslint-disable-next-line
                    [FeatureLayer] = modules;
                    const layerFromFeatureSet = featureSet.features[0].layer;
                    const fieldsInFeaturelayer = [];
                    const fieldMap = {};
                    for (let i = 0; i < layerFromFeatureSet.fields.length; i++) {
                        const fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);
                        fieldMap[layerFromFeatureSet.fields[i].name] = fieldsItem.name;
                        fieldsInFeaturelayer.push(fieldsItem);
                    }
                    const fieldsInPopupTemplate = [];
                    for (const key in featureSet.features[0].attributes) {
                        if (fieldMap[key]) {
                            const fieldsItem = {
                                fieldName: fieldMap[key],
                                label: key
                            };
                            fieldsInPopupTemplate.push(fieldsItem);
                        }
                    }
                    const sourceFeatures = [];
                    featureSet.features.forEach((feature, index) => {
                        const tempFeature = feature;
                        if (tempFeature.attributes) {
                            for (const key in tempFeature.attributes) {
                                tempFeature.attributes[fieldMap[key]] = tempFeature.attributes[key];
                            }
                            tempFeature.attributes.exbfid = index;
                        }
                        else {
                            tempFeature.attributes = {
                                exbfid: index
                            };
                        }
                        sourceFeatures.push(tempFeature);
                    });
                    const layer = new FeatureLayer({
                        id: layerId,
                        title: layerFromFeatureSet.title,
                        source: sourceFeatures,
                        fields: fieldsInFeaturelayer,
                        outFields: ['*'],
                        objectIdField: 'exbfid',
                        renderer: layerFromFeatureSet.renderer,
                        popupEnabled: true,
                        popupTemplate: {
                            title: 'information',
                            content: [{
                                    type: 'fields',
                                    fieldInfos: fieldsInPopupTemplate
                                }]
                        }
                    });
                    mapBaseView.map.add(layer);
                    layer.on('layerview-create', event => {
                        return resolve(null);
                    });
                }
            });
        });
    });
}
function getReasonableField(field) {
    // the function is supported to normalize the field.name
    const fieldName = field.name;
    return {
        name: fieldName.replace(/\./g, '_').replace(/\(/g, '_').replace(/\)/g, '_'),
        alias: field.alias,
        type: field.type
    };
}
function selectFeature(mapBaseView, target, layerId) {
    // In this function, we assume that features come from the same layer
    let featureLayerId = layerId;
    let featureLayerView = null;
    let tempFeature = null;
    // if layerId doesn't exist, we get layerId by feature
    if (!featureLayerId) {
        if (target instanceof Array) {
            tempFeature = target[0];
        }
        else {
            tempFeature = target;
        }
        if (tempFeature) {
            featureLayerId = tempFeature.layer && tempFeature.layer.id;
        }
    }
    if (featureLayerId) {
        const layerViews = mapBaseView.allLayerViews;
        for (let i = 0; i < layerViews.length; i++) {
            if (layerViews.getItemAt(i).layer.id === featureLayerId) {
                featureLayerView = layerViews.getItemAt(i);
            }
        }
        if (featureLayerView) {
            return {
                layerId: featureLayerId,
                handle: featureLayerView.highlight(target)
            };
        }
        else {
            return null;
        }
    }
}
function mapPanto(mapBaseView, target) {
    return __awaiter(this, void 0, void 0, function* () {
        const panToTarget = target;
        const tempBaseMapView = mapBaseView;
        if (panToTarget instanceof Array) {
            if (panToTarget.length === 0)
                return yield Promise.resolve();
            if (panToTarget[0].geometry) {
                const geometryArr = [];
                for (let i = 0; i < panToTarget.length; i++) {
                    geometryArr.push(panToTarget[i].geometry);
                }
                return yield getGeometriesExtent(geometryArr).then((extent) => {
                    return tempBaseMapView.goTo(extent.center);
                });
            }
            else {
                return getGeometriesExtent(panToTarget).then((extent) => {
                    return tempBaseMapView.goTo(extent.center);
                });
            }
        }
        else {
            if (panToTarget.geometry) {
                const getmetry = panToTarget.geometry;
                return tempBaseMapView.goTo(getCenterPoint(getmetry));
            }
            else {
                return tempBaseMapView.goTo(getCenterPoint(panToTarget));
            }
        }
    });
}
function getGeometriesExtent(geometries) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/geometry/Extent'
        ]).then((modules) => __awaiter(this, void 0, void 0, function* () {
            // eslint-disable-next-line
            let Extent;
            [Extent] = modules;
            if (!geometries || !geometries.length) {
                return yield Promise.resolve(null);
            }
            let fullExtent = null;
            let index;
            const numGeometries = geometries.length;
            for (index = 0; index < numGeometries; index++) {
                const geometry = geometries[index];
                if (!geometry) {
                    continue;
                }
                let extent = geometry.extent;
                if (!extent && geometry.type === 'point') {
                    const pointGeometry = geometry;
                    if (pointGeometry.x && pointGeometry.y) {
                        extent = new Extent({
                            xmax: pointGeometry.x,
                            xmin: pointGeometry.x,
                            ymax: pointGeometry.y,
                            ymin: pointGeometry.y,
                            zmax: pointGeometry.z,
                            zmin: pointGeometry.z,
                            spatialReference: pointGeometry.spatialReference
                        });
                    }
                }
                if (!extent) {
                    continue;
                }
                if (fullExtent) {
                    fullExtent = fullExtent.union(extent);
                }
                else {
                    fullExtent = extent;
                }
            }
            if (fullExtent.width < 0 && fullExtent.height < 0) {
                return yield Promise.resolve(null);
            }
            return yield Promise.resolve(fullExtent);
        }));
    });
}
function filterFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {
    if (layerDataSourceId) {
        const jimuLayerViews = jimuMapView.jimuLayerViews;
        const jimuLayerViewIds = Object.keys(jimuLayerViews);
        for (let i = 0; i < jimuLayerViewIds.length; i++) {
            let tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];
            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId &&
                (tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer || tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer)) {
                tempJimuLayerView.setLocalDefinitionExpression(querySQL);
            }
        }
    }
}
function queryFeatures(layerObject, querySQL) {
    return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/rest/support/Query'
    ]).then(modules => {
        let Query;
        [Query] = modules;
        const query = new Query();
        query.where = querySQL;
        query.outFields = ['*'];
        query.returnGeometry = true;
        return layerObject.queryFeatures(query).then(featureSet => {
            return featureSet;
        });
    });
}
function flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView) {
    if ((tempJimuLayerView).view) {
        let featureLayerView = (tempJimuLayerView).view;
        if (featureLayerView) {
            queryFeatures(featureLayerView.layer, querySQL).then(featureSet => {
                if (featureSet && featureSet.features && featureSet.features.length > 0) {
                    const symbol = getFlashSymbol(featureLayerView.layer.geometryType);
                    startFlash(jimuMapView.view, featureSet.features, symbol);
                }
            });
        }
        else {
            return null;
        }
    }
    else {
        (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/layers/FeatureLayer'
        ]).then(modules => {
            let FeatureLayer;
            [FeatureLayer] = modules;
            let tempFeatureLayer = new FeatureLayer({
                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(tempJimuLayerView.layer)
            });
            tempFeatureLayer.load().then(() => {
                queryFeatures(tempFeatureLayer, querySQL).then(featureSet => {
                    if (featureSet && featureSet.features && featureSet.features.length > 0) {
                        const symbol = getFlashSymbol(featureSet.features[0].geometry.type);
                        startFlash(jimuMapView.view, featureSet.features, symbol);
                    }
                });
            });
        });
    }
}
let sceneHightlightHandle = null;
function flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView) {
    var _a;
    if ((tempJimuLayerView).view) {
        let sceneLayerView = (tempJimuLayerView).view;
        // @ts-expect-error
        queryFeatures((_a = sceneLayerView === null || sceneLayerView === void 0 ? void 0 : sceneLayerView.layer) === null || _a === void 0 ? void 0 : _a.associatedLayer, querySQL).then(featureSet => {
            if (featureSet && featureSet.features && featureSet.features.length > 0) {
                const objectIdField = sceneLayerView.layer.objectIdField;
                const objectIds = featureSet.features.map(feature => feature.attributes[objectIdField]);
                let i = 0;
                const maxFlashCount = 6;
                let highlightColor = [255, 255, 0, 0.8];
                const originalHighlightOptions = jimuMapView.view.highlightOptions;
                const flash = function () {
                    if (i < maxFlashCount) {
                        i++;
                        if (highlightColor) {
                            highlightColor = null;
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: [0, 0, 0, 0] };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        else {
                            highlightColor = [255, 255, 0, 0.8];
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: highlightColor };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        setTimeout(flash, 500);
                    }
                    else {
                        jimuMapView.view.highlightOptions = originalHighlightOptions;
                        sceneHightlightHandle && sceneHightlightHandle.remove();
                    }
                };
                setTimeout(flash, 500);
            }
        });
    }
}
function flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {
    if (layerDataSourceId) {
        const jimuLayerViews = jimuMapView.jimuLayerViews;
        const jimuLayerViewIds = Object.keys(jimuLayerViews);
        for (let i = 0; i < jimuLayerViewIds.length; i++) {
            let tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];
            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId) {
                if (tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer) {
                    flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView);
                }
                else if (tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer) {
                    flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView);
                }
            }
        }
    }
}
function startFlash(mapBaseView, features, symbol) {
    (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/Graphic'
    ]).then(modules => {
        // eslint-disable-next-line
        let Graphic;
        [Graphic] = modules;
        const flashFeatures = function (features, maxFlashCount) {
            const graphics = [];
            let flashCount = 0;
            for (let i = 0; i < features.length; i++) {
                const tempGraphic = new Graphic({
                    geometry: features[i].geometry,
                    symbol: symbol,
                    attributes: features[i].attributes
                });
                graphics.push(tempGraphic);
            }
            const singleFlash = function () {
                mapBaseView.graphics.addMany(graphics);
                setTimeout(() => {
                    mapBaseView.graphics.removeMany(graphics);
                    flashCount = flashCount + 1;
                    if (flashCount < maxFlashCount) {
                        setTimeout(() => {
                            singleFlash();
                        }, 500);
                    }
                }, 500);
            };
            singleFlash();
        };
        flashFeatures(features, 3);
    });
}
function getFlashSymbol(geometryType) {
    if (['point', 'multipoint'].includes(geometryType)) {
        return {
            type: 'simple-marker',
            style: 'circle',
            color: [255, 255, 0, 0.8],
            size: '16px',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['polyline'].includes(geometryType)) {
        return {
            type: 'simple-line',
            color: [255, 255, 0, 0.8],
            width: 3,
            style: 'solid'
        };
    }
    else if (['polygon', 'extent'].includes(geometryType)) {
        return {
            type: 'simple-fill',
            color: [255, 255, 0, 0.5],
            style: 'solid',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['mesh'].includes(geometryType)) {
        return {
            type: 'mesh-3d',
            symbolLayers: [{
                    type: 'fill',
                    material: { color: [255, 255, 0, 0.8] }
                }]
        };
    }
    else {
        return null;
    }
}
function getCenterPoint(geometry) {
    // point | multipoint | polyline | polygon | extent | mesh
    switch (geometry.type) {
        case 'point':
            return geometry;
        case 'extent':
            return geometry.center;
        case 'polygon':
            return geometry.centroid;
        case 'polyline':
            return geometry.extent.center;
        default:
            return geometry && geometry.extent ? geometry.extent.center : undefined;
        // todo
    }
}
function handleFeature(feature, Graphic) {
    let tempFeature = null;
    if (feature.clone) {
        tempFeature = feature.clone();
    }
    else {
        tempFeature = Graphic.fromJSON(Object.assign({}, feature));
        tempFeature.attributes = Object.assign({}, feature.attributes);
    }
    return tempFeature;
}
function projectGeometries(geometries, spatialReference) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!geometries || geometries.length === 0 || !geometries[0] ||
            spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else {
            return yield jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.geometryUtils.projectToSpatialReference(geometries, spatialReference);
        }
    });
}
function processZoomToFeatures(mapBaseView, layer, features) {
    return __awaiter(this, void 0, void 0, function* () {
        if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {
            return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query'
            ]).then((modules) => {
                const [Query] = modules;
                const query = new Query();
                query.returnGeometry = true;
                query.outFields = ['*'];
                query.objectIds = features.map(feature => feature.attributes[layer.objectIdField]);
                return layer.queryFeatures(query).then((result) => __awaiter(this, void 0, void 0, function* () {
                    if (result && result.features && result.features.length === features.length) {
                        return yield Promise.resolve(result.features);
                    }
                    else {
                        return yield Promise.resolve(features);
                    }
                }), () => __awaiter(this, void 0, void 0, function* () {
                    return yield Promise.resolve(features);
                }));
            });
        }
        else {
            return yield Promise.resolve(features);
        }
    });
}
function checkIsLive(appMode) {
    if (window.jimuConfig.isInBuilder) {
        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            return false;
        }
        else {
            return true;
        }
    }
    else {
        return true;
    }
}
function getMapBaseRestoreData(mapInstance) {
    return {
        mapContainer: mapInstance.mapContainer,
        state: mapInstance.state,
        MapView: mapInstance.MapView,
        SceneView: mapInstance.SceneView,
        Extent: mapInstance.Extent,
        Viewpoint: mapInstance.Viewpoint,
        mapView: mapInstance.mapView,
        sceneView: mapInstance.sceneView,
        extentWatch: mapInstance.extentWatch,
        fatalErrorWatch: mapInstance.fatalErrorWatch,
        dsManager: mapInstance.dsManager,
        highLightHandles: mapInstance.highLightHandles,
        mapBaseViewEventHandles: mapInstance.mapBaseViewEventHandles,
        Color: mapInstance.Color,
        isRequestingMap: mapInstance.isRequestingMap
    };
}
function restoreMapBase(mapInstance, restoreData) {
    mapInstance.mapContainer = restoreData.mapContainer;
    mapInstance.state = restoreData.state;
    mapInstance.MapView = restoreData.MapView;
    mapInstance.SceneView = restoreData.SceneView;
    mapInstance.Extent = restoreData.Extent;
    mapInstance.Viewpoint = restoreData.Viewpoint;
    mapInstance.mapView = restoreData.mapView;
    mapInstance.sceneView = restoreData.sceneView;
    mapInstance.extentWatch = restoreData.extentWatch;
    mapInstance.fatalErrorWatch = restoreData.fatalErrorWatch;
    mapInstance.dsManager = restoreData.dsManager;
    mapInstance.highLightHandles = restoreData.highLightHandles;
    mapInstance.mapBaseViewEventHandles = restoreData.mapBaseViewEventHandles;
    mapInstance.Color = restoreData.Color;
    mapInstance.isRequestingMap = restoreData.isRequestingMap;
}


/***/ }),

/***/ "./jimu-icons/filled/data/placeholder-map.tsx":
/*!****************************************************!*\
  !*** ./jimu-icons/filled/data/placeholder-map.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlaceholderMapFilled": () => (/* binding */ PlaceholderMapFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/filled/data/placeholder-map.svg */ "./jimu-icons/svg/filled/data/placeholder-map.svg");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const PlaceholderMapFilled = (props) => {
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*********************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx ***!
  \*********************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Widget)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/multisourcemap */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var _components_default_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/default-map */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */





class Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.multiSourceMapInstance = null;
        this.startRenderMap = () => {
            setTimeout(() => {
                this.setState({
                    startLoadModules: true
                });
            }, 100);
        };
        this.getPlaceHolderImage = () => {
            let placeHolderImage = this.props.config.placeholderImage;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getMainSession();
            if (placeHolderImage) {
                // eslint-disable-next-line
                const isPortalThumbExp = new RegExp('^(.)+/sharing/rest/content/items/(.)+/info/(.)+');
                if (isPortalThumbExp.test(placeHolderImage)) {
                    if (session) {
                        placeHolderImage = placeHolderImage + `?token=${session.token}`;
                    }
                    else {
                        // eslint-disable-next-line no-self-assign
                        placeHolderImage = placeHolderImage;
                    }
                }
            }
            return placeHolderImage;
        };
        this.fullScreenMap = () => {
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isTouchDevice()) {
                // is touch device
                if (this.container.style.position === 'fixed') {
                    this.container.style.height = `${this.containerClientRect.height}px`;
                    this.container.style.width = `${this.containerClientRect.width}px`;
                    this.container.style.top = `${this.containerClientRect.top}px`;
                    this.container.style.left = `${this.containerClientRect.left}px`;
                    setTimeout(() => {
                        this.container.style.transition = null;
                        this.container.style.position = 'relative';
                        this.container.style.height = '100%';
                        this.container.style.width = '100%';
                        this.container.style.top = '0';
                        this.container.style.left = '0';
                        this.container.style.backgroundColor = 'none';
                        this.parentContainer.appendChild(this.container);
                        this.setState({
                            isFullScreen: false
                        });
                    }, 100);
                }
                else {
                    const clientRect = this.container.getBoundingClientRect();
                    this.containerClientRect = clientRect;
                    this.container.style.height = `${clientRect.height}px`;
                    this.container.style.width = `${clientRect.width}px`;
                    this.container.style.position = 'fixed';
                    this.container.style.top = `${clientRect.top}px`;
                    this.container.style.left = `${clientRect.left}px`;
                    document && document.body.appendChild(this.container);
                    setTimeout(() => {
                        this.container.style.transition = 'top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s';
                        this.container.style.top = '0px';
                        this.container.style.left = '0px';
                        this.container.style.right = '0px';
                        this.container.style.bottom = '0px';
                        this.container.style.height = null;
                        this.container.style.width = null;
                        this.container.style.backgroundColor = '#fff';
                        this.setState({
                            isFullScreen: true
                        });
                    }, 100);
                }
            }
            else {
                const element = this.container;
                if (!document) {
                    return;
                }
                document.addEventListener('webkitfullscreenchange', (event) => {
                    if (!document.fullscreenElement && !document.webkitFullscreenElement) {
                        this.setState({
                            isFullScreen: false
                        });
                    }
                });
                document.addEventListener('fullscreenchange', (event) => {
                    if (!document.fullscreenElement && !document.webkitFullscreenElement) {
                        this.setState({
                            isFullScreen: false
                        });
                    }
                });
                if (document.fullscreenElement === element) {
                    document.exitFullscreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                if (document.webkitFullscreenElement === element) {
                    document.webkitCancelFullScreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                const requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;
                if (requestMethod) {
                    this.setState({
                        isFullScreen: true
                    });
                    requestMethod.call(element);
                }
                else if (typeof window.ActiveXObject !== 'undefined') {
                    const wscript = new ActiveXObject('WScript.Shell');
                    if (wscript !== null) {
                        wscript.SendKeys('{F11}');
                    }
                }
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (viewGroup) {
                viewGroup.setMapWidgetInstance(this);
            }
        };
        this.switchMap = () => __awaiter(this, void 0, void 0, function* () {
            if (this.multiSourceMapInstance) {
                return yield this.multiSourceMapInstance.switchMap();
            }
            else {
                return yield Promise.resolve();
            }
        });
        this.setMultiSourceMapInstance = (instance) => {
            this.multiSourceMapInstance = instance;
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            if (width <= 545 && width > 0) {
                this.setState({
                    widthBreakpoint: 'xsmall',
                    widgetHeight: height
                });
            }
            else {
                this.setState({
                    widthBreakpoint: 'other',
                    widgetHeight: height
                });
            }
        };
        this.getInnerContent = (isMapInVisibleArea) => {
            if (!this.state.startLoadModules) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-map w-100 h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' }))));
            }
            else {
                if (!(this.props.useDataSources && this.props.useDataSources[0] && this.props.useDataSources[0].dataSourceId)) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, isMapInVisibleArea && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_default_map__WEBPACK_IMPORTED_MODULE_2__["default"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, isDefaultMap: true, setMultiSourceMapInstance: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
                else {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, isMapInVisibleArea && this.props.useDataSources.length >= 1 &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__["default"], { key: 1, fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
            }
        };
        this.state = {
            widthBreakpoint: null,
            widgetHeight: null,
            isFullScreen: false
        };
    }
    getStyle() {
        const theme = this.props.theme;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      position: relative;

      .map-is-live-mode {
        .exbmap-ui {
          pointer-events: auto !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map-usemask {
        pointer-events: auto !important;
      }

      .map-is-design-mode {
        .exbmap-ui,
        .exbmap-ui-tool {
          pointer-events: none !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map{
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        z-index: -1;
        .overview-container{
          position: absolute;
          top: 12px;
          right: 12px;
          width: 300px;
          height: 200px;
          border: 1px solid black;
          z-index: 1;
        }

        .extent-container{
          background-color: rgba(0, 0, 0, 0.5);
          position: absolute;
          z-index: 2;
        }

        .extent-btn-container{
          button{
            outline: none;
          }
          .previous-extent-btn{
            color: #111;
          }
          .next-extent-btn{
            color: #222;
          }
        }
      }

      .map-tool-layout{
        z-index: 0;
      }

      .mapswitch-container {
        position: absolute;
        z-index: 7;
        width: 32px;
        height: 32px;
        bottom: 10px;
        left: 10px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)
      }

      .mapswitch-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .widget-map-background {
        background-color: ${theme.colors.white};
        position: absolute;
        z-index: 1;
      }

      .widget-map-crashed {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.white, 0.85)};
        position: absolute;
        z-index: 1;
        top: 0;

        .widget-map-crashed-label-padding {
          padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
          padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
        }

        .widget-map-crashed-label {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
          color: ${theme.colors.black};
          font-weight: bold;
          text-align: center;
        }
      }

      @keyframes appear {
        0%{opacity:0}
        25%{opacity:.25}
        50%{opacity:.5;}
        75%{opacity:.75}
        100%{opacity:1;}
      }

      @keyframes disappear {
        0%{opacity:1}
        25%{opacity:.75}
        50%{opacity:.5;}
        75%{opacity:.25}
        100%{opacity:0;}
      }

      .multisourcemap-item-appear {
        animation: appear 300ms;
        -webkit-animation: appear 300ms;
        -moz-animation: appear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-disappear {
        animation: disappear 300ms;
        -webkit-animation: disappear 300ms;
        -moz-animation: disappear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-appear-noanimate {
        opacity: 1;
      }

      .multisourcemap-item-disappear-noanimate {
        opacity: 0;
      }
      `;
    }
    componentDidMount() {
        if (!this.state.startLoadModules) {
            if (window.jimuConfig.isInBuilder || !this.props.config.canPlaceHolder) {
                this.startRenderMap();
            }
        }
    }
    componentWillUnmount() {
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (!widgets[this.props.id]) {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.id, 'restoreData', null);
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'jimu-widget arcgis-map' },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__.PageVisibilityContext.Consumer, null, (isVisibleInPage) => {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__.ViewportVisibilityContext.Consumer, null, (isVisibleInViewPort) => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__.ViewVisibilityContext.Consumer, null, (viewVisibilityContextProps) => {
                        const isVisibleInView = viewVisibilityContextProps.isInView ? viewVisibilityContextProps.isInCurrentView : true;
                        return this.getInnerContent((0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) ? ((isVisibleInViewPort || this.props.isPrintPreview) && isVisibleInView) : isVisibleInPage);
                    }));
                }));
            })));
    }
}
Widget.mapExtraStateProps = (state) => {
    return {
        appMode: state && state.appRuntimeInfo && state.appRuntimeInfo.appMode,
        isPrintPreview: state.appRuntimeInfo.isPrintPreview,
        queryObject: state.queryObject
    };
};

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9kaXN0L3J1bnRpbWUvd2lkZ2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7O0FDR0EsSUFBWSxnQkFLWDtBQUxELFdBQVksZ0JBQWdCO0lBQzFCLGlDQUFhO0lBQ2IsK0JBQVc7SUFDWCxxQ0FBaUI7SUFDakIsaUNBQWE7QUFDZixDQUFDLEVBTFcsZ0JBQWdCLEtBQWhCLGdCQUFnQixRQUszQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSNEM7QUFFUDtBQUNPO0FBQzhCO0FBdUI1RCxNQUFNLFVBQVcsU0FBUSwwREFBaUM7SUFDdkUsWUFBYSxLQUFLO1FBQ2hCLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFFWixJQUFJLENBQUMsS0FBSyxHQUFHO1lBQ1gsY0FBYyxFQUFFLElBQUk7U0FDckI7SUFDSCxDQUFDO0lBRUQsaUJBQWlCO1FBQ2YscUVBQTRCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQ3ZGLElBQUksQ0FBQyxRQUFRLENBQUM7Z0JBQ1osY0FBYyxFQUFFLGNBQWM7YUFDL0IsQ0FBQztRQUNKLENBQUMs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QUFlLEdBQUcsMEJBQTBCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQywwQkFBMEIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUk7d0JBQy9HLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxtREFBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUM7b0JBQzFKLENBQUMsQ0FDOEIsQ0FFbEM7Z0JBQ0gsQ0FBQyxDQUNrQyxDQUN0QztZQUNILENBQUMsQ0FDOEIsQ0FDN0IsQ0FDUDtJQUNILENBQUM7O0FBelFNLHlCQUFrQixHQUFHLENBQUMsS0FBYyxFQUFFLEVBQUU7SUFDN0MsT0FBTztRQUNMLE9BQU8sRUFBRSxLQUFLLElBQUksS0FBSyxDQUFDLGNBQWMsSUFBSSxLQUFLLENBQUMsY0FBYyxDQUFDLE9BQU87UUFDdEUsY0FBYyxFQUFFLEtBQUssQ0FBQyxjQUFjLENBQUMsY0FBYztRQUNuRCxXQUFXLEVBQUUsS0FBSyxDQUFDLFdBQVc7S0FDL0I7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvYmFzZW1hcC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvY2xvc2UtMTIuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9leGl0LWZ1bGwtc2NyZWVuLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbGF5ZXJsaXN0LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtZGlzdGFuY2Uuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlYXJjaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNsZWFyLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC16b29tdG8uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdHJhc2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL21vcmUtMTYuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy93aWRnZXRzLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9jb21wb25lbnRzL2RlZmF1bHQtbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbWFwLXRodW1iLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbWFwYmFzZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9jb21wb25lbnRzL211bHRpc291cmNlbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL2Jhc2UtdG9vbC1zaGVsbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9iYXNlLXRvb2wudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvZ3JvdXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvcGFuZWwtc2hlbGwudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2Uvc2Nyb2xsLWNvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS91aS1jb21wb25lbnQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2xheW91dC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvbWFwLWZpeGVkLWxheW91dC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3BjLWxheW91dC1qc29uLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3Rvb2wtbW9kdWxlcy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2F0dHJpYnV0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2Jhc2VtYXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvY2xlYXItYWN0aW9uLWRhdGEudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvY29tcGFzcy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9mdWxsc2NyZWVuLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2hvbWUudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbGF5ZXJzLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2xvY2F0ZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9tYXBzd2l0Y2gudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWVhc3VyZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9uYXZpZ2F0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL3NjYWxlYmFyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL3NlYXJjaC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3QvaW5kZXgudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1tb2JpbGUudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wYy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3RzdGF0ZS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3RzdGF0ZS9zZWxlY3RlZC1udW1iZXIudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvem9vbS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS91dGlscy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1hcmNnaXNcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1jb3JlL2xpYi9zZXQtcHVibGljLXBhdGgudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS93aWRnZXQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNLjEgNi45aDYuOFYuMUguMXY2LjhabTYtLjhIMy45ODVjLjA3Ny0uNDAzLjI1LS43OC41MDYtMS4xMDJhNC41NzQgNC41NzQgMCAwIDAgMS42MDkuODA1VjYuMVptMC0xLjEyOGEzLjc1OCAzLjc1OCAwIDAgMS0xLjAwNi0uNTIzYy4zMS0uMjAzLjY1LS4zNTggMS4wMDYtLjQ1OXYuOTgyWk02LjEuOXYyLjI2NmE0LjIyOSA0LjIyOSAwIDAgMC0xLjYxMy43MyA2LjAzOCA2LjAzOCAwIDAgMS0xLjEtMS43NjdsLjAwMi0uMDA0LS4wMDQtLjAwMUE4LjE2IDguMTYgMCAwIDEgMi45OS45SDYuMVpNLjkuOWgxLjI2NmE4LjcgOC43IDAgMCAwIC4zNTkgMS4yNDlBMS45MyAxLjkzIDAgMCAxIC45IDMuMTg4Vi45Wm0wIDMuMDlhMi44MjggMi44MjggMCAwIDAgMi4wMDYtLjk2NmMuMjYyLjUxOS41OTQgMSAuOTg3IDEuNDI4QTMuMzY3IDMuMzY3IDAgMCAwIDMuMTcgNi4xSC45VjMuOTlaTTkuMS4xdjYuOGg2LjhWLjFIOS4xWm0uOC44aDQuMDYzYS4zNzMuMzczIDAgMCAxLS4wNDUuMi41OTQuNTk0IDAgMCAxLS40MzguMTc2IDEuNjM3IDEuNjM3IDAgMCAwLTEuMTc1LjQ5LjkxLjkxIDAgMCAwLS4yMDMuNzA4Yy0uMDAxLjAwNy0uMTE0LjczNi0uNjA3Ljc0MmEuNzQuNzQgMCAwIDAtLjcxOS4zODQuODI4LjgyOCAwIDAgMC0uMDI2LjZIOS45Vi45Wm01LjIgNS4ySDkuOVY1aDIuMjk2bC0uNDc0LS42MzlhMS41NjIgMS41NjIgMCAwIDEtLjE5Mi0uMzQ2YzEuMDQxLS4wMyAxLjM3LTEuMTg4IDEuMzY1LTEuNTg3YS4xOS4xOSAwIDAgMSAuMDI4LS4xNTRjLjAzMS0uMDM3LjE2Ni0uMTYyLjYyNC0uMi40MTkgMCAuODEtLjIwNSAxLjA0OS0uNTQ5YTEuMTMgMS4xMyAwIDAgMCAuMTYtLjYyNWguMzQ0djUuMlptLTE1IDkuOGg2LjhWOS4xSC4xdjYuOFptLjgtNmg1LjJ2LjQ2bC0yIDEuOTczdi44NjdsLTMuMi0uMDg5VjkuOVptMCA0LjAxIDQgLjExMnYtMS4zNTVsMS4yLTEuMTgyVjE1LjFILjl2LTEuMTlabTguMiAxLjk5aDYuOFY5LjFIOS4xdjYuOFptNi0uOGgtMS43OTJsLTEuMjctMS41NzIgMS40NjgtMS40NjggMS41OTQgMS42MDVWMTUuMVptMC01LjJ2Mi42MjhMMTIuNDkgOS45aDIuNjFabS01LjIgMGgxLjQ2bDEuNTgxIDEuNTkyLTEuOTc4IDEuOTggMS4zMTYgMS42MjhIOS45VjkuOVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxnIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZmlsbD1cXFwibm9uZVxcXCI+PHBhdGggZD1cXFwibTcuNzQ1IDcgNC4xIDQuMWEuNTI3LjUyNyAwIDAgMS0uNzQ1Ljc0Nkw3IDcuNzQ2bC00LjEgNC4xYS41MjcuNTI3IDAgMCAxLS43NDYtLjc0Nmw0LjEtNC4xLTQuMS00LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni0uNzQ2bDQuMSA0LjEgNC4xLTQuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2Ljc0Nkw3Ljc0NiA3WlxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xIDFoMTJ2MTJIMXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzOSAzMlxcXCI+PHBhdGggZD1cXFwiTTM4Ljc4NCA5Ljc3OHYyLjk2MkgzLjIzNlY5Ljc3OGguMDc0TDEzLjA4Ni4wMDJsMi4xMTEgMi4xMTEtNy43MDIgNy42NjVoMzEuMjl6TTMuMjM2IDIxLjYyOGgzMS4zMjdsLTcuNzAyIDcuNzAyIDIuMTExIDIuMTExIDkuNzc2LTkuODEzaC4wMzd2LTIuOTYySDMuMjM3djIuOTYyelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIk01IDExdjVINHYtNC4wMDFMMCAxMnYtMWg1Wm0xMSAwdjFsLTQtLjAwMVYxNmgtMXYtNWg1Wk01IDB2NUgwVjRsNCAuMDAxVjBoMVptNyAwdjQuMDAxTDE2IDR2MWgtNVYwaDFaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNMSAxMXY0LjAwMUw1IDE1djFIMHYtNWgxWm0xNSAwdjVoLTV2LTFsNCAuMDAxVjExaDFaTTUgMHYxTDEgLjk5OVY1SDBWMGg1Wm0xMSAwdjVoLTFWLjk5OUwxMSAxVjBoNVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIm0xNC4zNzYgMTAuNTczIDEuNjQ3LjkyNy04IDQuNS04LTQuNSAxLjY0OC0uOTI3IDEuMDIuNTc0LS42MjguMzUzIDUuOTYgMy4zNTMgNS45Ni0zLjM1My0uNjI3LS4zNTMgMS4wMi0uNTc0Wm0tLjk5OS0yLjQxNC42MDYuMzQxLTUuOTYgMy4zNTNMMi4wNjMgOC41bC42MDctLjM0MS0xLjAyLS41NzRMLjAyMyA4LjVsOCA0LjUgOC00LjUtMS42MjYtLjkxNS0xLjAyLjU3NFpNOC4wMjMgMS4wMjNsLTggNC41IDggNC41IDgtNC41LTgtNC41Wm0tNS45NiA0LjUgNS45Ni0zLjM1MiA1Ljk2IDMuMzUyLTUuOTYgMy4zNTMtNS45Ni0zLjM1M1pcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTUgMTZcXFwiPjxnIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwiTTQgOGgxdjNINFY4Wk0yIDloMXYySDJWOVptNi0xaDF2M0g4VjhabTQgMGgxdjNoLTFWOFpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTUgMTJWNmgtMlY1aDFWMmgtM3YxTDQgMS4wNVYwSDF2M2gxdjNIMHY2aDJ2MUgxdjNoM3YtMWg3djFoM3YtM2gtMXYtMWgyWm0tMy05aDF2MWgtMVYzWm0tOC0uOTJMMTEgNHYxaDF2MUgzVjNoMXYtLjkyWk0yIDFoMXYxSDJWMVptMSAxNEgydi0xaDF2MVptOC0xSDR2LTFIM3YtMWg5djFoLTF2MVptMiAxaC0xdi0xaDF2MVpNMSAxMVY3aDEzdjRIMVpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNNiA5aDF2Mkg2VjlabTQgMGgxdjJoLTFWOVpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNSAxMFxcXCI+PHBhdGggZD1cXFwiTTAgMTBoMTVWNEgwdjZabTEtNWgxM3Y0aC0xVjZoLTF2M2gtMVY3aC0xdjJIOVY2SDh2M0g3VjdINnYySDVWNkg0djNIM1Y3SDJ2MkgxVjVabTExLTV2MUgzVjBIMHYzaDNWMmg5djFoM1YwaC0zWk0yIDJIMVYxaDF2MVptMTIgMGgtMVYxaDF2MVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIk0wIDl2NmgxNlY5SDBabTE1IDNoLTF2MmgtMXYtM2gtMXYzaC0xdi0yaC0xdjJIOXYtM0g4djNIN3YtMkg2djJINXYtM0g0djNIM3YtMkgydjJIMXYtNGgxNHYyWm0uMTgtNy41LTIuODUgMi44NS0uNzEtLjdMMTMuMjMgNUg5VjRoNC4zMmwtMS43LTEuNjkuNzEtLjcgMi44NSAyLjg5Wk0yLjY4IDRIN3YxSDIuNzdsMS42MSAxLjY1LS43MS43TC44MiA0LjVsMi44NS0yLjg1LjcxLjdMMi42OCA0WlxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTcgMWE2IDYgMCAxIDAgMCAxMkE2IDYgMCAwIDAgNyAxWm0wIDEzYTcgNyAwIDEgMSA1LjYyMS0yLjgyOGwtLjIyMi4yODQgMy40MDUgMy40MDRhLjY2OC42NjggMCAwIDEtLjk0NC45NDRMMTEuNDU2IDEyLjRBNi45NzQgNi45NzQgMCAwIDEgNyAxNFpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwibS4yNSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTVMLjI1IDNabS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OC00Ljg5My0yLjgxNFpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTAuMzE4IDBDMTMuNDU2IDAgMTYgMi40NjIgMTYgNS41UzEzLjQ1NiAxMSAxMC4zMTggMTFhNS43OTYgNS43OTYgMCAwIDEtMy4wMjMtLjg0MmwtLjIyLS4xNDIuNTQtLjc1MmMuNzg4LjUzIDEuNzIyLjgyIDIuNzAzLjgyIDIuNjE1IDAgNC43MzUtMi4wNTMgNC43MzUtNC41ODQgMC0yLjUzMS0yLjEyLTQuNTgzLTQuNzM1LTQuNTgzLTEuOTE2IDAtMy42MTcgMS4xMTItNC4zNTQgMi43NzlsLS4wNzguMTg3TDUgMy41NkM1LjgyNyAxLjQzNSA3LjkzMyAwIDEwLjMxOCAwWlxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNMTYgMHYxNkgwVjBoMTZaTTcuMDc3IDFIMXYxNGgxMC41NjFMNy4wNzggNy42MTYgNy4wNzcgMVpNMTUgNi4zOTEgOS41NiA5Ljc3OSAxMi43MyAxNUgxNVY2LjM5MVpNMTUgMUg4LjA3N3Y2LjMzNWwuOTY1IDEuNTg5TDE1IDUuMjEzVjFaXFxcIiBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE3IDE2XFxcIj48ZyBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIm0uNzUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC43NSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTguNzIxIDBjMS44MiAwIDIuODY1IDEuNTU2IDIuODY1IDQuMzUgMCAuNDYyLjEyLjY2LjM4NS43NzQuMjE5LjA5My40NzMuMTI2Ljk5LjEzMWguNTUxbC4zOTcuMDA5YzEuMjUxLjA1IDEuODA3LjMzNiAyLjA0IDEuMzMzLjQxIDEuNzYtMS42MiAzLjExNC01LjkwNCA0LjMxM2wtLjMyNi4wOS0uMjQ1LS45OTkuNjQtLjE4YzMuNTE2LTEuMDIgNS4wODgtMi4wODkgNC44OC0yLjk3OS0uMDk0LS40MDctLjM4Mi0uNTM1LTEuMzA0LS41NTNsLS43ODctLjAwMmMtLjYyLS4wMDgtLjk0My0uMDU1LTEuMy0uMjA3LS42NDgtLjI3Ni0uOTk4LS44NTktLjk5OC0xLjczIDAtMi4yODYtLjY5NC0zLjMxOC0xLjg4NC0zLjMxOC0uNzMxIDAtMS42OC41NS0yLjgxNSAxLjY4NWwtLjIxNS4yMkw1IDIuMjAzQzYuMzk4Ljc0OCA3LjYyNiAwIDguNzIxIDBaXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwibS4yNSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTVMLjI1IDNabS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OC00Ljg5My0yLjgxNFpNOS43MiAxLjExbC41ODgtLjgwOCA1LjA4MiAzLjctNC41NzcgMi42NTZMMTQuNjEgOS40OWwtLjU5OC44MDFMOSA2LjU1NWw0LjU2LTIuNjQ5elxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJtLjI1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NUwuMjUgM1ptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4LTQuODkzLTIuODE0Wk0xMiA2YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFpcXFwiIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaTTE2IDB2MTFIOC41di0xSDE1VjFINnYyLjVINVYwaDExWlxcXCIgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTcuNjgyIDYuMzE4YTQuNSA0LjUgMCAwIDEgLjMzNSA1Ljk5bDIuODQ3IDIuODQ5LS43MDcuNzA3LTIuODQ4LTIuODQ4YTQuNSA0LjUgMCAxIDEgLjM3My02LjY5OFptLTUuNjU3LjcwN2EzLjUgMy41IDAgMSAwIDQuOTUgNC45NSAzLjUgMy41IDAgMCAwLTQuOTUtNC45NVpNMTYgMHYxMUg5LjV2LTFoMy4wOTlMMTAgNS4xNTNWMUg2djIuNUg1VjBoMTFabS0xIDUuOTU0TDEyLjYzNyA3LjgzIDEzLjgwMSAxMEgxNVY1Ljk1NFpNMTUgMWgtMy45ODF2My44MTNsMS4wNTUgMS45NjdMMTUgNC40NTdWMVpcXFwiIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIm0xMi42ODcgOS4wNzQuMDczLS4xMzNhLjE0Ny4xNDcgMCAwIDAgLjAxNy0uMDc4bC0uMDEyLS4xNDJjLS4wMDItLjAzMy0uMDQyLS4wNTEtLjA2OC0uMDI4bC0uMjA1LjE3NWEuMDUuMDUgMCAwIDEtLjAxOS4wMWwtLjA5Mi4wMTdhLjA0Mi4wNDIgMCAwIDAtLjAzMy4wNTFsLjAxOS4wNzdhLjEzNS4xMzUgMCAwIDAgLjA5My4wOTdsLjA3LjAyYS4xMzQuMTM0IDAgMCAwIC4xNTctLjA2NlpNMTMuOCA5LjM4OWEuMTMuMTMgMCAwIDAgLjA1OC0uMDE0bC4xNDEtLjA2OWMuMDAyIDAgLjAwMiAwIC4wMDMuMDAybC4xMDQuMTNjLjAwNS4wMDYuMDEzLjAxLjAyMy4wMWguMDY5YS4wMjguMDI4IDAgMCAwIC4wMjMtLjA0NmwtLjEwOC0uMTQxLS4wNDctLjA0LS4zODItLjE5MS0uMDkyLjAzNmgtLjA3di0uMDAxbC0uMDI2LS4wODRhLjAyNy4wMjcgMCAwIDAtLjAyNS0uMDE5aC0uMDkzYS4wMjcuMDI3IDAgMCAwLS4wMjcuMDI4di4wODJoLjA2di4wMjRjMCAuMDMuMDIzLjA1NS4wNTIuMDZsLjEzNi4wMTZoLjAwMWwuMDc0LjA5M2MuMDIzLjAyOC4wMTkuMDk3LS4wMDYuMTI1di4wMDFoLjEzMVY5LjM5Wk0xMy44NzggNi43NzVsLS4wNDguMDQzYS4yOTQuMjk0IDAgMCAwLS4wOTQuMTg3LjI5OS4yOTkgMCAwIDEtLjA4Mi4xNzguNDk2LjQ5NiAwIDAgMS0uMjQ2LjEzNmwtLjAxOC4wMDQtLjA3Ni4wNjJzLS4wMjIuMTEgMCAuMTM1Yy4wMDkuMDEyLjA0OS4wMS4wNjEgMCAuMDE2LS4wMTIuMDE3LS4wOC4wMTctLjA4bC4yNDItLjA4N3MuMDYuMDguMDkuMDgzYy4wMTIuMDAyLjA0Mi0uMDEzLjA1LS4wMjUuMDMyLS4wNDUuMDY4LS4yMDguMDY4LS4yMDhhLjU0Ni41NDYgMCAwIDAgLjAyNC0uMTEzbC4wMTMtLjE0My4xMDgtLjAwNy4wNDMtLjA4Ny0uMTEyLS4wMTEtLjA0LS4wNjdaTTkuNDI3IDEwLjEyYS4xNDEuMTQxIDAgMCAwIC4yNDUgMHYtLjMzNGEuMTIyLjEyMiAwIDAgMC0uMTg3LS4xMDUuMTI1LjEyNSAwIDAgMC0uMDU4LjEwNXYuMzMzWk02LjY5OCA0LjMxNWwuMTQ0LS4wODQuMDAyLS4wMDZhLjA2NS4wNjUgMCAwIDAtLjAyNi0uMDg1LjA2My4wNjMgMCAwIDAtLjAzMS0uMDA4aC0uMzI4bC0uMDM1LS4wMzhhLjIxNi4yMTYgMCAwIDAtLjE1Ny0uMDc0TDUuNzc4IDRsLS4wNDguMDA5YTIuMzYyIDIuMzYyIDAgMCAxLS4wNDguMDA5bC0uMjg5LjEyMmEuMjA5LjIwOSAwIDAgMS0uMDc2LjAxOGwtLjQ2NC4wMjNhLjIzMi4yMzIgMCAwIDAtLjA5OS4wMjhsLS4yNi4xNDhhLjAzLjAzIDAgMCAwLS4wMTUuMDI0LjAzLjAzIDAgMCAwIC4wMTIuMDI2Yy4wMi4wMTUuMDE0LjA0Ny0uMDEuMDUzbC0uMjAzLjA1MWEuMDMuMDMgMCAwIDAtLjAxOS4wNDRsLjA2OC4xMTJhLjAzLjAzIDAgMCAwIC4wMi4wMTRsLjM2NC4wNjNjLjA1Ni4wMS4xMDYuMDQuMTQuMDg2bC4yNTEuMzMzLjA3NC4xMDJhLjA5NC4wOTQgMCAwIDEtLjAwNy4xMThsLS4wNTYuMDZhLjA5My4wOTMgMCAwIDAtLjAxNS4xMDVsLjE4My4zN2EuMTM0LjEzNCAwIDAgMCAuMDgxLjA2OC4yMjMuMjIzIDAgMCAwIC4yNzQtLjE0MmwuMDQ4LS4xMzdhLjA5Ny4wOTcgMCAwIDEgLjA0LS4wNWwuMjA0LS4xNzVhLjI0LjI0IDAgMCAxIC4wODUtLjA0NmwuMzItLjA4OGEuMjIuMjIgMCAwIDAgLjE0OC0uMTMzbC4xNTEtLjM3OGEuMjI3LjIyNyAwIDAgMC0uMDAxLS4xNzJsLS4wMy0uMDdhLjIyNy4yMjcgMCAwIDEgLjA5Ny0uMjhaTTQuMDMgNC42NDNsLjA2MS0uMTFhLjIyMS4yMjEgMCAwIDEgLjA4OC0uMDg3bC41MDQtLjI4Mi0uMDU3LS4wNjYtLjU3Mi0uMDM1YS4yMDMuMjAzIDAgMCAwLS4wNS4wMDNsLS41NTcuMDlhLjIzMi4yMzIgMCAwIDAtLjEzNy4zNzdsLjEyNS4xNDhjLjA0My4wNTEuMTA3LjA4LjE3Mi4wOGguMjI0YS4yMjYuMjI2IDAgMCAwIC4xOTktLjExOFpNNC42NjYgNS42NzJsLjA1Mi0uMDYxYy4wMTMtLjAxNi4wMS0uMDQtLjAwNy0uMDUxbC0uMTYyLS4xMTYtLjU2OS0uNDI1YS4xMzcuMTM3IDAgMCAwLS4wODEtLjAyN2gtLjIyNGEuMTMxLjEzMSAwIDAgMC0uMDk1LjA0bC0uMTE4LjExNWEuMDM0LjAzNCAwIDAgMC0uMDAzLjA0N2wuMDY3LjA4NWMuMDA2LjAxLjAxOC4wMTUuMDMuMDE0bC4wNjQtLjAwNmEuMDM1LjAzNSAwIDAgMSAuMDM4LjAzM2wuMDAyLjAzOGMwIC4wMDUgMCAuMDEtLjAwMi4wMTZsLS4wMy4wNzNhLjAzNi4wMzYgMCAwIDAgLjAwNi4wMzZsLjA3LjA4NGEuMDMyLjAzMiAwIDAgMCAuMDI4LjAxMmwuMDY4LS4wMDNhLjAzNS4wMzUgMCAwIDAgLjAzNC0uMDM1di0uMTQ3YzAtLjAxOS4wMTQtLjAzNC4wMzItLjAzNWwuMDk0LS4wMDdjLjAwOCAwIC4wMTguMDAyLjAyNC4wMDdsLjE3NC4xMzNjLjAxMy4wMTEuMDE3LjAyOS4wMS4wNDRsLS4wNTcuMTE2YS4wMzMuMDMzIDAgMCAxLS4wMy4wMThsLS4wNTQuMDA0YS4wMzYuMDM2IDAgMCAwLS4wMzIuMDI3LjAzNi4wMzYgMCAwIDAgLjAzMi4wNDRsLjExNy4wMDljLjAyNC4wMDEuMDQ4LjAxLjA2OS4wMjRsLjIwNi4xNDZjLjAxNC4wMS4wMy4wMDguMDQzLS4wMDNsLjA2NS0uMDU1YS4wMy4wMyAwIDAgMCAuMDExLS4wMThsLjAyMS0uMDgzYS4wMzUuMDM1IDAgMCAwLS4wMDQtLjAyOWwtLjA3LS4xMS4wMjItLjAwNGEuMDM3LjAzNyAwIDAgMSAuMDI0LjAwNGwuMDkxLjA1NGEuMDM1LjAzNSAwIDAgMCAuMDQ0LS4wMDhaTTIuMDggNS4xMzZoLjA3bC4xMDQuMTQ3Yy4wMTQuMDE4LjAzLjAzMy4wNS4wNDRsLjEzNi4wNjhjLjAxOC4wMS4wNC4wMTUuMDYxLjAxNWguNDIyVjUuMjdsLS4xNTYtLjA1Ni0uMTgtLjA5N0EuMTQuMTQgMCAwIDEgMi41MiA1LjFsLS4yODgtLjE2NmEuMTMuMTMgMCAwIDAtLjA2Ny0uMDE4aC0uMTczYS4xMzYuMTM2IDAgMCAwLS4xMy4wOTVsLS4wMTQuMDQ3YS4xNC4xNCAwIDAgMCAuMDMzLjE0bC4wNjEuMDYyaC4xMzh2LS4xMjNaTTIuNjc5IDUuMDIybC4xMS0uMDU4YS4xMzkuMTM5IDAgMCAxIC4wNjMtLjAxNWguMDZjLjA1MiAwIC4xLjAzLjEyMy4wNzhsLjA0NC4wOTJ2LjA5NGgtLjJ2LS4xMmwtLjA4NC0uMDQzLS4xLjAwMy0uMDE2LS4wMzFaTTMuMDYxIDQuOTVsLjEuMTY0LjA4LjA0N2guMTE1bC4xMTYtLjEyNC0uMDg4LS4xMTYtLjIyNS4wMjhIMy4wNlpNMi40MTQgNC42OThsLjE1OC4wNTdhLjEyLjEyIDAgMCAxIC4wMy4wMTVsLjEwOS4wNzNjLjAxOC4wMTIuMDM4LjAyLjA2LjAyMWwuMi4wMi0uMDI0LS4xMjQtLjIzOC0uMTMyYS4xNC4xNCAwIDAgMC0uMDY1LS4wMTdoLS4xMjJsLS4xMDguMDg3Wk03LjQ2IDUuNzEybC4wNTguMDkyYS4wMjUuMDI1IDAgMCAxLS4wMDEuMDI4bC0uMDQ0LjA2Yy0uMDA0LjAwOC0uMDA3LjAxNi0uMDA0LjAyMmwuMDE3LjA2MWEuMDIuMDIgMCAwIDAgLjAwOC4wMTJsLjA5Mi4wNzJjLjA2My4wNDguMDcuMTQxLjAxNy4ybC0uMDAxLjAwMmEuMTM4LjEzOCAwIDAgMS0uMTAxLjA0NmgtLjExYS4wMjUuMDI1IDAgMCAxLS4wMjQtLjAzMWwuMDI4LS4xMWEuMDIzLjAyMyAwIDAgMSAuMDE0LS4wMTdsLjA0OS0uMDI0Yy4wMS0uMDA0LjAxNS0uMDE1LjAxMy0uMDI2bC0uMDAyLS4wM2EuMDI2LjAyNiAwIDAgMC0uMDItLjAyMWwtLjA3MS0uMDE1YS4wMjQuMDI0IDAgMCAwLS4wMjcuMDE0bC0uMDE2LjAzNXYuMDAybC0uMDAxLjAwMi0uMDM1LjExOGMtLjAwMy4wMTEtLjAxMy4wMTgtLjAyNC4wMThsLS4xMS0uMDAzYS4wMjQuMDI0IDAgMCAxLS4wMTgtLjAwNy4wMjQuMDI0IDAgMCAxLS4wMDctLjAxN3YtLjEyN2MwLS4wMTMuMDExLS4wMjQuMDI0LS4wMjRsLjA1OC0uMDAyYy4wMDggMCAuMDE0LS4wMDQuMDItLjAxbC4wNTMtLjA3OUEuMDI3LjAyNyAwIDAgMCA3LjMgNS45NFY1LjgyYzAtLjAwOC4wMDQtLjAxNS4wMS0uMDE5bC4xMTUtLjA5NGEuMDI0LjAyNCAwIDAgMSAuMDM3LjAwNVpcXFwiIGZpbGw9XFxcIiMwNTA1MDVcXFwiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE1LjA3MyA1LjFIMTQuN2EuMDQyLjA0MiAwIDAgMS0uMDQtLjAzbC0uMzU4LS4wNjlhLjE2MS4xNjEgMCAwIDEtLjA4OC0uMDI3bC0uMDgxLS4wNTVhLjE2LjE2IDAgMCAwLS4wODgtLjAyN3MtLjgzMi0uNDMtMS45MjItLjM4OGMtLjQxLjAxNi0uNzcuMjIyLS43Ny4yMjJhLjAzMy4wMzMgMCAwIDAtLjAyLjAyNmwtLjAwNC4wMzRhLjAzMy4wMzMgMCAwIDEtLjAzMy4wMjhsLS4xNjQtLjAwNGEuMDMzLjAzMyAwIDAgMC0uMDM0LjAzMmwtLjQ1OS4wMTZjLS4wNCAwLS4wNzcuMDItLjEuMDUzbC0uMDQxLjA2Yy0uMDMuMDQ1LS40NDEuMDYtLjQ0MS4wNmEuMDYuMDYgMCAwIDEtLjAzNi0uMDU1di0uMDQ5YzAtLjAxNy4wMDYtLjAzMi4wMi0uMDQ0bC4yMTgtLjJhLjE2Mi4xNjIgMCAwIDEgLjA4Ny0uMDRsLjEzNi0uMDE4YS4wNi4wNiAwIDAgMCAuMDQtLjAyNGwuMDE2LS4wMjRhLjA2LjA2IDAgMCAwLS4wMjgtLjA5bC0uMDEtLjAwNWEuMDYuMDYgMCAwIDAtLjA0Ny4wMDRsLS4xMDQuMDYxYS4wNTcuMDU3IDAgMCAxLS4wMy4wMDhoLS4xMDFhLjE1OS4xNTkgMCAwIDAtLjExNC4wNDlsLS4yNDQuMjUyYS4xNjUuMTY1IDAgMCAwLS4wNDIuMDhsLS4wMjMuMTEuMDE2LjA0Ny0uMDk2LjEzNS0uMDg3LjA4N2gtLjA4MXYtLjA4N0g5LjQ1bC0uMDI4LjExYS4xNjEuMTYxIDAgMCAxLS4wOTguMTFsLS4wODEuMDMyYS4xNTcuMTU3IDAgMCAxLS4xNTYtLjAyNmwtLjEwNi0uMDg2LjI4NC4wMTUuMDMyLS4wNjJTOSA1LjE4IDguODI4IDUuMDg0Yy0uMTQtLjA4LS4zMjQtLjAxMy0uMzg4LjAxNmEuMTQ3LjE0NyAwIDAgMC0uMDQyLjAyN2wtLjYyLjU2NWEuMTYyLjE2MiAwIDAgMC0uMDA2LjIzMWwuMDU4LjA2MS4wODMtLjA2OWEuMDU3LjA1NyAwIDAgMSAuMDc2LjAwM2wuMTU1LjE0NmguMDRsLjE0Ni0uMTc2YS4wNTcuMDU3IDAgMCAwIC4wMDItLjA3MmwtLjAxOS0uMDI2YS4wNi4wNiAwIDAgMS0uMDA0LS4wNjZsLjIwNC0uMzM0YS4wNDIuMDQyIDAgMCAxIC4wNTItLjAxN2wuMDM2LjAxOGMuMDIyLjAxLjAzLjAzNS4wMTkuMDU3bC0uMTQuMjY4YS4xMzQuMTM0IDAgMCAwLS4wMS4xMDRsLjAyMy4wNzFhLjE4LjE4IDAgMCAxLS4wMy4xNDZsLS4wODcuMTJhLjE2MS4xNjEgMCAwIDEtLjEzNC4wNjRsLS4yNTQtLjAxYS4wNDYuMDQ2IDAgMCAxLS4wMzEtLjAxMy4wNDcuMDQ3IDAgMCAxLS4wMTMtLjAzMnYtLjA0MmEuMDQ1LjA0NSAwIDAgMC0uMDQ2LS4wNDYuMDQ2LjA0NiAwIDAgMC0uMDQ1LjA0MmwtLjAwNy4wNzRhLjA0Ni4wNDYgMCAwIDEtLjA0NS4wNDJoLS4wMjRhLjA0Mi4wNDIgMCAwIDAtLjAzLjAxMmwtLjQxNC4zODYuMDYuMDg4di4wOTNhLjA1Ny4wNTcgMCAwIDEtLjA1Ni4wNTZoLS4xMzJjLS4wNzEgMC0uMTI3LjA2LS4xMjMuMTMybC4wMDEuMDE4YS4xMjQuMTI0IDAgMCAwIC4xMTkuMTE2bC4xNDEuMDA0YS4xNi4xNiAwIDAgMCAuMTM1LS4wNjhsLjEwMS0uMTQ0YS4xNTguMTU4IDAgMCAxIC4xMy0uMDY3aC4wOTdjLjAzMiAwIC4wNjQuMDEuMDkuMDI4bC4xNTcuMTFjLjAzLjAyMi4wMzMuMDY4LjAwNC4wOTJsLS4wODguMDc3YS4xNTYuMTU2IDAgMCAxLS4xMDQuMDRoLS41NWEuMTU4LjE1OCAwIDAgMC0uMTI2LjA2NGwtLjQyNS41NzNhLjE2OC4xNjggMCAwIDAtLjAzMi4wOTZ2LjM4YzAgLjAzNS4wMTEuMDY5LjAzMi4wOTdsLjE0OC4xOThjLjAxMy4wMTYuMDIuMDM2LjAyNy4wNTUuMDEuMDMzLjAzNi4wOC4xLjA4aC42ODZzLjE3Mi4wMDUuMTcyLjEyYzAgLjA0LS4wMDEuMDgtLjAwMy4xMTZhLjE2Mi4xNjIgMCAwIDAgLjA4My4xNDhjLjA0OC4wMjguMDk5LjA3Ny4wOTkuMTU1di4yMWEuMjAzLjIwMyAwIDAgMS0uMDA3LjA0OS43NzIuNzcyIDAgMCAxLS4wNzkuMTc4Yy0uMDM2LjA1NC4wMTUuMTM1LjA1Mi4xODJhLjE3LjE3IDAgMCAxIC4wMzUuMTAydi4yMXMuMDE2LjA3Ni4wODguMTA5YS41ODMuNTgzIDAgMCAxIC4wOTcuMDV2LjA4NGMwIC4wOS4wNzEuMTYuMTYuMTZoLjIwN3MuMDk0LjAwOC4xNTUtLjA4N2wuMjgtLjQzN3MuMDQtLjA0MyAwLS4xMmMtLjA0LS4wNzYtLjAyMS0uMTQ1LS4wMjEtLjE0NWwuMTktLjExcy4wOS0uMDE2LjA5LS4xNDF2LS4xMzZhLjExNS4xMTUgMCAwIDAtLjAxOC0uMDYybC0uMDMzLS4wNTdhLjE2Mi4xNjIgMCAwIDEgLjAyMS0uMTkxbC4zOTUtLjQyNHMuMTA0LS4xNTYuMTA0LS4yMzVIOS40OWEuMTYuMTYgMCAwIDEtLjEzNi0uMDc3bC0uMzQ2LS41NzZhLjA4Ny4wODcgMCAwIDEgLjAzMy0uMTIxLjA4NC4wODQgMCAwIDEgLjExMi4wM2wuMzM1LjU1Mi0uMDAxLjA1YzAgLjAxNi4wMTIuMDI4LjAyOC4wMjguMDgzIDAgLjMyNy0uMDEuNDYzLS4xM2EuNTk2LjU5NiAwIDAgMCAuMTQzLS4xODEuMTYuMTYgMCAwIDAtLjAzOC0uMTlsLS4wODUtLjA3Ni0uMTEuMDI1LS4xOTctLjE5OWEuMDYzLjA2MyAwIDAgMSAuMDE2LS4xLjA2LjA2IDAgMCAxIC4wNjUuMDA3bC4zMDcuMjM4cy4wNjMuMDU2LjEyNy4wNTZoLjE4Yy4wNTYgMCAuMTA4LjAzLjEzNi4wNzhsLjQwMi42ODNzLjA2LjA1Ni4wOTQuMDU0Yy4wMzUtLjAwMy4wODItLjE1LjA4Mi0uMTUgMC0uMTM2LjA2NS0uMjY2LjE3Ni0uMzQ0bC4xMzgtLjA5OGEuMTU4LjE1OCAwIDAgMSAuMjAyLjAxNWwuMDg1LjA4M3YuMDljMCAuMDE0LjAxMi4wMjcuMDI4LjAyN2guMDM4bC4wMzYtLjAzNmguMDQydi4zNTljMCAuMDQuMDE1LjA4LjA0My4xMDlsLjI2Ny4yODh2LS4xMDNhLjE1OS4xNTkgMCAwIDAtLjAzNS0uMWwtLjEyNS0uMTU4YS4xNTkuMTU5IDAgMCAxLS4wMzUtLjF2LS4xMDljMC0uMDE3LjAyMS0uMDI2LjAzMy0uMDEzbC4xNjIuMTY3LjAwNC4xMDVjLjAwMS4wMi4wMjUuMDMuMDM4LjAxNWwuMjI5LS4yNXMuMDY2LS4wODMgMC0uMTUyYTUuNDA1IDUuNDA1IDAgMCAwLS4xNTgtLjE1NC4wNS4wNSAwIDAgMS0uMDE2LS4wMzkuMDUuMDUgMCAwIDEgLjAxOS0uMDM4bC4wNDQtLjAzNy4xMS4wMDJzLS4wMjMuMDUyLS4wNTguMTEyYzAgMCAuMDE3LjA5Ni4xMjMtLjA4My4wMDgtLjAwNy4wMzYtLjAwMy4wNjcuMDAyLjA0LjAwNi4wODQuMDE0LjEtLjAwMi4wNi0uMDY0LjMwOS0uNDA3LjMwOS0uNDA3cy4wMzItLjEyNi0uMDQzLS4xOTJjLS4wNzYtLjA2Ni0uMDQzLS4xNDctLjA0My0uMTQ3bC4wOTQtLjA4MnYtLjA1OGgtLjI0NHMuMDItLjEzLjE5NC0uMTM5bC4wMzEtLjAwMWMuMDExIDAgLjAyMSAwIC4wMy0uMDAyYS4xMzIuMTMyIDAgMCAxIC4xMjcuMDgzYy4wMDYuMDE2LjAxLjAzNC4wMS4wNTJ2LjI0M2wuMDM2LjAwNHMuMDY4LjAwNy4wOTMtLjA4NGMwIDAgLjA0Ni0uMDEzLjA0Ni0uMDY4di0uMDY2bC0uMDY2LS4wOC4xMDctLjEzOGEuMTIyLjEyMiAwIDAgMSAuMDc1LS4wNDVsLjA1NC0uMDExYS4xMjUuMTI1IDAgMCAwIC4wOC0uMDUzbC4yNDctLjM3M2EuMTY1LjE2NSAwIDAgMCAuMDI3LS4wOXYtLjEwMmEuMDUuMDUgMCAwIDAtLjA1LS4wNWgtLjE0NHMtLjA2LS4wNy4wMjItLjEyYy4wNTctLjAzNS4xNjktLjEyOC4yMzItLjE4YS4xNTUuMTU1IDAgMCAxIC4xMDEtLjAzOGguMjlhLjE2LjE2IDAgMCAwIC4wOTMtLjAzbC4xOS0uMTM3YS4wNC4wNCAwIDAgMSAuMDI1LS4wMDhjLjA4MiAwIC4xMjUuMS4wNy4xNjJsLS4xOTguMjE0YS4xNTguMTU4IDAgMCAwLS4wNDMuMTA2bC0uMDAzLjE3M2MwIC4wMzIuMDI2LjA2LjA1OS4wNmguMDQ4bC4yNTktLjI2OGEuMTI1LjEyNSAwIDAgMCAuMDMzLS4wNjZsLjAxLS4wNTZhLjE2LjE2IDAgMCAxIC4xNTUtLjEzNGguMTE0YS4xNTQuMTU0IDAgMCAwIC4xMDQtLjAzOWwuMTU5LS4xNGEuMDQzLjA0MyAwIDAgMSAuMDI4LS4wMWguMDgyYS4wNDIuMDQyIDAgMCAwIC4wNDMtLjA0NHYtLjA4YzAtLjAxMy4wMDUtLjAyNC4wMTMtLjAzMmwuMDYyLS4wNThhLjE1Ni4xNTYgMCAwIDEgLjE4MS0uMDI0bC4xMDQuMDU1YS4wNjEuMDYxIDAgMCAwIC4wNzYtLjAxNmwuMDUxLS4wNjVhLjA2Mi4wNjIgMCAwIDAgLjAxMi0uMDUyLjA2Mi4wNjIgMCAwIDAtLjAzMy0uMDQybC0uNTAzLS4yNWE1LjQyNyA1LjQyNyAwIDAgMC0uMzktLjAxNFpNOC4xNDEgNy4wMjRsLjA5LS4wNzgtLjA5LjA3OS0uMTMzLS4xNjNhLjA1My4wNTMgMCAwIDEtLjAxLS4wMTkuMDUzLjA1MyAwIDAgMCAuMDEuMDE4bC4xMzMuMTYzWm0uNzU1LjQ5M2gtLjA4MWEuMTMuMTMgMCAwIDEtLjAzMi0uMDA0IDkuMTI3IDkuMTI3IDAgMCAxLS42MS0uMTg2LjA2Mi4wNjIgMCAwIDEtLjAzNS0uMDQ1LjA2My4wNjMgMCAwIDEgLjAxNS0uMDU1bC4xMS0uMTE3YS4wOTQuMDk0IDAgMCAxIC4xMy4wMDVsLjEuMTA3LjA4Ny0uMDE2LS4wMjQtLjA2NHMtLjAxLS4wMy0uMDIxLS4wNTZjLS4wMTEtLjAyNy4wNDgtLjA2MS4wNDgtLjA2MXMuMDYtLjAwNi4wNi4wODhjMCAuMDkzLjA5Ny4xNjMuMDk3LjE2M2guMzMyYy4wMjEgMCAuMDM1LjAyMy4wMjQuMDRsLS4wNTkuMTEzYS4xNi4xNiAwIDAgMS0uMTQxLjA4OFptLjQxNy0uNTAzSDkuMmwtLjA4My0uMDY1YS4wNTcuMDU3IDAgMCAwLS4wMzItLjAxaC0uMTA4YS4wNjcuMDY3IDAgMCAwLS4wNDQuMDE3bC0uMDc4LjA3LS4wNzguMDEyYS4wNTMuMDUzIDAgMCAxLS4wNTYtLjAyNi4wNTUuMDU1IDAgMCAxLS4wMDYtLjAybC0uMDExLS4wODdhLjA5LjA5IDAgMCAxIC4wMjEtLjA2OWwuMTI4LS4xNDUuMDU4LS4wMDUtLjAwMy4wMjZhLjA1MS4wNTEgMCAwIDAgLjA1LjA1OGguMDI5YS4wNjkuMDY5IDAgMCAwIC4wNjQtLjA0MmwuMDI2LS4wNTguMTIuMDIuMDEuMDg3YS4wNzcuMDc3IDAgMCAwIC4wMjYuMDQ4bC4xMzMuMTEydi4wMjVjMCAuMDMtLjAyMy4wNTItLjA1My4wNTJabS41NzQuMDkzdi4wOTloLS4yMDVsLS4wMTgtLjA5OWEuMDUuMDUgMCAwIDEgLjAwOC0uMDM5bC4wMTEtLjAxNWEuMDUyLjA1MiAwIDAgMC0uMDA4LS4wNjlsLS4wOTYtLjA4OXYtLjE2M2wuMTQtLjA2aC4wNzJjLjAyOCAwIC4wNTIuMDE5LjA2LjA0NmwuMDAxLjAwNGMuMDA2LjAyIDAgLjA0LS4wMTMuMDU2YS4wNjEuMDYxIDAgMCAwLS4wMTUuMDMxbC0uMDEzLjA4NS4xMTMuMTA1LS4wOC4wNTQuMDQzLjA1NFpcXFwiIGZpbGw9XFxcIiMwNTA1MDVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTIuOTQ1IDcuOGMtLjAwNi0uMDE1LS4wMS0uMDIyLS4wMTctLjAyMS0uMDA3IDAtLjAxOC4wMDktLjAzNi4wMjVhLjExLjExIDAgMCAwLS4wMzkuMDhjMCAuMDIuMDAzLjA0LjAxMi4wNjIuMDA3LjAxOC4wMi4wMzIuMDI4LjAzMi4wMjUgMCAuMDY2LS4xNC4wNTItLjE3OFpNMTIuODk0IDguMTA4YS4xMTYuMTE2IDAgMCAxIC4wMjQuMDA1bC4wMTQuMDA0Yy4wMTguMDA2LjAyNy4wMDkuMDMzLjAxNS4wMDUuMDA1LjAwOC4wMTQuMDEzLjAzbC4wMDQuMDE0Yy4wMDguMDI3LjAwMi4wNTMtLjAxOC4wNy0uMDQ2LjAzNy0uMDM4LjA1Ny4wMy4wNzIuMDQ3LjAxLjA2MS4wMjQuMDYxLjA2MiAwIC4wNDYtLjAwMy4wNDYtLjA1NS4wMTktLjAzLS4wMTYtLjA2LS4wMjMtLjA2NS0uMDE2LS4wMDcuMDA3IDAgLjAxNi4wMTQuMDIxLjA1NS4wMi4wODYuMDcxLjA3NC4xMi0uMDE0LjA1Ny4wMTQuMDY2LjA1OS4wMi4wNDgtLjA0OS4wODkuMDIzLjA3OC4xMzYtLjAwNC4wMzgtLjAzOC4wNTUtLjA5LjA0M2EuMDQ3LjA0NyAwIDAgMS0uMDIyLS4wMTIuMDQuMDQgMCAwIDEtLjAxMy0uMDI3YzAtLjAyNC0uMDEzLS4wMjktLjA1MS0uMDItLjAzOC4wMS0uMDUuMDA2LS4wNS0uMDE4YS4wNS4wNSAwIDAgMSAuMDMtLjA0NGMuMDEzLS4wMDUuMDItLjAwOS4wMi0uMDE3IDAtLjAwOC0uMDA3LS4wMTktLjAyLS4wMzhhLjE3NC4xNzQgMCAwIDEtLjAzLS4wOGMwLS4wMi0uMDA4LS4wMzctLjAxOS0uMDM3LS4wMjcgMC0uMDg4LS4xOTMtLjA2My0uMjAxLjAwNC0uMDAyLjAwOS0uMDA4LjAxMi0uMDE2YS4xNDguMTQ4IDAgMCAwIC4wMDktLjA1M2MwLS4wNC4wMDMtLjA1NC4wMjEtLjA1MlpNMTIuOCA4LjU2N2MuMDQ3LS4wNDQuMDcyLS4xMTYuMDQtLjExNi0uMDE0IDAtLjA4Mi4wNzktLjExLjEyOS0uMDMuMDUyLjAwOS4wNDUuMDctLjAxM1pNMTIuOTEyIDguNjk4YS4wMi4wMiAwIDAgMSAuMDIxLjAyYzAgLjAxMS0uMDAzLjAyLS4wMDguMDIgMCAwLS4wMDUgMC0uMDA3LS4wMDNhLjA2NC4wNjQgMCAwIDEtLjAxNS0uMDE3Yy0uMDA3LS4wMTEtLjAwMy0uMDIuMDEtLjAyWk0xMy4yNTQgOC45MTNjLS4wMTMtLjAzLS4wMy0uMDQ1LS4wNDQtLjA0My0uMDE0LjAwMS0uMDI1LjAxOC0uMDMuMDVhLjA1OC4wNTggMCAwIDEtLjAxLjAyNmMuMDEzLjA1Mi4wNTIuMDYuMDY0LjA2M2guMDA0YS4yNTUuMjU1IDAgMCAxIC4wMjUtLjAyOS43NTEuNzUxIDAgMCAwIC4wMTQtLjAxNWwtLjAyMy0uMDUyWk0xMy4wODIgOC44OTRjLjAyNi0uMDA0LjAzNS4wMTUuMDExLjA0M2EuMDQ0LjA0NCAwIDAgMC0uMDA4LjAxNWwtLjA1Ny4wMWEuNjIuNjIgMCAwIDEtLjAzNi4wMDVjLS4wMzguMDA2LS4wNzcuMDExLS4xLjAzNyAwIC4wMDQuMDA0LjAwNy4wMS4wMDkuMDA3LjAwMi4wMTkuMDAyLjAzMi0uMDAxbC4wMDYtLjAwMy4wMDUtLjAwMy4wMi0uMDAyLjA2NC4wMDgtLjAwNC4wMDZoLS4wMDJsLS4wMDUuMDA0LS4wMTMuMDA4Yy0uMDMuMDI2LS4wNDQuMDU0LS4wMzQuMDY3LjAwOC4wMTIuMDE1LjA0LjAxNS4wNjItLjAwMi4wNTMtLjA2Ni4wNjctLjA3OS4wMTctLjAwNi0uMDIzLS4wMS0uMDE2LS4wMTIuMDIxLS4wMDEuMDQ0LS4wMTEuMDU3LS4wMzguMDUxLS4wMi0uMDA0LS4wMzUtLjAyNS0uMDM1LS4wNDdhLjE0Mi4xNDIgMCAwIDAtLjAxNi0uMDY1Yy0uMDA4LS4wMTMtLjAwNi0uMDQ4LjAwNi0uMDc4LjAwNy0uMDE5LjAwOS0uMDI4LjAxLS4wMzZsLjAwMi0uMDA2LjAxMi0uMDMyLjAxOC0uMDUtLjAwMy4wMDFjLjAyOC0uMDI2LjA1Ni0uMDMyLjEtLjAyMmwuMDMyLjAwNGEuMTUuMTUgMCAwIDAgLjA2OC0uMDEyYy4wMS0uMDA1LjAyLS4wMS4wMzEtLjAxMVpNMTMuMzYgOS4xMzZjMC0uMDI3LS4wMzQtLjA0Mi0uMDkyLS4wNDJhLjQ0NS40NDUgMCAwIDAtLjA2NC4wMDZjLS4wOC4wMTItLjEwMy4wMjctLjA4LjA1MS4wMi4wMi4yMzYuMDA3LjIzNi0uMDE1Wk01Ljg2NiA5LjM2MmwtLjM1LS4xODVhLjIyMi4yMjIgMCAwIDAtLjEwMi0uMDI2aC0uMTAxYS4wMzguMDM4IDAgMCAxLS4wMzctLjAzMy4yMi4yMiAwIDAgMC0uMjE4LS4yMDFoLS4wMzJhLjIxNy4yMTcgMCAwIDEtLjE3My0uMDg4bC0uMDQ4LS4wNjVhLjIxNi4yMTYgMCAwIDAtLjE1NS0uMDg2bC0uMjYyLS4wMjNhLjAyOC4wMjggMCAwIDEtLjAxNy0uMDA3bC0uMDQzLS4wM2MtLjAxMi0uMDA3LS4wMjYtLjAwOS0uMDM4IDBsLS4xODcuMTA2YS4yMTYuMjE2IDAgMCAxLS4xMDguMDI4aC0uMTkyYS4wMzcuMDM3IDAgMCAxLS4wMTctLjAwNC4xNDYuMTQ2IDAgMCAxLS4wNzEtLjEzM3YtLjExMmEuMDM4LjAzOCAwIDAgMC0uMDIzLS4wMzUuMDM3LjAzNyAwIDAgMC0uMDE0LS4wMDNoLS4xMjJhLjAzNy4wMzcgMCAwIDEtLjAzMi0uMDE5LjAzOC4wMzggMCAwIDEgMC0uMDM4bC4wNTctLjFhLjA0NC4wNDQgMCAwIDAgLjAwNi0uMDJWOC4yYzAtLjAxLS4wMDQtLjAyLS4wMTEtLjAyN2EuMDM3LjAzNyAwIDAgMC0uMDI3LS4wMTFoLS4wNjZhLjAzNy4wMzcgMCAwIDAtLjAzLjAxN2wtLjAzOC4wNmEuMjE3LjIxNyAwIDAgMS0uMTg0LjFoLS4wNTRzLS4wODYtLjAxNS0uMDg2LS4xMDh2LS4zMzlhLjA5Ny4wOTcgMCAwIDEgLjA0NS0uMDY3Yy4wMzItLjAyLjEwNy0uMDYxLjE0NC0uMDgxYS4wMzguMDM4IDAgMCAxIC4wNDMuMDA1bC4wNy4wNjZjLjAwNy4wMDcuMDE1LjAxLjAyNC4wMWguMDE1Yy4wMjIgMCAuMDUxIDAgLjA1Ny0uMDAzLjAwNC0uMDAyLjAwNC0uMDA3LjAwMy0uMDE0IDAtLjAxNyAwLS4wNDYuMDQ1LS4wNi4wNjYtLjAxOS4xMDkuMDQuMTA5LjA0bC4xNjUuMTk5YS4wMzcuMDM3IDAgMCAwIC4wNS4wMDZsLjAyMy0uMDE2YS4wMzguMDM4IDAgMCAwIC4wMTItLjA1bC0uMDAyLS4wMDVhLjIyMy4yMjMgMCAwIDEgLjA0OC0uMjhsLjEzNy0uMTE4cy4wMTYtLjAxLjAyNC0uMDcxYy4wMDUtLjAzNy4wMTUtLjA5LjAyMS0uMTI4bC4wMjEtLjAzNi4wMi0uMDM2LjI5Ny0uMjUyYS4wMzYuMDM2IDAgMCAxIC4wNTUuMDA4Yy4wMTQuMDIyLjAzOC4wNDYuMDY5LjA0NWEuNzY3Ljc2NyAwIDAgMCAuMjA4LS4wOTMuMDM2LjAzNiAwIDAgMCAuMDE5LS4wMzN2LS4wNDdsLS4xNDMuMDNhLjAzOC4wMzggMCAwIDEtLjA0NC0uMDMxbC0uMDE2LS4wOTVhLjAzOC4wMzggMCAwIDAtLjAzNi0uMDNsLS4xNDMuMDE1LjAxOC0uMDQzYS4wNDMuMDQzIDAgMCAxIC4wMzQtLjAyN2wuMzUyLS4wMzcuMDU2LS4wMjMuMDU2LS4wMjMuMDcxLS4wNTZhLjAzOC4wMzggMCAwIDAgLjAwNC0uMDU1bC0uMzk2LS40MWEuMDM5LjAzOSAwIDAgMC0uMDQzLS4wMDhsLS4xMTguMDU3YS4wNC4wNCAwIDAgMS0uMDM4LS4wMDNMNC4xIDUuOTFhLjAzNi4wMzYgMCAwIDAtLjA1LjAwOGwtLjA1MS4wN2EuMDMzLjAzMyAwIDAgMC0uMDA3LjAybC0uMDEuMTc0YzAgLjAxMS4wMDMuMDIuMDExLjAyOWwuMDQ4LjA1YS4wMzguMDM4IDAgMCAxLS4wMDUuMDU2bC0uMDcuMDUxYS4wMzcuMDM3IDAgMCAxLS4wMzQuMDA2bC0uMTYuMDI3YS4yMi4yMiAwIDAgMC0uMTMzLS4xM2wtLjA4LS4wMjhhLjIyMi4yMjIgMCAwIDEtLjA5OC0uMzVsLjE1Ni0uMTlhLjA0Mi4wNDIgMCAwIDAgLjAwNy0uMDM4bC0uMDQ0LS4xMTUtLjAwOC0uMDEyLS4xNzYtLjE5YS4xMjIuMTIyIDAgMCAwLS4yMS4wNjVsLS4wMDEuMDFhLjEyMy4xMjMgMCAwIDEtLjEyLjEwNEgyLjU0bC0uMDUtLjAxYTIuNjUyIDIuNjUyIDAgMCAxLS4wNC0uMDA5bC0uMzU4LS4xNjJhMi4wMDMgMi4wMDMgMCAwIDAtLjA3NS0uMDE4bC0uMzMtLjAyMmEyLjE1OCAyLjE1OCAwIDAgMS0uMDkyLjAxNWwtLjE0OC4wNThhLjIxNy4yMTcgMCAwIDEtLjEyNC4wMUwuNTkxIDUuMjNhLjIxMi4yMTIgMCAwIDAtLjEzMi4wMTNsLS4zNDYuMTVhLjAzOC4wMzggMCAwIDAtLjAwOS4wNjNsLjA5LjA3N2MuMDI2LjAyMS4wMTEuMDY1LS4wMjIuMDY2bC0uMTM2LjAwM2MtLjAyIDAtLjAzNi4wMTctLjAzNi4wMzd2LjAyYzAgLjAyLjAxNi4wMzYuMDM2LjAzN2wuMTE3LjAwMWMuMDQuMDAyLjA1MS4wNTYuMDE1LjA3MmwtLjEwMS4wNDZhLjAzNy4wMzcgMCAwIDAtLjAyMi4wMzdsLjAxLjEwM2EuMjIuMjIgMCAwIDAgLjE4NC4xOThsLjA3Mi4wMTJjLjAzNC4wMDYuMDQyLjA1MS4wMTMuMDY5bC0uMDIzLjAxM2MtLjAyNC4wMTUtLjAyNC4wNSAwIC4wNjRsLjAxMi4wMDZhLjA0LjA0IDAgMCAwIC4wMzUuMDAzbC42MTgtLjI4MmEuMjE1LjIxNSAwIDAgMSAuMjM3LjA0bC41ODguNTQzYS4yMi4yMiAwIDAgMSAuMDcxLjE1MmwuMDIuNDE1YS4yMjIuMjIyIDAgMCAwIC4wNDguMTI4bC41NzkuNzI4Yy4wMS4wMTQuMDMuMDE4LjA0NS4wMWEuMDM4LjAzOCAwIDAgMCAuMDE0LS4wNTVzLjM2NS4zODMuNC4zOTlsLjI5Ni4xNDhhLjIyLjIyIDAgMCAwIC4wOTcuMDIzaC4xNDdjLjAxNSAwIC4wMjguMDA4LjAzMy4wMjFsLjA1LjEwOFY4LjdsLjAwMS4wMDEuMDAyLjAwM2MuMDE1LjAyNS4wODguMTQzLjE2NS4xNDguMDg3LjAwNS4yNDMgMCAuMjQzIDBzLjA1Ni0uMDAxLjA1Ni4wNnYuMDk1YS4wMzYuMDM2IDAgMCAxLS4wMTkuMDMyYy0uMDQ4LjAyNy0uMTcyLjEwNy0uMTcyLjE5N3YuMjEyYzAgLjAxLjAwMy4wMTcuMDA4LjAyNC4wMTYuMDE5LjA1LjA2LjA4LjA4NC4wMjcuMDIyLjA3Mi4wNzMuMDk4LjEwM2wuMDEzLjAxNGEuMDM4LjAzOCAwIDAgMSAuMDA4LjAyNHYuMTIyYS4wNC4wNCAwIDAgMSAuMDAxLjAwNmwuMDAxLjAwN2MuMDA3LjAxNi4wMjQuMDU3LjA1NS4wNzIuMDE5LjAwOS4wNjUuMDQ3LjEwOC4wODVhLjIyMi4yMjIgMCAwIDEgLjA3Ni4xODZsLS4wMjcuMzQ1LS4wMDMuMDJhLjQzLjQzIDAgMCAxLS4wMDMuMDJsLS4xMTkuNDVhMS43NSAxLjc1IDAgMCAwLS4wMDcuMDhsLjAxMi4xODVhLjIzMy4yMzMgMCAwIDEtLjAxLjA5NWwtLjA0NC4xMjZhLjIzNS4yMzUgMCAwIDAtLjAwNy4xMjVsLjA1Ni4yMzNhLjEyMy4xMjMgMCAwIDAgLjA0NC4wN2wuMDU3LjA0NWMuMDIyLjAxOC4wNTQuMDQyLjA3Ni4wMjYuMDc3LS4wNTQuMTItLjIxOC4xNTUtLjM1My4wMTUtLjA2LjAzLS4xMTUuMDQ0LS4xNS4wMS0uMDIzLjA2Ny0uMTA1LjEzNC0uMjAyLjExLS4xNTYuMjQ1LS4zNS4yNDQtLjM4OWwtLjAwMy0uMDljMC0uMDIyLjAxNi0uMDM4LjAzNy0uMDM4aC4xMTRjLjAxIDAgLjAyLS4wMDQuMDI2LS4wMTJsLjI2Ni0uMjk0YS4wMzYuMDM2IDAgMCAwIC4wMS0uMDI2di0uMTJjMC0uMDIxLjAxNy0uMDM3LjAzOC0uMDM3LjA0NS4wMDIuMTIuMDAyLjE0NS0uMDIuMDI3LS4wMjEuMDk3LS4xMDMuMTM4LS4xNWwuMDIxLS4wMjRhLjAzOS4wMzkgMCAwIDAgLjAxLS4wMjV2LS4xOWMwLS4wNTUuMDItLjEwOC4wNTctLjE1bC4xMzMtLjE0OGEuMTM3LjEzNyAwIDAgMC0uMDQzLS4yMTVaTTE0LjkxNiAxMC43bC0uMDA4LjAwMWMtLjAwNi4wMDUuMDA1LjAzNi4wMjQuMDY3LjAzMS4wNTEuMDMzLjA2Mi4wMTYuMDg2LS4wMTcuMDI1LS4wMTYuMDMuMDA0LjA0NC4wMzYuMDIzLjAyOC4wMzQtLjAyMi4wMy0uMDM4LS4wMDQtLjA0OS4wMDItLjA3LjAzOWEuMjcuMjcgMCAwIDEtLjA3OC4wNzRjLS4wNzEuMDQ0LS4xMDguMTA5LS4wNi4xMDkuMDEzIDAgLjAxNy4wMS4wMTIuMDI2LS4wMS4wMzItLjAwNi4wMzIuMDY1LS4wMDIuMDQxLS4wMi4wNi0uMDM4LjA2Ni0uMDY1YS4wNjUuMDY1IDAgMCAxIC4wNDEtLjA0OGMuMDE4LS4wMDYuMDMyLS4wMTUuMDMtLjAxOS0uMDA3LS4wMTguMDMzLS4wODIuMDQ4LS4wNzcuMDIuMDA2LjA4LS4wNi4wNy0uMDc2LS4wMDUtLjAwNi4wMDEtLjAxMS4wMTItLjAxMS4wMjIgMCAuMDQzLS4wNDguMDMtLjA2Ny0uMDA0LS4wMDYtLjAyMy0uMDA3LS4wNDMtLjAwMy0uMDI0LjAwNS0uMDM1LjAwMi0uMDM1LS4wMSAwLS4wMi0uMDc1LS4wODktLjEwMi0uMDk3Wk0xMi44ODUgOS4yNzRsLS40ODYtLjA1N2EuMTE5LjExOSAwIDAgMS0uMDM1LS4wMWwtLjExOC0uMDQ4YS4xNDQuMTQ0IDAgMCAxLS4wNDgtLjAzMmwtLjM5LS40MTRhLjA1LjA1IDAgMCAwLS4wNDItLjAxNS4wNDcuMDQ3IDAgMCAwLS4wMjguMDc4bC40MS40NjZhLjE1LjE1IDAgMCAwIC4wNjMuMDRsLjIzMi4wN2EuMTI4LjEyOCAwIDAgMCAuMDQuMDA1aC4zOTdsLjAwNS0uMDgzWk0xMy44NSA5LjUzNWwtLjAyLjA1N2EuMjU1LjI1NSAwIDAgMS0uMjcuMTcuMDUuMDUgMCAwIDEtLjAzOC0uMDI3LjA1LjA1IDAgMCAxIC4wMDEtLjA0N2wuMS0uMTg2LS4yNi4wMWEuMjU0LjI1NCAwIDAgMC0uMS4wMjNsLS4wOTguMDQ2YS4yNDkuMjQ5IDAgMCAwLS4wNy4wNDlsLS4xOC4xNzhhLjI0LjI0IDAgMCAxLS4wNzUuMDUxbC0uMTIzLjA1NWEuMjU5LjI1OSAwIDAgMC0uMTUyLjIzNnYuMDJjMCAuMDM0LjAwNy4wNjguMDIuMWwuMDk2LjIyOGMuMDAzLjAwNS4wMDQuMDEuMDA1LjAxNWEuMTEuMTEgMCAwIDAgLjE0My4wNzdsLjI0NS0uMDg4YS4yNDguMjQ4IDAgMCAxIC4xMDgtLjAxM2wuMjk0LjAyN2MuMDguMDA2LjE1LjA1LjE5My4xMmwuMDIuMDNhLjI1NC4yNTQgMCAwIDAgLjIxOC4xMjJoLjExOGEuMjU1LjI1NSAwIDAgMCAuMTgyLS4wNzZsLjEzLS4xMzJhLjI2LjI2IDAgMCAwIC4wNzUtLjE4M3YtLjE3M2EuMjYuMjYgMCAwIDAtLjA4Mi0uMTlsLS4yNjgtLjI0OGEuMjQuMjQgMCAwIDEtLjA2LS4wODJsLS4wOC0uMTc1Yy0uMDE3LS4wMjctLjA2LS4wMjYtLjA3MS4wMDZaTTEzLjMyMiA5LjI1Yy4wMTcuMDAxLjAyOS4wMTQuMDI4LjAzNyAwIC4wMTUtLjAyOS4wNDMtLjA2NC4wNjNhLjMzMi4zMzIgMCAwIDEtLjA2OC4wMzJjLS4wMTYuMDA0LS4wMTktLjAwNS0uMDE5LS4wMjcgMC0uMDE3LjAwNi0uMDMxLjAxNC0uMDMxLjAwNyAwIC4wMy0uMDIuMDUxLS4wNDMuMDItLjAyMi4wNDEtLjAzMi4wNTgtLjAzWk0xMy4wNzkgOS4yNzJjLjE2IDAgLjE0OS4wNC0uMDEzLjA0OC0uMDk1LjAwNC0uMTIgMC0uMTE1LS4wMjEuMDA1LS4wMTguMDQ1LS4wMjcuMTI4LS4wMjdaTTYuMTE3IDUuNTJoLjA5bC4wNjcuMDQ2LjE4Mi0uMDQ3LjAzMy4wODF2LjExNWwtLjE3NS4wMjFhLjEzMy4xMzMgMCAwIDEtLjEtLjAyOGwtLjE1My0uMTIxLjA1Ni0uMDY3Wk04LjEyIDQuNTUxaC0uMjNsLS4wNTYuMDQuMTk3LjI1aC4wOWwuMDgyLS4xNTIuMjAyLjEwMy4wMzItLjA0OC0uMjQtLjE2OWEuMTMyLjEzMiAwIDAgMC0uMDc2LS4wMjRaTTguNjExIDQuMzcyaC0uMjk4bC0uMDI4LjA0Ni4wODYuMDY0YS4xMy4xMyAwIDAgMCAuMDguMDI3aC4xNmwuMDc2LS4wOC0uMDc2LS4wNTdaTTMuMDQyIDQuMzc5bC0uMTk3LjA3NC0uMTkuMDQ4LjI3My4xMy4yMTYtLjA3LjA3Mi0uMDEzLS4wNTctLjEwOS0uMTE3LS4wNlpNMy40MTUgNC43OGgtLjA4NnYuMDQzbC4wNDYuMDE3LjAxLjA0NC4wNzEuMDEuMDQ4LjA1NS40MjQtLjAxNC4wMjQtLjA1LS4wMzctLjA1NmgtLjQ1NmwtLjA0NC0uMDQ5Wk0zLjAzIDQuODg0bC0uMDMzLS4wOTYuMDMzLS4wMTguMTI3LjAxLjAzLjAyOS0uMDcuMDgyLS4wODctLjAwN1pNMy4yMTYgNC43MjVsLjAxNi0uMDU0LjAzNS0uMDI0LjAzNC4wMTMuMDU4LjAyNXYuMDI0aC0uMDNsLS4wNDYuMDM4LS4wNjctLjAyMlpcXFwiIGZpbGw9XFxcIiMwNTA1MDVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJtMy44NDQgOC4wOTUtLjA4My4wMzdjLS4wMS4wMDUtLjAxLjAyMSAwIC4wMjRsLjA4OC4wMzcuMTAzLS4wMTcuMTY3LjExNWguMTE5cy4wODEtLjAxLjA4MS0uMDMyLS4wODEtLjAzMy0uMDgxLS4wMzNsLS4xNzItLjEzaC0uMjIyWk00LjQgOC4yNzJzLS4wNzQuMDQ1LS4wNjUuMDY2Yy4wMTYuMDM4LjE2IDAgLjE2IDBzLjA1Mi0uMDQ4LjA0My0uMDY2Yy0uMDE4LS4wMzEtLjEzOCAwLS4xMzggMFpNMTQuMTYyIDEwLjkzaC0uMjhsLjA3NC4xNjRoLjA2NmwuMTQtLjE2NVpcXFwiIGZpbGw9XFxcIiMwNTA1MDVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNNiA2LjVhLjUuNSAwIDAgMSAxIDB2NmEuNS41IDAgMCAxLTEgMHYtNlpNOS41IDZhLjUuNSAwIDAgMC0uNS41djZhLjUuNSAwIDAgMCAxIDB2LTZhLjUuNSAwIDAgMC0uNS0uNVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTExIDBINWExIDEgMCAwIDAtMSAxdjJILjVhLjUuNSAwIDAgMCAwIDFoMS42bC44MSAxMS4xYTEgMSAwIDAgMCAuOTk1LjloOC4xOWExIDEgMCAwIDAgLjk5NS0uOUwxMy45IDRoMS42YS41LjUgMCAwIDAgMC0xSDEyVjFhMSAxIDAgMCAwLTEtMVptMCAzVjFINXYyaDZabTEuODk1IDFoLTkuNzlsLjggMTFoOC4xOWwuOC0xMVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCA5IDVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTQuMTI4IDQuNTg3Ljc1MS44MzRBLjUuNSAwIDAgMSAxLjEyMyAwaDYuNzU0YS41LjUgMCAwIDEgLjM3Mi44MzRMNC44NzIgNC41ODdhLjUuNSAwIDAgMS0uNzQ0IDBaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48ZyBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjxwYXRoIGQ9XFxcIk0xMyA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBabS02LjUgMGExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgMFpNMCA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgxNnYxNkgwelxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDMyXFxcIj48cGF0aCBkPVxcXCJNMjAuODg5IDEuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2aC02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMS0zLjU1Ni0zLjU1NlY0Ljg4OWEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1NnpNMjAgNHY4aDhWNGgtOHpNNC44ODkgMTcuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2SDQuODg5YTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2LTMuNTU2di02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1NnpNNCAyMHY4aDh2LThINHptMjAgOGE0IDQgMCAxIDAgMC04IDQgNCAwIDAgMCAwIDh6bTAgMi42NjdhNi42NjcgNi42NjcgMCAxIDEgMC0xMy4zMzQgNi42NjcgNi42NjcgMCAwIDEgMCAxMy4zMzR6TTQuOTgxIDEyaDYuMDM3TDcuOTk5IDUuOTYzIDQuOTggMTJ6bTQuMjEyLTkuNjE1IDUuMTc2IDEwLjM1MmExLjMzNCAxLjMzNCAwIDAgMS0xLjE5MiAxLjkzSDIuODI1YTEuMzMzIDEuMzMzIDAgMCAxLTEuMTkyLTEuOTI5TDYuODA5IDIuMzg2YTEuMzMyIDEuMzMyIDAgMCAxIDIuMzg1IDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJpbXBvcnQgeyBJbW11dGFibGVPYmplY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IElNSmltdU1hcENvbmZpZyB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xyXG5cclxuZXhwb3J0IGVudW0gU2NlbmVRdWFsaXR5TW9kZXtcclxuICBhdXRvID0gJ2F1dG8nLFxyXG4gIGxvdyA9ICdsb3cnLFxyXG4gIG1lZGl1bSA9ICdtZWRpdW0nLFxyXG4gIGhpZ2ggPSAnaGlnaCdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWcgZXh0ZW5kcyBJTUppbXVNYXBDb25maWd7XHJcbiAgaXNVc2VDdXN0b21NYXBTdGF0ZTogYm9vbGVhblxyXG4gIHNjZW5lUXVhbGl0eU1vZGU6IFNjZW5lUXVhbGl0eU1vZGVcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgSU1Db25maWcgPSBJbW11dGFibGVPYmplY3Q8Q29uZmlnPlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb29sQ29uZmlnIHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBNYXBXaWRnZXRQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcclxuaW1wb3J0IHsgY2hlY2tJc0xpdmUgfSBmcm9tICcuLi91dGlscydcclxuaW1wb3J0IE11bHRpU291cmNlTWFwIGZyb20gJy4vbXVsdGlzb3VyY2VtYXAnXHJcbmltcG9ydCB7IEppbXVNYXBWaWV3R3JvdXAsIHBvcnRhbFV0aWxzLCBEZWZhdWx0TWFwSW5mbyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBiYXNlV2lkZ2V0UHJvcHM6IE1hcFdpZGdldFByb3BzXHJcbiAgc3RhcnRMb2FkTW9kdWxlczogYm9vbGVhblxyXG4gIGZ1bGxTY3JlZW5NYXA6ICgpID0+IHZvaWRcclxuXHJcbiAgaXNEZWZhdWx0TWFwPzogYm9vbGVhblxyXG4gIG9uVmlld0dyb3VwQ3JlYXRlPzogKHZpZXdHcm91cDogSmltdU1hcFZpZXdHcm91cCkgPT4gdm9pZFxyXG5cclxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZ1xyXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXHJcblxyXG4gIGlzRnVsbFNjcmVlbjogYm9vbGVhblxyXG4gIGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhblxyXG5cclxuICBzZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlOiAoaW5zdGFuY2U6IE11bHRpU291cmNlTWFwKSA9PiB2b2lkXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgZGVmYXVsdE1hcEluZm86IERlZmF1bHRNYXBJbmZvXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlZmF1bHRNYXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT4ge1xyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgZGVmYXVsdE1hcEluZm86IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHBvcnRhbFV0aWxzLmdldERlZmF1bHRXZWJNYXAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucG9ydGFsVXJsKS50aGVuKGRlZmF1bHRNYXBJbmZvID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZGVmYXVsdE1hcEluZm86IGRlZmF1bHRNYXBJbmZvXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmRlZmF1bHRNYXBJbmZvICYmIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtbWFwIHctMTAwIGgtMTAwIHdpZGdldC1tYXAtYmFja2dyb3VuZCc+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAnNTAlJywgdG9wOiAnNTAlJyB9fSBjbGFzc05hbWU9J2ppbXUtc2Vjb25kYXJ5LWxvYWRpbmcnIC8+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmRlZmF1bHRNYXBJbmZvICYmIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCcsIHsgJ21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5hcHBNb2RlKSB9KX0+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgJiYgPE11bHRpU291cmNlTWFwXHJcbiAgICAgICAgICAgIGtleT17MH0gZnVsbFNjcmVlbk1hcD17dGhpcy5wcm9wcy5mdWxsU2NyZWVuTWFwfVxyXG4gICAgICAgICAgICBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzfSBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9IGlzRGVmYXVsdE1hcFxyXG4gICAgICAgICAgICByZWY9e3RoaXMucHJvcHMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX0gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMucHJvcHMub25WaWV3R3JvdXBDcmVhdGV9XHJcbiAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5wcm9wcy53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbj17dGhpcy5wcm9wcy5pc0Z1bGxTY3JlZW59IGlzTWFwSW5WaXNpYmxlQXJlYT17dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgIGRlZmF1bHRNYXBJbmZvPXt0aGlzLnN0YXRlLmRlZmF1bHRNYXBJbmZvfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgPC9NdWx0aVNvdXJjZU1hcD59XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIFNlc3Npb25NYW5hZ2VyLCBlc3JpLCBnZXRBcHBTdG9yZSwgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSW1hZ2VXaXRoUGFyYW0gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBQbGFjZWhvbGRlck1hcEZpbGxlZCB9IGZyb20gJ2ppbXUtaWNvbnMvZmlsbGVkL2RhdGEvcGxhY2Vob2xkZXItbWFwJ1xyXG5cclxuaW50ZXJmYWNlIFByb3Bze1xyXG4gIG1hcEl0ZW1JZDogc3RyaW5nXHJcbiAgcG9ydFVybDogc3RyaW5nXHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlc3tcclxuICBtYXBUaHVtYlVybDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFRodW1iIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGVzPiB7XHJcbiAgdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgbWFwVGh1bWJVcmw6IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHRoaXMudW5tb3VudCA9IGZhbHNlXHJcbiAgICB0aGlzLnNldE1hcFRodW1iVXJsKHRoaXMucHJvcHMubWFwSXRlbUlkKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzLCBwcmV2U3RhdGUpIHtcclxuICAgIGlmIChwcmV2UHJvcHMubWFwSXRlbUlkICE9PSB0aGlzLnByb3BzLm1hcEl0ZW1JZCkge1xyXG4gICAgICB0aGlzLnNldE1hcFRodW1iVXJsKHRoaXMucHJvcHMubWFwSXRlbUlkKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TWFwVGh1bWJVcmwgPSAobWFwSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKCFtYXBJZCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbWFwVGh1bWJVcmw6IG51bGwgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBubyBwb3J0YWxVcmwgb3Igc2FtZSB0byBjb25maWcgcG9ydGFsdXJsLCB1c2UgYXBwIGNvbmZpZydzIHBvcnRhbFVybFxyXG4gICAgY29uc3QgcG9ydGFsVXJsID0gdGhpcy5wcm9wcz8ucG9ydFVybCB8fCBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkucG9ydGFsVXJsXHJcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTZXNzaW9uQnlVcmwocG9ydGFsVXJsKSB8fCBudWxsXHJcbiAgICBlc3JpLnJlc3RQb3J0YWwuc2VhcmNoSXRlbXMoe1xyXG4gICAgICBxOiBgaWQ6JHttYXBJZH1gLFxyXG4gICAgICBhdXRoZW50aWNhdGlvbjogc2Vzc2lvbixcclxuICAgICAgcG9ydGFsOiBwb3J0YWxVcmwgKyAnL3NoYXJpbmcvcmVzdCdcclxuICAgIH0pLnRoZW4oaXRlbXMgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMudW5tb3VudCkge1xyXG4gICAgICAgIGlmIChpdGVtcy5yZXN1bHRzWzBdPy50aHVtYm5haWwpIHtcclxuICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25CeVVybChwb3J0YWxVcmwpXHJcbiAgICAgICAgICBsZXQgdGVtcFRodW1iVXJsID0gbnVsbFxyXG4gICAgICAgICAgaWYgKHNlc3Npb24gJiYgc2Vzc2lvbi50b2tlbikge1xyXG4gICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYCArXHJcbiAgICAgICAgICAgIGBpbmZvLyR7aXRlbXMucmVzdWx0c1swXS50aHVtYm5haWx9P3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYCArXHJcbiAgICAgICAgICAgIGBpbmZvLyR7aXRlbXMucmVzdWx0c1swXS50aHVtYm5haWx9YFxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogdGVtcFRodW1iVXJsIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogbnVsbCB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIHRoaXMudW5tb3VudCA9IHRydWVcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5tYXBUaHVtYlVybCkge1xyXG4gICAgICByZXR1cm4gPEltYWdlV2l0aFBhcmFtIGltYWdlUGFyYW09e3sgdXJsOiB0aGlzLnN0YXRlLm1hcFRodW1iVXJsIH19IC8+XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBwYWxldHRlID0gdGhpcy5wcm9wcy50aGVtZS5jb2xvcnMucGFsZXR0ZVxyXG4gICAgICByZXR1cm4gKDxkaXYgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBwYWxldHRlLmxpZ2h0WzIwMF0sIGhlaWdodDogJzEwMCUnIH19ID5cclxuICAgICAgICAgIDxQbGFjZWhvbGRlck1hcEZpbGxlZCBjb2xvcj17cGFsZXR0ZS5saWdodFs2MDBdfSBzaXplPXsnMTAwJSd9IC8+XHJcbiAgICAgICAgPC9kaXY+KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIFJlYWN0LCBEYXRhU291cmNlTWFuYWdlciwgRXh0ZW50Q2hhbmdlTWVzc2FnZSwgRGF0YVNvdXJjZUNvbXBvbmVudCwgcG9ydGFsVXJsVXRpbHMsIFNxbFF1ZXJ5UGFyYW1zLFxyXG4gIGdldEFwcFN0b3JlLCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCBJbW11dGFibGVPYmplY3QsIGRhdGFTb3VyY2VVdGlscywgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSwgVXNlRGF0YVNvdXJjZVxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSU1Db25maWcsIFNjZW5lUXVhbGl0eU1vZGUgfSBmcm9tICcuLi8uLi9jb25maWcnXHJcbmltcG9ydCB7IE1hcERhdGFTb3VyY2UsIERhdGFTb3VyY2VUeXBlcywgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgTWFwVmlld01hbmFnZXIsIEppbXVNYXBWaWV3LCB6b29tVG9VdGlscywgRGVmYXVsdE1hcEluZm8gfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgSW5pdGlhbE1hcFN0YXRlIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9tYXAnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcywgSWNvbiB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7XHJcbiAgY3JlYXRlTmV3RmVhdHVyZWxheWVyLCB1cGRhdGVGZWF0dXJlbGF5ZXIsIGdldE1hcEJhc2VSZXN0b3JlRGF0YSwgcmVzdG9yZU1hcEJhc2UsIHNlbGVjdEZlYXR1cmUsXHJcbiAgbWFwUGFudG8sIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5LCBwcm9qZWN0R2VvbWV0cmllcywgZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5LCBwcm9jZXNzWm9vbVRvRmVhdHVyZXNcclxufSBmcm9tICcuLi91dGlscydcclxuaW1wb3J0IHsgTWFwV2lkZ2V0UHJvcHMsIEFjdGlvblJlbGF0ZWRQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcclxuXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4vbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuXHJcbmNvbnN0IEV4Y2hhbmdlID0gcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2ZycpXHJcblxyXG5pbnRlcmZhY2UgUHJvcHN7XHJcbiAgaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuXHJcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcclxuICBpc0RlZmF1bHRNYXA/OiBib29sZWFuXHJcbiAgYmFzZVdpZGdldFByb3BzOiBNYXBXaWRnZXRQcm9wc1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICBkYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gIGRlZmF1bHRNYXBJbmZvPzogRGVmYXVsdE1hcEluZm9cclxuICBvblZpZXdDaGFuZ2VkPzogKHNoYXJlVmlld1BvaW50OiBTaGFyZVZpZXdQb2ludCkgPT4gdm9pZFxyXG4gIG9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkPzogKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBwcm9wS2V5OiBzdHJpbmcsIHZhbHVlPzogYW55KSA9PiB2b2lkXHJcblxyXG4gIG9uRXh0ZW50Q2hhbmdlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4gdm9pZFxyXG4gIG9uTWFwTG9hZGVkPzogKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzKSA9PiB2b2lkXHJcbiAgb25KaW11TWFwVmlld0NyZWF0ZWQ/OiAoKSA9PiB2b2lkXHJcbiAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD86IChzaG93T25NYXBEYXRhc0tleTogc3RyaW5nW10pID0+IHZvaWRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTaGFyZVZpZXdQb2ludCB7XHJcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICB2aWV3cG9pbnQ6IF9fZXNyaS5WaWV3cG9pbnRcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTWFwTG9hZFN0YXR1cyB7XHJcbiAgTG9hZGluZyA9ICdMT0FESU5HJyxcclxuICBMb2Fkb2sgPSAnTE9BRE9LJyxcclxuICBMb2FkRXJyb3IgPSAnTE9BREVSUk9SJ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhpZ2hMaWdodEhhbmRsZSB7XHJcbiAgbGF5ZXJJZDogc3RyaW5nXHJcbiAgaGFuZGxlOiBfX2VzcmkuSGFuZGxlXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZXtcclxuICBkYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gIGlzTW9kdWxlc0xvYWRlZD86IGJvb2xlYW5cclxuICBtYXBMb2FkU3RhdHVzPzogTWFwTG9hZFN0YXR1c1xyXG5cclxuICBtYXBCYXNlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgaXNNYXBDcmFzaGVkPzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBCYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBtYXBDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcbiAgd2lkZ2V0Q29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG5cclxuICBHZW9tZXRyeTogdHlwZW9mIF9fZXNyaS5HZW9tZXRyeVxyXG4gIEluaXRpYWxWaWV3UHJvcGVydGllczogdHlwZW9mIF9fZXNyaS5Jbml0aWFsVmlld1Byb3BlcnRpZXNcclxuICBUaWxlTGF5ZXI6IHR5cGVvZiBfX2VzcmkuVGlsZUxheWVyXHJcbiAgQmFzZW1hcDogdHlwZW9mIF9fZXNyaS5CYXNlbWFwXHJcbiAgTWFwVmlldzogdHlwZW9mIF9fZXNyaS5NYXBWaWV3XHJcbiAgU2NlbmVWaWV3OiB0eXBlb2YgX19lc3JpLlNjZW5lVmlld1xyXG4gIEV4dGVudDogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeS5FeHRlbnRcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50XHJcbiAgUG9ydGFsSXRlbTogdHlwZW9mIF9fZXNyaS5Qb3J0YWxJdGVtXHJcbiAgUG9ydGFsOiB0eXBlb2YgX19lc3JpLlBvcnRhbFxyXG4gIFdlYk1hcDogdHlwZW9mIF9fZXNyaS5XZWJNYXBcclxuICBXZWJTY2VuZTogdHlwZW9mIF9fZXNyaS5XZWJTY2VuZVxyXG4gIENvbG9yOiB0eXBlb2YgX19lc3JpLkNvbG9yXHJcblxyXG4gIG1hcFZpZXc6IF9fZXNyaS5NYXBWaWV3XHJcbiAgc2NlbmVWaWV3OiBfX2VzcmkuU2NlbmVWaWV3XHJcbiAgbWFwRHM6IE1hcERhdGFTb3VyY2VcclxuICBleHRlbnRXYXRjaDogX19lc3JpLldhdGNoSGFuZGxlXHJcbiAgZmF0YWxFcnJvcldhdGNoOiBfX2VzcmkuV2F0Y2hIYW5kbGVcclxuICBoaWdoTGlnaHRIYW5kbGVzOiB7W2xheWVySWQ6IHN0cmluZ106IF9fZXNyaS5IYW5kbGV9ID0ge31cclxuICBtYXBCYXNlVmlld0V2ZW50SGFuZGxlczoge1tldmVudE5hbWU6IHN0cmluZ106IF9fZXNyaS5IYW5kbGV9ID0ge31cclxuICBkc01hbmFnZXIgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcblxyXG4gIG9uRXh0ZW50ZWQgPSBudWxsXHJcbiAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gdHJ1ZVxyXG4gIGlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXHJcblxyXG4gIF9fdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsICdyZXN0b3JlRGF0YScsXHJcbiAgICAgIGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWBdKVxyXG5cclxuICAgIGlmIChyZXN0b3JlRGF0YSkge1xyXG4gICAgICByZXN0b3JlTWFwQmFzZSh0aGlzLCByZXN0b3JlRGF0YSlcclxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgICAgYHJlc3RvcmVEYXRhLiR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YCwgbnVsbClcclxuXHJcbiAgICAgIHRoaXMuYmluZE1hcEJhc2VWaWV3RXZlbnQodGhpcy5tYXBWaWV3IHx8IHRoaXMuc2NlbmVWaWV3KVxyXG5cclxuICAgICAgaWYgKHRoaXMubWFwVmlldykge1xyXG4gICAgICAgICh0aGlzLm1hcFZpZXcgYXMgYW55KS5pc0luQ2FjaGluZyA9IGZhbHNlXHJcbiAgICAgICAgdGhpcy5tYXBWaWV3LnRyeUZhdGFsRXJyb3JSZWNvdmVyeSgpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xyXG4gICAgICAgICh0aGlzLnNjZW5lVmlldyBhcyBhbnkpLmlzSW5DYWNoaW5nID0gZmFsc2VcclxuICAgICAgICB0aGlzLnNjZW5lVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZGluZyxcclxuICAgICAgICB3aWR0aEJyZWFrcG9pbnQ6IG51bGwsXHJcbiAgICAgICAgbWFwQmFzZUppbXVNYXBWaWV3OiBudWxsLFxyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogbnVsbCxcclxuICAgICAgICB3aWRnZXRIZWlnaHQ6IG51bGwsXHJcbiAgICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxyXG4gICAgICB9IGFzIFN0YXRlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGFydFJlbmRlck1hcCA9ICgpID0+IHtcclxuICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnLFxyXG4gICAgICAnZXNyaS9WaWV3cG9pbnQnXHJcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICBbXHJcbiAgICAgICAgdGhpcy5FeHRlbnQsIHRoaXMuVmlld3BvaW50XHJcbiAgICAgIF0gPSBtb2R1bGVzXHJcblxyXG4gICAgICBpZiAodGhpcy5fX3VubW91bnQpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNNb2R1bGVzTG9hZGVkOiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxyXG5cclxuICAgIGlmICh0aGlzLndpZGdldENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3aWRnZXQtbWFwJykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlmICghdGhpcy5tYXBDb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLm1hcENvbnRhaW5lciA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgdGhpcy5tYXBDb250YWluZXIuY2xhc3NOYW1lID0gJ3ctMTAwIGgtMTAwIHdpZGdldC1tYXAgbWFwdmlldy1jb250YWluZXInXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy53aWRnZXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tYXBDb250YWluZXIpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlcyAmJiAhdGhpcy5zdGF0ZS5pc01vZHVsZXNMb2FkZWQpIHtcclxuICAgICAgdGhpcy5zdGFydFJlbmRlck1hcCgpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgJiYgIXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkgJiYgIXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICAvLyBpbml0IGFuZCB1cGRhdGUgbWFwXHJcbiAgICAgIHRoaXMuYW5hbHlzaXNNYXBWaWV3KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNYXBWaWV3KHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZylcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XHJcbiAgICAgIC8vIGluaXQgYW5kIHVwZGF0ZSBtYXBcclxuICAgICAgdGhpcy5hbmFseXNpc01hcFZpZXcoKS50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1hcFZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpIHtcclxuICAgICAgLy8gaW5pdCBhbmQgdXBkYXRlIG1hcFxyXG4gICAgICB0aGlzLmFuYWx5c2lzU2NlbmVWaWV3KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTY2VuZVZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNNb2R1bGVzTG9hZGVkKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuaXNNYXBJblZpc2libGVBcmVhICE9PSB0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID09PSAyKSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEpIHtcclxuICAgICAgICBpZiAodGhpcy5tYXBWaWV3KSB7XHJcbiAgICAgICAgICAodGhpcy5tYXBWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcgPSBmYWxzZVxyXG4gICAgICAgICAgdGhpcy5tYXBWaWV3LnRyeUZhdGFsRXJyb3JSZWNvdmVyeSgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcclxuICAgICAgICAgICh0aGlzLnNjZW5lVmlldyBhcyBhbnkpLmlzSW5DYWNoaW5nID0gZmFsc2VcclxuICAgICAgICAgIHRoaXMuc2NlbmVWaWV3LnRyeUZhdGFsRXJyb3JSZWNvdmVyeSgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWFwVmlldykge1xyXG4gICAgICAgICAgKHRoaXMubWFwVmlldyBhcyBhbnkpLmlzSW5DYWNoaW5nID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XHJcbiAgICAgICAgICAodGhpcy5zY2VuZVZpZXcgYXMgYW55KS5pc0luQ2FjaGluZyA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJEc0lkID0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWRcclxuICAgIGNvbnN0IHByZXZEc0lkID0gcHJldlByb3BzLmRhdGFTb3VyY2VJZFxyXG5cclxuICAgIGNvbnN0IGN1ckRzSXRlbUlkID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZChjdXJEc0lkKS5pdGVtSWRcclxuICAgIGNvbnN0IHByZURzSXRlbUlkID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZChwcmV2RHNJZCkuaXRlbUlkXHJcblxyXG4gICAgaWYgKGN1ckRzSWQgIT09IHByZXZEc0lkIHx8IGN1ckRzSXRlbUlkICE9PSBwcmVEc0l0ZW1JZCkge1xyXG4gICAgICB0aGlzLm1hcFZpZXcgPSBudWxsXHJcbiAgICAgIHRoaXMuc2NlbmVWaWV3ID0gbnVsbFxyXG4gICAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXHJcbiAgICAgIHRoaXMubWFwRHMgPSBudWxsXHJcbiAgICAgIGNvbnN0IHByZXZKaW11TWFwVmlld0lkID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZChwcmV2RHNJZCkgJiYgYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7cHJldkRzSWR9YFxyXG4gICAgICBpZiAocHJldkppbXVNYXBWaWV3SWQpIHtcclxuICAgICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhwcmV2SmltdU1hcFZpZXdJZClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IgJiYgIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIHRoaXMuc2NlbmVWaWV3ID0gbnVsbFxyXG4gICAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXHJcblxyXG4gICAgICB0aGlzLmFuYWx5c2lzTWFwVmlldygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWFwVmlldyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcpXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tYXBWaWV3IHx8ICF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpIHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxyXG4gICAgICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQodGVtcEppbXVNYXBWaWV3SWQpXHJcbiAgICAgICAgICBpZiAodGVtcEppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgICAgIHRlbXBKaW11TWFwVmlldy53aGVuSmltdU1hcFZpZXdMb2FkZWQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzLCB0aGlzLm1hcFZpZXcpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb24odGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMsIHRlbXBKaW11TWFwVmlldylcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gZmFsc2VcclxuICAgICAgICAgICAgICB9LCB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA/IDUwMCA6IDBcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5nZXREc0pzb25Gcm9tRHNJZChjdXJEc0lkKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nZXREc0pzb25Gcm9tRHNJZChjdXJEc0lkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XHJcbiAgICAgIHRoaXMuc2NlbmVWaWV3ID0gbnVsbFxyXG4gICAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXHJcblxyXG4gICAgICB0aGlzLmFuYWx5c2lzTWFwVmlldygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlTWFwVmlldyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcsIHByZXZQcm9wcy5iYXNlV2lkZ2V0UHJvcHM/LmNvbmZpZylcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1hcFZpZXcgfHwgIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzKSB7XHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xyXG4gICAgICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gXHJcbiAgICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0ZW1wSmltdU1hcFZpZXdJZClcclxuICAgICAgICAgIGlmICh0ZW1wSmltdU1hcFZpZXcpIHtcclxuICAgICAgICAgICAgdGVtcEppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24odGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMsIHRoaXMubWFwVmlldylcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YUFjdGlvbih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcywgdGVtcEppbXVNYXBWaWV3KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPSBmYWxzZVxyXG4gICAgICAgICAgICAgIH0sIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID8gNTAwIDogMFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XHJcbiAgICAgIHRoaXMubWFwVmlldyA9IG51bGxcclxuICAgICAgdGhpcy5pc1JlcXVlc3RpbmdNYXAgPSBmYWxzZVxyXG5cclxuICAgICAgdGhpcy5hbmFseXNpc1NjZW5lVmlldygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlU2NlbmVWaWV3KHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZywgcHJldlByb3BzLmJhc2VXaWRnZXRQcm9wcz8uY29uZmlnKVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc2NlbmVWaWV3IHx8ICF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpIHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxyXG4gICAgICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQodGVtcEppbXVNYXBWaWV3SWQpXHJcbiAgICAgICAgICBpZiAodGVtcEppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgICAgIHRlbXBKaW11TWFwVmlldy53aGVuSmltdU1hcFZpZXdMb2FkZWQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzLCB0aGlzLnNjZW5lVmlldylcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YUFjdGlvbih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcywgdGVtcEppbXVNYXBWaWV3KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPSBmYWxzZVxyXG4gICAgICAgICAgICAgIH0sIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID8gNTAwIDogMFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhbmFseXNpc01hcFZpZXcgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICBpZiAoIXRoaXMubWFwVmlldykge1xyXG4gICAgICBpZiAodGhpcy5NYXBWaWV3KSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5pdE1hcFZpZXcoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgICAgICdlc3JpL2dlb21ldHJ5L0dlb21ldHJ5JyxcclxuICAgICAgICAgICdlc3JpL3dlYm1hcC9Jbml0aWFsVmlld1Byb3BlcnRpZXMnLFxyXG4gICAgICAgICAgJ2VzcmkvQmFzZW1hcCcsXHJcbiAgICAgICAgICAnZXNyaS9sYXllcnMvVGlsZUxheWVyJyxcclxuICAgICAgICAgICdlc3JpL3ZpZXdzL01hcFZpZXcnLFxyXG4gICAgICAgICAgJ2VzcmkvV2ViTWFwJyxcclxuICAgICAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWwnLFxyXG4gICAgICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbEl0ZW0nLFxyXG4gICAgICAgICAgJ2VzcmkvQ29sb3InXHJcbiAgICAgICAgXSkudGhlbihhc3luYyBtb2R1bGVzID0+IHtcclxuICAgICAgICAgIFtcclxuICAgICAgICAgICAgdGhpcy5HZW9tZXRyeSwgdGhpcy5Jbml0aWFsVmlld1Byb3BlcnRpZXMsIHRoaXMuQmFzZW1hcCwgdGhpcy5UaWxlTGF5ZXIsIHRoaXMuTWFwVmlldywgdGhpcy5XZWJNYXAsIHRoaXMuUG9ydGFsLCB0aGlzLlBvcnRhbEl0ZW0sIHRoaXMuQ29sb3JcclxuICAgICAgICAgIF0gPSBtb2R1bGVzXHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0TWFwVmlldygpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhbmFseXNpc1NjZW5lVmlldyA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIGlmICghdGhpcy5zY2VuZVZpZXcpIHtcclxuICAgICAgaWYgKHRoaXMuU2NlbmVWaWV3KSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5pdFNjZW5lVmlldygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAgICAgJ2Vzcmkvdmlld3MvU2NlbmVWaWV3JyxcclxuICAgICAgICAgICdlc3JpL1dlYlNjZW5lJyxcclxuICAgICAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWwnLFxyXG4gICAgICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbEl0ZW0nLFxyXG4gICAgICAgICAgJ2VzcmkvQ29sb3InXHJcbiAgICAgICAgXSkudGhlbihhc3luYyBtb2R1bGVzID0+IHtcclxuICAgICAgICAgIFtcclxuICAgICAgICAgICAgdGhpcy5TY2VuZVZpZXcsIHRoaXMuV2ViU2NlbmUsIHRoaXMuUG9ydGFsLCB0aGlzLlBvcnRhbEl0ZW0sIHRoaXMuQ29sb3JcclxuICAgICAgICAgIF0gPSBtb2R1bGVzXHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0U2NlbmVWaWV3KClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgKG5leHRQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcclxuICAgIGlmIChuZXh0UHJvcHMuZGF0YVNvdXJjZUlkICE9PSBwcmV2U3RhdGUuZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YVNvdXJjZUlkOiBuZXh0UHJvcHMuZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZGluZ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSB0cnVlXHJcblxyXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xyXG5cclxuICAgIGlmICh3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSAmJiB3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXS51c2VEYXRhU291cmNlcyA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiZcclxuICAgICAgdGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzICE9PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpIHtcclxuICAgICAgY29uc3QgcmVzdG9yZURhdGEgPSBnZXRNYXBCYXNlUmVzdG9yZURhdGEodGhpcylcclxuXHJcbiAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcclxuICAgICAgICAodGhpcy5tYXBWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcgPSB0cnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xyXG4gICAgICAgICh0aGlzLnNjZW5lVmlldyBhcyBhbnkpLmlzSW5DYWNoaW5nID0gdHJ1ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gLCByZXN0b3JlRGF0YSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoeyBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IG51bGwgfSlcclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWBcclxuICAgICAgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95SmltdU1hcFZpZXcoamltdU1hcFZpZXdJZClcclxuXHJcbiAgICAgIGlmICh0aGlzLm1hcFZpZXcgJiYgIXRoaXMubWFwVmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgICB0aGlzLm1hcFZpZXcuY29udGFpbmVyID0gbnVsbFxyXG4gICAgICAgIHRoaXMubWFwVmlldyA9IG51bGxcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5zY2VuZVZpZXcgJiYgIXRoaXMuc2NlbmVWaWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmVWaWV3LmNvbnRhaW5lciA9IG51bGxcclxuICAgICAgICB0aGlzLnNjZW5lVmlldyA9IG51bGxcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmhpZ2hMaWdodEhhbmRsZXMgPSB7fVxyXG4gICAgICB0aGlzLmV4dGVudFdhdGNoID0gbnVsbFxyXG4gICAgICB0aGlzLmZhdGFsRXJyb3JXYXRjaCA9IG51bGxcclxuICAgICAgdGhpcy5tYXBEcyA9IG51bGxcclxuICAgICAgdGhpcy5pc1JlcXVlc3RpbmdNYXAgPSBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlID0gKGluaXRpYWxNYXBTdGF0ZTogSW1tdXRhYmxlT2JqZWN0PEluaXRpYWxNYXBTdGF0ZT4pOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcclxuICAgIGlmIChpbml0aWFsTWFwU3RhdGUudmlld1R5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogdGhpcy5FeHRlbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLmV4dGVudCksXHJcbiAgICAgICAgICByb3RhdGlvbjogaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5WaWV3cG9pbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsb25lTWFwID0gYXN5bmMgKCk6IFByb21pc2U8X19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZT4gPT4ge1xyXG4gICAgbGV0IG1hcDogX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSA9IG51bGxcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VKc29uID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZClcclxuICAgIGxldCBNYXBDbGFzczogdHlwZW9mIF9fZXNyaS5XZWJNYXAgfCB0eXBlb2YgX19lc3JpLldlYlNjZW5lID0gbnVsbFxyXG4gICAgaWYgKGRhdGFTb3VyY2VKc29uLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcclxuICAgICAgTWFwQ2xhc3MgPSB0aGlzLldlYk1hcFxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhU291cmNlSnNvbi50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpIHtcclxuICAgICAgTWFwQ2xhc3MgPSB0aGlzLldlYlNjZW5lXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGFTb3VyY2VKc29uLnBvcnRhbFVybCkge1xyXG4gICAgICBjb25zdCBwb3J0YWwgPSBuZXcgdGhpcy5Qb3J0YWwoe1xyXG4gICAgICAgIHVybDogcG9ydGFsVXJsVXRpbHMuZ2V0UGxhdGZvcm1VcmxCeU9yZ1VybChkYXRhU291cmNlSnNvbi5wb3J0YWxVcmwpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBtYXAgPSBuZXcgTWFwQ2xhc3Moe1xyXG4gICAgICAgIHBvcnRhbEl0ZW06IG5ldyB0aGlzLlBvcnRhbEl0ZW0oe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VKc29uLml0ZW1JZCxcclxuICAgICAgICAgIHBvcnRhbDogcG9ydGFsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1hcCA9IG5ldyBNYXBDbGFzcyh7XHJcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XHJcbiAgICAgICAgICBpZDogZGF0YVNvdXJjZUpzb24uaXRlbUlkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZVV0aWxzLmdldFdoZXRoZXJVc2VQcm94eSgpKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBtYXAubG9hZCgpLnRoZW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBtYXAud2hlbihhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0YWJsZXMgPSAobWFwIGFzIGFueSkudGFibGVzID8gKG1hcCBhcyBhbnkpLnRhYmxlcy50b0FycmF5KCkgOiBbXVxyXG4gICAgICAgICAgdGFibGVzLmZvckVhY2godGFibGUgPT4geyAvLyBzZXQgcHJveHkgdXJsIGZvciB0YWJsZXNcclxuICAgICAgICAgICAgY29uc3Qgc291cmNlVXJsID0gZGF0YVNvdXJjZVV0aWxzLmdldFVybEJ5TGF5ZXIodGFibGUpXHJcbiAgICAgICAgICAgIGlmICghc291cmNlVXJsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcHJveHlVcmw6IHN0cmluZyA9IGRhdGFTb3VyY2VVdGlscy5nZXREYXRhU291cmNlUHJveHlVcmwoc291cmNlVXJsKVxyXG5cclxuICAgICAgICAgICAgaWYgKHByb3h5VXJsKSB7XHJcbiAgICAgICAgICAgICAgKHRhYmxlIGFzIF9fZXNyaS5MYXllciAmIHt1cmw6IHN0cmluZ30pLnVybCA9IHByb3h5VXJsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgbWFwLmFsbExheWVycy50b0FycmF5KClcclxuICAgICAgICAgICAgLmZvckVhY2gobGF5ZXIgPT4geyAvLyBzZXQgcHJveHkgdXJsIGZvciBsYXllcnNcclxuICAgICAgICAgICAgICBjb25zdCBzb3VyY2VVcmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcihsYXllcilcclxuICAgICAgICAgICAgICBpZiAoIXNvdXJjZVVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNvbnN0IHByb3h5VXJsOiBzdHJpbmcgPSBkYXRhU291cmNlVXRpbHMuZ2V0RGF0YVNvdXJjZVByb3h5VXJsKHNvdXJjZVVybClcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHByb3h5VXJsKSB7XHJcbiAgICAgICAgICAgICAgICAobGF5ZXIgYXMgX19lc3JpLkxheWVyICYge3VybDogc3RyaW5nfSkudXJsID0gcHJveHlVcmxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1hcClcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtYXApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRJbml0Vmlld1BvaW50Rm9yRGVmYXVsdFdlYk1hcCA9ICgpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcclxuICAgIGNvbnN0IGRlZmF1bHRFeHRlbnQgPSB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvICYmIHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdEV4dGVudFxyXG4gICAgbGV0IHRlbXBWaWV3UG9pbnQgPSBudWxsXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludCkge1xyXG4gICAgICB0ZW1wVmlld1BvaW50ID0gdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBWaWV3UG9pbnQgPSBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IG5ldyB0aGlzLkV4dGVudCh7XHJcbiAgICAgICAgICAgIHhtaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWluLFxyXG4gICAgICAgICAgICB5bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1pbixcclxuICAgICAgICAgICAgeG1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtYXgsXHJcbiAgICAgICAgICAgIHltYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWF4LFxyXG4gICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IGRlZmF1bHRFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZS53a2lkIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGVtcFZpZXdQb2ludFxyXG4gIH1cclxuXHJcbiAgZ2V0RGVmYXVsdFdlYk1hcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGRlZmF1bHRFeHRlbnQgPSB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvICYmIHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdEV4dGVudFxyXG5cclxuICAgIGxldCB0ZW1wVmlld1BvaW50ID0gbnVsbFxyXG4gICAgdGVtcFZpZXdQb2ludCA9IG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAge1xyXG4gICAgICAgIHRhcmdldEdlb21ldHJ5OiBuZXcgdGhpcy5FeHRlbnQoe1xyXG4gICAgICAgICAgeG1pbjogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtaW4sXHJcbiAgICAgICAgICB5bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1pbixcclxuICAgICAgICAgIHhtYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWF4LFxyXG4gICAgICAgICAgeW1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnltYXgsXHJcbiAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7IHdraWQ6IGRlZmF1bHRFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZS53a2lkIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgY29uc3QgZGVmYXVsdFdlYm1hcCA9IG5ldyB0aGlzLldlYk1hcCh7XHJcbiAgICAgIHBvcnRhbEl0ZW06IHtcclxuICAgICAgICBpZDogdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mby5kZWZhdWx0TWFwSWQsXHJcbiAgICAgICAgcG9ydGFsOiB7XHJcbiAgICAgICAgICB1cmw6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnBvcnRhbFVybFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgaW5pdGlhbFZpZXdQcm9wZXJ0aWVzOiBuZXcgdGhpcy5Jbml0aWFsVmlld1Byb3BlcnRpZXMoe1xyXG4gICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLFxyXG4gICAgICAgIHZpZXdwb2ludDogdGVtcFZpZXdQb2ludFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gZGVmYXVsdFdlYm1hcFxyXG4gIH1cclxuXHJcbiAgaW5pdE1hcFZpZXcgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICB0aGlzLmV4dGVudFdhdGNoID0gbnVsbFxyXG4gICAgdGhpcy5mYXRhbEVycm9yV2F0Y2ggPSBudWxsXHJcblxyXG4gICAgaWYgKHRoaXMubWFwVmlldyAmJiAhdGhpcy5pc1JlcXVlc3RpbmdNYXApIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSZXF1ZXN0aW5nTWFwKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaXNSZXF1ZXN0aW5nTWFwID0gdHJ1ZVxyXG5cclxuICAgIGxldCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuTWFwVmlld1Byb3BlcnRpZXNcclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICBjb25zdCBkZWZhdWx0TWFwID0gdGhpcy5nZXREZWZhdWx0V2ViTWFwKClcclxuICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICBtYXA6IGRlZmF1bHRNYXAsXHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcclxuICAgICAgICB2aWV3cG9pbnQ6IHRoaXMuZ2V0SW5pdFZpZXdQb2ludEZvckRlZmF1bHRXZWJNYXAoKSxcclxuICAgICAgICByb3RhdGlvbjogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHRlbXBXZWJtYXAgPSBhd2FpdCB0aGlzLmNsb25lTWFwKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XHJcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICAgIG1hcDogdGVtcFdlYm1hcCxcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3cG9pbnQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUgJiZcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICAgIG1hcDogdGVtcFdlYm1hcCxcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXJcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvcikge1xyXG4gICAgICAgIG1hcFZpZXdPcHRpb24uaGlnaGxpZ2h0T3B0aW9ucyA9IHtcclxuICAgICAgICAgIGNvbG9yOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IsXHJcbiAgICAgICAgICBoYWxvQ29sb3I6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3JcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5xdWVyeU9iamVjdFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIHtcclxuICAgICAgICBjb25zdCBleHRlbnRTdHIgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5xdWVyeU9iamVjdFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0uc3Vic3RyKCdleHRlbnQ9Jy5sZW5ndGgpXHJcbiAgICAgICAgbGV0IGV4dGVudFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBleHRlbnQgPSBuZXcgdGhpcy5FeHRlbnQoSlNPTi5wYXJzZShleHRlbnRTdHIpKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignQmFkIGV4dGVudCBVUkwgcGFyYW1ldGVyLicpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXh0ZW50KSB7XHJcbiAgICAgICAgICBtYXBWaWV3T3B0aW9uLmV4dGVudCA9IGV4dGVudFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tYXBWaWV3ID0gbmV3IHRoaXMuTWFwVmlldyhtYXBWaWV3T3B0aW9uKVxyXG4gICAgdGhpcy5tYXBWaWV3LnBvcHVwLnNwaW5uZXJFbmFibGVkID0gZmFsc2VcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgfHwgKHRoaXMubWFwRHMgJiYgdGhpcy5tYXBEcy5pZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpKSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlSmltdU1hcFZpZXcoKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubWFwVmlldy53aGVuKCgpID0+IHtcclxuICAgICAgLy8gYWZ0ZXIgdmlldyBpcyBsb2FkZWQsIHNlbmQgZXh0ZW50IGNoYW5nZSBtZXNzYWdlXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRvayB9LCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1hcExvYWRlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgTWFwTG9hZFN0YXR1cy5Mb2Fkb2spXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoIXRoaXMuZXh0ZW50V2F0Y2gpIHtcclxuICAgICAgICAvLyBTaG91bGQgbGlzdGVuIGV4dGVudENoYW5nZSBldmVudCB3aGVuIGFsbCBsYXllcnMgYXJlIGxvYWRlZCwgb3RoZXJ3aXNlIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZFxyXG4gICAgICAgIC8vIHNldmVyYWwgdGltZXMgd2hpbGUgdmlldyBsb2FkaW5nLlxyXG4gICAgICAgIGNvbnN0IHN0YXJ0V2F0Y2hFeHRlbnRDaGFuZ2VQcm9taXNlID0gUHJvbWlzZS5hbGxTZXR0bGVkKHRoaXMubWFwVmlldy5tYXAuYWxsTGF5ZXJzLm1hcChhc3luYyBsYXllciA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5tYXBWaWV3LndoZW5MYXllclZpZXcobGF5ZXIpXHJcbiAgICAgICAgfSkpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHN0YXJ0V2F0Y2hFeHRlbnRDaGFuZ2VQcm9taXNlLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5leHRlbnRXYXRjaCA9IHRoaXMubWFwVmlldy53YXRjaCgnZXh0ZW50JywgKGV4dGVudDogX19lc3JpLkV4dGVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWV4dGVudCkge1xyXG4gICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vbkV4dGVudGVkKVxyXG4gICAgICAgICAgICB0aGlzLm9uRXh0ZW50ZWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoIWV4dGVudCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAoKHRoaXMubWFwVmlldyBhcyBhbnkpLmlzUmVjZWl2ZUV4dGVudENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgKHRoaXMubWFwVmlldyBhcyBhbnkpLmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZXh0ZW50KVxyXG4gICAgICAgICAgICAgICAgZXh0ZW50TWVzc2FnZS5hZGRSZWxhdGVkV2lkZ2V0SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDIwMClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLmZhdGFsRXJyb3JXYXRjaCkge1xyXG4gICAgICAgIHRoaXMuZmF0YWxFcnJvcldhdGNoID0gdGhpcy5tYXBWaWV3LndhdGNoKCdmYXRhbEVycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKCEodGhpcy5tYXBWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYXRhbCBFcnJvciEgVmlldyBoYXMgbG9zdCBpdHMgV2ViR0wgY29udGV4dC4gQXR0ZW1wdGluZyB0byByZWNvdmVyLi4uJylcclxuICAgICAgICAgICAgICB0aGlzLm1hcFZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGlzTWFwQ3Jhc2hlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBleHRlbnQgaXMgcGFzc2VkIGZyb20gZXh0ZW50TWVzc2FnZSBiZWZvcmUsIGRvbid0IGluaXQgZXh0ZW50IGhlcmUgYXMgdGhpcyB3aWxsIHB1Ymxpc2hcclxuICAgICAgLy8gZXh0ZW50TWVzc2FnZSBhbmQgY2hhbmdlIG90aGVyIG1hcFdpZGdldCdzIGV4dGVudC5cclxuICAgICAgaWYgKCF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcz8ubXV0YWJsZVN0YXRlUHJvcHM/Lnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZT8udmFsdWUpIHtcclxuICAgICAgICB0aGlzLmdvSG9tZShmYWxzZSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBleHRlbnRNZXNzYWdlID0gbmV3IEV4dGVudENoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIHRoaXMubWFwVmlldy5leHRlbnQpXHJcbiAgICAgICAgICBleHRlbnRNZXNzYWdlLmFkZFJlbGF0ZWRXaWRnZXRJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZClcclxuICAgICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkICYmIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCh7IGRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIHZpZXdwb2ludDogdGhpcy5tYXBWaWV3LnZpZXdwb2ludC5jbG9uZSgpIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXHJcbiAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHRoaXMubWFwVmlldylcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxyXG4gIH1cclxuXHJcbiAgaW5pdFNjZW5lVmlldyA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRoaXMuZXh0ZW50V2F0Y2ggPSBudWxsXHJcbiAgICB0aGlzLmZhdGFsRXJyb3JXYXRjaCA9IG51bGxcclxuXHJcbiAgICBpZiAodGhpcy5zY2VuZVZpZXcgJiYgIXRoaXMuaXNSZXF1ZXN0aW5nTWFwKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmlzUmVxdWVzdGluZ01hcCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IHRydWVcclxuXHJcbiAgICBjb25zdCB0ZW1wV2ViU2NlbmUgPSBhd2FpdCB0aGlzLmNsb25lTWFwKClcclxuXHJcbiAgICBjb25zdCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcyA9IHtcclxuICAgICAgbWFwOiB0ZW1wV2ViU2NlbmUsXHJcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXJcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSkge1xyXG4gICAgICBtYXBWaWV3T3B0aW9uLnZpZXdwb2ludCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUgJiZcclxuICAgICAgICAgIHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvcikge1xyXG4gICAgICBtYXBWaWV3T3B0aW9uLmhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcbiAgICAgICAgY29sb3I6IG5ldyB0aGlzLkNvbG9yKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciksXHJcbiAgICAgICAgaGFsb0NvbG9yOiBuZXcgdGhpcy5Db2xvcih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0SGFsb0NvbG9yKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2NlbmVRdWFsaXR5TW9kZSA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zY2VuZVF1YWxpdHlNb2RlXHJcbiAgICBpZiAoc2NlbmVRdWFsaXR5TW9kZSAmJiBzY2VuZVF1YWxpdHlNb2RlICE9PSBTY2VuZVF1YWxpdHlNb2RlLmF1dG8pIHtcclxuICAgICAgbWFwVmlld09wdGlvbi5xdWFsaXR5UHJvZmlsZSA9IHNjZW5lUXVhbGl0eU1vZGVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHVzZSAnbG93JyBhcyBkZWZhdWx0IHZhbHVlXHJcbiAgICAgIG1hcFZpZXdPcHRpb24ucXVhbGl0eVByb2ZpbGUgPSBTY2VuZVF1YWxpdHlNb2RlLmxvd1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuICAgIHRoaXMuc2NlbmVWaWV3ID0gbmV3IHRoaXMuU2NlbmVWaWV3KG1hcFZpZXdPcHRpb24pXHJcbiAgICB0aGlzLnNjZW5lVmlldy5wb3B1cC5zcGlubmVyRW5hYmxlZCA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMubWFwRHMgJiYgdGhpcy5tYXBEcy5pZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpIHtcclxuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zY2VuZVZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgIC8vIGFmdGVyIHZpZXcgaXMgbG9hZGVkLCBzZW5kIGV4dGVudCBjaGFuZ2UgbWVzc2FnZVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2Fkb2sgfSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZG9rKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKCF0aGlzLmV4dGVudFdhdGNoKSB7XHJcbiAgICAgICAgLy8gU2hvdWxkIGxpc3RlbiBleHRlbnRDaGFuZ2UgZXZlbnQgd2hlbiBhbGwgbGF5ZXJzIGFyZSBsb2FkZWQsIG90aGVyd2lzZSB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWRcclxuICAgICAgICAvLyBzZXZlcmFsIHRpbWVzIHdoaWxlIHZpZXcgbG9hZGluZy5cclxuICAgICAgICBjb25zdCBzdGFydFdhdGNoRXh0ZW50Q2hhbmdlUHJvbWlzZSA9IFByb21pc2UuYWxsU2V0dGxlZCh0aGlzLnNjZW5lVmlldy5tYXAuYWxsTGF5ZXJzLm1hcChhc3luYyBsYXllciA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zY2VuZVZpZXcud2hlbkxheWVyVmlldyhsYXllcilcclxuICAgICAgICB9KSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc3RhcnRXYXRjaEV4dGVudENoYW5nZVByb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmV4dGVudFdhdGNoID0gdGhpcy5zY2VuZVZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFleHRlbnQpIHtcclxuICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMub25FeHRlbnRlZClcclxuICAgICAgICAgICAgdGhpcy5vbkV4dGVudGVkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFleHRlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKCh0aGlzLnNjZW5lVmlldyBhcyBhbnkpLmlzUmVjZWl2ZUV4dGVudENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgKHRoaXMuc2NlbmVWaWV3IGFzIGFueSkuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gZmFsc2VcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZW50TWVzc2FnZSA9IG5ldyBFeHRlbnRDaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBleHRlbnQpXHJcbiAgICAgICAgICAgICAgICBleHRlbnRNZXNzYWdlLmFkZFJlbGF0ZWRXaWRnZXRJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZClcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuZmF0YWxFcnJvcldhdGNoKSB7XHJcbiAgICAgICAgdGhpcy5mYXRhbEVycm9yV2F0Y2ggPSB0aGlzLnNjZW5lVmlldy53YXRjaCgnZmF0YWxFcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmICghKHRoaXMuc2NlbmVWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcpIHtcclxuICAgICAgICAgICAgICB0aGlzLnNjZW5lVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhdGFsIEVycm9yISBWaWV3IGhhcyBsb3N0IGl0cyBXZWJHTCBjb250ZXh0LiBBdHRlbXB0aW5nIHRvIHJlY292ZXIuLi4nKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNNYXBDcmFzaGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGV4dGVudCBpcyBwYXNzZWQgZnJvbSBleHRlbnRNZXNzYWdlIGJlZm9yZSwgZG9uJ3QgaW5pdCBleHRlbnQgaGVyZSBhcyB0aGlzIHdpbGwgcHVibGlzaFxyXG4gICAgICAvLyBleHRlbnRNZXNzYWdlIGFuZCBjaGFuZ2Ugb3RoZXIgbWFwV2lkZ2V0J3MgZXh0ZW50LlxyXG4gICAgICBpZiAoIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzPy5tdXRhYmxlU3RhdGVQcm9wcz8uem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlPy52YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZ29Ib21lKGZhbHNlKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGhpcy5zY2VuZVZpZXcuZXh0ZW50KVxyXG4gICAgICAgICAgZXh0ZW50TWVzc2FnZS5hZGRSZWxhdGVkV2lkZ2V0SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXHJcbiAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcclxuICAgICAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoeyBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IHRoaXMuc2NlbmVWaWV3LnZpZXdwb2ludC5jbG9uZSgpIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXHJcbiAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHRoaXMuc2NlbmVWaWV3KVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXHJcbiAgfVxyXG5cclxuICB1cGRhdGVNYXBWaWV3ID0gKGNvbmZpZzogSU1Db25maWcsIHByZUNvbmZpZz86IElNQ29uZmlnKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxyXG4gICAgbGV0IGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyA9IG51bGxcclxuICAgIGlmIChqaW11TWFwVmlld0lkKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWppbXVNYXBWaWV3IHx8ICF0aGlzLm1hcFZpZXcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIHBvcHVwIG9wdGlvbnNcclxuICAgIGlmIChjb25maWcuZGlzYWJsZVBvcFVwKSB7XHJcbiAgICAgIHRoaXMubWFwVmlldy5wb3B1cD8uY2xvc2UoKVxyXG4gICAgICB0aGlzLm1hcFZpZXcucG9wdXAgJiYgKHRoaXMubWFwVmlldy5wb3B1cC5hdXRvT3BlbkVuYWJsZWQgPSBmYWxzZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubWFwVmlldy5wb3B1cCAmJiAodGhpcy5tYXBWaWV3LnBvcHVwLmF1dG9PcGVuRW5hYmxlZCA9IHRydWUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IgJiYgY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yICE9PSBwcmVDb25maWc/LnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB8fFxyXG4gICAgICAgIChjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0SGFsb0NvbG9yICYmIGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IgIT09IHByZUNvbmZpZz8uc2VsZWN0aW9uSGlnaGxpZ2h0SGFsb0NvbG9yKSkge1xyXG4gICAgICBjb25zdCBoaWdobGlnaHRPcHRpb25zID0ge1xyXG4gICAgICAgIC4uLnRoaXMubWFwVmlldy5oaWdobGlnaHRPcHRpb25zLFxyXG4gICAgICAgIGNvbG9yOiBuZXcgdGhpcy5Db2xvcihjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IpLFxyXG4gICAgICAgIGhhbG9Db2xvcjogbmV3IHRoaXMuQ29sb3IoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvcilcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm1hcFZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IGhpZ2hsaWdodE9wdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMubWFwVmlldy51aSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm1hcFZpZXcudWkuY29tcG9uZW50cyA9IFtdXHJcbiAgfVxyXG5cclxuICB1cGRhdGVTY2VuZVZpZXcgPSAoY29uZmlnOiBJTUNvbmZpZywgcHJlQ29uZmlnPzogSU1Db25maWcpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gXHJcblxyXG4gICAgbGV0IGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyA9IG51bGxcclxuICAgIGlmIChqaW11TWFwVmlld0lkKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWppbXVNYXBWaWV3IHx8ICF0aGlzLnNjZW5lVmlldykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgcG9wdXAgb3B0aW9uXHJcbiAgICBpZiAoY29uZmlnLmRpc2FibGVQb3BVcCkge1xyXG4gICAgICB0aGlzLnNjZW5lVmlldy5wb3B1cD8uY2xvc2UoKVxyXG4gICAgICB0aGlzLnNjZW5lVmlldy5wb3B1cCAmJiAodGhpcy5zY2VuZVZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gZmFsc2UpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNjZW5lVmlldy5wb3B1cCAmJiAodGhpcy5zY2VuZVZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gdHJ1ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoKGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciAmJiBjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IgIT09IHByZUNvbmZpZz8uc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IpIHx8XHJcbiAgICAgICAgKGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IgJiYgY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciAhPT0gcHJlQ29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IpKSB7XHJcbiAgICAgIGNvbnN0IGhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcbiAgICAgICAgLi4udGhpcy5zY2VuZVZpZXcuaGlnaGxpZ2h0T3B0aW9ucyxcclxuICAgICAgICBjb2xvcjogbmV3IHRoaXMuQ29sb3IoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSxcclxuICAgICAgICBoYWxvQ29sb3I6IG5ldyB0aGlzLkNvbG9yKGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zY2VuZVZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IGhpZ2hsaWdodE9wdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzY2VuZVF1YWxpdHlNb2RlID0gY29uZmlnLnNjZW5lUXVhbGl0eU1vZGVcclxuICAgIGlmIChzY2VuZVF1YWxpdHlNb2RlICYmIHNjZW5lUXVhbGl0eU1vZGUgIT09IHRoaXMuc2NlbmVWaWV3LnF1YWxpdHlQcm9maWxlKSB7XHJcbiAgICAgIHRoaXMuc2NlbmVWaWV3LnF1YWxpdHlQcm9maWxlID0gc2NlbmVRdWFsaXR5TW9kZSBhcyAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnNjZW5lVmlldy51aSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNjZW5lVmlldy51aS5jb21wb25lbnRzID0gW11cclxuICB9XHJcblxyXG4gIGJpbmRNYXBCYXNlVmlld0V2ZW50ID0gKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcpID0+IHtcclxuICAgIGlmIChtYXBCYXNlVmlldykge1xyXG4gICAgICBpZiAodGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1snbW91c2Utd2hlZWwnXSkge1xyXG4gICAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNbJ21vdXNlLXdoZWVsJ10ucmVtb3ZlKClcclxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydtb3VzZS13aGVlbCddID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydtb3VzZS13aGVlbCddID0gbWFwQmFzZVZpZXcub24oJ21vdXNlLXdoZWVsJywgKGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmRpc2FibGVTY3JvbGwpIHtcclxuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgICAgIHRoaXMuaGFuZGxlRGlzYWJsZVdoZWVsKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkICYmIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCh7IGRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIHZpZXdwb2ludDogbWFwQmFzZVZpZXcudmlld3BvaW50LmNsb25lKCkgfSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGlmICh0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmRyYWcpIHtcclxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmRyYWcucmVtb3ZlKClcclxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmRyYWcgPSBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuZHJhZyA9IG1hcEJhc2VWaWV3Lm9uKCdkcmFnJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoeyBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IG1hcEJhc2VWaWV3LnZpZXdwb2ludC5jbG9uZSgpIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAodGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcy5jbGljaykge1xyXG4gICAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuY2xpY2sucmVtb3ZlKClcclxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmNsaWNrID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmNsaWNrID0gbWFwQmFzZVZpZXcub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuaGlnaExpZ2h0SGFuZGxlcykge1xyXG4gICAgICAgICAgdGhpcy5oaWdoTGlnaHRIYW5kbGVzW2tleV0ucmVtb3ZlKClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBvblNob3dPbk1hcERhdGFDaGFuZ2VkID0gKHNob3dPbk1hcERhdGFzS2V5KSA9PiB7XHJcbiAgLy8gIHRoaXMuc2V0U3RhdGUoe1xyXG4gIC8vICAgIHNob3dPbk1hcERhdGFzS2V5OiBzaG93T25NYXBEYXRhc0tleVxyXG4gIC8vICB9KVxyXG4gIC8vIH1cclxuXHJcbiAgY3JlYXRlSmltdU1hcFZpZXcgPSAoKSA9PiB7XHJcbiAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZUppbXVNYXBWaWV3KHtcclxuICAgICAgbWFwV2lkZ2V0SWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxyXG4gICAgICBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLFxyXG4gICAgICB2aWV3OiB0aGlzLm1hcFZpZXcgfHwgdGhpcy5zY2VuZVZpZXcsXHJcbiAgICAgIGlzRW5hYmxlUG9wdXA6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZyAmJiAhdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmRpc2FibGVQb3BVcCxcclxuICAgICAgbWFwVmlld01hbmFnZXI6IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKClcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgbWFwQmFzZVZpZXcgPSB0aGlzLm1hcFZpZXcgfHwgdGhpcy5zY2VuZVZpZXdcclxuICAgIGlmIChtYXBCYXNlVmlldykge1xyXG4gICAgICBtYXBCYXNlVmlldy53aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWBcclxuICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0ZW1wSmltdU1hcFZpZXdJZClcclxuICAgICAgICBpZiAodGVtcEppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgICBpZiAodGVtcEppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgICAgdGVtcEppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmICghdGVtcEppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgICAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KHRlbXBKaW11TWFwVmlld0lkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkKClcclxuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIG1hcEJhc2VKaW11TWFwVmlldzogdGVtcEppbXVNYXBWaWV3XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KHRlbXBKaW11TWFwVmlld0lkKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxyXG4gICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyh0ZW1wSmltdU1hcFZpZXdJZClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRGF0YVNvdXJjZUNyZWF0ZWQgPSAoZGF0YVNvdXJjZTogTWFwRGF0YVNvdXJjZSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5tYXBEcyA9IGRhdGFTb3VyY2VcclxuICAgIGlmICh0aGlzLm1hcERzLmlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCAmJiAodGhpcy5tYXBWaWV3IHx8IHRoaXMuc2NlbmVWaWV3KSkge1xyXG4gICAgICB0aGlzLmNyZWF0ZUppbXVNYXBWaWV3KClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCA9IChlcnIpOiB2b2lkID0+IHtcclxuICAgIGNvbnNvbGUud2FybihlcnIpXHJcbiAgICB0aGlzLm1hcERzID0gbnVsbFxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRFcnJvcixcclxuICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLnByb3BzLm9uTWFwTG9hZGVkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBNYXBMb2FkU3RhdHVzLkxvYWRFcnJvcilcclxuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc2V0Vmlld1BvaW50ID0gKHZpZXdQb2ludCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKCF2aWV3UG9pbnQgfHwgIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcclxuICAgICAgICB0aGlzLm1hcFZpZXcudmlld3BvaW50ID0gdmlld1BvaW50XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XHJcbiAgICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xyXG4gICAgICAgIHRoaXMuc2NlbmVWaWV3LnZpZXdwb2ludCA9IHZpZXdQb2ludFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNYXBMb2FkU3RhdHVzID0gKCk6IE1hcExvYWRTdGF0dXMgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1c1xyXG4gIH1cclxuXHJcbiAgZ2V0Vmlld1BvaW50ID0gKCk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1hcFZpZXcgJiYgdGhpcy5tYXBWaWV3LnZpZXdwb2ludCA/IHRoaXMubWFwVmlldy52aWV3cG9pbnQuY2xvbmUoKSA6IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XHJcbiAgICAgIGlmICh0aGlzLnNjZW5lVmlldyAmJiB0aGlzLnNjZW5lVmlldy52aWV3cG9pbnQpIHtcclxuICAgICAgICAvLyBGb3Igc2NlbmUsIHRoZSBmaXJzdCBleHRlbnQgKGFmdGVyIHNjZW5lIGxvYWRlZCkgaXMgbm90IGNvcnJlY3QuIFNvIHdlIHVzZSBnbyB0byBjYW1lcmEgdG8gZ2V0IGNvcnJlY3QgZXh0ZW50XHJcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcuZ29Ubyh0aGlzLnNjZW5lVmlldy52aWV3cG9pbnQuY2FtZXJhLCB7XHJcbiAgICAgICAgICBhbmltYXRlOiBmYWxzZVxyXG4gICAgICAgIH0pIGFzIGFueVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZVZpZXcudmlld3BvaW50LmNsb25lKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3VHlwZSA9ICgpOiBzdHJpbmcgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGVcclxuICB9XHJcblxyXG4gIGdvVG9UaWx0ID0gKHRpbHQpID0+IHtcclxuICAgIHRoaXMuc2NlbmVWaWV3ICYmIHRoaXMuc2NlbmVWaWV3LmdvVG8oe1xyXG4gICAgICB0aWx0OiB0aWx0XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ29Ib21lID0gYXN5bmMgKHVzZUFtaW5hdGlvbj86IGJvb2xlYW4pOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpbml0Vmlld1BvaW50ID0gdGhpcy5nZXRNYXBCYXNlSW5pdFZpZXdQb2ludCgpXHJcblxyXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcclxuICAgICAgaWYgKHRoaXMubWFwVmlldykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hcFZpZXcuZ29Ubyhpbml0Vmlld1BvaW50LCB7XHJcbiAgICAgICAgICBhbmltYXRlOiB1c2VBbWluYXRpb25cclxuICAgICAgICB9KSBhcyBhbnlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpIHtcclxuICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmVWaWV3LmdvVG8oaW5pdFZpZXdQb2ludCwge1xyXG4gICAgICAgICAgYW5pbWF0ZTogdXNlQW1pbmF0aW9uXHJcbiAgICAgICAgfSkgYXMgYW55XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICB9XHJcblxyXG4gIGdldE1hcEJhc2VJbml0Vmlld1BvaW50ID0gKCk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWFwVmlldykge1xyXG4gICAgICAgICAgcmV0dXJuICh0aGlzLm1hcFZpZXcubWFwIGFzIF9fZXNyaS5XZWJNYXApPy5pbml0aWFsVmlld1Byb3BlcnRpZXM/LnZpZXdwb2ludD8uY2xvbmUoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XHJcbiAgICAgICAgICByZXR1cm4gKHRoaXMuc2NlbmVWaWV3Lm1hcCBhcyBfX2VzcmkuV2ViU2NlbmUpPy5pbml0aWFsVmlld1Byb3BlcnRpZXM/LnZpZXdwb2ludD8uY2xvbmUoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RHNKc29uRnJvbURzSWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IGRzSnNvbiA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcuZGF0YVNvdXJjZXNbZGF0YVNvdXJjZUlkXVxyXG4gICAgcmV0dXJuIGRzSnNvbiB8fCB7fSBhcyBhbnlcclxuICB9XHJcblxyXG4gIHF1ZXJ5RXh0ZW50RnJvbVF1ZXJ5UGFyYW1zID0gKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGRhdGFTb3VyY2VJZDogc3RyaW5nLCB1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2VcclxuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgIGNvbnN0IHVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3ID0gIXVzZURhdGFTb3VyY2VzLnNvbWUodXNlRGF0YVNvdXJjZSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKHVzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0UnVudGltZVF1ZXJ5UGFyYW1zKClcclxuICAgICAgLy8gdXNlIGRlZmF1bHQgZXh0ZW50IGlmIGFsbCBtZXJnZWQgU1FMcyBvbiBkYXRhIHNvdXJjZSBpcyByZW12b3ZlZC5cclxuICAgICAgY29uc3QgaGFzUXVlcnlXaGVyZSA9IHF1ZXJ5UGFyYW1zPy53aGVyZSAmJiBxdWVyeVBhcmFtcy53aGVyZSAhPT0gJzE9MSdcclxuICAgICAgaWYgKGhhc1F1ZXJ5V2hlcmUpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgbGV0IGxheWVyT2JqZWN0UHJvbWlzZVxyXG4gICAgaWYgKGRhdGFTb3VyY2U/LmxheWVyKSB7XHJcbiAgICAgIGxheWVyT2JqZWN0UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShkYXRhU291cmNlLmxheWVyKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGF5ZXJPYmplY3RQcm9taXNlID0gZGF0YVNvdXJjZS5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKCkudGhlbigobGF5ZXJPYmplY3QpID0+IFByb21pc2UucmVzb2x2ZShsYXllck9iamVjdCkpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeScsXHJcbiAgICAgICdlc3JpL0dyYXBoaWMnLFxyXG4gICAgICAnZXNyaS9nZW9tZXRyeS9Qb2ludCdcclxuICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgIGNvbnN0IFtRdWVyeSwgR3JhcGhpYywgUG9pbnRdID0gbW9kdWxlc1xyXG4gICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXHJcbiAgICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlQYXJhbXM/LndoZXJlXHJcblxyXG4gICAgICByZXR1cm4gbGF5ZXJPYmplY3RQcm9taXNlLnRoZW4obGF5ZXJPYmplY3QgPT4ge1xyXG4gICAgICAgIGlmICh1c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xyXG4gICAgICAgICAgY29uc3QgaW5pdFZpZXdQb2ludCA9IHRoaXMuZ2V0TWFwQmFzZUluaXRWaWV3UG9pbnQoKVxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmlld3BvaW50OiBpbml0Vmlld1BvaW50LFxyXG4gICAgICAgICAgICB1c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50VmlldzogdHJ1ZSxcclxuICAgICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBudWxsLFxyXG4gICAgICAgICAgICBjb3VudDogMixcclxuICAgICAgICAgICAgbGF5ZXI6IGxheWVyT2JqZWN0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbGF5ZXJPYmplY3QucXVlcnlFeHRlbnQocXVlcnkpLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICAgIGNvbnN0IGV4dGVudENlbnRlciA9IHJlc3VsdD8uZXh0ZW50Py5jZW50ZXJcclxuICAgICAgICAgIGNvbnN0IGV4dGVudCA9IHJlc3VsdD8uZXh0ZW50XHJcbiAgICAgICAgICBsZXQgc2luZ2xlUG9pbnRHcmFwaGljXHJcbiAgICAgICAgICBpZiAocmVzdWx0Py5jb3VudCA9PT0gMSAmJiAobGF5ZXJPYmplY3QuZ2VvbWV0cnlUeXBlID09PSAncG9pbnQnKSAmJiBleHRlbnRDZW50ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoe1xyXG4gICAgICAgICAgICAgIHg6IGV4dGVudENlbnRlci54LFxyXG4gICAgICAgICAgICAgIHk6IGV4dGVudENlbnRlci55LFxyXG4gICAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IGV4dGVudC5zcGF0aWFsUmVmZXJlbmNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBzaW5nbGVQb2ludEdyYXBoaWMgPSBuZXcgR3JhcGhpYyh7IGdlb21ldHJ5OiBwb2ludCB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZXh0ZW50OiBleHRlbnQsXHJcbiAgICAgICAgICAgIHNpbmdsZVBvaW50R3JhcGhpYzogc2luZ2xlUG9pbnRHcmFwaGljLFxyXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0Py5jb3VudCxcclxuICAgICAgICAgICAgbGF5ZXI6IGxheWVyT2JqZWN0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBoYW5kbGUgZGF0YS9hY3Rpb24uXHJcbiAgICovXHJcbiAgaGFuZGxlRGF0YUFjdGlvbiA9IChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBqaW11TWFwVmlldzogSmltdU1hcFZpZXcpID0+IHtcclxuICAgIC8vIGhhbmRsZSBzaG93IGRhdGEgb24gbWFwIGFjdGlvblxyXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLnNob3dPbk1hcERhdGFzKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LmRyYXdEYXRhT25NYXAobXV0YWJsZVN0YXRlUHJvcHMuc2hvd09uTWFwRGF0YXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBoYW5kbGUgbWVzc2FnZS9hY3Rpb24uXHJcbiAgICovXHJcbiAgaGFuZGxlQWN0aW9uID0gKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcpID0+IHtcclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWUpIHtcclxuICAgICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cyAmJlxyXG4gICAgICAgIG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cy5pbmNsdWRlcyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCkpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCB0ZW1wTWFwQmFzZVZpZXcgPSBtYXBCYXNlVmlldyBhcyBhbnlcclxuXHJcbiAgICAgICAgY29uc3QgcmVsYXRlZFdpZGdldHMgPSBtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHNcclxuICAgICAgICAgID8gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXHJcbiAgICAgICAgICA6IFtdXHJcblxyXG4gICAgICAgIGNvbnN0IHpvb21Ub0ZlYXR1cmVWYWx1ZTogYW55ID0gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnZhbHVlXHJcbiAgICAgICAgbGV0IGxheWVyID0gbnVsbFxyXG4gICAgICAgIGlmICh6b29tVG9GZWF0dXJlVmFsdWUubGF5ZXJJZCkge1xyXG4gICAgICAgICAgbGF5ZXIgPSB0ZW1wTWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSB6b29tVG9GZWF0dXJlVmFsdWUubGF5ZXJJZClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh6b29tVG9GZWF0dXJlVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tZXh0ZW50Jykge1xyXG4gICAgICAgICAgdGVtcE1hcEJhc2VWaWV3LmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IHRydWVcclxuICAgICAgICAgIHpvb21Ub1V0aWxzLnpvb21Ubyh0ZW1wTWFwQmFzZVZpZXcsIHpvb21Ub0ZlYXR1cmVWYWx1ZS5mZWF0dXJlc1swXSwgem9vbVRvRmVhdHVyZVZhbHVlLnpvb21Ub09wdGlvbikudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlbGF0ZWRXaWRnZXRzLnB1c2godGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXHJcbiAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGVtcE1hcEJhc2VWaWV3LmV4dGVudClcclxuICAgICAgICAgICAgZXh0ZW50TWVzc2FnZS5zZXRSZWxhdGVkV2lkZ2V0SWRzKHJlbGF0ZWRXaWRnZXRzKVxyXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcclxuICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGVtcE1hcEJhc2VWaWV3LmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAoem9vbVRvRmVhdHVyZVZhbHVlLnR5cGUgPT09ICd6b29tLXRvLXF1ZXJ5LXBhcmFtcycpIHtcclxuICAgICAgICAgIHRoaXMucXVlcnlFeHRlbnRGcm9tUXVlcnlQYXJhbXMobWFwQmFzZVZpZXcsIHpvb21Ub0ZlYXR1cmVWYWx1ZS5kYXRhU291cmNlSWQsIHpvb21Ub0ZlYXR1cmVWYWx1ZS51c2VEYXRhU291cmNlcykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5jb3VudCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5jb3VudCA9PT0gMSAmJiByZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpYykge1xyXG4gICAgICAgICAgICAgIHRhcmdldCA9IHtcclxuICAgICAgICAgICAgICAgIGdyYXBoaWNzOiBbcmVzdWx0Py5zaW5nbGVQb2ludEdyYXBoaWNdLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXI6IHJlc3VsdD8ubGF5ZXJcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgZXh0ZW50OiByZXN1bHQ/LmV4dGVudCxcclxuICAgICAgICAgICAgICAgIGxheWVyOiByZXN1bHQ/LmxheWVyXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBCZWNhdXNlIG9mICd6b29tVG9VdGlscycgZG9lcyBub3Qgc3VwcG9ydCAndmlld3BvaW50JywgdGVtcG9yYXJ5IGNvZGUgZm9yIHVzaW5nIGRlZmF1bHQgdmlld3BvaW50IG9mIHNjZW5lVmlldy5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdC51c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xyXG4gICAgICAgICAgICAgIHRlbXBNYXBCYXNlVmlldy5nb1RvKHJlc3VsdC52aWV3cG9pbnQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKHRlbXBNYXBCYXNlVmlldywgdGFyZ2V0LCB6b29tVG9GZWF0dXJlVmFsdWUuem9vbVRvT3B0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsZXQgdGFyZ2V0ID0gbnVsbFxyXG4gICAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHtcclxuICAgICAgICAgICAgICBsYXllcjogbGF5ZXIsXHJcbiAgICAgICAgICAgICAgZ3JhcGhpY3M6IHpvb21Ub0ZlYXR1cmVWYWx1ZS5mZWF0dXJlc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB6b29tVG9GZWF0dXJlVmFsdWUuZmVhdHVyZXNcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwcm9jZXNzWm9vbVRvRmVhdHVyZXModGVtcE1hcEJhc2VWaWV3LCB0YXJnZXQubGF5ZXIsICh0YXJnZXQgJiYgdGFyZ2V0LmdyYXBoaWNzKSA/IHRhcmdldC5ncmFwaGljcyA6IHRhcmdldCkudGhlbihcclxuICAgICAgICAgICAgZ3JhcGhpY3MgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChsYXllcikge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmdyYXBoaWNzID0gZ3JhcGhpY3NcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gZ3JhcGhpY3NcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHRlbXBNYXBCYXNlVmlldy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlXHJcbiAgICAgICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKHRlbXBNYXBCYXNlVmlldywgdGFyZ2V0LCB6b29tVG9GZWF0dXJlVmFsdWUuem9vbVRvT3B0aW9uKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRXaWRnZXRzLnB1c2godGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXHJcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbnRNZXNzYWdlID0gbmV3IEV4dGVudENoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIHRlbXBNYXBCYXNlVmlldy5leHRlbnQpXHJcbiAgICAgICAgICAgICAgICBleHRlbnRNZXNzYWdlLnNldFJlbGF0ZWRXaWRnZXRJZHMocmVsYXRlZFdpZGdldHMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcclxuICAgICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wTWFwQmFzZVZpZXcuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gZmFsc2VcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlKSB7XHJcbiAgICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzICYmXHJcbiAgICAgICAgbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cy5pbmNsdWRlcyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCkpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAncGFuVG9BY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICAgIH0gZWxzZSBpZiAoKG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWU/LnZhbHVlIGFzIGFueSk/LnR5cGUgPT09ICdwYW4tdG8tcXVlcnktcGFyYW1zJykge1xyXG4gICAgICAgIGNvbnN0IHBhblRvVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlIGFzIGFueVxyXG4gICAgICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRzID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0c1xyXG4gICAgICAgICAgPyBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXHJcbiAgICAgICAgICA6IFtdXHJcbiAgICAgICAgdGhpcy5xdWVyeUV4dGVudEZyb21RdWVyeVBhcmFtcyhtYXBCYXNlVmlldywgcGFuVG9WYWx1ZS5kYXRhU291cmNlSWQsIHBhblRvVmFsdWUudXNlRGF0YVNvdXJjZXMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgLy8gQmVjYXVzZSBvZiAncGFuVG9HZW9tZXRyeScgbWV0aG9kIGRvZXMgbm90IHN1cHBvcnQgJ3ZpZXdwb2ludCcsIHRlbXBvcmFyeSBjb2RlIGZvciB1c2luZyBkZWZhdWx0IHZpZXdwb2ludCBvZiBzY2VuZVZpZXcuXHJcbiAgICAgICAgICBpZiAocmVzdWx0LnVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEdlb21ldHJ5ID0gcmVzdWx0Py52aWV3cG9pbnQ/LmNhbWVyYT8ucG9zaXRpb24gfHwgcmVzdWx0Py52aWV3cG9pbnQ/LnRhcmdldEdlb21ldHJ5XHJcbiAgICAgICAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShbdGFyZ2V0R2VvbWV0cnldLCBtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldHMpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkoW3Jlc3VsdD8uZXh0ZW50XSwgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRzKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWUgYXMgYW55XHJcbiAgICAgICAgY29uc3QgcmVsYXRlZFdpZGdldHMgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXHJcbiAgICAgICAgICA/IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHNcclxuICAgICAgICAgIDogW11cclxuICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkocGFuVG9WYWx1ZS5mZWF0dXJlcywgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRzKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAobWFwQmFzZVZpZXcgYXMgYW55KS5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlXHJcbiAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdwYW5Ub0FjdGlvblZhbHVlJywgbnVsbClcclxuICAgIH1cclxuXHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMubmV3RmVhdHVyZVNldEFjdGlvblZhbHVlICYmICFtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUucHJvbWlzZSkge1xyXG4gICAgICBjb25zdCBjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlID0gY3JlYXRlTmV3RmVhdHVyZWxheWVyKG1hcEJhc2VWaWV3LCBtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUudmFsdWUpXHJcbiAgICAgIGlmIChjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZS5wcm9taXNlJywgY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZSlcclxuXHJcbiAgICAgICAgY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZS50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICduZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZSkge1xyXG4gICAgICB1cGRhdGVGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUpXHJcbiAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdjaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlJywgbnVsbClcclxuICAgIH1cclxuXHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlKSB7XHJcbiAgICAgIG1hcEJhc2VWaWV3LnBvcHVwLmNsb3NlKClcclxuXHJcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuaGlnaExpZ2h0SGFuZGxlcykge1xyXG4gICAgICAgIHRoaXMuaGlnaExpZ2h0SGFuZGxlc1trZXldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNlbGVjdEZlYXR1cmVIYW5kbGUgPSBzZWxlY3RGZWF0dXJlKG1hcEJhc2VWaWV3LCBtdXRhYmxlU3RhdGVQcm9wcy5zZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUpXHJcbiAgICAgIGlmIChzZWxlY3RGZWF0dXJlSGFuZGxlKSB7XHJcbiAgICAgICAgdGhpcy5oaWdoTGlnaHRIYW5kbGVzW3NlbGVjdEZlYXR1cmVIYW5kbGUubGF5ZXJJZF0gPSBzZWxlY3RGZWF0dXJlSGFuZGxlLmhhbmRsZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcclxuICAgICAgfSwgNTAwKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG11dGFibGVTdGF0ZVByb3BzS2V5cyA9IE9iamVjdC5rZXlzKG11dGFibGVTdGF0ZVByb3BzKVxyXG4gICAgbXV0YWJsZVN0YXRlUHJvcHNLZXlzLnNvbWUoYWN0aW9uS2V5ID0+IHtcclxuICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gXHJcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgLy8gaGFuZGxlIGZsYXNoIGFjdGlvblxyXG4gICAgICBpZiAoYWN0aW9uS2V5LmluZGV4T2YoJ2ZsYXNoQWN0aW9uVmFsdWUtJykgPT09IDAgJiYgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XSkge1xyXG4gICAgICAgIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUwgJiYgZmxhc2hGZWF0dXJlc0J5UXVlcnkodGVtcEppbXVNYXBWaWV3LCBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLmxheWVyRGF0YVNvdXJjZUlkLCBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLnF1ZXJ5U1FMKVxyXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGFjdGlvbktleSwgbnVsbClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaGFuZGxlIGZpbHRlciBhY3Rpb25cclxuICAgICAgaWYgKGFjdGlvbktleS5pbmRleE9mKCdmaWx0ZXJBY3Rpb25WYWx1ZS0nKSA9PT0gMCAmJiBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldKSB7XHJcbiAgICAgICAgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTD8ubGVuZ3RoID49IDAgJiYgZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5KHRlbXBKaW11TWFwVmlldywgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5sYXllckRhdGFTb3VyY2VJZCwgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTClcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBhY3Rpb25LZXksIG51bGwpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcGFuVG9HZW9tZXRyeSA9IChnZW9tZXRyeXMsIG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0cykgPT4ge1xyXG4gICAgLy9jb25zdCB0ZW1wTWFwQmFzZVZpZXcgPSBtYXBCYXNlVmlldyBhcyBhbnlcclxuXHJcbiAgICBwcm9qZWN0R2VvbWV0cmllcyhnZW9tZXRyeXMsIG1hcEJhc2VWaWV3LnNwYXRpYWxSZWZlcmVuY2UpLnRoZW4oKGdlb21ldHJpZXMpID0+IHtcclxuICAgICAgbWFwUGFudG8obWFwQmFzZVZpZXcsIGdlb21ldHJpZXMpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIG1hcEJhc2VWaWV3LmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IHRydWVcclxuICAgICAgICByZWxhdGVkV2lkZ2V0cy5wdXNoKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKVxyXG4gICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgbWFwQmFzZVZpZXcuZXh0ZW50KVxyXG4gICAgICAgIGV4dGVudE1lc3NhZ2Uuc2V0UmVsYXRlZFdpZGdldElkcyhyZWxhdGVkV2lkZ2V0cylcclxuICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcclxuICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgIG1hcEJhc2VWaWV3LmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IHRydWVcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBmb3JtYXRNZXNzYWdlID0gKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbaWRdIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVEaXNhYmxlV2hlZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLndpZGdldENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy53aWRnZXRDb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJ1xyXG4gICAgfSwgNTApXHJcbiAgfVxyXG5cclxuICBnZXRNYXBTd2l0Y2hGb3JFcnJvck1hcCA9ICgpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXAgfSkgPT4gKFxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9J21hcHN3aXRjaC1jb250YWluZXInIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogaXNTaG93TWFwU3dpdGNoQnRuID8gJ2Jsb2NrJyA6ICdub25lJyxcclxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJyA/IDEwIDogMFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eyhlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgc3dpdGNoTWFwKCkgfX0gY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBlc3JpLXdpZGdldC0tYnV0dG9uJz5cclxuICAgICAgICAgICAgICA8SWNvbiBpY29uPXtFeGNoYW5nZX0gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J21hcHN3aXRjaC1pY29uJyAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcmVjb3Zlck1hcCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5tYXBWaWV3LnRyeUZhdGFsRXJyb3JSZWNvdmVyeSgpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzTWFwQ3Jhc2hlZDogZmFsc2VcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcclxuICAgICAgdGhpcy5zY2VuZVZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGxldCB1c2VEYXRhU291cmNlID0gbnVsbFxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcykge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIHVzZURhdGFTb3VyY2UgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1tpXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtYXAtYmFzZScgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0gcmVmPXtyZWYgPT4geyB0aGlzLndpZGdldENvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICB7KHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nKSAmJlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIHdpZGdldC1tYXAtYmFja2dyb3VuZCc+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnIH19IGNsYXNzTmFtZT0namltdS1zZWNvbmRhcnktbG9hZGluZycgLz5cclxuICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7KHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IpICYmXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgd2lkZ2V0LW1hcC1iYWNrZ3JvdW5kJz5cclxuICAgICAgICAgICAge3RoaXMuZ2V0TWFwU3dpdGNoRm9yRXJyb3JNYXAoKX1cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcic+e3RoaXMuZm9ybWF0TWVzc2FnZSgnbWFwRmFpbHVyZScpfTwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHsvKiB7KHRoaXMuc3RhdGUuaXNNYXBDcmFzaGVkICYmICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5hcHBNb2RlKSkgJiYgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXIgd2lkZ2V0LW1hcC1jcmFzaGVkXCI+XHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0LW1hcC1jcmFzaGVkLWxhYmVsIHdpZGdldC1tYXAtY3Jhc2hlZC1sYWJlbC1wYWRkaW5nXCI+e3RoaXMuZm9ybWF0TWVzc2FnZSgnbWFwQ3Jhc2gnKX08L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgcHQtM1wiPlxyXG4gICAgICAgICAgICA8QnV0dG9uIHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cIndpZGdldC1tYXAtY3Jhc2hlZC1sYWJlbFwiIG9uQ2xpY2s9eygpID0+IHt0aGlzLnJlY292ZXJNYXAoKX19Pnt0aGlzLmZvcm1hdE1lc3NhZ2UoJ21hcFJlY292ZXInKX08L0J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj59ICovfVxyXG4gICAgICAgIHshdGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgJiYgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgZGlzcGxheTogJ25vbmUnIH19PjxEYXRhU291cmNlQ29tcG9uZW50XHJcbiAgICAgICAgICB1c2VEYXRhU291cmNlPXt1c2VEYXRhU291cmNlfVxyXG4gICAgICAgICAgb25EYXRhU291cmNlQ3JlYXRlZD17dGhpcy5vbkRhdGFTb3VyY2VDcmVhdGVkfSBvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQ9e3RoaXMub25DcmVhdGVEYXRhU291cmNlRmFpbGVkfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgTXVsdGlTb3VyY2VNYXBDb250ZXh0VHlwZSB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIG1hcFdpZGdldEhlaWdodDogbnVtYmVyXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuXHJcbiAgaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuOiBib29sZWFuXHJcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXHJcbiAgZGF0YVNvdXJjZUlkczogc3RyaW5nW11cclxuICBhY3RpdmVEYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gIHN3aXRjaE1hcDogKCkgPT4gdm9pZFxyXG4gIGZ1bGxTY3JlZW5NYXA6ICgpID0+IHZvaWRcclxuICBpbml0aWFsTWFwU3RhdGU6IGFueVxyXG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG4gIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiAoTW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudCkgPT4gdm9pZFxyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBNdWx0aVNvdXJjZU1hcENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PE11bHRpU291cmNlTWFwQ29udGV4dFR5cGU+KHtcclxuICBtYXBXaWRnZXRJZDogbnVsbCxcclxuICBtYXBXaWRnZXRIZWlnaHQ6IG51bGwsXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuOiBmYWxzZSxcclxuICBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG46IGZhbHNlLFxyXG4gIGlzRnVsbFNjcmVlbjogZmFsc2UsXHJcbiAgZGF0YVNvdXJjZUlkczogW10sXHJcbiAgYWN0aXZlRGF0YVNvdXJjZUlkOiBudWxsLFxyXG4gIHN3aXRjaE1hcDogKCkgPT4ge30sXHJcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4ge30sXHJcbiAgaW5pdGlhbE1hcFN0YXRlOiBudWxsLFxyXG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBudWxsLFxyXG4gIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiAoTW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudCkgPT4ge30sXHJcbiAgdGhlbWU6IG51bGxcclxufSlcclxuIiwiaW1wb3J0IHtcclxuICBSZWFjdCwgY2xhc3NOYW1lcywgTWVzc2FnZU1hbmFnZXIsIEltbXV0YWJsZUFycmF5LCBJbW11dGFibGUsIG9ic2VydmVTdG9yZSwgUmVhY3RSZXNpemVEZXRlY3RvcixcclxuICBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucywgTXV0YWJsZVN0b3JlTWFuYWdlciwgRXh0ZW50Q2hhbmdlTWVzc2FnZSwgVXNlRGF0YVNvdXJjZSwgSW1tdXRhYmxlT2JqZWN0LCBKaW11TWFwVmlld0luZm9cclxufSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCBNYXBCYXNlLCB7IE1hcExvYWRTdGF0dXMsIFNoYXJlVmlld1BvaW50IH0gZnJvbSAnLi9tYXBiYXNlJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IE1hcFdpZGdldFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xyXG5pbXBvcnQgeyBNYXBWaWV3TWFuYWdlciwgSmltdU1hcFZpZXcsIEppbXVNYXBWaWV3R3JvdXAsIEppbXVNYXBWaWV3Q29tcG9uZW50LCBEZWZhdWx0TWFwSW5mbywgU2hvd09uTWFwRGF0YVR5cGUgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IE1hcEZpeGVkTGF5b3V0IGZyb20gJy4uL2xheW91dC9tYXAtZml4ZWQtbGF5b3V0J1xyXG5pbXBvcnQgTGF5b3V0LCB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vbGF5b3V0L2xheW91dCdcclxuaW1wb3J0IHBjTGF5b3V0SnNvbnMgZnJvbSAnLi4vbGF5b3V0L3BjLWxheW91dC1qc29uJ1xyXG5pbXBvcnQgbW9iaWxlTGF5b3V0SnNvbnMgZnJvbSAnLi4vbGF5b3V0L21vYmlsZS1sYXlvdXQtanNvbidcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgYmFzZVdpZGdldFByb3BzOiBNYXBXaWRnZXRQcm9wc1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkXHJcblxyXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW5cclxuICBvblZpZXdHcm91cENyZWF0ZT86ICh2aWV3R3JvdXA6IEppbXVNYXBWaWV3R3JvdXApID0+IHZvaWRcclxuXHJcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcclxuICB3aWRnZXRIZWlnaHQ6IG51bWJlclxyXG5cclxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cclxuICBpc01hcEluVmlzaWJsZUFyZWE6IGJvb2xlYW5cclxuICBkZWZhdWx0TWFwSW5mbz86IERlZmF1bHRNYXBJbmZvXHJcbn1cclxuXHJcbmludGVyZmFjZSBNYXBDb250YWluZXJTdHlsZSB7XHJcbiAgb3BhY2l0eTogbnVtYmVyXHJcbiAgekluZGV4OiBudW1iZXJcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICBjdXJyZW50TWFwSW5kZXg/OiAwIHwgMVxyXG4gIG11bHRpTWFwU3R5bGU/OiBNYXBDb250YWluZXJTdHlsZVtdXHJcbiAgZmlyc3RNYXBEc0lkPzogc3RyaW5nXHJcbiAgc2Vjb25kTWFwRHNJZD86IHN0cmluZ1xyXG4gIHVzZUFuaW1hdGlvbjogYm9vbGVhblxyXG5cclxuICB1c2VEYXRhU291cmNlcz86IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+XHJcbiAgY3VycmVudEppbXVNYXBWaWV3SWQ/OiBzdHJpbmdcclxuICBtb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50XHJcbiAgbW9iaWxlUGFuZWxDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgLy8gc2hvd09uTWFwRGF0YXNLZXk6IHN0cmluZ1tdXHJcbn1cclxuXHJcbmNvbnN0IFZpc2libGVTdHlsZXMgPSB7XHJcbiAgZmlyc3RNYXBWaXNpYmxlOiBbe1xyXG4gICAgekluZGV4OiA2LFxyXG4gICAgb3BhY2l0eTogMVxyXG4gIH0sIHtcclxuICAgIHpJbmRleDogNSxcclxuICAgIG9wYWNpdHk6IDBcclxuICB9XSxcclxuICBzZWNvbmRNYXBWaXNpYmxlOiBbe1xyXG4gICAgekluZGV4OiA1LFxyXG4gICAgb3BhY2l0eTogMFxyXG4gIH0sIHtcclxuICAgIHpJbmRleDogNixcclxuICAgIG9wYWNpdHk6IDFcclxuICB9XVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aVNvdXJjZU1hcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcbiAgaXNSZUluaXRpbmc6IGJvb2xlYW5cclxuICBtdXRhYmxlU3RhdGVQcm9wc01hcDoge1twcm9wS2V5OiBzdHJpbmddOiBzdHJpbmdbXX0gPSB7fVxyXG4gIHVzZU1hcFdpZGdldElkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxyXG4gIF9fdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsICdyZXN0b3JlRGF0YScsXHJcbiAgICAgIGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS1tdWx0aW1hcGBdKVxyXG4gICAgaWYgKHJlc3RvcmVEYXRhKSB7XHJcbiAgICAgIGNvbnN0IG1vYmlsZVBhbmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuaWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tYm90dG9tLXBhbmVsYFxyXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5jbGFzc05hbWUgPSAndy0xMDAgaC0xMDAnXHJcbiAgICAgIHJlc3RvcmVEYXRhLm1vYmlsZVBhbmVsQ29udGFpbmVyID0gbW9iaWxlUGFuZWxDb250YWluZXJcclxuXHJcbiAgICAgIHRoaXMucmVJbml0V2lkZ2V0SW5zdGFuY2UocmVzdG9yZURhdGEpXHJcblxyXG4gICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgLCBudWxsKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbW9iaWxlUGFuZWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5pZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1ib3R0b20tcGFuZWxgXHJcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCdcclxuXHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgY3VycmVudE1hcEluZGV4OiAwLFxyXG4gICAgICAgIG11bHRpTWFwU3R5bGU6IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlLFxyXG4gICAgICAgIGZpcnN0TWFwRHNJZDogbnVsbCxcclxuICAgICAgICBzZWNvbmRNYXBEc0lkOiBudWxsLFxyXG4gICAgICAgIHVzZUFuaW1hdGlvbjogZmFsc2UsXHJcbiAgICAgICAgdXNlRGF0YVNvdXJjZXM6IG51bGwsXHJcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3SWQ6IG51bGwsXHJcbiAgICAgICAgbW9iaWxlUGFuZWxDb250ZW50OiBudWxsLFxyXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBtb2JpbGVQYW5lbENvbnRhaW5lcixcclxuICAgICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxyXG4gICAgICAgIC8vIHNob3dPbk1hcERhdGFzS2V5OiBudWxsXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwID0ge31cclxuICAgIHRoaXMudXNlTWFwV2lkZ2V0SWRzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQgPyBJbW11dGFibGUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkgOiBJbW11dGFibGUoW10pXHJcblxyXG4gICAgb2JzZXJ2ZVN0b3JlKHRoaXMub25QYWdlQ2hhbmdlLCBbJ2FwcFJ1bnRpbWVJbmZvJywgJ2N1cnJlbnRQYWdlSWQnXSlcclxuICB9XHJcblxyXG4gIG9uUGFnZUNoYW5nZSA9IChwcmVQYWdlSWQsIGN1cnJlbnRQYWdlSWQpID0+IHtcclxuICAgIC8vIGNsb3NlIGFjdGl2ZSB0b29sXHJcbiAgICBpZiAocHJlUGFnZUlkICYmIGN1cnJlbnRQYWdlSWQgJiYgcHJlUGFnZUlkICE9PSBjdXJyZW50UGFnZUlkKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGFjdGl2ZVRvb2xJbmZvOiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICAvLyBjbG9zZSBhY3RpdmUgdG9vbFxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVRvb2xJbmZvOiBudWxsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVJbml0V2lkZ2V0SW5zdGFuY2UgPSAocmVzdG9yZURhdGEpID0+IHtcclxuICAgIHRoaXMuc3RhdGUgPSByZXN0b3JlRGF0YSBhcyBTdGF0ZVxyXG4gICAgdGhpcy5pc1JlSW5pdGluZyA9IHRydWVcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmIChnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkubWFwV2lkZ2V0c0luZm8pIHtcclxuICAgICAgaWYgKCFnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkubWFwV2lkZ2V0c0luZm9bdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XHJcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLk1hcFdpZGdldEluZm9BZGRlZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgSW1tdXRhYmxlKHsgbWFwV2lkZ2V0SWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkIH0pKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX191bm1vdW50ID0gZmFsc2VcclxuXHJcbiAgICBpZiAodGhpcy5pc1JlSW5pdGluZykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgY29uc3QgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEXHJcbiAgICAgIGlmICghaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpbml0aWFsTWFwRGF0YVNvdXJjZUlEID09PSAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGZpcnN0TWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIGlmIChpbml0aWFsTWFwRGF0YVNvdXJjZUlEID09PSAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGZpcnN0TWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSB0cnVlXHJcbiAgICBjb25zdCB3aWRnZXRzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzXHJcblxyXG4gICAgaWYgKHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdICYmIHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdLnVzZURhdGFTb3VyY2VzID09PSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcykge1xyXG4gICAgICBjb25zdCByZXN0b3JlRGF0YSA9IHtcclxuICAgICAgICBjdXJyZW50TWFwSW5kZXg6IHRoaXMuc3RhdGUuY3VycmVudE1hcEluZGV4LFxyXG4gICAgICAgIG11bHRpTWFwU3R5bGU6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZSxcclxuICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkLFxyXG4gICAgICAgIHNlY29uZE1hcERzSWQ6IHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCxcclxuICAgICAgICB1c2VBbmltYXRpb246IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uLFxyXG4gICAgICAgIGN1cnJlbnRKaW11TWFwVmlld0lkOiB0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkXHJcbiAgICAgIH1cclxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgICAgYHJlc3RvcmVEYXRhLiR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLW11bHRpbWFwYCwgcmVzdG9yZURhdGEpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkge1xyXG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuTWFwV2lkZ2V0SW5mb1JlbW92ZWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldENoYW5nZWRTdGF0ZSA9IChmaXJzdE1hcERzSWQsIHNlY29uZE1hcERzSWQsIHVzZURhdGFTb3VyY2VzKTogU3RhdGUgPT4ge1xyXG4gICAgY29uc3QgY2hhbmdlZFN0YXRlID0ge30gYXMgU3RhdGVcclxuXHJcbiAgICBpZiAodXNlRGF0YVNvdXJjZXMgJiYgdXNlRGF0YVNvdXJjZXNbMF0pIHtcclxuICAgICAgY29uc3QgbmV3RGF0YVNvdXJjZUFyciA9IFtdXHJcbiAgICAgIGNvbnN0IHJlcGVhdERhdGFTb3VyY2VBcnIgPSBbXVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZURhdGFTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGZpcnN0TWFwRHNJZCAhPT0gdXNlRGF0YVNvdXJjZXNbaV0uZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgICBuZXdEYXRhU291cmNlQXJyLnB1c2godXNlRGF0YVNvdXJjZXNbaV0uZGF0YVNvdXJjZUlkKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXBlYXREYXRhU291cmNlQXJyLnB1c2godXNlRGF0YVNvdXJjZXNbaV0uZGF0YVNvdXJjZUlkKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAocmVwZWF0RGF0YVNvdXJjZUFyci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IGZpcnN0TWFwRHNJZFxyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclswXVxyXG4gICAgICB9IGVsc2UgaWYgKHJlcGVhdERhdGFTb3VyY2VBcnIubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgaWYgKG5ld0RhdGFTb3VyY2VBcnIuaW5jbHVkZXMoc2Vjb25kTWFwRHNJZCkpIHtcclxuICAgICAgICAgIG5ld0RhdGFTb3VyY2VBcnIuc3BsaWNlKG5ld0RhdGFTb3VyY2VBcnIuaW5kZXhPZihzZWNvbmRNYXBEc0lkKSwgMSlcclxuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzBdXHJcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IHNlY29uZE1hcERzSWRcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMF1cclxuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclsxXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IG51bGxcclxuICAgICAgY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgPSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgIT09IGZpcnN0TWFwRHNJZCkge1xyXG4gICAgICBpZiAoY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkKSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIWNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkKSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXHJcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgIT09IHNlY29uZE1hcERzSWQpIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuc2Vjb25kTWFwVmlzaWJsZVxyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAxXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjaGFuZ2VkU3RhdGVcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xyXG4gICAgaWYgKG5ld1Byb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAhPT0gcHJldlN0YXRlLnVzZURhdGFTb3VyY2VzKSB7XHJcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gTXVsdGlTb3VyY2VNYXAuZ2V0Q2hhbmdlZFN0YXRlKHByZXZTdGF0ZS5maXJzdE1hcERzSWQsIHByZXZTdGF0ZS5zZWNvbmRNYXBEc0lkLCBuZXdQcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpXHJcbiAgICAgIHJldHVybiBuZXdTdGF0ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuc3RhdGVQcm9wcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5zdGF0ZVByb3BzLmluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgY29uc3QgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMuaW5pdGlhbE1hcERhdGFTb3VyY2VJRFxyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgPT09IGluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgICAgIGlmIChmaXJzdE1hcEluc3RhbmNlKSB7XHJcbiAgICAgICAgICBmaXJzdE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xyXG4gICAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgICBpZiAoc2Vjb25kTWFwSW5zdGFuY2UpIHtcclxuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuZGlzcGF0Y2goYXBwQWN0aW9ucy53aWRnZXRTdGF0ZVByb3BDaGFuZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgICAgJ2luaXRpYWxNYXBEYXRhU291cmNlSUQnLCBudWxsKSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1JlSW5pdGluZykge1xyXG4gICAgICB0aGlzLmlzUmVJbml0aW5nID0gZmFsc2VcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEICE9PSBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlSW5pdGlhbE1hcERhdGFTb3VyY2VJRCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCwgdGhpcy5jb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgIT09IHByZXZQcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgdGhpcy5jb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VJbml0aWFsTWFwRGF0YVNvdXJjZUlEID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBjYWxsQmFjaz86IGFueSkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG5cclxuICAgICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIHRoaXMuc3RhcnRDaGFuZ2VJbml0aWFsTWFwQW5pbWF0aW9uKGNhbGxCYWNrKVxyXG4gICAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmaXJzdE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICYmIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICAgIHRoaXMuc3RhcnRDaGFuZ2VJbml0aWFsTWFwQW5pbWF0aW9uKGNhbGxCYWNrKVxyXG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbiA9IChjYWxsQmFjaz86IGFueSkgPT4ge1xyXG4gICAgY29uc3QgdGVtcFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSkgYXMgYW55XHJcblxyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxyXG4gICAgICBpZiAodmlld1BvaW50KSB7XHJcbiAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50ICYmIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHsgY2FsbEJhY2soKSB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxyXG5cclxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50ICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCgpXHJcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcclxuICAgICAgICBmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50ICYmIGZpcnN0TWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHZpZXdQb2ludClcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHRlbXBTdGF0ZSwgKCkgPT4geyBjYWxsQmFjaygpIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzd2l0Y2hNYXAgPSBhc3luYyAoKTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgIGlmICghdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgfHwgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoIDwgMikge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW1wU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlKSBhcyBhbnlcclxuICAgIHRlbXBTdGF0ZS51c2VBbmltYXRpb24gPSB0cnVlXHJcblxyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuY3VycmVudE1hcEluZGV4KSB7XHJcbiAgICAgIHRlbXBTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAxXHJcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXHJcblxyXG4gICAgICBjb25zdCB2aWV3UG9pbnQgPSBmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50ICYmIGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuICAgICAgaWYgKHZpZXdQb2ludCkge1xyXG4gICAgICAgIHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCAmJiBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB0ZW1wU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcblxyXG4gICAgICBjb25zdCB2aWV3UG9pbnQgPSBzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuICAgICAgaWYgKHZpZXdQb2ludCkge1xyXG4gICAgICAgIGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpcnN0TWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UpIHtcclxuICAgICAgY29uc3QgZmlyc3RWaWV3VHlwZSA9IGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1R5cGUoKVxyXG4gICAgICBjb25zdCBzZWNvbmRWaWV3VHlwZSA9IHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdUeXBlKClcclxuICAgICAgaWYgKGZpcnN0Vmlld1R5cGUgJiYgc2Vjb25kVmlld1R5cGUgJiYgKGZpcnN0Vmlld1R5cGUgIT09IHNlY29uZFZpZXdUeXBlKSkge1xyXG4gICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ub1RpbHQoMClcclxuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb1RvVGlsdCgwKVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBmaXJzdE1hcEluc3RhbmNlLmdvVG9UaWx0KDQ1KVxyXG4gICAgICAgICAgfSwgMzAwKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UuZ29Ub1RpbHQoNDUpXHJcbiAgICAgICAgICB9LCAzMDApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKClcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdXNlQW5pbWF0aW9uOiBmYWxzZVxyXG4gICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9LCA1MDApXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBwcm9wS2V5OiBzdHJpbmcsIHZhbHVlPzogYW55KSA9PiB7XHJcbiAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0pIHtcclxuICAgICAgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XSA9IFtkYXRhU291cmNlSWRdXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0uaW5jbHVkZXMoZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICAgIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0ucHVzaChkYXRhU291cmNlSWQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtdWx0aU1hcERzSWRzID0gW11cclxuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcblxyXG4gICAgaWYgKGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpKSB7XHJcbiAgICAgIG11bHRpTWFwRHNJZHMucHVzaCh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1R5cGUoKSkge1xyXG4gICAgICBtdWx0aU1hcERzSWRzLnB1c2godGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBpc0FsbE1hdGNoZWQgPSB0cnVlXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11bHRpTWFwRHNJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCF0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldLmluY2x1ZGVzKG11bHRpTWFwRHNJZHNbaV0pKSB7XHJcbiAgICAgICAgaXNBbGxNYXRjaGVkID0gZmFsc2VcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQWxsTWF0Y2hlZCkge1xyXG4gICAgICBkZWxldGUgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XVxyXG4gICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBwcm9wS2V5LCB2YWx1ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVZpZXdDaGFuZ2VkID0gKHNoYXJlVmlld1BvaW50OiBTaGFyZVZpZXdQb2ludCkgPT4ge1xyXG4gICAgaWYgKHNoYXJlVmlld1BvaW50LnZpZXdwb2ludCA9PT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxyXG4gICAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICAgIGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgIHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdHJpZ2dlck12ID0gdGhpcy5nZXRKaW11TWFwVmlld0J5RGF0YVNvdXJjZUlkKHNoYXJlVmlld1BvaW50LmRhdGFTb3VyY2VJZClcclxuICAgIGlmICh0cmlnZ2VyTXY/LmlzQWN0aXZlKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAhPT0gc2hhcmVWaWV3UG9pbnQuZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgICBmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHNoYXJlVmlld1BvaW50LnZpZXdwb2ludClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCAmJiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgIT09IHNoYXJlVmlld1BvaW50LmRhdGFTb3VyY2VJZCkge1xyXG4gICAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQoc2hhcmVWaWV3UG9pbnQudmlld3BvaW50KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVFeHRlbnRDaGFuZ2VkID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBleHRlbnRNZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50VmlzaWJsZURzSWQgPSB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpXHJcbiAgICBpZiAoY3VycmVudFZpc2libGVEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgTWVzc2FnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5wdWJsaXNoTWVzc2FnZShleHRlbnRNZXNzYWdlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTWFwTG9hZGVkID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzKSA9PiB7XHJcbiAgICB0aGlzLmZvcmNlVXBkYXRlKClcclxuICB9XHJcblxyXG4gIGhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0SmltdU1hcFZpZXdCeURhdGFTb3VyY2VJZCAoZHNJZDogc3RyaW5nKTogSmltdU1hcFZpZXcge1xyXG4gICAgY29uc3QgamltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke2RzSWR9YFxyXG4gICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG4gICAgcmV0dXJuIGppbXVNYXBWaWV3XHJcbiAgfVxyXG5cclxuICBjb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuZ2V0SmltdU1hcFZpZXdCeURhdGFTb3VyY2VJZChudWxsKVxyXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCB0cnVlKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFsbERhdGFzb3VyY2VJZHMgPSBbXVxyXG4gICAgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgJiYgYWxsRGF0YXNvdXJjZUlkcy5wdXNoKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkKVxyXG4gICAgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIGFsbERhdGFzb3VyY2VJZHMucHVzaCh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQpXHJcbiAgICBjb25zdCBjdXJyZW50RGF0YVNvdXJjZUlkID0gdGhpcy5nZXRDdXJyZW50VmlzaWJsZURzSWQoKVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsRGF0YXNvdXJjZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuZ2V0SmltdU1hcFZpZXdCeURhdGFTb3VyY2VJZChhbGxEYXRhc291cmNlSWRzW2ldKVxyXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgICBpZiAoYWxsRGF0YXNvdXJjZUlkc1tpXSA9PT0gY3VycmVudERhdGFTb3VyY2VJZCkge1xyXG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldywgdHJ1ZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldywgZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmVKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBpc0FjdGl2ZTogYm9vbGVhbikge1xyXG4gICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBjdXJyZW50SmltdU1hcFZpZXdJZDogamltdU1hcFZpZXcuaWRcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgIGlmIChmaXJzdE1hcEluc3RhbmNlLmdldE1hcExvYWRTdGF0dXMoKSAhPT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nICYmIHNlY29uZE1hcEluc3RhbmNlLmdldE1hcExvYWRTdGF0dXMoKSAhPT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50VmlzaWJsZURzSWQgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkgPT09IDEpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZSkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uVmlld0dyb3VwQ3JlYXRlKHZpZXdHcm91cClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZU1vYmlsZVBhbmVsQ29udGVudENoYW5nZSA9IChtb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbW9iaWxlUGFuZWxDb250ZW50OiBtb2JpbGVQYW5lbENvbnRlbnRcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZSA9IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVUb29sSW5mbzogYWN0aXZlVG9vbEluZm9cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBoYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlID0gKHNob3dPbk1hcERhdGFzS2V5OiBzdHJpbmdbXSkgPT4ge1xyXG4gIC8vICB0aGlzLnNldFN0YXRlKHtcclxuICAvLyAgICBzaG93T25NYXBEYXRhc0tleTogc2hvd09uTWFwRGF0YXNLZXlcclxuICAvLyAgfSlcclxuICAvLyB9XHJcblxyXG4gIGdldExheW91dENvbmZpZyA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCcpIHtcclxuICAgICAgcmV0dXJuIG1vYmlsZUxheW91dEpzb25zWzBdXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmxheW91dEluZGV4ID8gcGNMYXlvdXRKc29uc1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcubGF5b3V0SW5kZXhdIDogcGNMYXlvdXRKc29uc1swXVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuID0gKCkgPT4ge1xyXG4gICAgY29uc3Qgc2hvd09uTWFwRGF0YXMgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcz8uc2hvd09uTWFwRGF0YXNcclxuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhzaG93T25NYXBEYXRhcyB8fCB7fSkuc29tZShlbnRyeSA9PiB7XHJcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGppbXVNYXBWaWV3SWQgd2hpbGUgZ2VuZXJhdGluZyB0aGUgYWN0aW9uIGRhdGEgaWYgdGhlIG1hcCB3aWRnZXQgaGFzbid0IGJlZW4gbG9hZGVkIGluIHRoZSBhbm90aGVyIHBhZ2UvdmlldyxcclxuICAgICAgLy8gdXNlIGEgZGVmYXVsdCBqaW11TWFwVmlld0lkIHRvIHNob3cgZGF0YS5cclxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBlbnRyeVsxXS5qaW11TWFwVmlld0lkXHJcbiAgICAgIGlmICghamltdU1hcFZpZXdJZCAmJiBlbnRyeVsxXS5tYXBXaWRnZXRJZCA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpIHtcclxuICAgICAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvOiBJbW11dGFibGVPYmplY3Q8e1tqaW11TWFwVmlld0lkOiBzdHJpbmddOiBKaW11TWFwVmlld0luZm99PiA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5qaW11TWFwVmlld3NJbmZvXHJcbiAgICAgICAgamltdU1hcFZpZXdJZCA9IE9iamVjdC5rZXlzKGppbXVNYXBWaWV3c0luZm8gfHwge30pLmZpbmQodmlld0lkID0+IGppbXVNYXBWaWV3c0luZm9bdmlld0lkXS5tYXBXaWRnZXRJZCA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIChqaW11TWFwVmlld0lkID09PSB0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkICYmIGVudHJ5WzFdLnR5cGUgPT09IFNob3dPbk1hcERhdGFUeXBlLkRhdGFBY3Rpb24pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcclxuICAgICAgICBtYXBXaWRnZXRJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgICAgbWFwV2lkZ2V0SGVpZ2h0OiB0aGlzLnByb3BzLndpZGdldEhlaWdodCxcclxuICAgICAgICBpc1Nob3dNYXBTd2l0Y2hCdG46IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+IDEgJiYgdGhpcy5pc1Nob3dNYXBTd2l0Y2hCdG4oKSxcclxuICAgICAgICBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG46IHRoaXMuaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuKCksXHJcbiAgICAgICAgZGF0YVNvdXJjZUlkczogW3RoaXMuc3RhdGUuZmlyc3RNYXBEc0lkLCB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWRdLFxyXG4gICAgICAgIGFjdGl2ZURhdGFTb3VyY2VJZDogdGhpcy5nZXRDdXJyZW50VmlzaWJsZURzSWQoKSxcclxuICAgICAgICBzd2l0Y2hNYXA6IHRoaXMuc3dpdGNoTWFwLFxyXG4gICAgICAgIGZ1bGxTY3JlZW5NYXA6IHRoaXMucHJvcHMuZnVsbFNjcmVlbk1hcCxcclxuICAgICAgICBpc0Z1bGxTY3JlZW46IHRoaXMucHJvcHMuaXNGdWxsU2NyZWVuLFxyXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyOiB0aGlzLnN0YXRlLm1vYmlsZVBhbmVsQ29udGFpbmVyLFxyXG4gICAgICAgIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiB0aGlzLmhhbmRsZU1vYmlsZVBhbmVsQ29udGVudENoYW5nZSxcclxuICAgICAgICBpbml0aWFsTWFwU3RhdGU6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLFxyXG4gICAgICAgIHRoZW1lOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy50aGVtZVxyXG4gICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgeyF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCAmJiA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgbXVsdGktbWFwLWNvbnRhaW5lcicgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAgbWFwMScsIHtcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSxcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5KSxcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlJzogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyLW5vYW5pbWF0ZSc6ICEodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkpXHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0uekluZGV4IH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiA8TWFwQmFzZVxyXG4gICAgICAgICAgICAgIHJlZj0nZmlyc3RNYXBJbnN0YW5jZSdcclxuICAgICAgICAgICAgICBvblZpZXdDaGFuZ2VkPXt0aGlzLmhhbmRsZVZpZXdDaGFuZ2VkfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzfSBvbk1hcExvYWRlZD17dGhpcy5oYW5kbGVNYXBMb2FkZWR9XHJcbiAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgIG9uRXh0ZW50Q2hhbmdlZD17KGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB7IHRoaXMuaGFuZGxlRXh0ZW50Q2hhbmdlZChkYXRhU291cmNlSWQsIG1lc3NhZ2UpIH19XHJcbiAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMuaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkfVxyXG4gICAgICAgICAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ9e3RoaXMuaGFuZGxlU2hvd09uTWFwRGF0YUNoYW5nZX1cclxuICAgICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XHJcbiAgICAgICAgICAgICAgZGF0YVNvdXJjZUlkPXt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZH1cclxuICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxyXG4gICAgICAgICAgICAgIGlzTWFwSW5WaXNpYmxlQXJlYT17dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgPC9NYXBCYXNlPn1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwIG1hcDInLCB7XHJcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSksXHJcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZSc6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5LFxyXG4gICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci1ub2FuaW1hdGUnOiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5KVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHpJbmRleDogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLnpJbmRleCB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIDxNYXBCYXNlXHJcbiAgICAgICAgICAgICAgcmVmPSdzZWNvbmRNYXBJbnN0YW5jZSdcclxuICAgICAgICAgICAgICBvblZpZXdDaGFuZ2VkPXt0aGlzLmhhbmRsZVZpZXdDaGFuZ2VkfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzfSBvbk1hcExvYWRlZD17dGhpcy5oYW5kbGVNYXBMb2FkZWR9XHJcbiAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgIG9uRXh0ZW50Q2hhbmdlZD17KGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB7IHRoaXMuaGFuZGxlRXh0ZW50Q2hhbmdlZChkYXRhU291cmNlSWQsIG1lc3NhZ2UpIH19XHJcbiAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMuaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkfVxyXG4gICAgICAgICAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ9e3RoaXMuaGFuZGxlU2hvd09uTWFwRGF0YUNoYW5nZX1cclxuICAgICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XHJcbiAgICAgICAgICAgICAgZGF0YVNvdXJjZUlkPXt0aGlzLnN0YXRlLnNlY29uZE1hcERzSWR9XHJcbiAgICAgICAgICAgICAgd2lkdGhCcmVha3BvaW50PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludH1cclxuICAgICAgICAgICAgICBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDwvTWFwQmFzZT59XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAge3RoaXMucHJvcHMuaXNEZWZhdWx0TWFwICYmIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBkZWZhdWx0LW1hcC1jb250YWluZXInIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwIG11bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZSBkZWZhdWx0LW1hcCcpfVxyXG4gICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiA2IH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxNYXBCYXNlXHJcbiAgICAgICAgICAgICAgcmVmPSdmaXJzdE1hcEluc3RhbmNlJyBpc0RlZmF1bHRNYXA9e3RoaXMucHJvcHMuaXNEZWZhdWx0TWFwfVxyXG4gICAgICAgICAgICAgIG9uVmlld0NoYW5nZWQ9e3RoaXMuaGFuZGxlVmlld0NoYW5nZWR9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cclxuICAgICAgICAgICAgICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD17dGhpcy5oYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWR9IGRhdGFTb3VyY2VJZD17bnVsbH1cclxuICAgICAgICAgICAgICBvbkV4dGVudENoYW5nZWQ9eyhkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4geyB0aGlzLmhhbmRsZUV4dGVudENoYW5nZWQoZGF0YVNvdXJjZUlkLCBtZXNzYWdlKSB9fVxyXG4gICAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLmhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgICAvLyBvblNob3dPbk1hcERhdGFDaGFuZ2VkPXt0aGlzLmhhbmRsZVNob3dPbk1hcERhdGFDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxyXG4gICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICBkZWZhdWx0TWFwSW5mbz17dGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mb31cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7dGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCAmJiA8TWFwRml4ZWRMYXlvdXRcclxuICAgICAgICAgIGppbXVNYXBWaWV3PXtNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkKX1cclxuICAgICAgICAgIGFwcE1vZGU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmFwcE1vZGV9IGxheW91dHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmxheW91dHN9XHJcbiAgICAgICAgICBMYXlvdXRFbnRyeT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5MYXlvdXRFbnRyeX1cclxuICAgICAgICAgIHdpZGdldE1hbmlmZXN0TmFtZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubWFuaWZlc3QubmFtZX1cclxuICAgICAgICA+XHJcbiAgICAgICAgPC9NYXBGaXhlZExheW91dD59XHJcbiAgICAgICAge3RoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQgJiYgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQodGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCkgJiZcclxuICAgICAgICAgIDxMYXlvdXRcclxuICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfSBpc01vYmlsZT17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnfVxyXG4gICAgICAgICAgICBqaW11TWFwVmlldz17TWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQodGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCl9XHJcbiAgICAgICAgICAgIGFwcE1vZGU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmFwcE1vZGV9IGxheW91dHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmxheW91dHN9IGludGw9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmludGx9XHJcbiAgICAgICAgICAgIExheW91dEVudHJ5PXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLkxheW91dEVudHJ5fVxyXG4gICAgICAgICAgICBsYXlvdXRDb25maWc9e3RoaXMuZ2V0TGF5b3V0Q29uZmlnKCl9IHRvb2xDb25maWc9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy50b29sQ29uaWZnID8gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLnRvb2xDb25pZmcgOiB7fX1cclxuICAgICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMuc3RhdGUuYWN0aXZlVG9vbEluZm99IG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMuaGFuZGxlQWN0aXZlVG9vbEluZm9DaGFuZ2V9IHRoZW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy50aGVtZX1cclxuICAgICAgICAgICAgd2lkZ2V0TWFuaWZlc3ROYW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tYW5pZmVzdC5uYW1lfSB3aWRnZXRIZWlnaHQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJyA/IG51bGwgOiB0aGlzLnByb3BzLndpZGdldEhlaWdodH1cclxuICAgICAgICAgIC8+fVxyXG4gICAgICAgIDxKaW11TWFwVmlld0NvbXBvbmVudCB1c2VNYXBXaWRnZXRJZD17dGhpcy51c2VNYXBXaWRnZXRJZHM/LlswXX0gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfSAvPlxyXG4gICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZUhlaWdodCBoYW5kbGVXaWR0aCBvblJlc2l6ZT17dGhpcy5vblJlc2l6ZX0gLz5cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuUHJvdmlkZXI+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBqc3gsIGNsYXNzTmFtZXMsIEludGxTaGFwZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgVUlDb21wb25lbnQsIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgTGF5b3V0SnNvbiwgVG9vbEpzb24gfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBUb29sTW9kdWxlcyBmcm9tICcuLi90b29sLW1vZHVsZXMnXHJcblxyXG5pbnRlcmZhY2UgVG9vbFNoZWxsUHJvcHMgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXHJcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xyXG4gIHRvb2xOYW1lOiBzdHJpbmdcclxuICBpc01vYmlsZT86IGJvb2xlYW5cclxuICBpc0hpZGRlbj86IGJvb2xlYW5cclxuICBpbnRsPzogSW50bFNoYXBlXHJcbiAgaXNMYXN0RWxlbWVudD86IGJvb2xlYW5cclxuXHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nXHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVG9vbFNoZWxsIGV4dGVuZHMgVUlDb21wb25lbnQ8VG9vbFNoZWxsUHJvcHMsIHVua25vd24+IHtcclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3QgVG9vbENsYXNzID0gVG9vbE1vZHVsZXNbdGhpcy5wcm9wcy50b29sTmFtZV1cclxuICAgIGlmIChUb29sQ2xhc3MpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXModGhpcy5wcm9wcy5jbGFzc05hbWUsICdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wtc2hlbGwgZGl2aXRlbScsICh0aGlzLnByb3BzLmxheW91dENvbmZpZy5lbGVtZW50c1t0aGlzLnByb3BzLnRvb2xOYW1lXSBhcyBUb29sSnNvbikuY2xhc3NOYW1lLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgJ2V4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCc6IHRoaXMucHJvcHMuaXNIaWRkZW4sXHJcbiAgICAgICAgICAgICAgJ21iLTAgbXItMCc6IHRoaXMucHJvcHMuaXNMYXN0RWxlbWVudCxcclxuICAgICAgICAgICAgICAncm91bmRlZC1waWxsJzogWydDb21wYXNzJ10uaW5jbHVkZXModGhpcy5wcm9wcy50b29sTmFtZSlcclxuICAgICAgICAgICAgfSl9IHN0eWxlPXsodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV0gYXMgVG9vbEpzb24pLnN0eWxlfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxUb29sQ2xhc3NcclxuICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgIHJlZj0nYmFzZVRvb2xJbnN0YW5jZScgdG9vbEpzb249e3RoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMudG9vbE5hbWVdfSB0b29sTmFtZT17dGhpcy5wcm9wcy50b29sTmFtZX0gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9XHJcbiAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICBpbnRsPXt0aGlzLnByb3BzLmludGx9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgICByZXR1cm4gPHNwYW4gLz5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIHBvbGlzaGVkLCBjbGFzc05hbWVzLCBSZWFjdERPTSwgRXJyb3JCb3VuZGFyeSwgUmVhY3RSZXNpemVEZXRlY3RvciwgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBQb3BwZXIsIE1vYmlsZVBhbmVsTWFuYWdlciwgTW9kaWZpZXJzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgVUlDb21wb25lbnQsIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgVG9vbEpzb24gfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBTY3JvbGxDb250YWluZXIgZnJvbSAnLi9zY3JvbGwtY29udGFpbmVyJ1xyXG5pbXBvcnQgUGFuZWxTaGVsbCBmcm9tICcuL3BhbmVsLXNoZWxsJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZVRvb2xJbmZvIHtcclxuICBhY3RpdmVUb29sTmFtZTogc3RyaW5nXHJcbiAgYWN0aXZlVG9vbFRpdGxlOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCYXNlVG9vbFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIHRvb2xKc29uOiBUb29sSnNvblxyXG4gIHRvb2xOYW1lOiBzdHJpbmdcclxuICBpc01vYmlsZT86IGJvb2xlYW5cclxuICBpbnRsPzogSW50bFNoYXBlXHJcblxyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJY29uVHlwZSB7XHJcbiAgaWNvbjogUmVhY3QuQ29tcG9uZW50Q2xhc3M8UmVhY3QuU1ZHQXR0cmlidXRlczxTVkdFbGVtZW50Pj5cclxuICBvbkljb25DbGljaz86IChldnQ/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pID0+IHZvaWRcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdEljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy93aWRnZXRzLnN2ZycpXHJcbmNvbnN0IGNsb3NlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9jbG9zZS0xMi5zdmcnKVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VUb29sPFAgZXh0ZW5kcyBCYXNlVG9vbFByb3BzLCBTIGV4dGVuZHMgdW5rbm93bj4gZXh0ZW5kcyBVSUNvbXBvbmVudDxQLCBTPiB7XHJcbiAgaWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICB0b29sTmFtZTogc3RyaW5nID0gbnVsbFxyXG4gIGlzQ29udGFpbmVkVG9Nb2JpbGVQYW5lbCA9IGZhbHNlXHJcbiAgLy8gdGhpcyBwYXJhbSBpcyB1c2VkIHRvIHVwZGF0ZSBwb3AgcG9zaXRpb24gd2hlbiBwYyBjb250ZW50IGhhcyBjaGFuZ2VkXHJcbiAgZ2VuZXJhdGlvbj86IG51bWJlciA9IDBcclxuICBtb2RpZmllcnM6IE1vZGlmaWVyc1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5jb250YWluZXJcclxuICAgIGlmIChNb2JpbGVQYW5lbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGVja0RvbUlzQ29udGFpbmVkKG1hcENvbnRhaW5lcikpIHtcclxuICAgICAgdGhpcy5pc0NvbnRhaW5lZFRvTW9iaWxlUGFuZWwgPSB0cnVlXHJcbiAgICB9XHJcbiAgICB0aGlzLm1vZGlmaWVycyA9IFt7XHJcbiAgICAgIG5hbWU6ICdmbGlwJyxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIHBhZGRpbmc6IDBcclxuICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIGJvdW5kYXJ5OiBtYXBDb250YWluZXJcclxuICAgICAgfVxyXG4gICAgfV1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2Nzc1N0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YWZ0ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTZlNmU7XHJcbiAgICAgICAgd2lkdGg6IDIwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xyXG4gICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLDAsMCwwLjMpO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAuZXhibWFwLXVpLXRvb2wtaWNvbiB7XHJcbiAgICAgICAgZmlsbDogYmxhY2s7XHJcbiAgICAgICAgbGVmdDogOHB4O1xyXG4gICAgICAgIHRvcDogOHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC11aS1leHBhbmQtY29udGVudCB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAyNTBtcyBlYXNlLWluLW91dCwgbWFyZ2luIDI1MG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDEwcHg7XHJcbiAgICAgICAgbWluLXdpZHRoOiAxMHB4O1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogJHtwb2xpc2hlZC5yZW0oMjApfTtcclxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xyXG5cclxuICAgICAgICAuZXhibWFwLXVpLWV4cGFuZC1jb250ZW50LWhlYWRlciB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnBhbmVsLXRpdGxlIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTYpfTtcclxuICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtYm90dG9tIHtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMC4yNXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLXBsYWNlbWVudC1sZWZ0IHtcclxuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjI1cmVtICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LXJpZ2h0IHtcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuMjVyZW0gIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtdG9wIHtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC4yNXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjpiZWZvcmUge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTEwLDExMCwxMTAsMC4zKTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU2ZTZlO1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBhbmltYXRpb246IGxvb3BpbmctcHJvZ3Jlc3NzLWJhci1hbmkgMTUwMG1zIGxpbmVhciBpbmZpbml0ZTtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9ICovXHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBhYnN0cmFjdCBnZXRUaXRsZSAoKTogc3RyaW5nXHJcblxyXG4gIGFic3RyYWN0IGdldEljb24gKCk6IEljb25UeXBlXHJcblxyXG4gIGFic3RyYWN0IGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudFxyXG5cclxuICBvblNob3dQYW5lbCAoKSB7fVxyXG5cclxuICBvbkNsb3NlUGFuZWwgKCkge31cclxuXHJcbiAgZGVzdHJveSAoKSB7fVxyXG5cclxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25JY29uQ2xpY2sgKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8YW55Pikge1xyXG4gICAgY29uc3Qgb25JY29uQ2xpY2sgPSB0aGlzLmdldEljb24oKSAmJiB0aGlzLmdldEljb24oKS5vbkljb25DbGlja1xyXG4gICAgaWYgKG9uSWNvbkNsaWNrKSB7XHJcbiAgICAgIG9uSWNvbkNsaWNrKGUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLmdldEV4cGFuZFBhbmVsKCkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8pIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgPT09IHRoaXMudG9vbE5hbWUpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xyXG4gICAgICAgICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMudG9vbE5hbWUsXHJcbiAgICAgICAgICBhY3RpdmVUb29sVGl0bGU6IHRoaXMuZ2V0VGl0bGUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5vblNob3dQYW5lbCgpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSh7XHJcbiAgICAgICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMudG9vbE5hbWUsXHJcbiAgICAgICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLmdldFRpdGxlKClcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5vblNob3dQYW5lbCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IF9nZXRDb250ZW50ID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5fY3NzU3R5bGUoKX0gY2xhc3NOYW1lPSdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wtcGFuZWwnPlxyXG4gICAgICAgICAgPEVycm9yQm91bmRhcnk+XHJcbiAgICAgICAgICAgIHt0aGlzLmdldEV4cGFuZFBhbmVsKCl9XHJcbiAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlck1vYmlsZVRvb2woKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJQQ1Rvb2woKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9pbml0SWNvbkNvbnRhaW5lciAocmVmOiBIVE1MRWxlbWVudCkge1xyXG4gICAgaWYgKHJlZiAmJiAhdGhpcy5pY29uQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuaWNvbkNvbnRhaW5lciA9IHJlZlxyXG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGhlaWdodFxyXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9yZW5kZXJQQ1Rvb2wgKCkge1xyXG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKClcclxuICAgIGlmICghdG9vbEljb24pIHtcclxuICAgICAgdG9vbEljb24gPSB7XHJcbiAgICAgICAgaWNvbjogZGVmYXVsdEljb24sXHJcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XHJcbiAgICAgIH0gYXMgSWNvblR5cGVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleHBhbmRQYW5lbCA9IHRoaXMuZ2V0RXhwYW5kUGFuZWwoKVxyXG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IHRoaXMuZ2VuZXJhdGlvbiArIDFcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpIGV4Ym1hcC11aS10b29sJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9IHN0eWxlPXt7IHdpZHRoOiAnMzJweCcsIGhlaWdodDogJzMycHgnIH19PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIHN0eWxlPXt7fX0gcmVmPXtyZWYgPT4geyB0aGlzLl9pbml0SWNvbkNvbnRhaW5lcihyZWYpIH19IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcclxuICAgICAgICAgICAgJ2V4Ym1hcC11aS10b29sLWljb24tc2VsZWN0ZWQnOiB0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbFxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50b29sSnNvbi5pc1Nob3dJY29uVGl0bGUgPyB0aGlzLmdldFRpdGxlKCkgOiAnJ30gb25DbGljaz17ZSA9PiB7IHRoaXMuX29uSWNvbkNsaWNrKGUpIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3Rvb2xJY29uLmljb259IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge3RoaXMuaWNvbkNvbnRhaW5lciAmJiAodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpICYmIDxQYW5lbFNoZWxsIG9uRGVzdHJveWVkPXsoKSA9PiB7IHRoaXMub25DbG9zZVBhbmVsKCkgfX0+XHJcbiAgICAgICAgICA8UG9wcGVyXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nZXhibWFwLXVpLXBvcHBlcicgcmVmZXJlbmNlPXt0aGlzLmljb25Db250YWluZXJ9IG9wZW49eyEhKHRoaXMudG9vbE5hbWUgPT09IGFjdGl2ZVRvb2xOYW1lICYmIGV4cGFuZFBhbmVsKX0gcGxhY2VtZW50PXt0aGlzLnByb3BzLnRvb2xKc29uLnBhbmVsUGxhY2VtZW50fVxyXG4gICAgICAgICAgICBtb2RpZmllcnM9e3RoaXMubW9kaWZpZXJzfSB2ZXJzaW9uPXt0aGlzLmdlbmVyYXRpb259IG9mZnNldD17WzAsIDRdfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgICAgIHsoeyBtYXBXaWRnZXRIZWlnaHQgfSkgPT4gKDxkaXYgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfSBjbGFzc05hbWU9e3RoaXMuZ2V0RXhwYW5kUGFuZWxQbGFjZW1lbnRDbGFzc05hbWUoKX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpLWV4cGFuZC1jb250ZW50Jz5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGQtZmxleCBleGJtYXAtdWktZXhwYW5kLWNvbnRlbnQtaGVhZGVyJz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtdGl0bGUgdGV4dC10cnVuY2F0ZScgc3R5bGU9e3sgbWF4V2lkdGg6ICcyMTBweCcgfX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRUaXRsZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4geyB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbCkgfX0gc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MjB9IGhlaWdodD17MjB9IGljb249e2Nsb3NlSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWF4SGVpZ2h0OiBgJHttYXBXaWRnZXRIZWlnaHQgLSA1NX1weGAsIG92ZXJmbG93WTogdGhpcy50b29sTmFtZSAhPT0gJ1NlYXJjaCcgPyAnYXV0bycgOiAnaW5oZXJpdCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kUGFuZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPlxyXG4gICAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj4pfVxyXG4gICAgICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgIDwvUG9wcGVyPlxyXG4gICAgICAgIDwvUGFuZWxTaGVsbD59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVG9nZ2xlTW9iaWxlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3JlbmRlck1vYmlsZVRvb2wgKCkge1xyXG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKClcclxuICAgIGlmICghdG9vbEljb24pIHtcclxuICAgICAgdG9vbEljb24gPSB7XHJcbiAgICAgICAgaWNvbjogZGVmYXVsdEljb24sXHJcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XHJcbiAgICAgIH0gYXMgSWNvblR5cGVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleHBhbmRQYW5lbCA9IHRoaXMuZ2V0RXhwYW5kUGFuZWwoKVxyXG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IG1vYmlsZVBhbmVsQ29udGFpbmVyIH0pID0+IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wnIGNzcz17dGhpcy5fY3NzU3R5bGUoKX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBzdHlsZT17e319IHJlZj17cmVmID0+IHsgdGhpcy5pY29uQ29udGFpbmVyID0gcmVmIH19IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcclxuICAgICAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWxcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50b29sSnNvbi5pc1Nob3dJY29uVGl0bGUgPyB0aGlzLmdldFRpdGxlKCkgOiAnJ30gb25DbGljaz17ZSA9PiB7IHRoaXMuX29uSWNvbkNsaWNrKGUpIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dG9vbEljb24uaWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHt0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbCAmJlxyXG4gICAgICAgICAgICBSZWFjdERPTS5jcmVhdGVQb3J0YWwoPFBhbmVsU2hlbGwgb25EZXN0cm95ZWQ9eygpID0+IHsgdGhpcy5vbkNsb3NlUGFuZWwoKSB9fT48ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9PlxyXG4gICAgICAgICAgICAgIDxTY3JvbGxDb250YWluZXIgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XHJcbiAgICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwYW5kUGFuZWwoKX1cclxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICA8L1Njcm9sbENvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUGFuZWxTaGVsbD4sIG1vYmlsZVBhbmVsQ29udGFpbmVyKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRFeHBhbmRQYW5lbFBsYWNlbWVudENsYXNzTmFtZSAoKSB7XHJcbiAgICBpZiAoIXRoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBgZXhwYW5kLXBsYWNlbWVudC0ke3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQuc3BsaXQoJy0nKVswXX1gXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRlbnQoKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIGNsYXNzTmFtZXMsIFJlYWN0UmVzaXplRGV0ZWN0b3IsIEludGxTaGFwZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgVUlDb21wb25lbnQsIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgTGF5b3V0SnNvbiwgR3JvdXBKc29uLCBIaWRkZW5FbGVtZW50TmFtZXMsIFRvb2xKc29uIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQgQmFzZVRvb2xTaGVsbCBmcm9tICcuL2Jhc2UtdG9vbC1zaGVsbCdcclxuaW1wb3J0IHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UtdG9vbCdcclxuaW1wb3J0IFRvb2xNb2R1bGVzIGZyb20gJy4uL3Rvb2wtbW9kdWxlcydcclxuaW1wb3J0IHsgTW9iaWxlUGFuZWwgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcblxyXG5pbnRlcmZhY2UgR3JvdXBQcm9wcyBleHRlbmRzIFVJQ29tcG9uZW50UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBsYXlvdXRDb25maWc6IExheW91dEpzb25cclxuICB0b29sQ29uZmlnOiBUb29sQ29uZmlnXHJcbiAgZ3JvdXBOYW1lOiBzdHJpbmdcclxuICBjbGFzc05hbWU6IHN0cmluZ1xyXG4gIHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzXHJcbiAgaXNSZXNwb25zaXZlPzogYm9vbGVhblxyXG4gIGlzTW9iaWxlPzogYm9vbGVhblxyXG4gIGlzTWFpbkdyb3VwPzogYm9vbGVhblxyXG4gIGhpZGRlbkVsZW1lbnROYW1lcz86IEhpZGRlbkVsZW1lbnROYW1lc1xyXG4gIGlzSGlkZGVuPzogYm9vbGVhblxyXG4gIGlzVGh1bWJNYXA/OiBib29sZWFuXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgb25TZXRIaWRkZW5FbGVtZW50TmFtZXM/OiAoaGlkZGVuRWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXMpID0+IHZvaWRcclxufVxyXG5cclxuaW50ZXJmYWNlIEdyb3VwU3RhdGVzIHtcclxuICBib3R0b21QYW5lbEhlaWdodD86IG51bWJlclxyXG4gIHdpZGdldFdpZHRoPzogbnVtYmVyXHJcbiAgd2lkZ2V0SGVpZ2h0PzogbnVtYmVyXHJcbiAgaXNUaHVtYk1hcD86IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JvdXAgZXh0ZW5kcyBVSUNvbXBvbmVudDxHcm91cFByb3BzLCBHcm91cFN0YXRlcz4ge1xyXG4gIG1vdmVZID0gMFxyXG4gIHN0YXJ0WSA9IDBcclxuICBzbGlkaW5nID0gZmFsc2VcclxuICBzdGFydERyYWcgPSBmYWxzZVxyXG4gIGN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IDBcclxuICBib3R0b21QYW5lbENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuICB0aHVtYk1hcEVsZW1lbnROYW1lcyA9IFsnRnVsbFNjcmVlbicsICdab29tJywgJ01hcFN3aXRjaCddXHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWcubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXSAmJiB0aGlzLnByb3BzLmxheW91dENvbmZpZy5sYXlvdXRbdGhpcy5wcm9wcy5ncm91cE5hbWVdLnBvc2l0aW9uXHJcbiAgICBjb25zdCBkaXJlY3Rpb24gPSAodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy5ncm91cE5hbWVdIGFzIEdyb3VwSnNvbikuZGlyZWN0aW9uXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgcG9zaXRpb246ICR7cG9zaXRpb24gPyAnYWJzb2x1dGUnIDogJ3JlbGF0aXZlJ307XHJcbiAgICAgIHRvcDogJHtwb3NpdGlvbiA/IHBvc2l0aW9uLnRvcCA6IG51bGx9cHg7XHJcbiAgICAgIGJvdHRvbTogJHtwb3NpdGlvbiA/IHBvc2l0aW9uLmJvdHRvbSA6IG51bGx9cHg7XHJcbiAgICAgIGxlZnQ6ICR7cG9zaXRpb24gPyBwb3NpdGlvbi5sZWZ0IDogbnVsbH1weDtcclxuICAgICAgcmlnaHQ6ICR7cG9zaXRpb24gPyBwb3NpdGlvbi5yaWdodCA6IG51bGx9cHg7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGZsZXgtZmxvdzogJHtkaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcgPyAnY29sdW1uJyA6ICdyb3cnfTtcclxuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcblxyXG4gICAgICA+IC5leGJtYXAtdWkgKyAuZXhibWFwLXVpLCA+IC5leGJtYXAtdWkgKyBzcGFuIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAke2RpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICcxMHB4JyA6IDB9O1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAke2RpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJzEwcHgnIDogMH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtdWktZ3JvdXAtZXhwYW5kLWljb24ge1xyXG4gICAgICAgIGZpbGw6IGJsYWNrO1xyXG4gICAgICAgIGxlZnQ6IDhweDtcclxuICAgICAgICB0b3A6IDhweDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsIHtcclxuICAgICAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMykgMHB4IDBweCAycHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDBweCAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsLXRyYW5zaXRpb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjNzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC10b3VjaC1jb250YWluZXIge1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAzMXB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC1iYXIge1xyXG4gICAgICAgIHdpZHRoOiAzNnB4O1xyXG4gICAgICAgIGhlaWdodDogNHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MzQzNDM7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYm90dG9tUGFuZWxIZWlnaHQ6IDAsXHJcbiAgICAgIGlzVGh1bWJNYXA6ICEhdGhpcy5wcm9wcy5pc01vYmlsZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEdyb3VwUHJvcHMsIHByZXZTdGF0ZTogR3JvdXBTdGF0ZXMpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICE9PSBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8pIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmICFwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLmlzTWFpbkdyb3VwKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBib3R0b21QYW5lbEhlaWdodDogMTUwXHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID0gMTUwXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLmlzTWFpbkdyb3VwKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBib3R0b21QYW5lbEhlaWdodDogMFxyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IDBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0hpZGRlbkVsZW1lbnQgPSAoZWxlbWVudE5hbWUpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbkVsZW1lbnROYW1lcykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXMuaW5jbHVkZXMoZWxlbWVudE5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGFydCA9IChldmVudCwgdHlwZSkgPT4ge1xyXG4gICAgdGhpcy5zdGFydERyYWcgPSB0cnVlXHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICd0b3VjaCcpIHtcclxuICAgICAgdGhpcy5tb3ZlWSA9IDBcclxuXHJcbiAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXVxyXG4gICAgICB0aGlzLnN0YXJ0WSA9IHRvdWNoLmNsaWVudFlcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ21vdXNlJykge1xyXG4gICAgICB0aGlzLm1vdmVZID0gMFxyXG4gICAgICB0aGlzLnN0YXJ0WSA9IGV2ZW50LmNsaWVudFlcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkfS1ib3R0b20tcGFuZWxgKS5jbGFzc0xpc3QucmVtb3ZlKCdleHBhbmQtbW9iaWxlLXBhbmVsLXRyYW5zaXRpb24nKVxyXG4gIH1cclxuXHJcbiAgbW92ZSA9IChldmVudCwgdHlwZSkgPT4ge1xyXG4gICAgaWYgKHR5cGUgPT09ICd0b3VjaCcpIHtcclxuICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxyXG4gICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cclxuICAgICAgdGhpcy5tb3ZlWSA9ICh0b3VjaC5jbGllbnRZIC0gdGhpcy5zdGFydFkpICogLTFcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ21vdXNlJyAmJiB0aGlzLnN0YXJ0RHJhZykge1xyXG4gICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXHJcbiAgICAgIHRoaXMubW92ZVkgPSAoZXZlbnQuY2xpZW50WSAtIHRoaXMuc3RhcnRZKSAqIC0xXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICdtb3VzZScgJiYgIXRoaXMuc3RhcnREcmFnKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGxldCBleHBlY3RIZWlnaHQgPSAxNTBcclxuICAgIGlmICh0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0ICsgdGhpcy5tb3ZlWSA+IGV4cGVjdEhlaWdodCkge1xyXG4gICAgICBleHBlY3RIZWlnaHQgPSB0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0ICsgdGhpcy5tb3ZlWVxyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMucHJvcHMuamltdU1hcFZpZXcuaWR9LWJvdHRvbS1wYW5lbGApLnN0eWxlLmhlaWdodCA9IGAke2V4cGVjdEhlaWdodH1weGBcclxuICAgIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID0gZXhwZWN0SGVpZ2h0XHJcblxyXG4gICAgY29uc3QgYWJvdmVIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAtIChleHBlY3RIZWlnaHQpXHJcbiAgICBpZiAoYWJvdmVIZWlnaHQgPiAzNjApIHtcclxuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWJvdmVIZWlnaHQgPiAyMDAgJiYgYWJvdmVIZWlnaHQgPD0gMzYwKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5LnN0YWdlMSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWJvdmVIZWlnaHQgPiA1NCAmJiBhYm92ZUhlaWdodCA8PSAyMDApIHtcclxuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyh0aGlzLnByb3BzLmxheW91dENvbmZpZy5tb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3kuc3RhZ2UyKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhYm92ZUhlaWdodCA8IDU0KSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5LnN0YWdlMylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuZCA9IChldmVudCwgdHlwZSkgPT4ge1xyXG4gICAgaWYgKHR5cGUgPT09ICdtb3VzZScgJiYgIXRoaXMuc3RhcnREcmFnKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgdGhpcy5zdGFydERyYWcgPSBmYWxzZVxyXG5cclxuICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkfS1ib3R0b20tcGFuZWxgKS5jbGFzc0xpc3QuYWRkKCdleHBhbmQtbW9iaWxlLXBhbmVsLXRyYW5zaXRpb24nKVxyXG5cclxuICAgIGlmICh0eXBlID09PSAndG91Y2gnKSB7XHJcbiAgICAgIGlmIChNYXRoLmFicyh0aGlzLm1vdmVZKSA8IDEwKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZH0tYm90dG9tLXBhbmVsYCkuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zdGF0ZS5ib3R0b21QYW5lbEhlaWdodH1weGBcclxuICAgICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IHRoaXMuc3RhdGUuYm90dG9tUGFuZWxIZWlnaHRcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm1vdmVZID49IDApIHtcclxuICAgICAgLy8gdXAgc2xpZGVyXHJcbiAgICAgIGxldCB0YXJnZXRCb3R0b21QYW5lbEhlaWdodCA9IDBcclxuXHJcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA+PSAxNTAgJiYgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPCB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNikge1xyXG4gICAgICAgIHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0ID0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjZcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA+PSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNiAmJiB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA8IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0KSB7XHJcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAtIDIwXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAxNTBcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgYm90dG9tUGFuZWxIZWlnaHQ6IHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0XHJcbiAgICAgIH0sICgpID0+IHtcclxuICAgICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBkb3duIHNsaWRlclxyXG4gICAgICBsZXQgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAwXHJcblxyXG4gICAgICBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPiAxNTAgJiYgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPCB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNikge1xyXG4gICAgICAgIHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0ID0gMTUwXHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPj0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjYgJiYgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPCB0aGlzLnN0YXRlLndpZGdldEhlaWdodCkge1xyXG4gICAgICAgIHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0ID0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjZcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0YXJnZXRCb3R0b21QYW5lbEhlaWdodCA9IDE1MFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBib3R0b21QYW5lbEhlaWdodDogdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHRcclxuICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKClcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID0gdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrUmVzcG9uc2l2ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmlzVGh1bWJNYXApIHtcclxuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuYm90dG9tUGFuZWxIZWlnaHQgPT09IDApIHtcclxuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWJvdmVIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAtICh0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0KVxyXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gMzYwKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoW10pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gMjAwICYmIGFib3ZlSGVpZ2h0IDw9IDM2MCkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneS5zdGFnZTEpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gNTQgJiYgYWJvdmVIZWlnaHQgPD0gMjAwKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5LnN0YWdlMilcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWJvdmVIZWlnaHQgPCA1NCkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneS5zdGFnZTMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHdpZGdldFdpZHRoOiB3aWR0aCxcclxuICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHQsXHJcbiAgICAgIGlzVGh1bWJNYXA6IGZhbHNlXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXR1cm5OdWxsTm9kZSA9IChrZXk/KSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gPHNwYW4ga2V5PXtrZXl9IC8+XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0xhc3RFbGVtZW50ID0gKHBhcmVudEdyb3VwSnNvbjogR3JvdXBKc29uLCB0b29sSnNvbjogVG9vbEpzb24pID0+IHtcclxuICAgIGNvbnN0IHRvb2xOYW1lID0gdG9vbEpzb24udG9vbE5hbWVcclxuICAgIGNvbnN0IGxheW91dEpzb24gPSB0aGlzLnByb3BzLmxheW91dENvbmZpZ1xyXG4gICAgY29uc3QgY2hpbGRyZW4gPSBsYXlvdXRKc29uLmxheW91dFtwYXJlbnRHcm91cEpzb24uZ3JvdXBOYW1lXS5jaGlsZHJlblxyXG4gICAgY29uc3QgaW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKHRvb2xOYW1lKVxyXG4gICAgaWYgKGluZGV4ID09PSBjaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluZGV4IDwgY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xyXG4gICAgICBsZXQgaXNMYXN0RWxlbWVudDogYm9vbGVhbiA9IHRydWVcclxuICAgICAgZm9yIChsZXQgaSA9IChpbmRleCArIDEpOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50TmFtZSA9IGNoaWxkcmVuW2ldXHJcbiAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNbY2hpbGRyZW5baV1dLnR5cGUgPT09ICdHUk9VUCcpIHtcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfSBlbHNlIGlmICgoIVRvb2xNb2R1bGVzW2VsZW1lbnROYW1lXS5nZXRJc05lZWRTZXR0aW5nKCkgfHwgKHRoaXMucHJvcHMudG9vbENvbmZpZyAmJiB0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7ZWxlbWVudE5hbWV9YF0pIHx8XHJcbiAgICAgICAgICAobGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzICYmIGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcy5pbmNsdWRlcyhlbGVtZW50TmFtZSkpKSkge1xyXG4gICAgICAgICAgaXNMYXN0RWxlbWVudCA9IGZhbHNlXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNMYXN0RWxlbWVudFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVG9nZ2xlTW9iaWxlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICB9XHJcblxyXG4gIGhhbmRsZVBhbmVsSGVpZ2h0Q2hhbmdlID0gKHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0KSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYm90dG9tUGFuZWxIZWlnaHQ6IHBhbmVsSGVpZ2h0IH0sICgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldE1vYmlsZVBhbmVsSW5Db250ZXh0ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgbW9iaWxlUGFuZWxDb250YWluZXIsIG1hcFdpZGdldElkIH0pID0+IChcclxuICAgICAgICAgIDxNb2JpbGVQYW5lbFxyXG4gICAgICAgICAgICBtYXBXaWRnZXRJZD17bWFwV2lkZ2V0SWR9IHRpdGxlPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbFRpdGxlfVxyXG4gICAgICAgICAgICBvcGVuPXshIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvZ2dsZT17KCkgPT4geyB0aGlzLmhhbmRsZVRvZ2dsZU1vYmlsZVBhbmVsKCkgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9eyhjb250YWluZXIpID0+IHsgaWYgKG1vYmlsZVBhbmVsQ29udGFpbmVyICYmIGNvbnRhaW5lcikgeyBjb250YWluZXIuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxDb250YWluZXIpIH0gfX0gLz5cclxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRHcm91cENvbnRlbnQgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbikgPT4ge1xyXG4gICAgaWYgKCFsYXlvdXRKc29uKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gbGF5b3V0SnNvbi5sYXlvdXRbdGhpcy5wcm9wcy5ncm91cE5hbWVdICYmIGxheW91dEpzb24ubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXS5jaGlsZHJlblxyXG4gICAgICBpZiAodGhpcy5jaGVja0lzU2hvd0dyb3VwKGxheW91dEpzb24sIGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGlkPXsodGhpcy5wcm9wcy5pc01haW5Hcm91cCA/IHRoaXMucHJvcHMubWFwV2lkZ2V0SWQgOiB1bmRlZmluZWQpfVxyXG4gICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWkgZXhibWFwLXVpLWdyb3VwJywgdGhpcy5wcm9wcy5jbGFzc05hbWUsXHJcbiAgICAgICAgICAgICAgeyAnZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50JzogdGhpcy5wcm9wcy5pc0hpZGRlbiB9KX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHtjaGlsZHJlbi5tYXAoKGtleSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoIWxheW91dEpzb24uZWxlbWVudHNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1trZXldLnR5cGUgPT09ICdHUk9VUCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDxHcm91cFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSBpc0hpZGRlbj17dGhpcy5jaGVja0lzSGlkZGVuRWxlbWVudChrZXkpfSBjbGFzc05hbWU9eyhsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uKS5jbGFzc05hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9eyhsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uKS5zdHlsZX1cclxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ30gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGludGw9e3RoaXMucHJvcHMuaW50bH1cclxuICAgICAgICAgICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gZ3JvdXBOYW1lPXtrZXl9IGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbkVsZW1lbnROYW1lcz17dGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cclxuICAgICAgICAgICAgICAgICAgICBpc1RodW1iTWFwPXt0aGlzLnByb3BzLmlzTWFpbkdyb3VwID8gdGhpcy5zdGF0ZS5pc1RodW1iTWFwIDogdGhpcy5wcm9wcy5pc1RodW1iTWFwfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1trZXldLnR5cGUgPT09ICdUT09MJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pLnRvb2xOYW1lID09PSAnTmF2aWdhdGlvbicgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKGluZGV4KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghVG9vbE1vZHVsZXNba2V5XS5nZXRJc05lZWRTZXR0aW5nKCkgfHwgKHRoaXMucHJvcHMudG9vbENvbmZpZyAmJiB0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7a2V5fWBdKSB8fCAobGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzICYmIGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcy5pbmNsdWRlcyhrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxCYXNlVG9vbFNoZWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH1cclxuICAgICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuPXt0aGlzLmNoZWNrSXNIaWRkZW5FbGVtZW50KGtleSl9IGtleT17aW5kZXh9IGxheW91dENvbmZpZz17bGF5b3V0SnNvbn1cclxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLnRvb2xDb25maWd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gdG9vbE5hbWU9e2tleX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IGludGw9e3RoaXMucHJvcHMuaW50bH1cclxuICAgICAgICAgICAgICAgICAgICAgIGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfSBpc0xhc3RFbGVtZW50PXt0aGlzLmNoZWNrSXNMYXN0RWxlbWVudChsYXlvdXRKc29uLmVsZW1lbnRzW3RoaXMucHJvcHMuZ3JvdXBOYW1lXSBhcyBHcm91cEpzb24sIGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBUb29sSnNvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKGluZGV4KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzTW9iaWxlICYmIHRoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlV2lkdGggaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPn1cclxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgIT09ICdTZWxlY3QnICYmIHRoaXMuZ2V0TW9iaWxlUGFuZWxJbkNvbnRleHQoKX1cclxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nZXhibWFwLXVpIHctMTAwJ1xyXG4gICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgIHRvdWNoQWN0aW9uOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmlzTW9iaWxlICYmICEodGhpcy5zdGF0ZS5pc1RodW1iTWFwIHx8IHRoaXMucHJvcHMuaXNUaHVtYk1hcCkgPyAnYmxvY2snIDogJ25vbmUnXHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0tYm90dG9tLXBhbmVsIGV4Ym1hcC11aSB3LTEwMCBleHBhbmQtbW9iaWxlLXBhbmVsYH1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG92ZXJmbG93OiAnaGlkZGVuJywgcG9pbnRlckV2ZW50czogJ2F1dG8nLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgdG91Y2hBY3Rpb246ICdub25lJyB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XHJcbiAgICAgICAgICAgICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZUhlaWdodCBvblJlc2l6ZT17dGhpcy5oYW5kbGVQYW5lbEhlaWdodENoYW5nZX0gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0lzU2hvd0dyb3VwID0gKGxheW91dEpzb246IExheW91dEpzb24sIGNoaWxkcmVuOiBzdHJpbmdbXSkgPT4ge1xyXG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB0b29sTmFtZXMgPSBbXVxyXG4gICAgICB0aGlzLmZpbmRBbGxUb29sTmFtZXMobGF5b3V0SnNvbiwgY2hpbGRyZW4sIHRvb2xOYW1lcylcclxuICAgICAgbGV0IGlzU2hvd0dyb3VwID0gZmFsc2VcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b29sTmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy50b29sQ29uZmlnW2BjYW4ke3Rvb2xOYW1lc1tpXX1gXSB8fCAhVG9vbE1vZHVsZXNbdG9vbE5hbWVzW2ldXS5nZXRJc05lZWRTZXR0aW5nKCkgfHxcclxuICAgICAgICAgIChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluY2x1ZGVzKHRvb2xOYW1lc1tpXSkpKSB7XHJcbiAgICAgICAgICBpc1Nob3dHcm91cCA9IHRydWVcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpc1Nob3dHcm91cFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZmluZEFsbFRvb2xOYW1lcyA9IChsYXlvdXRKc29uOiBMYXlvdXRKc29uLCBjaGlsZHJlbjogc3RyaW5nW10sIHRvb2xOYW1lczogc3RyaW5nW10pID0+IHtcclxuICAgIGlmICghY2hpbGRyZW4gfHwgY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZHJlbltpXV0udHlwZSA9PT0gJ0dST1VQJykge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IChsYXlvdXRKc29uLmVsZW1lbnRzW2NoaWxkcmVuW2ldXSBhcyBHcm91cEpzb24pLmdyb3VwTmFtZVxyXG4gICAgICAgIHRoaXMuZmluZEFsbFRvb2xOYW1lcyhsYXlvdXRKc29uLCBsYXlvdXRKc29uLmxheW91dFtncm91cE5hbWVdICYmIGxheW91dEpzb24ubGF5b3V0W2dyb3VwTmFtZV0uY2hpbGRyZW4sIHRvb2xOYW1lcylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b29sTmFtZXMucHVzaChjaGlsZHJlbltpXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZy5jYW5TZWxlY3QpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAgfX0+XHJcbiAgICAgICAgICA8ZGl2IGlkPXtgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS13aXRoLXNlbGVjdC1jb250YWluZXJgfSBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDQwLCByaWdodDogMCB9fT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5nZXRHcm91cENvbnRlbnQodGhpcy5wcm9wcy5sYXlvdXRDb25maWcpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMCwgaGVpZ2h0OiA0MCB9fT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgICAgICA8QmFzZVRvb2xTaGVsbFxyXG4gICAgICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgICAgICBpc0hpZGRlbj17ZmFsc2V9IGxheW91dENvbmZpZz17dGhpcy5wcm9wcy5sYXlvdXRDb25maWd9XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfVxyXG4gICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IHRvb2xOYW1lPSdTZWxlY3RTdGF0ZScgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IGludGw9e3RoaXMucHJvcHMuaW50bH1cclxuICAgICAgICAgICAgICAgIGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfSBpc0xhc3RFbGVtZW50XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXBDb250ZW50KHRoaXMucHJvcHMubGF5b3V0Q29uZmlnKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgb25EZXN0cm95ZWQ/OiAoKSA9PiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmVsU2hlbGwgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCB1bmtub3duPiB7XHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub25EZXN0cm95ZWQpIHtcclxuICAgICAgdGhpcy5wcm9wcy5vbkRlc3Ryb3llZCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgPC8+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgU2Nyb2xsQ29udGFpbmVyUHJvcHMge1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllc1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY3JvbGxDb250YWluZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNjcm9sbENvbnRhaW5lclByb3BzLCB1bmtub3duPiB7XHJcbiAgbW92ZVkgPSAwXHJcbiAgc3RhcnRZID0gMFxyXG4gIGlzUmVnaXN0ZWQgPSBmYWxzZVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICBvdmVyZmxvdzogYXV0bztcclxuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyVG91Y2hFdmVudCA9IChyZWY6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAocmVmICYmICF0aGlzLmlzUmVnaXN0ZWQpIHtcclxuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLm1vdmVZID0gMFxyXG4gICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXVxyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WVxyXG4gICAgICB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pXHJcblxyXG4gICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXHJcbiAgICAgICAgdGhpcy5tb3ZlWSA9ICh0b3VjaC5jbGllbnRZIC0gdGhpcy5zdGFydFkpICogLTFcclxuICAgICAgICB0aGlzLnN0YXJ0WSA9IHRvdWNoLmNsaWVudFlcclxuXHJcbiAgICAgICAgcmVmLnNjcm9sbFRvcCA9IHJlZi5zY3JvbGxUb3AgKyB0aGlzLm1vdmVZXHJcbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuXHJcbiAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMubW92ZVkgPSAwXHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSAwXHJcbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuXHJcbiAgICAgIHRoaXMuaXNSZWdpc3RlZCA9IHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9IHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfVxyXG4gICAgICAgIHJlZj17cmVmID0+IHtcclxuICAgICAgICAgIHRoaXMucmVnaXN0ZXJUb3VjaEV2ZW50KHJlZilcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVUlDb21wb25lbnRQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVJQ29tcG9uZW50PFAgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzLCBTPiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UCwgUz4ge1xyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgUmVhY3RET00sIGNzcywganN4LCBBcHBNb2RlLCBTaXplTW9kZUxheW91dEpzb24sIEludGxTaGFwZSwgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgTGF5b3V0SnNvbiwgR3JvdXBKc29uLCBIaWRkZW5FbGVtZW50TmFtZXMgfSBmcm9tICcuL2NvbmZpZydcclxuaW1wb3J0IEdyb3VwIGZyb20gJy4vYmFzZS9ncm91cCdcclxuaW1wb3J0IHR5cGUgeyBBY3RpdmVUb29sSW5mbyB9IGZyb20gJy4vYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcblxyXG5pbnRlcmZhY2UgTGF5b3V0UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBsYXlvdXRDb25maWc6IExheW91dEpzb25cclxuICB0b29sQ29uZmlnOiBUb29sQ29uZmlnXHJcblxyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGlzTW9iaWxlOiBib29sZWFuXHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxuXHJcbiAgYXBwTW9kZTogQXBwTW9kZVxyXG4gIGxheW91dHM6IHsgW25hbWU6IHN0cmluZ106IFNpemVNb2RlTGF5b3V0SnNvbiB9XHJcbiAgTGF5b3V0RW50cnk/OiBhbnlcclxuICB3aWRnZXRNYW5pZmVzdE5hbWU6IHN0cmluZ1xyXG5cclxuICB3aWRnZXRIZWlnaHQ/OiBudW1iZXJcclxuICBpbnRsPzogSW50bFNoYXBlXHJcblxyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxufVxyXG5cclxuaW50ZXJmYWNlIExheW91dFN0YXRlIHtcclxuXHJcbiAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbD86IEpTWC5FbGVtZW50XHJcbiAgaGlkZGVuRWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXNcclxufVxyXG5cclxuZXhwb3J0IHsgQWN0aXZlVG9vbEluZm8gfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRQcm9wcywgTGF5b3V0U3RhdGU+IHtcclxuICBjb250ZW50UmVmOiBIVE1MRWxlbWVudFxyXG4gIC8vIHRoaXMgaXRlbSBpcyB1c2VkIHRvIHNvbHZlIHRoZSBmbGFzaCBpc3N1ZSB3aGVuIHN3aXRoIG11bGl0aW1hcFxyXG4gIGNsb25lTGF5b3V0UmVmOiBIVE1MRWxlbWVudCB8IE5vZGUgPSBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbDogbnVsbCxcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzOiBbXVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29udGVudFJlZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICB0aGlzLmNvbnRlbnRSZWYuY2xhc3NOYW1lID0gJ2V4Ym1hcC11aSBlc3JpLXVpLWlubmVyLWNvbnRhaW5lciBtYXAtdG9vbC1sYXlvdXQnXHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICB6LWluZGV4OiAwO1xyXG5cclxuICAgICAgLmV4cGFuZC1wYW5lbC10cmFuc2l0aW9uIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIHJpZ2h0IDAuM3M7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zY2FsZS1hdHRyaWJ1dGlvbi14eS1ncm91cCB7XHJcbiAgICAgICAgPiBkaXY6Zmlyc3Qtb2YtdHlwZTpudGgtbGFzdC1vZi10eXBlKDEpIHtcclxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50IHtcclxuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuLypcclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNmU2ZTtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfSAqL1xyXG5cclxuICAgICAgLmV4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0IHtcclxuICAgICAgICBtYXgtaGVpZ2h0OiAke3RoaXMuZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQodGhpcy5wcm9wcy53aWRnZXRIZWlnaHQpfXB4O1xyXG4gICAgICAgIG92ZXJmbG93OiBhdXRvXHJcbiAgICAgIH1cclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQgPSAod2lkZ2V0SGVpZ2h0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKCF3aWRnZXRIZWlnaHQpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh3aWRnZXRIZWlnaHQgPCA2NSkge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0SGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0IC0gNjVcclxuICAgICAgICBpZiAocmVzdWx0SGVpZ2h0IDwgMzAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0SGVpZ2h0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiAzMDBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRTZXRIaWRkZW5FbGVtZW50TmFtZXMgPSAoZWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXMpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXM6IGVsZW1lbnROYW1lc1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldExheW91dENvbnRlbnQgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbikgPT4ge1xyXG4gICAgaWYgKCFsYXlvdXRKc29uIHx8ICF0aGlzLnByb3BzLnRvb2xDb25maWcpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0+XHJcbiAgICAgICAgICB7T2JqZWN0LmtleXMobGF5b3V0SnNvbi5sYXlvdXQpLm1hcCgoa2V5LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWxheW91dEpzb24uZWxlbWVudHNba2V5XSB8fCBsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0udHlwZSAhPT0gJ0dST1VQJyB8fCAhbGF5b3V0SnNvbi5sYXlvdXRba2V5XS5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPEdyb3VwXHJcbiAgICAgICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0gY2xhc3NOYW1lPXsobGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIEdyb3VwSnNvbikuY2xhc3NOYW1lfSBzdHlsZT17KGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb24pLnN0eWxlfVxyXG4gICAgICAgICAgICAgICAgaXNSZXNwb25zaXZlPXsobGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIEdyb3VwSnNvbikuaXNSZXNwb25zaXZlfSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaXNNYWluR3JvdXBcclxuICAgICAgICAgICAgICAgIGtleT17aW5kZXh9IGxheW91dENvbmZpZz17bGF5b3V0SnNvbn0gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfSBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb31cclxuICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBncm91cE5hbWU9e2tleX0gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgaGlkZGVuRWxlbWVudE5hbWVzPXtsYXlvdXRKc29uLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneSAmJiB0aGlzLnN0YXRlLmhpZGRlbkVsZW1lbnROYW1lc30gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxyXG4gICAgICAgICAgICAgICAgb25TZXRIaWRkZW5FbGVtZW50TmFtZXM9e3RoaXMuaGFuZFNldEhpZGRlbkVsZW1lbnROYW1lc30gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICgodGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIpKSB7XHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50UmVmKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IExheW91dFByb3BzKSB7XHJcbiAgICBpZiAocHJldlByb3BzLmFwcE1vZGUgIT09IHRoaXMucHJvcHMuYXBwTW9kZSAmJiB0aGlzLnByb3BzLmFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkpIHtcclxuICAgICAgY29uc3QgY2xvbmVEb21zID0gcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rvb2wtbGF5b3V0LWNsb25lJylcclxuICAgICAgaWYgKGNsb25lRG9tcyAmJiBjbG9uZURvbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvbmVEb21zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjbG9uZURvbXNbaV0ucmVtb3ZlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3Py5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8uaWQpIHtcclxuICAgICAgdGhpcy5jbG9uZUxheW91dFJlZiA9IHRoaXMuY29udGVudFJlZi5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICh0aGlzLmNsb25lTGF5b3V0UmVmIGFzIEhUTUxFbGVtZW50KS5jbGFzc0xpc3QuYWRkKCd0b29sLWxheW91dC1jbG9uZScpXHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5jbG9uZUxheW91dFJlZiAmJiB0aGlzLmNsb25lTGF5b3V0UmVmLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNsb25lTGF5b3V0UmVmKVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsb25lTGF5b3V0UmVmID0gbnVsbFxyXG4gICAgICB9LCA1MDApXHJcblxyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSB7XHJcbiAgICAgICAgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2xvbmVMYXlvdXRSZWYpXHJcbiAgICAgICAgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuY29udGVudFJlZilcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50UmVmKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5nZXRMYXlvdXRDb250ZW50KHRoaXMucHJvcHMubGF5b3V0Q29uZmlnKSwgdGhpcy5jb250ZW50UmVmKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IFJlYWN0LCBSZWFjdERPTSwganN4LCBBcHBNb2RlLCBTaXplTW9kZUxheW91dEpzb24sIEltbXV0YWJsZSwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgTGF5b3V0RW50cnkgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXHJcbmltcG9ydCB7IGNoZWNrSXNMaXZlIH0gZnJvbSAnLi4vdXRpbHMnXHJcblxyXG5pbnRlcmZhY2UgTGF5b3V0UHJvcHMge1xyXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcclxuXHJcbiAgYXBwTW9kZTogQXBwTW9kZVxyXG4gIGxheW91dHM6IHsgW25hbWU6IHN0cmluZ106IFNpemVNb2RlTGF5b3V0SnNvbiB9XHJcbiAgTGF5b3V0RW50cnk/OiBhbnlcclxuICB3aWRnZXRNYW5pZmVzdE5hbWU6IHN0cmluZ1xyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuaW50ZXJmYWNlIExheW91dFN0YXRlIHt9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzLCBMYXlvdXRTdGF0ZT4ge1xyXG4gIGZpeGVkTGF5b3V0UmVmOiBIVE1MRWxlbWVudFxyXG4gIC8vIHRoaXMgaXRlbSBpcyB1c2VkIHRvIHNvbHZlIHRoZSBmbGFzaCBpc3N1ZSB3aGVuIHN3aXRoIG11bGl0aW1hcFxyXG4gIGNsb25lTGF5b3V0UmVmOiBIVE1MRWxlbWVudCB8IE5vZGUgPSBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHt9XHJcblxyXG4gICAgdGhpcy5maXhlZExheW91dFJlZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCBtYXAtZml4LWxheW91dCdcclxuICAgIHRoaXMuZml4ZWRMYXlvdXRSZWYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmLnN0eWxlLnpJbmRleCA9ICcwJ1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikpIHtcclxuICAgICAgdGhpcy5pbnNlcnRGaXhlZERvbSh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLCB0aGlzLmZpeGVkTGF5b3V0UmVmKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IExheW91dFByb3BzLCBwcmV2U3RhdGU6IExheW91dFN0YXRlKSB7XHJcbiAgICBpZiAoIXByZXZQcm9wcy5qaW11TWFwVmlldyB8fCAhdGhpcy5wcm9wcy5qaW11TWFwVmlldykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpKSB7XHJcbiAgICAgIGNvbnN0IGNsb25lRG9tcyA9IHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsYXlvdXQtY2xvbmUnKVxyXG4gICAgICBpZiAoY2xvbmVEb21zICYmIGNsb25lRG9tcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbG9uZURvbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNsb25lRG9tc1tpXS5yZW1vdmUoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpIHtcclxuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aSkge1xyXG4gICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSB0aGlzLmZpeGVkTGF5b3V0UmVmLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAodGhpcy5jbG9uZUxheW91dFJlZiBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnbGF5b3V0LWNsb25lJylcclxuICAgICAgICB0aGlzLmluc2VydEZpeGVkRG9tKHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lciwgdGhpcy5jbG9uZUxheW91dFJlZilcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5jbG9uZUxheW91dFJlZiAmJiB0aGlzLmNsb25lTGF5b3V0UmVmLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9uZUxheW91dFJlZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2xvbmVMYXlvdXRSZWYpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmNsb25lTGF5b3V0UmVmID0gbnVsbFxyXG4gICAgICAgIH0sIDUwMClcclxuXHJcbiAgICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5jb250YWlucyh0aGlzLmZpeGVkTGF5b3V0UmVmKSkge1xyXG4gICAgICAgICAgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZml4ZWRMYXlvdXRSZWYpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMuaW5zZXJ0Rml4ZWREb20odGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lciwgdGhpcy5maXhlZExheW91dFJlZilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluc2VydEZpeGVkRG9tID0gKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGluc2VydGVkRG9tKSA9PiB7XHJcbiAgICBpZiAoIWNvbnRhaW5lciB8fCAhaW5zZXJ0ZWREb20pIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdG9vbExheW91dERvbXMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWFwLXRvb2wtbGF5b3V0JylcclxuICAgIGlmICh0b29sTGF5b3V0RG9tcyAmJiB0b29sTGF5b3V0RG9tc1swXSkge1xyXG4gICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGluc2VydGVkRG9tLCB0b29sTGF5b3V0RG9tc1swXSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbnNlcnRlZERvbSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1hcEZpeGVkTGF5b3V0ID0gKCkgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XHJcbiAgICAgIGNvbnN0IExheW91dEVudHJ5ID0gdGhpcy5wcm9wcy5MYXlvdXRFbnRyeVxyXG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnByb3BzLmxheW91dHMgJiYgdGhpcy5wcm9wcy5sYXlvdXRzLk1hcEZpeGVkTGF5b3V0XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPExheW91dEVudHJ5XHJcbiAgICAgICAgICBsYXlvdXRzPXtsYXlvdXQgfHwgbnVsbH0gaXNJbldpZGdldCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwIG1hcC1maXgtbGF5b3V0JyxcclxuICAgICAgICAgICAgeyAnd2lkZ2V0LW1hcC11c2VtYXNrJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSksICdtYXAtaXMtbGl2ZS1tb2RlJzogY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKSB9KX1cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnByb3BzLmxheW91dHMgJiYgdGhpcy5wcm9wcy5sYXlvdXRzLk1hcEZpeGVkTGF5b3V0XHJcbiAgICAgIHJldHVybiA8TGF5b3V0RW50cnkgbGF5b3V0cz17bGF5b3V0ID8gSW1tdXRhYmxlKGxheW91dCkgOiBudWxsfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIG1hcC1pcy1saXZlLW1vZGUgbWFwLWZpeC1sYXlvdXQnIC8+XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdj5cclxuICAgICAgICAgIHtSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5nZXRNYXBGaXhlZExheW91dCgpLCB0aGlzLmZpeGVkTGF5b3V0UmVmKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gc2VlbXMgd2UgY2FuJ3QgcnVuIHRvIGhlcmU/XHJcbiAgICAgIHJldHVybiB0aGlzLmdldE1hcEZpeGVkTGF5b3V0KClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTGF5b3V0SnNvbiB9IGZyb20gJy4vY29uZmlnJ1xyXG5cclxuLyogdHNsaW50OmRpc2FibGUgKi9cclxuY29uc3QgbW9iaWxlTGF5b3V0SnNvbiA9IHtcclxuICBlbGVtZW50czoge1xyXG4gICAgbWFpbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21haW5Hcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xyXG4gICAgICB9LFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggZmxleC1jb2x1bW4nXHJcbiAgICB9LFxyXG4gICAgdG9wR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAndG9wR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IHctMTAwIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcGFkZGluZzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtaWRHcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdmbGV4LWdyb3ctMSBkLWZsZXggdy0xMDAganVzdGlmeS1jb250ZW50LWJldHdlZW4nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtbGVmdCc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtbGVmdCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uLXJldmVyc2UnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBhZGRpbmdMZWZ0OiAnMTBweCcsXHJcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMTBweCcsXHJcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogJzEwcHgnLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgIGJvdHRvbTogMFxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLWxlZnQtY29udGVudCc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtbGVmdC1jb250ZW50JyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0Jzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1yaWdodCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwYWRkaW5nUmlnaHQ6ICcxMHB4JyxcclxuICAgICAgICBwYWRkaW5nTGVmdDogJzEwcHgnLFxyXG4gICAgICAgIHBhZGRpbmdCb3R0b206ICcxMHB4JyxcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAwXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJ1xyXG4gICAgfSxcclxuICAgIGJvdHRvbUdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbUdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXHJcbiAgICB9LFxyXG4gICAgU2VhcmNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAnZmxleC1ncm93LTEnXHJcbiAgICB9LFxyXG4gICAgRnVsbFNjcmVlbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnRnVsbFNjcmVlbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgTG9jYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIENsZWFyQWN0aW9uRGF0YToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ2xlYXJBY3Rpb25EYXRhJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBDb21wYXNzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIGNsYXNzTmFtZTogJ21iLTAnXHJcbiAgICB9LFxyXG4gICAgTWFwU3dpdGNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNYXBTd2l0Y2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgWm9vbToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgSG9tZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnSG9tZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgTGF5ZXJzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfSxcclxuICAgIFNlbGVjdDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBTZWxlY3RTdGF0ZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0U3RhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIE1lYXN1cmU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01lYXN1cmUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBtYWluR3JvdXA6IHtcclxuICAgICAgY2hpbGRyZW46IFsndG9wR3JvdXAnLCAnbWlkR3JvdXAnLCAnYm90dG9tR3JvdXAnXSxcclxuICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgcmlnaHQ6IDBcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRvcEdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdGdWxsU2NyZWVuJ11cclxuICAgIH0sXHJcbiAgICBtaWRHcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydtaWRHcm91cC1sZWZ0JywgJ21pZEdyb3VwLXJpZ2h0J11cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtbGVmdCc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtbGVmdC1jb250ZW50J11cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtbGVmdC1jb250ZW50Jzoge1xyXG4gICAgICBjaGlsZHJlbjogWydDb21wYXNzJywgJ01hcFN3aXRjaCddXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0Jzoge1xyXG4gICAgICBjaGlsZHJlbjogWydtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCcsICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSddXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJywgJ1NlbGVjdCddXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydab29tJywgJ0hvbWUnLCAnTG9jYXRlJywgJ0NsZWFyQWN0aW9uRGF0YSddXHJcbiAgICB9XHJcbiAgfSxcclxuICBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k6IHtcclxuICAgIHN0YWdlMTogWydtaWRHcm91cC1sZWZ0LWNvbnRlbnQnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nXSxcclxuICAgIHN0YWdlMjogWydtaWRHcm91cC1sZWZ0LWNvbnRlbnQnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnXSxcclxuICAgIHN0YWdlMzogWyd0b3BHcm91cCcsICdtaWRHcm91cC1sZWZ0LWNvbnRlbnQnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnXVxyXG4gIH0sXHJcbiAgbG9ja1Rvb2xOYW1lczogW11cclxufSBhcyBMYXlvdXRKc29uXHJcbi8qIHRzbGludDplbmFibGUgKi9cclxuXHJcbmNvbnN0IG1vYmlsZUxheW91dEpzb25zOiBMYXlvdXRKc29uW10gPSBbbW9iaWxlTGF5b3V0SnNvbl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vYmlsZUxheW91dEpzb25zXHJcbiIsImltcG9ydCB7IExheW91dEpzb24gfSBmcm9tICcuL2NvbmZpZydcclxuXHJcbi8qIHRzbGludDpkaXNhYmxlICovXHJcbmNvbnN0IGxheW91dEpzb24xID0ge1xyXG4gIGVsZW1lbnRzOiB7XHJcbiAgICBsZWZ0VG9wQ29udGFpbmVyOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2xlZnRUb3BDb250YWluZXInLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJ1xyXG4gICAgfSxcclxuICAgIG5hdmlnYXRvcjoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICduYXZpZ2F0b3InLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCdcclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdpbnRlcmFjdCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUxJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgc2NhbGUtYXR0cmlidXRpb24teHktZ3JvdXAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcclxuICAgICAgICBtYXJnaW5Ub3A6IDBcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtZW5kIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwYWRkaW5nTGVmdDogJzE1cHgnLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogJzE1cHgnLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnU2VsZWN0U3RhdGUtRnVsbFNjcmVlbi1Db250YWluZXInOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdhbGlnbi1pdGVtcy1lbmQnXHJcbiAgICB9LFxyXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdhdHRyaWJ1dGlvbkdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgbWF4V2lkdGg6ICc2MCUnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBab29tOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBIb21lOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBDb21wYXNzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBOYXZpZ2F0aW9uOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdOYXZpZ2F0aW9uJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBMb2NhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgTGF5ZXJzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfSxcclxuICAgIFNlbGVjdDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIFNlbGVjdFN0YXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIGJveFNoYWRvdzogJzAgMXB4IDJweCAwIHJnYmEoMCwwLDAsMCknXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNZWFzdXJlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNZWFzdXJlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcclxuICAgIH0sXHJcbiAgICBNYXBTd2l0Y2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBGdWxsU2NyZWVuOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBDbGVhckFjdGlvbkRhdGE6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgU2NhbGVCYXI6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBBdHRyaWJ1dGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXHJcbiAgICB9LFxyXG4gICAgU2VhcmNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBsZWZ0VG9wQ29udGFpbmVyOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ25hdmlnYXRvcicsICdTZWxlY3QnXSxcclxuICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICB0b3A6IDE1LFxyXG4gICAgICAgIGxlZnQ6IDE1XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ05hdmlnYXRpb24nLCAnTG9jYXRlJywgJ0NvbXBhc3MnXVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJ10sXHJcbiAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgdG9wOiAxNSxcclxuICAgICAgICByaWdodDogMTVcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTEnOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NjYWxlQmFyJywgJ2F0dHJpYnV0aW9uR3JvdXAnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ01hcFN3aXRjaCcsICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lciddXHJcbiAgICB9LFxyXG4gICAgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydGdWxsU2NyZWVuJywgJ0NsZWFyQWN0aW9uRGF0YScsICdTZWxlY3RTdGF0ZSddXHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ2JvdHRvbS1saW5lMicsICdib3R0b20tbGluZTEnXSxcclxuICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICBib3R0b206IDAsXHJcbiAgICAgICAgbGVmdDogMFxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydBdHRyaWJ1dGlvbiddXHJcbiAgICB9XHJcbiAgfVxyXG59IGFzIExheW91dEpzb25cclxuXHJcbmNvbnN0IGxheW91dEpzb24yID0ge1xyXG4gIGVsZW1lbnRzOiB7XHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbmF2aWdhdG9yJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdhbGlnbi1pdGVtcy1lbmQnXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Q6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnaW50ZXJhY3QnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgZnVsbFNjcmVlbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2Z1bGxTY3JlZW5Hcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnXHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUxJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgc2NhbGUtYXR0cmlidXRpb24teHktZ3JvdXAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcclxuICAgICAgICBtYXJnaW5Ub3A6IDBcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtZW5kIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwYWRkaW5nTGVmdDogJzE1cHgnLFxyXG4gICAgICAgIHBhZGRpbmdSaWdodDogJzE1cHgnLFxyXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2F0dHJpYnV0aW9uR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBtYXhXaWR0aDogJzYwJSdcclxuICAgICAgfSxcclxuICAgICAgY2xhc3NOYW1lOiAnYXR0aWJ1dGUtZ3JvdXAnXHJcbiAgICB9LFxyXG4gICAgWm9vbToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgSG9tZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnSG9tZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgQ29tcGFzczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ29tcGFzcycsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgTmF2aWdhdGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTmF2aWdhdGlvbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgTG9jYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIExheWVyczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTGF5ZXJzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJ1xyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nXHJcbiAgICB9LFxyXG4gICAgU2VsZWN0OiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgU2VsZWN0U3RhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgYm94U2hhZG93OiAnMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwwKSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIE1lYXN1cmU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01lYXN1cmUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nXHJcbiAgICB9LFxyXG4gICAgTWFwU3dpdGNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNYXBTd2l0Y2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgRnVsbFNjcmVlbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnRnVsbFNjcmVlbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgQ2xlYXJBY3Rpb25EYXRhOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDbGVhckFjdGlvbkRhdGEnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFNjYWxlQmFyOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTY2FsZUJhcicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgQXR0cmlidXRpb246IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0F0dHJpYnV0aW9uJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIGNsYXNzTmFtZTogJ3ctMTAwJ1xyXG4gICAgfSxcclxuICAgIFNlYXJjaDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VhcmNoJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcycsICdMb2NhdGUnLCAnTmF2aWdhdGlvbicsICdab29tJywgJ0hvbWUnLCAnU2VsZWN0U3RhdGUnXVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJywgJ1NlbGVjdCddLFxyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgbGVmdDogMTVcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGZ1bGxTY3JlZW5Hcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydGdWxsU2NyZWVuJywgJ0NsZWFyQWN0aW9uRGF0YSddLFxyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgcmlnaHQ6IDE1XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUxJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydTY2FsZUJhcicsICdhdHRyaWJ1dGlvbkdyb3VwJ11cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUyJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydNYXBTd2l0Y2gnLCAnbmF2aWdhdG9yJ11cclxuICAgIH0sXHJcbiAgICBib3R0b206IHtcclxuICAgICAgY2hpbGRyZW46IFsnYm90dG9tLWxpbmUyJywgJ2JvdHRvbS1saW5lMSddLFxyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIGJvdHRvbTogMCxcclxuICAgICAgICBsZWZ0OiAwXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ0F0dHJpYnV0aW9uJ11cclxuICAgIH1cclxuICB9XHJcbn0gYXMgTGF5b3V0SnNvblxyXG4vKiB0c2xpbnQ6ZW5hYmxlICovXHJcblxyXG5jb25zdCBsYXlvdXRKc29uczogTGF5b3V0SnNvbltdID0gW2xheW91dEpzb24xLCBsYXlvdXRKc29uMl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxheW91dEpzb25zXHJcbiIsImltcG9ydCBab29tIGZyb20gJy4uL3Rvb2xzL3pvb20nXHJcbmltcG9ydCBIb21lIGZyb20gJy4uL3Rvb2xzL2hvbWUnXHJcbmltcG9ydCBDb21wYXNzIGZyb20gJy4uL3Rvb2xzL2NvbXBhc3MnXHJcbmltcG9ydCBMb2NhdGUgZnJvbSAnLi4vdG9vbHMvbG9jYXRlJ1xyXG5pbXBvcnQgQ2xlYXJBY3Rpb25EYXRhIGZyb20gJy4uL3Rvb2xzL2NsZWFyLWFjdGlvbi1kYXRhJ1xyXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuLi90b29scy9uYXZpZ2F0aW9uJ1xyXG5pbXBvcnQgU2VhcmNoIGZyb20gJy4uL3Rvb2xzL3NlYXJjaCdcclxuaW1wb3J0IExheWVycyBmcm9tICcuLi90b29scy9sYXllcnMnXHJcbmltcG9ydCBCYXNlTWFwIGZyb20gJy4uL3Rvb2xzL2Jhc2VtYXAnXHJcbmltcG9ydCBNYXBTd2l0Y2ggZnJvbSAnLi4vdG9vbHMvbWFwc3dpdGNoJ1xyXG5pbXBvcnQgRnVsbFNjcmVlbiBmcm9tICcuLi90b29scy9mdWxsc2NyZWVuJ1xyXG5pbXBvcnQgU2NhbGVCYXIgZnJvbSAnLi4vdG9vbHMvc2NhbGViYXInXHJcbmltcG9ydCBBdHRyaWJ1dGlvbiBmcm9tICcuLi90b29scy9hdHRyaWJ1dGlvbidcclxuaW1wb3J0IE1lYXN1cmUgZnJvbSAnLi4vdG9vbHMvbWVhc3VyZSdcclxuaW1wb3J0IFNlbGVjdCBmcm9tICcuLi90b29scy9zZWxlY3QnXHJcbmltcG9ydCBTZWxlY3RTdGF0ZSBmcm9tICcuLi90b29scy9zZWxlY3RzdGF0ZSdcclxuXHJcbmNvbnN0IFRvb2xNb2R1bGVzOiB7W01vZHVsZU5hbWU6IHN0cmluZ106IGFueX0gPSB7XHJcbiAgWm9vbTogWm9vbSxcclxuICBIb21lOiBIb21lLFxyXG4gIE5hdmlnYXRpb246IE5hdmlnYXRpb24sXHJcbiAgTG9jYXRlOiBMb2NhdGUsXHJcbiAgQ2xlYXJBY3Rpb25EYXRhOiBDbGVhckFjdGlvbkRhdGEsXHJcbiAgQ29tcGFzczogQ29tcGFzcyxcclxuICBTZWFyY2g6IFNlYXJjaCxcclxuICBMYXllcnM6IExheWVycyxcclxuICBCYXNlTWFwOiBCYXNlTWFwLFxyXG4gIE1lYXN1cmU6IE1lYXN1cmUsXHJcbiAgTWFwU3dpdGNoOiBNYXBTd2l0Y2gsXHJcbiAgRnVsbFNjcmVlbjogRnVsbFNjcmVlbixcclxuICBTY2FsZUJhcjogU2NhbGVCYXIsXHJcbiAgQXR0cmlidXRpb246IEF0dHJpYnV0aW9uLFxyXG4gIFNlbGVjdDogU2VsZWN0LFxyXG4gIFNlbGVjdFN0YXRlOiBTZWxlY3RTdGF0ZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb29sTW9kdWxlc1xyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXR0cmlidXRpb24gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnQXR0cmlidXRpb24nXHJcblxyXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdBdHRyaWJ1dGlvbidcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxBdHRyaWJ1dGlvbklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEF0dHJpYnV0aW9uSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBBdHRyaWJ1dGlvbklubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBBdHRyaWJ1dGlvbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxBdHRyaWJ1dGlvbklubmVyUHJvcHMsIEF0dHJpYnV0aW9uSW5uZXJTdGF0ZT4ge1xyXG4gIEF0dHJpYnV0aW9uOiB0eXBlb2YgX19lc3JpLkF0dHJpYnV0aW9uID0gbnVsbFxyXG4gIEF0dHJpYnV0aW9uQnRuOiBfX2VzcmkuQXR0cmlidXRpb25cclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0F0dHJpYnV0aW9uJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuQXR0cmlidXRpb25dID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBBdHRyaWJ1dGlvbklubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcclxuICAgICAgICBpZiAodGhpcy5BdHRyaWJ1dGlvbkJ0biAmJiAhdGhpcy5BdHRyaWJ1dGlvbkJ0bi5kZXN0cm95KSB7XHJcbiAgICAgICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4ucmVuZGVyTm93KClcclxuXHJcbiAgICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgICAgbmFtZTogJ0F0dHJpYnV0aW9uJyxcclxuICAgICAgICAgICAgaW5zdGFuY2U6IHRoaXMuQXR0cmlidXRpb25CdG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4gPSBuZXcgdGhpcy5BdHRyaWJ1dGlvbih7XHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQXR0cmlidXRpb24nKVxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgbmFtZTogJ0F0dHJpYnV0aW9uJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkF0dHJpYnV0aW9uQnRuXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuQXR0cmlidXRpb25CdG4pIHtcclxuICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQXR0cmlidXRpb24nKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nYXR0cmlidXRpb24tbWFwLXRvb2wnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VNYXAgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnQmFzZU1hcCdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdCYXNlTWFwTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkJhc2VNYXBMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPEJhc2VNYXBJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQmFzZU1hcElubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGlzTW9iaWxlOiBib29sZWFuXHJcbn1cclxuXHJcbmludGVyZmFjZSBCYXNlTWFwSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIEJhc2VNYXBJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8QmFzZU1hcElubmVyUHJvcHMsIEJhc2VNYXBJbm5lclN0YXRlPiB7XHJcbiAgQmFzZU1hcDogdHlwZW9mIF9fZXNyaS5CYXNlbWFwR2FsbGVyeSA9IG51bGxcclxuICBCYXNlTWFwQnRuOiBfX2VzcmkuQmFzZW1hcEdhbGxlcnlcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0Jhc2VtYXBHYWxsZXJ5J10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuQmFzZU1hcF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEJhc2VNYXBJbm5lclByb3BzKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuQmFzZU1hcEJ0bikge1xyXG4gICAgICAgICAgdGhpcy5CYXNlTWFwQnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICAgIHRoaXMuQmFzZU1hcEJ0bi5yZW5kZXJOb3coKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLkJhc2VNYXBCdG4gPSBuZXcgdGhpcy5CYXNlTWFwKHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdCYXNlTWFwJylcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgIG5hbWU6ICdCYXNlTWFwJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkJhc2VNYXBCdG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5CYXNlTWFwQnRuKSB7XHJcbiAgICAgIHRoaXMuQmFzZU1hcEJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5CYXNlTWFwQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdCYXNlTWFwJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdiYXNlbWFwLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIG1pbkhlaWdodDogJzMycHgnLCBtYXhXaWR0aDogJ25vbmUnLCBtYXhIZWlnaHQ6ICdub25lJywgb3ZlcmZsb3dZOiAnYXV0bycsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzI1MHB4JywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19XHJcbiAgICAgICAgICBjbGFzc05hbWU9J2V4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0IGJhc2VtYXAtbWFwLXRvb2wnXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCBnZXRBcHBTdG9yZSwgSW1tdXRhYmxlT2JqZWN0LCBKaW11TWFwVmlld0luZm8gfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IFNob3dPbk1hcERhdGFzLCBTaG93T25NYXBEYXRhVHlwZSB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBJY29uLCBEcm9wZG93biwgRHJvcGRvd25NZW51LCBEcm9wZG93blRvZ2dsZSwgRHJvcGRvd25JdGVtLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgaXNPcGVuOiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsZWFyQWN0aW9uRGF0YSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlPiB7XHJcbiAgdG9vbE5hbWUgPSAnQ2xlYXJBY3Rpb25EYXRhJ1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHsgaXNPcGVuOiBmYWxzZSB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC5qaW11LWRyb3Bkb3duIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIC5pY29uLWJ0biB7XHJcbiAgICAgICAgICBwYWRkaW5nOiA3cHg7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdjbGVhclJlc3VsdHMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmNsZWFyUmVzdWx0cyB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3RyYXNoLnN2ZycpLFxyXG4gICAgICBvbkljb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMub25JY29uQ2xpY2soKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVBY3Rpb25EYXRhSXRlbSAoYWN0aW9uRGF0YUlkOiBzdHJpbmcsIGFjdGlvbkRhdGFUaXRsZTogc3RyaW5nLCBtYXBXaWRnZXRJZDogc3RyaW5nLCBrZXk6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPERyb3Bkb3duSXRlbVxyXG4gICAgICAgIGtleT17a2V5fVxyXG4gICAgICAgIGhlYWRlcj17ZmFsc2V9XHJcbiAgICAgICAgb25DbGljaz17ZSA9PiB0aGlzLm9uQWN0aW9uSXRlbUNsaWNrKGUsIGFjdGlvbkRhdGFJZCwgbWFwV2lkZ2V0SWQpfVxyXG4gICAgICA+XHJcbiAgICAgICAge2FjdGlvbkRhdGFUaXRsZX1cclxuICAgICAgPC9Ecm9wZG93bkl0ZW0+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRTaG93T25NYXBEYXRhcyAobWFwV2lkZ2V0SWQ6IHN0cmluZykge1xyXG4gICAgY29uc3Qgc2hvd09uTWFwRGF0YXM6IFNob3dPbk1hcERhdGFzID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW21hcFdpZGdldElkXSk/LnNob3dPbk1hcERhdGFzIHx8IHt9XHJcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc2hvd09uTWFwRGF0YXMpLmZpbHRlcihlbnRyeSA9PiB7XHJcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGppbXVNYXBWaWV3SWQgd2hpbGUgZ2VuZXJhdGluZyB0aGUgYWN0aW9uIGRhdGEgaWYgdGhlIG1hcCB3aWRnZXQgaGFzbid0IGJlZW4gbG9hZGVkIGluIHRoZSBhbm90aGVyIHBhZ2UvdmlldyxcclxuICAgICAgLy8gdXNlIGEgZGVmYXVsdCBqaW11TWFwVmlld0lkIHRvIHNob3cgZGF0YS5cclxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBlbnRyeVsxXS5qaW11TWFwVmlld0lkXHJcbiAgICAgIGlmICghamltdU1hcFZpZXdJZCAmJiBlbnRyeVsxXS5tYXBXaWRnZXRJZCA9PT0gbWFwV2lkZ2V0SWQpIHtcclxuICAgICAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvOiBJbW11dGFibGVPYmplY3Q8e1tqaW11TWFwVmlld0lkOiBzdHJpbmddOiBKaW11TWFwVmlld0luZm99PiA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5qaW11TWFwVmlld3NJbmZvXHJcbiAgICAgICAgamltdU1hcFZpZXdJZCA9IE9iamVjdC5rZXlzKGppbXVNYXBWaWV3c0luZm8gfHwge30pLmZpbmQodmlld0lkID0+IGppbXVNYXBWaWV3c0luZm9bdmlld0lkXS5tYXBXaWRnZXRJZCA9PT0gbWFwV2lkZ2V0SWQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAoamltdU1hcFZpZXdJZCA9PT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCAmJiBlbnRyeVsxXS50eXBlID09PSBTaG93T25NYXBEYXRhVHlwZS5EYXRhQWN0aW9uKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9uSWNvbkNsaWNrID0gKCkgPT4ge31cclxuXHJcbiAgb25Ecm9wRG93blRvZ2dsZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW46ICF0aGlzLnN0YXRlLmlzT3BlbiB9KVxyXG4gIH1cclxuXHJcbiAgb25BY3Rpb25JdGVtQ2xpY2sgPSAoZXZ0LCBhY3Rpb25EYXRhSWQ6IHN0cmluZywgbWFwV2lkZ2V0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSlcclxuICAgIGNvbnN0IHNob3dPbk1hcERhdGFzID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW21hcFdpZGdldElkXSk/LnNob3dPbk1hcERhdGFzXHJcbiAgICBpZiAoc2hvd09uTWFwRGF0YXMpIHtcclxuICAgICAgZGVsZXRlIHNob3dPbk1hcERhdGFzW2FjdGlvbkRhdGFJZF1cclxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUobWFwV2lkZ2V0SWQsICdzaG93T25NYXBEYXRhcycsIHNob3dPbk1hcERhdGFzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIC8vIHJldHVybiAoXHJcbiAgICAvLyAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b24nPlxyXG4gICAgLy8gICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0SWNvbigpLmljb259IC8+XHJcbiAgICAvLyAgPC9kaXY+XHJcbiAgICAvLyApXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG4sIG1hcFdpZGdldElkIH0pID0+IChcclxuICAgICAgICAgIHRoaXMuZ2V0Q29udGVudChpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG4sIG1hcFdpZGdldElkKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG5cclxuICAgIClcclxuICB9XHJcblxyXG4gIGdldENvbnRlbnQgPSAoaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuOiBib29sZWFuLCBtYXBXaWRnZXRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XHJcbiAgICAgICAgICA8RHJvcGRvd25cclxuICAgICAgICAgICAgZGlyZWN0aW9uPSdkb3duJ1xyXG4gICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgdG9nZ2xlPXt0aGlzLm9uRHJvcERvd25Ub2dnbGV9XHJcbiAgICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5pc09wZW59XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxEcm9wZG93blRvZ2dsZSBpY29uIHNpemU9J3NtJyB0eXBlPSdkZWZhdWx0Jz5cclxuICAgICAgICAgICAgICA8SWNvbiBzaXplPXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxyXG4gICAgICAgICAgICA8L0Ryb3Bkb3duVG9nZ2xlPlxyXG4gICAgICAgICAgICA8RHJvcGRvd25NZW51PlxyXG4gICAgICAgICAgICAgIHt0aGlzLmdldFNob3dPbk1hcERhdGFzKG1hcFdpZGdldElkKS5tYXAoKGVudHJ5LCBpbmRleCkgPT4gdGhpcy5jcmVhdGVBY3Rpb25EYXRhSXRlbShlbnRyeVswXSwgZW50cnlbMV0udGl0bGUsIG1hcFdpZGdldElkLCBpbmRleCkpfVxyXG4gICAgICAgICAgICA8L0Ryb3Bkb3duTWVudT5cclxuICAgICAgICAgIDwvRHJvcGRvd24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wYXNzIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0NvbXBhc3MnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnQ29tcGFzc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5Db21wYXNzTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxDb21wYXNzSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGFzc0lubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGFzc0lubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBDb21wYXNzSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PENvbXBhc3NJbm5lclByb3BzLCBDb21wYXNzSW5uZXJTdGF0ZT4ge1xyXG4gIENvbXBhc3M6IHR5cGVvZiBfX2VzcmkuQ29tcGFzcyA9IG51bGxcclxuICBDb21wYXNzQnRuOiBfX2VzcmkuQ29tcGFzc1xyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQ29tcGFzcyddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkNvbXBhc3NdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuQ29tcGFzc0J0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuQ29tcGFzc0J0biA9IG5ldyB0aGlzLkNvbXBhc3Moe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdDb21wYXNzJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ0NvbXBhc3MnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLkNvbXBhc3NCdG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkNvbXBhc3NCdG4pIHtcclxuICAgICAgdGhpcy5Db21wYXNzQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkNvbXBhc3NCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0NvbXBhc3MnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nY29tcGFzcy1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGdWxsc2NyZWVuIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0Z1bGxzY3JlZW4nXHJcbiAgaXNGdWxsU2NyZWVuID0gZmFsc2VcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdGdWxsU2NyZWVuTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkZ1bGxTY3JlZW5MYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogdGhpcy5pc0Z1bGxTY3JlZW4gPyByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmcnKSA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmcnKSxcclxuICAgICAgb25JY29uQ2xpY2s6IChldnQ/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pID0+IHtcclxuICAgICAgICB0aGlzLmZ1bGxTY3JlZW5NYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdWxsU2NyZWVuTWFwID0gKCkgPT4ge31cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRDb250ZW50ID0gKGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbikgPT4ge1xyXG4gICAgdGhpcy5mdWxsU2NyZWVuTWFwID0gZnVsbFNjcmVlbk1hcFxyXG4gICAgdGhpcy5pc0Z1bGxTY3JlZW4gPSBpc0Z1bGxTY3JlZW5cclxuICAgIHJldHVybiBzdXBlci5yZW5kZXIoKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbiB9KSA9PiAoXHJcbiAgICAgICAgICB0aGlzLmdldENvbnRlbnQoZnVsbFNjcmVlbk1hcCwgaXNGdWxsU2NyZWVuKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBJbml0aWFsTWFwU3RhdGUgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL21hcCdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdIb21lJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0hvbWVMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuSG9tZUxhYmVsIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0SG9tZUNvbnRlbnQgPSAoaW5pdGlhbE1hcFN0YXRlOiBJbml0aWFsTWFwU3RhdGUpID0+IHtcclxuICAgIHJldHVybiA8SG9tZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBpbml0aWFsTWFwU3RhdGU9e2luaXRpYWxNYXBTdGF0ZX0gLz5cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAvLyByZXR1cm4gPEhvbWVJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9Ib21lSW5uZXI+O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgaW5pdGlhbE1hcFN0YXRlIH0pID0+IChcclxuICAgICAgICAgIHRoaXMuZ2V0SG9tZUNvbnRlbnQoaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEhvbWVJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSG9tZUlubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBIb21lSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEhvbWVJbm5lclByb3BzLCBIb21lSW5uZXJTdGF0ZT4ge1xyXG4gIEhvbWU6IHR5cGVvZiBfX2VzcmkuSG9tZSA9IG51bGxcclxuICBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnkuRXh0ZW50XHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludFxyXG5cclxuICBob21lQnRuOiBfX2VzcmkuSG9tZVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvSG9tZScsXHJcbiAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvRXh0ZW50JyxcclxuICAgICAgICAnZXNyaS9WaWV3cG9pbnQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5Ib21lLCB0aGlzLkV4dGVudCwgdGhpcy5WaWV3cG9pbnRdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBIb21lSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXcpIHtcclxuICAgICAgaWYgKHRoaXMuaG9tZUJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuaG9tZUJ0biA9IG5ldyB0aGlzLkhvbWUoe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxyXG4gICAgICAgIHZpZXdwb2ludDogdGhpcy5wcm9wcy5pbml0aWFsTWFwU3RhdGVcclxuICAgICAgICAgID8gdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUodGhpcy5wcm9wcy5pbml0aWFsTWFwU3RhdGUpXHJcbiAgICAgICAgICA6ICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcubWFwIGFzIF9fZXNyaS5XZWJNYXAgfCBfX2VzcmkuV2ViU2NlbmUpLmluaXRpYWxWaWV3UHJvcGVydGllcy52aWV3cG9pbnRcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0hvbWUnKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnSG9tZScsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuaG9tZUJ0blxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKHByZXZQcm9wcy5pbml0aWFsTWFwU3RhdGUgIT09IHRoaXMucHJvcHMuaW5pdGlhbE1hcFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldykge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LmdvVG8odGhpcy5ob21lQnRuLnZpZXdwb2ludCwge1xyXG4gICAgICAgICAgICBhbmltYXRlOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5ob21lQnRuLmRlc3Ryb3koKVxyXG4gICAgICAgICAgdGhpcy5ob21lQnRuID0gbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlID0gKGluaXRpYWxNYXBTdGF0ZTogSW5pdGlhbE1hcFN0YXRlKTogX19lc3JpLlZpZXdwb2ludCA9PiB7XHJcbiAgICBpZiAoaW5pdGlhbE1hcFN0YXRlLnZpZXdUeXBlID09PSAnMmQnKSB7XHJcbiAgICAgIHJldHVybiBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IHRoaXMuRXh0ZW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS5leHRlbnQpLFxyXG4gICAgICAgICAgcm90YXRpb246IGluaXRpYWxNYXBTdGF0ZS5yb3RhdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuVmlld3BvaW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS52aWV3UG9pbnQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5ob21lQnRuKSB7XHJcbiAgICAgIHRoaXMuaG9tZUJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5ob21lQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdIb21lJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Vzcmktd2lkZ2V0LS1idXR0b24gaG9tZS1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyBpZiAoIXRoaXMuY29udGFpbmVyKSB7IHRoaXMuY29udGFpbmVyID0gcmVmIH0gfX0gLz5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzLCBOYXYsIE5hdkl0ZW0sIE5hdkxpbmsgfSBmcm9tICdqaW11LXVpJ1xyXG5cclxuaW50ZXJmYWNlIFN0YXRlcyB7XHJcbiAgYWN0aXZlVGFiSW5kZXg6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXllcnMgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcclxuICB0b29sTmFtZSA9ICdMYXllcnMnXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhY3RpdmVUYWJJbmRleDogMFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdMYXllcnNMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTGF5ZXJzTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9sYXllcmxpc3Quc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHRoaXMucHJvcHMuaXNNb2JpbGUgPyAnMTAwJScgOiAnMjUwcHgnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX1cclxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyAnZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQnOiAhdGhpcy5wcm9wcy5pc01vYmlsZSB9KX1cclxuICAgICAgPlxyXG4gICAgICAgIDxOYXYgdGFicz5cclxuICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDB9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgwKSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsTGF5ZXInLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkxheWVyc0xhYmVsTGF5ZXIgfSl9XHJcbiAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDF9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgxKSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsTGVnZW5kJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5MYXllcnNMYWJlbExlZ2VuZCB9KX1cclxuICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgPC9OYXZJdGVtPlxyXG4gICAgICAgIDwvTmF2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC0xJyAvPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwICYmIDxMYXllckxpc3RJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz59XHJcbiAgICAgICAge3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDEgJiYgPExlZ2VuZElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVUYWJJbmRleENoYW5nZSA9IChhY3RpdmVUYWJJbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWN0aXZlVGFiSW5kZXg6IGFjdGl2ZVRhYkluZGV4XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIElubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIExheWVyTGlzdElubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJbm5lclByb3BzLCBJbm5lclN0YXRlPiB7XHJcbiAgTGF5ZXJMaXN0OiB0eXBlb2YgX19lc3JpLkxheWVyTGlzdCA9IG51bGxcclxuICBMYXllckxpc3RCdG46IF9fZXNyaS5MYXllckxpc3RcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xheWVyTGlzdCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkxheWVyTGlzdF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IElubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcclxuICAgICAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcclxuICAgICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuLnJlbmRlck5vdygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuID0gbmV3IHRoaXMuTGF5ZXJMaXN0KHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdMYXllckxpc3QnKVxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgbmFtZTogJ0xheWVyTGlzdCcsXHJcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcy5MYXllckxpc3RCdG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcclxuICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xheWVyTGlzdCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2xheWVycy1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgTGVnZW5kSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElubmVyUHJvcHMsIElubmVyU3RhdGU+IHtcclxuICBMZWdlbmQ6IHR5cGVvZiBfX2VzcmkuTGVnZW5kID0gbnVsbFxyXG4gIExlZ2VuZEJ0bjogX19lc3JpLkxlZ2VuZFxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTGVnZW5kJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTGVnZW5kXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xyXG4gICAgICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xyXG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4ucmVuZGVyTm93KClcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5MZWdlbmRCdG4gPSBuZXcgdGhpcy5MZWdlbmQoe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xlZ2VuZCcpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnTGVnZW5kJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkxlZ2VuZEJ0blxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xyXG4gICAgICB0aGlzLkxlZ2VuZEJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTGVnZW5kJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdMb2NhdGUnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnTG9jYXRlJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPExvY2F0ZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIExvY2F0ZUlubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTG9jYXRlSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIExvY2F0ZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMb2NhdGVJbm5lclByb3BzLCBMb2NhdGVJbm5lclN0YXRlPiB7XHJcbiAgTG9jYXRlOiB0eXBlb2YgX19lc3JpLkxvY2F0ZSA9IG51bGxcclxuICBMb2NhdGVCdG46IF9fZXNyaS5Mb2NhdGVcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xvY2F0ZSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkxvY2F0ZV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5Mb2NhdGVCdG4pIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG5ldyB0aGlzLkxvY2F0ZSh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xvY2F0ZScpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLkxvY2F0ZUJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuTG9jYXRlQnRuKSB7XHJcbiAgICAgIHRoaXMuTG9jYXRlQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTG9jYXRlJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Vzcmktd2lkZ2V0LS1idXR0b24gbG9jYXRlLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgcG9saXNoZWQsIGdldEFwcFN0b3JlLCBjbGFzc05hbWVzLCBhcHBBY3Rpb25zIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCBNYXBUaHVtYiBmcm9tICcuLi9jb21wb25lbnRzL21hcC10aHVtYidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFN3aXRjaCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdNYXBTd2l0Y2gnXHJcblxyXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDY4KX07XHJcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNTIpfTtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAubWFwdGh1bWItaXRlbSB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg2NCl9O1xyXG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNDgpfTtcclxuICAgICAgICB0cmFuc2l0aW9uOiBib3R0b20gMC41cywgbGVmdCAwLjVzLCB0b3AgMC41cywgcmlnaHQgMC41cywgei1pbmRleCAwLjVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZnJvbnQge1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5iYWNrIHtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdNYXBTd2l0Y2gnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJyksXHJcbiAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hNYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzd2l0Y2hNYXAgPSAoKSA9PiB7fVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgeyh7IGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSB9KSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29udGVudChpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwLCBtYXBXaWRnZXRJZCwgdGhlbWUpXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q29udGVudCA9IChpc1Nob3dNYXBTd2l0Y2hCdG46IGJvb2xlYW4sIGRhdGFTb3VyY2VJZHM6IHN0cmluZ1tdLCBhY3RpdmVEYXRhU291cmNlSWQ6IHN0cmluZywgc3dpdGNoTWFwLCBtYXBXaWRnZXRJZCwgdGhlbWUpID0+IHtcclxuICAgIGNvbnN0IG9uQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5yZXF1ZXN0QXV0b0NvbnRyb2xNYXBXaWRnZXQobWFwV2lkZ2V0SWQsIG1hcFdpZGdldElkKSlcclxuICAgICAgc3dpdGNoTWFwKClcclxuICAgIH1cclxuICAgIGlmIChpc1Nob3dNYXBTd2l0Y2hCdG4pIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b24nIG9uQ2xpY2s9e29uQ2xpY2t9PlxyXG4gICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dGhpcy5nZXRJY29uKCkuaWNvbn0gLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBkc0pzb25zID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5kYXRhU291cmNlc1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21hcHN3aXRjaC1tYXAtdG9vbCcgY3NzPXt0aGlzLmdldFN0eWxlKCl9IG9uQ2xpY2s9e29uQ2xpY2t9PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgdGl0bGU9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dLmxhYmVsIDogbnVsbH0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdtYXB0aHVtYi1pdGVtJywgeyBmcm9udDogZGF0YVNvdXJjZUlkc1swXSAhPT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0sXHJcbiAgICAgICAgICAgICAgICB7IGJhY2s6IGRhdGFTb3VyY2VJZHNbMF0gPT09IGFjdGl2ZURhdGFTb3VyY2VJZCB9KX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxNYXBUaHVtYlxyXG4gICAgICAgICAgICAgICAgbWFwSXRlbUlkPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5pdGVtSWQgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgcG9ydFVybD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0ucG9ydGFsVXJsIDogbnVsbH1cclxuICAgICAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHRpdGxlPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXS5sYWJlbCA6IG51bGx9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWFwdGh1bWItaXRlbScsIHsgZnJvbnQ6IGRhdGFTb3VyY2VJZHNbMV0gIT09IGFjdGl2ZURhdGFTb3VyY2VJZCB9LFxyXG4gICAgICAgICAgICAgICAgeyBiYWNrOiBkYXRhU291cmNlSWRzWzFdID09PSBhY3RpdmVEYXRhU291cmNlSWQgfSl9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8TWFwVGh1bWJcclxuICAgICAgICAgICAgICAgIG1hcEl0ZW1JZD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0uaXRlbUlkIDogbnVsbH1cclxuICAgICAgICAgICAgICAgIHBvcnRVcmw9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dLnBvcnRhbFVybCA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICB0aGVtZT17dGhlbWV9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRJY29uQ29udGVudCA9IChpc1Nob3dNYXBTd2l0Y2hCdG46IGJvb2xlYW4sIGRhdGFTb3VyY2VJZHM6IHN0cmluZ1tdLCBhY3RpdmVEYXRhU291cmNlSWQ6IHN0cmluZywgc3dpdGNoTWFwKSA9PiB7XHJcbiAgICBpZiAoaXNTaG93TWFwU3dpdGNoQnRuKSB7XHJcbiAgICAgIHRoaXMuc3dpdGNoTWFwID0gc3dpdGNoTWFwXHJcbiAgICAgIHJldHVybiBzdXBlci5yZW5kZXIoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy50b29sSnNvbi5pc09ubHlFeHBhbmRlZCkge1xyXG4gICAgICByZXR1cm4gc3VwZXIucmVuZGVyKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgIHsoeyBpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwIH0pID0+IChcclxuICAgICAgICAgICAgdGhpcy5nZXRJY29uQ29udGVudChpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwKVxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSWNvbiwgTmF2LCBOYXZJdGVtLCBOYXZMaW5rLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcblxyXG50eXBlIE1lYXN1cmVUeXBlID0gX19lc3JpLk1lYXN1cmVtZW50XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXHJcbiAgbWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWFzdXJlIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU3RhdGVzPiB7XHJcbiAgdG9vbE5hbWUgPSAnTWVhc3VyZSdcclxuICBtZWFzdXJlTW9kdWxlczJEID0gW3tcclxuICAgIG5hbWU6ICdMaW5lJyxcclxuICAgIHRpdGxlOiAnTGluZScsXHJcbiAgICBhY3RpdmVUb29sOiAnZGlzdGFuY2UnLFxyXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdQb2x5Z29uJyxcclxuICAgIHRpdGxlOiAnUG9seWdvbicsXHJcbiAgICBhY3RpdmVUb29sOiAnYXJlYScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcclxuICB9XVxyXG5cclxuICBtZWFzdXJlTW9kdWxlczNEID0gW3tcclxuICAgIG5hbWU6ICdMaW5lJyxcclxuICAgIHRpdGxlOiAnTGluZScsXHJcbiAgICBhY3RpdmVUb29sOiAnZGlyZWN0LWxpbmUnLFxyXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdQb2x5Z29uJyxcclxuICAgIHRpdGxlOiAnUG9seWdvbicsXHJcbiAgICBhY3RpdmVUb29sOiAnYXJlYScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcclxuICB9XVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiAwLFxyXG4gICAgICBtZWFzdXJlSW5zdGFuY2U6IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnTWVhc3VyZUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5NZWFzdXJlTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlICYmICEodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UgYXMgYW55KS5kZXN0cm95ZWQpIHtcclxuICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlIGFzIGFueSkuZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG1lYXN1cmVJbnN0YW5jZTogbnVsbCxcclxuICAgICAgICBhY3RpdmVUYWJJbmRleDogMFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQgPSAobWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1lYXN1cmVJbnN0YW5jZTogbWVhc3VyZUluc3RhbmNlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25UYWJDbGljayA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZS5jbGVhcigpXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlVGFiSW5kZXg6IGluZGV4IH0pXHJcbiAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnID8gJ2Rpc3RhbmNlJyA6ICdkaXJlY3QtbGluZSdcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9ICdhcmVhJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25DbG9zZVBhbmVsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5kZXN0cm95KClcclxuICB9XHJcblxyXG4gIG9uU2hvd1BhbmVsID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnID8gJ2Rpc3RhbmNlJyA6ICdkaXJlY3QtbGluZSdcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAxKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9ICdhcmVhJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXROYXZUYWIgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TmF2IHRhYnM+e1xyXG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczJELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxOYXZJdGVtIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gb25DbGljaz17KCkgPT4geyB0aGlzLm9uVGFiQ2xpY2soaW5kZXgpIH19PlxyXG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nbS0wJyBpY29uPXttb2R1bGUuc3JjfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgPC9OYXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICczZCcpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TmF2IHRhYnM+e1xyXG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczNELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxOYXZJdGVtIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gb25DbGljaz17KCkgPT4geyB0aGlzLm9uVGFiQ2xpY2soaW5kZXgpIH19PlxyXG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nbS0wJyBpY29uPXttb2R1bGUuc3JjfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgPC9OYXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNZWFzdXJlTW9kdWxlID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1lYXN1cmVNb2R1bGVzMkRbdGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleF1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm1lYXN1cmVNb2R1bGVzM0RbdGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleF1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgc3R5bGU9e3sgd2lkdGg6IHRoaXMucHJvcHMuaXNNb2JpbGUgPyAnMTAwJScgOiAnMjUwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fVxyXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7ICdleGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCc6ICF0aGlzLnByb3BzLmlzTW9iaWxlIH0pfVxyXG4gICAgICA+XHJcbiAgICAgICAge3RoaXMuZ2V0TmF2VGFiKCl9XHJcbiAgICAgICAgPE1lYXN1cmVJbm5lclxyXG4gICAgICAgICAgYWN0aXZlVGFiSW5kZXg9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXh9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fVxyXG4gICAgICAgICAgbWVhc3VyZU1vZHVsZT17dGhpcy5nZXRNZWFzdXJlTW9kdWxlKCl9XHJcbiAgICAgICAgICBtZWFzdXJlSW5zdGFuY2U9e3RoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlfVxyXG4gICAgICAgICAgb25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZD17dGhpcy5oYW5kbGVNZWFzdXJjZUluc3RhbmNlQ3JlYXRlZH1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWFzdXJlSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgbWVhc3VyZU1vZHVsZToge25hbWU6IHN0cmluZywgdGl0bGU6IHN0cmluZywgYWN0aXZlVG9vbDogc3RyaW5nfVxyXG4gIG1lYXN1cmVJbnN0YW5jZTogTWVhc3VyZVR5cGVcclxuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXHJcbiAgb25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZDogKGluc3RhbmNlOiBNZWFzdXJlVHlwZSkgPT4gdm9pZFxyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVhc3VyZUlubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBNZWFzdXJlSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE1lYXN1cmVJbm5lclByb3BzLCBNZWFzdXJlSW5uZXJTdGF0ZT4ge1xyXG4gIE1lYXN1cmVDbGFzczogdHlwZW9mIF9fZXNyaS5EaXN0YW5jZU1lYXN1cmVtZW50MkQgfCB0eXBlb2YgX19lc3JpLkFyZWFNZWFzdXJlbWVudDJEIHwgdHlwZW9mIF9fZXNyaS5EaXJlY3RMaW5lTWVhc3VyZW1lbnQzRCB8IHR5cGVvZiBfX2VzcmkuQXJlYU1lYXN1cmVtZW50M0RcclxuICBNZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlID0gbnVsbFxyXG5cclxuICBwYXJlbnRDb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIHRvb2xOYW1lOiBzdHJpbmcgPSAnbWVhc3VyZW1lbnQnXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL01lYXN1cmVtZW50J10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTWVhc3VyZUNsYXNzXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogTWVhc3VyZUlubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLnBhcmVudENvbnRhaW5lciAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAoIXRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlKSB7XHJcbiAgICAgICAgLy8gY3JhdGUgbWVhc3VyZSBpc250YW5jZSBoZXJlXHJcbiAgICAgICAgY29uc3QgdGVtcEluc3RhbmNlOiBhbnkgPSBuZXcgdGhpcy5NZWFzdXJlQ2xhc3Moe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGVtcEluc3RhbmNlLmFjdGl2ZVRvb2wgPSB0aGlzLnByb3BzLm1lYXN1cmVNb2R1bGUuYWN0aXZlVG9vbFxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2wodGhpcy50b29sTmFtZSlcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICAgIG5hbWU6IHRoaXMudG9vbE5hbWUsXHJcbiAgICAgICAgICBpbnN0YW5jZTogdGVtcEluc3RhbmNlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmNlSW5zdGFuY2VDcmVhdGVkKHRlbXBJbnN0YW5jZSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3KSB7XHJcbiAgICAgICAgICAvLyBtYXAgdmlldyBjaGFuZ2VkIGJ5IHN3aXRjaFxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuY2xlYXIoKVxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMubWVhc3VyZU1vZHVsZS5hY3RpdmVUb29sXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY2hlY2tDb250YWluZXIoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tDb250YWluZXIgPSAoKSA9PiB7XHJcbiAgICBpZiAoKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9PT0gJzAnIHx8ICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPT09IDApIHtcclxuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLmhlaWdodCA9ICcnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZWxvYWQgKCkge1xyXG4gICAgaWYgKHRoaXMuY29udGFpbmVyLmNoaWxkTm9kZXMgJiYgdGhpcy5jb250YWluZXIuY2hpbGROb2Rlc1swXSkge1xyXG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUuaGVpZ2h0ID0gJzM1cHgnXHJcbiAgICB9XHJcblxyXG4gICAgLy90aGlzLnNldFN0YXRlKHtcclxuICAgIC8vICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICAvL30sICgpID0+IHtcclxuICAgIC8vICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL01lYXN1cmVtZW50J10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAvLyAgICBbdGhpcy5NZWFzdXJlQ2xhc3NdID0gbW9kdWxlc1xyXG4gICAgLy8gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAvLyAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgLy8gICAgfSlcclxuICAgIC8vICB9KVxyXG4gICAgLy99KVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCcgc3R5bGU9e3sgd2lkdGg6ICcyNTBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6ICczMnB4JyB9fSByZWY9e3JlZiA9PiB7IHRoaXMucGFyZW50Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtZWFzdXJlLWNvbnRhaW5lciBtZWFzdXJlLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdOYXZpZ2F0aW9uJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gJ05hdmlnYXRpb24nXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiA8TmF2aWdhdGlvbklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIE5hdmlnYXRpb25Jbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIE5hdmlnYXRpb25Jbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgTmF2aWdhdGlvbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxOYXZpZ2F0aW9uSW5uZXJQcm9wcywgTmF2aWdhdGlvbklubmVyU3RhdGU+IHtcclxuICBOYXZpZ2F0aW9uOiB0eXBlb2YgX19lc3JpLk5hdmlnYXRpb25Ub2dnbGUgPSBudWxsXHJcbiAgTmF2aWdhdGlvbkJ0bjogX19lc3JpLk5hdmlnYXRpb25Ub2dnbGVcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL05hdmlnYXRpb25Ub2dnbGUnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5OYXZpZ2F0aW9uXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLk5hdmlnYXRpb25CdG4pIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLk5hdmlnYXRpb25CdG4gPSBuZXcgdGhpcy5OYXZpZ2F0aW9uKHtcclxuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTmF2aWdhdGlvbicpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdOYXZpZ2F0aW9uJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5OYXZpZ2F0aW9uQnRuXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5OYXZpZ2F0aW9uQnRuKSB7XHJcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5OYXZpZ2F0aW9uQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdOYXZpZ2F0aW9uJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J25hdmlnYXRpb24tbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYWxlQmFyIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ1NjYWxlQmFyJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gJ1NjYWxlQmFyJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPFNjYWxlQmFySW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgU2NhbGVCYXJJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIFNjYWxlQmFySW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIFNjYWxlQmFySW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNjYWxlQmFySW5uZXJQcm9wcywgU2NhbGVCYXJJbm5lclN0YXRlPiB7XHJcbiAgU2NhbGVCYXI6IHR5cGVvZiBfX2VzcmkuU2NhbGVCYXIgPSBudWxsXHJcbiAgU2NhbGVCYXJCdG46IF9fZXNyaS5TY2FsZUJhclxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvU2NhbGVCYXInXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5TY2FsZUJhcl0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5TY2FsZUJhckJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBuZXcgdGhpcy5TY2FsZUJhcih7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXHJcbiAgICAgICAgdW5pdDogJ2R1YWwnXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdTY2FsZUJhcicpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdTY2FsZUJhcicsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuU2NhbGVCYXJCdG5cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLlNjYWxlQmFyQnRuKSB7XHJcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NjYWxlQmFyJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3NjYWxlYmFyLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIGdldEFwcFN0b3JlLCBNZXNzYWdlTWFuYWdlciwgTG9jYXRpb25DaGFuZ2VNZXNzYWdlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3LCB6b29tVG9VdGlscyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ1NlYXJjaCdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWFyY2hMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VhcmNoTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9zZWFyY2guc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCB3aWR0aDogJzEwMCUnIH19PlxyXG4gICAgICAgICAgPFNlYXJjaElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1pbldpZHRoOiAnMjUwcHgnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICA8U2VhcmNoSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgU2VhcmNoSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2VhcmNoSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIFNlYXJjaElubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTZWFyY2hJbm5lclByb3BzLCBTZWFyY2hJbm5lclN0YXRlPiB7XHJcbiAgU2VhcmNoOiB0eXBlb2YgX19lc3JpLndpZGdldHNTZWFyY2ggPSBudWxsXHJcbiAgUG9ydGFsOiB0eXBlb2YgX19lc3JpLlBvcnRhbCA9IG51bGxcclxuICBTZWFyY2hCdG46IF9fZXNyaS53aWRnZXRzU2VhcmNoXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIC8qIGJvcmRlcjogc29saWQgMXB4IHJnYmEoMTEwLDExMCwxMTAsMC4zKTsgKi9cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9TZWFyY2gnLCAnZXNyaS9wb3J0YWwvUG9ydGFsJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuU2VhcmNoLCB0aGlzLlBvcnRhbF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5TZWFyY2hCdG4pIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLlNlYXJjaEJ0biA9IG5ldyB0aGlzLlNlYXJjaCh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXHJcbiAgICAgICAgcG9ydGFsOiBuZXcgdGhpcy5Qb3J0YWwoe1xyXG4gICAgICAgICAgdXJsOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkucG9ydGFsVXJsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NlYXJjaCcpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLlNlYXJjaEJ0blxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5TZWFyY2hCdG4ub24oJ3NlbGVjdC1yZXN1bHQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyB1c2Ugem9vbVRvVXRpbHMgdG8gaW5zdGVhZCBvZiBkZWZhdWx0IHpvb20gZm9yIHNlYXJpbmcgcmVzdWx0IHdpdGggc2luZ2xlIHBvaW50XHJcbiAgICAgICAgaWYgKGV2ZW50Py5yZXN1bHQ/LmZlYXR1cmU/LmxheWVyICYmIGV2ZW50Py5yZXN1bHQ/LmZlYXR1cmU/Lmdlb21ldHJ5Py50eXBlID09PSAncG9pbnQnKSB7XHJcbiAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8odGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LCBbZXZlbnQucmVzdWx0LmZlYXR1cmVdLCB7fSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZXZlbnQucmVzdWx0LmZlYXR1cmUubGF5ZXIpIHtcclxuICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gZXZlbnQucmVzdWx0LmZlYXR1cmUuZ2VvbWV0cnkudG9KU09OKClcclxuICAgICAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UobmV3IExvY2F0aW9uQ2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLm1hcFdpZGdldElkLCBnZW9tZXRyeSkpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gZXZlbnQucmVzdWx0LmZlYXR1cmUuZ2VvbWV0cnlcclxuICAgICAgICAgIGlmIChnZW9tZXRyeS50eXBlID09PSAncG9pbnQnKSB7XHJcbiAgICAgICAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UobmV3IExvY2F0aW9uQ2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLm1hcFdpZGdldElkLCBnZW9tZXRyeS50b0pTT04oKSkpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGdlb21ldHJ5LmV4dGVudC5jZW50ZXJcclxuICAgICAgICAgICAgTWVzc2FnZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5wdWJsaXNoTWVzc2FnZShuZXcgTG9jYXRpb25DaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMubWFwV2lkZ2V0SWQsIHBvaW50LnRvSlNPTigpKSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5TZWFyY2hCdG4pIHtcclxuICAgICAgdGhpcy5TZWFyY2hCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuU2VhcmNoQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdTZWFyY2gnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgc2VhcmNoLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGpzeCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBTZWxlY3RQQ1Rvb2wgfSBmcm9tICcuL3NlbGVjdC1wYydcclxuaW1wb3J0IHsgU2VsZWN0TW9iaWxlVG9vbCB9IGZyb20gJy4vc2VsZWN0LW1vYmlsZSdcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG5pbnRlcmZhY2UgU2VsZWN0U3RhdGUge31cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFNlbGVjdFN0YXRlPiB7XHJcbiAgdG9vbE5hbWUgPSAnU2VsZWN0J1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7fVxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3RMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0TGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8U2VsZWN0TW9iaWxlVG9vbFxyXG4gICAgICAgICAgaXNBY3RpdmU9e3RoaXMudG9vbE5hbWUgPT09ICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUpfVxyXG4gICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvb2xOYW1lPXt0aGlzLnRvb2xOYW1lfVxyXG4gICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSBfb25JY29uQ2xpY2s9eygpID0+IHsgKHRoaXMgYXMgYW55KS5fb25JY29uQ2xpY2soKSB9fVxyXG4gICAgICAgICAgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGludGw9e3RoaXMucHJvcHMuaW50bH0gamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9XHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIDxTZWxlY3RQQ1Rvb2wgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGludGw9e3RoaXMucHJvcHMuaW50bH0gamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3QsIHBvbGlzaGVkLCBJTVRoZW1lVmFyaWFibGVzLCBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIE1vYmlsZVBhbmVsLCBkZWZhdWx0TWVzc2FnZXMsIFJhZGlvIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBpc0FjdGl2ZTogYm9vbGVhblxyXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICB0b29sTmFtZTogc3RyaW5nXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT86IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxuICBfb25JY29uQ2xpY2s/OiAoZTogYW55KSA9PiB2b2lkXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIHNrZXRjaEluaXRpYWxlZDogYm9vbGVhblxyXG4gIGlzUXVlcnlpbmc6IGJvb2xlYW5cclxuICBpc1Nob3dTZWxlY3RTZXR0aW5nOiBib29sZWFuXHJcblxyXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcclxuICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfCAnY29udGFpbnMnXHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRQb2ludFN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTTVNDaXJjbGUnLFxyXG4gIGNvbG9yOiBbMCwgMCwgMTI4LCAxMjhdLFxyXG4gIG5hbWU6ICdDaXJjbGUnLFxyXG4gIG91dGxpbmU6IHtcclxuICAgIGNvbG9yOiBbMCwgMCwgMTI4LCAyNTVdLFxyXG4gICAgd2lkdGg6IDFcclxuICB9LFxyXG4gIHR5cGU6ICdlc3JpU01TJyxcclxuICBzaXplOiAxOFxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWxpbmVTeW1ib2wgPSB7XHJcbiAgdGFnczogWydzb2xpZCddLFxyXG4gIHRpdGxlOiAnQmx1ZSBUaGluJyxcclxuICBzdHlsZTogJ2VzcmlTTFNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDI1NV0sXHJcbiAgd2lkdGg6IDMsXHJcbiAgbmFtZTogJ0JsdWUgMScsXHJcbiAgdHlwZTogJ2VzcmlTTFMnXHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRQb2x5Z29uU3ltYm9sID0ge1xyXG4gIHN0eWxlOiAnZXNyaVNGU1NvbGlkJyxcclxuICBjb2xvcjogWzc5LCAxMjksIDE4OSwgNzddLFxyXG4gIHR5cGU6ICdlc3JpU0ZTJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBzdHlsZTogJ2VzcmlTTFNTb2xpZCcsXHJcbiAgICBjb2xvcjogWzU0LCA5MywgMTQxLCAyNTVdLFxyXG4gICAgd2lkdGg6IDEuNSxcclxuICAgIHR5cGU6ICdlc3JpU0xTJ1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgU2VsZWN0UmVjdGFuZ2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExhc3NvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnJylcclxuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExpbmVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZycpXHJcbmNvbnN0IFNlbGVjdFBvaW50SWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnJylcclxuY29uc3QgU2VsZWN0TW9yZUljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2ZycpXHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0TW9iaWxlVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xyXG4gIFNrZXRjaFZpZXdNb2RlbDogdHlwZW9mIF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBHcmFwaGljc0xheWVyOiB0eXBlb2YgX19lc3JpLkdyYXBoaWNzTGF5ZXJcclxuICBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeVxyXG4gIGpzb25VdGlsczogdHlwZW9mIF9fZXNyaS5qc29uVXRpbHMgPSBudWxsXHJcbiAgZ2VvbWV0cnlFbmdpbmU6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnlFbmdpbmVcclxuICBza2V0Y2hWaWV3TW9kZWw6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBjdXJyZW50QWN0aXZlVG9vbDogc3RyaW5nID0gJ3JlY3RhbmdsZSdcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogJ1JlY3RhbmdsZScsXHJcbiAgICAgIHNrZXRjaEluaXRpYWxlZDogZmFsc2UsXHJcbiAgICAgIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyxcclxuICAgICAgaXNRdWVyeWluZzogZmFsc2UsXHJcbiAgICAgIGlzU2hvd1NlbGVjdFNldHRpbmc6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDU1NTdHlsZSAoKSB7XHJcbiAgICBjb25zdCB0aGVtZSA9IHRoaXMucHJvcHMudGhlbWVcclxuXHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAnaW5pdGlhbCc7XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtYnRuLWhvdmVyOiBob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNTAwXSwgMC4xKX07O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY29udGVudC10aXRsZSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsIHtcclxuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICAgICAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZSB7XHJcbiAgICAgICAgd2lkdGg6IDY0cHg7XHJcbiAgICAgICAgaGVpZ2h0OiA2NHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQ6YWZ0ZXIge1xyXG4gICAgICAgIHdpZHRoOiAwO1xyXG4gICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLXRleHQge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XHJcbiAgICAgICAgd2lkdGg6IDQwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAgICdlc3JpL3dpZGdldHMvU2tldGNoL1NrZXRjaFZpZXdNb2RlbCcsXHJcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL0dyYXBoaWNzTGF5ZXInLFxyXG4gICAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeScsXHJcbiAgICAgICAgJ2Vzcmkvc3ltYm9scy9zdXBwb3J0L2pzb25VdGlscycsXHJcbiAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmUnXHJcbiAgICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuU2tldGNoVmlld01vZGVsLCB0aGlzLkdyYXBoaWNzTGF5ZXIsIHRoaXMuUXVlcnksIHRoaXMuanNvblV0aWxzLCB0aGlzLmdlb21ldHJ5RW5naW5lXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2tldGNoSW5pdGlhbGVkOiB0cnVlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGVzKSB7XHJcbiAgICBjb25zdCBwcmV2QWN0aXZlVG9vbE5hbWUgPSBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lXHJcbiAgICBjb25zdCBjdXJyZW50QWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuXHJcbiAgICBpZiAocHJldkFjdGl2ZVRvb2xOYW1lICE9PSBjdXJyZW50QWN0aXZlVG9vbE5hbWUgJiYgY3VycmVudEFjdGl2ZVRvb2xOYW1lICE9PSB0aGlzLnByb3BzLnRvb2xOYW1lICYmIGN1cnJlbnRBY3RpdmVUb29sTmFtZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpc1Nob3dTZWxlY3RTZXR0aW5nOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2U3RhdGUuc2tldGNoSW5pdGlhbGVkICE9PSB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSAmJiB0aGlzLmN1cnJlbnRBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuaXNBY3RpdmUgIT09IHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbml0aWFsU2tldGNoVG9vbCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuU2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBuZXcgdGhpcy5Ta2V0Y2hWaWV3TW9kZWwoe1xyXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyxcclxuICAgICAgICBsYXllcjogbmV3IHRoaXMuR3JhcGhpY3NMYXllcigpLFxyXG4gICAgICAgIHBvaW50U3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9pbnRTeW1ib2wpIGFzIGFueSxcclxuICAgICAgICBwb2x5bGluZVN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlsaW5lU3ltYm9sKSBhcyBhbnksXHJcbiAgICAgICAgcG9seWdvblN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlnb25TeW1ib2wpIGFzIGFueVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwub24oJ2NyZWF0ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzUXVlcnlpbmc6IHRydWVcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XHJcbiAgICAgICAgICBqaW11TWFwVmlldy5zZWxlY3RGZWF0dXJlc0J5R3JhcGhpYyhldmVudC5ncmFwaGljLCB0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXApLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICBpc1F1ZXJ5aW5nOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50U2VsZWN0VHlwZSA9IChjdXJyZW50U2VsZWN0VHlwZTogYW55KSA9PiB7XHJcbiAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2ludCcpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2ludCdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdyZWN0YW5nbGUnKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncmVjdGFuZ2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWdvbicpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5Z29uJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ2NpcmNsZScpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdjaXJjbGUnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZScpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlsaW5lJylcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlsaW5lJ1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogY3VycmVudFNlbGVjdFR5cGVcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvIHx8ICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgIT09IHRoaXMucHJvcHMudG9vbE5hbWUpKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5fb25JY29uQ2xpY2sobnVsbClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHRvZ2dsZUlzU2VsZWN0QWN0aXZlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5wcm9wcy5fb25JY29uQ2xpY2sobnVsbClcclxuICB9XHJcblxyXG4gIGhhbmRsZUlzU2hvd1NlbGVjdFNldHRpbmcgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNTaG93U2VsZWN0U2V0dGluZzogIXRoaXMuc3RhdGUuaXNTaG93U2VsZWN0U2V0dGluZ1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldFNlbGVjdFRvb2xJY29uID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFBvaW50SWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0UmVjdGFuZ2xlSWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RMYXNzb0ljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdENpcmNsZUljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RMaW5lSWNvblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1vYmlsZVBhbmVsRm9yU2VsZWN0U2V0dGluZyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IG1hcFdpZGdldElkIH0pID0+IChcclxuICAgICAgICAgIDxNb2JpbGVQYW5lbFxyXG4gICAgICAgICAgICBtYXBXaWRnZXRJZD17YCR7bWFwV2lkZ2V0SWR9LXdpdGgtc2VsZWN0LWNvbnRhaW5lcmB9IHRpdGxlPScnXHJcbiAgICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuaXNTaG93U2VsZWN0U2V0dGluZ30gdG9nZ2xlPXsoKSA9PiB7IHRoaXMuaGFuZGxlSXNTaG93U2VsZWN0U2V0dGluZygpIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCc+XHJcbiAgICAgICAgICAgICAge3RoaXMuZ2V0TW9iaWxlUGFuZWxTZXR0aW5nQ29udGVudCgpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRNb2JpbGVQYW5lbFNldHRpbmdDb250ZW50ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUgbXQtMSBtYi0yJz5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbCB9KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXInPlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJ1xyXG4gICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ1JlY3RhbmdsZScpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UmVjdGFuZ2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbydcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMYXNzbycpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0TGFzc29JY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJ1xyXG4gICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0NpcmNsZScpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2lyY2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbENpcmNsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbENpcmNsZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJ1xyXG4gICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xpbmUnKSB9fSBzdHlsZT17eyBmbG9hdDogJ2xlZnQnIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExpbmVJY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdQb2ludCcpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UG9pbnRJY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUgbXQtMSBtYi0yJz5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uTW9kZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uTW9kZSB9KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XHJcbiAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2ludGVyc2VjdHMnfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfSkgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19PlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uV2l0aGluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25XaXRoaW4gfSl9XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTInPlxyXG4gICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdjb250YWlucyd9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucycgfSkgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkNvbnRhaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkNvbnRhaW4gfSl9XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0+XHJcbiAgICAgICAge3RoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXZcclxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlSXNTZWxlY3RBY3RpdmV9IHN0eWxlPXt7fX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJywge1xyXG4gICAgICAgICAgICAnZXhibWFwLXVpLXRvb2wtaWNvbi1zZWxlY3RlZCc6IHRoaXMucHJvcHMuaXNBY3RpdmVcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9IC8+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdiBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfT5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9IC8+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdib3JkZXIgYm9yZGVyLXRvcC0wIHctMTAwJyBzdHlsZT17eyBoZWlnaHQ6ICcxcHgnIH19IC8+XHJcbiAgICAgICAge3RoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgb25DbGljaz17dGhpcy5oYW5kbGVJc1Nob3dTZWxlY3RTZXR0aW5nfSBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfT5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXtTZWxlY3RNb3JlSWNvbn0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiA8ZGl2IHN0eWxlPXt7fX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJyl9PlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e1NlbGVjdE1vcmVJY29ufSAvPlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7dGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RTZXR0aW5nICYmIHRoaXMuZ2V0TW9iaWxlUGFuZWxGb3JTZWxlY3RTZXR0aW5nKCl9XHJcbiAgICAgICAgeyh0aGlzLnN0YXRlLmlzUXVlcnlpbmcgfHwgIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSAmJiA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3QsIHBvbGlzaGVkLCBJTVRoZW1lVmFyaWFibGVzLCBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtcywgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBQb3BwZXIsIGRlZmF1bHRNZXNzYWdlcywgUmFkaW8gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcclxuICBpbnRsPzogSW50bFNoYXBlXHJcblxyXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlcyB7XHJcbiAgc2tldGNoSW5pdGlhbGVkOiBib29sZWFuXHJcbiAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBib29sZWFuXHJcbiAgaXNTaG93UmVzdWx0UG9wdXA6IGJvb2xlYW5cclxuICBpc1F1ZXJ5aW5nOiBib29sZWFuXHJcblxyXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcclxuICBpc0FjdGl2ZTogYm9vbGVhblxyXG4gIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB8ICdjb250YWlucydcclxuICByZXN1bHRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXVxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XHJcbiAgc3R5bGU6ICdlc3JpU01TQ2lyY2xlJyxcclxuICBjb2xvcjogWzAsIDAsIDEyOCwgMTI4XSxcclxuICBuYW1lOiAnQ2lyY2xlJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBjb2xvcjogWzAsIDAsIDEyOCwgMjU1XSxcclxuICAgIHdpZHRoOiAxXHJcbiAgfSxcclxuICB0eXBlOiAnZXNyaVNNUycsXHJcbiAgc2l6ZTogMThcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xyXG4gIHRhZ3M6IFsnc29saWQnXSxcclxuICB0aXRsZTogJ0JsdWUgVGhpbicsXHJcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCAyNTVdLFxyXG4gIHdpZHRoOiAzLFxyXG4gIG5hbWU6ICdCbHVlIDEnLFxyXG4gIHR5cGU6ICdlc3JpU0xTJ1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWdvblN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTRlNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcclxuICB0eXBlOiAnZXNyaVNGUycsXHJcbiAgb3V0bGluZToge1xyXG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gICAgY29sb3I6IFs1NCwgOTMsIDE0MSwgMjU1XSxcclxuICAgIHdpZHRoOiAxLjUsXHJcbiAgICB0eXBlOiAnZXNyaVNMUydcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEljb25BcnJvd0Rvd24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmcnKVxyXG5cclxuY29uc3QgU2VsZWN0UmVjdGFuZ2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExhc3NvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnJylcclxuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExpbmVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZycpXHJcbmNvbnN0IFNlbGVjdFBvaW50SWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnJylcclxuY29uc3QgU2VsZWN0Q2xlYXJJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmcnKVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBDVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xyXG4gIGJ0bkNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBzZWxlY3RSZXN1bHRDb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgU2tldGNoVmlld01vZGVsOiB0eXBlb2YgX19lc3JpLlNrZXRjaFZpZXdNb2RlbFxyXG4gIEdyYXBoaWNzTGF5ZXI6IHR5cGVvZiBfX2VzcmkuR3JhcGhpY3NMYXllclxyXG4gIFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5XHJcbiAgc2tldGNoVmlld01vZGVsOiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgY3VycmVudEFjdGl2ZVRvb2w6IHN0cmluZyA9ICdyZWN0YW5nbGUnXHJcbiAgcXVlcnk6IEZlYXR1cmVMYXllclF1ZXJ5UGFyYW1zXHJcbiAganNvblV0aWxzOiB0eXBlb2YgX19lc3JpLmpzb25VdGlscyA9IG51bGxcclxuICBnZW9tZXRyeUVuZ2luZTogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeUVuZ2luZVxyXG4gIHJlc3VsdEdyYXBoaWNzOiBfX2VzcmkuR3JhcGhpY1tdID0gW11cclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzOiBQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBpc1Nob3dSZXN1bHRQb3B1cDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXHJcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiAnUmVjdGFuZ2xlJyxcclxuICAgICAgc2tldGNoSW5pdGlhbGVkOiBmYWxzZSxcclxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXHJcbiAgICAgIHJlc3VsdEdyYXBoaWNzOiBbXSxcclxuICAgICAgaXNRdWVyeWluZzogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENTU1N0eWxlICgpIHtcclxuICAgIGNvbnN0IHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZVxyXG4gICAgY29uc3QgY29udGFpbmVyYmcgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJnXHJcbiAgICBjb25zdCBjb250YWluZXJCb3JkZXIgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJvcmRlclxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLnNlbGVjdC10b29sLWNvbnRhaW5lciB7XHJcbiAgICAgICAgJHtjb250YWluZXJiZyAmJiBgYmFja2dyb3VuZC1jb2xvcjogJHtjb250YWluZXJiZ307YH1cclxuICAgICAgICAke2NvbnRhaW5lckJvcmRlciAmJiBgYm9yZGVyOiAke2NvbnRhaW5lckJvcmRlci5jb2xvcn0gJHtjb250YWluZXJCb3JkZXIud2lkdGh9IHNvbGlkO2B9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1idG4ge1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQtYmcge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMTAwXX07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50LXRpdGxlIHtcclxuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwge1xyXG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcclxuICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlIHtcclxuICAgICAgICB3aWR0aDogNjRweDtcclxuICAgICAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZDphZnRlciB7XHJcbiAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcclxuICAgICAgICAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcclxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZSdcclxuICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5Ta2V0Y2hWaWV3TW9kZWwsIHRoaXMuR3JhcGhpY3NMYXllciwgdGhpcy5RdWVyeSwgdGhpcy5qc29uVXRpbHMsIHRoaXMuZ2VvbWV0cnlFbmdpbmVdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy53aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBza2V0Y2hJbml0aWFsZWQ6IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZXMpIHtcclxuICAgIGlmIChwcmV2U3RhdGUuc2tldGNoSW5pdGlhbGVkICE9PSB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSAmJiB0aGlzLmN1cnJlbnRBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2U3RhdGUuaXNBY3RpdmUgIT09IHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVJc1NlbGVjdEFjdGl2ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc0FjdGl2ZTogIXRoaXMuc3RhdGUuaXNBY3RpdmVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RUb29sSWNvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RQb2ludEljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGFzc29JY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RDaXJjbGVJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGluZUljb25cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZWxlY3RUeXBlUG9wdXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiAhdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB0b2dnbGVSZXN1bHRQb3B1cCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc1Nob3dSZXN1bHRQb3B1cDogIXRoaXMuc3RhdGUuaXNTaG93UmVzdWx0UG9wdXBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50U2VsZWN0VHlwZSA9IChjdXJyZW50U2VsZWN0VHlwZTogYW55KSA9PiB7XHJcbiAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2ludCcpXHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9pbnQnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3JlY3RhbmdsZScpXHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncmVjdGFuZ2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlnb24nKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlnb24nXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ2NpcmNsZScpXHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAnY2lyY2xlJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWxpbmUnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlsaW5lJ1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogY3VycmVudFNlbGVjdFR5cGUsXHJcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXHJcbiAgICAgIGlzQWN0aXZlOiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaW5pdGlhbFNrZXRjaFRvb2wgKCkge1xyXG4gICAgaWYgKCF0aGlzLlNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMuc2tldGNoVmlld01vZGVsKSB7XHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbmV3IHRoaXMuU2tldGNoVmlld01vZGVsKHtcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXHJcbiAgICAgICAgbGF5ZXI6IG5ldyB0aGlzLkdyYXBoaWNzTGF5ZXIoKSxcclxuICAgICAgICBwb2ludFN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvaW50U3ltYm9sKSBhcyBhbnksXHJcbiAgICAgICAgcG9seWxpbmVTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5bGluZVN5bWJvbCkgYXMgYW55LFxyXG4gICAgICAgIHBvbHlnb25TeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5Z29uU3ltYm9sKSBhcyBhbnlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLm9uKCdjcmVhdGUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXZlbnQuc3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSlcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc1F1ZXJ5aW5nOiB0cnVlXHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlld1xyXG4gICAgICAgICAgamltdU1hcFZpZXcuc2VsZWN0RmVhdHVyZXNCeUdyYXBoaWMoZXZlbnQuZ3JhcGhpYywgdGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgaXNRdWVyeWluZzogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xlYXJTZWxlY3QgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0+PGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1jb250YWluZXInIHJlZj17cmVmID0+IHsgdGhpcy5idG5Db250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlSXNTZWxlY3RBY3RpdmV9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uICBib3JkZXItMCBzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyxcclxuICAgICAgICAgICAgICAgIHsgYWN0aXZlOiB0aGlzLnN0YXRlLmlzQWN0aXZlIH0pfVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cH0gc3R5bGU9e3sgd2lkdGg6IDE4IH19XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uIGJvcmRlci0wIHBsLTEgcHItMSBzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyxcclxuICAgICAgICAgICAgICAgIHsgYWN0aXZlOiB0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB9KX1cclxuICAgICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezh9IGhlaWdodD17OH0gaWNvbj17SWNvbkFycm93RG93bn0gLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlciBlc3JpLXdpZGdldC0tYnV0dG9uIGJvcmRlci0wJ1xyXG4gICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuc2VsZWN0UmVzdWx0Q29udGFpbmVyID0gcmVmIH19IG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3R9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8UG9wcGVyIGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfSByZWZlcmVuY2U9e3RoaXMuYnRuQ29udGFpbmVyfSBvcGVuPXt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cH0gcGxhY2VtZW50PSdib3R0b20tc3RhcnQnIHRvZ2dsZT17dGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXB9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncC0zIGNvbnRlbnQtYmcnIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgfX0+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUnPlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sIH0pfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC0yIG1iLTInPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBtYi0yJz5cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZSdcclxuICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdSZWN0YW5nbGUnKSB9fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RSZWN0YW5nbGVJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xSZWN0YW5nbGUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xhc3NvJykgfX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0TGFzc29JY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZSdcclxuICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdDaXJjbGUnKSB9fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDaXJjbGVJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMiBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xpbmUnKSB9fVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMaW5lSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50J1xyXG4gICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ1BvaW50JykgfX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UG9pbnRJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUnPlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Nb2RlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Nb2RlIH0pfVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cclxuICAgICAgICAgICAgICAgICAgPFJhZGlvXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnaW50ZXJzZWN0cyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdtLTAgbWwtMiBjb250ZW50LXRpdGxlJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfSkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25XaXRoaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbldpdGhpbiB9KX1cclxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XHJcbiAgICAgICAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2NvbnRhaW5zJ31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdtLTAgbWwtMiBjb250ZW50LXRpdGxlJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnIH0pIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uQ29udGFpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uQ29udGFpbiB9KX1cclxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvUG9wcGVyPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgeyh0aGlzLnN0YXRlLmlzUXVlcnlpbmcgfHwgIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSAmJiA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJ1dHRvbiwgSWNvbiwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBTZWxlY3RlZE51bWJlciB9IGZyb20gJy4vc2VsZWN0ZWQtbnVtYmVyJ1xyXG5cclxuY29uc3QgU2VsZWN0Wm9vbXRvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3Qtem9vbXRvLnN2ZycpXHJcbmNvbnN0IFNlbGVjdENsZWFySWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2xlYXIuc3ZnJylcclxuXHJcbmludGVyZmFjZSBTdGF0ZXN7XHJcbiAgc2VsZWN0ZWRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RTdGF0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xyXG4gIHRvb2xOYW1lID0gJ1NlbGVjdFN0YXRlJ1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHNlbGVjdGVkR3JhcGhpY3M6IFtdXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMucHJvcHMudGhlbWUuYXJjZ2lzLmNvbXBvbmVudHMuYnV0dG9uLnZhcmlhbnRzLmRlZmF1bHQuZGVmYXVsdC5iZ307XHJcblxyXG4gICAgICAuZGl2aWRlLWxpbmUge1xyXG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICR7dGhpcy5wcm9wcy50aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICcnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQgPSAoc2VsZWN0ZWRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHNlbGVjdGVkR3JhcGhpY3M6IHNlbGVjdGVkR3JhcGhpY3NcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB6b29tVG9TZWxlY3RlZEZlYXR1cmVzID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldykge1xyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuZ29Ubyh0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY3MpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhclNlbGVjdGVkRmVhdHVyZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt7IGhlaWdodDogJzQwcHgnIH19PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21sLTInPlxyXG4gICAgICAgICAgICB7YCR7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMgfSl9OiR7dGhpcy5zdGF0ZS5zZWxlY3RlZEdyYXBoaWNzLmxlbmd0aH1gfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0naC0xMDAgYm9yZGVyIGJvcmRlci10b3AtMCBib3JkZXItYm90dG9tLTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyJyBzdHlsZT17eyB3aWR0aDogJzQwcHgnLCBjdXJzb3I6ICdwb2ludGVyJyB9fVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuem9vbVRvU2VsZWN0ZWRGZWF0dXJlc31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Wm9vbXRvSWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3sgd2lkdGg6ICc0MHB4JywgY3Vyc29yOiAncG9pbnRlcicgfX1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsZWFyU2VsZWN0ZWRGZWF0dXJlc31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPFNlbGVjdGVkTnVtYmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBvblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkPXt0aGlzLmhhbmRsZVNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy56b29tVG9TZWxlY3RlZEZlYXR1cmVzfT5cclxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3Rab29tdG9JY29ufSBjbGFzc05hbWU9J21yLTInIC8+XHJcbiAgICAgICAgICAgIHtgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uU2VsZWN0ZWRGZWF0dXJlcycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uU2VsZWN0ZWRGZWF0dXJlcyB9KX06JHt0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY3MubGVuZ3RofWB9XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDxTZWxlY3RlZE51bWJlciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gb25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZD17dGhpcy5oYW5kbGVTZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZH0gLz5cclxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBSZWFjdFJlZHV4LCBJbW11dGFibGVPYmplY3QsIEppbXVNYXBWaWV3SW5mbywgSU1TdGF0ZSwgRGF0YVNvdXJjZUluZm8sIERhdGFTb3VyY2VNYW5hZ2VyIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3Bze1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG5cclxuICBvblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkPzogKHNlbGVjdGVkR3JhcGhpY3M6IF9fZXNyaS5HcmFwaGljW10pID0+IHZvaWRcclxufVxyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbmludGVyZmFjZSBTdGF0ZXN7fVxyXG5cclxuY2xhc3MgX1NlbGVjdGVkTnVtYmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcyAmIEV4dHJhUHJvcHMsIFN0YXRlcz4ge1xyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHRoaXMuY29tcHV0ZXJTZWxlY3RlZEdyYXBoaWNzKClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICB0aGlzLmNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljcygpXHJcbiAgfVxyXG5cclxuICBjb21wdXRlclNlbGVjdGVkR3JhcGhpY3MgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZCkge1xyXG4gICAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcuamltdUxheWVyVmlld3NcclxuICAgICAgY29uc3QgamltdUxheWVyVmlld0lkcyA9IE9iamVjdC5rZXlzKGppbXVMYXllclZpZXdzKVxyXG4gICAgICBjb25zdCBzZWxlY3RlZEdyYXBoaWNzID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgamltdUxheWVyVmlldyA9IGppbXVMYXllclZpZXdzW2ppbXVMYXllclZpZXdJZHNbaV1dXHJcbiAgICAgICAgY29uc3QgZHNJZCA9IGppbXVMYXllclZpZXcubGF5ZXJEYXRhU291cmNlSWRcclxuICAgICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxyXG4gICAgICAgIGlmIChkcykge1xyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRSZWNvcmRzID0gZHMuZ2V0U2VsZWN0ZWRSZWNvcmRzKClcclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VsZWN0ZWRSZWNvcmRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gKHNlbGVjdGVkUmVjb3Jkc1tqXSBhcyBhbnkpLmZlYXR1cmUuY2xvbmUoKVxyXG4gICAgICAgICAgICBzZWxlY3RlZEdyYXBoaWNzLnB1c2godGVtcEZlYXR1cmUpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcHMub25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZChzZWxlY3RlZEdyYXBoaWNzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBQcm9wcyk6IEV4dHJhUHJvcHMgPT4ge1xyXG4gIGlmIChzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcikge1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZXNJbmZvID0gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgJiYgc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuZGF0YVNvdXJjZXNJbmZvXHJcbiAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvID0gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgJiYgc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuamltdU1hcFZpZXdzSW5mb1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YVNvdXJjZXNJbmZvOiBkYXRhU291cmNlc0luZm8sXHJcbiAgICAgIHZpZXdJbmZvczogamltdU1hcFZpZXdzSW5mb1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlc0luZm8gPSBzdGF0ZSAmJiBzdGF0ZS5kYXRhU291cmNlc0luZm9cclxuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZSAmJiBzdGF0ZS5qaW11TWFwVmlld3NJbmZvXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhU291cmNlc0luZm86IGRhdGFTb3VyY2VzSW5mbyxcclxuICAgICAgdmlld0luZm9zOiBqaW11TWFwVmlld3NJbmZvXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XHJcbiAgZGF0YVNvdXJjZXNJbmZvPzogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VJbmZvIH0+XHJcbiAgdmlld0luZm9zPzogSW1tdXRhYmxlT2JqZWN0PHtbamltdU1hcFZpZXdJZDogc3RyaW5nXTogSmltdU1hcFZpZXdJbmZvfT5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNlbGVjdGVkTnVtYmVyID0gUmVhY3RSZWR1eC5jb25uZWN0PEV4dHJhUHJvcHMsIHVua25vd24sIFByb3BzPihtYXBTdGF0ZVRvUHJvcHMpKF9TZWxlY3RlZE51bWJlcilcclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvb20gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnWm9vbSdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdab29tTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlpvb21MYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPFpvb21Jbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBab29tSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBab29tSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIFpvb21Jbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Wm9vbUlubmVyUHJvcHMsIFpvb21Jbm5lclN0YXRlPiB7XHJcbiAgWm9vbTogdHlwZW9mIF9fZXNyaS5ab29tID0gbnVsbFxyXG4gIFpvb21CdG46IF9fZXNyaS5ab29tXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9ab29tJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuWm9vbV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5ab29tQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5ab29tQnRuID0gbmV3IHRoaXMuWm9vbSh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1pvb20nKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnWm9vbScsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuWm9vbUJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuWm9vbUJ0bikge1xyXG4gICAgICB0aGlzLlpvb21CdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuWm9vbUJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnWm9vbScpXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUT0RPXHJcbiAgICAgICAqIFdoZW4gdGhlIG1hcCB3aWRnZXQgaGFzIHR3byBtYXBzLCB0aGUgXCJjb21wb25lbnRXaWxsVW5tb3VudFwiIGlzIGNhbGxlZCBvbmx5IGZvciB0aGUgY3VycmVudCBhY3RpdmUgdmlldyxcclxuICAgICAgICogc28gdGhlIGFub3RoZXIgdmlldydzIG1hcFRvb2wgaXMgbm90IGNsZWFyZWQuXHJcbiAgICAgICAqL1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nem9vbS1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cclxuaW1wb3J0IHsgQXBwTW9kZSwgZGF0YVNvdXJjZVV0aWxzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgTWFwQmFzZSwgeyBIaWdoTGlnaHRIYW5kbGUgfSBmcm9tICcuL2NvbXBvbmVudHMvbWFwYmFzZSdcclxuaW1wb3J0IHsgSUZlYXR1cmUgfSBmcm9tICdAZXNyaS9hcmNnaXMtcmVzdC10eXBlcydcclxuaW1wb3J0IHsgZ2VvbWV0cnlVdGlscywgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcsIExheWVyVHlwZXMsIEppbXVGZWF0dXJlTGF5ZXJWaWV3LCBKaW11U2NlbmVMYXllclZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZT86IHtbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXR9KTogUHJvbWlzZTxhbnk+IHtcclxuICBjb25zdCBuZXdMYXllclByb21pc2VzID0gW11cclxuICBuZXdGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMobmV3RmVhdHVyZVNldFZhbHVlKS5mb3JFYWNoKGxheWVySWQgPT4ge1xyXG4gICAgY29uc3QgbGF5ZXIgPSBtYXBCYXNlVmlldy5tYXAubGF5ZXJzLmZpbmQobGF5ZXIgPT4gbGF5ZXIuaWQgPT09IGxheWVySWQpXHJcbiAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgY29uc29sZS53YXJuKCd0aGUgZmVhdHVyZSBsYXllciBpcyBhbHJlYWR5IGNyZWF0ZWQnKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIG5ld0xheWVyUHJvbWlzZXMucHVzaChhZGRGZWF0dXJlU2V0VG9NYXAobWFwQmFzZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpXHJcbiAgfSlcclxuXHJcbiAgaWYgKG5ld0xheWVyUHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwobmV3TGF5ZXJQcm9taXNlcylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVGZWF0dXJlbGF5ZXIgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGNoYW5nZWRGZWF0dXJlU2V0VmFsdWU/OiB7W2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0fSk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgdXBkYXRlUHJvbWlzZXMgPSBbXVxyXG4gIGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMoY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZSkuZm9yRWFjaChsYXllcklkID0+IHtcclxuICAgIGNvbnN0IGxheWVyID0gbWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSBsYXllcklkKVxyXG4gICAgaWYgKGxheWVyKSB7XHJcbiAgICAgIG1hcEJhc2VWaWV3Lm1hcC5yZW1vdmUobGF5ZXIpXHJcbiAgICAgIHVwZGF0ZVByb21pc2VzLnB1c2goYWRkRmVhdHVyZVNldFRvTWFwKG1hcEJhc2VWaWV3LCBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlW2xheWVySWRdLCBsYXllcklkKSlcclxuICAgIH1cclxuICB9KVxyXG5cclxuICBpZiAodXBkYXRlUHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodXBkYXRlUHJvbWlzZXMpXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBhZGRGZWF0dXJlU2V0VG9NYXAgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGZlYXR1cmVTZXQ6IF9fZXNyaS5GZWF0dXJlU2V0LCBsYXllcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXHJcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICBpZiAoZmVhdHVyZVNldC5mZWF0dXJlcy5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBsZXQgRmVhdHVyZVNldDogdHlwZW9mICBfX2VzcmkuRmVhdHVyZVNldDtcclxuICAgICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICBbRmVhdHVyZUxheWVyXSA9IG1vZHVsZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGxheWVyRnJvbUZlYXR1cmVTZXQgPSBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmxheWVyIGFzIGFueVxyXG4gICAgICAgIGNvbnN0IGZpZWxkc0luRmVhdHVyZWxheWVyID0gW11cclxuICAgICAgICBjb25zdCBmaWVsZE1hcCA9IHt9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSBnZXRSZWFzb25hYmxlRmllbGQobGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0pXHJcbiAgICAgICAgICBmaWVsZE1hcFtsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkc1tpXS5uYW1lXSA9IGZpZWxkc0l0ZW0ubmFtZVxyXG4gICAgICAgICAgZmllbGRzSW5GZWF0dXJlbGF5ZXIucHVzaChmaWVsZHNJdGVtKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmllbGRzSW5Qb3B1cFRlbXBsYXRlID0gW11cclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgIGlmIChmaWVsZE1hcFtrZXldKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgZmllbGROYW1lOiBmaWVsZE1hcFtrZXldLFxyXG4gICAgICAgICAgICAgIGxhYmVsOiBrZXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaWVsZHNJblBvcHVwVGVtcGxhdGUucHVzaChmaWVsZHNJdGVtKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc291cmNlRmVhdHVyZXMgPSBbXVxyXG4gICAgICAgIGZlYXR1cmVTZXQuZmVhdHVyZXMuZm9yRWFjaCgoZmVhdHVyZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gZmVhdHVyZVxyXG4gICAgICAgICAgaWYgKHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgIHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXNbZmllbGRNYXBba2V5XV0gPSB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzW2tleV1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcy5leGJmaWQgPSBpbmRleFxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IHtcclxuICAgICAgICAgICAgICBleGJmaWQ6IGluZGV4XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNvdXJjZUZlYXR1cmVzLnB1c2godGVtcEZlYXR1cmUpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHtcclxuICAgICAgICAgIGlkOiBsYXllcklkLFxyXG4gICAgICAgICAgdGl0bGU6IGxheWVyRnJvbUZlYXR1cmVTZXQudGl0bGUsXHJcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZUZlYXR1cmVzLFxyXG4gICAgICAgICAgZmllbGRzOiBmaWVsZHNJbkZlYXR1cmVsYXllcixcclxuICAgICAgICAgIG91dEZpZWxkczogWycqJ10sXHJcbiAgICAgICAgICBvYmplY3RJZEZpZWxkOiAnZXhiZmlkJyxcclxuICAgICAgICAgIHJlbmRlcmVyOiBsYXllckZyb21GZWF0dXJlU2V0LnJlbmRlcmVyLFxyXG4gICAgICAgICAgcG9wdXBFbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgcG9wdXBUZW1wbGF0ZToge1xyXG4gICAgICAgICAgICB0aXRsZTogJ2luZm9ybWF0aW9uJyxcclxuICAgICAgICAgICAgY29udGVudDogW3tcclxuICAgICAgICAgICAgICB0eXBlOiAnZmllbGRzJyxcclxuICAgICAgICAgICAgICBmaWVsZEluZm9zOiBmaWVsZHNJblBvcHVwVGVtcGxhdGVcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBtYXBCYXNlVmlldy5tYXAuYWRkKGxheWVyKVxyXG5cclxuICAgICAgICBsYXllci5vbignbGF5ZXJ2aWV3LWNyZWF0ZScsIGV2ZW50ID0+IHtcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSZWFzb25hYmxlRmllbGQgKGZpZWxkOiBfX2VzcmkuRmllbGQpOiBfX2VzcmkuRmllbGQge1xyXG4gIC8vIHRoZSBmdW5jdGlvbiBpcyBzdXBwb3J0ZWQgdG8gbm9ybWFsaXplIHRoZSBmaWVsZC5uYW1lXHJcbiAgY29uc3QgZmllbGROYW1lID0gZmllbGQubmFtZVxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiBmaWVsZE5hbWUucmVwbGFjZSgvXFwuL2csICdfJykucmVwbGFjZSgvXFwoL2csICdfJykucmVwbGFjZSgvXFwpL2csICdfJyksXHJcbiAgICBhbGlhczogZmllbGQuYWxpYXMsXHJcbiAgICB0eXBlOiBmaWVsZC50eXBlXHJcbiAgfSBhcyBhbnlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEZlYXR1cmUgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIHRhcmdldDogX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgSUZlYXR1cmUgfCBJRmVhdHVyZVtdLCBsYXllcklkPzogc3RyaW5nKTogSGlnaExpZ2h0SGFuZGxlIHtcclxuICAvLyBJbiB0aGlzIGZ1bmN0aW9uLCB3ZSBhc3N1bWUgdGhhdCBmZWF0dXJlcyBjb21lIGZyb20gdGhlIHNhbWUgbGF5ZXJcclxuICBsZXQgZmVhdHVyZUxheWVySWQgPSBsYXllcklkXHJcbiAgbGV0IGZlYXR1cmVMYXllclZpZXcgPSBudWxsXHJcbiAgbGV0IHRlbXBGZWF0dXJlID0gbnVsbFxyXG5cclxuICAvLyBpZiBsYXllcklkIGRvZXNuJ3QgZXhpc3QsIHdlIGdldCBsYXllcklkIGJ5IGZlYXR1cmVcclxuICBpZiAoIWZlYXR1cmVMYXllcklkKSB7XHJcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgdGVtcEZlYXR1cmUgPSB0YXJnZXRbMF0gYXMgX19lc3JpLkdyYXBoaWNcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBGZWF0dXJlID0gdGFyZ2V0IGFzIF9fZXNyaS5HcmFwaGljXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRlbXBGZWF0dXJlKSB7XHJcbiAgICAgIGZlYXR1cmVMYXllcklkID0gdGVtcEZlYXR1cmUubGF5ZXIgJiYgdGVtcEZlYXR1cmUubGF5ZXIuaWRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChmZWF0dXJlTGF5ZXJJZCkge1xyXG4gICAgY29uc3QgbGF5ZXJWaWV3cyA9IG1hcEJhc2VWaWV3LmFsbExheWVyVmlld3NcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5ZXJWaWV3cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAobGF5ZXJWaWV3cy5nZXRJdGVtQXQoaSkubGF5ZXIuaWQgPT09IGZlYXR1cmVMYXllcklkKSB7XHJcbiAgICAgICAgZmVhdHVyZUxheWVyVmlldyA9IGxheWVyVmlld3MuZ2V0SXRlbUF0KGkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmVhdHVyZUxheWVyVmlldykge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGxheWVySWQ6IGZlYXR1cmVMYXllcklkLFxyXG4gICAgICAgIGhhbmRsZTogZmVhdHVyZUxheWVyVmlldy5oaWdobGlnaHQodGFyZ2V0KVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcFBhbnRvIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSB8IF9fZXNyaS5HZW9tZXRyeVtdIHxcclxuX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgX19lc3JpLkV4dGVudCk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgcGFuVG9UYXJnZXQgPSB0YXJnZXQgYXMgYW55XHJcbiAgY29uc3QgdGVtcEJhc2VNYXBWaWV3ID0gbWFwQmFzZVZpZXcgYXMgYW55XHJcbiAgaWYgKHBhblRvVGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgIGlmIChwYW5Ub1RhcmdldC5sZW5ndGggPT09IDApIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxyXG5cclxuICAgIGlmIChwYW5Ub1RhcmdldFswXS5nZW9tZXRyeSkge1xyXG4gICAgICBjb25zdCBnZW9tZXRyeUFycjogX19lc3JpLkdlb21ldHJ5W10gPSBbXVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhblRvVGFyZ2V0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZ2VvbWV0cnlBcnIucHVzaChwYW5Ub1RhcmdldFtpXS5nZW9tZXRyeSlcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGF3YWl0IGdldEdlb21ldHJpZXNFeHRlbnQoZ2VvbWV0cnlBcnIpLnRoZW4oKGV4dGVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhleHRlbnQuY2VudGVyKVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGdldEdlb21ldHJpZXNFeHRlbnQocGFuVG9UYXJnZXQpLnRoZW4oKGV4dGVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhleHRlbnQuY2VudGVyKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAocGFuVG9UYXJnZXQuZ2VvbWV0cnkpIHtcclxuICAgICAgY29uc3QgZ2V0bWV0cnkgPSBwYW5Ub1RhcmdldC5nZW9tZXRyeSBhcyBfX2VzcmkuR2VvbWV0cnlcclxuICAgICAgcmV0dXJuIHRlbXBCYXNlTWFwVmlldy5nb1RvKGdldENlbnRlclBvaW50KGdldG1ldHJ5KSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhnZXRDZW50ZXJQb2ludChwYW5Ub1RhcmdldCkpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRHZW9tZXRyaWVzRXh0ZW50IChnZW9tZXRyaWVzOiBfX2VzcmkuR2VvbWV0cnlbXSk6IFByb21pc2U8X19lc3JpLkV4dGVudD4ge1xyXG4gIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICdlc3JpL2dlb21ldHJ5L0V4dGVudCdcclxuICBdKS50aGVuKGFzeW5jIG1vZHVsZXMgPT4ge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBsZXQgRXh0ZW50OiB0eXBlb2YgX19lc3JpLkV4dGVudDtcclxuICAgIFtFeHRlbnRdID0gbW9kdWxlc1xyXG5cclxuICAgIGlmICghZ2VvbWV0cmllcyB8fCAhZ2VvbWV0cmllcy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBmdWxsRXh0ZW50OiBfX2VzcmkuRXh0ZW50ID0gbnVsbFxyXG4gICAgbGV0IGluZGV4XHJcbiAgICBjb25zdCBudW1HZW9tZXRyaWVzID0gZ2VvbWV0cmllcy5sZW5ndGhcclxuXHJcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBudW1HZW9tZXRyaWVzOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpbmRleF1cclxuICAgICAgaWYgKCFnZW9tZXRyeSkge1xyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBleHRlbnQgPSBnZW9tZXRyeS5leHRlbnRcclxuXHJcbiAgICAgIGlmICghZXh0ZW50ICYmIGdlb21ldHJ5LnR5cGUgPT09ICdwb2ludCcpIHtcclxuICAgICAgICBjb25zdCBwb2ludEdlb21ldHJ5ID0gZ2VvbWV0cnkgYXMgYW55XHJcblxyXG4gICAgICAgIGlmIChwb2ludEdlb21ldHJ5LnggJiYgcG9pbnRHZW9tZXRyeS55KSB7XHJcbiAgICAgICAgICBleHRlbnQgPSBuZXcgRXh0ZW50KHtcclxuICAgICAgICAgICAgeG1heDogcG9pbnRHZW9tZXRyeS54LFxyXG4gICAgICAgICAgICB4bWluOiBwb2ludEdlb21ldHJ5LngsXHJcbiAgICAgICAgICAgIHltYXg6IHBvaW50R2VvbWV0cnkueSxcclxuICAgICAgICAgICAgeW1pbjogcG9pbnRHZW9tZXRyeS55LFxyXG4gICAgICAgICAgICB6bWF4OiBwb2ludEdlb21ldHJ5LnosXHJcbiAgICAgICAgICAgIHptaW46IHBvaW50R2VvbWV0cnkueixcclxuICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogcG9pbnRHZW9tZXRyeS5zcGF0aWFsUmVmZXJlbmNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFleHRlbnQpIHtcclxuICAgICAgICBjb250aW51ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZnVsbEV4dGVudCkge1xyXG4gICAgICAgIGZ1bGxFeHRlbnQgPSBmdWxsRXh0ZW50LnVuaW9uKGV4dGVudClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmdWxsRXh0ZW50ID0gZXh0ZW50XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZnVsbEV4dGVudC53aWR0aCA8IDAgJiYgZnVsbEV4dGVudC5oZWlnaHQgPCAwKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUobnVsbClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZ1bGxFeHRlbnQpXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckZlYXR1cmVzQnlRdWVyeSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBsYXllckRhdGFTb3VyY2VJZDogc3RyaW5nLCBxdWVyeVNRTDogc3RyaW5nKTogdm9pZCB7XHJcbiAgaWYgKGxheWVyRGF0YVNvdXJjZUlkKSB7XHJcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzXHJcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3SWRzID0gT2JqZWN0LmtleXMoamltdUxheWVyVmlld3MpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGppbXVMYXllclZpZXdJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHRlbXBKaW11TGF5ZXJWaWV3ID0gamltdUxheWVyVmlld3NbamltdUxheWVyVmlld0lkc1tpXV1cclxuICAgICAgaWYgKHRlbXBKaW11TGF5ZXJWaWV3ICYmIHRlbXBKaW11TGF5ZXJWaWV3LmxheWVyICYmIHRlbXBKaW11TGF5ZXJWaWV3LmxheWVyRGF0YVNvdXJjZUlkID09PSBsYXllckRhdGFTb3VyY2VJZCAmJlxyXG4gICAgICAgICh0ZW1wSmltdUxheWVyVmlldy50eXBlID09PSBMYXllclR5cGVzLkZlYXR1cmVMYXllciB8fCB0ZW1wSmltdUxheWVyVmlldy50eXBlID09PSBMYXllclR5cGVzLlNjZW5lTGF5ZXIpKSB7XHJcbiAgICAgICAgKHRlbXBKaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3IHwgSmltdVNjZW5lTGF5ZXJWaWV3KS5zZXRMb2NhbERlZmluaXRpb25FeHByZXNzaW9uKHF1ZXJ5U1FMKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBxdWVyeUZlYXR1cmVzIChsYXllck9iamVjdCwgcXVlcnlTUUwpIHtcclxuICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAnZXNyaS9yZXN0L3N1cHBvcnQvUXVlcnknXHJcbiAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgIGxldCBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeTtcclxuICAgIFtRdWVyeV0gPSBtb2R1bGVzXHJcbiAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXHJcbiAgICBxdWVyeS53aGVyZSA9IHF1ZXJ5U1FMXHJcbiAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXVxyXG4gICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlXHJcbiAgICByZXR1cm4gbGF5ZXJPYmplY3QucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbihmZWF0dXJlU2V0ID0+IHtcclxuICAgICAgcmV0dXJuIGZlYXR1cmVTZXRcclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZmxhc2hPbkZlYXR1cmVMYXllciAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBxdWVyeVNRTDogc3RyaW5nLCB0ZW1wSmltdUxheWVyVmlldzogSmltdUZlYXR1cmVMYXllclZpZXcpIHtcclxuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XHJcbiAgICBsZXQgZmVhdHVyZUxheWVyVmlldzogX19lc3JpLkZlYXR1cmVMYXllclZpZXcgPSAodGVtcEppbXVMYXllclZpZXcpLnZpZXdcclxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XHJcbiAgICAgIHF1ZXJ5RmVhdHVyZXMoZmVhdHVyZUxheWVyVmlldy5sYXllciwgcXVlcnlTUUwpLnRoZW4oZmVhdHVyZVNldCA9PiB7XHJcbiAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldEZsYXNoU3ltYm9sKGZlYXR1cmVMYXllclZpZXcubGF5ZXIuZ2VvbWV0cnlUeXBlKVxyXG4gICAgICAgICAgc3RhcnRGbGFzaChqaW11TWFwVmlldy52aWV3LCBmZWF0dXJlU2V0LmZlYXR1cmVzLCBzeW1ib2wpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXHJcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcclxuICAgICAgW0ZlYXR1cmVMYXllcl0gPSBtb2R1bGVzXHJcblxyXG4gICAgICBsZXQgdGVtcEZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xyXG4gICAgICAgIHVybDogZGF0YVNvdXJjZVV0aWxzLmdldFVybEJ5TGF5ZXIoKHRlbXBKaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3IHwgSmltdVNjZW5lTGF5ZXJWaWV3KS5sYXllcilcclxuICAgICAgfSlcclxuICAgICAgdGVtcEZlYXR1cmVMYXllci5sb2FkKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgcXVlcnlGZWF0dXJlcyh0ZW1wRmVhdHVyZUxheWVyLCBxdWVyeVNRTCkudGhlbihmZWF0dXJlU2V0ID0+IHtcclxuICAgICAgICAgIGlmIChmZWF0dXJlU2V0ICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMgJiYgZmVhdHVyZVNldC5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldEZsYXNoU3ltYm9sKGZlYXR1cmVTZXQuZmVhdHVyZXNbMF0uZ2VvbWV0cnkudHlwZSlcclxuICAgICAgICAgICAgc3RhcnRGbGFzaChqaW11TWFwVmlldy52aWV3LCBmZWF0dXJlU2V0LmZlYXR1cmVzLCBzeW1ib2wpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5sZXQgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gbnVsbFxyXG5mdW5jdGlvbiBmbGFzaE9uU2NlbmVMYXllciAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBxdWVyeVNRTDogc3RyaW5nLCB0ZW1wSmltdUxheWVyVmlldzogSmltdVNjZW5lTGF5ZXJWaWV3KSB7XHJcbiAgaWYgKCh0ZW1wSmltdUxheWVyVmlldykudmlldykge1xyXG4gICAgbGV0IHNjZW5lTGF5ZXJWaWV3OiBfX2VzcmkuU2NlbmVMYXllclZpZXcgPSAodGVtcEppbXVMYXllclZpZXcpLnZpZXdcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHF1ZXJ5RmVhdHVyZXMoc2NlbmVMYXllclZpZXc/LmxheWVyPy5hc3NvY2lhdGVkTGF5ZXIsIHF1ZXJ5U1FMKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IG9iamVjdElkRmllbGQgPSBzY2VuZUxheWVyVmlldy5sYXllci5vYmplY3RJZEZpZWxkXHJcbiAgICAgICAgY29uc3Qgb2JqZWN0SWRzID0gZmVhdHVyZVNldC5mZWF0dXJlcy5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLmF0dHJpYnV0ZXNbb2JqZWN0SWRGaWVsZF0pXHJcblxyXG4gICAgICAgIGxldCBpID0gMFxyXG4gICAgICAgIGNvbnN0IG1heEZsYXNoQ291bnQgPSA2XHJcbiAgICAgICAgbGV0IGhpZ2hsaWdodENvbG9yID0gWzI1NSwgMjU1LCAwLCAwLjhdXHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zID0gamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zXHJcblxyXG4gICAgICAgIGNvbnN0IGZsYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgaWYgKGkgPCBtYXhGbGFzaENvdW50KSB7XHJcbiAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0Q29sb3IpIHtcclxuICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvciA9IG51bGxcclxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0geyBjb2xvcjogWzAsIDAsIDAsIDBdIH1cclxuICAgICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgJiYgc2NlbmVIaWdodGxpZ2h0SGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gc2NlbmVMYXllclZpZXcuaGlnaGxpZ2h0KG9iamVjdElkcylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvciA9IFsyNTUsIDI1NSwgMCwgMC44XVxyXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7IGNvbG9yOiBoaWdobGlnaHRDb2xvciB9XHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlICYmIHNjZW5lSGlnaHRsaWdodEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSA9IHNjZW5lTGF5ZXJWaWV3LmhpZ2hsaWdodChvYmplY3RJZHMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dChmbGFzaCwgNTAwKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0gb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zXHJcbiAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSAmJiBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dChmbGFzaCwgNTAwKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5IChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHF1ZXJ5U1FMOiBzdHJpbmcpOiB2b2lkIHtcclxuICBpZiAobGF5ZXJEYXRhU291cmNlSWQpIHtcclxuICAgIGNvbnN0IGppbXVMYXllclZpZXdzID0gamltdU1hcFZpZXcuamltdUxheWVyVmlld3NcclxuICAgIGNvbnN0IGppbXVMYXllclZpZXdJZHMgPSBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cylcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgamltdUxheWVyVmlld0lkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdGVtcEppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXVxyXG4gICAgICBpZiAodGVtcEppbXVMYXllclZpZXcgJiYgdGVtcEppbXVMYXllclZpZXcubGF5ZXIgJiYgdGVtcEppbXVMYXllclZpZXcubGF5ZXJEYXRhU291cmNlSWQgPT09IGxheWVyRGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgaWYgKHRlbXBKaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuRmVhdHVyZUxheWVyKSB7XHJcbiAgICAgICAgICBmbGFzaE9uRmVhdHVyZUxheWVyKGppbXVNYXBWaWV3LCBxdWVyeVNRTCwgdGVtcEppbXVMYXllclZpZXcgYXMgSmltdUZlYXR1cmVMYXllclZpZXcpXHJcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wSmltdUxheWVyVmlldy50eXBlID09PSBMYXllclR5cGVzLlNjZW5lTGF5ZXIpIHtcclxuICAgICAgICAgIGZsYXNoT25TY2VuZUxheWVyKGppbXVNYXBWaWV3LCBxdWVyeVNRTCwgdGVtcEppbXVMYXllclZpZXcgYXMgSmltdVNjZW5lTGF5ZXJWaWV3KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRGbGFzaCAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIHN5bWJvbCkge1xyXG4gIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgJ2VzcmkvR3JhcGhpYydcclxuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBsZXQgR3JhcGhpYzogdHlwZW9mIF9fZXNyaS5HcmFwaGljO1xyXG4gICAgW0dyYXBoaWNdID0gbW9kdWxlc1xyXG5cclxuICAgIGNvbnN0IGZsYXNoRmVhdHVyZXMgPSBmdW5jdGlvbiAoZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIG1heEZsYXNoQ291bnQ6IG51bWJlcikge1xyXG4gICAgICBjb25zdCBncmFwaGljcyA9IFtdXHJcbiAgICAgIGxldCBmbGFzaENvdW50ID0gMFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcEdyYXBoaWMgPSBuZXcgR3JhcGhpYyh7XHJcbiAgICAgICAgICBnZW9tZXRyeTogZmVhdHVyZXNbaV0uZ2VvbWV0cnksXHJcbiAgICAgICAgICBzeW1ib2w6IHN5bWJvbCxcclxuICAgICAgICAgIGF0dHJpYnV0ZXM6IGZlYXR1cmVzW2ldLmF0dHJpYnV0ZXNcclxuICAgICAgICB9KVxyXG4gICAgICAgIGdyYXBoaWNzLnB1c2godGVtcEdyYXBoaWMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNpbmdsZUZsYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1hcEJhc2VWaWV3LmdyYXBoaWNzLmFkZE1hbnkoZ3JhcGhpY3MpXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBtYXBCYXNlVmlldy5ncmFwaGljcy5yZW1vdmVNYW55KGdyYXBoaWNzKVxyXG4gICAgICAgICAgZmxhc2hDb3VudCA9IGZsYXNoQ291bnQgKyAxXHJcbiAgICAgICAgICBpZiAoZmxhc2hDb3VudCA8IG1heEZsYXNoQ291bnQpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2luZ2xlRmxhc2goKVxyXG4gICAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgNTAwKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzaW5nbGVGbGFzaCgpXHJcbiAgICB9XHJcblxyXG4gICAgZmxhc2hGZWF0dXJlcyhmZWF0dXJlcywgMylcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRGbGFzaFN5bWJvbCAoZ2VvbWV0cnlUeXBlOiBzdHJpbmcpIHtcclxuICBpZiAoWydwb2ludCcsICdtdWx0aXBvaW50J10uaW5jbHVkZXMoZ2VvbWV0cnlUeXBlKSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogJ3NpbXBsZS1tYXJrZXInLFxyXG4gICAgICBzdHlsZTogJ2NpcmNsZScsXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgIHNpemU6ICcxNnB4JyxcclxuICAgICAgb3V0bGluZToge1xyXG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgICAgd2lkdGg6IDNcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoWydwb2x5bGluZSddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdzaW1wbGUtbGluZScsXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXHJcbiAgICAgIHdpZHRoOiAzLFxyXG4gICAgICBzdHlsZTogJ3NvbGlkJ1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoWydwb2x5Z29uJywgJ2V4dGVudCddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdzaW1wbGUtZmlsbCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlRmlsbFN5bWJvbCgpXHJcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuNV0sXHJcbiAgICAgIHN0eWxlOiAnc29saWQnLFxyXG4gICAgICBvdXRsaW5lOiB7IC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlTGluZVN5bWJvbCgpXHJcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcclxuICAgICAgICB3aWR0aDogM1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChbJ21lc2gnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiAnbWVzaC0zZCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgTWVzaFN5bWJvbDNEKClcclxuICAgICAgc3ltYm9sTGF5ZXJzOiBbe1xyXG4gICAgICAgIHR5cGU6ICdmaWxsJywgLy8gYXV0b2Nhc3RzIGFzIG5ldyBGaWxsU3ltYm9sM0RMYXllcigpXHJcbiAgICAgICAgbWF0ZXJpYWw6IHsgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSB9XHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDZW50ZXJQb2ludCAoZ2VvbWV0cnk6IF9fZXNyaS5HZW9tZXRyeSk6IF9fZXNyaS5Qb2ludCB7XHJcbiAgLy8gcG9pbnQgfCBtdWx0aXBvaW50IHwgcG9seWxpbmUgfCBwb2x5Z29uIHwgZXh0ZW50IHwgbWVzaFxyXG4gIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xyXG4gICAgY2FzZSAncG9pbnQnOlxyXG4gICAgICByZXR1cm4gZ2VvbWV0cnkgYXMgX19lc3JpLlBvaW50XHJcbiAgICBjYXNlICdleHRlbnQnOlxyXG4gICAgICByZXR1cm4gKGdlb21ldHJ5IGFzIF9fZXNyaS5FeHRlbnQpLmNlbnRlclxyXG4gICAgY2FzZSAncG9seWdvbic6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb24pLmNlbnRyb2lkXHJcbiAgICBjYXNlICdwb2x5bGluZSc6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlsaW5lKS5leHRlbnQuY2VudGVyXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gZ2VvbWV0cnkgJiYgZ2VvbWV0cnkuZXh0ZW50ID8gZ2VvbWV0cnkuZXh0ZW50LmNlbnRlciA6IHVuZGVmaW5lZFxyXG4gICAgLy8gdG9kb1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmUgKGZlYXR1cmU6IElGZWF0dXJlIHwgX19lc3JpLkdyYXBoaWMsIEdyYXBoaWM6IF9fZXNyaS5HcmFwaGljQ29uc3RydWN0b3IpOiBfX2VzcmkuR3JhcGhpYyB7XHJcbiAgbGV0IHRlbXBGZWF0dXJlID0gbnVsbFxyXG4gIGlmICgoZmVhdHVyZSBhcyBhbnkpLmNsb25lKSB7XHJcbiAgICB0ZW1wRmVhdHVyZSA9IChmZWF0dXJlIGFzIGFueSkuY2xvbmUoKVxyXG4gIH0gZWxzZSB7XHJcbiAgICB0ZW1wRmVhdHVyZSA9IEdyYXBoaWMuZnJvbUpTT04oT2JqZWN0LmFzc2lnbih7fSwgZmVhdHVyZSkpXHJcbiAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgZmVhdHVyZS5hdHRyaWJ1dGVzKVxyXG4gIH1cclxuICByZXR1cm4gdGVtcEZlYXR1cmVcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2plY3RHZW9tZXRyaWVzIChnZW9tZXRyaWVzOiBfX2VzcmkuR2VvbWV0cnlbXSwgc3BhdGlhbFJlZmVyZW5jZTogX19lc3JpLlNwYXRpYWxSZWZlcmVuY2UpOiBQcm9taXNlPF9fZXNyaS5HZW9tZXRyeVtdPiB7XHJcbiAgaWYgKCFnZW9tZXRyaWVzIHx8IGdlb21ldHJpZXMubGVuZ3RoID09PSAwIHx8ICFnZW9tZXRyaWVzWzBdIHx8XHJcbiAgICBzcGF0aWFsUmVmZXJlbmNlLndraWQgPT09IGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS53a2lkIHx8IChzcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UpKSkge1xyXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKVxyXG4gIH0gZWxzZSBpZiAoc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yICYmIGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS5pc1dHUzg0KSB7XHJcbiAgICAvLyBJbiBqcyBhcGkgNC54LCB0aGUgdmlldyBjYW4gaGFuZGxlIFdlYk1lcmNhdG9yIGFuZCBXR1M4NCBzcGF0aWFsUmVmZXJlbmNlIGF1dG9cclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcylcclxuICB9IGVsc2UgaWYgKHNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCAmJiBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvcikge1xyXG4gICAgLy8gSW4ganMgYXBpIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpXHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBhd2FpdCBnZW9tZXRyeVV0aWxzLnByb2plY3RUb1NwYXRpYWxSZWZlcmVuY2UoZ2VvbWV0cmllcywgc3BhdGlhbFJlZmVyZW5jZSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzWm9vbVRvRmVhdHVyZXMgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGxheWVyOiBhbnksIGZlYXR1cmVzOiBfX2VzcmkuR3JhcGhpY1tdKTogUHJvbWlzZTxfX2VzcmkuR3JhcGhpY1tdPiB7XHJcbiAgaWYgKG1hcEJhc2VWaWV3ICYmIG1hcEJhc2VWaWV3LnR5cGUgPT09ICczZCcgJiYgbGF5ZXIgJiYgbGF5ZXIucXVlcnlGZWF0dXJlcyAmJiBmZWF0dXJlcykge1xyXG4gICAgcmV0dXJuIGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9yZXN0L3N1cHBvcnQvUXVlcnknXHJcbiAgICBdKS50aGVuKChtb2R1bGVzKSA9PiB7XHJcbiAgICAgIGNvbnN0IFtRdWVyeV0gPSBtb2R1bGVzXHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KClcclxuICAgICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlXHJcbiAgICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IFsnKiddXHJcbiAgICAgIHF1ZXJ5Lm9iamVjdElkcyA9IGZlYXR1cmVzLm1hcChmZWF0dXJlID0+IGZlYXR1cmUuYXR0cmlidXRlc1tsYXllci5vYmplY3RJZEZpZWxkXSlcclxuICAgICAgcmV0dXJuIGxheWVyLnF1ZXJ5RmVhdHVyZXMocXVlcnkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmZlYXR1cmVzICYmIHJlc3VsdC5mZWF0dXJlcy5sZW5ndGggPT09IGZlYXR1cmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShyZXN1bHQuZmVhdHVyZXMpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZmVhdHVyZXMpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShmZWF0dXJlcylcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZmVhdHVyZXMpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tJc0xpdmUgKGFwcE1vZGU6IEFwcE1vZGUpOiBib29sZWFuIHtcclxuICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcclxuICAgIGlmIChhcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnbikge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwQmFzZVJlc3RvcmVEYXRhIChtYXBJbnN0YW5jZTogTWFwQmFzZSk6IGFueSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIG1hcENvbnRhaW5lcjogbWFwSW5zdGFuY2UubWFwQ29udGFpbmVyLFxyXG4gICAgc3RhdGU6IG1hcEluc3RhbmNlLnN0YXRlLFxyXG4gICAgTWFwVmlldzogbWFwSW5zdGFuY2UuTWFwVmlldyxcclxuICAgIFNjZW5lVmlldzogbWFwSW5zdGFuY2UuU2NlbmVWaWV3LFxyXG4gICAgRXh0ZW50OiBtYXBJbnN0YW5jZS5FeHRlbnQsXHJcbiAgICBWaWV3cG9pbnQ6IG1hcEluc3RhbmNlLlZpZXdwb2ludCxcclxuICAgIG1hcFZpZXc6IG1hcEluc3RhbmNlLm1hcFZpZXcsXHJcbiAgICBzY2VuZVZpZXc6IG1hcEluc3RhbmNlLnNjZW5lVmlldyxcclxuICAgIGV4dGVudFdhdGNoOiBtYXBJbnN0YW5jZS5leHRlbnRXYXRjaCxcclxuICAgIGZhdGFsRXJyb3JXYXRjaDogbWFwSW5zdGFuY2UuZmF0YWxFcnJvcldhdGNoLFxyXG4gICAgZHNNYW5hZ2VyOiBtYXBJbnN0YW5jZS5kc01hbmFnZXIsXHJcbiAgICBoaWdoTGlnaHRIYW5kbGVzOiBtYXBJbnN0YW5jZS5oaWdoTGlnaHRIYW5kbGVzLFxyXG4gICAgbWFwQmFzZVZpZXdFdmVudEhhbmRsZXM6IG1hcEluc3RhbmNlLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLFxyXG4gICAgQ29sb3I6IG1hcEluc3RhbmNlLkNvbG9yLFxyXG4gICAgaXNSZXF1ZXN0aW5nTWFwOiBtYXBJbnN0YW5jZS5pc1JlcXVlc3RpbmdNYXBcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXN0b3JlTWFwQmFzZSAobWFwSW5zdGFuY2U6IE1hcEJhc2UsIHJlc3RvcmVEYXRhOiBhbnkpOiB2b2lkIHtcclxuICBtYXBJbnN0YW5jZS5tYXBDb250YWluZXIgPSByZXN0b3JlRGF0YS5tYXBDb250YWluZXJcclxuICBtYXBJbnN0YW5jZS5zdGF0ZSA9IHJlc3RvcmVEYXRhLnN0YXRlXHJcbiAgbWFwSW5zdGFuY2UuTWFwVmlldyA9IHJlc3RvcmVEYXRhLk1hcFZpZXdcclxuICBtYXBJbnN0YW5jZS5TY2VuZVZpZXcgPSByZXN0b3JlRGF0YS5TY2VuZVZpZXdcclxuICBtYXBJbnN0YW5jZS5FeHRlbnQgPSByZXN0b3JlRGF0YS5FeHRlbnRcclxuICBtYXBJbnN0YW5jZS5WaWV3cG9pbnQgPSByZXN0b3JlRGF0YS5WaWV3cG9pbnRcclxuICBtYXBJbnN0YW5jZS5tYXBWaWV3ID0gcmVzdG9yZURhdGEubWFwVmlld1xyXG4gIG1hcEluc3RhbmNlLnNjZW5lVmlldyA9IHJlc3RvcmVEYXRhLnNjZW5lVmlld1xyXG4gIG1hcEluc3RhbmNlLmV4dGVudFdhdGNoID0gcmVzdG9yZURhdGEuZXh0ZW50V2F0Y2hcclxuICBtYXBJbnN0YW5jZS5mYXRhbEVycm9yV2F0Y2ggPSByZXN0b3JlRGF0YS5mYXRhbEVycm9yV2F0Y2hcclxuICBtYXBJbnN0YW5jZS5kc01hbmFnZXIgPSByZXN0b3JlRGF0YS5kc01hbmFnZXJcclxuICBtYXBJbnN0YW5jZS5oaWdoTGlnaHRIYW5kbGVzID0gcmVzdG9yZURhdGEuaGlnaExpZ2h0SGFuZGxlc1xyXG4gIG1hcEluc3RhbmNlLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzID0gcmVzdG9yZURhdGEubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNcclxuICBtYXBJbnN0YW5jZS5Db2xvciA9IHJlc3RvcmVEYXRhLkNvbG9yXHJcbiAgbWFwSW5zdGFuY2UuaXNSZXF1ZXN0aW5nTWFwID0gcmVzdG9yZURhdGEuaXNSZXF1ZXN0aW5nTWFwXHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IFNWRywgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFBsYWNlaG9sZGVyTWFwRmlsbGVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2xheW91dHNfbGF5b3V0X3J1bnRpbWVfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8qKlxyXG4gKiBXZWJwYWNrIHdpbGwgcmVwbGFjZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB3aXRoIF9fd2VicGFja19yZXF1aXJlX18ucCB0byBzZXQgdGhlIHB1YmxpYyBwYXRoIGR5bmFtaWNhbGx5LlxyXG4gKiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzZXQgdGhlIHB1YmxpY1BhdGggaW4gd2VicGFjayBjb25maWcgaXM6IHdlIGNoYW5nZSB0aGUgcHVibGljUGF0aCB3aGVuIGRvd25sb2FkLlxyXG4gKiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuLy8gQHRzLWlnbm9yZVxyXG5fX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHdpbmRvdy5qaW11Q29uZmlnLmJhc2VVcmxcclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7XHJcbiAgUmVhY3QsIGNzcywganN4LCBnZXRBcHBTdG9yZSwgQWxsV2lkZ2V0UHJvcHMsIFNlc3Npb25NYW5hZ2VyLFxyXG4gIHV0aWxzLCBBcHBNb2RlLCBJTVN0YXRlLCBjbGFzc05hbWVzLCBwb2xpc2hlZCwgUmVhY3RSZXNpemVEZXRlY3RvciwgTXV0YWJsZVN0b3JlTWFuYWdlciwgSU1VcmxQYXJhbWV0ZXJzXHJcbn0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJTUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IE11bHRpU291cmNlTWFwIGZyb20gJy4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcCdcclxuaW1wb3J0IERlZmF1bHRNYXAgZnJvbSAnLi9jb21wb25lbnRzL2RlZmF1bHQtbWFwJ1xyXG5pbXBvcnQgeyBJRmVhdHVyZSB9IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LXR5cGVzJ1xyXG5pbXBvcnQgeyBjaGVja0lzTGl2ZSB9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7IEppbXVNYXBWaWV3R3JvdXAsIFNob3dPbk1hcERhdGFzIH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IFZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQsIFBhZ2VWaXNpYmlsaXR5Q29udGV4dCwgVmlld1Zpc2liaWxpdHlDb250ZXh0IH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25SZWxhdGVkUHJvcHMge1xyXG4gIHpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZT86IHtcclxuICAgIHZhbHVlOiB7XHJcbiAgICAgIGZlYXR1cmVzOiBfX2VzcmkuRmVhdHVyZVNldCB8IF9fZXNyaS5HcmFwaGljW10gfCBJRmVhdHVyZVtdIHwgX19lc3JpLkV4dGVudCB8IF9fZXNyaS5HZW9tZXRyeVtdXHJcbiAgICAgIGxheWVySWQ/OiBzdHJpbmdcclxuICAgICAgem9vbVRvT3B0aW9uPzoge1xyXG4gICAgICAgIHNjYWxlPzogbnVtYmVyXHJcbiAgICAgIH1cclxuICAgICAgdHlwZTogJ3pvb20tdG8tZ3JhcGhpY3MnIHwgJ3pvb20tdG8tZXh0ZW50J1xyXG4gICAgfVxyXG4gICAgcmVsYXRlZFdpZGdldHM/OiBzdHJpbmdbXVxyXG4gIH1cclxuICBuZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7XHJcbiAgICB2YWx1ZToge1tsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldH1cclxuICAgIHByb21pc2U/OiBQcm9taXNlPGFueT5cclxuICB9XHJcbiAgY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZT86IHtbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXR9XHJcbiAgc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlPzogSUZlYXR1cmVbXSB8IF9fZXNyaS5HcmFwaGljW11cclxuICBwYW5Ub0FjdGlvblZhbHVlPzoge1xyXG4gICAgdmFsdWU6IF9fZXNyaS5GZWF0dXJlU2V0IHwgX19lc3JpLkdyYXBoaWNbXSB8IElGZWF0dXJlW10gfCBfX2VzcmkuRXh0ZW50XHJcbiAgICByZWxhdGVkV2lkZ2V0cz86IHN0cmluZ1tdXHJcbiAgfVxyXG4gIGZsYXNoQWN0aW9uVmFsdWU/OiB7XHJcbiAgICBsYXllckRhdGFTb3VyY2VJZDogc3RyaW5nXHJcbiAgICBxdWVyeVNRTDogc3RyaW5nXHJcbiAgfVxyXG4gIGZpbHRlckFjdGlvblZhbHVlPzoge1xyXG4gICAgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gICAgcXVlcnlTUUw6IHN0cmluZ1xyXG4gIH1cclxuICBzaG93T25NYXBEYXRhcz86IFNob3dPbk1hcERhdGFzXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWFwV2lkZ2V0UHJvcHMgZXh0ZW5kcyBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz57XHJcbiAgbXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wc1xyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBpc1ByaW50UHJldmlldzogYm9vbGVhblxyXG4gIHF1ZXJ5T2JqZWN0OiBJTVVybFBhcmFtZXRlcnNcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRle1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuXHJcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcclxuICB3aWRnZXRIZWlnaHQ6IG51bWJlclxyXG5cclxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2lkZ2V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxNYXBXaWRnZXRQcm9wcywgU3RhdGU+IHtcclxuICBwYXJlbnRDb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIGNvbnRhaW5lckNsaWVudFJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0XHJcbiAgbXVsdGlTb3VyY2VNYXBJbnN0YW5jZTogTXVsdGlTb3VyY2VNYXAgPSBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICB3aWR0aEJyZWFrcG9pbnQ6IG51bGwsXHJcbiAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcclxuICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxyXG4gICAgfSBhcyBTdGF0ZVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuICAgICAgLm1hcC1pcy1saXZlLW1vZGUge1xyXG4gICAgICAgIC5leGJtYXAtdWkge1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5pcy13aWRnZXQge1xyXG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC53aWRnZXQtbWFwLXVzZW1hc2sge1xyXG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXAtaXMtZGVzaWduLW1vZGUge1xyXG4gICAgICAgIC5leGJtYXAtdWksXHJcbiAgICAgICAgLmV4Ym1hcC11aS10b29sIHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaXMtd2lkZ2V0IHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcHtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogLTE7XHJcbiAgICAgICAgLm92ZXJ2aWV3LWNvbnRhaW5lcntcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHRvcDogMTJweDtcclxuICAgICAgICAgIHJpZ2h0OiAxMnB4O1xyXG4gICAgICAgICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5leHRlbnQtY29udGFpbmVye1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgei1pbmRleDogMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC5leHRlbnQtYnRuLWNvbnRhaW5lcntcclxuICAgICAgICAgIGJ1dHRvbntcclxuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5wcmV2aW91cy1leHRlbnQtYnRue1xyXG4gICAgICAgICAgICBjb2xvcjogIzExMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5uZXh0LWV4dGVudC1idG57XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMjIyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcC10b29sLWxheW91dHtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubWFwc3dpdGNoLWNvbnRhaW5lciB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHotaW5kZXg6IDc7XHJcbiAgICAgICAgd2lkdGg6IDMycHg7XHJcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgICAgIGJvdHRvbTogMTBweDtcclxuICAgICAgICBsZWZ0OiAxMHB4O1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMylcclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcHN3aXRjaC1pY29uIHtcclxuICAgICAgICBmaWxsOiBibGFjaztcclxuICAgICAgICBsZWZ0OiA4cHg7XHJcbiAgICAgICAgdG9wOiA4cHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcC1iYWNrZ3JvdW5kIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy53aGl0ZX07XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7cG9saXNoZWQucmdiYSh0aGVtZS5jb2xvcnMud2hpdGUsIDAuODUpfTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgei1pbmRleDogMTtcclxuICAgICAgICB0b3A6IDA7XHJcblxyXG4gICAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwtcGFkZGluZyB7XHJcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6ICR7cG9saXNoZWQucmVtKDI0KX07XHJcbiAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgyNCl9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLndpZGdldC1tYXAtY3Jhc2hlZC1sYWJlbCB7XHJcbiAgICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XHJcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMuYmxhY2t9O1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBAa2V5ZnJhbWVzIGFwcGVhciB7XHJcbiAgICAgICAgMCV7b3BhY2l0eTowfVxyXG4gICAgICAgIDI1JXtvcGFjaXR5Oi4yNX1cclxuICAgICAgICA1MCV7b3BhY2l0eTouNTt9XHJcbiAgICAgICAgNzUle29wYWNpdHk6Ljc1fVxyXG4gICAgICAgIDEwMCV7b3BhY2l0eToxO31cclxuICAgICAgfVxyXG5cclxuICAgICAgQGtleWZyYW1lcyBkaXNhcHBlYXIge1xyXG4gICAgICAgIDAle29wYWNpdHk6MX1cclxuICAgICAgICAyNSV7b3BhY2l0eTouNzV9XHJcbiAgICAgICAgNTAle29wYWNpdHk6LjU7fVxyXG4gICAgICAgIDc1JXtvcGFjaXR5Oi4yNX1cclxuICAgICAgICAxMDAle29wYWNpdHk6MDt9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhciB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGFwcGVhciAzMDBtcztcclxuICAgICAgICAtbW96LWFuaW1hdGlvbjogYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtbW96LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhciB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcclxuICAgICAgICAtbW96LWFuaW1hdGlvbjogZGlzYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtbW96LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUge1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci1ub2FuaW1hdGUge1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgIH1cclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgc3RhdGljIG1hcEV4dHJhU3RhdGVQcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXBwTW9kZTogc3RhdGUgJiYgc3RhdGUuYXBwUnVudGltZUluZm8gJiYgc3RhdGUuYXBwUnVudGltZUluZm8uYXBwTW9kZSxcclxuICAgICAgaXNQcmludFByZXZpZXc6IHN0YXRlLmFwcFJ1bnRpbWVJbmZvLmlzUHJpbnRQcmV2aWV3LFxyXG4gICAgICBxdWVyeU9iamVjdDogc3RhdGUucXVlcnlPYmplY3RcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0UmVuZGVyTWFwID0gKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM6IHRydWVcclxuICAgICAgfSlcclxuICAgIH0sIDEwMClcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5zdGFydExvYWRNb2R1bGVzKSB7XHJcbiAgICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciB8fCAhdGhpcy5wcm9wcy5jb25maWcuY2FuUGxhY2VIb2xkZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0UmVuZGVyTWFwKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xyXG4gICAgaWYgKCF3aWRnZXRzW3RoaXMucHJvcHMuaWRdKSB7XHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuaWQsICdyZXN0b3JlRGF0YScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRQbGFjZUhvbGRlckltYWdlID0gKCkgPT4ge1xyXG4gICAgbGV0IHBsYWNlSG9sZGVySW1hZ2UgPSB0aGlzLnByb3BzLmNvbmZpZy5wbGFjZWhvbGRlckltYWdlXHJcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpXHJcbiAgICBpZiAocGxhY2VIb2xkZXJJbWFnZSkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgY29uc3QgaXNQb3J0YWxUaHVtYkV4cCA9IG5ldyBSZWdFeHAoJ14oLikrL3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyguKSsvaW5mby8oLikrJylcclxuXHJcbiAgICAgIGlmIChpc1BvcnRhbFRodW1iRXhwLnRlc3QocGxhY2VIb2xkZXJJbWFnZSkpIHtcclxuICAgICAgICBpZiAoc2Vzc2lvbikge1xyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2UgKyBgP3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGxhY2VIb2xkZXJJbWFnZVxyXG4gIH1cclxuXHJcbiAgZnVsbFNjcmVlbk1hcCA9ICgpID0+IHtcclxuICAgIGlmICh1dGlscy5pc1RvdWNoRGV2aWNlKCkpIHtcclxuICAgIC8vIGlzIHRvdWNoIGRldmljZVxyXG4gICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QuaGVpZ2h0fXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LndpZHRofXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC50b3B9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC5sZWZ0fXB4YFxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSAnMTAwJSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ25vbmUnXHJcbiAgICAgICAgICB0aGlzLnBhcmVudENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcilcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDEwMClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBjbGllbnRSZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QgPSBjbGllbnRSZWN0XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7Y2xpZW50UmVjdC5oZWlnaHR9cHhgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHtjbGllbnRSZWN0LndpZHRofXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke2NsaWVudFJlY3QudG9wfXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtjbGllbnRSZWN0LmxlZnR9cHhgXHJcblxyXG4gICAgICAgIGRvY3VtZW50ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9ICd0b3AgMC4zcywgYm90dG9tIDAuM3MsIGxlZnQgMC4zcywgcmlnaHQgMC4zcywgaGVpZ2h0IDAuM3MsIHdpZHRoIDAuM3MnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwcHgnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5yaWdodCA9ICcwcHgnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbFxyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZidcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgMTAwKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb250YWluZXIgYXMgYW55XHJcblxyXG4gICAgICBpZiAoIWRvY3VtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoIShkb2N1bWVudCBhcyBhbnkpLmZ1bGxzY3JlZW5FbGVtZW50ICYmICEoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgJiYgIShkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS5leGl0RnVsbHNjcmVlbigpXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgKGRvY3VtZW50IGFzIGFueSkud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVxdWVzdE1ldGhvZCA9IGVsZW1lbnQucmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubXNSZXF1ZXN0RnVsbFNjcmVlblxyXG4gICAgICBpZiAocmVxdWVzdE1ldGhvZCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgaXNGdWxsU2NyZWVuOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXF1ZXN0TWV0aG9kLmNhbGwoZWxlbWVudClcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLkFjdGl2ZVhPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc3Qgd3NjcmlwdCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdXU2NyaXB0LlNoZWxsJylcclxuICAgICAgICBpZiAod3NjcmlwdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgd3NjcmlwdC5TZW5kS2V5cygne0YxMX0nKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVmlld0dyb3VwQ3JlYXRlID0gKHZpZXdHcm91cDogSmltdU1hcFZpZXdHcm91cCkgPT4ge1xyXG4gICAgaWYgKHZpZXdHcm91cCkge1xyXG4gICAgICB2aWV3R3JvdXAuc2V0TWFwV2lkZ2V0SW5zdGFuY2UodGhpcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN3aXRjaE1hcCA9IGFzeW5jICgpOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgaWYgKHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZSkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tdWx0aVNvdXJjZU1hcEluc3RhbmNlLnN3aXRjaE1hcCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2UgPSAoaW5zdGFuY2U6IE11bHRpU291cmNlTWFwKSA9PiB7XHJcbiAgICB0aGlzLm11bHRpU291cmNlTWFwSW5zdGFuY2UgPSBpbnN0YW5jZVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh3aWR0aCA8PSA1NDUgJiYgd2lkdGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ3hzbWFsbCcsXHJcbiAgICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHRcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ290aGVyJyxcclxuICAgICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5uZXJDb250ZW50ID0gKGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhbikgPT4ge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXMpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtbWFwIHctMTAwIGgtMTAwJz5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfX0gY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9e3JlZiA9PiB7IHRoaXMucGFyZW50Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnXHJcbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJywgeyAnbWFwLWlzLWRlc2lnbi1tb2RlJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9PlxyXG4gICAgICAgICAgICAgICAge2lzTWFwSW5WaXNpYmxlQXJlYSAmJiA8RGVmYXVsdE1hcFxyXG4gICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuTWFwPXt0aGlzLmZ1bGxTY3JlZW5NYXB9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wc30gc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5zdGF0ZS5zdGFydExvYWRNb2R1bGVzfVxyXG4gICAgICAgICAgICAgICAgICBpc0RlZmF1bHRNYXAgc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZT17dGhpcy5zZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9XHJcbiAgICAgICAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5zdGF0ZS53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5zdGF0ZS53aWR0aEJyZWFrcG9pbnR9IGlzRnVsbFNjcmVlbj17dGhpcy5zdGF0ZS5pc0Z1bGxTY3JlZW59IGlzTWFwSW5WaXNpYmxlQXJlYT17aXNNYXBJblZpc2libGVBcmVhfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPC9EZWZhdWx0TWFwPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIHJlZj17cmVmID0+IHsgdGhpcy5wYXJlbnRDb250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCdcclxuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAnLCB7ICdtYXAtaXMtZGVzaWduLW1vZGUnOiAhY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKSB9KX0+XHJcbiAgICAgICAgICAgICAgICB7aXNNYXBJblZpc2libGVBcmVhICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID49IDEgJiZcclxuICAgICAgICAgICAgICAgICAgPE11bHRpU291cmNlTWFwXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXsxfSBmdWxsU2NyZWVuTWFwPXt0aGlzLmZ1bGxTY3JlZW5NYXB9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wc30gc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5zdGF0ZS5zdGFydExvYWRNb2R1bGVzfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0SGVpZ2h0PXt0aGlzLnN0YXRlLndpZGdldEhlaWdodH0gd2lkdGhCcmVha3BvaW50PXt0aGlzLnN0YXRlLndpZHRoQnJlYWtwb2ludH1cclxuICAgICAgICAgICAgICAgICAgICBpc0Z1bGxTY3JlZW49e3RoaXMuc3RhdGUuaXNGdWxsU2NyZWVufSBpc01hcEluVmlzaWJsZUFyZWE9e2lzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgICAgICAgLz59XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlV2lkdGggaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdqaW11LXdpZGdldCBhcmNnaXMtbWFwJz5cclxuICAgICAgICA8UGFnZVZpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgeyhpc1Zpc2libGVJblBhZ2UpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8Vmlld3BvcnRWaXNpYmlsaXR5Q29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgICAgICAgIHsoaXNWaXNpYmxlSW5WaWV3UG9ydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxWaWV3VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7KHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZUluVmlldyA9IHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzLmlzSW5WaWV3ID8gdmlld1Zpc2liaWxpdHlDb250ZXh0UHJvcHMuaXNJbkN1cnJlbnRWaWV3IDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbm5lckNvbnRlbnQoY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKSA/ICgoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSAmJiBpc1Zpc2libGVJblZpZXcpIDogaXNWaXNpYmxlSW5QYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICA8L1ZpZXdWaXNpYmlsaXR5Q29udGV4dC5Db25zdW1lcj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgPC9WaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIDwvUGFnZVZpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9