System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-for-builder","jimu-layouts/layout-runtime","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},n={},i={},r={},s={},p={},a={};return{setters:[function(e){o.AppMode=e.AppMode,o.BrowserSizeMode=e.BrowserSizeMode,o.LayoutItemType=e.LayoutItemType,o.React=e.React,o.appActions=e.appActions,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){n.interact=e.interact},function(e){i.Button=e.Button,i.ButtonGroup=e.ButtonGroup,i.Dropdown=e.Dropdown,i.DropdownButton=e.DropdownButton,i.DropdownItem=e.DropdownItem,i.DropdownMenu=e.DropdownMenu,i.Popper=e.Popper},function(e){r.LayoutServiceProvider=e.LayoutServiceProvider,r.builderAppSync=e.builderAppSync,r.getAppConfigAction=e.getAppConfigAction,r.widgetService=e.widgetService},function(e){s.searchUtils=e.searchUtils},function(e){p.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,p.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,p.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){a.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{var e={79244:e=>{"use strict";e.exports=o},26245:e=>{"use strict";e.exports=n},4108:e=>{"use strict";e.exports=r},6055:e=>{"use strict";e.exports=p},41496:e=>{"use strict";e.exports=s},1888:e=>{"use strict";e.exports=a},14321:e=>{"use strict";e.exports=i}},t={};function u(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,u),i.exports}u.d=(e,t)=>{for(var o in t)u.o(t,o)&&!u.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var d={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(d),u.d(d,{default:()=>I});var e,t=u(79244),o=u(26245),n=u(14321),i=u(4108),r=u(41496);!function(e){e.AUTO="Auto",e.CUSTOM="Custom"}(e||(e={}));var s,p,a,l,c,S,g,A,L,y,h;!function(e){e.None="NONE",e.Arrangement="ARRANGEMENT",e.States="STATES",e.Tools="TOOLS"}(s||(s={})),function(e){e.None="NONE",e.Single="SINGLE",e.Multiple="MULTIPLE"}(p||(p={})),function(e){e.Scroll="SCROLL",e.MultiPage="MULTIPAGE"}(a||(a={})),function(e){e.Start="FLEX-START",e.Center="CENTER",e.End="FLEX-END"}(l||(l={})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(c||(c={})),function(e){e.Row="ROW",e.Column="COLUMN",e.GRID="GRID"}(S||(S={})),function(e){e.Glide="GLIDE",e.Fade="FADE",e.Float="FLOAT"}(g||(g={})),function(e){e.Hover0="HOVER0",e.Hover1="HOVER1",e.Hover2="HOVER2",e.Hover3="HOVER3"}(A||(A={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3"}(L||(L={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3",e.Style4="STYLE4",e.Style5="STYLE5",e.Style6="STYLE6",e.Style7="STYLE7",e.Style8="STYLE8",e.Style9="STYLE9",e.Style10="STYLE10",e.Style11="STYLE11",e.Style12="STYLE12"}(y||(y={})),function(e){e.Default="DEFAULT",e.Selected="SELECTED",e.Hover="HOVER"}(h||(h={}));var f=u(6055);class m extends t.React.PureComponent{constructor(e){super(e),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:n}=this.props;void 0!==o?n&&n(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var e,o,n,i;const{theme:r}=this.props;return t.css`
      & button {
        padding: 0;
      }
      .list-toggle-button {
        background: ${null===(o=null===(e=null==r?void 0:r.ref.palette)||void 0===e?void 0:e.neutral)||void 0===o?void 0:o[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(i=null===(n=null==r?void 0:r.ref.palette)||void 0===n?void 0:n.neutral)||void 0===i?void 0:i[700]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderTheme:o}=e;this.MyDropdown=o?o(n.Dropdown):n.Dropdown,this.MyDropdownButton=o?o(n.DropdownButton):n.DropdownButton,this.MyDropdownMenu=o?o(n.DropdownMenu):n.DropdownMenu,this.MyDropdownItem=o?o(n.DropdownItem):n.DropdownItem}render(){const{items:e,toggleContent:o,toggleType:n,toggleArrow:i,menuContent:r,appMode:s,modifiers:p,toggleIsIcon:a,theme:u,isDropDownOpen:d,size:l,appendToBody:c,toggleTitle:S,direction:g,menuCss:A,className:L,showActive:y,activeLabel:h,fluid:f}=this.props;let{isOpen:m}=this.state;m=void 0===d?m:d;const{MyDropdown:w,MyDropdownButton:I,MyDropdownMenu:E,MyDropdownItem:D}=this;return(0,t.jsx)(w,{size:l,toggle:this.onDropDownToggle,direction:g,fluid:f,isOpen:m&&s!==t.AppMode.Design,className:`my-dropdown ${L}`,css:this.getStyle()},o&&(0,t.jsx)(I,{icon:a,title:S,size:l,type:n,className:"list-toggle-button",arrow:i},o&&o(u)),(0,t.jsx)(E,{appendToBody:c,modifiers:p,css:A&&A(u),referenceHiddenVisibility:!0},r?r(u):e&&e.asMutable().map(((e,o)=>!e.hide&&(0,t.jsx)(D,{key:o,className:"no-user-select",title:e.label,active:y&&e.label===h,onClick:t=>{this.onItemClick(t,e)}},e.label)))))}}var w=u(1888);const I={ButtonGroup:n.ButtonGroup,interact:o.interact,searchUtils:r.searchUtils,getAppConfigAction:i.getAppConfigAction,LayoutServiceProvider:i.LayoutServiceProvider,widgetService:i.widgetService,GLOBAL_DRAGGING_CLASS_NAME:f.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:f.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:f.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderTheme:w.withBuilderTheme,BuilderDropDown:(0,w.withBuilderTheme)((e=>t.React.createElement(m,Object.assign({},e,{withBuilderTheme:w.withBuilderTheme})))),BuilderPopper:(0,w.withBuilderTheme)(n.Popper),BuilderButton:(0,w.withBuilderTheme)(n.Button),handleResizeCard:(e,t,o=!1,n=!1,r=!1,s=!1)=>{const p=function(e,t,o,n=!1,r=!1,s=!1,p){const{id:a,browserSizeMode:u}=e;p||(p=(0,i.getAppConfigAction)().appConfig);const d=(0,i.getAppConfigAction)(p);return d.editWidgetConfig(a,o.setIn(["cardConfigs",h.Default,"cardSize",u],t).setIn(["cardConfigs",h.Hover,"cardSize",u],t).setIn(["cardConfigs",h.Selected,"cardSize",u],t)),d}(e,t,e.config,o,n,r);p&&p.exec(s)},selectSelf:e=>{!function(e,o){const{id:n,dispatch:s,browserSizeMode:p}=e,a=(0,i.getAppConfigAction)().appConfig,u=r.searchUtils.getContentLayoutInfosInOneSizeMode(a,n,t.LayoutItemType.Widget,p);if(u)if(u.length>1){const e=r.searchUtils.getWidgetIdThatUseTheLayoutId(a,u[0].layoutId);if(e){const n=a.widgets[e];if(n&&n.manifest&&n.manifest.name&&"list"===n.manifest.name){const e=(0,t.getAppStore)().getState().widgetsState&&(0,t.getAppStore)().getState().widgetsState[n.id]&&(0,t.getAppStore)().getState().widgetsState[n.id].builderStatus;if(e){const d=r.searchUtils.findLayoutId(n.layouts[e],p,a.mainSizeMode),l=u.find((e=>e.layoutId===d));o?s(t.appActions.selectionChanged(l)):i.builderAppSync.publishChangeSelectionToApp(l)}}}}else u.length>0&&(o?s(t.appActions.selectionChanged(u[0])):i.builderAppSync.publishChangeSelectionToApp(u[0]))}(e,!0)},selectionInList:(e,o,n,i=!0)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;let s;return i?s=r.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(n,e,o,(0,t.getAppStore)().getState().browserSizeMode):(s=[],s.push(...r.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(n,e,o,t.BrowserSizeMode.Large)),s.push(...r.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(n,e,o,t.BrowserSizeMode.Medium)),s.push(...r.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(n,e,o,t.BrowserSizeMode.Small))),s.length>0}}})(),d})())}}}));