/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-core/react","jimu-ui/basic/sql-expression-runtime"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	var __WEBPACK_EXTERNAL_MODULE_react__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_sql_expression_runtime__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_react__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_sql_expression_runtime__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_react__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_sql_expression_runtime__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./extensions/widgets/common/list/src/config.ts":
/*!******************************************************!*\
  !*** ./extensions/widgets/common/list/src/config.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LIST_CARD_PADDING\": () => (/* binding */ LIST_CARD_PADDING),\n/* harmony export */   \"LIST_CARD_MIN_SIZE\": () => (/* binding */ LIST_CARD_MIN_SIZE),\n/* harmony export */   \"DS_TOOL_H\": () => (/* binding */ DS_TOOL_H),\n/* harmony export */   \"BOTTOM_TOOL_H\": () => (/* binding */ BOTTOM_TOOL_H),\n/* harmony export */   \"COMMON_PADDING\": () => (/* binding */ COMMON_PADDING),\n/* harmony export */   \"DS_TOOL_BOTTOM_PADDING\": () => (/* binding */ DS_TOOL_BOTTOM_PADDING),\n/* harmony export */   \"BOTTOM_TOOL_TOP_PADDING\": () => (/* binding */ BOTTOM_TOOL_TOP_PADDING),\n/* harmony export */   \"LIST_TOOL_MIN_SIZE_NO_DATA_ACTION\": () => (/* binding */ LIST_TOOL_MIN_SIZE_NO_DATA_ACTION),\n/* harmony export */   \"LIST_TOOL_MIN_SIZE_DATA_ACTION\": () => (/* binding */ LIST_TOOL_MIN_SIZE_DATA_ACTION),\n/* harmony export */   \"DEFAULT_CARD_SIZE\": () => (/* binding */ DEFAULT_CARD_SIZE),\n/* harmony export */   \"DEFAULT_SPACE\": () => (/* binding */ DEFAULT_SPACE),\n/* harmony export */   \"SettingCollapseType\": () => (/* binding */ SettingCollapseType),\n/* harmony export */   \"ListLayout\": () => (/* binding */ ListLayout),\n/* harmony export */   \"SelectionModeType\": () => (/* binding */ SelectionModeType),\n/* harmony export */   \"PageStyle\": () => (/* binding */ PageStyle),\n/* harmony export */   \"AlignType\": () => (/* binding */ AlignType),\n/* harmony export */   \"DirectionType\": () => (/* binding */ DirectionType),\n/* harmony export */   \"ListLayoutType\": () => (/* binding */ ListLayoutType),\n/* harmony export */   \"PageTransitonType\": () => (/* binding */ PageTransitonType),\n/* harmony export */   \"HoverType\": () => (/* binding */ HoverType),\n/* harmony export */   \"SelectedStyle\": () => (/* binding */ SelectedStyle),\n/* harmony export */   \"ItemStyle\": () => (/* binding */ ItemStyle),\n/* harmony export */   \"Status\": () => (/* binding */ Status)\n/* harmony export */ });\nconst LIST_CARD_PADDING = 0;\nconst LIST_CARD_MIN_SIZE = 20;\nconst DS_TOOL_H = 42;\nconst BOTTOM_TOOL_H = 40;\nconst COMMON_PADDING = 0;\nconst DS_TOOL_BOTTOM_PADDING = 14;\nconst BOTTOM_TOOL_TOP_PADDING = 14;\nconst LIST_TOOL_MIN_SIZE_NO_DATA_ACTION = 175;\nconst LIST_TOOL_MIN_SIZE_DATA_ACTION = 220;\nconst DEFAULT_CARD_SIZE = 200;\nconst DEFAULT_SPACE = 10;\nvar SettingCollapseType;\n(function (SettingCollapseType) {\n    SettingCollapseType[\"None\"] = \"NONE\";\n    SettingCollapseType[\"Arrangement\"] = \"ARRANGEMENT\";\n    SettingCollapseType[\"States\"] = \"STATES\";\n    SettingCollapseType[\"Tools\"] = \"TOOLS\";\n})(SettingCollapseType || (SettingCollapseType = {}));\nvar ListLayout;\n(function (ListLayout) {\n    ListLayout[\"AUTO\"] = \"Auto\";\n    ListLayout[\"CUSTOM\"] = \"Custom\";\n})(ListLayout || (ListLayout = {}));\nvar SelectionModeType;\n(function (SelectionModeType) {\n    SelectionModeType[\"None\"] = \"NONE\";\n    SelectionModeType[\"Single\"] = \"SINGLE\";\n    SelectionModeType[\"Multiple\"] = \"MULTIPLE\";\n})(SelectionModeType || (SelectionModeType = {}));\nvar PageStyle;\n(function (PageStyle) {\n    PageStyle[\"Scroll\"] = \"SCROLL\";\n    PageStyle[\"MultiPage\"] = \"MULTIPAGE\";\n})(PageStyle || (PageStyle = {}));\nvar AlignType;\n(function (AlignType) {\n    AlignType[\"Start\"] = \"FLEX-START\";\n    AlignType[\"Center\"] = \"CENTER\";\n    AlignType[\"End\"] = \"FLEX-END\";\n})(AlignType || (AlignType = {}));\nvar DirectionType;\n(function (DirectionType) {\n    DirectionType[\"Horizon\"] = \"HORIZON\";\n    DirectionType[\"Vertical\"] = \"VERTICAL\";\n})(DirectionType || (DirectionType = {}));\nvar ListLayoutType;\n(function (ListLayoutType) {\n    ListLayoutType[\"Row\"] = \"ROW\";\n    ListLayoutType[\"Column\"] = \"COLUMN\";\n    ListLayoutType[\"GRID\"] = \"GRID\";\n})(ListLayoutType || (ListLayoutType = {}));\nvar PageTransitonType;\n(function (PageTransitonType) {\n    PageTransitonType[\"Glide\"] = \"GLIDE\";\n    PageTransitonType[\"Fade\"] = \"FADE\";\n    PageTransitonType[\"Float\"] = \"FLOAT\";\n})(PageTransitonType || (PageTransitonType = {}));\nvar HoverType;\n(function (HoverType) {\n    HoverType[\"Hover0\"] = \"HOVER0\";\n    HoverType[\"Hover1\"] = \"HOVER1\";\n    HoverType[\"Hover2\"] = \"HOVER2\";\n    HoverType[\"Hover3\"] = \"HOVER3\";\n})(HoverType || (HoverType = {}));\nvar SelectedStyle;\n(function (SelectedStyle) {\n    SelectedStyle[\"Style0\"] = \"STYLE0\";\n    SelectedStyle[\"Style1\"] = \"STYLE1\";\n    SelectedStyle[\"Style2\"] = \"STYLE2\";\n    SelectedStyle[\"Style3\"] = \"STYLE3\";\n})(SelectedStyle || (SelectedStyle = {}));\nvar ItemStyle;\n(function (ItemStyle) {\n    ItemStyle[\"Style0\"] = \"STYLE0\";\n    ItemStyle[\"Style1\"] = \"STYLE1\";\n    ItemStyle[\"Style2\"] = \"STYLE2\";\n    ItemStyle[\"Style3\"] = \"STYLE3\";\n    ItemStyle[\"Style4\"] = \"STYLE4\";\n    ItemStyle[\"Style5\"] = \"STYLE5\";\n    ItemStyle[\"Style6\"] = \"STYLE6\";\n    ItemStyle[\"Style7\"] = \"STYLE7\";\n    ItemStyle[\"Style8\"] = \"STYLE8\";\n    ItemStyle[\"Style9\"] = \"STYLE9\";\n})(ItemStyle || (ItemStyle = {}));\nvar Status;\n(function (Status) {\n    Status[\"Regular\"] = \"REGULAR\";\n    Status[\"Selected\"] = \"SELECTED\";\n    Status[\"Hover\"] = \"HOVER\";\n})(Status || (Status = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL2NvbmZpZy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9jb21tb24vbGlzdC9zcmMvY29uZmlnLnRzPzZiMWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW1tdXRhYmxlT2JqZWN0IH0gZnJvbSAnc2VhbWxlc3MtaW1tdXRhYmxlJ1xuaW1wb3J0IHtcbiAgSW1hZ2VQcm9wcyxcbiAgRmlsbFR5cGUsXG4gIEltYWdlUGFyYW0sXG4gIEJvcmRlclN0eWxlLFxuICBGb3VyU2lkZXNVbml0LFxuICBCb3hTaGFkb3dTdHlsZSxcbiAgTGluZWFyVW5pdFxufSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgU3FsRXhwcmVzc2lvbiB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7XG4gIFNvcnRTZXR0aW5nT3B0aW9uLFxuICBJTUxpbmtQYXJhbVxufSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcblxuLy8gVE9ETzogbW92ZSB0byBjb3JlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuZXhwb3J0IGludGVyZmFjZSBnb3RvUHJvcHMge1xuICB2aWV3czogc3RyaW5nW11cbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSAgQHR5cGVzY3JpcHQtZXNsaW50L25hbWluZy1jb252ZW50aW9uXG5leHBvcnQgaW50ZXJmYWNlIGdvdG9BY3Rpb24ge1xuICBnb3RvOiBnb3RvUHJvcHNcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdWdnZXN0aW9uIHtcbiAgc3VnZ2VzdGlvbkh0bWw6IHN0cmluZyB8IEVsZW1lbnRcbiAgc3VnZ2VzdGlvbjogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBMSVNUX0NBUkRfUEFERElORyA9IDBcbmV4cG9ydCBjb25zdCBMSVNUX0NBUkRfTUlOX1NJWkUgPSAyMFxuZXhwb3J0IGNvbnN0IERTX1RPT0xfSCA9IDQyXG5leHBvcnQgY29uc3QgQk9UVE9NX1RPT0xfSCA9IDQwXG5leHBvcnQgY29uc3QgQ09NTU9OX1BBRERJTkcgPSAwXG5leHBvcnQgY29uc3QgRFNfVE9PTF9CT1RUT01fUEFERElORyA9IDE0XG5leHBvcnQgY29uc3QgQk9UVE9NX1RPT0xfVE9QX1BBRERJTkcgPSAxNFxuZXhwb3J0IGNvbnN0IExJU1RfVE9PTF9NSU5fU0laRV9OT19EQVRBX0FDVElPTiA9IDE3NVxuZXhwb3J0IGNvbnN0IExJU1RfVE9PTF9NSU5fU0laRV9EQVRBX0FDVElPTiA9IDIyMFxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ0FSRF9TSVpFID0gMjAwXG5leHBvcnQgY29uc3QgREVGQVVMVF9TUEFDRSA9IDEwXG5cbmV4cG9ydCBlbnVtIFNldHRpbmdDb2xsYXBzZVR5cGUge1xuICBOb25lID0gJ05PTkUnLFxuICBBcnJhbmdlbWVudCA9ICdBUlJBTkdFTUVOVCcsXG4gIFN0YXRlcyA9ICdTVEFURVMnLFxuICBUb29scyA9ICdUT09MUydcbn1cblxuaW50ZXJmYWNlIFdpZGdldEhlYWRlclRpdGxlIHtcbiAgdGV4dDogc3RyaW5nXG4gIC8vIEFkZCBjb2xvciwgc2l6ZSwgYWxpZ25tZW50LCBldGMuXG4gIC8vIEFkZCBhbiBvcHRpb24gdG8gYmluZCB0ZXh0IHRvIGEgZmllbGRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaWRnZXRIZWFkZXIge1xuICB0aXRsZTogSW1tdXRhYmxlT2JqZWN0PFdpZGdldEhlYWRlclRpdGxlPlxuICAvLyBUT0RPOlxuICAvLyBBZGQgXCJhY3Rpb25cIiBzdWNoIGFzIGZpbHRlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpc3REaXZTaXplIHtcbiAgY2xpZW50V2lkdGg6IG51bWJlclxuICBjbGllbnRIZWlnaHQ6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgV2lkZ2V0U3R5bGUge1xuICBpZDogc3RyaW5nXG59XG4vLyBFTkQ6IFRPRE9cblxuaW50ZXJmYWNlIExpc3RJdGVtQ29tcG9uZW50IHtcbiAgZmllbGQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExpc3RJdGVtVGl0bGVDb21wb25lbnQgZXh0ZW5kcyBMaXN0SXRlbUNvbXBvbmVudCB7fVxuZXhwb3J0IGludGVyZmFjZSBMaXN0SXRlbURlc2NyaXB0aW9uQ29tcG9uZW50IGV4dGVuZHMgTGlzdEl0ZW1Db21wb25lbnQge31cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdEl0ZW1TZWxlY3Rpb25Nb2RlQ29tcG9uZW50IGV4dGVuZHMgTGlzdEl0ZW1Db21wb25lbnQge31cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdEl0ZW1JbWFnZUNvbXBvbmVudCBleHRlbmRzIExpc3RJdGVtQ29tcG9uZW50LCBJbWFnZVByb3BzIHt9XG5cbmV4cG9ydCBlbnVtIExpc3RMYXlvdXQge1xuICBBVVRPID0gJ0F1dG8nLFxuICBDVVNUT00gPSAnQ3VzdG9tJ1xufVxuXG5leHBvcnQgZW51bSBTZWxlY3Rpb25Nb2RlVHlwZSB7XG4gIE5vbmUgPSAnTk9ORScsXG4gIFNpbmdsZSA9ICdTSU5HTEUnLFxuICBNdWx0aXBsZSA9ICdNVUxUSVBMRSdcbn1cblxuZXhwb3J0IGVudW0gUGFnZVN0eWxlIHtcbiAgU2Nyb2xsID0gJ1NDUk9MTCcsXG4gIE11bHRpUGFnZSA9ICdNVUxUSVBBR0UnXG59XG5cbmV4cG9ydCBlbnVtIEFsaWduVHlwZSB7XG4gIFN0YXJ0ID0gJ0ZMRVgtU1RBUlQnLFxuICBDZW50ZXIgPSAnQ0VOVEVSJyxcbiAgRW5kID0gJ0ZMRVgtRU5EJ1xufVxuXG5leHBvcnQgZW51bSBEaXJlY3Rpb25UeXBlIHtcbiAgSG9yaXpvbiA9ICdIT1JJWk9OJyxcbiAgVmVydGljYWwgPSAnVkVSVElDQUwnXG59XG5cbmV4cG9ydCBlbnVtIExpc3RMYXlvdXRUeXBlIHtcbiAgUm93ID0gJ1JPVycsXG4gIENvbHVtbiA9ICdDT0xVTU4nLFxuICBHUklEID0gJ0dSSUQnXG59XG5cbmV4cG9ydCBlbnVtIFBhZ2VUcmFuc2l0b25UeXBlIHtcbiAgR2xpZGUgPSAnR0xJREUnLFxuICBGYWRlID0gJ0ZBREUnLFxuICBGbG9hdCA9ICdGTE9BVCdcbn1cblxuZXhwb3J0IGVudW0gSG92ZXJUeXBlIHtcbiAgSG92ZXIwID0gJ0hPVkVSMCcsXG4gIEhvdmVyMSA9ICdIT1ZFUjEnLFxuICBIb3ZlcjIgPSAnSE9WRVIyJyxcbiAgSG92ZXIzID0gJ0hPVkVSMydcbn1cblxuZXhwb3J0IGVudW0gU2VsZWN0ZWRTdHlsZSB7XG4gIFN0eWxlMCA9ICdTVFlMRTAnLFxuICBTdHlsZTEgPSAnU1RZTEUxJyxcbiAgU3R5bGUyID0gJ1NUWUxFMicsXG4gIFN0eWxlMyA9ICdTVFlMRTMnXG59XG5cbmV4cG9ydCBlbnVtIEl0ZW1TdHlsZSB7XG4gIFN0eWxlMCA9ICdTVFlMRTAnLFxuICBTdHlsZTEgPSAnU1RZTEUxJyxcbiAgU3R5bGUyID0gJ1NUWUxFMicsXG4gIFN0eWxlMyA9ICdTVFlMRTMnLFxuICBTdHlsZTQgPSAnU1RZTEU0JyxcbiAgU3R5bGU1ID0gJ1NUWUxFNScsXG4gIFN0eWxlNiA9ICdTVFlMRTYnLFxuICBTdHlsZTcgPSAnU1RZTEU3JyxcbiAgU3R5bGU4ID0gJ1NUWUxFOCcsXG4gIFN0eWxlOSA9ICdTVFlMRTknXG59XG5cbmV4cG9ydCBlbnVtIFN0YXR1cyB7XG4gIFJlZ3VsYXIgPSAnUkVHVUxBUicsXG4gIFNlbGVjdGVkID0gJ1NFTEVDVEVEJyxcbiAgSG92ZXIgPSAnSE9WRVInXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZFNpemUge1xuICBoZWlnaHQ6IG51bWJlciB8IHN0cmluZ1xuICB3aWR0aDogbnVtYmVyIHwgc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFNpemUge1xuICBoZWlnaHQ6IG51bWJlclxuICB3aWR0aDogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFNpemVVbml0IHtcbiAgaGVpZ2h0OiBMaW5lYXJVbml0XG4gIHdpZHRoOiBMaW5lYXJVbml0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlQ2FyZFNpemUge1xuICBbZGV2aWNlTW9kZTogc3RyaW5nXTogQ2FyZFNpemVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQmFja2dyb3VuZFN0eWxlIHtcbiAgYmFja2dyb3VuZDoge1xuICAgIGNvbG9yOiBzdHJpbmdcbiAgICBmaWxsVHlwZTogRmlsbFR5cGVcbiAgICBpbWFnZTogSW1hZ2VQYXJhbVxuICB9XG4gIGJvcmRlcjogQm9yZGVyU3R5bGVcbiAgYm9yZGVyUmFkaXVzOiBGb3VyU2lkZXNVbml0XG4gIGJveFNoYWRvdzogQm94U2hhZG93U3R5bGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQ29uZmlnIHtcbiAgYmFja2dyb3VuZFN0eWxlPzogQ2FyZEJhY2tncm91bmRTdHlsZVxuICBlbmFibGU/OiBib29sZWFuXG4gIHNlbGVjdGlvbk1vZGU/OiBTZWxlY3Rpb25Nb2RlVHlwZVxuICBjYXJkU2l6ZT86IERldmljZUNhcmRTaXplXG4gIGxpc3RMYXlvdXQ/OiBMaXN0TGF5b3V0XG59XG5cbmV4cG9ydCB0eXBlIElNQ2FyZENvbmZpZyA9IEltbXV0YWJsZU9iamVjdDxDYXJkQ29uZmlnPlxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZyB7XG4gIHBhZ2VUcmFuc2l0aW9uPzogUGFnZVRyYW5zaXRvblR5cGVcbiAgaG92ZXJUeXBlPzogSG92ZXJUeXBlXG4gIHNlbGVjdGVkU3R5bGU/OiBTZWxlY3RlZFN0eWxlXG4gIGRpZmZlcmVudE9kZEV2ZW4/OiBib29sZWFuXG4gIGl0ZW1TdHlsZT86IEl0ZW1TdHlsZVxuICBpc0NoZWNrRW1wdHlUZW1wbGF0ZT86IGJvb2xlYW5cbiAgaXNJdGVtU3R5bGVDb25maXJtPzogYm9vbGVhblxuICBkaXJlY3Rpb24/OiBEaXJlY3Rpb25UeXBlXG4gIGFsaWduVHlwZT86IEFsaWduVHlwZVxuICBzcGFjZT86IG51bWJlclxuICBob3Jpem9udGFsU3BhY2U/OiBudW1iZXJcbiAgdmVydGljYWxTcGFjZT86IG51bWJlclxuICBpdGVtc1BlclBhZ2U/OiBudW1iZXJcbiAgcGFnZVN0eWxlPzogUGFnZVN0eWxlXG4gIHNjcm9sbEJhck9wZW4/OiBib29sZWFuXG4gIG5hdmlnYXRvck9wZW4/OiBib29sZWFuXG4gIHNjcm9sbFN0ZXA/OiBudW1iZXJcbiAgc3R5bGU/OiBJbW11dGFibGVPYmplY3Q8V2lkZ2V0U3R5bGU+XG4gIGlzSW5pdGlhbGVkPzogYm9vbGVhblxuICBsb2NrSXRlbVJhdGlvPzogYm9vbGVhblxuICBzaG93U2VsZWN0ZWRPbmx5T3Blbj86IGJvb2xlYW5cbiAgc2hvd0NsZWFyU2VsZWN0ZWQ/OiBib29sZWFuXG5cbiAgLy8gbGlua1xuICBsaW5rUGFyYW0/OiBJTUxpbmtQYXJhbVxuXG4gIC8vIHNlYXJjaFxuICBzZWFyY2hPcGVuPzogYm9vbGVhblxuICBzZWFyY2hGaWVsZHM/OiBzdHJpbmdcbiAgc2VhcmNoRXhhY3Q/OiBib29sZWFuXG4gIC8vIGZpbHRlclxuICBmaWx0ZXJPcGVuPzogYm9vbGVhblxuICBmaWx0ZXI/OiBTcWxFeHByZXNzaW9uXG4gIC8vIHNvcnRcbiAgc29ydE9wZW4/OiBib29sZWFuXG4gIHNvcnRzPzogU29ydFNldHRpbmdPcHRpb25bXVxuXG4gIC8vIGNhcmQgYmFja2dyb3VuZFxuICBjYXJkQ29uZmlncz86IEltbXV0YWJsZU9iamVjdDx7IFtzdGF0dXM6IHN0cmluZ106IENhcmRDb25maWcgfT5cbiAgc2VhcmNoSGludD86IHN0cmluZ1xuXG4gIGlzU2hvd0F1dG9SZWZyZXNoPzogYm9vbGVhblxuICBub0RhdGFNZXNzYWdlPzogc3RyaW5nXG4gIGxheW91dFR5cGU/OiBMaXN0TGF5b3V0VHlwZVxuICBrZWVwQXNwZWN0UmF0aW8/OiBib29sZWFuXG4gIGdyaWRJdGVtU2l6ZVJhdGlvPzogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIElNQ29uZmlnID0gSW1tdXRhYmxlT2JqZWN0PENvbmZpZz5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/config.ts\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/bottom-tools.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/bottom-tools.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ListBottomTools\": () => (/* binding */ ListBottomTools)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ \"./extensions/widgets/common/list/src/config.ts\");\n/* harmony import */ var jimu_icons_outlined_directional_left__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/directional/left */ \"./jimu-icons/outlined/directional/left.tsx\");\n/* harmony import */ var jimu_icons_outlined_directional_up__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/directional/up */ \"./jimu-icons/outlined/directional/up.tsx\");\n/* harmony import */ var jimu_icons_outlined_directional_right__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/directional/right */ \"./jimu-icons/outlined/directional/right.tsx\");\n/* harmony import */ var jimu_icons_outlined_directional_down__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/directional/down */ \"./jimu-icons/outlined/directional/down.tsx\");\n\n\n\n\n\n\n\nfunction ListBottomTools(props) {\n    const { isRTL, totalPage, pageStyle, currentPage, scrollStatus, isScrollEnd, isEditing, showLoading, layoutType, handleScrollDown, handleScrollUp, handleSwitchPage, formatMessage } = props;\n    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'bottom-tools w-100 d-flex align-items-center justify-content-center pl-2 pr-2' },\n        pageStyle === _config__WEBPACK_IMPORTED_MODULE_2__.PageStyle.MultiPage\n            ? (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Pagination, { size: 'sm', totalPage: totalPage, current: currentPage, onChangePage: handleSwitchPage, disabled: showLoading }))\n            : (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'd-flex scroll-navigator' },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { title: formatMessage('previous'), disabled: scrollStatus === 'start', type: 'secondary', size: 'sm', icon: true, onClick: handleScrollUp }, layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_left__WEBPACK_IMPORTED_MODULE_3__.LeftOutlined, { size: 12 }) : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_up__WEBPACK_IMPORTED_MODULE_4__.UpOutlined, { size: 12 })),\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { title: formatMessage('next'), disabled: scrollStatus === 'end' || isScrollEnd, type: 'secondary', size: 'sm', style: isRTL\n                        ? { marginRight: jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10) }\n                        : { marginLeft: jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10) }, icon: true, onClick: handleScrollDown }, layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_right__WEBPACK_IMPORTED_MODULE_5__.RightOutlined, null) : jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_outlined_directional_down__WEBPACK_IMPORTED_MODULE_6__.DownOutlined, null)))),\n        window.jimuConfig.isInBuilder && isEditing && (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'editing-mask-bottom-tool' }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9ib3R0b20tdG9vbHMudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQWVBO0FBRUE7QUFDQTtBQVNBO0FBRUE7QUFVQTtBQU9BO0FBQ0E7QUFTQTtBQUtBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9jb21tb24vbGlzdC9zcmMvcnVudGltZS9jb21wb25lbnRzL2JvdHRvbS10b29scy50c3g/ZTQwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgcG9saXNoZWQgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBQYWdpbmF0aW9uLCBCdXR0b24gfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgUGFnZVN0eWxlLCBMaXN0TGF5b3V0VHlwZSB9IGZyb20gJy4uLy4uL2NvbmZpZydcbmltcG9ydCB7IExlZnRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvbGVmdCdcbmltcG9ydCB7IFVwT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3VwJ1xuaW1wb3J0IHsgUmlnaHRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvcmlnaHQnXG5pbXBvcnQgeyBEb3duT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2Rvd24nXG5cbmludGVyZmFjZSBMaXN0Qm90dG9tVG9vbFByb3BzIHtcbiAgaXNSVEw6IGJvb2xlYW5cbiAgdG90YWxQYWdlOiBudW1iZXJcbiAgY3VycmVudFBhZ2U6IG51bWJlclxuICBwYWdlU3R5bGU6IFBhZ2VTdHlsZVxuICBzY3JvbGxTdGF0dXM6ICdzdGFydCcgfCAnZW5kJyB8ICdtaWQnXG4gIGlzRWRpdGluZzogYm9vbGVhblxuICBpc1Njcm9sbEVuZDogYm9vbGVhblxuICBzaG93TG9hZGluZzogYm9vbGVhblxuICBsYXlvdXRUeXBlOiBMaXN0TGF5b3V0VHlwZVxuICBoYW5kbGVTY3JvbGxVcDogKGV2dDogUmVhY3QuTW91c2VFdmVudCkgPT4gdm9pZFxuICBoYW5kbGVTY3JvbGxEb3duOiAoZXZ0OiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB2b2lkXG4gIGhhbmRsZVN3aXRjaFBhZ2U6IChwYWdlTnVtOiBudW1iZXIpID0+IHZvaWRcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcsIHZhbHVlcz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlzdEJvdHRvbVRvb2xzIChwcm9wczogTGlzdEJvdHRvbVRvb2xQcm9wcykge1xuICBjb25zdCB7XG4gICAgaXNSVEwsXG4gICAgdG90YWxQYWdlLFxuICAgIHBhZ2VTdHlsZSxcbiAgICBjdXJyZW50UGFnZSxcbiAgICBzY3JvbGxTdGF0dXMsXG4gICAgaXNTY3JvbGxFbmQsXG4gICAgaXNFZGl0aW5nLFxuICAgIHNob3dMb2FkaW5nLFxuICAgIGxheW91dFR5cGUsXG4gICAgaGFuZGxlU2Nyb2xsRG93bixcbiAgICBoYW5kbGVTY3JvbGxVcCxcbiAgICBoYW5kbGVTd2l0Y2hQYWdlLFxuICAgIGZvcm1hdE1lc3NhZ2VcbiAgfSA9IHByb3BzXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J2JvdHRvbS10b29scyB3LTEwMCBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgcGwtMiBwci0yJz5cbiAgICAgIHtwYWdlU3R5bGUgPT09IFBhZ2VTdHlsZS5NdWx0aVBhZ2VcbiAgICAgICAgPyAoXG4gICAgICAgICAgPFBhZ2luYXRpb25cbiAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgdG90YWxQYWdlPXt0b3RhbFBhZ2V9XG4gICAgICAgICAgICBjdXJyZW50PXtjdXJyZW50UGFnZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlUGFnZT17aGFuZGxlU3dpdGNoUGFnZX1cbiAgICAgICAgICAgIGRpc2FibGVkPXtzaG93TG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBzY3JvbGwtbmF2aWdhdG9yJz5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ3ByZXZpb3VzJyl9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtzY3JvbGxTdGF0dXMgPT09ICdzdGFydCd9XG4gICAgICAgICAgICAgIHR5cGU9J3NlY29uZGFyeSdcbiAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgIGljb25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2Nyb2xsVXB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4gPyA8TGVmdE91dGxpbmVkIHNpemU9ezEyfS8+IDogPFVwT3V0bGluZWQgc2l6ZT17MTJ9Lz59XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ25leHQnKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Njcm9sbFN0YXR1cyA9PT0gJ2VuZCcgfHwgaXNTY3JvbGxFbmR9XG4gICAgICAgICAgICAgIHR5cGU9J3NlY29uZGFyeSdcbiAgICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICAgIHN0eWxlPXtcbiAgICAgICAgICAgICAgICBpc1JUTFxuICAgICAgICAgICAgICAgICAgPyB7IG1hcmdpblJpZ2h0OiBwb2xpc2hlZC5yZW0oMTApIH1cbiAgICAgICAgICAgICAgICAgIDogeyBtYXJnaW5MZWZ0OiBwb2xpc2hlZC5yZW0oMTApIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpY29uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNjcm9sbERvd259XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4gPyA8UmlnaHRPdXRsaW5lZC8+IDogPERvd25PdXRsaW5lZC8+fVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgIHt3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciAmJiBpc0VkaXRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZWRpdGluZy1tYXNrLWJvdHRvbS10b29sJyAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/bottom-tools.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/filter-picker.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/filter-picker.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FilterPicker)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui_basic_sql_expression_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/basic/sql-expression-runtime */ \"jimu-ui/basic/sql-expression-runtime\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var jimu_icons_outlined_brand_widget_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/brand/widget-filter */ \"./jimu-icons/outlined/brand/widget-filter.tsx\");\n/** @jsx jsx */\n\n\n\n\n\nconst popperOffset = [0, 5];\nconst popperModifiers = [\n    {\n        name: 'flip',\n        options: {\n            boundary: document.body,\n            fallbackPlacements: ['bottom-start', 'right-end', 'top-start', 'left-start']\n        }\n    }\n];\nclass FilterPicker extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.formatMessage = (id, values) => {\n            return this.props.formatMessage(id, values);\n        };\n        this.onPopperToggle = evt => {\n            const { filter } = this.props;\n            const { isOpen } = this.state;\n            if (!isOpen) {\n                // will open\n                this.setState({\n                    currentFilter: filter\n                });\n            }\n            this.setState({ isOpen: !isOpen });\n        };\n        this.onItemClick = (evt, item) => {\n            this.setState({ isOpen: false });\n            evt.stopPropagation();\n            evt.nativeEvent.stopImmediatePropagation();\n        };\n        this.handleFilterChange = (sqlExprObj) => {\n            this.setState({\n                currentFilter: sqlExprObj\n            });\n        };\n        this.handleApplyClick = evt => {\n            const { currentFilter } = this.state;\n            const { handleFilterApplyChange, handleFilterChange } = this.props;\n            handleFilterChange(currentFilter);\n            handleFilterApplyChange(true);\n            this.setState({\n                isOpen: false\n            });\n        };\n        this.handleClearClick = evt => {\n            const { handleFilterApplyChange } = this.props;\n            handleFilterApplyChange(false);\n            this.setState({\n                isOpen: false\n            });\n        };\n        this.getStyle = () => {\n            const { theme } = this.props;\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      position: relative;\n      .dot {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        right: -2px;\n        top: 0px;\n        .dot-bottom {\n          width: 6px;\n          height: 6px;\n          background-color: transparent;\n          .dot-top {\n            width: 4px;\n            height: 4px;\n            background-color: ${theme.colors.palette.dark[600]};\n          }\n        }\n      }\n      :hover {\n        .dot-top {\n          background-color: ${theme.colors.palette.primary[500]};\n        }\n      }\n      & .active {\n        .dot-top {\n          background-color: ${theme.colors.white};\n        }\n        :hover {\n          .dot-top {\n            background-color: ${theme.colors.white};\n          }\n        }\n      }\n    `;\n        };\n        this.getPopperStyle = () => {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      .filter-button-con button {\n        max-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(100)};\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      .clear-button {\n        margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(19)};\n      }\n    `;\n        };\n        this.toggleRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n        this.state = {\n            isOpen: false,\n            currentFilter: props.filter\n        };\n    }\n    componentDidUpdate(preProps) {\n        const { filter, appMode } = this.props;\n        if (filter !== preProps.filter) {\n            this.setState({\n                currentFilter: filter\n            });\n        }\n        if (appMode !== preProps.appMode) {\n            if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {\n                this.setState({\n                    isOpen: false\n                });\n            }\n        }\n    }\n    render() {\n        const { filter, selectedDs, widgetId, title, applied } = this.props;\n        const { isOpen, currentFilter } = this.state;\n        const isHadApply = applied && (filter === null || filter === void 0 ? void 0 : filter.sql) === (currentFilter === null || currentFilter === void 0 ? void 0 : currentFilter.sql);\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, null,\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { css: this.getStyle(), size: 'sm', type: 'tertiary', icon: true, title: title, ref: this.toggleRef, onClick: this.onPopperToggle },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_brand_widget_filter__WEBPACK_IMPORTED_MODULE_4__.WidgetFilterOutlined, { size: 16 }),\n                applied && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'dot align-items-center justify-content-center' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'dot-bottom rounded-circle' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'dot-top rounded-circle' }))))),\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { placement: 'bottom-start', reference: this.toggleRef.current, offset: popperOffset, toggle: this.onPopperToggle, css: this.getPopperStyle(), open: isOpen, modifiers: popperModifiers },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { padding: jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20), width: jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(250) } },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null,\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui_basic_sql_expression_runtime__WEBPACK_IMPORTED_MODULE_2__.SqlExpressionRuntime, { widgetId: widgetId, dataSource: selectedDs, expression: currentFilter, onChange: this.handleFilterChange })),\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex w-100 mt-3 filter-button-con' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { disabled: isHadApply, onClick: this.handleApplyClick, type: 'primary', title: this.formatMessage('apply') }, this.formatMessage('apply')),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { disabled: !applied, onClick: this.handleClearClick, title: this.formatMessage('clear'), className: \"clear-button\" }, this.formatMessage('clear')))))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9maWx0ZXItcGlja2VyLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUF5QkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQWVBOzs7Ozs7QUFNQTs7Ozs7QUFLQTs7OztBQUlBOzs7O0FBSUE7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7Ozs7O0FBS0E7O0FBRUE7QUFDQTtBQXZIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQVNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFRQTtBQWFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2NvbW1vbi9saXN0L3NyYy9ydW50aW1lL2NvbXBvbmVudHMvZmlsdGVyLXBpY2tlci50c3g/NjgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIElNU3FsRXhwcmVzc2lvbixcbiAgRGF0YVNvdXJjZSxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgcG9saXNoZWQsXG4gIGNzcyxcbiAgQXBwTW9kZSxcbiAgU2VyaWFsaXplZFN0eWxlc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBCdXR0b24sIFBvcHBlciB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBTcWxFeHByZXNzaW9uUnVudGltZSB9IGZyb20gJ2ppbXUtdWkvYmFzaWMvc3FsLWV4cHJlc3Npb24tcnVudGltZSdcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBXaWRnZXRGaWx0ZXJPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvYnJhbmQvd2lkZ2V0LWZpbHRlcidcbmludGVyZmFjZSBQcm9wcyB7XG4gIGFwcE1vZGU6IEFwcE1vZGVcbiAgZmlsdGVyOiBJTVNxbEV4cHJlc3Npb25cbiAgc2VsZWN0ZWREczogRGF0YVNvdXJjZVxuICB3aWRnZXRJZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgYXBwbGllZDogYm9vbGVhblxuICBoYW5kbGVGaWx0ZXJDaGFuZ2U6IChzcWxFeHByT2JqOiBJTVNxbEV4cHJlc3Npb24pID0+IHZvaWRcbiAgaGFuZGxlRmlsdGVyQXBwbHlDaGFuZ2U6IChhcHBseTogYm9vbGVhbikgPT4gdm9pZFxuICBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZywgdmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4gc3RyaW5nXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG59XG5cbmludGVyZmFjZSBTdGF0cyB7XG4gIGlzT3BlbjogYm9vbGVhblxuICBjdXJyZW50RmlsdGVyOiBJTVNxbEV4cHJlc3Npb25cbn1cblxuY29uc3QgcG9wcGVyT2Zmc2V0ID0gWzAsIDVdXG5jb25zdCBwb3BwZXJNb2RpZmllcnMgPSBbXG4gIHtcbiAgICBuYW1lOiAnZmxpcCcsXG4gICAgb3B0aW9uczoge1xuICAgICAgYm91bmRhcnk6IGRvY3VtZW50LmJvZHksXG4gICAgICBmYWxsYmFja1BsYWNlbWVudHM6IFsnYm90dG9tLXN0YXJ0JywgJ3JpZ2h0LWVuZCcsICd0b3Atc3RhcnQnLCAnbGVmdC1zdGFydCddXG4gICAgfVxuICB9XG5dXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWx0ZXJQaWNrZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0cz4ge1xuICB0b2dnbGVSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MQnV0dG9uRWxlbWVudD5cblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMudG9nZ2xlUmVmID0gUmVhY3QuY3JlYXRlUmVmKClcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRGaWx0ZXI6IHByb3BzLmZpbHRlclxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJlUHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgeyBmaWx0ZXIsIGFwcE1vZGUgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoZmlsdGVyICE9PSBwcmVQcm9wcy5maWx0ZXIpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50RmlsdGVyOiBmaWx0ZXJcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmIChhcHBNb2RlICE9PSBwcmVQcm9wcy5hcHBNb2RlKSB7XG4gICAgICBpZiAoYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ24pIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNPcGVuOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZywgdmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2UoaWQsIHZhbHVlcylcbiAgfVxuXG4gIG9uUG9wcGVyVG9nZ2xlID0gZXZ0ID0+IHtcbiAgICBjb25zdCB7IGZpbHRlciB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgaXNPcGVuIH0gPSB0aGlzLnN0YXRlXG4gICAgaWYgKCFpc09wZW4pIHtcbiAgICAgIC8vIHdpbGwgb3BlblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRGaWx0ZXI6IGZpbHRlclxuICAgICAgfSlcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogIWlzT3BlbiB9KVxuICB9XG5cbiAgb25JdGVtQ2xpY2sgPSAoZXZ0LCBpdGVtKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UgfSlcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIGhhbmRsZUZpbHRlckNoYW5nZSA9IChzcWxFeHByT2JqOiBJTVNxbEV4cHJlc3Npb24pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRGaWx0ZXI6IHNxbEV4cHJPYmpcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlQXBwbHlDbGljayA9IGV2dCA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50RmlsdGVyIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBoYW5kbGVGaWx0ZXJBcHBseUNoYW5nZSwgaGFuZGxlRmlsdGVyQ2hhbmdlIH0gPSB0aGlzLnByb3BzXG4gICAgaGFuZGxlRmlsdGVyQ2hhbmdlKGN1cnJlbnRGaWx0ZXIpXG4gICAgaGFuZGxlRmlsdGVyQXBwbHlDaGFuZ2UodHJ1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzT3BlbjogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlQ2xlYXJDbGljayA9IGV2dCA9PiB7XG4gICAgY29uc3QgeyBoYW5kbGVGaWx0ZXJBcHBseUNoYW5nZSB9ID0gdGhpcy5wcm9wc1xuICAgIGhhbmRsZUZpbHRlckFwcGx5Q2hhbmdlKGZhbHNlKVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNPcGVuOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBnZXRTdHlsZSA9ICgpOiBTZXJpYWxpemVkU3R5bGVzID0+IHtcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIC5kb3Qge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHdpZHRoOiA2cHg7XG4gICAgICAgIGhlaWdodDogNnB4O1xuICAgICAgICByaWdodDogLTJweDtcbiAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgIC5kb3QtYm90dG9tIHtcbiAgICAgICAgICB3aWR0aDogNnB4O1xuICAgICAgICAgIGhlaWdodDogNnB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIC5kb3QtdG9wIHtcbiAgICAgICAgICAgIHdpZHRoOiA0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDRweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIDpob3ZlciB7XG4gICAgICAgIC5kb3QtdG9wIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNTAwXX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICYgLmFjdGl2ZSB7XG4gICAgICAgIC5kb3QtdG9wIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy53aGl0ZX07XG4gICAgICAgIH1cbiAgICAgICAgOmhvdmVyIHtcbiAgICAgICAgICAuZG90LXRvcCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy53aGl0ZX07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgZ2V0UG9wcGVyU3R5bGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5maWx0ZXItYnV0dG9uLWNvbiBidXR0b24ge1xuICAgICAgICBtYXgtd2lkdGg6ICR7cG9saXNoZWQucmVtKDEwMCl9O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgIH1cbiAgICAgIC5jbGVhci1idXR0b24ge1xuICAgICAgICBtYXJnaW4tbGVmdDogJHtwb2xpc2hlZC5yZW0oMTkpfTtcbiAgICAgIH1cbiAgICBgXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHsgZmlsdGVyLCBzZWxlY3RlZERzLCB3aWRnZXRJZCwgdGl0bGUsIGFwcGxpZWQgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGlzT3BlbiwgY3VycmVudEZpbHRlciB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IGlzSGFkQXBwbHkgPSBhcHBsaWVkICYmIGZpbHRlcj8uc3FsID09PSBjdXJyZW50RmlsdGVyPy5zcWxcbiAgICByZXR1cm4gKFxuICAgICAgPEZyYWdtZW50PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9XG4gICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgdHlwZT0ndGVydGlhcnknXG4gICAgICAgICAgaWNvblxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICByZWY9e3RoaXMudG9nZ2xlUmVmfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25Qb3BwZXJUb2dnbGV9XG4gICAgICAgID5cbiAgICAgICAgICA8V2lkZ2V0RmlsdGVyT3V0bGluZWQgc2l6ZT17MTZ9Lz5cbiAgICAgICAgICB7YXBwbGllZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZG90IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2RvdC1ib3R0b20gcm91bmRlZC1jaXJjbGUnPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkb3QtdG9wIHJvdW5kZWQtY2lyY2xlJyAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8UG9wcGVyXG4gICAgICAgICAgcGxhY2VtZW50PSdib3R0b20tc3RhcnQnXG4gICAgICAgICAgcmVmZXJlbmNlPXt0aGlzLnRvZ2dsZVJlZi5jdXJyZW50fVxuICAgICAgICAgIG9mZnNldD17cG9wcGVyT2Zmc2V0fVxuICAgICAgICAgIHRvZ2dsZT17dGhpcy5vblBvcHBlclRvZ2dsZX1cbiAgICAgICAgICBjc3M9e3RoaXMuZ2V0UG9wcGVyU3R5bGUoKX1cbiAgICAgICAgICBvcGVuPXtpc09wZW59XG4gICAgICAgICAgbW9kaWZpZXJzPXtwb3BwZXJNb2RpZmllcnN9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6IHBvbGlzaGVkLnJlbSgyMCksIHdpZHRoOiBwb2xpc2hlZC5yZW0oMjUwKSB9fT5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxTcWxFeHByZXNzaW9uUnVudGltZVxuICAgICAgICAgICAgICAgIHdpZGdldElkPXt3aWRnZXRJZH1cbiAgICAgICAgICAgICAgICBkYXRhU291cmNlPXtzZWxlY3RlZERzfVxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb249e2N1cnJlbnRGaWx0ZXJ9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlRmlsdGVyQ2hhbmdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IHctMTAwIG10LTMgZmlsdGVyLWJ1dHRvbi1jb24nPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzSGFkQXBwbHl9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVBcHBseUNsaWNrfVxuICAgICAgICAgICAgICAgIHR5cGU9J3ByaW1hcnknXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMuZm9ybWF0TWVzc2FnZSgnYXBwbHknKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2FwcGx5Jyl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFhcHBsaWVkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xlYXJDbGlja31cbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5mb3JtYXRNZXNzYWdlKCdjbGVhcicpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsZWFyLWJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5mb3JtYXRNZXNzYWdlKCdjbGVhcicpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcHBlcj5cbiAgICAgIDwvRnJhZ21lbnQ+XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/filter-picker.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/list-card-base.tsx":
/*!**********************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/list-card-base.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ListCard)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/** @jsx jsx */\n\nclass ListCard extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Component {\n    constructor() {\n        super(...arguments);\n        this.getNewProviderData = () => {\n            const { widgetId, datasourceId, index, record } = this.props;\n            return {\n                widgetId: widgetId,\n                dataSourceId: datasourceId,\n                recordIndex: index,\n                record: record\n            };\n        };\n        this.shouldComponentUpdateExcept = (nextProps, nextStats, exceptPropKeys, exceptStatKeys = []) => {\n            let shouldUpdate = false;\n            this.props &&\n                Object.keys(this.props).some(key => {\n                    if (exceptPropKeys.includes(key))\n                        return false;\n                    if (this.props[key] !== nextProps[key]) {\n                        // console.log(`props has changed: ${key}`)\n                        shouldUpdate = true;\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                });\n            this.state &&\n                Object.keys(this.state).some(key => {\n                    if (exceptStatKeys.includes(key))\n                        return false;\n                    if (this.state[key] !== nextStats[key]) {\n                        // console.log(`states has changed: ${key}`)\n                        shouldUpdate = true;\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                });\n            return shouldUpdate;\n        };\n        this.isProviderEqual = (providerData, oldProviderData) => {\n            let isEqual = true;\n            if (providerData) {\n                Object.keys(providerData).some(key => {\n                    if (!oldProviderData) {\n                        isEqual = false;\n                        return true;\n                    }\n                    const data = providerData[key];\n                    const oldData = oldProviderData[key];\n                    if (data !== oldData) {\n                        isEqual = false;\n                        return true;\n                    }\n                    return false;\n                });\n            }\n            else if (oldProviderData) {\n                return false;\n            }\n            return isEqual;\n        };\n        this.formatMessage = (id, values) => {\n            return this.props.formatMessage(id, values);\n        };\n        this.getStyle = (status) => {\n            const { widgetId, selectable, appMode, theme } = this.props;\n            const isBackgroundTransparent = this.checkIsBackgroundTransparent(status);\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      ${'&.list-card-' + widgetId} {\n        padding: 0;\n        border: 0;\n        background-color: transparent;\n        &:focus {\n          outline: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)} solid ${theme.colors.palette.primary[700]};\n          outline-offset: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(2)};\n        }\n        .list-card-content {\n          width: 100%;\n          height: 100%;\n        }\n      }\n      &.surface-1 {\n        border: none !important;\n        background: ${isBackgroundTransparent && 'none !important'};\n      }\n      .list-clear-background {\n        background: transparent !important;\n      }\n      .list-link {\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n      }\n      .list-item-con {\n        overflow: hidden;\n      }\n      ${'&.list-card-' + widgetId}:hover {\n        ${(!window.jimuConfig.isInBuilder || appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run) &&\n                selectable\n                ? 'cursor: pointer;'\n                : ''}\n      }\n      .card-editor-mask {\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 100;\n      }\n      .jimu-link {\n        text-align: left;\n      }\n    `;\n        };\n    }\n    checkIsBackgroundTransparent(status) {\n        var _a, _b, _c;\n        const { cardConfigs } = this.props;\n        return ((_c = (_b = (_a = cardConfigs === null || cardConfigs === void 0 ? void 0 : cardConfigs[status]) === null || _a === void 0 ? void 0 : _a.backgroundStyle) === null || _b === void 0 ? void 0 : _b.background) === null || _c === void 0 ? void 0 : _c.color) === 'rgba(0,0,0,0)';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9saXN0LWNhcmQtYmFzZS50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBMENBO0FBQUE7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7Ozs7Ozs7OztBQVNBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUFZQTtBQUNBO0FBQ0E7QUF6REE7O0FBQ0E7QUFDQTtBQUNBO0FBc0RBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9jb21tb24vbGlzdC9zcmMvcnVudGltZS9jb21wb25lbnRzL2xpc3QtY2FyZC1iYXNlLnRzeD9hZmMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGNzcyxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgUmVwZWF0ZWREYXRhU291cmNlLFxuICBBcHBNb2RlLFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIERhdGFSZWNvcmQsXG4gIHBvbGlzaGVkXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFN0YXR1cywgTGlzdExheW91dFR5cGUgfSBmcm9tICcuLi8uLi9jb25maWcnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdENhcmRQcm9wcyB7XG4gIGlzSG92ZXI6IGJvb2xlYW5cbiAgaXNTY3JvbGxpbmc6IGJvb2xlYW5cbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcbiAgaW5kZXg6IG51bWJlclxuICB3aWRnZXRJZDogc3RyaW5nXG4gIHJlY29yZDogRGF0YVJlY29yZFxuICBkYXRhc291cmNlSWQ6IHN0cmluZ1xuICBsaXN0U3R5bGU6IGFueVxuICBsYXlvdXRzOiBhbnlcbiAgc3BhY2U6IG51bWJlclxuICBhY3RpdmU6IGJvb2xlYW5cbiAgc2VsZWN0YWJsZTogYm9vbGVhblxuICBob3ZlckxheW91dE9wZW46IGJvb2xlYW5cbiAgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbiAgbGF5b3V0VHlwZTogTGlzdExheW91dFR5cGVcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcsIHZhbHVlcz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pID0+IHN0cmluZ1xuICBhcHBNb2RlOiBBcHBNb2RlXG4gIG9uQ2hhbmdlOiAoaXRlbVJlY29yZDogRGF0YVJlY29yZCkgPT4gdm9pZFxuICBjYXJkQ29uZmlncz86IGFueVxuICBpdGVtSWRleDogbnVtYmVyXG4gIGhhbmRsZUxpc3RNb3VzZU1vdmU6IChpdGVtSW5kZXg6IG51bWJlcikgPT4gdm9pZFxuICBoYW5kbGVMaXN0TW91c2VMZWF2ZTogKCkgPT4gdm9pZFxuICB1cGRhdGVDYXJkVG9vbFBvc2l0aW9uOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdENhcmRTdGF0ZXMge1xuICBba2V5OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdENhcmQ8XG4gIFAgZXh0ZW5kcyBMaXN0Q2FyZFByb3BzID0gTGlzdENhcmRQcm9wcyxcbiAgUyBleHRlbmRzIExpc3RDYXJkU3RhdGVzID0gTGlzdENhcmRTdGF0ZXNcbj4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UCwgUz4ge1xuICBwcm92aWRlckRhdGE6IFJlcGVhdGVkRGF0YVNvdXJjZVxuXG4gIGdldE5ld1Byb3ZpZGVyRGF0YSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHdpZGdldElkLCBkYXRhc291cmNlSWQsIGluZGV4LCByZWNvcmQgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4ge1xuICAgICAgd2lkZ2V0SWQ6IHdpZGdldElkLFxuICAgICAgZGF0YVNvdXJjZUlkOiBkYXRhc291cmNlSWQsXG4gICAgICByZWNvcmRJbmRleDogaW5kZXgsXG4gICAgICByZWNvcmQ6IHJlY29yZFxuICAgIH1cbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZUV4Y2VwdCA9IChcbiAgICBuZXh0UHJvcHMsXG4gICAgbmV4dFN0YXRzLFxuICAgIGV4Y2VwdFByb3BLZXlzOiBzdHJpbmdbXSxcbiAgICBleGNlcHRTdGF0S2V5czogc3RyaW5nW10gPSBbXVxuICApID0+IHtcbiAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2VcbiAgICB0aGlzLnByb3BzICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnByb3BzKS5zb21lKGtleSA9PiB7XG4gICAgICAgIGlmIChleGNlcHRQcm9wS2V5cy5pbmNsdWRlcyhrZXkpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMucHJvcHNba2V5XSAhPT0gbmV4dFByb3BzW2tleV0pIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgcHJvcHMgaGFzIGNoYW5nZWQ6ICR7a2V5fWApXG4gICAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgdGhpcy5zdGF0ZSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5zdGF0ZSkuc29tZShrZXkgPT4ge1xuICAgICAgICBpZiAoZXhjZXB0U3RhdEtleXMuaW5jbHVkZXMoa2V5KSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmICh0aGlzLnN0YXRlW2tleV0gIT09IG5leHRTdGF0c1trZXldKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coYHN0YXRlcyBoYXMgY2hhbmdlZDogJHtrZXl9YClcbiAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgIHJldHVybiBzaG91bGRVcGRhdGVcbiAgfVxuXG4gIGlzUHJvdmlkZXJFcXVhbCA9IChcbiAgICBwcm92aWRlckRhdGE6IFJlcGVhdGVkRGF0YVNvdXJjZSxcbiAgICBvbGRQcm92aWRlckRhdGE6IFJlcGVhdGVkRGF0YVNvdXJjZVxuICApOiBib29sZWFuID0+IHtcbiAgICBsZXQgaXNFcXVhbCA9IHRydWVcbiAgICBpZiAocHJvdmlkZXJEYXRhKSB7XG4gICAgICBPYmplY3Qua2V5cyhwcm92aWRlckRhdGEpLnNvbWUoa2V5ID0+IHtcbiAgICAgICAgaWYgKCFvbGRQcm92aWRlckRhdGEpIHtcbiAgICAgICAgICBpc0VxdWFsID0gZmFsc2VcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwcm92aWRlckRhdGFba2V5XVxuICAgICAgICBjb25zdCBvbGREYXRhID0gb2xkUHJvdmlkZXJEYXRhW2tleV1cbiAgICAgICAgaWYgKGRhdGEgIT09IG9sZERhdGEpIHtcbiAgICAgICAgICBpc0VxdWFsID0gZmFsc2VcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKG9sZFByb3ZpZGVyRGF0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIGlzRXF1YWxcbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZywgdmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2UoaWQsIHZhbHVlcylcbiAgfVxuXG4gIGNoZWNrSXNCYWNrZ3JvdW5kVHJhbnNwYXJlbnQgKHN0YXR1czogU3RhdHVzKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBjYXJkQ29uZmlncyB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiBjYXJkQ29uZmlncz8uW3N0YXR1c10/LmJhY2tncm91bmRTdHlsZT8uYmFja2dyb3VuZD8uY29sb3IgPT09ICdyZ2JhKDAsMCwwLDApJ1xuICB9XG5cbiAgZ2V0U3R5bGUgPSAoc3RhdHVzOiBTdGF0dXMpID0+IHtcbiAgICBjb25zdCB7IHdpZGdldElkLCBzZWxlY3RhYmxlLCBhcHBNb2RlLCB0aGVtZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGlzQmFja2dyb3VuZFRyYW5zcGFyZW50ID0gdGhpcy5jaGVja0lzQmFja2dyb3VuZFRyYW5zcGFyZW50KHN0YXR1cylcbiAgICByZXR1cm4gY3NzYFxuICAgICAgJHsnJi5saXN0LWNhcmQtJyArIHdpZGdldElkfSB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICY6Zm9jdXMge1xuICAgICAgICAgIG91dGxpbmU6ICR7cG9saXNoZWQucmVtKDIpfSBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNzAwXX07XG4gICAgICAgICAgb3V0bGluZS1vZmZzZXQ6ICR7cG9saXNoZWQucmVtKDIpfTtcbiAgICAgICAgfVxuICAgICAgICAubGlzdC1jYXJkLWNvbnRlbnQge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgJi5zdXJmYWNlLTEge1xuICAgICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgYmFja2dyb3VuZDogJHtpc0JhY2tncm91bmRUcmFuc3BhcmVudCAmJiAnbm9uZSAhaW1wb3J0YW50J307XG4gICAgICB9XG4gICAgICAubGlzdC1jbGVhci1iYWNrZ3JvdW5kIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5saXN0LWxpbmsge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgIH1cbiAgICAgIC5saXN0LWl0ZW0tY29uIHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIH1cbiAgICAgICR7JyYubGlzdC1jYXJkLScgKyB3aWRnZXRJZH06aG92ZXIge1xuICAgICAgICAkeyghd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgfHwgYXBwTW9kZSA9PT0gQXBwTW9kZS5SdW4pICYmXG4gICAgICAgIHNlbGVjdGFibGVcbiAgICAgICAgICA/ICdjdXJzb3I6IHBvaW50ZXI7J1xuICAgICAgICAgIDogJyd9XG4gICAgICB9XG4gICAgICAuY2FyZC1lZGl0b3ItbWFzayB7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgfVxuICAgICAgLmppbXUtbGluayB7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB9XG4gICAgYFxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/list-card-base.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/list-card-editor.tsx":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/list-card-editor.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ \"./extensions/widgets/common/list/src/config.ts\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var _list_card_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./list-card-base */ \"./extensions/widgets/common/list/src/runtime/components/list-card-base.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_sync_on__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-icons/outlined/editor/sync-on */ \"./jimu-icons/outlined/editor/sync-on.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_sync_off__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-icons/outlined/editor/sync-off */ \"./jimu-icons/outlined/editor/sync-off.tsx\");\n/** @jsx jsx */\n\n\n\n\n\n\n\nconst cornerSize = 12;\nconst cornerPosition = -10;\nconst sideSize = 16;\nconst sidePosition = -10;\nconst zindexHandle = 20;\nconst statesPopperOffset = [0, 5];\nconst statesModifiers = [\n    {\n        name: 'flip',\n        options: {\n            boundary: document.body,\n            fallbackPlacements: ['right-start', 'left-start', 'bottom-start', 'top-end', 'top-start']\n        }\n    }\n];\nconst applyPopperModifiers = [\n    {\n        name: 'offset',\n        options: {\n            offset: [0, 10]\n        }\n    },\n    {\n        name: 'arrow',\n        enabled: true\n    }\n];\nclass _ListCardEditor extends _list_card_base__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n    constructor(props) {\n        super(props);\n        this.lastResizeCall = null;\n        this.getNewCardSize = (rect, isResizing = false) => {\n            const { keepAspectRatio, layoutType, gridItemSizeRatio, horizontalSpace, isWidthPercentage } = this.props;\n            let newCardSize;\n            let width = rect.right - rect.left;\n            if (!isResizing && isWidthPercentage) {\n                width = rect.right - rect.left + horizontalSpace;\n            }\n            if (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID && keepAspectRatio) {\n                newCardSize = {\n                    width: width,\n                    height: width * gridItemSizeRatio\n                };\n            }\n            else {\n                newCardSize = {\n                    width: width,\n                    height: rect.bottom - rect.top\n                };\n            }\n            return newCardSize;\n        };\n        this.handleItemClick = evt => {\n            const { selectCard } = this.props;\n            if (evt) {\n                evt.stopPropagation();\n            }\n            selectCard();\n        };\n        this.handleCopyTo = (evt, status, selectedLayoutItem, linked) => {\n            if (!selectedLayoutItem)\n                return;\n            const { layouts, builderSupportModules, browserSizeMode, builderStatus } = this.props;\n            const action = builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n            const appConfig = action.appConfig;\n            const originLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[builderStatus], browserSizeMode, appConfig.mainSizeMode);\n            const desLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[status], browserSizeMode, appConfig.mainSizeMode);\n            if (linked) {\n                const searchUtils = builderSupportModules.widgetModules.searchUtils;\n                const layoutItem = searchUtils.getContainerLayoutItem(appConfig.layouts[desLayoutId], selectedLayoutItem.widgetId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Widget);\n                !!layoutItem &&\n                    action.removeLayoutItem({ layoutId: desLayoutId, layoutItemId: layoutItem.id }, false);\n            }\n            action.duplicateLayoutItem(originLayoutId, desLayoutId, selectedLayoutItem.id, false, linked);\n            action.exec();\n            evt.stopPropagation();\n            evt.nativeEvent.stopImmediatePropagation();\n        };\n        this.editStatus = (name, value) => {\n            const { dispatch, widgetId } = this.props;\n            dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(widgetId, name, value));\n        };\n        this.handleBreakLink = evt => {\n            const { layouts, builderSupportModules, browserSizeMode, selection, builderStatus, dispatch } = this.props;\n            const action = builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n            const appConfig = action.appConfig;\n            const selectedLayoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutItem(appConfig, selection);\n            if (!selectedLayoutItem)\n                return;\n            const currentLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[builderStatus], browserSizeMode, appConfig.mainSizeMode);\n            action.duplicateLayoutItem(currentLayoutId, currentLayoutId, selectedLayoutItem.id, true);\n            action.removeLayoutItem({ layoutId: currentLayoutId, layoutItemId: selectedLayoutItem.id }, false);\n            action.exec();\n            if (selection.layoutId === currentLayoutId &&\n                selection.layoutItemId === selectedLayoutItem.id) {\n                dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.selectionChanged(null));\n            }\n            const content = action.appConfig.layouts[currentLayoutId].content;\n            const newItemKey = Object.keys(content)[Object.keys(content).length - 1];\n            if (newItemKey) {\n                const newItem = content[newItemKey];\n                dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.selectionChanged({\n                    layoutId: currentLayoutId,\n                    layoutItemId: newItem.id\n                }));\n            }\n            evt.stopPropagation();\n            evt.nativeEvent.stopImmediatePropagation();\n        };\n        this.getCopyDropdownItems = (showBreak) => {\n            var _a, _b;\n            const { cardConfigs, layouts, browserSizeMode, selection, builderStatus, builderSupportModules } = this.props;\n            const action = builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n            const appConfig = action.appConfig;\n            const selectedLayoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutItem(appConfig, selection);\n            if (!selection || !selectedLayoutItem || !window.jimuConfig.isInBuilder) {\n                return {\n                    items: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]),\n                    title: ''\n                };\n            }\n            const items = [];\n            let title = '';\n            let linkedToRegular = true;\n            let linkedToSelect = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !== _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None;\n            let linkedToHover = !!cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover].enable;\n            const isWidgetInLayout = (layoutId, widgetId) => {\n                const searchUtils = builderSupportModules.widgetModules.searchUtils;\n                const widgets = searchUtils.getContentsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Widget, browserSizeMode);\n                return widgets.indexOf(widgetId) > -1;\n            };\n            const isShowApplyToHover = ((_a = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover]) === null || _a === void 0 ? void 0 : _a.listLayout) !== (_config__WEBPACK_IMPORTED_MODULE_2__.ListLayout === null || _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout === void 0 ? void 0 : _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.AUTO);\n            const isShowApplyToSelected = ((_b = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected]) === null || _b === void 0 ? void 0 : _b.listLayout) !== (_config__WEBPACK_IMPORTED_MODULE_2__.ListLayout === null || _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout === void 0 ? void 0 : _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.AUTO);\n            const syncToHover = () => {\n                if (cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover].enable) {\n                    const layoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover], browserSizeMode, appConfig.mainSizeMode);\n                    if (!isWidgetInLayout(layoutId, appConfig.layouts[selection.layoutId].content[selection.layoutItemId].widgetId)) {\n                        linkedToHover = false;\n                    }\n                    items.push({\n                        label: this.formatMessage('applyTo', {\n                            status: this.formatMessage('hover').toLocaleLowerCase()\n                        }),\n                        event: evt => {\n                            this.handleCopyTo(evt, _config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover, selectedLayoutItem, linkedToHover);\n                        }\n                    });\n                }\n            };\n            const syncToSelected = () => {\n                if (cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !== _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None) {\n                    const layoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected], browserSizeMode, appConfig.mainSizeMode);\n                    if (!isWidgetInLayout(layoutId, appConfig.layouts[selection.layoutId].content[selection.layoutItemId].widgetId)) {\n                        linkedToSelect = false;\n                    }\n                    items.push({\n                        label: this.formatMessage('applyTo', {\n                            status: this.formatMessage('selected').toLocaleLowerCase()\n                        }),\n                        event: evt => {\n                            this.handleCopyTo(evt, _config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected, selectedLayoutItem, linkedToSelect);\n                        }\n                    });\n                }\n            };\n            const syncToRegular = () => {\n                const layoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular], browserSizeMode, appConfig.mainSizeMode);\n                if (!isWidgetInLayout(layoutId, appConfig.layouts[selection.layoutId].content[selection.layoutItemId]\n                    .widgetId)) {\n                    linkedToRegular = false;\n                }\n                items.push({\n                    label: this.formatMessage('applyTo', {\n                        status: this.formatMessage('regular').toLocaleLowerCase()\n                    }),\n                    event: evt => {\n                        this.handleCopyTo(evt, _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular, selectedLayoutItem, linkedToRegular);\n                    }\n                });\n            };\n            if (builderStatus === _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular) {\n                isShowApplyToHover && syncToHover();\n                isShowApplyToSelected && syncToSelected();\n                if (linkedToHover && linkedToSelect) {\n                    title = this.formatMessage('linkedToAnd', {\n                        where1: this.formatMessage('selected').toLocaleLowerCase(),\n                        where2: this.formatMessage('hover').toLocaleLowerCase()\n                    });\n                }\n                else if (linkedToHover) {\n                    title = this.formatMessage('linkedTo', {\n                        where: this.formatMessage('hover').toLocaleLowerCase()\n                    });\n                }\n                else if (linkedToSelect) {\n                    title = this.formatMessage('linkedTo', {\n                        where: this.formatMessage('selected').toLocaleLowerCase()\n                    });\n                }\n            }\n            else if (builderStatus === _config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover) {\n                syncToRegular();\n                syncToSelected();\n                if (linkedToRegular && linkedToSelect) {\n                    title = this.formatMessage('linkedToAnd', {\n                        where1: this.formatMessage('regular').toLocaleLowerCase(),\n                        where2: this.formatMessage('selected').toLocaleLowerCase()\n                    });\n                }\n                else if (linkedToRegular) {\n                    title = this.formatMessage('linkedTo', {\n                        where: this.formatMessage('regular').toLocaleLowerCase()\n                    });\n                }\n                else if (linkedToSelect) {\n                    title = this.formatMessage('linkedTo', {\n                        where: this.formatMessage('selected').toLocaleLowerCase()\n                    });\n                }\n            }\n            else {\n                syncToRegular();\n                syncToHover();\n                if (linkedToRegular && linkedToHover) {\n                    title = this.formatMessage('linkedToAnd', {\n                        where1: this.formatMessage('regular').toLocaleLowerCase(),\n                        where2: this.formatMessage('hover').toLocaleLowerCase()\n                    });\n                }\n                else if (linkedToRegular) {\n                    title = this.formatMessage('linkedTo', {\n                        where: this.formatMessage('regular').toLocaleLowerCase()\n                    });\n                }\n                else if (linkedToHover) {\n                    title = this.formatMessage('linkedTo', {\n                        where: this.formatMessage('hover').toLocaleLowerCase()\n                    });\n                }\n            }\n            if (showBreak) {\n                items.push({\n                    label: this.formatMessage('isolate'),\n                    event: this.handleBreakLink\n                });\n            }\n            else {\n                title = this.formatMessage('isolate');\n            }\n            return {\n                items: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(items),\n                title: title\n            };\n        };\n        this._renderAction = () => {\n            const handlers = [];\n            const { theme, layoutType, keepAspectRatio } = this.props;\n            const sideHandle = jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      box-shadow: none;\n\n      &:after {\n        position: absolute;\n        content: '';\n        width: ${cornerSize}px;\n        height: ${cornerSize}px;\n        background-color: ${theme.colors.palette.primary[500]};\n        border: 2px solid ${theme.colors.white};\n        border-radius: 50%;\n        z-index: ${zindexHandle};\n      }\n    `;\n            const bottomSideLine = jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      box-shadow: none;\n      height: ${sideSize}px;\n      left: 0px;\n      right: 0px;\n      bottom: ${-1 * (sideSize / 2)}px;\n      &:after {\n        position: absolute;\n        content: '';\n        bottom: 50%;\n        left: 0;\n        right: 0;\n        height: 2px;\n        background-color: ${theme.colors.palette.primary[300]};\n        z-index: ${zindexHandle};\n      }\n    `;\n            const rightSideLine = jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      box-shadow: none;\n      width: ${sideSize}px;\n      top: 0px;\n      bottom: 0px;\n      right: ${-1 * (sideSize / 2)}px;\n      &:after {\n        position: absolute;\n        content: '';\n        right: 50%;\n        top: 0;\n        bottom: 0;\n        width: 2px;\n        background-color: ${theme.colors.palette.primary[300]};\n        z-index: ${zindexHandle};\n      }\n    `;\n            const handle = jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      position: absolute;\n    `;\n            const rightSideCursor = jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      width: ${sideSize}px;\n      top: ${-1 * sidePosition}px;\n      bottom: ${-1 * sidePosition}px;\n      right: ${-1 * (sideSize / 2)}px;\n\n      &:after {\n        top: 50%;\n        right: 50%;\n        margin-top: ${cornerPosition / 2}px;\n        margin-right: ${cornerPosition / 2}px;\n      }\n    `;\n            const bottomSideCursor = jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      height: ${sideSize}px;\n      left: ${-1 * sidePosition}px;\n      right: ${-1 * sidePosition}px;\n      bottom: ${-1 * (sideSize / 2)}px;\n\n      &:after {\n        left: 50%;\n        bottom: 50%;\n        margin-left: ${cornerPosition / 2}px;\n        margin-bottom: ${cornerPosition / 2}px;\n      }\n    `;\n            switch (layoutType) {\n                case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column:\n                    handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '10', className: 'list-card-rnd-resize-left-line', css: [handle, rightSideLine] }));\n                    handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '4', className: 'list-card-rnd-resize-right', css: [handle, sideHandle, rightSideCursor] }));\n                    break;\n                case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row:\n                    handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '9', className: 'list-card-rnd-resize-bottom-line', css: [handle, bottomSideLine] }));\n                    handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '6', className: 'list-card-rnd-resize-bottom', css: [handle, sideHandle, bottomSideCursor] }));\n                    break;\n                case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID:\n                    handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '10', className: 'list-card-rnd-resize-left-line', css: [handle, rightSideLine] }));\n                    handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '4', className: 'list-card-rnd-resize-right', css: [handle, sideHandle, rightSideCursor] }));\n                    if (!keepAspectRatio) {\n                        handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '9', className: 'list-card-rnd-resize-bottom-line', css: [handle, bottomSideLine] }));\n                        handlers.push((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: '6', className: 'list-card-rnd-resize-bottom', css: [handle, sideHandle, bottomSideCursor] }));\n                    }\n                    break;\n            }\n            return handlers;\n        };\n        this.getCardToolsStyle = (theme) => {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      width: 100%;\n      .btn {\n        width: 100%;\n      }\n      .dropdown-toggle {\n        justify-content: center;\n      }\n    `;\n        };\n        this.renderCardTools = () => {\n            const { index } = this.props;\n            const isInBuilder = window.jimuConfig.isInBuilder;\n            if (!isInBuilder || index > 0)\n                return;\n            const { cardConfigs, appMode, builderSupportModules, datasourceId, selectionIsInList, selectionIsList, hideCardTool } = this.props;\n            let showTools = true;\n            const { BuilderPopper, GLOBAL_RESIZING_CLASS_NAME, GLOBAL_H5_DRAGGING_CLASS_NAME, GLOBAL_DRAGGING_CLASS_NAME } = builderSupportModules.widgetModules;\n            const isInList = selectionIsInList;\n            const isSelf = selectionIsList;\n            if ((!isInList && !isSelf) ||\n                appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run ||\n                hideCardTool ||\n                !datasourceId) {\n                showTools = false;\n            }\n            return (showTools &&\n                this.props.isEditing &&\n                (cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover].enable ||\n                    cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !==\n                        _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(BuilderPopper, { placement: 'left-start', trapFocus: false, autoFocus: false, css: jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n            .${GLOBAL_DRAGGING_CLASS_NAME} &,\n            .${GLOBAL_RESIZING_CLASS_NAME} &,\n            .${GLOBAL_H5_DRAGGING_CLASS_NAME} & {\n              &.popper {\n                display: none;\n              }\n            }\n          `, reference: this.resizeRef.current, offset: statesPopperOffset, modifiers: statesModifiers, open: showTools }, this.getCardMenuElement())));\n        };\n        this.getCardMenuElement = () => {\n            var _a;\n            const { index } = this.props;\n            const isInBuilder = window.jimuConfig.isInBuilder;\n            if (!isInBuilder || index > 0)\n                return;\n            const { cardConfigs, selection, widgetId, builderSupportModules, browserSizeMode, builderStatus, selectionIsList } = this.props;\n            const action = builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n            const appConfig = action.appConfig;\n            const { searchUtils, BuilderDropDown, BuilderButton, withBuilderTheme } = builderSupportModules.widgetModules;\n            const isSelf = selectionIsList;\n            const showBreak = !isSelf &&\n                selection &&\n                searchUtils &&\n                searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(appConfig, selection, widgetId, browserSizeMode).length > 1;\n            const { items: syncItems, title: syncTitle } = this.getCopyDropdownItems(showBreak);\n            const showSync = syncItems && syncItems.length > 0;\n            const listLayout = ((_a = cardConfigs[builderStatus]) === null || _a === void 0 ? void 0 : _a.listLayout) || _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.CUSTOM;\n            const isShowSyncOrBreak = showSync || showBreak;\n            const isShowCopyPopper = !isSelf && isShowSyncOrBreak && listLayout === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.CUSTOM;\n            const CardMenu = withBuilderTheme(theme => {\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'status-group d-flex flex-column align-items-center p-2', css: this.getCardToolsStyle(theme) },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(BuilderButton, { active: builderStatus === _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular, onClick: evt => this.handleBuilderStatusChange(evt, _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular) }, this.formatMessage('regular')),\n                    cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover].enable && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(BuilderButton, { active: builderStatus === _config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover, className: 'mt-1', onClick: evt => this.handleBuilderStatusChange(evt, _config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover) }, this.formatMessage('hover'))),\n                    cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !==\n                        _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(BuilderButton, { active: builderStatus === _config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected, className: 'mt-1', onClick: evt => this.handleBuilderStatusChange(evt, _config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected) }, this.formatMessage('selected'))),\n                    isShowCopyPopper && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(BuilderDropDown, { className: 'mt-1 w-100', toggleIsIcon: true, toggleTitle: syncTitle, toggleType: 'default', direction: 'left', toggleContent: theme => (showBreak ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_sync_on__WEBPACK_IMPORTED_MODULE_5__.SyncOnOutlined, { size: 16 }) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_sync_off__WEBPACK_IMPORTED_MODULE_6__.SyncOffOutlined, { size: 16 })), modifiers: applyPopperModifiers, items: syncItems }))));\n            });\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(CardMenu, null));\n        };\n        this.isItemAccept = (item, isPlaceholder) => {\n            var _a, _b;\n            if (!item)\n                return false;\n            const { isEditing } = this.props;\n            const supportRepeat = (_b = (_a = item.manifest) === null || _a === void 0 ? void 0 : _a.properties) === null || _b === void 0 ? void 0 : _b.supportRepeat;\n            // if(!supportRepeat && item.itemType === LayoutItemType.Widget && !item.id){//support placeholder\n            //   supportRepeat = true;\n            // }\n            const { builderSupportModules, widgetId } = this.props;\n            const action = builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n            const appConfig = action.appConfig;\n            const selectionInList = builderSupportModules.widgetModules.selectionInList;\n            return (isEditing &&\n                supportRepeat &&\n                (!item.layoutInfo ||\n                    (item.layoutInfo &&\n                        selectionInList(item.layoutInfo, widgetId, appConfig, false))));\n        };\n        this.getEditorStyle = () => {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      &.list-card-content {\n        .fixed-layout {\n          border: 0 !important;\n        }\n      }\n    `;\n        };\n        this.state = {\n            didMount: false\n        };\n        this.resizeRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n        this.providerData = this.getNewProviderData();\n    }\n    shouldComponentUpdate(nextProps, nextStats) {\n        let shouldUpdate = this.shouldComponentUpdateExcept(nextProps, nextStats, [\n            'listStyle',\n            'selection'\n        ]);\n        shouldUpdate =\n            shouldUpdate ||\n                !jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isDeepEqual(this.props.listStyle, nextProps.listStyle);\n        if (!shouldUpdate) {\n            const { selectionIsInList, selectionIsList } = this.props;\n            if (selectionIsList || selectionIsInList) {\n                shouldUpdate = !jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isDeepEqual(this.props.selection, nextProps.selection);\n            }\n        }\n        return shouldUpdate;\n    }\n    componentDidUpdate(preProps) {\n        const { selectionIsInList, isEditing, layoutType, isRTL, lockItemRatio, keepAspectRatio, index } = this.props;\n        if (window.jimuConfig.isInBuilder && index === 0) {\n            if (this.interactable) {\n                if (isEditing && !selectionIsInList) {\n                    if (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) {\n                        this.interactable.resizable({\n                            edges: {\n                                top: false,\n                                left: isRTL,\n                                bottom: !keepAspectRatio,\n                                right: !isRTL\n                            }\n                        });\n                        this.interactable.resizable(true);\n                    }\n                    else if (!lockItemRatio) {\n                        this.interactable.resizable({\n                            edges: {\n                                top: false,\n                                left: layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column && isRTL,\n                                bottom: layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row,\n                                right: layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column && !isRTL\n                            }\n                        });\n                        this.interactable.resizable(true);\n                    }\n                }\n                else {\n                    this.interactable.resizable(false);\n                }\n            }\n        }\n    }\n    componentDidMount() {\n        const { index, layoutType, updateCardToolPosition, keepAspectRatio } = this.props;\n        if (index === 0 &&\n            window.jimuConfig.isInBuilder &&\n            this.resizeRef.current) {\n            const { interact, handleResizeCard, isRTL } = this.props;\n            this.interactable = interact(this.resizeRef.current).resizable({\n                // resize from all edges and corners\n                edges: {\n                    top: false,\n                    left: (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column || layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) && isRTL,\n                    bottom: (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row || (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID && !keepAspectRatio)),\n                    right: (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column || layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) && !isRTL\n                },\n                modifiers: [\n                    // keep the edges inside the parent\n                    interact.modifiers.restrictEdges({\n                        endOnly: true\n                    }),\n                    // minimum size\n                    interact.modifiers.restrictSize({\n                        min: { width: _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE, height: _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE }\n                    })\n                ],\n                inertia: false,\n                onstart: (event) => {\n                    const { changeIsResizingCard } = this.props;\n                    if (changeIsResizingCard) {\n                        changeIsResizingCard(true);\n                    }\n                    event.stopPropagation();\n                },\n                onmove: (event) => {\n                    event.stopPropagation();\n                    if (this.lastResizeCall) {\n                        cancelAnimationFrame(this.lastResizeCall);\n                    }\n                    const rect = event.rect;\n                    const newCardSize = this.getNewCardSize(rect, true);\n                    updateCardToolPosition();\n                    this.lastResizeCall = requestAnimationFrame(() => {\n                        const edges = {}; // event.interaction.edges;\n                        handleResizeCard(newCardSize, false, edges.top, edges.left);\n                    });\n                },\n                onend: (event) => {\n                    event.stopPropagation();\n                    if (this.lastResizeCall) {\n                        cancelAnimationFrame(this.lastResizeCall);\n                    }\n                    this.lastResizeCall = requestAnimationFrame(() => {\n                        const rect = event.rect;\n                        const newCardSize = this.getNewCardSize(rect);\n                        handleResizeCard(newCardSize, true);\n                        const { changeIsResizingCard } = this.props;\n                        if (changeIsResizingCard) {\n                            changeIsResizingCard(false);\n                        }\n                    });\n                }\n            });\n        }\n        this.setState({\n            didMount: true\n        });\n    }\n    componentWillUnMount() {\n        if (this.lastResizeCall) {\n            cancelAnimationFrame(this.lastResizeCall);\n        }\n        if (this.interactable) {\n            this.interactable.unset();\n            this.interactable = null;\n        }\n    }\n    handleBuilderStatusChange(evt, status) {\n        this.editStatus('showCardSetting', status);\n        this.editStatus('builderStatus', status);\n        const { selectCard } = this.props;\n        selectCard();\n        evt.stopPropagation();\n        evt.nativeEvent.stopImmediatePropagation();\n    }\n    render() {\n        var _a;\n        const { selectable, active, cardConfigs, LayoutEntry, selectionIsInList, isEditing, widgetId, listStyle, lockItemRatio, builderStatus, layouts, layoutType } = this.props;\n        const { didMount } = this.state;\n        const layout = layouts[builderStatus];\n        const listLayout = ((_a = cardConfigs[builderStatus]) === null || _a === void 0 ? void 0 : _a.listLayout) || _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.CUSTOM;\n        const regularLayout = layouts[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular];\n        const showLayout = listLayout === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.AUTO ? regularLayout : layout;\n        const bgStyle = cardConfigs[builderStatus].backgroundStyle;\n        const isShowMask = listLayout === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayout.AUTO && builderStatus !== _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular;\n        const mergedStyle = Object.assign({}, jimu_ui__WEBPACK_IMPORTED_MODULE_1__.styleUtils.toCSSStyle(bgStyle || {}));\n        const cardContentStyle = Object.assign({}, jimu_ui__WEBPACK_IMPORTED_MODULE_1__.styleUtils.toCSSStyle({\n            borderRadius: (bgStyle === null || bgStyle === void 0 ? void 0 : bgStyle.borderRadius) || 0\n        } || {}));\n        const newProviderData = this.getNewProviderData();\n        if (!this.isProviderEqual(newProviderData, this.providerData)) {\n            this.providerData = newProviderData;\n        }\n        const isLockItemRatio = layoutType !== _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID && lockItemRatio;\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.RepeatedDataSourceProvider, { data: this.providerData },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ListGroupItem, { active: selectable && active, css: this.getStyle(builderStatus), style: Object.assign(Object.assign({}, cardContentStyle), listStyle), className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('surface-1', `list-card-${widgetId}`), onClick: this.handleItemClick, role: 'listCardEditor' },\n                isShowMask && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'card-editor-mask position-absolute' }),\n                didMount && this.renderCardTools(),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'list-card-content d-flex', style: mergedStyle, css: this.getEditorStyle(), ref: this.resizeRef },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayoutEntry, { isItemAccepted: this.isItemAccept, isRepeat: true, layouts: showLayout, isInWidget: true }),\n                    isEditing &&\n                        !selectionIsInList &&\n                        !isLockItemRatio &&\n                        this._renderAction()))));\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect((state, props) => {\n    var _a;\n    const { selectionIsList, builderSupportModules, appMode, widgetId, browserSizeMode } = props;\n    if (!window.jimuConfig.isInBuilder || appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run) {\n        return {\n            selection: undefined,\n            showBreak: false\n        };\n    }\n    const searchUtils = (_a = builderSupportModules === null || builderSupportModules === void 0 ? void 0 : builderSupportModules.widgetModules) === null || _a === void 0 ? void 0 : _a.searchUtils;\n    const action = builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n    const appConfig = action.appConfig;\n    const selection = props.index === 0 &&\n        props.selectionIsInList &&\n        state &&\n        state.appRuntimeInfo &&\n        state.appRuntimeInfo.selection;\n    const showBreak = !selectionIsList &&\n        selection &&\n        searchUtils &&\n        searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(appConfig, selection, widgetId, browserSizeMode).length > 1;\n    return {\n        selection,\n        showBreak\n    };\n})(_ListCardEditor));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9saXN0LWNhcmQtZWRpdG9yLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFrQkE7QUFDQTtBQVNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0NBO0FBUUE7QUFDQTtBQUhBO0FBaUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQU1BO0FBSUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUdBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFLQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFFQTs7QUFFQTs7O0FBR0E7Ozs7Ozs7O0FBUUE7QUFDQTs7QUFFQTtBQUVBOztBQUVBOzs7QUFHQTs7Ozs7Ozs7QUFRQTtBQUNBOztBQUVBO0FBRUE7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBT0E7QUFDQTtBQUNBO0FBT0E7QUFPQTtBQUNBO0FBT0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBVUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBVUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBVUE7QUFDQTtBQUVBO0FBT0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFNQTtBQVNBO0FBQ0E7QUFTQTtBQWdCQTtBQUNBO0FBQ0E7QUFFQTs7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQWoxQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE0REE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXFtQkE7O0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFNQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBOztBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9saXN0LWNhcmQtZWRpdG9yLnRzeD81Y2NkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIFJlcGVhdGVkRGF0YVNvdXJjZVByb3ZpZGVyLFxuICBqc3gsXG4gIGNzcyxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgQXBwTW9kZSxcbiAgTGF5b3V0SW5mbyxcbiAgdXRpbHMsXG4gIExheW91dEl0ZW1UeXBlLFxuICBhcHBBY3Rpb25zLFxuICBJbW11dGFibGUsXG4gIEltbXV0YWJsZUFycmF5LFxuICBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgUmVhY3RSZWR1eCxcbiAgSU1TdGF0ZSxcbiAgY2xhc3NOYW1lc1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBMaXN0R3JvdXBJdGVtLCBzdHlsZVV0aWxzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7XG4gIENhcmRTaXplLFxuICBTdGF0dXMsXG4gIFNlbGVjdGlvbk1vZGVUeXBlLFxuICBMSVNUX0NBUkRfTUlOX1NJWkUsXG4gIExpc3RMYXlvdXQsXG4gIExpc3RMYXlvdXRUeXBlLFxuICBJTUNhcmRDb25maWdcbn0gZnJvbSAnLi4vLi4vY29uZmlnJ1xuaW1wb3J0IHsgc2VhcmNoVXRpbHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnXG5pbXBvcnQgeyBNeURyb3BEb3duSXRlbSB9IGZyb20gJy4vbXktZHJvcGRvd24nXG5pbXBvcnQgTGlzdENhcmQsIHsgTGlzdENhcmRQcm9wcywgTGlzdENhcmRTdGF0ZXMgfSBmcm9tICcuL2xpc3QtY2FyZC1iYXNlJ1xuXG5pbXBvcnQgeyBTeW5jT25PdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3N5bmMtb24nXG5pbXBvcnQgeyBTeW5jT2ZmT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zeW5jLW9mZidcblxuY29uc3QgY29ybmVyU2l6ZSA9IDEyXG5jb25zdCBjb3JuZXJQb3NpdGlvbiA9IC0xMFxuY29uc3Qgc2lkZVNpemUgPSAxNlxuY29uc3Qgc2lkZVBvc2l0aW9uID0gLTEwXG5jb25zdCB6aW5kZXhIYW5kbGUgPSAyMFxuXG5pbnRlcmZhY2UgRXh0cmFQcm9wcyB7XG4gIHNlbGVjdGlvbjogTGF5b3V0SW5mb1xuICBzaG93QnJlYWs6IGJvb2xlYW5cbiAgaG9yaXpvbnRhbFNwYWNlPzogbnVtYmVyXG4gIGlzV2lkdGhQZXJjZW50YWdlPzogYm9vbGVhblxufVxuXG5jb25zdCBzdGF0ZXNQb3BwZXJPZmZzZXQgPSBbMCwgNV1cbmNvbnN0IHN0YXRlc01vZGlmaWVycyA9IFtcbiAge1xuICAgIG5hbWU6ICdmbGlwJyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBib3VuZGFyeTogZG9jdW1lbnQuYm9keSxcbiAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogWydyaWdodC1zdGFydCcsICdsZWZ0LXN0YXJ0JywgJ2JvdHRvbS1zdGFydCcsICd0b3AtZW5kJywgJ3RvcC1zdGFydCddXG4gICAgfVxuICB9XG5dXG5jb25zdCBhcHBseVBvcHBlck1vZGlmaWVycyA9IFtcbiAge1xuICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIG9mZnNldDogWzAsIDEwXVxuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6ICdhcnJvdycsXG4gICAgZW5hYmxlZDogdHJ1ZVxuICB9XG5dXG5cbmludGVyZmFjZSBMaXN0Q2FyZEVkaXRvclByb3BzIGV4dGVuZHMgTGlzdENhcmRQcm9wcyB7XG4gIGJ1aWxkZXJTdXBwb3J0TW9kdWxlcz86IGFueVxuICBpc0VkaXRpbmc/OiBib29sZWFuXG4gIExheW91dEVudHJ5PzogYW55XG4gIHNlbGVjdGlvbklzTGlzdD86IGJvb2xlYW5cbiAgc2VsZWN0aW9uSXNJbkxpc3Q/OiBib29sZWFuXG4gIGJ1aWxkZXJTdGF0dXM/OiBTdGF0dXNcbiAgaW50ZXJhY3Q/OiBhbnlcbiAgZGlzcGF0Y2g/OiBhbnlcbiAgaXNSVEw/OiBib29sZWFuXG4gIGxvY2tJdGVtUmF0aW8/OiBib29sZWFuXG4gIGtlZXBBc3BlY3RSYXRpbz86IGJvb2xlYW5cbiAgZ3JpZEl0ZW1TaXplUmF0aW8/OiBudW1iZXJcbiAgaGlkZUNhcmRUb29sPzogYm9vbGVhblxuICBjYXJkQ29uZmlncz86IElNQ2FyZENvbmZpZ1xuICBjaGFuZ2VJc1Jlc2l6aW5nQ2FyZDogKGlzUmVzaXppbmc6IGJvb2xlYW4pID0+IHZvaWRcbiAgaGFuZGxlUmVzaXplQ2FyZD86IChcbiAgICBuZXdDYXJkU2l6ZTogQ2FyZFNpemUsXG4gICAgcmVzaXplRW5kPzogYm9vbGVhbixcbiAgICBpc0xlZnQ/OiBib29sZWFuLFxuICAgIGlzVG9wPzogYm9vbGVhbixcbiAgICBpc0VuZD86IGJvb2xlYW5cbiAgKSA9PiB2b2lkXG4gIHNlbGVjdENhcmQ/OiAoKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBMaXN0Q2FyZEVkaXRvclN0YXRlcyBleHRlbmRzIExpc3RDYXJkU3RhdGVzIHtcbiAgZGlkTW91bnQ6IGJvb2xlYW5cbn1cblxuY2xhc3MgX0xpc3RDYXJkRWRpdG9yIGV4dGVuZHMgTGlzdENhcmQ8XG5MaXN0Q2FyZEVkaXRvclByb3BzICYgRXh0cmFQcm9wcyxcbkxpc3RDYXJkRWRpdG9yU3RhdGVzXG4+IHtcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdC5JbnRlcmFjdGFibGVcbiAgcmVzaXplUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+XG4gIGxhc3RSZXNpemVDYWxsID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRpZE1vdW50OiBmYWxzZVxuICAgIH1cbiAgICB0aGlzLnJlc2l6ZVJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpXG5cbiAgICB0aGlzLnByb3ZpZGVyRGF0YSA9IHRoaXMuZ2V0TmV3UHJvdmlkZXJEYXRhKClcbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSAobmV4dFByb3BzLCBuZXh0U3RhdHMpIHtcbiAgICBsZXQgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGVFeGNlcHQobmV4dFByb3BzLCBuZXh0U3RhdHMsIFtcbiAgICAgICdsaXN0U3R5bGUnLFxuICAgICAgJ3NlbGVjdGlvbidcbiAgICBdKVxuICAgIHNob3VsZFVwZGF0ZSA9XG4gICAgICBzaG91bGRVcGRhdGUgfHxcbiAgICAgICF1dGlscy5pc0RlZXBFcXVhbCh0aGlzLnByb3BzLmxpc3RTdHlsZSwgbmV4dFByb3BzLmxpc3RTdHlsZSlcbiAgICBpZiAoIXNob3VsZFVwZGF0ZSkge1xuICAgICAgY29uc3QgeyBzZWxlY3Rpb25Jc0luTGlzdCwgc2VsZWN0aW9uSXNMaXN0IH0gPSB0aGlzLnByb3BzXG4gICAgICBpZiAoc2VsZWN0aW9uSXNMaXN0IHx8IHNlbGVjdGlvbklzSW5MaXN0KSB7XG4gICAgICAgIHNob3VsZFVwZGF0ZSA9ICF1dGlscy5pc0RlZXBFcXVhbChcbiAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGlvbixcbiAgICAgICAgICBuZXh0UHJvcHMuc2VsZWN0aW9uXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmVQcm9wcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHNlbGVjdGlvbklzSW5MaXN0LFxuICAgICAgaXNFZGl0aW5nLFxuICAgICAgbGF5b3V0VHlwZSxcbiAgICAgIGlzUlRMLFxuICAgICAgbG9ja0l0ZW1SYXRpbyxcbiAgICAgIGtlZXBBc3BlY3RSYXRpbyxcbiAgICAgIGluZGV4XG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiYgaW5kZXggPT09IDApIHtcbiAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSkge1xuICAgICAgICBpZiAoaXNFZGl0aW5nICYmICFzZWxlY3Rpb25Jc0luTGlzdCkge1xuICAgICAgICAgIGlmIChsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0YWJsZS5yZXNpemFibGUoe1xuICAgICAgICAgICAgICBlZGdlczoge1xuICAgICAgICAgICAgICAgIHRvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGVmdDogaXNSVEwsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAha2VlcEFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAhaXNSVExcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3RhYmxlLnJlc2l6YWJsZSh0cnVlKVxuICAgICAgICAgIH0gZWxzZSBpZiAoIWxvY2tJdGVtUmF0aW8pIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3RhYmxlLnJlc2l6YWJsZSh7XG4gICAgICAgICAgICAgIGVkZ2VzOiB7XG4gICAgICAgICAgICAgICAgdG9wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4gJiYgaXNSVEwsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Sb3csXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkNvbHVtbiAmJiAhaXNSVExcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3RhYmxlLnJlc2l6YWJsZSh0cnVlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmludGVyYWN0YWJsZS5yZXNpemFibGUoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3QgeyBpbmRleCwgbGF5b3V0VHlwZSwgdXBkYXRlQ2FyZFRvb2xQb3NpdGlvbiwga2VlcEFzcGVjdFJhdGlvIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKFxuICAgICAgaW5kZXggPT09IDAgJiZcbiAgICAgIHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyICYmXG4gICAgICB0aGlzLnJlc2l6ZVJlZi5jdXJyZW50XG4gICAgKSB7XG4gICAgICBjb25zdCB7IGludGVyYWN0LCBoYW5kbGVSZXNpemVDYXJkLCBpc1JUTCB9ID0gdGhpcy5wcm9wc1xuICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdCh0aGlzLnJlc2l6ZVJlZi5jdXJyZW50KS5yZXNpemFibGUoe1xuICAgICAgICAvLyByZXNpemUgZnJvbSBhbGwgZWRnZXMgYW5kIGNvcm5lcnNcbiAgICAgICAgZWRnZXM6IHtcbiAgICAgICAgICB0b3A6IGZhbHNlLFxuICAgICAgICAgIGxlZnQ6IChsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4gfHwgbGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCkgJiYgaXNSVEwsXG4gICAgICAgICAgYm90dG9tOiAobGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuUm93IHx8IChsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEICYmICFrZWVwQXNwZWN0UmF0aW8pKSxcbiAgICAgICAgICByaWdodDogKGxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkNvbHVtbiB8fCBsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEKSAmJiAhaXNSVExcbiAgICAgICAgfSxcbiAgICAgICAgbW9kaWZpZXJzOiBbXG4gICAgICAgICAgLy8ga2VlcCB0aGUgZWRnZXMgaW5zaWRlIHRoZSBwYXJlbnRcbiAgICAgICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RFZGdlcyh7XG4gICAgICAgICAgICBlbmRPbmx5OiB0cnVlXG4gICAgICAgICAgfSksXG5cbiAgICAgICAgICAvLyBtaW5pbXVtIHNpemVcbiAgICAgICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RTaXplKHtcbiAgICAgICAgICAgIG1pbjogeyB3aWR0aDogTElTVF9DQVJEX01JTl9TSVpFLCBoZWlnaHQ6IExJU1RfQ0FSRF9NSU5fU0laRSB9XG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgaW5lcnRpYTogZmFsc2UsXG4gICAgICAgIG9uc3RhcnQ6IChldmVudDogSW50ZXJhY3QuSW50ZXJhY3RFdmVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY2hhbmdlSXNSZXNpemluZ0NhcmQgfSA9IHRoaXMucHJvcHNcbiAgICAgICAgICBpZiAoY2hhbmdlSXNSZXNpemluZ0NhcmQpIHtcbiAgICAgICAgICAgIGNoYW5nZUlzUmVzaXppbmdDYXJkKHRydWUpXG4gICAgICAgICAgfVxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIH0sXG4gICAgICAgIG9ubW92ZTogKGV2ZW50OiBJbnRlcmFjdC5SZXNpemVFdmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICAgICAgICBpZiAodGhpcy5sYXN0UmVzaXplQ2FsbCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5sYXN0UmVzaXplQ2FsbClcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVjdCA9IGV2ZW50LnJlY3RcbiAgICAgICAgICBjb25zdCBuZXdDYXJkU2l6ZSA9IHRoaXMuZ2V0TmV3Q2FyZFNpemUocmVjdCwgdHJ1ZSlcbiAgICAgICAgICB1cGRhdGVDYXJkVG9vbFBvc2l0aW9uKClcbiAgICAgICAgICB0aGlzLmxhc3RSZXNpemVDYWxsID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VzID0ge30gYXMgYW55IC8vIGV2ZW50LmludGVyYWN0aW9uLmVkZ2VzO1xuICAgICAgICAgICAgaGFuZGxlUmVzaXplQ2FyZChuZXdDYXJkU2l6ZSwgZmFsc2UsIGVkZ2VzLnRvcCwgZWRnZXMubGVmdClcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbmVuZDogKGV2ZW50OiBJbnRlcmFjdC5SZXNpemVFdmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgaWYgKHRoaXMubGFzdFJlc2l6ZUNhbGwpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMubGFzdFJlc2l6ZUNhbGwpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubGFzdFJlc2l6ZUNhbGwgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGV2ZW50LnJlY3RcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhcmRTaXplID0gdGhpcy5nZXROZXdDYXJkU2l6ZShyZWN0KVxuICAgICAgICAgICAgaGFuZGxlUmVzaXplQ2FyZChuZXdDYXJkU2l6ZSwgdHJ1ZSlcbiAgICAgICAgICAgIGNvbnN0IHsgY2hhbmdlSXNSZXNpemluZ0NhcmQgfSA9IHRoaXMucHJvcHNcbiAgICAgICAgICAgIGlmIChjaGFuZ2VJc1Jlc2l6aW5nQ2FyZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VJc1Jlc2l6aW5nQ2FyZChmYWxzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRpZE1vdW50OiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGdldE5ld0NhcmRTaXplID0gKHJlY3QsIGlzUmVzaXppbmc6IGJvb2xlYW4gPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHsga2VlcEFzcGVjdFJhdGlvLCBsYXlvdXRUeXBlLCBncmlkSXRlbVNpemVSYXRpbywgaG9yaXpvbnRhbFNwYWNlLCBpc1dpZHRoUGVyY2VudGFnZSB9ID0gdGhpcy5wcm9wc1xuICAgIGxldCBuZXdDYXJkU2l6ZVxuICAgIGxldCB3aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgICBpZiAoIWlzUmVzaXppbmcgJiYgaXNXaWR0aFBlcmNlbnRhZ2UpIHtcbiAgICAgIHdpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdCArIGhvcml6b250YWxTcGFjZVxuICAgIH1cbiAgICBpZiAobGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCAmJiBrZWVwQXNwZWN0UmF0aW8pIHtcbiAgICAgIG5ld0NhcmRTaXplID0ge1xuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogd2lkdGggKiBncmlkSXRlbVNpemVSYXRpb1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDYXJkU2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0NhcmRTaXplXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5Nb3VudCAoKSB7XG4gICAgaWYgKHRoaXMubGFzdFJlc2l6ZUNhbGwpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMubGFzdFJlc2l6ZUNhbGwpXG4gICAgfVxuICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSkge1xuICAgICAgdGhpcy5pbnRlcmFjdGFibGUudW5zZXQoKVxuICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlSXRlbUNsaWNrID0gZXZ0ID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdENhcmQgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoZXZ0KSB7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICB9XG4gICAgc2VsZWN0Q2FyZCgpXG4gIH1cblxuICBoYW5kbGVDb3B5VG8gPSAoZXZ0LCBzdGF0dXM6IFN0YXR1cywgc2VsZWN0ZWRMYXlvdXRJdGVtLCBsaW5rZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkTGF5b3V0SXRlbSkgcmV0dXJuXG4gICAgY29uc3Qge1xuICAgICAgbGF5b3V0cyxcbiAgICAgIGJ1aWxkZXJTdXBwb3J0TW9kdWxlcyxcbiAgICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICAgIGJ1aWxkZXJTdGF0dXNcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFjdGlvbiA9IGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5qaW11Rm9yQnVpbGRlckxpYi5nZXRBcHBDb25maWdBY3Rpb24oKVxuICAgIGNvbnN0IGFwcENvbmZpZyA9IGFjdGlvbi5hcHBDb25maWdcbiAgICBjb25zdCBvcmlnaW5MYXlvdXRJZCA9IHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJZChcbiAgICAgIGxheW91dHNbYnVpbGRlclN0YXR1c10sXG4gICAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgICBhcHBDb25maWcubWFpblNpemVNb2RlXG4gICAgKVxuICAgIGNvbnN0IGRlc0xheW91dElkID0gc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgbGF5b3V0c1tzdGF0dXNdLFxuICAgICAgYnJvd3NlclNpemVNb2RlLFxuICAgICAgYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICAgIClcbiAgICBpZiAobGlua2VkKSB7XG4gICAgICBjb25zdCBzZWFyY2hVdGlscyA9IGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy53aWRnZXRNb2R1bGVzLnNlYXJjaFV0aWxzXG4gICAgICBjb25zdCBsYXlvdXRJdGVtID0gc2VhcmNoVXRpbHMuZ2V0Q29udGFpbmVyTGF5b3V0SXRlbShcbiAgICAgICAgYXBwQ29uZmlnLmxheW91dHNbZGVzTGF5b3V0SWRdLFxuICAgICAgICBzZWxlY3RlZExheW91dEl0ZW0ud2lkZ2V0SWQsXG4gICAgICAgIExheW91dEl0ZW1UeXBlLldpZGdldFxuICAgICAgKVxuICAgICAgISFsYXlvdXRJdGVtICYmXG4gICAgICAgIGFjdGlvbi5yZW1vdmVMYXlvdXRJdGVtKFxuICAgICAgICAgIHsgbGF5b3V0SWQ6IGRlc0xheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQgfSxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApXG4gICAgfVxuICAgIGFjdGlvbi5kdXBsaWNhdGVMYXlvdXRJdGVtKFxuICAgICAgb3JpZ2luTGF5b3V0SWQsXG4gICAgICBkZXNMYXlvdXRJZCxcbiAgICAgIHNlbGVjdGVkTGF5b3V0SXRlbS5pZCxcbiAgICAgIGZhbHNlLFxuICAgICAgbGlua2VkXG4gICAgKVxuICAgIGFjdGlvbi5leGVjKClcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIGVkaXRTdGF0dXMgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCB3aWRnZXRJZCB9ID0gdGhpcy5wcm9wc1xuICAgIGRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKHdpZGdldElkLCBuYW1lLCB2YWx1ZSkpXG4gIH1cblxuICBoYW5kbGVCdWlsZGVyU3RhdHVzQ2hhbmdlIChldnQsIHN0YXR1cykge1xuICAgIHRoaXMuZWRpdFN0YXR1cygnc2hvd0NhcmRTZXR0aW5nJywgc3RhdHVzKVxuICAgIHRoaXMuZWRpdFN0YXR1cygnYnVpbGRlclN0YXR1cycsIHN0YXR1cylcblxuICAgIGNvbnN0IHsgc2VsZWN0Q2FyZCB9ID0gdGhpcy5wcm9wc1xuICAgIHNlbGVjdENhcmQoKVxuXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgZXZ0Lm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gIH1cblxuICBoYW5kbGVCcmVha0xpbmsgPSBldnQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGxheW91dHMsXG4gICAgICBidWlsZGVyU3VwcG9ydE1vZHVsZXMsXG4gICAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgICBzZWxlY3Rpb24sXG4gICAgICBidWlsZGVyU3RhdHVzLFxuICAgICAgZGlzcGF0Y2hcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFjdGlvbiA9IGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5qaW11Rm9yQnVpbGRlckxpYi5nZXRBcHBDb25maWdBY3Rpb24oKVxuICAgIGNvbnN0IGFwcENvbmZpZyA9IGFjdGlvbi5hcHBDb25maWdcbiAgICBjb25zdCBzZWxlY3RlZExheW91dEl0ZW0gPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SXRlbShhcHBDb25maWcsIHNlbGVjdGlvbilcbiAgICBpZiAoIXNlbGVjdGVkTGF5b3V0SXRlbSkgcmV0dXJuXG4gICAgY29uc3QgY3VycmVudExheW91dElkID0gc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgbGF5b3V0c1tidWlsZGVyU3RhdHVzXSxcbiAgICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICAgIGFwcENvbmZpZy5tYWluU2l6ZU1vZGVcbiAgICApXG4gICAgYWN0aW9uLmR1cGxpY2F0ZUxheW91dEl0ZW0oXG4gICAgICBjdXJyZW50TGF5b3V0SWQsXG4gICAgICBjdXJyZW50TGF5b3V0SWQsXG4gICAgICBzZWxlY3RlZExheW91dEl0ZW0uaWQsXG4gICAgICB0cnVlXG4gICAgKVxuICAgIGFjdGlvbi5yZW1vdmVMYXlvdXRJdGVtKFxuICAgICAgeyBsYXlvdXRJZDogY3VycmVudExheW91dElkLCBsYXlvdXRJdGVtSWQ6IHNlbGVjdGVkTGF5b3V0SXRlbS5pZCB9LFxuICAgICAgZmFsc2VcbiAgICApXG4gICAgYWN0aW9uLmV4ZWMoKVxuXG4gICAgaWYgKFxuICAgICAgc2VsZWN0aW9uLmxheW91dElkID09PSBjdXJyZW50TGF5b3V0SWQgJiZcbiAgICAgIHNlbGVjdGlvbi5sYXlvdXRJdGVtSWQgPT09IHNlbGVjdGVkTGF5b3V0SXRlbS5pZFxuICAgICkge1xuICAgICAgZGlzcGF0Y2goYXBwQWN0aW9ucy5zZWxlY3Rpb25DaGFuZ2VkKG51bGwpKVxuICAgIH1cbiAgICBjb25zdCBjb250ZW50ID0gYWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2N1cnJlbnRMYXlvdXRJZF0uY29udGVudFxuICAgIGNvbnN0IG5ld0l0ZW1LZXkgPSBPYmplY3Qua2V5cyhjb250ZW50KVtPYmplY3Qua2V5cyhjb250ZW50KS5sZW5ndGggLSAxXVxuICAgIGlmIChuZXdJdGVtS2V5KSB7XG4gICAgICBjb25zdCBuZXdJdGVtID0gY29udGVudFtuZXdJdGVtS2V5XVxuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFwcEFjdGlvbnMuc2VsZWN0aW9uQ2hhbmdlZCh7XG4gICAgICAgICAgbGF5b3V0SWQ6IGN1cnJlbnRMYXlvdXRJZCxcbiAgICAgICAgICBsYXlvdXRJdGVtSWQ6IG5ld0l0ZW0uaWRcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgZ2V0Q29weURyb3Bkb3duSXRlbXMgPSAoXG4gICAgc2hvd0JyZWFrOiBib29sZWFuXG4gICk6IHsgaXRlbXM6IEltbXV0YWJsZUFycmF5PE15RHJvcERvd25JdGVtPiwgdGl0bGU6IHN0cmluZyB9ID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjYXJkQ29uZmlncyxcbiAgICAgIGxheW91dHMsXG4gICAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgICBzZWxlY3Rpb24sXG4gICAgICBidWlsZGVyU3RhdHVzLFxuICAgICAgYnVpbGRlclN1cHBvcnRNb2R1bGVzXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBhY3Rpb24gPSBidWlsZGVyU3VwcG9ydE1vZHVsZXMuamltdUZvckJ1aWxkZXJMaWIuZ2V0QXBwQ29uZmlnQWN0aW9uKClcbiAgICBjb25zdCBhcHBDb25maWcgPSBhY3Rpb24uYXBwQ29uZmlnXG4gICAgY29uc3Qgc2VsZWN0ZWRMYXlvdXRJdGVtID0gc2VhcmNoVXRpbHMuZmluZExheW91dEl0ZW0oYXBwQ29uZmlnLCBzZWxlY3Rpb24pXG4gICAgaWYgKCFzZWxlY3Rpb24gfHwgIXNlbGVjdGVkTGF5b3V0SXRlbSB8fCAhd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBJbW11dGFibGUoW10pLFxuICAgICAgICB0aXRsZTogJydcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSBbXSBhcyBhbnlcbiAgICBsZXQgdGl0bGUgPSAnJ1xuICAgIGxldCBsaW5rZWRUb1JlZ3VsYXIgPSB0cnVlXG4gICAgbGV0IGxpbmtlZFRvU2VsZWN0ID1cbiAgICAgIGNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0uc2VsZWN0aW9uTW9kZSAhPT0gU2VsZWN0aW9uTW9kZVR5cGUuTm9uZVxuICAgIGxldCBsaW5rZWRUb0hvdmVyID0gISFjYXJkQ29uZmlnc1tTdGF0dXMuSG92ZXJdLmVuYWJsZVxuICAgIGNvbnN0IGlzV2lkZ2V0SW5MYXlvdXQgPSAobGF5b3V0SWQ6IHN0cmluZywgd2lkZ2V0SWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoVXRpbHMgPSBidWlsZGVyU3VwcG9ydE1vZHVsZXMud2lkZ2V0TW9kdWxlcy5zZWFyY2hVdGlsc1xuICAgICAgY29uc3Qgd2lkZ2V0cyA9IHNlYXJjaFV0aWxzLmdldENvbnRlbnRzSW5MYXlvdXRXaXRoTGF5b3V0V2lkZ2V0T25seShcbiAgICAgICAgYXBwQ29uZmlnLFxuICAgICAgICBsYXlvdXRJZCxcbiAgICAgICAgTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LFxuICAgICAgICBicm93c2VyU2l6ZU1vZGVcbiAgICAgIClcbiAgICAgIHJldHVybiB3aWRnZXRzLmluZGV4T2Yod2lkZ2V0SWQpID4gLTFcbiAgICB9XG4gICAgY29uc3QgaXNTaG93QXBwbHlUb0hvdmVyID0gY2FyZENvbmZpZ3NbU3RhdHVzLkhvdmVyXT8ubGlzdExheW91dCAhPT0gTGlzdExheW91dD8uQVVUT1xuICAgIGNvbnN0IGlzU2hvd0FwcGx5VG9TZWxlY3RlZCA9IGNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0/Lmxpc3RMYXlvdXQgIT09IExpc3RMYXlvdXQ/LkFVVE9cblxuICAgIGNvbnN0IHN5bmNUb0hvdmVyID0gKCkgPT4ge1xuICAgICAgaWYgKGNhcmRDb25maWdzW1N0YXR1cy5Ib3Zlcl0uZW5hYmxlKSB7XG4gICAgICAgIGNvbnN0IGxheW91dElkID0gc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgICAgIGxheW91dHNbU3RhdHVzLkhvdmVyXSxcbiAgICAgICAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgICAgICAgYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICAgICAgICApXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaXNXaWRnZXRJbkxheW91dChcbiAgICAgICAgICAgIGxheW91dElkLFxuICAgICAgICAgICAgYXBwQ29uZmlnLmxheW91dHNbc2VsZWN0aW9uLmxheW91dElkXS5jb250ZW50W1xuICAgICAgICAgICAgICBzZWxlY3Rpb24ubGF5b3V0SXRlbUlkXG4gICAgICAgICAgICBdLndpZGdldElkXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBsaW5rZWRUb0hvdmVyID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICBsYWJlbDogdGhpcy5mb3JtYXRNZXNzYWdlKCdhcHBseVRvJywge1xuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2hvdmVyJykudG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGV2ZW50OiBldnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb3B5VG8oXG4gICAgICAgICAgICAgIGV2dCxcbiAgICAgICAgICAgICAgU3RhdHVzLkhvdmVyLFxuICAgICAgICAgICAgICBzZWxlY3RlZExheW91dEl0ZW0sXG4gICAgICAgICAgICAgIGxpbmtlZFRvSG92ZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc3luY1RvU2VsZWN0ZWQgPSAoKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0uc2VsZWN0aW9uTW9kZSAhPT0gU2VsZWN0aW9uTW9kZVR5cGUuTm9uZVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGxheW91dElkID0gc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgICAgIGxheW91dHNbU3RhdHVzLlNlbGVjdGVkXSxcbiAgICAgICAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgICAgICAgYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICAgICAgICApXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaXNXaWRnZXRJbkxheW91dChcbiAgICAgICAgICAgIGxheW91dElkLFxuICAgICAgICAgICAgYXBwQ29uZmlnLmxheW91dHNbc2VsZWN0aW9uLmxheW91dElkXS5jb250ZW50W1xuICAgICAgICAgICAgICBzZWxlY3Rpb24ubGF5b3V0SXRlbUlkXG4gICAgICAgICAgICBdLndpZGdldElkXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBsaW5rZWRUb1NlbGVjdCA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IHRoaXMuZm9ybWF0TWVzc2FnZSgnYXBwbHlUbycsIHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5mb3JtYXRNZXNzYWdlKCdzZWxlY3RlZCcpLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBldmVudDogZXZ0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29weVRvKFxuICAgICAgICAgICAgICBldnQsXG4gICAgICAgICAgICAgIFN0YXR1cy5TZWxlY3RlZCxcbiAgICAgICAgICAgICAgc2VsZWN0ZWRMYXlvdXRJdGVtLFxuICAgICAgICAgICAgICBsaW5rZWRUb1NlbGVjdFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzeW5jVG9SZWd1bGFyID0gKCkgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0SWQgPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SWQoXG4gICAgICAgIGxheW91dHNbU3RhdHVzLlJlZ3VsYXJdLFxuICAgICAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgICAgIGFwcENvbmZpZy5tYWluU2l6ZU1vZGVcbiAgICAgIClcbiAgICAgIGlmIChcbiAgICAgICAgIWlzV2lkZ2V0SW5MYXlvdXQoXG4gICAgICAgICAgbGF5b3V0SWQsXG4gICAgICAgICAgYXBwQ29uZmlnLmxheW91dHNbc2VsZWN0aW9uLmxheW91dElkXS5jb250ZW50W3NlbGVjdGlvbi5sYXlvdXRJdGVtSWRdXG4gICAgICAgICAgICAud2lkZ2V0SWRcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGxpbmtlZFRvUmVndWxhciA9IGZhbHNlXG4gICAgICB9XG4gICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgbGFiZWw6IHRoaXMuZm9ybWF0TWVzc2FnZSgnYXBwbHlUbycsIHtcbiAgICAgICAgICBzdGF0dXM6IHRoaXMuZm9ybWF0TWVzc2FnZSgncmVndWxhcicpLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgfSksXG4gICAgICAgIGV2ZW50OiBldnQgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlQ29weVRvKFxuICAgICAgICAgICAgZXZ0LFxuICAgICAgICAgICAgU3RhdHVzLlJlZ3VsYXIsXG4gICAgICAgICAgICBzZWxlY3RlZExheW91dEl0ZW0sXG4gICAgICAgICAgICBsaW5rZWRUb1JlZ3VsYXJcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGJ1aWxkZXJTdGF0dXMgPT09IFN0YXR1cy5SZWd1bGFyKSB7XG4gICAgICBpc1Nob3dBcHBseVRvSG92ZXIgJiYgc3luY1RvSG92ZXIoKVxuICAgICAgaXNTaG93QXBwbHlUb1NlbGVjdGVkICYmIHN5bmNUb1NlbGVjdGVkKClcbiAgICAgIGlmIChsaW5rZWRUb0hvdmVyICYmIGxpbmtlZFRvU2VsZWN0KSB7XG4gICAgICAgIHRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsaW5rZWRUb0FuZCcsIHtcbiAgICAgICAgICB3aGVyZTE6IHRoaXMuZm9ybWF0TWVzc2FnZSgnc2VsZWN0ZWQnKS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgIHdoZXJlMjogdGhpcy5mb3JtYXRNZXNzYWdlKCdob3ZlcicpLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAobGlua2VkVG9Ib3Zlcikge1xuICAgICAgICB0aXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnbGlua2VkVG8nLCB7XG4gICAgICAgICAgd2hlcmU6IHRoaXMuZm9ybWF0TWVzc2FnZSgnaG92ZXInKS50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKGxpbmtlZFRvU2VsZWN0KSB7XG4gICAgICAgIHRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsaW5rZWRUbycsIHtcbiAgICAgICAgICB3aGVyZTogdGhpcy5mb3JtYXRNZXNzYWdlKCdzZWxlY3RlZCcpLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGJ1aWxkZXJTdGF0dXMgPT09IFN0YXR1cy5Ib3Zlcikge1xuICAgICAgc3luY1RvUmVndWxhcigpXG4gICAgICBzeW5jVG9TZWxlY3RlZCgpXG4gICAgICBpZiAobGlua2VkVG9SZWd1bGFyICYmIGxpbmtlZFRvU2VsZWN0KSB7XG4gICAgICAgIHRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsaW5rZWRUb0FuZCcsIHtcbiAgICAgICAgICB3aGVyZTE6IHRoaXMuZm9ybWF0TWVzc2FnZSgncmVndWxhcicpLnRvTG9jYWxlTG93ZXJDYXNlKCksXG4gICAgICAgICAgd2hlcmUyOiB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlbGVjdGVkJykudG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChsaW5rZWRUb1JlZ3VsYXIpIHtcbiAgICAgICAgdGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2xpbmtlZFRvJywge1xuICAgICAgICAgIHdoZXJlOiB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3JlZ3VsYXInKS50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKGxpbmtlZFRvU2VsZWN0KSB7XG4gICAgICAgIHRpdGxlID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsaW5rZWRUbycsIHtcbiAgICAgICAgICB3aGVyZTogdGhpcy5mb3JtYXRNZXNzYWdlKCdzZWxlY3RlZCcpLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3luY1RvUmVndWxhcigpXG4gICAgICBzeW5jVG9Ib3ZlcigpXG4gICAgICBpZiAobGlua2VkVG9SZWd1bGFyICYmIGxpbmtlZFRvSG92ZXIpIHtcbiAgICAgICAgdGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2xpbmtlZFRvQW5kJywge1xuICAgICAgICAgIHdoZXJlMTogdGhpcy5mb3JtYXRNZXNzYWdlKCdyZWd1bGFyJykudG9Mb2NhbGVMb3dlckNhc2UoKSxcbiAgICAgICAgICB3aGVyZTI6IHRoaXMuZm9ybWF0TWVzc2FnZSgnaG92ZXInKS50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKGxpbmtlZFRvUmVndWxhcikge1xuICAgICAgICB0aXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnbGlua2VkVG8nLCB7XG4gICAgICAgICAgd2hlcmU6IHRoaXMuZm9ybWF0TWVzc2FnZSgncmVndWxhcicpLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAobGlua2VkVG9Ib3Zlcikge1xuICAgICAgICB0aXRsZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnbGlua2VkVG8nLCB7XG4gICAgICAgICAgd2hlcmU6IHRoaXMuZm9ybWF0TWVzc2FnZSgnaG92ZXInKS50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaG93QnJlYWspIHtcbiAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICBsYWJlbDogdGhpcy5mb3JtYXRNZXNzYWdlKCdpc29sYXRlJyksXG4gICAgICAgIGV2ZW50OiB0aGlzLmhhbmRsZUJyZWFrTGlua1xuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGUgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2lzb2xhdGUnKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBpdGVtczogSW1tdXRhYmxlKGl0ZW1zKSxcbiAgICAgIHRpdGxlOiB0aXRsZVxuICAgIH1cbiAgfVxuXG4gIF9yZW5kZXJBY3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBbXVxuICAgIGNvbnN0IHsgdGhlbWUsIGxheW91dFR5cGUsIGtlZXBBc3BlY3RSYXRpbyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHNpZGVIYW5kbGUgPSBjc3NgXG4gICAgICBib3gtc2hhZG93OiBub25lO1xuXG4gICAgICAmOmFmdGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgd2lkdGg6ICR7Y29ybmVyU2l6ZX1weDtcbiAgICAgICAgaGVpZ2h0OiAke2Nvcm5lclNpemV9cHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs1MDBdfTtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIHotaW5kZXg6ICR7emluZGV4SGFuZGxlfTtcbiAgICAgIH1cbiAgICBgXG5cbiAgICBjb25zdCBib3R0b21TaWRlTGluZSA9IGNzc2BcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICBoZWlnaHQ6ICR7c2lkZVNpemV9cHg7XG4gICAgICBsZWZ0OiAwcHg7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgYm90dG9tOiAkey0xICogKHNpZGVTaXplIC8gMil9cHg7XG4gICAgICAmOmFmdGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgYm90dG9tOiA1MCU7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzMwMF19O1xuICAgICAgICB6LWluZGV4OiAke3ppbmRleEhhbmRsZX07XG4gICAgICB9XG4gICAgYFxuXG4gICAgY29uc3QgcmlnaHRTaWRlTGluZSA9IGNzc2BcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgICB3aWR0aDogJHtzaWRlU2l6ZX1weDtcbiAgICAgIHRvcDogMHB4O1xuICAgICAgYm90dG9tOiAwcHg7XG4gICAgICByaWdodDogJHstMSAqIChzaWRlU2l6ZSAvIDIpfXB4O1xuICAgICAgJjphZnRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgIHJpZ2h0OiA1MCU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICB3aWR0aDogMnB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbMzAwXX07XG4gICAgICAgIHotaW5kZXg6ICR7emluZGV4SGFuZGxlfTtcbiAgICAgIH1cbiAgICBgXG5cbiAgICBjb25zdCBoYW5kbGUgPSBjc3NgXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYFxuXG4gICAgY29uc3QgcmlnaHRTaWRlQ3Vyc29yID0gY3NzYFxuICAgICAgd2lkdGg6ICR7c2lkZVNpemV9cHg7XG4gICAgICB0b3A6ICR7LTEgKiBzaWRlUG9zaXRpb259cHg7XG4gICAgICBib3R0b206ICR7LTEgKiBzaWRlUG9zaXRpb259cHg7XG4gICAgICByaWdodDogJHstMSAqIChzaWRlU2l6ZSAvIDIpfXB4O1xuXG4gICAgICAmOmFmdGVyIHtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIHJpZ2h0OiA1MCU7XG4gICAgICAgIG1hcmdpbi10b3A6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICAgICAgfVxuICAgIGBcbiAgICBjb25zdCBib3R0b21TaWRlQ3Vyc29yID0gY3NzYFxuICAgICAgaGVpZ2h0OiAke3NpZGVTaXplfXB4O1xuICAgICAgbGVmdDogJHstMSAqIHNpZGVQb3NpdGlvbn1weDtcbiAgICAgIHJpZ2h0OiAkey0xICogc2lkZVBvc2l0aW9ufXB4O1xuICAgICAgYm90dG9tOiAkey0xICogKHNpZGVTaXplIC8gMil9cHg7XG5cbiAgICAgICY6YWZ0ZXIge1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIGJvdHRvbTogNTAlO1xuICAgICAgICBtYXJnaW4tbGVmdDogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICAgICAgfVxuICAgIGBcbiAgICBzd2l0Y2ggKGxheW91dFR5cGUpIHtcbiAgICAgIGNhc2UgTGlzdExheW91dFR5cGUuQ29sdW1uOlxuICAgICAgICBoYW5kbGVycy5wdXNoKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBrZXk9JzEwJ1xuICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LWNhcmQtcm5kLXJlc2l6ZS1sZWZ0LWxpbmUnXG4gICAgICAgICAgICBjc3M9e1toYW5kbGUsIHJpZ2h0U2lkZUxpbmVdfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAga2V5PSc0J1xuICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LWNhcmQtcm5kLXJlc2l6ZS1yaWdodCdcbiAgICAgICAgICAgIGNzcz17W2hhbmRsZSwgc2lkZUhhbmRsZSwgcmlnaHRTaWRlQ3Vyc29yXX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIExpc3RMYXlvdXRUeXBlLlJvdzpcbiAgICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAga2V5PSc5J1xuICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LWNhcmQtcm5kLXJlc2l6ZS1ib3R0b20tbGluZSdcbiAgICAgICAgICAgIGNzcz17W2hhbmRsZSwgYm90dG9tU2lkZUxpbmVdfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAga2V5PSc2J1xuICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LWNhcmQtcm5kLXJlc2l6ZS1ib3R0b20nXG4gICAgICAgICAgICBjc3M9e1toYW5kbGUsIHNpZGVIYW5kbGUsIGJvdHRvbVNpZGVDdXJzb3JdfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgTGlzdExheW91dFR5cGUuR1JJRDpcbiAgICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAga2V5PScxMCdcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nbGlzdC1jYXJkLXJuZC1yZXNpemUtbGVmdC1saW5lJ1xuICAgICAgICAgICAgY3NzPXtbaGFuZGxlLCByaWdodFNpZGVMaW5lXX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICAgIGhhbmRsZXJzLnB1c2goXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGtleT0nNCdcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nbGlzdC1jYXJkLXJuZC1yZXNpemUtcmlnaHQnXG4gICAgICAgICAgICBjc3M9e1toYW5kbGUsIHNpZGVIYW5kbGUsIHJpZ2h0U2lkZUN1cnNvcl19XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgICBpZiAoIWtlZXBBc3BlY3RSYXRpbykge1xuICAgICAgICAgIGhhbmRsZXJzLnB1c2goXG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBrZXk9JzknXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nbGlzdC1jYXJkLXJuZC1yZXNpemUtYm90dG9tLWxpbmUnXG4gICAgICAgICAgICAgIGNzcz17W2hhbmRsZSwgYm90dG9tU2lkZUxpbmVdfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGtleT0nNidcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LWNhcmQtcm5kLXJlc2l6ZS1ib3R0b20nXG4gICAgICAgICAgICAgIGNzcz17W2hhbmRsZSwgc2lkZUhhbmRsZSwgYm90dG9tU2lkZUN1cnNvcl19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlcnNcbiAgfVxuXG4gIGdldENhcmRUb29sc1N0eWxlID0gKHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSA9PiB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgLmJ0biB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgICAgLmRyb3Bkb3duLXRvZ2dsZSB7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIHJlbmRlckNhcmRUb29scyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluZGV4IH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgaXNJbkJ1aWxkZXIgPSB3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlclxuICAgIGlmICghaXNJbkJ1aWxkZXIgfHwgaW5kZXggPiAwKSByZXR1cm5cbiAgICBjb25zdCB7XG4gICAgICBjYXJkQ29uZmlncyxcbiAgICAgIGFwcE1vZGUsXG4gICAgICBidWlsZGVyU3VwcG9ydE1vZHVsZXMsXG4gICAgICBkYXRhc291cmNlSWQsXG4gICAgICBzZWxlY3Rpb25Jc0luTGlzdCxcbiAgICAgIHNlbGVjdGlvbklzTGlzdCxcbiAgICAgIGhpZGVDYXJkVG9vbFxuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBsZXQgc2hvd1Rvb2xzID0gdHJ1ZVxuICAgIGNvbnN0IHtcbiAgICAgIEJ1aWxkZXJQb3BwZXIsXG4gICAgICBHTE9CQUxfUkVTSVpJTkdfQ0xBU1NfTkFNRSxcbiAgICAgIEdMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FLFxuICAgICAgR0xPQkFMX0RSQUdHSU5HX0NMQVNTX05BTUVcbiAgICB9ID0gYnVpbGRlclN1cHBvcnRNb2R1bGVzLndpZGdldE1vZHVsZXNcblxuICAgIGNvbnN0IGlzSW5MaXN0ID0gc2VsZWN0aW9uSXNJbkxpc3RcbiAgICBjb25zdCBpc1NlbGYgPSBzZWxlY3Rpb25Jc0xpc3RcbiAgICBpZiAoXG4gICAgICAoIWlzSW5MaXN0ICYmICFpc1NlbGYpIHx8XG4gICAgICBhcHBNb2RlID09PSBBcHBNb2RlLlJ1biB8fFxuICAgICAgaGlkZUNhcmRUb29sIHx8XG4gICAgICAhZGF0YXNvdXJjZUlkXG4gICAgKSB7XG4gICAgICBzaG93VG9vbHMgPSBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICBzaG93VG9vbHMgJiZcbiAgICAgIHRoaXMucHJvcHMuaXNFZGl0aW5nICYmXG4gICAgICAoY2FyZENvbmZpZ3NbU3RhdHVzLkhvdmVyXS5lbmFibGUgfHxcbiAgICAgICAgY2FyZENvbmZpZ3NbU3RhdHVzLlNlbGVjdGVkXS5zZWxlY3Rpb25Nb2RlICE9PVxuICAgICAgICAgIFNlbGVjdGlvbk1vZGVUeXBlLk5vbmUpICYmIChcbiAgICAgICAgPEJ1aWxkZXJQb3BwZXJcbiAgICAgICAgICBwbGFjZW1lbnQ9J2xlZnQtc3RhcnQnXG4gICAgICAgICAgdHJhcEZvY3VzPXtmYWxzZX1cbiAgICAgICAgICBhdXRvRm9jdXM9e2ZhbHNlfVxuICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgLiR7R0xPQkFMX0RSQUdHSU5HX0NMQVNTX05BTUV9ICYsXG4gICAgICAgICAgICAuJHtHTE9CQUxfUkVTSVpJTkdfQ0xBU1NfTkFNRX0gJixcbiAgICAgICAgICAgIC4ke0dMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FfSAmIHtcbiAgICAgICAgICAgICAgJi5wb3BwZXIge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBgfVxuICAgICAgICAgIHJlZmVyZW5jZT17dGhpcy5yZXNpemVSZWYuY3VycmVudH1cbiAgICAgICAgICBvZmZzZXQ9e3N0YXRlc1BvcHBlck9mZnNldH1cbiAgICAgICAgICBtb2RpZmllcnM9e3N0YXRlc01vZGlmaWVyc31cbiAgICAgICAgICBvcGVuPXtzaG93VG9vbHN9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5nZXRDYXJkTWVudUVsZW1lbnQoKX1cbiAgICAgICAgPC9CdWlsZGVyUG9wcGVyPlxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIGdldENhcmRNZW51RWxlbWVudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluZGV4IH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgaXNJbkJ1aWxkZXIgPSB3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlclxuICAgIGlmICghaXNJbkJ1aWxkZXIgfHwgaW5kZXggPiAwKSByZXR1cm5cbiAgICBjb25zdCB7XG4gICAgICBjYXJkQ29uZmlncyxcbiAgICAgIHNlbGVjdGlvbixcbiAgICAgIHdpZGdldElkLFxuICAgICAgYnVpbGRlclN1cHBvcnRNb2R1bGVzLFxuICAgICAgYnJvd3NlclNpemVNb2RlLFxuICAgICAgYnVpbGRlclN0YXR1cyxcbiAgICAgIHNlbGVjdGlvbklzTGlzdFxuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBjb25zdCBhY3Rpb24gPSBidWlsZGVyU3VwcG9ydE1vZHVsZXMuamltdUZvckJ1aWxkZXJMaWIuZ2V0QXBwQ29uZmlnQWN0aW9uKClcbiAgICBjb25zdCBhcHBDb25maWcgPSBhY3Rpb24uYXBwQ29uZmlnXG5cbiAgICBjb25zdCB7XG4gICAgICBzZWFyY2hVdGlscyxcbiAgICAgIEJ1aWxkZXJEcm9wRG93bixcbiAgICAgIEJ1aWxkZXJCdXR0b24sXG4gICAgICB3aXRoQnVpbGRlclRoZW1lXG4gICAgfSA9IGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy53aWRnZXRNb2R1bGVzXG5cbiAgICBjb25zdCBpc1NlbGYgPSBzZWxlY3Rpb25Jc0xpc3RcblxuICAgIGNvbnN0IHNob3dCcmVhayA9XG4gICAgICAhaXNTZWxmICYmXG4gICAgICBzZWxlY3Rpb24gJiZcbiAgICAgIHNlYXJjaFV0aWxzICYmXG4gICAgICBzZWFyY2hVdGlscy5nZXRSZWxhdGVkTGF5b3V0SXRlbXNJbldpZGdldEJ5TGF5b3V0SW5mbyhcbiAgICAgICAgYXBwQ29uZmlnLFxuICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgIHdpZGdldElkLFxuICAgICAgICBicm93c2VyU2l6ZU1vZGVcbiAgICAgICkubGVuZ3RoID4gMVxuICAgIGNvbnN0IHsgaXRlbXM6IHN5bmNJdGVtcywgdGl0bGU6IHN5bmNUaXRsZSB9ID0gdGhpcy5nZXRDb3B5RHJvcGRvd25JdGVtcyhcbiAgICAgIHNob3dCcmVha1xuICAgIClcbiAgICBjb25zdCBzaG93U3luYyA9IHN5bmNJdGVtcyAmJiBzeW5jSXRlbXMubGVuZ3RoID4gMFxuICAgIGNvbnN0IGxpc3RMYXlvdXQgPSBjYXJkQ29uZmlnc1tidWlsZGVyU3RhdHVzXT8ubGlzdExheW91dCB8fCBMaXN0TGF5b3V0LkNVU1RPTVxuICAgIGNvbnN0IGlzU2hvd1N5bmNPckJyZWFrID0gc2hvd1N5bmMgfHwgc2hvd0JyZWFrXG4gICAgY29uc3QgaXNTaG93Q29weVBvcHBlciA9ICFpc1NlbGYgJiYgaXNTaG93U3luY09yQnJlYWsgJiYgbGlzdExheW91dCA9PT0gTGlzdExheW91dC5DVVNUT01cbiAgICBjb25zdCBDYXJkTWVudSA9IHdpdGhCdWlsZGVyVGhlbWUodGhlbWUgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT0nc3RhdHVzLWdyb3VwIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIgcC0yJ1xuICAgICAgICAgIGNzcz17dGhpcy5nZXRDYXJkVG9vbHNTdHlsZSh0aGVtZSl9XG4gICAgICAgID5cbiAgICAgICAgICA8QnVpbGRlckJ1dHRvblxuICAgICAgICAgICAgYWN0aXZlPXtidWlsZGVyU3RhdHVzID09PSBTdGF0dXMuUmVndWxhcn1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2V2dCA9PiB0aGlzLmhhbmRsZUJ1aWxkZXJTdGF0dXNDaGFuZ2UoZXZ0LCBTdGF0dXMuUmVndWxhcil9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgncmVndWxhcicpfVxuICAgICAgICAgIDwvQnVpbGRlckJ1dHRvbj5cbiAgICAgICAgICB7Y2FyZENvbmZpZ3NbU3RhdHVzLkhvdmVyXS5lbmFibGUgJiYgKFxuICAgICAgICAgICAgPEJ1aWxkZXJCdXR0b25cbiAgICAgICAgICAgICAgYWN0aXZlPXtidWlsZGVyU3RhdHVzID09PSBTdGF0dXMuSG92ZXJ9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0nbXQtMSdcbiAgICAgICAgICAgICAgb25DbGljaz17ZXZ0ID0+IHRoaXMuaGFuZGxlQnVpbGRlclN0YXR1c0NoYW5nZShldnQsIFN0YXR1cy5Ib3Zlcil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2hvdmVyJyl9XG4gICAgICAgICAgICA8L0J1aWxkZXJCdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7Y2FyZENvbmZpZ3NbU3RhdHVzLlNlbGVjdGVkXS5zZWxlY3Rpb25Nb2RlICE9PVxuICAgICAgICAgICAgU2VsZWN0aW9uTW9kZVR5cGUuTm9uZSAmJiAoXG4gICAgICAgICAgICA8QnVpbGRlckJ1dHRvblxuICAgICAgICAgICAgICBhY3RpdmU9e2J1aWxkZXJTdGF0dXMgPT09IFN0YXR1cy5TZWxlY3RlZH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtdC0xJ1xuICAgICAgICAgICAgICBvbkNsaWNrPXtldnQgPT4gdGhpcy5oYW5kbGVCdWlsZGVyU3RhdHVzQ2hhbmdlKGV2dCwgU3RhdHVzLlNlbGVjdGVkKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgnc2VsZWN0ZWQnKX1cbiAgICAgICAgICAgIDwvQnVpbGRlckJ1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtpc1Nob3dDb3B5UG9wcGVyICYmIChcbiAgICAgICAgICAgIDxCdWlsZGVyRHJvcERvd25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdtdC0xIHctMTAwJ1xuICAgICAgICAgICAgICB0b2dnbGVJc0ljb25cbiAgICAgICAgICAgICAgdG9nZ2xlVGl0bGU9e3N5bmNUaXRsZX1cbiAgICAgICAgICAgICAgdG9nZ2xlVHlwZT0nZGVmYXVsdCdcbiAgICAgICAgICAgICAgZGlyZWN0aW9uPSdsZWZ0J1xuICAgICAgICAgICAgICB0b2dnbGVDb250ZW50PXt0aGVtZSA9PiAoXG4gICAgICAgICAgICAgICAgc2hvd0JyZWFrID8gPFN5bmNPbk91dGxpbmVkIHNpemU9ezE2fS8+IDogPFN5bmNPZmZPdXRsaW5lZCBzaXplPXsxNn0vPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBtb2RpZmllcnM9e2FwcGx5UG9wcGVyTW9kaWZpZXJzfVxuICAgICAgICAgICAgICBpdGVtcz17c3luY0l0ZW1zfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9KVxuICAgIHJldHVybiAoPENhcmRNZW51Lz4pXG4gIH1cblxuICBpc0l0ZW1BY2NlcHQgPSAoXG4gICAgaXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgaXNQbGFjZWhvbGRlcjogYm9vbGVhblxuICApOiBib29sZWFuID0+IHtcbiAgICBpZiAoIWl0ZW0pIHJldHVybiBmYWxzZVxuICAgIGNvbnN0IHsgaXNFZGl0aW5nIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgc3VwcG9ydFJlcGVhdCA9IGl0ZW0ubWFuaWZlc3Q/LnByb3BlcnRpZXM/LnN1cHBvcnRSZXBlYXRcbiAgICAvLyBpZighc3VwcG9ydFJlcGVhdCAmJiBpdGVtLml0ZW1UeXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQgJiYgIWl0ZW0uaWQpey8vc3VwcG9ydCBwbGFjZWhvbGRlclxuICAgIC8vICAgc3VwcG9ydFJlcGVhdCA9IHRydWU7XG4gICAgLy8gfVxuICAgIGNvbnN0IHsgYnVpbGRlclN1cHBvcnRNb2R1bGVzLCB3aWRnZXRJZCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFjdGlvbiA9IGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5qaW11Rm9yQnVpbGRlckxpYi5nZXRBcHBDb25maWdBY3Rpb24oKVxuICAgIGNvbnN0IGFwcENvbmZpZyA9IGFjdGlvbi5hcHBDb25maWdcbiAgICBjb25zdCBzZWxlY3Rpb25Jbkxpc3QgPSBidWlsZGVyU3VwcG9ydE1vZHVsZXMud2lkZ2V0TW9kdWxlcy5zZWxlY3Rpb25Jbkxpc3RcbiAgICByZXR1cm4gKFxuICAgICAgaXNFZGl0aW5nICYmXG4gICAgICBzdXBwb3J0UmVwZWF0ICYmXG4gICAgICAoIWl0ZW0ubGF5b3V0SW5mbyB8fFxuICAgICAgICAoaXRlbS5sYXlvdXRJbmZvICYmXG4gICAgICAgICAgc2VsZWN0aW9uSW5MaXN0KGl0ZW0ubGF5b3V0SW5mbywgd2lkZ2V0SWQsIGFwcENvbmZpZywgZmFsc2UpKSlcbiAgICApXG4gIH1cblxuICBnZXRFZGl0b3JTdHlsZSA9ICgpID0+IHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgJi5saXN0LWNhcmQtY29udGVudCB7XG4gICAgICAgIC5maXhlZC1sYXlvdXQge1xuICAgICAgICAgIGJvcmRlcjogMCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7XG4gICAgICBzZWxlY3RhYmxlLFxuICAgICAgYWN0aXZlLFxuICAgICAgY2FyZENvbmZpZ3MsXG4gICAgICBMYXlvdXRFbnRyeSxcbiAgICAgIHNlbGVjdGlvbklzSW5MaXN0LFxuICAgICAgaXNFZGl0aW5nLFxuICAgICAgd2lkZ2V0SWQsXG4gICAgICBsaXN0U3R5bGUsXG4gICAgICBsb2NrSXRlbVJhdGlvLFxuICAgICAgYnVpbGRlclN0YXR1cyxcbiAgICAgIGxheW91dHMsXG4gICAgICBsYXlvdXRUeXBlXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGRpZE1vdW50IH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgbGF5b3V0ID0gbGF5b3V0c1tidWlsZGVyU3RhdHVzXVxuICAgIGNvbnN0IGxpc3RMYXlvdXQgPSBjYXJkQ29uZmlnc1tidWlsZGVyU3RhdHVzXT8ubGlzdExheW91dCB8fCBMaXN0TGF5b3V0LkNVU1RPTVxuICAgIGNvbnN0IHJlZ3VsYXJMYXlvdXQgPSBsYXlvdXRzW1N0YXR1cy5SZWd1bGFyXVxuICAgIGNvbnN0IHNob3dMYXlvdXQgPSBsaXN0TGF5b3V0ID09PSBMaXN0TGF5b3V0LkFVVE8gPyByZWd1bGFyTGF5b3V0IDogbGF5b3V0XG4gICAgY29uc3QgYmdTdHlsZSA9IGNhcmRDb25maWdzW2J1aWxkZXJTdGF0dXNdLmJhY2tncm91bmRTdHlsZVxuICAgIGNvbnN0IGlzU2hvd01hc2sgPSBsaXN0TGF5b3V0ID09PSBMaXN0TGF5b3V0LkFVVE8gJiYgYnVpbGRlclN0YXR1cyAhPT0gU3RhdHVzLlJlZ3VsYXJcbiAgICBjb25zdCBtZXJnZWRTdHlsZTogYW55ID0ge1xuICAgICAgLi4uc3R5bGVVdGlscy50b0NTU1N0eWxlKGJnU3R5bGUgfHwgKHt9IGFzIGFueSkpXG4gICAgfVxuICAgIGNvbnN0IGNhcmRDb250ZW50U3R5bGU6IGFueSA9IHtcbiAgICAgIC4uLnN0eWxlVXRpbHMudG9DU1NTdHlsZShcbiAgICAgICAge1xuICAgICAgICAgIGJvcmRlclJhZGl1czogYmdTdHlsZT8uYm9yZGVyUmFkaXVzIHx8IDBcbiAgICAgICAgfSB8fCAoe30gYXMgYW55KVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG5ld1Byb3ZpZGVyRGF0YSA9IHRoaXMuZ2V0TmV3UHJvdmlkZXJEYXRhKClcbiAgICBpZiAoIXRoaXMuaXNQcm92aWRlckVxdWFsKG5ld1Byb3ZpZGVyRGF0YSwgdGhpcy5wcm92aWRlckRhdGEpKSB7XG4gICAgICB0aGlzLnByb3ZpZGVyRGF0YSA9IG5ld1Byb3ZpZGVyRGF0YVxuICAgIH1cbiAgICBjb25zdCBpc0xvY2tJdGVtUmF0aW8gPSBsYXlvdXRUeXBlICE9PSBMaXN0TGF5b3V0VHlwZS5HUklEICYmIGxvY2tJdGVtUmF0aW9cbiAgICByZXR1cm4gKFxuICAgICAgPFJlcGVhdGVkRGF0YVNvdXJjZVByb3ZpZGVyIGRhdGE9e3RoaXMucHJvdmlkZXJEYXRhfT5cbiAgICAgICAgPExpc3RHcm91cEl0ZW1cbiAgICAgICAgICBhY3RpdmU9e3NlbGVjdGFibGUgJiYgYWN0aXZlfVxuICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZShidWlsZGVyU3RhdHVzKX1cbiAgICAgICAgICBzdHlsZT17eyAuLi5jYXJkQ29udGVudFN0eWxlLCAuLi5saXN0U3R5bGUgfX1cbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3N1cmZhY2UtMScsIGBsaXN0LWNhcmQtJHt3aWRnZXRJZH1gKX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUl0ZW1DbGlja31cbiAgICAgICAgICByb2xlPSdsaXN0Q2FyZEVkaXRvcidcbiAgICAgICAgPlxuICAgICAgICAgIHtpc1Nob3dNYXNrICYmIDxkaXYgY2xhc3NOYW1lPSdjYXJkLWVkaXRvci1tYXNrIHBvc2l0aW9uLWFic29sdXRlJz48L2Rpdj59XG4gICAgICAgICAge2RpZE1vdW50ICYmIHRoaXMucmVuZGVyQ2FyZFRvb2xzKCl9XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LWNhcmQtY29udGVudCBkLWZsZXgnXG4gICAgICAgICAgICBzdHlsZT17bWVyZ2VkU3R5bGV9XG4gICAgICAgICAgICBjc3M9e3RoaXMuZ2V0RWRpdG9yU3R5bGUoKX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5yZXNpemVSZWZ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExheW91dEVudHJ5XG4gICAgICAgICAgICAgIGlzSXRlbUFjY2VwdGVkPXt0aGlzLmlzSXRlbUFjY2VwdH1cbiAgICAgICAgICAgICAgaXNSZXBlYXRcbiAgICAgICAgICAgICAgbGF5b3V0cz17c2hvd0xheW91dH1cbiAgICAgICAgICAgICAgaXNJbldpZGdldFxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtpc0VkaXRpbmcgJiZcbiAgICAgICAgICAgICAgIXNlbGVjdGlvbklzSW5MaXN0ICYmXG4gICAgICAgICAgICAgICFpc0xvY2tJdGVtUmF0aW8gJiZcbiAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyQWN0aW9uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTGlzdEdyb3VwSXRlbT5cbiAgICAgIDwvUmVwZWF0ZWREYXRhU291cmNlUHJvdmlkZXI+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXguY29ubmVjdDxFeHRyYVByb3BzLCB1bmtub3duLCBMaXN0Q2FyZEVkaXRvclByb3BzPihcbiAgKHN0YXRlOiBJTVN0YXRlLCBwcm9wczogTGlzdENhcmRFZGl0b3JQcm9wcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNlbGVjdGlvbklzTGlzdCxcbiAgICAgIGJ1aWxkZXJTdXBwb3J0TW9kdWxlcyxcbiAgICAgIGFwcE1vZGUsXG4gICAgICB3aWRnZXRJZCxcbiAgICAgIGJyb3dzZXJTaXplTW9kZVxuICAgIH0gPSBwcm9wc1xuICAgIGlmICghd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgfHwgYXBwTW9kZSA9PT0gQXBwTW9kZS5SdW4pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlbGVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBzaG93QnJlYWs6IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNlYXJjaFV0aWxzID0gYnVpbGRlclN1cHBvcnRNb2R1bGVzPy53aWRnZXRNb2R1bGVzPy5zZWFyY2hVdGlsc1xuICAgIGNvbnN0IGFjdGlvbiA9IGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5qaW11Rm9yQnVpbGRlckxpYi5nZXRBcHBDb25maWdBY3Rpb24oKVxuICAgIGNvbnN0IGFwcENvbmZpZyA9IGFjdGlvbi5hcHBDb25maWdcbiAgICBjb25zdCBzZWxlY3Rpb24gPVxuICAgICAgcHJvcHMuaW5kZXggPT09IDAgJiZcbiAgICAgIHByb3BzLnNlbGVjdGlvbklzSW5MaXN0ICYmXG4gICAgICBzdGF0ZSAmJlxuICAgICAgc3RhdGUuYXBwUnVudGltZUluZm8gJiZcbiAgICAgIHN0YXRlLmFwcFJ1bnRpbWVJbmZvLnNlbGVjdGlvblxuICAgIGNvbnN0IHNob3dCcmVhayA9XG4gICAgICAhc2VsZWN0aW9uSXNMaXN0ICYmXG4gICAgICBzZWxlY3Rpb24gJiZcbiAgICAgIHNlYXJjaFV0aWxzICYmXG4gICAgICBzZWFyY2hVdGlscy5nZXRSZWxhdGVkTGF5b3V0SXRlbXNJbldpZGdldEJ5TGF5b3V0SW5mbyhcbiAgICAgICAgYXBwQ29uZmlnLFxuICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgIHdpZGdldElkLFxuICAgICAgICBicm93c2VyU2l6ZU1vZGVcbiAgICAgICkubGVuZ3RoID4gMVxuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3Rpb24sXG4gICAgICBzaG93QnJlYWtcbiAgICB9XG4gIH1cbikoX0xpc3RDYXJkRWRpdG9yKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/list-card-editor.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/list-card-viewer.tsx":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/list-card-viewer.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ListCardViewer)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ \"./extensions/widgets/common/list/src/config.ts\");\n/* harmony import */ var _list_card_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./list-card-base */ \"./extensions/widgets/common/list/src/runtime/components/list-card-base.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"react\");\n/** @jsx jsx */\n\n\n\n\n\n\nclass ListCardViewer extends _list_card_base__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n    constructor(props) {\n        super(props);\n        this.updateExpressionRecords = () => {\n            var _a, _b;\n            this.expressionRecords = {};\n            if (((_a = this.providerData) === null || _a === void 0 ? void 0 : _a.dataSourceId) && ((_b = this.providerData) === null || _b === void 0 ? void 0 : _b.record)) {\n                this.expressionRecords[this.providerData.dataSourceId] = this.providerData.record;\n            }\n        };\n        this.onUrlExpResolveChange = result => {\n            if (result.isSuccessful) {\n                this.setState({ url: result.value });\n            }\n            else {\n                const res = '';\n                // const errorCode = result.value\n                // if (errorCode === ExpressionResolverErrorCode.Failed) {\n                // }\n                this.setState({ url: res });\n            }\n        };\n        // componentDidUpdate(preProps, preState){\n        //   Object.keys(this.props).forEach(key => {\n        //     if(this.props[key] !== preProps[key])\n        //       console.log(`props has changed: ${key}`)\n        //   })\n        // }\n        this.handleItemClick = evt => {\n            const { onChange, active } = this.props;\n            const { providerData, linkRef } = this;\n            const tagName = (evt.target && evt.target.tagName) || '';\n            if (!(tagName.toLowerCase() === 'a' ||\n                tagName.toLowerCase() === 'button' ||\n                evt.exbEventType === 'linkClick') &&\n                !active) {\n                if (linkRef.current) {\n                    // Must stopPropagation from link click, or this method will be called twice.\n                    linkRef.current.click();\n                }\n            }\n            // if click sub widget event, don't un select\n            if (active) {\n                const tagName = (evt.target && evt.target.tagName) || '';\n                if (!(tagName.toLowerCase() === 'a' ||\n                    tagName.toLowerCase() === 'button' ||\n                    evt.exbEventType === 'linkClick')) {\n                    onChange(providerData && providerData.record);\n                }\n            }\n            else {\n                onChange(providerData && providerData.record);\n            }\n            if (evt.exbEventType === 'linkClick') {\n                delete evt.exbEventType;\n            }\n        };\n        this.handleLinkClick = evt => {\n            evt.stopPropagation();\n        };\n        this.state = {\n            url: ''\n        };\n        this.providerData = this.getNewProviderData();\n        this.updateExpressionRecords();\n        this.layoutRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n        this.linkRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n    }\n    shouldComponentUpdate(nextProps, nextStats) {\n        let shouldUpdate = this.shouldComponentUpdateExcept(nextProps, nextStats, [\n            'listStyle'\n        ]);\n        shouldUpdate =\n            shouldUpdate ||\n                !jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isDeepEqual(this.props.listStyle, nextProps.listStyle);\n        return shouldUpdate;\n    }\n    render() {\n        var _a;\n        const { selectable, active, cardConfigs, widgetId, listStyle, layouts, hoverLayoutOpen, appMode, isHover, linkParam, useDataSources, itemIdex, handleListMouseLeave, handleListMouseMove } = this.props;\n        let { queryObject } = this.props;\n        const { url } = this.state;\n        let currentStatus = _config__WEBPACK_IMPORTED_MODULE_3__.Status.Regular;\n        const isInBuilder = window.jimuConfig.isInBuilder;\n        let layout;\n        let bgStyle;\n        let target;\n        let linkTo;\n        if (isInBuilder && appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run) {\n            bgStyle = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Regular].backgroundStyle;\n            layout = layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Regular];\n        }\n        else {\n            layout = layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Regular];\n            bgStyle = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Regular].backgroundStyle;\n            if (linkParam && linkParam.linkType) {\n                target = linkParam.openType;\n                linkTo = {\n                    linkType: linkParam.linkType\n                };\n                if (linkParam.linkType === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LinkType.WebAddress) {\n                    linkTo.value = url;\n                    queryObject = undefined;\n                }\n                else {\n                    linkTo.value = linkParam.value;\n                }\n            }\n            if (hoverLayoutOpen && isHover && layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Hover]) {\n                currentStatus = _config__WEBPACK_IMPORTED_MODULE_3__.Status.Hover;\n                layout = layouts === null || layouts === void 0 ? void 0 : layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Hover];\n                bgStyle = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Hover].backgroundStyle;\n            }\n            if (selectable && active && layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Selected]) {\n                currentStatus = _config__WEBPACK_IMPORTED_MODULE_3__.Status.Selected;\n                layout = layouts === null || layouts === void 0 ? void 0 : layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Selected];\n                bgStyle = cardConfigs[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Selected].backgroundStyle;\n                queryObject = undefined;\n                linkTo = undefined;\n                target = undefined;\n            }\n        }\n        const currentLayoutType = ((_a = cardConfigs[currentStatus]) === null || _a === void 0 ? void 0 : _a.listLayout) || _config__WEBPACK_IMPORTED_MODULE_3__.ListLayout.CUSTOM;\n        const regularLayout = layouts[_config__WEBPACK_IMPORTED_MODULE_3__.Status.Regular];\n        const showLayout = currentLayoutType === _config__WEBPACK_IMPORTED_MODULE_3__.ListLayout.AUTO ? regularLayout : layout;\n        const mergedStyle = Object.assign({}, jimu_ui__WEBPACK_IMPORTED_MODULE_1__.styleUtils.toCSSStyle(bgStyle || {}));\n        const cardContentStyle = Object.assign({}, jimu_ui__WEBPACK_IMPORTED_MODULE_1__.styleUtils.toCSSStyle({\n            borderRadius: (bgStyle === null || bgStyle === void 0 ? void 0 : bgStyle.borderRadius) || 0\n        } || {}));\n        const newProviderData = this.getNewProviderData();\n        if (!this.isProviderEqual(newProviderData, this.providerData)) {\n            this.providerData = newProviderData;\n            this.updateExpressionRecords();\n        }\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.RepeatedDataSourceProvider, { data: this.providerData },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ListGroupItem, { active: selectable && active, css: this.getStyle(currentStatus), style: Object.assign(Object.assign({}, listStyle), cardContentStyle), className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('surface-1', `list-card-${widgetId}`), role: 'listCardViewer', onClick: this.handleItemClick },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'list-card-content d-flex', onMouseLeave: handleListMouseLeave, onMouseMove: () => { handleListMouseMove(itemIdex); }, style: mergedStyle },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'position-relative h-100 w-100' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_5__.Fragment, null,\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__._Link, { className: 'p-0 w-100 h-100 border-0 list-clear-background list-link', ref: this.linkRef, to: linkTo, target: target, queryObject: queryObject, onClick: this.handleLinkClick }),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex w-100 h-100 list-item-con', ref: this.layoutRef },\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__.LayoutEntry, { layouts: showLayout }))))),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExpressionResolverComponent, { useDataSources: useDataSources, expression: linkParam === null || linkParam === void 0 ? void 0 : linkParam.expression, \n                    /* records={this.expressionRecords}  */ onChange: this.onUrlExpResolveChange, widgetId: this.props.widgetId }))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9saXN0LWNhcmQtdmlld2VyLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBZ0JBO0FBT0E7QUFDQTtBQVlBOztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBMUZBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0RBOztBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFRQTtBQUtBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFLQTtBQUdBO0FBUUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9saXN0LWNhcmQtdmlld2VyLnRzeD9hNTlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVwZWF0ZWREYXRhU291cmNlUHJvdmlkZXIsXG4gIGpzeCxcbiAgQXBwTW9kZSxcbiAgUmVhY3QsXG4gIEV4cHJlc3Npb25SZXNvbHZlckNvbXBvbmVudCxcbiAgRGF0YVJlY29yZCxcbiAgSW1tdXRhYmxlQXJyYXksXG4gIFVzZURhdGFTb3VyY2UsXG4gIExpbmtUbyxcbiAgTGlua1Jlc3VsdCxcbiAgTGlua1R5cGUsXG4gIEltbXV0YWJsZU9iamVjdCxcbiAgVXJsUGFyYW1ldGVycyxcbiAgdXRpbHMsXG4gIGNsYXNzTmFtZXNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgTGlzdEdyb3VwSXRlbSwgc3R5bGVVdGlscywgX0xpbmsgYXMgTGluaywgTGlua1RhcmdldCB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBMYXlvdXRFbnRyeSB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcbmltcG9ydCB7IFN0YXR1cywgTGlzdExheW91dCB9IGZyb20gJy4uLy4uL2NvbmZpZydcbmltcG9ydCBMaXN0Q2FyZCwgeyBMaXN0Q2FyZFByb3BzLCBMaXN0Q2FyZFN0YXRlcyB9IGZyb20gJy4vbGlzdC1jYXJkLWJhc2UnXG5pbXBvcnQgeyBJTUxpbmtQYXJhbSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJ1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIExpc3RDYXJkVmlld2VyUHJvcHMgZXh0ZW5kcyBMaXN0Q2FyZFByb3BzIHtcbiAgdXNlRGF0YVNvdXJjZXM6IEltbXV0YWJsZUFycmF5PFVzZURhdGFTb3VyY2U+XG4gIHdpZGdldElkOiBzdHJpbmdcbiAgLyoqXG4gICAqIG9uZSBvciBtb3JlIGV4cHJlc3Npb25zXG4gICAqL1xuICBsaW5rUGFyYW06IElNTGlua1BhcmFtXG4gIHF1ZXJ5T2JqZWN0OiBJbW11dGFibGVPYmplY3Q8VXJsUGFyYW1ldGVycz5cbn1cblxuaW50ZXJmYWNlIExpc3RDYXJkVmlld2VyU3RhdGVzIGV4dGVuZHMgTGlzdENhcmRTdGF0ZXMge1xuICB1cmw6IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0Q2FyZFZpZXdlciBleHRlbmRzIExpc3RDYXJkPFxuTGlzdENhcmRWaWV3ZXJQcm9wcyxcbkxpc3RDYXJkVmlld2VyU3RhdGVzXG4+IHtcbiAgbGF5b3V0UmVmOiBhbnlcbiAgbGlua1JlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxCdXR0b25FbGVtZW50PlxuICBleHByZXNzaW9uUmVjb3JkczogeyBba2V5OiBzdHJpbmddOiBEYXRhUmVjb3JkIH1cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXJsOiAnJ1xuICAgIH1cblxuICAgIHRoaXMucHJvdmlkZXJEYXRhID0gdGhpcy5nZXROZXdQcm92aWRlckRhdGEoKVxuICAgIHRoaXMudXBkYXRlRXhwcmVzc2lvblJlY29yZHMoKVxuICAgIHRoaXMubGF5b3V0UmVmID0gUmVhY3QuY3JlYXRlUmVmKClcbiAgICB0aGlzLmxpbmtSZWYgPSBSZWFjdC5jcmVhdGVSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KClcbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgdXBkYXRlRXhwcmVzc2lvblJlY29yZHMgPSAoKSA9PiB7XG4gICAgdGhpcy5leHByZXNzaW9uUmVjb3JkcyA9IHt9XG4gICAgaWYgKHRoaXMucHJvdmlkZXJEYXRhPy5kYXRhU291cmNlSWQgJiYgdGhpcy5wcm92aWRlckRhdGE/LnJlY29yZCkge1xuICAgICAgdGhpcy5leHByZXNzaW9uUmVjb3Jkc1tcbiAgICAgICAgdGhpcy5wcm92aWRlckRhdGEuZGF0YVNvdXJjZUlkXG4gICAgICBdID0gdGhpcy5wcm92aWRlckRhdGEucmVjb3JkXG4gICAgfVxuICB9XG5cbiAgb25VcmxFeHBSZXNvbHZlQ2hhbmdlID0gcmVzdWx0ID0+IHtcbiAgICBpZiAocmVzdWx0LmlzU3VjY2Vzc2Z1bCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogcmVzdWx0LnZhbHVlIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlczogc3RyaW5nID0gJydcbiAgICAgIC8vIGNvbnN0IGVycm9yQ29kZSA9IHJlc3VsdC52YWx1ZVxuICAgICAgLy8gaWYgKGVycm9yQ29kZSA9PT0gRXhwcmVzc2lvblJlc29sdmVyRXJyb3JDb2RlLkZhaWxlZCkge1xuICAgICAgLy8gfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHsgdXJsOiByZXMgfSlcbiAgICB9XG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUgKG5leHRQcm9wcywgbmV4dFN0YXRzKSB7XG4gICAgbGV0IHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlRXhjZXB0KG5leHRQcm9wcywgbmV4dFN0YXRzLCBbXG4gICAgICAnbGlzdFN0eWxlJ1xuICAgIF0pXG4gICAgc2hvdWxkVXBkYXRlID1cbiAgICAgIHNob3VsZFVwZGF0ZSB8fFxuICAgICAgIXV0aWxzLmlzRGVlcEVxdWFsKHRoaXMucHJvcHMubGlzdFN0eWxlLCBuZXh0UHJvcHMubGlzdFN0eWxlKVxuICAgIHJldHVybiBzaG91bGRVcGRhdGVcbiAgfVxuXG4gIC8vIGNvbXBvbmVudERpZFVwZGF0ZShwcmVQcm9wcywgcHJlU3RhdGUpe1xuICAvLyAgIE9iamVjdC5rZXlzKHRoaXMucHJvcHMpLmZvckVhY2goa2V5ID0+IHtcbiAgLy8gICAgIGlmKHRoaXMucHJvcHNba2V5XSAhPT0gcHJlUHJvcHNba2V5XSlcbiAgLy8gICAgICAgY29uc29sZS5sb2coYHByb3BzIGhhcyBjaGFuZ2VkOiAke2tleX1gKVxuICAvLyAgIH0pXG4gIC8vIH1cblxuICBoYW5kbGVJdGVtQ2xpY2sgPSBldnQgPT4ge1xuICAgIGNvbnN0IHsgb25DaGFuZ2UsIGFjdGl2ZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgcHJvdmlkZXJEYXRhLCBsaW5rUmVmIH0gPSB0aGlzXG5cbiAgICBjb25zdCB0YWdOYW1lID0gKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC50YWdOYW1lKSB8fCAnJ1xuICAgIGlmIChcbiAgICAgICEoXG4gICAgICAgIHRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnIHx8XG4gICAgICAgIHRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2J1dHRvbicgfHxcbiAgICAgICAgZXZ0LmV4YkV2ZW50VHlwZSA9PT0gJ2xpbmtDbGljaydcbiAgICAgICkgJiZcbiAgICAgICFhY3RpdmVcbiAgICApIHtcbiAgICAgIGlmIChsaW5rUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gTXVzdCBzdG9wUHJvcGFnYXRpb24gZnJvbSBsaW5rIGNsaWNrLCBvciB0aGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB0d2ljZS5cbiAgICAgICAgbGlua1JlZi5jdXJyZW50LmNsaWNrKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBjbGljayBzdWIgd2lkZ2V0IGV2ZW50LCBkb24ndCB1biBzZWxlY3RcbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICBjb25zdCB0YWdOYW1lID0gKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC50YWdOYW1lKSB8fCAnJ1xuICAgICAgaWYgKFxuICAgICAgICAhKFxuICAgICAgICAgIHRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnIHx8XG4gICAgICAgICAgdGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYnV0dG9uJyB8fFxuICAgICAgICAgIGV2dC5leGJFdmVudFR5cGUgPT09ICdsaW5rQ2xpY2snXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBvbkNoYW5nZShwcm92aWRlckRhdGEgJiYgcHJvdmlkZXJEYXRhLnJlY29yZClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb25DaGFuZ2UocHJvdmlkZXJEYXRhICYmIHByb3ZpZGVyRGF0YS5yZWNvcmQpXG4gICAgfVxuICAgIGlmIChldnQuZXhiRXZlbnRUeXBlID09PSAnbGlua0NsaWNrJykge1xuICAgICAgZGVsZXRlIGV2dC5leGJFdmVudFR5cGVcbiAgICB9XG4gIH1cblxuICBoYW5kbGVMaW5rQ2xpY2sgPSBldnQgPT4ge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7XG4gICAgICBzZWxlY3RhYmxlLFxuICAgICAgYWN0aXZlLFxuICAgICAgY2FyZENvbmZpZ3MsXG4gICAgICB3aWRnZXRJZCxcbiAgICAgIGxpc3RTdHlsZSxcbiAgICAgIGxheW91dHMsXG4gICAgICBob3ZlckxheW91dE9wZW4sXG4gICAgICBhcHBNb2RlLFxuICAgICAgaXNIb3ZlcixcbiAgICAgIGxpbmtQYXJhbSxcbiAgICAgIHVzZURhdGFTb3VyY2VzLFxuICAgICAgaXRlbUlkZXgsXG4gICAgICBoYW5kbGVMaXN0TW91c2VMZWF2ZSxcbiAgICAgIGhhbmRsZUxpc3RNb3VzZU1vdmVcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGxldCB7IHF1ZXJ5T2JqZWN0IH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyB1cmwgfSA9IHRoaXMuc3RhdGVcbiAgICBsZXQgY3VycmVudFN0YXR1czogU3RhdHVzID0gU3RhdHVzLlJlZ3VsYXJcbiAgICBjb25zdCBpc0luQnVpbGRlciA9IHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyXG4gICAgbGV0IGxheW91dFxuICAgIGxldCBiZ1N0eWxlXG4gICAgbGV0IHRhcmdldDogTGlua1RhcmdldFxuICAgIGxldCBsaW5rVG86IExpbmtUb1xuICAgIGlmIChpc0luQnVpbGRlciAmJiBhcHBNb2RlICE9PSBBcHBNb2RlLlJ1bikge1xuICAgICAgYmdTdHlsZSA9IGNhcmRDb25maWdzW1N0YXR1cy5SZWd1bGFyXS5iYWNrZ3JvdW5kU3R5bGVcbiAgICAgIGxheW91dCA9IGxheW91dHNbU3RhdHVzLlJlZ3VsYXJdXG4gICAgfSBlbHNlIHtcbiAgICAgIGxheW91dCA9IGxheW91dHNbU3RhdHVzLlJlZ3VsYXJdXG4gICAgICBiZ1N0eWxlID0gY2FyZENvbmZpZ3NbU3RhdHVzLlJlZ3VsYXJdLmJhY2tncm91bmRTdHlsZVxuICAgICAgaWYgKGxpbmtQYXJhbSAmJiBsaW5rUGFyYW0ubGlua1R5cGUpIHtcbiAgICAgICAgdGFyZ2V0ID0gbGlua1BhcmFtLm9wZW5UeXBlXG4gICAgICAgIGxpbmtUbyA9IHtcbiAgICAgICAgICBsaW5rVHlwZTogbGlua1BhcmFtLmxpbmtUeXBlXG4gICAgICAgIH0gYXMgTGlua1Jlc3VsdFxuXG4gICAgICAgIGlmIChsaW5rUGFyYW0ubGlua1R5cGUgPT09IExpbmtUeXBlLldlYkFkZHJlc3MpIHtcbiAgICAgICAgICBsaW5rVG8udmFsdWUgPSB1cmxcbiAgICAgICAgICBxdWVyeU9iamVjdCA9IHVuZGVmaW5lZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmtUby52YWx1ZSA9IGxpbmtQYXJhbS52YWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaG92ZXJMYXlvdXRPcGVuICYmIGlzSG92ZXIgJiYgbGF5b3V0c1tTdGF0dXMuSG92ZXJdKSB7XG4gICAgICAgIGN1cnJlbnRTdGF0dXMgPSBTdGF0dXMuSG92ZXJcbiAgICAgICAgbGF5b3V0ID0gbGF5b3V0cz8uW1N0YXR1cy5Ib3Zlcl1cbiAgICAgICAgYmdTdHlsZSA9IGNhcmRDb25maWdzW1N0YXR1cy5Ib3Zlcl0uYmFja2dyb3VuZFN0eWxlXG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0YWJsZSAmJiBhY3RpdmUgJiYgbGF5b3V0c1tTdGF0dXMuU2VsZWN0ZWRdKSB7XG4gICAgICAgIGN1cnJlbnRTdGF0dXMgPSBTdGF0dXMuU2VsZWN0ZWRcbiAgICAgICAgbGF5b3V0ID0gbGF5b3V0cz8uW1N0YXR1cy5TZWxlY3RlZF1cbiAgICAgICAgYmdTdHlsZSA9IGNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0uYmFja2dyb3VuZFN0eWxlXG4gICAgICAgIHF1ZXJ5T2JqZWN0ID0gdW5kZWZpbmVkXG4gICAgICAgIGxpbmtUbyA9IHVuZGVmaW5lZFxuICAgICAgICB0YXJnZXQgPSB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3VycmVudExheW91dFR5cGUgPSBjYXJkQ29uZmlnc1tjdXJyZW50U3RhdHVzXT8ubGlzdExheW91dCB8fCBMaXN0TGF5b3V0LkNVU1RPTVxuICAgIGNvbnN0IHJlZ3VsYXJMYXlvdXQgPSBsYXlvdXRzW1N0YXR1cy5SZWd1bGFyXVxuICAgIGNvbnN0IHNob3dMYXlvdXQgPSBjdXJyZW50TGF5b3V0VHlwZSA9PT0gTGlzdExheW91dC5BVVRPID8gcmVndWxhckxheW91dCA6IGxheW91dFxuXG4gICAgY29uc3QgbWVyZ2VkU3R5bGU6IGFueSA9IHtcbiAgICAgIC4uLnN0eWxlVXRpbHMudG9DU1NTdHlsZShiZ1N0eWxlIHx8ICh7fSBhcyBhbnkpKVxuICAgIH1cblxuICAgIGNvbnN0IGNhcmRDb250ZW50U3R5bGU6IGFueSA9IHtcbiAgICAgIC4uLnN0eWxlVXRpbHMudG9DU1NTdHlsZShcbiAgICAgICAge1xuICAgICAgICAgIGJvcmRlclJhZGl1czogYmdTdHlsZT8uYm9yZGVyUmFkaXVzIHx8IDBcbiAgICAgICAgfSB8fCAoe30gYXMgYW55KVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG5ld1Byb3ZpZGVyRGF0YSA9IHRoaXMuZ2V0TmV3UHJvdmlkZXJEYXRhKClcbiAgICBpZiAoIXRoaXMuaXNQcm92aWRlckVxdWFsKG5ld1Byb3ZpZGVyRGF0YSwgdGhpcy5wcm92aWRlckRhdGEpKSB7XG4gICAgICB0aGlzLnByb3ZpZGVyRGF0YSA9IG5ld1Byb3ZpZGVyRGF0YVxuICAgICAgdGhpcy51cGRhdGVFeHByZXNzaW9uUmVjb3JkcygpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXBlYXRlZERhdGFTb3VyY2VQcm92aWRlciBkYXRhPXt0aGlzLnByb3ZpZGVyRGF0YX0+XG4gICAgICAgIDxMaXN0R3JvdXBJdGVtXG4gICAgICAgICAgYWN0aXZlPXtzZWxlY3RhYmxlICYmIGFjdGl2ZX1cbiAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoY3VycmVudFN0YXR1cyl9XG4gICAgICAgICAgc3R5bGU9e3sgLi4ubGlzdFN0eWxlLCAuLi5jYXJkQ29udGVudFN0eWxlIH19XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzdXJmYWNlLTEnLCBgbGlzdC1jYXJkLSR7d2lkZ2V0SWR9YCl9XG4gICAgICAgICAgcm9sZT0nbGlzdENhcmRWaWV3ZXInXG4gICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVJdGVtQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9J2xpc3QtY2FyZC1jb250ZW50IGQtZmxleCdcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17aGFuZGxlTGlzdE1vdXNlTGVhdmV9XG4gICAgICAgICAgICBvbk1vdXNlTW92ZT17KCkgPT4geyBoYW5kbGVMaXN0TW91c2VNb3ZlKGl0ZW1JZGV4KSB9fVxuICAgICAgICAgICAgc3R5bGU9e21lcmdlZFN0eWxlfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3NpdGlvbi1yZWxhdGl2ZSBoLTEwMCB3LTEwMCc+XG4gICAgICAgICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdwLTAgdy0xMDAgaC0xMDAgYm9yZGVyLTAgbGlzdC1jbGVhci1iYWNrZ3JvdW5kIGxpc3QtbGluaydcbiAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5saW5rUmVmfVxuICAgICAgICAgICAgICAgICAgdG89e2xpbmtUb31cbiAgICAgICAgICAgICAgICAgIHRhcmdldD17dGFyZ2V0fVxuICAgICAgICAgICAgICAgICAgcXVlcnlPYmplY3Q9e3F1ZXJ5T2JqZWN0fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVMaW5rQ2xpY2t9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IHctMTAwIGgtMTAwIGxpc3QtaXRlbS1jb24nIHJlZj17dGhpcy5sYXlvdXRSZWZ9PlxuICAgICAgICAgICAgICAgICAgPExheW91dEVudHJ5IGxheW91dHM9e3Nob3dMYXlvdXR9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8RXhwcmVzc2lvblJlc29sdmVyQ29tcG9uZW50XG4gICAgICAgICAgICB1c2VEYXRhU291cmNlcz17dXNlRGF0YVNvdXJjZXN9XG4gICAgICAgICAgICBleHByZXNzaW9uPXtsaW5rUGFyYW0/LmV4cHJlc3Npb259XG4gICAgICAgICAgICAvKiByZWNvcmRzPXt0aGlzLmV4cHJlc3Npb25SZWNvcmRzfSAgKi8gb25DaGFuZ2U9e1xuICAgICAgICAgICAgICB0aGlzLm9uVXJsRXhwUmVzb2x2ZUNoYW5nZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2lkZ2V0SWQ9e3RoaXMucHJvcHMud2lkZ2V0SWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9MaXN0R3JvdXBJdGVtPlxuICAgICAgPC9SZXBlYXRlZERhdGFTb3VyY2VQcm92aWRlcj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/list-card-viewer.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/my-dropdown.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/my-dropdown.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MyDropDown)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/** @jsx jsx */\n\n\nclass MyDropDown extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.onDropDownToggle = evt => {\n            evt.stopPropagation();\n            const { isDropDownOpen, onDropDownOpenChange } = this.props;\n            if (isDropDownOpen !== undefined) {\n                onDropDownOpenChange && onDropDownOpenChange(!isDropDownOpen);\n            }\n            else {\n                const { isOpen } = this.state;\n                this.setState({ isOpen: !isOpen });\n            }\n        };\n        this.onItemClick = (evt, item) => {\n            const { isDropDownOpen, onDropDownOpenChange } = this.props;\n            if (isDropDownOpen !== undefined) {\n                onDropDownOpenChange && onDropDownOpenChange(false);\n            }\n            else {\n                this.setState({ isOpen: false });\n            }\n            item.event(evt, item);\n            evt.stopPropagation();\n            evt.nativeEvent.stopImmediatePropagation();\n        };\n        this.onDropDownMouseClick = evt => {\n            evt.stopPropagation();\n            evt.nativeEvent.stopImmediatePropagation();\n        };\n        this.getStyle = () => {\n            var _a, _b, _c, _d, _e, _f;\n            const { theme } = this.props;\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      & button {\n        padding: 0;\n      }\n      .list-toggle-button {\n        background: ${(_c = (_b = (_a = theme.colors) === null || _a === void 0 ? void 0 : _a.palette) === null || _b === void 0 ? void 0 : _b.light) === null || _c === void 0 ? void 0 : _c[500]};\n        border: none;\n        &:hover, &[aria-expanded=\"true\"] {\n          background: ${(_f = (_e = (_d = theme.colors) === null || _d === void 0 ? void 0 : _d.palette) === null || _e === void 0 ? void 0 : _e.light) === null || _f === void 0 ? void 0 : _f[800]};\n        }\n      }\n    `;\n        };\n        this.state = {\n            isOpen: false\n        };\n        const { withBuilderStyle } = props;\n        this.MyDropdown = withBuilderStyle ? withBuilderStyle(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Dropdown) : jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Dropdown;\n        this.MyDropdownToggle = withBuilderStyle\n            ? withBuilderStyle(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownToggle)\n            : jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownToggle;\n        this.MyDropdownMenu = withBuilderStyle\n            ? withBuilderStyle(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu)\n            : jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownMenu;\n        this.MyDropdownItem = withBuilderStyle\n            ? withBuilderStyle(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownItem)\n            : jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DropdownItem;\n    }\n    render() {\n        const { items, toggleContent, caret, toggleType, menuContent, appMode, modifiers, toggleIsIcon, theme, isDropDownOpen, size, appendToBody, toggleTitle, direction, menuCss, className, showActive, activeLabel, fluid } = this.props;\n        let { isOpen } = this.state;\n        isOpen = isDropDownOpen === undefined ? isOpen : isDropDownOpen;\n        const { MyDropdown, MyDropdownToggle, MyDropdownMenu, MyDropdownItem } = this;\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(MyDropdown, { size: size, toggle: this.onDropDownToggle, direction: direction, fluid: fluid, isOpen: isOpen && appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design, className: `my-dropdown ${className}`, css: this.getStyle() },\n            toggleContent && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(MyDropdownToggle, { icon: toggleIsIcon, title: toggleTitle, size: size, type: toggleType, caret: caret, className: 'list-toggle-button' }, toggleContent && toggleContent(theme))),\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(MyDropdownMenu, { appendToBody: appendToBody, modifiers: modifiers, css: menuCss && menuCss(theme) }, menuContent\n                ? menuContent(theme)\n                : items &&\n                    items.asMutable().map((item, i) => {\n                        return (!item.hide && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(MyDropdownItem, { key: i, className: 'no-user-select', title: item.label, active: showActive && item.label === activeLabel, onClick: evt => this.onItemClick(evt, item) }, item.label)));\n                    }))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9teS1kcm9wZG93bi50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQVNBO0FBc0NBO0FBU0E7QUFDQTtBQWlCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBOzs7OztBQUtBOzs7QUFHQTs7O0FBR0E7QUFDQTtBQTNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUErQ0E7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFNQTtBQVVBO0FBWUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBSUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9teS1kcm9wZG93bi50c3g/MWRmMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIEltbXV0YWJsZUFycmF5LFxuICBTZXJpYWxpemVkU3R5bGVzLFxuICBJTVRoZW1lVmFyaWFibGVzLFxuICBBcHBNb2RlLFxuICBjc3Ncbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHtcbiAgRHJvcGRvd24sXG4gIERyb3Bkb3duVG9nZ2xlLFxuICBEcm9wZG93bk1lbnUsXG4gIERyb3Bkb3duSXRlbSxcbiAgRGlyZWN0aW9uLFxuICBNb2RpZmllcnNcbn0gZnJvbSAnamltdS11aSdcblxuZXhwb3J0IGludGVyZmFjZSBNeURyb3BEb3duSXRlbSB7XG4gIGxhYmVsOiBzdHJpbmdcbiAgZXZlbnQ6IChldnQsIGl0ZW0/OiBNeURyb3BEb3duSXRlbSkgPT4gdm9pZFxuICBoaWRlPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE15RHJvcGRvd25Qcm9wcyB7XG4gIGFwcE1vZGU6IEFwcE1vZGVcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzXG4gIHRvZ2dsZVRpdGxlPzogc3RyaW5nXG4gIHRvZ2dsZUlzSWNvbj86IGJvb2xlYW5cbiAgdG9nZ2xlVHlwZT86IHN0cmluZ1xuICBpdGVtcz86IEltbXV0YWJsZUFycmF5PE15RHJvcERvd25JdGVtPlxuICBmbHVpZD86IGJvb2xlYW5cbiAgc2l6ZT86IHN0cmluZ1xuICBhcHBlbmRUb0JvZHk/OiBib29sZWFuXG4gIGNhcmV0PzogYm9vbGVhblxuICBtb2RpZmllcnM/OiBNb2RpZmllcnNcbiAgaXNEcm9wRG93bk9wZW4/OiBib29sZWFuXG4gIGRpcmVjdGlvbj86IERpcmVjdGlvblxuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgd2l0aEJ1aWxkZXJTdHlsZT86IGFueVxuICBzaG93QWN0aXZlPzogYm9vbGVhblxuICBhY3RpdmVMYWJlbD86IHN0cmluZ1xuICBtZW51Q3NzPzogKHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSA9PiBTZXJpYWxpemVkU3R5bGVzXG4gIG1lbnVDb250ZW50PzogKHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSA9PiBhbnlcbiAgdG9nZ2xlQ29udGVudD86ICh0aGVtZTogSU1UaGVtZVZhcmlhYmxlcykgPT4gYW55XG4gIG9uRHJvcERvd25PcGVuQ2hhbmdlPzogKGlzT3BlbjogYm9vbGVhbikgPT4gdm9pZFxufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlEcm9wRG93biBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8XG5NeURyb3Bkb3duUHJvcHMsXG57IGlzT3BlbjogYm9vbGVhbiB9XG4+IHtcbiAgTXlEcm9wZG93bjogYW55XG4gIE15RHJvcGRvd25Ub2dnbGU6IGFueVxuICBNeURyb3Bkb3duTWVudTogYW55XG4gIE15RHJvcGRvd25JdGVtOiBhbnlcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNPcGVuOiBmYWxzZVxuICAgIH1cbiAgICBjb25zdCB7IHdpdGhCdWlsZGVyU3R5bGUgfSA9IHByb3BzXG4gICAgdGhpcy5NeURyb3Bkb3duID0gd2l0aEJ1aWxkZXJTdHlsZSA/IHdpdGhCdWlsZGVyU3R5bGUoRHJvcGRvd24pIDogRHJvcGRvd25cbiAgICB0aGlzLk15RHJvcGRvd25Ub2dnbGUgPSB3aXRoQnVpbGRlclN0eWxlXG4gICAgICA/IHdpdGhCdWlsZGVyU3R5bGUoRHJvcGRvd25Ub2dnbGUpXG4gICAgICA6IERyb3Bkb3duVG9nZ2xlXG4gICAgdGhpcy5NeURyb3Bkb3duTWVudSA9IHdpdGhCdWlsZGVyU3R5bGVcbiAgICAgID8gd2l0aEJ1aWxkZXJTdHlsZShEcm9wZG93bk1lbnUpXG4gICAgICA6IERyb3Bkb3duTWVudVxuICAgIHRoaXMuTXlEcm9wZG93bkl0ZW0gPSB3aXRoQnVpbGRlclN0eWxlXG4gICAgICA/IHdpdGhCdWlsZGVyU3R5bGUoRHJvcGRvd25JdGVtKVxuICAgICAgOiBEcm9wZG93bkl0ZW1cbiAgfVxuXG4gIG9uRHJvcERvd25Ub2dnbGUgPSBldnQgPT4ge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgY29uc3QgeyBpc0Ryb3BEb3duT3Blbiwgb25Ecm9wRG93bk9wZW5DaGFuZ2UgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoaXNEcm9wRG93bk9wZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgb25Ecm9wRG93bk9wZW5DaGFuZ2UgJiYgb25Ecm9wRG93bk9wZW5DaGFuZ2UoIWlzRHJvcERvd25PcGVuKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IGlzT3BlbiB9ID0gdGhpcy5zdGF0ZVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogIWlzT3BlbiB9KVxuICAgIH1cbiAgfVxuXG4gIG9uSXRlbUNsaWNrID0gKGV2dCwgaXRlbSkgPT4ge1xuICAgIGNvbnN0IHsgaXNEcm9wRG93bk9wZW4sIG9uRHJvcERvd25PcGVuQ2hhbmdlIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKGlzRHJvcERvd25PcGVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9uRHJvcERvd25PcGVuQ2hhbmdlICYmIG9uRHJvcERvd25PcGVuQ2hhbmdlKGZhbHNlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KVxuICAgIH1cbiAgICBpdGVtLmV2ZW50KGV2dCwgaXRlbSlcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIG9uRHJvcERvd25Nb3VzZUNsaWNrID0gZXZ0ID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBldnQubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIGdldFN0eWxlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdGhlbWUgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gY3NzYFxuICAgICAgJiBidXR0b24ge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgfVxuICAgICAgLmxpc3QtdG9nZ2xlLWJ1dHRvbiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzPy5wYWxldHRlPy5saWdodD8uWzUwMF19O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICY6aG92ZXIsICZbYXJpYS1leHBhbmRlZD1cInRydWVcIl0ge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzPy5wYWxldHRlPy5saWdodD8uWzgwMF19O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7XG4gICAgICBpdGVtcyxcbiAgICAgIHRvZ2dsZUNvbnRlbnQsXG4gICAgICBjYXJldCxcbiAgICAgIHRvZ2dsZVR5cGUsXG4gICAgICBtZW51Q29udGVudCxcbiAgICAgIGFwcE1vZGUsXG4gICAgICBtb2RpZmllcnMsXG4gICAgICB0b2dnbGVJc0ljb24sXG4gICAgICB0aGVtZSxcbiAgICAgIGlzRHJvcERvd25PcGVuLFxuICAgICAgc2l6ZSxcbiAgICAgIGFwcGVuZFRvQm9keSxcbiAgICAgIHRvZ2dsZVRpdGxlLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICAgbWVudUNzcyxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHNob3dBY3RpdmUsXG4gICAgICBhY3RpdmVMYWJlbCxcbiAgICAgIGZsdWlkXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBsZXQgeyBpc09wZW4gfSA9IHRoaXMuc3RhdGVcbiAgICBpc09wZW4gPSBpc0Ryb3BEb3duT3BlbiA9PT0gdW5kZWZpbmVkID8gaXNPcGVuIDogaXNEcm9wRG93bk9wZW5cbiAgICBjb25zdCB7XG4gICAgICBNeURyb3Bkb3duLFxuICAgICAgTXlEcm9wZG93blRvZ2dsZSxcbiAgICAgIE15RHJvcGRvd25NZW51LFxuICAgICAgTXlEcm9wZG93bkl0ZW1cbiAgICB9ID0gdGhpc1xuICAgIHJldHVybiAoXG4gICAgICA8TXlEcm9wZG93blxuICAgICAgICBzaXplPXtzaXplfVxuICAgICAgICB0b2dnbGU9e3RoaXMub25Ecm9wRG93blRvZ2dsZX1cbiAgICAgICAgZGlyZWN0aW9uPXtkaXJlY3Rpb259XG4gICAgICAgIGZsdWlkPXtmbHVpZH1cbiAgICAgICAgaXNPcGVuPXtpc09wZW4gJiYgYXBwTW9kZSAhPT0gQXBwTW9kZS5EZXNpZ259XG4gICAgICAgIGNsYXNzTmFtZT17YG15LWRyb3Bkb3duICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfVxuICAgICAgPlxuICAgICAgICB7dG9nZ2xlQ29udGVudCAmJiAoXG4gICAgICAgICAgPE15RHJvcGRvd25Ub2dnbGVcbiAgICAgICAgICAgIGljb249e3RvZ2dsZUlzSWNvbn1cbiAgICAgICAgICAgIHRpdGxlPXt0b2dnbGVUaXRsZX1cbiAgICAgICAgICAgIHNpemU9e3NpemV9XG4gICAgICAgICAgICB0eXBlPXt0b2dnbGVUeXBlfVxuICAgICAgICAgICAgY2FyZXQ9e2NhcmV0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPSdsaXN0LXRvZ2dsZS1idXR0b24nXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RvZ2dsZUNvbnRlbnQgJiYgdG9nZ2xlQ29udGVudCh0aGVtZSl9XG4gICAgICAgICAgPC9NeURyb3Bkb3duVG9nZ2xlPlxuICAgICAgICApfVxuICAgICAgICA8TXlEcm9wZG93bk1lbnVcbiAgICAgICAgICBhcHBlbmRUb0JvZHk9e2FwcGVuZFRvQm9keX1cbiAgICAgICAgICBtb2RpZmllcnM9e21vZGlmaWVyc31cbiAgICAgICAgICBjc3M9e21lbnVDc3MgJiYgbWVudUNzcyh0aGVtZSl9XG4gICAgICAgID5cbiAgICAgICAgICB7bWVudUNvbnRlbnRcbiAgICAgICAgICAgID8gbWVudUNvbnRlbnQodGhlbWUpXG4gICAgICAgICAgICA6IGl0ZW1zICYmXG4gICAgICAgICAgICAgIGl0ZW1zLmFzTXV0YWJsZSgpLm1hcCgoaXRlbTogTXlEcm9wRG93bkl0ZW0sIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAhaXRlbS5oaWRlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPE15RHJvcGRvd25JdGVtXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nbm8tdXNlci1zZWxlY3QnXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlPXtzaG93QWN0aXZlICYmIGl0ZW0ubGFiZWwgPT09IGFjdGl2ZUxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2V2dCA9PiB0aGlzLm9uSXRlbUNsaWNrKGV2dCwgaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgPC9NeURyb3Bkb3duSXRlbT5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICA8L015RHJvcGRvd25NZW51PlxuICAgICAgPC9NeURyb3Bkb3duPlxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/my-dropdown.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/components/search-box.tsx":
/*!******************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/components/search-box.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SearchBox)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ \"./jimu-icons/outlined/editor/close.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ \"./jimu-icons/outlined/editor/search.tsx\");\n/* harmony import */ var jimu_icons_outlined_directional_arrow_left__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-left */ \"./jimu-icons/outlined/directional/arrow-left.tsx\");\n/** @jsx jsx */\n\n\n\n\n\nconst Sanitizer = jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.Sanitizer;\nconst sanitizer = new Sanitizer();\nclass SearchBox extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.handleChange = searchText => {\n            this.setState({\n                searchText: searchText,\n                isShowSuggestion: (searchText === null || searchText === void 0 ? void 0 : searchText.length) > 2\n            }, () => {\n                const { onSearchTextChange } = this.props;\n                if (onSearchTextChange) {\n                    onSearchTextChange(searchText);\n                }\n            });\n        };\n        this.handleSubmit = (value, isEnter = false) => {\n            const { onSubmit } = this.props;\n            if (onSubmit) {\n                onSubmit(value, isEnter);\n            }\n        };\n        this.onKeyUp = evt => {\n            if (!evt || !evt.target)\n                return;\n            if (evt.key === 'Enter') {\n                this.setState({\n                    isShowSuggestion: false\n                });\n                this.handleSubmit(evt.target.value, true);\n            }\n        };\n        this.onSuggestionConfirm = suggestion => {\n            this.setState({\n                searchText: suggestion,\n                isShowSuggestion: false\n            }, () => {\n                var _a;\n                this.handleSubmit(suggestion);\n                (_a = this.props) === null || _a === void 0 ? void 0 : _a.toggleSearchBoxVisible(true);\n            });\n        };\n        this.handleClear = evt => {\n            this.setState({\n                searchText: ''\n            });\n            evt.stopPropagation();\n        };\n        this.getStyle = () => {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n            const { theme } = this.props;\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      position: relative;\n      .search-input {\n        margin-bottom: -1px;\n        padding-left: 3px;\n        border: 0;\n        // border-bottom-width: 1px;\n        // border-bottom-style: solid;\n        // border-color: ${theme.colors.primary};\n        background: transparent;\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(26)};\n        min-width: 0;\n        .input-wrapper {\n          background: transparent;\n          border: none;\n          padding: 0;\n          height: 100%;\n        }\n      }\n      .search-input:focus {\n        background: transparent;\n      }\n      .search-loading-con {\n        @keyframes loading {\n          0% {transform: rotate(0deg); };\n          100% {transform: rotate(360deg)};\n        }\n        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};\n        min-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};\n        border: 2px solid ${(_c = (_b = (_a = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _a === void 0 ? void 0 : _a.palette) === null || _b === void 0 ? void 0 : _b.secondary) === null || _c === void 0 ? void 0 : _c[300]};\n        border-radius: 50%;\n        border-top: 2px solid ${(_f = (_e = (_d = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _d === void 0 ? void 0 : _d.palette) === null || _e === void 0 ? void 0 : _e.primary) === null || _f === void 0 ? void 0 : _f[500]};\n        box-sizing: border-box;\n        animation:loading 2s infinite linear;\n        margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(4)};\n      }\n      .clear-search, .search-back {\n        cursor: pointer;\n        padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};\n        background: none;\n        border: none;\n        color: ${(_j = (_h = (_g = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _g === void 0 ? void 0 : _g.palette) === null || _h === void 0 ? void 0 : _h.dark) === null || _j === void 0 ? void 0 : _j[800]}\n      }\n      .search-back {\n        margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-6)};\n      }\n      .clear-search:hover {\n        background: none;\n      }\n    `;\n        };\n        this.getSuggestionListStyle = () => {\n            const { suggestionWidth } = this.props;\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      & {\n        max-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(300)};\n        min-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(suggestionWidth)};\n        overflow: auto;\n      }\n      button {\n        display: block;\n        width: 100%;\n        text-align: left;\n        border: none;\n        border-radius: 0;\n      }\n      button:hover {\n        border: none;\n      }\n    `;\n        };\n        this.clearSearchText = () => {\n            const { searchText } = this.state;\n            if (searchText) {\n                this.handleChange('');\n                this.setState({\n                    isShowSuggestion: false\n                });\n            }\n        };\n        this.getTextInputSuffixElement = () => {\n            const { theme, showLoading, formatMessage } = this.props;\n            const { searchText } = this.state;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center' },\n                showLoading && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'search-loading-con' }),\n                searchText && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { color: 'tertiary', className: 'clear-search', icon: true, size: 'sm', onClick: this.clearSearchText, title: formatMessage('clearSearch') },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_2__.CloseOutlined, { size: 14, color: theme.colors.palette.dark[800] })))));\n        };\n        this.getTextInputPrefixElement = () => {\n            const { theme } = this.props;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', icon: true, size: 'sm', onClick: evt => this.handleSubmit(this.state.searchText) },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_3__.SearchOutlined, { size: 16, color: theme.colors.palette.light[800] })));\n        };\n        this.state = {\n            searchText: props.searchText || '',\n            isShowSuggestion: false\n        };\n    }\n    componentDidUpdate(preProps) {\n        if (this.props.searchText !== preProps.searchText &&\n            this.props.searchText !== this.state.searchText) {\n            const { searchText } = this.props;\n            this.setState({\n                searchText: searchText\n            });\n        }\n    }\n    render() {\n        const { placeholder, className, showClear, hideSearchIcon, inputRef, onFocus, onBlur, theme, searchSuggestion, formatMessage, isShowBackButton } = this.props;\n        const { searchText, isShowSuggestion } = this.state;\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null,\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: `d-flex align-items-center ${className}` },\n                isShowBackButton && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { color: 'tertiary', className: 'search-back', icon: true, size: 'sm', onClick: evt => {\n                        var _a;\n                        (_a = this.props) === null || _a === void 0 ? void 0 : _a.toggleSearchBoxVisible(false);\n                    }, title: formatMessage('topToolBack') },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_arrow_left__WEBPACK_IMPORTED_MODULE_4__.ArrowLeftOutlined, { size: 20, color: theme.colors.palette.dark[800] }))),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.TextInput, { className: 'search-input flex-grow-1', ref: inputRef, placeholder: placeholder, onChange: e => this.handleChange(e.target.value), onBlur: onBlur, onFocus: onFocus, value: searchText || '', onKeyDown: e => this.onKeyUp(e), prefix: (!hideSearchIcon && !isShowBackButton) && this.getTextInputPrefixElement(), suffix: this.getTextInputSuffixElement() }),\n                showClear && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { color: 'tertiary', icon: true, size: 'sm', onClick: this.handleSubmit },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_2__.CloseOutlined, { size: 12, color: theme.colors.palette.dark[800] })))),\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: ref => (this.reference = ref) },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { css: this.getSuggestionListStyle(), placement: 'bottom-start', reference: this.reference, offset: [0, 8], open: isShowSuggestion, trapFocus: false, autoFocus: false, toggle: e => {\n                        this.setState({ isShowSuggestion: !isShowSuggestion });\n                    } }, searchSuggestion.map((suggestion, index) => {\n                    const suggestionHtml = sanitizer.sanitize(suggestion.suggestionHtml);\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { key: index, type: 'secondary', size: 'sm', onClick: () => {\n                            this.onSuggestionConfirm(suggestion.suggestion);\n                        }, dangerouslySetInnerHTML: { __html: suggestionHtml } }));\n                })))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9zZWFyY2gtYm94LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBd0JBO0FBTUE7QUFDQTtBQW1CQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOzs7O0FBSUE7OztBQUdBOzs7QUFHQTs7Ozs7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUFhQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUEvTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlMQTtBQUNBO0FBYUE7QUFFQTtBQUVBO0FBSUE7O0FBT0E7QUFDQTtBQUdBO0FBR0E7QUFZQTtBQUVBO0FBSUE7QUFDQTtBQVNBO0FBQ0E7QUFHQTtBQUdBO0FBTUE7QUFDQTtBQUlBO0FBS0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9zZWFyY2gtYm94LnRzeD85MTdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIFRoZW1lVmFyaWFibGVzLFxuICBTZXJpYWxpemVkU3R5bGVzLFxuICBjc3MsXG4gIGpzeCxcbiAgcG9saXNoZWQsXG4gIGVzcmlcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgVGV4dElucHV0LCBCdXR0b24sIElucHV0UHJvcHMsIFBvcHBlciB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBTdWdnZXN0aW9uIH0gZnJvbSAnLi4vLi4vY29uZmlnJ1xuaW1wb3J0IHsgQ2xvc2VPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlJ1xuaW1wb3J0IHsgU2VhcmNoT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zZWFyY2gnXG5pbXBvcnQgeyBBcnJvd0xlZnRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctbGVmdCdcbmNvbnN0IFNhbml0aXplciA9IGVzcmkuU2FuaXRpemVyXG5jb25zdCBzYW5pdGl6ZXIgPSBuZXcgU2FuaXRpemVyKClcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdGhlbWU6IFRoZW1lVmFyaWFibGVzXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIHNlYXJjaFRleHQ/OiBzdHJpbmdcbiAgb25TZWFyY2hUZXh0Q2hhbmdlPzogKHNlYXJjaFRleHQ6IHN0cmluZykgPT4gdm9pZFxuICBmb3JtYXRNZXNzYWdlPzogKGlkOiBzdHJpbmcpID0+IHN0cmluZ1xuICBvblN1Ym1pdD86IChzZWFyY2hUZXh0OiBzdHJpbmcsIGlzRW50ZXI6IGJvb2xlYW4pID0+IHZvaWRcbiAgc2hvd0NsZWFyPzogYm9vbGVhblxuICBoaWRlU2VhcmNoSWNvbj86IGJvb2xlYW5cbiAgaW5wdXRSZWY/OiAocmVmOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB2b2lkXG4gIHNlYXJjaFN1Z2dlc3Rpb246IFN1Z2dlc3Rpb25bXVxuICBzdWdnZXN0aW9uV2lkdGg6IG51bWJlclxuICBzaG93TG9hZGluZzogYm9vbGVhblxuICBpc1Nob3dCYWNrQnV0dG9uPzogYm9vbGVhblxuICB0b2dnbGVTZWFyY2hCb3hWaXNpYmxlPzogKGlzVmlzaWJsZTogYm9vbGVhbikgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgU3RhdHMge1xuICBzZWFyY2hUZXh0OiBzdHJpbmdcbiAgaXNTaG93U3VnZ2VzdGlvbjogYm9vbGVhblxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2hCb3ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFxuUHJvcHMgJiBJbnB1dFByb3BzLFxuU3RhdHNcbj4ge1xuICByZWZlcmVuY2U6IEhUTUxEaXZFbGVtZW50XG4gIHN1Z2dlc3Rpb25SZXF1ZXN0VGltZW91dDogYW55XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzZWFyY2hUZXh0OiBwcm9wcy5zZWFyY2hUZXh0IHx8ICcnLFxuICAgICAgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZVByb3BzKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5zZWFyY2hUZXh0ICE9PSBwcmVQcm9wcy5zZWFyY2hUZXh0ICYmXG4gICAgICB0aGlzLnByb3BzLnNlYXJjaFRleHQgIT09IHRoaXMuc3RhdGUuc2VhcmNoVGV4dFxuICAgICkge1xuICAgICAgY29uc3QgeyBzZWFyY2hUZXh0IH0gPSB0aGlzLnByb3BzXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VhcmNoVGV4dDogc2VhcmNoVGV4dFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UgPSBzZWFyY2hUZXh0ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAge1xuICAgICAgICBzZWFyY2hUZXh0OiBzZWFyY2hUZXh0LFxuICAgICAgICBpc1Nob3dTdWdnZXN0aW9uOiBzZWFyY2hUZXh0Py5sZW5ndGggPiAyXG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IG9uU2VhcmNoVGV4dENoYW5nZSB9ID0gdGhpcy5wcm9wc1xuICAgICAgICBpZiAob25TZWFyY2hUZXh0Q2hhbmdlKSB7XG4gICAgICAgICAgb25TZWFyY2hUZXh0Q2hhbmdlKHNlYXJjaFRleHQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYW5kbGVTdWJtaXQgPSAodmFsdWUsIGlzRW50ZXIgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHsgb25TdWJtaXQgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAob25TdWJtaXQpIHtcbiAgICAgIG9uU3VibWl0KHZhbHVlLCBpc0VudGVyKVxuICAgIH1cbiAgfVxuXG4gIG9uS2V5VXAgPSBldnQgPT4ge1xuICAgIGlmICghZXZ0IHx8ICFldnQudGFyZ2V0KSByZXR1cm5cbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzU2hvd1N1Z2dlc3Rpb246IGZhbHNlXG4gICAgICB9KVxuICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoZXZ0LnRhcmdldC52YWx1ZSwgdHJ1ZSlcbiAgICB9XG4gIH1cblxuICBvblN1Z2dlc3Rpb25Db25maXJtID0gc3VnZ2VzdGlvbiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgc2VhcmNoVGV4dDogc3VnZ2VzdGlvbixcbiAgICAgICAgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2VcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlU3VibWl0KHN1Z2dlc3Rpb24pXG4gICAgICAgIHRoaXMucHJvcHM/LnRvZ2dsZVNlYXJjaEJveFZpc2libGUodHJ1ZSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYW5kbGVDbGVhciA9IGV2dCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWFyY2hUZXh0OiAnJ1xuICAgIH0pXG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpXG4gIH1cblxuICBnZXRTdHlsZSA9ICgpOiBTZXJpYWxpemVkU3R5bGVzID0+IHtcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgLnNlYXJjaC1pbnB1dCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IC0xcHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogM3B4O1xuICAgICAgICBib3JkZXI6IDA7XG4gICAgICAgIC8vIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcbiAgICAgICAgLy8gYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XG4gICAgICAgIC8vIGJvcmRlci1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDI2KX07XG4gICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgLmlucHV0LXdyYXBwZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLnNlYXJjaC1pbnB1dDpmb2N1cyB7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuICAgICAgLnNlYXJjaC1sb2FkaW5nLWNvbiB7XG4gICAgICAgIEBrZXlmcmFtZXMgbG9hZGluZyB7XG4gICAgICAgICAgMCUge3RyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9O1xuICAgICAgICAgIDEwMCUge3RyYW5zZm9ybTogcm90YXRlKDM2MGRlZyl9O1xuICAgICAgICB9XG4gICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDEzKX07XG4gICAgICAgIG1pbi13aWR0aDogJHtwb2xpc2hlZC5yZW0oMTMpfTtcbiAgICAgICAgYm9yZGVyOiAycHggc29saWQgJHt0aGVtZT8uY29sb3JzPy5wYWxldHRlPy5zZWNvbmRhcnk/LlszMDBdfTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgJHt0aGVtZT8uY29sb3JzPy5wYWxldHRlPy5wcmltYXJ5Py5bNTAwXX07XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgIGFuaW1hdGlvbjpsb2FkaW5nIDJzIGluZmluaXRlIGxpbmVhcjtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSg0KX07XG4gICAgICB9XG4gICAgICAuY2xlYXItc2VhcmNoLCAuc2VhcmNoLWJhY2sge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHBhZGRpbmc6ICR7cG9saXNoZWQucmVtKDYpfTtcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBjb2xvcjogJHt0aGVtZT8uY29sb3JzPy5wYWxldHRlPy5kYXJrPy5bODAwXX1cbiAgICAgIH1cbiAgICAgIC5zZWFyY2gtYmFjayB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAke3BvbGlzaGVkLnJlbSgtNil9O1xuICAgICAgfVxuICAgICAgLmNsZWFyLXNlYXJjaDpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgZ2V0U3VnZ2VzdGlvbkxpc3RTdHlsZSA9ICgpOiBTZXJpYWxpemVkU3R5bGVzID0+IHtcbiAgICBjb25zdCB7IHN1Z2dlc3Rpb25XaWR0aCB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiBjc3NgXG4gICAgICAmIHtcbiAgICAgICAgbWF4LWhlaWdodDogJHtwb2xpc2hlZC5yZW0oMzAwKX07XG4gICAgICAgIG1pbi13aWR0aDogJHtwb2xpc2hlZC5yZW0oc3VnZ2VzdGlvbldpZHRoKX07XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgfVxuICAgICAgYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgICB9XG4gICAgICBidXR0b246aG92ZXIge1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgY2xlYXJTZWFyY2hUZXh0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2VhcmNoVGV4dCB9ID0gdGhpcy5zdGF0ZVxuICAgIGlmIChzZWFyY2hUZXh0KSB7XG4gICAgICB0aGlzLmhhbmRsZUNoYW5nZSgnJylcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1Nob3dTdWdnZXN0aW9uOiBmYWxzZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBnZXRUZXh0SW5wdXRTdWZmaXhFbGVtZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdGhlbWUsIHNob3dMb2FkaW5nLCBmb3JtYXRNZXNzYWdlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBzZWFyY2hUZXh0IH0gPSB0aGlzLnN0YXRlXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyJz5cbiAgICAgICAge3Nob3dMb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gtbG9hZGluZy1jb24nIC8+fVxuICAgICAgICB7c2VhcmNoVGV4dCAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgY29sb3I9J3RlcnRpYXJ5J1xuICAgICAgICAgICAgY2xhc3NOYW1lPSdjbGVhci1zZWFyY2gnXG4gICAgICAgICAgICBpY29uXG4gICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWFyY2hUZXh0fVxuICAgICAgICAgICAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ2NsZWFyU2VhcmNoJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENsb3NlT3V0bGluZWQgc2l6ZT17MTR9IGNvbG9yPXt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzgwMF19Lz5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGdldFRleHRJbnB1dFByZWZpeEVsZW1lbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0aGVtZSB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uXG4gICAgICAgIHR5cGU9J3RlcnRpYXJ5J1xuICAgICAgICBpY29uXG4gICAgICAgIHNpemU9J3NtJ1xuICAgICAgICBvbkNsaWNrPXtldnQgPT4gdGhpcy5oYW5kbGVTdWJtaXQodGhpcy5zdGF0ZS5zZWFyY2hUZXh0KX1cbiAgICAgID5cbiAgICAgICAgPFNlYXJjaE91dGxpbmVkIHNpemU9ezE2fSBjb2xvcj17dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbODAwXX0vPlxuICAgICAgPC9CdXR0b24+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCB7XG4gICAgICBwbGFjZWhvbGRlcixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHNob3dDbGVhcixcbiAgICAgIGhpZGVTZWFyY2hJY29uLFxuICAgICAgaW5wdXRSZWYsXG4gICAgICBvbkZvY3VzLFxuICAgICAgb25CbHVyLFxuICAgICAgdGhlbWUsXG4gICAgICBzZWFyY2hTdWdnZXN0aW9uLFxuICAgICAgZm9ybWF0TWVzc2FnZSxcbiAgICAgIGlzU2hvd0JhY2tCdXR0b25cbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgc2VhcmNoVGV4dCwgaXNTaG93U3VnZ2VzdGlvbiB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX1cbiAgICAgICAgICBjbGFzc05hbWU9e2BkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7aXNTaG93QmFja0J1dHRvbiAmJiAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGNvbG9yPSd0ZXJ0aWFyeSdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWFyY2gtYmFjaydcbiAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICAgICAgb25DbGljaz17ZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzPy50b2dnbGVTZWFyY2hCb3hWaXNpYmxlKGZhbHNlKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT17Zm9ybWF0TWVzc2FnZSgndG9wVG9vbEJhY2snKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEFycm93TGVmdE91dGxpbmVkIHNpemU9ezIwfSBjb2xvcj17dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfS8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxUZXh0SW5wdXRcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VhcmNoLWlucHV0IGZsZXgtZ3Jvdy0xJ1xuICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuaGFuZGxlQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIG9uQmx1cj17b25CbHVyfVxuICAgICAgICAgICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXh0IHx8ICcnfVxuICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHRoaXMub25LZXlVcChlKX1cbiAgICAgICAgICAgIHByZWZpeD17KCFoaWRlU2VhcmNoSWNvbiAmJiAhaXNTaG93QmFja0J1dHRvbikgJiYgdGhpcy5nZXRUZXh0SW5wdXRQcmVmaXhFbGVtZW50KCl9XG4gICAgICAgICAgICBzdWZmaXg9e3RoaXMuZ2V0VGV4dElucHV0U3VmZml4RWxlbWVudCgpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAge3Nob3dDbGVhciAmJiAoXG4gICAgICAgICAgICA8QnV0dG9uIGNvbG9yPSd0ZXJ0aWFyeScgaWNvbiBzaXplPSdzbScgb25DbGljaz17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgICA8Q2xvc2VPdXRsaW5lZCBzaXplPXsxMn0gY29sb3I9e3RoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX0vPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgcmVmPXtyZWYgPT4gKHRoaXMucmVmZXJlbmNlID0gcmVmKX0+XG4gICAgICAgICAgPFBvcHBlclxuICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN1Z2dlc3Rpb25MaXN0U3R5bGUoKX1cbiAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tLXN0YXJ0J1xuICAgICAgICAgICAgcmVmZXJlbmNlPXt0aGlzLnJlZmVyZW5jZX1cbiAgICAgICAgICAgIG9mZnNldD17WzAsIDhdfVxuICAgICAgICAgICAgb3Blbj17aXNTaG93U3VnZ2VzdGlvbn1cbiAgICAgICAgICAgIHRyYXBGb2N1cz17ZmFsc2V9XG4gICAgICAgICAgICBhdXRvRm9jdXM9e2ZhbHNlfVxuICAgICAgICAgICAgdG9nZ2xlPXtlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzU2hvd1N1Z2dlc3Rpb246ICFpc1Nob3dTdWdnZXN0aW9uIH0pXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtzZWFyY2hTdWdnZXN0aW9uLm1hcCgoc3VnZ2VzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbkh0bWwgPSBzYW5pdGl6ZXIuc2FuaXRpemUoXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGlvbi5zdWdnZXN0aW9uSHRtbFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9J3NlY29uZGFyeSdcbiAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3VnZ2VzdGlvbkNvbmZpcm0oc3VnZ2VzdGlvbi5zdWdnZXN0aW9uKVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc3VnZ2VzdGlvbkh0bWwgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L1BvcHBlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/components/search-box.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/styles/style.tsx":
/*!*********************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/styles/style.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"listStyle\": () => (/* binding */ listStyle),\n/* harmony export */   \"getStyle\": () => (/* binding */ getStyle),\n/* harmony export */   \"getToolsPopperStyle\": () => (/* binding */ getToolsPopperStyle),\n/* harmony export */   \"getSearchToolStyle\": () => (/* binding */ getSearchToolStyle),\n/* harmony export */   \"getTopToolStyle\": () => (/* binding */ getTopToolStyle)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ \"./extensions/widgets/common/list/src/config.ts\");\n\n\nconst listStyle = jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.memoize(function (options) {\n    const { showTopTools, bottomToolH, topRightToolW, hasRecords, currentCardSize, pageStyle, scrollBarOpen, appMode, theme, isHeightAuto, isWidthAuto, listTemplateDefaultCardSize, layoutType, listLeftPadding } = options;\n    const topToolsH = showTopTools ? _config__WEBPACK_IMPORTED_MODULE_1__.DS_TOOL_H : 0;\n    const direction = layoutType === _config__WEBPACK_IMPORTED_MODULE_1__.ListLayoutType.Column ? _config__WEBPACK_IMPORTED_MODULE_1__.DirectionType.Horizon : _config__WEBPACK_IMPORTED_MODULE_1__.DirectionType.Vertical;\n    const isHorizon = layoutType === _config__WEBPACK_IMPORTED_MODULE_1__.ListLayoutType.Column;\n    const flexDirection = layoutType === _config__WEBPACK_IMPORTED_MODULE_1__.ListLayoutType.Column ? 'column' : 'row';\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n    &.list-container {\n      /* position: ${isHeightAuto ? 'absolute' : 'relative'}; */\n      position: relative;\n      z-index: 0;\n      overflow: hidden;\n      .bottom-boundary {\n        height: 2px;\n        width: 2px;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        opacity: 0;\n      }\n      ${direction === _config__WEBPACK_IMPORTED_MODULE_1__.DirectionType.Horizon\n        ? `\n          margin-left: ${_config__WEBPACK_IMPORTED_MODULE_1__.LIST_CARD_PADDING + 'px'};\n          height: ${isHeightAuto ? 'auto' : '100%'};\n          width: ${isWidthAuto ? 'auto' : `calc(100% - ${_config__WEBPACK_IMPORTED_MODULE_1__.LIST_CARD_PADDING + 'px'})`};\n        `\n        : `\n          margin-top: ${_config__WEBPACK_IMPORTED_MODULE_1__.LIST_CARD_PADDING + 'px'};\n          width: ${isWidthAuto ? 'auto' : '100%'};\n          height: ${isHeightAuto ? 'auto' : `calc(100% - ${_config__WEBPACK_IMPORTED_MODULE_1__.LIST_CARD_PADDING + 'px'})`};\n        `}\n\n      .editing-mask-con {\n        &:before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: ${topToolsH}px;\n          z-index: 10;\n          height: ${currentCardSize.height}px;\n          width: ${listLeftPadding}px;\n          background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, 0.2)};\n        }\n        .editing-mask-list-grid {\n          position: absolute;\n          left: ${currentCardSize.width + listLeftPadding}px;\n          top: ${topToolsH}px;\n          right: 0;\n          z-index: 10;\n          height: ${currentCardSize.height}px;\n          background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, 0.2)};\n        }\n      }\n      .editing-mask-list {\n        position: absolute;\n        top: ${layoutType !== _config__WEBPACK_IMPORTED_MODULE_1__.ListLayoutType.Column && hasRecords\n        ? currentCardSize.height + topToolsH\n        : topToolsH}px;\n        left: ${layoutType === _config__WEBPACK_IMPORTED_MODULE_1__.ListLayoutType.Column && hasRecords\n        ? currentCardSize.width\n        : 0}px;\n        bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(bottomToolH)};\n        right: 0;\n        z-index: 10;\n        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, 0.2)};\n      }\n\n      .editing-mask-ds-tool {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, 0.2)};\n      }\n\n      .editing-mask-bottom-tool {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, 0.2)};\n      }\n\n      .empty-con {\n        position: absolute;\n        top: 50%;\n        left: 0;\n        right: 0;\n        z-index: 10;\n        transform: translateY(-50%);\n        padding-top: ${topToolsH}px;\n        .jimu-icon {\n          color: ${theme.colors.palette.warning[900]};\n        }\n        .discribtion {\n          margin: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(9)} 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)} 0;\n          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(14)};\n          color: ${theme.colors.black}\n        }\n        .clear-message-action-button {\n          width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(65)};\n        }\n      }\n\n      .datasource-tools {\n        position: relative;\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(topToolsH)};\n        padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(_config__WEBPACK_IMPORTED_MODULE_1__.DS_TOOL_BOTTOM_PADDING)};\n        .sort-fields-input {\n          width: 200px;\n          margin-left: 8px;\n          margin-right: 16px;\n        }\n\n        .tool-row {\n          height: ${_config__WEBPACK_IMPORTED_MODULE_1__.DS_TOOL_H - _config__WEBPACK_IMPORTED_MODULE_1__.DS_TOOL_BOTTOM_PADDING}px;\n        }\n        .ds-tools-line {\n          width: 100%;\n          height: 1px;\n          margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};\n          background-color: ${theme.colors.palette.light[500]};\n        }\n        .ds-tools-line-blue {\n          background-color: ${theme.colors.palette.info[500]};\n        }\n        .list-search-div {\n          width: calc(100% - ${topRightToolW}px);\n          .list-search {\n            margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-4)};\n            width: 100%;\n          }\n        }\n\n      }\n      .tools-menu {\n        color: ${theme.colors.palette.light[800]};\n      }\n      .tools-menu:hover {\n        color: ${theme.colors.palette.info[500]};\n      }\n      .bottom-tools {\n        position: relative;\n        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(_config__WEBPACK_IMPORTED_MODULE_1__.BOTTOM_TOOL_TOP_PADDING)};\n        min-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(_config__WEBPACK_IMPORTED_MODULE_1__.BOTTOM_TOOL_H)};\n        .scroll-navigator {\n          .btn {\n            border-radius: ${theme.borderRadiuses.circle};\n          }\n        }\n      }\n\n      .widget-list-list:focus {\n        outline: none;\n      }\n      .widget-list-list {\n        & {\n          padding: 0;\n          position: relative;\n          padding-left: ${`${listLeftPadding}px`};\n        }\n        &>div {\n          position: relative;\n          flex: 1;\n          box-sizing: content-box;\n          ${isHorizon && `padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(15)}`};\n          ${!isHorizon && `padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(15)}`};\n        }\n        /* box-sizing: border-box; */\n        ${!window.jimuConfig.isInBuilder || appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run\n        ? `overflow-${isHorizon ? 'y' : 'x'}: hidden !important;`\n        : 'overflow: hidden !important;'}\n        height: ${isHeightAuto\n        ? 'auto'\n        : `calc(100% - ${topToolsH}px - ${bottomToolH}px)`} !important;\n        width: ${isWidthAuto ? 'auto' : '100%'} !important;\n        display: flex;\n        ${`flex-direction: ${flexDirection}`};\n        ${isHeightAuto && `min-height: ${listTemplateDefaultCardSize.height}px;`};\n        ${isWidthAuto && `min-width: ${listTemplateDefaultCardSize.width}px;`};\n        ${isHorizon\n        ? `\n              ${`max-width: ${options.mexSize.maxWidth}px`};\n            `\n        : `\n              ${`max-height: calc(${options.mexSize.maxHeight} - ${topToolsH}px - ${bottomToolH}px)`};\n            `}\n      }\n      ${pageStyle === _config__WEBPACK_IMPORTED_MODULE_1__.PageStyle.Scroll && !scrollBarOpen\n        ? `\n          .widget-list-list::-webkit-scrollbar {\n            display: none; //Safari and Chrome\n          }\n          .widget-list-list {\n              -ms-overflow-style: none; //IE 10+\n              overflow: -moz-scrollbars-none; //Firefox\n          }\n        `\n        : ''}\n      .placeholder-alert-con {\n        position: absolute;\n        bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)};\n        right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(8)};\n        z-index: 11;\n      }\n    }\n  `;\n});\nfunction getStyle(props, isEditing, showBottomTool) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    const { config, id, appMode, isHeightAuto, isWidthAuto, theme } = props;\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n    ${'&.list-widget-' + id} {\n      overflow: visible;\n      background-color: transparent;\n      border: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(_config__WEBPACK_IMPORTED_MODULE_1__.COMMON_PADDING)} solid ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, window.jimuConfig.isInBuilder && isEditing ? 0.2 : 0)};\n      height: ${isHeightAuto ? 'auto' : '100%'};\n      width: ${isWidthAuto ? 'auto' : '100%'};\n      .list-with-mask {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        top: 0;\n        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.black, 0)};\n        z-index: 1;\n      }\n      .list-toggle-button {\n        background: none;\n      }\n      .list-loading-con {\n        min-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(120)};\n        min-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(160)};\n      }\n      .refresh-loading-con {\n        right: 0;\n        bottom:${showBottomTool ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(_config__WEBPACK_IMPORTED_MODULE_1__.BOTTOM_TOOL_H) : 0};\n        align-items: center;\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};\n        .auto-refresh-loading {\n          background: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba((_c = (_b = (_a = theme.colors) === null || _a === void 0 ? void 0 : _a.palette) === null || _b === void 0 ? void 0 : _b.dark) === null || _c === void 0 ? void 0 : _c[100], 0.2)};\n          color: ${(_d = theme.colors) === null || _d === void 0 ? void 0 : _d.black};\n          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};\n          line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};\n          padding: 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(7)};\n        }\n        &.horizon-loading {\n          bottom:${showBottomTool ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(_config__WEBPACK_IMPORTED_MODULE_1__.BOTTOM_TOOL_H + 6) : jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};\n        }\n        &.vertical-loading {\n          right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)};\n        }\n      }\n      .loading-con {\n        @keyframes loading {\n          0% {transform: rotate(0deg); };\n          100% {transform: rotate(360deg)};\n        }\n        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};\n        border: 1px solid ${(_g = (_f = (_e = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _e === void 0 ? void 0 : _e.palette) === null || _f === void 0 ? void 0 : _f.dark) === null || _g === void 0 ? void 0 : _g[100]};\n        border-radius: 50%;\n        border-top: 1px solid ${(_k = (_j = (_h = theme === null || theme === void 0 ? void 0 : theme.colors) === null || _h === void 0 ? void 0 : _h.palette) === null || _j === void 0 ? void 0 : _j.dark) === null || _k === void 0 ? void 0 : _k[800]};\n        box-sizing: border-box;\n        animation:loading 2s infinite linear;\n        margin-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(4)};\n      }\n      .widget-list {\n        overflow: ${window.jimuConfig.isInBuilder && appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run\n        ? 'hidden'\n        : 'auto'};\n        height: ${isHeightAuto ? 'auto' : '100%'};\n        width: ${isWidthAuto ? 'auto' : '100%'};\n        /* align-items: ${config.alignType};\n        justify-content: ${config.alignType}; */\n        ${config.direction === _config__WEBPACK_IMPORTED_MODULE_1__.DirectionType.Horizon\n        ? `\n            overflow-y: hidden;\n          `\n        : `\n            overflow-x: hidden;\n          `}\n      }\n    }\n\n  `;\n}\nfunction getToolsPopperStyle(props) {\n    const { theme } = props;\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n    & {\n      padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(6)} ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(11)};\n      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(40)};\n    }\n    .ds-tools-line {\n      width: 100%;\n      height: 1px;\n      background-color: ${theme.colors.palette.light[500]};\n    }\n    .ds-tools-line-blue {\n      background-color: ${theme.colors.palette.info[500]};\n    }\n    .close-search {\n      margin-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(-6)};\n    }\n  `;\n}\nfunction getSearchToolStyle(props) {\n    const { theme } = props;\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n    .close-search {\n      border: 1px solid ${theme.colors.palette.light[500]};\n      box-sizing: border-box;\n      background-color: ${theme.colors.white};\n    }\n    .search-box-content {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  `;\n}\nfunction getTopToolStyle(props, showTopTools) {\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n    .list-data-action {\n      & {\n        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(4)};\n      }\n      &::after {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};\n        border-left: 1px solid ${showTopTools ? 'var(--light-400)' : 'transparent'}\n      }\n    }\n    .m-left {\n      margin-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(4)};\n    }\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvc3R5bGVzL3N0eWxlLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFTQTtBQXFDQTtBQUdBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7OztBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7Ozs7Ozs7QUFPQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBOzs7QUFHQTtBQUNBOzs7OztBQU1BO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTs7Ozs7Ozs7OztBQVVBOzs7Ozs7Ozs7O0FBVUE7Ozs7Ozs7Ozs7QUFVQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTs7Ozs7O0FBTUE7QUFDQTs7Ozs7Ozs7QUFRQTs7Ozs7QUFLQTtBQUNBOzs7QUFHQTs7O0FBR0E7O0FBRUE7Ozs7Ozs7QUFPQTs7O0FBR0E7Ozs7QUFJQTtBQUNBOzs7QUFHQTs7Ozs7Ozs7Ozs7O0FBWUE7Ozs7OztBQU1BO0FBQ0E7OztBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUdBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTs7O0FBSUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFFQTs7QUFLQTtBQUNBO0FBQ0E7OztBQUdBO0FBSUE7QUFDQTs7Ozs7OztBQU9BOzs7Ozs7O0FBT0E7QUFDQTs7OztBQUlBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUlBOzs7QUFJQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOzs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFHQTs7OztBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7QUFLQTs7O0FBR0E7OztBQUdBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFFQTtBQUNBOzs7QUFHQTs7Ozs7Ozs7QUFRQTtBQUNBOzs7O0FBSUE7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvc3R5bGVzL3N0eWxlLnRzeD8wYTM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNzcyxcbiAgcG9saXNoZWQsXG4gIFNlcmlhbGl6ZWRTdHlsZXMsXG4gIEFwcE1vZGUsXG4gIHV0aWxzLFxuICBJTVRoZW1lVmFyaWFibGVzXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IExpc3RQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcbmltcG9ydCB7XG4gIERpcmVjdGlvblR5cGUsXG4gIExJU1RfQ0FSRF9QQURESU5HLFxuICBQYWdlU3R5bGUsXG4gIERTX1RPT0xfQk9UVE9NX1BBRERJTkcsXG4gIERTX1RPT0xfSCxcbiAgQk9UVE9NX1RPT0xfVE9QX1BBRERJTkcsXG4gIEJPVFRPTV9UT09MX0gsXG4gIENPTU1PTl9QQURESU5HLFxuICBFbGVtZW50U2l6ZSxcbiAgTGlzdExheW91dFR5cGVcbn0gZnJvbSAnLi4vLi4vY29uZmlnJ1xuXG5pbnRlcmZhY2UgTGlzU3R5bGVPcHRpb24ge1xuICBwYWdlU3R5bGU6IFBhZ2VTdHlsZVxuICBzY3JvbGxCYXJPcGVuOiBib29sZWFuXG4gIGRpcmVjdGlvbjogRGlyZWN0aW9uVHlwZVxuICBhcHBNb2RlOiBBcHBNb2RlXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG4gIGlzSGVpZ2h0QXV0bzogYm9vbGVhblxuICBpc1dpZHRoQXV0bzogYm9vbGVhblxuICBjdXJyZW50Q2FyZFNpemU6IEVsZW1lbnRTaXplXG4gIGxpc3RUZW1wbGF0ZURlZmF1bHRDYXJkU2l6ZTogRWxlbWVudFNpemVcbiAgc2hvd1RvcFRvb2xzOiBib29sZWFuXG4gIGJvdHRvbVRvb2xIOiBudW1iZXJcbiAgdG9wUmlnaHRUb29sVzogbnVtYmVyXG4gIGhhc1JlY29yZHM6IGJvb2xlYW5cbiAgbWV4U2l6ZTogTWF4U2l6ZVxuICBsYXlvdXRUeXBlOiBMaXN0TGF5b3V0VHlwZVxuICBsaXN0TGVmdFBhZGRpbmc6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgTWF4U2l6ZSB7XG4gIG1heFdpZHRoOiBudW1iZXJcbiAgbWF4SGVpZ2h0OiBudW1iZXIgfCBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IGxpc3RTdHlsZSA9IHV0aWxzLm1lbW9pemUoZnVuY3Rpb24gKFxuICBvcHRpb25zOiBMaXNTdHlsZU9wdGlvblxuKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHtcbiAgICBzaG93VG9wVG9vbHMsXG4gICAgYm90dG9tVG9vbEgsXG4gICAgdG9wUmlnaHRUb29sVyxcbiAgICBoYXNSZWNvcmRzLFxuICAgIGN1cnJlbnRDYXJkU2l6ZSxcbiAgICBwYWdlU3R5bGUsXG4gICAgc2Nyb2xsQmFyT3BlbixcbiAgICBhcHBNb2RlLFxuICAgIHRoZW1lLFxuICAgIGlzSGVpZ2h0QXV0byxcbiAgICBpc1dpZHRoQXV0byxcbiAgICBsaXN0VGVtcGxhdGVEZWZhdWx0Q2FyZFNpemUsXG4gICAgbGF5b3V0VHlwZSxcbiAgICBsaXN0TGVmdFBhZGRpbmdcbiAgfSA9IG9wdGlvbnNcbiAgY29uc3QgdG9wVG9vbHNIID0gc2hvd1RvcFRvb2xzID8gRFNfVE9PTF9IIDogMFxuICBjb25zdCBkaXJlY3Rpb24gPSBsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4gPyBEaXJlY3Rpb25UeXBlLkhvcml6b24gOiBEaXJlY3Rpb25UeXBlLlZlcnRpY2FsXG4gIGNvbnN0IGlzSG9yaXpvbiA9IGxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkNvbHVtblxuICBjb25zdCBmbGV4RGlyZWN0aW9uID0gbGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuQ29sdW1uID8gJ2NvbHVtbicgOiAncm93J1xuICByZXR1cm4gY3NzYFxuICAgICYubGlzdC1jb250YWluZXIge1xuICAgICAgLyogcG9zaXRpb246ICR7aXNIZWlnaHRBdXRvID8gJ2Fic29sdXRlJyA6ICdyZWxhdGl2ZSd9OyAqL1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgei1pbmRleDogMDtcbiAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAuYm90dG9tLWJvdW5kYXJ5IHtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHdpZHRoOiAycHg7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgIH1cbiAgICAgICR7XG4gICAgICAgIGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uVHlwZS5Ib3Jpem9uXG4gICAgICAgICAgPyBgXG4gICAgICAgICAgbWFyZ2luLWxlZnQ6ICR7TElTVF9DQVJEX1BBRERJTkcgKyAncHgnfTtcbiAgICAgICAgICBoZWlnaHQ6ICR7aXNIZWlnaHRBdXRvID8gJ2F1dG8nIDogJzEwMCUnfTtcbiAgICAgICAgICB3aWR0aDogJHtcbiAgICAgICAgICAgIGlzV2lkdGhBdXRvID8gJ2F1dG8nIDogYGNhbGMoMTAwJSAtICR7TElTVF9DQVJEX1BBRERJTkcgKyAncHgnfSlgXG4gICAgICAgICAgfTtcbiAgICAgICAgYFxuICAgICAgICAgIDogYFxuICAgICAgICAgIG1hcmdpbi10b3A6ICR7TElTVF9DQVJEX1BBRERJTkcgKyAncHgnfTtcbiAgICAgICAgICB3aWR0aDogJHtpc1dpZHRoQXV0byA/ICdhdXRvJyA6ICcxMDAlJ307XG4gICAgICAgICAgaGVpZ2h0OiAke1xuICAgICAgICAgICAgaXNIZWlnaHRBdXRvID8gJ2F1dG8nIDogYGNhbGMoMTAwJSAtICR7TElTVF9DQVJEX1BBRERJTkcgKyAncHgnfSlgXG4gICAgICAgICAgfTtcbiAgICAgICAgYFxuICAgICAgfVxuXG4gICAgICAuZWRpdGluZy1tYXNrLWNvbiB7XG4gICAgICAgICY6YmVmb3JlIHtcbiAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICB0b3A6ICR7dG9wVG9vbHNIfXB4O1xuICAgICAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgICAgIGhlaWdodDogJHtjdXJyZW50Q2FyZFNpemUuaGVpZ2h0fXB4O1xuICAgICAgICAgIHdpZHRoOiAke2xpc3RMZWZ0UGFkZGluZ31weDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLmJsYWNrLCAwLjIpfTtcbiAgICAgICAgfVxuICAgICAgICAuZWRpdGluZy1tYXNrLWxpc3QtZ3JpZCB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGxlZnQ6ICR7Y3VycmVudENhcmRTaXplLndpZHRoICsgbGlzdExlZnRQYWRkaW5nfXB4O1xuICAgICAgICAgIHRvcDogJHt0b3BUb29sc0h9cHg7XG4gICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgei1pbmRleDogMTA7XG4gICAgICAgICAgaGVpZ2h0OiAke2N1cnJlbnRDYXJkU2l6ZS5oZWlnaHR9cHg7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycy5ibGFjaywgMC4yKX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5lZGl0aW5nLW1hc2stbGlzdCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAke1xuICAgICAgICAgIGxheW91dFR5cGUgIT09IExpc3RMYXlvdXRUeXBlLkNvbHVtbiAmJiBoYXNSZWNvcmRzXG4gICAgICAgICAgICA/IGN1cnJlbnRDYXJkU2l6ZS5oZWlnaHQgKyB0b3BUb29sc0hcbiAgICAgICAgICAgIDogdG9wVG9vbHNIXG4gICAgICAgIH1weDtcbiAgICAgICAgbGVmdDogJHtcbiAgICAgICAgICBsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4gJiYgaGFzUmVjb3Jkc1xuICAgICAgICAgICAgPyBjdXJyZW50Q2FyZFNpemUud2lkdGhcbiAgICAgICAgICAgIDogMFxuICAgICAgICB9cHg7XG4gICAgICAgIGJvdHRvbTogJHtwb2xpc2hlZC5yZW0oYm90dG9tVG9vbEgpfTtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLmJsYWNrLCAwLjIpfTtcbiAgICAgIH1cblxuICAgICAgLmVkaXRpbmctbWFzay1kcy10b29sIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiAxMDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLmJsYWNrLCAwLjIpfTtcbiAgICAgIH1cblxuICAgICAgLmVkaXRpbmctbWFzay1ib3R0b20tdG9vbCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDogMTA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycy5ibGFjaywgMC4yKX07XG4gICAgICB9XG5cbiAgICAgIC5lbXB0eS1jb24ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgei1pbmRleDogMTA7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgcGFkZGluZy10b3A6ICR7dG9wVG9vbHNIfXB4O1xuICAgICAgICAuamltdS1pY29uIHtcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS53YXJuaW5nWzkwMF19O1xuICAgICAgICB9XG4gICAgICAgIC5kaXNjcmlidGlvbiB7XG4gICAgICAgICAgbWFyZ2luOiAke3BvbGlzaGVkLnJlbSg5KX0gMCAke3BvbGlzaGVkLnJlbSg4KX0gMDtcbiAgICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE0KX07XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfVxuICAgICAgICB9XG4gICAgICAgIC5jbGVhci1tZXNzYWdlLWFjdGlvbi1idXR0b24ge1xuICAgICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg2NSl9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5kYXRhc291cmNlLXRvb2xzIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKHRvcFRvb2xzSCl9O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogJHtwb2xpc2hlZC5yZW0oRFNfVE9PTF9CT1RUT01fUEFERElORyl9O1xuICAgICAgICAuc29ydC1maWVsZHMtaW5wdXQge1xuICAgICAgICAgIHdpZHRoOiAyMDBweDtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC50b29sLXJvdyB7XG4gICAgICAgICAgaGVpZ2h0OiAke0RTX1RPT0xfSCAtIERTX1RPT0xfQk9UVE9NX1BBRERJTkd9cHg7XG4gICAgICAgIH1cbiAgICAgICAgLmRzLXRvb2xzLWxpbmUge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICAgIG1hcmdpbi10b3A6ICR7cG9saXNoZWQucmVtKDYpfTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgICAgICB9XG4gICAgICAgIC5kcy10b29scy1saW5lLWJsdWUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuaW5mb1s1MDBdfTtcbiAgICAgICAgfVxuICAgICAgICAubGlzdC1zZWFyY2gtZGl2IHtcbiAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gJHt0b3BSaWdodFRvb2xXfXB4KTtcbiAgICAgICAgICAubGlzdC1zZWFyY2gge1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogJHtwb2xpc2hlZC5yZW0oLTQpfTtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgICAudG9vbHMtbWVudSB7XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzgwMF19O1xuICAgICAgfVxuICAgICAgLnRvb2xzLW1lbnU6aG92ZXIge1xuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5pbmZvWzUwMF19O1xuICAgICAgfVxuICAgICAgLmJvdHRvbS10b29scyB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgcGFkZGluZy10b3A6ICR7cG9saXNoZWQucmVtKEJPVFRPTV9UT09MX1RPUF9QQURESU5HKX07XG4gICAgICAgIG1pbi1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKEJPVFRPTV9UT09MX0gpfTtcbiAgICAgICAgLnNjcm9sbC1uYXZpZ2F0b3Ige1xuICAgICAgICAgIC5idG4ge1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogJHt0aGVtZS5ib3JkZXJSYWRpdXNlcy5jaXJjbGV9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAud2lkZ2V0LWxpc3QtbGlzdDpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICB9XG4gICAgICAud2lkZ2V0LWxpc3QtbGlzdCB7XG4gICAgICAgICYge1xuICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHBhZGRpbmctbGVmdDogJHtgJHtsaXN0TGVmdFBhZGRpbmd9cHhgfTtcbiAgICAgICAgfVxuICAgICAgICAmPmRpdiB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgYm94LXNpemluZzogY29udGVudC1ib3g7XG4gICAgICAgICAgJHtpc0hvcml6b24gJiYgYHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDE1KX1gfTtcbiAgICAgICAgICAkeyFpc0hvcml6b24gJiYgYHBhZGRpbmctYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxNSl9YH07XG4gICAgICAgIH1cbiAgICAgICAgLyogYm94LXNpemluZzogYm9yZGVyLWJveDsgKi9cbiAgICAgICAgJHtcbiAgICAgICAgICAhd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgfHwgYXBwTW9kZSA9PT0gQXBwTW9kZS5SdW5cbiAgICAgICAgICAgID8gYG92ZXJmbG93LSR7aXNIb3Jpem9uID8gJ3knIDogJ3gnfTogaGlkZGVuICFpbXBvcnRhbnQ7YFxuICAgICAgICAgICAgOiAnb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50OydcbiAgICAgICAgfVxuICAgICAgICBoZWlnaHQ6ICR7XG4gICAgICAgICAgaXNIZWlnaHRBdXRvXG4gICAgICAgICAgICA/ICdhdXRvJ1xuICAgICAgICAgICAgOiBgY2FsYygxMDAlIC0gJHt0b3BUb29sc0h9cHggLSAke2JvdHRvbVRvb2xIfXB4KWBcbiAgICAgICAgfSAhaW1wb3J0YW50O1xuICAgICAgICB3aWR0aDogJHtpc1dpZHRoQXV0byA/ICdhdXRvJyA6ICcxMDAlJ30gIWltcG9ydGFudDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgJHtgZmxleC1kaXJlY3Rpb246ICR7ZmxleERpcmVjdGlvbn1gfTtcbiAgICAgICAgJHtpc0hlaWdodEF1dG8gJiYgYG1pbi1oZWlnaHQ6ICR7bGlzdFRlbXBsYXRlRGVmYXVsdENhcmRTaXplLmhlaWdodH1weDtgfTtcbiAgICAgICAgJHtpc1dpZHRoQXV0byAmJiBgbWluLXdpZHRoOiAke2xpc3RUZW1wbGF0ZURlZmF1bHRDYXJkU2l6ZS53aWR0aH1weDtgfTtcbiAgICAgICAgJHtcbiAgICAgICAgICBpc0hvcml6b25cbiAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgICAke2BtYXgtd2lkdGg6ICR7b3B0aW9ucy5tZXhTaXplLm1heFdpZHRofXB4YH07XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICA6IGBcbiAgICAgICAgICAgICAgJHtgbWF4LWhlaWdodDogY2FsYygke29wdGlvbnMubWV4U2l6ZS5tYXhIZWlnaHR9IC0gJHt0b3BUb29sc0h9cHggLSAke2JvdHRvbVRvb2xIfXB4KWB9O1xuICAgICAgICAgICAgYFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAke1xuICAgICAgICBwYWdlU3R5bGUgPT09IFBhZ2VTdHlsZS5TY3JvbGwgJiYgIXNjcm9sbEJhck9wZW5cbiAgICAgICAgICA/IGBcbiAgICAgICAgICAud2lkZ2V0LWxpc3QtbGlzdDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTsgLy9TYWZhcmkgYW5kIENocm9tZVxuICAgICAgICAgIH1cbiAgICAgICAgICAud2lkZ2V0LWxpc3QtbGlzdCB7XG4gICAgICAgICAgICAgIC1tcy1vdmVyZmxvdy1zdHlsZTogbm9uZTsgLy9JRSAxMCtcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6IC1tb3otc2Nyb2xsYmFycy1ub25lOyAvL0ZpcmVmb3hcbiAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICAgICAgICA6ICcnXG4gICAgICB9XG4gICAgICAucGxhY2Vob2xkZXItYWxlcnQtY29uIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBib3R0b206ICR7cG9saXNoZWQucmVtKDgpfTtcbiAgICAgICAgcmlnaHQ6ICR7cG9saXNoZWQucmVtKDgpfTtcbiAgICAgICAgei1pbmRleDogMTE7XG4gICAgICB9XG4gICAgfVxuICBgXG59KVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUgKFxuICBwcm9wczogTGlzdFByb3BzLFxuICBpc0VkaXRpbmc6IGJvb2xlYW4sXG4gIHNob3dCb3R0b21Ub29sOiBib29sZWFuXG4pOiBTZXJpYWxpemVkU3R5bGVzIHtcbiAgY29uc3QgeyBjb25maWcsIGlkLCBhcHBNb2RlLCBpc0hlaWdodEF1dG8sIGlzV2lkdGhBdXRvLCB0aGVtZSB9ID0gcHJvcHNcbiAgcmV0dXJuIGNzc2BcbiAgICAkeycmLmxpc3Qtd2lkZ2V0LScgKyBpZH0ge1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgIGJvcmRlcjogJHtwb2xpc2hlZC5yZW0oQ09NTU9OX1BBRERJTkcpfSBzb2xpZCAke3BvbGlzaGVkLnJnYmEoXG4gICAgdGhlbWUuY29sb3JzLmJsYWNrLFxuICAgIHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyICYmIGlzRWRpdGluZyA/IDAuMiA6IDBcbiAgKX07XG4gICAgICBoZWlnaHQ6ICR7aXNIZWlnaHRBdXRvID8gJ2F1dG8nIDogJzEwMCUnfTtcbiAgICAgIHdpZHRoOiAke2lzV2lkdGhBdXRvID8gJ2F1dG8nIDogJzEwMCUnfTtcbiAgICAgIC5saXN0LXdpdGgtbWFzayB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLmJsYWNrLCAwKX07XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG4gICAgICAubGlzdC10b2dnbGUtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgIH1cbiAgICAgIC5saXN0LWxvYWRpbmctY29uIHtcbiAgICAgICAgbWluLWhlaWdodDogJHtwb2xpc2hlZC5yZW0oMTIwKX07XG4gICAgICAgIG1pbi13aWR0aDogJHtwb2xpc2hlZC5yZW0oMTYwKX07XG4gICAgICB9XG4gICAgICAucmVmcmVzaC1sb2FkaW5nLWNvbiB7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206JHtzaG93Qm90dG9tVG9vbCA/IHBvbGlzaGVkLnJlbShCT1RUT01fVE9PTF9IKSA6IDB9O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDI0KX07XG4gICAgICAgIC5hdXRvLXJlZnJlc2gtbG9hZGluZyB7XG4gICAgICAgICAgYmFja2dyb3VuZDogJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycz8ucGFsZXR0ZT8uZGFyaz8uWzEwMF0sIDAuMil9O1xuICAgICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycz8uYmxhY2t9O1xuICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcbiAgICAgICAgICBsaW5lLWhlaWdodDogJHtwb2xpc2hlZC5yZW0oMjQpfTtcbiAgICAgICAgICBwYWRkaW5nOiAwICR7cG9saXNoZWQucmVtKDcpfTtcbiAgICAgICAgfVxuICAgICAgICAmLmhvcml6b24tbG9hZGluZyB7XG4gICAgICAgICAgYm90dG9tOiR7XG4gICAgICAgICAgICBzaG93Qm90dG9tVG9vbCA/IHBvbGlzaGVkLnJlbShCT1RUT01fVE9PTF9IICsgNikgOiBwb2xpc2hlZC5yZW0oNilcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICYudmVydGljYWwtbG9hZGluZyB7XG4gICAgICAgICAgcmlnaHQ6ICR7cG9saXNoZWQucmVtKDYpfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmxvYWRpbmctY29uIHtcbiAgICAgICAgQGtleWZyYW1lcyBsb2FkaW5nIHtcbiAgICAgICAgICAwJSB7dHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH07XG4gICAgICAgICAgMTAwJSB7dHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKX07XG4gICAgICAgIH1cbiAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDE2KX07XG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oMTYpfTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZT8uY29sb3JzPy5wYWxldHRlPy5kYXJrPy5bMTAwXX07XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICR7dGhlbWU/LmNvbG9ycz8ucGFsZXR0ZT8uZGFyaz8uWzgwMF19O1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBhbmltYXRpb246bG9hZGluZyAycyBpbmZpbml0ZSBsaW5lYXI7XG4gICAgICAgIG1hcmdpbi1yaWdodDogJHtwb2xpc2hlZC5yZW0oNCl9O1xuICAgICAgfVxuICAgICAgLndpZGdldC1saXN0IHtcbiAgICAgICAgb3ZlcmZsb3c6ICR7XG4gICAgICAgICAgd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiYgYXBwTW9kZSAhPT0gQXBwTW9kZS5SdW5cbiAgICAgICAgICAgID8gJ2hpZGRlbidcbiAgICAgICAgICAgIDogJ2F1dG8nXG4gICAgICAgIH07XG4gICAgICAgIGhlaWdodDogJHtpc0hlaWdodEF1dG8gPyAnYXV0bycgOiAnMTAwJSd9O1xuICAgICAgICB3aWR0aDogJHtpc1dpZHRoQXV0byA/ICdhdXRvJyA6ICcxMDAlJ307XG4gICAgICAgIC8qIGFsaWduLWl0ZW1zOiAke2NvbmZpZy5hbGlnblR5cGV9O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6ICR7Y29uZmlnLmFsaWduVHlwZX07ICovXG4gICAgICAgICR7XG4gICAgICAgICAgY29uZmlnLmRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uVHlwZS5Ib3Jpem9uXG4gICAgICAgICAgICA/IGBcbiAgICAgICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgICAgICAgICBgXG4gICAgICAgICAgICA6IGBcbiAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgICBgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgYFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9vbHNQb3BwZXJTdHlsZSAocHJvcHM6IExpc3RQcm9wcyk6IFNlcmlhbGl6ZWRTdHlsZXMge1xuICBjb25zdCB7IHRoZW1lIH0gPSBwcm9wc1xuICByZXR1cm4gY3NzYFxuICAgICYge1xuICAgICAgcGFkZGluZzogJHtwb2xpc2hlZC5yZW0oNil9ICR7cG9saXNoZWQucmVtKDExKX07XG4gICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDQwKX07XG4gICAgfVxuICAgIC5kcy10b29scy1saW5lIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgIH1cbiAgICAuZHMtdG9vbHMtbGluZS1ibHVlIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuaW5mb1s1MDBdfTtcbiAgICB9XG4gICAgLmNsb3NlLXNlYXJjaCB7XG4gICAgICBtYXJnaW4tdG9wOiAke3BvbGlzaGVkLnJlbSgtNil9O1xuICAgIH1cbiAgYFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VhcmNoVG9vbFN0eWxlIChwcm9wczogTGlzdFByb3BzKTogU2VyaWFsaXplZFN0eWxlcyB7XG4gIGNvbnN0IHsgdGhlbWUgfSA9IHByb3BzXG4gIHJldHVybiBjc3NgXG4gICAgLmNsb3NlLXNlYXJjaCB7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLndoaXRlfTtcbiAgICB9XG4gICAgLnNlYXJjaC1ib3gtY29udGVudCB7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgfVxuICBgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3BUb29sU3R5bGUgKHByb3BzOiBMaXN0UHJvcHMsIHNob3dUb3BUb29sczogYm9vbGVhbik6IFNlcmlhbGl6ZWRTdHlsZXMge1xuICByZXR1cm4gY3NzYFxuICAgIC5saXN0LWRhdGEtYWN0aW9uIHtcbiAgICAgICYge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6ICR7cG9saXNoZWQucmVtKDQpfTtcbiAgICAgIH1cbiAgICAgICY6OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgxNil9O1xuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICR7c2hvd1RvcFRvb2xzID8gJ3ZhcigtLWxpZ2h0LTQwMCknIDogJ3RyYW5zcGFyZW50J31cbiAgICAgIH1cbiAgICB9XG4gICAgLm0tbGVmdCB7XG4gICAgICBtYXJnaW4tbGVmdDogJHtwb2xpc2hlZC5yZW0oNCl9O1xuICAgIH1cbiAgYFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/styles/style.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/translations/default.ts":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/translations/default.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    _widgetLabel: 'List',\n    _widgetDescription: 'A widget to display data in a list view.',\n    _action_filter_label: 'Filter',\n    _layout_REGULAR_label: 'Regular',\n    _layout_HOVER_label: 'Hover',\n    _layout_SELECTED_label: 'Selected',\n    applyTo: 'Apply to {status}',\n    listLoading: 'Loading',\n    pleaseSelect: 'Please select',\n    listNoData: 'No data',\n    selectSortFields: 'Select sorting fields',\n    clearFilter: 'Clear filter',\n    isolate: 'Isolate',\n    linkedToAnd: 'Linked to {where1} and {where2}',\n    linkedTo: 'Linked to {where}',\n    placeHolderTip: 'Please select a list template.',\n    showSelected: 'Show selected',\n    clearSelected: 'Clear selected',\n    listSorting: 'Sorting',\n    listSort: 'Sort',\n    // guide\n    guideStep2Title: 'Template',\n    guideStep2Content: 'Click on a template and click start.',\n    guideStep3Title: 'Data',\n    guideStep3Content: 'Click on select data to add a data source.',\n    guideStep4Title: 'Add new data',\n    guideStep4Content: 'Click add new data to select a web map.',\n    guideStep5Title: 'Select data',\n    guideStep5Content: 'Click the feature layer in the select data panel and close the panel.',\n    guideStep6Title: 'Data',\n    guideStep6Content: 'Specifies the data source, allows you to filter the data and limit the number of features that appear in the list.',\n    guideStep7Title: 'Arrangement',\n    guideStep7Content: 'Click the expand icon to explore the Arrangement section. In here, it allows you to define the direction, height, spacing, and paging style for your list.',\n    guideStep8Title: 'States',\n    guideStep8Content: 'Click the expand icon to explore the available States. In this section, it provides a visual representation to communicate the state of the list items. There are three states: regular, selected, and hover. By default, the selected state is always on.',\n    guideStep9Title: 'Tools',\n    guideStep9Content: 'Click the expand icon to explore the available Tools. In here, you can include search, sort, filter, and show selected tools in your list.',\n    guideStep10Title: 'Select image',\n    guideStep10Content: 'Click the image widget to configure it in the content panel.',\n    guideStep10Title2: 'Image settings',\n    guideStep10Content2: 'Allows you to select the image source and other settings for your widget.',\n    guideStep11Title: 'Select text',\n    guideStep11Content: 'Click the text widget to add attributes in the widget toolbar.',\n    guideStep11Title2: 'Text settings',\n    guideStep11Content2: 'Provides the configurations and style, including adding dynamic content from the widget toolbar. ',\n    guideStep12Title: 'End of tour',\n    guideStep12Content: 'Add other widgets to enhance your experience.',\n    clearSearch: 'Clear search',\n    minimize: 'Minimize',\n    topToolBack: 'Back',\n    showAllListRecords: 'Show all records',\n    listDataActionLabel: '{layer} list selection',\n    searchResult: 'Search result'\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvdHJhbnNsYXRpb25zL2RlZmF1bHQudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9jb21tb24vbGlzdC9zcmMvcnVudGltZS90cmFuc2xhdGlvbnMvZGVmYXVsdC50cz84MDBmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgX3dpZGdldExhYmVsOiAnTGlzdCcsXG4gIF93aWRnZXREZXNjcmlwdGlvbjogJ0Egd2lkZ2V0IHRvIGRpc3BsYXkgZGF0YSBpbiBhIGxpc3Qgdmlldy4nLFxuICBfYWN0aW9uX2ZpbHRlcl9sYWJlbDogJ0ZpbHRlcicsXG4gIF9sYXlvdXRfUkVHVUxBUl9sYWJlbDogJ1JlZ3VsYXInLFxuICBfbGF5b3V0X0hPVkVSX2xhYmVsOiAnSG92ZXInLFxuICBfbGF5b3V0X1NFTEVDVEVEX2xhYmVsOiAnU2VsZWN0ZWQnLFxuICBhcHBseVRvOiAnQXBwbHkgdG8ge3N0YXR1c30nLFxuICBsaXN0TG9hZGluZzogJ0xvYWRpbmcnLFxuICBwbGVhc2VTZWxlY3Q6ICdQbGVhc2Ugc2VsZWN0JyxcbiAgbGlzdE5vRGF0YTogJ05vIGRhdGEnLFxuICBzZWxlY3RTb3J0RmllbGRzOiAnU2VsZWN0IHNvcnRpbmcgZmllbGRzJyxcbiAgY2xlYXJGaWx0ZXI6ICdDbGVhciBmaWx0ZXInLFxuICBpc29sYXRlOiAnSXNvbGF0ZScsXG4gIGxpbmtlZFRvQW5kOiAnTGlua2VkIHRvIHt3aGVyZTF9IGFuZCB7d2hlcmUyfScsXG4gIGxpbmtlZFRvOiAnTGlua2VkIHRvIHt3aGVyZX0nLFxuICBwbGFjZUhvbGRlclRpcDogJ1BsZWFzZSBzZWxlY3QgYSBsaXN0IHRlbXBsYXRlLicsXG4gIHNob3dTZWxlY3RlZDogJ1Nob3cgc2VsZWN0ZWQnLFxuICBjbGVhclNlbGVjdGVkOiAnQ2xlYXIgc2VsZWN0ZWQnLFxuICBsaXN0U29ydGluZzogJ1NvcnRpbmcnLFxuICBsaXN0U29ydDogJ1NvcnQnLFxuXG4gIC8vIGd1aWRlXG4gIGd1aWRlU3RlcDJUaXRsZTogJ1RlbXBsYXRlJyxcbiAgZ3VpZGVTdGVwMkNvbnRlbnQ6ICdDbGljayBvbiBhIHRlbXBsYXRlIGFuZCBjbGljayBzdGFydC4nLFxuICBndWlkZVN0ZXAzVGl0bGU6ICdEYXRhJyxcbiAgZ3VpZGVTdGVwM0NvbnRlbnQ6ICdDbGljayBvbiBzZWxlY3QgZGF0YSB0byBhZGQgYSBkYXRhIHNvdXJjZS4nLFxuICBndWlkZVN0ZXA0VGl0bGU6ICdBZGQgbmV3IGRhdGEnLFxuICBndWlkZVN0ZXA0Q29udGVudDogJ0NsaWNrIGFkZCBuZXcgZGF0YSB0byBzZWxlY3QgYSB3ZWIgbWFwLicsXG4gIGd1aWRlU3RlcDVUaXRsZTogJ1NlbGVjdCBkYXRhJyxcbiAgZ3VpZGVTdGVwNUNvbnRlbnQ6ICdDbGljayB0aGUgZmVhdHVyZSBsYXllciBpbiB0aGUgc2VsZWN0IGRhdGEgcGFuZWwgYW5kIGNsb3NlIHRoZSBwYW5lbC4nLFxuICBndWlkZVN0ZXA2VGl0bGU6ICdEYXRhJyxcbiAgZ3VpZGVTdGVwNkNvbnRlbnQ6ICdTcGVjaWZpZXMgdGhlIGRhdGEgc291cmNlLCBhbGxvd3MgeW91IHRvIGZpbHRlciB0aGUgZGF0YSBhbmQgbGltaXQgdGhlIG51bWJlciBvZiBmZWF0dXJlcyB0aGF0IGFwcGVhciBpbiB0aGUgbGlzdC4nLFxuICBndWlkZVN0ZXA3VGl0bGU6ICdBcnJhbmdlbWVudCcsXG4gIGd1aWRlU3RlcDdDb250ZW50OiAnQ2xpY2sgdGhlIGV4cGFuZCBpY29uIHRvIGV4cGxvcmUgdGhlIEFycmFuZ2VtZW50IHNlY3Rpb24uIEluIGhlcmUsIGl0IGFsbG93cyB5b3UgdG8gZGVmaW5lIHRoZSBkaXJlY3Rpb24sIGhlaWdodCwgc3BhY2luZywgYW5kIHBhZ2luZyBzdHlsZSBmb3IgeW91ciBsaXN0LicsXG4gIGd1aWRlU3RlcDhUaXRsZTogJ1N0YXRlcycsXG4gIGd1aWRlU3RlcDhDb250ZW50OiAnQ2xpY2sgdGhlIGV4cGFuZCBpY29uIHRvIGV4cGxvcmUgdGhlIGF2YWlsYWJsZSBTdGF0ZXMuIEluIHRoaXMgc2VjdGlvbiwgaXQgcHJvdmlkZXMgYSB2aXN1YWwgcmVwcmVzZW50YXRpb24gdG8gY29tbXVuaWNhdGUgdGhlIHN0YXRlIG9mIHRoZSBsaXN0IGl0ZW1zLiBUaGVyZSBhcmUgdGhyZWUgc3RhdGVzOiByZWd1bGFyLCBzZWxlY3RlZCwgYW5kIGhvdmVyLiBCeSBkZWZhdWx0LCB0aGUgc2VsZWN0ZWQgc3RhdGUgaXMgYWx3YXlzIG9uLicsXG4gIGd1aWRlU3RlcDlUaXRsZTogJ1Rvb2xzJyxcbiAgZ3VpZGVTdGVwOUNvbnRlbnQ6ICdDbGljayB0aGUgZXhwYW5kIGljb24gdG8gZXhwbG9yZSB0aGUgYXZhaWxhYmxlIFRvb2xzLiBJbiBoZXJlLCB5b3UgY2FuIGluY2x1ZGUgc2VhcmNoLCBzb3J0LCBmaWx0ZXIsIGFuZCBzaG93IHNlbGVjdGVkIHRvb2xzIGluIHlvdXIgbGlzdC4nLFxuICBndWlkZVN0ZXAxMFRpdGxlOiAnU2VsZWN0IGltYWdlJyxcbiAgZ3VpZGVTdGVwMTBDb250ZW50OiAnQ2xpY2sgdGhlIGltYWdlIHdpZGdldCB0byBjb25maWd1cmUgaXQgaW4gdGhlIGNvbnRlbnQgcGFuZWwuJyxcbiAgZ3VpZGVTdGVwMTBUaXRsZTI6ICdJbWFnZSBzZXR0aW5ncycsXG4gIGd1aWRlU3RlcDEwQ29udGVudDI6ICdBbGxvd3MgeW91IHRvIHNlbGVjdCB0aGUgaW1hZ2Ugc291cmNlIGFuZCBvdGhlciBzZXR0aW5ncyBmb3IgeW91ciB3aWRnZXQuJyxcbiAgZ3VpZGVTdGVwMTFUaXRsZTogJ1NlbGVjdCB0ZXh0JyxcbiAgZ3VpZGVTdGVwMTFDb250ZW50OiAnQ2xpY2sgdGhlIHRleHQgd2lkZ2V0IHRvIGFkZCBhdHRyaWJ1dGVzIGluIHRoZSB3aWRnZXQgdG9vbGJhci4nLFxuICBndWlkZVN0ZXAxMVRpdGxlMjogJ1RleHQgc2V0dGluZ3MnLFxuICBndWlkZVN0ZXAxMUNvbnRlbnQyOiAnUHJvdmlkZXMgdGhlIGNvbmZpZ3VyYXRpb25zIGFuZCBzdHlsZSwgaW5jbHVkaW5nIGFkZGluZyBkeW5hbWljIGNvbnRlbnQgZnJvbSB0aGUgd2lkZ2V0IHRvb2xiYXIuICcsXG4gIGd1aWRlU3RlcDEyVGl0bGU6ICdFbmQgb2YgdG91cicsXG4gIGd1aWRlU3RlcDEyQ29udGVudDogJ0FkZCBvdGhlciB3aWRnZXRzIHRvIGVuaGFuY2UgeW91ciBleHBlcmllbmNlLicsXG5cbiAgY2xlYXJTZWFyY2g6ICdDbGVhciBzZWFyY2gnLFxuICBtaW5pbWl6ZTogJ01pbmltaXplJyxcbiAgdG9wVG9vbEJhY2s6ICdCYWNrJyxcblxuICBzaG93QWxsTGlzdFJlY29yZHM6ICdTaG93IGFsbCByZWNvcmRzJyxcbiAgbGlzdERhdGFBY3Rpb25MYWJlbDogJ3tsYXllcn0gbGlzdCBzZWxlY3Rpb24nLFxuICBzZWFyY2hSZXN1bHQ6ICdTZWFyY2ggcmVzdWx0J1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/translations/default.ts\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/utils/list-service.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/utils/list-service.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getQueryOptions\": () => (/* binding */ getQueryOptions),\n/* harmony export */   \"fetchSuggestionRecords\": () => (/* binding */ fetchSuggestionRecords),\n/* harmony export */   \"compareQueryOptionsExceptPaging\": () => (/* binding */ compareQueryOptionsExceptPaging)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nfunction getQueryOptions(state, props, pageSize) {\n    var _a, _b, _c;\n    const options = {\n        returnGeometry: true\n    };\n    const { config, stateProps, useDataSources } = props;\n    const { sortOptionName, searchText, currentFilter, filterApplied, datasource } = state;\n    const useDS = useDataSources && useDataSources[0];\n    if (!datasource || !useDS)\n        return null;\n    if (!datasource.query) {\n        // not queryiable data source, return\n        return null;\n    }\n    // sort\n    let sortOption;\n    if (config.sortOpen && config.sorts) {\n        sortOption = config.sorts.find((sort) => sort.ruleOptionName === sortOptionName);\n        sortOption = sortOption || config.sorts[0];\n        if (!((_b = (_a = sortOption === null || sortOption === void 0 ? void 0 : sortOption.rule) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.jimuFieldName)) {\n            sortOption = undefined;\n        }\n        if (sortOption) {\n            const orderBys = [];\n            sortOption.rule.forEach(sortData => {\n                if (sortData.jimuFieldName) {\n                    orderBys.push(`${sortData.jimuFieldName} ${sortData.order}`);\n                }\n            });\n            options.orderByFields = orderBys;\n        }\n    }\n    // filter\n    if (config.filterOpen &&\n        filterApplied &&\n        config.filter &&\n        currentFilter &&\n        currentFilter.sql) {\n        options.where = (options.where || '1=1') + ' AND ';\n        options.where += `(${currentFilter.sql})`;\n    }\n    // action\n    if (stateProps) {\n        const extentMsg = stateProps === null || stateProps === void 0 ? void 0 : stateProps[jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageType.ExtentChange];\n        // action-filter\n        if (extentMsg) {\n            options.geometry = extentMsg.queryExtent;\n            if (extentMsg.querySQL) {\n                options.where = (options.where || '1=1') + ' AND ';\n                options.where += `(${extentMsg.querySQL})`;\n            }\n        }\n        const selectionMsg = stateProps[jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageType.DataRecordsSelectionChange];\n        if (selectionMsg && selectionMsg.querySQL) {\n            options.where = (options.where || '1=1') + ' AND ';\n            options.where += `(${selectionMsg.querySQL})`;\n        }\n    }\n    if (config.searchOpen && config.searchFields && searchText) {\n        options.where = (options.where || '1=1') + ' AND ';\n        const searchSQL = (_c = getSQL(searchText, config, datasource)) === null || _c === void 0 ? void 0 : _c.sql;\n        options.where += searchSQL;\n    }\n    // paging\n    if (pageSize > 0) {\n        options.page = state.page;\n        options.pageSize = pageSize;\n    }\n    // Compare if query changed except paging\n    const newQuery = options;\n    return newQuery;\n}\nfunction fetchSuggestionRecords(searchText, config, datasource) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const searchFields = config.searchFields.split(',');\n        let queryParams = {\n            page: 1,\n            pageSize: 10,\n            outFields: searchFields,\n            returnDistinctValues: true\n        };\n        if (config.searchOpen && config.searchFields) {\n            const SQL = (_a = getSQL(searchText, config, datasource)) === null || _a === void 0 ? void 0 : _a.sql;\n            queryParams.where = SQL;\n            const dsCurrentQueryParams = datasource.getCurrentQueryParams();\n            queryParams = datasource.mergeQueryParams(dsCurrentQueryParams, queryParams);\n        }\n        const searchReg = new RegExp(`(${searchText})`, 'gi');\n        return queryRecords(queryParams, datasource).then((records) => __awaiter(this, void 0, void 0, function* () {\n            let searchSuggestion = [];\n            searchFields.forEach(attrName => {\n                records.forEach(el => {\n                    var _a;\n                    const suggestionItem = (_a = el === null || el === void 0 ? void 0 : el.feature) === null || _a === void 0 ? void 0 : _a.attributes[attrName];\n                    if (suggestionItem &&\n                        !searchSuggestion.includes(suggestionItem) &&\n                        suggestionItem.match(searchReg)) {\n                        const suggestion = {\n                            suggestionHtml: getSuggestionItem(suggestionItem, searchText),\n                            suggestion: suggestionItem\n                        };\n                        searchSuggestion.push(suggestion);\n                    }\n                });\n            });\n            searchSuggestion = uniqueJson(searchSuggestion, 'suggestion');\n            return Promise.resolve(searchSuggestion);\n        }));\n    });\n}\nfunction uniqueJson(jsonArr, key) {\n    const result = jsonArr[0] ? [jsonArr[0]] : [];\n    for (let i = 1; i < jsonArr.length; i++) {\n        const item = jsonArr[i];\n        let repeat = false;\n        for (let j = 0; j < result.length; j++) {\n            if (item[key] === result[j][key]) {\n                repeat = true;\n                break;\n            }\n        }\n        if (!repeat) {\n            result.push(item);\n        }\n    }\n    return result;\n}\nfunction getSQL(searchText, config, datasource) {\n    const searchFields = config.searchFields.split(',');\n    const clauseOperator = config.searchExact ? jimu_core__WEBPACK_IMPORTED_MODULE_0__.ClauseOperator.StringOperatorIs : jimu_core__WEBPACK_IMPORTED_MODULE_0__.ClauseOperator.StringOperatorContains;\n    if (config.searchOpen && config.searchFields) {\n        const clauses = searchFields.map(field => {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.createSQLClause(field, clauseOperator, searchText);\n        });\n        const sqlExpression = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.createSQLExpression(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ClauseLogic.Or, clauses);\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getArcGISSQL(sqlExpression, datasource);\n    }\n}\nfunction getSuggestionItem(suggestion, searchText) {\n    if (!searchText)\n        return suggestion;\n    const replaceReg = new RegExp(`(${searchText})`, 'gi');\n    return suggestion.replace(replaceReg, '<strong >$1</strong>');\n}\nfunction queryRecords(q, ds) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!ds)\n            return yield Promise.resolve([]);\n        return yield ds\n            .query(q, { scope: jimu_core__WEBPACK_IMPORTED_MODULE_0__.QueryScope.InConfigView })\n            .then((queryResult) => __awaiter(this, void 0, void 0, function* () { return yield queryRecordsResult(q, queryResult); }));\n    });\n}\nfunction queryRecordsResult(q, queryResult) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield Promise.resolve((queryResult === null || queryResult === void 0 ? void 0 : queryResult.records) || []);\n    });\n}\nfunction compareQueryOptionsExceptPaging(query1, query2, datasource) {\n    // const isEqual = true;\n    if (!datasource)\n        return false;\n    query1 = datasource.getRealQueryParams(query1, 'query');\n    query2 = datasource.getRealQueryParams(query2, 'query');\n    if (!query1 || !query2) {\n        return false;\n    }\n    delete query1.page;\n    delete query1.pageSize;\n    delete query1.resultOffset;\n    delete query1.resultRecordCount;\n    delete query2.page;\n    delete query2.pageSize;\n    delete query2.resultOffset;\n    delete query2.resultRecordCount;\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isDeepEqual(query1, query2);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvdXRpbHMvbGlzdC1zZXJ2aWNlLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUEwQkE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvdXRpbHMvbGlzdC1zZXJ2aWNlLnRzeD8wYmFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpc3RTdGF0ZXMsIExpc3RQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcbmltcG9ydCB7XG4gIFF1ZXJpYWJsZURhdGFTb3VyY2UsXG4gIE1lc3NhZ2VUeXBlLFxuICB1dGlscyxcbiAgRGF0YVNvdXJjZSxcbiAgZGF0YVNvdXJjZVV0aWxzLFxuICBDbGF1c2VPcGVyYXRvcixcbiAgQ2xhdXNlTG9naWMsXG4gIFF1ZXJ5U2NvcGVcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU29ydFNldHRpbmdPcHRpb24gfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cydcbmltcG9ydCB7IElNQ29uZmlnLCBTdWdnZXN0aW9uIH0gZnJvbSAnLi4vLi4vY29uZmlnJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5T3B0aW9ucyB7XG4gIHJldHVybkdlb21ldHJ5PzogYm9vbGVhblxuICBnZW9tZXRyeT86IGFueVxuICBzb3J0RmllbGQ/OiBzdHJpbmdcbiAgc29ydE9yZGVyPzogc3RyaW5nXG4gIG9yZGVyQnlGaWVsZHM/OiBzdHJpbmcgfCBzdHJpbmdbXVxuICByZXN1bHRPZmZzZXQ/OiBudW1iZXJcbiAgcmVzdWx0UmVjb3JkQ291bnQ/OiBudW1iZXJcbiAgcGFnZVNpemU/OiBudW1iZXJcbiAgcGFnZT86IG51bWJlclxuICB3aGVyZT86IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnlPcHRpb25zIChcbiAgc3RhdGU6IExpc3RTdGF0ZXMsXG4gIHByb3BzOiBMaXN0UHJvcHMsXG4gIHBhZ2VTaXplOiBudW1iZXJcbik6IGFueSB7XG4gIGNvbnN0IG9wdGlvbnM6IFF1ZXJ5T3B0aW9ucyA9IHtcbiAgICByZXR1cm5HZW9tZXRyeTogdHJ1ZVxuICB9XG4gIGNvbnN0IHsgY29uZmlnLCBzdGF0ZVByb3BzLCB1c2VEYXRhU291cmNlcyB9ID0gcHJvcHNcbiAgY29uc3Qge1xuICAgIHNvcnRPcHRpb25OYW1lLFxuICAgIHNlYXJjaFRleHQsXG4gICAgY3VycmVudEZpbHRlcixcbiAgICBmaWx0ZXJBcHBsaWVkLFxuICAgIGRhdGFzb3VyY2VcbiAgfSA9IHN0YXRlXG4gIGNvbnN0IHVzZURTID0gdXNlRGF0YVNvdXJjZXMgJiYgdXNlRGF0YVNvdXJjZXNbMF1cbiAgaWYgKCFkYXRhc291cmNlIHx8ICF1c2VEUykgcmV0dXJuIG51bGxcblxuICBpZiAoIShkYXRhc291cmNlIGFzIFF1ZXJpYWJsZURhdGFTb3VyY2UpLnF1ZXJ5KSB7XG4gICAgLy8gbm90IHF1ZXJ5aWFibGUgZGF0YSBzb3VyY2UsIHJldHVyblxuICAgIHJldHVybiBudWxsXG4gIH1cbiAgLy8gc29ydFxuICBsZXQgc29ydE9wdGlvbjogU29ydFNldHRpbmdPcHRpb25cbiAgaWYgKGNvbmZpZy5zb3J0T3BlbiAmJiBjb25maWcuc29ydHMpIHtcbiAgICBzb3J0T3B0aW9uID0gY29uZmlnLnNvcnRzLmZpbmQoXG4gICAgICAoc29ydDogU29ydFNldHRpbmdPcHRpb24pID0+IHNvcnQucnVsZU9wdGlvbk5hbWUgPT09IHNvcnRPcHRpb25OYW1lXG4gICAgKVxuICAgIHNvcnRPcHRpb24gPSBzb3J0T3B0aW9uIHx8IChjb25maWcuc29ydHNbMF0gYXMgYW55KVxuICAgIGlmICghc29ydE9wdGlvbj8ucnVsZT8uWzBdPy5qaW11RmllbGROYW1lKSB7XG4gICAgICBzb3J0T3B0aW9uID0gdW5kZWZpbmVkXG4gICAgfVxuICAgIGlmIChzb3J0T3B0aW9uKSB7XG4gICAgICBjb25zdCBvcmRlckJ5cyA9IFtdXG4gICAgICBzb3J0T3B0aW9uLnJ1bGUuZm9yRWFjaChzb3J0RGF0YSA9PiB7XG4gICAgICAgIGlmIChzb3J0RGF0YS5qaW11RmllbGROYW1lKSB7XG4gICAgICAgICAgb3JkZXJCeXMucHVzaChgJHtzb3J0RGF0YS5qaW11RmllbGROYW1lfSAke3NvcnREYXRhLm9yZGVyfWApXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBvcHRpb25zLm9yZGVyQnlGaWVsZHMgPSBvcmRlckJ5c1xuICAgIH1cbiAgfVxuICAvLyBmaWx0ZXJcbiAgaWYgKFxuICAgIGNvbmZpZy5maWx0ZXJPcGVuICYmXG4gICAgZmlsdGVyQXBwbGllZCAmJlxuICAgIGNvbmZpZy5maWx0ZXIgJiZcbiAgICBjdXJyZW50RmlsdGVyICYmXG4gICAgY3VycmVudEZpbHRlci5zcWxcbiAgKSB7XG4gICAgb3B0aW9ucy53aGVyZSA9IChvcHRpb25zLndoZXJlIHx8ICcxPTEnKSArICcgQU5EICdcbiAgICBvcHRpb25zLndoZXJlICs9IGAoJHtjdXJyZW50RmlsdGVyLnNxbH0pYFxuICB9XG5cbiAgLy8gYWN0aW9uXG4gIGlmIChzdGF0ZVByb3BzKSB7XG4gICAgY29uc3QgZXh0ZW50TXNnID0gc3RhdGVQcm9wcz8uW01lc3NhZ2VUeXBlLkV4dGVudENoYW5nZV1cbiAgICAvLyBhY3Rpb24tZmlsdGVyXG4gICAgaWYgKGV4dGVudE1zZykge1xuICAgICAgb3B0aW9ucy5nZW9tZXRyeSA9IGV4dGVudE1zZy5xdWVyeUV4dGVudFxuICAgICAgaWYgKGV4dGVudE1zZy5xdWVyeVNRTCkge1xuICAgICAgICBvcHRpb25zLndoZXJlID0gKG9wdGlvbnMud2hlcmUgfHwgJzE9MScpICsgJyBBTkQgJ1xuICAgICAgICBvcHRpb25zLndoZXJlICs9IGAoJHtleHRlbnRNc2cucXVlcnlTUUx9KWBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZWxlY3Rpb25Nc2cgPSBzdGF0ZVByb3BzW01lc3NhZ2VUeXBlLkRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlXVxuICAgIGlmIChzZWxlY3Rpb25Nc2cgJiYgc2VsZWN0aW9uTXNnLnF1ZXJ5U1FMKSB7XG4gICAgICBvcHRpb25zLndoZXJlID0gKG9wdGlvbnMud2hlcmUgfHwgJzE9MScpICsgJyBBTkQgJ1xuICAgICAgb3B0aW9ucy53aGVyZSArPSBgKCR7c2VsZWN0aW9uTXNnLnF1ZXJ5U1FMfSlgXG4gICAgfVxuICB9XG5cbiAgaWYgKGNvbmZpZy5zZWFyY2hPcGVuICYmIGNvbmZpZy5zZWFyY2hGaWVsZHMgJiYgc2VhcmNoVGV4dCkge1xuICAgIG9wdGlvbnMud2hlcmUgPSAob3B0aW9ucy53aGVyZSB8fCAnMT0xJykgKyAnIEFORCAnXG4gICAgY29uc3Qgc2VhcmNoU1FMID0gZ2V0U1FMKHNlYXJjaFRleHQsIGNvbmZpZywgZGF0YXNvdXJjZSk/LnNxbFxuICAgIG9wdGlvbnMud2hlcmUgKz0gc2VhcmNoU1FMXG4gIH1cbiAgLy8gcGFnaW5nXG4gIGlmIChwYWdlU2l6ZSA+IDApIHtcbiAgICBvcHRpb25zLnBhZ2UgPSBzdGF0ZS5wYWdlXG4gICAgb3B0aW9ucy5wYWdlU2l6ZSA9IHBhZ2VTaXplXG4gIH1cblxuICAvLyBDb21wYXJlIGlmIHF1ZXJ5IGNoYW5nZWQgZXhjZXB0IHBhZ2luZ1xuICBjb25zdCBuZXdRdWVyeSA9IG9wdGlvbnNcblxuICByZXR1cm4gbmV3UXVlcnlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU3VnZ2VzdGlvblJlY29yZHMgKFxuICBzZWFyY2hUZXh0OiBzdHJpbmcsXG4gIGNvbmZpZzogSU1Db25maWcsXG4gIGRhdGFzb3VyY2U6IERhdGFTb3VyY2Vcbik6IFByb21pc2U8U3VnZ2VzdGlvbltdPiB7XG4gIGNvbnN0IHNlYXJjaEZpZWxkcyA9IGNvbmZpZy5zZWFyY2hGaWVsZHMuc3BsaXQoJywnKVxuICBsZXQgcXVlcnlQYXJhbXM6IGFueSA9IHtcbiAgICBwYWdlOiAxLFxuICAgIHBhZ2VTaXplOiAxMCxcbiAgICBvdXRGaWVsZHM6IHNlYXJjaEZpZWxkcyxcbiAgICByZXR1cm5EaXN0aW5jdFZhbHVlczogdHJ1ZVxuICB9XG5cbiAgaWYgKGNvbmZpZy5zZWFyY2hPcGVuICYmIGNvbmZpZy5zZWFyY2hGaWVsZHMpIHtcbiAgICBjb25zdCBTUUwgPSBnZXRTUUwoc2VhcmNoVGV4dCwgY29uZmlnLCBkYXRhc291cmNlKT8uc3FsXG4gICAgcXVlcnlQYXJhbXMud2hlcmUgPSBTUUxcbiAgICBjb25zdCBkc0N1cnJlbnRRdWVyeVBhcmFtcyA9IChkYXRhc291cmNlIGFzIFF1ZXJpYWJsZURhdGFTb3VyY2UpLmdldEN1cnJlbnRRdWVyeVBhcmFtcygpXG4gICAgcXVlcnlQYXJhbXMgPSAoZGF0YXNvdXJjZSBhcyBRdWVyaWFibGVEYXRhU291cmNlKS5tZXJnZVF1ZXJ5UGFyYW1zKGRzQ3VycmVudFF1ZXJ5UGFyYW1zLCBxdWVyeVBhcmFtcylcbiAgfVxuICBjb25zdCBzZWFyY2hSZWcgPSBuZXcgUmVnRXhwKGAoJHtzZWFyY2hUZXh0fSlgLCAnZ2knKVxuICByZXR1cm4gcXVlcnlSZWNvcmRzKHF1ZXJ5UGFyYW1zLCBkYXRhc291cmNlKS50aGVuKGFzeW5jIHJlY29yZHMgPT4ge1xuICAgIGxldCBzZWFyY2hTdWdnZXN0aW9uID0gW11cbiAgICBzZWFyY2hGaWVsZHMuZm9yRWFjaChhdHRyTmFtZSA9PiB7XG4gICAgICByZWNvcmRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBjb25zdCBzdWdnZXN0aW9uSXRlbSA9IGVsPy5mZWF0dXJlPy5hdHRyaWJ1dGVzW2F0dHJOYW1lXVxuICAgICAgICBpZiAoXG4gICAgICAgICAgc3VnZ2VzdGlvbkl0ZW0gJiZcbiAgICAgICAgICAhc2VhcmNoU3VnZ2VzdGlvbi5pbmNsdWRlcyhzdWdnZXN0aW9uSXRlbSkgJiZcbiAgICAgICAgICBzdWdnZXN0aW9uSXRlbS5tYXRjaChzZWFyY2hSZWcpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHN1Z2dlc3Rpb246IFN1Z2dlc3Rpb24gPSB7XG4gICAgICAgICAgICBzdWdnZXN0aW9uSHRtbDogZ2V0U3VnZ2VzdGlvbkl0ZW0oc3VnZ2VzdGlvbkl0ZW0sIHNlYXJjaFRleHQpLFxuICAgICAgICAgICAgc3VnZ2VzdGlvbjogc3VnZ2VzdGlvbkl0ZW1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VhcmNoU3VnZ2VzdGlvbi5wdXNoKHN1Z2dlc3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICBzZWFyY2hTdWdnZXN0aW9uID0gdW5pcXVlSnNvbihzZWFyY2hTdWdnZXN0aW9uLCAnc3VnZ2VzdGlvbicpXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzZWFyY2hTdWdnZXN0aW9uKVxuICB9KVxufVxuXG5mdW5jdGlvbiB1bmlxdWVKc29uIChqc29uQXJyLCBrZXkpIHtcbiAgY29uc3QgcmVzdWx0ID0ganNvbkFyclswXSA/IFtqc29uQXJyWzBdXSA6IFtdXG4gIGZvciAobGV0IGkgPSAxOyBpIDwganNvbkFyci5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGl0ZW0gPSBqc29uQXJyW2ldXG4gICAgbGV0IHJlcGVhdCA9IGZhbHNlXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXN1bHQubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChpdGVtW2tleV0gPT09IHJlc3VsdFtqXVtrZXldKSB7XG4gICAgICAgIHJlcGVhdCA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFyZXBlYXQpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gZ2V0U1FMIChcbiAgc2VhcmNoVGV4dDogc3RyaW5nLFxuICBjb25maWc6IElNQ29uZmlnLFxuICBkYXRhc291cmNlOiBEYXRhU291cmNlXG4pIHtcbiAgY29uc3Qgc2VhcmNoRmllbGRzID0gY29uZmlnLnNlYXJjaEZpZWxkcy5zcGxpdCgnLCcpXG4gIGNvbnN0IGNsYXVzZU9wZXJhdG9yID0gY29uZmlnLnNlYXJjaEV4YWN0ID8gQ2xhdXNlT3BlcmF0b3IuU3RyaW5nT3BlcmF0b3JJcyA6IENsYXVzZU9wZXJhdG9yLlN0cmluZ09wZXJhdG9yQ29udGFpbnNcbiAgaWYgKGNvbmZpZy5zZWFyY2hPcGVuICYmIGNvbmZpZy5zZWFyY2hGaWVsZHMpIHtcbiAgICBjb25zdCBjbGF1c2VzID0gc2VhcmNoRmllbGRzLm1hcChmaWVsZCA9PiB7XG4gICAgICByZXR1cm4gZGF0YVNvdXJjZVV0aWxzLmNyZWF0ZVNRTENsYXVzZShmaWVsZCwgY2xhdXNlT3BlcmF0b3IsIHNlYXJjaFRleHQpXG4gICAgfSlcbiAgICBjb25zdCBzcWxFeHByZXNzaW9uID0gZGF0YVNvdXJjZVV0aWxzLmNyZWF0ZVNRTEV4cHJlc3Npb24oQ2xhdXNlTG9naWMuT3IsIGNsYXVzZXMpXG4gICAgcmV0dXJuIGRhdGFTb3VyY2VVdGlscy5nZXRBcmNHSVNTUUwoc3FsRXhwcmVzc2lvbiwgZGF0YXNvdXJjZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdWdnZXN0aW9uSXRlbSAoc3VnZ2VzdGlvbjogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXNlYXJjaFRleHQpIHJldHVybiBzdWdnZXN0aW9uXG4gIGNvbnN0IHJlcGxhY2VSZWcgPSBuZXcgUmVnRXhwKGAoJHtzZWFyY2hUZXh0fSlgLCAnZ2knKVxuICByZXR1cm4gc3VnZ2VzdGlvbi5yZXBsYWNlKHJlcGxhY2VSZWcsICc8c3Ryb25nID4kMTwvc3Ryb25nPicpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHF1ZXJ5UmVjb3JkcyAocTogYW55LCBkczogRGF0YVNvdXJjZSk6IFByb21pc2U8YW55PiB7XG4gIGlmICghZHMpIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoW10pXG4gIHJldHVybiBhd2FpdCAoZHMgYXMgUXVlcmlhYmxlRGF0YVNvdXJjZSlcbiAgICAucXVlcnkocSwgeyBzY29wZTogUXVlcnlTY29wZS5JbkNvbmZpZ1ZpZXcgfSlcbiAgICAudGhlbihhc3luYyBxdWVyeVJlc3VsdCA9PiBhd2FpdCBxdWVyeVJlY29yZHNSZXN1bHQocSwgcXVlcnlSZXN1bHQpKVxufVxuXG5hc3luYyBmdW5jdGlvbiBxdWVyeVJlY29yZHNSZXN1bHQgKHEsIHF1ZXJ5UmVzdWx0KTogUHJvbWlzZTxhbnk+IHtcbiAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShxdWVyeVJlc3VsdD8ucmVjb3JkcyB8fCBbXSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVRdWVyeU9wdGlvbnNFeGNlcHRQYWdpbmcgKFxuICBxdWVyeTE6IGFueSxcbiAgcXVlcnkyOiBhbnksXG4gIGRhdGFzb3VyY2U6IFF1ZXJpYWJsZURhdGFTb3VyY2Vcbik6IGJvb2xlYW4ge1xuICAvLyBjb25zdCBpc0VxdWFsID0gdHJ1ZTtcbiAgaWYgKCFkYXRhc291cmNlKSByZXR1cm4gZmFsc2VcbiAgcXVlcnkxID0gZGF0YXNvdXJjZS5nZXRSZWFsUXVlcnlQYXJhbXMocXVlcnkxLCAncXVlcnknKVxuICBxdWVyeTIgPSBkYXRhc291cmNlLmdldFJlYWxRdWVyeVBhcmFtcyhxdWVyeTIsICdxdWVyeScpXG4gIGlmICghcXVlcnkxIHx8ICFxdWVyeTIpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBkZWxldGUgcXVlcnkxLnBhZ2VcbiAgZGVsZXRlIHF1ZXJ5MS5wYWdlU2l6ZVxuICBkZWxldGUgcXVlcnkxLnJlc3VsdE9mZnNldFxuICBkZWxldGUgcXVlcnkxLnJlc3VsdFJlY29yZENvdW50XG5cbiAgZGVsZXRlIHF1ZXJ5Mi5wYWdlXG4gIGRlbGV0ZSBxdWVyeTIucGFnZVNpemVcbiAgZGVsZXRlIHF1ZXJ5Mi5yZXN1bHRPZmZzZXRcbiAgZGVsZXRlIHF1ZXJ5Mi5yZXN1bHRSZWNvcmRDb3VudFxuXG4gIHJldHVybiB1dGlscy5pc0RlZXBFcXVhbChxdWVyeTEsIHF1ZXJ5Milcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/utils/list-service.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/utils/utils.tsx":
/*!********************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/utils/utils.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isScrollStart\": () => (/* binding */ isScrollStart),\n/* harmony export */   \"isEqualCardSizeByListLayout\": () => (/* binding */ isEqualCardSizeByListLayout),\n/* harmony export */   \"isEqualNumber\": () => (/* binding */ isEqualNumber),\n/* harmony export */   \"createOutputDs\": () => (/* binding */ createOutputDs),\n/* harmony export */   \"getCardSizeNumberInConfig\": () => (/* binding */ getCardSizeNumberInConfig),\n/* harmony export */   \"getCardSizeConfig\": () => (/* binding */ getCardSizeConfig),\n/* harmony export */   \"getDefaultMinListSize\": () => (/* binding */ getDefaultMinListSize),\n/* harmony export */   \"getCardSizeWidthUnitInConfig\": () => (/* binding */ getCardSizeWidthUnitInConfig),\n/* harmony export */   \"getPageSize\": () => (/* binding */ getPageSize),\n/* harmony export */   \"getBottomToolH\": () => (/* binding */ getBottomToolH),\n/* harmony export */   \"getListHeight\": () => (/* binding */ getListHeight),\n/* harmony export */   \"showBottomTools\": () => (/* binding */ showBottomTools),\n/* harmony export */   \"showTopTools\": () => (/* binding */ showTopTools),\n/* harmony export */   \"checkIsShowListToolsOnly\": () => (/* binding */ checkIsShowListToolsOnly),\n/* harmony export */   \"isDsConfigured\": () => (/* binding */ isDsConfigured),\n/* harmony export */   \"checkIsShowDataAction\": () => (/* binding */ checkIsShowDataAction),\n/* harmony export */   \"showSort\": () => (/* binding */ showSort),\n/* harmony export */   \"showSearch\": () => (/* binding */ showSearch),\n/* harmony export */   \"showFilter\": () => (/* binding */ showFilter),\n/* harmony export */   \"showDisplaySelectedOnly\": () => (/* binding */ showDisplaySelectedOnly),\n/* harmony export */   \"showClearSelected\": () => (/* binding */ showClearSelected),\n/* harmony export */   \"intersectionObserver\": () => (/* binding */ intersectionObserver)\n/* harmony export */ });\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ \"./extensions/widgets/common/list/src/config.ts\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n\n\n\nfunction isScrollStart(listDiv, lastScrollOffset) {\n    if (!listDiv)\n        return true;\n    const scrollTOrL = lastScrollOffset;\n    const isStart = scrollTOrL < 2;\n    return isStart;\n}\nfunction isEqualCardSizeByListLayout(cardSize1, cardSize2, layoutType) {\n    if (layoutType === _config__WEBPACK_IMPORTED_MODULE_0__.ListLayoutType.Column) {\n        return isEqualNumber(cardSize1.width, cardSize2.width);\n    }\n    else if (layoutType === _config__WEBPACK_IMPORTED_MODULE_0__.ListLayoutType.Row) {\n        return isEqualNumber(cardSize1.height, cardSize2.height);\n    }\n    else {\n        return isEqualNumber(cardSize1.width, cardSize2.width) && isEqualNumber(cardSize1.height, cardSize2.height);\n    }\n}\nfunction isEqualNumber(num1, num2) {\n    if (Math.abs(num1 - num2) < 0.0001) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction createOutputDs(records, outputDsId, useDs) {\n    if (!outputDsId || !useDs)\n        return;\n    const dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_1__.DataSourceManager.getInstance();\n    if (dsManager.getDataSource(outputDsId)) {\n        if (dsManager.getDataSource(outputDsId).getDataSourceJson()\n            .originDataSources[0].dataSourceId !== useDs.dataSourceId) {\n            dsManager.destroyDataSource(outputDsId);\n            dsManager.createDataSource(outputDsId).then(ods => {\n                ods.setRecords(records);\n            });\n        }\n        else {\n            const ods = dsManager.getDataSource(outputDsId);\n            ods.setRecords(records);\n        }\n    }\n    else {\n        dsManager.createDataSource(outputDsId).then(ods => {\n            ods.setRecords(records);\n        });\n    }\n}\nfunction getCardSizeNumberInConfig(props, widgetRect) {\n    const { config } = props;\n    const cardSizeInConfig = getCardSizeConfig(props);\n    const widthLinearUnit = jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.width);\n    let width = initCardSize(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.width), widgetRect.width);\n    //The width in percentage includes space, the width in px does not include\n    if (widthLinearUnit.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DistanceUnits.PERCENTAGE) {\n        width = (width - config.horizontalSpace) > 0 ? width - config.horizontalSpace : _config__WEBPACK_IMPORTED_MODULE_0__.LIST_CARD_MIN_SIZE;\n    }\n    const cardSize = {\n        width: width,\n        height: initCardSize(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.height), widgetRect.height)\n    };\n    return cardSize;\n}\nfunction getCardSizeConfig(props) {\n    var _a;\n    const { config, builderStatus, browserSizeMode } = props;\n    let cardConfigs = config === null || config === void 0 ? void 0 : config.asMutable({ deep: true }).cardConfigs[builderStatus];\n    if (!cardConfigs || !cardConfigs.cardSize) {\n        cardConfigs = config === null || config === void 0 ? void 0 : config.asMutable({ deep: true }).cardConfigs[_config__WEBPACK_IMPORTED_MODULE_0__.Status.Regular];\n    }\n    let cardSizeInConfig = (_a = cardConfigs === null || cardConfigs === void 0 ? void 0 : cardConfigs.cardSize) === null || _a === void 0 ? void 0 : _a[browserSizeMode];\n    if (!cardSizeInConfig) {\n        cardSizeInConfig = cardConfigs.cardSize[Object.keys(cardConfigs.cardSize)[0]];\n    }\n    return cardSizeInConfig;\n}\nfunction getDefaultMinListSize(props) {\n    const cardSizeInConfig = getCardSizeConfig(props);\n    const listMinSize = {\n        width: _config__WEBPACK_IMPORTED_MODULE_0__.LIST_CARD_MIN_SIZE,\n        height: _config__WEBPACK_IMPORTED_MODULE_0__.LIST_CARD_MIN_SIZE\n    };\n    const cardSizeUnit = {\n        width: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.width),\n        height: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.height)\n    };\n    if (cardSizeUnit.width.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DistanceUnits.PERCENTAGE) {\n        listMinSize.width = (_config__WEBPACK_IMPORTED_MODULE_0__.LIST_CARD_MIN_SIZE + 30) / cardSizeUnit.width.distance * 100;\n    }\n    if (cardSizeUnit.height.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DistanceUnits.PERCENTAGE) {\n        listMinSize.height = (_config__WEBPACK_IMPORTED_MODULE_0__.LIST_CARD_MIN_SIZE + 30) / cardSizeUnit.height.distance * 100;\n    }\n    return listMinSize;\n}\nfunction getCardSizeWidthUnitInConfig(props) {\n    const { config } = props;\n    const cardSizeInConfig = getCardSizeConfig(props);\n    const width = jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.width);\n    if (width.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DistanceUnits.PERCENTAGE) {\n        width.distance = (width.distance - config.horizontalSpace) > 0 ? width.distance - config.horizontalSpace : _config__WEBPACK_IMPORTED_MODULE_0__.LIST_CARD_MIN_SIZE;\n    }\n    const cardSizeWidthUnit = {\n        width: width,\n        height: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.utils.toLinearUnit(cardSizeInConfig.height)\n    };\n    return cardSizeWidthUnit;\n}\nfunction initCardSize(sizeUnit, widgetSize) {\n    if (sizeUnit.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DistanceUnits.PERCENTAGE) {\n        return (sizeUnit.distance / 100) * widgetSize;\n    }\n    else {\n        return sizeUnit.distance;\n    }\n}\nfunction getPageSize(widgetRect, listHeight, props, columnCount) {\n    const cardSize = getCardSizeNumberInConfig(props, widgetRect);\n    const { config, isHeightAuto, isWidthAuto } = props;\n    let pageSize;\n    if (config.pageStyle === _config__WEBPACK_IMPORTED_MODULE_0__.PageStyle.Scroll) {\n        if (!widgetRect) {\n            return 0;\n        }\n        switch (config === null || config === void 0 ? void 0 : config.layoutType) {\n            case _config__WEBPACK_IMPORTED_MODULE_0__.ListLayoutType.Row:\n                if (widgetRect.height === 0)\n                    return 0;\n                if (isHeightAuto) {\n                    listHeight = document.body.scrollHeight;\n                }\n                pageSize = Math.ceil(listHeight / (cardSize.height + config.space)) + 1;\n                break;\n            case _config__WEBPACK_IMPORTED_MODULE_0__.ListLayoutType.Column:\n                if (widgetRect.width === 0)\n                    return 0;\n                let listWidth = widgetRect.width;\n                if (isWidthAuto) {\n                    listWidth = document.body.scrollWidth;\n                }\n                pageSize = Math.ceil(listWidth / (cardSize.width + config.space)) + 1;\n                break;\n            case _config__WEBPACK_IMPORTED_MODULE_0__.ListLayoutType.GRID:\n                if (widgetRect.height === 0)\n                    return 0;\n                if (isHeightAuto) {\n                    listHeight = document.body.scrollHeight;\n                }\n                pageSize = Math.ceil(listHeight / (cardSize.height + config.space)) * columnCount;\n                break;\n        }\n        if (config.navigatorOpen) {\n            pageSize = Math.max(pageSize, config.scrollStep);\n        }\n    }\n    else {\n        pageSize = config.itemsPerPage;\n    }\n    return pageSize;\n}\nfunction getBottomToolH(paginatorDiv, showBottomTools) {\n    let bottomToolH = _config__WEBPACK_IMPORTED_MODULE_0__.BOTTOM_TOOL_H;\n    if (paginatorDiv) {\n        bottomToolH = paginatorDiv.clientHeight;\n    }\n    bottomToolH = showBottomTools ? bottomToolH : 0;\n    return bottomToolH;\n}\nfunction getListHeight(widgetRect, bottomToolH, showTopTool) {\n    const dsToolH = showTopTool ? _config__WEBPACK_IMPORTED_MODULE_0__.DS_TOOL_H : 0;\n    if (!widgetRect)\n        return 0;\n    const height = widgetRect.height - dsToolH - bottomToolH;\n    return height < 0 ? 0 : height;\n}\nfunction showBottomTools(props, state) {\n    const { config } = props;\n    const { datasource } = state;\n    return (!!datasource &&\n        !(config.pageStyle === _config__WEBPACK_IMPORTED_MODULE_0__.PageStyle.Scroll && !config.navigatorOpen));\n}\nfunction showTopTools(props) {\n    return (checkIsShowListToolsOnly(props) || checkIsShowDataAction(props));\n}\nfunction checkIsShowListToolsOnly(props) {\n    return (showSort(props) ||\n        showDisplaySelectedOnly(props) ||\n        showClearSelected(props) ||\n        showFilter(props) ||\n        showSearch(props));\n}\nfunction isDsConfigured(props) {\n    const { useDataSources } = props;\n    return !!useDataSources && !!useDataSources[0];\n}\nfunction checkIsShowDataAction(props) {\n    var _a, _b, _c;\n    const { id } = props;\n    const appConfig = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_1__.getAppStore)()) === null || _a === void 0 ? void 0 : _a.getState()) === null || _b === void 0 ? void 0 : _b.appConfig;\n    const widgetJson = (_c = appConfig === null || appConfig === void 0 ? void 0 : appConfig.widgets) === null || _c === void 0 ? void 0 : _c[id];\n    const enableDataAction = (widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.enableDataAction) === undefined ? true : widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.enableDataAction;\n    return enableDataAction && isDsConfigured(props);\n}\nfunction showSort(props) {\n    const { config } = props;\n    if (!config.sortOpen || !config.sorts || config.sorts.length < 1)\n        return false;\n    const sorts = config.sorts;\n    let isValid = false;\n    sorts.some((sort) => {\n        sort.rule &&\n            sort.rule.some(sortData => {\n                if (sortData && !!sortData.jimuFieldName) {\n                    isValid = true;\n                }\n                return isValid;\n            });\n        return isValid;\n    });\n    return isValid;\n}\nfunction showSearch(props) {\n    const { config } = props;\n    return config.searchOpen && config.searchFields && config.searchFields !== '';\n}\nfunction showFilter(props) {\n    const { config } = props;\n    return config.filterOpen && !!config.filter;\n}\nfunction showDisplaySelectedOnly(props) {\n    const { config } = props;\n    return (config.showSelectedOnlyOpen &&\n        config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_0__.Status.Selected].selectionMode !== _config__WEBPACK_IMPORTED_MODULE_0__.SelectionModeType.None);\n}\nfunction showClearSelected(props) {\n    const { config } = props;\n    return (config.showClearSelected &&\n        config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_0__.Status.Selected].selectionMode !== _config__WEBPACK_IMPORTED_MODULE_0__.SelectionModeType.None);\n}\nfunction intersectionObserver(ref, rootElement, onChange, options) {\n    const option = options || { root: rootElement };\n    const callback = function (entries, observer) {\n        const isIn = entries[0].intersectionRatio > 0;\n        onChange && onChange(isIn);\n    };\n    const observer = new IntersectionObserver(callback, option);\n    observer.observe(ref);\n    return observer;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvdXRpbHMvdXRpbHMudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQVlBO0FBR0E7QUFFQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBTUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9jb21tb24vbGlzdC9zcmMvcnVudGltZS91dGlscy91dGlscy50c3g/MTVlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBTdGF0dXMsXG4gIFBhZ2VTdHlsZSxcbiAgRFNfVE9PTF9ILFxuICBCT1RUT01fVE9PTF9ILFxuICBTZWxlY3Rpb25Nb2RlVHlwZSxcbiAgTGlzdExheW91dFR5cGUsXG4gIEVsZW1lbnRTaXplLFxuICBFbGVtZW50U2l6ZVVuaXQsXG4gIENhcmRTaXplLFxuICBMSVNUX0NBUkRfTUlOX1NJWkVcbn0gZnJvbSAnLi4vLi4vY29uZmlnJ1xuaW1wb3J0IHsgRGF0YVJlY29yZCwgRGF0YVNvdXJjZU1hbmFnZXIsIElNVXNlRGF0YVNvdXJjZSwgZ2V0QXBwU3RvcmUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBMaXN0UHJvcHMsIExpc3RTdGF0ZXMgfSBmcm9tICcuLi93aWRnZXQnXG5pbXBvcnQgeyBTb3J0U2V0dGluZ09wdGlvbiB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJ1xuaW1wb3J0IHsgTGluZWFyVW5pdCwgRGlzdGFuY2VVbml0cywgdXRpbHMgYXMgamltdVV0aWxzIH0gZnJvbSAnamltdS11aSdcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2Nyb2xsU3RhcnQgKFxuICBsaXN0RGl2OiBIVE1MRGl2RWxlbWVudCxcbiAgbGFzdFNjcm9sbE9mZnNldDogbnVtYmVyXG4pOiBib29sZWFuIHtcbiAgaWYgKCFsaXN0RGl2KSByZXR1cm4gdHJ1ZVxuICBjb25zdCBzY3JvbGxUT3JMID0gbGFzdFNjcm9sbE9mZnNldFxuICBjb25zdCBpc1N0YXJ0ID0gc2Nyb2xsVE9yTCA8IDJcbiAgcmV0dXJuIGlzU3RhcnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxDYXJkU2l6ZUJ5TGlzdExheW91dCAoXG4gIGNhcmRTaXplMTogRWxlbWVudFNpemUsXG4gIGNhcmRTaXplMjogRWxlbWVudFNpemUsXG4gIGxheW91dFR5cGU6IExpc3RMYXlvdXRUeXBlXG4pIHtcbiAgaWYgKGxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkNvbHVtbikge1xuICAgIHJldHVybiBpc0VxdWFsTnVtYmVyKGNhcmRTaXplMS53aWR0aCwgY2FyZFNpemUyLndpZHRoKVxuICB9IGVsc2UgaWYgKGxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLlJvdykge1xuICAgIHJldHVybiBpc0VxdWFsTnVtYmVyKGNhcmRTaXplMS5oZWlnaHQsIGNhcmRTaXplMi5oZWlnaHQpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGlzRXF1YWxOdW1iZXIoY2FyZFNpemUxLndpZHRoLCBjYXJkU2l6ZTIud2lkdGgpICYmIGlzRXF1YWxOdW1iZXIoY2FyZFNpemUxLmhlaWdodCwgY2FyZFNpemUyLmhlaWdodClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbE51bWJlciAobnVtMTogbnVtYmVyLCBudW0yOiBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKE1hdGguYWJzKG51bTEgLSBudW0yKSA8IDAuMDAwMSkge1xuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU91dHB1dERzIChcbiAgcmVjb3JkczogRGF0YVJlY29yZFtdLFxuICBvdXRwdXREc0lkOiBzdHJpbmcsXG4gIHVzZURzOiBJTVVzZURhdGFTb3VyY2Vcbikge1xuICBpZiAoIW91dHB1dERzSWQgfHwgIXVzZURzKSByZXR1cm5cbiAgY29uc3QgZHNNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuICBpZiAoZHNNYW5hZ2VyLmdldERhdGFTb3VyY2Uob3V0cHV0RHNJZCkpIHtcbiAgICBpZiAoXG4gICAgICBkc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShvdXRwdXREc0lkKS5nZXREYXRhU291cmNlSnNvbigpXG4gICAgICAgIC5vcmlnaW5EYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQgIT09IHVzZURzLmRhdGFTb3VyY2VJZFxuICAgICkge1xuICAgICAgZHNNYW5hZ2VyLmRlc3Ryb3lEYXRhU291cmNlKG91dHB1dERzSWQpXG5cbiAgICAgIGRzTWFuYWdlci5jcmVhdGVEYXRhU291cmNlKG91dHB1dERzSWQpLnRoZW4ob2RzID0+IHtcbiAgICAgICAgb2RzLnNldFJlY29yZHMocmVjb3JkcylcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9kcyA9IGRzTWFuYWdlci5nZXREYXRhU291cmNlKG91dHB1dERzSWQpXG4gICAgICBvZHMuc2V0UmVjb3JkcyhyZWNvcmRzKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkc01hbmFnZXIuY3JlYXRlRGF0YVNvdXJjZShvdXRwdXREc0lkKS50aGVuKG9kcyA9PiB7XG4gICAgICBvZHMuc2V0UmVjb3JkcyhyZWNvcmRzKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhcmRTaXplTnVtYmVySW5Db25maWcgKHByb3BzOiBMaXN0UHJvcHMsIHdpZGdldFJlY3Q6IEVsZW1lbnRTaXplKTogRWxlbWVudFNpemUge1xuICBjb25zdCB7IGNvbmZpZyB9ID0gcHJvcHNcbiAgY29uc3QgY2FyZFNpemVJbkNvbmZpZyA9IGdldENhcmRTaXplQ29uZmlnKHByb3BzKVxuICBjb25zdCB3aWR0aExpbmVhclVuaXQgPSBqaW11VXRpbHMudG9MaW5lYXJVbml0KGNhcmRTaXplSW5Db25maWcud2lkdGgpXG4gIGxldCB3aWR0aCA9IGluaXRDYXJkU2l6ZShqaW11VXRpbHMudG9MaW5lYXJVbml0KGNhcmRTaXplSW5Db25maWcud2lkdGgpLCB3aWRnZXRSZWN0LndpZHRoKVxuICAvL1RoZSB3aWR0aCBpbiBwZXJjZW50YWdlIGluY2x1ZGVzIHNwYWNlLCB0aGUgd2lkdGggaW4gcHggZG9lcyBub3QgaW5jbHVkZVxuICBpZiAod2lkdGhMaW5lYXJVbml0LnVuaXQgPT09IERpc3RhbmNlVW5pdHMuUEVSQ0VOVEFHRSkge1xuICAgIHdpZHRoID0gKHdpZHRoIC0gY29uZmlnLmhvcml6b250YWxTcGFjZSkgPiAwID8gd2lkdGggLSBjb25maWcuaG9yaXpvbnRhbFNwYWNlIDogTElTVF9DQVJEX01JTl9TSVpFXG4gIH1cbiAgY29uc3QgY2FyZFNpemUgPSB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaW5pdENhcmRTaXplKGppbXVVdGlscy50b0xpbmVhclVuaXQoY2FyZFNpemVJbkNvbmZpZy5oZWlnaHQpLCB3aWRnZXRSZWN0LmhlaWdodClcbiAgfVxuICByZXR1cm4gY2FyZFNpemVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhcmRTaXplQ29uZmlnIChwcm9wczogTGlzdFByb3BzKTogQ2FyZFNpemUge1xuICBjb25zdCB7IGNvbmZpZywgYnVpbGRlclN0YXR1cywgYnJvd3NlclNpemVNb2RlIH0gPSBwcm9wc1xuICBsZXQgY2FyZENvbmZpZ3MgPSBjb25maWc/LmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkuY2FyZENvbmZpZ3NbYnVpbGRlclN0YXR1c11cbiAgaWYgKCFjYXJkQ29uZmlncyB8fCAhY2FyZENvbmZpZ3MuY2FyZFNpemUpIHtcbiAgICBjYXJkQ29uZmlncyA9IGNvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jYXJkQ29uZmlnc1tTdGF0dXMuUmVndWxhcl1cbiAgfVxuICBsZXQgY2FyZFNpemVJbkNvbmZpZyA9IGNhcmRDb25maWdzPy5jYXJkU2l6ZT8uW2Jyb3dzZXJTaXplTW9kZV1cbiAgaWYgKCFjYXJkU2l6ZUluQ29uZmlnKSB7XG4gICAgY2FyZFNpemVJbkNvbmZpZyA9IGNhcmRDb25maWdzLmNhcmRTaXplW09iamVjdC5rZXlzKGNhcmRDb25maWdzLmNhcmRTaXplKVswXV1cbiAgfVxuICByZXR1cm4gY2FyZFNpemVJbkNvbmZpZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE1pbkxpc3RTaXplIChwcm9wczogTGlzdFByb3BzKTogRWxlbWVudFNpemUge1xuICBjb25zdCBjYXJkU2l6ZUluQ29uZmlnID0gZ2V0Q2FyZFNpemVDb25maWcocHJvcHMpXG4gIGNvbnN0IGxpc3RNaW5TaXplID0ge1xuICAgIHdpZHRoOiBMSVNUX0NBUkRfTUlOX1NJWkUsXG4gICAgaGVpZ2h0OiBMSVNUX0NBUkRfTUlOX1NJWkVcbiAgfVxuICBjb25zdCBjYXJkU2l6ZVVuaXQgPSB7XG4gICAgd2lkdGg6IGppbXVVdGlscy50b0xpbmVhclVuaXQoY2FyZFNpemVJbkNvbmZpZy53aWR0aCksXG4gICAgaGVpZ2h0OiBqaW11VXRpbHMudG9MaW5lYXJVbml0KGNhcmRTaXplSW5Db25maWcuaGVpZ2h0KVxuICB9XG4gIGlmIChjYXJkU2l6ZVVuaXQud2lkdGgudW5pdCA9PT0gRGlzdGFuY2VVbml0cy5QRVJDRU5UQUdFKSB7XG4gICAgbGlzdE1pblNpemUud2lkdGggPSAoTElTVF9DQVJEX01JTl9TSVpFICsgMzApIC8gY2FyZFNpemVVbml0LndpZHRoLmRpc3RhbmNlICogMTAwXG4gIH1cbiAgaWYgKGNhcmRTaXplVW5pdC5oZWlnaHQudW5pdCA9PT0gRGlzdGFuY2VVbml0cy5QRVJDRU5UQUdFKSB7XG4gICAgbGlzdE1pblNpemUuaGVpZ2h0ID0gKExJU1RfQ0FSRF9NSU5fU0laRSArIDMwKSAvIGNhcmRTaXplVW5pdC5oZWlnaHQuZGlzdGFuY2UgKiAxMDBcbiAgfVxuICByZXR1cm4gbGlzdE1pblNpemVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhcmRTaXplV2lkdGhVbml0SW5Db25maWcgKHByb3BzOiBMaXN0UHJvcHMpOiBFbGVtZW50U2l6ZVVuaXQge1xuICBjb25zdCB7IGNvbmZpZyB9ID0gcHJvcHNcbiAgY29uc3QgY2FyZFNpemVJbkNvbmZpZyA9IGdldENhcmRTaXplQ29uZmlnKHByb3BzKVxuICBjb25zdCB3aWR0aCA9IGppbXVVdGlscy50b0xpbmVhclVuaXQoY2FyZFNpemVJbkNvbmZpZy53aWR0aClcblxuICBpZiAod2lkdGgudW5pdCA9PT0gRGlzdGFuY2VVbml0cy5QRVJDRU5UQUdFKSB7XG4gICAgd2lkdGguZGlzdGFuY2UgPSAod2lkdGguZGlzdGFuY2UgLSBjb25maWcuaG9yaXpvbnRhbFNwYWNlKSA+IDAgPyB3aWR0aC5kaXN0YW5jZSAtIGNvbmZpZy5ob3Jpem9udGFsU3BhY2UgOiBMSVNUX0NBUkRfTUlOX1NJWkVcbiAgfVxuXG4gIGNvbnN0IGNhcmRTaXplV2lkdGhVbml0ID0ge1xuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGppbXVVdGlscy50b0xpbmVhclVuaXQoY2FyZFNpemVJbkNvbmZpZy5oZWlnaHQpXG4gIH1cbiAgcmV0dXJuIGNhcmRTaXplV2lkdGhVbml0XG59XG5cbmZ1bmN0aW9uIGluaXRDYXJkU2l6ZSAoc2l6ZVVuaXQ6IExpbmVhclVuaXQsIHdpZGdldFNpemU6IG51bWJlcik6IG51bWJlciB7XG4gIGlmIChzaXplVW5pdC51bml0ID09PSBEaXN0YW5jZVVuaXRzLlBFUkNFTlRBR0UpIHtcbiAgICByZXR1cm4gKHNpemVVbml0LmRpc3RhbmNlIC8gMTAwKSAqIHdpZGdldFNpemVcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2l6ZVVuaXQuZGlzdGFuY2VcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVNpemUgKFxuICB3aWRnZXRSZWN0OiBFbGVtZW50U2l6ZSxcbiAgbGlzdEhlaWdodDogbnVtYmVyLFxuICBwcm9wczogTGlzdFByb3BzLFxuICBjb2x1bW5Db3VudDogbnVtYmVyXG4pOiBudW1iZXIge1xuICBjb25zdCBjYXJkU2l6ZSA9IGdldENhcmRTaXplTnVtYmVySW5Db25maWcocHJvcHMsIHdpZGdldFJlY3QpXG4gIGNvbnN0IHsgY29uZmlnLCBpc0hlaWdodEF1dG8sIGlzV2lkdGhBdXRvIH0gPSBwcm9wc1xuICBsZXQgcGFnZVNpemVcbiAgaWYgKGNvbmZpZy5wYWdlU3R5bGUgPT09IFBhZ2VTdHlsZS5TY3JvbGwpIHtcbiAgICBpZiAoIXdpZGdldFJlY3QpIHtcbiAgICAgIHJldHVybiAwXG4gICAgfVxuICAgIHN3aXRjaCAoY29uZmlnPy5sYXlvdXRUeXBlKSB7XG4gICAgICBjYXNlIExpc3RMYXlvdXRUeXBlLlJvdzpcbiAgICAgICAgaWYgKHdpZGdldFJlY3QuaGVpZ2h0ID09PSAwKSByZXR1cm4gMFxuICAgICAgICBpZiAoaXNIZWlnaHRBdXRvKSB7XG4gICAgICAgICAgbGlzdEhlaWdodCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0XG4gICAgICAgIH1cbiAgICAgICAgcGFnZVNpemUgPSBNYXRoLmNlaWwobGlzdEhlaWdodCAvIChjYXJkU2l6ZS5oZWlnaHQgKyBjb25maWcuc3BhY2UpKSArIDFcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgTGlzdExheW91dFR5cGUuQ29sdW1uOlxuICAgICAgICBpZiAod2lkZ2V0UmVjdC53aWR0aCA9PT0gMCkgcmV0dXJuIDBcbiAgICAgICAgbGV0IGxpc3RXaWR0aCA9IHdpZGdldFJlY3Qud2lkdGhcbiAgICAgICAgaWYgKGlzV2lkdGhBdXRvKSB7XG4gICAgICAgICAgbGlzdFdpZHRoID0gZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aFxuICAgICAgICB9XG4gICAgICAgIHBhZ2VTaXplID0gTWF0aC5jZWlsKGxpc3RXaWR0aCAvIChjYXJkU2l6ZS53aWR0aCArIGNvbmZpZy5zcGFjZSkpICsgMVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBMaXN0TGF5b3V0VHlwZS5HUklEOlxuICAgICAgICBpZiAod2lkZ2V0UmVjdC5oZWlnaHQgPT09IDApIHJldHVybiAwXG4gICAgICAgIGlmIChpc0hlaWdodEF1dG8pIHtcbiAgICAgICAgICBsaXN0SGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHRcbiAgICAgICAgfVxuICAgICAgICBwYWdlU2l6ZSA9IE1hdGguY2VpbChsaXN0SGVpZ2h0IC8gKGNhcmRTaXplLmhlaWdodCArIGNvbmZpZy5zcGFjZSkpICogY29sdW1uQ291bnRcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5uYXZpZ2F0b3JPcGVuKSB7XG4gICAgICBwYWdlU2l6ZSA9IE1hdGgubWF4KHBhZ2VTaXplLCBjb25maWcuc2Nyb2xsU3RlcClcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGFnZVNpemUgPSBjb25maWcuaXRlbXNQZXJQYWdlXG4gIH1cbiAgcmV0dXJuIHBhZ2VTaXplXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCb3R0b21Ub29sSCAoXG4gIHBhZ2luYXRvckRpdjogSFRNTERpdkVsZW1lbnQsXG4gIHNob3dCb3R0b21Ub29sczogYm9vbGVhblxuKTogbnVtYmVyIHtcbiAgbGV0IGJvdHRvbVRvb2xIID0gQk9UVE9NX1RPT0xfSFxuICBpZiAocGFnaW5hdG9yRGl2KSB7XG4gICAgYm90dG9tVG9vbEggPSBwYWdpbmF0b3JEaXYuY2xpZW50SGVpZ2h0XG4gIH1cbiAgYm90dG9tVG9vbEggPSBzaG93Qm90dG9tVG9vbHMgPyBib3R0b21Ub29sSCA6IDBcbiAgcmV0dXJuIGJvdHRvbVRvb2xIXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaXN0SGVpZ2h0IChcbiAgd2lkZ2V0UmVjdCxcbiAgYm90dG9tVG9vbEg6IG51bWJlcixcbiAgc2hvd1RvcFRvb2w6IGJvb2xlYW5cbik6IG51bWJlciB7XG4gIGNvbnN0IGRzVG9vbEggPSBzaG93VG9wVG9vbCA/IERTX1RPT0xfSCA6IDBcbiAgaWYgKCF3aWRnZXRSZWN0KSByZXR1cm4gMFxuICBjb25zdCBoZWlnaHQgPSB3aWRnZXRSZWN0LmhlaWdodCAtIGRzVG9vbEggLSBib3R0b21Ub29sSFxuICByZXR1cm4gaGVpZ2h0IDwgMCA/IDAgOiBoZWlnaHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dCb3R0b21Ub29scyAocHJvcHM6IExpc3RQcm9wcywgc3RhdGU6IExpc3RTdGF0ZXMpOiBib29sZWFuIHtcbiAgY29uc3QgeyBjb25maWcgfSA9IHByb3BzXG4gIGNvbnN0IHsgZGF0YXNvdXJjZSB9ID0gc3RhdGVcbiAgcmV0dXJuIChcbiAgICAhIWRhdGFzb3VyY2UgJiZcbiAgICAhKGNvbmZpZy5wYWdlU3R5bGUgPT09IFBhZ2VTdHlsZS5TY3JvbGwgJiYgIWNvbmZpZy5uYXZpZ2F0b3JPcGVuKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93VG9wVG9vbHMgKHByb3BzOiBMaXN0UHJvcHMpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBjaGVja0lzU2hvd0xpc3RUb29sc09ubHkocHJvcHMpIHx8IGNoZWNrSXNTaG93RGF0YUFjdGlvbihwcm9wcylcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tJc1Nob3dMaXN0VG9vbHNPbmx5IChwcm9wczogTGlzdFByb3BzKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgc2hvd1NvcnQocHJvcHMpIHx8XG4gICAgc2hvd0Rpc3BsYXlTZWxlY3RlZE9ubHkocHJvcHMpIHx8XG4gICAgc2hvd0NsZWFyU2VsZWN0ZWQocHJvcHMpIHx8XG4gICAgc2hvd0ZpbHRlcihwcm9wcykgfHxcbiAgICBzaG93U2VhcmNoKHByb3BzKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RzQ29uZmlndXJlZCAocHJvcHM6IExpc3RQcm9wcyk6IGJvb2xlYW4ge1xuICBjb25zdCB7IHVzZURhdGFTb3VyY2VzIH0gPSBwcm9wc1xuICByZXR1cm4gISF1c2VEYXRhU291cmNlcyAmJiAhIXVzZURhdGFTb3VyY2VzWzBdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lzU2hvd0RhdGFBY3Rpb24gKHByb3BzOiBMaXN0UHJvcHMpOiBib29sZWFuIHtcbiAgY29uc3QgeyBpZCB9ID0gcHJvcHNcbiAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwU3RvcmUoKT8uZ2V0U3RhdGUoKT8uYXBwQ29uZmlnXG4gIGNvbnN0IHdpZGdldEpzb24gPSBhcHBDb25maWc/LndpZGdldHM/LltpZF1cbiAgY29uc3QgZW5hYmxlRGF0YUFjdGlvbiA9IHdpZGdldEpzb24/LmVuYWJsZURhdGFBY3Rpb24gPT09IHVuZGVmaW5lZCA/IHRydWUgOiB3aWRnZXRKc29uPy5lbmFibGVEYXRhQWN0aW9uXG4gIHJldHVybiBlbmFibGVEYXRhQWN0aW9uICYmIGlzRHNDb25maWd1cmVkKHByb3BzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1NvcnQgKHByb3BzOiBMaXN0UHJvcHMpOiBib29sZWFuIHtcbiAgY29uc3QgeyBjb25maWcgfSA9IHByb3BzXG4gIGlmICghY29uZmlnLnNvcnRPcGVuIHx8ICFjb25maWcuc29ydHMgfHwgY29uZmlnLnNvcnRzLmxlbmd0aCA8IDEpIHJldHVybiBmYWxzZVxuICBjb25zdCBzb3J0cyA9IGNvbmZpZy5zb3J0c1xuICBsZXQgaXNWYWxpZCA9IGZhbHNlXG4gIHNvcnRzLnNvbWUoKHNvcnQ6IFNvcnRTZXR0aW5nT3B0aW9uKSA9PiB7XG4gICAgc29ydC5ydWxlICYmXG4gICAgICBzb3J0LnJ1bGUuc29tZShzb3J0RGF0YSA9PiB7XG4gICAgICAgIGlmIChzb3J0RGF0YSAmJiAhIXNvcnREYXRhLmppbXVGaWVsZE5hbWUpIHtcbiAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1ZhbGlkXG4gICAgICB9KVxuICAgIHJldHVybiBpc1ZhbGlkXG4gIH0pXG4gIHJldHVybiBpc1ZhbGlkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93U2VhcmNoIChwcm9wczogTGlzdFByb3BzKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgY29uZmlnIH0gPSBwcm9wc1xuICByZXR1cm4gY29uZmlnLnNlYXJjaE9wZW4gJiYgY29uZmlnLnNlYXJjaEZpZWxkcyAmJiBjb25maWcuc2VhcmNoRmllbGRzICE9PSAnJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0ZpbHRlciAocHJvcHM6IExpc3RQcm9wcyk6IGJvb2xlYW4ge1xuICBjb25zdCB7IGNvbmZpZyB9ID0gcHJvcHNcbiAgcmV0dXJuIGNvbmZpZy5maWx0ZXJPcGVuICYmICEhY29uZmlnLmZpbHRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0Rpc3BsYXlTZWxlY3RlZE9ubHkgKHByb3BzOiBMaXN0UHJvcHMpOiBib29sZWFuIHtcbiAgY29uc3QgeyBjb25maWcgfSA9IHByb3BzXG4gIHJldHVybiAoXG4gICAgY29uZmlnLnNob3dTZWxlY3RlZE9ubHlPcGVuICYmXG4gICAgY29uZmlnLmNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0uc2VsZWN0aW9uTW9kZSAhPT0gU2VsZWN0aW9uTW9kZVR5cGUuTm9uZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93Q2xlYXJTZWxlY3RlZCAocHJvcHM6IExpc3RQcm9wcyk6IGJvb2xlYW4ge1xuICBjb25zdCB7IGNvbmZpZyB9ID0gcHJvcHNcbiAgcmV0dXJuIChcbiAgICBjb25maWcuc2hvd0NsZWFyU2VsZWN0ZWQgJiZcbiAgICBjb25maWcuY2FyZENvbmZpZ3NbU3RhdHVzLlNlbGVjdGVkXS5zZWxlY3Rpb25Nb2RlICE9PSBTZWxlY3Rpb25Nb2RlVHlwZS5Ob25lXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdGlvbk9ic2VydmVyIChcbiAgcmVmOiBIVE1MRWxlbWVudCxcbiAgcm9vdEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBvbkNoYW5nZT86IChpc0luOiBib29sZWFuKSA9PiB2b2lkLFxuICBvcHRpb25zPzogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJJbml0XG4pIHtcbiAgY29uc3Qgb3B0aW9uOiBhbnkgPSBvcHRpb25zIHx8IHsgcm9vdDogcm9vdEVsZW1lbnQgfVxuICBjb25zdCBjYWxsYmFjayA9IGZ1bmN0aW9uIChcbiAgICBlbnRyaWVzOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W10sXG4gICAgb2JzZXJ2ZXI6IEludGVyc2VjdGlvbk9ic2VydmVyXG4gICkge1xuICAgIGNvbnN0IGlzSW4gPSBlbnRyaWVzWzBdLmludGVyc2VjdGlvblJhdGlvID4gMFxuICAgIG9uQ2hhbmdlICYmIG9uQ2hhbmdlKGlzSW4pXG4gIH1cbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIG9wdGlvbilcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYpXG4gIHJldHVybiBvYnNlcnZlclxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/utils/utils.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/widget.tsx":
/*!***************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/widget.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Widget\": () => (/* binding */ Widget),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ \"./extensions/widgets/common/list/src/config.ts\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var _utils_list_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/list-service */ \"./extensions/widgets/common/list/src/runtime/utils/list-service.tsx\");\n/* harmony import */ var _styles_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./styles/style */ \"./extensions/widgets/common/list/src/runtime/styles/style.tsx\");\n/* harmony import */ var _components_list_card_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/list-card-editor */ \"./extensions/widgets/common/list/src/runtime/components/list-card-editor.tsx\");\n/* harmony import */ var _components_list_card_viewer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/list-card-viewer */ \"./extensions/widgets/common/list/src/runtime/components/list-card-viewer.tsx\");\n/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./translations/default */ \"./extensions/widgets/common/list/src/runtime/translations/default.ts\");\n/* harmony import */ var _components_search_box__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/search-box */ \"./extensions/widgets/common/list/src/runtime/components/search-box.tsx\");\n/* harmony import */ var react_window__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react-window */ \"./node_modules/react-window/dist/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var _components_my_dropdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/my-dropdown */ \"./extensions/widgets/common/list/src/runtime/components/my-dropdown.tsx\");\n/* harmony import */ var _components_filter_picker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/filter-picker */ \"./extensions/widgets/common/list/src/runtime/components/filter-picker.tsx\");\n/* harmony import */ var _components_bottom_tools__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/bottom-tools */ \"./extensions/widgets/common/list/src/runtime/components/bottom-tools.tsx\");\n/* harmony import */ var _version_manager__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../version-manager */ \"./extensions/widgets/common/list/src/version-manager.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/utils */ \"./extensions/widgets/common/list/src/runtime/utils/utils.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_menu__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! jimu-icons/outlined/editor/menu */ \"./jimu-icons/outlined/editor/menu.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ \"./jimu-icons/outlined/editor/search.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_show_selection__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! jimu-icons/outlined/editor/show-selection */ \"./jimu-icons/outlined/editor/show-selection.tsx\");\n/* harmony import */ var jimu_icons_outlined_editor_trash_check__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! jimu-icons/outlined/editor/trash-check */ \"./jimu-icons/outlined/editor/trash-check.tsx\");\n/* harmony import */ var jimu_icons_outlined_suggested_warning__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! jimu-icons/outlined/suggested/warning */ \"./jimu-icons/outlined/suggested/warning.tsx\");\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst defaultRecordsItem = { fake: true };\nconst MESSAGES = Object.assign({}, _translations_default__WEBPACK_IMPORTED_MODULE_8__[\"default\"], jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages);\nclass Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.isFirstLoad = true;\n        this.isHasScrolled = false; /* Whether the List has scrolled */\n        this.isHasRenderList = false;\n        this.isHasPublishMessageAction = false;\n        this.isSetlayout = false;\n        this.isHasInitCurrentCardSize = false;\n        this.updateWidgetRectTimeout = undefined;\n        this.setListLayoutInWidgetState = () => {\n            const { layoutId, layoutItemId, id, selectionIsSelf } = this.props;\n            if (layoutId && id && layoutItemId && !this.isSetlayout && selectionIsSelf) {\n                this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'layoutInfo', {\n                    layoutId,\n                    layoutItemId\n                }));\n                this.isSetlayout = true;\n            }\n        };\n        this.getBodySize = () => {\n            this.bodySize = {\n                scrollWidth: document.documentElement.scrollWidth,\n                scrollHeight: document.documentElement.scrollHeight,\n                clientWidth: document.documentElement.clientWidth,\n                clientHeight: document.documentElement.clientHeight\n            };\n        };\n        this.updateListInBuilder = (preProps, preState) => {\n            var _a;\n            const { config } = this.props;\n            if (!window.jimuConfig.isInBuilder) {\n                return false;\n            }\n            const currentCardSize = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeNumberInConfig(this.props, (_a = this.state) === null || _a === void 0 ? void 0 : _a.widgetRect);\n            // listen layout properties change and then update list\n            let hideCardTool = this.layoutPropertiesChange(preProps, preState);\n            this.updateScrollContentSize(preProps.config);\n            // listen paging type change\n            this.pageTypeChange(preProps);\n            // listen useDatasources change\n            this.useDatasourcesChange(preProps);\n            // listening listDiv size's change\n            hideCardTool = this.listDivSizeChange(preProps, preState, currentCardSize, hideCardTool);\n            if (hideCardTool) {\n                this.updateCardToolPosition();\n            }\n            // listen sort change\n            this.listSortChange(preProps);\n            // listen filter change\n            this.listFilterChange(preProps);\n            const isSelectionModeChange = config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !==\n                preProps.config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode;\n            if (isSelectionModeChange) {\n                this.selectRecords([]);\n            }\n        };\n        this.layoutPropertiesChange = (preProps, preState) => {\n            var _a, _b;\n            const { config, top, left } = this.props;\n            let hideCardTool = false;\n            if (!window.jimuConfig.isInBuilder) {\n                return false;\n            }\n            let refreshList = false;\n            // listen layout properties change and then update list\n            const currentCardSize = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeNumberInConfig(this.props, this.state.widgetRect);\n            const oldCardSize = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeNumberInConfig(preProps, preState === null || preState === void 0 ? void 0 : preState.widgetRect);\n            this.updateScrollContentSize(preProps.config);\n            const isWidgetPositionChange = top !== preProps.top || left !== preProps.left;\n            const isListLayoutChange = (config === null || config === void 0 ? void 0 : config.layoutType) !== preProps.config.layoutType;\n            const isEqualCardSizeByListLayout = !_utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualCardSizeByListLayout(oldCardSize, currentCardSize, config.layoutType); // for change template\n            if (isListLayoutChange ||\n                isEqualCardSizeByListLayout ||\n                isWidgetPositionChange) {\n                hideCardTool = true;\n                if (isEqualCardSizeByListLayout) {\n                    const newState = {\n                        currentCardSize\n                    };\n                    refreshList = true;\n                    this.setState(newState, () => {\n                        if (refreshList)\n                            this.refreshList();\n                    });\n                }\n                else if (isListLayoutChange) {\n                    this.handleResizeCard(this.state.currentCardSize, true, false, false, true);\n                }\n            }\n            if (!refreshList) {\n                const isSpaceNotChange = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID\n                    ? _utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(config === null || config === void 0 ? void 0 : config.horizontalSpace, (_a = preProps.config) === null || _a === void 0 ? void 0 : _a.horizontalSpace) && _utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(config === null || config === void 0 ? void 0 : config.verticalSpace, (_b = preProps.config) === null || _b === void 0 ? void 0 : _b.verticalSpace)\n                    : _utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(config.space, preProps.config.space);\n                if (!isSpaceNotChange || config.layoutType !== preProps.config.layoutType) {\n                    refreshList = true;\n                    this.refreshList();\n                }\n            }\n            return hideCardTool;\n        };\n        this.listDivSizeChange = (preProps, preState, currentCardSize, hideCardTool) => {\n            var _a;\n            const { config, isHeightAuto } = this.props;\n            const { listDivSize } = this.state;\n            const showBT = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(this.props, this.state);\n            const oldShowBT = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(preProps, preState);\n            const showDS = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(this.props);\n            const oldShowDS = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(preProps);\n            if (showBT !== oldShowBT || showDS !== oldShowDS) {\n                if (!isHeightAuto) {\n                    if (config.layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column) {\n                        let cardH = ((_a = this.state.widgetRect) === null || _a === void 0 ? void 0 : _a.height) || (listDivSize === null || listDivSize === void 0 ? void 0 : listDivSize.clientHeight);\n                        cardH -=\n                            _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getBottomToolH(this.paginatorDiv.current, showBT) +\n                                (showDS ? 1 : 0) * _config__WEBPACK_IMPORTED_MODULE_2__.DS_TOOL_H;\n                        if (cardH < _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE)\n                            return;\n                        const cardSize = {\n                            height: cardH,\n                            width: currentCardSize.width\n                        };\n                        this.handleResizeCard(cardSize, true, false, false, true);\n                    }\n                }\n                else {\n                    hideCardTool = true;\n                }\n            }\n            return hideCardTool;\n        };\n        this.appModeChange = preProps => {\n            const { appMode, selectionIsSelf, selectionStatus, builderStatus } = this.props;\n            if (preProps.appMode !== appMode) {\n                if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run) {\n                    this.editBuilderAndSettingStatus(_config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular);\n                }\n                else {\n                    if (selectionStatus !== builderStatus) {\n                        // change status by toc\n                        if (!selectionStatus) {\n                            if (!selectionIsSelf) {\n                                this.editBuilderAndSettingStatus(_config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular);\n                            }\n                        }\n                        else {\n                            this.editBuilderAndSettingStatus(selectionStatus);\n                        }\n                    }\n                    this.setState({\n                        showSelectionOnly: false,\n                        searchText: undefined,\n                        filterApplied: false,\n                        hoverIndex: -1\n                    }, () => {\n                        this.scrollToIndex(0);\n                    });\n                }\n            }\n        };\n        this.pageTypeChange = preProps => {\n            const { pageStyle } = this.props.config;\n            const oldPageStyle = preProps.config.pageStyle;\n            if (pageStyle !== oldPageStyle) {\n                this.setState({\n                    page: 1\n                });\n            }\n        };\n        this.useDatasourcesChange = preProps => {\n            const { useDataSources } = this.props;\n            const oldUseDataSources = preProps.useDataSources;\n            if (useDataSources && useDataSources[0]) {\n                const oldUseDataSource = oldUseDataSources && oldUseDataSources[0];\n                if (!oldUseDataSource ||\n                    oldUseDataSource.dataSourceId !== useDataSources[0].dataSourceId) {\n                    // reset querysStart\n                    this.setState({\n                        page: 1\n                    });\n                }\n            }\n            else {\n                // remove ds maybe\n                this.setState({\n                    datasource: undefined\n                });\n            }\n        };\n        this.listSortChange = preProps => {\n            const { config } = this.props;\n            if (config.sortOpen) {\n                const sorts = config.sorts;\n                const oldSorts = preProps.config.sorts;\n                if (sorts !== oldSorts) {\n                    this.setState({\n                        sortOptionName: undefined\n                    });\n                }\n            }\n        };\n        this.listFilterChange = preProps => {\n            const { config } = this.props;\n            if (config.filterOpen) {\n                const filter = config.filter;\n                const oldFilter = preProps.config.filter;\n                if (filter !== oldFilter) {\n                    this.setState({\n                        currentFilter: undefined,\n                        filterApplied: false\n                    });\n                }\n            }\n        };\n        this.setSelectionStatus = () => {\n            const { id, selectionIsInSelf } = this.props;\n            this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'selectionIsInSelf', selectionIsInSelf));\n        };\n        this.updateScrollContentSize = preConfig => {\n            const { config } = this.props;\n            const isSpaceNotChange = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID\n                ? _utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(config === null || config === void 0 ? void 0 : config.horizontalSpace, preConfig === null || preConfig === void 0 ? void 0 : preConfig.horizontalSpace) && _utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(config === null || config === void 0 ? void 0 : config.verticalSpace, preConfig === null || preConfig === void 0 ? void 0 : preConfig.verticalSpace)\n                : _utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(config.space, preConfig.space);\n            if (config.layoutType !== preConfig.layoutType || !isSpaceNotChange) {\n                this.setScrollContentSize();\n            }\n        };\n        this.scrollToSelectedItems = (datasource) => {\n            const selectedRecordIds = datasource.getSelectedRecordIds();\n            if (this.isMySelected) {\n                this.isMySelected = false;\n                this.lastSelectedRecordIds = selectedRecordIds || [];\n                return;\n            }\n            if (selectedRecordIds && selectedRecordIds.length > 0) {\n                let isSame = true;\n                if (!this.lastSelectedRecordIds ||\n                    selectedRecordIds.length !== this.lastSelectedRecordIds.length) {\n                    isSame = false;\n                }\n                else {\n                    selectedRecordIds.some(recordId => {\n                        const rId = this.lastSelectedRecordIds.find(lastRecordId => lastRecordId === recordId);\n                        if (!rId) {\n                            isSame = false;\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                }\n                if (!isSame || this.needScroll) {\n                    let index = -1;\n                    this.records &&\n                        this.records.find((record, i) => {\n                            var _a;\n                            if (((_a = record.getId) === null || _a === void 0 ? void 0 : _a.call(record)) === selectedRecordIds[0]) {\n                                index = i;\n                                return true;\n                            }\n                            else {\n                                return false;\n                            }\n                        });\n                    if (index === -1) {\n                        // Can't find it, need to search in all records again\n                        const records = datasource.getRecords();\n                        records &&\n                            records.find((record, i) => {\n                                var _a;\n                                if (((_a = record.getId) === null || _a === void 0 ? void 0 : _a.call(record)) === selectedRecordIds[0]) {\n                                    index = i;\n                                    return true;\n                                }\n                                else {\n                                    return false;\n                                }\n                            });\n                        if (index > -1) {\n                            const newPage = Math.ceil((index + 1) / this.getPageSize());\n                            this.needScroll = true;\n                            this.setState({\n                                page: newPage\n                            });\n                        }\n                    }\n                    else {\n                        this.scrollToIndex(index);\n                        this.needScroll = false;\n                    }\n                }\n            }\n            this.lastSelectedRecordIds = selectedRecordIds || [];\n        };\n        this.onDSCreated = (ds) => {\n            this.setState({\n                datasource: ds\n            });\n        };\n        this.onResize = (width, height) => {\n            const newWidgetRect = {\n                width,\n                height\n            };\n            const { config } = this.props;\n            const { isResizingCard } = this.state;\n            if (isResizingCard) {\n                return;\n            }\n            const showBottomTool = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(this.props, this.state);\n            const bottomToolH = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getBottomToolH(this.paginatorDiv.current, showBottomTool);\n            const showTopTool = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(this.props);\n            const listH = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getListHeight(newWidgetRect, bottomToolH, showTopTool);\n            const oldCardSize = this.getOldCardSizeWhenResize(newWidgetRect);\n            const cardSize = {\n                width: oldCardSize.width,\n                height: oldCardSize.height\n            };\n            let needRefreshList = false;\n            if (config.lockItemRatio && config.layoutType !== _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) {\n                const ratio = cardSize.width / cardSize.height;\n                switch (config === null || config === void 0 ? void 0 : config.layoutType) {\n                    case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column:\n                        cardSize.height = listH;\n                        cardSize.width = listH * ratio;\n                        if (!_utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(cardSize.width, oldCardSize.width)) {\n                            needRefreshList = true;\n                        }\n                        break;\n                    case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row:\n                        cardSize.height = width / ratio;\n                        cardSize.width = width;\n                        if (!_utils_utils__WEBPACK_IMPORTED_MODULE_15__.isEqualNumber(cardSize.height, oldCardSize.height)) {\n                            needRefreshList = true;\n                        }\n                        break;\n                }\n            }\n            else {\n                switch (config === null || config === void 0 ? void 0 : config.layoutType) {\n                    case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column:\n                        cardSize.height = listH;\n                        break;\n                    case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row:\n                        cardSize.width = width;\n                        break;\n                }\n            }\n            const notResetCardSize = cardSize.width < _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE || cardSize.height < _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE || newWidgetRect.width === 0 || newWidgetRect.height === 0;\n            if (notResetCardSize) {\n                return;\n            }\n            this.setState({\n                widgetRect: newWidgetRect,\n                currentCardSize: cardSize\n            }, () => {\n                this.isHasInitCurrentCardSize = true;\n                this.editListSizeInRunTime(newWidgetRect);\n                if (needRefreshList) {\n                    this.refreshList();\n                }\n            });\n            if (this.resizeTimeout) {\n                clearTimeout(this.resizeTimeout);\n                this.resizeTimeout = undefined;\n            }\n            if (config.lockItemRatio) {\n                this.resizeTimeout = setTimeout(() => {\n                    this.handleResizeCard(cardSize, true, false, false, true);\n                }, 500);\n            }\n            this.updateCardToolPosition();\n            this.setListDivSize();\n        };\n        this.getOldCardSizeWhenResize = (newWidgetRect) => {\n            //When the width and height are percentages, the Onresize method will be automatically called once when the List is loaded. At this time, the current List size should be used to obtain the oldCardSize\n            const { currentCardSize } = this.state;\n            if (!this.isHasInitCurrentCardSize) {\n                return _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeNumberInConfig(this.props, newWidgetRect);\n            }\n            else {\n                return currentCardSize;\n            }\n        };\n        this.updateCardToolPosition = () => {\n            const { selectionIsSelf } = this.props;\n            const { hideCardTool } = this.state;\n            if (!selectionIsSelf || hideCardTool)\n                return;\n            this.setState({\n                hideCardTool: true\n            });\n            if (this.updateCardToolTimeout) {\n                clearTimeout(this.updateCardToolTimeout);\n                this.updateCardToolTimeout = undefined;\n            }\n            this.updateCardToolTimeout = setTimeout(() => {\n                this.setState({\n                    hideCardTool: false\n                });\n            }, 500);\n        };\n        this.refreshList = (shouldForceUpdate = true) => {\n            var _a, _b, _c, _d;\n            if (this.listRef.current) {\n                ((_b = (_a = this.listRef) === null || _a === void 0 ? void 0 : _a.current) === null || _b === void 0 ? void 0 : _b.resetAfterIndex) && ((_d = (_c = this.listRef) === null || _c === void 0 ? void 0 : _c.current) === null || _d === void 0 ? void 0 : _d.resetAfterIndex(0, shouldForceUpdate));\n            }\n        };\n        this.isDsConfigured = () => {\n            const { useDataSources } = this.props;\n            return !!useDataSources && !!useDataSources[0];\n        };\n        this.selectRecords = (records) => {\n            const { datasource } = this.state;\n            if (datasource) {\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataRecordsSelectionChangeMessage(this.props.id, records));\n                if (records) {\n                    this.isMySelected = true;\n                    this.isHasPublishMessageAction = true;\n                    datasource.selectRecordsByIds(records.map(record => record.getId()));\n                    const outputDs = this.getOutputDs();\n                    outputDs &&\n                        outputDs.selectRecordsByIds(records.map(record => record.getId()));\n                }\n                else {\n                    this.isHasPublishMessageAction = false;\n                }\n            }\n        };\n        this.formatMessage = (id, values) => {\n            return this.props.intl.formatMessage({ id: id, defaultMessage: MESSAGES[id] }, values);\n        };\n        // call exec manuly\n        this.editStatus = (name, value) => {\n            const { dispatch, id } = this.props;\n            dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, name, value));\n        };\n        this.editWidgetConfig = newConfig => {\n            if (!window.jimuConfig.isInBuilder)\n                return;\n            const appConfigAction = this.props.builderSupportModules.jimuForBuilderLib.getAppConfigAction();\n            appConfigAction.editWidgetConfig(this.props.id, newConfig).exec();\n        };\n        this.scrollToIndex = (index, type = 'start') => {\n            const { config } = this.props;\n            if (this.listRef.current) {\n                if ((config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) {\n                    const columnCount = this.getItemColumnCount();\n                    const rowIndex = Math.floor(index / columnCount);\n                    this.listRef.current.scrollToItem({\n                        columnIndex: index - rowIndex * columnCount,\n                        rowIndex: rowIndex,\n                        align: type\n                    });\n                }\n                else {\n                    this.listRef.current.scrollToItem(index, type);\n                }\n            }\n        };\n        this.isEditing = () => {\n            const { appMode, config, selectionIsSelf, selectionIsInSelf } = this.props;\n            if (!window.jimuConfig.isInBuilder)\n                return false;\n            return ((selectionIsSelf || selectionIsInSelf) &&\n                window.jimuConfig.isInBuilder &&\n                appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run &&\n                config.isItemStyleConfirm);\n        };\n        this.handleItemChange = (itemRecord) => {\n            const { config } = this.props;\n            const { datasource } = this.state;\n            if (!datasource || !itemRecord)\n                return;\n            let selectedRecords = datasource.getSelectedRecords() || [];\n            if (config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode &&\n                config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !==\n                    _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None) {\n                const recordId = itemRecord === null || itemRecord === void 0 ? void 0 : itemRecord.getId();\n                const record = selectedRecords.find(record => record.getId() === recordId);\n                if (config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode ===\n                    _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.Single) {\n                    if (record) {\n                        this.selectRecords([]);\n                        this.setState({ showSelectionOnly: false });\n                    }\n                    else {\n                        this.selectRecords([itemRecord]);\n                    }\n                }\n                else {\n                    if (record) {\n                        selectedRecords = selectedRecords.filter(record => record.getId() !== recordId);\n                    }\n                    else {\n                        selectedRecords = [itemRecord].concat(selectedRecords);\n                    }\n                    this.selectRecords(selectedRecords);\n                }\n            }\n        };\n        this.handleListPointerDown = evt => {\n            this.setState({\n                forceShowMask: true\n            });\n            if (this.mouseClickTimeout) {\n                clearTimeout(this.mouseClickTimeout);\n                this.mouseClickTimeout = undefined;\n            }\n            this.mouseClickTimeout = setTimeout(() => {\n                this.setState({\n                    forceShowMask: false\n                });\n            }, 200);\n        };\n        this.handleScrollUp = e => {\n            const scrollStep = this.getScrollStep();\n            const listVisibleStartIndex = this.getListVisibleStartIndex();\n            let toIndex = listVisibleStartIndex - scrollStep;\n            if (toIndex < 0) {\n                toIndex = 0;\n            }\n            this.scrollToIndex(toIndex, 'start');\n        };\n        this.handleScrollDown = e => {\n            const scrollStep = this.getScrollStep();\n            const { listVisibleStopIndex } = this;\n            const listVisibleStartIndex = this.getListVisibleStartIndex();\n            if (listVisibleStopIndex + scrollStep >= this.records.length - 1 &&\n                this.records.length < this.getTotalCount()) {\n                this.isSwitchPage = true;\n                this.setState({\n                    page: this.state.page + 1\n                });\n            }\n            else {\n                this.scrollToIndex(listVisibleStartIndex + scrollStep, 'start');\n            }\n        };\n        this.getScrollStep = () => {\n            const { scrollStep, layoutType } = this.props.config;\n            const columnCount = this.getItemColumnCount();\n            return layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? scrollStep * columnCount : scrollStep;\n        };\n        this.handleSwitchPage = (pageNum) => {\n            const totalPages = this.getTotalPage();\n            if (pageNum < 1 || pageNum > totalPages)\n                return;\n            if (pageNum !== this.state.page) {\n                this.isSwitchPage = true;\n                this.lastQueryStart = this.state.page;\n                this.setState({\n                    page: pageNum\n                });\n            }\n        };\n        this.handleListMouseLeave = () => {\n            if (this.isEditing())\n                return;\n            this.setState({\n                hoverIndex: -1\n            });\n        };\n        this.handleListMouseMove = (itemIndex) => {\n            if (this.isEditing())\n                return;\n            if (itemIndex === this.state.hoverIndex)\n                return;\n            this.setState({\n                hoverIndex: itemIndex\n            });\n        };\n        this.lastScrollOffset = 0;\n        this.handleListScroll = ({ scrollDirection, scrollOffset, scrollTop, scrollUpdateWasRequested }) => {\n            var _a, _b;\n            const { appMode, config } = this.props;\n            const listDiv = this.listOutDivRef;\n            const { datasource, scrollStatus } = this.state;\n            this.lastScrollOffset = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? scrollTop : scrollOffset;\n            if (!listDiv || ((_b = (_a = this.records) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < 1)\n                return;\n            if (config.pageStyle === _config__WEBPACK_IMPORTED_MODULE_2__.PageStyle.Scroll &&\n                this.queryStatus !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loading &&\n                datasource &&\n                (!window.jimuConfig.isInBuilder || appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run)) {\n                this.isHasScrolled = true;\n                if (_utils_utils__WEBPACK_IMPORTED_MODULE_15__.isScrollStart(listDiv, this.lastScrollOffset)) {\n                    if (scrollStatus !== 'start') {\n                        this.setState({\n                            scrollStatus: 'start'\n                        });\n                    }\n                }\n                else {\n                    if (scrollStatus !== 'mid') {\n                        this.setState({\n                            scrollStatus: 'mid'\n                        });\n                    }\n                }\n            }\n        };\n        this.getTotalPage = () => {\n            const { totalCount } = this;\n            const { config } = this.props;\n            const total = totalCount;\n            const totalPage = Math.floor(total / config.itemsPerPage);\n            const mode = total % config.itemsPerPage;\n            return mode === 0 ? totalPage : totalPage + 1;\n        };\n        this.getListVisibleStartIndex = () => {\n            const { lastScrollOffset } = this;\n            const { config } = this.props;\n            const itemSize = this.itemSize(0);\n            const base = (lastScrollOffset * 1.0) / itemSize;\n            let index = Math.floor(base);\n            const mo = (base - index) * itemSize;\n            const space = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? config === null || config === void 0 ? void 0 : config.verticalSpace : config === null || config === void 0 ? void 0 : config.space;\n            const columnCount = this.getItemColumnCount();\n            index = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? index * columnCount : index;\n            if (mo > itemSize - space) {\n                index++;\n            }\n            return index;\n        };\n        this.handleSortOptionChange = (evt, item) => {\n            this.setState({\n                sortOptionName: item.label,\n                page: 1\n            }, () => {\n                // this.selectRecords([])\n            });\n        };\n        this.handleSearchTextChange = searchText => {\n            if (searchText === '' || !searchText) {\n                this.handleSearchSubmit(undefined);\n            }\n            this.setState({\n                searchSuggestion: []\n            });\n            clearTimeout(this.suggestionsQueryTimeout);\n            this.suggestionsQueryTimeout = setTimeout(() => {\n                this.getSearchSuggestions(searchText);\n            }, 200);\n        };\n        this.getSearchSuggestions = searchText => {\n            const { config } = this.props;\n            const { datasource } = this.state;\n            if ((searchText === null || searchText === void 0 ? void 0 : searchText.length) < 3) {\n                return false;\n            }\n            (0,_utils_list_service__WEBPACK_IMPORTED_MODULE_4__.fetchSuggestionRecords)(searchText, config, datasource).then(searchSuggestion => {\n                this.setState({\n                    searchSuggestion: searchSuggestion\n                });\n            });\n        };\n        this.handleSearchSubmit = (searchText, isEnter = false) => {\n            const oldSearchText = this.state.searchText;\n            if (oldSearchText === searchText && !isEnter) {\n                return;\n            }\n            this.setState({\n                searchText: searchText,\n                page: 1\n            }, () => {\n                // this.selectRecords([])\n            });\n        };\n        this.initNewCardSize = (newCardSize) => {\n            //If the original width and height are percentages, px will be converted to percentages during resize, and then set to config\n            const { widgetRect } = this.state;\n            let cardSize = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(newCardSize);\n            const cardSizeWidthUnit = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeWidthUnitInConfig(this.props);\n            if (cardSizeWidthUnit.width.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DistanceUnits.PERCENTAGE) {\n                cardSize = cardSize.set('width', `${newCardSize.width * 100 / widgetRect.width}%`);\n            }\n            if (cardSizeWidthUnit.height.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DistanceUnits.PERCENTAGE) {\n                cardSize = cardSize.set('height', `${newCardSize.height * 100 / widgetRect.height}%`);\n            }\n            return cardSize === null || cardSize === void 0 ? void 0 : cardSize.asMutable({ deep: true });\n        };\n        this.handleFilterChange = (sqlExprObj) => {\n            this.setState({\n                currentFilter: sqlExprObj,\n                page: 1\n            }, () => {\n                // this.selectRecords([])\n            });\n        };\n        this.handleFilterApplyChange = (applied) => {\n            const alterState = {\n                filterApplied: applied,\n                queryStart: 0\n            };\n            if (!applied) {\n                // alterState.currentFilter = undefined\n            }\n            this.setState(alterState, () => {\n                // this.selectRecords([])\n            });\n        };\n        this.handleShowSelectionClick = evt => {\n            const { showSelectionOnly } = this.state;\n            this.setState({ showSelectionOnly: !showSelectionOnly });\n        };\n        this.handleClearSelectionClick = () => {\n            this.setState({ showSelectionOnly: false });\n            this.selectRecords([]);\n        };\n        this.resetShowSelectionStatus = () => {\n            const { showSelectionOnly } = this.state;\n            if (showSelectionOnly) {\n                this.setState({ showSelectionOnly: false });\n            }\n        };\n        this._getCurrentPage = () => {\n            return this.state.page;\n        };\n        this.getTotalCount = () => {\n            const total = this.totalCount || 0;\n            return total;\n        };\n        this.selectCard = () => {\n            const { selectionIsInSelf } = this.props;\n            if (selectionIsInSelf) {\n                this.selectSelf();\n            }\n        };\n        this.editBuilderAndSettingStatus = (status) => {\n            this.editStatus('showCardSetting', status);\n            this.editStatus('builderStatus', status);\n        };\n        this.editListSizeInRunTime = (widgetRect) => {\n            const { id, dispatch } = this.props;\n            dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'widgetRect', widgetRect));\n        };\n        this.getSortItems = () => {\n            const { config } = this.props;\n            const options = [];\n            if (config.sorts) {\n                config.sorts.forEach(sort => {\n                    sort.rule &&\n                        sort.rule.forEach(sortData => {\n                            if (sortData && !!sortData.jimuFieldName) {\n                                options.push({\n                                    label: sort.ruleOptionName,\n                                    event: this.handleSortOptionChange\n                                });\n                            }\n                        });\n                });\n            }\n            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(options);\n        };\n        this.renderListTopTools = (ds, queryStatus, selectRecords) => {\n            const { widgetRect, isSearchBoxVisible, isOpenTopToolsPopper } = this.state;\n            const listWidth = (widgetRect === null || widgetRect === void 0 ? void 0 : widgetRect.width) || 620;\n            const isShowDataAction = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.checkIsShowDataAction(this.props);\n            const isShowListToolsOnly = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.checkIsShowListToolsOnly(this.props);\n            const dataName = this.formatMessage('listDataActionLabel', { layer: (ds === null || ds === void 0 ? void 0 : ds.getLabel()) || '' });\n            const LIST_TOOL_MIN_SIZE = isShowDataAction ? _config__WEBPACK_IMPORTED_MODULE_2__.LIST_TOOL_MIN_SIZE_DATA_ACTION : _config__WEBPACK_IMPORTED_MODULE_2__.LIST_TOOL_MIN_SIZE_NO_DATA_ACTION;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'datasource-tools w-100', css: (0,_styles_style__WEBPACK_IMPORTED_MODULE_5__.getTopToolStyle)(this.props, isShowListToolsOnly) },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"d-flex align-items-center\" },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"flex-grow-1 tool-row\" }, isShowListToolsOnly && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null,\n                        listWidth >= LIST_TOOL_MIN_SIZE && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'tool-row row1 d-flex align-items-center w-100 justify-content-between' },\n                            this.renderSearchTools(ds, queryStatus),\n                            (!isSearchBoxVisible || listWidth >= 360) &&\n                                this.renderTopRightTools(ds, queryStatus))),\n                        listWidth < LIST_TOOL_MIN_SIZE && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'float-right', ref: ref => (this.reference = ref) },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', icon: true, size: 'sm', className: 'tools-menu', title: this.formatMessage('guideStep9Title'), onClick: evt => {\n                                    this.setState({ isOpenTopToolsPopper: !isOpenTopToolsPopper });\n                                } },\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_menu__WEBPACK_IMPORTED_MODULE_16__.MenuOutlined, { size: 16 })),\n                            this.renderListTopToolsInPoper(ds, queryStatus))))),\n                    (ds && isShowDataAction) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('list-data-action position-relative', { 'm-left': listWidth < LIST_TOOL_MIN_SIZE }), \"data-testid\": \"data-action\" },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DataActionDropDown, { dataName: dataName, type: 'tertiary', widgetId: this.props.id, dataSource: ds, size: \"sm\", records: selectRecords }))),\n                window.jimuConfig.isInBuilder && this.isEditing() && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'editing-mask-ds-tool' }))));\n        };\n        this.renderListTopToolsInPoper = (ds, queryStatus) => {\n            const { widgetRect, isSearchBoxVisible, isOpenTopToolsPopper } = this.state;\n            const toolsDisabled = this.isEditing();\n            const listWidth = (widgetRect === null || widgetRect === void 0 ? void 0 : widgetRect.width) || 620;\n            const LIST_TOOL_MIN_SIZE = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.checkIsShowDataAction(this.props) ? _config__WEBPACK_IMPORTED_MODULE_2__.LIST_TOOL_MIN_SIZE_DATA_ACTION : _config__WEBPACK_IMPORTED_MODULE_2__.LIST_TOOL_MIN_SIZE_NO_DATA_ACTION;\n            const isOpen = listWidth < LIST_TOOL_MIN_SIZE && isOpenTopToolsPopper && !toolsDisabled;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null,\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { placement: 'bottom-start', reference: this.reference, offset: [-10, 0], open: isOpen, showArrow: true, toggle: e => {\n                        this.setState({ isOpenTopToolsPopper: !isOpen });\n                    } },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'tool-row row1 d-flex align-items-end justify-content-between', css: (0,_styles_style__WEBPACK_IMPORTED_MODULE_5__.getToolsPopperStyle)(this.props) },\n                        this.renderSearchTools(ds, queryStatus),\n                        !isSearchBoxVisible && this.renderTopRightTools(ds, queryStatus)))));\n        };\n        this.renderSearchTools = (ds, queryStatus) => {\n            const toolsDisabled = this.isEditing() || !ds || queryStatus !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loaded;\n            const { searchText, widgetRect, isSearchBoxVisible, showLoading } = this.state;\n            const listWidth = (widgetRect === null || widgetRect === void 0 ? void 0 : widgetRect.width) || 620;\n            const { theme, config } = this.props;\n            const toolLineClassName = listWidth < 360 ? 'ds-tools-line-blue' : '';\n            const placeholder = (config === null || config === void 0 ? void 0 : config.searchHint) || this.formatMessage('search');\n            const isShowBackButton = listWidth < 360 && isSearchBoxVisible;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'list-search-div flex-grow-1', css: (0,_styles_style__WEBPACK_IMPORTED_MODULE_5__.getSearchToolStyle)(this.props) }, _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showSearch(this.props) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex search-box-content' },\n                (listWidth >= 360 || isSearchBoxVisible) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'flex-grow-1 w-100' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_search_box__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { theme: theme, placeholder: placeholder, searchText: searchText, onSearchTextChange: this.handleSearchTextChange, onSubmit: this.handleSearchSubmit, disabled: toolsDisabled, searchSuggestion: this.state.searchSuggestion, suggestionWidth: listWidth, showLoading: showLoading, formatMessage: this.formatMessage, isShowBackButton: isShowBackButton, toggleSearchBoxVisible: this.toggleSearchBoxVisible, className: 'list-search ' }),\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('ds-tools-line', toolLineClassName) }))),\n                listWidth < 360 && !isSearchBoxVisible && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { type: 'tertiary', icon: true, size: 'sm', onClick: evt => {\n                        this.toggleSearchBoxVisible(true);\n                    }, title: this.formatMessage('search') },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_17__.SearchOutlined, { size: 16, color: theme.colors.palette.light[800] })))))));\n        };\n        this.toggleSearchBoxVisible = (isVisible = false) => {\n            const { widgetRect } = this.state;\n            this.setState({\n                isSearchBoxVisible: isVisible\n            });\n            const LIST_TOOL_MIN_SIZE = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.checkIsShowDataAction(this.props) ? _config__WEBPACK_IMPORTED_MODULE_2__.LIST_TOOL_MIN_SIZE_DATA_ACTION : _config__WEBPACK_IMPORTED_MODULE_2__.LIST_TOOL_MIN_SIZE_NO_DATA_ACTION;\n            const listWidth = (widgetRect === null || widgetRect === void 0 ? void 0 : widgetRect.width) || 620;\n            if (listWidth < LIST_TOOL_MIN_SIZE) {\n                clearTimeout(this.showPopperTimeOut);\n                this.showPopperTimeOut = setTimeout(() => {\n                    this.setState({\n                        isOpenTopToolsPopper: true\n                    });\n                });\n            }\n        };\n        this.getPageSize = () => {\n            const { widgetRect } = this.state;\n            const { config } = this.props;\n            const showBottomTool = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(this.props, this.state);\n            const bottomToolH = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getBottomToolH(this.paginatorDiv.current, showBottomTool);\n            const showTopTools = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(this.props);\n            const listHeight = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getListHeight(widgetRect, bottomToolH, showTopTools) || 1;\n            const columnCount = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemColumnCount() : null;\n            const recordSizePerPage = Math.max(_utils_utils__WEBPACK_IMPORTED_MODULE_15__.getPageSize(widgetRect, listHeight, this.props, columnCount), 1);\n            return recordSizePerPage;\n        };\n        this.renderTopRightTools = (ds, queryStatus) => {\n            const { sortOptionName, showSelectionOnly, currentFilter, filterApplied } = this.state;\n            const { config, theme, id, appMode } = this.props;\n            const sortItems = this.getSortItems();\n            const selectedRecords = ds && ds.getSelectedRecords();\n            const hasSelection = selectedRecords && selectedRecords.length > 0;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center mr-1', ref: this.listTopRightToolsDiv },\n                _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showSort(this.props) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_10__.Fragment, null,\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_my_dropdown__WEBPACK_IMPORTED_MODULE_11__[\"default\"], { theme: theme, items: sortItems, appMode: appMode, toggleType: 'tertiary', toggleContent: theme => sortOptionName || (sortItems && sortItems[0].label), size: 'sm', caret: true, showActive: true, toggleTitle: this.formatMessage('listSort'), activeLabel: sortOptionName || (sortItems && sortItems[0].label) }))),\n                _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showFilter(this.props) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_filter_picker__WEBPACK_IMPORTED_MODULE_12__[\"default\"], { filter: currentFilter || config.filter, appMode: appMode, applied: filterApplied, title: this.formatMessage('filter'), selectedDs: this.state.datasource, handleFilterChange: this.handleFilterChange, handleFilterApplyChange: this.handleFilterApplyChange, formatMessage: this.formatMessage, theme: theme, widgetId: id })),\n                _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showDisplaySelectedOnly(this.props) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { disabled: !hasSelection, type: 'tertiary', title: showSelectionOnly\n                        ? this.formatMessage('showAll')\n                        : this.formatMessage('showSelection'), icon: true, size: 'sm', onClick: this.handleShowSelectionClick }, showSelectionOnly ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_menu__WEBPACK_IMPORTED_MODULE_16__.MenuOutlined, { size: 16 }) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_show_selection__WEBPACK_IMPORTED_MODULE_18__.ShowSelectionOutlined, { size: 16 }))),\n                _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showClearSelected(this.props) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { disabled: !hasSelection, type: 'tertiary', title: this.formatMessage('clearSelection'), icon: true, size: 'sm', onClick: this.handleClearSelectionClick },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash_check__WEBPACK_IMPORTED_MODULE_19__.TrashCheckOutlined, { size: 16 })))));\n        };\n        this.renderList = (ds, dsInfo) => {\n            const { widgetRect, isMount, currentCardSize } = this.state;\n            const { config, isRTL } = this.props;\n            const queryStatus = dsInfo === null || dsInfo === void 0 ? void 0 : dsInfo.status;\n            this.queryStatus = queryStatus;\n            this.isHasRenderList = true;\n            if (!isMount) {\n                return false;\n            }\n            //get total count\n            if (queryStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Unloaded) {\n                ds = undefined;\n            }\n            this.getDsTotalCount(ds, queryStatus);\n            //get loading status\n            const showLoading = this.getLoadingStatus(ds, queryStatus);\n            const interval = (ds === null || ds === void 0 ? void 0 : ds.getAutoRefreshInterval()) || 0;\n            //toggle auto refresh loading status\n            this.toggleAutoRefreshLoading(ds, showLoading);\n            //get list tool`s show status\n            const showBottomTool = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(this.props, this.state);\n            const showTopTools = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(this.props);\n            //get list bottom tool`s height\n            const bottomToolH = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getBottomToolH(this.paginatorDiv.current, showBottomTool);\n            //get list size\n            const listHeight = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getListHeight(widgetRect, bottomToolH, showTopTools) || 1;\n            const listWidth = (widgetRect && widgetRect.width) || _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE;\n            const overscanCount = this.getOverscanCount(listHeight);\n            // get new records\n            const selectRecords = this.getDsSelectRecords(ds);\n            const records = this.getDsRecords(ds, showLoading, listHeight);\n            this.isFirstLoad = false;\n            // when record.length == 0, should reset show selection button status in list top tools\n            if (records.length === 0) {\n                // this.scrollToIndex(0, 'start');\n                this.resetShowSelectionStatus();\n            }\n            this.getlistInnerElementType();\n            const listStyles = this.getListStyle();\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { \"data-testid\": 'listContainer', className: 'list-container animation', css: listStyles },\n                showTopTools && this.renderListTopTools(ds, queryStatus, selectRecords),\n                ((config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) &&\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_window__WEBPACK_IMPORTED_MODULE_21__.FixedSizeGrid, { className: 'widget-list-list', ref: this.listRef, useIsScrolling: true, outerRef: this.setListOutDivRef, direction: isRTL ? 'rtl' : 'ltr', itemCount: this.records.length, overscanCount: overscanCount, itemKey: this.gridItemIndex, columnCount: this.getItemColumnCount(), columnWidth: (currentCardSize === null || currentCardSize === void 0 ? void 0 : currentCardSize.width) + (config === null || config === void 0 ? void 0 : config.horizontalSpace), rowCount: Math.ceil(this.records.length / this.getItemColumnCount()) || 1, rowHeight: currentCardSize.height + (config === null || config === void 0 ? void 0 : config.verticalSpace), width: listWidth, height: listHeight, onItemsRendered: this.onItemsRendered, itemData: this.getItemsByRecords(this.records), innerElementType: this.innerElementType, onScroll: this.handleListScroll }, this.itemRender),\n                ((config === null || config === void 0 ? void 0 : config.layoutType) !== _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_window__WEBPACK_IMPORTED_MODULE_21__.VariableSizeList, { className: 'widget-list-list', ref: this.listRef, useIsScrolling: true, outerRef: this.setListOutDivRef, direction: isRTL ? 'rtl' : 'ltr', layout: config.layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column\n                        ? 'horizontal'\n                        : 'vertical', itemCount: this.records.length, overscanCount: overscanCount, itemKey: this.itemKey, width: listWidth, height: listHeight, onItemsRendered: this.onItemsRendered, itemData: this.getItemsByRecords(this.records), innerElementType: this.innerElementType, itemSize: this.itemSize, onScroll: this.handleListScroll }, this.itemRender),\n                this.checkIsShowListMask(showLoading, records) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'editing-mask-con' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'editing-mask-list' }),\n                    (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'editing-mask-list-grid' }))),\n                showBottomTool && this.renderBottomTools(showLoading),\n                this.renderEmptyElement(showLoading),\n                queryStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.NotReady && this.renderNotReadyTips(ds),\n                (showLoading || interval > 0) && this.renderLoading(showLoading, interval)));\n        };\n        this.renderEmptyElement = (showLoading) => {\n            var _a;\n            const isNoData = !this.records || this.records.length < 1;\n            const noDataMessage = ((_a = this.props.config) === null || _a === void 0 ? void 0 : _a.noDataMessage) || this.formatMessage('noData');\n            // const isShowClearActionButton = isNoData && this.isHasPublishMessageAction\n            return (!showLoading && isNoData) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'empty-con text-center' },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_suggested_warning__WEBPACK_IMPORTED_MODULE_20__.WarningOutlined, { size: 16 }),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"discribtion\" }, noDataMessage)));\n        };\n        this.clearMessageAction = () => {\n            this.handleClearSelectionClick();\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataRecordsSelectionChangeMessage(this.props.id, []));\n        };\n        this.renderLoading = (showLoading, interval) => {\n            const { autoRefreshLoadingString } = this.state;\n            const { config } = this.props;\n            let isShowAutoRefresh = config === null || config === void 0 ? void 0 : config.isShowAutoRefresh;\n            if (typeof (isShowAutoRefresh) !== 'boolean') {\n                isShowAutoRefresh = true;\n            }\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('position-absolute refresh-loading-con d-flex align-items-center', this.getRefreshLoadingClass()) },\n                showLoading && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'loading-con' }),\n                (interval > 0 && isShowAutoRefresh) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'flex-grow-1 auto-refresh-loading' }, autoRefreshLoadingString))));\n        };\n        this.renderNotReadyTips = (ds) => {\n            var _a, _b, _c, _d, _e;\n            const dataSourceLabel = ds === null || ds === void 0 ? void 0 : ds.getLabel();\n            const outputDsWidgetId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils === null || jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils === void 0 ? void 0 : jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils.getWidgetIdByOutputDataSource((_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.useDataSources) === null || _b === void 0 ? void 0 : _b[0]);\n            const appConfig = (_c = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _c === void 0 ? void 0 : _c.appConfig;\n            const widgetLabel = (_e = (_d = appConfig === null || appConfig === void 0 ? void 0 : appConfig.widgets) === null || _d === void 0 ? void 0 : _d[outputDsWidgetId]) === null || _e === void 0 ? void 0 : _e.label;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'placeholder-alert-con' },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Alert, { form: 'tooltip', size: 'small', type: 'warning', text: this.formatMessage('outputDataIsNotGenerated', { outputDsLabel: dataSourceLabel, sourceWidgetName: widgetLabel }) })));\n        };\n        this.renderBottomTools = (showLoading) => {\n            const { scrollStatus, isScrollEnd } = this.state;\n            const { config, isRTL } = this.props;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { ref: this.paginatorDiv },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_bottom_tools__WEBPACK_IMPORTED_MODULE_13__.ListBottomTools, { isRTL: isRTL, totalPage: this.getTotalPage(), currentPage: this._getCurrentPage(), isEditing: this.isEditing(), isScrollEnd: isScrollEnd, pageStyle: config.pageStyle, layoutType: config === null || config === void 0 ? void 0 : config.layoutType, scrollStatus: scrollStatus, handleScrollUp: this.handleScrollUp, handleScrollDown: this.handleScrollDown, handleSwitchPage: this.handleSwitchPage, formatMessage: this.formatMessage, showLoading: showLoading })));\n        };\n        this.getDsTotalCount = (ds, queryStatus) => {\n            const count = ds === null || ds === void 0 ? void 0 : ds.count;\n            this.queryStatus = queryStatus;\n            // total count\n            if (queryStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loaded && count !== null) {\n                if (this.totalCount !== count) {\n                    this.setPageTimeout = setTimeout(() => {\n                        this.setState({\n                            page: 1\n                        });\n                    }, 1);\n                }\n                this.totalCount = count;\n            }\n        };\n        this.getLoadingStatus = (ds, queryStatus) => {\n            const { LayoutEntry } = this.state;\n            const { showLoading: mustLoading } = this.props;\n            // loading\n            let showLoading = false;\n            if (mustLoading ||\n                (window.jimuConfig.isInBuilder && !LayoutEntry) ||\n                (ds && queryStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loading)) {\n                showLoading = true;\n            }\n            return showLoading;\n        };\n        this.toggleAutoRefreshLoading = (ds, showLoading) => {\n            const interval = (ds === null || ds === void 0 ? void 0 : ds.getAutoRefreshInterval()) || 0;\n            this.resetAutoRefreshTimes(interval, showLoading);\n            if (interval > 0) {\n                this.setRefreshLoadingString(showLoading);\n            }\n        };\n        this.setListOutDivRef = current => {\n            if (!current)\n                return;\n            const bottomBoundaryId = `bottomBoundary${this.props.id}`;\n            this.listOutDivRef = current;\n            this.setListDivSize();\n            const bottomBoundary = document.createElement('div');\n            bottomBoundary.id = bottomBoundaryId;\n            bottomBoundary.className = 'bottom-boundary';\n            const listScrollContent = this.listOutDivRef.getElementsByTagName('div')[0];\n            this.setScrollContentSize();\n            listScrollContent.appendChild(bottomBoundary);\n            _utils_utils__WEBPACK_IMPORTED_MODULE_15__.intersectionObserver(document.getElementById(bottomBoundaryId), this.listOutDivRef, this.intersectionObserverCallback);\n        };\n        this.getDsRecords = (ds, showLoading, listHeight) => {\n            const { showSelectionOnly, widgetRect } = this.state;\n            const { config, appMode } = this.props;\n            const columnCount = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemColumnCount() : null;\n            const recordSizePerPage = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getPageSize(widgetRect, listHeight, this.props, columnCount);\n            const defaultRecords = this.getDefaultRecords(recordSizePerPage);\n            // get new records\n            let records = defaultRecords;\n            const selectRecords = this.getDsSelectRecords(ds);\n            if (ds && config.isItemStyleConfirm) {\n                records =\n                    (ds &&\n                        (config.pageStyle === _config__WEBPACK_IMPORTED_MODULE_2__.PageStyle.Scroll\n                            ? ds.getRecordsByPageWithSelection(1, recordSizePerPage * this.state.page)\n                            : ds.getRecordsByPageWithSelection(this.state.page, recordSizePerPage))) ||\n                        [];\n                if (showSelectionOnly) {\n                    records = selectRecords;\n                }\n            }\n            if (window.jimuConfig.isInBuilder &&\n                appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run &&\n                !showLoading &&\n                records.length < 1) {\n                records = defaultRecords;\n            }\n            if (!showLoading || this.isFirstLoad) {\n                this.records = records;\n            }\n            return records;\n        };\n        this.getDefaultRecords = (pageSize = 3) => {\n            pageSize = (pageSize && pageSize > 1) ? pageSize : 3;\n            const defaultRecords = [];\n            for (let i = 0; i < pageSize; i++) {\n                defaultRecords.push(defaultRecordsItem);\n            }\n            return defaultRecords;\n        };\n        this.getDsSelectRecords = (ds) => {\n            const { config } = this.props;\n            // get select records\n            let selectRecords;\n            if (ds && config.isItemStyleConfirm) {\n                selectRecords = ds.getSelectedRecords();\n            }\n            return selectRecords;\n        };\n        this.getlistInnerElementType = () => {\n            const { config } = this.props;\n            const space = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? config === null || config === void 0 ? void 0 : config.verticalSpace : config === null || config === void 0 ? void 0 : config.space;\n            if (this.lastSpace !== space) {\n                this.lastSpace = space;\n                this.innerElementType = (0,react__WEBPACK_IMPORTED_MODULE_10__.forwardRef)((_a, ref) => {\n                    var { style } = _a, rest = __rest(_a, [\"style\"]);\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", Object.assign({ ref: ref, style: Object.assign(Object.assign({}, style), { height: `${parseFloat(style.height) -\n                                (config.layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column\n                                    ? 0\n                                    : space)}px`, width: `${parseFloat(style.width) -\n                                (config.layoutType !== _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column\n                                    ? 0\n                                    : space)}px` }) }, rest)));\n                });\n            }\n        };\n        this.getListStyle = () => {\n            var _a, _b;\n            const { toolsDivWidth, currentCardSize, widgetRect } = this.state;\n            const { config, appMode, theme, isHeightAuto, isWidthAuto } = this.props;\n            const showBottomTool = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(this.props, this.state);\n            const bottomToolH = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getBottomToolH(this.paginatorDiv.current, showBottomTool);\n            const showTopTools = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(this.props);\n            const listTemplateDefaultCardSize = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeNumberInConfig(this.props, widgetRect);\n            const listStyleOption = {\n                pageStyle: config === null || config === void 0 ? void 0 : config.pageStyle,\n                scrollBarOpen: config === null || config === void 0 ? void 0 : config.scrollBarOpen,\n                direction: config === null || config === void 0 ? void 0 : config.direction,\n                appMode: appMode,\n                theme: theme,\n                isHeightAuto: isHeightAuto,\n                isWidthAuto: isWidthAuto,\n                currentCardSize: currentCardSize,\n                listTemplateDefaultCardSize: listTemplateDefaultCardSize,\n                showTopTools: showTopTools,\n                bottomToolH: bottomToolH,\n                topRightToolW: toolsDivWidth,\n                hasRecords: ((_b = (_a = this.records) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0,\n                mexSize: this.getListMaxSize(),\n                layoutType: config === null || config === void 0 ? void 0 : config.layoutType,\n                listLeftPadding: this.getListContentLeftPadding()\n            };\n            return (0,_styles_style__WEBPACK_IMPORTED_MODULE_5__.listStyle)(listStyleOption);\n        };\n        this.checkIsShowListMask = (showLoading, records) => {\n            const { isInBuilder } = window.jimuConfig;\n            const isEditing = this.isEditing();\n            const isNoData = !records || records.length < 1;\n            const isDataLoadedAndHasData = !(!showLoading && isNoData);\n            return isInBuilder && isEditing && isDataLoadedAndHasData;\n        };\n        this.getOverscanCount = (listHeight) => {\n            const { widgetRect } = this.state;\n            const { appMode, config } = this.props;\n            const columnCount = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemColumnCount() : null;\n            const recordSizePerPage = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getPageSize(widgetRect, listHeight, this.props, columnCount);\n            const overscanCount = window.jimuConfig.isInBuilder && appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run\n                ? 0\n                : recordSizePerPage;\n            return overscanCount;\n        };\n        this.setScrollContentSize = () => {\n            var _a;\n            if (!this.listOutDivRef)\n                return;\n            const { layoutType } = (_a = this.props) === null || _a === void 0 ? void 0 : _a.config;\n            const listScrollContent = this.listOutDivRef.getElementsByTagName('div')[0];\n            if (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column) {\n                listScrollContent.style.height = '100%';\n            }\n            else {\n                listScrollContent.style.width = '100%';\n            }\n        };\n        this.intersectionObserverCallback = (isScrollEnd) => {\n            var _a, _b;\n            const { appMode, config } = this.props;\n            const listDiv = this.listOutDivRef;\n            const { datasource } = this.state;\n            this.setState({\n                isScrollEnd: isScrollEnd\n            });\n            if (!listDiv || ((_b = (_a = this.records) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < 1)\n                return;\n            if (config.pageStyle === _config__WEBPACK_IMPORTED_MODULE_2__.PageStyle.Scroll &&\n                this.queryStatus !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loading &&\n                datasource &&\n                (!window.jimuConfig.isInBuilder ||\n                    (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run && isScrollEnd)) &&\n                this.isHasScrolled) {\n                if (this.records.length < this.getTotalCount()) {\n                    this.setState({\n                        page: this.state.page + 1,\n                        scrollStatus: 'end'\n                    });\n                    this.isSwitchPage = true;\n                }\n                else {\n                    this.setState({\n                        scrollStatus: 'end'\n                    });\n                }\n            }\n        };\n        this.setListDivSize = () => {\n            var _a;\n            const listDiv = this.listOutDivRef;\n            const clientWidth = (listDiv === null || listDiv === void 0 ? void 0 : listDiv.clientWidth) || null;\n            const clientHeight = (listDiv === null || listDiv === void 0 ? void 0 : listDiv.clientHeight) || null;\n            const toolsDivWidth = ((_a = this.listTopRightToolsDiv.current) === null || _a === void 0 ? void 0 : _a.clientWidth) || 0;\n            const listDivBoundRect = (listDiv === null || listDiv === void 0 ? void 0 : listDiv.getBoundingClientRect()) || null;\n            const listDivSize = {\n                clientWidth: clientWidth,\n                clientHeight: clientHeight\n            };\n            this.setState({\n                listDivSize: listDivSize,\n                toolsDivWidth: toolsDivWidth,\n                listDivBoundRect: listDivBoundRect\n            });\n        };\n        this.getContentLayout = () => {\n            const { layoutId, browserSizeMode } = this.props;\n            const appConfig = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig;\n            const contentWidgetId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.getWidgetIdThatUseTheLayoutId(appConfig, layoutId);\n            const contentLayoutsInfo = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.getContentLayoutInfosInOneSizeMode(appConfig, contentWidgetId, jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Widget, browserSizeMode);\n            return contentLayoutsInfo;\n        };\n        this.getContentLayoutSetting = () => {\n            var _a, _b, _c, _d, _e;\n            const appConfig = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig;\n            const { layouts } = appConfig;\n            const contentLayoutsInfo = this.getContentLayout();\n            const contentLayoutId = (_a = contentLayoutsInfo === null || contentLayoutsInfo === void 0 ? void 0 : contentLayoutsInfo[0]) === null || _a === void 0 ? void 0 : _a.layoutId;\n            const contentLayoutItemId = (_b = contentLayoutsInfo === null || contentLayoutsInfo === void 0 ? void 0 : contentLayoutsInfo[0]) === null || _b === void 0 ? void 0 : _b.layoutItemId;\n            const setting = (_e = (_d = (_c = layouts === null || layouts === void 0 ? void 0 : layouts[contentLayoutId]) === null || _c === void 0 ? void 0 : _c.content) === null || _d === void 0 ? void 0 : _d[contentLayoutItemId]) === null || _e === void 0 ? void 0 : _e.setting;\n            return setting;\n        };\n        this.getListMaxSize = () => {\n            var _a, _b, _c, _d, _e;\n            const { boundingBox, heightLayoutItemSizeModes } = this.props;\n            const isListHeightCustom = heightLayoutItemSizeModes === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.LayoutItemSizeModes.Custom && (boundingBox === null || boundingBox === void 0 ? void 0 : boundingBox.height);\n            const maxheight = isListHeightCustom ? boundingBox === null || boundingBox === void 0 ? void 0 : boundingBox.height : this.bodySize.clientHeight;\n            const isListHeightCustomUnitPX = isListHeightCustom && !(((_a = boundingBox === null || boundingBox === void 0 ? void 0 : boundingBox.height) === null || _a === void 0 ? void 0 : _a.includes) && ((_b = boundingBox === null || boundingBox === void 0 ? void 0 : boundingBox.height) === null || _b === void 0 ? void 0 : _b.includes('%')));\n            let maxSize = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({\n                maxWidth: this.bodySize.scrollWidth,\n                maxHeight: maxheight\n            });\n            const { layoutId, browserSizeMode, appMode } = this.props;\n            const appConfig = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig;\n            const viewportSize = jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.findViewportSize(appConfig, browserSizeMode);\n            const { layouts } = appConfig;\n            const type = (_c = layouts[layoutId]) === null || _c === void 0 ? void 0 : _c.type;\n            const setting = this.getContentLayoutSetting();\n            const isContentWidthAuto = ((_d = setting === null || setting === void 0 ? void 0 : setting.autoProps) === null || _d === void 0 ? void 0 : _d.width) === 'auto' || (setting === null || setting === void 0 ? void 0 : setting.widthMode) === 'auto';\n            const isContentHeightAuto = ((_e = setting === null || setting === void 0 ? void 0 : setting.autoProps) === null || _e === void 0 ? void 0 : _e.height) === 'auto' || (setting === null || setting === void 0 ? void 0 : setting.heightMode) === 'auto';\n            if (type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutType.ColumnLayout && isContentWidthAuto) {\n                maxSize = maxSize.set('maxWidth', this.bodySize.clientWidth);\n            }\n            if (type === 'ROW' && isContentHeightAuto && !isListHeightCustomUnitPX) {\n                const viewportSizeHeight = (viewportSize === null || viewportSize === void 0 ? void 0 : viewportSize.height) || 800;\n                const maxHeight = appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design ? viewportSizeHeight : this.bodySize.clientHeight;\n                maxSize = maxSize.set('maxHeight', maxHeight);\n            }\n            maxSize = maxSize.set('maxHeight', this.initElementSize(maxSize.maxHeight));\n            maxSize = maxSize.set('maxWidth', this.initElementSize(maxSize.maxWidth));\n            return maxSize;\n        };\n        this.initElementSize = (size) => {\n            if (Number(size)) {\n                return `${size}px`;\n            }\n            else if (typeof (size) === 'string') {\n                if ((size === null || size === void 0 ? void 0 : size.includes('px')) || (size === null || size === void 0 ? void 0 : size.includes('rem'))) {\n                    return size;\n                }\n                else if (size === null || size === void 0 ? void 0 : size.includes('%')) {\n                    return '100%';\n                }\n            }\n            else {\n                return size;\n            }\n        };\n        this.getRefreshLoadingClass = () => {\n            const { config, appMode } = this.props;\n            const { scrollBarOpen, layoutType } = config;\n            const isEditor = window.jimuConfig.isInBuilder && appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design;\n            if (!scrollBarOpen || isEditor) {\n                return '';\n            }\n            if (layoutType === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column) {\n                return 'horizon-loading';\n            }\n            else {\n                return 'vertical-loading';\n            }\n        };\n        this.resetAutoRefreshTimes = (interval, showLoading = false) => {\n            clearTimeout(this.resetAutoRefreshTime);\n            if (interval <= 0) {\n                clearInterval(this.autoRefreshLoadingTime);\n            }\n            this.resetAutoRefreshTime = setTimeout(() => {\n                if (showLoading && interval > 0) {\n                    this.setState({\n                        autoRefreshLoadingString: this.formatMessage('lastUpdateAFewTime')\n                    });\n                }\n                this.setState({\n                    showLoading: showLoading\n                });\n            }, 0);\n        };\n        this.setRefreshLoadingString = (showLoading = false) => {\n            if (!showLoading) {\n                return false;\n            }\n            let time = 0;\n            clearInterval(this.autoRefreshLoadingTime);\n            this.autoRefreshLoadingTime = setInterval(() => {\n                time++;\n                this.setState({\n                    autoRefreshLoadingString: this.getLoadingString(time)\n                });\n            }, 60000);\n        };\n        this.getLoadingString = (time) => {\n            let loadingString = this.formatMessage('lastUpdateAFewTime');\n            if (time > 1 && time <= 2) {\n                loadingString = this.formatMessage('lastUpdateAMinute');\n            }\n            else if (time > 2) {\n                loadingString = this.formatMessage('lastUpdateTime', { updateTime: time });\n            }\n            return loadingString;\n        };\n        this.onItemsRendered = ({ overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex }) => {\n            const { config } = this.props;\n            // All index params are numbers.\n            this.listVisibleStartIndex = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemIndexByRowAndColumnIndex(visibleRowStartIndex, visibleColumnStartIndex) : visibleStartIndex;\n            this.listVisibleStopIndex = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemIndexByRowAndColumnIndex(visibleRowStopIndex, visibleColumnStopIndex) : visibleStopIndex;\n            if (this.needRefreshListOnListRendered) {\n                this.needRefreshListOnListRendered = false;\n                this.refreshList();\n            }\n            if (this.isSwitchPage) {\n                if (config.pageStyle === _config__WEBPACK_IMPORTED_MODULE_2__.PageStyle.Scroll) {\n                    if (this.records.length > this.listVisibleStopIndex + 1) {\n                        this.isSwitchPage = false;\n                        this.onItemsRenderedTimeout = setTimeout(() => {\n                            this.handleScrollDown(null);\n                        }, 500);\n                    }\n                }\n                else {\n                    this.isSwitchPage = false;\n                }\n            }\n        };\n        this.getItemIndexByRowAndColumnIndex = (rowIndex, columnIndex) => {\n            const columnCount = this.getItemColumnCount();\n            return rowIndex * columnCount + columnIndex;\n        };\n        this.itemSize = index => {\n            const { config } = this.props;\n            const { currentCardSize } = this.state;\n            const isHorizon = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column;\n            const space = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? config === null || config === void 0 ? void 0 : config.verticalSpace : config === null || config === void 0 ? void 0 : config.space;\n            const size = isHorizon ? currentCardSize.width + space : currentCardSize.height + space;\n            // const size = config.direction === DirectionType.Horizon ?\n            // ((index === (this.records.length - 1) && index !== 0) ?\n            //   currentCardSize.width : (currentCardSize.width + config.space)) :\n            //   ((index === (this.records.length - 1) && index !== 0) ?\n            //   currentCardSize.height : (currentCardSize.height + config.space))\n            return size;\n        };\n        this.getItemsByRecords = records => {\n            const { config, selectionIsInSelf, selectionIsSelf, builderStatus, appMode, queryObject, useDataSources } = this.props;\n            const { datasource, hoverIndex } = this.state;\n            const selectedRecordIds = (!datasource || !config.isItemStyleConfirm\n                ? []\n                : datasource.getSelectedRecordIds()).map(v => v + '');\n            return (records &&\n                records.map((record, index) => {\n                    const isEditor = index === 0 &&\n                        window.jimuConfig.isInBuilder &&\n                        appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design;\n                    const editProps = isEditor\n                        ? {\n                            hideCardTool: this.state.hideCardTool,\n                            selectionIsList: selectionIsSelf,\n                            selectionIsInList: selectionIsInSelf,\n                            isEditing: this.isEditing(),\n                            builderStatus: builderStatus,\n                            lockItemRatio: config.lockItemRatio,\n                            changeIsResizingCard: this.changeIsResizingCard\n                        }\n                        : {\n                            linkParam: config.linkParam,\n                            queryObject: queryObject,\n                            useDataSources\n                        };\n                    return Object.assign(Object.assign({ index, isHover: hoverIndex === index, record: config.isItemStyleConfirm ? record : undefined, active: !record.fake &&\n                            config.isItemStyleConfirm &&\n                            datasource &&\n                            selectedRecordIds.includes(record.getId()) }, this.getOtherProps()), editProps);\n                }));\n        };\n        this.getOtherProps = () => {\n            var _a, _b;\n            const { config, theme, id, appMode, builderSupportModules, layouts, browserSizeMode, dispatch, isRTL } = this.props;\n            const { datasource } = this.state;\n            const isWidthPercentage = ((_b = (_a = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeWidthUnitInConfig(this.props)) === null || _a === void 0 ? void 0 : _a.width) === null || _b === void 0 ? void 0 : _b.unit) === jimu_ui__WEBPACK_IMPORTED_MODULE_1__.DistanceUnits.PERCENTAGE;\n            return {\n                browserSizeMode: browserSizeMode,\n                space: config.space,\n                isRTL: isRTL,\n                builderSupportModules: builderSupportModules,\n                formatMessage: this.formatMessage,\n                dispatch: dispatch,\n                widgetId: id,\n                interact: window.jimuConfig.isInBuilder &&\n                    builderSupportModules.widgetModules.interact,\n                selectCard: this.selectCard,\n                handleResizeCard: this.handleResizeCard,\n                appMode: appMode,\n                onChange: this.handleItemChange,\n                hoverLayoutOpen: config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Hover].enable,\n                selectable: config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !==\n                    _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None,\n                direction: config.direction,\n                theme: theme,\n                LayoutEntry: this.state.LayoutEntry,\n                layouts: layouts,\n                layoutType: config === null || config === void 0 ? void 0 : config.layoutType,\n                keepAspectRatio: config === null || config === void 0 ? void 0 : config.keepAspectRatio,\n                gridItemSizeRatio: config === null || config === void 0 ? void 0 : config.gridItemSizeRatio,\n                cardConfigs: config.cardConfigs,\n                datasourceId: datasource && datasource.id,\n                updateCardToolPosition: this.updateCardToolPosition,\n                isWidthPercentage: isWidthPercentage,\n                horizontalSpace: config === null || config === void 0 ? void 0 : config.horizontalSpace\n            };\n        };\n        this.itemRender = props => {\n            const { appMode, config } = this.props;\n            let style = props.style;\n            const columnIndex = (props === null || props === void 0 ? void 0 : props.columnIndex) || 0;\n            const rowIndex = (props === null || props === void 0 ? void 0 : props.rowIndex) || 0;\n            const index = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemIndexByRowAndColumnIndex(rowIndex, columnIndex) : props.index;\n            const items = props.data;\n            switch (config === null || config === void 0 ? void 0 : config.layoutType) {\n                case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column:\n                    style = Object.assign(Object.assign({}, style), { width: `${parseFloat(style.width) - config.space}px` });\n                    break;\n                case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row:\n                    style = Object.assign(Object.assign({}, style), { height: `${parseFloat(style.height) - config.space}px` });\n                    break;\n                case _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID:\n                    style = Object.assign(Object.assign({}, style), { height: `${parseFloat(style.height) - (config === null || config === void 0 ? void 0 : config.verticalSpace)}px`, width: `${parseFloat(style === null || style === void 0 ? void 0 : style.width) - (config === null || config === void 0 ? void 0 : config.horizontalSpace)}px` });\n                    break;\n            }\n            const isEditor = index === 0 && window.jimuConfig.isInBuilder && appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design;\n            const ListCard = isEditor ? _components_list_card_editor__WEBPACK_IMPORTED_MODULE_6__[\"default\"] : _components_list_card_viewer__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n            if ((items === null || items === void 0 ? void 0 : items.length) < index + 1)\n                return null;\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(ListCard, Object.assign({ listStyle: style, widgetId: this.props.id }, items[index], { handleListMouseMove: this.handleListMouseMove, handleListMouseLeave: this.handleListMouseLeave, itemIdex: index })));\n        };\n        this.itemKey = index => {\n            const item = this.records[index];\n            return `${((item === null || item === void 0 ? void 0 : item.getId) && (item === null || item === void 0 ? void 0 : item.getId())) || index}`;\n        };\n        this.gridItemIndex = indexOption => {\n            const { columnIndex, rowIndex } = indexOption;\n            const index = this.getItemIndexByRowAndColumnIndex(rowIndex, columnIndex);\n            const item = this.records[index];\n            return `${((item === null || item === void 0 ? void 0 : item.getId) && (item === null || item === void 0 ? void 0 : item.getId())) || index + 100}`;\n        };\n        this.getItemColumnCount = () => {\n            const { widgetRect, currentCardSize } = this.state;\n            const { config } = this.props;\n            const listWidth = (widgetRect && widgetRect.width) || _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE;\n            return Math.floor((listWidth + (config === null || config === void 0 ? void 0 : config.horizontalSpace)) / (currentCardSize.width + (config === null || config === void 0 ? void 0 : config.horizontalSpace))) || 1;\n        };\n        this.getListContentLeftPadding = () => {\n            const { widgetRect, currentCardSize } = this.state;\n            const { config } = this.props;\n            const listWidth = (widgetRect && widgetRect.width) || _config__WEBPACK_IMPORTED_MODULE_2__.LIST_CARD_MIN_SIZE;\n            const rowWidth = this.getItemColumnCount() * (currentCardSize.width + (config === null || config === void 0 ? void 0 : config.horizontalSpace));\n            const padding = (listWidth - rowWidth) / 2 + (config === null || config === void 0 ? void 0 : config.horizontalSpace) / 2;\n            if ((config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID) {\n                return padding > 0 ? padding : 0;\n            }\n            else {\n                return 0;\n            }\n        };\n        const { config } = props;\n        this.paginatorDiv = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n        this.listTopRightToolsDiv = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n        const stateObj = {\n            LayoutEntry: null,\n            page: 1,\n            sortOptionName: config.sorts && config.sorts[0] && config.sorts[0].ruleOptionName,\n            currentCardSize: _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getCardSizeNumberInConfig(props, _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getDefaultMinListSize(props)),\n            forceShowMask: false,\n            widgetRect: _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getDefaultMinListSize(props),\n            showList: true,\n            searchText: '',\n            currentFilter: undefined,\n            filterApplied: false,\n            showSelectionOnly: false,\n            hideCardTool: false,\n            scrollStatus: 'start',\n            datasource: undefined,\n            hoverIndex: -1,\n            isScrolling: false,\n            isScrollSpeedOver: false,\n            isResizingCard: false,\n            searchSuggestion: [],\n            isSearchBoxVisible: false,\n            isOpenTopToolsPopper: false,\n            latestUpdateTime: 0,\n            showLoading: false,\n            autoRefreshLoadingString: '',\n            listDivSize: {\n                clientWidth: null,\n                clientHeight: null\n            },\n            toolsDivWidth: null,\n            listDivBoundRect: null,\n            isScrollEnd: false,\n            isMount: false\n        };\n        this.selectSelf = this.selectSelf.bind(this);\n        this.handleResizeCard = this.handleResizeCard.bind(this);\n        this.listRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createRef();\n        if (window.jimuConfig.isInBuilder) {\n            stateObj.LayoutEntry = this.props.builderSupportModules.LayoutEntry;\n        }\n        else {\n            stateObj.LayoutEntry = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.LayoutEntry;\n        }\n        this.state = stateObj;\n        this.onResize = this.onResize.bind(this);\n        this.changeIsResizingCard = this.changeIsResizingCard.bind(this);\n        this.setRefreshLoadingString = this.setRefreshLoadingString.bind(this);\n        this.resetAutoRefreshTimes = this.resetAutoRefreshTimes.bind(this);\n        this.debounceOnResize = jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.debounce((width, height) => this.onResize(width, height), 200);\n    }\n    componentDidMount() {\n        this.setState({\n            isMount: true\n        });\n        this.getBodySize();\n        window.addEventListener('resize', this.getBodySize);\n        // const {outputDataSources, useDataSources} = this.props\n        // if(this.records != defaultRecords){\n        //   listUtils.createOutputDs(this.records, outputDataSources?.[0], useDataSources?.[0]);\n        // }\n    }\n    componentWillUnmount() {\n        clearTimeout(this.resizeTimeout);\n        clearTimeout(this.updateCardToolTimeout);\n        clearTimeout(this.mouseClickTimeout);\n        clearTimeout(this.suggestionsQueryTimeout);\n        clearTimeout(this.showPopperTimeOut);\n        clearTimeout(this.resetAutoRefreshTime);\n        clearTimeout(this.setPageTimeout);\n        clearTimeout(this.onItemsRenderedTimeout);\n        clearInterval(this.autoRefreshLoadingTime);\n    }\n    componentDidUpdate(preProps, preState) {\n        var _a;\n        const { config, appMode } = this.props;\n        const { datasource } = this.state;\n        if (!window.jimuConfig.isInBuilder || appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run) {\n            // Listen selected records change from outside\n            if (datasource &&\n                config.cardConfigs[_config__WEBPACK_IMPORTED_MODULE_2__.Status.Selected].selectionMode !==\n                    _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.None) {\n                this.scrollToSelectedItems(datasource);\n            }\n        }\n        // updade list in builder\n        this.updateListInBuilder(preProps, preState);\n        // listen appMode change\n        this.appModeChange(preProps);\n        if ((preProps === null || preProps === void 0 ? void 0 : preProps.selectionIsInSelf) !== ((_a = this.props) === null || _a === void 0 ? void 0 : _a.selectionIsInSelf)) {\n            this.setSelectionStatus();\n        }\n        this.setListLayoutInWidgetState();\n        // update output ds\n        // if(this.records != defaultRecords){\n        //   listUtils.createOutputDs(this.records, outputDataSources?.[0], useDataSources?.[0]);\n        // }\n    }\n    changeIsResizingCard(isResizingCard) {\n        this.setState({\n            isResizingCard: isResizingCard\n        });\n    }\n    handleResizeCard(newCardSize, resizeEnd = false, isTop, isLeft, isReplace = false) {\n        if (resizeEnd) {\n            const cardSize = this.initNewCardSize(newCardSize);\n            window.jimuConfig.isInBuilder &&\n                this.props.builderSupportModules.widgetModules.handleResizeCard(this.props, cardSize, isTop, isLeft, resizeEnd, isReplace);\n        }\n        else {\n            this.setState({\n                currentCardSize: newCardSize\n            }, () => {\n                this.refreshList(false);\n            });\n        }\n    }\n    selectSelf() {\n        window.jimuConfig.isInBuilder &&\n            this.props.builderSupportModules.widgetModules.selectSelf(this.props);\n    }\n    getOutputDs() {\n        const outputDsId = this.props.outputDataSources && this.props.outputDataSources[0];\n        const useDs = this.props.useDataSources && this.props.useDataSources[0];\n        if (!outputDsId || !useDs)\n            return;\n        const dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();\n        return dsManager.getDataSource(outputDsId);\n    }\n    render() {\n        const { config, id, appMode, browserSizeMode, selectionIsInSelf, selectionIsSelf, useDataSources, builderStatus, layouts } = this.props;\n        const appConfig = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig;\n        const { forceShowMask, datasource, widgetRect, page } = this.state;\n        const isInBuilder = window.jimuConfig.isInBuilder;\n        const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', 'widget-list', 'list-widget-' + id);\n        if (!config.itemStyle) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.WidgetPlaceholder, { widgetId: this.props.id, icon: __webpack_require__(/*! ./assets/icon.svg */ \"./extensions/widgets/common/list/src/runtime/assets/icon.svg\"), message: this.formatMessage('placeHolderTip') }));\n        }\n        const showBottomTool = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showBottomTools(this.props, this.state);\n        const bottomToolH = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getBottomToolH(this.paginatorDiv.current, showBottomTool);\n        const showTopTools = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.showTopTools(this.props);\n        const listHeight = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getListHeight(widgetRect, bottomToolH, showTopTools);\n        const columnCount = (config === null || config === void 0 ? void 0 : config.layoutType) === _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.GRID ? this.getItemColumnCount() : null;\n        const pageSize = _utils_utils__WEBPACK_IMPORTED_MODULE_15__.getPageSize(widgetRect, listHeight, this.props, columnCount);\n        this.pageSize = pageSize;\n        const queryPageSize = pageSize;\n        let query = (0,_utils_list_service__WEBPACK_IMPORTED_MODULE_4__.getQueryOptions)(this.state, this.props, queryPageSize);\n        if (!(0,_utils_list_service__WEBPACK_IMPORTED_MODULE_4__.compareQueryOptionsExceptPaging)(query, this.lastQuery, datasource) && datasource) {\n            const temp = query;\n            if (page !== 1) {\n                query = this.lastQuery;\n                this.lastQuery = temp;\n                this.setState({\n                    page: 1\n                });\n            }\n            else {\n                this.lastQuery = temp;\n            }\n        }\n        const currentLayout = appConfig === null || appConfig === void 0 ? void 0 : appConfig.layouts[jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[builderStatus], browserSizeMode, appConfig.mainSizeMode)];\n        const currentLayoutType = currentLayout && currentLayout.type;\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: classes, css: (0,_styles_style__WEBPACK_IMPORTED_MODULE_5__.getStyle)(this.props, this.isEditing(), showBottomTool), onPointerDown: evt => isInBuilder &&\n                appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run &&\n                !selectionIsSelf &&\n                !selectionIsInSelf &&\n                this.handleListPointerDown(evt) },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'widget-list d-flex' },\n                this.isDsConfigured()\n                    ? ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { query: datasource ? query : null, useDataSource: useDataSources && useDataSources[0], onDataSourceCreated: this.onDSCreated, widgetId: this.props.id, queryCount: true }, this.renderList))\n                    : (this.renderList()),\n                !this.isHasRenderList && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'list-loading-con w-100 h-100' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'jimu-secondary-loading' })))),\n            isInBuilder &&\n                appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run &&\n                (forceShowMask ||\n                    (!selectionIsInSelf && !selectionIsSelf) ||\n                    (!config.isItemStyleConfirm && currentLayoutType)) && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'list-with-mask' })),\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.debounceOnResize })));\n    }\n}\nWidget.versionManager = _version_manager__WEBPACK_IMPORTED_MODULE_14__.versionManager;\nWidget.mapExtraStateProps = (state, props) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n    const appConfig = state && state.appConfig;\n    const { layouts, layoutId, layoutItemId, builderSupportModules, id } = props;\n    const browserSizeMode = state && state.browserSizeMode;\n    const builderStatus = (state &&\n        state.widgetsState &&\n        state.widgetsState[props.id] &&\n        state.widgetsState[props.id].builderStatus) ||\n        _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular;\n    let subLayoutType;\n    if (appConfig) {\n        const subLayout = appConfig &&\n            state.appConfig.layouts &&\n            state.appConfig.layouts[jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[builderStatus], browserSizeMode, appConfig.mainSizeMode)];\n        subLayoutType = subLayout && subLayout.type;\n    }\n    const layout = (_a = appConfig.layouts) === null || _a === void 0 ? void 0 : _a[layoutId];\n    const layoutSetting = (_c = (_b = layout === null || layout === void 0 ? void 0 : layout.content) === null || _b === void 0 ? void 0 : _b[layoutItemId]) === null || _c === void 0 ? void 0 : _c.setting;\n    const isHeightAuto = ((_d = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _d === void 0 ? void 0 : _d.height) === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.LayoutItemSizeModes.Auto ||\n        ((_e = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _e === void 0 ? void 0 : _e.height) === true;\n    const isWidthAuto = ((_f = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _f === void 0 ? void 0 : _f.width) === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.LayoutItemSizeModes.Auto ||\n        ((_g = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _g === void 0 ? void 0 : _g.width) === true;\n    let widgetPosition;\n    if (window.jimuConfig.isInBuilder) {\n        const bbox = (_l = (_k = (_j = (_h = appConfig.layouts) === null || _h === void 0 ? void 0 : _h[layoutId]) === null || _j === void 0 ? void 0 : _j.content) === null || _k === void 0 ? void 0 : _k[layoutItemId]) === null || _l === void 0 ? void 0 : _l.bbox;\n        widgetPosition = bbox && {\n            left: bbox.left,\n            top: bbox.top\n        };\n    }\n    const selection = state && state.appRuntimeInfo && state.appRuntimeInfo.selection;\n    const selectionIsInSelf = selection &&\n        builderSupportModules &&\n        builderSupportModules.widgetModules &&\n        builderSupportModules.widgetModules.selectionInList(selection, id, appConfig, false);\n    let selectionStatus;\n    if (selectionIsInSelf) {\n        selectionStatus = Object.keys(layouts).find(status => jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__.searchUtils.findLayoutId(layouts[status], browserSizeMode, appConfig.mainSizeMode) === selection.layoutId);\n    }\n    const selectionIsSelf = !!(selection &&\n        selection.layoutId === layoutId &&\n        selection.layoutItemId === layoutItemId);\n    return {\n        selectionIsSelf: selectionIsSelf,\n        selectionIsInSelf: !!selectionIsInSelf,\n        selectionStatus,\n        appMode: (_m = state === null || state === void 0 ? void 0 : state.appRuntimeInfo) === null || _m === void 0 ? void 0 : _m.appMode,\n        browserSizeMode: state && state.browserSizeMode,\n        builderStatus: (state &&\n            state.widgetsState &&\n            state.widgetsState[props.id] &&\n            state.widgetsState[props.id].builderStatus) ||\n            _config__WEBPACK_IMPORTED_MODULE_2__.Status.Regular,\n        showLoading: (_p = (_o = state === null || state === void 0 ? void 0 : state.widgetsState) === null || _o === void 0 ? void 0 : _o[props.id]) === null || _p === void 0 ? void 0 : _p.showLoading,\n        isRTL: state && state.appContext && state.appContext.isRTL,\n        subLayoutType,\n        left: widgetPosition && widgetPosition.left,\n        top: widgetPosition && widgetPosition.top,\n        isHeightAuto,\n        isWidthAuto,\n        queryObject: state.queryObject,\n        boundingBox: (_r = (_q = layout === null || layout === void 0 ? void 0 : layout.content) === null || _q === void 0 ? void 0 : _q[layoutItemId]) === null || _r === void 0 ? void 0 : _r.bbox,\n        heightLayoutItemSizeModes: (_s = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _s === void 0 ? void 0 : _s.height\n    };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Widget);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvd2lkZ2V0LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFnQ0E7QUFVQTtBQWdCQTtBQU1BO0FBTUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFpRUE7QUEySUE7QUFDQTtBQW5IQTtBQUtBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUEyTEE7QUErQkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBVUE7QUFNQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFPQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBZUE7QUFLQTtBQU1BO0FBQ0E7QUFHQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBZUE7QUFjQTtBQU1BO0FBQ0E7QUFTQTtBQVNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQXdCQTtBQVFBO0FBQ0E7QUFrQkE7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUdBO0FBR0E7QUFHQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVdBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQU9BO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBUUE7QUFFQTtBQUNBO0FBSUE7QUFJQTtBQUVBO0FBaUJBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBS0E7QUFRQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFFQTs7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFob0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBMkVBO0FBQ0E7QUFDQTtBQUNBO0FBK0JBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUF1bkNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQUdBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFPQTs7QUExNEVBO0FBdUNBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcXdFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvd2lkZ2V0LnRzeD8wY2Q1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgSU1TdGF0ZSxcbiAgY2xhc3NOYW1lcyxcbiAgUmVhY3QsXG4gIGpzeCxcbiAgQWxsV2lkZ2V0UHJvcHMsXG4gIERhdGFSZWNvcmQsXG4gIERhdGFTb3VyY2VTdGF0dXMsXG4gIEFwcE1vZGUsXG4gIEJyb3dzZXJTaXplTW9kZSxcbiAgYXBwQWN0aW9ucyxcbiAgRGF0YVNvdXJjZUNvbXBvbmVudCxcbiAgTWVzc2FnZU1hbmFnZXIsXG4gIERhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZSxcbiAgZ2V0QXBwU3RvcmUsXG4gIFJlYWN0UmVzaXplRGV0ZWN0b3IsXG4gIERhdGFTb3VyY2VNYW5hZ2VyLFxuICBJbW11dGFibGVBcnJheSxcbiAgSU1TcWxFeHByZXNzaW9uLFxuICBMYXlvdXRUeXBlLFxuICBJbW11dGFibGUsXG4gIFF1ZXJpYWJsZURhdGFTb3VyY2UsXG4gIElNRGF0YVNvdXJjZUluZm8sXG4gIERhdGFTb3VyY2UsXG4gIElNVXJsUGFyYW1ldGVycyxcbiAgbG9kYXNoLFxuICBMYXlvdXRJdGVtVHlwZSxcbiAgYXBwQ29uZmlnVXRpbHMsXG4gIHV0aWxzLFxuICBCb3VuZGluZ0JveFxufSBmcm9tICdqaW11LWNvcmUnXG5cbmltcG9ydCB7XG4gIFdpZGdldFBsYWNlaG9sZGVyLFxuICBCdXR0b24sXG4gIFBvcHBlcixcbiAgRGF0YUFjdGlvbkRyb3BEb3duLFxuICBkZWZhdWx0TWVzc2FnZXMgYXMgamltdVVJRGVmYXVsdE1lc3NhZ2VzLFxuICBBbGVydCxcbiAgRGlzdGFuY2VVbml0c1xufSBmcm9tICdqaW11LXVpJ1xuXG5pbXBvcnQge1xuICBJTUNvbmZpZyxcbiAgU2VsZWN0aW9uTW9kZVR5cGUsXG4gIFN0YXR1cyxcbiAgTElTVF9DQVJEX01JTl9TSVpFLFxuICBQYWdlU3R5bGUsXG4gIENhcmRTaXplLFxuICBTdWdnZXN0aW9uLFxuICBEU19UT09MX0gsXG4gIExJU1RfVE9PTF9NSU5fU0laRV9OT19EQVRBX0FDVElPTixcbiAgTElTVF9UT09MX01JTl9TSVpFX0RBVEFfQUNUSU9OLFxuICBMaXN0RGl2U2l6ZSxcbiAgTGlzdExheW91dFR5cGUsXG4gIEVsZW1lbnRTaXplXG59IGZyb20gJy4uL2NvbmZpZydcblxuaW1wb3J0IHtcbiAgTGF5b3V0RW50cnksXG4gIHNlYXJjaFV0aWxzLFxuICBMYXlvdXRJdGVtU2l6ZU1vZGVzXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcblxuaW1wb3J0IHtcbiAgZ2V0UXVlcnlPcHRpb25zLFxuICBmZXRjaFN1Z2dlc3Rpb25SZWNvcmRzLFxuICBjb21wYXJlUXVlcnlPcHRpb25zRXhjZXB0UGFnaW5nXG59IGZyb20gJy4vdXRpbHMvbGlzdC1zZXJ2aWNlJ1xuXG5pbXBvcnQge1xuICBnZXRUb29sc1BvcHBlclN0eWxlLFxuICBnZXRTZWFyY2hUb29sU3R5bGUsXG4gIGdldFN0eWxlLFxuICBsaXN0U3R5bGUsXG4gIGdldFRvcFRvb2xTdHlsZVxufSBmcm9tICcuL3N0eWxlcy9zdHlsZSdcblxuaW1wb3J0IExpc3RDYXJkRWRpdG9yIGZyb20gJy4vY29tcG9uZW50cy9saXN0LWNhcmQtZWRpdG9yJ1xuaW1wb3J0IExpc3RDYXJkVmlld2VyIGZyb20gJy4vY29tcG9uZW50cy9saXN0LWNhcmQtdmlld2VyJ1xuaW1wb3J0IGRlZmF1bHRNZXNzYWdlcyBmcm9tICcuL3RyYW5zbGF0aW9ucy9kZWZhdWx0J1xuaW1wb3J0IFNlYXJjaEJveCBmcm9tICcuL2NvbXBvbmVudHMvc2VhcmNoLWJveCdcbmltcG9ydCB7IFZhcmlhYmxlU2l6ZUxpc3QgYXMgTGlzdCwgRml4ZWRTaXplR3JpZCBhcyBHcmlkIH0gZnJvbSAncmVhY3Qtd2luZG93J1xuaW1wb3J0IHsgRnJhZ21lbnQsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBNeURyb3BEb3duLCB7IE15RHJvcERvd25JdGVtIH0gZnJvbSAnLi9jb21wb25lbnRzL215LWRyb3Bkb3duJ1xuaW1wb3J0IEZpbHRlclBpY2tlciBmcm9tICcuL2NvbXBvbmVudHMvZmlsdGVyLXBpY2tlcidcbmltcG9ydCB7IExpc3RCb3R0b21Ub29scyB9IGZyb20gJy4vY29tcG9uZW50cy9ib3R0b20tdG9vbHMnXG5pbXBvcnQgeyB2ZXJzaW9uTWFuYWdlciB9IGZyb20gJy4uL3ZlcnNpb24tbWFuYWdlcidcbmltcG9ydCAqIGFzIGxpc3RVdGlscyBmcm9tICcuL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgTWVudU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvbWVudSdcbmltcG9ydCB7IFNlYXJjaE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoJ1xuaW1wb3J0IHsgU2hvd1NlbGVjdGlvbk91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2hvdy1zZWxlY3Rpb24nXG5pbXBvcnQgeyBUcmFzaENoZWNrT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci90cmFzaC1jaGVjaydcbmltcG9ydCB7IFdhcm5pbmdPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvc3VnZ2VzdGVkL3dhcm5pbmcnXG5cbmNvbnN0IGRlZmF1bHRSZWNvcmRzSXRlbSA9IHsgZmFrZTogdHJ1ZSB9IGFzIGFueVxuY29uc3QgTUVTU0FHRVMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0TWVzc2FnZXMsIGppbXVVSURlZmF1bHRNZXNzYWdlcylcbi8vIGNvbnN0IG92ZXJTcGVlZCA9IDEuNTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgc2VsZWN0aW9uSXNTZWxmOiBib29sZWFuXG4gIHNlbGVjdGlvbklzSW5TZWxmOiBib29sZWFuXG4gIHNlbGVjdGlvblN0YXR1czogU3RhdHVzXG4gIGFwcE1vZGU6IEFwcE1vZGVcbiAgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbiAgYnVpbGRlclN0YXR1czogU3RhdHVzXG4gIGlzUlRMOiBib29sZWFuXG4gIHN1YkxheW91dFR5cGU6IExheW91dFR5cGVcbiAgbGVmdDogbnVtYmVyIHwgc3RyaW5nXG4gIHRvcDogbnVtYmVyIHwgc3RyaW5nXG4gIGlzV2lkdGhBdXRvOiBib29sZWFuXG4gIGlzSGVpZ2h0QXV0bzogYm9vbGVhblxuICBzaG93TG9hZGluZzogYm9vbGVhblxuICBxdWVyeU9iamVjdDogSU1VcmxQYXJhbWV0ZXJzXG4gIGJvdW5kaW5nQm94OiBCb3VuZGluZ0JveFxuICBoZWlnaHRMYXlvdXRJdGVtU2l6ZU1vZGVzOiBMYXlvdXRJdGVtU2l6ZU1vZGVzXG59XG5pbnRlcmZhY2UgQm9keVNpemUge1xuICBzY3JvbGxXaWR0aDogbnVtYmVyXG4gIHNjcm9sbEhlaWdodDogbnVtYmVyXG4gIGNsaWVudFdpZHRoOiBudW1iZXJcbiAgY2xpZW50SGVpZ2h0OiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgTGlzdFByb3BzID0gQWxsV2lkZ2V0UHJvcHM8SU1Db25maWc+ICYgUHJvcHNcblxuZXhwb3J0IGludGVyZmFjZSBMaXN0U3RhdGVzIHtcbiAgTGF5b3V0RW50cnk6IGFueVxuICBwYWdlOiBudW1iZXJcbiAgc29ydE9wdGlvbk5hbWU/OiBzdHJpbmdcbiAgc2VhcmNoVGV4dDogc3RyaW5nXG4gIGN1cnJlbnRGaWx0ZXI6IElNU3FsRXhwcmVzc2lvblxuICBmaWx0ZXJBcHBsaWVkOiBib29sZWFuXG4gIGN1cnJlbnRDYXJkU2l6ZTogRWxlbWVudFNpemVcbiAgZm9yY2VTaG93TWFzazogYm9vbGVhblxuICBzaG93TGlzdDogYm9vbGVhblxuICBzaG93U2VsZWN0aW9uT25seTogYm9vbGVhblxuICB3aWRnZXRSZWN0OiB7XG4gICAgd2lkdGg6IG51bWJlclxuICAgIGhlaWdodDogbnVtYmVyXG4gIH1cbiAgaGlkZUNhcmRUb29sOiBib29sZWFuXG4gIHNjcm9sbFN0YXR1czogJ3N0YXJ0JyB8ICdlbmQnIHwgJ21pZCdcbiAgZGF0YXNvdXJjZTogRGF0YVNvdXJjZVxuICBob3ZlckluZGV4OiBudW1iZXJcbiAgaXNTY3JvbGxpbmc6IGJvb2xlYW5cbiAgaXNTY3JvbGxTcGVlZE92ZXI6IGJvb2xlYW5cbiAgaXNSZXNpemluZ0NhcmQ6IGJvb2xlYW5cbiAgc2VhcmNoU3VnZ2VzdGlvbjogU3VnZ2VzdGlvbltdXG4gIGlzU2VhcmNoQm94VmlzaWJsZTogYm9vbGVhblxuICBpc09wZW5Ub3BUb29sc1BvcHBlcjogYm9vbGVhblxuICBsYXRlc3RVcGRhdGVUaW1lOiBudW1iZXJcbiAgYXV0b1JlZnJlc2hMb2FkaW5nU3RyaW5nOiBzdHJpbmdcbiAgc2hvd0xvYWRpbmc6IGJvb2xlYW5cbiAgbGlzdERpdlNpemU6IExpc3REaXZTaXplXG4gIHRvb2xzRGl2V2lkdGg6IG51bWJlclxuICBsaXN0RGl2Qm91bmRSZWN0OiBET01SZWN0XG4gIGlzU2Nyb2xsRW5kOiBib29sZWFuXG4gIGlzTW91bnQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNsYXNzIFdpZGdldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGlzdFByb3BzLCBMaXN0U3RhdGVzPiB7XG4gIHN0YXRpYyB2ZXJzaW9uTWFuYWdlciA9IHZlcnNpb25NYW5hZ2VyXG4gIGxhc3RTZWxlY3RlZEluZGV4OiBudW1iZXJcbiAgaXNNeVNlbGVjdGVkOiBib29sZWFuXG4gIGxhc3RTZWxlY3RlZFJlY29yZElkczogc3RyaW5nW11cbiAgbGlzdFJlZjogYW55XG4gIGxpc3RPdXREaXZSZWY6IEhUTUxEaXZFbGVtZW50XG4gIHBhZ2luYXRvckRpdjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PlxuICBsaXN0VG9wUmlnaHRUb29sc0RpdjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PlxuICByZWNvcmRzOiBhbnlbXVxuICBxdWVyeVN0YXR1czogRGF0YVNvdXJjZVN0YXR1c1xuICB0b3RhbENvdW50OiBudW1iZXJcbiAgbGFzdFF1ZXJ5U3RhcnQ6IG51bWJlclxuICBpc1N3aXRjaFBhZ2U6IGJvb2xlYW5cbiAgbmVlZFNjcm9sbDogYm9vbGVhblxuICBsYXN0UGFnZVNpemU6IG51bWJlclxuICBuZWVkUmVmcmVzaExpc3RPbkxpc3RSZW5kZXJlZDogYm9vbGVhblxuICBsaXN0VmlzaWJsZVN0YXJ0SW5kZXg6IG51bWJlclxuICBsaXN0VmlzaWJsZVN0b3BJbmRleDogbnVtYmVyXG4gIGlubmVyRWxlbWVudFR5cGU6IFJlYWN0LkVsZW1lbnRUeXBlXG4gIGxhc3RTcGFjZTogbnVtYmVyXG4gIGxhc3RRdWVyeTogYW55XG4gIHN1Z2dlc3Rpb25zUXVlcnlUaW1lb3V0OiBhbnlcbiAgcmVmZXJlbmNlOiBIVE1MRGl2RWxlbWVudFxuICBzaG93UG9wcGVyVGltZU91dDogYW55XG4gIGlzRmlyc3RMb2FkOiBib29sZWFuID0gdHJ1ZVxuICBhdXRvUmVmcmVzaExvYWRpbmdUaW1lOiBhbnlcbiAgcmVzZXRBdXRvUmVmcmVzaFRpbWU6IGFueVxuICBzZXRQYWdlVGltZW91dDogYW55XG4gIG9uSXRlbXNSZW5kZXJlZFRpbWVvdXQ6IGFueVxuICBpc0hhc1Njcm9sbGVkOiBib29sZWFuID0gZmFsc2UgLyogV2hldGhlciB0aGUgTGlzdCBoYXMgc2Nyb2xsZWQgKi9cbiAgZGVib3VuY2VPblJlc2l6ZTogKHdpZHRoLCBoZWlnaHQpID0+IHZvaWRcbiAgYm9keVNpemU6IEJvZHlTaXplXG4gIGlzSGFzUmVuZGVyTGlzdDogYm9vbGVhbiA9IGZhbHNlXG4gIGlzSGFzUHVibGlzaE1lc3NhZ2VBY3Rpb246IGJvb2xlYW4gPSBmYWxzZVxuICBwYWdlU2l6ZTogbnVtYmVyXG4gIGlzU2V0bGF5b3V0OiBib29sZWFuID0gZmFsc2VcblxuICBpc0hhc0luaXRDdXJyZW50Q2FyZFNpemU6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIHN0YXRpYyBtYXBFeHRyYVN0YXRlUHJvcHMgPSAoXG4gICAgc3RhdGU6IElNU3RhdGUsXG4gICAgcHJvcHM6IEFsbFdpZGdldFByb3BzPElNQ29uZmlnPlxuICApOiBQcm9wcyA9PiB7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gc3RhdGUgJiYgc3RhdGUuYXBwQ29uZmlnXG4gICAgY29uc3QgeyBsYXlvdXRzLCBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCBidWlsZGVyU3VwcG9ydE1vZHVsZXMsIGlkIH0gPSBwcm9wc1xuICAgIGNvbnN0IGJyb3dzZXJTaXplTW9kZSA9IHN0YXRlICYmIHN0YXRlLmJyb3dzZXJTaXplTW9kZVxuICAgIGNvbnN0IGJ1aWxkZXJTdGF0dXMgPVxuICAgICAgKHN0YXRlICYmXG4gICAgICAgIHN0YXRlLndpZGdldHNTdGF0ZSAmJlxuICAgICAgICBzdGF0ZS53aWRnZXRzU3RhdGVbcHJvcHMuaWRdICYmXG4gICAgICAgIHN0YXRlLndpZGdldHNTdGF0ZVtwcm9wcy5pZF0uYnVpbGRlclN0YXR1cykgfHxcbiAgICAgIFN0YXR1cy5SZWd1bGFyXG4gICAgbGV0IHN1YkxheW91dFR5cGVcbiAgICBpZiAoYXBwQ29uZmlnKSB7XG4gICAgICBjb25zdCBzdWJMYXlvdXQgPVxuICAgICAgICBhcHBDb25maWcgJiZcbiAgICAgICAgc3RhdGUuYXBwQ29uZmlnLmxheW91dHMgJiZcbiAgICAgICAgc3RhdGUuYXBwQ29uZmlnLmxheW91dHNbXG4gICAgICAgICAgc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgICAgICAgbGF5b3V0c1tidWlsZGVyU3RhdHVzXSxcbiAgICAgICAgICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICAgICAgICAgIGFwcENvbmZpZy5tYWluU2l6ZU1vZGVcbiAgICAgICAgICApXG4gICAgICAgIF1cbiAgICAgIHN1YkxheW91dFR5cGUgPSBzdWJMYXlvdXQgJiYgc3ViTGF5b3V0LnR5cGVcbiAgICB9XG5cbiAgICBjb25zdCBsYXlvdXQgPSBhcHBDb25maWcubGF5b3V0cz8uW2xheW91dElkXVxuICAgIGNvbnN0IGxheW91dFNldHRpbmcgPSBsYXlvdXQ/LmNvbnRlbnQ/LltsYXlvdXRJdGVtSWRdPy5zZXR0aW5nXG4gICAgY29uc3QgaXNIZWlnaHRBdXRvID1cbiAgICAgIGxheW91dFNldHRpbmc/LmF1dG9Qcm9wcz8uaGVpZ2h0ID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG8gfHxcbiAgICAgIGxheW91dFNldHRpbmc/LmF1dG9Qcm9wcz8uaGVpZ2h0ID09PSB0cnVlXG4gICAgY29uc3QgaXNXaWR0aEF1dG8gPVxuICAgICAgbGF5b3V0U2V0dGluZz8uYXV0b1Byb3BzPy53aWR0aCA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5BdXRvIHx8XG4gICAgICBsYXlvdXRTZXR0aW5nPy5hdXRvUHJvcHM/LndpZHRoID09PSB0cnVlXG5cbiAgICBsZXQgd2lkZ2V0UG9zaXRpb25cbiAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcbiAgICAgIGNvbnN0IGJib3ggPSBhcHBDb25maWcubGF5b3V0cz8uW2xheW91dElkXT8uY29udGVudD8uW2xheW91dEl0ZW1JZF0/LmJib3hcbiAgICAgIHdpZGdldFBvc2l0aW9uID0gYmJveCAmJiB7XG4gICAgICAgIGxlZnQ6IGJib3gubGVmdCxcbiAgICAgICAgdG9wOiBiYm94LnRvcFxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGlvbiA9XG4gICAgICBzdGF0ZSAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbyAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mby5zZWxlY3Rpb25cbiAgICBjb25zdCBzZWxlY3Rpb25Jc0luU2VsZiA9XG4gICAgICBzZWxlY3Rpb24gJiZcbiAgICAgIGJ1aWxkZXJTdXBwb3J0TW9kdWxlcyAmJlxuICAgICAgYnVpbGRlclN1cHBvcnRNb2R1bGVzLndpZGdldE1vZHVsZXMgJiZcbiAgICAgIGJ1aWxkZXJTdXBwb3J0TW9kdWxlcy53aWRnZXRNb2R1bGVzLnNlbGVjdGlvbkluTGlzdChcbiAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICBpZCxcbiAgICAgICAgYXBwQ29uZmlnLFxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgIGxldCBzZWxlY3Rpb25TdGF0dXNcbiAgICBpZiAoc2VsZWN0aW9uSXNJblNlbGYpIHtcbiAgICAgIHNlbGVjdGlvblN0YXR1cyA9IE9iamVjdC5rZXlzKGxheW91dHMpLmZpbmQoXG4gICAgICAgIHN0YXR1cyA9PlxuICAgICAgICAgIHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJZChcbiAgICAgICAgICAgIGxheW91dHNbc3RhdHVzXSxcbiAgICAgICAgICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICAgICAgICAgIGFwcENvbmZpZy5tYWluU2l6ZU1vZGVcbiAgICAgICAgICApID09PSBzZWxlY3Rpb24ubGF5b3V0SWRcbiAgICAgIClcbiAgICB9XG4gICAgY29uc3Qgc2VsZWN0aW9uSXNTZWxmID0gISEoXG4gICAgICBzZWxlY3Rpb24gJiZcbiAgICAgIHNlbGVjdGlvbi5sYXlvdXRJZCA9PT0gbGF5b3V0SWQgJiZcbiAgICAgIHNlbGVjdGlvbi5sYXlvdXRJdGVtSWQgPT09IGxheW91dEl0ZW1JZFxuICAgIClcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0aW9uSXNTZWxmOiBzZWxlY3Rpb25Jc1NlbGYsXG4gICAgICBzZWxlY3Rpb25Jc0luU2VsZjogISFzZWxlY3Rpb25Jc0luU2VsZixcbiAgICAgIHNlbGVjdGlvblN0YXR1cyxcbiAgICAgIGFwcE1vZGU6IHN0YXRlPy5hcHBSdW50aW1lSW5mbz8uYXBwTW9kZSxcbiAgICAgIGJyb3dzZXJTaXplTW9kZTogc3RhdGUgJiYgc3RhdGUuYnJvd3NlclNpemVNb2RlLFxuICAgICAgYnVpbGRlclN0YXR1czpcbiAgICAgICAgKHN0YXRlICYmXG4gICAgICAgICAgc3RhdGUud2lkZ2V0c1N0YXRlICYmXG4gICAgICAgICAgc3RhdGUud2lkZ2V0c1N0YXRlW3Byb3BzLmlkXSAmJlxuICAgICAgICAgIHN0YXRlLndpZGdldHNTdGF0ZVtwcm9wcy5pZF0uYnVpbGRlclN0YXR1cykgfHxcbiAgICAgICAgU3RhdHVzLlJlZ3VsYXIsXG4gICAgICBzaG93TG9hZGluZzogc3RhdGU/LndpZGdldHNTdGF0ZT8uW3Byb3BzLmlkXT8uc2hvd0xvYWRpbmcsXG4gICAgICBpc1JUTDogc3RhdGUgJiYgc3RhdGUuYXBwQ29udGV4dCAmJiBzdGF0ZS5hcHBDb250ZXh0LmlzUlRMLFxuICAgICAgc3ViTGF5b3V0VHlwZSxcbiAgICAgIGxlZnQ6IHdpZGdldFBvc2l0aW9uICYmIHdpZGdldFBvc2l0aW9uLmxlZnQsXG4gICAgICB0b3A6IHdpZGdldFBvc2l0aW9uICYmIHdpZGdldFBvc2l0aW9uLnRvcCxcbiAgICAgIGlzSGVpZ2h0QXV0byxcbiAgICAgIGlzV2lkdGhBdXRvLFxuICAgICAgcXVlcnlPYmplY3Q6IHN0YXRlLnF1ZXJ5T2JqZWN0LFxuICAgICAgYm91bmRpbmdCb3g6IGxheW91dD8uY29udGVudD8uW2xheW91dEl0ZW1JZF0/LmJib3gsXG4gICAgICBoZWlnaHRMYXlvdXRJdGVtU2l6ZU1vZGVzOiBsYXlvdXRTZXR0aW5nPy5hdXRvUHJvcHM/LmhlaWdodFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIGNvbnN0IHsgY29uZmlnIH0gPSBwcm9wc1xuICAgIHRoaXMucGFnaW5hdG9yRGl2ID0gUmVhY3QuY3JlYXRlUmVmPEhUTUxEaXZFbGVtZW50PigpXG4gICAgdGhpcy5saXN0VG9wUmlnaHRUb29sc0RpdiA9IFJlYWN0LmNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKVxuICAgIGNvbnN0IHN0YXRlT2JqOiBMaXN0U3RhdGVzID0ge1xuICAgICAgTGF5b3V0RW50cnk6IG51bGwsXG4gICAgICBwYWdlOiAxLFxuICAgICAgc29ydE9wdGlvbk5hbWU6XG4gICAgICAgIGNvbmZpZy5zb3J0cyAmJiBjb25maWcuc29ydHNbMF0gJiYgY29uZmlnLnNvcnRzWzBdLnJ1bGVPcHRpb25OYW1lLFxuICAgICAgY3VycmVudENhcmRTaXplOiBsaXN0VXRpbHMuZ2V0Q2FyZFNpemVOdW1iZXJJbkNvbmZpZyhwcm9wcywgbGlzdFV0aWxzLmdldERlZmF1bHRNaW5MaXN0U2l6ZShwcm9wcykpLFxuICAgICAgZm9yY2VTaG93TWFzazogZmFsc2UsXG4gICAgICB3aWRnZXRSZWN0OiBsaXN0VXRpbHMuZ2V0RGVmYXVsdE1pbkxpc3RTaXplKHByb3BzKSxcbiAgICAgIHNob3dMaXN0OiB0cnVlLFxuICAgICAgc2VhcmNoVGV4dDogJycsXG4gICAgICBjdXJyZW50RmlsdGVyOiB1bmRlZmluZWQsXG4gICAgICBmaWx0ZXJBcHBsaWVkOiBmYWxzZSxcbiAgICAgIHNob3dTZWxlY3Rpb25Pbmx5OiBmYWxzZSxcbiAgICAgIGhpZGVDYXJkVG9vbDogZmFsc2UsXG4gICAgICBzY3JvbGxTdGF0dXM6ICdzdGFydCcsXG4gICAgICBkYXRhc291cmNlOiB1bmRlZmluZWQsXG4gICAgICBob3ZlckluZGV4OiAtMSxcbiAgICAgIGlzU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgIGlzU2Nyb2xsU3BlZWRPdmVyOiBmYWxzZSxcbiAgICAgIGlzUmVzaXppbmdDYXJkOiBmYWxzZSxcbiAgICAgIHNlYXJjaFN1Z2dlc3Rpb246IFtdLFxuICAgICAgaXNTZWFyY2hCb3hWaXNpYmxlOiBmYWxzZSxcbiAgICAgIGlzT3BlblRvcFRvb2xzUG9wcGVyOiBmYWxzZSxcbiAgICAgIGxhdGVzdFVwZGF0ZVRpbWU6IDAsXG4gICAgICBzaG93TG9hZGluZzogZmFsc2UsXG4gICAgICBhdXRvUmVmcmVzaExvYWRpbmdTdHJpbmc6ICcnLFxuICAgICAgbGlzdERpdlNpemU6IHtcbiAgICAgICAgY2xpZW50V2lkdGg6IG51bGwsXG4gICAgICAgIGNsaWVudEhlaWdodDogbnVsbFxuICAgICAgfSxcbiAgICAgIHRvb2xzRGl2V2lkdGg6IG51bGwsXG4gICAgICBsaXN0RGl2Qm91bmRSZWN0OiBudWxsLFxuICAgICAgaXNTY3JvbGxFbmQ6IGZhbHNlLFxuICAgICAgaXNNb3VudDogZmFsc2VcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RTZWxmID0gdGhpcy5zZWxlY3RTZWxmLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZUNhcmQgPSB0aGlzLmhhbmRsZVJlc2l6ZUNhcmQuYmluZCh0aGlzKVxuICAgIHRoaXMubGlzdFJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpXG5cbiAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcbiAgICAgIHN0YXRlT2JqLkxheW91dEVudHJ5ID0gdGhpcy5wcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMuTGF5b3V0RW50cnlcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGVPYmouTGF5b3V0RW50cnkgPSBMYXlvdXRFbnRyeVxuICAgIH1cbiAgICB0aGlzLnN0YXRlID0gc3RhdGVPYmpcblxuICAgIHRoaXMub25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICB0aGlzLmNoYW5nZUlzUmVzaXppbmdDYXJkID0gdGhpcy5jaGFuZ2VJc1Jlc2l6aW5nQ2FyZC5iaW5kKHRoaXMpXG4gICAgdGhpcy5zZXRSZWZyZXNoTG9hZGluZ1N0cmluZyA9IHRoaXMuc2V0UmVmcmVzaExvYWRpbmdTdHJpbmcuYmluZCh0aGlzKVxuICAgIHRoaXMucmVzZXRBdXRvUmVmcmVzaFRpbWVzID0gdGhpcy5yZXNldEF1dG9SZWZyZXNoVGltZXMuYmluZCh0aGlzKVxuICAgIHRoaXMuZGVib3VuY2VPblJlc2l6ZSA9IGxvZGFzaC5kZWJvdW5jZShcbiAgICAgICh3aWR0aCwgaGVpZ2h0KSA9PiB0aGlzLm9uUmVzaXplKHdpZHRoLCBoZWlnaHQpLFxuICAgICAgMjAwXG4gICAgKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNNb3VudDogdHJ1ZVxuICAgIH0pXG4gICAgdGhpcy5nZXRCb2R5U2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZ2V0Qm9keVNpemUpXG4gICAgLy8gY29uc3Qge291dHB1dERhdGFTb3VyY2VzLCB1c2VEYXRhU291cmNlc30gPSB0aGlzLnByb3BzXG5cbiAgICAvLyBpZih0aGlzLnJlY29yZHMgIT0gZGVmYXVsdFJlY29yZHMpe1xuICAgIC8vICAgbGlzdFV0aWxzLmNyZWF0ZU91dHB1dERzKHRoaXMucmVjb3Jkcywgb3V0cHV0RGF0YVNvdXJjZXM/LlswXSwgdXNlRGF0YVNvdXJjZXM/LlswXSk7XG4gICAgLy8gfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudXBkYXRlQ2FyZFRvb2xUaW1lb3V0KVxuICAgIGNsZWFyVGltZW91dCh0aGlzLm1vdXNlQ2xpY2tUaW1lb3V0KVxuICAgIGNsZWFyVGltZW91dCh0aGlzLnN1Z2dlc3Rpb25zUXVlcnlUaW1lb3V0KVxuICAgIGNsZWFyVGltZW91dCh0aGlzLnNob3dQb3BwZXJUaW1lT3V0KVxuICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2V0QXV0b1JlZnJlc2hUaW1lKVxuICAgIGNsZWFyVGltZW91dCh0aGlzLnNldFBhZ2VUaW1lb3V0KVxuICAgIGNsZWFyVGltZW91dCh0aGlzLm9uSXRlbXNSZW5kZXJlZFRpbWVvdXQpXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoTG9hZGluZ1RpbWUpXG4gIH1cblxuICB1cGRhdGVXaWRnZXRSZWN0VGltZW91dDogTm9kZUpTLlRpbWVyID0gdW5kZWZpbmVkXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJlUHJvcHMsIHByZVN0YXRlKSB7XG4gICAgY29uc3QgeyBjb25maWcsIGFwcE1vZGUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGRhdGFzb3VyY2UgfSA9IHRoaXMuc3RhdGVcbiAgICBpZiAoIXdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyIHx8IGFwcE1vZGUgPT09IEFwcE1vZGUuUnVuKSB7XG4gICAgICAvLyBMaXN0ZW4gc2VsZWN0ZWQgcmVjb3JkcyBjaGFuZ2UgZnJvbSBvdXRzaWRlXG4gICAgICBpZiAoXG4gICAgICAgIGRhdGFzb3VyY2UgJiZcbiAgICAgICAgY29uZmlnLmNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0uc2VsZWN0aW9uTW9kZSAhPT1cbiAgICAgICAgU2VsZWN0aW9uTW9kZVR5cGUuTm9uZVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZEl0ZW1zKGRhdGFzb3VyY2UpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHVwZGFkZSBsaXN0IGluIGJ1aWxkZXJcbiAgICB0aGlzLnVwZGF0ZUxpc3RJbkJ1aWxkZXIocHJlUHJvcHMsIHByZVN0YXRlKVxuXG4gICAgLy8gbGlzdGVuIGFwcE1vZGUgY2hhbmdlXG4gICAgdGhpcy5hcHBNb2RlQ2hhbmdlKHByZVByb3BzKVxuXG4gICAgaWYgKHByZVByb3BzPy5zZWxlY3Rpb25Jc0luU2VsZiAhPT0gdGhpcy5wcm9wcz8uc2VsZWN0aW9uSXNJblNlbGYpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uU3RhdHVzKClcbiAgICB9XG5cbiAgICB0aGlzLnNldExpc3RMYXlvdXRJbldpZGdldFN0YXRlKClcbiAgICAvLyB1cGRhdGUgb3V0cHV0IGRzXG4gICAgLy8gaWYodGhpcy5yZWNvcmRzICE9IGRlZmF1bHRSZWNvcmRzKXtcbiAgICAvLyAgIGxpc3RVdGlscy5jcmVhdGVPdXRwdXREcyh0aGlzLnJlY29yZHMsIG91dHB1dERhdGFTb3VyY2VzPy5bMF0sIHVzZURhdGFTb3VyY2VzPy5bMF0pO1xuICAgIC8vIH1cbiAgfVxuXG4gIHNldExpc3RMYXlvdXRJbldpZGdldFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCwgaWQsIHNlbGVjdGlvbklzU2VsZiB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChsYXlvdXRJZCAmJiBpZCAmJiBsYXlvdXRJdGVtSWQgJiYgIXRoaXMuaXNTZXRsYXlvdXQgJiYgc2VsZWN0aW9uSXNTZWxmKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZShpZCwgJ2xheW91dEluZm8nLCB7XG4gICAgICAgICAgbGF5b3V0SWQsXG4gICAgICAgICAgbGF5b3V0SXRlbUlkXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICB0aGlzLmlzU2V0bGF5b3V0ID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGdldEJvZHlTaXplID0gKCkgPT4ge1xuICAgIHRoaXMuYm9keVNpemUgPSB7XG4gICAgICBzY3JvbGxXaWR0aDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLFxuICAgICAgc2Nyb2xsSGVpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgY2xpZW50V2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgIGNsaWVudEhlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUxpc3RJbkJ1aWxkZXIgPSAocHJlUHJvcHMsIHByZVN0YXRlKSA9PiB7XG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoIXdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgY29uc3QgY3VycmVudENhcmRTaXplID0gbGlzdFV0aWxzLmdldENhcmRTaXplTnVtYmVySW5Db25maWcodGhpcy5wcm9wcywgdGhpcy5zdGF0ZT8ud2lkZ2V0UmVjdClcblxuICAgIC8vIGxpc3RlbiBsYXlvdXQgcHJvcGVydGllcyBjaGFuZ2UgYW5kIHRoZW4gdXBkYXRlIGxpc3RcbiAgICBsZXQgaGlkZUNhcmRUb29sID0gdGhpcy5sYXlvdXRQcm9wZXJ0aWVzQ2hhbmdlKHByZVByb3BzLCBwcmVTdGF0ZSlcblxuICAgIHRoaXMudXBkYXRlU2Nyb2xsQ29udGVudFNpemUocHJlUHJvcHMuY29uZmlnKVxuXG4gICAgLy8gbGlzdGVuIHBhZ2luZyB0eXBlIGNoYW5nZVxuICAgIHRoaXMucGFnZVR5cGVDaGFuZ2UocHJlUHJvcHMpXG5cbiAgICAvLyBsaXN0ZW4gdXNlRGF0YXNvdXJjZXMgY2hhbmdlXG4gICAgdGhpcy51c2VEYXRhc291cmNlc0NoYW5nZShwcmVQcm9wcylcblxuICAgIC8vIGxpc3RlbmluZyBsaXN0RGl2IHNpemUncyBjaGFuZ2VcbiAgICBoaWRlQ2FyZFRvb2wgPSB0aGlzLmxpc3REaXZTaXplQ2hhbmdlKFxuICAgICAgcHJlUHJvcHMsXG4gICAgICBwcmVTdGF0ZSxcbiAgICAgIGN1cnJlbnRDYXJkU2l6ZSxcbiAgICAgIGhpZGVDYXJkVG9vbFxuICAgIClcblxuICAgIGlmIChoaWRlQ2FyZFRvb2wpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FyZFRvb2xQb3NpdGlvbigpXG4gICAgfVxuXG4gICAgLy8gbGlzdGVuIHNvcnQgY2hhbmdlXG4gICAgdGhpcy5saXN0U29ydENoYW5nZShwcmVQcm9wcylcblxuICAgIC8vIGxpc3RlbiBmaWx0ZXIgY2hhbmdlXG4gICAgdGhpcy5saXN0RmlsdGVyQ2hhbmdlKHByZVByb3BzKVxuXG4gICAgY29uc3QgaXNTZWxlY3Rpb25Nb2RlQ2hhbmdlID1cbiAgICAgIGNvbmZpZy5jYXJkQ29uZmlnc1tTdGF0dXMuU2VsZWN0ZWRdLnNlbGVjdGlvbk1vZGUgIT09XG4gICAgICBwcmVQcm9wcy5jb25maWcuY2FyZENvbmZpZ3NbU3RhdHVzLlNlbGVjdGVkXS5zZWxlY3Rpb25Nb2RlXG4gICAgaWYgKGlzU2VsZWN0aW9uTW9kZUNoYW5nZSkge1xuICAgICAgdGhpcy5zZWxlY3RSZWNvcmRzKFtdKVxuICAgIH1cbiAgfVxuXG4gIGxheW91dFByb3BlcnRpZXNDaGFuZ2UgPSAocHJlUHJvcHMsIHByZVN0YXRlKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgeyBjb25maWcsIHRvcCwgbGVmdCB9ID0gdGhpcy5wcm9wc1xuICAgIGxldCBoaWRlQ2FyZFRvb2wgPSBmYWxzZVxuICAgIGlmICghd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBsZXQgcmVmcmVzaExpc3Q6IGJvb2xlYW4gPSBmYWxzZVxuICAgIC8vIGxpc3RlbiBsYXlvdXQgcHJvcGVydGllcyBjaGFuZ2UgYW5kIHRoZW4gdXBkYXRlIGxpc3RcbiAgICBjb25zdCBjdXJyZW50Q2FyZFNpemUgPSBsaXN0VXRpbHMuZ2V0Q2FyZFNpemVOdW1iZXJJbkNvbmZpZyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLndpZGdldFJlY3QpXG4gICAgY29uc3Qgb2xkQ2FyZFNpemUgPSBsaXN0VXRpbHMuZ2V0Q2FyZFNpemVOdW1iZXJJbkNvbmZpZyhwcmVQcm9wcywgcHJlU3RhdGU/LndpZGdldFJlY3QpXG5cbiAgICB0aGlzLnVwZGF0ZVNjcm9sbENvbnRlbnRTaXplKHByZVByb3BzLmNvbmZpZylcblxuICAgIGNvbnN0IGlzV2lkZ2V0UG9zaXRpb25DaGFuZ2UgPVxuICAgICAgdG9wICE9PSBwcmVQcm9wcy50b3AgfHwgbGVmdCAhPT0gcHJlUHJvcHMubGVmdFxuICAgIGNvbnN0IGlzTGlzdExheW91dENoYW5nZSA9IGNvbmZpZz8ubGF5b3V0VHlwZSAhPT0gcHJlUHJvcHMuY29uZmlnLmxheW91dFR5cGVcbiAgICBjb25zdCBpc0VxdWFsQ2FyZFNpemVCeUxpc3RMYXlvdXQgPSAhbGlzdFV0aWxzLmlzRXF1YWxDYXJkU2l6ZUJ5TGlzdExheW91dChcbiAgICAgIG9sZENhcmRTaXplLFxuICAgICAgY3VycmVudENhcmRTaXplLFxuICAgICAgY29uZmlnLmxheW91dFR5cGVcbiAgICApIC8vIGZvciBjaGFuZ2UgdGVtcGxhdGVcbiAgICBpZiAoXG4gICAgICBpc0xpc3RMYXlvdXRDaGFuZ2UgfHxcbiAgICAgIGlzRXF1YWxDYXJkU2l6ZUJ5TGlzdExheW91dCB8fFxuICAgICAgaXNXaWRnZXRQb3NpdGlvbkNoYW5nZVxuICAgICkge1xuICAgICAgaGlkZUNhcmRUb29sID0gdHJ1ZVxuICAgICAgaWYgKGlzRXF1YWxDYXJkU2l6ZUJ5TGlzdExheW91dCkge1xuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICBjdXJyZW50Q2FyZFNpemVcbiAgICAgICAgfVxuICAgICAgICByZWZyZXNoTGlzdCA9IHRydWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSwgKCkgPT4ge1xuICAgICAgICAgIGlmIChyZWZyZXNoTGlzdCkgdGhpcy5yZWZyZXNoTGlzdCgpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2UgaWYgKGlzTGlzdExheW91dENoYW5nZSkge1xuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZUNhcmQoXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50Q2FyZFNpemUsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXJlZnJlc2hMaXN0KSB7XG4gICAgICBjb25zdCBpc1NwYWNlTm90Q2hhbmdlID0gY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEXG4gICAgICAgID8gbGlzdFV0aWxzLmlzRXF1YWxOdW1iZXIoY29uZmlnPy5ob3Jpem9udGFsU3BhY2UsIHByZVByb3BzLmNvbmZpZz8uaG9yaXpvbnRhbFNwYWNlKSAmJiBsaXN0VXRpbHMuaXNFcXVhbE51bWJlcihjb25maWc/LnZlcnRpY2FsU3BhY2UsIHByZVByb3BzLmNvbmZpZz8udmVydGljYWxTcGFjZSlcbiAgICAgICAgOiBsaXN0VXRpbHMuaXNFcXVhbE51bWJlcihjb25maWcuc3BhY2UsIHByZVByb3BzLmNvbmZpZy5zcGFjZSlcbiAgICAgIGlmICghaXNTcGFjZU5vdENoYW5nZSB8fCBjb25maWcubGF5b3V0VHlwZSAhPT0gcHJlUHJvcHMuY29uZmlnLmxheW91dFR5cGUpIHtcbiAgICAgICAgcmVmcmVzaExpc3QgPSB0cnVlXG4gICAgICAgIHRoaXMucmVmcmVzaExpc3QoKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGlkZUNhcmRUb29sXG4gIH1cblxuICBsaXN0RGl2U2l6ZUNoYW5nZSA9IChcbiAgICBwcmVQcm9wcyxcbiAgICBwcmVTdGF0ZSxcbiAgICBjdXJyZW50Q2FyZFNpemU6IENhcmRTaXplLFxuICAgIGhpZGVDYXJkVG9vbDogYm9vbGVhblxuICApOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB7IGNvbmZpZywgaXNIZWlnaHRBdXRvIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBsaXN0RGl2U2l6ZSB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHNob3dCVCA9IGxpc3RVdGlscy5zaG93Qm90dG9tVG9vbHModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSlcbiAgICBjb25zdCBvbGRTaG93QlQgPSBsaXN0VXRpbHMuc2hvd0JvdHRvbVRvb2xzKHByZVByb3BzLCBwcmVTdGF0ZSlcbiAgICBjb25zdCBzaG93RFMgPSBsaXN0VXRpbHMuc2hvd1RvcFRvb2xzKHRoaXMucHJvcHMpXG4gICAgY29uc3Qgb2xkU2hvd0RTID0gbGlzdFV0aWxzLnNob3dUb3BUb29scyhwcmVQcm9wcylcbiAgICBpZiAoc2hvd0JUICE9PSBvbGRTaG93QlQgfHwgc2hvd0RTICE9PSBvbGRTaG93RFMpIHtcbiAgICAgIGlmICghaXNIZWlnaHRBdXRvKSB7XG4gICAgICAgIGlmIChjb25maWcubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuQ29sdW1uKSB7XG4gICAgICAgICAgbGV0IGNhcmRIID0gdGhpcy5zdGF0ZS53aWRnZXRSZWN0Py5oZWlnaHQgfHwgbGlzdERpdlNpemU/LmNsaWVudEhlaWdodFxuICAgICAgICAgIGNhcmRIIC09XG4gICAgICAgICAgICBsaXN0VXRpbHMuZ2V0Qm90dG9tVG9vbEgodGhpcy5wYWdpbmF0b3JEaXYuY3VycmVudCwgc2hvd0JUKSArXG4gICAgICAgICAgICAoc2hvd0RTID8gMSA6IDApICogRFNfVE9PTF9IXG4gICAgICAgICAgaWYgKGNhcmRIIDwgTElTVF9DQVJEX01JTl9TSVpFKSByZXR1cm5cbiAgICAgICAgICBjb25zdCBjYXJkU2l6ZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogY2FyZEgsXG4gICAgICAgICAgICB3aWR0aDogY3VycmVudENhcmRTaXplLndpZHRoXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGFuZGxlUmVzaXplQ2FyZChjYXJkU2l6ZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCB0cnVlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWRlQ2FyZFRvb2wgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoaWRlQ2FyZFRvb2xcbiAgfVxuXG4gIGFwcE1vZGVDaGFuZ2UgPSBwcmVQcm9wcyA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYXBwTW9kZSxcbiAgICAgIHNlbGVjdGlvbklzU2VsZixcbiAgICAgIHNlbGVjdGlvblN0YXR1cyxcbiAgICAgIGJ1aWxkZXJTdGF0dXNcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChwcmVQcm9wcy5hcHBNb2RlICE9PSBhcHBNb2RlKSB7XG4gICAgICBpZiAoYXBwTW9kZSA9PT0gQXBwTW9kZS5SdW4pIHtcbiAgICAgICAgdGhpcy5lZGl0QnVpbGRlckFuZFNldHRpbmdTdGF0dXMoU3RhdHVzLlJlZ3VsYXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoc2VsZWN0aW9uU3RhdHVzICE9PSBidWlsZGVyU3RhdHVzKSB7XG4gICAgICAgICAgLy8gY2hhbmdlIHN0YXR1cyBieSB0b2NcbiAgICAgICAgICBpZiAoIXNlbGVjdGlvblN0YXR1cykge1xuICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb25Jc1NlbGYpIHtcbiAgICAgICAgICAgICAgdGhpcy5lZGl0QnVpbGRlckFuZFNldHRpbmdTdGF0dXMoU3RhdHVzLlJlZ3VsYXIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdEJ1aWxkZXJBbmRTZXR0aW5nU3RhdHVzKHNlbGVjdGlvblN0YXR1cylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzaG93U2VsZWN0aW9uT25seTogZmFsc2UsXG4gICAgICAgICAgICBzZWFyY2hUZXh0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmaWx0ZXJBcHBsaWVkOiBmYWxzZSxcbiAgICAgICAgICAgIGhvdmVySW5kZXg6IC0xXG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoMClcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwYWdlVHlwZUNoYW5nZSA9IHByZVByb3BzID0+IHtcbiAgICBjb25zdCB7IHBhZ2VTdHlsZSB9ID0gdGhpcy5wcm9wcy5jb25maWdcbiAgICBjb25zdCBvbGRQYWdlU3R5bGUgPSBwcmVQcm9wcy5jb25maWcucGFnZVN0eWxlXG4gICAgaWYgKHBhZ2VTdHlsZSAhPT0gb2xkUGFnZVN0eWxlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcGFnZTogMVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB1c2VEYXRhc291cmNlc0NoYW5nZSA9IHByZVByb3BzID0+IHtcbiAgICBjb25zdCB7IHVzZURhdGFTb3VyY2VzIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgb2xkVXNlRGF0YVNvdXJjZXMgPSBwcmVQcm9wcy51c2VEYXRhU291cmNlc1xuICAgIGlmICh1c2VEYXRhU291cmNlcyAmJiB1c2VEYXRhU291cmNlc1swXSkge1xuICAgICAgY29uc3Qgb2xkVXNlRGF0YVNvdXJjZSA9IG9sZFVzZURhdGFTb3VyY2VzICYmIG9sZFVzZURhdGFTb3VyY2VzWzBdXG4gICAgICBpZiAoXG4gICAgICAgICFvbGRVc2VEYXRhU291cmNlIHx8XG4gICAgICAgIG9sZFVzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkICE9PSB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWRcbiAgICAgICkge1xuICAgICAgICAvLyByZXNldCBxdWVyeXNTdGFydFxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwYWdlOiAxXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlbW92ZSBkcyBtYXliZVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGFzb3VyY2U6IHVuZGVmaW5lZFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBsaXN0U29ydENoYW5nZSA9IHByZVByb3BzID0+IHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChjb25maWcuc29ydE9wZW4pIHtcbiAgICAgIGNvbnN0IHNvcnRzID0gY29uZmlnLnNvcnRzXG4gICAgICBjb25zdCBvbGRTb3J0cyA9IHByZVByb3BzLmNvbmZpZy5zb3J0c1xuICAgICAgaWYgKHNvcnRzICE9PSBvbGRTb3J0cykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzb3J0T3B0aW9uTmFtZTogdW5kZWZpbmVkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGlzdEZpbHRlckNoYW5nZSA9IHByZVByb3BzID0+IHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGlmIChjb25maWcuZmlsdGVyT3Blbikge1xuICAgICAgY29uc3QgZmlsdGVyID0gY29uZmlnLmZpbHRlclxuICAgICAgY29uc3Qgb2xkRmlsdGVyID0gcHJlUHJvcHMuY29uZmlnLmZpbHRlclxuICAgICAgaWYgKGZpbHRlciAhPT0gb2xkRmlsdGVyKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnRGaWx0ZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICBmaWx0ZXJBcHBsaWVkOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldFNlbGVjdGlvblN0YXR1cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlkLCBzZWxlY3Rpb25Jc0luU2VsZiB9ID0gdGhpcy5wcm9wc1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZShcbiAgICAgICAgaWQsXG4gICAgICAgICdzZWxlY3Rpb25Jc0luU2VsZicsXG4gICAgICAgIHNlbGVjdGlvbklzSW5TZWxmXG4gICAgICApXG4gICAgKVxuICB9XG5cbiAgdXBkYXRlU2Nyb2xsQ29udGVudFNpemUgPSBwcmVDb25maWcgPT4ge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgaXNTcGFjZU5vdENoYW5nZSA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRFxuICAgICAgPyBsaXN0VXRpbHMuaXNFcXVhbE51bWJlcihjb25maWc/Lmhvcml6b250YWxTcGFjZSwgcHJlQ29uZmlnPy5ob3Jpem9udGFsU3BhY2UpICYmIGxpc3RVdGlscy5pc0VxdWFsTnVtYmVyKGNvbmZpZz8udmVydGljYWxTcGFjZSwgcHJlQ29uZmlnPy52ZXJ0aWNhbFNwYWNlKVxuICAgICAgOiBsaXN0VXRpbHMuaXNFcXVhbE51bWJlcihjb25maWcuc3BhY2UsIHByZUNvbmZpZy5zcGFjZSlcbiAgICBpZiAoY29uZmlnLmxheW91dFR5cGUgIT09IHByZUNvbmZpZy5sYXlvdXRUeXBlIHx8ICFpc1NwYWNlTm90Q2hhbmdlKSB7XG4gICAgICB0aGlzLnNldFNjcm9sbENvbnRlbnRTaXplKClcbiAgICB9XG4gIH1cblxuICBzY3JvbGxUb1NlbGVjdGVkSXRlbXMgPSAoZGF0YXNvdXJjZTogRGF0YVNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkUmVjb3JkSWRzID0gZGF0YXNvdXJjZS5nZXRTZWxlY3RlZFJlY29yZElkcygpXG4gICAgaWYgKHRoaXMuaXNNeVNlbGVjdGVkKSB7XG4gICAgICB0aGlzLmlzTXlTZWxlY3RlZCA9IGZhbHNlXG4gICAgICB0aGlzLmxhc3RTZWxlY3RlZFJlY29yZElkcyA9IHNlbGVjdGVkUmVjb3JkSWRzIHx8IFtdXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKHNlbGVjdGVkUmVjb3JkSWRzICYmIHNlbGVjdGVkUmVjb3JkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpc1NhbWUgPSB0cnVlXG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLmxhc3RTZWxlY3RlZFJlY29yZElkcyB8fFxuICAgICAgICBzZWxlY3RlZFJlY29yZElkcy5sZW5ndGggIT09IHRoaXMubGFzdFNlbGVjdGVkUmVjb3JkSWRzLmxlbmd0aFxuICAgICAgKSB7XG4gICAgICAgIGlzU2FtZSA9IGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3RlZFJlY29yZElkcy5zb21lKHJlY29yZElkID0+IHtcbiAgICAgICAgICBjb25zdCBySWQgPSB0aGlzLmxhc3RTZWxlY3RlZFJlY29yZElkcy5maW5kKFxuICAgICAgICAgICAgbGFzdFJlY29yZElkID0+IGxhc3RSZWNvcmRJZCA9PT0gcmVjb3JkSWRcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKCFySWQpIHtcbiAgICAgICAgICAgIGlzU2FtZSA9IGZhbHNlXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZSB8fCB0aGlzLm5lZWRTY3JvbGwpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gLTFcbiAgICAgICAgdGhpcy5yZWNvcmRzICYmXG4gICAgICAgICAgdGhpcy5yZWNvcmRzLmZpbmQoKHJlY29yZCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlY29yZC5nZXRJZD8uKCkgPT09IHNlbGVjdGVkUmVjb3JkSWRzWzBdKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gaVxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIC8vIENhbid0IGZpbmQgaXQsIG5lZWQgdG8gc2VhcmNoIGluIGFsbCByZWNvcmRzIGFnYWluXG4gICAgICAgICAgY29uc3QgcmVjb3JkcyA9IGRhdGFzb3VyY2UuZ2V0UmVjb3JkcygpXG4gICAgICAgICAgcmVjb3JkcyAmJlxuICAgICAgICAgICAgcmVjb3Jkcy5maW5kKChyZWNvcmQsIGkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlY29yZC5nZXRJZD8uKCkgPT09IHNlbGVjdGVkUmVjb3JkSWRzWzBdKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgY29uc3QgbmV3UGFnZSA9IE1hdGguY2VpbCgoaW5kZXggKyAxKSAvIHRoaXMuZ2V0UGFnZVNpemUoKSlcbiAgICAgICAgICAgIHRoaXMubmVlZFNjcm9sbCA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBwYWdlOiBuZXdQYWdlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoaW5kZXgpXG4gICAgICAgICAgdGhpcy5uZWVkU2Nyb2xsID0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxhc3RTZWxlY3RlZFJlY29yZElkcyA9IHNlbGVjdGVkUmVjb3JkSWRzIHx8IFtdXG4gIH1cblxuICBvbkRTQ3JlYXRlZCA9IChkczogRGF0YVNvdXJjZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGF0YXNvdXJjZTogZHNcbiAgICB9KVxuICB9XG5cbiAgcmVzaXplVGltZW91dDogTm9kZUpTLlRpbWVyXG4gIG9uUmVzaXplID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICBjb25zdCBuZXdXaWRnZXRSZWN0ID0ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9XG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGlzUmVzaXppbmdDYXJkIH0gPSB0aGlzLnN0YXRlXG4gICAgaWYgKGlzUmVzaXppbmdDYXJkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgc2hvd0JvdHRvbVRvb2wgPSBsaXN0VXRpbHMuc2hvd0JvdHRvbVRvb2xzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpXG4gICAgY29uc3QgYm90dG9tVG9vbEggPSBsaXN0VXRpbHMuZ2V0Qm90dG9tVG9vbEgoXG4gICAgICB0aGlzLnBhZ2luYXRvckRpdi5jdXJyZW50LFxuICAgICAgc2hvd0JvdHRvbVRvb2xcbiAgICApXG4gICAgY29uc3Qgc2hvd1RvcFRvb2wgPSBsaXN0VXRpbHMuc2hvd1RvcFRvb2xzKHRoaXMucHJvcHMpXG4gICAgY29uc3QgbGlzdEggPSBsaXN0VXRpbHMuZ2V0TGlzdEhlaWdodChcbiAgICAgIG5ld1dpZGdldFJlY3QsXG4gICAgICBib3R0b21Ub29sSCxcbiAgICAgIHNob3dUb3BUb29sXG4gICAgKVxuICAgIGNvbnN0IG9sZENhcmRTaXplID0gdGhpcy5nZXRPbGRDYXJkU2l6ZVdoZW5SZXNpemUobmV3V2lkZ2V0UmVjdClcbiAgICBjb25zdCBjYXJkU2l6ZSA9IHtcbiAgICAgIHdpZHRoOiBvbGRDYXJkU2l6ZS53aWR0aCxcbiAgICAgIGhlaWdodDogb2xkQ2FyZFNpemUuaGVpZ2h0XG4gICAgfVxuICAgIGxldCBuZWVkUmVmcmVzaExpc3Q6IGJvb2xlYW4gPSBmYWxzZVxuICAgIGlmIChjb25maWcubG9ja0l0ZW1SYXRpbyAmJiBjb25maWcubGF5b3V0VHlwZSAhPT0gTGlzdExheW91dFR5cGUuR1JJRCkge1xuICAgICAgY29uc3QgcmF0aW8gPSBjYXJkU2l6ZS53aWR0aCAvIGNhcmRTaXplLmhlaWdodFxuICAgICAgc3dpdGNoIChjb25maWc/LmxheW91dFR5cGUpIHtcbiAgICAgICAgY2FzZSBMaXN0TGF5b3V0VHlwZS5Db2x1bW46XG4gICAgICAgICAgY2FyZFNpemUuaGVpZ2h0ID0gbGlzdEhcbiAgICAgICAgICBjYXJkU2l6ZS53aWR0aCA9IGxpc3RIICogcmF0aW9cbiAgICAgICAgICBpZiAoIWxpc3RVdGlscy5pc0VxdWFsTnVtYmVyKGNhcmRTaXplLndpZHRoLCBvbGRDYXJkU2l6ZS53aWR0aCkpIHtcbiAgICAgICAgICAgIG5lZWRSZWZyZXNoTGlzdCA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSBMaXN0TGF5b3V0VHlwZS5Sb3c6XG4gICAgICAgICAgY2FyZFNpemUuaGVpZ2h0ID0gd2lkdGggLyByYXRpb1xuICAgICAgICAgIGNhcmRTaXplLndpZHRoID0gd2lkdGhcbiAgICAgICAgICBpZiAoIWxpc3RVdGlscy5pc0VxdWFsTnVtYmVyKGNhcmRTaXplLmhlaWdodCwgb2xkQ2FyZFNpemUuaGVpZ2h0KSkge1xuICAgICAgICAgICAgbmVlZFJlZnJlc2hMaXN0ID0gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGNvbmZpZz8ubGF5b3V0VHlwZSkge1xuICAgICAgICBjYXNlIExpc3RMYXlvdXRUeXBlLkNvbHVtbjpcbiAgICAgICAgICBjYXJkU2l6ZS5oZWlnaHQgPSBsaXN0SFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgTGlzdExheW91dFR5cGUuUm93OlxuICAgICAgICAgIGNhcmRTaXplLndpZHRoID0gd2lkdGhcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub3RSZXNldENhcmRTaXplID0gY2FyZFNpemUud2lkdGggPCBMSVNUX0NBUkRfTUlOX1NJWkUgfHwgY2FyZFNpemUuaGVpZ2h0IDwgTElTVF9DQVJEX01JTl9TSVpFIHx8IG5ld1dpZGdldFJlY3Qud2lkdGggPT09IDAgfHwgbmV3V2lkZ2V0UmVjdC5oZWlnaHQgPT09IDBcbiAgICBpZiAobm90UmVzZXRDYXJkU2l6ZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICB7XG4gICAgICAgIHdpZGdldFJlY3Q6IG5ld1dpZGdldFJlY3QsXG4gICAgICAgIGN1cnJlbnRDYXJkU2l6ZTogY2FyZFNpemVcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNIYXNJbml0Q3VycmVudENhcmRTaXplID0gdHJ1ZVxuICAgICAgICB0aGlzLmVkaXRMaXN0U2l6ZUluUnVuVGltZShuZXdXaWRnZXRSZWN0KVxuICAgICAgICBpZiAobmVlZFJlZnJlc2hMaXN0KSB7XG4gICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gICAgaWYgKHRoaXMucmVzaXplVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dClcbiAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgICBpZiAoY29uZmlnLmxvY2tJdGVtUmF0aW8pIHtcbiAgICAgIHRoaXMucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZVJlc2l6ZUNhcmQoY2FyZFNpemUsIHRydWUsIGZhbHNlLCBmYWxzZSwgdHJ1ZSlcbiAgICAgIH0sIDUwMClcbiAgICB9XG4gICAgdGhpcy51cGRhdGVDYXJkVG9vbFBvc2l0aW9uKClcbiAgICB0aGlzLnNldExpc3REaXZTaXplKClcbiAgfVxuXG4gIGdldE9sZENhcmRTaXplV2hlblJlc2l6ZSA9IChuZXdXaWRnZXRSZWN0KTogRWxlbWVudFNpemUgPT4ge1xuICAgIC8vV2hlbiB0aGUgd2lkdGggYW5kIGhlaWdodCBhcmUgcGVyY2VudGFnZXMsIHRoZSBPbnJlc2l6ZSBtZXRob2Qgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGNhbGxlZCBvbmNlIHdoZW4gdGhlIExpc3QgaXMgbG9hZGVkLiBBdCB0aGlzIHRpbWUsIHRoZSBjdXJyZW50IExpc3Qgc2l6ZSBzaG91bGQgYmUgdXNlZCB0byBvYnRhaW4gdGhlIG9sZENhcmRTaXplXG4gICAgY29uc3QgeyBjdXJyZW50Q2FyZFNpemUgfSA9IHRoaXMuc3RhdGVcbiAgICBpZiAoIXRoaXMuaXNIYXNJbml0Q3VycmVudENhcmRTaXplKSB7XG4gICAgICByZXR1cm4gbGlzdFV0aWxzLmdldENhcmRTaXplTnVtYmVySW5Db25maWcodGhpcy5wcm9wcywgbmV3V2lkZ2V0UmVjdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN1cnJlbnRDYXJkU2l6ZVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUNhcmRUb29sVGltZW91dDogTm9kZUpTLlRpbWVyXG4gIHByaXZhdGUgcmVhZG9ubHkgdXBkYXRlQ2FyZFRvb2xQb3NpdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbklzU2VsZiB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgaGlkZUNhcmRUb29sIH0gPSB0aGlzLnN0YXRlXG4gICAgaWYgKCFzZWxlY3Rpb25Jc1NlbGYgfHwgaGlkZUNhcmRUb29sKSByZXR1cm5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhpZGVDYXJkVG9vbDogdHJ1ZVxuICAgIH0pXG4gICAgaWYgKHRoaXMudXBkYXRlQ2FyZFRvb2xUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy51cGRhdGVDYXJkVG9vbFRpbWVvdXQpXG4gICAgICB0aGlzLnVwZGF0ZUNhcmRUb29sVGltZW91dCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUNhcmRUb29sVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGhpZGVDYXJkVG9vbDogZmFsc2VcbiAgICAgIH0pXG4gICAgfSwgNTAwKVxuICB9XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZWZyZXNoTGlzdCA9IChzaG91bGRGb3JjZVVwZGF0ZTogYm9vbGVhbiA9IHRydWUpID0+IHtcbiAgICBpZiAodGhpcy5saXN0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHRoaXMubGlzdFJlZj8uY3VycmVudD8ucmVzZXRBZnRlckluZGV4ICYmIHRoaXMubGlzdFJlZj8uY3VycmVudD8ucmVzZXRBZnRlckluZGV4KDAsIHNob3VsZEZvcmNlVXBkYXRlKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNEc0NvbmZpZ3VyZWQgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgeyB1c2VEYXRhU291cmNlcyB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiAhIXVzZURhdGFTb3VyY2VzICYmICEhdXNlRGF0YVNvdXJjZXNbMF1cbiAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2VsZWN0UmVjb3JkcyA9IChyZWNvcmRzOiBEYXRhUmVjb3JkW10pID0+IHtcbiAgICBjb25zdCB7IGRhdGFzb3VyY2UgfSA9IHRoaXMuc3RhdGVcblxuICAgIGlmIChkYXRhc291cmNlKSB7XG4gICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKFxuICAgICAgICBuZXcgRGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMuaWQsIHJlY29yZHMpXG4gICAgICApXG5cbiAgICAgIGlmIChyZWNvcmRzKSB7XG4gICAgICAgIHRoaXMuaXNNeVNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICB0aGlzLmlzSGFzUHVibGlzaE1lc3NhZ2VBY3Rpb24gPSB0cnVlXG4gICAgICAgIGRhdGFzb3VyY2Uuc2VsZWN0UmVjb3Jkc0J5SWRzKHJlY29yZHMubWFwKHJlY29yZCA9PiByZWNvcmQuZ2V0SWQoKSkpXG4gICAgICAgIGNvbnN0IG91dHB1dERzID0gdGhpcy5nZXRPdXRwdXREcygpXG4gICAgICAgIG91dHB1dERzICYmXG4gICAgICAgICAgb3V0cHV0RHMuc2VsZWN0UmVjb3Jkc0J5SWRzKHJlY29yZHMubWFwKHJlY29yZCA9PiByZWNvcmQuZ2V0SWQoKSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlzSGFzUHVibGlzaE1lc3NhZ2VBY3Rpb24gPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZywgdmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZShcbiAgICAgIHsgaWQ6IGlkLCBkZWZhdWx0TWVzc2FnZTogTUVTU0FHRVNbaWRdIH0sXG4gICAgICB2YWx1ZXNcbiAgICApXG4gIH1cblxuICAvLyBjYWxsIGV4ZWMgbWFudWx5XG4gIGVkaXRTdGF0dXMgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCB7IGRpc3BhdGNoLCBpZCB9ID0gdGhpcy5wcm9wc1xuICAgIGRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKGlkLCBuYW1lLCB2YWx1ZSkpXG4gIH1cblxuICBlZGl0V2lkZ2V0Q29uZmlnID0gbmV3Q29uZmlnID0+IHtcbiAgICBpZiAoIXdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSByZXR1cm5cblxuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IHRoaXMucHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLmppbXVGb3JCdWlsZGVyTGliLmdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRXaWRnZXRDb25maWcodGhpcy5wcm9wcy5pZCwgbmV3Q29uZmlnKS5leGVjKClcbiAgfVxuXG4gIHNjcm9sbFRvSW5kZXggPSAoaW5kZXg6IG51bWJlciwgdHlwZTogc3RyaW5nID0gJ3N0YXJ0JykgPT4ge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgaWYgKHRoaXMubGlzdFJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEKSB7XG4gICAgICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gdGhpcy5nZXRJdGVtQ29sdW1uQ291bnQoKVxuICAgICAgICBjb25zdCByb3dJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyBjb2x1bW5Db3VudClcbiAgICAgICAgdGhpcy5saXN0UmVmLmN1cnJlbnQuc2Nyb2xsVG9JdGVtKHtcbiAgICAgICAgICBjb2x1bW5JbmRleDogaW5kZXggLSByb3dJbmRleCAqIGNvbHVtbkNvdW50LFxuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgICBhbGlnbjogdHlwZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5saXN0UmVmLmN1cnJlbnQuc2Nyb2xsVG9JdGVtKGluZGV4LCB0eXBlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlzRWRpdGluZyA9ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB7IGFwcE1vZGUsIGNvbmZpZywgc2VsZWN0aW9uSXNTZWxmLCBzZWxlY3Rpb25Jc0luU2VsZiB9ID0gdGhpcy5wcm9wc1xuICAgIGlmICghd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiAoXG4gICAgICAoc2VsZWN0aW9uSXNTZWxmIHx8IHNlbGVjdGlvbklzSW5TZWxmKSAmJlxuICAgICAgd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiZcbiAgICAgIGFwcE1vZGUgIT09IEFwcE1vZGUuUnVuICYmXG4gICAgICBjb25maWcuaXNJdGVtU3R5bGVDb25maXJtXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSByZWFkb25seSBoYW5kbGVJdGVtQ2hhbmdlID0gKGl0ZW1SZWNvcmQ6IERhdGFSZWNvcmQpID0+IHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgZGF0YXNvdXJjZSB9ID0gdGhpcy5zdGF0ZVxuICAgIGlmICghZGF0YXNvdXJjZSB8fCAhaXRlbVJlY29yZCkgcmV0dXJuXG5cbiAgICBsZXQgc2VsZWN0ZWRSZWNvcmRzID0gZGF0YXNvdXJjZS5nZXRTZWxlY3RlZFJlY29yZHMoKSB8fCBbXVxuICAgIGlmIChcbiAgICAgIGNvbmZpZy5jYXJkQ29uZmlnc1tTdGF0dXMuU2VsZWN0ZWRdLnNlbGVjdGlvbk1vZGUgJiZcbiAgICAgIGNvbmZpZy5jYXJkQ29uZmlnc1tTdGF0dXMuU2VsZWN0ZWRdLnNlbGVjdGlvbk1vZGUgIT09XG4gICAgICBTZWxlY3Rpb25Nb2RlVHlwZS5Ob25lXG4gICAgKSB7XG4gICAgICBjb25zdCByZWNvcmRJZCA9IGl0ZW1SZWNvcmQ/LmdldElkKClcbiAgICAgIGNvbnN0IHJlY29yZCA9IHNlbGVjdGVkUmVjb3Jkcy5maW5kKHJlY29yZCA9PiByZWNvcmQuZ2V0SWQoKSA9PT0gcmVjb3JkSWQpXG4gICAgICBpZiAoXG4gICAgICAgIGNvbmZpZy5jYXJkQ29uZmlnc1tTdGF0dXMuU2VsZWN0ZWRdLnNlbGVjdGlvbk1vZGUgPT09XG4gICAgICAgIFNlbGVjdGlvbk1vZGVUeXBlLlNpbmdsZVxuICAgICAgKSB7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdFJlY29yZHMoW10pXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dTZWxlY3Rpb25Pbmx5OiBmYWxzZSB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2VsZWN0UmVjb3JkcyhbaXRlbVJlY29yZF0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICBzZWxlY3RlZFJlY29yZHMgPSBzZWxlY3RlZFJlY29yZHMuZmlsdGVyKFxuICAgICAgICAgICAgcmVjb3JkID0+IHJlY29yZC5nZXRJZCgpICE9PSByZWNvcmRJZFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RlZFJlY29yZHMgPSBbaXRlbVJlY29yZF0uY29uY2F0KHNlbGVjdGVkUmVjb3JkcylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdFJlY29yZHMoc2VsZWN0ZWRSZWNvcmRzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1vdXNlQ2xpY2tUaW1lb3V0OiBOb2RlSlMuVGltZXJcblxuICBoYW5kbGVMaXN0UG9pbnRlckRvd24gPSBldnQgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZm9yY2VTaG93TWFzazogdHJ1ZVxuICAgIH0pXG4gICAgaWYgKHRoaXMubW91c2VDbGlja1RpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1vdXNlQ2xpY2tUaW1lb3V0KVxuICAgICAgdGhpcy5tb3VzZUNsaWNrVGltZW91dCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgICB0aGlzLm1vdXNlQ2xpY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZm9yY2VTaG93TWFzazogZmFsc2VcbiAgICAgIH0pXG4gICAgfSwgMjAwKVxuICB9XG5cbiAgaGFuZGxlU2Nyb2xsVXAgPSBlID0+IHtcbiAgICBjb25zdCBzY3JvbGxTdGVwID0gdGhpcy5nZXRTY3JvbGxTdGVwKClcbiAgICBjb25zdCBsaXN0VmlzaWJsZVN0YXJ0SW5kZXggPSB0aGlzLmdldExpc3RWaXNpYmxlU3RhcnRJbmRleCgpXG4gICAgbGV0IHRvSW5kZXggPSBsaXN0VmlzaWJsZVN0YXJ0SW5kZXggLSBzY3JvbGxTdGVwXG4gICAgaWYgKHRvSW5kZXggPCAwKSB7XG4gICAgICB0b0luZGV4ID0gMFxuICAgIH1cbiAgICB0aGlzLnNjcm9sbFRvSW5kZXgodG9JbmRleCwgJ3N0YXJ0JylcbiAgfVxuXG4gIGhhbmRsZVNjcm9sbERvd24gPSBlID0+IHtcbiAgICBjb25zdCBzY3JvbGxTdGVwID0gdGhpcy5nZXRTY3JvbGxTdGVwKClcbiAgICBjb25zdCB7IGxpc3RWaXNpYmxlU3RvcEluZGV4IH0gPSB0aGlzXG4gICAgY29uc3QgbGlzdFZpc2libGVTdGFydEluZGV4ID0gdGhpcy5nZXRMaXN0VmlzaWJsZVN0YXJ0SW5kZXgoKVxuICAgIGlmIChcbiAgICAgIGxpc3RWaXNpYmxlU3RvcEluZGV4ICsgc2Nyb2xsU3RlcCA+PSB0aGlzLnJlY29yZHMubGVuZ3RoIC0gMSAmJlxuICAgICAgdGhpcy5yZWNvcmRzLmxlbmd0aCA8IHRoaXMuZ2V0VG90YWxDb3VudCgpXG4gICAgKSB7XG4gICAgICB0aGlzLmlzU3dpdGNoUGFnZSA9IHRydWVcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwYWdlOiB0aGlzLnN0YXRlLnBhZ2UgKyAxXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNjcm9sbFRvSW5kZXgobGlzdFZpc2libGVTdGFydEluZGV4ICsgc2Nyb2xsU3RlcCwgJ3N0YXJ0JylcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxTdGVwID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2Nyb2xsU3RlcCwgbGF5b3V0VHlwZSB9ID0gdGhpcy5wcm9wcy5jb25maWdcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IHRoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KClcbiAgICByZXR1cm4gbGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IHNjcm9sbFN0ZXAgKiBjb2x1bW5Db3VudCA6IHNjcm9sbFN0ZXBcbiAgfVxuXG4gIGhhbmRsZVN3aXRjaFBhZ2UgPSAocGFnZU51bTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgdG90YWxQYWdlcyA9IHRoaXMuZ2V0VG90YWxQYWdlKClcbiAgICBpZiAocGFnZU51bSA8IDEgfHwgcGFnZU51bSA+IHRvdGFsUGFnZXMpIHJldHVyblxuICAgIGlmIChwYWdlTnVtICE9PSB0aGlzLnN0YXRlLnBhZ2UpIHtcbiAgICAgIHRoaXMuaXNTd2l0Y2hQYWdlID0gdHJ1ZVxuICAgICAgdGhpcy5sYXN0UXVlcnlTdGFydCA9IHRoaXMuc3RhdGUucGFnZVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBhZ2U6IHBhZ2VOdW1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTGlzdE1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNFZGl0aW5nKCkpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaG92ZXJJbmRleDogLTFcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlTGlzdE1vdXNlTW92ZSA9IChpdGVtSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmICh0aGlzLmlzRWRpdGluZygpKSByZXR1cm5cbiAgICBpZiAoaXRlbUluZGV4ID09PSB0aGlzLnN0YXRlLmhvdmVySW5kZXgpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaG92ZXJJbmRleDogaXRlbUluZGV4XG4gICAgfSlcbiAgfVxuXG4gIGxhc3RTY3JvbGxPZmZzZXQgPSAwXG4gIHRpbWVTdGFtcFxuICBoYW5kbGVMaXN0U2Nyb2xsID0gKHtcbiAgICBzY3JvbGxEaXJlY3Rpb24sXG4gICAgc2Nyb2xsT2Zmc2V0LFxuICAgIHNjcm9sbFRvcCxcbiAgICBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWRcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHsgYXBwTW9kZSwgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgbGlzdERpdiA9IHRoaXMubGlzdE91dERpdlJlZlxuICAgIGNvbnN0IHsgZGF0YXNvdXJjZSwgc2Nyb2xsU3RhdHVzIH0gPSB0aGlzLnN0YXRlXG4gICAgdGhpcy5sYXN0U2Nyb2xsT2Zmc2V0ID0gY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEID8gc2Nyb2xsVG9wIDogc2Nyb2xsT2Zmc2V0XG4gICAgaWYgKCFsaXN0RGl2IHx8ICh0aGlzLnJlY29yZHM/Lmxlbmd0aCA/PyAwKSA8IDEpIHJldHVyblxuICAgIGlmIChcbiAgICAgIGNvbmZpZy5wYWdlU3R5bGUgPT09IFBhZ2VTdHlsZS5TY3JvbGwgJiZcbiAgICAgIHRoaXMucXVlcnlTdGF0dXMgIT09IERhdGFTb3VyY2VTdGF0dXMuTG9hZGluZyAmJlxuICAgICAgZGF0YXNvdXJjZSAmJlxuICAgICAgKCF3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciB8fCBhcHBNb2RlID09PSBBcHBNb2RlLlJ1bilcbiAgICApIHtcbiAgICAgIHRoaXMuaXNIYXNTY3JvbGxlZCA9IHRydWVcbiAgICAgIGlmIChsaXN0VXRpbHMuaXNTY3JvbGxTdGFydChsaXN0RGl2LCB0aGlzLmxhc3RTY3JvbGxPZmZzZXQpKSB7XG4gICAgICAgIGlmIChzY3JvbGxTdGF0dXMgIT09ICdzdGFydCcpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFN0YXR1czogJ3N0YXJ0J1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzY3JvbGxTdGF0dXMgIT09ICdtaWQnKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzY3JvbGxTdGF0dXM6ICdtaWQnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFRvdGFsUGFnZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHRvdGFsQ291bnQgfSA9IHRoaXNcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHRvdGFsID0gdG90YWxDb3VudFxuICAgIGNvbnN0IHRvdGFsUGFnZSA9IE1hdGguZmxvb3IodG90YWwgLyBjb25maWcuaXRlbXNQZXJQYWdlKVxuICAgIGNvbnN0IG1vZGUgPSB0b3RhbCAlIGNvbmZpZy5pdGVtc1BlclBhZ2VcbiAgICByZXR1cm4gbW9kZSA9PT0gMCA/IHRvdGFsUGFnZSA6IHRvdGFsUGFnZSArIDFcbiAgfVxuXG4gIGdldExpc3RWaXNpYmxlU3RhcnRJbmRleCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxhc3RTY3JvbGxPZmZzZXQgfSA9IHRoaXNcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGl0ZW1TaXplID0gdGhpcy5pdGVtU2l6ZSgwKVxuICAgIGNvbnN0IGJhc2UgPSAobGFzdFNjcm9sbE9mZnNldCAqIDEuMCkgLyBpdGVtU2l6ZVxuICAgIGxldCBpbmRleCA9IE1hdGguZmxvb3IoYmFzZSlcbiAgICBjb25zdCBtbyA9IChiYXNlIC0gaW5kZXgpICogaXRlbVNpemVcbiAgICBjb25zdCBzcGFjZSA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IGNvbmZpZz8udmVydGljYWxTcGFjZSA6IGNvbmZpZz8uc3BhY2VcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IHRoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KClcbiAgICBpbmRleCA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IGluZGV4ICogY29sdW1uQ291bnQgOiBpbmRleFxuICAgIGlmIChtbyA+IGl0ZW1TaXplIC0gc3BhY2UpIHtcbiAgICAgIGluZGV4KytcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4XG4gIH1cblxuICBoYW5kbGVTb3J0T3B0aW9uQ2hhbmdlID0gKGV2dCwgaXRlbTogTXlEcm9wRG93bkl0ZW0pID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKFxuICAgICAge1xuICAgICAgICBzb3J0T3B0aW9uTmFtZTogaXRlbS5sYWJlbCxcbiAgICAgICAgcGFnZTogMVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gdGhpcy5zZWxlY3RSZWNvcmRzKFtdKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGhhbmRsZVNlYXJjaFRleHRDaGFuZ2UgPSBzZWFyY2hUZXh0ID0+IHtcbiAgICBpZiAoc2VhcmNoVGV4dCA9PT0gJycgfHwgIXNlYXJjaFRleHQpIHtcbiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoU3VibWl0KHVuZGVmaW5lZClcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWFyY2hTdWdnZXN0aW9uOiBbXVxuICAgIH0pXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuc3VnZ2VzdGlvbnNRdWVyeVRpbWVvdXQpXG4gICAgdGhpcy5zdWdnZXN0aW9uc1F1ZXJ5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5nZXRTZWFyY2hTdWdnZXN0aW9ucyhzZWFyY2hUZXh0KVxuICAgIH0sIDIwMClcbiAgfVxuXG4gIGdldFNlYXJjaFN1Z2dlc3Rpb25zID0gc2VhcmNoVGV4dCA9PiB7XG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGRhdGFzb3VyY2UgfSA9IHRoaXMuc3RhdGVcbiAgICBpZiAoc2VhcmNoVGV4dD8ubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIGZldGNoU3VnZ2VzdGlvblJlY29yZHMoc2VhcmNoVGV4dCwgY29uZmlnLCBkYXRhc291cmNlKS50aGVuKFxuICAgICAgc2VhcmNoU3VnZ2VzdGlvbiA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNlYXJjaFN1Z2dlc3Rpb246IHNlYXJjaFN1Z2dlc3Rpb25cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYW5kbGVTZWFyY2hTdWJtaXQgPSAoc2VhcmNoVGV4dCwgaXNFbnRlciA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3Qgb2xkU2VhcmNoVGV4dCA9IHRoaXMuc3RhdGUuc2VhcmNoVGV4dFxuICAgIGlmIChvbGRTZWFyY2hUZXh0ID09PSBzZWFyY2hUZXh0ICYmICFpc0VudGVyKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgc2VhcmNoVGV4dDogc2VhcmNoVGV4dCxcbiAgICAgICAgcGFnZTogMVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gdGhpcy5zZWxlY3RSZWNvcmRzKFtdKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGNoYW5nZUlzUmVzaXppbmdDYXJkIChpc1Jlc2l6aW5nQ2FyZDogYm9vbGVhbikge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZXNpemluZ0NhcmQ6IGlzUmVzaXppbmdDYXJkXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZVJlc2l6ZUNhcmQgKFxuICAgIG5ld0NhcmRTaXplLFxuICAgIHJlc2l6ZUVuZDogYm9vbGVhbiA9IGZhbHNlLFxuICAgIGlzVG9wPzogYm9vbGVhbixcbiAgICBpc0xlZnQ/OiBib29sZWFuLFxuICAgIGlzUmVwbGFjZTogYm9vbGVhbiA9IGZhbHNlXG4gICkge1xuICAgIGlmIChyZXNpemVFbmQpIHtcbiAgICAgIGNvbnN0IGNhcmRTaXplID0gdGhpcy5pbml0TmV3Q2FyZFNpemUobmV3Q2FyZFNpemUpXG4gICAgICB3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciAmJlxuICAgICAgICB0aGlzLnByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcy53aWRnZXRNb2R1bGVzLmhhbmRsZVJlc2l6ZUNhcmQoXG4gICAgICAgICAgdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYXJkU2l6ZSxcbiAgICAgICAgICBpc1RvcCxcbiAgICAgICAgICBpc0xlZnQsXG4gICAgICAgICAgcmVzaXplRW5kLFxuICAgICAgICAgIGlzUmVwbGFjZVxuICAgICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICAgIHtcbiAgICAgICAgICBjdXJyZW50Q2FyZFNpemU6IG5ld0NhcmRTaXplXG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlZnJlc2hMaXN0KGZhbHNlKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgaW5pdE5ld0NhcmRTaXplID0gKG5ld0NhcmRTaXplOiBFbGVtZW50U2l6ZSkgPT4ge1xuICAgIC8vSWYgdGhlIG9yaWdpbmFsIHdpZHRoIGFuZCBoZWlnaHQgYXJlIHBlcmNlbnRhZ2VzLCBweCB3aWxsIGJlIGNvbnZlcnRlZCB0byBwZXJjZW50YWdlcyBkdXJpbmcgcmVzaXplLCBhbmQgdGhlbiBzZXQgdG8gY29uZmlnXG4gICAgY29uc3QgeyB3aWRnZXRSZWN0IH0gPSB0aGlzLnN0YXRlXG4gICAgbGV0IGNhcmRTaXplID0gSW1tdXRhYmxlKG5ld0NhcmRTaXplKVxuICAgIGNvbnN0IGNhcmRTaXplV2lkdGhVbml0ID0gbGlzdFV0aWxzLmdldENhcmRTaXplV2lkdGhVbml0SW5Db25maWcodGhpcy5wcm9wcylcbiAgICBpZiAoY2FyZFNpemVXaWR0aFVuaXQud2lkdGgudW5pdCA9PT0gRGlzdGFuY2VVbml0cy5QRVJDRU5UQUdFKSB7XG4gICAgICBjYXJkU2l6ZSA9IGNhcmRTaXplLnNldCgnd2lkdGgnLCBgJHtuZXdDYXJkU2l6ZS53aWR0aCAqIDEwMCAvIHdpZGdldFJlY3Qud2lkdGh9JWApXG4gICAgfVxuICAgIGlmIChjYXJkU2l6ZVdpZHRoVW5pdC5oZWlnaHQudW5pdCA9PT0gRGlzdGFuY2VVbml0cy5QRVJDRU5UQUdFKSB7XG4gICAgICBjYXJkU2l6ZSA9IGNhcmRTaXplLnNldCgnaGVpZ2h0JywgYCR7bmV3Q2FyZFNpemUuaGVpZ2h0ICogMTAwIC8gd2lkZ2V0UmVjdC5oZWlnaHR9JWApXG4gICAgfVxuICAgIHJldHVybiBjYXJkU2l6ZT8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KVxuICB9XG5cbiAgaGFuZGxlRmlsdGVyQ2hhbmdlID0gKHNxbEV4cHJPYmo6IElNU3FsRXhwcmVzc2lvbikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICB7XG4gICAgICAgIGN1cnJlbnRGaWx0ZXI6IHNxbEV4cHJPYmosXG4gICAgICAgIHBhZ2U6IDFcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIC8vIHRoaXMuc2VsZWN0UmVjb3JkcyhbXSlcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBoYW5kbGVGaWx0ZXJBcHBseUNoYW5nZSA9IChhcHBsaWVkOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgYWx0ZXJTdGF0ZSA9IHtcbiAgICAgIGZpbHRlckFwcGxpZWQ6IGFwcGxpZWQsXG4gICAgICBxdWVyeVN0YXJ0OiAwXG4gICAgfSBhcyBhbnlcblxuICAgIGlmICghYXBwbGllZCkge1xuICAgICAgLy8gYWx0ZXJTdGF0ZS5jdXJyZW50RmlsdGVyID0gdW5kZWZpbmVkXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoYWx0ZXJTdGF0ZSwgKCkgPT4ge1xuICAgICAgLy8gdGhpcy5zZWxlY3RSZWNvcmRzKFtdKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVTaG93U2VsZWN0aW9uQ2xpY2sgPSBldnQgPT4ge1xuICAgIGNvbnN0IHsgc2hvd1NlbGVjdGlvbk9ubHkgfSA9IHRoaXMuc3RhdGVcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1NlbGVjdGlvbk9ubHk6ICFzaG93U2VsZWN0aW9uT25seSB9KVxuICB9XG5cbiAgaGFuZGxlQ2xlYXJTZWxlY3Rpb25DbGljayA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1NlbGVjdGlvbk9ubHk6IGZhbHNlIH0pXG4gICAgdGhpcy5zZWxlY3RSZWNvcmRzKFtdKVxuICB9XG5cbiAgcmVzZXRTaG93U2VsZWN0aW9uU3RhdHVzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2hvd1NlbGVjdGlvbk9ubHkgfSA9IHRoaXMuc3RhdGVcbiAgICBpZiAoc2hvd1NlbGVjdGlvbk9ubHkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93U2VsZWN0aW9uT25seTogZmFsc2UgfSlcbiAgICB9XG4gIH1cblxuICBfZ2V0Q3VycmVudFBhZ2UgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucGFnZVxuICB9XG5cbiAgZ2V0VG90YWxDb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMudG90YWxDb3VudCB8fCAwXG4gICAgcmV0dXJuIHRvdGFsXG4gIH1cblxuICBzZWxlY3RDYXJkID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uSXNJblNlbGYgfSA9IHRoaXMucHJvcHNcbiAgICBpZiAoc2VsZWN0aW9uSXNJblNlbGYpIHtcbiAgICAgIHRoaXMuc2VsZWN0U2VsZigpXG4gICAgfVxuICB9XG5cbiAgc2VsZWN0U2VsZiAoKSB7XG4gICAgd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiZcbiAgICAgIHRoaXMucHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLndpZGdldE1vZHVsZXMuc2VsZWN0U2VsZih0aGlzLnByb3BzKVxuICB9XG5cbiAgZWRpdEJ1aWxkZXJBbmRTZXR0aW5nU3RhdHVzID0gKHN0YXR1czogU3RhdHVzKSA9PiB7XG4gICAgdGhpcy5lZGl0U3RhdHVzKCdzaG93Q2FyZFNldHRpbmcnLCBzdGF0dXMpXG4gICAgdGhpcy5lZGl0U3RhdHVzKCdidWlsZGVyU3RhdHVzJywgc3RhdHVzKVxuICB9XG5cbiAgZWRpdExpc3RTaXplSW5SdW5UaW1lID0gKHdpZGdldFJlY3Q6IEVsZW1lbnRTaXplKSA9PiB7XG4gICAgY29uc3QgeyBpZCwgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHNcbiAgICBkaXNwYXRjaChhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZShpZCwgJ3dpZGdldFJlY3QnLCB3aWRnZXRSZWN0KSlcbiAgfVxuXG4gIGdldFNvcnRJdGVtcyA9ICgpOiBJbW11dGFibGVBcnJheTxNeURyb3BEb3duSXRlbT4gPT4ge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgb3B0aW9ucyA9IFtdIGFzIGFueVxuICAgIGlmIChjb25maWcuc29ydHMpIHtcbiAgICAgIGNvbmZpZy5zb3J0cy5mb3JFYWNoKHNvcnQgPT4ge1xuICAgICAgICBzb3J0LnJ1bGUgJiZcbiAgICAgICAgICBzb3J0LnJ1bGUuZm9yRWFjaChzb3J0RGF0YSA9PiB7XG4gICAgICAgICAgICBpZiAoc29ydERhdGEgJiYgISFzb3J0RGF0YS5qaW11RmllbGROYW1lKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6IHNvcnQucnVsZU9wdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHRoaXMuaGFuZGxlU29ydE9wdGlvbkNoYW5nZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gSW1tdXRhYmxlKG9wdGlvbnMpXG4gIH1cblxuICBnZXRPdXRwdXREcyAoKTogRGF0YVNvdXJjZSB7XG4gICAgY29uc3Qgb3V0cHV0RHNJZCA9XG4gICAgICB0aGlzLnByb3BzLm91dHB1dERhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMub3V0cHV0RGF0YVNvdXJjZXNbMF1cbiAgICBjb25zdCB1c2VEcyA9IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXVxuICAgIGlmICghb3V0cHV0RHNJZCB8fCAhdXNlRHMpIHJldHVyblxuICAgIGNvbnN0IGRzTWFuYWdlciA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKClcbiAgICByZXR1cm4gZHNNYW5hZ2VyLmdldERhdGFTb3VyY2Uob3V0cHV0RHNJZClcbiAgfVxuXG4gIHJlbmRlckxpc3RUb3BUb29scyA9IChkczogRGF0YVNvdXJjZSwgcXVlcnlTdGF0dXM/OiBEYXRhU291cmNlU3RhdHVzLCBzZWxlY3RSZWNvcmRzPzogRGF0YVJlY29yZFtdKSA9PiB7XG4gICAgY29uc3QgeyB3aWRnZXRSZWN0LCBpc1NlYXJjaEJveFZpc2libGUsIGlzT3BlblRvcFRvb2xzUG9wcGVyIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgbGlzdFdpZHRoID0gd2lkZ2V0UmVjdD8ud2lkdGggfHwgNjIwXG4gICAgY29uc3QgaXNTaG93RGF0YUFjdGlvbiA9IGxpc3RVdGlscy5jaGVja0lzU2hvd0RhdGFBY3Rpb24odGhpcy5wcm9wcylcbiAgICBjb25zdCBpc1Nob3dMaXN0VG9vbHNPbmx5ID0gbGlzdFV0aWxzLmNoZWNrSXNTaG93TGlzdFRvb2xzT25seSh0aGlzLnByb3BzKVxuICAgIGNvbnN0IGRhdGFOYW1lID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsaXN0RGF0YUFjdGlvbkxhYmVsJywgeyBsYXllcjogZHM/LmdldExhYmVsKCkgfHwgJycgfSlcbiAgICBjb25zdCBMSVNUX1RPT0xfTUlOX1NJWkUgPSBpc1Nob3dEYXRhQWN0aW9uID8gTElTVF9UT09MX01JTl9TSVpFX0RBVEFfQUNUSU9OIDogTElTVF9UT09MX01JTl9TSVpFX05PX0RBVEFfQUNUSU9OXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdkYXRhc291cmNlLXRvb2xzIHctMTAwJyBjc3M9e2dldFRvcFRvb2xTdHlsZSh0aGlzLnByb3BzLCBpc1Nob3dMaXN0VG9vbHNPbmx5KX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1ncm93LTEgdG9vbC1yb3dcIj5cbiAgICAgICAgICAgIHtpc1Nob3dMaXN0VG9vbHNPbmx5ICYmIDxkaXY+XG4gICAgICAgICAgICAgIHtsaXN0V2lkdGggPj0gTElTVF9UT09MX01JTl9TSVpFICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndG9vbC1yb3cgcm93MSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIHctMTAwIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJz5cbiAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclNlYXJjaFRvb2xzKGRzLCBxdWVyeVN0YXR1cyl9XG4gICAgICAgICAgICAgICAgICB7KCFpc1NlYXJjaEJveFZpc2libGUgfHwgbGlzdFdpZHRoID49IDM2MCkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUb3BSaWdodFRvb2xzKGRzLCBxdWVyeVN0YXR1cyl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtsaXN0V2lkdGggPCBMSVNUX1RPT0xfTUlOX1NJWkUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbG9hdC1yaWdodCcgcmVmPXtyZWYgPT4gKHRoaXMucmVmZXJlbmNlID0gcmVmKX0+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3RlcnRpYXJ5J1xuICAgICAgICAgICAgICAgICAgICBpY29uXG4gICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3Rvb2xzLW1lbnUnXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2d1aWRlU3RlcDlUaXRsZScpfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtldnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc09wZW5Ub3BUb29sc1BvcHBlcjogIWlzT3BlblRvcFRvb2xzUG9wcGVyIH0pXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxNZW51T3V0bGluZWQgc2l6ZT17MTZ9Lz5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTGlzdFRvcFRvb2xzSW5Qb3BlcihkcywgcXVlcnlTdGF0dXMpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHsoZHMgJiYgaXNTaG93RGF0YUFjdGlvbikgJiYgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2xpc3QtZGF0YS1hY3Rpb24gcG9zaXRpb24tcmVsYXRpdmUnLCB7ICdtLWxlZnQnOiBsaXN0V2lkdGggPCBMSVNUX1RPT0xfTUlOX1NJWkUgfSl9IGRhdGEtdGVzdGlkPVwiZGF0YS1hY3Rpb25cIj5cbiAgICAgICAgICAgIDxEYXRhQWN0aW9uRHJvcERvd25cbiAgICAgICAgICAgICAgZGF0YU5hbWU9e2RhdGFOYW1lfVxuICAgICAgICAgICAgICB0eXBlPSd0ZXJ0aWFyeSdcbiAgICAgICAgICAgICAgd2lkZ2V0SWQ9e3RoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICAgIGRhdGFTb3VyY2U9e2RzfVxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICByZWNvcmRzPXtzZWxlY3RSZWNvcmRzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7d2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiYgdGhpcy5pc0VkaXRpbmcoKSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VkaXRpbmctbWFzay1kcy10b29sJyAvPlxuICAgICAgICApfVxuXG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJMaXN0VG9wVG9vbHNJblBvcGVyID0gKFxuICAgIGRzOiBEYXRhU291cmNlLFxuICAgIHF1ZXJ5U3RhdHVzPzogRGF0YVNvdXJjZVN0YXR1c1xuICApID0+IHtcbiAgICBjb25zdCB7IHdpZGdldFJlY3QsIGlzU2VhcmNoQm94VmlzaWJsZSwgaXNPcGVuVG9wVG9vbHNQb3BwZXIgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB0b29sc0Rpc2FibGVkID0gdGhpcy5pc0VkaXRpbmcoKVxuICAgIGNvbnN0IGxpc3RXaWR0aCA9IHdpZGdldFJlY3Q/LndpZHRoIHx8IDYyMFxuICAgIGNvbnN0IExJU1RfVE9PTF9NSU5fU0laRSA9IGxpc3RVdGlscy5jaGVja0lzU2hvd0RhdGFBY3Rpb24odGhpcy5wcm9wcykgPyBMSVNUX1RPT0xfTUlOX1NJWkVfREFUQV9BQ1RJT04gOiBMSVNUX1RPT0xfTUlOX1NJWkVfTk9fREFUQV9BQ1RJT05cbiAgICBjb25zdCBpc09wZW4gPVxuICAgICAgbGlzdFdpZHRoIDwgTElTVF9UT09MX01JTl9TSVpFICYmIGlzT3BlblRvcFRvb2xzUG9wcGVyICYmICF0b29sc0Rpc2FibGVkXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxQb3BwZXJcbiAgICAgICAgICBwbGFjZW1lbnQ9J2JvdHRvbS1zdGFydCdcbiAgICAgICAgICByZWZlcmVuY2U9e3RoaXMucmVmZXJlbmNlfVxuICAgICAgICAgIG9mZnNldD17Wy0xMCwgMF19XG4gICAgICAgICAgb3Blbj17aXNPcGVufVxuICAgICAgICAgIHNob3dBcnJvd1xuICAgICAgICAgIHRvZ2dsZT17ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuVG9wVG9vbHNQb3BwZXI6ICFpc09wZW4gfSlcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPSd0b29sLXJvdyByb3cxIGQtZmxleCBhbGlnbi1pdGVtcy1lbmQganVzdGlmeS1jb250ZW50LWJldHdlZW4nXG4gICAgICAgICAgICBjc3M9e2dldFRvb2xzUG9wcGVyU3R5bGUodGhpcy5wcm9wcyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3RoaXMucmVuZGVyU2VhcmNoVG9vbHMoZHMsIHF1ZXJ5U3RhdHVzKX1cbiAgICAgICAgICAgIHshaXNTZWFyY2hCb3hWaXNpYmxlICYmIHRoaXMucmVuZGVyVG9wUmlnaHRUb29scyhkcywgcXVlcnlTdGF0dXMpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BvcHBlcj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlclNlYXJjaFRvb2xzID0gKGRzOiBEYXRhU291cmNlLCBxdWVyeVN0YXR1cz86IERhdGFTb3VyY2VTdGF0dXMpID0+IHtcbiAgICBjb25zdCB0b29sc0Rpc2FibGVkID1cbiAgICAgIHRoaXMuaXNFZGl0aW5nKCkgfHwgIWRzIHx8IHF1ZXJ5U3RhdHVzICE9PSBEYXRhU291cmNlU3RhdHVzLkxvYWRlZFxuICAgIGNvbnN0IHtcbiAgICAgIHNlYXJjaFRleHQsXG4gICAgICB3aWRnZXRSZWN0LFxuICAgICAgaXNTZWFyY2hCb3hWaXNpYmxlLFxuICAgICAgc2hvd0xvYWRpbmdcbiAgICB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IGxpc3RXaWR0aCA9IHdpZGdldFJlY3Q/LndpZHRoIHx8IDYyMFxuICAgIGNvbnN0IHsgdGhlbWUsIGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHRvb2xMaW5lQ2xhc3NOYW1lID0gbGlzdFdpZHRoIDwgMzYwID8gJ2RzLXRvb2xzLWxpbmUtYmx1ZScgOiAnJ1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gY29uZmlnPy5zZWFyY2hIaW50IHx8IHRoaXMuZm9ybWF0TWVzc2FnZSgnc2VhcmNoJylcbiAgICBjb25zdCBpc1Nob3dCYWNrQnV0dG9uID0gbGlzdFdpZHRoIDwgMzYwICYmIGlzU2VhcmNoQm94VmlzaWJsZVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT0nbGlzdC1zZWFyY2gtZGl2IGZsZXgtZ3Jvdy0xJ1xuICAgICAgICBjc3M9e2dldFNlYXJjaFRvb2xTdHlsZSh0aGlzLnByb3BzKX1cbiAgICAgID5cbiAgICAgICAge2xpc3RVdGlscy5zaG93U2VhcmNoKHRoaXMucHJvcHMpICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IHNlYXJjaC1ib3gtY29udGVudCc+XG4gICAgICAgICAgICB7KGxpc3RXaWR0aCA+PSAzNjAgfHwgaXNTZWFyY2hCb3hWaXNpYmxlKSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LWdyb3ctMSB3LTEwMCc+XG4gICAgICAgICAgICAgICAgPFNlYXJjaEJveFxuICAgICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICAgICAgc2VhcmNoVGV4dD17c2VhcmNoVGV4dH1cbiAgICAgICAgICAgICAgICAgIG9uU2VhcmNoVGV4dENoYW5nZT17dGhpcy5oYW5kbGVTZWFyY2hUZXh0Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25TdWJtaXQ9e3RoaXMuaGFuZGxlU2VhcmNoU3VibWl0fVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Rvb2xzRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBzZWFyY2hTdWdnZXN0aW9uPXt0aGlzLnN0YXRlLnNlYXJjaFN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgICBzdWdnZXN0aW9uV2lkdGg9e2xpc3RXaWR0aH1cbiAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nPXtzaG93TG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e3RoaXMuZm9ybWF0TWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIGlzU2hvd0JhY2tCdXR0b249e2lzU2hvd0JhY2tCdXR0b259XG4gICAgICAgICAgICAgICAgICB0b2dnbGVTZWFyY2hCb3hWaXNpYmxlPXt0aGlzLnRvZ2dsZVNlYXJjaEJveFZpc2libGV9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2xpc3Qtc2VhcmNoICdcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZHMtdG9vbHMtbGluZScsIHRvb2xMaW5lQ2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7bGlzdFdpZHRoIDwgMzYwICYmICFpc1NlYXJjaEJveFZpc2libGUgJiYgKFxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknXG4gICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2V2dCA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNlYXJjaEJveFZpc2libGUodHJ1ZSlcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlYXJjaCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNlYXJjaE91dGxpbmVkIHNpemU9ezE2fSBjb2xvcj17dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbODAwXX0vPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICB0b2dnbGVTZWFyY2hCb3hWaXNpYmxlID0gKGlzVmlzaWJsZSA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgeyB3aWRnZXRSZWN0IH0gPSB0aGlzLnN0YXRlXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1NlYXJjaEJveFZpc2libGU6IGlzVmlzaWJsZVxuICAgIH0pXG4gICAgY29uc3QgTElTVF9UT09MX01JTl9TSVpFID0gbGlzdFV0aWxzLmNoZWNrSXNTaG93RGF0YUFjdGlvbih0aGlzLnByb3BzKSA/IExJU1RfVE9PTF9NSU5fU0laRV9EQVRBX0FDVElPTiA6IExJU1RfVE9PTF9NSU5fU0laRV9OT19EQVRBX0FDVElPTlxuICAgIGNvbnN0IGxpc3RXaWR0aCA9IHdpZGdldFJlY3Q/LndpZHRoIHx8IDYyMFxuICAgIGlmIChsaXN0V2lkdGggPCBMSVNUX1RPT0xfTUlOX1NJWkUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNob3dQb3BwZXJUaW1lT3V0KVxuICAgICAgdGhpcy5zaG93UG9wcGVyVGltZU91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc09wZW5Ub3BUb29sc1BvcHBlcjogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBnZXRQYWdlU2l6ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHdpZGdldFJlY3QgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHNob3dCb3R0b21Ub29sID0gbGlzdFV0aWxzLnNob3dCb3R0b21Ub29scyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKVxuICAgIGNvbnN0IGJvdHRvbVRvb2xIID0gbGlzdFV0aWxzLmdldEJvdHRvbVRvb2xIKFxuICAgICAgdGhpcy5wYWdpbmF0b3JEaXYuY3VycmVudCxcbiAgICAgIHNob3dCb3R0b21Ub29sXG4gICAgKVxuICAgIGNvbnN0IHNob3dUb3BUb29scyA9IGxpc3RVdGlscy5zaG93VG9wVG9vbHModGhpcy5wcm9wcylcbiAgICBjb25zdCBsaXN0SGVpZ2h0ID1cbiAgICAgIGxpc3RVdGlscy5nZXRMaXN0SGVpZ2h0KHdpZGdldFJlY3QsIGJvdHRvbVRvb2xILCBzaG93VG9wVG9vbHMpIHx8IDFcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IHRoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KCkgOiBudWxsXG4gICAgY29uc3QgcmVjb3JkU2l6ZVBlclBhZ2UgPSBNYXRoLm1heChcbiAgICAgIGxpc3RVdGlscy5nZXRQYWdlU2l6ZSh3aWRnZXRSZWN0LCBsaXN0SGVpZ2h0LCB0aGlzLnByb3BzLCBjb2x1bW5Db3VudCksXG4gICAgICAxXG4gICAgKVxuICAgIHJldHVybiByZWNvcmRTaXplUGVyUGFnZVxuICB9XG5cbiAgcmVuZGVyVG9wUmlnaHRUb29scyA9IChkczogRGF0YVNvdXJjZSwgcXVlcnlTdGF0dXM/OiBEYXRhU291cmNlU3RhdHVzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc29ydE9wdGlvbk5hbWUsXG4gICAgICBzaG93U2VsZWN0aW9uT25seSxcbiAgICAgIGN1cnJlbnRGaWx0ZXIsXG4gICAgICBmaWx0ZXJBcHBsaWVkXG4gICAgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IGNvbmZpZywgdGhlbWUsIGlkLCBhcHBNb2RlIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgc29ydEl0ZW1zID0gdGhpcy5nZXRTb3J0SXRlbXMoKVxuICAgIGNvbnN0IHNlbGVjdGVkUmVjb3JkcyA9IGRzICYmIGRzLmdldFNlbGVjdGVkUmVjb3JkcygpXG4gICAgY29uc3QgaGFzU2VsZWN0aW9uID0gc2VsZWN0ZWRSZWNvcmRzICYmIHNlbGVjdGVkUmVjb3Jkcy5sZW5ndGggPiAwXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1yLTEnXG4gICAgICAgIHJlZj17dGhpcy5saXN0VG9wUmlnaHRUb29sc0Rpdn1cbiAgICAgID5cbiAgICAgICAge2xpc3RVdGlscy5zaG93U29ydCh0aGlzLnByb3BzKSAmJiAoXG4gICAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgICAgPE15RHJvcERvd25cbiAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgICBpdGVtcz17c29ydEl0ZW1zfVxuICAgICAgICAgICAgICBhcHBNb2RlPXthcHBNb2RlfVxuICAgICAgICAgICAgICB0b2dnbGVUeXBlPSd0ZXJ0aWFyeSdcbiAgICAgICAgICAgICAgdG9nZ2xlQ29udGVudD17dGhlbWUgPT5cbiAgICAgICAgICAgICAgICBzb3J0T3B0aW9uTmFtZSB8fCAoc29ydEl0ZW1zICYmIHNvcnRJdGVtc1swXS5sYWJlbCl9XG4gICAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgICBjYXJldFxuICAgICAgICAgICAgICBzaG93QWN0aXZlXG4gICAgICAgICAgICAgIHRvZ2dsZVRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2xpc3RTb3J0Jyl9XG4gICAgICAgICAgICAgIGFjdGl2ZUxhYmVsPXtzb3J0T3B0aW9uTmFtZSB8fCAoc29ydEl0ZW1zICYmIHNvcnRJdGVtc1swXS5sYWJlbCl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICl9XG4gICAgICAgIHtsaXN0VXRpbHMuc2hvd0ZpbHRlcih0aGlzLnByb3BzKSAmJiAoXG4gICAgICAgICAgPEZpbHRlclBpY2tlclxuICAgICAgICAgICAgZmlsdGVyPXtjdXJyZW50RmlsdGVyIHx8IGNvbmZpZy5maWx0ZXJ9XG4gICAgICAgICAgICBhcHBNb2RlPXthcHBNb2RlfVxuICAgICAgICAgICAgYXBwbGllZD17ZmlsdGVyQXBwbGllZH1cbiAgICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2ZpbHRlcicpfVxuICAgICAgICAgICAgc2VsZWN0ZWREcz17dGhpcy5zdGF0ZS5kYXRhc291cmNlfVxuICAgICAgICAgICAgaGFuZGxlRmlsdGVyQ2hhbmdlPXt0aGlzLmhhbmRsZUZpbHRlckNoYW5nZX1cbiAgICAgICAgICAgIGhhbmRsZUZpbHRlckFwcGx5Q2hhbmdlPXt0aGlzLmhhbmRsZUZpbHRlckFwcGx5Q2hhbmdlfVxuICAgICAgICAgICAgZm9ybWF0TWVzc2FnZT17dGhpcy5mb3JtYXRNZXNzYWdlfVxuICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgd2lkZ2V0SWQ9e2lkfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtsaXN0VXRpbHMuc2hvd0Rpc3BsYXlTZWxlY3RlZE9ubHkodGhpcy5wcm9wcykgJiYgKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGRpc2FibGVkPXshaGFzU2VsZWN0aW9ufVxuICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknXG4gICAgICAgICAgICB0aXRsZT17XG4gICAgICAgICAgICAgIHNob3dTZWxlY3Rpb25Pbmx5XG4gICAgICAgICAgICAgICAgPyB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3Nob3dBbGwnKVxuICAgICAgICAgICAgICAgIDogdGhpcy5mb3JtYXRNZXNzYWdlKCdzaG93U2VsZWN0aW9uJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGljb25cbiAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVTaG93U2VsZWN0aW9uQ2xpY2t9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Nob3dTZWxlY3Rpb25Pbmx5ID8gPE1lbnVPdXRsaW5lZCBzaXplPXsxNn0vPiA6IDxTaG93U2VsZWN0aW9uT3V0bGluZWQgc2l6ZT17MTZ9Lz59XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIHtsaXN0VXRpbHMuc2hvd0NsZWFyU2VsZWN0ZWQodGhpcy5wcm9wcykgJiYgKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGRpc2FibGVkPXshaGFzU2VsZWN0aW9ufVxuICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknXG4gICAgICAgICAgICB0aXRsZT17dGhpcy5mb3JtYXRNZXNzYWdlKCdjbGVhclNlbGVjdGlvbicpfVxuICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgc2l6ZT0nc20nXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsZWFyU2VsZWN0aW9uQ2xpY2t9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFRyYXNoQ2hlY2tPdXRsaW5lZCBzaXplPXsxNn0vPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyTGlzdCA9IChkcz86IFF1ZXJpYWJsZURhdGFTb3VyY2UsIGRzSW5mbz86IElNRGF0YVNvdXJjZUluZm8pID0+IHtcbiAgICBjb25zdCB7IHdpZGdldFJlY3QsIGlzTW91bnQsIGN1cnJlbnRDYXJkU2l6ZSB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHsgY29uZmlnLCBpc1JUTCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHF1ZXJ5U3RhdHVzID0gZHNJbmZvPy5zdGF0dXNcbiAgICB0aGlzLnF1ZXJ5U3RhdHVzID0gcXVlcnlTdGF0dXNcbiAgICB0aGlzLmlzSGFzUmVuZGVyTGlzdCA9IHRydWVcblxuICAgIGlmICghaXNNb3VudCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLy9nZXQgdG90YWwgY291bnRcbiAgICBpZiAocXVlcnlTdGF0dXMgPT09IERhdGFTb3VyY2VTdGF0dXMuVW5sb2FkZWQpIHtcbiAgICAgIGRzID0gdW5kZWZpbmVkXG4gICAgfVxuICAgIHRoaXMuZ2V0RHNUb3RhbENvdW50KGRzLCBxdWVyeVN0YXR1cylcblxuICAgIC8vZ2V0IGxvYWRpbmcgc3RhdHVzXG4gICAgY29uc3Qgc2hvd0xvYWRpbmcgPSB0aGlzLmdldExvYWRpbmdTdGF0dXMoZHMsIHF1ZXJ5U3RhdHVzKVxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBkcz8uZ2V0QXV0b1JlZnJlc2hJbnRlcnZhbCgpIHx8IDBcbiAgICAvL3RvZ2dsZSBhdXRvIHJlZnJlc2ggbG9hZGluZyBzdGF0dXNcbiAgICB0aGlzLnRvZ2dsZUF1dG9SZWZyZXNoTG9hZGluZyhkcywgc2hvd0xvYWRpbmcpXG5cbiAgICAvL2dldCBsaXN0IHRvb2xgcyBzaG93IHN0YXR1c1xuICAgIGNvbnN0IHNob3dCb3R0b21Ub29sID0gbGlzdFV0aWxzLnNob3dCb3R0b21Ub29scyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKVxuICAgIGNvbnN0IHNob3dUb3BUb29scyA9IGxpc3RVdGlscy5zaG93VG9wVG9vbHModGhpcy5wcm9wcylcblxuICAgIC8vZ2V0IGxpc3QgYm90dG9tIHRvb2xgcyBoZWlnaHRcbiAgICBjb25zdCBib3R0b21Ub29sSCA9IGxpc3RVdGlscy5nZXRCb3R0b21Ub29sSCh0aGlzLnBhZ2luYXRvckRpdi5jdXJyZW50LCBzaG93Qm90dG9tVG9vbClcblxuICAgIC8vZ2V0IGxpc3Qgc2l6ZVxuICAgIGNvbnN0IGxpc3RIZWlnaHQgPSBsaXN0VXRpbHMuZ2V0TGlzdEhlaWdodCh3aWRnZXRSZWN0LCBib3R0b21Ub29sSCwgc2hvd1RvcFRvb2xzKSB8fCAxXG4gICAgY29uc3QgbGlzdFdpZHRoID0gKHdpZGdldFJlY3QgJiYgd2lkZ2V0UmVjdC53aWR0aCkgfHwgTElTVF9DQVJEX01JTl9TSVpFXG5cbiAgICBjb25zdCBvdmVyc2NhbkNvdW50ID0gdGhpcy5nZXRPdmVyc2NhbkNvdW50KGxpc3RIZWlnaHQpXG5cbiAgICAvLyBnZXQgbmV3IHJlY29yZHNcbiAgICBjb25zdCBzZWxlY3RSZWNvcmRzID0gdGhpcy5nZXREc1NlbGVjdFJlY29yZHMoZHMpXG4gICAgY29uc3QgcmVjb3JkcyA9IHRoaXMuZ2V0RHNSZWNvcmRzKGRzLCBzaG93TG9hZGluZywgbGlzdEhlaWdodClcblxuICAgIHRoaXMuaXNGaXJzdExvYWQgPSBmYWxzZVxuXG4gICAgLy8gd2hlbiByZWNvcmQubGVuZ3RoID09IDAsIHNob3VsZCByZXNldCBzaG93IHNlbGVjdGlvbiBidXR0b24gc3RhdHVzIGluIGxpc3QgdG9wIHRvb2xzXG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyB0aGlzLnNjcm9sbFRvSW5kZXgoMCwgJ3N0YXJ0Jyk7XG4gICAgICB0aGlzLnJlc2V0U2hvd1NlbGVjdGlvblN0YXR1cygpXG4gICAgfVxuXG4gICAgdGhpcy5nZXRsaXN0SW5uZXJFbGVtZW50VHlwZSgpXG5cbiAgICBjb25zdCBsaXN0U3R5bGVzID0gdGhpcy5nZXRMaXN0U3R5bGUoKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGRhdGEtdGVzdGlkPSdsaXN0Q29udGFpbmVyJ1xuICAgICAgICBjbGFzc05hbWU9J2xpc3QtY29udGFpbmVyIGFuaW1hdGlvbidcbiAgICAgICAgY3NzPXtsaXN0U3R5bGVzfVxuICAgICAgPlxuICAgICAgICB7LyogcmVuZGVyIHRvcCB0b29sICovfVxuICAgICAgICB7c2hvd1RvcFRvb2xzICYmIHRoaXMucmVuZGVyTGlzdFRvcFRvb2xzKGRzLCBxdWVyeVN0YXR1cywgc2VsZWN0UmVjb3Jkcyl9XG5cbiAgICAgICAgey8qIHJlbmRlciBHcmlkIGxpc3QgKi99XG4gICAgICAgIHsoY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEKSAmJlxuICAgICAgICAgIDxHcmlkXG4gICAgICAgICAgICBjbGFzc05hbWU9J3dpZGdldC1saXN0LWxpc3QnXG4gICAgICAgICAgICByZWY9e3RoaXMubGlzdFJlZn1cbiAgICAgICAgICAgIHVzZUlzU2Nyb2xsaW5nXG4gICAgICAgICAgICBvdXRlclJlZj17dGhpcy5zZXRMaXN0T3V0RGl2UmVmfVxuICAgICAgICAgICAgZGlyZWN0aW9uPXtpc1JUTCA/ICdydGwnIDogJ2x0cid9XG4gICAgICAgICAgICBpdGVtQ291bnQ9e3RoaXMucmVjb3Jkcy5sZW5ndGh9XG4gICAgICAgICAgICBvdmVyc2NhbkNvdW50PXtvdmVyc2NhbkNvdW50fVxuICAgICAgICAgICAgaXRlbUtleT17dGhpcy5ncmlkSXRlbUluZGV4fVxuICAgICAgICAgICAgY29sdW1uQ291bnQ9e3RoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KCl9XG4gICAgICAgICAgICBjb2x1bW5XaWR0aD17Y3VycmVudENhcmRTaXplPy53aWR0aCArIGNvbmZpZz8uaG9yaXpvbnRhbFNwYWNlfVxuICAgICAgICAgICAgcm93Q291bnQ9e01hdGguY2VpbCh0aGlzLnJlY29yZHMubGVuZ3RoIC8gdGhpcy5nZXRJdGVtQ29sdW1uQ291bnQoKSkgfHwgMSB9XG4gICAgICAgICAgICByb3dIZWlnaHQ9e2N1cnJlbnRDYXJkU2l6ZS5oZWlnaHQgKyBjb25maWc/LnZlcnRpY2FsU3BhY2V9XG4gICAgICAgICAgICB3aWR0aD17bGlzdFdpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtsaXN0SGVpZ2h0fVxuICAgICAgICAgICAgb25JdGVtc1JlbmRlcmVkPXt0aGlzLm9uSXRlbXNSZW5kZXJlZH1cbiAgICAgICAgICAgIGl0ZW1EYXRhPXt0aGlzLmdldEl0ZW1zQnlSZWNvcmRzKHRoaXMucmVjb3Jkcyl9XG4gICAgICAgICAgICBpbm5lckVsZW1lbnRUeXBlPXt0aGlzLmlubmVyRWxlbWVudFR5cGV9XG4gICAgICAgICAgICBvblNjcm9sbD17dGhpcy5oYW5kbGVMaXN0U2Nyb2xsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLml0ZW1SZW5kZXJ9XG4gICAgICAgICAgPC9HcmlkPn1cblxuICAgICAgICAgIHsvKiByZW5kZXIgUm93L2NvbHVtbiBsaXN0ICovfVxuICAgICAgICAgIHsoY29uZmlnPy5sYXlvdXRUeXBlICE9PSBMaXN0TGF5b3V0VHlwZS5HUklEKSAmJiA8TGlzdFxuICAgICAgICAgICAgY2xhc3NOYW1lPSd3aWRnZXQtbGlzdC1saXN0J1xuICAgICAgICAgICAgcmVmPXt0aGlzLmxpc3RSZWZ9XG4gICAgICAgICAgICB1c2VJc1Njcm9sbGluZ1xuICAgICAgICAgICAgb3V0ZXJSZWY9e3RoaXMuc2V0TGlzdE91dERpdlJlZn1cbiAgICAgICAgICAgIGRpcmVjdGlvbj17aXNSVEwgPyAncnRsJyA6ICdsdHInfVxuICAgICAgICAgICAgbGF5b3V0PXtcbiAgICAgICAgICAgICAgY29uZmlnLmxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkNvbHVtblxuICAgICAgICAgICAgICAgID8gJ2hvcml6b250YWwnXG4gICAgICAgICAgICAgICAgOiAndmVydGljYWwnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtQ291bnQ9e3RoaXMucmVjb3Jkcy5sZW5ndGh9XG4gICAgICAgICAgICBvdmVyc2NhbkNvdW50PXtvdmVyc2NhbkNvdW50fVxuICAgICAgICAgICAgaXRlbUtleT17dGhpcy5pdGVtS2V5fVxuICAgICAgICAgICAgd2lkdGg9e2xpc3RXaWR0aH1cbiAgICAgICAgICAgIGhlaWdodD17bGlzdEhlaWdodH1cbiAgICAgICAgICAgIG9uSXRlbXNSZW5kZXJlZD17dGhpcy5vbkl0ZW1zUmVuZGVyZWR9XG4gICAgICAgICAgICBpdGVtRGF0YT17dGhpcy5nZXRJdGVtc0J5UmVjb3Jkcyh0aGlzLnJlY29yZHMpfVxuICAgICAgICAgICAgaW5uZXJFbGVtZW50VHlwZT17dGhpcy5pbm5lckVsZW1lbnRUeXBlfVxuICAgICAgICAgICAgaXRlbVNpemU9e3RoaXMuaXRlbVNpemV9XG4gICAgICAgICAgICBvblNjcm9sbD17dGhpcy5oYW5kbGVMaXN0U2Nyb2xsfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLml0ZW1SZW5kZXJ9XG4gICAgICAgICAgPC9MaXN0PlxuICAgICAgICB9XG5cbiAgICAgICAgey8qIG1hc2sgdGlwIGFuZCBsb2FkaW5nICovfVxuICAgICAgICB7dGhpcy5jaGVja0lzU2hvd0xpc3RNYXNrKHNob3dMb2FkaW5nLCByZWNvcmRzKSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VkaXRpbmctbWFzay1jb24nPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2VkaXRpbmctbWFzay1saXN0JyAvPlxuICAgICAgICAgICAge2NvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCAmJiA8ZGl2IGNsYXNzTmFtZT0nZWRpdGluZy1tYXNrLWxpc3QtZ3JpZCcgLz59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIHJlbmRlciBib3R0b20gdG9vbHMgKi99XG4gICAgICAgIHtzaG93Qm90dG9tVG9vbCAmJiB0aGlzLnJlbmRlckJvdHRvbVRvb2xzKHNob3dMb2FkaW5nKX1cblxuICAgICAgICB7dGhpcy5yZW5kZXJFbXB0eUVsZW1lbnQoc2hvd0xvYWRpbmcpfVxuXG4gICAgICAgIHsvKiByZW5kZXIgbm90IHJlYWR5IHRpcHMgKi99XG4gICAgICAgIHtxdWVyeVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5Ob3RSZWFkeSAmJiB0aGlzLnJlbmRlck5vdFJlYWR5VGlwcyhkcyl9XG5cbiAgICAgICAgey8qIHJlbmRlciBsb2FkaW5nICovfVxuICAgICAgICB7KHNob3dMb2FkaW5nIHx8IGludGVydmFsID4gMCkgJiYgdGhpcy5yZW5kZXJMb2FkaW5nKHNob3dMb2FkaW5nLCBpbnRlcnZhbCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJFbXB0eUVsZW1lbnQgPSAoc2hvd0xvYWRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCBpc05vRGF0YSA9ICF0aGlzLnJlY29yZHMgfHwgdGhpcy5yZWNvcmRzLmxlbmd0aCA8IDFcbiAgICBjb25zdCBub0RhdGFNZXNzYWdlID0gdGhpcy5wcm9wcy5jb25maWc/Lm5vRGF0YU1lc3NhZ2UgfHwgdGhpcy5mb3JtYXRNZXNzYWdlKCdub0RhdGEnKVxuICAgIC8vIGNvbnN0IGlzU2hvd0NsZWFyQWN0aW9uQnV0dG9uID0gaXNOb0RhdGEgJiYgdGhpcy5pc0hhc1B1Ymxpc2hNZXNzYWdlQWN0aW9uXG4gICAgcmV0dXJuICghc2hvd0xvYWRpbmcgJiYgaXNOb0RhdGEpICYmIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdlbXB0eS1jb24gdGV4dC1jZW50ZXInPlxuICAgICAgICA8V2FybmluZ091dGxpbmVkIHNpemU9ezE2fS8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGlzY3JpYnRpb25cIj57bm9EYXRhTWVzc2FnZX08L2Rpdj5cbiAgICAgICAgey8qIHtpc1Nob3dDbGVhckFjdGlvbkJ1dHRvbiAmJiA8QnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiY2xlYXItbWVzc2FnZS1hY3Rpb24tYnV0dG9uXCJcbiAgICAgICAgICBzaXplPSdzbSdcbiAgICAgICAgICB0aXRsZT17dGhpcy5mb3JtYXRNZXNzYWdlKCdyZXNldCcpfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xlYXJNZXNzYWdlQWN0aW9ufVxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgncmVzZXQnKX1cbiAgICAgICAgPC9CdXR0b24+fSAqL31cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGNsZWFyTWVzc2FnZUFjdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLmhhbmRsZUNsZWFyU2VsZWN0aW9uQ2xpY2soKVxuICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UoXG4gICAgICBuZXcgRGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMuaWQsIFtdKVxuICAgIClcbiAgfVxuXG4gIHJlbmRlckxvYWRpbmcgPSAoc2hvd0xvYWRpbmc6IGJvb2xlYW4sIGludGVydmFsOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB7IGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZyB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgbGV0IGlzU2hvd0F1dG9SZWZyZXNoID0gY29uZmlnPy5pc1Nob3dBdXRvUmVmcmVzaFxuICAgIGlmICh0eXBlb2YgKGlzU2hvd0F1dG9SZWZyZXNoKSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBpc1Nob3dBdXRvUmVmcmVzaCA9IHRydWVcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFxuICAgICAgICAgICdwb3NpdGlvbi1hYnNvbHV0ZSByZWZyZXNoLWxvYWRpbmctY29uIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInLFxuICAgICAgICAgIHRoaXMuZ2V0UmVmcmVzaExvYWRpbmdDbGFzcygpXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIHtzaG93TG9hZGluZyAmJiA8ZGl2IGNsYXNzTmFtZT0nbG9hZGluZy1jb24nIC8+fVxuICAgICAgICB7KGludGVydmFsID4gMCAmJiBpc1Nob3dBdXRvUmVmcmVzaCkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4LWdyb3ctMSBhdXRvLXJlZnJlc2gtbG9hZGluZyc+XG4gICAgICAgICAgICB7YXV0b1JlZnJlc2hMb2FkaW5nU3RyaW5nfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyTm90UmVhZHlUaXBzID0gKGRzPzogUXVlcmlhYmxlRGF0YVNvdXJjZSkgPT4ge1xuICAgIGNvbnN0IGRhdGFTb3VyY2VMYWJlbCA9IGRzPy5nZXRMYWJlbCgpXG4gICAgY29uc3Qgb3V0cHV0RHNXaWRnZXRJZCA9IGFwcENvbmZpZ1V0aWxzPy5nZXRXaWRnZXRJZEJ5T3V0cHV0RGF0YVNvdXJjZSh0aGlzLnByb3BzPy51c2VEYXRhU291cmNlcz8uWzBdKVxuICAgIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKT8uYXBwQ29uZmlnXG4gICAgY29uc3Qgd2lkZ2V0TGFiZWwgPSBhcHBDb25maWc/LndpZGdldHM/LltvdXRwdXREc1dpZGdldElkXT8ubGFiZWxcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ncGxhY2Vob2xkZXItYWxlcnQtY29uJz5cbiAgICAgICAgPEFsZXJ0XG4gICAgICAgICAgZm9ybT0ndG9vbHRpcCdcbiAgICAgICAgICBzaXplPSdzbWFsbCdcbiAgICAgICAgICB0eXBlPSd3YXJuaW5nJ1xuICAgICAgICAgIHRleHQ9e3RoaXMuZm9ybWF0TWVzc2FnZSgnb3V0cHV0RGF0YUlzTm90R2VuZXJhdGVkJywgeyBvdXRwdXREc0xhYmVsOiBkYXRhU291cmNlTGFiZWwsIHNvdXJjZVdpZGdldE5hbWU6IHdpZGdldExhYmVsIH0pfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmVuZGVyQm90dG9tVG9vbHMgPSAoc2hvd0xvYWRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzY3JvbGxTdGF0dXMsXG4gICAgICBpc1Njcm9sbEVuZFxuICAgIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnLFxuICAgICAgaXNSVExcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHJlZj17dGhpcy5wYWdpbmF0b3JEaXZ9PlxuICAgICAgICA8TGlzdEJvdHRvbVRvb2xzXG4gICAgICAgICAgaXNSVEw9e2lzUlRMfVxuICAgICAgICAgIHRvdGFsUGFnZT17dGhpcy5nZXRUb3RhbFBhZ2UoKX1cbiAgICAgICAgICBjdXJyZW50UGFnZT17dGhpcy5fZ2V0Q3VycmVudFBhZ2UoKX1cbiAgICAgICAgICBpc0VkaXRpbmc9e3RoaXMuaXNFZGl0aW5nKCl9XG4gICAgICAgICAgaXNTY3JvbGxFbmQ9e2lzU2Nyb2xsRW5kfVxuICAgICAgICAgIHBhZ2VTdHlsZT17Y29uZmlnLnBhZ2VTdHlsZX1cbiAgICAgICAgICBsYXlvdXRUeXBlPXtjb25maWc/LmxheW91dFR5cGV9XG4gICAgICAgICAgc2Nyb2xsU3RhdHVzPXtzY3JvbGxTdGF0dXN9XG4gICAgICAgICAgaGFuZGxlU2Nyb2xsVXA9e3RoaXMuaGFuZGxlU2Nyb2xsVXB9XG4gICAgICAgICAgaGFuZGxlU2Nyb2xsRG93bj17dGhpcy5oYW5kbGVTY3JvbGxEb3dufVxuICAgICAgICAgIGhhbmRsZVN3aXRjaFBhZ2U9e3RoaXMuaGFuZGxlU3dpdGNoUGFnZX1cbiAgICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLmZvcm1hdE1lc3NhZ2V9XG4gICAgICAgICAgc2hvd0xvYWRpbmc9e3Nob3dMb2FkaW5nfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgZ2V0RHNUb3RhbENvdW50ID0gKGRzPzogUXVlcmlhYmxlRGF0YVNvdXJjZSwgcXVlcnlTdGF0dXM/OiBEYXRhU291cmNlU3RhdHVzKSA9PiB7XG4gICAgY29uc3QgY291bnQgPSBkcz8uY291bnRcbiAgICB0aGlzLnF1ZXJ5U3RhdHVzID0gcXVlcnlTdGF0dXNcblxuICAgIC8vIHRvdGFsIGNvdW50XG4gICAgaWYgKHF1ZXJ5U3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkxvYWRlZCAmJiBjb3VudCAhPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMudG90YWxDb3VudCAhPT0gY291bnQpIHtcbiAgICAgICAgdGhpcy5zZXRQYWdlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGFnZTogMVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sIDEpXG4gICAgICB9XG4gICAgICB0aGlzLnRvdGFsQ291bnQgPSBjb3VudFxuICAgIH1cbiAgfVxuXG4gIGdldExvYWRpbmdTdGF0dXMgPSAoZHM/OiBRdWVyaWFibGVEYXRhU291cmNlLCBxdWVyeVN0YXR1cz86IERhdGFTb3VyY2VTdGF0dXMpID0+IHtcbiAgICBjb25zdCB7IExheW91dEVudHJ5IH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBzaG93TG9hZGluZzogbXVzdExvYWRpbmcgfSA9IHRoaXMucHJvcHNcblxuICAgIC8vIGxvYWRpbmdcbiAgICBsZXQgc2hvd0xvYWRpbmcgPSBmYWxzZVxuICAgIGlmIChcbiAgICAgIG11c3RMb2FkaW5nIHx8XG4gICAgICAod2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiYgIUxheW91dEVudHJ5KSB8fFxuICAgICAgKGRzICYmIHF1ZXJ5U3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkxvYWRpbmcpXG4gICAgKSB7XG4gICAgICBzaG93TG9hZGluZyA9IHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gc2hvd0xvYWRpbmdcbiAgfVxuXG4gIHRvZ2dsZUF1dG9SZWZyZXNoTG9hZGluZyA9IChkczogUXVlcmlhYmxlRGF0YVNvdXJjZSwgc2hvd0xvYWRpbmc6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IGRzPy5nZXRBdXRvUmVmcmVzaEludGVydmFsKCkgfHwgMFxuICAgIHRoaXMucmVzZXRBdXRvUmVmcmVzaFRpbWVzKGludGVydmFsLCBzaG93TG9hZGluZylcbiAgICBpZiAoaW50ZXJ2YWwgPiAwKSB7XG4gICAgICB0aGlzLnNldFJlZnJlc2hMb2FkaW5nU3RyaW5nKHNob3dMb2FkaW5nKVxuICAgIH1cbiAgfVxuXG4gIHNldExpc3RPdXREaXZSZWYgPSBjdXJyZW50ID0+IHtcbiAgICBpZiAoIWN1cnJlbnQpIHJldHVyblxuICAgIGNvbnN0IGJvdHRvbUJvdW5kYXJ5SWQgPSBgYm90dG9tQm91bmRhcnkke3RoaXMucHJvcHMuaWR9YFxuICAgIHRoaXMubGlzdE91dERpdlJlZiA9IGN1cnJlbnRcbiAgICB0aGlzLnNldExpc3REaXZTaXplKClcbiAgICBjb25zdCBib3R0b21Cb3VuZGFyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgYm90dG9tQm91bmRhcnkuaWQgPSBib3R0b21Cb3VuZGFyeUlkXG4gICAgYm90dG9tQm91bmRhcnkuY2xhc3NOYW1lID0gJ2JvdHRvbS1ib3VuZGFyeSdcbiAgICBjb25zdCBsaXN0U2Nyb2xsQ29udGVudCA9IHRoaXMubGlzdE91dERpdlJlZi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JylbMF1cbiAgICB0aGlzLnNldFNjcm9sbENvbnRlbnRTaXplKClcblxuICAgIGxpc3RTY3JvbGxDb250ZW50LmFwcGVuZENoaWxkKGJvdHRvbUJvdW5kYXJ5KVxuICAgIGxpc3RVdGlscy5pbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJvdHRvbUJvdW5kYXJ5SWQpLFxuICAgICAgdGhpcy5saXN0T3V0RGl2UmVmLFxuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlckNhbGxiYWNrXG4gICAgKVxuICB9XG5cbiAgZ2V0RHNSZWNvcmRzID0gKGRzOiBRdWVyaWFibGVEYXRhU291cmNlLCBzaG93TG9hZGluZzogYm9vbGVhbiwgbGlzdEhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2hvd1NlbGVjdGlvbk9ubHksXG4gICAgICB3aWRnZXRSZWN0XG4gICAgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7XG4gICAgICBjb25maWcsXG4gICAgICBhcHBNb2RlXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IHRoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KCkgOiBudWxsXG4gICAgY29uc3QgcmVjb3JkU2l6ZVBlclBhZ2UgPSBsaXN0VXRpbHMuZ2V0UGFnZVNpemUoXG4gICAgICB3aWRnZXRSZWN0LFxuICAgICAgbGlzdEhlaWdodCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgICBjb2x1bW5Db3VudFxuICAgIClcbiAgICBjb25zdCBkZWZhdWx0UmVjb3JkcyA9IHRoaXMuZ2V0RGVmYXVsdFJlY29yZHMocmVjb3JkU2l6ZVBlclBhZ2UpXG4gICAgLy8gZ2V0IG5ldyByZWNvcmRzXG4gICAgbGV0IHJlY29yZHMgPSBkZWZhdWx0UmVjb3Jkc1xuICAgIGNvbnN0IHNlbGVjdFJlY29yZHMgPSB0aGlzLmdldERzU2VsZWN0UmVjb3JkcyhkcylcbiAgICBpZiAoZHMgJiYgY29uZmlnLmlzSXRlbVN0eWxlQ29uZmlybSkge1xuICAgICAgcmVjb3JkcyA9XG4gICAgICAgIChkcyAmJlxuICAgICAgICAgIChjb25maWcucGFnZVN0eWxlID09PSBQYWdlU3R5bGUuU2Nyb2xsXG4gICAgICAgICAgICA/IGRzLmdldFJlY29yZHNCeVBhZ2VXaXRoU2VsZWN0aW9uKDEsIHJlY29yZFNpemVQZXJQYWdlICogdGhpcy5zdGF0ZS5wYWdlKVxuICAgICAgICAgICAgOiBkcy5nZXRSZWNvcmRzQnlQYWdlV2l0aFNlbGVjdGlvbih0aGlzLnN0YXRlLnBhZ2UsIHJlY29yZFNpemVQZXJQYWdlKSkpIHx8XG4gICAgICAgIFtdXG4gICAgICBpZiAoc2hvd1NlbGVjdGlvbk9ubHkpIHtcbiAgICAgICAgcmVjb3JkcyA9IHNlbGVjdFJlY29yZHNcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFxuICAgICAgd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiZcbiAgICAgIGFwcE1vZGUgIT09IEFwcE1vZGUuUnVuICYmXG4gICAgICAhc2hvd0xvYWRpbmcgJiZcbiAgICAgIHJlY29yZHMubGVuZ3RoIDwgMVxuICAgICkge1xuICAgICAgcmVjb3JkcyA9IGRlZmF1bHRSZWNvcmRzXG4gICAgfVxuXG4gICAgaWYgKCFzaG93TG9hZGluZyB8fCB0aGlzLmlzRmlyc3RMb2FkKSB7XG4gICAgICB0aGlzLnJlY29yZHMgPSByZWNvcmRzXG4gICAgfVxuICAgIHJldHVybiByZWNvcmRzXG4gIH1cblxuICBnZXREZWZhdWx0UmVjb3JkcyA9IChwYWdlU2l6ZTogbnVtYmVyID0gMyk6IGFueVtdID0+IHtcbiAgICBwYWdlU2l6ZSA9IChwYWdlU2l6ZSAmJiBwYWdlU2l6ZSA+IDEpID8gcGFnZVNpemUgOiAzXG4gICAgY29uc3QgZGVmYXVsdFJlY29yZHMgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZVNpemU7IGkrKykge1xuICAgICAgZGVmYXVsdFJlY29yZHMucHVzaChkZWZhdWx0UmVjb3Jkc0l0ZW0pXG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0UmVjb3Jkc1xuICB9XG5cbiAgZ2V0RHNTZWxlY3RSZWNvcmRzID0gKGRzOiBRdWVyaWFibGVEYXRhU291cmNlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICAvLyBnZXQgc2VsZWN0IHJlY29yZHNcbiAgICBsZXQgc2VsZWN0UmVjb3Jkc1xuICAgIGlmIChkcyAmJiBjb25maWcuaXNJdGVtU3R5bGVDb25maXJtKSB7XG4gICAgICBzZWxlY3RSZWNvcmRzID0gZHMuZ2V0U2VsZWN0ZWRSZWNvcmRzKClcbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdFJlY29yZHNcbiAgfVxuXG4gIGdldGxpc3RJbm5lckVsZW1lbnRUeXBlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgc3BhY2UgPSBjb25maWc/LmxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkdSSUQgPyBjb25maWc/LnZlcnRpY2FsU3BhY2UgOiBjb25maWc/LnNwYWNlXG4gICAgaWYgKHRoaXMubGFzdFNwYWNlICE9PSBzcGFjZSkge1xuICAgICAgdGhpcy5sYXN0U3BhY2UgPSBzcGFjZVxuICAgICAgdGhpcy5pbm5lckVsZW1lbnRUeXBlID0gZm9yd2FyZFJlZigoeyBzdHlsZSwgLi4ucmVzdCB9LCByZWYpID0+IChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJlZj17cmVmfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGhlaWdodDogYCR7cGFyc2VGbG9hdChzdHlsZS5oZWlnaHQpIC1cbiAgICAgICAgICAgICAgKGNvbmZpZy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW5cbiAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICA6IHNwYWNlKX1weGAsXG4gICAgICAgICAgICB3aWR0aDogYCR7cGFyc2VGbG9hdChzdHlsZS53aWR0aCkgLVxuICAgICAgICAgICAgICAoY29uZmlnLmxheW91dFR5cGUgIT09IExpc3RMYXlvdXRUeXBlLkNvbHVtblxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogc3BhY2UpfXB4YFxuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgIC8+XG4gICAgICApKVxuICAgIH1cbiAgfVxuXG4gIGdldExpc3RTdHlsZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0b29sc0RpdldpZHRoLFxuICAgICAgY3VycmVudENhcmRTaXplLFxuICAgICAgd2lkZ2V0UmVjdFxuICAgIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3Qge1xuICAgICAgY29uZmlnLFxuICAgICAgYXBwTW9kZSxcbiAgICAgIHRoZW1lLFxuICAgICAgaXNIZWlnaHRBdXRvLFxuICAgICAgaXNXaWR0aEF1dG9cbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3Qgc2hvd0JvdHRvbVRvb2wgPSBsaXN0VXRpbHMuc2hvd0JvdHRvbVRvb2xzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpXG4gICAgY29uc3QgYm90dG9tVG9vbEggPSBsaXN0VXRpbHMuZ2V0Qm90dG9tVG9vbEgoXG4gICAgICB0aGlzLnBhZ2luYXRvckRpdi5jdXJyZW50LFxuICAgICAgc2hvd0JvdHRvbVRvb2xcbiAgICApXG4gICAgY29uc3Qgc2hvd1RvcFRvb2xzID0gbGlzdFV0aWxzLnNob3dUb3BUb29scyh0aGlzLnByb3BzKVxuICAgIGNvbnN0IGxpc3RUZW1wbGF0ZURlZmF1bHRDYXJkU2l6ZSA9IGxpc3RVdGlscy5nZXRDYXJkU2l6ZU51bWJlckluQ29uZmlnKHRoaXMucHJvcHMsIHdpZGdldFJlY3QpXG4gICAgY29uc3QgbGlzdFN0eWxlT3B0aW9uID0ge1xuICAgICAgcGFnZVN0eWxlOiBjb25maWc/LnBhZ2VTdHlsZSxcbiAgICAgIHNjcm9sbEJhck9wZW46IGNvbmZpZz8uc2Nyb2xsQmFyT3BlbixcbiAgICAgIGRpcmVjdGlvbjogY29uZmlnPy5kaXJlY3Rpb24sXG4gICAgICBhcHBNb2RlOiBhcHBNb2RlLFxuICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgaXNIZWlnaHRBdXRvOiBpc0hlaWdodEF1dG8sXG4gICAgICBpc1dpZHRoQXV0bzogaXNXaWR0aEF1dG8sXG4gICAgICBjdXJyZW50Q2FyZFNpemU6IGN1cnJlbnRDYXJkU2l6ZSxcbiAgICAgIGxpc3RUZW1wbGF0ZURlZmF1bHRDYXJkU2l6ZTogbGlzdFRlbXBsYXRlRGVmYXVsdENhcmRTaXplLFxuICAgICAgc2hvd1RvcFRvb2xzOiBzaG93VG9wVG9vbHMsXG4gICAgICBib3R0b21Ub29sSDogYm90dG9tVG9vbEgsXG4gICAgICB0b3BSaWdodFRvb2xXOiB0b29sc0RpdldpZHRoLFxuICAgICAgaGFzUmVjb3JkczogKHRoaXMucmVjb3Jkcz8ubGVuZ3RoID8/IDApID4gMCxcbiAgICAgIG1leFNpemU6IHRoaXMuZ2V0TGlzdE1heFNpemUoKSxcbiAgICAgIGxheW91dFR5cGU6IGNvbmZpZz8ubGF5b3V0VHlwZSxcbiAgICAgIGxpc3RMZWZ0UGFkZGluZzogdGhpcy5nZXRMaXN0Q29udGVudExlZnRQYWRkaW5nKClcbiAgICB9XG4gICAgcmV0dXJuIGxpc3RTdHlsZShsaXN0U3R5bGVPcHRpb24pXG4gIH1cblxuICBjaGVja0lzU2hvd0xpc3RNYXNrID0gKHNob3dMb2FkaW5nOiBib29sZWFuLCByZWNvcmRzOiBEYXRhUmVjb3JkW10pID0+IHtcbiAgICBjb25zdCB7IGlzSW5CdWlsZGVyIH0gPSB3aW5kb3cuamltdUNvbmZpZ1xuICAgIGNvbnN0IGlzRWRpdGluZyA9IHRoaXMuaXNFZGl0aW5nKClcbiAgICBjb25zdCBpc05vRGF0YSA9ICFyZWNvcmRzIHx8IHJlY29yZHMubGVuZ3RoIDwgMVxuICAgIGNvbnN0IGlzRGF0YUxvYWRlZEFuZEhhc0RhdGEgPSAhKCFzaG93TG9hZGluZyAmJiBpc05vRGF0YSlcbiAgICByZXR1cm4gaXNJbkJ1aWxkZXIgJiYgaXNFZGl0aW5nICYmIGlzRGF0YUxvYWRlZEFuZEhhc0RhdGFcbiAgfVxuXG4gIGdldE92ZXJzY2FuQ291bnQgPSAobGlzdEhlaWdodCkgPT4ge1xuICAgIGNvbnN0IHsgd2lkZ2V0UmVjdCB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IHsgYXBwTW9kZSwgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgY29sdW1uQ291bnQgPSBjb25maWc/LmxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkdSSUQgPyB0aGlzLmdldEl0ZW1Db2x1bW5Db3VudCgpIDogbnVsbFxuICAgIGNvbnN0IHJlY29yZFNpemVQZXJQYWdlID0gbGlzdFV0aWxzLmdldFBhZ2VTaXplKFxuICAgICAgd2lkZ2V0UmVjdCxcbiAgICAgIGxpc3RIZWlnaHQsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgY29sdW1uQ291bnRcbiAgICApXG4gICAgY29uc3Qgb3ZlcnNjYW5Db3VudCA9XG4gICAgICB3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciAmJiBhcHBNb2RlICE9PSBBcHBNb2RlLlJ1blxuICAgICAgICA/IDBcbiAgICAgICAgOiByZWNvcmRTaXplUGVyUGFnZVxuICAgIHJldHVybiBvdmVyc2NhbkNvdW50XG4gIH1cblxuICBzZXRTY3JvbGxDb250ZW50U2l6ZSA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMubGlzdE91dERpdlJlZikgcmV0dXJuXG4gICAgY29uc3QgeyBsYXlvdXRUeXBlIH0gPSB0aGlzLnByb3BzPy5jb25maWdcbiAgICBjb25zdCBsaXN0U2Nyb2xsQ29udGVudCA9IHRoaXMubGlzdE91dERpdlJlZi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2JylbMF1cblxuICAgIGlmIChsYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5Db2x1bW4pIHtcbiAgICAgIGxpc3RTY3JvbGxDb250ZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0U2Nyb2xsQ29udGVudC5zdHlsZS53aWR0aCA9ICcxMDAlJ1xuICAgIH1cbiAgfVxuXG4gIGludGVyc2VjdGlvbk9ic2VydmVyQ2FsbGJhY2sgPSAoaXNTY3JvbGxFbmQ6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7IGFwcE1vZGUsIGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGxpc3REaXYgPSB0aGlzLmxpc3RPdXREaXZSZWZcbiAgICBjb25zdCB7IGRhdGFzb3VyY2UgfSA9IHRoaXMuc3RhdGVcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzU2Nyb2xsRW5kOiBpc1Njcm9sbEVuZFxuICAgIH0pXG4gICAgaWYgKCFsaXN0RGl2IHx8ICh0aGlzLnJlY29yZHM/Lmxlbmd0aCA/PyAwKSA8IDEpIHJldHVyblxuICAgIGlmIChcbiAgICAgIGNvbmZpZy5wYWdlU3R5bGUgPT09IFBhZ2VTdHlsZS5TY3JvbGwgJiZcbiAgICAgIHRoaXMucXVlcnlTdGF0dXMgIT09IERhdGFTb3VyY2VTdGF0dXMuTG9hZGluZyAmJlxuICAgICAgZGF0YXNvdXJjZSAmJlxuICAgICAgKCF3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciB8fFxuICAgICAgICAoYXBwTW9kZSA9PT0gQXBwTW9kZS5SdW4gJiYgaXNTY3JvbGxFbmQpKSAmJlxuICAgICAgdGhpcy5pc0hhc1Njcm9sbGVkXG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5yZWNvcmRzLmxlbmd0aCA8IHRoaXMuZ2V0VG90YWxDb3VudCgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHBhZ2U6IHRoaXMuc3RhdGUucGFnZSArIDEsXG4gICAgICAgICAgc2Nyb2xsU3RhdHVzOiAnZW5kJ1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLmlzU3dpdGNoUGFnZSA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHNjcm9sbFN0YXR1czogJ2VuZCdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRMaXN0RGl2U2l6ZSA9ICgpID0+IHtcbiAgICBjb25zdCBsaXN0RGl2ID0gdGhpcy5saXN0T3V0RGl2UmVmXG4gICAgY29uc3QgY2xpZW50V2lkdGggPSBsaXN0RGl2Py5jbGllbnRXaWR0aCB8fCBudWxsXG4gICAgY29uc3QgY2xpZW50SGVpZ2h0ID0gbGlzdERpdj8uY2xpZW50SGVpZ2h0IHx8IG51bGxcbiAgICBjb25zdCB0b29sc0RpdldpZHRoID0gdGhpcy5saXN0VG9wUmlnaHRUb29sc0Rpdi5jdXJyZW50Py5jbGllbnRXaWR0aCB8fCAwXG4gICAgY29uc3QgbGlzdERpdkJvdW5kUmVjdCA9IGxpc3REaXY/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHx8IG51bGxcbiAgICBjb25zdCBsaXN0RGl2U2l6ZSA9IHtcbiAgICAgIGNsaWVudFdpZHRoOiBjbGllbnRXaWR0aCxcbiAgICAgIGNsaWVudEhlaWdodDogY2xpZW50SGVpZ2h0XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbGlzdERpdlNpemU6IGxpc3REaXZTaXplLFxuICAgICAgdG9vbHNEaXZXaWR0aDogdG9vbHNEaXZXaWR0aCxcbiAgICAgIGxpc3REaXZCb3VuZFJlY3Q6IGxpc3REaXZCb3VuZFJlY3RcbiAgICB9KVxuICB9XG5cbiAgZ2V0Q29udGVudExheW91dCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBicm93c2VyU2l6ZU1vZGUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBhcHBDb25maWcgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnXG4gICAgY29uc3QgY29udGVudFdpZGdldElkID0gc2VhcmNoVXRpbHMuZ2V0V2lkZ2V0SWRUaGF0VXNlVGhlTGF5b3V0SWQoXG4gICAgICBhcHBDb25maWcsXG4gICAgICBsYXlvdXRJZFxuICAgIClcbiAgICBjb25zdCBjb250ZW50TGF5b3V0c0luZm8gPSBzZWFyY2hVdGlscy5nZXRDb250ZW50TGF5b3V0SW5mb3NJbk9uZVNpemVNb2RlKFxuICAgICAgYXBwQ29uZmlnLFxuICAgICAgY29udGVudFdpZGdldElkLFxuICAgICAgTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LFxuICAgICAgYnJvd3NlclNpemVNb2RlXG4gICAgKVxuICAgIHJldHVybiBjb250ZW50TGF5b3V0c0luZm9cbiAgfVxuXG4gIGdldENvbnRlbnRMYXlvdXRTZXR0aW5nID0gKCkgPT4ge1xuICAgIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWdcbiAgICBjb25zdCB7IGxheW91dHMgfSA9IGFwcENvbmZpZ1xuICAgIGNvbnN0IGNvbnRlbnRMYXlvdXRzSW5mbyA9IHRoaXMuZ2V0Q29udGVudExheW91dCgpXG4gICAgY29uc3QgY29udGVudExheW91dElkID0gY29udGVudExheW91dHNJbmZvPy5bMF0/LmxheW91dElkXG4gICAgY29uc3QgY29udGVudExheW91dEl0ZW1JZCA9IGNvbnRlbnRMYXlvdXRzSW5mbz8uWzBdPy5sYXlvdXRJdGVtSWRcbiAgICBjb25zdCBzZXR0aW5nID1cbiAgICAgIGxheW91dHM/Lltjb250ZW50TGF5b3V0SWRdPy5jb250ZW50Py5bY29udGVudExheW91dEl0ZW1JZF0/LnNldHRpbmdcbiAgICByZXR1cm4gc2V0dGluZ1xuICB9XG5cbiAgZ2V0TGlzdE1heFNpemUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBib3VuZGluZ0JveCwgaGVpZ2h0TGF5b3V0SXRlbVNpemVNb2RlcyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGlzTGlzdEhlaWdodEN1c3RvbSA9IGhlaWdodExheW91dEl0ZW1TaXplTW9kZXMgPT09IExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tICYmIGJvdW5kaW5nQm94Py5oZWlnaHRcbiAgICBjb25zdCBtYXhoZWlnaHQgPSBpc0xpc3RIZWlnaHRDdXN0b20gPyBib3VuZGluZ0JveD8uaGVpZ2h0IDogdGhpcy5ib2R5U2l6ZS5jbGllbnRIZWlnaHRcbiAgICBjb25zdCBpc0xpc3RIZWlnaHRDdXN0b21Vbml0UFggPSBpc0xpc3RIZWlnaHRDdXN0b20gJiYgIShib3VuZGluZ0JveD8uaGVpZ2h0Py5pbmNsdWRlcyAmJiBib3VuZGluZ0JveD8uaGVpZ2h0Py5pbmNsdWRlcygnJScpKVxuICAgIGxldCBtYXhTaXplID0gSW1tdXRhYmxlKHtcbiAgICAgIG1heFdpZHRoOiB0aGlzLmJvZHlTaXplLnNjcm9sbFdpZHRoLFxuICAgICAgbWF4SGVpZ2h0OiBtYXhoZWlnaHRcbiAgICB9KVxuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGJyb3dzZXJTaXplTW9kZSwgYXBwTW9kZSB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWdcbiAgICBjb25zdCB2aWV3cG9ydFNpemUgPSB1dGlscy5maW5kVmlld3BvcnRTaXplKGFwcENvbmZpZywgYnJvd3NlclNpemVNb2RlKVxuICAgIGNvbnN0IHsgbGF5b3V0cyB9ID0gYXBwQ29uZmlnXG4gICAgY29uc3QgdHlwZSA9IGxheW91dHNbbGF5b3V0SWRdPy50eXBlXG4gICAgY29uc3Qgc2V0dGluZyA9IHRoaXMuZ2V0Q29udGVudExheW91dFNldHRpbmcoKVxuICAgIGNvbnN0IGlzQ29udGVudFdpZHRoQXV0byA9XG4gICAgICBzZXR0aW5nPy5hdXRvUHJvcHM/LndpZHRoID09PSAnYXV0bycgfHwgc2V0dGluZz8ud2lkdGhNb2RlID09PSAnYXV0bydcbiAgICBjb25zdCBpc0NvbnRlbnRIZWlnaHRBdXRvID1cbiAgICAgIHNldHRpbmc/LmF1dG9Qcm9wcz8uaGVpZ2h0ID09PSAnYXV0bycgfHwgc2V0dGluZz8uaGVpZ2h0TW9kZSA9PT0gJ2F1dG8nXG4gICAgaWYgKHR5cGUgPT09IExheW91dFR5cGUuQ29sdW1uTGF5b3V0ICYmIGlzQ29udGVudFdpZHRoQXV0bykge1xuICAgICAgbWF4U2l6ZSA9IG1heFNpemUuc2V0KCdtYXhXaWR0aCcsIHRoaXMuYm9keVNpemUuY2xpZW50V2lkdGgpXG4gICAgfVxuICAgIGlmICgodHlwZSBhcyBhbnkpID09PSAnUk9XJyAmJiBpc0NvbnRlbnRIZWlnaHRBdXRvICYmICFpc0xpc3RIZWlnaHRDdXN0b21Vbml0UFgpIHtcbiAgICAgIGNvbnN0IHZpZXdwb3J0U2l6ZUhlaWdodCA9IHZpZXdwb3J0U2l6ZT8uaGVpZ2h0IHx8IDgwMFxuICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ24gPyB2aWV3cG9ydFNpemVIZWlnaHQgOiB0aGlzLmJvZHlTaXplLmNsaWVudEhlaWdodFxuICAgICAgbWF4U2l6ZSA9IG1heFNpemUuc2V0KCdtYXhIZWlnaHQnLCBtYXhIZWlnaHQpXG4gICAgfVxuICAgIG1heFNpemUgPSBtYXhTaXplLnNldCgnbWF4SGVpZ2h0JywgdGhpcy5pbml0RWxlbWVudFNpemUobWF4U2l6ZS5tYXhIZWlnaHQpKVxuICAgIG1heFNpemUgPSBtYXhTaXplLnNldCgnbWF4V2lkdGgnLCB0aGlzLmluaXRFbGVtZW50U2l6ZShtYXhTaXplLm1heFdpZHRoKSlcbiAgICByZXR1cm4gbWF4U2l6ZVxuICB9XG5cbiAgaW5pdEVsZW1lbnRTaXplID0gKHNpemUpID0+IHtcbiAgICBpZiAoTnVtYmVyKHNpemUpKSB7XG4gICAgICByZXR1cm4gYCR7c2l6ZX1weGBcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoc2l6ZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoc2l6ZT8uaW5jbHVkZXMoJ3B4JykgfHwgc2l6ZT8uaW5jbHVkZXMoJ3JlbScpKSB7XG4gICAgICAgIHJldHVybiBzaXplXG4gICAgICB9IGVsc2UgaWYgKHNpemU/LmluY2x1ZGVzKCclJykpIHtcbiAgICAgICAgcmV0dXJuICcxMDAlJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2l6ZVxuICAgIH1cbiAgfVxuXG4gIGdldFJlZnJlc2hMb2FkaW5nQ2xhc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjb25maWcsIGFwcE1vZGUgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IHNjcm9sbEJhck9wZW4sIGxheW91dFR5cGUgfSA9IGNvbmZpZ1xuICAgIGNvbnN0IGlzRWRpdG9yID0gd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiYgYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ25cbiAgICBpZiAoIXNjcm9sbEJhck9wZW4gfHwgaXNFZGl0b3IpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cbiAgICBpZiAobGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuQ29sdW1uKSB7XG4gICAgICByZXR1cm4gJ2hvcml6b24tbG9hZGluZydcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICd2ZXJ0aWNhbC1sb2FkaW5nJ1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0QXV0b1JlZnJlc2hUaW1lcyA9IChpbnRlcnZhbDogbnVtYmVyLCBzaG93TG9hZGluZyA9IGZhbHNlKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzZXRBdXRvUmVmcmVzaFRpbWUpXG4gICAgaWYgKGludGVydmFsIDw9IDApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvUmVmcmVzaExvYWRpbmdUaW1lKVxuICAgIH1cblxuICAgIHRoaXMucmVzZXRBdXRvUmVmcmVzaFRpbWUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChzaG93TG9hZGluZyAmJiBpbnRlcnZhbCA+IDApIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXV0b1JlZnJlc2hMb2FkaW5nU3RyaW5nOiB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2xhc3RVcGRhdGVBRmV3VGltZScpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd0xvYWRpbmc6IHNob3dMb2FkaW5nXG4gICAgICB9KVxuICAgIH0sIDApXG4gIH1cblxuICBzZXRSZWZyZXNoTG9hZGluZ1N0cmluZyA9IChzaG93TG9hZGluZyA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKCFzaG93TG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgbGV0IHRpbWUgPSAwXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoTG9hZGluZ1RpbWUpXG5cbiAgICB0aGlzLmF1dG9SZWZyZXNoTG9hZGluZ1RpbWUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aW1lKytcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZzogdGhpcy5nZXRMb2FkaW5nU3RyaW5nKHRpbWUpXG4gICAgICB9KVxuICAgIH0sIDYwMDAwKVxuICB9XG5cbiAgZ2V0TG9hZGluZ1N0cmluZyA9ICh0aW1lOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGxldCBsb2FkaW5nU3RyaW5nID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsYXN0VXBkYXRlQUZld1RpbWUnKVxuICAgIGlmICh0aW1lID4gMSAmJiB0aW1lIDw9IDIpIHtcbiAgICAgIGxvYWRpbmdTdHJpbmcgPSB0aGlzLmZvcm1hdE1lc3NhZ2UoJ2xhc3RVcGRhdGVBTWludXRlJylcbiAgICB9IGVsc2UgaWYgKHRpbWUgPiAyKSB7XG4gICAgICBsb2FkaW5nU3RyaW5nID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsYXN0VXBkYXRlVGltZScsIHsgdXBkYXRlVGltZTogdGltZSB9KVxuICAgIH1cbiAgICByZXR1cm4gbG9hZGluZ1N0cmluZ1xuICB9XG5cbiAgb25JdGVtc1JlbmRlcmVkID0gKHtcbiAgICBvdmVyc2NhblN0YXJ0SW5kZXgsXG4gICAgb3ZlcnNjYW5TdG9wSW5kZXgsXG4gICAgdmlzaWJsZVN0YXJ0SW5kZXgsXG4gICAgdmlzaWJsZVN0b3BJbmRleCxcbiAgICB2aXNpYmxlQ29sdW1uU3RhcnRJbmRleCxcbiAgICB2aXNpYmxlQ29sdW1uU3RvcEluZGV4LFxuICAgIHZpc2libGVSb3dTdGFydEluZGV4LFxuICAgIHZpc2libGVSb3dTdG9wSW5kZXhcbiAgfSkgPT4ge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgLy8gQWxsIGluZGV4IHBhcmFtcyBhcmUgbnVtYmVycy5cbiAgICB0aGlzLmxpc3RWaXNpYmxlU3RhcnRJbmRleCA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IHRoaXMuZ2V0SXRlbUluZGV4QnlSb3dBbmRDb2x1bW5JbmRleCh2aXNpYmxlUm93U3RhcnRJbmRleCwgdmlzaWJsZUNvbHVtblN0YXJ0SW5kZXgpIDogdmlzaWJsZVN0YXJ0SW5kZXhcbiAgICB0aGlzLmxpc3RWaXNpYmxlU3RvcEluZGV4ID0gY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEID8gdGhpcy5nZXRJdGVtSW5kZXhCeVJvd0FuZENvbHVtbkluZGV4KHZpc2libGVSb3dTdG9wSW5kZXgsIHZpc2libGVDb2x1bW5TdG9wSW5kZXgpIDogdmlzaWJsZVN0b3BJbmRleFxuICAgIGlmICh0aGlzLm5lZWRSZWZyZXNoTGlzdE9uTGlzdFJlbmRlcmVkKSB7XG4gICAgICB0aGlzLm5lZWRSZWZyZXNoTGlzdE9uTGlzdFJlbmRlcmVkID0gZmFsc2VcbiAgICAgIHRoaXMucmVmcmVzaExpc3QoKVxuICAgIH1cbiAgICBpZiAodGhpcy5pc1N3aXRjaFBhZ2UpIHtcbiAgICAgIGlmIChjb25maWcucGFnZVN0eWxlID09PSBQYWdlU3R5bGUuU2Nyb2xsKSB7XG4gICAgICAgIGlmICh0aGlzLnJlY29yZHMubGVuZ3RoID4gdGhpcy5saXN0VmlzaWJsZVN0b3BJbmRleCArIDEpIHtcbiAgICAgICAgICB0aGlzLmlzU3dpdGNoUGFnZSA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5vbkl0ZW1zUmVuZGVyZWRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbERvd24obnVsbClcbiAgICAgICAgICB9LCA1MDApXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaXNTd2l0Y2hQYWdlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRJdGVtSW5kZXhCeVJvd0FuZENvbHVtbkluZGV4ID0gKHJvd0luZGV4LCBjb2x1bW5JbmRleCkgPT4ge1xuICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gdGhpcy5nZXRJdGVtQ29sdW1uQ291bnQoKVxuICAgIHJldHVybiByb3dJbmRleCAqIGNvbHVtbkNvdW50ICsgY29sdW1uSW5kZXhcbiAgfVxuXG4gIGl0ZW1TaXplID0gaW5kZXggPT4ge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBjdXJyZW50Q2FyZFNpemUgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBpc0hvcml6b24gPSBjb25maWc/LmxheW91dFR5cGUgPT09IExpc3RMYXlvdXRUeXBlLkNvbHVtblxuICAgIGNvbnN0IHNwYWNlID0gY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEID8gY29uZmlnPy52ZXJ0aWNhbFNwYWNlIDogY29uZmlnPy5zcGFjZVxuICAgIGNvbnN0IHNpemUgPSBpc0hvcml6b24gPyBjdXJyZW50Q2FyZFNpemUud2lkdGggKyBzcGFjZSA6IGN1cnJlbnRDYXJkU2l6ZS5oZWlnaHQgKyBzcGFjZVxuICAgIC8vIGNvbnN0IHNpemUgPSBjb25maWcuZGlyZWN0aW9uID09PSBEaXJlY3Rpb25UeXBlLkhvcml6b24gP1xuICAgIC8vICgoaW5kZXggPT09ICh0aGlzLnJlY29yZHMubGVuZ3RoIC0gMSkgJiYgaW5kZXggIT09IDApID9cbiAgICAvLyAgIGN1cnJlbnRDYXJkU2l6ZS53aWR0aCA6IChjdXJyZW50Q2FyZFNpemUud2lkdGggKyBjb25maWcuc3BhY2UpKSA6XG4gICAgLy8gICAoKGluZGV4ID09PSAodGhpcy5yZWNvcmRzLmxlbmd0aCAtIDEpICYmIGluZGV4ICE9PSAwKSA/XG4gICAgLy8gICBjdXJyZW50Q2FyZFNpemUuaGVpZ2h0IDogKGN1cnJlbnRDYXJkU2l6ZS5oZWlnaHQgKyBjb25maWcuc3BhY2UpKVxuICAgIHJldHVybiBzaXplXG4gIH1cblxuICBnZXRJdGVtc0J5UmVjb3JkcyA9IHJlY29yZHMgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHNlbGVjdGlvbklzSW5TZWxmLFxuICAgICAgc2VsZWN0aW9uSXNTZWxmLFxuICAgICAgYnVpbGRlclN0YXR1cyxcbiAgICAgIGFwcE1vZGUsXG4gICAgICBxdWVyeU9iamVjdCxcbiAgICAgIHVzZURhdGFTb3VyY2VzXG4gICAgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IGRhdGFzb3VyY2UsIGhvdmVySW5kZXggfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBzZWxlY3RlZFJlY29yZElkcyA9ICghZGF0YXNvdXJjZSB8fCAhY29uZmlnLmlzSXRlbVN0eWxlQ29uZmlybVxuICAgICAgPyBbXVxuICAgICAgOiBkYXRhc291cmNlLmdldFNlbGVjdGVkUmVjb3JkSWRzKClcbiAgICApLm1hcCh2ID0+IHYgKyAnJylcblxuICAgIHJldHVybiAoXG4gICAgICByZWNvcmRzICYmXG4gICAgICByZWNvcmRzLm1hcCgocmVjb3JkLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpc0VkaXRvciA9XG4gICAgICAgICAgaW5kZXggPT09IDAgJiZcbiAgICAgICAgICB3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciAmJlxuICAgICAgICAgIGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduXG4gICAgICAgIGNvbnN0IGVkaXRQcm9wcyA9IGlzRWRpdG9yXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGhpZGVDYXJkVG9vbDogdGhpcy5zdGF0ZS5oaWRlQ2FyZFRvb2wsXG4gICAgICAgICAgICAgIHNlbGVjdGlvbklzTGlzdDogc2VsZWN0aW9uSXNTZWxmLFxuICAgICAgICAgICAgICBzZWxlY3Rpb25Jc0luTGlzdDogc2VsZWN0aW9uSXNJblNlbGYsXG4gICAgICAgICAgICAgIGlzRWRpdGluZzogdGhpcy5pc0VkaXRpbmcoKSxcbiAgICAgICAgICAgICAgYnVpbGRlclN0YXR1czogYnVpbGRlclN0YXR1cyxcbiAgICAgICAgICAgICAgbG9ja0l0ZW1SYXRpbzogY29uZmlnLmxvY2tJdGVtUmF0aW8sXG4gICAgICAgICAgICAgIGNoYW5nZUlzUmVzaXppbmdDYXJkOiB0aGlzLmNoYW5nZUlzUmVzaXppbmdDYXJkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGxpbmtQYXJhbTogY29uZmlnLmxpbmtQYXJhbSxcbiAgICAgICAgICAgICAgcXVlcnlPYmplY3Q6IHF1ZXJ5T2JqZWN0LFxuICAgICAgICAgICAgICB1c2VEYXRhU291cmNlc1xuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIGlzSG92ZXI6IGhvdmVySW5kZXggPT09IGluZGV4LFxuICAgICAgICAgIHJlY29yZDogY29uZmlnLmlzSXRlbVN0eWxlQ29uZmlybSA/IHJlY29yZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBhY3RpdmU6XG4gICAgICAgICAgICAhcmVjb3JkLmZha2UgJiZcbiAgICAgICAgICAgIGNvbmZpZy5pc0l0ZW1TdHlsZUNvbmZpcm0gJiZcbiAgICAgICAgICAgIGRhdGFzb3VyY2UgJiZcbiAgICAgICAgICAgIHNlbGVjdGVkUmVjb3JkSWRzLmluY2x1ZGVzKHJlY29yZC5nZXRJZCgpKSxcbiAgICAgICAgICAuLi50aGlzLmdldE90aGVyUHJvcHMoKSxcbiAgICAgICAgICAuLi5lZGl0UHJvcHNcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICBnZXRPdGhlclByb3BzID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIHRoZW1lLFxuICAgICAgaWQsXG4gICAgICBhcHBNb2RlLFxuICAgICAgYnVpbGRlclN1cHBvcnRNb2R1bGVzLFxuICAgICAgbGF5b3V0cyxcbiAgICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICAgIGRpc3BhdGNoLFxuICAgICAgaXNSVExcbiAgICB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgZGF0YXNvdXJjZSB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IGlzV2lkdGhQZXJjZW50YWdlID0gbGlzdFV0aWxzLmdldENhcmRTaXplV2lkdGhVbml0SW5Db25maWcodGhpcy5wcm9wcyk/LndpZHRoPy51bml0ID09PSBEaXN0YW5jZVVuaXRzLlBFUkNFTlRBR0VcbiAgICByZXR1cm4ge1xuICAgICAgYnJvd3NlclNpemVNb2RlOiBicm93c2VyU2l6ZU1vZGUsXG4gICAgICBzcGFjZTogY29uZmlnLnNwYWNlLFxuICAgICAgaXNSVEw6IGlzUlRMLFxuICAgICAgYnVpbGRlclN1cHBvcnRNb2R1bGVzOiBidWlsZGVyU3VwcG9ydE1vZHVsZXMsXG4gICAgICBmb3JtYXRNZXNzYWdlOiB0aGlzLmZvcm1hdE1lc3NhZ2UsXG4gICAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgICB3aWRnZXRJZDogaWQsXG4gICAgICBpbnRlcmFjdDpcbiAgICAgICAgd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgJiZcbiAgICAgICAgYnVpbGRlclN1cHBvcnRNb2R1bGVzLndpZGdldE1vZHVsZXMuaW50ZXJhY3QsXG4gICAgICBzZWxlY3RDYXJkOiB0aGlzLnNlbGVjdENhcmQsXG4gICAgICBoYW5kbGVSZXNpemVDYXJkOiB0aGlzLmhhbmRsZVJlc2l6ZUNhcmQsXG4gICAgICBhcHBNb2RlOiBhcHBNb2RlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSXRlbUNoYW5nZSxcbiAgICAgIGhvdmVyTGF5b3V0T3BlbjogY29uZmlnLmNhcmRDb25maWdzW1N0YXR1cy5Ib3Zlcl0uZW5hYmxlLFxuICAgICAgc2VsZWN0YWJsZTpcbiAgICAgICAgY29uZmlnLmNhcmRDb25maWdzW1N0YXR1cy5TZWxlY3RlZF0uc2VsZWN0aW9uTW9kZSAhPT1cbiAgICAgICAgU2VsZWN0aW9uTW9kZVR5cGUuTm9uZSxcbiAgICAgIGRpcmVjdGlvbjogY29uZmlnLmRpcmVjdGlvbixcbiAgICAgIHRoZW1lOiB0aGVtZSxcbiAgICAgIExheW91dEVudHJ5OiB0aGlzLnN0YXRlLkxheW91dEVudHJ5LFxuICAgICAgbGF5b3V0czogbGF5b3V0cyxcbiAgICAgIGxheW91dFR5cGU6IGNvbmZpZz8ubGF5b3V0VHlwZSxcbiAgICAgIGtlZXBBc3BlY3RSYXRpbzogY29uZmlnPy5rZWVwQXNwZWN0UmF0aW8sXG4gICAgICBncmlkSXRlbVNpemVSYXRpbzogY29uZmlnPy5ncmlkSXRlbVNpemVSYXRpbyxcbiAgICAgIGNhcmRDb25maWdzOiBjb25maWcuY2FyZENvbmZpZ3MsXG4gICAgICBkYXRhc291cmNlSWQ6IGRhdGFzb3VyY2UgJiYgZGF0YXNvdXJjZS5pZCxcbiAgICAgIHVwZGF0ZUNhcmRUb29sUG9zaXRpb246IHRoaXMudXBkYXRlQ2FyZFRvb2xQb3NpdGlvbixcbiAgICAgIGlzV2lkdGhQZXJjZW50YWdlOiBpc1dpZHRoUGVyY2VudGFnZSxcbiAgICAgIGhvcml6b250YWxTcGFjZTogY29uZmlnPy5ob3Jpem9udGFsU3BhY2VcbiAgICB9XG4gIH1cblxuICBpdGVtUmVuZGVyID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IHsgYXBwTW9kZSwgY29uZmlnIH0gPSB0aGlzLnByb3BzXG4gICAgbGV0IHN0eWxlID0gcHJvcHMuc3R5bGVcbiAgICBjb25zdCBjb2x1bW5JbmRleCA9IHByb3BzPy5jb2x1bW5JbmRleCB8fCAwXG4gICAgY29uc3Qgcm93SW5kZXggPSBwcm9wcz8ucm93SW5kZXggfHwgMFxuICAgIGNvbnN0IGluZGV4ID0gY29uZmlnPy5sYXlvdXRUeXBlID09PSBMaXN0TGF5b3V0VHlwZS5HUklEID8gdGhpcy5nZXRJdGVtSW5kZXhCeVJvd0FuZENvbHVtbkluZGV4KHJvd0luZGV4LCBjb2x1bW5JbmRleCkgOiBwcm9wcy5pbmRleFxuICAgIGNvbnN0IGl0ZW1zID0gcHJvcHMuZGF0YVxuICAgIHN3aXRjaCAoY29uZmlnPy5sYXlvdXRUeXBlKSB7XG4gICAgICBjYXNlIExpc3RMYXlvdXRUeXBlLkNvbHVtbjpcbiAgICAgICAgc3R5bGUgPSB7XG4gICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgd2lkdGg6IGAke3BhcnNlRmxvYXQoc3R5bGUud2lkdGgpIC0gY29uZmlnLnNwYWNlfXB4YFxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIExpc3RMYXlvdXRUeXBlLlJvdzpcbiAgICAgICAgc3R5bGUgPSB7XG4gICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgaGVpZ2h0OiBgJHtwYXJzZUZsb2F0KHN0eWxlLmhlaWdodCkgLSBjb25maWcuc3BhY2V9cHhgXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgTGlzdExheW91dFR5cGUuR1JJRDpcbiAgICAgICAgc3R5bGUgPSB7XG4gICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgaGVpZ2h0OiBgJHtwYXJzZUZsb2F0KHN0eWxlLmhlaWdodCkgLSBjb25maWc/LnZlcnRpY2FsU3BhY2V9cHhgLFxuICAgICAgICAgIHdpZHRoOiBgJHtwYXJzZUZsb2F0KHN0eWxlPy53aWR0aCkgLSBjb25maWc/Lmhvcml6b250YWxTcGFjZX1weGBcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBjb25zdCBpc0VkaXRvciA9XG4gICAgICBpbmRleCA9PT0gMCAmJiB3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciAmJiBhcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnblxuICAgIGNvbnN0IExpc3RDYXJkID0gaXNFZGl0b3IgPyBMaXN0Q2FyZEVkaXRvciA6IExpc3RDYXJkVmlld2VyXG4gICAgaWYgKGl0ZW1zPy5sZW5ndGggPCBpbmRleCArIDEpIHJldHVybiBudWxsXG4gICAgcmV0dXJuIChcbiAgICAgIDxMaXN0Q2FyZFxuICAgICAgICBsaXN0U3R5bGU9e3N0eWxlfVxuICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgey4uLml0ZW1zW2luZGV4XX1cbiAgICAgICAgaGFuZGxlTGlzdE1vdXNlTW92ZT17dGhpcy5oYW5kbGVMaXN0TW91c2VNb3ZlfVxuICAgICAgICBoYW5kbGVMaXN0TW91c2VMZWF2ZT17dGhpcy5oYW5kbGVMaXN0TW91c2VMZWF2ZX1cbiAgICAgICAgaXRlbUlkZXg9e2luZGV4fSAvPlxuICAgIClcbiAgfVxuXG4gIGl0ZW1LZXkgPSBpbmRleCA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMucmVjb3Jkc1tpbmRleF1cbiAgICByZXR1cm4gYCR7KGl0ZW0/LmdldElkICYmIGl0ZW0/LmdldElkKCkpIHx8IGluZGV4fWBcbiAgfVxuXG4gIGdyaWRJdGVtSW5kZXggPSBpbmRleE9wdGlvbiA9PiB7XG4gICAgY29uc3QgeyBjb2x1bW5JbmRleCwgcm93SW5kZXggfSA9IGluZGV4T3B0aW9uXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleEJ5Um93QW5kQ29sdW1uSW5kZXgocm93SW5kZXgsIGNvbHVtbkluZGV4KVxuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnJlY29yZHNbaW5kZXhdXG4gICAgcmV0dXJuIGAkeyhpdGVtPy5nZXRJZCAmJiBpdGVtPy5nZXRJZCgpKSB8fCBpbmRleCArIDEwMH1gXG4gIH1cblxuICBnZXRJdGVtQ29sdW1uQ291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB3aWRnZXRSZWN0LCBjdXJyZW50Q2FyZFNpemUgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGxpc3RXaWR0aCA9ICh3aWRnZXRSZWN0ICYmIHdpZGdldFJlY3Qud2lkdGgpIHx8IExJU1RfQ0FSRF9NSU5fU0laRVxuICAgIHJldHVybiBNYXRoLmZsb29yKChsaXN0V2lkdGggKyBjb25maWc/Lmhvcml6b250YWxTcGFjZSkgLyAoY3VycmVudENhcmRTaXplLndpZHRoICsgY29uZmlnPy5ob3Jpem9udGFsU3BhY2UpKSB8fCAxXG4gIH1cblxuICBnZXRMaXN0Q29udGVudExlZnRQYWRkaW5nID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgd2lkZ2V0UmVjdCwgY3VycmVudENhcmRTaXplIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBsaXN0V2lkdGggPSAod2lkZ2V0UmVjdCAmJiB3aWRnZXRSZWN0LndpZHRoKSB8fCBMSVNUX0NBUkRfTUlOX1NJWkVcbiAgICBjb25zdCByb3dXaWR0aCA9IHRoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KCkgKiAoY3VycmVudENhcmRTaXplLndpZHRoICsgY29uZmlnPy5ob3Jpem9udGFsU3BhY2UpXG4gICAgY29uc3QgcGFkZGluZyA9IChsaXN0V2lkdGggLSByb3dXaWR0aCkgLyAyICsgY29uZmlnPy5ob3Jpem9udGFsU3BhY2UgLyAyXG4gICAgaWYgKGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCkge1xuICAgICAgcmV0dXJuIHBhZGRpbmcgPiAwID8gcGFkZGluZyA6IDBcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDBcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbmZpZyxcbiAgICAgIGlkLFxuICAgICAgYXBwTW9kZSxcbiAgICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICAgIHNlbGVjdGlvbklzSW5TZWxmLFxuICAgICAgc2VsZWN0aW9uSXNTZWxmLFxuICAgICAgdXNlRGF0YVNvdXJjZXMsXG4gICAgICBidWlsZGVyU3RhdHVzLFxuICAgICAgbGF5b3V0c1xuICAgIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZ1xuICAgIGNvbnN0IHsgZm9yY2VTaG93TWFzaywgZGF0YXNvdXJjZSwgd2lkZ2V0UmVjdCwgcGFnZSB9ID0gdGhpcy5zdGF0ZVxuICAgIGNvbnN0IGlzSW5CdWlsZGVyID0gd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXJcbiAgICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcyhcbiAgICAgICdqaW11LXdpZGdldCcsXG4gICAgICAnd2lkZ2V0LWxpc3QnLFxuICAgICAgJ2xpc3Qtd2lkZ2V0LScgKyBpZFxuICAgIClcblxuICAgIGlmICghY29uZmlnLml0ZW1TdHlsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFdpZGdldFBsYWNlaG9sZGVyXG4gICAgICAgICAgd2lkZ2V0SWQ9e3RoaXMucHJvcHMuaWR9XG4gICAgICAgICAgaWNvbj17cmVxdWlyZSgnLi9hc3NldHMvaWNvbi5zdmcnKX1cbiAgICAgICAgICBtZXNzYWdlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3BsYWNlSG9sZGVyVGlwJyl9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgc2hvd0JvdHRvbVRvb2wgPSBsaXN0VXRpbHMuc2hvd0JvdHRvbVRvb2xzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpXG4gICAgY29uc3QgYm90dG9tVG9vbEggPSBsaXN0VXRpbHMuZ2V0Qm90dG9tVG9vbEgoXG4gICAgICB0aGlzLnBhZ2luYXRvckRpdi5jdXJyZW50LFxuICAgICAgc2hvd0JvdHRvbVRvb2xcbiAgICApXG4gICAgY29uc3Qgc2hvd1RvcFRvb2xzID0gbGlzdFV0aWxzLnNob3dUb3BUb29scyh0aGlzLnByb3BzKVxuICAgIGNvbnN0IGxpc3RIZWlnaHQgPSBsaXN0VXRpbHMuZ2V0TGlzdEhlaWdodChcbiAgICAgIHdpZGdldFJlY3QsXG4gICAgICBib3R0b21Ub29sSCxcbiAgICAgIHNob3dUb3BUb29sc1xuICAgIClcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IGNvbmZpZz8ubGF5b3V0VHlwZSA9PT0gTGlzdExheW91dFR5cGUuR1JJRCA/IHRoaXMuZ2V0SXRlbUNvbHVtbkNvdW50KCkgOiBudWxsXG4gICAgY29uc3QgcGFnZVNpemUgPSBsaXN0VXRpbHMuZ2V0UGFnZVNpemUod2lkZ2V0UmVjdCwgbGlzdEhlaWdodCwgdGhpcy5wcm9wcywgY29sdW1uQ291bnQpXG4gICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplXG4gICAgY29uc3QgcXVlcnlQYWdlU2l6ZSA9IHBhZ2VTaXplXG5cbiAgICBsZXQgcXVlcnkgPSBnZXRRdWVyeU9wdGlvbnModGhpcy5zdGF0ZSwgdGhpcy5wcm9wcywgcXVlcnlQYWdlU2l6ZSlcbiAgICBpZiAoXG4gICAgICAhY29tcGFyZVF1ZXJ5T3B0aW9uc0V4Y2VwdFBhZ2luZyhcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHRoaXMubGFzdFF1ZXJ5LFxuICAgICAgICBkYXRhc291cmNlIGFzIFF1ZXJpYWJsZURhdGFTb3VyY2VcbiAgICAgICkgJiYgZGF0YXNvdXJjZVxuICAgICkge1xuICAgICAgY29uc3QgdGVtcCA9IHF1ZXJ5XG4gICAgICBpZiAocGFnZSAhPT0gMSkge1xuICAgICAgICBxdWVyeSA9IHRoaXMubGFzdFF1ZXJ5XG4gICAgICAgIHRoaXMubGFzdFF1ZXJ5ID0gdGVtcFxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwYWdlOiAxXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxhc3RRdWVyeSA9IHRlbXBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50TGF5b3V0ID1cbiAgICAgIGFwcENvbmZpZz8ubGF5b3V0c1tcbiAgICAgICAgc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgICAgIGxheW91dHNbYnVpbGRlclN0YXR1c10sXG4gICAgICAgICAgYnJvd3NlclNpemVNb2RlLFxuICAgICAgICAgIGFwcENvbmZpZy5tYWluU2l6ZU1vZGVcbiAgICAgICAgKVxuICAgICAgXVxuICAgIGNvbnN0IGN1cnJlbnRMYXlvdXRUeXBlID0gY3VycmVudExheW91dCAmJiBjdXJyZW50TGF5b3V0LnR5cGVcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlc31cbiAgICAgICAgY3NzPXtnZXRTdHlsZSh0aGlzLnByb3BzLCB0aGlzLmlzRWRpdGluZygpLCBzaG93Qm90dG9tVG9vbCl9XG4gICAgICAgIG9uUG9pbnRlckRvd249e2V2dCA9PlxuICAgICAgICAgIGlzSW5CdWlsZGVyICYmXG4gICAgICAgICAgYXBwTW9kZSAhPT0gQXBwTW9kZS5SdW4gJiZcbiAgICAgICAgICAhc2VsZWN0aW9uSXNTZWxmICYmXG4gICAgICAgICAgIXNlbGVjdGlvbklzSW5TZWxmICYmXG4gICAgICAgICAgdGhpcy5oYW5kbGVMaXN0UG9pbnRlckRvd24oZXZ0KX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3dpZGdldC1saXN0IGQtZmxleCc+XG4gICAgICAgICAge3RoaXMuaXNEc0NvbmZpZ3VyZWQoKVxuICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgIDxEYXRhU291cmNlQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgcXVlcnk9e2RhdGFzb3VyY2UgPyBxdWVyeSA6IG51bGx9XG4gICAgICAgICAgICAgICAgdXNlRGF0YVNvdXJjZT17dXNlRGF0YVNvdXJjZXMgJiYgdXNlRGF0YVNvdXJjZXNbMF19XG4gICAgICAgICAgICAgICAgb25EYXRhU291cmNlQ3JlYXRlZD17dGhpcy5vbkRTQ3JlYXRlZH1cbiAgICAgICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICAgICAgICBxdWVyeUNvdW50XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJMaXN0fVxuICAgICAgICAgICAgICA8L0RhdGFTb3VyY2VDb21wb25lbnQ+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTGlzdCgpXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgeyF0aGlzLmlzSGFzUmVuZGVyTGlzdCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbGlzdC1sb2FkaW5nLWNvbiB3LTEwMCBoLTEwMCc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJz48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2Pil9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHtpc0luQnVpbGRlciAmJlxuICAgICAgICAgIGFwcE1vZGUgIT09IEFwcE1vZGUuUnVuICYmXG4gICAgICAgICAgKGZvcmNlU2hvd01hc2sgfHxcbiAgICAgICAgICAgICghc2VsZWN0aW9uSXNJblNlbGYgJiYgIXNlbGVjdGlvbklzU2VsZikgfHxcbiAgICAgICAgICAgICghY29uZmlnLmlzSXRlbVN0eWxlQ29uZmlybSAmJiBjdXJyZW50TGF5b3V0VHlwZSkpICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbGlzdC13aXRoLW1hc2snIC8+XG4gICAgICAgICl9XG4gICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yXG4gICAgICAgICAgaGFuZGxlV2lkdGhcbiAgICAgICAgICBoYW5kbGVIZWlnaHRcbiAgICAgICAgICBvblJlc2l6ZT17dGhpcy5kZWJvdW5jZU9uUmVzaXplfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/widget.tsx\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/version-manager.ts":
/*!***************************************************************!*\
  !*** ./extensions/widgets/common/list/src/version-manager.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"versionManager\": () => (/* binding */ versionManager)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui_basic_sql_expression_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/basic/sql-expression-runtime */ \"jimu-ui/basic/sql-expression-runtime\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config */ \"./extensions/widgets/common/list/src/config.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nconst getDs = function (filter, widgetId) {\n    var _a, _b, _c, _d;\n    return __awaiter(this, void 0, void 0, function* () {\n        let ds;\n        const dataSource = (_d = (_c = (_b = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.widgets[widgetId]) === null || _c === void 0 ? void 0 : _c.useDataSources) === null || _d === void 0 ? void 0 : _d[0];\n        const dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();\n        if (filter && dataSource) {\n            ds = dsManager.createDataSourceByUseDataSource(Object.assign({}, dataSource, {\n                mainDataSourceId: dataSource.mainDataSourceId\n            }), 'localId');\n        }\n        return yield Promise.resolve(ds);\n    });\n};\nconst checkIsShowAutoRefreshSetting = (datasource) => {\n    var _a;\n    if (!datasource)\n        return false;\n    const interval = ((_a = datasource) === null || _a === void 0 ? void 0 : _a.getAutoRefreshInterval()) || 0;\n    return interval > 0;\n};\nclass VersionManager extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.BaseVersionManager {\n    constructor() {\n        super(...arguments);\n        this.versions = [\n            {\n                version: '1.1.0',\n                description: '',\n                upgrader: (oldConfig, id) => __awaiter(this, void 0, void 0, function* () {\n                    const filter = oldConfig.filter;\n                    return yield getDs(filter, id).then(ds => {\n                        let newConfig = oldConfig;\n                        const newFItems = filter\n                            ? (0,jimu_ui_basic_sql_expression_runtime__WEBPACK_IMPORTED_MODULE_1__.updateSQLExpressionByVersion)(filter, '1.1.0', ds)\n                            : null;\n                        newConfig = newConfig.set('filter', newFItems);\n                        return newConfig;\n                    });\n                })\n            },\n            {\n                version: '1.5.0',\n                description: '1.5.0',\n                upgrader: (oldConfig, id) => __awaiter(this, void 0, void 0, function* () {\n                    const filter = oldConfig.filter;\n                    return yield getDs(filter, id).then(ds => {\n                        let newConfig = oldConfig;\n                        if (typeof (oldConfig === null || oldConfig === void 0 ? void 0 : oldConfig.isShowAutoRefresh) !== 'boolean') {\n                            const isShowAutoRefresh = checkIsShowAutoRefreshSetting(ds);\n                            newConfig = newConfig.set('isShowAutoRefresh', isShowAutoRefresh);\n                        }\n                        return newConfig;\n                    });\n                })\n            },\n            {\n                version: '1.8.0',\n                description: '1.8.0',\n                upgrader: (oldConfig, id) => __awaiter(this, void 0, void 0, function* () {\n                    let newConfig = oldConfig;\n                    if ((oldConfig === null || oldConfig === void 0 ? void 0 : oldConfig.direction) && !(oldConfig === null || oldConfig === void 0 ? void 0 : oldConfig.layoutType)) {\n                        const layoutType = (oldConfig === null || oldConfig === void 0 ? void 0 : oldConfig.direction) === _config__WEBPACK_IMPORTED_MODULE_2__.DirectionType.Horizon ? _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Column : _config__WEBPACK_IMPORTED_MODULE_2__.ListLayoutType.Row;\n                        newConfig = newConfig.set('layoutType', layoutType).set('keepAspectRatio', false);\n                    }\n                    return newConfig;\n                })\n            }\n        ];\n    }\n}\nconst versionManager = new VersionManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3ZlcnNpb24tbWFuYWdlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTs7QUFDQTtBQUVBOztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2NvbW1vbi9saXN0L3NyYy92ZXJzaW9uLW1hbmFnZXIudHM/YzQzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlVmVyc2lvbk1hbmFnZXIsIERhdGFTb3VyY2VNYW5hZ2VyLCBnZXRBcHBTdG9yZSwgUXVlcmlhYmxlRGF0YVNvdXJjZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IHVwZGF0ZVNRTEV4cHJlc3Npb25CeVZlcnNpb24gfSBmcm9tICdqaW11LXVpL2Jhc2ljL3NxbC1leHByZXNzaW9uLXJ1bnRpbWUnXG5pbXBvcnQgeyBMaXN0TGF5b3V0VHlwZSwgRGlyZWN0aW9uVHlwZSB9IGZyb20gJy4vY29uZmlnJ1xuXG5jb25zdCBnZXREcyA9IGFzeW5jIGZ1bmN0aW9uIChmaWx0ZXIsIHdpZGdldElkKTogUHJvbWlzZTxhbnk+IHtcbiAgbGV0IGRzXG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcENvbmZpZz8ud2lkZ2V0c1t3aWRnZXRJZF1cbiAgICA/LnVzZURhdGFTb3VyY2VzPy5bMF1cbiAgY29uc3QgZHNNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuICBpZiAoZmlsdGVyICYmIGRhdGFTb3VyY2UpIHtcbiAgICBkcyA9IGRzTWFuYWdlci5jcmVhdGVEYXRhU291cmNlQnlVc2VEYXRhU291cmNlKFxuICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZGF0YVNvdXJjZSwge1xuICAgICAgICBtYWluRGF0YVNvdXJjZUlkOiBkYXRhU291cmNlLm1haW5EYXRhU291cmNlSWRcbiAgICAgIH0pLFxuICAgICAgJ2xvY2FsSWQnXG4gICAgKVxuICB9XG4gIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZHMpXG59XG5cbmNvbnN0IGNoZWNrSXNTaG93QXV0b1JlZnJlc2hTZXR0aW5nID0gKGRhdGFzb3VyY2UpOiBib29sZWFuID0+IHtcbiAgaWYgKCFkYXRhc291cmNlKSByZXR1cm4gZmFsc2VcbiAgY29uc3QgaW50ZXJ2YWwgPSAoZGF0YXNvdXJjZSBhcyBRdWVyaWFibGVEYXRhU291cmNlKT8uZ2V0QXV0b1JlZnJlc2hJbnRlcnZhbCgpIHx8IDBcbiAgcmV0dXJuIGludGVydmFsID4gMFxufVxuXG5jbGFzcyBWZXJzaW9uTWFuYWdlciBleHRlbmRzIEJhc2VWZXJzaW9uTWFuYWdlciB7XG4gIHZlcnNpb25zID0gW1xuICAgIHtcbiAgICAgIHZlcnNpb246ICcxLjEuMCcsXG4gICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICB1cGdyYWRlcjogYXN5bmMgKG9sZENvbmZpZywgaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXIgPSBvbGRDb25maWcuZmlsdGVyXG4gICAgICAgIHJldHVybiBhd2FpdCBnZXREcyhmaWx0ZXIsIGlkKS50aGVuKGRzID0+IHtcbiAgICAgICAgICBsZXQgbmV3Q29uZmlnID0gb2xkQ29uZmlnXG4gICAgICAgICAgY29uc3QgbmV3Rkl0ZW1zID0gZmlsdGVyXG4gICAgICAgICAgICA/IHVwZGF0ZVNRTEV4cHJlc3Npb25CeVZlcnNpb24oZmlsdGVyLCAnMS4xLjAnLCBkcylcbiAgICAgICAgICAgIDogbnVsbFxuXG4gICAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldCgnZmlsdGVyJywgbmV3Rkl0ZW1zKVxuICAgICAgICAgIHJldHVybiBuZXdDb25maWdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIHZlcnNpb246ICcxLjUuMCcsXG4gICAgICBkZXNjcmlwdGlvbjogJzEuNS4wJyxcbiAgICAgIHVwZ3JhZGVyOiBhc3luYyAob2xkQ29uZmlnLCBpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IG9sZENvbmZpZy5maWx0ZXJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGdldERzKGZpbHRlciwgaWQpLnRoZW4oZHMgPT4ge1xuICAgICAgICAgIGxldCBuZXdDb25maWcgPSBvbGRDb25maWdcbiAgICAgICAgICBpZiAodHlwZW9mIChvbGRDb25maWc/LmlzU2hvd0F1dG9SZWZyZXNoKSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBjb25zdCBpc1Nob3dBdXRvUmVmcmVzaCA9IGNoZWNrSXNTaG93QXV0b1JlZnJlc2hTZXR0aW5nKGRzKVxuICAgICAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldCgnaXNTaG93QXV0b1JlZnJlc2gnLCBpc1Nob3dBdXRvUmVmcmVzaClcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ld0NvbmZpZ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgdmVyc2lvbjogJzEuOC4wJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnMS44LjAnLFxuICAgICAgdXBncmFkZXI6IGFzeW5jIChvbGRDb25maWcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgbGV0IG5ld0NvbmZpZyA9IG9sZENvbmZpZ1xuICAgICAgICBpZiAob2xkQ29uZmlnPy5kaXJlY3Rpb24gJiYgIW9sZENvbmZpZz8ubGF5b3V0VHlwZSkge1xuICAgICAgICAgIGNvbnN0IGxheW91dFR5cGUgPSBvbGRDb25maWc/LmRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uVHlwZS5Ib3Jpem9uID8gTGlzdExheW91dFR5cGUuQ29sdW1uIDogTGlzdExheW91dFR5cGUuUm93XG4gICAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldCgnbGF5b3V0VHlwZScsIGxheW91dFR5cGUpLnNldCgna2VlcEFzcGVjdFJhdGlvJywgZmFsc2UpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZ1xuICAgICAgfVxuICAgIH1cbiAgXVxufVxuXG5leHBvcnQgY29uc3QgdmVyc2lvbk1hbmFnZXIgPSBuZXcgVmVyc2lvbk1hbmFnZXIoKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/version-manager.ts\n");

/***/ }),

/***/ "./jimu-core/lib/set-public-path.ts":
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.\n * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.\n * */\n// eslint-disable-next-line\n// @ts-ignore\n__webpack_require__.p = window.jimuConfig.baseUrl;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWNvcmUvbGliL3NldC1wdWJsaWMtcGF0aC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1jb3JlL2xpYi9zZXQtcHVibGljLXBhdGgudHM/NzA4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlYnBhY2sgd2lsbCByZXBsYWNlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHdpdGggX193ZWJwYWNrX3JlcXVpcmVfXy5wIHRvIHNldCB0aGUgcHVibGljIHBhdGggZHluYW1pY2FsbHkuXG4gKiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzZXQgdGhlIHB1YmxpY1BhdGggaW4gd2VicGFjayBjb25maWcgaXM6IHdlIGNoYW5nZSB0aGUgcHVibGljUGF0aCB3aGVuIGRvd25sb2FkLlxuICogKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gQHRzLWlnbm9yZVxuX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSB3aW5kb3cuamltdUNvbmZpZy5iYXNlVXJsXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-core/lib/set-public-path.ts\n");

/***/ }),

/***/ "./jimu-icons/outlined/brand/widget-filter.tsx":
/*!*****************************************************!*\
  !*** ./jimu-icons/outlined/brand/widget-filter.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WidgetFilterOutlined\": () => (/* binding */ WidgetFilterOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_brand_widget_filter_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/brand/widget-filter.svg */ \"./jimu-icons/svg/outlined/brand/widget-filter.svg\");\n/* harmony import */ var _svg_outlined_brand_widget_filter_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_brand_widget_filter_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst WidgetFilterOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_brand_widget_filter_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2JyYW5kL3dpZGdldC1maWx0ZXIudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvYnJhbmQvd2lkZ2V0LWZpbHRlci50c3g/ZDNiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNWRywgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvYnJhbmQvd2lkZ2V0LWZpbHRlci5zdmcnXG5cbmV4cG9ydCBjb25zdCBXaWRnZXRGaWx0ZXJPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/brand/widget-filter.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-left.tsx":
/*!********************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-left.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ArrowLeftOutlined\": () => (/* binding */ ArrowLeftOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-left.svg */ \"./jimu-icons/svg/outlined/directional/arrow-left.svg\");\n/* harmony import */ var _svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst ArrowLeftOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWxlZnQudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctbGVmdC50c3g/NDYyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNWRywgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctbGVmdC5zdmcnXG5cbmV4cG9ydCBjb25zdCBBcnJvd0xlZnRPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/directional/arrow-left.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/directional/down.tsx":
/*!**************************************************!*\
  !*** ./jimu-icons/outlined/directional/down.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DownOutlined\": () => (/* binding */ DownOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/down.svg */ \"./jimu-icons/svg/outlined/directional/down.svg\");\n/* harmony import */ var _svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst DownOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_down_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2Rvd24udHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvZG93bi50c3g/NTViOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNWRywgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvZG93bi5zdmcnXG5cbmV4cG9ydCBjb25zdCBEb3duT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/directional/down.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/directional/left.tsx":
/*!**************************************************!*\
  !*** ./jimu-icons/outlined/directional/left.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LeftOutlined\": () => (/* binding */ LeftOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_directional_left_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/left.svg */ \"./jimu-icons/svg/outlined/directional/left.svg\");\n/* harmony import */ var _svg_outlined_directional_left_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_left_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst LeftOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_left_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL2xlZnQudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvbGVmdC50c3g/M2Y3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNWRywgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvbGVmdC5zdmcnXG5cbmV4cG9ydCBjb25zdCBMZWZ0T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/directional/left.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/directional/right.tsx":
/*!***************************************************!*\
  !*** ./jimu-icons/outlined/directional/right.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RightOutlined\": () => (/* binding */ RightOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/right.svg */ \"./jimu-icons/svg/outlined/directional/right.svg\");\n/* harmony import */ var _svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst RightOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_right_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3JpZ2h0LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3JpZ2h0LnRzeD9kYzFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU1ZHLCBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9yaWdodC5zdmcnXG5cbmV4cG9ydCBjb25zdCBSaWdodE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/directional/right.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/directional/up.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/directional/up.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UpOutlined\": () => (/* binding */ UpOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/directional/up.svg */ \"./jimu-icons/svg/outlined/directional/up.svg\");\n/* harmony import */ var _svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst UpOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_up_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3VwLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2RpcmVjdGlvbmFsL3VwLnRzeD9iMWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU1ZHLCBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC91cC5zdmcnXG5cbmV4cG9ydCBjb25zdCBVcE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/directional/up.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/close.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/close.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CloseOutlined\": () => (/* binding */ CloseOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/close.svg */ \"./jimu-icons/svg/outlined/editor/close.svg\");\n/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst CloseOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9jbG9zZS50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvY2xvc2UudHN4P2QyZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBTVkcsIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9jbG9zZS5zdmcnXG5cbmV4cG9ydCBjb25zdCBDbG9zZU91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/close.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/menu.tsx":
/*!*********************************************!*\
  !*** ./jimu-icons/outlined/editor/menu.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuOutlined\": () => (/* binding */ MenuOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/menu.svg */ \"./jimu-icons/svg/outlined/editor/menu.svg\");\n/* harmony import */ var _svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst MenuOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9tZW51LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9tZW51LnRzeD8zNzIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU1ZHLCBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3IvbWVudS5zdmcnXG5cbmV4cG9ydCBjb25zdCBNZW51T3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/menu.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/search.tsx":
/*!***********************************************!*\
  !*** ./jimu-icons/outlined/editor/search.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SearchOutlined\": () => (/* binding */ SearchOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/search.svg */ \"./jimu-icons/svg/outlined/editor/search.svg\");\n/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst SearchOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zZWFyY2gudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3NlYXJjaC50c3g/Mzg4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNWRywgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL3NlYXJjaC5zdmcnXG5cbmV4cG9ydCBjb25zdCBTZWFyY2hPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/search.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/show-selection.tsx":
/*!*******************************************************!*\
  !*** ./jimu-icons/outlined/editor/show-selection.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ShowSelectionOutlined\": () => (/* binding */ ShowSelectionOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/show-selection.svg */ \"./jimu-icons/svg/outlined/editor/show-selection.svg\");\n/* harmony import */ var _svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../svg/outlined/editor/show-selection--rtl.svg */ \"./jimu-icons/svg/outlined/editor/show-selection--rtl.svg\");\n/* harmony import */ var _svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_3__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\n\nconst ShowSelectionOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component has-rtl-svg', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_2___default()), srcRTL: (_svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_3___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zaG93LXNlbGVjdGlvbi50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3Nob3ctc2VsZWN0aW9uLnRzeD82NjQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU1ZHLCBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc2hvdy1zZWxlY3Rpb24uc3ZnJ1xuaW1wb3J0IHNyY1JUTCBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL3Nob3ctc2VsZWN0aW9uLS1ydGwuc3ZnJ1xuXG5leHBvcnQgY29uc3QgU2hvd1NlbGVjdGlvbk91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQgaGFzLXJ0bC1zdmcnLCBjbGFzc05hbWUpXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHNyY1JUTD17c3JjUlRMfSB7Li4ub3RoZXJzfSAvPlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/show-selection.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/sync-off.tsx":
/*!*************************************************!*\
  !*** ./jimu-icons/outlined/editor/sync-off.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SyncOffOutlined\": () => (/* binding */ SyncOffOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_sync_off_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/sync-off.svg */ \"./jimu-icons/svg/outlined/editor/sync-off.svg\");\n/* harmony import */ var _svg_outlined_editor_sync_off_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_sync_off_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst SyncOffOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_sync_off_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zeW5jLW9mZi50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc3luYy1vZmYudHN4Pzk3MWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBTVkcsIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9zeW5jLW9mZi5zdmcnXG5cbmV4cG9ydCBjb25zdCBTeW5jT2ZmT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/sync-off.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/sync-on.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/editor/sync-on.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SyncOnOutlined\": () => (/* binding */ SyncOnOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_sync_on_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/sync-on.svg */ \"./jimu-icons/svg/outlined/editor/sync-on.svg\");\n/* harmony import */ var _svg_outlined_editor_sync_on_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_sync_on_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst SyncOnOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_sync_on_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zeW5jLW9uLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zeW5jLW9uLnRzeD81OGUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU1ZHLCBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc3luYy1vbi5zdmcnXG5cbmV4cG9ydCBjb25zdCBTeW5jT25PdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/sync-on.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/editor/trash-check.tsx":
/*!****************************************************!*\
  !*** ./jimu-icons/outlined/editor/trash-check.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TrashCheckOutlined\": () => (/* binding */ TrashCheckOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_editor_trash_check_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/trash-check.svg */ \"./jimu-icons/svg/outlined/editor/trash-check.svg\");\n/* harmony import */ var _svg_outlined_editor_trash_check_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_trash_check_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst TrashCheckOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_trash_check_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci90cmFzaC1jaGVjay50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gtY2hlY2sudHN4PzgyODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBTVkcsIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC1jaGVjay5zdmcnXG5cbmV4cG9ydCBjb25zdCBUcmFzaENoZWNrT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/editor/trash-check.tsx\n");

/***/ }),

/***/ "./jimu-icons/outlined/suggested/warning.tsx":
/*!***************************************************!*\
  !*** ./jimu-icons/outlined/suggested/warning.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WarningOutlined\": () => (/* binding */ WarningOutlined)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/suggested/warning.svg */ \"./jimu-icons/svg/outlined/suggested/warning.svg\");\n/* harmony import */ var _svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst WarningOutlined = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_outlined_suggested_warning_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC93YXJuaW5nLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC93YXJuaW5nLnRzeD80Yzg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgU1ZHLCBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvd2FybmluZy5zdmcnXG5cbmV4cG9ydCBjb25zdCBXYXJuaW5nT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/outlined/suggested/warning.tsx\n");

/***/ }),

/***/ "./node_modules/memoize-one/dist/memoize-one.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/memoize-one/dist/memoize-one.esm.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (memoizeOne);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVtb2l6ZS1vbmUvZGlzdC9tZW1vaXplLW9uZS5lc20uanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9tZW1vaXplLW9uZS9kaXN0L21lbW9pemUtb25lLmVzbS5qcz81YjBhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBzYWZlSXNOYU4gPSBOdW1iZXIuaXNOYU4gfHxcbiAgICBmdW5jdGlvbiBwb255ZmlsbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gdmFsdWU7XG4gICAgfTtcbmZ1bmN0aW9uIGlzRXF1YWwoZmlyc3QsIHNlY29uZCkge1xuICAgIGlmIChmaXJzdCA9PT0gc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoc2FmZUlzTmFOKGZpcnN0KSAmJiBzYWZlSXNOYU4oc2Vjb25kKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV3SW5wdXRzLCBsYXN0SW5wdXRzKSB7XG4gICAgaWYgKG5ld0lucHV0cy5sZW5ndGggIT09IGxhc3RJbnB1dHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdJbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpc0VxdWFsKG5ld0lucHV0c1tpXSwgbGFzdElucHV0c1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbWVtb2l6ZU9uZShyZXN1bHRGbiwgaXNFcXVhbCkge1xuICAgIGlmIChpc0VxdWFsID09PSB2b2lkIDApIHsgaXNFcXVhbCA9IGFyZUlucHV0c0VxdWFsOyB9XG4gICAgdmFyIGxhc3RUaGlzO1xuICAgIHZhciBsYXN0QXJncyA9IFtdO1xuICAgIHZhciBsYXN0UmVzdWx0O1xuICAgIHZhciBjYWxsZWRPbmNlID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gbWVtb2l6ZWQoKSB7XG4gICAgICAgIHZhciBuZXdBcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBuZXdBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxlZE9uY2UgJiYgbGFzdFRoaXMgPT09IHRoaXMgJiYgaXNFcXVhbChuZXdBcmdzLCBsYXN0QXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGxhc3RSZXN1bHQgPSByZXN1bHRGbi5hcHBseSh0aGlzLCBuZXdBcmdzKTtcbiAgICAgICAgY2FsbGVkT25jZSA9IHRydWU7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdEFyZ3MgPSBuZXdBcmdzO1xuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZW1vaXplT25lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/memoize-one/dist/memoize-one.esm.js\n");

/***/ }),

/***/ "./node_modules/react-window/dist/index.esm.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-window/dist/index.esm.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VariableSizeGrid\": () => (/* binding */ VariableSizeGrid),\n/* harmony export */   \"VariableSizeList\": () => (/* binding */ VariableSizeList),\n/* harmony export */   \"FixedSizeGrid\": () => (/* binding */ FixedSizeGrid),\n/* harmony export */   \"FixedSizeList\": () => (/* binding */ FixedSizeList),\n/* harmony export */   \"areEqual\": () => (/* binding */ areEqual),\n/* harmony export */   \"shouldComponentUpdate\": () => (/* binding */ shouldComponentUpdate)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ \"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutPropertiesLoose */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\");\n\n\n\n\n\n\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (true) {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsOverscanRowsColumnsCount =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsTagName =\n    /*#__PURE__*/\n    new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class, _temp;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    (0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, (0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this)));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: (0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this)),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push((0,react__WEBPACK_IMPORTED_MODULE_3__.createElement)(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return (0,react__WEBPACK_IMPORTED_MODULE_3__.createElement)(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, (0,react__WEBPACK_IMPORTED_MODULE_3__.createElement)(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(react__WEBPACK_IMPORTED_MODULE_3__.PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _temp;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (true) {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (true) {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (true) {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsTagName$1 =\n    /*#__PURE__*/\n    new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class, _temp;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    (0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, (0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this)));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: (0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_this)),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = (0,memoize_one__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var itemCount = this.props.itemCount;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1));\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props2 = this.props,\n          direction = _this$props2.direction,\n          initialScrollOffset = _this$props2.initialScrollOffset,\n          layout = _this$props2.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          layout = _this$props3.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemCount = _this$props4.itemCount,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey$1 : _this$props4$itemKey,\n          layout = _this$props4.layout,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push((0,react__WEBPACK_IMPORTED_MODULE_3__.createElement)(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return (0,react__WEBPACK_IMPORTED_MODULE_3__.createElement)(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, (0,react__WEBPACK_IMPORTED_MODULE_3__.createElement)(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props5 = this.props,\n          itemCount = _this$props5.itemCount,\n          overscanCount = _this$props5.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(react__WEBPACK_IMPORTED_MODULE_3__.PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _temp;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (true) {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (true) {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (true) {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (true) {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(prevProps, [\"style\"]);\n\n  var nextStyle = nextProps.style,\n      nextRest = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(nextProps, [\"style\"]);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtd2luZG93L2Rpc3QvaW5kZXguZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvcmVhY3Qtd2luZG93L2Rpc3QvaW5kZXguZXNtLmpzPzg5MWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkJztcbmltcG9ydCBtZW1vaXplT25lIGZyb20gJ21lbW9pemUtb25lJztcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIFB1cmVDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSc7XG5cbi8vIEFuaW1hdGlvbiBmcmFtZSBiYXNlZCBpbXBsZW1lbnRhdGlvbiBvZiBzZXRUaW1lb3V0LlxuLy8gSW5zcGlyZWQgYnkgSm9lIExhbWJlcnQsIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2pvZWxhbWJlcnQvMTAwMjExNiNmaWxlLXJlcXVlc3R0aW1lb3V0LWpzXG52YXIgaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3cgPSB0eXBlb2YgcGVyZm9ybWFuY2UgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbic7XG52YXIgbm93ID0gaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3cgPyBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbn0gOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufTtcbmZ1bmN0aW9uIGNhbmNlbFRpbWVvdXQodGltZW91dElEKSB7XG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRpbWVvdXRJRC5pZCk7XG59XG5mdW5jdGlvbiByZXF1ZXN0VGltZW91dChjYWxsYmFjaywgZGVsYXkpIHtcbiAgdmFyIHN0YXJ0ID0gbm93KCk7XG5cbiAgZnVuY3Rpb24gdGljaygpIHtcbiAgICBpZiAobm93KCkgLSBzdGFydCA+PSBkZWxheSkge1xuICAgICAgY2FsbGJhY2suY2FsbChudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZW91dElELmlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICAgIH1cbiAgfVxuXG4gIHZhciB0aW1lb3V0SUQgPSB7XG4gICAgaWQ6IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKVxuICB9O1xuICByZXR1cm4gdGltZW91dElEO1xufVxuXG52YXIgc2l6ZSA9IC0xOyAvLyBUaGlzIHV0aWxpdHkgY29waWVkIGZyb20gXCJkb20taGVscGVyc1wiIHBhY2thZ2UuXG5cbmZ1bmN0aW9uIGdldFNjcm9sbGJhclNpemUocmVjYWxjdWxhdGUpIHtcbiAgaWYgKHJlY2FsY3VsYXRlID09PSB2b2lkIDApIHtcbiAgICByZWNhbGN1bGF0ZSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHNpemUgPT09IC0xIHx8IHJlY2FsY3VsYXRlKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBzdHlsZSA9IGRpdi5zdHlsZTtcbiAgICBzdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICBzdHlsZS5oZWlnaHQgPSAnNTBweCc7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgc2l6ZSA9IGRpdi5vZmZzZXRXaWR0aCAtIGRpdi5jbGllbnRXaWR0aDtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRpdik7XG4gIH1cblxuICByZXR1cm4gc2l6ZTtcbn1cbnZhciBjYWNoZWRSVExSZXN1bHQgPSBudWxsOyAvLyBUUklDS1kgQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBzY3JvbGxMZWZ0IHNob3VsZCBiZSBuZWdhdGl2ZSBmb3IgUlRMIGFsaWduZWQgZWxlbWVudHMuXG4vLyBDaHJvbWUgZG9lcyBub3Qgc2VlbSB0byBhZGhlcmU7IGl0cyBzY3JvbGxMZWZ0IHZhbHVlcyBhcmUgcG9zaXRpdmUgKG1lYXN1cmVkIHJlbGF0aXZlIHRvIHRoZSBsZWZ0KS5cbi8vIFNhZmFyaSdzIGVsYXN0aWMgYm91bmNlIG1ha2VzIGRldGVjdGluZyB0aGlzIGV2ZW4gbW9yZSBjb21wbGljYXRlZCB3cnQgcG90ZW50aWFsIGZhbHNlIHBvc2l0aXZlcy5cbi8vIFRoZSBzYWZlc3Qgd2F5IHRvIGNoZWNrIHRoaXMgaXMgdG8gaW50ZW50aW9uYWxseSBzZXQgYSBuZWdhdGl2ZSBvZmZzZXQsXG4vLyBhbmQgdGhlbiB2ZXJpZnkgdGhhdCB0aGUgc3Vic2VxdWVudCBcInNjcm9sbFwiIGV2ZW50IG1hdGNoZXMgdGhlIG5lZ2F0aXZlIG9mZnNldC5cbi8vIElmIGl0IGRvZXMgbm90IG1hdGNoLCB0aGVuIHdlIGNhbiBhc3N1bWUgYSBub24tc3RhbmRhcmQgUlRMIHNjcm9sbCBpbXBsZW1lbnRhdGlvbi5cblxuZnVuY3Rpb24gZ2V0UlRMT2Zmc2V0VHlwZShyZWNhbGN1bGF0ZSkge1xuICBpZiAocmVjYWxjdWxhdGUgPT09IHZvaWQgMCkge1xuICAgIHJlY2FsY3VsYXRlID0gZmFsc2U7XG4gIH1cblxuICBpZiAoY2FjaGVkUlRMUmVzdWx0ID09PSBudWxsIHx8IHJlY2FsY3VsYXRlKSB7XG4gICAgdmFyIG91dGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIG91dGVyU3R5bGUgPSBvdXRlckRpdi5zdHlsZTtcbiAgICBvdXRlclN0eWxlLndpZHRoID0gJzUwcHgnO1xuICAgIG91dGVyU3R5bGUuaGVpZ2h0ID0gJzUwcHgnO1xuICAgIG91dGVyU3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICBvdXRlclN0eWxlLmRpcmVjdGlvbiA9ICdydGwnO1xuICAgIHZhciBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBpbm5lclN0eWxlID0gaW5uZXJEaXYuc3R5bGU7XG4gICAgaW5uZXJTdHlsZS53aWR0aCA9ICcxMDBweCc7XG4gICAgaW5uZXJTdHlsZS5oZWlnaHQgPSAnMTAwcHgnO1xuICAgIG91dGVyRGl2LmFwcGVuZENoaWxkKGlubmVyRGl2KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyRGl2KTtcblxuICAgIGlmIChvdXRlckRpdi5zY3JvbGxMZWZ0ID4gMCkge1xuICAgICAgY2FjaGVkUlRMUmVzdWx0ID0gJ3Bvc2l0aXZlLWRlc2NlbmRpbmcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRlckRpdi5zY3JvbGxMZWZ0ID0gMTtcblxuICAgICAgaWYgKG91dGVyRGl2LnNjcm9sbExlZnQgPT09IDApIHtcbiAgICAgICAgY2FjaGVkUlRMUmVzdWx0ID0gJ25lZ2F0aXZlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhY2hlZFJUTFJlc3VsdCA9ICdwb3NpdGl2ZS1hc2NlbmRpbmcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXJEaXYpO1xuICAgIHJldHVybiBjYWNoZWRSVExSZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gY2FjaGVkUlRMUmVzdWx0O1xufVxuXG52YXIgSVNfU0NST0xMSU5HX0RFQk9VTkNFX0lOVEVSVkFMID0gMTUwO1xuXG52YXIgZGVmYXVsdEl0ZW1LZXkgPSBmdW5jdGlvbiBkZWZhdWx0SXRlbUtleShfcmVmKSB7XG4gIHZhciBjb2x1bW5JbmRleCA9IF9yZWYuY29sdW1uSW5kZXgsXG4gICAgICBkYXRhID0gX3JlZi5kYXRhLFxuICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4O1xuICByZXR1cm4gcm93SW5kZXggKyBcIjpcIiArIGNvbHVtbkluZGV4O1xufTsgLy8gSW4gREVWIG1vZGUsIHRoaXMgU2V0IGhlbHBzIHVzIG9ubHkgbG9nIGEgd2FybmluZyBvbmNlIHBlciBjb21wb25lbnQgaW5zdGFuY2UuXG4vLyBUaGlzIGF2b2lkcyBzcGFtbWluZyB0aGUgY29uc29sZSBldmVyeSB0aW1lIGEgcmVuZGVyIGhhcHBlbnMuXG5cblxudmFyIGRldldhcm5pbmdzT3ZlcnNjYW5Db3VudCA9IG51bGw7XG52YXIgZGV2V2FybmluZ3NPdmVyc2NhblJvd3NDb2x1bW5zQ291bnQgPSBudWxsO1xudmFyIGRldldhcm5pbmdzVGFnTmFtZSA9IG51bGw7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LldlYWtTZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZGV2V2FybmluZ3NPdmVyc2NhbkNvdW50ID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgbmV3IFdlYWtTZXQoKTtcbiAgICBkZXZXYXJuaW5nc092ZXJzY2FuUm93c0NvbHVtbnNDb3VudCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIG5ldyBXZWFrU2V0KCk7XG4gICAgZGV2V2FybmluZ3NUYWdOYW1lID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgbmV3IFdlYWtTZXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVHcmlkQ29tcG9uZW50KF9yZWYyKSB7XG4gIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gIHZhciBnZXRDb2x1bW5PZmZzZXQgPSBfcmVmMi5nZXRDb2x1bW5PZmZzZXQsXG4gICAgICBnZXRDb2x1bW5TdGFydEluZGV4Rm9yT2Zmc2V0ID0gX3JlZjIuZ2V0Q29sdW1uU3RhcnRJbmRleEZvck9mZnNldCxcbiAgICAgIGdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXggPSBfcmVmMi5nZXRDb2x1bW5TdG9wSW5kZXhGb3JTdGFydEluZGV4LFxuICAgICAgZ2V0Q29sdW1uV2lkdGggPSBfcmVmMi5nZXRDb2x1bW5XaWR0aCxcbiAgICAgIGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0ID0gX3JlZjIuZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQsXG4gICAgICBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoID0gX3JlZjIuZ2V0RXN0aW1hdGVkVG90YWxXaWR0aCxcbiAgICAgIGdldE9mZnNldEZvckNvbHVtbkFuZEFsaWdubWVudCA9IF9yZWYyLmdldE9mZnNldEZvckNvbHVtbkFuZEFsaWdubWVudCxcbiAgICAgIGdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudCA9IF9yZWYyLmdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudCxcbiAgICAgIGdldFJvd0hlaWdodCA9IF9yZWYyLmdldFJvd0hlaWdodCxcbiAgICAgIGdldFJvd09mZnNldCA9IF9yZWYyLmdldFJvd09mZnNldCxcbiAgICAgIGdldFJvd1N0YXJ0SW5kZXhGb3JPZmZzZXQgPSBfcmVmMi5nZXRSb3dTdGFydEluZGV4Rm9yT2Zmc2V0LFxuICAgICAgZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleCA9IF9yZWYyLmdldFJvd1N0b3BJbmRleEZvclN0YXJ0SW5kZXgsXG4gICAgICBpbml0SW5zdGFuY2VQcm9wcyA9IF9yZWYyLmluaXRJbnN0YW5jZVByb3BzLFxuICAgICAgc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSA9IF9yZWYyLnNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UsXG4gICAgICB2YWxpZGF0ZVByb3BzID0gX3JlZjIudmFsaWRhdGVQcm9wcztcbiAgcmV0dXJuIF90ZW1wID0gX2NsYXNzID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1B1cmVDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShHcmlkLCBfUHVyZUNvbXBvbmVudCk7XG5cbiAgICAvLyBBbHdheXMgdXNlIGV4cGxpY2l0IGNvbnN0cnVjdG9yIGZvciBSZWFjdCBjb21wb25lbnRzLlxuICAgIC8vIEl0IHByb2R1Y2VzIGxlc3MgY29kZSBhZnRlciB0cmFuc3BpbGF0aW9uLiAoIzI2KVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNvbnN0cnVjdG9yXG4gICAgZnVuY3Rpb24gR3JpZChwcm9wcykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfdGhpcyA9IF9QdXJlQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5faW5zdGFuY2VQcm9wcyA9IGluaXRJbnN0YW5jZVByb3BzKF90aGlzLnByb3BzLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7XG4gICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCA9IG51bGw7XG4gICAgICBfdGhpcy5fb3V0ZXJSZWYgPSB2b2lkIDA7XG4gICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgaW5zdGFuY2U6IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpLFxuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2UsXG4gICAgICAgIGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICAgICAgc2Nyb2xsTGVmdDogdHlwZW9mIF90aGlzLnByb3BzLmluaXRpYWxTY3JvbGxMZWZ0ID09PSAnbnVtYmVyJyA/IF90aGlzLnByb3BzLmluaXRpYWxTY3JvbGxMZWZ0IDogMCxcbiAgICAgICAgc2Nyb2xsVG9wOiB0eXBlb2YgX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbFRvcCA9PT0gJ251bWJlcicgPyBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsVG9wIDogMCxcbiAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkOiBmYWxzZSxcbiAgICAgICAgdmVydGljYWxTY3JvbGxEaXJlY3Rpb246ICdmb3J3YXJkJ1xuICAgICAgfTtcbiAgICAgIF90aGlzLl9jYWxsT25JdGVtc1JlbmRlcmVkID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX2NhbGxPbkl0ZW1zUmVuZGVyZWQgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChvdmVyc2NhbkNvbHVtblN0YXJ0SW5kZXgsIG92ZXJzY2FuQ29sdW1uU3RvcEluZGV4LCBvdmVyc2NhblJvd1N0YXJ0SW5kZXgsIG92ZXJzY2FuUm93U3RvcEluZGV4LCB2aXNpYmxlQ29sdW1uU3RhcnRJbmRleCwgdmlzaWJsZUNvbHVtblN0b3BJbmRleCwgdmlzaWJsZVJvd1N0YXJ0SW5kZXgsIHZpc2libGVSb3dTdG9wSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uSXRlbXNSZW5kZXJlZCh7XG4gICAgICAgICAgb3ZlcnNjYW5Db2x1bW5TdGFydEluZGV4OiBvdmVyc2NhbkNvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgb3ZlcnNjYW5Db2x1bW5TdG9wSW5kZXg6IG92ZXJzY2FuQ29sdW1uU3RvcEluZGV4LFxuICAgICAgICAgIG92ZXJzY2FuUm93U3RhcnRJbmRleDogb3ZlcnNjYW5Sb3dTdGFydEluZGV4LFxuICAgICAgICAgIG92ZXJzY2FuUm93U3RvcEluZGV4OiBvdmVyc2NhblJvd1N0b3BJbmRleCxcbiAgICAgICAgICB2aXNpYmxlQ29sdW1uU3RhcnRJbmRleDogdmlzaWJsZUNvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgdmlzaWJsZUNvbHVtblN0b3BJbmRleDogdmlzaWJsZUNvbHVtblN0b3BJbmRleCxcbiAgICAgICAgICB2aXNpYmxlUm93U3RhcnRJbmRleDogdmlzaWJsZVJvd1N0YXJ0SW5kZXgsXG4gICAgICAgICAgdmlzaWJsZVJvd1N0b3BJbmRleDogdmlzaWJsZVJvd1N0b3BJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgX3RoaXMuX2NhbGxPblNjcm9sbCA9IHZvaWQgMDtcbiAgICAgIF90aGlzLl9jYWxsT25TY3JvbGwgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChzY3JvbGxMZWZ0LCBzY3JvbGxUb3AsIGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb24sIHZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uLCBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uU2Nyb2xsKHtcbiAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uOiBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgdmVydGljYWxTY3JvbGxEaXJlY3Rpb246IHZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlID0gdm9pZCAwO1xuXG4gICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlID0gZnVuY3Rpb24gKHJvd0luZGV4LCBjb2x1bW5JbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoID0gX3RoaXMkcHJvcHMuY29sdW1uV2lkdGgsXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBfdGhpcyRwcm9wcy5kaXJlY3Rpb24sXG4gICAgICAgICAgICByb3dIZWlnaHQgPSBfdGhpcyRwcm9wcy5yb3dIZWlnaHQ7XG5cbiAgICAgICAgdmFyIGl0ZW1TdHlsZUNhY2hlID0gX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlKHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgJiYgY29sdW1uV2lkdGgsIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgJiYgZGlyZWN0aW9uLCBzaG91bGRSZXNldFN0eWxlQ2FjaGVPbkl0ZW1TaXplQ2hhbmdlICYmIHJvd0hlaWdodCk7XG5cbiAgICAgICAgdmFyIGtleSA9IHJvd0luZGV4ICsgXCI6XCIgKyBjb2x1bW5JbmRleDtcbiAgICAgICAgdmFyIHN0eWxlO1xuXG4gICAgICAgIGlmIChpdGVtU3R5bGVDYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgc3R5bGUgPSBpdGVtU3R5bGVDYWNoZVtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfb2Zmc2V0ID0gZ2V0Q29sdW1uT2Zmc2V0KF90aGlzLnByb3BzLCBjb2x1bW5JbmRleCwgX3RoaXMuX2luc3RhbmNlUHJvcHMpO1xuXG4gICAgICAgICAgdmFyIGlzUnRsID0gZGlyZWN0aW9uID09PSAncnRsJztcbiAgICAgICAgICBpdGVtU3R5bGVDYWNoZVtrZXldID0gc3R5bGUgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGxlZnQ6IGlzUnRsID8gdW5kZWZpbmVkIDogX29mZnNldCxcbiAgICAgICAgICAgIHJpZ2h0OiBpc1J0bCA/IF9vZmZzZXQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b3A6IGdldFJvd09mZnNldChfdGhpcy5wcm9wcywgcm93SW5kZXgsIF90aGlzLl9pbnN0YW5jZVByb3BzKSxcbiAgICAgICAgICAgIGhlaWdodDogZ2V0Um93SGVpZ2h0KF90aGlzLnByb3BzLCByb3dJbmRleCwgX3RoaXMuX2luc3RhbmNlUHJvcHMpLFxuICAgICAgICAgICAgd2lkdGg6IGdldENvbHVtbldpZHRoKF90aGlzLnByb3BzLCBjb2x1bW5JbmRleCwgX3RoaXMuX2luc3RhbmNlUHJvcHMpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLl9nZXRJdGVtU3R5bGVDYWNoZSA9IHZvaWQgMDtcbiAgICAgIF90aGlzLl9nZXRJdGVtU3R5bGVDYWNoZSA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKF8sIF9fLCBfX18pIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLl9vblNjcm9sbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2V2ZW50JGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gX2V2ZW50JGN1cnJlbnRUYXJnZXQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgY2xpZW50V2lkdGggPSBfZXZlbnQkY3VycmVudFRhcmdldC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSBfZXZlbnQkY3VycmVudFRhcmdldC5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gX2V2ZW50JGN1cnJlbnRUYXJnZXQuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX2V2ZW50JGN1cnJlbnRUYXJnZXQuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgICAgc2Nyb2xsV2lkdGggPSBfZXZlbnQkY3VycmVudFRhcmdldC5zY3JvbGxXaWR0aDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgaWYgKHByZXZTdGF0ZS5zY3JvbGxMZWZ0ID09PSBzY3JvbGxMZWZ0ICYmIHByZXZTdGF0ZS5zY3JvbGxUb3AgPT09IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHBvc2l0aW9uIG1heSBoYXZlIGJlZW4gdXBkYXRlZCBieSBjRE0vY0RVLFxuICAgICAgICAgICAgLy8gSW4gd2hpY2ggY2FzZSB3ZSBkb24ndCBuZWVkIHRvIHRyaWdnZXIgYW5vdGhlciByZW5kZXIsXG4gICAgICAgICAgICAvLyBBbmQgd2UgZG9uJ3Qgd2FudCB0byB1cGRhdGUgc3RhdGUuaXNTY3JvbGxpbmcuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gX3RoaXMucHJvcHMuZGlyZWN0aW9uOyAvLyBUUklDS1kgQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBzY3JvbGxMZWZ0IHNob3VsZCBiZSBuZWdhdGl2ZSBmb3IgUlRMIGFsaWduZWQgZWxlbWVudHMuXG4gICAgICAgICAgLy8gVGhpcyBpcyBub3QgdGhlIGNhc2UgZm9yIGFsbCBicm93c2VycyB0aG91Z2ggKGUuZy4gQ2hyb21lIHJlcG9ydHMgdmFsdWVzIGFzIHBvc2l0aXZlLCBtZWFzdXJlZCByZWxhdGl2ZSB0byB0aGUgbGVmdCkuXG4gICAgICAgICAgLy8gSXQncyBhbHNvIGVhc2llciBmb3IgdGhpcyBjb21wb25lbnQgaWYgd2UgY29udmVydCBvZmZzZXRzIHRvIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGV5IHdvdWxkIGJlIGluIGZvciBsdHIuXG4gICAgICAgICAgLy8gU28gdGhlIHNpbXBsZXN0IHNvbHV0aW9uIGlzIHRvIGRldGVybWluZSB3aGljaCBicm93c2VyIGJlaGF2aW9yIHdlJ3JlIGRlYWxpbmcgd2l0aCwgYW5kIGNvbnZlcnQgYmFzZWQgb24gaXQuXG5cbiAgICAgICAgICB2YXIgY2FsY3VsYXRlZFNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZ2V0UlRMT2Zmc2V0VHlwZSgpKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ25lZ2F0aXZlJzpcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGVkU2Nyb2xsTGVmdCA9IC1zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aXZlLWRlc2NlbmRpbmcnOlxuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZWRTY3JvbGxMZWZ0ID0gc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aCAtIHNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBQcmV2ZW50IFNhZmFyaSdzIGVsYXN0aWMgc2Nyb2xsaW5nIGZyb20gY2F1c2luZyB2aXN1YWwgc2hha2luZyB3aGVuIHNjcm9sbGluZyBwYXN0IGJvdW5kcy5cblxuXG4gICAgICAgICAgY2FsY3VsYXRlZFNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjYWxjdWxhdGVkU2Nyb2xsTGVmdCwgc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aCkpO1xuICAgICAgICAgIHZhciBjYWxjdWxhdGVkU2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQgLSBjbGllbnRIZWlnaHQpKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uOiBwcmV2U3RhdGUuc2Nyb2xsTGVmdCA8IHNjcm9sbExlZnQgPyAnZm9yd2FyZCcgOiAnYmFja3dhcmQnLFxuICAgICAgICAgICAgc2Nyb2xsTGVmdDogY2FsY3VsYXRlZFNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxUb3A6IGNhbGN1bGF0ZWRTY3JvbGxUb3AsXG4gICAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbjogcHJldlN0YXRlLnNjcm9sbFRvcCA8IHNjcm9sbFRvcCA/ICdmb3J3YXJkJyA6ICdiYWNrd2FyZCcsXG4gICAgICAgICAgICBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdEZWJvdW5jZWQpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX291dGVyUmVmU2V0dGVyID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgICB2YXIgb3V0ZXJSZWYgPSBfdGhpcy5wcm9wcy5vdXRlclJlZjtcbiAgICAgICAgX3RoaXMuX291dGVyUmVmID0gcmVmO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3V0ZXJSZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvdXRlclJlZihyZWYpO1xuICAgICAgICB9IGVsc2UgaWYgKG91dGVyUmVmICE9IG51bGwgJiYgdHlwZW9mIG91dGVyUmVmID09PSAnb2JqZWN0JyAmJiBvdXRlclJlZi5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpKSB7XG4gICAgICAgICAgb3V0ZXJSZWYuY3VycmVudCA9IHJlZjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdEZWJvdW5jZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNhbmNlbFRpbWVvdXQoX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQgPSByZXF1ZXN0VGltZW91dChfdGhpcy5fcmVzZXRJc1Njcm9sbGluZywgSVNfU0NST0xMSU5HX0RFQk9VTkNFX0lOVEVSVkFMKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLl9yZXNldElzU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCA9IG51bGw7XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzU2Nyb2xsaW5nOiBmYWxzZVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gQ2xlYXIgc3R5bGUgY2FjaGUgYWZ0ZXIgc3RhdGUgdXBkYXRlIGhhcyBiZWVuIGNvbW1pdHRlZC5cbiAgICAgICAgICAvLyBUaGlzIHdheSB3ZSBkb24ndCBicmVhayBwdXJlIHNDVSBmb3IgaXRlbXMgdGhhdCBkb24ndCB1c2UgaXNTY3JvbGxpbmcgcGFyYW0uXG4gICAgICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlKC0xKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgR3JpZC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhbGlkYXRlU2hhcmVkUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgdmFsaWRhdGVQcm9wcyhuZXh0UHJvcHMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBfcHJvdG8gPSBHcmlkLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5zY3JvbGxUbyA9IGZ1bmN0aW9uIHNjcm9sbFRvKF9yZWYzKSB7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IF9yZWYzLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjMuc2Nyb2xsVG9wO1xuXG4gICAgICBpZiAoc2Nyb2xsTGVmdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBzY3JvbGxMZWZ0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbFRvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIHNjcm9sbFRvcCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAoc2Nyb2xsTGVmdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IHByZXZTdGF0ZS5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjcm9sbFRvcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2Nyb2xsVG9wID0gcHJldlN0YXRlLnNjcm9sbFRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcmV2U3RhdGUuc2Nyb2xsTGVmdCA9PT0gc2Nyb2xsTGVmdCAmJiBwcmV2U3RhdGUuc2Nyb2xsVG9wID09PSBzY3JvbGxUb3ApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbjogcHJldlN0YXRlLnNjcm9sbExlZnQgPCBzY3JvbGxMZWZ0ID8gJ2ZvcndhcmQnIDogJ2JhY2t3YXJkJyxcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wLFxuICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogdHJ1ZSxcbiAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbjogcHJldlN0YXRlLnNjcm9sbFRvcCA8IHNjcm9sbFRvcCA/ICdmb3J3YXJkJyA6ICdiYWNrd2FyZCdcbiAgICAgICAgfTtcbiAgICAgIH0sIHRoaXMuX3Jlc2V0SXNTY3JvbGxpbmdEZWJvdW5jZWQpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uc2Nyb2xsVG9JdGVtID0gZnVuY3Rpb24gc2Nyb2xsVG9JdGVtKF9yZWY0KSB7XG4gICAgICB2YXIgX3JlZjQkYWxpZ24gPSBfcmVmNC5hbGlnbixcbiAgICAgICAgICBhbGlnbiA9IF9yZWY0JGFsaWduID09PSB2b2lkIDAgPyAnYXV0bycgOiBfcmVmNCRhbGlnbixcbiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWY0LmNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjQucm93SW5kZXg7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF90aGlzJHByb3BzMi5jb2x1bW5Db3VudCxcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wczIuaGVpZ2h0LFxuICAgICAgICAgIHJvd0NvdW50ID0gX3RoaXMkcHJvcHMyLnJvd0NvdW50LFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHMyLndpZHRoO1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkc3RhdGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZS5zY3JvbGxUb3A7XG4gICAgICB2YXIgc2Nyb2xsYmFyU2l6ZSA9IGdldFNjcm9sbGJhclNpemUoKTtcblxuICAgICAgaWYgKGNvbHVtbkluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29sdW1uSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihjb2x1bW5JbmRleCwgY29sdW1uQ291bnQgLSAxKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3dJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJvd0luZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocm93SW5kZXgsIHJvd0NvdW50IC0gMSkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXN0aW1hdGVkVG90YWxIZWlnaHQgPSBnZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCh0aGlzLnByb3BzLCB0aGlzLl9pbnN0YW5jZVByb3BzKTtcbiAgICAgIHZhciBlc3RpbWF0ZWRUb3RhbFdpZHRoID0gZ2V0RXN0aW1hdGVkVG90YWxXaWR0aCh0aGlzLnByb3BzLCB0aGlzLl9pbnN0YW5jZVByb3BzKTsgLy8gVGhlIHNjcm9sbGJhciBzaXplIHNob3VsZCBiZSBjb25zaWRlcmVkIHdoZW4gc2Nyb2xsaW5nIGFuIGl0ZW0gaW50byB2aWV3LFxuICAgICAgLy8gdG8gZW5zdXJlIGl0J3MgZnVsbHkgdmlzaWJsZS5cbiAgICAgIC8vIEJ1dCB3ZSBvbmx5IG5lZWQgdG8gYWNjb3VudCBmb3IgaXRzIHNpemUgd2hlbiBpdCdzIGFjdHVhbGx5IHZpc2libGUuXG5cbiAgICAgIHZhciBob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZSA9IGVzdGltYXRlZFRvdGFsV2lkdGggPiB3aWR0aCA/IHNjcm9sbGJhclNpemUgOiAwO1xuICAgICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyU2l6ZSA9IGVzdGltYXRlZFRvdGFsSGVpZ2h0ID4gaGVpZ2h0ID8gc2Nyb2xsYmFyU2l6ZSA6IDA7XG4gICAgICB0aGlzLnNjcm9sbFRvKHtcbiAgICAgICAgc2Nyb2xsTGVmdDogY29sdW1uSW5kZXggIT09IHVuZGVmaW5lZCA/IGdldE9mZnNldEZvckNvbHVtbkFuZEFsaWdubWVudCh0aGlzLnByb3BzLCBjb2x1bW5JbmRleCwgYWxpZ24sIHNjcm9sbExlZnQsIHRoaXMuX2luc3RhbmNlUHJvcHMsIHZlcnRpY2FsU2Nyb2xsYmFyU2l6ZSkgOiBzY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3A6IHJvd0luZGV4ICE9PSB1bmRlZmluZWQgPyBnZXRPZmZzZXRGb3JSb3dBbmRBbGlnbm1lbnQodGhpcy5wcm9wcywgcm93SW5kZXgsIGFsaWduLCBzY3JvbGxUb3AsIHRoaXMuX2luc3RhbmNlUHJvcHMsIGhvcml6b250YWxTY3JvbGxiYXJTaXplKSA6IHNjcm9sbFRvcFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaW5pdGlhbFNjcm9sbExlZnQgPSBfdGhpcyRwcm9wczMuaW5pdGlhbFNjcm9sbExlZnQsXG4gICAgICAgICAgaW5pdGlhbFNjcm9sbFRvcCA9IF90aGlzJHByb3BzMy5pbml0aWFsU2Nyb2xsVG9wO1xuXG4gICAgICBpZiAodGhpcy5fb3V0ZXJSZWYgIT0gbnVsbCkge1xuICAgICAgICB2YXIgb3V0ZXJSZWYgPSB0aGlzLl9vdXRlclJlZjtcblxuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWxTY3JvbGxMZWZ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG91dGVyUmVmLnNjcm9sbExlZnQgPSBpbml0aWFsU2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5pdGlhbFNjcm9sbFRvcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBvdXRlclJlZi5zY3JvbGxUb3AgPSBpbml0aWFsU2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NhbGxQcm9wc0NhbGxiYWNrcygpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMucHJvcHMuZGlyZWN0aW9uO1xuICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF90aGlzJHN0YXRlMi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJHN0YXRlMi5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkID0gX3RoaXMkc3RhdGUyLnNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDtcblxuICAgICAgaWYgKHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCAmJiB0aGlzLl9vdXRlclJlZiAhPSBudWxsKSB7XG4gICAgICAgIC8vIFRSSUNLWSBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHNjcm9sbExlZnQgc2hvdWxkIGJlIG5lZ2F0aXZlIGZvciBSVEwgYWxpZ25lZCBlbGVtZW50cy5cbiAgICAgICAgLy8gVGhpcyBpcyBub3QgdGhlIGNhc2UgZm9yIGFsbCBicm93c2VycyB0aG91Z2ggKGUuZy4gQ2hyb21lIHJlcG9ydHMgdmFsdWVzIGFzIHBvc2l0aXZlLCBtZWFzdXJlZCByZWxhdGl2ZSB0byB0aGUgbGVmdCkuXG4gICAgICAgIC8vIFNvIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGJyb3dzZXIgYmVoYXZpb3Igd2UncmUgZGVhbGluZyB3aXRoLCBhbmQgbWltaWMgaXQuXG4gICAgICAgIHZhciBvdXRlclJlZiA9IHRoaXMuX291dGVyUmVmO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgc3dpdGNoIChnZXRSVExPZmZzZXRUeXBlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ25lZ2F0aXZlJzpcbiAgICAgICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IC1zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAncG9zaXRpdmUtYXNjZW5kaW5nJzpcbiAgICAgICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB2YXIgY2xpZW50V2lkdGggPSBvdXRlclJlZi5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gb3V0ZXJSZWYuc2Nyb2xsV2lkdGg7XG4gICAgICAgICAgICAgIG91dGVyUmVmLnNjcm9sbExlZnQgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoIC0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dGVyUmVmLnNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCBzY3JvbGxMZWZ0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dGVyUmVmLnNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIHNjcm9sbFRvcCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NhbGxQcm9wc0NhbGxiYWNrcygpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkICE9PSBudWxsKSB7XG4gICAgICAgIGNhbmNlbFRpbWVvdXQodGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzNC5jaGlsZHJlbixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wczQuY2xhc3NOYW1lLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHM0LmNvbHVtbkNvdW50LFxuICAgICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzNC5kaXJlY3Rpb24sXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHM0LmhlaWdodCxcbiAgICAgICAgICBpbm5lclJlZiA9IF90aGlzJHByb3BzNC5pbm5lclJlZixcbiAgICAgICAgICBpbm5lckVsZW1lbnRUeXBlID0gX3RoaXMkcHJvcHM0LmlubmVyRWxlbWVudFR5cGUsXG4gICAgICAgICAgaW5uZXJUYWdOYW1lID0gX3RoaXMkcHJvcHM0LmlubmVyVGFnTmFtZSxcbiAgICAgICAgICBpdGVtRGF0YSA9IF90aGlzJHByb3BzNC5pdGVtRGF0YSxcbiAgICAgICAgICBfdGhpcyRwcm9wczQkaXRlbUtleSA9IF90aGlzJHByb3BzNC5pdGVtS2V5LFxuICAgICAgICAgIGl0ZW1LZXkgPSBfdGhpcyRwcm9wczQkaXRlbUtleSA9PT0gdm9pZCAwID8gZGVmYXVsdEl0ZW1LZXkgOiBfdGhpcyRwcm9wczQkaXRlbUtleSxcbiAgICAgICAgICBvdXRlckVsZW1lbnRUeXBlID0gX3RoaXMkcHJvcHM0Lm91dGVyRWxlbWVudFR5cGUsXG4gICAgICAgICAgb3V0ZXJUYWdOYW1lID0gX3RoaXMkcHJvcHM0Lm91dGVyVGFnTmFtZSxcbiAgICAgICAgICByb3dDb3VudCA9IF90aGlzJHByb3BzNC5yb3dDb3VudCxcbiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzNC5zdHlsZSxcbiAgICAgICAgICB1c2VJc1Njcm9sbGluZyA9IF90aGlzJHByb3BzNC51c2VJc1Njcm9sbGluZyxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzNC53aWR0aDtcbiAgICAgIHZhciBpc1Njcm9sbGluZyA9IHRoaXMuc3RhdGUuaXNTY3JvbGxpbmc7XG5cbiAgICAgIHZhciBfdGhpcyRfZ2V0SG9yaXpvbnRhbFIgPSB0aGlzLl9nZXRIb3Jpem9udGFsUmFuZ2VUb1JlbmRlcigpLFxuICAgICAgICAgIGNvbHVtblN0YXJ0SW5kZXggPSBfdGhpcyRfZ2V0SG9yaXpvbnRhbFJbMF0sXG4gICAgICAgICAgY29sdW1uU3RvcEluZGV4ID0gX3RoaXMkX2dldEhvcml6b250YWxSWzFdO1xuXG4gICAgICB2YXIgX3RoaXMkX2dldFZlcnRpY2FsUmFuID0gdGhpcy5fZ2V0VmVydGljYWxSYW5nZVRvUmVuZGVyKCksXG4gICAgICAgICAgcm93U3RhcnRJbmRleCA9IF90aGlzJF9nZXRWZXJ0aWNhbFJhblswXSxcbiAgICAgICAgICByb3dTdG9wSW5kZXggPSBfdGhpcyRfZ2V0VmVydGljYWxSYW5bMV07XG5cbiAgICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgICBpZiAoY29sdW1uQ291bnQgPiAwICYmIHJvd0NvdW50KSB7XG4gICAgICAgIGZvciAodmFyIF9yb3dJbmRleCA9IHJvd1N0YXJ0SW5kZXg7IF9yb3dJbmRleCA8PSByb3dTdG9wSW5kZXg7IF9yb3dJbmRleCsrKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2NvbHVtbkluZGV4ID0gY29sdW1uU3RhcnRJbmRleDsgX2NvbHVtbkluZGV4IDw9IGNvbHVtblN0b3BJbmRleDsgX2NvbHVtbkluZGV4KyspIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goY3JlYXRlRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICBjb2x1bW5JbmRleDogX2NvbHVtbkluZGV4LFxuICAgICAgICAgICAgICBkYXRhOiBpdGVtRGF0YSxcbiAgICAgICAgICAgICAgaXNTY3JvbGxpbmc6IHVzZUlzU2Nyb2xsaW5nID8gaXNTY3JvbGxpbmcgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIGtleTogaXRlbUtleSh7XG4gICAgICAgICAgICAgICAgY29sdW1uSW5kZXg6IF9jb2x1bW5JbmRleCxcbiAgICAgICAgICAgICAgICBkYXRhOiBpdGVtRGF0YSxcbiAgICAgICAgICAgICAgICByb3dJbmRleDogX3Jvd0luZGV4XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICByb3dJbmRleDogX3Jvd0luZGV4LFxuICAgICAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0SXRlbVN0eWxlKF9yb3dJbmRleCwgX2NvbHVtbkluZGV4KVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBSZWFkIHRoaXMgdmFsdWUgQUZURVIgaXRlbXMgaGF2ZSBiZWVuIGNyZWF0ZWQsXG4gICAgICAvLyBTbyB0aGVpciBhY3R1YWwgc2l6ZXMgKGlmIHZhcmlhYmxlKSBhcmUgdGFrZW4gaW50byBjb25zaWRlcmF0aW9uLlxuXG5cbiAgICAgIHZhciBlc3RpbWF0ZWRUb3RhbEhlaWdodCA9IGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0KHRoaXMucHJvcHMsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgdmFyIGVzdGltYXRlZFRvdGFsV2lkdGggPSBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoKHRoaXMucHJvcHMsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQob3V0ZXJFbGVtZW50VHlwZSB8fCBvdXRlclRhZ05hbWUgfHwgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgICAgcmVmOiB0aGlzLl9vdXRlclJlZlNldHRlcixcbiAgICAgICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJyxcbiAgICAgICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9LCBzdHlsZSlcbiAgICAgIH0sIGNyZWF0ZUVsZW1lbnQoaW5uZXJFbGVtZW50VHlwZSB8fCBpbm5lclRhZ05hbWUgfHwgJ2RpdicsIHtcbiAgICAgICAgY2hpbGRyZW46IGl0ZW1zLFxuICAgICAgICByZWY6IGlubmVyUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogZXN0aW1hdGVkVG90YWxIZWlnaHQsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogaXNTY3JvbGxpbmcgPyAnbm9uZScgOiB1bmRlZmluZWQsXG4gICAgICAgICAgd2lkdGg6IGVzdGltYXRlZFRvdGFsV2lkdGhcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NhbGxQcm9wc0NhbGxiYWNrcyA9IGZ1bmN0aW9uIF9jYWxsUHJvcHNDYWxsYmFja3MoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF90aGlzJHByb3BzNS5jb2x1bW5Db3VudCxcbiAgICAgICAgICBvbkl0ZW1zUmVuZGVyZWQgPSBfdGhpcyRwcm9wczUub25JdGVtc1JlbmRlcmVkLFxuICAgICAgICAgIG9uU2Nyb2xsID0gX3RoaXMkcHJvcHM1Lm9uU2Nyb2xsLFxuICAgICAgICAgIHJvd0NvdW50ID0gX3RoaXMkcHJvcHM1LnJvd0NvdW50O1xuXG4gICAgICBpZiAodHlwZW9mIG9uSXRlbXNSZW5kZXJlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoY29sdW1uQ291bnQgPiAwICYmIHJvd0NvdW50ID4gMCkge1xuICAgICAgICAgIHZhciBfdGhpcyRfZ2V0SG9yaXpvbnRhbFIyID0gdGhpcy5fZ2V0SG9yaXpvbnRhbFJhbmdlVG9SZW5kZXIoKSxcbiAgICAgICAgICAgICAgX292ZXJzY2FuQ29sdW1uU3RhcnRJbmRleCA9IF90aGlzJF9nZXRIb3Jpem9udGFsUjJbMF0sXG4gICAgICAgICAgICAgIF9vdmVyc2NhbkNvbHVtblN0b3BJbmRleCA9IF90aGlzJF9nZXRIb3Jpem9udGFsUjJbMV0sXG4gICAgICAgICAgICAgIF92aXNpYmxlQ29sdW1uU3RhcnRJbmRleCA9IF90aGlzJF9nZXRIb3Jpem9udGFsUjJbMl0sXG4gICAgICAgICAgICAgIF92aXNpYmxlQ29sdW1uU3RvcEluZGV4ID0gX3RoaXMkX2dldEhvcml6b250YWxSMlszXTtcblxuICAgICAgICAgIHZhciBfdGhpcyRfZ2V0VmVydGljYWxSYW4yID0gdGhpcy5fZ2V0VmVydGljYWxSYW5nZVRvUmVuZGVyKCksXG4gICAgICAgICAgICAgIF9vdmVyc2NhblJvd1N0YXJ0SW5kZXggPSBfdGhpcyRfZ2V0VmVydGljYWxSYW4yWzBdLFxuICAgICAgICAgICAgICBfb3ZlcnNjYW5Sb3dTdG9wSW5kZXggPSBfdGhpcyRfZ2V0VmVydGljYWxSYW4yWzFdLFxuICAgICAgICAgICAgICBfdmlzaWJsZVJvd1N0YXJ0SW5kZXggPSBfdGhpcyRfZ2V0VmVydGljYWxSYW4yWzJdLFxuICAgICAgICAgICAgICBfdmlzaWJsZVJvd1N0b3BJbmRleCA9IF90aGlzJF9nZXRWZXJ0aWNhbFJhbjJbM107XG5cbiAgICAgICAgICB0aGlzLl9jYWxsT25JdGVtc1JlbmRlcmVkKF9vdmVyc2NhbkNvbHVtblN0YXJ0SW5kZXgsIF9vdmVyc2NhbkNvbHVtblN0b3BJbmRleCwgX292ZXJzY2FuUm93U3RhcnRJbmRleCwgX292ZXJzY2FuUm93U3RvcEluZGV4LCBfdmlzaWJsZUNvbHVtblN0YXJ0SW5kZXgsIF92aXNpYmxlQ29sdW1uU3RvcEluZGV4LCBfdmlzaWJsZVJvd1N0YXJ0SW5kZXgsIF92aXNpYmxlUm93U3RvcEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG9uU2Nyb2xsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBfdGhpcyRzdGF0ZTMgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgX2hvcml6b250YWxTY3JvbGxEaXJlY3Rpb24gPSBfdGhpcyRzdGF0ZTMuaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgICAgIF9zY3JvbGxMZWZ0ID0gX3RoaXMkc3RhdGUzLnNjcm9sbExlZnQsXG4gICAgICAgICAgICBfc2Nyb2xsVG9wID0gX3RoaXMkc3RhdGUzLnNjcm9sbFRvcCxcbiAgICAgICAgICAgIF9zY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQgPSBfdGhpcyRzdGF0ZTMuc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkLFxuICAgICAgICAgICAgX3ZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uID0gX3RoaXMkc3RhdGUzLnZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uO1xuXG4gICAgICAgIHRoaXMuX2NhbGxPblNjcm9sbChfc2Nyb2xsTGVmdCwgX3Njcm9sbFRvcCwgX2hvcml6b250YWxTY3JvbGxEaXJlY3Rpb24sIF92ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbiwgX3Njcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCk7XG4gICAgICB9XG4gICAgfTsgLy8gTGF6aWx5IGNyZWF0ZSBhbmQgY2FjaGUgaXRlbSBzdHlsZXMgd2hpbGUgc2Nyb2xsaW5nLFxuICAgIC8vIFNvIHRoYXQgcHVyZSBjb21wb25lbnQgc0NVIHdpbGwgcHJldmVudCByZS1yZW5kZXJzLlxuICAgIC8vIFdlIG1haW50YWluIHRoaXMgY2FjaGUsIGFuZCBwYXNzIGEgc3R5bGUgcHJvcCByYXRoZXIgdGhhbiBpbmRleCxcbiAgICAvLyBTbyB0aGF0IExpc3QgY2FuIGNsZWFyIGNhY2hlZCBzdHlsZXMgYW5kIGZvcmNlIGl0ZW0gcmUtcmVuZGVyIGlmIG5lY2Vzc2FyeS5cblxuXG4gICAgX3Byb3RvLl9nZXRIb3Jpem9udGFsUmFuZ2VUb1JlbmRlciA9IGZ1bmN0aW9uIF9nZXRIb3Jpem9udGFsUmFuZ2VUb1JlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHM2LmNvbHVtbkNvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczYub3ZlcnNjYW5Db2x1bW5Db3VudCxcbiAgICAgICAgICBvdmVyc2NhbkNvbHVtbnNDb3VudCA9IF90aGlzJHByb3BzNi5vdmVyc2NhbkNvbHVtbnNDb3VudCxcbiAgICAgICAgICBvdmVyc2NhbkNvdW50ID0gX3RoaXMkcHJvcHM2Lm92ZXJzY2FuQ291bnQsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wczYucm93Q291bnQ7XG4gICAgICB2YXIgX3RoaXMkc3RhdGU0ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uID0gX3RoaXMkc3RhdGU0Lmhvcml6b250YWxTY3JvbGxEaXJlY3Rpb24sXG4gICAgICAgICAgaXNTY3JvbGxpbmcgPSBfdGhpcyRzdGF0ZTQuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF90aGlzJHN0YXRlNC5zY3JvbGxMZWZ0O1xuICAgICAgdmFyIG92ZXJzY2FuQ291bnRSZXNvbHZlZCA9IG92ZXJzY2FuQ29sdW1uQ291bnQgfHwgb3ZlcnNjYW5Db2x1bW5zQ291bnQgfHwgb3ZlcnNjYW5Db3VudCB8fCAxO1xuXG4gICAgICBpZiAoY29sdW1uQ291bnQgPT09IDAgfHwgcm93Q291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFswLCAwLCAwLCAwXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0SW5kZXggPSBnZXRDb2x1bW5TdGFydEluZGV4Rm9yT2Zmc2V0KHRoaXMucHJvcHMsIHNjcm9sbExlZnQsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgdmFyIHN0b3BJbmRleCA9IGdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXgodGhpcy5wcm9wcywgc3RhcnRJbmRleCwgc2Nyb2xsTGVmdCwgdGhpcy5faW5zdGFuY2VQcm9wcyk7IC8vIE92ZXJzY2FuIGJ5IG9uZSBpdGVtIGluIGVhY2ggZGlyZWN0aW9uIHNvIHRoYXQgdGFiL2ZvY3VzIHdvcmtzLlxuICAgICAgLy8gSWYgdGhlcmUgaXNuJ3QgYXQgbGVhc3Qgb25lIGV4dHJhIGl0ZW0sIHRhYiBsb29wcyBiYWNrIGFyb3VuZC5cblxuICAgICAgdmFyIG92ZXJzY2FuQmFja3dhcmQgPSAhaXNTY3JvbGxpbmcgfHwgaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbiA9PT0gJ2JhY2t3YXJkJyA/IE1hdGgubWF4KDEsIG92ZXJzY2FuQ291bnRSZXNvbHZlZCkgOiAxO1xuICAgICAgdmFyIG92ZXJzY2FuRm9yd2FyZCA9ICFpc1Njcm9sbGluZyB8fCBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uID09PSAnZm9yd2FyZCcgPyBNYXRoLm1heCgxLCBvdmVyc2NhbkNvdW50UmVzb2x2ZWQpIDogMTtcbiAgICAgIHJldHVybiBbTWF0aC5tYXgoMCwgc3RhcnRJbmRleCAtIG92ZXJzY2FuQmFja3dhcmQpLCBNYXRoLm1heCgwLCBNYXRoLm1pbihjb2x1bW5Db3VudCAtIDEsIHN0b3BJbmRleCArIG92ZXJzY2FuRm9yd2FyZCkpLCBzdGFydEluZGV4LCBzdG9wSW5kZXhdO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2dldFZlcnRpY2FsUmFuZ2VUb1JlbmRlciA9IGZ1bmN0aW9uIF9nZXRWZXJ0aWNhbFJhbmdlVG9SZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF90aGlzJHByb3BzNy5jb2x1bW5Db3VudCxcbiAgICAgICAgICBvdmVyc2NhbkNvdW50ID0gX3RoaXMkcHJvcHM3Lm92ZXJzY2FuQ291bnQsXG4gICAgICAgICAgb3ZlcnNjYW5Sb3dDb3VudCA9IF90aGlzJHByb3BzNy5vdmVyc2NhblJvd0NvdW50LFxuICAgICAgICAgIG92ZXJzY2FuUm93c0NvdW50ID0gX3RoaXMkcHJvcHM3Lm92ZXJzY2FuUm93c0NvdW50LFxuICAgICAgICAgIHJvd0NvdW50ID0gX3RoaXMkcHJvcHM3LnJvd0NvdW50O1xuICAgICAgdmFyIF90aGlzJHN0YXRlNSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaXNTY3JvbGxpbmcgPSBfdGhpcyRzdGF0ZTUuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgdmVydGljYWxTY3JvbGxEaXJlY3Rpb24gPSBfdGhpcyRzdGF0ZTUudmVydGljYWxTY3JvbGxEaXJlY3Rpb24sXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkc3RhdGU1LnNjcm9sbFRvcDtcbiAgICAgIHZhciBvdmVyc2NhbkNvdW50UmVzb2x2ZWQgPSBvdmVyc2NhblJvd0NvdW50IHx8IG92ZXJzY2FuUm93c0NvdW50IHx8IG92ZXJzY2FuQ291bnQgfHwgMTtcblxuICAgICAgaWYgKGNvbHVtbkNvdW50ID09PSAwIHx8IHJvd0NvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbMCwgMCwgMCwgMF07XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydEluZGV4ID0gZ2V0Um93U3RhcnRJbmRleEZvck9mZnNldCh0aGlzLnByb3BzLCBzY3JvbGxUb3AsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgdmFyIHN0b3BJbmRleCA9IGdldFJvd1N0b3BJbmRleEZvclN0YXJ0SW5kZXgodGhpcy5wcm9wcywgc3RhcnRJbmRleCwgc2Nyb2xsVG9wLCB0aGlzLl9pbnN0YW5jZVByb3BzKTsgLy8gT3ZlcnNjYW4gYnkgb25lIGl0ZW0gaW4gZWFjaCBkaXJlY3Rpb24gc28gdGhhdCB0YWIvZm9jdXMgd29ya3MuXG4gICAgICAvLyBJZiB0aGVyZSBpc24ndCBhdCBsZWFzdCBvbmUgZXh0cmEgaXRlbSwgdGFiIGxvb3BzIGJhY2sgYXJvdW5kLlxuXG4gICAgICB2YXIgb3ZlcnNjYW5CYWNrd2FyZCA9ICFpc1Njcm9sbGluZyB8fCB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbiA9PT0gJ2JhY2t3YXJkJyA/IE1hdGgubWF4KDEsIG92ZXJzY2FuQ291bnRSZXNvbHZlZCkgOiAxO1xuICAgICAgdmFyIG92ZXJzY2FuRm9yd2FyZCA9ICFpc1Njcm9sbGluZyB8fCB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnID8gTWF0aC5tYXgoMSwgb3ZlcnNjYW5Db3VudFJlc29sdmVkKSA6IDE7XG4gICAgICByZXR1cm4gW01hdGgubWF4KDAsIHN0YXJ0SW5kZXggLSBvdmVyc2NhbkJhY2t3YXJkKSwgTWF0aC5tYXgoMCwgTWF0aC5taW4ocm93Q291bnQgLSAxLCBzdG9wSW5kZXggKyBvdmVyc2NhbkZvcndhcmQpKSwgc3RhcnRJbmRleCwgc3RvcEluZGV4XTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyaWQ7XG4gIH0oUHVyZUNvbXBvbmVudCksIF9jbGFzcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlyZWN0aW9uOiAnbHRyJyxcbiAgICBpdGVtRGF0YTogdW5kZWZpbmVkLFxuICAgIHVzZUlzU2Nyb2xsaW5nOiBmYWxzZVxuICB9LCBfdGVtcDtcbn1cblxudmFyIHZhbGlkYXRlU2hhcmVkUHJvcHMgPSBmdW5jdGlvbiB2YWxpZGF0ZVNoYXJlZFByb3BzKF9yZWY1LCBfcmVmNikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmNS5jaGlsZHJlbixcbiAgICAgIGRpcmVjdGlvbiA9IF9yZWY1LmRpcmVjdGlvbixcbiAgICAgIGhlaWdodCA9IF9yZWY1LmhlaWdodCxcbiAgICAgIGlubmVyVGFnTmFtZSA9IF9yZWY1LmlubmVyVGFnTmFtZSxcbiAgICAgIG91dGVyVGFnTmFtZSA9IF9yZWY1Lm91dGVyVGFnTmFtZSxcbiAgICAgIG92ZXJzY2FuQ29sdW1uc0NvdW50ID0gX3JlZjUub3ZlcnNjYW5Db2x1bW5zQ291bnQsXG4gICAgICBvdmVyc2NhbkNvdW50ID0gX3JlZjUub3ZlcnNjYW5Db3VudCxcbiAgICAgIG92ZXJzY2FuUm93c0NvdW50ID0gX3JlZjUub3ZlcnNjYW5Sb3dzQ291bnQsXG4gICAgICB3aWR0aCA9IF9yZWY1LndpZHRoO1xuICB2YXIgaW5zdGFuY2UgPSBfcmVmNi5pbnN0YW5jZTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2Ygb3ZlcnNjYW5Db3VudCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChkZXZXYXJuaW5nc092ZXJzY2FuQ291bnQgJiYgIWRldldhcm5pbmdzT3ZlcnNjYW5Db3VudC5oYXMoaW5zdGFuY2UpKSB7XG4gICAgICAgIGRldldhcm5pbmdzT3ZlcnNjYW5Db3VudC5hZGQoaW5zdGFuY2UpO1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBvdmVyc2NhbkNvdW50IHByb3AgaGFzIGJlZW4gZGVwcmVjYXRlZC4gJyArICdQbGVhc2UgdXNlIHRoZSBvdmVyc2NhbkNvbHVtbkNvdW50IGFuZCBvdmVyc2NhblJvd0NvdW50IHByb3BzIGluc3RlYWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvdmVyc2NhbkNvbHVtbnNDb3VudCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG92ZXJzY2FuUm93c0NvdW50ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGRldldhcm5pbmdzT3ZlcnNjYW5Sb3dzQ29sdW1uc0NvdW50ICYmICFkZXZXYXJuaW5nc092ZXJzY2FuUm93c0NvbHVtbnNDb3VudC5oYXMoaW5zdGFuY2UpKSB7XG4gICAgICAgIGRldldhcm5pbmdzT3ZlcnNjYW5Sb3dzQ29sdW1uc0NvdW50LmFkZChpbnN0YW5jZSk7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIG92ZXJzY2FuQ29sdW1uc0NvdW50IGFuZCBvdmVyc2NhblJvd3NDb3VudCBwcm9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZC4gJyArICdQbGVhc2UgdXNlIHRoZSBvdmVyc2NhbkNvbHVtbkNvdW50IGFuZCBvdmVyc2NhblJvd0NvdW50IHByb3BzIGluc3RlYWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlubmVyVGFnTmFtZSAhPSBudWxsIHx8IG91dGVyVGFnTmFtZSAhPSBudWxsKSB7XG4gICAgICBpZiAoZGV2V2FybmluZ3NUYWdOYW1lICYmICFkZXZXYXJuaW5nc1RhZ05hbWUuaGFzKGluc3RhbmNlKSkge1xuICAgICAgICBkZXZXYXJuaW5nc1RhZ05hbWUuYWRkKGluc3RhbmNlKTtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgaW5uZXJUYWdOYW1lIGFuZCBvdXRlclRhZ05hbWUgcHJvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuICcgKyAnUGxlYXNlIHVzZSB0aGUgaW5uZXJFbGVtZW50VHlwZSBhbmQgb3V0ZXJFbGVtZW50VHlwZSBwcm9wcyBpbnN0ZWFkLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcImNoaWxkcmVuXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGEgUmVhY3QgY29tcG9uZW50LiAnICsgKFwiXFxcIlwiICsgKGNoaWxkcmVuID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGNoaWxkcmVuKSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2x0cic6XG4gICAgICBjYXNlICdydGwnOlxuICAgICAgICAvLyBWYWxpZCB2YWx1ZXNcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwiZGlyZWN0aW9uXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGVpdGhlciBcImx0clwiIG9yIFwicnRsXCIuICcgKyAoXCJcXFwiXCIgKyBkaXJlY3Rpb24gKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2lkdGggIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcIndpZHRoXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnR3JpZHMgbXVzdCBzcGVjaWZ5IGEgbnVtYmVyIGZvciB3aWR0aC4gJyArIChcIlxcXCJcIiArICh3aWR0aCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiB3aWR0aCkgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgaGVpZ2h0ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJoZWlnaHRcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdHcmlkcyBtdXN0IHNwZWNpZnkgYSBudW1iZXIgZm9yIGhlaWdodC4gJyArIChcIlxcXCJcIiArIChoZWlnaHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgaGVpZ2h0KSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgREVGQVVMVF9FU1RJTUFURURfSVRFTV9TSVpFID0gNTA7XG5cbnZhciBnZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCA9IGZ1bmN0aW9uIGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0KF9yZWYsIF9yZWYyKSB7XG4gIHZhciByb3dDb3VudCA9IF9yZWYucm93Q291bnQ7XG4gIHZhciByb3dNZXRhZGF0YU1hcCA9IF9yZWYyLnJvd01ldGFkYXRhTWFwLFxuICAgICAgZXN0aW1hdGVkUm93SGVpZ2h0ID0gX3JlZjIuZXN0aW1hdGVkUm93SGVpZ2h0LFxuICAgICAgbGFzdE1lYXN1cmVkUm93SW5kZXggPSBfcmVmMi5sYXN0TWVhc3VyZWRSb3dJbmRleDtcbiAgdmFyIHRvdGFsU2l6ZU9mTWVhc3VyZWRSb3dzID0gMDsgLy8gRWRnZSBjYXNlIGNoZWNrIGZvciB3aGVuIHRoZSBudW1iZXIgb2YgaXRlbXMgZGVjcmVhc2VzIHdoaWxlIGEgc2Nyb2xsIGlzIGluIHByb2dyZXNzLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnZhdWdobi9yZWFjdC13aW5kb3cvcHVsbC8xMzhcblxuICBpZiAobGFzdE1lYXN1cmVkUm93SW5kZXggPj0gcm93Q291bnQpIHtcbiAgICBsYXN0TWVhc3VyZWRSb3dJbmRleCA9IHJvd0NvdW50IC0gMTtcbiAgfVxuXG4gIGlmIChsYXN0TWVhc3VyZWRSb3dJbmRleCA+PSAwKSB7XG4gICAgdmFyIGl0ZW1NZXRhZGF0YSA9IHJvd01ldGFkYXRhTWFwW2xhc3RNZWFzdXJlZFJvd0luZGV4XTtcbiAgICB0b3RhbFNpemVPZk1lYXN1cmVkUm93cyA9IGl0ZW1NZXRhZGF0YS5vZmZzZXQgKyBpdGVtTWV0YWRhdGEuc2l6ZTtcbiAgfVxuXG4gIHZhciBudW1Vbm1lYXN1cmVkSXRlbXMgPSByb3dDb3VudCAtIGxhc3RNZWFzdXJlZFJvd0luZGV4IC0gMTtcbiAgdmFyIHRvdGFsU2l6ZU9mVW5tZWFzdXJlZEl0ZW1zID0gbnVtVW5tZWFzdXJlZEl0ZW1zICogZXN0aW1hdGVkUm93SGVpZ2h0O1xuICByZXR1cm4gdG90YWxTaXplT2ZNZWFzdXJlZFJvd3MgKyB0b3RhbFNpemVPZlVubWVhc3VyZWRJdGVtcztcbn07XG5cbnZhciBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoID0gZnVuY3Rpb24gZ2V0RXN0aW1hdGVkVG90YWxXaWR0aChfcmVmMywgX3JlZjQpIHtcbiAgdmFyIGNvbHVtbkNvdW50ID0gX3JlZjMuY29sdW1uQ291bnQ7XG4gIHZhciBjb2x1bW5NZXRhZGF0YU1hcCA9IF9yZWY0LmNvbHVtbk1ldGFkYXRhTWFwLFxuICAgICAgZXN0aW1hdGVkQ29sdW1uV2lkdGggPSBfcmVmNC5lc3RpbWF0ZWRDb2x1bW5XaWR0aCxcbiAgICAgIGxhc3RNZWFzdXJlZENvbHVtbkluZGV4ID0gX3JlZjQubGFzdE1lYXN1cmVkQ29sdW1uSW5kZXg7XG4gIHZhciB0b3RhbFNpemVPZk1lYXN1cmVkUm93cyA9IDA7IC8vIEVkZ2UgY2FzZSBjaGVjayBmb3Igd2hlbiB0aGUgbnVtYmVyIG9mIGl0ZW1zIGRlY3JlYXNlcyB3aGlsZSBhIHNjcm9sbCBpcyBpbiBwcm9ncmVzcy5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2J2YXVnaG4vcmVhY3Qtd2luZG93L3B1bGwvMTM4XG5cbiAgaWYgKGxhc3RNZWFzdXJlZENvbHVtbkluZGV4ID49IGNvbHVtbkNvdW50KSB7XG4gICAgbGFzdE1lYXN1cmVkQ29sdW1uSW5kZXggPSBjb2x1bW5Db3VudCAtIDE7XG4gIH1cblxuICBpZiAobGFzdE1lYXN1cmVkQ29sdW1uSW5kZXggPj0gMCkge1xuICAgIHZhciBpdGVtTWV0YWRhdGEgPSBjb2x1bW5NZXRhZGF0YU1hcFtsYXN0TWVhc3VyZWRDb2x1bW5JbmRleF07XG4gICAgdG90YWxTaXplT2ZNZWFzdXJlZFJvd3MgPSBpdGVtTWV0YWRhdGEub2Zmc2V0ICsgaXRlbU1ldGFkYXRhLnNpemU7XG4gIH1cblxuICB2YXIgbnVtVW5tZWFzdXJlZEl0ZW1zID0gY29sdW1uQ291bnQgLSBsYXN0TWVhc3VyZWRDb2x1bW5JbmRleCAtIDE7XG4gIHZhciB0b3RhbFNpemVPZlVubWVhc3VyZWRJdGVtcyA9IG51bVVubWVhc3VyZWRJdGVtcyAqIGVzdGltYXRlZENvbHVtbldpZHRoO1xuICByZXR1cm4gdG90YWxTaXplT2ZNZWFzdXJlZFJvd3MgKyB0b3RhbFNpemVPZlVubWVhc3VyZWRJdGVtcztcbn07XG5cbnZhciBnZXRJdGVtTWV0YWRhdGEgPSBmdW5jdGlvbiBnZXRJdGVtTWV0YWRhdGEoaXRlbVR5cGUsIHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykge1xuICB2YXIgaXRlbU1ldGFkYXRhTWFwLCBpdGVtU2l6ZSwgbGFzdE1lYXN1cmVkSW5kZXg7XG5cbiAgaWYgKGl0ZW1UeXBlID09PSAnY29sdW1uJykge1xuICAgIGl0ZW1NZXRhZGF0YU1hcCA9IGluc3RhbmNlUHJvcHMuY29sdW1uTWV0YWRhdGFNYXA7XG4gICAgaXRlbVNpemUgPSBwcm9wcy5jb2x1bW5XaWR0aDtcbiAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkQ29sdW1uSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgaXRlbU1ldGFkYXRhTWFwID0gaW5zdGFuY2VQcm9wcy5yb3dNZXRhZGF0YU1hcDtcbiAgICBpdGVtU2l6ZSA9IHByb3BzLnJvd0hlaWdodDtcbiAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkUm93SW5kZXg7XG4gIH1cblxuICBpZiAoaW5kZXggPiBsYXN0TWVhc3VyZWRJbmRleCkge1xuICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgaWYgKGxhc3RNZWFzdXJlZEluZGV4ID49IDApIHtcbiAgICAgIHZhciBpdGVtTWV0YWRhdGEgPSBpdGVtTWV0YWRhdGFNYXBbbGFzdE1lYXN1cmVkSW5kZXhdO1xuICAgICAgb2Zmc2V0ID0gaXRlbU1ldGFkYXRhLm9mZnNldCArIGl0ZW1NZXRhZGF0YS5zaXplO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSBsYXN0TWVhc3VyZWRJbmRleCArIDE7IGkgPD0gaW5kZXg7IGkrKykge1xuICAgICAgdmFyIHNpemUgPSBpdGVtU2l6ZShpKTtcbiAgICAgIGl0ZW1NZXRhZGF0YU1hcFtpXSA9IHtcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIHNpemU6IHNpemVcbiAgICAgIH07XG4gICAgICBvZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbVR5cGUgPT09ICdjb2x1bW4nKSB7XG4gICAgICBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZENvbHVtbkluZGV4ID0gaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkUm93SW5kZXggPSBpbmRleDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXRlbU1ldGFkYXRhTWFwW2luZGV4XTtcbn07XG5cbnZhciBmaW5kTmVhcmVzdEl0ZW0gPSBmdW5jdGlvbiBmaW5kTmVhcmVzdEl0ZW0oaXRlbVR5cGUsIHByb3BzLCBpbnN0YW5jZVByb3BzLCBvZmZzZXQpIHtcbiAgdmFyIGl0ZW1NZXRhZGF0YU1hcCwgbGFzdE1lYXN1cmVkSW5kZXg7XG5cbiAgaWYgKGl0ZW1UeXBlID09PSAnY29sdW1uJykge1xuICAgIGl0ZW1NZXRhZGF0YU1hcCA9IGluc3RhbmNlUHJvcHMuY29sdW1uTWV0YWRhdGFNYXA7XG4gICAgbGFzdE1lYXN1cmVkSW5kZXggPSBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZENvbHVtbkluZGV4O1xuICB9IGVsc2Uge1xuICAgIGl0ZW1NZXRhZGF0YU1hcCA9IGluc3RhbmNlUHJvcHMucm93TWV0YWRhdGFNYXA7XG4gICAgbGFzdE1lYXN1cmVkSW5kZXggPSBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZFJvd0luZGV4O1xuICB9XG5cbiAgdmFyIGxhc3RNZWFzdXJlZEl0ZW1PZmZzZXQgPSBsYXN0TWVhc3VyZWRJbmRleCA+IDAgPyBpdGVtTWV0YWRhdGFNYXBbbGFzdE1lYXN1cmVkSW5kZXhdLm9mZnNldCA6IDA7XG5cbiAgaWYgKGxhc3RNZWFzdXJlZEl0ZW1PZmZzZXQgPj0gb2Zmc2V0KSB7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBtZWFzdXJlZCBpdGVtcyB3aXRoaW4gdGhpcyByYW5nZSBqdXN0IHVzZSBhIGJpbmFyeSBzZWFyY2ggYXMgaXQncyBmYXN0ZXIuXG4gICAgcmV0dXJuIGZpbmROZWFyZXN0SXRlbUJpbmFyeVNlYXJjaChpdGVtVHlwZSwgcHJvcHMsIGluc3RhbmNlUHJvcHMsIGxhc3RNZWFzdXJlZEluZGV4LCAwLCBvZmZzZXQpO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHdlIGhhdmVuJ3QgeWV0IG1lYXN1cmVkIHRoaXMgaGlnaCwgZmFsbGJhY2sgdG8gYW4gZXhwb25lbnRpYWwgc2VhcmNoIHdpdGggYW4gaW5uZXIgYmluYXJ5IHNlYXJjaC5cbiAgICAvLyBUaGUgZXhwb25lbnRpYWwgc2VhcmNoIGF2b2lkcyBwcmUtY29tcHV0aW5nIHNpemVzIGZvciB0aGUgZnVsbCBzZXQgb2YgaXRlbXMgYXMgYSBiaW5hcnkgc2VhcmNoIHdvdWxkLlxuICAgIC8vIFRoZSBvdmVyYWxsIGNvbXBsZXhpdHkgZm9yIHRoaXMgYXBwcm9hY2ggaXMgTyhsb2cgbikuXG4gICAgcmV0dXJuIGZpbmROZWFyZXN0SXRlbUV4cG9uZW50aWFsU2VhcmNoKGl0ZW1UeXBlLCBwcm9wcywgaW5zdGFuY2VQcm9wcywgTWF0aC5tYXgoMCwgbGFzdE1lYXN1cmVkSW5kZXgpLCBvZmZzZXQpO1xuICB9XG59O1xuXG52YXIgZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoID0gZnVuY3Rpb24gZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoKGl0ZW1UeXBlLCBwcm9wcywgaW5zdGFuY2VQcm9wcywgaGlnaCwgbG93LCBvZmZzZXQpIHtcbiAgd2hpbGUgKGxvdyA8PSBoaWdoKSB7XG4gICAgdmFyIG1pZGRsZSA9IGxvdyArIE1hdGguZmxvb3IoKGhpZ2ggLSBsb3cpIC8gMik7XG4gICAgdmFyIGN1cnJlbnRPZmZzZXQgPSBnZXRJdGVtTWV0YWRhdGEoaXRlbVR5cGUsIHByb3BzLCBtaWRkbGUsIGluc3RhbmNlUHJvcHMpLm9mZnNldDtcblxuICAgIGlmIChjdXJyZW50T2Zmc2V0ID09PSBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBtaWRkbGU7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50T2Zmc2V0IDwgb2Zmc2V0KSB7XG4gICAgICBsb3cgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudE9mZnNldCA+IG9mZnNldCkge1xuICAgICAgaGlnaCA9IG1pZGRsZSAtIDE7XG4gICAgfVxuICB9XG5cbiAgaWYgKGxvdyA+IDApIHtcbiAgICByZXR1cm4gbG93IC0gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxudmFyIGZpbmROZWFyZXN0SXRlbUV4cG9uZW50aWFsU2VhcmNoID0gZnVuY3Rpb24gZmluZE5lYXJlc3RJdGVtRXhwb25lbnRpYWxTZWFyY2goaXRlbVR5cGUsIHByb3BzLCBpbnN0YW5jZVByb3BzLCBpbmRleCwgb2Zmc2V0KSB7XG4gIHZhciBpdGVtQ291bnQgPSBpdGVtVHlwZSA9PT0gJ2NvbHVtbicgPyBwcm9wcy5jb2x1bW5Db3VudCA6IHByb3BzLnJvd0NvdW50O1xuICB2YXIgaW50ZXJ2YWwgPSAxO1xuXG4gIHdoaWxlIChpbmRleCA8IGl0ZW1Db3VudCAmJiBnZXRJdGVtTWV0YWRhdGEoaXRlbVR5cGUsIHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykub2Zmc2V0IDwgb2Zmc2V0KSB7XG4gICAgaW5kZXggKz0gaW50ZXJ2YWw7XG4gICAgaW50ZXJ2YWwgKj0gMjtcbiAgfVxuXG4gIHJldHVybiBmaW5kTmVhcmVzdEl0ZW1CaW5hcnlTZWFyY2goaXRlbVR5cGUsIHByb3BzLCBpbnN0YW5jZVByb3BzLCBNYXRoLm1pbihpbmRleCwgaXRlbUNvdW50IC0gMSksIE1hdGguZmxvb3IoaW5kZXggLyAyKSwgb2Zmc2V0KTtcbn07XG5cbnZhciBnZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudCA9IGZ1bmN0aW9uIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50KGl0ZW1UeXBlLCBwcm9wcywgaW5kZXgsIGFsaWduLCBzY3JvbGxPZmZzZXQsIGluc3RhbmNlUHJvcHMsIHNjcm9sbGJhclNpemUpIHtcbiAgdmFyIHNpemUgPSBpdGVtVHlwZSA9PT0gJ2NvbHVtbicgPyBwcm9wcy53aWR0aCA6IHByb3BzLmhlaWdodDtcbiAgdmFyIGl0ZW1NZXRhZGF0YSA9IGdldEl0ZW1NZXRhZGF0YShpdGVtVHlwZSwgcHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKTsgLy8gR2V0IGVzdGltYXRlZCB0b3RhbCBzaXplIGFmdGVyIEl0ZW1NZXRhZGF0YSBpcyBjb21wdXRlZCxcbiAgLy8gVG8gZW5zdXJlIGl0IHJlZmxlY3RzIGFjdHVhbCBtZWFzdXJlbWVudHMgaW5zdGVhZCBvZiBqdXN0IGVzdGltYXRlcy5cblxuICB2YXIgZXN0aW1hdGVkVG90YWxTaXplID0gaXRlbVR5cGUgPT09ICdjb2x1bW4nID8gZ2V0RXN0aW1hdGVkVG90YWxXaWR0aChwcm9wcywgaW5zdGFuY2VQcm9wcykgOiBnZXRFc3RpbWF0ZWRUb3RhbEhlaWdodChwcm9wcywgaW5zdGFuY2VQcm9wcyk7XG4gIHZhciBtYXhPZmZzZXQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihlc3RpbWF0ZWRUb3RhbFNpemUgLSBzaXplLCBpdGVtTWV0YWRhdGEub2Zmc2V0KSk7XG4gIHZhciBtaW5PZmZzZXQgPSBNYXRoLm1heCgwLCBpdGVtTWV0YWRhdGEub2Zmc2V0IC0gc2l6ZSArIHNjcm9sbGJhclNpemUgKyBpdGVtTWV0YWRhdGEuc2l6ZSk7XG5cbiAgaWYgKGFsaWduID09PSAnc21hcnQnKSB7XG4gICAgaWYgKHNjcm9sbE9mZnNldCA+PSBtaW5PZmZzZXQgLSBzaXplICYmIHNjcm9sbE9mZnNldCA8PSBtYXhPZmZzZXQgKyBzaXplKSB7XG4gICAgICBhbGlnbiA9ICdhdXRvJztcbiAgICB9IGVsc2Uge1xuICAgICAgYWxpZ24gPSAnY2VudGVyJztcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgcmV0dXJuIG1heE9mZnNldDtcblxuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4gbWluT2Zmc2V0O1xuXG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKG1pbk9mZnNldCArIChtYXhPZmZzZXQgLSBtaW5PZmZzZXQpIC8gMik7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHNjcm9sbE9mZnNldCA+PSBtaW5PZmZzZXQgJiYgc2Nyb2xsT2Zmc2V0IDw9IG1heE9mZnNldCkge1xuICAgICAgICByZXR1cm4gc2Nyb2xsT2Zmc2V0O1xuICAgICAgfSBlbHNlIGlmIChtaW5PZmZzZXQgPiBtYXhPZmZzZXQpIHtcbiAgICAgICAgLy8gQmVjYXVzZSB3ZSBvbmx5IHRha2UgaW50byBhY2NvdW50IHRoZSBzY3JvbGxiYXIgc2l6ZSB3aGVuIGNhbGN1bGF0aW5nIG1pbk9mZnNldFxuICAgICAgICAvLyB0aGlzIHZhbHVlIGNhbiBiZSBsYXJnZXIgdGhhbiBtYXhPZmZzZXQgd2hlbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0XG4gICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICB9IGVsc2UgaWYgKHNjcm9sbE9mZnNldCA8IG1pbk9mZnNldCkge1xuICAgICAgICByZXR1cm4gbWluT2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heE9mZnNldDtcbiAgICAgIH1cblxuICB9XG59O1xuXG52YXIgVmFyaWFibGVTaXplR3JpZCA9XG4vKiNfX1BVUkVfXyovXG5jcmVhdGVHcmlkQ29tcG9uZW50KHtcbiAgZ2V0Q29sdW1uT2Zmc2V0OiBmdW5jdGlvbiBnZXRDb2x1bW5PZmZzZXQocHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGdldEl0ZW1NZXRhZGF0YSgnY29sdW1uJywgcHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKS5vZmZzZXQ7XG4gIH0sXG4gIGdldENvbHVtblN0YXJ0SW5kZXhGb3JPZmZzZXQ6IGZ1bmN0aW9uIGdldENvbHVtblN0YXJ0SW5kZXhGb3JPZmZzZXQocHJvcHMsIHNjcm9sbExlZnQsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gZmluZE5lYXJlc3RJdGVtKCdjb2x1bW4nLCBwcm9wcywgaW5zdGFuY2VQcm9wcywgc2Nyb2xsTGVmdCk7XG4gIH0sXG4gIGdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXg6IGZ1bmN0aW9uIGdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXgocHJvcHMsIHN0YXJ0SW5kZXgsIHNjcm9sbExlZnQsIGluc3RhbmNlUHJvcHMpIHtcbiAgICB2YXIgY29sdW1uQ291bnQgPSBwcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgd2lkdGggPSBwcm9wcy53aWR0aDtcbiAgICB2YXIgaXRlbU1ldGFkYXRhID0gZ2V0SXRlbU1ldGFkYXRhKCdjb2x1bW4nLCBwcm9wcywgc3RhcnRJbmRleCwgaW5zdGFuY2VQcm9wcyk7XG4gICAgdmFyIG1heE9mZnNldCA9IHNjcm9sbExlZnQgKyB3aWR0aDtcbiAgICB2YXIgb2Zmc2V0ID0gaXRlbU1ldGFkYXRhLm9mZnNldCArIGl0ZW1NZXRhZGF0YS5zaXplO1xuICAgIHZhciBzdG9wSW5kZXggPSBzdGFydEluZGV4O1xuXG4gICAgd2hpbGUgKHN0b3BJbmRleCA8IGNvbHVtbkNvdW50IC0gMSAmJiBvZmZzZXQgPCBtYXhPZmZzZXQpIHtcbiAgICAgIHN0b3BJbmRleCsrO1xuICAgICAgb2Zmc2V0ICs9IGdldEl0ZW1NZXRhZGF0YSgnY29sdW1uJywgcHJvcHMsIHN0b3BJbmRleCwgaW5zdGFuY2VQcm9wcykuc2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcEluZGV4O1xuICB9LFxuICBnZXRDb2x1bW5XaWR0aDogZnVuY3Rpb24gZ2V0Q29sdW1uV2lkdGgocHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlUHJvcHMuY29sdW1uTWV0YWRhdGFNYXBbaW5kZXhdLnNpemU7XG4gIH0sXG4gIGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0OiBnZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCxcbiAgZ2V0RXN0aW1hdGVkVG90YWxXaWR0aDogZ2V0RXN0aW1hdGVkVG90YWxXaWR0aCxcbiAgZ2V0T2Zmc2V0Rm9yQ29sdW1uQW5kQWxpZ25tZW50OiBmdW5jdGlvbiBnZXRPZmZzZXRGb3JDb2x1bW5BbmRBbGlnbm1lbnQocHJvcHMsIGluZGV4LCBhbGlnbiwgc2Nyb2xsT2Zmc2V0LCBpbnN0YW5jZVByb3BzLCBzY3JvbGxiYXJTaXplKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50KCdjb2x1bW4nLCBwcm9wcywgaW5kZXgsIGFsaWduLCBzY3JvbGxPZmZzZXQsIGluc3RhbmNlUHJvcHMsIHNjcm9sbGJhclNpemUpO1xuICB9LFxuICBnZXRPZmZzZXRGb3JSb3dBbmRBbGlnbm1lbnQ6IGZ1bmN0aW9uIGdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudChwcm9wcywgaW5kZXgsIGFsaWduLCBzY3JvbGxPZmZzZXQsIGluc3RhbmNlUHJvcHMsIHNjcm9sbGJhclNpemUpIHtcbiAgICByZXR1cm4gZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQoJ3JvdycsIHByb3BzLCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCwgaW5zdGFuY2VQcm9wcywgc2Nyb2xsYmFyU2l6ZSk7XG4gIH0sXG4gIGdldFJvd09mZnNldDogZnVuY3Rpb24gZ2V0Um93T2Zmc2V0KHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHJldHVybiBnZXRJdGVtTWV0YWRhdGEoJ3JvdycsIHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykub2Zmc2V0O1xuICB9LFxuICBnZXRSb3dIZWlnaHQ6IGZ1bmN0aW9uIGdldFJvd0hlaWdodChwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VQcm9wcy5yb3dNZXRhZGF0YU1hcFtpbmRleF0uc2l6ZTtcbiAgfSxcbiAgZ2V0Um93U3RhcnRJbmRleEZvck9mZnNldDogZnVuY3Rpb24gZ2V0Um93U3RhcnRJbmRleEZvck9mZnNldChwcm9wcywgc2Nyb2xsVG9wLCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGZpbmROZWFyZXN0SXRlbSgncm93JywgcHJvcHMsIGluc3RhbmNlUHJvcHMsIHNjcm9sbFRvcCk7XG4gIH0sXG4gIGdldFJvd1N0b3BJbmRleEZvclN0YXJ0SW5kZXg6IGZ1bmN0aW9uIGdldFJvd1N0b3BJbmRleEZvclN0YXJ0SW5kZXgocHJvcHMsIHN0YXJ0SW5kZXgsIHNjcm9sbFRvcCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHZhciByb3dDb3VudCA9IHByb3BzLnJvd0NvdW50LFxuICAgICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG4gICAgdmFyIGl0ZW1NZXRhZGF0YSA9IGdldEl0ZW1NZXRhZGF0YSgncm93JywgcHJvcHMsIHN0YXJ0SW5kZXgsIGluc3RhbmNlUHJvcHMpO1xuICAgIHZhciBtYXhPZmZzZXQgPSBzY3JvbGxUb3AgKyBoZWlnaHQ7XG4gICAgdmFyIG9mZnNldCA9IGl0ZW1NZXRhZGF0YS5vZmZzZXQgKyBpdGVtTWV0YWRhdGEuc2l6ZTtcbiAgICB2YXIgc3RvcEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIHdoaWxlIChzdG9wSW5kZXggPCByb3dDb3VudCAtIDEgJiYgb2Zmc2V0IDwgbWF4T2Zmc2V0KSB7XG4gICAgICBzdG9wSW5kZXgrKztcbiAgICAgIG9mZnNldCArPSBnZXRJdGVtTWV0YWRhdGEoJ3JvdycsIHByb3BzLCBzdG9wSW5kZXgsIGluc3RhbmNlUHJvcHMpLnNpemU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3BJbmRleDtcbiAgfSxcbiAgaW5pdEluc3RhbmNlUHJvcHM6IGZ1bmN0aW9uIGluaXRJbnN0YW5jZVByb3BzKHByb3BzLCBpbnN0YW5jZSkge1xuICAgIHZhciBfcmVmNSA9IHByb3BzLFxuICAgICAgICBlc3RpbWF0ZWRDb2x1bW5XaWR0aCA9IF9yZWY1LmVzdGltYXRlZENvbHVtbldpZHRoLFxuICAgICAgICBlc3RpbWF0ZWRSb3dIZWlnaHQgPSBfcmVmNS5lc3RpbWF0ZWRSb3dIZWlnaHQ7XG4gICAgdmFyIGluc3RhbmNlUHJvcHMgPSB7XG4gICAgICBjb2x1bW5NZXRhZGF0YU1hcDoge30sXG4gICAgICBlc3RpbWF0ZWRDb2x1bW5XaWR0aDogZXN0aW1hdGVkQ29sdW1uV2lkdGggfHwgREVGQVVMVF9FU1RJTUFURURfSVRFTV9TSVpFLFxuICAgICAgZXN0aW1hdGVkUm93SGVpZ2h0OiBlc3RpbWF0ZWRSb3dIZWlnaHQgfHwgREVGQVVMVF9FU1RJTUFURURfSVRFTV9TSVpFLFxuICAgICAgbGFzdE1lYXN1cmVkQ29sdW1uSW5kZXg6IC0xLFxuICAgICAgbGFzdE1lYXN1cmVkUm93SW5kZXg6IC0xLFxuICAgICAgcm93TWV0YWRhdGFNYXA6IHt9XG4gICAgfTtcblxuICAgIGluc3RhbmNlLnJlc2V0QWZ0ZXJDb2x1bW5JbmRleCA9IGZ1bmN0aW9uIChjb2x1bW5JbmRleCwgc2hvdWxkRm9yY2VVcGRhdGUpIHtcbiAgICAgIGlmIChzaG91bGRGb3JjZVVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNob3VsZEZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2UucmVzZXRBZnRlckluZGljZXMoe1xuICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsXG4gICAgICAgIHNob3VsZEZvcmNlVXBkYXRlOiBzaG91bGRGb3JjZVVwZGF0ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGluc3RhbmNlLnJlc2V0QWZ0ZXJSb3dJbmRleCA9IGZ1bmN0aW9uIChyb3dJbmRleCwgc2hvdWxkRm9yY2VVcGRhdGUpIHtcbiAgICAgIGlmIChzaG91bGRGb3JjZVVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNob3VsZEZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2UucmVzZXRBZnRlckluZGljZXMoe1xuICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgIHNob3VsZEZvcmNlVXBkYXRlOiBzaG91bGRGb3JjZVVwZGF0ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGluc3RhbmNlLnJlc2V0QWZ0ZXJJbmRpY2VzID0gZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBfcmVmNi5jb2x1bW5JbmRleCxcbiAgICAgICAgICByb3dJbmRleCA9IF9yZWY2LnJvd0luZGV4LFxuICAgICAgICAgIF9yZWY2JHNob3VsZEZvcmNlVXBkYSA9IF9yZWY2LnNob3VsZEZvcmNlVXBkYXRlLFxuICAgICAgICAgIHNob3VsZEZvcmNlVXBkYXRlID0gX3JlZjYkc2hvdWxkRm9yY2VVcGRhID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjYkc2hvdWxkRm9yY2VVcGRhO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbHVtbkluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZENvbHVtbkluZGV4ID0gTWF0aC5taW4oaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRDb2x1bW5JbmRleCwgY29sdW1uSW5kZXggLSAxKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiByb3dJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRSb3dJbmRleCA9IE1hdGgubWluKGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkUm93SW5kZXgsIHJvd0luZGV4IC0gMSk7XG4gICAgICB9IC8vIFdlIGNvdWxkIHBvdGVudGlhbGx5IG9wdGltaXplIGZ1cnRoZXIgYnkgb25seSBldmljdGluZyBzdHlsZXMgYWZ0ZXIgdGhpcyBpbmRleCxcbiAgICAgIC8vIEJ1dCBzaW5jZSBzdHlsZXMgYXJlIG9ubHkgY2FjaGVkIHdoaWxlIHNjcm9sbGluZyBpcyBpbiBwcm9ncmVzcy1cbiAgICAgIC8vIEl0IHNlZW1zIGFuIHVubmVjZXNzYXJ5IG9wdGltaXphdGlvbi5cbiAgICAgIC8vIEl0J3MgdW5saWtlbHkgdGhhdCByZXNldEFmdGVySW5kZXgoKSB3aWxsIGJlIGNhbGxlZCB3aGlsZSBhIHVzZXIgaXMgc2Nyb2xsaW5nLlxuXG5cbiAgICAgIGluc3RhbmNlLl9nZXRJdGVtU3R5bGVDYWNoZSgtMSk7XG5cbiAgICAgIGlmIChzaG91bGRGb3JjZVVwZGF0ZSkge1xuICAgICAgICBpbnN0YW5jZS5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gaW5zdGFuY2VQcm9wcztcbiAgfSxcbiAgc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZTogZmFsc2UsXG4gIHZhbGlkYXRlUHJvcHM6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoX3JlZjcpIHtcbiAgICB2YXIgY29sdW1uV2lkdGggPSBfcmVmNy5jb2x1bW5XaWR0aCxcbiAgICAgICAgcm93SGVpZ2h0ID0gX3JlZjcucm93SGVpZ2h0O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgY29sdW1uV2lkdGggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJjb2x1bW5XaWR0aFwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiAnICsgKFwiXFxcIlwiICsgKGNvbHVtbldpZHRoID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGNvbHVtbldpZHRoKSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByb3dIZWlnaHQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJyb3dIZWlnaHRcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgYSBmdW5jdGlvbi4gJyArIChcIlxcXCJcIiArIChyb3dIZWlnaHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygcm93SGVpZ2h0KSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxudmFyIElTX1NDUk9MTElOR19ERUJPVU5DRV9JTlRFUlZBTCQxID0gMTUwO1xuXG52YXIgZGVmYXVsdEl0ZW1LZXkkMSA9IGZ1bmN0aW9uIGRlZmF1bHRJdGVtS2V5KGluZGV4LCBkYXRhKSB7XG4gIHJldHVybiBpbmRleDtcbn07IC8vIEluIERFViBtb2RlLCB0aGlzIFNldCBoZWxwcyB1cyBvbmx5IGxvZyBhIHdhcm5pbmcgb25jZSBwZXIgY29tcG9uZW50IGluc3RhbmNlLlxuLy8gVGhpcyBhdm9pZHMgc3BhbW1pbmcgdGhlIGNvbnNvbGUgZXZlcnkgdGltZSBhIHJlbmRlciBoYXBwZW5zLlxuXG5cbnZhciBkZXZXYXJuaW5nc0RpcmVjdGlvbiA9IG51bGw7XG52YXIgZGV2V2FybmluZ3NUYWdOYW1lJDEgPSBudWxsO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5XZWFrU2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRldldhcm5pbmdzRGlyZWN0aW9uID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgbmV3IFdlYWtTZXQoKTtcbiAgICBkZXZXYXJuaW5nc1RhZ05hbWUkMSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIG5ldyBXZWFrU2V0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlzdENvbXBvbmVudChfcmVmKSB7XG4gIHZhciBfY2xhc3MsIF90ZW1wO1xuXG4gIHZhciBnZXRJdGVtT2Zmc2V0ID0gX3JlZi5nZXRJdGVtT2Zmc2V0LFxuICAgICAgZ2V0RXN0aW1hdGVkVG90YWxTaXplID0gX3JlZi5nZXRFc3RpbWF0ZWRUb3RhbFNpemUsXG4gICAgICBnZXRJdGVtU2l6ZSA9IF9yZWYuZ2V0SXRlbVNpemUsXG4gICAgICBnZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudCA9IF9yZWYuZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQsXG4gICAgICBnZXRTdGFydEluZGV4Rm9yT2Zmc2V0ID0gX3JlZi5nZXRTdGFydEluZGV4Rm9yT2Zmc2V0LFxuICAgICAgZ2V0U3RvcEluZGV4Rm9yU3RhcnRJbmRleCA9IF9yZWYuZ2V0U3RvcEluZGV4Rm9yU3RhcnRJbmRleCxcbiAgICAgIGluaXRJbnN0YW5jZVByb3BzID0gX3JlZi5pbml0SW5zdGFuY2VQcm9wcyxcbiAgICAgIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgPSBfcmVmLnNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UsXG4gICAgICB2YWxpZGF0ZVByb3BzID0gX3JlZi52YWxpZGF0ZVByb3BzO1xuICByZXR1cm4gX3RlbXAgPSBfY2xhc3MgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKExpc3QsIF9QdXJlQ29tcG9uZW50KTtcblxuICAgIC8vIEFsd2F5cyB1c2UgZXhwbGljaXQgY29uc3RydWN0b3IgZm9yIFJlYWN0IGNvbXBvbmVudHMuXG4gICAgLy8gSXQgcHJvZHVjZXMgbGVzcyBjb2RlIGFmdGVyIHRyYW5zcGlsYXRpb24uICgjMjYpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBMaXN0KHByb3BzKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX1B1cmVDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgIF90aGlzLl9pbnN0YW5jZVByb3BzID0gaW5pdEluc3RhbmNlUHJvcHMoX3RoaXMucHJvcHMsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICAgIF90aGlzLl9vdXRlclJlZiA9IHZvaWQgMDtcbiAgICAgIF90aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkID0gbnVsbDtcbiAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICBpbnN0YW5jZTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgICAgc2Nyb2xsRGlyZWN0aW9uOiAnZm9yd2FyZCcsXG4gICAgICAgIHNjcm9sbE9mZnNldDogdHlwZW9mIF90aGlzLnByb3BzLmluaXRpYWxTY3JvbGxPZmZzZXQgPT09ICdudW1iZXInID8gX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbE9mZnNldCA6IDAsXG4gICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogZmFsc2VcbiAgICAgIH07XG4gICAgICBfdGhpcy5fY2FsbE9uSXRlbXNSZW5kZXJlZCA9IHZvaWQgMDtcbiAgICAgIF90aGlzLl9jYWxsT25JdGVtc1JlbmRlcmVkID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAob3ZlcnNjYW5TdGFydEluZGV4LCBvdmVyc2NhblN0b3BJbmRleCwgdmlzaWJsZVN0YXJ0SW5kZXgsIHZpc2libGVTdG9wSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uSXRlbXNSZW5kZXJlZCh7XG4gICAgICAgICAgb3ZlcnNjYW5TdGFydEluZGV4OiBvdmVyc2NhblN0YXJ0SW5kZXgsXG4gICAgICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IG92ZXJzY2FuU3RvcEluZGV4LFxuICAgICAgICAgIHZpc2libGVTdGFydEluZGV4OiB2aXNpYmxlU3RhcnRJbmRleCxcbiAgICAgICAgICB2aXNpYmxlU3RvcEluZGV4OiB2aXNpYmxlU3RvcEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5fY2FsbE9uU2Nyb2xsID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX2NhbGxPblNjcm9sbCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKHNjcm9sbERpcmVjdGlvbiwgc2Nyb2xsT2Zmc2V0LCBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnByb3BzLm9uU2Nyb2xsKHtcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb246IHNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgICBzY3JvbGxPZmZzZXQ6IHNjcm9sbE9mZnNldCxcbiAgICAgICAgICBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQ6IHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZSA9IHZvaWQgMDtcblxuICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICAgIGl0ZW1TaXplID0gX3RoaXMkcHJvcHMuaXRlbVNpemUsXG4gICAgICAgICAgICBsYXlvdXQgPSBfdGhpcyRwcm9wcy5sYXlvdXQ7XG5cbiAgICAgICAgdmFyIGl0ZW1TdHlsZUNhY2hlID0gX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlKHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgJiYgaXRlbVNpemUsIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgJiYgbGF5b3V0LCBzaG91bGRSZXNldFN0eWxlQ2FjaGVPbkl0ZW1TaXplQ2hhbmdlICYmIGRpcmVjdGlvbik7XG5cbiAgICAgICAgdmFyIHN0eWxlO1xuXG4gICAgICAgIGlmIChpdGVtU3R5bGVDYWNoZS5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcbiAgICAgICAgICBzdHlsZSA9IGl0ZW1TdHlsZUNhY2hlW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX29mZnNldCA9IGdldEl0ZW1PZmZzZXQoX3RoaXMucHJvcHMsIGluZGV4LCBfdGhpcy5faW5zdGFuY2VQcm9wcyk7XG5cbiAgICAgICAgICB2YXIgc2l6ZSA9IGdldEl0ZW1TaXplKF90aGlzLnByb3BzLCBpbmRleCwgX3RoaXMuX2luc3RhbmNlUHJvcHMpOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgICAgICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICAgICAgICB2YXIgaXNSdGwgPSBkaXJlY3Rpb24gPT09ICdydGwnO1xuICAgICAgICAgIHZhciBvZmZzZXRIb3Jpem9udGFsID0gaXNIb3Jpem9udGFsID8gX29mZnNldCA6IDA7XG4gICAgICAgICAgaXRlbVN0eWxlQ2FjaGVbaW5kZXhdID0gc3R5bGUgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGxlZnQ6IGlzUnRsID8gdW5kZWZpbmVkIDogb2Zmc2V0SG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHJpZ2h0OiBpc1J0bCA/IG9mZnNldEhvcml6b250YWwgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0b3A6ICFpc0hvcml6b250YWwgPyBfb2Zmc2V0IDogMCxcbiAgICAgICAgICAgIGhlaWdodDogIWlzSG9yaXpvbnRhbCA/IHNpemUgOiAnMTAwJScsXG4gICAgICAgICAgICB3aWR0aDogaXNIb3Jpem9udGFsID8gc2l6ZSA6ICcxMDAlJ1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlQ2FjaGUgPSB2b2lkIDA7XG4gICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlQ2FjaGUgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChfLCBfXywgX19fKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5fb25TY3JvbGxIb3Jpem9udGFsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfZXZlbnQkY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICBjbGllbnRXaWR0aCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgc2Nyb2xsTGVmdCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0LnNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxXaWR0aCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0LnNjcm9sbFdpZHRoO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICBpZiAocHJldlN0YXRlLnNjcm9sbE9mZnNldCA9PT0gc2Nyb2xsTGVmdCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHBvc2l0aW9uIG1heSBoYXZlIGJlZW4gdXBkYXRlZCBieSBjRE0vY0RVLFxuICAgICAgICAgICAgLy8gSW4gd2hpY2ggY2FzZSB3ZSBkb24ndCBuZWVkIHRvIHRyaWdnZXIgYW5vdGhlciByZW5kZXIsXG4gICAgICAgICAgICAvLyBBbmQgd2UgZG9uJ3Qgd2FudCB0byB1cGRhdGUgc3RhdGUuaXNTY3JvbGxpbmcuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gX3RoaXMucHJvcHMuZGlyZWN0aW9uO1xuICAgICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSBzY3JvbGxMZWZ0O1xuXG4gICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICAgIC8vIFRSSUNLWSBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHNjcm9sbExlZnQgc2hvdWxkIGJlIG5lZ2F0aXZlIGZvciBSVEwgYWxpZ25lZCBlbGVtZW50cy5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgbm90IHRoZSBjYXNlIGZvciBhbGwgYnJvd3NlcnMgdGhvdWdoIChlLmcuIENocm9tZSByZXBvcnRzIHZhbHVlcyBhcyBwb3NpdGl2ZSwgbWVhc3VyZWQgcmVsYXRpdmUgdG8gdGhlIGxlZnQpLlxuICAgICAgICAgICAgLy8gSXQncyBhbHNvIGVhc2llciBmb3IgdGhpcyBjb21wb25lbnQgaWYgd2UgY29udmVydCBvZmZzZXRzIHRvIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGV5IHdvdWxkIGJlIGluIGZvciBsdHIuXG4gICAgICAgICAgICAvLyBTbyB0aGUgc2ltcGxlc3Qgc29sdXRpb24gaXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGJyb3dzZXIgYmVoYXZpb3Igd2UncmUgZGVhbGluZyB3aXRoLCBhbmQgY29udmVydCBiYXNlZCBvbiBpdC5cbiAgICAgICAgICAgIHN3aXRjaCAoZ2V0UlRMT2Zmc2V0VHlwZSgpKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ25lZ2F0aXZlJzpcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXQgPSAtc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICdwb3NpdGl2ZS1kZXNjZW5kaW5nJzpcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXQgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoIC0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIFByZXZlbnQgU2FmYXJpJ3MgZWxhc3RpYyBzY3JvbGxpbmcgZnJvbSBjYXVzaW5nIHZpc3VhbCBzaGFraW5nIHdoZW4gc2Nyb2xsaW5nIHBhc3QgYm91bmRzLlxuXG5cbiAgICAgICAgICBzY3JvbGxPZmZzZXQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGxPZmZzZXQsIHNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGgpKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgICBzY3JvbGxEaXJlY3Rpb246IHByZXZTdGF0ZS5zY3JvbGxPZmZzZXQgPCBzY3JvbGxMZWZ0ID8gJ2ZvcndhcmQnIDogJ2JhY2t3YXJkJyxcbiAgICAgICAgICAgIHNjcm9sbE9mZnNldDogc2Nyb2xsT2Zmc2V0LFxuICAgICAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgIH0sIF90aGlzLl9yZXNldElzU2Nyb2xsaW5nRGVib3VuY2VkKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLl9vblNjcm9sbFZlcnRpY2FsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfZXZlbnQkY3VycmVudFRhcmdldDIgPSBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gX2V2ZW50JGN1cnJlbnRUYXJnZXQyLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgIHNjcm9sbEhlaWdodCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0Mi5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICBzY3JvbGxUb3AgPSBfZXZlbnQkY3VycmVudFRhcmdldDIuc2Nyb2xsVG9wO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICBpZiAocHJldlN0YXRlLnNjcm9sbE9mZnNldCA9PT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAvLyBTY3JvbGwgcG9zaXRpb24gbWF5IGhhdmUgYmVlbiB1cGRhdGVkIGJ5IGNETS9jRFUsXG4gICAgICAgICAgICAvLyBJbiB3aGljaCBjYXNlIHdlIGRvbid0IG5lZWQgdG8gdHJpZ2dlciBhbm90aGVyIHJlbmRlcixcbiAgICAgICAgICAgIC8vIEFuZCB3ZSBkb24ndCB3YW50IHRvIHVwZGF0ZSBzdGF0ZS5pc1Njcm9sbGluZy5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0gLy8gUHJldmVudCBTYWZhcmkncyBlbGFzdGljIHNjcm9sbGluZyBmcm9tIGNhdXNpbmcgdmlzdWFsIHNoYWtpbmcgd2hlbiBzY3JvbGxpbmcgcGFzdCBib3VuZHMuXG5cblxuICAgICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1Njcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgICAgIHNjcm9sbERpcmVjdGlvbjogcHJldlN0YXRlLnNjcm9sbE9mZnNldCA8IHNjcm9sbE9mZnNldCA/ICdmb3J3YXJkJyA6ICdiYWNrd2FyZCcsXG4gICAgICAgICAgICBzY3JvbGxPZmZzZXQ6IHNjcm9sbE9mZnNldCxcbiAgICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9LCBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fb3V0ZXJSZWZTZXR0ZXIgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHZhciBvdXRlclJlZiA9IF90aGlzLnByb3BzLm91dGVyUmVmO1xuICAgICAgICBfdGhpcy5fb3V0ZXJSZWYgPSByZWY7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvdXRlclJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG91dGVyUmVmKHJlZik7XG4gICAgICAgIH0gZWxzZSBpZiAob3V0ZXJSZWYgIT0gbnVsbCAmJiB0eXBlb2Ygb3V0ZXJSZWYgPT09ICdvYmplY3QnICYmIG91dGVyUmVmLmhhc093blByb3BlcnR5KCdjdXJyZW50JykpIHtcbiAgICAgICAgICBvdXRlclJlZi5jdXJyZW50ID0gcmVmO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkICE9PSBudWxsKSB7XG4gICAgICAgICAgY2FuY2VsVGltZW91dChfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCA9IHJlcXVlc3RUaW1lb3V0KF90aGlzLl9yZXNldElzU2Nyb2xsaW5nLCBJU19TQ1JPTExJTkdfREVCT1VOQ0VfSU5URVJWQUwkMSk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQgPSBudWxsO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIENsZWFyIHN0eWxlIGNhY2hlIGFmdGVyIHN0YXRlIHVwZGF0ZSBoYXMgYmVlbiBjb21taXR0ZWQuXG4gICAgICAgICAgLy8gVGhpcyB3YXkgd2UgZG9uJ3QgYnJlYWsgcHVyZSBzQ1UgZm9yIGl0ZW1zIHRoYXQgZG9uJ3QgdXNlIGlzU2Nyb2xsaW5nIHBhcmFtLlxuICAgICAgICAgIF90aGlzLl9nZXRJdGVtU3R5bGVDYWNoZSgtMSwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIExpc3QuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YWxpZGF0ZVNoYXJlZFByb3BzJDEobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgdmFsaWRhdGVQcm9wcyhuZXh0UHJvcHMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHZhciBfcHJvdG8gPSBMaXN0LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5zY3JvbGxUbyA9IGZ1bmN0aW9uIHNjcm9sbFRvKHNjcm9sbE9mZnNldCkge1xuICAgICAgc2Nyb2xsT2Zmc2V0ID0gTWF0aC5tYXgoMCwgc2Nyb2xsT2Zmc2V0KTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAocHJldlN0YXRlLnNjcm9sbE9mZnNldCA9PT0gc2Nyb2xsT2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjcm9sbERpcmVjdGlvbjogcHJldlN0YXRlLnNjcm9sbE9mZnNldCA8IHNjcm9sbE9mZnNldCA/ICdmb3J3YXJkJyA6ICdiYWNrd2FyZCcsXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxPZmZzZXQsXG4gICAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9LCB0aGlzLl9yZXNldElzU2Nyb2xsaW5nRGVib3VuY2VkKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnNjcm9sbFRvSXRlbSA9IGZ1bmN0aW9uIHNjcm9sbFRvSXRlbShpbmRleCwgYWxpZ24pIHtcbiAgICAgIGlmIChhbGlnbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGFsaWduID0gJ2F1dG8nO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5pdGVtQ291bnQ7XG4gICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5zdGF0ZS5zY3JvbGxPZmZzZXQ7XG4gICAgICBpbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGluZGV4LCBpdGVtQ291bnQgLSAxKSk7XG4gICAgICB0aGlzLnNjcm9sbFRvKGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50KHRoaXMucHJvcHMsIGluZGV4LCBhbGlnbiwgc2Nyb2xsT2Zmc2V0LCB0aGlzLl9pbnN0YW5jZVByb3BzKSk7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHMyLmRpcmVjdGlvbixcbiAgICAgICAgICBpbml0aWFsU2Nyb2xsT2Zmc2V0ID0gX3RoaXMkcHJvcHMyLmluaXRpYWxTY3JvbGxPZmZzZXQsXG4gICAgICAgICAgbGF5b3V0ID0gX3RoaXMkcHJvcHMyLmxheW91dDtcblxuICAgICAgaWYgKHR5cGVvZiBpbml0aWFsU2Nyb2xsT2Zmc2V0ID09PSAnbnVtYmVyJyAmJiB0aGlzLl9vdXRlclJlZiAhPSBudWxsKSB7XG4gICAgICAgIHZhciBvdXRlclJlZiA9IHRoaXMuX291dGVyUmVmOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgfHwgbGF5b3V0ID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICBvdXRlclJlZi5zY3JvbGxMZWZ0ID0gaW5pdGlhbFNjcm9sbE9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXRlclJlZi5zY3JvbGxUb3AgPSBpbml0aWFsU2Nyb2xsT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NhbGxQcm9wc0NhbGxiYWNrcygpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHMzLmRpcmVjdGlvbixcbiAgICAgICAgICBsYXlvdXQgPSBfdGhpcyRwcm9wczMubGF5b3V0O1xuICAgICAgdmFyIF90aGlzJHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzY3JvbGxPZmZzZXQgPSBfdGhpcyRzdGF0ZS5zY3JvbGxPZmZzZXQsXG4gICAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkID0gX3RoaXMkc3RhdGUuc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkO1xuXG4gICAgICBpZiAoc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkICYmIHRoaXMuX291dGVyUmVmICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG91dGVyUmVmID0gdGhpcy5fb3V0ZXJSZWY7IC8vIFRPRE8gRGVwcmVjYXRlIGRpcmVjdGlvbiBcImhvcml6b250YWxcIlxuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgICAvLyBUUklDS1kgQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBzY3JvbGxMZWZ0IHNob3VsZCBiZSBuZWdhdGl2ZSBmb3IgUlRMIGFsaWduZWQgZWxlbWVudHMuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIG5vdCB0aGUgY2FzZSBmb3IgYWxsIGJyb3dzZXJzIHRob3VnaCAoZS5nLiBDaHJvbWUgcmVwb3J0cyB2YWx1ZXMgYXMgcG9zaXRpdmUsIG1lYXN1cmVkIHJlbGF0aXZlIHRvIHRoZSBsZWZ0KS5cbiAgICAgICAgICAgIC8vIFNvIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGJyb3dzZXIgYmVoYXZpb3Igd2UncmUgZGVhbGluZyB3aXRoLCBhbmQgbWltaWMgaXQuXG4gICAgICAgICAgICBzd2l0Y2ggKGdldFJUTE9mZnNldFR5cGUoKSkge1xuICAgICAgICAgICAgICBjYXNlICduZWdhdGl2ZSc6XG4gICAgICAgICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IC1zY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAncG9zaXRpdmUtYXNjZW5kaW5nJzpcbiAgICAgICAgICAgICAgICBvdXRlclJlZi5zY3JvbGxMZWZ0ID0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudFdpZHRoID0gb3V0ZXJSZWYuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gb3V0ZXJSZWYuc2Nyb2xsV2lkdGg7XG4gICAgICAgICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IHNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGggLSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dGVyUmVmLnNjcm9sbExlZnQgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dGVyUmVmLnNjcm9sbFRvcCA9IHNjcm9sbE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9jYWxsUHJvcHNDYWxsYmFja3MoKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCAhPT0gbnVsbCkge1xuICAgICAgICBjYW5jZWxUaW1lb3V0KHRoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wczQuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3RoaXMkcHJvcHM0LmNsYXNzTmFtZSxcbiAgICAgICAgICBkaXJlY3Rpb24gPSBfdGhpcyRwcm9wczQuZGlyZWN0aW9uLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzNC5oZWlnaHQsXG4gICAgICAgICAgaW5uZXJSZWYgPSBfdGhpcyRwcm9wczQuaW5uZXJSZWYsXG4gICAgICAgICAgaW5uZXJFbGVtZW50VHlwZSA9IF90aGlzJHByb3BzNC5pbm5lckVsZW1lbnRUeXBlLFxuICAgICAgICAgIGlubmVyVGFnTmFtZSA9IF90aGlzJHByb3BzNC5pbm5lclRhZ05hbWUsXG4gICAgICAgICAgaXRlbUNvdW50ID0gX3RoaXMkcHJvcHM0Lml0ZW1Db3VudCxcbiAgICAgICAgICBpdGVtRGF0YSA9IF90aGlzJHByb3BzNC5pdGVtRGF0YSxcbiAgICAgICAgICBfdGhpcyRwcm9wczQkaXRlbUtleSA9IF90aGlzJHByb3BzNC5pdGVtS2V5LFxuICAgICAgICAgIGl0ZW1LZXkgPSBfdGhpcyRwcm9wczQkaXRlbUtleSA9PT0gdm9pZCAwID8gZGVmYXVsdEl0ZW1LZXkkMSA6IF90aGlzJHByb3BzNCRpdGVtS2V5LFxuICAgICAgICAgIGxheW91dCA9IF90aGlzJHByb3BzNC5sYXlvdXQsXG4gICAgICAgICAgb3V0ZXJFbGVtZW50VHlwZSA9IF90aGlzJHByb3BzNC5vdXRlckVsZW1lbnRUeXBlLFxuICAgICAgICAgIG91dGVyVGFnTmFtZSA9IF90aGlzJHByb3BzNC5vdXRlclRhZ05hbWUsXG4gICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczQuc3R5bGUsXG4gICAgICAgICAgdXNlSXNTY3JvbGxpbmcgPSBfdGhpcyRwcm9wczQudXNlSXNTY3JvbGxpbmcsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczQud2lkdGg7XG4gICAgICB2YXIgaXNTY3JvbGxpbmcgPSB0aGlzLnN0YXRlLmlzU2Nyb2xsaW5nOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9IGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnIHx8IGxheW91dCA9PT0gJ2hvcml6b250YWwnO1xuICAgICAgdmFyIG9uU2Nyb2xsID0gaXNIb3Jpem9udGFsID8gdGhpcy5fb25TY3JvbGxIb3Jpem9udGFsIDogdGhpcy5fb25TY3JvbGxWZXJ0aWNhbDtcblxuICAgICAgdmFyIF90aGlzJF9nZXRSYW5nZVRvUmVuZCA9IHRoaXMuX2dldFJhbmdlVG9SZW5kZXIoKSxcbiAgICAgICAgICBzdGFydEluZGV4ID0gX3RoaXMkX2dldFJhbmdlVG9SZW5kWzBdLFxuICAgICAgICAgIHN0b3BJbmRleCA9IF90aGlzJF9nZXRSYW5nZVRvUmVuZFsxXTtcblxuICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICAgIGZvciAodmFyIF9pbmRleCA9IHN0YXJ0SW5kZXg7IF9pbmRleCA8PSBzdG9wSW5kZXg7IF9pbmRleCsrKSB7XG4gICAgICAgICAgaXRlbXMucHVzaChjcmVhdGVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgICAgICBkYXRhOiBpdGVtRGF0YSxcbiAgICAgICAgICAgIGtleTogaXRlbUtleShfaW5kZXgsIGl0ZW1EYXRhKSxcbiAgICAgICAgICAgIGluZGV4OiBfaW5kZXgsXG4gICAgICAgICAgICBpc1Njcm9sbGluZzogdXNlSXNTY3JvbGxpbmcgPyBpc1Njcm9sbGluZyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRJdGVtU3R5bGUoX2luZGV4KVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZWFkIHRoaXMgdmFsdWUgQUZURVIgaXRlbXMgaGF2ZSBiZWVuIGNyZWF0ZWQsXG4gICAgICAvLyBTbyB0aGVpciBhY3R1YWwgc2l6ZXMgKGlmIHZhcmlhYmxlKSBhcmUgdGFrZW4gaW50byBjb25zaWRlcmF0aW9uLlxuXG5cbiAgICAgIHZhciBlc3RpbWF0ZWRUb3RhbFNpemUgPSBnZXRFc3RpbWF0ZWRUb3RhbFNpemUodGhpcy5wcm9wcywgdGhpcy5faW5zdGFuY2VQcm9wcyk7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChvdXRlckVsZW1lbnRUeXBlIHx8IG91dGVyVGFnTmFtZSB8fCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgb25TY3JvbGw6IG9uU2Nyb2xsLFxuICAgICAgICByZWY6IHRoaXMuX291dGVyUmVmU2V0dGVyLFxuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBvdmVyZmxvdzogJ2F1dG8nLFxuICAgICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH0sIHN0eWxlKVxuICAgICAgfSwgY3JlYXRlRWxlbWVudChpbm5lckVsZW1lbnRUeXBlIHx8IGlubmVyVGFnTmFtZSB8fCAnZGl2Jywge1xuICAgICAgICBjaGlsZHJlbjogaXRlbXMsXG4gICAgICAgIHJlZjogaW5uZXJSZWYsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiBpc0hvcml6b250YWwgPyAnMTAwJScgOiBlc3RpbWF0ZWRUb3RhbFNpemUsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogaXNTY3JvbGxpbmcgPyAnbm9uZScgOiB1bmRlZmluZWQsXG4gICAgICAgICAgd2lkdGg6IGlzSG9yaXpvbnRhbCA/IGVzdGltYXRlZFRvdGFsU2l6ZSA6ICcxMDAlJ1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2FsbFByb3BzQ2FsbGJhY2tzID0gZnVuY3Rpb24gX2NhbGxQcm9wc0NhbGxiYWNrcygpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vbkl0ZW1zUmVuZGVyZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuaXRlbUNvdW50O1xuXG4gICAgICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICAgICAgdmFyIF90aGlzJF9nZXRSYW5nZVRvUmVuZDIgPSB0aGlzLl9nZXRSYW5nZVRvUmVuZGVyKCksXG4gICAgICAgICAgICAgIF9vdmVyc2NhblN0YXJ0SW5kZXggPSBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmQyWzBdLFxuICAgICAgICAgICAgICBfb3ZlcnNjYW5TdG9wSW5kZXggPSBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmQyWzFdLFxuICAgICAgICAgICAgICBfdmlzaWJsZVN0YXJ0SW5kZXggPSBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmQyWzJdLFxuICAgICAgICAgICAgICBfdmlzaWJsZVN0b3BJbmRleCA9IF90aGlzJF9nZXRSYW5nZVRvUmVuZDJbM107XG5cbiAgICAgICAgICB0aGlzLl9jYWxsT25JdGVtc1JlbmRlcmVkKF9vdmVyc2NhblN0YXJ0SW5kZXgsIF9vdmVyc2NhblN0b3BJbmRleCwgX3Zpc2libGVTdGFydEluZGV4LCBfdmlzaWJsZVN0b3BJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLm9uU2Nyb2xsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBfdGhpcyRzdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgX3Njcm9sbERpcmVjdGlvbiA9IF90aGlzJHN0YXRlMi5zY3JvbGxEaXJlY3Rpb24sXG4gICAgICAgICAgICBfc2Nyb2xsT2Zmc2V0ID0gX3RoaXMkc3RhdGUyLnNjcm9sbE9mZnNldCxcbiAgICAgICAgICAgIF9zY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQgPSBfdGhpcyRzdGF0ZTIuc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkO1xuXG4gICAgICAgIHRoaXMuX2NhbGxPblNjcm9sbChfc2Nyb2xsRGlyZWN0aW9uLCBfc2Nyb2xsT2Zmc2V0LCBfc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkKTtcbiAgICAgIH1cbiAgICB9OyAvLyBMYXppbHkgY3JlYXRlIGFuZCBjYWNoZSBpdGVtIHN0eWxlcyB3aGlsZSBzY3JvbGxpbmcsXG4gICAgLy8gU28gdGhhdCBwdXJlIGNvbXBvbmVudCBzQ1Ugd2lsbCBwcmV2ZW50IHJlLXJlbmRlcnMuXG4gICAgLy8gV2UgbWFpbnRhaW4gdGhpcyBjYWNoZSwgYW5kIHBhc3MgYSBzdHlsZSBwcm9wIHJhdGhlciB0aGFuIGluZGV4LFxuICAgIC8vIFNvIHRoYXQgTGlzdCBjYW4gY2xlYXIgY2FjaGVkIHN0eWxlcyBhbmQgZm9yY2UgaXRlbSByZS1yZW5kZXIgaWYgbmVjZXNzYXJ5LlxuXG5cbiAgICBfcHJvdG8uX2dldFJhbmdlVG9SZW5kZXIgPSBmdW5jdGlvbiBfZ2V0UmFuZ2VUb1JlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGl0ZW1Db3VudCA9IF90aGlzJHByb3BzNS5pdGVtQ291bnQsXG4gICAgICAgICAgb3ZlcnNjYW5Db3VudCA9IF90aGlzJHByb3BzNS5vdmVyc2NhbkNvdW50O1xuICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgaXNTY3JvbGxpbmcgPSBfdGhpcyRzdGF0ZTMuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gX3RoaXMkc3RhdGUzLnNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgICBzY3JvbGxPZmZzZXQgPSBfdGhpcyRzdGF0ZTMuc2Nyb2xsT2Zmc2V0O1xuXG4gICAgICBpZiAoaXRlbUNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbMCwgMCwgMCwgMF07XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydEluZGV4ID0gZ2V0U3RhcnRJbmRleEZvck9mZnNldCh0aGlzLnByb3BzLCBzY3JvbGxPZmZzZXQsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgdmFyIHN0b3BJbmRleCA9IGdldFN0b3BJbmRleEZvclN0YXJ0SW5kZXgodGhpcy5wcm9wcywgc3RhcnRJbmRleCwgc2Nyb2xsT2Zmc2V0LCB0aGlzLl9pbnN0YW5jZVByb3BzKTsgLy8gT3ZlcnNjYW4gYnkgb25lIGl0ZW0gaW4gZWFjaCBkaXJlY3Rpb24gc28gdGhhdCB0YWIvZm9jdXMgd29ya3MuXG4gICAgICAvLyBJZiB0aGVyZSBpc24ndCBhdCBsZWFzdCBvbmUgZXh0cmEgaXRlbSwgdGFiIGxvb3BzIGJhY2sgYXJvdW5kLlxuXG4gICAgICB2YXIgb3ZlcnNjYW5CYWNrd2FyZCA9ICFpc1Njcm9sbGluZyB8fCBzY3JvbGxEaXJlY3Rpb24gPT09ICdiYWNrd2FyZCcgPyBNYXRoLm1heCgxLCBvdmVyc2NhbkNvdW50KSA6IDE7XG4gICAgICB2YXIgb3ZlcnNjYW5Gb3J3YXJkID0gIWlzU2Nyb2xsaW5nIHx8IHNjcm9sbERpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnID8gTWF0aC5tYXgoMSwgb3ZlcnNjYW5Db3VudCkgOiAxO1xuICAgICAgcmV0dXJuIFtNYXRoLm1heCgwLCBzdGFydEluZGV4IC0gb3ZlcnNjYW5CYWNrd2FyZCksIE1hdGgubWF4KDAsIE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIHN0b3BJbmRleCArIG92ZXJzY2FuRm9yd2FyZCkpLCBzdGFydEluZGV4LCBzdG9wSW5kZXhdO1xuICAgIH07XG5cbiAgICByZXR1cm4gTGlzdDtcbiAgfShQdXJlQ29tcG9uZW50KSwgX2NsYXNzLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgIGl0ZW1EYXRhOiB1bmRlZmluZWQsXG4gICAgbGF5b3V0OiAndmVydGljYWwnLFxuICAgIG92ZXJzY2FuQ291bnQ6IDIsXG4gICAgdXNlSXNTY3JvbGxpbmc6IGZhbHNlXG4gIH0sIF90ZW1wO1xufSAvLyBOT1RFOiBJIGNvbnNpZGVyZWQgZnVydGhlciB3cmFwcGluZyBpbmRpdmlkdWFsIGl0ZW1zIHdpdGggYSBwdXJlIExpc3RJdGVtIGNvbXBvbmVudC5cbi8vIFRoaXMgd291bGQgYXZvaWQgZXZlciBjYWxsaW5nIHRoZSByZW5kZXIgZnVuY3Rpb24gZm9yIHRoZSBzYW1lIGluZGV4IG1vcmUgdGhhbiBvbmNlLFxuLy8gQnV0IGl0IHdvdWxkIGFsc28gYWRkIHRoZSBvdmVyaGVhZCBvZiBhIGxvdCBvZiBjb21wb25lbnRzL2ZpYmVycy5cbi8vIEkgYXNzdW1lIHBlb3BsZSBhbHJlYWR5IGRvIHRoaXMgKHJlbmRlciBmdW5jdGlvbiByZXR1cm5pbmcgYSBjbGFzcyBjb21wb25lbnQpLFxuLy8gU28gbXkgZG9pbmcgaXQgd291bGQganVzdCB1bm5lY2Vzc2FyaWx5IGRvdWJsZSB0aGUgd3JhcHBlcnMuXG5cbnZhciB2YWxpZGF0ZVNoYXJlZFByb3BzJDEgPSBmdW5jdGlvbiB2YWxpZGF0ZVNoYXJlZFByb3BzKF9yZWYyLCBfcmVmMykge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmMi5jaGlsZHJlbixcbiAgICAgIGRpcmVjdGlvbiA9IF9yZWYyLmRpcmVjdGlvbixcbiAgICAgIGhlaWdodCA9IF9yZWYyLmhlaWdodCxcbiAgICAgIGxheW91dCA9IF9yZWYyLmxheW91dCxcbiAgICAgIGlubmVyVGFnTmFtZSA9IF9yZWYyLmlubmVyVGFnTmFtZSxcbiAgICAgIG91dGVyVGFnTmFtZSA9IF9yZWYyLm91dGVyVGFnTmFtZSxcbiAgICAgIHdpZHRoID0gX3JlZjIud2lkdGg7XG4gIHZhciBpbnN0YW5jZSA9IF9yZWYzLmluc3RhbmNlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGlubmVyVGFnTmFtZSAhPSBudWxsIHx8IG91dGVyVGFnTmFtZSAhPSBudWxsKSB7XG4gICAgICBpZiAoZGV2V2FybmluZ3NUYWdOYW1lJDEgJiYgIWRldldhcm5pbmdzVGFnTmFtZSQxLmhhcyhpbnN0YW5jZSkpIHtcbiAgICAgICAgZGV2V2FybmluZ3NUYWdOYW1lJDEuYWRkKGluc3RhbmNlKTtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgaW5uZXJUYWdOYW1lIGFuZCBvdXRlclRhZ05hbWUgcHJvcHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuICcgKyAnUGxlYXNlIHVzZSB0aGUgaW5uZXJFbGVtZW50VHlwZSBhbmQgb3V0ZXJFbGVtZW50VHlwZSBwcm9wcyBpbnN0ZWFkLicpO1xuICAgICAgfVxuICAgIH0gLy8gVE9ETyBEZXByZWNhdGUgZGlyZWN0aW9uIFwiaG9yaXpvbnRhbFwiXG5cblxuICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcblxuICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlICdob3Jpem9udGFsJzpcbiAgICAgIGNhc2UgJ3ZlcnRpY2FsJzpcbiAgICAgICAgaWYgKGRldldhcm5pbmdzRGlyZWN0aW9uICYmICFkZXZXYXJuaW5nc0RpcmVjdGlvbi5oYXMoaW5zdGFuY2UpKSB7XG4gICAgICAgICAgZGV2V2FybmluZ3NEaXJlY3Rpb24uYWRkKGluc3RhbmNlKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBkaXJlY3Rpb24gcHJvcCBzaG91bGQgYmUgZWl0aGVyIFwibHRyXCIgKGRlZmF1bHQpIG9yIFwicnRsXCIuICcgKyAnUGxlYXNlIHVzZSB0aGUgbGF5b3V0IHByb3AgdG8gc3BlY2lmeSBcInZlcnRpY2FsXCIgKGRlZmF1bHQpIG9yIFwiaG9yaXpvbnRhbFwiIG9yaWVudGF0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2x0cic6XG4gICAgICBjYXNlICdydGwnOlxuICAgICAgICAvLyBWYWxpZCB2YWx1ZXNcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwiZGlyZWN0aW9uXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGVpdGhlciBcImx0clwiIG9yIFwicnRsXCIuICcgKyAoXCJcXFwiXCIgKyBkaXJlY3Rpb24gKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgIH1cblxuICAgIHN3aXRjaCAobGF5b3V0KSB7XG4gICAgICBjYXNlICdob3Jpem9udGFsJzpcbiAgICAgIGNhc2UgJ3ZlcnRpY2FsJzpcbiAgICAgICAgLy8gVmFsaWQgdmFsdWVzXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcImxheW91dFwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBlaXRoZXIgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiLiAnICsgKFwiXFxcIlwiICsgbGF5b3V0ICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJjaGlsZHJlblwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBhIFJlYWN0IGNvbXBvbmVudC4gJyArIChcIlxcXCJcIiArIChjaGlsZHJlbiA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBjaGlsZHJlbikgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgIH1cblxuICAgIGlmIChpc0hvcml6b250YWwgJiYgdHlwZW9mIHdpZHRoICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJ3aWR0aFwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ0hvcml6b250YWwgbGlzdHMgbXVzdCBzcGVjaWZ5IGEgbnVtYmVyIGZvciB3aWR0aC4gJyArIChcIlxcXCJcIiArICh3aWR0aCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiB3aWR0aCkgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgIH0gZWxzZSBpZiAoIWlzSG9yaXpvbnRhbCAmJiB0eXBlb2YgaGVpZ2h0ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJoZWlnaHRcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWZXJ0aWNhbCBsaXN0cyBtdXN0IHNwZWNpZnkgYSBudW1iZXIgZm9yIGhlaWdodC4gJyArIChcIlxcXCJcIiArIChoZWlnaHQgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgaGVpZ2h0KSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgREVGQVVMVF9FU1RJTUFURURfSVRFTV9TSVpFJDEgPSA1MDtcblxudmFyIGdldEl0ZW1NZXRhZGF0YSQxID0gZnVuY3Rpb24gZ2V0SXRlbU1ldGFkYXRhKHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykge1xuICB2YXIgX3JlZiA9IHByb3BzLFxuICAgICAgaXRlbVNpemUgPSBfcmVmLml0ZW1TaXplO1xuICB2YXIgaXRlbU1ldGFkYXRhTWFwID0gaW5zdGFuY2VQcm9wcy5pdGVtTWV0YWRhdGFNYXAsXG4gICAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkSW5kZXg7XG5cbiAgaWYgKGluZGV4ID4gbGFzdE1lYXN1cmVkSW5kZXgpIHtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcblxuICAgIGlmIChsYXN0TWVhc3VyZWRJbmRleCA+PSAwKSB7XG4gICAgICB2YXIgaXRlbU1ldGFkYXRhID0gaXRlbU1ldGFkYXRhTWFwW2xhc3RNZWFzdXJlZEluZGV4XTtcbiAgICAgIG9mZnNldCA9IGl0ZW1NZXRhZGF0YS5vZmZzZXQgKyBpdGVtTWV0YWRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gbGFzdE1lYXN1cmVkSW5kZXggKyAxOyBpIDw9IGluZGV4OyBpKyspIHtcbiAgICAgIHZhciBzaXplID0gaXRlbVNpemUoaSk7XG4gICAgICBpdGVtTWV0YWRhdGFNYXBbaV0gPSB7XG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBzaXplOiBzaXplXG4gICAgICB9O1xuICAgICAgb2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuXG4gICAgaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRJbmRleCA9IGluZGV4O1xuICB9XG5cbiAgcmV0dXJuIGl0ZW1NZXRhZGF0YU1hcFtpbmRleF07XG59O1xuXG52YXIgZmluZE5lYXJlc3RJdGVtJDEgPSBmdW5jdGlvbiBmaW5kTmVhcmVzdEl0ZW0ocHJvcHMsIGluc3RhbmNlUHJvcHMsIG9mZnNldCkge1xuICB2YXIgaXRlbU1ldGFkYXRhTWFwID0gaW5zdGFuY2VQcm9wcy5pdGVtTWV0YWRhdGFNYXAsXG4gICAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkSW5kZXg7XG4gIHZhciBsYXN0TWVhc3VyZWRJdGVtT2Zmc2V0ID0gbGFzdE1lYXN1cmVkSW5kZXggPiAwID8gaXRlbU1ldGFkYXRhTWFwW2xhc3RNZWFzdXJlZEluZGV4XS5vZmZzZXQgOiAwO1xuXG4gIGlmIChsYXN0TWVhc3VyZWRJdGVtT2Zmc2V0ID49IG9mZnNldCkge1xuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgbWVhc3VyZWQgaXRlbXMgd2l0aGluIHRoaXMgcmFuZ2UganVzdCB1c2UgYSBiaW5hcnkgc2VhcmNoIGFzIGl0J3MgZmFzdGVyLlxuICAgIHJldHVybiBmaW5kTmVhcmVzdEl0ZW1CaW5hcnlTZWFyY2gkMShwcm9wcywgaW5zdGFuY2VQcm9wcywgbGFzdE1lYXN1cmVkSW5kZXgsIDAsIG9mZnNldCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgd2UgaGF2ZW4ndCB5ZXQgbWVhc3VyZWQgdGhpcyBoaWdoLCBmYWxsYmFjayB0byBhbiBleHBvbmVudGlhbCBzZWFyY2ggd2l0aCBhbiBpbm5lciBiaW5hcnkgc2VhcmNoLlxuICAgIC8vIFRoZSBleHBvbmVudGlhbCBzZWFyY2ggYXZvaWRzIHByZS1jb21wdXRpbmcgc2l6ZXMgZm9yIHRoZSBmdWxsIHNldCBvZiBpdGVtcyBhcyBhIGJpbmFyeSBzZWFyY2ggd291bGQuXG4gICAgLy8gVGhlIG92ZXJhbGwgY29tcGxleGl0eSBmb3IgdGhpcyBhcHByb2FjaCBpcyBPKGxvZyBuKS5cbiAgICByZXR1cm4gZmluZE5lYXJlc3RJdGVtRXhwb25lbnRpYWxTZWFyY2gkMShwcm9wcywgaW5zdGFuY2VQcm9wcywgTWF0aC5tYXgoMCwgbGFzdE1lYXN1cmVkSW5kZXgpLCBvZmZzZXQpO1xuICB9XG59O1xuXG52YXIgZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoJDEgPSBmdW5jdGlvbiBmaW5kTmVhcmVzdEl0ZW1CaW5hcnlTZWFyY2gocHJvcHMsIGluc3RhbmNlUHJvcHMsIGhpZ2gsIGxvdywgb2Zmc2V0KSB7XG4gIHdoaWxlIChsb3cgPD0gaGlnaCkge1xuICAgIHZhciBtaWRkbGUgPSBsb3cgKyBNYXRoLmZsb29yKChoaWdoIC0gbG93KSAvIDIpO1xuICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gZ2V0SXRlbU1ldGFkYXRhJDEocHJvcHMsIG1pZGRsZSwgaW5zdGFuY2VQcm9wcykub2Zmc2V0O1xuXG4gICAgaWYgKGN1cnJlbnRPZmZzZXQgPT09IG9mZnNldCkge1xuICAgICAgcmV0dXJuIG1pZGRsZTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRPZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgIGxvdyA9IG1pZGRsZSArIDE7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50T2Zmc2V0ID4gb2Zmc2V0KSB7XG4gICAgICBoaWdoID0gbWlkZGxlIC0gMTtcbiAgICB9XG4gIH1cblxuICBpZiAobG93ID4gMCkge1xuICAgIHJldHVybiBsb3cgLSAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuXG52YXIgZmluZE5lYXJlc3RJdGVtRXhwb25lbnRpYWxTZWFyY2gkMSA9IGZ1bmN0aW9uIGZpbmROZWFyZXN0SXRlbUV4cG9uZW50aWFsU2VhcmNoKHByb3BzLCBpbnN0YW5jZVByb3BzLCBpbmRleCwgb2Zmc2V0KSB7XG4gIHZhciBpdGVtQ291bnQgPSBwcm9wcy5pdGVtQ291bnQ7XG4gIHZhciBpbnRlcnZhbCA9IDE7XG5cbiAgd2hpbGUgKGluZGV4IDwgaXRlbUNvdW50ICYmIGdldEl0ZW1NZXRhZGF0YSQxKHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykub2Zmc2V0IDwgb2Zmc2V0KSB7XG4gICAgaW5kZXggKz0gaW50ZXJ2YWw7XG4gICAgaW50ZXJ2YWwgKj0gMjtcbiAgfVxuXG4gIHJldHVybiBmaW5kTmVhcmVzdEl0ZW1CaW5hcnlTZWFyY2gkMShwcm9wcywgaW5zdGFuY2VQcm9wcywgTWF0aC5taW4oaW5kZXgsIGl0ZW1Db3VudCAtIDEpLCBNYXRoLmZsb29yKGluZGV4IC8gMiksIG9mZnNldCk7XG59O1xuXG52YXIgZ2V0RXN0aW1hdGVkVG90YWxTaXplID0gZnVuY3Rpb24gZ2V0RXN0aW1hdGVkVG90YWxTaXplKF9yZWYyLCBfcmVmMykge1xuICB2YXIgaXRlbUNvdW50ID0gX3JlZjIuaXRlbUNvdW50O1xuICB2YXIgaXRlbU1ldGFkYXRhTWFwID0gX3JlZjMuaXRlbU1ldGFkYXRhTWFwLFxuICAgICAgZXN0aW1hdGVkSXRlbVNpemUgPSBfcmVmMy5lc3RpbWF0ZWRJdGVtU2l6ZSxcbiAgICAgIGxhc3RNZWFzdXJlZEluZGV4ID0gX3JlZjMubGFzdE1lYXN1cmVkSW5kZXg7XG4gIHZhciB0b3RhbFNpemVPZk1lYXN1cmVkSXRlbXMgPSAwOyAvLyBFZGdlIGNhc2UgY2hlY2sgZm9yIHdoZW4gdGhlIG51bWJlciBvZiBpdGVtcyBkZWNyZWFzZXMgd2hpbGUgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9idmF1Z2huL3JlYWN0LXdpbmRvdy9wdWxsLzEzOFxuXG4gIGlmIChsYXN0TWVhc3VyZWRJbmRleCA+PSBpdGVtQ291bnQpIHtcbiAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGl0ZW1Db3VudCAtIDE7XG4gIH1cblxuICBpZiAobGFzdE1lYXN1cmVkSW5kZXggPj0gMCkge1xuICAgIHZhciBpdGVtTWV0YWRhdGEgPSBpdGVtTWV0YWRhdGFNYXBbbGFzdE1lYXN1cmVkSW5kZXhdO1xuICAgIHRvdGFsU2l6ZU9mTWVhc3VyZWRJdGVtcyA9IGl0ZW1NZXRhZGF0YS5vZmZzZXQgKyBpdGVtTWV0YWRhdGEuc2l6ZTtcbiAgfVxuXG4gIHZhciBudW1Vbm1lYXN1cmVkSXRlbXMgPSBpdGVtQ291bnQgLSBsYXN0TWVhc3VyZWRJbmRleCAtIDE7XG4gIHZhciB0b3RhbFNpemVPZlVubWVhc3VyZWRJdGVtcyA9IG51bVVubWVhc3VyZWRJdGVtcyAqIGVzdGltYXRlZEl0ZW1TaXplO1xuICByZXR1cm4gdG90YWxTaXplT2ZNZWFzdXJlZEl0ZW1zICsgdG90YWxTaXplT2ZVbm1lYXN1cmVkSXRlbXM7XG59O1xuXG52YXIgVmFyaWFibGVTaXplTGlzdCA9XG4vKiNfX1BVUkVfXyovXG5jcmVhdGVMaXN0Q29tcG9uZW50KHtcbiAgZ2V0SXRlbU9mZnNldDogZnVuY3Rpb24gZ2V0SXRlbU9mZnNldChwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gZ2V0SXRlbU1ldGFkYXRhJDEocHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKS5vZmZzZXQ7XG4gIH0sXG4gIGdldEl0ZW1TaXplOiBmdW5jdGlvbiBnZXRJdGVtU2l6ZShwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VQcm9wcy5pdGVtTWV0YWRhdGFNYXBbaW5kZXhdLnNpemU7XG4gIH0sXG4gIGdldEVzdGltYXRlZFRvdGFsU2l6ZTogZ2V0RXN0aW1hdGVkVG90YWxTaXplLFxuICBnZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudDogZnVuY3Rpb24gZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQocHJvcHMsIGluZGV4LCBhbGlnbiwgc2Nyb2xsT2Zmc2V0LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcbiAgICAgICAgaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0LFxuICAgICAgICBsYXlvdXQgPSBwcm9wcy5sYXlvdXQsXG4gICAgICAgIHdpZHRoID0gcHJvcHMud2lkdGg7IC8vIFRPRE8gRGVwcmVjYXRlIGRpcmVjdGlvbiBcImhvcml6b250YWxcIlxuXG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnIHx8IGxheW91dCA9PT0gJ2hvcml6b250YWwnO1xuICAgIHZhciBzaXplID0gaXNIb3Jpem9udGFsID8gd2lkdGggOiBoZWlnaHQ7XG4gICAgdmFyIGl0ZW1NZXRhZGF0YSA9IGdldEl0ZW1NZXRhZGF0YSQxKHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcyk7IC8vIEdldCBlc3RpbWF0ZWQgdG90YWwgc2l6ZSBhZnRlciBJdGVtTWV0YWRhdGEgaXMgY29tcHV0ZWQsXG4gICAgLy8gVG8gZW5zdXJlIGl0IHJlZmxlY3RzIGFjdHVhbCBtZWFzdXJlbWVudHMgaW5zdGVhZCBvZiBqdXN0IGVzdGltYXRlcy5cblxuICAgIHZhciBlc3RpbWF0ZWRUb3RhbFNpemUgPSBnZXRFc3RpbWF0ZWRUb3RhbFNpemUocHJvcHMsIGluc3RhbmNlUHJvcHMpO1xuICAgIHZhciBtYXhPZmZzZXQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihlc3RpbWF0ZWRUb3RhbFNpemUgLSBzaXplLCBpdGVtTWV0YWRhdGEub2Zmc2V0KSk7XG4gICAgdmFyIG1pbk9mZnNldCA9IE1hdGgubWF4KDAsIGl0ZW1NZXRhZGF0YS5vZmZzZXQgLSBzaXplICsgaXRlbU1ldGFkYXRhLnNpemUpO1xuXG4gICAgaWYgKGFsaWduID09PSAnc21hcnQnKSB7XG4gICAgICBpZiAoc2Nyb2xsT2Zmc2V0ID49IG1pbk9mZnNldCAtIHNpemUgJiYgc2Nyb2xsT2Zmc2V0IDw9IG1heE9mZnNldCArIHNpemUpIHtcbiAgICAgICAgYWxpZ24gPSAnYXV0byc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGlnbiA9ICdjZW50ZXInO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAoYWxpZ24pIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgcmV0dXJuIG1heE9mZnNldDtcblxuICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcblxuICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobWluT2Zmc2V0ICsgKG1heE9mZnNldCAtIG1pbk9mZnNldCkgLyAyKTtcblxuICAgICAgY2FzZSAnYXV0byc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2Nyb2xsT2Zmc2V0ID49IG1pbk9mZnNldCAmJiBzY3JvbGxPZmZzZXQgPD0gbWF4T2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNjcm9sbE9mZnNldDtcbiAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxPZmZzZXQgPCBtaW5PZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4gbWluT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtYXhPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgIH1cbiAgfSxcbiAgZ2V0U3RhcnRJbmRleEZvck9mZnNldDogZnVuY3Rpb24gZ2V0U3RhcnRJbmRleEZvck9mZnNldChwcm9wcywgb2Zmc2V0LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGZpbmROZWFyZXN0SXRlbSQxKHByb3BzLCBpbnN0YW5jZVByb3BzLCBvZmZzZXQpO1xuICB9LFxuICBnZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4OiBmdW5jdGlvbiBnZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4KHByb3BzLCBzdGFydEluZGV4LCBzY3JvbGxPZmZzZXQsIGluc3RhbmNlUHJvcHMpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQsXG4gICAgICAgIGl0ZW1Db3VudCA9IHByb3BzLml0ZW1Db3VudCxcbiAgICAgICAgbGF5b3V0ID0gcHJvcHMubGF5b3V0LFxuICAgICAgICB3aWR0aCA9IHByb3BzLndpZHRoOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICB2YXIgc2l6ZSA9IGlzSG9yaXpvbnRhbCA/IHdpZHRoIDogaGVpZ2h0O1xuICAgIHZhciBpdGVtTWV0YWRhdGEgPSBnZXRJdGVtTWV0YWRhdGEkMShwcm9wcywgc3RhcnRJbmRleCwgaW5zdGFuY2VQcm9wcyk7XG4gICAgdmFyIG1heE9mZnNldCA9IHNjcm9sbE9mZnNldCArIHNpemU7XG4gICAgdmFyIG9mZnNldCA9IGl0ZW1NZXRhZGF0YS5vZmZzZXQgKyBpdGVtTWV0YWRhdGEuc2l6ZTtcbiAgICB2YXIgc3RvcEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIHdoaWxlIChzdG9wSW5kZXggPCBpdGVtQ291bnQgLSAxICYmIG9mZnNldCA8IG1heE9mZnNldCkge1xuICAgICAgc3RvcEluZGV4Kys7XG4gICAgICBvZmZzZXQgKz0gZ2V0SXRlbU1ldGFkYXRhJDEocHJvcHMsIHN0b3BJbmRleCwgaW5zdGFuY2VQcm9wcykuc2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcEluZGV4O1xuICB9LFxuICBpbml0SW5zdGFuY2VQcm9wczogZnVuY3Rpb24gaW5pdEluc3RhbmNlUHJvcHMocHJvcHMsIGluc3RhbmNlKSB7XG4gICAgdmFyIF9yZWY0ID0gcHJvcHMsXG4gICAgICAgIGVzdGltYXRlZEl0ZW1TaXplID0gX3JlZjQuZXN0aW1hdGVkSXRlbVNpemU7XG4gICAgdmFyIGluc3RhbmNlUHJvcHMgPSB7XG4gICAgICBpdGVtTWV0YWRhdGFNYXA6IHt9LFxuICAgICAgZXN0aW1hdGVkSXRlbVNpemU6IGVzdGltYXRlZEl0ZW1TaXplIHx8IERFRkFVTFRfRVNUSU1BVEVEX0lURU1fU0laRSQxLFxuICAgICAgbGFzdE1lYXN1cmVkSW5kZXg6IC0xXG4gICAgfTtcblxuICAgIGluc3RhbmNlLnJlc2V0QWZ0ZXJJbmRleCA9IGZ1bmN0aW9uIChpbmRleCwgc2hvdWxkRm9yY2VVcGRhdGUpIHtcbiAgICAgIGlmIChzaG91bGRGb3JjZVVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNob3VsZEZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRJbmRleCA9IE1hdGgubWluKGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkSW5kZXgsIGluZGV4IC0gMSk7IC8vIFdlIGNvdWxkIHBvdGVudGlhbGx5IG9wdGltaXplIGZ1cnRoZXIgYnkgb25seSBldmljdGluZyBzdHlsZXMgYWZ0ZXIgdGhpcyBpbmRleCxcbiAgICAgIC8vIEJ1dCBzaW5jZSBzdHlsZXMgYXJlIG9ubHkgY2FjaGVkIHdoaWxlIHNjcm9sbGluZyBpcyBpbiBwcm9ncmVzcy1cbiAgICAgIC8vIEl0IHNlZW1zIGFuIHVubmVjZXNzYXJ5IG9wdGltaXphdGlvbi5cbiAgICAgIC8vIEl0J3MgdW5saWtlbHkgdGhhdCByZXNldEFmdGVySW5kZXgoKSB3aWxsIGJlIGNhbGxlZCB3aGlsZSBhIHVzZXIgaXMgc2Nyb2xsaW5nLlxuXG4gICAgICBpbnN0YW5jZS5fZ2V0SXRlbVN0eWxlQ2FjaGUoLTEpO1xuXG4gICAgICBpZiAoc2hvdWxkRm9yY2VVcGRhdGUpIHtcbiAgICAgICAgaW5zdGFuY2UuZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGluc3RhbmNlUHJvcHM7XG4gIH0sXG4gIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2U6IGZhbHNlLFxuICB2YWxpZGF0ZVByb3BzOiBmdW5jdGlvbiB2YWxpZGF0ZVByb3BzKF9yZWY1KSB7XG4gICAgdmFyIGl0ZW1TaXplID0gX3JlZjUuaXRlbVNpemU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtU2l6ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcIml0ZW1TaXplXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGEgZnVuY3Rpb24uICcgKyAoXCJcXFwiXCIgKyAoaXRlbVNpemUgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgaXRlbVNpemUpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgRml4ZWRTaXplR3JpZCA9XG4vKiNfX1BVUkVfXyovXG5jcmVhdGVHcmlkQ29tcG9uZW50KHtcbiAgZ2V0Q29sdW1uT2Zmc2V0OiBmdW5jdGlvbiBnZXRDb2x1bW5PZmZzZXQoX3JlZiwgaW5kZXgpIHtcbiAgICB2YXIgY29sdW1uV2lkdGggPSBfcmVmLmNvbHVtbldpZHRoO1xuICAgIHJldHVybiBpbmRleCAqIGNvbHVtbldpZHRoO1xuICB9LFxuICBnZXRDb2x1bW5XaWR0aDogZnVuY3Rpb24gZ2V0Q29sdW1uV2lkdGgoX3JlZjIsIGluZGV4KSB7XG4gICAgdmFyIGNvbHVtbldpZHRoID0gX3JlZjIuY29sdW1uV2lkdGg7XG4gICAgcmV0dXJuIGNvbHVtbldpZHRoO1xuICB9LFxuICBnZXRSb3dPZmZzZXQ6IGZ1bmN0aW9uIGdldFJvd09mZnNldChfcmVmMywgaW5kZXgpIHtcbiAgICB2YXIgcm93SGVpZ2h0ID0gX3JlZjMucm93SGVpZ2h0O1xuICAgIHJldHVybiBpbmRleCAqIHJvd0hlaWdodDtcbiAgfSxcbiAgZ2V0Um93SGVpZ2h0OiBmdW5jdGlvbiBnZXRSb3dIZWlnaHQoX3JlZjQsIGluZGV4KSB7XG4gICAgdmFyIHJvd0hlaWdodCA9IF9yZWY0LnJvd0hlaWdodDtcbiAgICByZXR1cm4gcm93SGVpZ2h0O1xuICB9LFxuICBnZXRFc3RpbWF0ZWRUb3RhbEhlaWdodDogZnVuY3Rpb24gZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQoX3JlZjUpIHtcbiAgICB2YXIgcm93Q291bnQgPSBfcmVmNS5yb3dDb3VudCxcbiAgICAgICAgcm93SGVpZ2h0ID0gX3JlZjUucm93SGVpZ2h0O1xuICAgIHJldHVybiByb3dIZWlnaHQgKiByb3dDb3VudDtcbiAgfSxcbiAgZ2V0RXN0aW1hdGVkVG90YWxXaWR0aDogZnVuY3Rpb24gZ2V0RXN0aW1hdGVkVG90YWxXaWR0aChfcmVmNikge1xuICAgIHZhciBjb2x1bW5Db3VudCA9IF9yZWY2LmNvbHVtbkNvdW50LFxuICAgICAgICBjb2x1bW5XaWR0aCA9IF9yZWY2LmNvbHVtbldpZHRoO1xuICAgIHJldHVybiBjb2x1bW5XaWR0aCAqIGNvbHVtbkNvdW50O1xuICB9LFxuICBnZXRPZmZzZXRGb3JDb2x1bW5BbmRBbGlnbm1lbnQ6IGZ1bmN0aW9uIGdldE9mZnNldEZvckNvbHVtbkFuZEFsaWdubWVudChfcmVmNywgY29sdW1uSW5kZXgsIGFsaWduLCBzY3JvbGxMZWZ0LCBpbnN0YW5jZVByb3BzLCBzY3JvbGxiYXJTaXplKSB7XG4gICAgdmFyIGNvbHVtbkNvdW50ID0gX3JlZjcuY29sdW1uQ291bnQsXG4gICAgICAgIGNvbHVtbldpZHRoID0gX3JlZjcuY29sdW1uV2lkdGgsXG4gICAgICAgIHdpZHRoID0gX3JlZjcud2lkdGg7XG4gICAgdmFyIGxhc3RDb2x1bW5PZmZzZXQgPSBNYXRoLm1heCgwLCBjb2x1bW5Db3VudCAqIGNvbHVtbldpZHRoIC0gd2lkdGgpO1xuICAgIHZhciBtYXhPZmZzZXQgPSBNYXRoLm1pbihsYXN0Q29sdW1uT2Zmc2V0LCBjb2x1bW5JbmRleCAqIGNvbHVtbldpZHRoKTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gTWF0aC5tYXgoMCwgY29sdW1uSW5kZXggKiBjb2x1bW5XaWR0aCAtIHdpZHRoICsgc2Nyb2xsYmFyU2l6ZSArIGNvbHVtbldpZHRoKTtcblxuICAgIGlmIChhbGlnbiA9PT0gJ3NtYXJ0Jykge1xuICAgICAgaWYgKHNjcm9sbExlZnQgPj0gbWluT2Zmc2V0IC0gd2lkdGggJiYgc2Nyb2xsTGVmdCA8PSBtYXhPZmZzZXQgKyB3aWR0aCkge1xuICAgICAgICBhbGlnbiA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsaWduID0gJ2NlbnRlcic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoIChhbGlnbikge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuXG4gICAgICBjYXNlICdlbmQnOlxuICAgICAgICByZXR1cm4gbWluT2Zmc2V0O1xuXG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICAvLyBcIkNlbnRlcmVkXCIgb2Zmc2V0IGlzIHVzdWFsbHkgdGhlIGF2ZXJhZ2Ugb2YgdGhlIG1pbiBhbmQgbWF4LlxuICAgICAgICAvLyBCdXQgbmVhciB0aGUgZWRnZXMgb2YgdGhlIGxpc3QsIHRoaXMgZG9lc24ndCBob2xkIHRydWUuXG4gICAgICAgIHZhciBtaWRkbGVPZmZzZXQgPSBNYXRoLnJvdW5kKG1pbk9mZnNldCArIChtYXhPZmZzZXQgLSBtaW5PZmZzZXQpIC8gMik7XG5cbiAgICAgICAgaWYgKG1pZGRsZU9mZnNldCA8IE1hdGguY2VpbCh3aWR0aCAvIDIpKSB7XG4gICAgICAgICAgcmV0dXJuIDA7IC8vIG5lYXIgdGhlIGJlZ2lubmluZ1xuICAgICAgICB9IGVsc2UgaWYgKG1pZGRsZU9mZnNldCA+IGxhc3RDb2x1bW5PZmZzZXQgKyBNYXRoLmZsb29yKHdpZHRoIC8gMikpIHtcbiAgICAgICAgICByZXR1cm4gbGFzdENvbHVtbk9mZnNldDsgLy8gbmVhciB0aGUgZW5kXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG1pZGRsZU9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdhdXRvJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID49IG1pbk9mZnNldCAmJiBzY3JvbGxMZWZ0IDw9IG1heE9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBzY3JvbGxMZWZ0O1xuICAgICAgICB9IGVsc2UgaWYgKG1pbk9mZnNldCA+IG1heE9mZnNldCkge1xuICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugb25seSB0YWtlIGludG8gYWNjb3VudCB0aGUgc2Nyb2xsYmFyIHNpemUgd2hlbiBjYWxjdWxhdGluZyBtaW5PZmZzZXRcbiAgICAgICAgICAvLyB0aGlzIHZhbHVlIGNhbiBiZSBsYXJnZXIgdGhhbiBtYXhPZmZzZXQgd2hlbiBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0XG4gICAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcbiAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxMZWZ0IDwgbWluT2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICB9XG4gIH0sXG4gIGdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudDogZnVuY3Rpb24gZ2V0T2Zmc2V0Rm9yUm93QW5kQWxpZ25tZW50KF9yZWY4LCByb3dJbmRleCwgYWxpZ24sIHNjcm9sbFRvcCwgaW5zdGFuY2VQcm9wcywgc2Nyb2xsYmFyU2l6ZSkge1xuICAgIHZhciByb3dIZWlnaHQgPSBfcmVmOC5yb3dIZWlnaHQsXG4gICAgICAgIGhlaWdodCA9IF9yZWY4LmhlaWdodCxcbiAgICAgICAgcm93Q291bnQgPSBfcmVmOC5yb3dDb3VudDtcbiAgICB2YXIgbGFzdFJvd09mZnNldCA9IE1hdGgubWF4KDAsIHJvd0NvdW50ICogcm93SGVpZ2h0IC0gaGVpZ2h0KTtcbiAgICB2YXIgbWF4T2Zmc2V0ID0gTWF0aC5taW4obGFzdFJvd09mZnNldCwgcm93SW5kZXggKiByb3dIZWlnaHQpO1xuICAgIHZhciBtaW5PZmZzZXQgPSBNYXRoLm1heCgwLCByb3dJbmRleCAqIHJvd0hlaWdodCAtIGhlaWdodCArIHNjcm9sbGJhclNpemUgKyByb3dIZWlnaHQpO1xuXG4gICAgaWYgKGFsaWduID09PSAnc21hcnQnKSB7XG4gICAgICBpZiAoc2Nyb2xsVG9wID49IG1pbk9mZnNldCAtIGhlaWdodCAmJiBzY3JvbGxUb3AgPD0gbWF4T2Zmc2V0ICsgaGVpZ2h0KSB7XG4gICAgICAgIGFsaWduID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxpZ24gPSAnY2VudGVyJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgIHJldHVybiBtYXhPZmZzZXQ7XG5cbiAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG5cbiAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgIC8vIFwiQ2VudGVyZWRcIiBvZmZzZXQgaXMgdXN1YWxseSB0aGUgYXZlcmFnZSBvZiB0aGUgbWluIGFuZCBtYXguXG4gICAgICAgIC8vIEJ1dCBuZWFyIHRoZSBlZGdlcyBvZiB0aGUgbGlzdCwgdGhpcyBkb2Vzbid0IGhvbGQgdHJ1ZS5cbiAgICAgICAgdmFyIG1pZGRsZU9mZnNldCA9IE1hdGgucm91bmQobWluT2Zmc2V0ICsgKG1heE9mZnNldCAtIG1pbk9mZnNldCkgLyAyKTtcblxuICAgICAgICBpZiAobWlkZGxlT2Zmc2V0IDwgTWF0aC5jZWlsKGhlaWdodCAvIDIpKSB7XG4gICAgICAgICAgcmV0dXJuIDA7IC8vIG5lYXIgdGhlIGJlZ2lubmluZ1xuICAgICAgICB9IGVsc2UgaWYgKG1pZGRsZU9mZnNldCA+IGxhc3RSb3dPZmZzZXQgKyBNYXRoLmZsb29yKGhlaWdodCAvIDIpKSB7XG4gICAgICAgICAgcmV0dXJuIGxhc3RSb3dPZmZzZXQ7IC8vIG5lYXIgdGhlIGVuZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtaWRkbGVPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnYXV0byc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2Nyb2xsVG9wID49IG1pbk9mZnNldCAmJiBzY3JvbGxUb3AgPD0gbWF4T2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNjcm9sbFRvcDtcbiAgICAgICAgfSBlbHNlIGlmIChtaW5PZmZzZXQgPiBtYXhPZmZzZXQpIHtcbiAgICAgICAgICAvLyBCZWNhdXNlIHdlIG9ubHkgdGFrZSBpbnRvIGFjY291bnQgdGhlIHNjcm9sbGJhciBzaXplIHdoZW4gY2FsY3VsYXRpbmcgbWluT2Zmc2V0XG4gICAgICAgICAgLy8gdGhpcyB2YWx1ZSBjYW4gYmUgbGFyZ2VyIHRoYW4gbWF4T2Zmc2V0IHdoZW4gYXQgdGhlIGVuZCBvZiB0aGUgbGlzdFxuICAgICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9wIDwgbWluT2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICB9XG4gIH0sXG4gIGdldENvbHVtblN0YXJ0SW5kZXhGb3JPZmZzZXQ6IGZ1bmN0aW9uIGdldENvbHVtblN0YXJ0SW5kZXhGb3JPZmZzZXQoX3JlZjksIHNjcm9sbExlZnQpIHtcbiAgICB2YXIgY29sdW1uV2lkdGggPSBfcmVmOS5jb2x1bW5XaWR0aCxcbiAgICAgICAgY29sdW1uQ291bnQgPSBfcmVmOS5jb2x1bW5Db3VudDtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oY29sdW1uQ291bnQgLSAxLCBNYXRoLmZsb29yKHNjcm9sbExlZnQgLyBjb2x1bW5XaWR0aCkpKTtcbiAgfSxcbiAgZ2V0Q29sdW1uU3RvcEluZGV4Rm9yU3RhcnRJbmRleDogZnVuY3Rpb24gZ2V0Q29sdW1uU3RvcEluZGV4Rm9yU3RhcnRJbmRleChfcmVmMTAsIHN0YXJ0SW5kZXgsIHNjcm9sbExlZnQpIHtcbiAgICB2YXIgY29sdW1uV2lkdGggPSBfcmVmMTAuY29sdW1uV2lkdGgsXG4gICAgICAgIGNvbHVtbkNvdW50ID0gX3JlZjEwLmNvbHVtbkNvdW50LFxuICAgICAgICB3aWR0aCA9IF9yZWYxMC53aWR0aDtcbiAgICB2YXIgbGVmdCA9IHN0YXJ0SW5kZXggKiBjb2x1bW5XaWR0aDtcbiAgICB2YXIgbnVtVmlzaWJsZUNvbHVtbnMgPSBNYXRoLmNlaWwoKHdpZHRoICsgc2Nyb2xsTGVmdCAtIGxlZnQpIC8gY29sdW1uV2lkdGgpO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihjb2x1bW5Db3VudCAtIDEsIHN0YXJ0SW5kZXggKyBudW1WaXNpYmxlQ29sdW1ucyAtIDEgLy8gLTEgaXMgYmVjYXVzZSBzdG9wIGluZGV4IGlzIGluY2x1c2l2ZVxuICAgICkpO1xuICB9LFxuICBnZXRSb3dTdGFydEluZGV4Rm9yT2Zmc2V0OiBmdW5jdGlvbiBnZXRSb3dTdGFydEluZGV4Rm9yT2Zmc2V0KF9yZWYxMSwgc2Nyb2xsVG9wKSB7XG4gICAgdmFyIHJvd0hlaWdodCA9IF9yZWYxMS5yb3dIZWlnaHQsXG4gICAgICAgIHJvd0NvdW50ID0gX3JlZjExLnJvd0NvdW50O1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihyb3dDb3VudCAtIDEsIE1hdGguZmxvb3Ioc2Nyb2xsVG9wIC8gcm93SGVpZ2h0KSkpO1xuICB9LFxuICBnZXRSb3dTdG9wSW5kZXhGb3JTdGFydEluZGV4OiBmdW5jdGlvbiBnZXRSb3dTdG9wSW5kZXhGb3JTdGFydEluZGV4KF9yZWYxMiwgc3RhcnRJbmRleCwgc2Nyb2xsVG9wKSB7XG4gICAgdmFyIHJvd0hlaWdodCA9IF9yZWYxMi5yb3dIZWlnaHQsXG4gICAgICAgIHJvd0NvdW50ID0gX3JlZjEyLnJvd0NvdW50LFxuICAgICAgICBoZWlnaHQgPSBfcmVmMTIuaGVpZ2h0O1xuICAgIHZhciB0b3AgPSBzdGFydEluZGV4ICogcm93SGVpZ2h0O1xuICAgIHZhciBudW1WaXNpYmxlUm93cyA9IE1hdGguY2VpbCgoaGVpZ2h0ICsgc2Nyb2xsVG9wIC0gdG9wKSAvIHJvd0hlaWdodCk7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHJvd0NvdW50IC0gMSwgc3RhcnRJbmRleCArIG51bVZpc2libGVSb3dzIC0gMSAvLyAtMSBpcyBiZWNhdXNlIHN0b3AgaW5kZXggaXMgaW5jbHVzaXZlXG4gICAgKSk7XG4gIH0sXG4gIGluaXRJbnN0YW5jZVByb3BzOiBmdW5jdGlvbiBpbml0SW5zdGFuY2VQcm9wcyhwcm9wcykgey8vIE5vb3BcbiAgfSxcbiAgc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZTogdHJ1ZSxcbiAgdmFsaWRhdGVQcm9wczogZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhfcmVmMTMpIHtcbiAgICB2YXIgY29sdW1uV2lkdGggPSBfcmVmMTMuY29sdW1uV2lkdGgsXG4gICAgICAgIHJvd0hlaWdodCA9IF9yZWYxMy5yb3dIZWlnaHQ7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBjb2x1bW5XaWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJjb2x1bW5XaWR0aFwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBhIG51bWJlci4gJyArIChcIlxcXCJcIiArIChjb2x1bW5XaWR0aCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBjb2x1bW5XaWR0aCkgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHJvd0hlaWdodCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJyb3dIZWlnaHRcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgYSBudW1iZXIuICcgKyAoXCJcXFwiXCIgKyAocm93SGVpZ2h0ID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHJvd0hlaWdodCkgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbnZhciBGaXhlZFNpemVMaXN0ID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZUxpc3RDb21wb25lbnQoe1xuICBnZXRJdGVtT2Zmc2V0OiBmdW5jdGlvbiBnZXRJdGVtT2Zmc2V0KF9yZWYsIGluZGV4KSB7XG4gICAgdmFyIGl0ZW1TaXplID0gX3JlZi5pdGVtU2l6ZTtcbiAgICByZXR1cm4gaW5kZXggKiBpdGVtU2l6ZTtcbiAgfSxcbiAgZ2V0SXRlbVNpemU6IGZ1bmN0aW9uIGdldEl0ZW1TaXplKF9yZWYyLCBpbmRleCkge1xuICAgIHZhciBpdGVtU2l6ZSA9IF9yZWYyLml0ZW1TaXplO1xuICAgIHJldHVybiBpdGVtU2l6ZTtcbiAgfSxcbiAgZ2V0RXN0aW1hdGVkVG90YWxTaXplOiBmdW5jdGlvbiBnZXRFc3RpbWF0ZWRUb3RhbFNpemUoX3JlZjMpIHtcbiAgICB2YXIgaXRlbUNvdW50ID0gX3JlZjMuaXRlbUNvdW50LFxuICAgICAgICBpdGVtU2l6ZSA9IF9yZWYzLml0ZW1TaXplO1xuICAgIHJldHVybiBpdGVtU2l6ZSAqIGl0ZW1Db3VudDtcbiAgfSxcbiAgZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQ6IGZ1bmN0aW9uIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50KF9yZWY0LCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBfcmVmNC5kaXJlY3Rpb24sXG4gICAgICAgIGhlaWdodCA9IF9yZWY0LmhlaWdodCxcbiAgICAgICAgaXRlbUNvdW50ID0gX3JlZjQuaXRlbUNvdW50LFxuICAgICAgICBpdGVtU2l6ZSA9IF9yZWY0Lml0ZW1TaXplLFxuICAgICAgICBsYXlvdXQgPSBfcmVmNC5sYXlvdXQsXG4gICAgICAgIHdpZHRoID0gX3JlZjQud2lkdGg7XG4gICAgLy8gVE9ETyBEZXByZWNhdGUgZGlyZWN0aW9uIFwiaG9yaXpvbnRhbFwiXG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnIHx8IGxheW91dCA9PT0gJ2hvcml6b250YWwnO1xuICAgIHZhciBzaXplID0gaXNIb3Jpem9udGFsID8gd2lkdGggOiBoZWlnaHQ7XG4gICAgdmFyIGxhc3RJdGVtT2Zmc2V0ID0gTWF0aC5tYXgoMCwgaXRlbUNvdW50ICogaXRlbVNpemUgLSBzaXplKTtcbiAgICB2YXIgbWF4T2Zmc2V0ID0gTWF0aC5taW4obGFzdEl0ZW1PZmZzZXQsIGluZGV4ICogaXRlbVNpemUpO1xuICAgIHZhciBtaW5PZmZzZXQgPSBNYXRoLm1heCgwLCBpbmRleCAqIGl0ZW1TaXplIC0gc2l6ZSArIGl0ZW1TaXplKTtcblxuICAgIGlmIChhbGlnbiA9PT0gJ3NtYXJ0Jykge1xuICAgICAgaWYgKHNjcm9sbE9mZnNldCA+PSBtaW5PZmZzZXQgLSBzaXplICYmIHNjcm9sbE9mZnNldCA8PSBtYXhPZmZzZXQgKyBzaXplKSB7XG4gICAgICAgIGFsaWduID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxpZ24gPSAnY2VudGVyJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgIHJldHVybiBtYXhPZmZzZXQ7XG5cbiAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG5cbiAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgIHtcbiAgICAgICAgICAvLyBcIkNlbnRlcmVkXCIgb2Zmc2V0IGlzIHVzdWFsbHkgdGhlIGF2ZXJhZ2Ugb2YgdGhlIG1pbiBhbmQgbWF4LlxuICAgICAgICAgIC8vIEJ1dCBuZWFyIHRoZSBlZGdlcyBvZiB0aGUgbGlzdCwgdGhpcyBkb2Vzbid0IGhvbGQgdHJ1ZS5cbiAgICAgICAgICB2YXIgbWlkZGxlT2Zmc2V0ID0gTWF0aC5yb3VuZChtaW5PZmZzZXQgKyAobWF4T2Zmc2V0IC0gbWluT2Zmc2V0KSAvIDIpO1xuXG4gICAgICAgICAgaWYgKG1pZGRsZU9mZnNldCA8IE1hdGguY2VpbChzaXplIC8gMikpIHtcbiAgICAgICAgICAgIHJldHVybiAwOyAvLyBuZWFyIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgICB9IGVsc2UgaWYgKG1pZGRsZU9mZnNldCA+IGxhc3RJdGVtT2Zmc2V0ICsgTWF0aC5mbG9vcihzaXplIC8gMikpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0SXRlbU9mZnNldDsgLy8gbmVhciB0aGUgZW5kXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaWRkbGVPZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNjcm9sbE9mZnNldCA+PSBtaW5PZmZzZXQgJiYgc2Nyb2xsT2Zmc2V0IDw9IG1heE9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBzY3JvbGxPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsT2Zmc2V0IDwgbWluT2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICB9XG4gIH0sXG4gIGdldFN0YXJ0SW5kZXhGb3JPZmZzZXQ6IGZ1bmN0aW9uIGdldFN0YXJ0SW5kZXhGb3JPZmZzZXQoX3JlZjUsIG9mZnNldCkge1xuICAgIHZhciBpdGVtQ291bnQgPSBfcmVmNS5pdGVtQ291bnQsXG4gICAgICAgIGl0ZW1TaXplID0gX3JlZjUuaXRlbVNpemU7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIE1hdGguZmxvb3Iob2Zmc2V0IC8gaXRlbVNpemUpKSk7XG4gIH0sXG4gIGdldFN0b3BJbmRleEZvclN0YXJ0SW5kZXg6IGZ1bmN0aW9uIGdldFN0b3BJbmRleEZvclN0YXJ0SW5kZXgoX3JlZjYsIHN0YXJ0SW5kZXgsIHNjcm9sbE9mZnNldCkge1xuICAgIHZhciBkaXJlY3Rpb24gPSBfcmVmNi5kaXJlY3Rpb24sXG4gICAgICAgIGhlaWdodCA9IF9yZWY2LmhlaWdodCxcbiAgICAgICAgaXRlbUNvdW50ID0gX3JlZjYuaXRlbUNvdW50LFxuICAgICAgICBpdGVtU2l6ZSA9IF9yZWY2Lml0ZW1TaXplLFxuICAgICAgICBsYXlvdXQgPSBfcmVmNi5sYXlvdXQsXG4gICAgICAgIHdpZHRoID0gX3JlZjYud2lkdGg7XG4gICAgLy8gVE9ETyBEZXByZWNhdGUgZGlyZWN0aW9uIFwiaG9yaXpvbnRhbFwiXG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnIHx8IGxheW91dCA9PT0gJ2hvcml6b250YWwnO1xuICAgIHZhciBvZmZzZXQgPSBzdGFydEluZGV4ICogaXRlbVNpemU7XG4gICAgdmFyIHNpemUgPSBpc0hvcml6b250YWwgPyB3aWR0aCA6IGhlaWdodDtcbiAgICB2YXIgbnVtVmlzaWJsZUl0ZW1zID0gTWF0aC5jZWlsKChzaXplICsgc2Nyb2xsT2Zmc2V0IC0gb2Zmc2V0KSAvIGl0ZW1TaXplKTtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgc3RhcnRJbmRleCArIG51bVZpc2libGVJdGVtcyAtIDEgLy8gLTEgaXMgYmVjYXVzZSBzdG9wIGluZGV4IGlzIGluY2x1c2l2ZVxuICAgICkpO1xuICB9LFxuICBpbml0SW5zdGFuY2VQcm9wczogZnVuY3Rpb24gaW5pdEluc3RhbmNlUHJvcHMocHJvcHMpIHsvLyBOb29wXG4gIH0sXG4gIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2U6IHRydWUsXG4gIHZhbGlkYXRlUHJvcHM6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoX3JlZjcpIHtcbiAgICB2YXIgaXRlbVNpemUgPSBfcmVmNy5pdGVtU2l6ZTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW1TaXplICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcIml0ZW1TaXplXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyLiAnICsgKFwiXFxcIlwiICsgKGl0ZW1TaXplID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGl0ZW1TaXplKSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuLy8gUHVsbGVkIGZyb20gcmVhY3QtY29tcGF0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC1jb21wYXQvYmxvYi83YzVkZTAwZTdjODVlMmZmZDAxMWJmM2FmMDI4OTliNjNmNjk5ZDNhL3NyYy9pbmRleC5qcyNMMzQ5XG5mdW5jdGlvbiBzaGFsbG93RGlmZmVycyhwcmV2LCBuZXh0KSB7XG4gIGZvciAodmFyIGF0dHJpYnV0ZSBpbiBwcmV2KSB7XG4gICAgaWYgKCEoYXR0cmlidXRlIGluIG5leHQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBfYXR0cmlidXRlIGluIG5leHQpIHtcbiAgICBpZiAocHJldltfYXR0cmlidXRlXSAhPT0gbmV4dFtfYXR0cmlidXRlXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBJdCBrbm93cyB0byBjb21wYXJlIGluZGl2aWR1YWwgc3R5bGUgcHJvcHMgYW5kIGlnbm9yZSB0aGUgd3JhcHBlciBvYmplY3QuXG4vLyBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0bWVtb1xuXG5mdW5jdGlvbiBhcmVFcXVhbChwcmV2UHJvcHMsIG5leHRQcm9wcykge1xuICB2YXIgcHJldlN0eWxlID0gcHJldlByb3BzLnN0eWxlLFxuICAgICAgcHJldlJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcmV2UHJvcHMsIFtcInN0eWxlXCJdKTtcblxuICB2YXIgbmV4dFN0eWxlID0gbmV4dFByb3BzLnN0eWxlLFxuICAgICAgbmV4dFJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShuZXh0UHJvcHMsIFtcInN0eWxlXCJdKTtcblxuICByZXR1cm4gIXNoYWxsb3dEaWZmZXJzKHByZXZTdHlsZSwgbmV4dFN0eWxlKSAmJiAhc2hhbGxvd0RpZmZlcnMocHJldlJlc3QsIG5leHRSZXN0KTtcbn1cblxuLy8gSXQga25vd3MgdG8gY29tcGFyZSBpbmRpdmlkdWFsIHN0eWxlIHByb3BzIGFuZCBpZ25vcmUgdGhlIHdyYXBwZXIgb2JqZWN0LlxuLy8gU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1jb21wb25lbnQuaHRtbCNzaG91bGRjb21wb25lbnR1cGRhdGVcblxuZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gIHJldHVybiAhYXJlRXF1YWwodGhpcy5wcm9wcywgbmV4dFByb3BzKSB8fCBzaGFsbG93RGlmZmVycyh0aGlzLnN0YXRlLCBuZXh0U3RhdGUpO1xufVxuXG5leHBvcnQgeyBWYXJpYWJsZVNpemVHcmlkLCBWYXJpYWJsZVNpemVMaXN0LCBGaXhlZFNpemVHcmlkLCBGaXhlZFNpemVMaXN0LCBhcmVFcXVhbCwgc2hvdWxkQ29tcG9uZW50VXBkYXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-window/dist/index.esm.js\n");

/***/ }),

/***/ "./extensions/widgets/common/list/src/runtime/assets/icon.svg":
/*!********************************************************************!*\
  !*** ./extensions/widgets/common/list/src/runtime/assets/icon.svg ***!
  \********************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm5-3a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2H7Zm0-1h7a2 2 0 1 1 0 4H7a2 2 0 1 1 0-4Zm0 7a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2H7Zm0-1h7a2 2 0 1 1 0 4H7a2 2 0 1 1 0-4Zm0 7a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2H7Zm0-1h7a2 2 0 1 1 0 4H7a2 2 0 1 1 0-4ZM2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm0 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm0 1a2 2 0 1 1 0-4 2 2 0 0 1 0 4Z\\\" fill=\\\"#FFF\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvY29tbW9uL2xpc3Qvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb24uc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9jb21tb24vbGlzdC9zcmMvcnVudGltZS9hc3NldHMvaWNvbi5zdmc/Yzg4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTIgM2ExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDJabTAgMWEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRabTUtM2ExIDEgMCAwIDAgMCAyaDdhMSAxIDAgMCAwIDAtMkg3Wm0wLTFoN2EyIDIgMCAxIDEgMCA0SDdhMiAyIDAgMSAxIDAtNFptMCA3YTEgMSAwIDAgMCAwIDJoN2ExIDEgMCAwIDAgMC0ySDdabTAtMWg3YTIgMiAwIDEgMSAwIDRIN2EyIDIgMCAxIDEgMC00Wm0wIDdhMSAxIDAgMCAwIDAgMmg3YTEgMSAwIDAgMCAwLTJIN1ptMC0xaDdhMiAyIDAgMSAxIDAgNEg3YTIgMiAwIDEgMSAwLTRaTTIgOWExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDJabTAgMWEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRabTAgNWExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDJabTAgMWEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDRaXFxcIiBmaWxsPVxcXCIjRkZGXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/common/list/src/runtime/assets/icon.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/brand/widget-filter.svg":
/*!*********************************************************!*\
  !*** ./jimu-icons/svg/outlined/brand/widget-filter.svg ***!
  \*********************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 20 20\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M18.5.995c0-.55-.43-.995-.96-.995H2.46a.94.94 0 0 0-.605.223 1.02 1.02 0 0 0-.14 1.4L6.5 7.72c.122.156.196.347.212.548l.835 10.815c.007.092.027.183.058.27a.951.951 0 0 0 1.237.582l2.112-.82a.99.99 0 0 0 .615-.797l1.325-10.062c.025-.193.105-.374.228-.52l5.141-6.087c.154-.181.238-.414.238-.655ZM2.5 1h14.999l-5.141 6.09-.117.153a2.016 2.016 0 0 0-.34.883l-1.325 10.062-2.035.792-.833-10.788-.02-.169a2.012 2.012 0 0 0-.402-.92L2.502 1.006 2.5 1Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9icmFuZC93aWRnZXQtZmlsdGVyLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9icmFuZC93aWRnZXQtZmlsdGVyLnN2Zz9jY2QyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAyMCAyMFxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE4LjUuOTk1YzAtLjU1LS40My0uOTk1LS45Ni0uOTk1SDIuNDZhLjk0Ljk0IDAgMCAwLS42MDUuMjIzIDEuMDIgMS4wMiAwIDAgMC0uMTQgMS40TDYuNSA3LjcyYy4xMjIuMTU2LjE5Ni4zNDcuMjEyLjU0OGwuODM1IDEwLjgxNWMuMDA3LjA5Mi4wMjcuMTgzLjA1OC4yN2EuOTUxLjk1MSAwIDAgMCAxLjIzNy41ODJsMi4xMTItLjgyYS45OS45OSAwIDAgMCAuNjE1LS43OTdsMS4zMjUtMTAuMDYyYy4wMjUtLjE5My4xMDUtLjM3NC4yMjgtLjUybDUuMTQxLTYuMDg3Yy4xNTQtLjE4MS4yMzgtLjQxNC4yMzgtLjY1NVpNMi41IDFoMTQuOTk5bC01LjE0MSA2LjA5LS4xMTcuMTUzYTIuMDE2IDIuMDE2IDAgMCAwLS4zNC44ODNsLTEuMzI1IDEwLjA2Mi0yLjAzNS43OTItLjgzMy0xMC43ODgtLjAyLS4xNjlhMi4wMTIgMi4wMTIgMCAwIDAtLjQwMi0uOTJMMi41MDIgMS4wMDYgMi41IDFaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/brand/widget-filter.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-left.svg":
/*!************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-left.svg ***!
  \************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15 7.5a.522.522 0 0 1-.516.527H2.976L6.473 11.6a.535.535 0 0 1 0 .746.508.508 0 0 1-.73 0L1 7.5l4.743-4.846a.508.508 0 0 1 .73 0 .535.535 0 0 1 0 .746L2.976 6.973h11.508c.285 0 .516.236.516.527Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1sZWZ0LnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9hcnJvdy1sZWZ0LnN2Zz9mZjE5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMTUgNy41YS41MjIuNTIyIDAgMCAxLS41MTYuNTI3SDIuOTc2TDYuNDczIDExLjZhLjUzNS41MzUgMCAwIDEgMCAuNzQ2LjUwOC41MDggMCAwIDEtLjczIDBMMSA3LjVsNC43NDMtNC44NDZhLjUwOC41MDggMCAwIDEgLjczIDAgLjUzNS41MzUgMCAwIDEgMCAuNzQ2TDIuOTc2IDYuOTczaDExLjUwOGMuMjg1IDAgLjUxNi4yMzYuNTE2LjUyN1pcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/directional/arrow-left.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/down.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/down.svg ***!
  \******************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M2.146 4.653a.485.485 0 0 1 .708 0L8 10.24l5.146-5.587a.485.485 0 0 1 .708 0 .538.538 0 0 1 0 .738l-5.5 5.956a.485.485 0 0 1-.708 0l-5.5-5.956a.538.538 0 0 1 0-.738Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9kb3duLnN2Zz81ZTcxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTIuMTQ2IDQuNjUzYS40ODUuNDg1IDAgMCAxIC43MDggMEw4IDEwLjI0bDUuMTQ2LTUuNTg3YS40ODUuNDg1IDAgMCAxIC43MDggMCAuNTM4LjUzOCAwIDAgMSAwIC43MzhsLTUuNSA1Ljk1NmEuNDg1LjQ4NSAwIDAgMS0uNzA4IDBsLTUuNS01Ljk1NmEuNTM4LjUzOCAwIDAgMSAwLS43MzhaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/directional/down.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/left.svg":
/*!******************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/left.svg ***!
  \******************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M11.347 2.146a.485.485 0 0 1 0 .708L5.76 8l5.587 5.146a.486.486 0 0 1 0 .708.538.538 0 0 1-.738 0l-5.956-5.5a.485.485 0 0 1 0-.708l5.956-5.5a.538.538 0 0 1 .738 0Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9sZWZ0LnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9sZWZ0LnN2Zz81YmE5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTExLjM0NyAyLjE0NmEuNDg1LjQ4NSAwIDAgMSAwIC43MDhMNS43NiA4bDUuNTg3IDUuMTQ2YS40ODYuNDg2IDAgMCAxIDAgLjcwOC41MzguNTM4IDAgMCAxLS43MzggMGwtNS45NTYtNS41YS40ODUuNDg1IDAgMCAxIDAtLjcwOGw1Ljk1Ni01LjVhLjUzOC41MzggMCAwIDEgLjczOCAwWlxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/directional/left.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/right.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/right.svg ***!
  \*******************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M4.653 13.854a.485.485 0 0 1 0-.708L10.24 8 4.653 2.854a.485.485 0 0 1 0-.708.538.538 0 0 1 .738 0l5.956 5.5a.485.485 0 0 1 0 .708l-5.956 5.5a.538.538 0 0 1-.738 0Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC9yaWdodC5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvcmlnaHQuc3ZnP2MzOTAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNNC42NTMgMTMuODU0YS40ODUuNDg1IDAgMCAxIDAtLjcwOEwxMC4yNCA4IDQuNjUzIDIuODU0YS40ODUuNDg1IDAgMCAxIDAtLjcwOC41MzguNTM4IDAgMCAxIC43MzggMGw1Ljk1NiA1LjVhLjQ4NS40ODUgMCAwIDEgMCAuNzA4bC01Ljk1NiA1LjVhLjUzOC41MzggMCAwIDEtLjczOCAwWlxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/directional/right.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/up.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/up.svg ***!
  \****************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M13.854 11.347a.486.486 0 0 1-.708 0L8 5.76l-5.146 5.587a.485.485 0 0 1-.708 0 .538.538 0 0 1 0-.738l5.5-5.956a.485.485 0 0 1 .708 0l5.5 5.956a.538.538 0 0 1 0 .738Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9kaXJlY3Rpb25hbC91cC5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZGlyZWN0aW9uYWwvdXAuc3ZnPzc2MzAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTMuODU0IDExLjM0N2EuNDg2LjQ4NiAwIDAgMS0uNzA4IDBMOCA1Ljc2bC01LjE0NiA1LjU4N2EuNDg1LjQ4NSAwIDAgMS0uNzA4IDAgLjUzOC41MzggMCAwIDEgMC0uNzM4bDUuNS01Ljk1NmEuNDg1LjQ4NSAwIDAgMSAuNzA4IDBsNS41IDUuOTU2YS41MzguNTM4IDAgMCAxIDAgLjczOFpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/directional/up.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/close.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/close.svg ***!
  \**************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746L8.746 8Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xvc2Uuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9jbG9zZS5zdmc/OGRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwibTguNzQ1IDggNi4xIDYuMWEuNTI3LjUyNyAwIDEgMS0uNzQ1Ljc0Nkw4IDguNzQ2bC02LjEgNi4xYS41MjcuNTI3IDAgMSAxLS43NDYtLjc0Nmw2LjEtNi4xLTYuMS02LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni0uNzQ2bDYuMSA2LjEgNi4xLTYuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2Ljc0Nkw4Ljc0NiA4WlxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/close.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/menu.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/menu.svg ***!
  \*************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M.438 1C.196 1 0 1.224 0 1.5s.196.5.438.5h15.124c.242 0 .438-.224.438-.5s-.196-.5-.438-.5H.438ZM0 7.5c0-.276.196-.5.438-.5h15.124c.242 0 .438.224.438.5s-.196.5-.438.5H.438C.196 8 0 7.776 0 7.5ZM0 13.5c0-.276.196-.5.438-.5h15.124c.242 0 .438.224.438.5s-.196.5-.438.5H.438C.196 14 0 13.776 0 13.5Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvbWVudS5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL21lbnUuc3ZnPzVkZWMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0uNDM4IDFDLjE5NiAxIDAgMS4yMjQgMCAxLjVzLjE5Ni41LjQzOC41aDE1LjEyNGMuMjQyIDAgLjQzOC0uMjI0LjQzOC0uNXMtLjE5Ni0uNS0uNDM4LS41SC40MzhaTTAgNy41YzAtLjI3Ni4xOTYtLjUuNDM4LS41aDE1LjEyNGMuMjQyIDAgLjQzOC4yMjQuNDM4LjVzLS4xOTYuNS0uNDM4LjVILjQzOEMuMTk2IDggMCA3Ljc3NiAwIDcuNVpNMCAxMy41YzAtLjI3Ni4xOTYtLjUuNDM4LS41aDE1LjEyNGMuMjQyIDAgLjQzOC4yMjQuNDM4LjVzLS4xOTYuNS0uNDM4LjVILjQzOEMuMTk2IDE0IDAgMTMuNzc2IDAgMTMuNVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/menu.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/search.svg":
/*!***************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/search.svg ***!
  \***************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Zm-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.136 4.137a.5.5 0 1 1-.707.707l-4.137-4.137Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoLnN2Zz9kODkwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTEyIDYuNWE1LjUgNS41IDAgMSAxLTExIDAgNS41IDUuNSAwIDAgMSAxMSAwWm0tMS4yNyA0LjkzNmE2LjUgNi41IDAgMSAxIC43MDctLjcwN2w0LjEzNiA0LjEzN2EuNS41IDAgMSAxLS43MDcuNzA3bC00LjEzNy00LjEzN1pcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/search.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/show-selection--rtl.svg":
/*!****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/show-selection--rtl.svg ***!
  \****************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M15.88 2.825a.5.5 0 0 0-.759-.65l-2.323 2.71-1.265-1.265a.5.5 0 1 0-.707.707l1.265 1.265a1 1 0 0 0 1.466-.056l2.323-2.71Zm0 8a.5.5 0 0 0-.759-.65l-2.323 2.71-1.265-1.265a.5.5 0 1 0-.707.708l1.265 1.264a1 1 0 0 0 1.466-.056l2.323-2.71ZM9 4.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 .5.5ZM8.5 13a.5.5 0 0 0 0-1h-8a.5.5 0 0 0 0 1h8Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc2hvdy1zZWxlY3Rpb24tLXJ0bC5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3Nob3ctc2VsZWN0aW9uLS1ydGwuc3ZnPzExZTQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTUuODggMi44MjVhLjUuNSAwIDAgMC0uNzU5LS42NWwtMi4zMjMgMi43MS0xLjI2NS0xLjI2NWEuNS41IDAgMSAwLS43MDcuNzA3bDEuMjY1IDEuMjY1YTEgMSAwIDAgMCAxLjQ2Ni0uMDU2bDIuMzIzLTIuNzFabTAgOGEuNS41IDAgMCAwLS43NTktLjY1bC0yLjMyMyAyLjcxLTEuMjY1LTEuMjY1YS41LjUgMCAxIDAtLjcwNy43MDhsMS4yNjUgMS4yNjRhMSAxIDAgMCAwIDEuNDY2LS4wNTZsMi4zMjMtMi43MVpNOSA0LjVhLjUuNSAwIDAgMS0uNS41aC04YS41LjUgMCAwIDEgMC0xaDhhLjUuNSAwIDAgMSAuNS41Wk04LjUgMTNhLjUuNSAwIDAgMCAwLTFoLThhLjUuNSAwIDAgMCAwIDFoOFpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/show-selection--rtl.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/show-selection.svg":
/*!***********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/show-selection.svg ***!
  \***********************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M16 4.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 .5.5ZM16 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 .5.5ZM5.146 2.12a.5.5 0 0 1 .055.705l-2.324 2.71a1 1 0 0 1-1.466.057L.146 4.327a.5.5 0 0 1 .708-.707l1.264 1.265 2.323-2.71a.5.5 0 0 1 .705-.055ZM5.146 10.12a.5.5 0 0 1 .055.705l-2.324 2.71a1 1 0 0 1-1.466.057L.146 12.328a.5.5 0 1 1 .708-.708l1.264 1.265 2.323-2.71a.5.5 0 0 1 .705-.055Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc2hvdy1zZWxlY3Rpb24uc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9zaG93LXNlbGVjdGlvbi5zdmc/YTQwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xNiA0LjVhLjUuNSAwIDAgMS0uNS41aC04YS41LjUgMCAwIDEgMC0xaDhhLjUuNSAwIDAgMSAuNS41Wk0xNiAxMi41YS41LjUgMCAwIDEtLjUuNWgtOGEuNS41IDAgMCAxIDAtMWg4YS41LjUgMCAwIDEgLjUuNVpNNS4xNDYgMi4xMmEuNS41IDAgMCAxIC4wNTUuNzA1bC0yLjMyNCAyLjcxYTEgMSAwIDAgMS0xLjQ2Ni4wNTdMLjE0NiA0LjMyN2EuNS41IDAgMCAxIC43MDgtLjcwN2wxLjI2NCAxLjI2NSAyLjMyMy0yLjcxYS41LjUgMCAwIDEgLjcwNS0uMDU1Wk01LjE0NiAxMC4xMmEuNS41IDAgMCAxIC4wNTUuNzA1bC0yLjMyNCAyLjcxYTEgMSAwIDAgMS0xLjQ2Ni4wNTdMLjE0NiAxMi4zMjhhLjUuNSAwIDEgMSAuNzA4LS43MDhsMS4yNjQgMS4yNjUgMi4zMjMtMi43MWEuNS41IDAgMCAxIC43MDUtLjA1NVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/show-selection.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/sync-off.svg":
/*!*****************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/sync-off.svg ***!
  \*****************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"m2.116 1.5.969 1.678H1.05v3H0l1.5 2 1.5-2h-.951v-2h1.614l4.618 8H2.049v-2H1.05v3h7.809l1.257 2.178.866-.5L2.982 1l-.866.5Zm9.982 8.678h.95v2h-2.611l.576 1h3.036v-3h1.05l-1.501-2-1.5 2Zm.951-4v-2H5.817l-.578-1h8.81v3h-1Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc3luYy1vZmYuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9zeW5jLW9mZi5zdmc/ODVkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIm0yLjExNiAxLjUuOTY5IDEuNjc4SDEuMDV2M0gwbDEuNSAyIDEuNS0yaC0uOTUxdi0yaDEuNjE0bDQuNjE4IDhIMi4wNDl2LTJIMS4wNXYzaDcuODA5bDEuMjU3IDIuMTc4Ljg2Ni0uNUwyLjk4MiAxbC0uODY2LjVabTkuOTgyIDguNjc4aC45NXYyaC0yLjYxMWwuNTc2IDFoMy4wMzZ2LTNoMS4wNWwtMS41MDEtMi0xLjUgMlptLjk1MS00di0ySDUuODE3bC0uNTc4LTFoOC44MXYzaC0xWlxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/sync-off.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/sync-on.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/sync-on.svg ***!
  \****************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M1.049 6V3h13v3h-1V4h-11v2H3L1.5 7.999 0 6h1.049Zm12 4h-.952l1.5-2 1.5 2h-1.049v3H1.05v-3h1v2h11v-2Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc3luYy1vbi5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3N5bmMtb24uc3ZnPzU0MDYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMS4wNDkgNlYzaDEzdjNoLTFWNGgtMTF2MkgzTDEuNSA3Ljk5OSAwIDZoMS4wNDlabTEyIDRoLS45NTJsMS41LTIgMS41IDJoLTEuMDQ5djNIMS4wNXYtM2gxdjJoMTF2LTJaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/sync-on.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash-check.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash-check.svg ***!
  \********************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m11.366 7.841-.732-.682-3.125 3.349-1.635-1.84-.748.664 2.365 2.66 3.875-4.15Z\\\" fill=\\\"#000\\\"></path><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M4.5 3V1.167C4.5.469 5.204 0 6 0h4c.796 0 1.5.47 1.5 1.167V3h4a.5.5 0 0 1 0 1H14l-.929 11.077a1 1 0 0 1-.997.923H3.926a1 1 0 0 1-.997-.923L2 4H.5a.5.5 0 0 1 0-1h4ZM3.003 4h9.994l-.923 11H3.926L3.003 4ZM10.5 1v2h-5V1c0-.04 5-.04 5 0Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gtY2hlY2suc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC1jaGVjay5zdmc/YzljMCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwibTExLjM2NiA3Ljg0MS0uNzMyLS42ODItMy4xMjUgMy4zNDktMS42MzUtMS44NC0uNzQ4LjY2NCAyLjM2NSAyLjY2IDMuODc1LTQuMTVaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk00LjUgM1YxLjE2N0M0LjUuNDY5IDUuMjA0IDAgNiAwaDRjLjc5NiAwIDEuNS40NyAxLjUgMS4xNjdWM2g0YS41LjUgMCAwIDEgMCAxSDE0bC0uOTI5IDExLjA3N2ExIDEgMCAwIDEtLjk5Ny45MjNIMy45MjZhMSAxIDAgMCAxLS45OTctLjkyM0wyIDRILjVhLjUuNSAwIDAgMSAwLTFoNFpNMy4wMDMgNGg5Ljk5NGwtLjkyMyAxMUgzLjkyNkwzLjAwMyA0Wk0xMC41IDF2MmgtNVYxYzAtLjA0IDUtLjA0IDUgMFpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/trash-check.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/suggested/warning.svg":
/*!*******************************************************!*\
  !*** ./jimu-icons/svg/outlined/suggested/warning.svg ***!
  \*******************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M8 2.125 14.334 14H1.667L8 2.125Zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47L7.118 1.653ZM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995Zm1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvd2FybmluZy5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvc3VnZ2VzdGVkL3dhcm5pbmcuc3ZnPzA3NzUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNOCAyLjEyNSAxNC4zMzQgMTRIMS42NjdMOCAyLjEyNVptLS44ODItLjQ3YTEgMSAwIDAgMSAxLjc2NSAwbDYuMzMzIDExLjg3NEExIDEgMCAwIDEgMTQuMzM0IDE1SDEuNjY3YTEgMSAwIDAgMS0uODgyLTEuNDdMNy4xMTggMS42NTNaTTggNC44NzRhLjkwNS45MDUgMCAwIDAtLjkuOTk1bC4zNSAzLjUwN2EuNTUyLjU1MiAwIDAgMCAxLjEgMEw4LjkgNS44N2EuOTA1LjkwNSAwIDAgMC0uOS0uOTk1Wm0xIDdhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWlxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/suggested/warning.svg\n");

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "react":
/*!**********************************!*\
  !*** external "jimu-core/react" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ }),

/***/ "jimu-ui/basic/sql-expression-runtime":
/*!*******************************************************!*\
  !*** external "jimu-ui/basic/sql-expression-runtime" ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_basic_sql_expression_runtime__;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _assertThisInitialized)\n/* harmony export */ });\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzP2M5ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/extends.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/extends.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _extends)\n/* harmony export */ });\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcz9hNzc1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/extends.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _inheritsLoose)\n/* harmony export */ });\n/* harmony import */ var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPrototypeOf.js */ \"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js\");\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  (0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(subClass, superClass);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcz9lNDdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _objectWithoutPropertiesLoose)\n/* harmony export */ });\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZS5qcz80OWFjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js\n");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _setPrototypeOf)\n/* harmony export */ });\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2V0UHJvdG90eXBlT2YuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzP2UyY2QiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./jimu-core/lib/set-public-path.ts");
/******/ 	var __webpack_exports__ = __webpack_require__("./extensions/widgets/common/list/src/runtime/widget.tsx");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});