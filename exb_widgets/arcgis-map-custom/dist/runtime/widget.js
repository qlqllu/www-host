/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-layouts/layout-runtime"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./extensions/widgets/arcgis/arcgis-map/src/config.ts":
/*!************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/config.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SceneQualityMode\": () => (/* binding */ SceneQualityMode)\n/* harmony export */ });\nvar SceneQualityMode;\n(function (SceneQualityMode) {\n    SceneQualityMode[\"auto\"] = \"auto\";\n    SceneQualityMode[\"low\"] = \"low\";\n    SceneQualityMode[\"medium\"] = \"medium\";\n    SceneQualityMode[\"high\"] = \"high\";\n})(SceneQualityMode || (SceneQualityMode = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL2NvbmZpZy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9jb25maWcudHM/OTZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbW11dGFibGVPYmplY3QgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBJTUppbXVNYXBDb25maWcgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL21hcCdcblxuZXhwb3J0IGVudW0gU2NlbmVRdWFsaXR5TW9kZXtcbiAgYXV0byA9ICdhdXRvJyxcbiAgbG93ID0gJ2xvdycsXG4gIG1lZGl1bSA9ICdtZWRpdW0nLFxuICBoaWdoID0gJ2hpZ2gnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlnIGV4dGVuZHMgSU1KaW11TWFwQ29uZmlne1xuICBpc1VzZUN1c3RvbU1hcFN0YXRlOiBib29sZWFuXG4gIHNjZW5lUXVhbGl0eU1vZGU6IFNjZW5lUXVhbGl0eU1vZGVcbn1cblxuZXhwb3J0IHR5cGUgSU1Db25maWcgPSBJbW11dGFibGVPYmplY3Q8Q29uZmlnPlxuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xDb25maWcgeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/config.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DefaultMap)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\n/* harmony import */ var _multisourcemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n\n\n\n\nclass DefaultMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            defaultMapInfo: null\n        };\n    }\n    componentDidMount() {\n        jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.portalUtils.getDefaultWebMap(this.props.baseWidgetProps.portalUrl).then(defaultMapInfo => {\n            this.setState({\n                defaultMapInfo: defaultMapInfo\n            });\n        });\n    }\n    render() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'w-100 h-100' },\n            !this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'widget-map jimu-widget widget-map-background' },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),\n            this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIsLive)(this.props.baseWidgetProps.appMode) }) }, this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { key: 0, fullScreenMap: this.props.fullScreenMap, baseWidgetProps: this.props.baseWidgetProps, startLoadModules: this.props.startLoadModules, isDefaultMap: true, ref: this.props.setMultiSourceMapInstance, onViewGroupCreate: this.props.onViewGroupCreate, widgetHeight: this.props.widgetHeight, widthBreakpoint: this.props.widthBreakpoint, isFullScreen: this.props.isFullScreen, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.state.defaultMapInfo }))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9kZWZhdWx0LW1hcC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQWFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvZGVmYXVsdC1tYXAudHN4PzhhMjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBNYXBXaWRnZXRQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcbmltcG9ydCB7IGNoZWNrSXNMaXZlIH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgTXVsdGlTb3VyY2VNYXAgZnJvbSAnLi9tdWx0aXNvdXJjZW1hcCdcbmltcG9ydCB7IEppbXVNYXBWaWV3R3JvdXAsIHBvcnRhbFV0aWxzLCBEZWZhdWx0TWFwSW5mbyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBiYXNlV2lkZ2V0UHJvcHM6IE1hcFdpZGdldFByb3BzXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4gdm9pZFxuXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW5cbiAgb25WaWV3R3JvdXBDcmVhdGU/OiAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB2b2lkXG5cbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcbiAgd2lkZ2V0SGVpZ2h0OiBudW1iZXJcblxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cbiAgaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuXG5cbiAgc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZTogKGluc3RhbmNlOiBNdWx0aVNvdXJjZU1hcCkgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBkZWZhdWx0TWFwSW5mbzogRGVmYXVsdE1hcEluZm9cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVmYXVsdE1hcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRlZmF1bHRNYXBJbmZvOiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHBvcnRhbFV0aWxzLmdldERlZmF1bHRXZWJNYXAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucG9ydGFsVXJsKS50aGVuKGRlZmF1bHRNYXBJbmZvID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkZWZhdWx0TWFwSW5mbzogZGVmYXVsdE1hcEluZm9cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XG4gICAgICAgIHshdGhpcy5zdGF0ZS5kZWZhdWx0TWFwSW5mbyAmJiA8ZGl2IGNsYXNzTmFtZT0nd2lkZ2V0LW1hcCBqaW11LXdpZGdldCB3aWRnZXQtbWFwLWJhY2tncm91bmQnPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnIH19IGNsYXNzTmFtZT0namltdS1zZWNvbmRhcnktbG9hZGluZycgLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICB7dGhpcy5zdGF0ZS5kZWZhdWx0TWFwSW5mbyAmJiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnamltdS13aWRnZXQnLCB7ICdtYXAtaXMtZGVzaWduLW1vZGUnOiAhY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZSkgfSl9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiA8TXVsdGlTb3VyY2VNYXBcbiAgICAgICAgICAgIGtleT17MH0gZnVsbFNjcmVlbk1hcD17dGhpcy5wcm9wcy5mdWxsU2NyZWVuTWFwfVxuICAgICAgICAgICAgYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wc30gc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfSBpc0RlZmF1bHRNYXBcbiAgICAgICAgICAgIHJlZj17dGhpcy5wcm9wcy5zZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZX1cbiAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5wcm9wcy53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW49e3RoaXMucHJvcHMuaXNGdWxsU2NyZWVufSBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxuICAgICAgICAgICAgZGVmYXVsdE1hcEluZm89e3RoaXMuc3RhdGUuZGVmYXVsdE1hcEluZm99XG4gICAgICAgICAgPlxuICAgICAgICAgIDwvTXVsdGlTb3VyY2VNYXA+fVxuICAgICAgICA8L2Rpdj59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MapThumb)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/filled/data/placeholder-map */ \"./jimu-icons/filled/data/placeholder-map.tsx\");\n\n\n\nclass MapThumb extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.unmount = false;\n        this.setMapThumbUrl = (mapId) => {\n            var _a;\n            if (!mapId) {\n                this.setState({ mapThumbUrl: null });\n            }\n            // if no portalUrl or same to config portalurl, use app config's portalUrl\n            const portalUrl = ((_a = this.props) === null || _a === void 0 ? void 0 : _a.portUrl) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl;\n            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl) || null;\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restPortal.searchItems({\n                q: `id:${mapId}`,\n                authentication: session,\n                portal: portalUrl + '/sharing/rest'\n            }).then(items => {\n                var _a;\n                if (!this.unmount) {\n                    if ((_a = items.results[0]) === null || _a === void 0 ? void 0 : _a.thumbnail) {\n                        const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl);\n                        let tempThumbUrl = null;\n                        if (session && session.token) {\n                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +\n                                `info/${items.results[0].thumbnail}?token=${session.token}`;\n                        }\n                        else {\n                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +\n                                `info/${items.results[0].thumbnail}`;\n                        }\n                        this.setState({ mapThumbUrl: tempThumbUrl });\n                    }\n                    else {\n                        this.setState({ mapThumbUrl: null });\n                    }\n                }\n            });\n        };\n        this.state = {\n            mapThumbUrl: null\n        };\n    }\n    componentDidMount() {\n        this.unmount = false;\n        this.setMapThumbUrl(this.props.mapItemId);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.mapItemId !== this.props.mapItemId) {\n            this.setMapThumbUrl(this.props.mapItemId);\n        }\n    }\n    componentWillUnmount() {\n        this.unmount = true;\n    }\n    render() {\n        if (this.state.mapThumbUrl) {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ImageWithParam, { imageParam: { url: this.state.mapThumbUrl } });\n        }\n        else {\n            const palette = this.props.theme.colors.palette;\n            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { backgroundColor: palette.light[200], height: '100%' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__.PlaceholderMapFilled, { color: palette.light[600], size: '100%' })));\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXAtdGh1bWIudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFZQTtBQUdBO0FBQ0E7QUFIQTtBQXFCQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXAtdGh1bWIudHN4PzRhNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIFNlc3Npb25NYW5hZ2VyLCBlc3JpLCBnZXRBcHBTdG9yZSwgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEltYWdlV2l0aFBhcmFtIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IFBsYWNlaG9sZGVyTWFwRmlsbGVkIH0gZnJvbSAnamltdS1pY29ucy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAnXG5cbmludGVyZmFjZSBQcm9wc3tcbiAgbWFwSXRlbUlkOiBzdHJpbmdcbiAgcG9ydFVybDogc3RyaW5nXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG59XG5cbmludGVyZmFjZSBTdGF0ZXN7XG4gIG1hcFRodW1iVXJsOiBzdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwVGh1bWIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZXM+IHtcbiAgdW5tb3VudCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbWFwVGh1bWJVcmw6IG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy51bm1vdW50ID0gZmFsc2VcbiAgICB0aGlzLnNldE1hcFRodW1iVXJsKHRoaXMucHJvcHMubWFwSXRlbUlkKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBpZiAocHJldlByb3BzLm1hcEl0ZW1JZCAhPT0gdGhpcy5wcm9wcy5tYXBJdGVtSWQpIHtcbiAgICAgIHRoaXMuc2V0TWFwVGh1bWJVcmwodGhpcy5wcm9wcy5tYXBJdGVtSWQpXG4gICAgfVxuICB9XG5cbiAgc2V0TWFwVGh1bWJVcmwgPSAobWFwSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGlmICghbWFwSWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogbnVsbCB9KVxuICAgIH1cblxuICAgIC8vIGlmIG5vIHBvcnRhbFVybCBvciBzYW1lIHRvIGNvbmZpZyBwb3J0YWx1cmwsIHVzZSBhcHAgY29uZmlnJ3MgcG9ydGFsVXJsXG4gICAgY29uc3QgcG9ydGFsVXJsID0gdGhpcy5wcm9wcz8ucG9ydFVybCB8fCBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkucG9ydGFsVXJsXG4gICAgY29uc3Qgc2Vzc2lvbiA9IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U2Vzc2lvbkJ5VXJsKHBvcnRhbFVybCkgfHwgbnVsbFxuICAgIGVzcmkucmVzdFBvcnRhbC5zZWFyY2hJdGVtcyh7XG4gICAgICBxOiBgaWQ6JHttYXBJZH1gLFxuICAgICAgYXV0aGVudGljYXRpb246IHNlc3Npb24sXG4gICAgICBwb3J0YWw6IHBvcnRhbFVybCArICcvc2hhcmluZy9yZXN0J1xuICAgIH0pLnRoZW4oaXRlbXMgPT4ge1xuICAgICAgaWYgKCF0aGlzLnVubW91bnQpIHtcbiAgICAgICAgaWYgKGl0ZW1zLnJlc3VsdHNbMF0/LnRodW1ibmFpbCkge1xuICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25CeVVybChwb3J0YWxVcmwpXG4gICAgICAgICAgbGV0IHRlbXBUaHVtYlVybCA9IG51bGxcbiAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnRva2VuKSB7XG4gICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYCArXG4gICAgICAgICAgICBgaW5mby8ke2l0ZW1zLnJlc3VsdHNbMF0udGh1bWJuYWlsfT90b2tlbj0ke3Nlc3Npb24udG9rZW59YFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYCArXG4gICAgICAgICAgICBgaW5mby8ke2l0ZW1zLnJlc3VsdHNbMF0udGh1bWJuYWlsfWBcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWFwVGh1bWJVcmw6IHRlbXBUaHVtYlVybCB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogbnVsbCB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICB0aGlzLnVubW91bnQgPSB0cnVlXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm1hcFRodW1iVXJsKSB7XG4gICAgICByZXR1cm4gPEltYWdlV2l0aFBhcmFtIGltYWdlUGFyYW09e3sgdXJsOiB0aGlzLnN0YXRlLm1hcFRodW1iVXJsIH19IC8+XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhbGV0dGUgPSB0aGlzLnByb3BzLnRoZW1lLmNvbG9ycy5wYWxldHRlXG4gICAgICByZXR1cm4gKDxkaXYgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBwYWxldHRlLmxpZ2h0WzIwMF0sIGhlaWdodDogJzEwMCUnIH19ID5cbiAgICAgICAgICA8UGxhY2Vob2xkZXJNYXBGaWxsZWQgY29sb3I9e3BhbGV0dGUubGlnaHRbNjAwXX0gc2l6ZT17JzEwMCUnfSAvPlxuICAgICAgICA8L2Rpdj4pXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MapLoadStatus\": () => (/* binding */ MapLoadStatus),\n/* harmony export */   \"default\": () => (/* binding */ MapBase)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ \"./extensions/widgets/arcgis/arcgis-map/src/config.ts\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\n/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\nconst Exchange = __webpack_require__(/*! ../assets/icons/exchange.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg\");\nvar MapLoadStatus;\n(function (MapLoadStatus) {\n    MapLoadStatus[\"Loading\"] = \"LOADING\";\n    MapLoadStatus[\"Loadok\"] = \"LOADOK\";\n    MapLoadStatus[\"LoadError\"] = \"LOADERROR\";\n})(MapLoadStatus || (MapLoadStatus = {}));\nclass MapBase extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.highLightHandles = {};\n        this.mapBaseViewEventHandles = {};\n        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();\n        this.onExtented = null;\n        this.isFirstReceiveMessage = true;\n        this.isRequestingMap = false;\n        this.__unmount = false;\n        this.startRenderMap = () => {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([\n                'esri/geometry/Extent',\n                'esri/Viewpoint'\n            ]).then(modules => {\n                [\n                    this.Extent, this.Viewpoint\n                ] = modules;\n                if (this.__unmount) {\n                    return;\n                }\n                this.setState({\n                    isModulesLoaded: true\n                });\n            });\n        };\n        this.analysisMapView = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.mapView) {\n                if (this.MapView) {\n                    return yield this.initMapView();\n                }\n                else {\n                    return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([\n                        'esri/geometry/Geometry',\n                        'esri/webmap/InitialViewProperties',\n                        'esri/Basemap',\n                        'esri/layers/TileLayer',\n                        'esri/views/MapView',\n                        'esri/WebMap',\n                        'esri/portal/Portal',\n                        'esri/portal/PortalItem',\n                        'esri/Color'\n                    ]).then((modules) => __awaiter(this, void 0, void 0, function* () {\n                        [\n                            this.Geometry, this.InitialViewProperties, this.Basemap, this.TileLayer, this.MapView, this.WebMap, this.Portal, this.PortalItem, this.Color\n                        ] = modules;\n                        return yield this.initMapView();\n                    }));\n                }\n            }\n            else {\n                return yield Promise.resolve();\n            }\n        });\n        this.analysisSceneView = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.sceneView) {\n                if (this.SceneView) {\n                    return yield this.initSceneView();\n                }\n                else {\n                    return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([\n                        'esri/views/SceneView',\n                        'esri/WebScene',\n                        'esri/portal/Portal',\n                        'esri/portal/PortalItem',\n                        'esri/Color'\n                    ]).then((modules) => __awaiter(this, void 0, void 0, function* () {\n                        [\n                            this.SceneView, this.WebScene, this.Portal, this.PortalItem, this.Color\n                        ] = modules;\n                        return yield this.initSceneView();\n                    }));\n                }\n            }\n            else {\n                return yield Promise.resolve();\n            }\n        });\n        this.generateViewPointFromInitialMapState = (initialMapState) => {\n            if (initialMapState.viewType === '2d') {\n                return new this.Viewpoint({\n                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),\n                    rotation: initialMapState.rotation\n                });\n            }\n            else {\n                return this.Viewpoint.fromJSON(initialMapState.viewPoint);\n            }\n        };\n        this.cloneMap = () => __awaiter(this, void 0, void 0, function* () {\n            let map = null;\n            const dataSourceJson = this.getDsJsonFromDsId(this.props.dataSourceId);\n            let MapClass = null;\n            if (dataSourceJson.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {\n                MapClass = this.WebMap;\n            }\n            if (dataSourceJson.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {\n                MapClass = this.WebScene;\n            }\n            if (dataSourceJson.portalUrl) {\n                const portal = new this.Portal({\n                    url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getPlatformUrlByOrgUrl(dataSourceJson.portalUrl)\n                });\n                map = new MapClass({\n                    portalItem: new this.PortalItem({\n                        id: dataSourceJson.itemId,\n                        portal: portal\n                    })\n                });\n            }\n            else {\n                map = new MapClass({\n                    portalItem: new this.PortalItem({\n                        id: dataSourceJson.itemId\n                    })\n                });\n            }\n            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getWhetherUseProxy()) {\n                return yield map.load().then(() => __awaiter(this, void 0, void 0, function* () {\n                    return yield map.when(() => __awaiter(this, void 0, void 0, function* () {\n                        const tables = map.tables ? map.tables.toArray() : [];\n                        tables.forEach(table => {\n                            const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(table);\n                            if (!sourceUrl) {\n                                return;\n                            }\n                            const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);\n                            if (proxyUrl) {\n                                table.url = proxyUrl;\n                            }\n                        });\n                        map.allLayers.toArray()\n                            .forEach(layer => {\n                            const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(layer);\n                            if (!sourceUrl) {\n                                return;\n                            }\n                            const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);\n                            if (proxyUrl) {\n                                layer.url = proxyUrl;\n                            }\n                        });\n                        return Promise.resolve(map);\n                    }));\n                }));\n            }\n            else {\n                return Promise.resolve(map);\n            }\n        });\n        this.getInitViewPointForDefaultWebMap = () => {\n            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;\n            let tempViewPoint = null;\n            if (this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.viewPoint) {\n                tempViewPoint = this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);\n            }\n            else {\n                tempViewPoint = new this.Viewpoint({\n                    targetGeometry: new this.Extent({\n                        xmin: defaultExtent && defaultExtent.xmin,\n                        ymin: defaultExtent && defaultExtent.ymin,\n                        xmax: defaultExtent && defaultExtent.xmax,\n                        ymax: defaultExtent && defaultExtent.ymax,\n                        spatialReference: { wkid: defaultExtent.spatialReference.wkid }\n                    })\n                });\n            }\n            return tempViewPoint;\n        };\n        this.getDefaultWebMap = () => {\n            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;\n            let tempViewPoint = null;\n            tempViewPoint = new this.Viewpoint({\n                targetGeometry: new this.Extent({\n                    xmin: defaultExtent && defaultExtent.xmin,\n                    ymin: defaultExtent && defaultExtent.ymin,\n                    xmax: defaultExtent && defaultExtent.xmax,\n                    ymax: defaultExtent && defaultExtent.ymax,\n                    spatialReference: { wkid: defaultExtent.spatialReference.wkid }\n                })\n            });\n            const defaultWebmap = new this.WebMap({\n                portalItem: {\n                    id: this.props.defaultMapInfo.defaultMapId,\n                    portal: {\n                        url: this.props.baseWidgetProps.portalUrl\n                    }\n                },\n                initialViewProperties: new this.InitialViewProperties({\n                    spatialReference: defaultExtent && defaultExtent.spatialReference,\n                    viewpoint: tempViewPoint\n                })\n            });\n            return defaultWebmap;\n        };\n        this.initMapView = () => __awaiter(this, void 0, void 0, function* () {\n            this.extentWatch = null;\n            this.fatalErrorWatch = null;\n            if (this.mapView && !this.isRequestingMap) {\n                return yield Promise.resolve();\n            }\n            if (this.isRequestingMap) {\n                return;\n            }\n            this.isRequestingMap = true;\n            let mapViewOption;\n            if (this.props.isDefaultMap) {\n                const defaultMap = this.getDefaultWebMap();\n                mapViewOption = {\n                    map: defaultMap,\n                    container: this.mapContainer,\n                    viewpoint: this.getInitViewPointForDefaultWebMap(),\n                    rotation: this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.rotation\n                };\n            }\n            else {\n                const tempWebmap = yield this.cloneMap();\n                if (this.props.baseWidgetProps.config.initialMapState) {\n                    mapViewOption = {\n                        map: tempWebmap,\n                        container: this.mapContainer,\n                        viewpoint: this.props.baseWidgetProps.config.initialMapState &&\n                            this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState)\n                    };\n                }\n                else {\n                    mapViewOption = {\n                        map: tempWebmap,\n                        container: this.mapContainer\n                    };\n                }\n                if (this.props.baseWidgetProps.config.selectionHighlightColor) {\n                    mapViewOption.highlightOptions = { color: this.props.baseWidgetProps.config.selectionHighlightColor };\n                }\n            }\n            if (!window.jimuConfig.isInBuilder) {\n                if (this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id]) {\n                    const extentStr = this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id].substr('extent='.length);\n                    let extent;\n                    try {\n                        extent = new this.Extent(JSON.parse(extentStr));\n                    }\n                    catch (err) {\n                        console.error('Bad extent URL parameter.');\n                    }\n                    if (extent) {\n                        mapViewOption.extent = extent;\n                    }\n                }\n            }\n            if (this.mapView) {\n                return yield Promise.resolve();\n            }\n            this.mapView = new this.MapView(mapViewOption);\n            this.mapView.popup.spinnerEnabled = false;\n            const ui = this.mapView.ui;\n            ui.exbMapTools = {};\n            if (this.props.isDefaultMap || (this.mapDs && this.mapDs.id === this.props.dataSourceId)) {\n                this.createJimuMapView();\n            }\n            this.mapView.when(() => {\n                var _a, _b, _c;\n                // after view is loaded, send extent change message\n                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {\n                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);\n                });\n                if (!this.extentWatch) {\n                    // Should listen extentChange event when all layers are loaded, otherwise the callback will be called\n                    // several times while view loading.\n                    const startWatchExtentChangePromise = Promise.allSettled(this.mapView.map.allLayers.map((layer) => __awaiter(this, void 0, void 0, function* () {\n                        return yield this.mapView.whenLayerView(layer);\n                    }))).then(() => {\n                        return true;\n                    }).catch(() => {\n                        return true;\n                    });\n                    startWatchExtentChangePromise.then(() => {\n                        this.extentWatch = this.mapView.watch('extent', (extent) => {\n                            if (!extent) {\n                                return;\n                            }\n                            clearTimeout(this.onExtented);\n                            this.onExtented = setTimeout(() => {\n                                if (!extent) {\n                                    return;\n                                }\n                                if (this.mapView.isReceiveExtentChange) {\n                                    this.mapView.isReceiveExtentChange = false;\n                                }\n                                else {\n                                    const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent);\n                                    extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);\n                                    this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                                }\n                            }, 200);\n                        });\n                    });\n                }\n                if (!this.fatalErrorWatch) {\n                    this.fatalErrorWatch = this.mapView.watch('fatalError', (error) => {\n                        if (error) {\n                            if (!this.mapView.isInCaching) {\n                                console.error('Fatal Error! View has lost its WebGL context. Attempting to recover...');\n                                this.mapView.tryFatalErrorRecovery();\n                            }\n                            else {\n                                this.setState({\n                                    isMapCrashed: true\n                                });\n                            }\n                        }\n                    });\n                }\n                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish\n                // extentMessage and change other mapWidget's extent.\n                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {\n                    this.goHome(false).then(() => {\n                        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, this.mapView.extent);\n                        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);\n                        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                        this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: this.mapView.viewpoint.clone() });\n                    });\n                }\n            });\n            this.isRequestingMap = false;\n            this.bindMapBaseViewEvent(this.mapView);\n            return Promise.resolve();\n        });\n        this.initSceneView = () => __awaiter(this, void 0, void 0, function* () {\n            this.extentWatch = null;\n            this.fatalErrorWatch = null;\n            if (this.sceneView && !this.isRequestingMap) {\n                return yield Promise.resolve();\n            }\n            if (this.isRequestingMap) {\n                return;\n            }\n            this.isRequestingMap = true;\n            const tempWebScene = yield this.cloneMap();\n            const mapViewOption = {\n                map: tempWebScene,\n                container: this.mapContainer\n            };\n            if (this.props.baseWidgetProps.config.initialMapState) {\n                mapViewOption.viewpoint = this.props.baseWidgetProps.config.initialMapState &&\n                    this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);\n            }\n            if (this.props.baseWidgetProps.config.selectionHighlightColor) {\n                mapViewOption.highlightOptions = { color: new this.Color(this.props.baseWidgetProps.config.selectionHighlightColor) };\n            }\n            const sceneQualityMode = this.props.baseWidgetProps.config.sceneQualityMode;\n            if (sceneQualityMode && sceneQualityMode !== _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.auto) {\n                mapViewOption.qualityProfile = sceneQualityMode;\n            }\n            else {\n                // use 'low' as default value\n                mapViewOption.qualityProfile = _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.low;\n            }\n            if (this.sceneView) {\n                return yield Promise.resolve();\n            }\n            this.sceneView = new this.SceneView(mapViewOption);\n            this.sceneView.popup.spinnerEnabled = false;\n            const ui = this.sceneView.ui;\n            ui.exbMapTools = {};\n            if (this.mapDs && this.mapDs.id === this.props.dataSourceId) {\n                this.createJimuMapView();\n            }\n            this.sceneView.when(() => {\n                var _a, _b, _c;\n                // after view is loaded, send extent change message\n                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {\n                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);\n                });\n                if (!this.extentWatch) {\n                    // Should listen extentChange event when all layers are loaded, otherwise the callback will be called\n                    // several times while view loading.\n                    const startWatchExtentChangePromise = Promise.allSettled(this.sceneView.map.allLayers.map((layer) => __awaiter(this, void 0, void 0, function* () {\n                        return yield this.sceneView.whenLayerView(layer);\n                    }))).then(() => {\n                        return true;\n                    }).catch(() => {\n                        return true;\n                    });\n                    startWatchExtentChangePromise.then(() => {\n                        this.extentWatch = this.sceneView.watch('extent', (extent) => {\n                            if (!extent) {\n                                return;\n                            }\n                            clearTimeout(this.onExtented);\n                            this.onExtented = setTimeout(() => {\n                                if (!extent) {\n                                    return;\n                                }\n                                if (this.sceneView.isReceiveExtentChange) {\n                                    this.sceneView.isReceiveExtentChange = false;\n                                }\n                                else {\n                                    const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent);\n                                    extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);\n                                    this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                                }\n                            }, 100);\n                        });\n                    });\n                }\n                if (!this.fatalErrorWatch) {\n                    this.fatalErrorWatch = this.sceneView.watch('fatalError', (error) => {\n                        if (error) {\n                            if (!this.sceneView.isInCaching) {\n                                this.sceneView.tryFatalErrorRecovery();\n                                console.error('Fatal Error! View has lost its WebGL context. Attempting to recover...');\n                            }\n                            else {\n                                this.setState({\n                                    isMapCrashed: true\n                                });\n                            }\n                        }\n                    });\n                }\n                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish\n                // extentMessage and change other mapWidget's extent.\n                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {\n                    this.goHome(false).then(() => {\n                        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, this.sceneView.extent);\n                        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);\n                        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                        this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: this.sceneView.viewpoint.clone() });\n                    });\n                }\n            });\n            this.isRequestingMap = false;\n            this.bindMapBaseViewEvent(this.sceneView);\n            return Promise.resolve();\n        });\n        this.updateMapView = (config, preConfig) => {\n            const jimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n            let jimuMapView = null;\n            if (jimuMapViewId) {\n                jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);\n            }\n            if (!jimuMapView || !this.mapView) {\n                return;\n            }\n            if (!(jimuMapView && jimuMapView.getIsEditing())) {\n                if (config.disablePopUp) {\n                    this.mapView.popup.close();\n                    this.mapView.popup.autoOpenEnabled = false;\n                }\n                else {\n                    this.mapView.popup.autoOpenEnabled = true;\n                }\n                if (jimuMapView) {\n                    jimuMapView.isEnablePopup = !config.disablePopUp;\n                }\n            }\n            if (config.selectionHighlightColor && config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) {\n                const highlightOptions = Object.assign(Object.assign({}, this.mapView.highlightOptions), { color: new this.Color(config.selectionHighlightColor) });\n                this.mapView.highlightOptions = highlightOptions;\n            }\n            if (!this.mapView.ui) {\n                return;\n            }\n            this.mapView.ui.components = [];\n        };\n        this.updateSceneView = (config, preConfig) => {\n            const jimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n            let jimuMapView = null;\n            if (jimuMapViewId) {\n                jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);\n            }\n            if (!jimuMapView || !this.sceneView) {\n                return;\n            }\n            if (!(jimuMapView && jimuMapView.getIsEditing())) {\n                if (config.disablePopUp) {\n                    this.sceneView.popup.close();\n                    this.sceneView.popup.autoOpenEnabled = false;\n                }\n                else {\n                    this.sceneView.popup.autoOpenEnabled = true;\n                }\n                if (jimuMapView) {\n                    jimuMapView.isEnablePopup = !config.disablePopUp;\n                }\n            }\n            if (config.selectionHighlightColor && config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) {\n                const highlightOptions = Object.assign(Object.assign({}, this.sceneView.highlightOptions), { color: new this.Color(config.selectionHighlightColor) });\n                this.sceneView.highlightOptions = highlightOptions;\n            }\n            const sceneQualityMode = config.sceneQualityMode;\n            if (sceneQualityMode && sceneQualityMode !== this.sceneView.qualityProfile) {\n                this.sceneView.qualityProfile = sceneQualityMode;\n            }\n            if (!this.sceneView.ui) {\n                return;\n            }\n            this.sceneView.ui.components = [];\n        };\n        this.bindMapBaseViewEvent = (mapBaseView) => {\n            if (mapBaseView) {\n                if (this.mapBaseViewEventHandles['mouse-wheel']) {\n                    this.mapBaseViewEventHandles['mouse-wheel'].remove();\n                    this.mapBaseViewEventHandles['mouse-wheel'] = null;\n                }\n                this.mapBaseViewEventHandles['mouse-wheel'] = mapBaseView.on('mouse-wheel', (e) => {\n                    if (this.props.baseWidgetProps.config.disableScroll) {\n                        e.stopPropagation();\n                        this.handleDisableWheel();\n                        return;\n                    }\n                    this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: mapBaseView.viewpoint.clone() });\n                });\n                if (this.mapBaseViewEventHandles.drag) {\n                    this.mapBaseViewEventHandles.drag.remove();\n                    this.mapBaseViewEventHandles.drag = null;\n                }\n                this.mapBaseViewEventHandles.drag = mapBaseView.on('drag', () => {\n                    this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: mapBaseView.viewpoint.clone() });\n                });\n                if (this.mapBaseViewEventHandles.click) {\n                    this.mapBaseViewEventHandles.click.remove();\n                    this.mapBaseViewEventHandles.click = null;\n                }\n                this.mapBaseViewEventHandles.click = mapBaseView.on('click', () => {\n                    for (const key in this.highLightHandles) {\n                        this.highLightHandles[key].remove();\n                    }\n                });\n            }\n        };\n        // onShowOnMapDataChanged = (showOnMapDatasKey) => {\n        //  this.setState({\n        //    showOnMapDatasKey: showOnMapDatasKey\n        //  })\n        // }\n        this.createJimuMapView = () => {\n            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().createJimuMapView({\n                mapWidgetId: this.props.baseWidgetProps.id,\n                dataSourceId: this.props.dataSourceId,\n                view: this.mapView || this.sceneView,\n                isEnablePopup: this.props.baseWidgetProps.config && !this.props.baseWidgetProps.config.disablePopUp\n                // onShowOnMapDataChanged: this.props.onShowOnMapDataChanged\n            });\n            const mapBaseView = this.mapView || this.sceneView;\n            if (mapBaseView) {\n                mapBaseView.when(() => {\n                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        if (tempJimuMapView.view) {\n                            tempJimuMapView.whenJimuMapViewLoaded().then(() => {\n                                if (!tempJimuMapView.view) {\n                                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(tempJimuMapViewId);\n                                    return;\n                                }\n                                this.props.onJimuMapViewCreated();\n                                this.setState({\n                                    mapBaseJimuMapView: tempJimuMapView\n                                });\n                            });\n                        }\n                        else {\n                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(tempJimuMapViewId);\n                        }\n                    }\n                });\n            }\n            else {\n                const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(tempJimuMapViewId);\n            }\n        };\n        this.onDataSourceCreated = (dataSource) => {\n            this.mapDs = dataSource;\n            if (this.mapDs.id === this.props.dataSourceId && (this.mapView || this.sceneView)) {\n                this.createJimuMapView();\n            }\n            this.setState({\n                isMapCrashed: false\n            });\n        };\n        this.onCreateDataSourceFailed = (err) => {\n            console.warn(err);\n            this.mapDs = null;\n            this.setState({\n                mapLoadStatus: MapLoadStatus.LoadError,\n                isMapCrashed: false\n            }, () => {\n                this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.LoadError);\n                this.createJimuMapView();\n            });\n        };\n        this.setViewPoint = (viewPoint) => {\n            if (!viewPoint || !this.getDsJsonFromDsId(this.props.dataSourceId)) {\n                return;\n            }\n            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {\n                if (this.mapView) {\n                    this.mapView.viewpoint = viewPoint;\n                }\n            }\n            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {\n                if (this.sceneView) {\n                    this.sceneView.viewpoint = viewPoint;\n                }\n            }\n        };\n        this.getMapLoadStatus = () => {\n            return this.state.mapLoadStatus;\n        };\n        this.getViewPoint = () => {\n            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {\n                return null;\n            }\n            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {\n                return this.mapView && this.mapView.viewpoint ? this.mapView.viewpoint.clone() : null;\n            }\n            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {\n                if (this.sceneView && this.sceneView.viewpoint) {\n                    // For scene, the first extent (after scene loaded) is not correct. So we use go to camera to get correct extent\n                    this.sceneView.goTo(this.sceneView.viewpoint.camera, {\n                        animate: false\n                    });\n                    return this.sceneView.viewpoint.clone();\n                }\n                else {\n                    return null;\n                }\n            }\n        };\n        this.getViewType = () => {\n            return this.getDsJsonFromDsId(this.props.dataSourceId).type;\n        };\n        this.goToTilt = (tilt) => {\n            this.sceneView && this.sceneView.goTo({\n                tilt: tilt\n            });\n        };\n        this.goHome = (useAmination) => __awaiter(this, void 0, void 0, function* () {\n            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {\n                return yield Promise.resolve();\n            }\n            const initViewPoint = this.getMapBaseInitViewPoint();\n            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {\n                if (this.mapView) {\n                    return this.mapView.goTo(initViewPoint, {\n                        animate: useAmination\n                    });\n                }\n            }\n            if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {\n                if (this.sceneView) {\n                    return this.sceneView.goTo(initViewPoint, {\n                        animate: useAmination\n                    });\n                }\n            }\n            return yield Promise.resolve();\n        });\n        this.getMapBaseInitViewPoint = () => {\n            var _a, _b, _c, _d, _e, _f;\n            if (this.props.isDefaultMap) {\n                return this.getInitViewPointForDefaultWebMap();\n            }\n            else {\n                if (this.props.baseWidgetProps.config.initialMapState) {\n                    return this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);\n                }\n                else {\n                    if (this.mapView) {\n                        return (_c = (_b = (_a = this.mapView.map) === null || _a === void 0 ? void 0 : _a.initialViewProperties) === null || _b === void 0 ? void 0 : _b.viewpoint) === null || _c === void 0 ? void 0 : _c.clone();\n                    }\n                    if (this.sceneView) {\n                        return (_f = (_e = (_d = this.sceneView.map) === null || _d === void 0 ? void 0 : _d.initialViewProperties) === null || _e === void 0 ? void 0 : _e.viewpoint) === null || _f === void 0 ? void 0 : _f.clone();\n                    }\n                }\n            }\n        };\n        this.getDsJsonFromDsId = (dataSourceId) => {\n            const dsJson = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources[dataSourceId];\n            return dsJson || {};\n        };\n        this.queryExtentFromQueryParams = (mapBaseView, dataSourceId, useDataSources) => {\n            const dataSource = this.dsManager.getDataSource(dataSourceId);\n            const queryParams = dataSource.getCurrentQueryParams();\n            const useDefaultExtentOfCurrentView = !useDataSources.some(useDataSource => {\n                const dataSource = this.dsManager.getDataSource(useDataSource.dataSourceId);\n                const queryParams = dataSource.getRuntimeQueryParams();\n                // use default extent if all merged SQLs on data source is remvoved.\n                const hasQueryWhere = (queryParams === null || queryParams === void 0 ? void 0 : queryParams.where) && queryParams.where !== '1=1';\n                if (hasQueryWhere) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            });\n            let layerObjectPromise;\n            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {\n                layerObjectPromise = Promise.resolve(dataSource.layer);\n            }\n            else {\n                layerObjectPromise = dataSource.createJSAPILayerByDataSource().then((layerObject) => Promise.resolve(layerObject));\n            }\n            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([\n                'esri/rest/support/Query',\n                'esri/Graphic',\n                'esri/geometry/Point'\n            ]).then(modules => {\n                const [Query, Graphic, Point] = modules;\n                const query = new Query();\n                query.where = queryParams === null || queryParams === void 0 ? void 0 : queryParams.where;\n                return layerObjectPromise.then(layerObject => {\n                    if (useDefaultExtentOfCurrentView) {\n                        const initViewPoint = this.getMapBaseInitViewPoint();\n                        return {\n                            viewpoint: initViewPoint,\n                            useDefaultExtentOfCurrentView: true,\n                            singlePointGraphic: null,\n                            count: 2,\n                            layer: layerObject\n                        };\n                    }\n                    return layerObject.queryExtent(query).then(result => {\n                        var _a;\n                        const extentCenter = (_a = result === null || result === void 0 ? void 0 : result.extent) === null || _a === void 0 ? void 0 : _a.center;\n                        const extent = result === null || result === void 0 ? void 0 : result.extent;\n                        let singlePointGraphic;\n                        if ((result === null || result === void 0 ? void 0 : result.count) === 1 && (layerObject.geometryType === 'point') && extentCenter) {\n                            const point = new Point({\n                                x: extentCenter.x,\n                                y: extentCenter.y,\n                                spatialReference: extent.spatialReference\n                            });\n                            singlePointGraphic = new Graphic({ geometry: point });\n                        }\n                        return {\n                            extent: extent,\n                            singlePointGraphic: singlePointGraphic,\n                            count: result === null || result === void 0 ? void 0 : result.count,\n                            layer: layerObject\n                        };\n                    });\n                });\n            });\n        };\n        /**\n         * handle data/action.\n         */\n        this.handleDataAction = (mutableStateProps, jimuMapView) => {\n            // handle show data on map action\n            if (mutableStateProps.showOnMapDatas) {\n                jimuMapView.drawDataOnMap(mutableStateProps.showOnMapDatas);\n            }\n        };\n        /**\n         * handle message/action.\n         */\n        this.handleAction = (mutableStateProps, mapBaseView) => {\n            var _a, _b;\n            if (mutableStateProps.zoomToFeatureActionValue) {\n                if (mutableStateProps.zoomToFeatureActionValue.relatedWidgets &&\n                    mutableStateProps.zoomToFeatureActionValue.relatedWidgets.includes(this.props.baseWidgetProps.id)) {\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);\n                }\n                else {\n                    const tempMapBaseView = mapBaseView;\n                    const relatedWidgets = mutableStateProps.zoomToFeatureActionValue.relatedWidgets\n                        ? mutableStateProps.zoomToFeatureActionValue.relatedWidgets\n                        : [];\n                    const zoomToFeatureValue = mutableStateProps.zoomToFeatureActionValue.value;\n                    let layer = null;\n                    if (zoomToFeatureValue.layerId) {\n                        layer = tempMapBaseView.map.layers.find(layer => layer.id === zoomToFeatureValue.layerId);\n                    }\n                    if (zoomToFeatureValue.type === 'zoom-to-extent') {\n                        tempMapBaseView.isReceiveExtentChange = true;\n                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(tempMapBaseView, zoomToFeatureValue.features[0], zoomToFeatureValue.zoomToOption).then(() => {\n                            relatedWidgets.push(this.props.baseWidgetProps.id);\n                            const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, tempMapBaseView.extent);\n                            extentMessage.setRelatedWidgetIds(relatedWidgets);\n                            this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                        }, () => {\n                            tempMapBaseView.isReceiveExtentChange = false;\n                        });\n                    }\n                    else if (zoomToFeatureValue.type === 'zoom-to-query-params') {\n                        this.queryExtentFromQueryParams(mapBaseView, zoomToFeatureValue.dataSourceId, zoomToFeatureValue.useDataSources).then((result) => {\n                            let target;\n                            if (result.count === 0) {\n                                return;\n                            }\n                            else if (result.count === 1 && (result === null || result === void 0 ? void 0 : result.singlePointGraphic)) {\n                                target = {\n                                    graphics: [result === null || result === void 0 ? void 0 : result.singlePointGraphic],\n                                    layer: result === null || result === void 0 ? void 0 : result.layer\n                                };\n                            }\n                            else {\n                                target = {\n                                    extent: result === null || result === void 0 ? void 0 : result.extent,\n                                    layer: result === null || result === void 0 ? void 0 : result.layer\n                                };\n                            }\n                            // Because of 'zoomToUtils' does not support 'viewpoint', temporary code for using default viewpoint of sceneView.\n                            if (result.useDefaultExtentOfCurrentView) {\n                                tempMapBaseView.goTo(result.viewpoint);\n                            }\n                            else {\n                                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(tempMapBaseView, target, zoomToFeatureValue.zoomToOption);\n                            }\n                        });\n                    }\n                    else {\n                        let target = null;\n                        if (layer) {\n                            target = {\n                                layer: layer,\n                                graphics: zoomToFeatureValue.features\n                            };\n                        }\n                        else {\n                            target = zoomToFeatureValue.features;\n                        }\n                        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.processZoomToFeatures)(tempMapBaseView, target.layer, (target && target.graphics) ? target.graphics : target).then(graphics => {\n                            if (layer) {\n                                target.graphics = graphics;\n                            }\n                            else {\n                                target = graphics;\n                            }\n                            tempMapBaseView.isReceiveExtentChange = true;\n                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(tempMapBaseView, target, zoomToFeatureValue.zoomToOption).then(() => {\n                                relatedWidgets.push(this.props.baseWidgetProps.id);\n                                const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, tempMapBaseView.extent);\n                                extentMessage.setRelatedWidgetIds(relatedWidgets);\n                                this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                            }, () => {\n                                tempMapBaseView.isReceiveExtentChange = false;\n                            });\n                        });\n                    }\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);\n                }\n            }\n            if (mutableStateProps.panToActionValue) {\n                if (mutableStateProps.panToActionValue.relatedWidgets &&\n                    mutableStateProps.panToActionValue.relatedWidgets.includes(this.props.baseWidgetProps.id)) {\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);\n                }\n                else if (((_b = (_a = mutableStateProps.panToActionValue) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.type) === 'pan-to-query-params') {\n                    const panToValue = mutableStateProps.panToActionValue.value;\n                    const relatedWidgets = mutableStateProps.panToActionValue.relatedWidgets\n                        ? mutableStateProps.panToActionValue.relatedWidgets\n                        : [];\n                    this.queryExtentFromQueryParams(mapBaseView, panToValue.dataSourceId, panToValue.useDataSources).then((result) => {\n                        var _a, _b, _c;\n                        // Because of 'panToGeometry' method does not support 'viewpoint', temporary code for using default viewpoint of sceneView.\n                        if (result.useDefaultExtentOfCurrentView) {\n                            const targetGeometry = ((_b = (_a = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _a === void 0 ? void 0 : _a.camera) === null || _b === void 0 ? void 0 : _b.position) || ((_c = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _c === void 0 ? void 0 : _c.targetGeometry);\n                            this.panToGeometry([targetGeometry], mapBaseView, relatedWidgets);\n                        }\n                        else {\n                            this.panToGeometry([result === null || result === void 0 ? void 0 : result.extent], mapBaseView, relatedWidgets);\n                        }\n                    });\n                }\n                else {\n                    const panToValue = mutableStateProps.panToActionValue.value;\n                    const relatedWidgets = mutableStateProps.panToActionValue.relatedWidgets\n                        ? mutableStateProps.panToActionValue.relatedWidgets\n                        : [];\n                    this.panToGeometry(panToValue.features, mapBaseView, relatedWidgets);\n                }\n                mapBaseView.isReceiveExtentChange = true;\n                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);\n            }\n            if (mutableStateProps.newFeatureSetActionValue && !mutableStateProps.newFeatureSetActionValue.promise) {\n                const createNewFeaturelayerPromise = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.createNewFeaturelayer)(mapBaseView, mutableStateProps.newFeatureSetActionValue.value);\n                if (createNewFeaturelayerPromise) {\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue.promise', createNewFeaturelayerPromise);\n                    createNewFeaturelayerPromise.then(() => {\n                        this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);\n                    });\n                }\n                else {\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);\n                }\n            }\n            if (mutableStateProps.changedFeatureSetActionValue) {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateFeaturelayer)(mapBaseView, mutableStateProps.changedFeatureSetActionValue);\n                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'changedFeatureSetActionValue', null);\n            }\n            if (mutableStateProps.selectFeatureActionValue) {\n                mapBaseView.popup.close();\n                for (const key in this.highLightHandles) {\n                    this.highLightHandles[key].remove();\n                }\n                const selectFeatureHandle = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.selectFeature)(mapBaseView, mutableStateProps.selectFeatureActionValue);\n                if (selectFeatureHandle) {\n                    this.highLightHandles[selectFeatureHandle.layerId] = selectFeatureHandle.handle;\n                }\n                setTimeout(() => {\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'selectFeatureActionValue', null);\n                }, 500);\n            }\n            const mutableStatePropsKeys = Object.keys(mutableStateProps);\n            mutableStatePropsKeys.some(actionKey => {\n                var _a;\n                const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n                const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);\n                // handle flash action\n                if (actionKey.indexOf('flashActionValue-') === 0 && mutableStateProps[actionKey]) {\n                    mutableStateProps[actionKey].querySQL && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.flashFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);\n                }\n                // handle filter action\n                if (actionKey.indexOf('filterActionValue-') === 0 && mutableStateProps[actionKey]) {\n                    ((_a = mutableStateProps[actionKey].querySQL) === null || _a === void 0 ? void 0 : _a.length) >= 0 && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.filterFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);\n                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);\n                }\n                return false;\n            });\n        };\n        this.panToGeometry = (geometrys, mapBaseView, relatedWidgets) => {\n            //const tempMapBaseView = mapBaseView as any\n            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)(geometrys, mapBaseView.spatialReference).then((geometries) => {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.mapPanto)(mapBaseView, geometries).then(() => {\n                    mapBaseView.isReceiveExtentChange = true;\n                    relatedWidgets.push(this.props.baseWidgetProps.id);\n                    const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, mapBaseView.extent);\n                    extentMessage.setRelatedWidgetIds(relatedWidgets);\n                    this.props.onExtentChanged(this.props.dataSourceId, extentMessage);\n                }, () => {\n                    mapBaseView.isReceiveExtentChange = true;\n                });\n            });\n        };\n        this.formatMessage = (id) => {\n            return this.props.baseWidgetProps.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages[id] });\n        };\n        this.handleDisableWheel = () => {\n            this.widgetContainer.style.pointerEvents = 'none';\n            setTimeout(() => {\n                this.widgetContainer.style.pointerEvents = 'auto';\n            }, 50);\n        };\n        this.getMapSwitchForErrorMap = () => {\n            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'mapswitch-container', style: {\n                    display: isShowMapSwitchBtn ? 'block' : 'none',\n                    marginBottom: this.props.widthBreakpoint === 'xsmall' ? 10 : 0\n                } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { onClick: (e) => { e.preventDefault(); switchMap(); }, className: 'jimu-widget esri-widget--button' },\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: Exchange, width: 16, height: 16, className: 'mapswitch-icon' }))))));\n        };\n        this.recoverMap = () => {\n            if (this.mapView) {\n                this.mapView.tryFatalErrorRecovery();\n                this.setState({\n                    isMapCrashed: false\n                });\n            }\n            if (this.sceneView) {\n                this.sceneView.tryFatalErrorRecovery();\n                this.setState({\n                    isMapCrashed: false\n                });\n            }\n        };\n        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',\n            `${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`]);\n        if (restoreData) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.restoreMapBase)(this, restoreData);\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`, null);\n            this.bindMapBaseViewEvent(this.mapView || this.sceneView);\n            if (this.mapView) {\n                this.mapView.isInCaching = false;\n                this.mapView.tryFatalErrorRecovery();\n            }\n            if (this.sceneView) {\n                this.sceneView.isInCaching = false;\n                this.sceneView.tryFatalErrorRecovery();\n            }\n        }\n        else {\n            this.state = {\n                mapLoadStatus: MapLoadStatus.Loading,\n                widthBreakpoint: null,\n                mapBaseJimuMapView: null,\n                dataSourceId: null,\n                widgetHeight: null,\n                isMapCrashed: false\n            };\n        }\n    }\n    componentDidMount() {\n        this.__unmount = false;\n        if (this.widgetContainer.getElementsByClassName('widget-map').length === 0) {\n            if (!this.mapContainer) {\n                this.mapContainer = document && document.createElement('div');\n                this.mapContainer.className = 'jimu-widget widget-map';\n            }\n            this.widgetContainer.appendChild(this.mapContainer);\n        }\n        if (this.props.startLoadModules && !this.state.isModulesLoaded) {\n            this.startRenderMap();\n            return;\n        }\n        if (!this.props.dataSourceId && !this.props.isDefaultMap) {\n            return;\n        }\n        if (!this.getDsJsonFromDsId(this.props.dataSourceId) && !this.props.isDefaultMap) {\n            return;\n        }\n        if (this.props.isDefaultMap) {\n            // init and update map\n            this.analysisMapView().then(() => {\n                this.updateMapView(this.props.baseWidgetProps.config);\n            });\n            return;\n        }\n        if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {\n            // init and update map\n            this.analysisMapView().then(() => {\n                this.updateMapView(this.props.baseWidgetProps.config);\n            });\n        }\n        if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {\n            // init and update map\n            this.analysisSceneView().then(() => {\n                this.updateSceneView(this.props.baseWidgetProps.config);\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (!this.state.isModulesLoaded) {\n            return;\n        }\n        if (prevProps.isMapInVisibleArea !== this.props.isMapInVisibleArea && (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length === 2)) {\n            if (this.props.isMapInVisibleArea) {\n                if (this.mapView) {\n                    this.mapView.isInCaching = false;\n                    this.mapView.tryFatalErrorRecovery();\n                }\n                if (this.sceneView) {\n                    this.sceneView.isInCaching = false;\n                    this.sceneView.tryFatalErrorRecovery();\n                }\n            }\n            if (!this.props.isMapInVisibleArea) {\n                if (this.mapView) {\n                    this.mapView.isInCaching = true;\n                }\n                if (this.sceneView) {\n                    this.sceneView.isInCaching = true;\n                }\n            }\n        }\n        const curDsId = this.props.dataSourceId;\n        const prevDsId = prevProps.dataSourceId;\n        const curDsItemId = this.getDsJsonFromDsId(curDsId).itemId;\n        const preDsItemId = this.getDsJsonFromDsId(prevDsId).itemId;\n        if (curDsId !== prevDsId || curDsItemId !== preDsItemId) {\n            this.mapView = null;\n            this.sceneView = null;\n            this.isRequestingMap = false;\n            this.mapDs = null;\n            const prevJimuMapViewId = this.getDsJsonFromDsId(prevDsId) && `${this.props.baseWidgetProps.id}-${prevDsId}`;\n            if (prevJimuMapViewId) {\n                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(prevJimuMapViewId);\n            }\n            if (this.state.mapLoadStatus === MapLoadStatus.LoadError && !this.getDsJsonFromDsId(curDsId)) {\n                return;\n            }\n            this.setState({\n                mapLoadStatus: MapLoadStatus.Loading\n            });\n        }\n        if (this.props.isDefaultMap) {\n            this.sceneView = null;\n            this.isRequestingMap = false;\n            this.analysisMapView().then(() => {\n                this.updateMapView(this.props.baseWidgetProps.config);\n                if (!this.mapView || !this.props.baseWidgetProps.mutableStateProps) {\n                    return;\n                }\n                if (this.props.baseWidgetProps.mutableStateProps) {\n                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        tempJimuMapView.whenJimuMapViewLoaded().then(() => {\n                            setTimeout(() => {\n                                this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.mapView);\n                                this.handleDataAction(this.props.baseWidgetProps.mutableStateProps, tempJimuMapView);\n                                this.isFirstReceiveMessage = false;\n                            }, this.isFirstReceiveMessage ? 500 : 0);\n                        });\n                    }\n                }\n            });\n        }\n        if (!this.getDsJsonFromDsId(curDsId)) {\n            return;\n        }\n        if (this.getDsJsonFromDsId(curDsId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebMap) {\n            this.sceneView = null;\n            this.isRequestingMap = false;\n            this.analysisMapView().then(() => {\n                var _a;\n                this.updateMapView(this.props.baseWidgetProps.config, (_a = prevProps.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.config);\n                if (!this.mapView || !this.props.baseWidgetProps.mutableStateProps) {\n                    return;\n                }\n                if (this.props.baseWidgetProps.mutableStateProps) {\n                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        tempJimuMapView.whenJimuMapViewLoaded().then(() => {\n                            setTimeout(() => {\n                                this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.mapView);\n                                this.handleDataAction(this.props.baseWidgetProps.mutableStateProps, tempJimuMapView);\n                                this.isFirstReceiveMessage = false;\n                            }, this.isFirstReceiveMessage ? 500 : 0);\n                        });\n                    }\n                }\n            });\n        }\n        if (this.getDsJsonFromDsId(curDsId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {\n            this.mapView = null;\n            this.isRequestingMap = false;\n            this.analysisSceneView().then(() => {\n                var _a;\n                this.updateSceneView(this.props.baseWidgetProps.config, (_a = prevProps.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.config);\n                if (!this.sceneView || !this.props.baseWidgetProps.mutableStateProps) {\n                    return;\n                }\n                if (this.props.baseWidgetProps.mutableStateProps) {\n                    const tempJimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n                    const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        tempJimuMapView.whenJimuMapViewLoaded().then(() => {\n                            setTimeout(() => {\n                                this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.sceneView);\n                                this.handleDataAction(this.props.baseWidgetProps.mutableStateProps, tempJimuMapView);\n                                this.isFirstReceiveMessage = false;\n                            }, this.isFirstReceiveMessage ? 500 : 0);\n                        });\n                    }\n                }\n            });\n        }\n    }\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.dataSourceId !== prevState.dataSourceId) {\n            return {\n                dataSourceId: nextProps.dataSourceId,\n                mapLoadStatus: MapLoadStatus.Loading\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    componentWillUnmount() {\n        this.__unmount = true;\n        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;\n        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources &&\n            this.state.mapLoadStatus !== MapLoadStatus.Loading) {\n            const restoreData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapBaseRestoreData)(this);\n            if (this.mapView) {\n                this.mapView.isInCaching = true;\n            }\n            if (this.sceneView) {\n                this.sceneView.isInCaching = true;\n            }\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`, restoreData);\n        }\n        else {\n            this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: null });\n            const jimuMapViewId = `${this.props.baseWidgetProps.id}-${this.props.dataSourceId}`;\n            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);\n            if (this.mapView && !this.mapView.destroyed) {\n                this.mapView.container = null;\n                this.mapView = null;\n            }\n            if (this.sceneView && !this.sceneView.destroyed) {\n                this.sceneView.container = null;\n                this.sceneView = null;\n            }\n            this.highLightHandles = {};\n            this.extentWatch = null;\n            this.fatalErrorWatch = null;\n            this.mapDs = null;\n            this.isRequestingMap = false;\n        }\n    }\n    render() {\n        let useDataSource = null;\n        if (this.props.baseWidgetProps.useDataSources) {\n            for (let i = 0; i < this.props.baseWidgetProps.useDataSources.length; i++) {\n                if (this.props.baseWidgetProps.useDataSources[i].dataSourceId === this.props.dataSourceId) {\n                    useDataSource = this.props.baseWidgetProps.useDataSources[i];\n                }\n            }\n        }\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'jimu-widget', style: { position: 'relative' }, ref: ref => { this.widgetContainer = ref; } },\n            (this.state.mapLoadStatus === MapLoadStatus.Loading) &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'jimu-widget widget-map-background' },\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),\n            (this.state.mapLoadStatus === MapLoadStatus.LoadError) &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'jimu-widget widget-map-background' },\n                    this.getMapSwitchForErrorMap(),\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'jimu-widget d-flex justify-content-center align-items-center' }, this.formatMessage('mapFailure'))),\n            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { position: 'absolute', display: 'none' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSource, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed }))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXBiYXNlLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBd0JBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQWlDQTtBQUNBO0FBWEE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFxREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWwwQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZy9CQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFBQTtBQU9BO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbWFwYmFzZS50c3g/MzlhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSZWFjdCwgRGF0YVNvdXJjZU1hbmFnZXIsIEV4dGVudENoYW5nZU1lc3NhZ2UsIERhdGFTb3VyY2VDb21wb25lbnQsIHBvcnRhbFVybFV0aWxzLCBTcWxRdWVyeVBhcmFtcyxcbiAgZ2V0QXBwU3RvcmUsIE11dGFibGVTdG9yZU1hbmFnZXIsIEltbXV0YWJsZU9iamVjdCwgZGF0YVNvdXJjZVV0aWxzLCBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCBVc2VEYXRhU291cmNlXG59IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IElNQ29uZmlnLCBTY2VuZVF1YWxpdHlNb2RlIH0gZnJvbSAnLi4vLi4vY29uZmlnJ1xuaW1wb3J0IHsgTWFwRGF0YVNvdXJjZSwgRGF0YVNvdXJjZVR5cGVzLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBNYXBWaWV3TWFuYWdlciwgSmltdU1hcFZpZXcsIEppbXVNYXBWaWV3Q29uc3RydWN0b3JPcHRpb25zLCB6b29tVG9VdGlscywgRGVmYXVsdE1hcEluZm8gfSBmcm9tICdqaW11LWFyY2dpcydcbmltcG9ydCB7IEluaXRpYWxNYXBTdGF0ZSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzLCBJY29uIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7XG4gIGNyZWF0ZU5ld0ZlYXR1cmVsYXllciwgdXBkYXRlRmVhdHVyZWxheWVyLCBnZXRNYXBCYXNlUmVzdG9yZURhdGEsIHJlc3RvcmVNYXBCYXNlLCBzZWxlY3RGZWF0dXJlLFxuICBtYXBQYW50bywgZmxhc2hGZWF0dXJlc0J5UXVlcnksIHByb2plY3RHZW9tZXRyaWVzLCBmaWx0ZXJGZWF0dXJlc0J5UXVlcnksIHByb2Nlc3Nab29tVG9GZWF0dXJlc1xufSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IE1hcFdpZGdldFByb3BzLCBBY3Rpb25SZWxhdGVkUHJvcHMgfSBmcm9tICcuLi93aWRnZXQnXG5cbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4vbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcblxuY29uc3QgRXhjaGFuZ2UgPSByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJylcblxuaW50ZXJmYWNlIFByb3Bze1xuICBpc01hcEluVmlzaWJsZUFyZWE6IGJvb2xlYW5cbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcbiAgaXNEZWZhdWx0TWFwPzogYm9vbGVhblxuICBiYXNlV2lkZ2V0UHJvcHM6IE1hcFdpZGdldFByb3BzXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcbiAgZGVmYXVsdE1hcEluZm8/OiBEZWZhdWx0TWFwSW5mb1xuICBvblZpZXdDaGFuZ2VkPzogKHNoYXJlVmlld1BvaW50OiBTaGFyZVZpZXdQb2ludCkgPT4gdm9pZFxuICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgcHJvcEtleTogc3RyaW5nLCB2YWx1ZT86IGFueSkgPT4gdm9pZFxuXG4gIG9uRXh0ZW50Q2hhbmdlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4gdm9pZFxuICBvbk1hcExvYWRlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cykgPT4gdm9pZFxuICBvbkppbXVNYXBWaWV3Q3JlYXRlZD86ICgpID0+IHZvaWRcbiAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD86IChzaG93T25NYXBEYXRhc0tleTogc3RyaW5nW10pID0+IHZvaWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaGFyZVZpZXdQb2ludCB7XG4gIGRhdGFTb3VyY2VJZDogc3RyaW5nXG4gIHZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludFxufVxuXG5leHBvcnQgZW51bSBNYXBMb2FkU3RhdHVzIHtcbiAgTG9hZGluZyA9ICdMT0FESU5HJyxcbiAgTG9hZG9rID0gJ0xPQURPSycsXG4gIExvYWRFcnJvciA9ICdMT0FERVJST1InXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlnaExpZ2h0SGFuZGxlIHtcbiAgbGF5ZXJJZDogc3RyaW5nXG4gIGhhbmRsZTogX19lc3JpLkhhbmRsZVxufVxuXG5pbnRlcmZhY2UgU3RhdGV7XG4gIGRhdGFTb3VyY2VJZDogc3RyaW5nXG4gIGlzTW9kdWxlc0xvYWRlZD86IGJvb2xlYW5cbiAgbWFwTG9hZFN0YXR1cz86IE1hcExvYWRTdGF0dXNcblxuICBtYXBCYXNlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3XG4gIGlzTWFwQ3Jhc2hlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwQmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIG1hcENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcbiAgd2lkZ2V0Q29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxuXG4gIEdlb21ldHJ5OiB0eXBlb2YgX19lc3JpLkdlb21ldHJ5XG4gIEluaXRpYWxWaWV3UHJvcGVydGllczogdHlwZW9mIF9fZXNyaS5Jbml0aWFsVmlld1Byb3BlcnRpZXNcbiAgVGlsZUxheWVyOiB0eXBlb2YgX19lc3JpLlRpbGVMYXllclxuICBCYXNlbWFwOiB0eXBlb2YgX19lc3JpLkJhc2VtYXBcbiAgTWFwVmlldzogdHlwZW9mIF9fZXNyaS5NYXBWaWV3XG4gIFNjZW5lVmlldzogdHlwZW9mIF9fZXNyaS5TY2VuZVZpZXdcbiAgRXh0ZW50OiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5LkV4dGVudFxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50XG4gIFBvcnRhbEl0ZW06IHR5cGVvZiBfX2VzcmkuUG9ydGFsSXRlbVxuICBQb3J0YWw6IHR5cGVvZiBfX2VzcmkuUG9ydGFsXG4gIFdlYk1hcDogdHlwZW9mIF9fZXNyaS5XZWJNYXBcbiAgV2ViU2NlbmU6IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmVcbiAgQ29sb3I6IHR5cGVvZiBfX2VzcmkuQ29sb3JcblxuICBtYXBWaWV3OiBfX2VzcmkuTWFwVmlld1xuICBzY2VuZVZpZXc6IF9fZXNyaS5TY2VuZVZpZXdcbiAgbWFwRHM6IE1hcERhdGFTb3VyY2VcbiAgZXh0ZW50V2F0Y2g6IF9fZXNyaS5XYXRjaEhhbmRsZVxuICBmYXRhbEVycm9yV2F0Y2g6IF9fZXNyaS5XYXRjaEhhbmRsZVxuICBoaWdoTGlnaHRIYW5kbGVzOiB7W2xheWVySWQ6IHN0cmluZ106IF9fZXNyaS5IYW5kbGV9ID0ge31cbiAgbWFwQmFzZVZpZXdFdmVudEhhbmRsZXM6IHtbZXZlbnROYW1lOiBzdHJpbmddOiBfX2VzcmkuSGFuZGxlfSA9IHt9XG4gIGRzTWFuYWdlciA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKClcblxuICBvbkV4dGVudGVkID0gbnVsbFxuICBpc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPSB0cnVlXG4gIGlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXG5cbiAgX191bm1vdW50ID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCAncmVzdG9yZURhdGEnLFxuICAgICAgYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YF0pXG5cbiAgICBpZiAocmVzdG9yZURhdGEpIHtcbiAgICAgIHJlc3RvcmVNYXBCYXNlKHRoaXMsIHJlc3RvcmVEYXRhKVxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXG4gICAgICAgIGByZXN0b3JlRGF0YS4ke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWAsIG51bGwpXG5cbiAgICAgIHRoaXMuYmluZE1hcEJhc2VWaWV3RXZlbnQodGhpcy5tYXBWaWV3IHx8IHRoaXMuc2NlbmVWaWV3KVxuXG4gICAgICBpZiAodGhpcy5tYXBWaWV3KSB7XG4gICAgICAgICh0aGlzLm1hcFZpZXcgYXMgYW55KS5pc0luQ2FjaGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMubWFwVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgICAgKHRoaXMuc2NlbmVWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjZW5lVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmcsXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogbnVsbCxcbiAgICAgICAgbWFwQmFzZUppbXVNYXBWaWV3OiBudWxsLFxuICAgICAgICBkYXRhU291cmNlSWQ6IG51bGwsXG4gICAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcbiAgICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxuICAgICAgfSBhcyBTdGF0ZVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0UmVuZGVyTWFwID0gKCkgPT4ge1xuICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgJ2VzcmkvZ2VvbWV0cnkvRXh0ZW50JyxcbiAgICAgICdlc3JpL1ZpZXdwb2ludCdcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgW1xuICAgICAgICB0aGlzLkV4dGVudCwgdGhpcy5WaWV3cG9pbnRcbiAgICAgIF0gPSBtb2R1bGVzXG5cbiAgICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTW9kdWxlc0xvYWRlZDogdHJ1ZVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gZmFsc2VcblxuICAgIGlmICh0aGlzLndpZGdldENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3aWRnZXQtbWFwJykubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoIXRoaXMubWFwQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMubWFwQ29udGFpbmVyID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgdGhpcy5tYXBDb250YWluZXIuY2xhc3NOYW1lID0gJ2ppbXUtd2lkZ2V0IHdpZGdldC1tYXAnXG4gICAgICB9XG4gICAgICB0aGlzLndpZGdldENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1hcENvbnRhaW5lcilcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzICYmICF0aGlzLnN0YXRlLmlzTW9kdWxlc0xvYWRlZCkge1xuICAgICAgdGhpcy5zdGFydFJlbmRlck1hcCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHJvcHMuZGF0YVNvdXJjZUlkICYmICF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSAmJiAhdGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xuICAgICAgLy8gaW5pdCBhbmQgdXBkYXRlIG1hcFxuICAgICAgdGhpcy5hbmFseXNpc01hcFZpZXcoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBWaWV3KHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZylcbiAgICAgIH0pXG5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XG4gICAgICAvLyBpbml0IGFuZCB1cGRhdGUgbWFwXG4gICAgICB0aGlzLmFuYWx5c2lzTWFwVmlldygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XG4gICAgICAvLyBpbml0IGFuZCB1cGRhdGUgbWFwXG4gICAgICB0aGlzLmFuYWx5c2lzU2NlbmVWaWV3KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlU2NlbmVWaWV3KHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZylcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTW9kdWxlc0xvYWRlZCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgIT09IHRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhICYmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggPT09IDIpKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEpIHtcbiAgICAgICAgaWYgKHRoaXMubWFwVmlldykge1xuICAgICAgICAgICh0aGlzLm1hcFZpZXcgYXMgYW55KS5pc0luQ2FjaGluZyA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5tYXBWaWV3LnRyeUZhdGFsRXJyb3JSZWNvdmVyeSgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgICAgICAodGhpcy5zY2VuZVZpZXcgYXMgYW55KS5pc0luQ2FjaGluZyA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5zY2VuZVZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhKSB7XG4gICAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcbiAgICAgICAgICAodGhpcy5tYXBWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcgPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgICAgICAodGhpcy5zY2VuZVZpZXcgYXMgYW55KS5pc0luQ2FjaGluZyA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGN1ckRzSWQgPSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZFxuICAgIGNvbnN0IHByZXZEc0lkID0gcHJldlByb3BzLmRhdGFTb3VyY2VJZFxuXG4gICAgY29uc3QgY3VyRHNJdGVtSWQgPSB0aGlzLmdldERzSnNvbkZyb21Ec0lkKGN1ckRzSWQpLml0ZW1JZFxuICAgIGNvbnN0IHByZURzSXRlbUlkID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZChwcmV2RHNJZCkuaXRlbUlkXG5cbiAgICBpZiAoY3VyRHNJZCAhPT0gcHJldkRzSWQgfHwgY3VyRHNJdGVtSWQgIT09IHByZURzSXRlbUlkKSB7XG4gICAgICB0aGlzLm1hcFZpZXcgPSBudWxsXG4gICAgICB0aGlzLnNjZW5lVmlldyA9IG51bGxcbiAgICAgIHRoaXMuaXNSZXF1ZXN0aW5nTWFwID0gZmFsc2VcbiAgICAgIHRoaXMubWFwRHMgPSBudWxsXG4gICAgICBjb25zdCBwcmV2SmltdU1hcFZpZXdJZCA9IHRoaXMuZ2V0RHNKc29uRnJvbURzSWQocHJldkRzSWQpICYmIGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke3ByZXZEc0lkfWBcbiAgICAgIGlmIChwcmV2SmltdU1hcFZpZXdJZCkge1xuICAgICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhwcmV2SmltdU1hcFZpZXdJZClcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IgJiYgIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmdcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XG4gICAgICB0aGlzLnNjZW5lVmlldyA9IG51bGxcbiAgICAgIHRoaXMuaXNSZXF1ZXN0aW5nTWFwID0gZmFsc2VcblxuICAgICAgdGhpcy5hbmFseXNpc01hcFZpZXcoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBWaWV3KHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZylcblxuICAgICAgICBpZiAoIXRoaXMubWFwVmlldyB8fCAhdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKVxuICAgICAgICAgIGlmICh0ZW1wSmltdU1hcFZpZXcpIHtcbiAgICAgICAgICAgIHRlbXBKaW11TWFwVmlldy53aGVuSmltdU1hcFZpZXdMb2FkZWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24odGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMsIHRoaXMubWFwVmlldylcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFBY3Rpb24odGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMsIHRlbXBKaW11TWFwVmlldylcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA9IGZhbHNlXG4gICAgICAgICAgICAgIH0sIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID8gNTAwIDogMFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKGN1ckRzSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcbiAgICAgIHRoaXMuc2NlbmVWaWV3ID0gbnVsbFxuICAgICAgdGhpcy5pc1JlcXVlc3RpbmdNYXAgPSBmYWxzZVxuXG4gICAgICB0aGlzLmFuYWx5c2lzTWFwVmlldygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLCBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzPy5jb25maWcpXG5cbiAgICAgICAgaWYgKCF0aGlzLm1hcFZpZXcgfHwgIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpIHtcbiAgICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWBcbiAgICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0ZW1wSmltdU1hcFZpZXdJZClcbiAgICAgICAgICBpZiAodGVtcEppbXVNYXBWaWV3KSB7XG4gICAgICAgICAgICB0ZW1wSmltdU1hcFZpZXcud2hlbkppbXVNYXBWaWV3TG9hZGVkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzLCB0aGlzLm1hcFZpZXcpXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhQWN0aW9uKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzLCB0ZW1wSmltdU1hcFZpZXcpXG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICB9LCB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA/IDUwMCA6IDBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XG4gICAgICB0aGlzLm1hcFZpZXcgPSBudWxsXG4gICAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXG5cbiAgICAgIHRoaXMuYW5hbHlzaXNTY2VuZVZpZXcoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVTY2VuZVZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLCBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzPy5jb25maWcpXG5cbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lVmlldyB8fCAhdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKVxuICAgICAgICAgIGlmICh0ZW1wSmltdU1hcFZpZXcpIHtcbiAgICAgICAgICAgIHRlbXBKaW11TWFwVmlldy53aGVuSmltdU1hcFZpZXdMb2FkZWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24odGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMsIHRoaXMuc2NlbmVWaWV3KVxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YUFjdGlvbih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcywgdGVtcEppbXVNYXBWaWV3KVxuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gZmFsc2VcbiAgICAgICAgICAgICAgfSwgdGhpcy5pc0ZpcnN0UmVjZWl2ZU1lc3NhZ2UgPyA1MDAgOiAwXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGFuYWx5c2lzTWFwVmlldyA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoIXRoaXMubWFwVmlldykge1xuICAgICAgaWYgKHRoaXMuTWFwVmlldykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0TWFwVmlldygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvR2VvbWV0cnknLFxuICAgICAgICAgICdlc3JpL3dlYm1hcC9Jbml0aWFsVmlld1Byb3BlcnRpZXMnLFxuICAgICAgICAgICdlc3JpL0Jhc2VtYXAnLFxuICAgICAgICAgICdlc3JpL2xheWVycy9UaWxlTGF5ZXInLFxuICAgICAgICAgICdlc3JpL3ZpZXdzL01hcFZpZXcnLFxuICAgICAgICAgICdlc3JpL1dlYk1hcCcsXG4gICAgICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbCcsXG4gICAgICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbEl0ZW0nLFxuICAgICAgICAgICdlc3JpL0NvbG9yJ1xuICAgICAgICBdKS50aGVuKGFzeW5jIG1vZHVsZXMgPT4ge1xuICAgICAgICAgIFtcbiAgICAgICAgICAgIHRoaXMuR2VvbWV0cnksIHRoaXMuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzLCB0aGlzLkJhc2VtYXAsIHRoaXMuVGlsZUxheWVyLCB0aGlzLk1hcFZpZXcsIHRoaXMuV2ViTWFwLCB0aGlzLlBvcnRhbCwgdGhpcy5Qb3J0YWxJdGVtLCB0aGlzLkNvbG9yXG4gICAgICAgICAgXSA9IG1vZHVsZXNcbiAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0TWFwVmlldygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cbiAgfVxuXG4gIGFuYWx5c2lzU2NlbmVWaWV3ID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmICghdGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgIGlmICh0aGlzLlNjZW5lVmlldykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0U2NlbmVWaWV3KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICAgICAnZXNyaS92aWV3cy9TY2VuZVZpZXcnLFxuICAgICAgICAgICdlc3JpL1dlYlNjZW5lJyxcbiAgICAgICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsJyxcbiAgICAgICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsSXRlbScsXG4gICAgICAgICAgJ2VzcmkvQ29sb3InXG4gICAgICAgIF0pLnRoZW4oYXN5bmMgbW9kdWxlcyA9PiB7XG4gICAgICAgICAgW1xuICAgICAgICAgICAgdGhpcy5TY2VuZVZpZXcsIHRoaXMuV2ViU2NlbmUsIHRoaXMuUG9ydGFsLCB0aGlzLlBvcnRhbEl0ZW0sIHRoaXMuQ29sb3JcbiAgICAgICAgICBdID0gbW9kdWxlc1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRTY2VuZVZpZXcoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIChuZXh0UHJvcHM6IFByb3BzLCBwcmV2U3RhdGU6IFN0YXRlKSB7XG4gICAgaWYgKG5leHRQcm9wcy5kYXRhU291cmNlSWQgIT09IHByZXZTdGF0ZS5kYXRhU291cmNlSWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGFTb3VyY2VJZDogbmV4dFByb3BzLmRhdGFTb3VyY2VJZCxcbiAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxuXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xuXG4gICAgaWYgKHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdICYmIHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdLnVzZURhdGFTb3VyY2VzID09PSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAmJlxuICAgICAgdGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzICE9PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpIHtcbiAgICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gZ2V0TWFwQmFzZVJlc3RvcmVEYXRhKHRoaXMpXG5cbiAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcbiAgICAgICAgKHRoaXMubWFwVmlldyBhcyBhbnkpLmlzSW5DYWNoaW5nID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgICAgKHRoaXMuc2NlbmVWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gLCByZXN0b3JlRGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkICYmIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCh7IGRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIHZpZXdwb2ludDogbnVsbCB9KVxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWBcbiAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KGppbXVNYXBWaWV3SWQpXG5cbiAgICAgIGlmICh0aGlzLm1hcFZpZXcgJiYgIXRoaXMubWFwVmlldy5kZXN0cm95ZWQpIHtcbiAgICAgICAgdGhpcy5tYXBWaWV3LmNvbnRhaW5lciA9IG51bGxcbiAgICAgICAgdGhpcy5tYXBWaWV3ID0gbnVsbFxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3ICYmICF0aGlzLnNjZW5lVmlldy5kZXN0cm95ZWQpIHtcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcuY29udGFpbmVyID0gbnVsbFxuICAgICAgICB0aGlzLnNjZW5lVmlldyA9IG51bGxcbiAgICAgIH1cbiAgICAgIHRoaXMuaGlnaExpZ2h0SGFuZGxlcyA9IHt9XG4gICAgICB0aGlzLmV4dGVudFdhdGNoID0gbnVsbFxuICAgICAgdGhpcy5mYXRhbEVycm9yV2F0Y2ggPSBudWxsXG4gICAgICB0aGlzLm1hcERzID0gbnVsbFxuICAgICAgdGhpcy5pc1JlcXVlc3RpbmdNYXAgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSA9IChpbml0aWFsTWFwU3RhdGU6IEltbXV0YWJsZU9iamVjdDxJbml0aWFsTWFwU3RhdGU+KTogX19lc3JpLlZpZXdwb2ludCA9PiB7XG4gICAgaWYgKGluaXRpYWxNYXBTdGF0ZS52aWV3VHlwZSA9PT0gJzJkJykge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLlZpZXdwb2ludChcbiAgICAgICAge1xuICAgICAgICAgIHRhcmdldEdlb21ldHJ5OiB0aGlzLkV4dGVudC5mcm9tSlNPTihpbml0aWFsTWFwU3RhdGUuZXh0ZW50KSxcbiAgICAgICAgICByb3RhdGlvbjogaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuVmlld3BvaW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS52aWV3UG9pbnQpXG4gICAgfVxuICB9XG5cbiAgY2xvbmVNYXAgPSBhc3luYyAoKTogUHJvbWlzZTxfX2VzcmkuV2ViTWFwIHwgX19lc3JpLldlYlNjZW5lPiA9PiB7XG4gICAgbGV0IG1hcDogX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSA9IG51bGxcbiAgICBjb25zdCBkYXRhU291cmNlSnNvbiA9IHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpXG4gICAgbGV0IE1hcENsYXNzOiB0eXBlb2YgX19lc3JpLldlYk1hcCB8IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmUgPSBudWxsXG4gICAgaWYgKGRhdGFTb3VyY2VKc29uLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcbiAgICAgIE1hcENsYXNzID0gdGhpcy5XZWJNYXBcbiAgICB9XG5cbiAgICBpZiAoZGF0YVNvdXJjZUpzb24udHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XG4gICAgICBNYXBDbGFzcyA9IHRoaXMuV2ViU2NlbmVcbiAgICB9XG5cbiAgICBpZiAoZGF0YVNvdXJjZUpzb24ucG9ydGFsVXJsKSB7XG4gICAgICBjb25zdCBwb3J0YWwgPSBuZXcgdGhpcy5Qb3J0YWwoe1xuICAgICAgICB1cmw6IHBvcnRhbFVybFV0aWxzLmdldFBsYXRmb3JtVXJsQnlPcmdVcmwoZGF0YVNvdXJjZUpzb24ucG9ydGFsVXJsKVxuICAgICAgfSlcblxuICAgICAgbWFwID0gbmV3IE1hcENsYXNzKHtcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VKc29uLml0ZW1JZCxcbiAgICAgICAgICBwb3J0YWw6IHBvcnRhbFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgbWFwID0gbmV3IE1hcENsYXNzKHtcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VKc29uLml0ZW1JZFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoZGF0YVNvdXJjZVV0aWxzLmdldFdoZXRoZXJVc2VQcm94eSgpKSB7XG4gICAgICByZXR1cm4gYXdhaXQgbWFwLmxvYWQoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IG1hcC53aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB0YWJsZXMgPSAobWFwIGFzIGFueSkudGFibGVzID8gKG1hcCBhcyBhbnkpLnRhYmxlcy50b0FycmF5KCkgOiBbXVxuICAgICAgICAgIHRhYmxlcy5mb3JFYWNoKHRhYmxlID0+IHsgLy8gc2V0IHByb3h5IHVybCBmb3IgdGFibGVzXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VVcmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcih0YWJsZSlcbiAgICAgICAgICAgIGlmICghc291cmNlVXJsKSB7XG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJveHlVcmw6IHN0cmluZyA9IGRhdGFTb3VyY2VVdGlscy5nZXREYXRhU291cmNlUHJveHlVcmwoc291cmNlVXJsKVxuXG4gICAgICAgICAgICBpZiAocHJveHlVcmwpIHtcbiAgICAgICAgICAgICAgKHRhYmxlIGFzIF9fZXNyaS5MYXllciAmIHt1cmw6IHN0cmluZ30pLnVybCA9IHByb3h5VXJsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIG1hcC5hbGxMYXllcnMudG9BcnJheSgpXG4gICAgICAgICAgICAuZm9yRWFjaChsYXllciA9PiB7IC8vIHNldCBwcm94eSB1cmwgZm9yIGxheWVyc1xuICAgICAgICAgICAgICBjb25zdCBzb3VyY2VVcmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcihsYXllcilcbiAgICAgICAgICAgICAgaWYgKCFzb3VyY2VVcmwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBwcm94eVVybDogc3RyaW5nID0gZGF0YVNvdXJjZVV0aWxzLmdldERhdGFTb3VyY2VQcm94eVVybChzb3VyY2VVcmwpXG5cbiAgICAgICAgICAgICAgaWYgKHByb3h5VXJsKSB7XG4gICAgICAgICAgICAgICAgKGxheWVyIGFzIF9fZXNyaS5MYXllciAmIHt1cmw6IHN0cmluZ30pLnVybCA9IHByb3h5VXJsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtYXApXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1hcClcbiAgICB9XG4gIH1cblxuICBnZXRJbml0Vmlld1BvaW50Rm9yRGVmYXVsdFdlYk1hcCA9ICgpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcbiAgICBjb25zdCBkZWZhdWx0RXh0ZW50ID0gdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mbyAmJiB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvLmRlZmF1bHRFeHRlbnRcbiAgICBsZXQgdGVtcFZpZXdQb2ludCA9IG51bGxcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludCkge1xuICAgICAgdGVtcFZpZXdQb2ludCA9IHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBWaWV3UG9pbnQgPSBuZXcgdGhpcy5WaWV3cG9pbnQoXG4gICAgICAgIHtcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogbmV3IHRoaXMuRXh0ZW50KHtcbiAgICAgICAgICAgIHhtaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWluLFxuICAgICAgICAgICAgeW1pbjogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnltaW4sXG4gICAgICAgICAgICB4bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1heCxcbiAgICAgICAgICAgIHltYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWF4LFxuICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiBkZWZhdWx0RXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Uud2tpZCB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gdGVtcFZpZXdQb2ludFxuICB9XG5cbiAgZ2V0RGVmYXVsdFdlYk1hcCA9ICgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0RXh0ZW50ID0gdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mbyAmJiB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvLmRlZmF1bHRFeHRlbnRcblxuICAgIGxldCB0ZW1wVmlld1BvaW50ID0gbnVsbFxuICAgIHRlbXBWaWV3UG9pbnQgPSBuZXcgdGhpcy5WaWV3cG9pbnQoXG4gICAgICB7XG4gICAgICAgIHRhcmdldEdlb21ldHJ5OiBuZXcgdGhpcy5FeHRlbnQoe1xuICAgICAgICAgIHhtaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWluLFxuICAgICAgICAgIHltaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWluLFxuICAgICAgICAgIHhtYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWF4LFxuICAgICAgICAgIHltYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWF4LFxuICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLndraWQgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIClcblxuICAgIGNvbnN0IGRlZmF1bHRXZWJtYXAgPSBuZXcgdGhpcy5XZWJNYXAoe1xuICAgICAgcG9ydGFsSXRlbToge1xuICAgICAgICBpZDogdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mby5kZWZhdWx0TWFwSWQsXG4gICAgICAgIHBvcnRhbDoge1xuICAgICAgICAgIHVybDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucG9ydGFsVXJsXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbml0aWFsVmlld1Byb3BlcnRpZXM6IG5ldyB0aGlzLkluaXRpYWxWaWV3UHJvcGVydGllcyh7XG4gICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLFxuICAgICAgICB2aWV3cG9pbnQ6IHRlbXBWaWV3UG9pbnRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBkZWZhdWx0V2VibWFwXG4gIH1cblxuICBpbml0TWFwVmlldyA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0aGlzLmV4dGVudFdhdGNoID0gbnVsbFxuICAgIHRoaXMuZmF0YWxFcnJvcldhdGNoID0gbnVsbFxuXG4gICAgaWYgKHRoaXMubWFwVmlldyAmJiAhdGhpcy5pc1JlcXVlc3RpbmdNYXApIHtcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmlzUmVxdWVzdGluZ01hcCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5pc1JlcXVlc3RpbmdNYXAgPSB0cnVlXG5cbiAgICBsZXQgbWFwVmlld09wdGlvbjogX19lc3JpLk1hcFZpZXdQcm9wZXJ0aWVzXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XG4gICAgICBjb25zdCBkZWZhdWx0TWFwID0gdGhpcy5nZXREZWZhdWx0V2ViTWFwKClcbiAgICAgIG1hcFZpZXdPcHRpb24gPSB7XG4gICAgICAgIG1hcDogZGVmYXVsdE1hcCxcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcbiAgICAgICAgdmlld3BvaW50OiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKCksXG4gICAgICAgIHJvdGF0aW9uOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUucm90YXRpb25cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGVtcFdlYm1hcCA9IGF3YWl0IHRoaXMuY2xvbmVNYXAoKVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSkge1xuICAgICAgICBtYXBWaWV3T3B0aW9uID0ge1xuICAgICAgICAgIG1hcDogdGVtcFdlYm1hcCxcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMubWFwQ29udGFpbmVyLFxuICAgICAgICAgIHZpZXdwb2ludDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJlxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcbiAgICAgICAgICBtYXA6IHRlbXBXZWJtYXAsXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lclxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB7XG4gICAgICAgIG1hcFZpZXdPcHRpb24uaGlnaGxpZ2h0T3B0aW9ucyA9IHsgY29sb3I6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xuICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnF1ZXJ5T2JqZWN0W3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkge1xuICAgICAgICBjb25zdCBleHRlbnRTdHIgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5xdWVyeU9iamVjdFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0uc3Vic3RyKCdleHRlbnQ9Jy5sZW5ndGgpXG4gICAgICAgIGxldCBleHRlbnRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBleHRlbnQgPSBuZXcgdGhpcy5FeHRlbnQoSlNPTi5wYXJzZShleHRlbnRTdHIpKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdCYWQgZXh0ZW50IFVSTCBwYXJhbWV0ZXIuJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChleHRlbnQpIHtcbiAgICAgICAgICBtYXBWaWV3T3B0aW9uLmV4dGVudCA9IGV4dGVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWFwVmlldykge1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXG4gICAgfVxuXG4gICAgdGhpcy5tYXBWaWV3ID0gbmV3IHRoaXMuTWFwVmlldyhtYXBWaWV3T3B0aW9uKVxuICAgIHRoaXMubWFwVmlldy5wb3B1cC5zcGlubmVyRW5hYmxlZCA9IGZhbHNlXG5cbiAgICBjb25zdCB1aSA9IHRoaXMubWFwVmlldy51aSBhcyBhbnlcbiAgICB1aS5leGJNYXBUb29scyA9IHt9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgfHwgKHRoaXMubWFwRHMgJiYgdGhpcy5tYXBEcy5pZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpKSB7XG4gICAgICB0aGlzLmNyZWF0ZUppbXVNYXBWaWV3KClcbiAgICB9XG5cbiAgICB0aGlzLm1hcFZpZXcud2hlbigoKSA9PiB7XG4gICAgICAvLyBhZnRlciB2aWV3IGlzIGxvYWRlZCwgc2VuZCBleHRlbnQgY2hhbmdlIG1lc3NhZ2VcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRvayB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZG9rKVxuICAgICAgfSlcblxuICAgICAgaWYgKCF0aGlzLmV4dGVudFdhdGNoKSB7XG4gICAgICAgIC8vIFNob3VsZCBsaXN0ZW4gZXh0ZW50Q2hhbmdlIGV2ZW50IHdoZW4gYWxsIGxheWVycyBhcmUgbG9hZGVkLCBvdGhlcndpc2UgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG4gICAgICAgIC8vIHNldmVyYWwgdGltZXMgd2hpbGUgdmlldyBsb2FkaW5nLlxuICAgICAgICBjb25zdCBzdGFydFdhdGNoRXh0ZW50Q2hhbmdlUHJvbWlzZSA9IFByb21pc2UuYWxsU2V0dGxlZCh0aGlzLm1hcFZpZXcubWFwLmFsbExheWVycy5tYXAoYXN5bmMgbGF5ZXIgPT4ge1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm1hcFZpZXcud2hlbkxheWVyVmlldyhsYXllcilcbiAgICAgICAgfSkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIHN0YXJ0V2F0Y2hFeHRlbnRDaGFuZ2VQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZXh0ZW50V2F0Y2ggPSB0aGlzLm1hcFZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vbkV4dGVudGVkKVxuICAgICAgICAgICAgdGhpcy5vbkV4dGVudGVkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoKHRoaXMubWFwVmlldyBhcyBhbnkpLmlzUmVjZWl2ZUV4dGVudENoYW5nZSkge1xuICAgICAgICAgICAgICAgICh0aGlzLm1hcFZpZXcgYXMgYW55KS5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSBmYWxzZVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZXh0ZW50KVxuICAgICAgICAgICAgICAgIGV4dGVudE1lc3NhZ2UuYWRkUmVsYXRlZFdpZGdldElkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKVxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyMDApXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmZhdGFsRXJyb3JXYXRjaCkge1xuICAgICAgICB0aGlzLmZhdGFsRXJyb3JXYXRjaCA9IHRoaXMubWFwVmlldy53YXRjaCgnZmF0YWxFcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5tYXBWaWV3IGFzIGFueSkuaXNJbkNhY2hpbmcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmF0YWwgRXJyb3IhIFZpZXcgaGFzIGxvc3QgaXRzIFdlYkdMIGNvbnRleHQuIEF0dGVtcHRpbmcgdG8gcmVjb3Zlci4uLicpXG4gICAgICAgICAgICAgIHRoaXMubWFwVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXNNYXBDcmFzaGVkOiB0cnVlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBleHRlbnQgaXMgcGFzc2VkIGZyb20gZXh0ZW50TWVzc2FnZSBiZWZvcmUsIGRvbid0IGluaXQgZXh0ZW50IGhlcmUgYXMgdGhpcyB3aWxsIHB1Ymxpc2hcbiAgICAgIC8vIGV4dGVudE1lc3NhZ2UgYW5kIGNoYW5nZSBvdGhlciBtYXBXaWRnZXQncyBleHRlbnQuXG4gICAgICBpZiAoIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzPy5tdXRhYmxlU3RhdGVQcm9wcz8uem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlPy52YWx1ZSkge1xuICAgICAgICB0aGlzLmdvSG9tZShmYWxzZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXh0ZW50TWVzc2FnZSA9IG5ldyBFeHRlbnRDaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCB0aGlzLm1hcFZpZXcuZXh0ZW50KVxuICAgICAgICAgIGV4dGVudE1lc3NhZ2UuYWRkUmVsYXRlZFdpZGdldElkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKVxuICAgICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxuICAgICAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoeyBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IHRoaXMubWFwVmlldy52aWV3cG9pbnQuY2xvbmUoKSB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLmlzUmVxdWVzdGluZ01hcCA9IGZhbHNlXG4gICAgdGhpcy5iaW5kTWFwQmFzZVZpZXdFdmVudCh0aGlzLm1hcFZpZXcpXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gIH1cblxuICBpbml0U2NlbmVWaWV3ID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRoaXMuZXh0ZW50V2F0Y2ggPSBudWxsXG4gICAgdGhpcy5mYXRhbEVycm9yV2F0Y2ggPSBudWxsXG5cbiAgICBpZiAodGhpcy5zY2VuZVZpZXcgJiYgIXRoaXMuaXNSZXF1ZXN0aW5nTWFwKSB7XG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1JlcXVlc3RpbmdNYXApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNSZXF1ZXN0aW5nTWFwID0gdHJ1ZVxuXG4gICAgY29uc3QgdGVtcFdlYlNjZW5lID0gYXdhaXQgdGhpcy5jbG9uZU1hcCgpXG5cbiAgICBjb25zdCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcyA9IHtcbiAgICAgIG1hcDogdGVtcFdlYlNjZW5lLFxuICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lclxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XG4gICAgICBtYXBWaWV3T3B0aW9uLnZpZXdwb2ludCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUgJiZcbiAgICAgICAgICB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IpIHtcbiAgICAgIG1hcFZpZXdPcHRpb24uaGlnaGxpZ2h0T3B0aW9ucyA9IHsgY29sb3I6IG5ldyB0aGlzLkNvbG9yKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvcikgfVxuICAgIH1cblxuICAgIGNvbnN0IHNjZW5lUXVhbGl0eU1vZGUgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuc2NlbmVRdWFsaXR5TW9kZVxuICAgIGlmIChzY2VuZVF1YWxpdHlNb2RlICYmIHNjZW5lUXVhbGl0eU1vZGUgIT09IFNjZW5lUXVhbGl0eU1vZGUuYXV0bykge1xuICAgICAgbWFwVmlld09wdGlvbi5xdWFsaXR5UHJvZmlsZSA9IHNjZW5lUXVhbGl0eU1vZGVcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlICdsb3cnIGFzIGRlZmF1bHQgdmFsdWVcbiAgICAgIG1hcFZpZXdPcHRpb24ucXVhbGl0eVByb2ZpbGUgPSBTY2VuZVF1YWxpdHlNb2RlLmxvd1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXG4gICAgfVxuICAgIHRoaXMuc2NlbmVWaWV3ID0gbmV3IHRoaXMuU2NlbmVWaWV3KG1hcFZpZXdPcHRpb24pXG4gICAgdGhpcy5zY2VuZVZpZXcucG9wdXAuc3Bpbm5lckVuYWJsZWQgPSBmYWxzZVxuXG4gICAgY29uc3QgdWkgPSB0aGlzLnNjZW5lVmlldy51aSBhcyBhbnlcbiAgICB1aS5leGJNYXBUb29scyA9IHt9XG5cbiAgICBpZiAodGhpcy5tYXBEcyAmJiB0aGlzLm1hcERzLmlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkge1xuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpXG4gICAgfVxuXG4gICAgdGhpcy5zY2VuZVZpZXcud2hlbigoKSA9PiB7XG4gICAgICAvLyBhZnRlciB2aWV3IGlzIGxvYWRlZCwgc2VuZCBleHRlbnQgY2hhbmdlIG1lc3NhZ2VcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRvayB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZG9rKVxuICAgICAgfSlcblxuICAgICAgaWYgKCF0aGlzLmV4dGVudFdhdGNoKSB7XG4gICAgICAgIC8vIFNob3VsZCBsaXN0ZW4gZXh0ZW50Q2hhbmdlIGV2ZW50IHdoZW4gYWxsIGxheWVycyBhcmUgbG9hZGVkLCBvdGhlcndpc2UgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG4gICAgICAgIC8vIHNldmVyYWwgdGltZXMgd2hpbGUgdmlldyBsb2FkaW5nLlxuICAgICAgICBjb25zdCBzdGFydFdhdGNoRXh0ZW50Q2hhbmdlUHJvbWlzZSA9IFByb21pc2UuYWxsU2V0dGxlZCh0aGlzLnNjZW5lVmlldy5tYXAuYWxsTGF5ZXJzLm1hcChhc3luYyBsYXllciA9PiB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2NlbmVWaWV3LndoZW5MYXllclZpZXcobGF5ZXIpXG4gICAgICAgIH0pKS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICBzdGFydFdhdGNoRXh0ZW50Q2hhbmdlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmV4dGVudFdhdGNoID0gdGhpcy5zY2VuZVZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vbkV4dGVudGVkKVxuICAgICAgICAgICAgdGhpcy5vbkV4dGVudGVkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoKHRoaXMuc2NlbmVWaWV3IGFzIGFueSkuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgKHRoaXMuc2NlbmVWaWV3IGFzIGFueSkuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gZmFsc2VcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRlbnRNZXNzYWdlID0gbmV3IEV4dGVudENoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIGV4dGVudClcbiAgICAgICAgICAgICAgICBleHRlbnRNZXNzYWdlLmFkZFJlbGF0ZWRXaWRnZXRJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZClcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5mYXRhbEVycm9yV2F0Y2gpIHtcbiAgICAgICAgdGhpcy5mYXRhbEVycm9yV2F0Y2ggPSB0aGlzLnNjZW5lVmlldy53YXRjaCgnZmF0YWxFcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5zY2VuZVZpZXcgYXMgYW55KS5pc0luQ2FjaGluZykge1xuICAgICAgICAgICAgICB0aGlzLnNjZW5lVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYXRhbCBFcnJvciEgVmlldyBoYXMgbG9zdCBpdHMgV2ViR0wgY29udGV4dC4gQXR0ZW1wdGluZyB0byByZWNvdmVyLi4uJylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGlzTWFwQ3Jhc2hlZDogdHJ1ZVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gZXh0ZW50IGlzIHBhc3NlZCBmcm9tIGV4dGVudE1lc3NhZ2UgYmVmb3JlLCBkb24ndCBpbml0IGV4dGVudCBoZXJlIGFzIHRoaXMgd2lsbCBwdWJsaXNoXG4gICAgICAvLyBleHRlbnRNZXNzYWdlIGFuZCBjaGFuZ2Ugb3RoZXIgbWFwV2lkZ2V0J3MgZXh0ZW50LlxuICAgICAgaWYgKCF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcz8ubXV0YWJsZVN0YXRlUHJvcHM/Lnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZT8udmFsdWUpIHtcbiAgICAgICAgdGhpcy5nb0hvbWUoZmFsc2UpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGhpcy5zY2VuZVZpZXcuZXh0ZW50KVxuICAgICAgICAgIGV4dGVudE1lc3NhZ2UuYWRkUmVsYXRlZFdpZGdldElkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKVxuICAgICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxuICAgICAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoeyBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IHRoaXMuc2NlbmVWaWV3LnZpZXdwb2ludC5jbG9uZSgpIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuaXNSZXF1ZXN0aW5nTWFwID0gZmFsc2VcbiAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHRoaXMuc2NlbmVWaWV3KVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICB9XG5cbiAgdXBkYXRlTWFwVmlldyA9IChjb25maWc6IElNQ29uZmlnLCBwcmVDb25maWc/OiBJTUNvbmZpZyk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gXG4gICAgbGV0IGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyA9IG51bGxcbiAgICBpZiAoamltdU1hcFZpZXdJZCkge1xuICAgICAgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxuICAgIH1cblxuICAgIGlmICghamltdU1hcFZpZXcgfHwgIXRoaXMubWFwVmlldykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCEoamltdU1hcFZpZXcgJiYgamltdU1hcFZpZXcuZ2V0SXNFZGl0aW5nKCkpKSB7XG4gICAgICBpZiAoY29uZmlnLmRpc2FibGVQb3BVcCkge1xuICAgICAgICB0aGlzLm1hcFZpZXcucG9wdXAuY2xvc2UoKVxuICAgICAgICB0aGlzLm1hcFZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWFwVmlldy5wb3B1cC5hdXRvT3BlbkVuYWJsZWQgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChqaW11TWFwVmlldykge1xuICAgICAgICAoamltdU1hcFZpZXcgYXMgYW55KS5pc0VuYWJsZVBvcHVwID0gIWNvbmZpZy5kaXNhYmxlUG9wVXBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yICYmIGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciAhPT0gcHJlQ29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvcikge1xuICAgICAgY29uc3QgaGlnaGxpZ2h0T3B0aW9ucyA9IHsgLi4udGhpcy5tYXBWaWV3LmhpZ2hsaWdodE9wdGlvbnMsIGNvbG9yOiBuZXcgdGhpcy5Db2xvcihjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IpIH1cbiAgICAgIHRoaXMubWFwVmlldy5oaWdobGlnaHRPcHRpb25zID0gaGlnaGxpZ2h0T3B0aW9uc1xuICAgIH1cblxuICAgIGlmICghdGhpcy5tYXBWaWV3LnVpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLm1hcFZpZXcudWkuY29tcG9uZW50cyA9IFtdXG4gIH1cblxuICB1cGRhdGVTY2VuZVZpZXcgPSAoY29uZmlnOiBJTUNvbmZpZywgcHJlQ29uZmlnPzogSU1Db25maWcpOiB2b2lkID0+IHtcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxuXG4gICAgbGV0IGppbXVNYXBWaWV3OiBKaW11TWFwVmlldyA9IG51bGxcbiAgICBpZiAoamltdU1hcFZpZXdJZCkge1xuICAgICAgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxuICAgIH1cblxuICAgIGlmICghamltdU1hcFZpZXcgfHwgIXRoaXMuc2NlbmVWaWV3KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIShqaW11TWFwVmlldyAmJiBqaW11TWFwVmlldy5nZXRJc0VkaXRpbmcoKSkpIHtcbiAgICAgIGlmIChjb25maWcuZGlzYWJsZVBvcFVwKSB7XG4gICAgICAgIHRoaXMuc2NlbmVWaWV3LnBvcHVwLmNsb3NlKClcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gZmFsc2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2NlbmVWaWV3LnBvcHVwLmF1dG9PcGVuRW5hYmxlZCA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XG4gICAgICAgIChqaW11TWFwVmlldyBhcyBhbnkpLmlzRW5hYmxlUG9wdXAgPSAhY29uZmlnLmRpc2FibGVQb3BVcFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IgJiYgY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yICE9PSBwcmVDb25maWc/LnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB7XG4gICAgICBjb25zdCBoaWdobGlnaHRPcHRpb25zID0geyAuLi50aGlzLnNjZW5lVmlldy5oaWdobGlnaHRPcHRpb25zLCBjb2xvcjogbmV3IHRoaXMuQ29sb3IoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB9XG4gICAgICB0aGlzLnNjZW5lVmlldy5oaWdobGlnaHRPcHRpb25zID0gaGlnaGxpZ2h0T3B0aW9uc1xuICAgIH1cblxuICAgIGNvbnN0IHNjZW5lUXVhbGl0eU1vZGUgPSBjb25maWcuc2NlbmVRdWFsaXR5TW9kZVxuICAgIGlmIChzY2VuZVF1YWxpdHlNb2RlICYmIHNjZW5lUXVhbGl0eU1vZGUgIT09IHRoaXMuc2NlbmVWaWV3LnF1YWxpdHlQcm9maWxlKSB7XG4gICAgICB0aGlzLnNjZW5lVmlldy5xdWFsaXR5UHJvZmlsZSA9IHNjZW5lUXVhbGl0eU1vZGUgYXMgJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJ1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zY2VuZVZpZXcudWkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuc2NlbmVWaWV3LnVpLmNvbXBvbmVudHMgPSBbXVxuICB9XG5cbiAgYmluZE1hcEJhc2VWaWV3RXZlbnQgPSAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldykgPT4ge1xuICAgIGlmIChtYXBCYXNlVmlldykge1xuICAgICAgaWYgKHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNbJ21vdXNlLXdoZWVsJ10pIHtcbiAgICAgICAgdGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1snbW91c2Utd2hlZWwnXS5yZW1vdmUoKVxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydtb3VzZS13aGVlbCddID0gbnVsbFxuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydtb3VzZS13aGVlbCddID0gbWFwQmFzZVZpZXcub24oJ21vdXNlLXdoZWVsJywgKGUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5kaXNhYmxlU2Nyb2xsKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgIHRoaXMuaGFuZGxlRGlzYWJsZVdoZWVsKClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoeyBkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IG1hcEJhc2VWaWV3LnZpZXdwb2ludC5jbG9uZSgpIH0pXG4gICAgICB9KVxuXG4gICAgICBpZiAodGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcy5kcmFnKSB7XG4gICAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuZHJhZy5yZW1vdmUoKVxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmRyYWcgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuZHJhZyA9IG1hcEJhc2VWaWV3Lm9uKCdkcmFnJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQgJiYgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkKHsgZGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgdmlld3BvaW50OiBtYXBCYXNlVmlldy52aWV3cG9pbnQuY2xvbmUoKSB9KVxuICAgICAgfSlcblxuICAgICAgaWYgKHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuY2xpY2spIHtcbiAgICAgICAgdGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcy5jbGljay5yZW1vdmUoKVxuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmNsaWNrID0gbnVsbFxuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzLmNsaWNrID0gbWFwQmFzZVZpZXcub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmhpZ2hMaWdodEhhbmRsZXMpIHtcbiAgICAgICAgICB0aGlzLmhpZ2hMaWdodEhhbmRsZXNba2V5XS5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQgPSAoc2hvd09uTWFwRGF0YXNLZXkpID0+IHtcbiAgLy8gIHRoaXMuc2V0U3RhdGUoe1xuICAvLyAgICBzaG93T25NYXBEYXRhc0tleTogc2hvd09uTWFwRGF0YXNLZXlcbiAgLy8gIH0pXG4gIC8vIH1cblxuICBjcmVhdGVKaW11TWFwVmlldyA9ICgpID0+IHtcbiAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmNyZWF0ZUppbXVNYXBWaWV3KHtcbiAgICAgIG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcbiAgICAgIGRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsXG4gICAgICB2aWV3OiB0aGlzLm1hcFZpZXcgfHwgdGhpcy5zY2VuZVZpZXcsXG4gICAgICBpc0VuYWJsZVBvcHVwOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcgJiYgIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5kaXNhYmxlUG9wVXBcbiAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ6IHRoaXMucHJvcHMub25TaG93T25NYXBEYXRhQ2hhbmdlZFxuICAgIH0gYXMgSmltdU1hcFZpZXdDb25zdHJ1Y3Rvck9wdGlvbnMpXG5cbiAgICBjb25zdCBtYXBCYXNlVmlldyA9IHRoaXMubWFwVmlldyB8fCB0aGlzLnNjZW5lVmlld1xuICAgIGlmIChtYXBCYXNlVmlldykge1xuICAgICAgbWFwQmFzZVZpZXcud2hlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxuICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0ZW1wSmltdU1hcFZpZXdJZClcbiAgICAgICAgaWYgKHRlbXBKaW11TWFwVmlldykge1xuICAgICAgICAgIGlmICh0ZW1wSmltdU1hcFZpZXcudmlldykge1xuICAgICAgICAgICAgdGVtcEppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXRlbXBKaW11TWFwVmlldy52aWV3KSB7XG4gICAgICAgICAgICAgICAgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5kZXN0cm95SmltdU1hcFZpZXcodGVtcEppbXVNYXBWaWV3SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uSmltdU1hcFZpZXdDcmVhdGVkKClcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgbWFwQmFzZUppbXVNYXBWaWV3OiB0ZW1wSmltdU1hcFZpZXdcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KHRlbXBKaW11TWFwVmlld0lkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gXG4gICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyh0ZW1wSmltdU1hcFZpZXdJZClcbiAgICB9XG4gIH1cblxuICBvbkRhdGFTb3VyY2VDcmVhdGVkID0gKGRhdGFTb3VyY2U6IE1hcERhdGFTb3VyY2UpOiB2b2lkID0+IHtcbiAgICB0aGlzLm1hcERzID0gZGF0YVNvdXJjZVxuICAgIGlmICh0aGlzLm1hcERzLmlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCAmJiAodGhpcy5tYXBWaWV3IHx8IHRoaXMuc2NlbmVWaWV3KSkge1xuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc01hcENyYXNoZWQ6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCA9IChlcnIpOiB2b2lkID0+IHtcbiAgICBjb25zb2xlLndhcm4oZXJyKVxuICAgIHRoaXMubWFwRHMgPSBudWxsXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZEVycm9yLFxuICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxuICAgIH0sICgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZEVycm9yKVxuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpXG4gICAgfSlcbiAgfVxuXG4gIHNldFZpZXdQb2ludCA9ICh2aWV3UG9pbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoIXZpZXdQb2ludCB8fCAhdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXBWaWV3KSB7XG4gICAgICAgIHRoaXMubWFwVmlldy52aWV3cG9pbnQgPSB2aWV3UG9pbnRcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XG4gICAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcudmlld3BvaW50ID0gdmlld1BvaW50XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0TWFwTG9hZFN0YXR1cyA9ICgpOiBNYXBMb2FkU3RhdHVzID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzXG4gIH1cblxuICBnZXRWaWV3UG9pbnQgPSAoKTogX19lc3JpLlZpZXdwb2ludCA9PiB7XG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYk1hcCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwVmlldyAmJiB0aGlzLm1hcFZpZXcudmlld3BvaW50ID8gdGhpcy5tYXBWaWV3LnZpZXdwb2ludC5jbG9uZSgpIDogbnVsbFxuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpIHtcbiAgICAgIGlmICh0aGlzLnNjZW5lVmlldyAmJiB0aGlzLnNjZW5lVmlldy52aWV3cG9pbnQpIHtcbiAgICAgICAgLy8gRm9yIHNjZW5lLCB0aGUgZmlyc3QgZXh0ZW50IChhZnRlciBzY2VuZSBsb2FkZWQpIGlzIG5vdCBjb3JyZWN0LiBTbyB3ZSB1c2UgZ28gdG8gY2FtZXJhIHRvIGdldCBjb3JyZWN0IGV4dGVudFxuICAgICAgICB0aGlzLnNjZW5lVmlldy5nb1RvKHRoaXMuc2NlbmVWaWV3LnZpZXdwb2ludC5jYW1lcmEsIHtcbiAgICAgICAgICBhbmltYXRlOiBmYWxzZVxuICAgICAgICB9KSBhcyBhbnlcblxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZVZpZXcudmlld3BvaW50LmNsb25lKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Vmlld1R5cGUgPSAoKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZVxuICB9XG5cbiAgZ29Ub1RpbHQgPSAodGlsdCkgPT4ge1xuICAgIHRoaXMuc2NlbmVWaWV3ICYmIHRoaXMuc2NlbmVWaWV3LmdvVG8oe1xuICAgICAgdGlsdDogdGlsdFxuICAgIH0pXG4gIH1cblxuICBnb0hvbWUgPSBhc3luYyAodXNlQW1pbmF0aW9uPzogYm9vbGVhbik6IFByb21pc2U8YW55PiA9PiB7XG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXG4gICAgfVxuXG4gICAgY29uc3QgaW5pdFZpZXdQb2ludCA9IHRoaXMuZ2V0TWFwQmFzZUluaXRWaWV3UG9pbnQoKVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwVmlldy5nb1RvKGluaXRWaWV3UG9pbnQsIHtcbiAgICAgICAgICBhbmltYXRlOiB1c2VBbWluYXRpb25cbiAgICAgICAgfSkgYXMgYW55XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSkge1xuICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lVmlldy5nb1RvKGluaXRWaWV3UG9pbnQsIHtcbiAgICAgICAgICBhbmltYXRlOiB1c2VBbWluYXRpb25cbiAgICAgICAgfSkgYXMgYW55XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXG4gIH1cblxuICBnZXRNYXBCYXNlSW5pdFZpZXdQb2ludCA9ICgpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5tYXBWaWV3KSB7XG4gICAgICAgICAgcmV0dXJuICh0aGlzLm1hcFZpZXcubWFwIGFzIF9fZXNyaS5XZWJNYXApPy5pbml0aWFsVmlld1Byb3BlcnRpZXM/LnZpZXdwb2ludD8uY2xvbmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XG4gICAgICAgICAgcmV0dXJuICh0aGlzLnNjZW5lVmlldy5tYXAgYXMgX19lc3JpLldlYlNjZW5lKT8uaW5pdGlhbFZpZXdQcm9wZXJ0aWVzPy52aWV3cG9pbnQ/LmNsb25lKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldERzSnNvbkZyb21Ec0lkID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZHNKc29uID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5kYXRhU291cmNlc1tkYXRhU291cmNlSWRdXG4gICAgcmV0dXJuIGRzSnNvbiB8fCB7fSBhcyBhbnlcbiAgfVxuXG4gIHF1ZXJ5RXh0ZW50RnJvbVF1ZXJ5UGFyYW1zID0gKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGRhdGFTb3VyY2VJZDogc3RyaW5nLCB1c2VEYXRhU291cmNlczogVXNlRGF0YVNvdXJjZVtdKSA9PiB7XG4gICAgY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UoZGF0YVNvdXJjZUlkKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXG4gICAgY29uc3QgcXVlcnlQYXJhbXM6IFNxbFF1ZXJ5UGFyYW1zID0gZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxuICAgIGNvbnN0IHVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3ID0gIXVzZURhdGFTb3VyY2VzLnNvbWUodXNlRGF0YVNvdXJjZSA9PiB7XG4gICAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZSh1c2VEYXRhU291cmNlLmRhdGFTb3VyY2VJZCkgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZVxuICAgICAgY29uc3QgcXVlcnlQYXJhbXM6IFNxbFF1ZXJ5UGFyYW1zID0gZGF0YVNvdXJjZS5nZXRSdW50aW1lUXVlcnlQYXJhbXMoKVxuICAgICAgLy8gdXNlIGRlZmF1bHQgZXh0ZW50IGlmIGFsbCBtZXJnZWQgU1FMcyBvbiBkYXRhIHNvdXJjZSBpcyByZW12b3ZlZC5cbiAgICAgIGNvbnN0IGhhc1F1ZXJ5V2hlcmUgPSBxdWVyeVBhcmFtcz8ud2hlcmUgJiYgcXVlcnlQYXJhbXMud2hlcmUgIT09ICcxPTEnXG4gICAgICBpZiAoaGFzUXVlcnlXaGVyZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICBsZXQgbGF5ZXJPYmplY3RQcm9taXNlXG4gICAgaWYgKGRhdGFTb3VyY2U/LmxheWVyKSB7XG4gICAgICBsYXllck9iamVjdFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcbiAgICB9IGVsc2Uge1xuICAgICAgbGF5ZXJPYmplY3RQcm9taXNlID0gZGF0YVNvdXJjZS5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKCkudGhlbigobGF5ZXJPYmplY3QpID0+IFByb21pc2UucmVzb2x2ZShsYXllck9iamVjdCkpXG4gICAgfVxuICAgIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeScsXG4gICAgICAnZXNyaS9HcmFwaGljJyxcbiAgICAgICdlc3JpL2dlb21ldHJ5L1BvaW50J1xuICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICBjb25zdCBbUXVlcnksIEdyYXBoaWMsIFBvaW50XSA9IG1vZHVsZXNcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KClcbiAgICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlQYXJhbXM/LndoZXJlXG5cbiAgICAgIHJldHVybiBsYXllck9iamVjdFByb21pc2UudGhlbihsYXllck9iamVjdCA9PiB7XG4gICAgICAgIGlmICh1c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xuICAgICAgICAgIGNvbnN0IGluaXRWaWV3UG9pbnQgPSB0aGlzLmdldE1hcEJhc2VJbml0Vmlld1BvaW50KClcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmlld3BvaW50OiBpbml0Vmlld1BvaW50LFxuICAgICAgICAgICAgdXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXc6IHRydWUsXG4gICAgICAgICAgICBzaW5nbGVQb2ludEdyYXBoaWM6IG51bGwsXG4gICAgICAgICAgICBjb3VudDogMixcbiAgICAgICAgICAgIGxheWVyOiBsYXllck9iamVjdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXllck9iamVjdC5xdWVyeUV4dGVudChxdWVyeSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4dGVudENlbnRlciA9IHJlc3VsdD8uZXh0ZW50Py5jZW50ZXJcbiAgICAgICAgICBjb25zdCBleHRlbnQgPSByZXN1bHQ/LmV4dGVudFxuICAgICAgICAgIGxldCBzaW5nbGVQb2ludEdyYXBoaWNcbiAgICAgICAgICBpZiAocmVzdWx0Py5jb3VudCA9PT0gMSAmJiAobGF5ZXJPYmplY3QuZ2VvbWV0cnlUeXBlID09PSAncG9pbnQnKSAmJiBleHRlbnRDZW50ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KHtcbiAgICAgICAgICAgICAgeDogZXh0ZW50Q2VudGVyLngsXG4gICAgICAgICAgICAgIHk6IGV4dGVudENlbnRlci55LFxuICAgICAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBleHRlbnQuc3BhdGlhbFJlZmVyZW5jZVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljID0gbmV3IEdyYXBoaWMoeyBnZW9tZXRyeTogcG9pbnQgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV4dGVudDogZXh0ZW50LFxuICAgICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBzaW5nbGVQb2ludEdyYXBoaWMsXG4gICAgICAgICAgICBjb3VudDogcmVzdWx0Py5jb3VudCxcbiAgICAgICAgICAgIGxheWVyOiBsYXllck9iamVjdFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBoYW5kbGUgZGF0YS9hY3Rpb24uXG4gICAqL1xuICBoYW5kbGVEYXRhQWN0aW9uID0gKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykgPT4ge1xuICAgIC8vIGhhbmRsZSBzaG93IGRhdGEgb24gbWFwIGFjdGlvblxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5zaG93T25NYXBEYXRhcykge1xuICAgICAgamltdU1hcFZpZXcuZHJhd0RhdGFPbk1hcChtdXRhYmxlU3RhdGVQcm9wcy5zaG93T25NYXBEYXRhcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogaGFuZGxlIG1lc3NhZ2UvYWN0aW9uLlxuICAgKi9cbiAgaGFuZGxlQWN0aW9uID0gKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcpID0+IHtcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlKSB7XG4gICAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzICYmXG4gICAgICAgIG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cy5pbmNsdWRlcyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCkpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3pvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0ZW1wTWFwQmFzZVZpZXcgPSBtYXBCYXNlVmlldyBhcyBhbnlcblxuICAgICAgICBjb25zdCByZWxhdGVkV2lkZ2V0cyA9IG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0c1xuICAgICAgICAgID8gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXG4gICAgICAgICAgOiBbXVxuXG4gICAgICAgIGNvbnN0IHpvb21Ub0ZlYXR1cmVWYWx1ZTogYW55ID0gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnZhbHVlXG4gICAgICAgIGxldCBsYXllciA9IG51bGxcbiAgICAgICAgaWYgKHpvb21Ub0ZlYXR1cmVWYWx1ZS5sYXllcklkKSB7XG4gICAgICAgICAgbGF5ZXIgPSB0ZW1wTWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSB6b29tVG9GZWF0dXJlVmFsdWUubGF5ZXJJZClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh6b29tVG9GZWF0dXJlVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tZXh0ZW50Jykge1xuICAgICAgICAgIHRlbXBNYXBCYXNlVmlldy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlXG4gICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKHRlbXBNYXBCYXNlVmlldywgem9vbVRvRmVhdHVyZVZhbHVlLmZlYXR1cmVzWzBdLCB6b29tVG9GZWF0dXJlVmFsdWUuem9vbVRvT3B0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJlbGF0ZWRXaWRnZXRzLnB1c2godGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXG4gICAgICAgICAgICBjb25zdCBleHRlbnRNZXNzYWdlID0gbmV3IEV4dGVudENoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIHRlbXBNYXBCYXNlVmlldy5leHRlbnQpXG4gICAgICAgICAgICBleHRlbnRNZXNzYWdlLnNldFJlbGF0ZWRXaWRnZXRJZHMocmVsYXRlZFdpZGdldHMpXG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSlcbiAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICB0ZW1wTWFwQmFzZVZpZXcuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2UgaWYgKHpvb21Ub0ZlYXR1cmVWYWx1ZS50eXBlID09PSAnem9vbS10by1xdWVyeS1wYXJhbXMnKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeUV4dGVudEZyb21RdWVyeVBhcmFtcyhtYXBCYXNlVmlldywgem9vbVRvRmVhdHVyZVZhbHVlLmRhdGFTb3VyY2VJZCwgem9vbVRvRmVhdHVyZVZhbHVlLnVzZURhdGFTb3VyY2VzKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGxldCB0YXJnZXRcbiAgICAgICAgICAgIGlmIChyZXN1bHQuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5jb3VudCA9PT0gMSAmJiByZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpYykge1xuICAgICAgICAgICAgICB0YXJnZXQgPSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY3M6IFtyZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpY10sXG4gICAgICAgICAgICAgICAgbGF5ZXI6IHJlc3VsdD8ubGF5ZXJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0ID0ge1xuICAgICAgICAgICAgICAgIGV4dGVudDogcmVzdWx0Py5leHRlbnQsXG4gICAgICAgICAgICAgICAgbGF5ZXI6IHJlc3VsdD8ubGF5ZXJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBCZWNhdXNlIG9mICd6b29tVG9VdGlscycgZG9lcyBub3Qgc3VwcG9ydCAndmlld3BvaW50JywgdGVtcG9yYXJ5IGNvZGUgZm9yIHVzaW5nIGRlZmF1bHQgdmlld3BvaW50IG9mIHNjZW5lVmlldy5cbiAgICAgICAgICAgIGlmIChyZXN1bHQudXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXcpIHtcbiAgICAgICAgICAgICAgdGVtcE1hcEJhc2VWaWV3LmdvVG8ocmVzdWx0LnZpZXdwb2ludClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHpvb21Ub1V0aWxzLnpvb21Ubyh0ZW1wTWFwQmFzZVZpZXcsIHRhcmdldCwgem9vbVRvRmVhdHVyZVZhbHVlLnpvb21Ub09wdGlvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCB0YXJnZXQgPSBudWxsXG4gICAgICAgICAgaWYgKGxheWVyKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB7XG4gICAgICAgICAgICAgIGxheWVyOiBsYXllcixcbiAgICAgICAgICAgICAgZ3JhcGhpY3M6IHpvb21Ub0ZlYXR1cmVWYWx1ZS5mZWF0dXJlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB6b29tVG9GZWF0dXJlVmFsdWUuZmVhdHVyZXNcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcm9jZXNzWm9vbVRvRmVhdHVyZXModGVtcE1hcEJhc2VWaWV3LCB0YXJnZXQubGF5ZXIsICh0YXJnZXQgJiYgdGFyZ2V0LmdyYXBoaWNzKSA/IHRhcmdldC5ncmFwaGljcyA6IHRhcmdldCkudGhlbihcbiAgICAgICAgICAgIGdyYXBoaWNzID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxheWVyKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmdyYXBoaWNzID0gZ3JhcGhpY3NcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBncmFwaGljc1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdGVtcE1hcEJhc2VWaWV3LmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IHRydWVcbiAgICAgICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKHRlbXBNYXBCYXNlVmlldywgdGFyZ2V0LCB6b29tVG9GZWF0dXJlVmFsdWUuem9vbVRvT3B0aW9uKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWxhdGVkV2lkZ2V0cy5wdXNoKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGVtcE1hcEJhc2VWaWV3LmV4dGVudClcbiAgICAgICAgICAgICAgICBleHRlbnRNZXNzYWdlLnNldFJlbGF0ZWRXaWRnZXRJZHMocmVsYXRlZFdpZGdldHMpXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkV4dGVudENoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGV4dGVudE1lc3NhZ2UpXG4gICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICB0ZW1wTWFwQmFzZVZpZXcuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gZmFsc2VcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlJywgbnVsbClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZSkge1xuICAgICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHMgJiZcbiAgICAgICAgbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cy5pbmNsdWRlcyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCkpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3BhblRvQWN0aW9uVmFsdWUnLCBudWxsKVxuICAgICAgfSBlbHNlIGlmICgobXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZT8udmFsdWUgYXMgYW55KT8udHlwZSA9PT0gJ3Bhbi10by1xdWVyeS1wYXJhbXMnKSB7XG4gICAgICAgIGNvbnN0IHBhblRvVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlIGFzIGFueVxuICAgICAgICBjb25zdCByZWxhdGVkV2lkZ2V0cyA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHNcbiAgICAgICAgICA/IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHNcbiAgICAgICAgICA6IFtdXG4gICAgICAgIHRoaXMucXVlcnlFeHRlbnRGcm9tUXVlcnlQYXJhbXMobWFwQmFzZVZpZXcsIHBhblRvVmFsdWUuZGF0YVNvdXJjZUlkLCBwYW5Ub1ZhbHVlLnVzZURhdGFTb3VyY2VzKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAvLyBCZWNhdXNlIG9mICdwYW5Ub0dlb21ldHJ5JyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCAndmlld3BvaW50JywgdGVtcG9yYXJ5IGNvZGUgZm9yIHVzaW5nIGRlZmF1bHQgdmlld3BvaW50IG9mIHNjZW5lVmlldy5cbiAgICAgICAgICBpZiAocmVzdWx0LnVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3KSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRHZW9tZXRyeSA9IHJlc3VsdD8udmlld3BvaW50Py5jYW1lcmE/LnBvc2l0aW9uIHx8IHJlc3VsdD8udmlld3BvaW50Py50YXJnZXRHZW9tZXRyeVxuICAgICAgICAgICAgdGhpcy5wYW5Ub0dlb21ldHJ5KFt0YXJnZXRHZW9tZXRyeV0sIG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0cylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYW5Ub0dlb21ldHJ5KFtyZXN1bHQ/LmV4dGVudF0sIG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0cylcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZSBhcyBhbnlcbiAgICAgICAgY29uc3QgcmVsYXRlZFdpZGdldHMgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXG4gICAgICAgICAgPyBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXG4gICAgICAgICAgOiBbXVxuICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkocGFuVG9WYWx1ZS5mZWF0dXJlcywgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRzKVxuICAgICAgfVxuXG4gICAgICAobWFwQmFzZVZpZXcgYXMgYW55KS5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlXG4gICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAncGFuVG9BY3Rpb25WYWx1ZScsIG51bGwpXG4gICAgfVxuXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZSAmJiAhbXV0YWJsZVN0YXRlUHJvcHMubmV3RmVhdHVyZVNldEFjdGlvblZhbHVlLnByb21pc2UpIHtcbiAgICAgIGNvbnN0IGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UgPSBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZS52YWx1ZSlcbiAgICAgIGlmIChjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICduZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUucHJvbWlzZScsIGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UpXG5cbiAgICAgICAgY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnbmV3RmVhdHVyZVNldEFjdGlvblZhbHVlJywgbnVsbClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICduZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUnLCBudWxsKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5jaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlKSB7XG4gICAgICB1cGRhdGVGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUpXG4gICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpXG4gICAgfVxuXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLnNlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZSkge1xuICAgICAgbWFwQmFzZVZpZXcucG9wdXAuY2xvc2UoKVxuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmhpZ2hMaWdodEhhbmRsZXMpIHtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHRIYW5kbGVzW2tleV0ucmVtb3ZlKClcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VsZWN0RmVhdHVyZUhhbmRsZSA9IHNlbGVjdEZlYXR1cmUobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLnNlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZSlcbiAgICAgIGlmIChzZWxlY3RGZWF0dXJlSGFuZGxlKSB7XG4gICAgICAgIHRoaXMuaGlnaExpZ2h0SGFuZGxlc1tzZWxlY3RGZWF0dXJlSGFuZGxlLmxheWVySWRdID0gc2VsZWN0RmVhdHVyZUhhbmRsZS5oYW5kbGVcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdzZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUnLCBudWxsKVxuICAgICAgfSwgNTAwKVxuICAgIH1cblxuICAgIGNvbnN0IG11dGFibGVTdGF0ZVByb3BzS2V5cyA9IE9iamVjdC5rZXlzKG11dGFibGVTdGF0ZVByb3BzKVxuICAgIG11dGFibGVTdGF0ZVByb3BzS2V5cy5zb21lKGFjdGlvbktleSA9PiB7XG4gICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWBcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKVxuXG4gICAgICAvLyBoYW5kbGUgZmxhc2ggYWN0aW9uXG4gICAgICBpZiAoYWN0aW9uS2V5LmluZGV4T2YoJ2ZsYXNoQWN0aW9uVmFsdWUtJykgPT09IDAgJiYgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XSkge1xuICAgICAgICBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLnF1ZXJ5U1FMICYmIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5KHRlbXBKaW11TWFwVmlldywgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5sYXllckRhdGFTb3VyY2VJZCwgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTClcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgYWN0aW9uS2V5LCBudWxsKVxuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGUgZmlsdGVyIGFjdGlvblxuICAgICAgaWYgKGFjdGlvbktleS5pbmRleE9mKCdmaWx0ZXJBY3Rpb25WYWx1ZS0nKSA9PT0gMCAmJiBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldKSB7XG4gICAgICAgIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUw/Lmxlbmd0aCA+PSAwICYmIGZpbHRlckZlYXR1cmVzQnlRdWVyeSh0ZW1wSmltdU1hcFZpZXcsIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ubGF5ZXJEYXRhU291cmNlSWQsIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUwpXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGFjdGlvbktleSwgbnVsbClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBwYW5Ub0dlb21ldHJ5ID0gKGdlb21ldHJ5cywgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRzKSA9PiB7XG4gICAgLy9jb25zdCB0ZW1wTWFwQmFzZVZpZXcgPSBtYXBCYXNlVmlldyBhcyBhbnlcblxuICAgIHByb2plY3RHZW9tZXRyaWVzKGdlb21ldHJ5cywgbWFwQmFzZVZpZXcuc3BhdGlhbFJlZmVyZW5jZSkudGhlbigoZ2VvbWV0cmllcykgPT4ge1xuICAgICAgbWFwUGFudG8obWFwQmFzZVZpZXcsIGdlb21ldHJpZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICBtYXBCYXNlVmlldy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlXG4gICAgICAgIHJlbGF0ZWRXaWRnZXRzLnB1c2godGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXG4gICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgbWFwQmFzZVZpZXcuZXh0ZW50KVxuICAgICAgICBleHRlbnRNZXNzYWdlLnNldFJlbGF0ZWRXaWRnZXRJZHMocmVsYXRlZFdpZGdldHMpXG4gICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBtYXBCYXNlVmlldy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBmb3JtYXRNZXNzYWdlID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IGlkLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW2lkXSB9KVxuICB9XG5cbiAgaGFuZGxlRGlzYWJsZVdoZWVsID0gKCkgPT4ge1xuICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0bydcbiAgICB9LCA1MClcbiAgfVxuXG4gIGdldE1hcFN3aXRjaEZvckVycm9yTWFwID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCB9KSA9PiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPSdtYXBzd2l0Y2gtY29udGFpbmVyJyBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiBpc1Nob3dNYXBTd2l0Y2hCdG4gPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJyA/IDEwIDogMFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eyhlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgc3dpdGNoTWFwKCkgfX0gY2xhc3NOYW1lPSdqaW11LXdpZGdldCBlc3JpLXdpZGdldC0tYnV0dG9uJz5cbiAgICAgICAgICAgICAgPEljb24gaWNvbj17RXhjaGFuZ2V9IHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdtYXBzd2l0Y2gtaWNvbicgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgKVxuICB9XG5cbiAgcmVjb3Zlck1hcCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5tYXBWaWV3KSB7XG4gICAgICB0aGlzLm1hcFZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc01hcENyYXNoZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xuICAgICAgdGhpcy5zY2VuZVZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc01hcENyYXNoZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgbGV0IHVzZURhdGFTb3VyY2UgPSBudWxsXG5cbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWQpIHtcbiAgICAgICAgICB1c2VEYXRhU291cmNlID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbaV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0namltdS13aWRnZXQnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IHJlZj17cmVmID0+IHsgdGhpcy53aWRnZXRDb250YWluZXIgPSByZWYgfX0+XG4gICAgICAgIHsodGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzID09PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpICYmXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0IHdpZGdldC1tYXAtYmFja2dyb3VuZCc+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAnNTAlJywgdG9wOiAnNTAlJyB9fSBjbGFzc05hbWU9J2ppbXUtc2Vjb25kYXJ5LWxvYWRpbmcnIC8+XG4gICAgICAgICAgPC9kaXY+fVxuICAgICAgICB7KHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IpICYmXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0IHdpZGdldC1tYXAtYmFja2dyb3VuZCc+XG4gICAgICAgICAgICB7dGhpcy5nZXRNYXBTd2l0Y2hGb3JFcnJvck1hcCgpfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcic+e3RoaXMuZm9ybWF0TWVzc2FnZSgnbWFwRmFpbHVyZScpfTwvZGl2PlxuICAgICAgICAgIDwvZGl2Pn1cbiAgICAgICAgey8qIHsodGhpcy5zdGF0ZS5pc01hcENyYXNoZWQgJiYgIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmFwcE1vZGUpKSAmJiA8ZGl2IGNsYXNzTmFtZT1cInctMTAwIGgtMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciB3aWRnZXQtbWFwLWNyYXNoZWRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldC1tYXAtY3Jhc2hlZC1sYWJlbCB3aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwtcGFkZGluZ1wiPnt0aGlzLmZvcm1hdE1lc3NhZ2UoJ21hcENyYXNoJyl9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBwdC0zXCI+XG4gICAgICAgICAgICA8QnV0dG9uIHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cIndpZGdldC1tYXAtY3Jhc2hlZC1sYWJlbFwiIG9uQ2xpY2s9eygpID0+IHt0aGlzLnJlY292ZXJNYXAoKX19Pnt0aGlzLmZvcm1hdE1lc3NhZ2UoJ21hcFJlY292ZXInKX08L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj59ICovfVxuICAgICAgICB7IXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwICYmIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGRpc3BsYXk6ICdub25lJyB9fT48RGF0YVNvdXJjZUNvbXBvbmVudFxuICAgICAgICAgIHVzZURhdGFTb3VyY2U9e3VzZURhdGFTb3VyY2V9XG4gICAgICAgICAgb25EYXRhU291cmNlQ3JlYXRlZD17dGhpcy5vbkRhdGFTb3VyY2VDcmVhdGVkfSBvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQ9e3RoaXMub25DcmVhdGVEYXRhU291cmNlRmFpbGVkfVxuICAgICAgICAvPlxuICAgICAgICA8L2Rpdj59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts":
/*!***********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MultiSourceMapContext\": () => (/* binding */ MultiSourceMapContext)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n\nconst MultiSourceMapContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createContext({\n    mapWidgetId: null,\n    mapWidgetHeight: null,\n    isShowMapSwitchBtn: false,\n    isShowClearShowOnMapDataBtn: false,\n    isFullScreen: false,\n    dataSourceIds: [],\n    activeDataSourceId: null,\n    switchMap: () => { },\n    fullScreenMap: () => { },\n    initialMapState: null,\n    mobilePanelContainer: null,\n    onMobilePanelContentChange: (MobilePanelContent) => { },\n    theme: null\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQudHM/ODY2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCwgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcblxuaW50ZXJmYWNlIE11bHRpU291cmNlTWFwQ29udGV4dFR5cGUge1xuICBtYXBXaWRnZXRJZDogc3RyaW5nXG4gIG1hcFdpZGdldEhlaWdodDogbnVtYmVyXG4gIGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhblxuICBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG46IGJvb2xlYW5cbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXG4gIGRhdGFTb3VyY2VJZHM6IHN0cmluZ1tdXG4gIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nXG4gIHN3aXRjaE1hcDogKCkgPT4gdm9pZFxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkXG4gIGluaXRpYWxNYXBTdGF0ZTogYW55XG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxuICBvbk1vYmlsZVBhbmVsQ29udGVudENoYW5nZTogKE1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQpID0+IHZvaWRcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcbn1cblxuZXhwb3J0IGNvbnN0IE11bHRpU291cmNlTWFwQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8TXVsdGlTb3VyY2VNYXBDb250ZXh0VHlwZT4oe1xuICBtYXBXaWRnZXRJZDogbnVsbCxcbiAgbWFwV2lkZ2V0SGVpZ2h0OiBudWxsLFxuICBpc1Nob3dNYXBTd2l0Y2hCdG46IGZhbHNlLFxuICBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG46IGZhbHNlLFxuICBpc0Z1bGxTY3JlZW46IGZhbHNlLFxuICBkYXRhU291cmNlSWRzOiBbXSxcbiAgYWN0aXZlRGF0YVNvdXJjZUlkOiBudWxsLFxuICBzd2l0Y2hNYXA6ICgpID0+IHt9LFxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB7fSxcbiAgaW5pdGlhbE1hcFN0YXRlOiBudWxsLFxuICBtb2JpbGVQYW5lbENvbnRhaW5lcjogbnVsbCxcbiAgb25Nb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2U6IChNb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50KSA9PiB7fSxcbiAgdGhlbWU6IG51bGxcbn0pXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx":
/*!****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MultiSourceMap)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _mapbase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapbase */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx\");\n/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layout/map-fixed-layout */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx\");\n/* harmony import */ var _layout_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/layout */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx\");\n/* harmony import */ var _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/pc-layout-json */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts\");\n/* harmony import */ var _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout/mobile-layout-json */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\n\n\n\n\nconst VisibleStyles = {\n    firstMapVisible: [{\n            zIndex: 6,\n            opacity: 1\n        }, {\n            zIndex: 5,\n            opacity: 0\n        }],\n    secondMapVisible: [{\n            zIndex: 5,\n            opacity: 0\n        }, {\n            zIndex: 6,\n            opacity: 1\n        }]\n};\nclass MultiSourceMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.mutableStatePropsMap = {};\n        this.__unmount = false;\n        this.reInitWidgetInstance = (restoreData) => {\n            this.state = restoreData;\n            this.isReIniting = true;\n        };\n        this.changeInitialMapDataSourceID = (dataSourceId, callBack) => {\n            if (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1) {\n                const firstMapInstance = this.refs.firstMapInstance;\n                const secondMapInstance = this.refs.secondMapInstance;\n                if (!this.state.currentMapIndex) {\n                    if (this.state.secondMapDsId && this.state.secondMapDsId === dataSourceId) {\n                        this.startChangeInitialMapAnimation(callBack);\n                        secondMapInstance.goHome(false);\n                    }\n                    else {\n                        firstMapInstance.goHome(false);\n                    }\n                }\n                else {\n                    if (this.state.firstMapDsId && this.state.firstMapDsId === dataSourceId) {\n                        this.startChangeInitialMapAnimation(callBack);\n                        firstMapInstance.goHome(false);\n                    }\n                    else {\n                        secondMapInstance.goHome(false);\n                    }\n                }\n            }\n        };\n        this.startChangeInitialMapAnimation = (callBack) => {\n            const tempState = Object.assign({}, this.state);\n            const firstMapInstance = this.refs.firstMapInstance;\n            const secondMapInstance = this.refs.secondMapInstance;\n            if (!this.state.currentMapIndex) {\n                tempState.currentMapIndex = 1;\n                tempState.multiMapStyle = VisibleStyles.secondMapVisible;\n                const viewPoint = firstMapInstance && firstMapInstance.getViewPoint && firstMapInstance.getViewPoint();\n                if (viewPoint) {\n                    secondMapInstance && secondMapInstance.setViewPoint && secondMapInstance.setViewPoint(viewPoint);\n                }\n                this.setState(tempState, () => { callBack(); });\n            }\n            else {\n                tempState.currentMapIndex = 0;\n                tempState.multiMapStyle = VisibleStyles.firstMapVisible;\n                const viewPoint = secondMapInstance && secondMapInstance.getViewPoint && secondMapInstance.getViewPoint();\n                if (viewPoint) {\n                    firstMapInstance && firstMapInstance.setViewPoint && firstMapInstance.setViewPoint(viewPoint);\n                }\n                this.setState(tempState, () => { callBack(); });\n            }\n        };\n        this.switchMap = () => __awaiter(this, void 0, void 0, function* () {\n            if (!this.props.baseWidgetProps.useDataSources || this.props.baseWidgetProps.useDataSources.length < 2) {\n                return yield Promise.resolve();\n            }\n            const tempState = Object.assign({}, this.state);\n            tempState.useAnimation = true;\n            const firstMapInstance = this.refs.firstMapInstance;\n            const secondMapInstance = this.refs.secondMapInstance;\n            if (!this.state.currentMapIndex) {\n                tempState.currentMapIndex = 1;\n                tempState.multiMapStyle = VisibleStyles.secondMapVisible;\n                const viewPoint = firstMapInstance && firstMapInstance.getViewPoint && firstMapInstance.getViewPoint();\n                if (viewPoint) {\n                    secondMapInstance && secondMapInstance.setViewPoint && secondMapInstance.setViewPoint(viewPoint);\n                }\n            }\n            else {\n                tempState.currentMapIndex = 0;\n                tempState.multiMapStyle = VisibleStyles.firstMapVisible;\n                const viewPoint = secondMapInstance && secondMapInstance.getViewPoint && secondMapInstance.getViewPoint();\n                if (viewPoint) {\n                    firstMapInstance && firstMapInstance.setViewPoint && firstMapInstance.setViewPoint(viewPoint);\n                }\n            }\n            if (firstMapInstance && secondMapInstance) {\n                const firstViewType = firstMapInstance.getViewType();\n                const secondViewType = secondMapInstance.getViewType();\n                if (firstViewType && secondViewType && (firstViewType !== secondViewType)) {\n                    firstMapInstance.goToTilt(0);\n                    secondMapInstance.goToTilt(0);\n                    if (this.state.currentMapIndex) {\n                        setTimeout(() => {\n                            firstMapInstance.goToTilt(45);\n                        }, 300);\n                    }\n                    else {\n                        setTimeout(() => {\n                            secondMapInstance.goToTilt(45);\n                        }, 300);\n                    }\n                }\n            }\n            return new Promise((resolve, reject) => {\n                this.setState(tempState, () => {\n                    this.confirmJimuMapViewIsActive();\n                    setTimeout(() => {\n                        this.setState({\n                            useAnimation: false\n                        }, () => {\n                            return resolve(null);\n                        });\n                    }, 500);\n                });\n            });\n        });\n        this.handleMutableStatePropsChanged = (dataSourceId, propKey, value) => {\n            if (!this.mutableStatePropsMap[propKey]) {\n                this.mutableStatePropsMap[propKey] = [dataSourceId];\n            }\n            else {\n                if (!this.mutableStatePropsMap[propKey].includes(dataSourceId)) {\n                    this.mutableStatePropsMap[propKey].push(dataSourceId);\n                }\n            }\n            const multiMapDsIds = [];\n            const firstMapInstance = this.refs.firstMapInstance;\n            const secondMapInstance = this.refs.secondMapInstance;\n            if (firstMapInstance && firstMapInstance.getViewType()) {\n                multiMapDsIds.push(this.state.firstMapDsId);\n            }\n            if (secondMapInstance && secondMapInstance.getViewType()) {\n                multiMapDsIds.push(this.state.secondMapDsId);\n            }\n            let isAllMatched = true;\n            for (let i = 0; i < multiMapDsIds.length; i++) {\n                if (!this.mutableStatePropsMap[propKey].includes(multiMapDsIds[i])) {\n                    isAllMatched = false;\n                    break;\n                }\n            }\n            if (isAllMatched) {\n                delete this.mutableStatePropsMap[propKey];\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, propKey, value);\n            }\n        };\n        this.handleViewChanged = (shareViewPoint) => {\n            if (shareViewPoint.viewpoint === null) {\n                const firstMapInstance = this.refs.firstMapInstance;\n                const secondMapInstance = this.refs.secondMapInstance;\n                firstMapInstance && firstMapInstance.goHome(false);\n                secondMapInstance && secondMapInstance.goHome(false);\n                return;\n            }\n            const currentVisibleDsId = this.getCurrentVisibleDsId();\n            if (currentVisibleDsId === shareViewPoint.dataSourceId) {\n                if (this.state.firstMapDsId && this.state.firstMapDsId !== currentVisibleDsId) {\n                    const firstMapInstance = this.refs.firstMapInstance;\n                    firstMapInstance && firstMapInstance.setViewPoint(shareViewPoint.viewpoint);\n                }\n                if (this.state.secondMapDsId && this.state.secondMapDsId !== currentVisibleDsId) {\n                    const secondMapInstance = this.refs.secondMapInstance;\n                    secondMapInstance && secondMapInstance.setViewPoint(shareViewPoint.viewpoint);\n                }\n            }\n        };\n        this.handleExtentChanged = (dataSourceId, extentMessage) => {\n            const currentVisibleDsId = this.getCurrentVisibleDsId();\n            if (currentVisibleDsId === dataSourceId) {\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(extentMessage);\n            }\n        };\n        this.handleMapLoaded = (dataSourceId, mapLoadStatus) => {\n            this.forceUpdate();\n        };\n        this.handleJimuMapViewCreated = () => {\n            if (this.__unmount) {\n                return;\n            }\n            this.confirmJimuMapViewIsActive();\n        };\n        this.confirmJimuMapViewIsActive = () => {\n            if (this.props.isDefaultMap) {\n                const jimuMapViewId = `${this.props.baseWidgetProps.id}-${null}`;\n                const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);\n                if (jimuMapView) {\n                    this.setActiveJimuMapView(jimuMapView, true);\n                }\n                return;\n            }\n            const allDatasourceIds = [];\n            this.state.firstMapDsId && allDatasourceIds.push(this.state.firstMapDsId);\n            this.state.secondMapDsId && allDatasourceIds.push(this.state.secondMapDsId);\n            const currentDataSourceId = this.getCurrentVisibleDsId();\n            for (let i = 0; i < allDatasourceIds.length; i++) {\n                const jimuMapViewId = `${this.props.baseWidgetProps.id}-${allDatasourceIds[i]}`;\n                const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);\n                if (jimuMapView) {\n                    if (allDatasourceIds[i] === currentDataSourceId) {\n                        this.setActiveJimuMapView(jimuMapView, true);\n                    }\n                    else {\n                        this.setActiveJimuMapView(jimuMapView, false);\n                    }\n                }\n            }\n        };\n        this.isShowMapSwitchBtn = () => {\n            const firstMapInstance = this.refs.firstMapInstance;\n            const secondMapInstance = this.refs.secondMapInstance;\n            if (firstMapInstance && secondMapInstance) {\n                if (firstMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading && secondMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading) {\n                    return true;\n                }\n            }\n            else {\n                return false;\n            }\n        };\n        this.getCurrentVisibleDsId = () => {\n            if (this.state.multiMapStyle[0].opacity === 1) {\n                return this.state.firstMapDsId;\n            }\n            else {\n                return this.state.secondMapDsId;\n            }\n        };\n        this.handleViewGroupCreate = (viewGroup) => {\n            if (this.props.onViewGroupCreate) {\n                this.props.onViewGroupCreate(viewGroup);\n            }\n        };\n        this.handleMobilePanelContentChange = (mobilePanelContent) => {\n            this.setState({\n                mobilePanelContent: mobilePanelContent\n            });\n        };\n        this.handleActiveToolInfoChange = (activeToolInfo) => {\n            this.setState({\n                activeToolInfo: activeToolInfo\n            });\n        };\n        // handleShowOnMapDataChange = (showOnMapDatasKey: string[]) => {\n        //  this.setState({\n        //    showOnMapDatasKey: showOnMapDatasKey\n        //  })\n        // }\n        this.getLayoutConfig = () => {\n            if (this.props.widthBreakpoint === 'xsmall') {\n                return _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__[\"default\"][0];\n            }\n            else {\n                return this.props.baseWidgetProps.config.layoutIndex ? _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__[\"default\"][this.props.baseWidgetProps.config.layoutIndex] : _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__[\"default\"][0];\n            }\n        };\n        this.isShowClearShowOnMapDataBtn = () => {\n            var _a;\n            const showOnMapDatas = (_a = this.props.baseWidgetProps.mutableStateProps) === null || _a === void 0 ? void 0 : _a.showOnMapDatas;\n            return Object.entries(showOnMapDatas || {}).some(entry => {\n                // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,\n                // use a default jimuMapViewId to show data.\n                let jimuMapViewId = entry[1].jimuMapViewId;\n                if (!jimuMapViewId && entry[1].mapWidgetId === this.props.baseWidgetProps.id) {\n                    const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;\n                    jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === this.props.baseWidgetProps.id);\n                }\n                return (jimuMapViewId === this.state.currentJimuMapViewId && entry[1].type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.ShowOnMapDataType.DataAction);\n            });\n        };\n        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',\n            `${this.props.baseWidgetProps.id}-restoreData-multimap`]);\n        if (restoreData) {\n            const mobilePanelContainer = document.createElement('div');\n            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;\n            mobilePanelContainer.className = 'w-100 h-100';\n            restoreData.mobilePanelContainer = mobilePanelContainer;\n            this.reInitWidgetInstance(restoreData);\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, null);\n        }\n        else {\n            const mobilePanelContainer = document.createElement('div');\n            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;\n            mobilePanelContainer.className = 'w-100 h-100';\n            this.state = {\n                currentMapIndex: 0,\n                multiMapStyle: VisibleStyles.firstMapVisible,\n                firstMapDsId: null,\n                secondMapDsId: null,\n                useAnimation: false,\n                useDataSources: null,\n                currentJimuMapViewId: null,\n                mobilePanelContent: null,\n                mobilePanelContainer: mobilePanelContainer,\n                activeToolInfo: null\n                // showOnMapDatasKey: null\n            };\n        }\n        this.mutableStatePropsMap = {};\n        this.useMapWidgetIds = this.props.baseWidgetProps.id ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.props.baseWidgetProps.id]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);\n    }\n    componentDidMount() {\n        if ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo) {\n            if (!(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo[this.props.baseWidgetProps.id]) {\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoAdded(this.props.baseWidgetProps.id, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({ mapWidgetId: this.props.baseWidgetProps.id })));\n            }\n        }\n        this.__unmount = false;\n        if (this.isReIniting) {\n            return;\n        }\n        if (this.props.baseWidgetProps.useDataSources) {\n            const initialMapDataSourceID = this.props.baseWidgetProps.config.initialMapDataSourceID;\n            if (!initialMapDataSourceID) {\n                this.setState({\n                    firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,\n                    secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId\n                });\n            }\n            else {\n                if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId)) {\n                    this.setState({\n                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,\n                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId\n                    });\n                }\n                else if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId)) {\n                    this.setState({\n                        firstMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId,\n                        secondMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId\n                    });\n                }\n                else {\n                    this.setState({\n                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,\n                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId\n                    });\n                }\n            }\n        }\n    }\n    componentWillUnmount() {\n        this.__unmount = true;\n        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;\n        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources) {\n            const restoreData = {\n                currentMapIndex: this.state.currentMapIndex,\n                multiMapStyle: this.state.multiMapStyle,\n                firstMapDsId: this.state.firstMapDsId,\n                secondMapDsId: this.state.secondMapDsId,\n                useAnimation: this.state.useAnimation,\n                currentJimuMapViewId: this.state.currentJimuMapViewId\n            };\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, restoreData);\n        }\n        if (!widgets[this.props.baseWidgetProps.id]) {\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoRemoved(this.props.baseWidgetProps.id));\n        }\n    }\n    static getDerivedStateFromProps(newProps, prevState) {\n        if (newProps.baseWidgetProps.useDataSources !== prevState.useDataSources) {\n            const newState = MultiSourceMap.getChangedState(prevState.firstMapDsId, prevState.secondMapDsId, newProps.baseWidgetProps.useDataSources);\n            return newState;\n        }\n        else {\n            return null;\n        }\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.baseWidgetProps.stateProps && this.props.baseWidgetProps.stateProps.initialMapDataSourceID) {\n            const initialMapDataSourceID = this.props.baseWidgetProps.stateProps.initialMapDataSourceID;\n            if (this.state.firstMapDsId === initialMapDataSourceID) {\n                const firstMapInstance = this.refs.firstMapInstance;\n                if (firstMapInstance) {\n                    firstMapInstance.goHome(false);\n                }\n            }\n            if (this.state.secondMapDsId === initialMapDataSourceID) {\n                const secondMapInstance = this.refs.secondMapInstance;\n                if (secondMapInstance) {\n                    secondMapInstance.goHome(false);\n                }\n            }\n            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(this.props.baseWidgetProps.id, 'initialMapDataSourceID', null));\n        }\n        if (this.isReIniting) {\n            this.isReIniting = false;\n            return;\n        }\n        if (this.props.baseWidgetProps.config.initialMapDataSourceID !== prevProps.baseWidgetProps.config.initialMapDataSourceID) {\n            this.changeInitialMapDataSourceID(this.props.baseWidgetProps.config.initialMapDataSourceID, this.confirmJimuMapViewIsActive);\n        }\n        if (this.props.baseWidgetProps.useDataSources !== prevProps.baseWidgetProps.useDataSources) {\n            this.confirmJimuMapViewIsActive();\n        }\n    }\n    setActiveJimuMapView(jimuMapView, isActive) {\n        if (isActive) {\n            jimuMapView.setIsActive(isActive);\n            this.setState({\n                currentJimuMapViewId: jimuMapView.id\n            });\n        }\n        else {\n            jimuMapView.setIsActive(isActive);\n        }\n    }\n    render() {\n        var _a;\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Provider, { value: {\n                mapWidgetId: this.props.baseWidgetProps.id,\n                mapWidgetHeight: this.props.widgetHeight,\n                isShowMapSwitchBtn: this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1 && this.isShowMapSwitchBtn(),\n                isShowClearShowOnMapDataBtn: this.isShowClearShowOnMapDataBtn(),\n                dataSourceIds: [this.state.firstMapDsId, this.state.secondMapDsId],\n                activeDataSourceId: this.getCurrentVisibleDsId(),\n                switchMap: this.switchMap,\n                fullScreenMap: this.props.fullScreenMap,\n                isFullScreen: this.props.isFullScreen,\n                mobilePanelContainer: this.state.mobilePanelContainer,\n                onMobilePanelContentChange: this.handleMobilePanelContentChange,\n                initialMapState: this.props.baseWidgetProps.config && this.props.baseWidgetProps.config.initialMapState,\n                theme: this.props.baseWidgetProps.theme\n            } },\n            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'jimu-widget', style: { position: 'relative' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', {\n                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[0].opacity,\n                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[0].opacity),\n                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[0].opacity,\n                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[0].opacity)\n                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[0].zIndex } }, this.state.firstMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { ref: 'firstMapInstance', onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: (dataSourceId, message) => { this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, \n                    // onShowOnMapDataChanged={this.handleShowOnMapDataChange}\n                    startLoadModules: this.props.startLoadModules, dataSourceId: this.state.firstMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea })),\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', {\n                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[1].opacity,\n                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[1].opacity),\n                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[1].opacity,\n                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[1].opacity)\n                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[1].zIndex } }, this.state.secondMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { ref: 'secondMapInstance', onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: (dataSourceId, message) => { this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, \n                    // onShowOnMapDataChanged={this.handleShowOnMapDataChange}\n                    startLoadModules: this.props.startLoadModules, dataSourceId: this.state.secondMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea }))),\n            this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'jimu-widget', style: { position: 'relative' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget multisourcemap-item-appear-noanimate'), style: { position: 'absolute', zIndex: 6 } },\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { ref: 'firstMapInstance', isDefaultMap: this.props.isDefaultMap, onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, dataSourceId: null, onExtentChanged: (dataSourceId, message) => { this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, \n                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}\n                        startLoadModules: this.props.startLoadModules, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.props.defaultMapInfo }))),\n            this.state.currentJimuMapViewId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, widgetManifestName: this.props.baseWidgetProps.manifest.name }),\n            this.state.currentJimuMapViewId && jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId) &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { mapWidgetId: this.props.baseWidgetProps.id, isMobile: this.props.widthBreakpoint === 'xsmall', jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, intl: this.props.baseWidgetProps.intl, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, layoutConfig: this.getLayoutConfig(), toolConfig: this.props.baseWidgetProps.config.toolConifg ? this.props.baseWidgetProps.config.toolConifg : {}, activeToolInfo: this.state.activeToolInfo, onActiveToolInfoChange: this.handleActiveToolInfoChange, theme: this.props.baseWidgetProps.theme, widgetManifestName: this.props.baseWidgetProps.manifest.name, widgetHeight: this.props.widthBreakpoint === 'xsmall' ? null : this.props.widgetHeight }),\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.JimuMapViewComponent, { useMapWidgetId: (_a = this.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0], onViewGroupCreate: this.handleViewGroupCreate })));\n    }\n}\nMultiSourceMap.getChangedState = (firstMapDsId, secondMapDsId, useDataSources) => {\n    const changedState = {};\n    if (useDataSources && useDataSources[0]) {\n        const newDataSourceArr = [];\n        const repeatDataSourceArr = [];\n        for (let i = 0; i < useDataSources.length; i++) {\n            if (firstMapDsId !== useDataSources[i].dataSourceId) {\n                newDataSourceArr.push(useDataSources[i].dataSourceId);\n            }\n            else {\n                repeatDataSourceArr.push(useDataSources[i].dataSourceId);\n            }\n        }\n        if (repeatDataSourceArr.length > 0) {\n            changedState.firstMapDsId = firstMapDsId;\n            changedState.secondMapDsId = newDataSourceArr[0];\n        }\n        else if (repeatDataSourceArr.length === 0) {\n            if (newDataSourceArr.includes(secondMapDsId)) {\n                newDataSourceArr.splice(newDataSourceArr.indexOf(secondMapDsId), 1);\n                changedState.firstMapDsId = newDataSourceArr[0];\n                changedState.secondMapDsId = secondMapDsId;\n            }\n            else {\n                changedState.firstMapDsId = newDataSourceArr[0];\n                changedState.secondMapDsId = newDataSourceArr[1];\n            }\n        }\n    }\n    else {\n        changedState.firstMapDsId = null;\n        changedState.secondMapDsId = null;\n    }\n    if (changedState.firstMapDsId !== firstMapDsId) {\n        if (changedState.firstMapDsId) {\n            changedState.multiMapStyle = VisibleStyles.firstMapVisible;\n            changedState.currentMapIndex = 0;\n        }\n        else if (changedState.secondMapDsId) {\n            changedState.multiMapStyle = VisibleStyles.secondMapVisible;\n            changedState.currentMapIndex = 1;\n        }\n        else {\n            changedState.multiMapStyle = VisibleStyles.firstMapVisible;\n            changedState.currentMapIndex = 0;\n        }\n    }\n    else {\n        if (!changedState.secondMapDsId) {\n            changedState.multiMapStyle = VisibleStyles.firstMapVisible;\n            changedState.currentMapIndex = 0;\n        }\n        else if (changedState.secondMapDsId !== secondMapDsId) {\n            changedState.multiMapStyle = VisibleStyles.secondMapVisible;\n            changedState.currentMapIndex = 1;\n        }\n    }\n    return changedState;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUxBO0FBRUE7QUF5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFpS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3ZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTROQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBb0VBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFRQTtBQUNBO0FBSUE7QUFNQTtBQUNBO0FBT0E7QUFPQTtBQUNBO0FBU0E7QUFHQTs7QUFoZkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC50c3g/MzYwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSZWFjdCwgY2xhc3NOYW1lcywgTWVzc2FnZU1hbmFnZXIsIEltbXV0YWJsZUFycmF5LCBJbW11dGFibGUsXG4gIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zLCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCBFeHRlbnRDaGFuZ2VNZXNzYWdlLCBVc2VEYXRhU291cmNlLCBJbW11dGFibGVPYmplY3QsIEppbXVNYXBWaWV3SW5mb1xufSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgTWFwQmFzZSwgeyBNYXBMb2FkU3RhdHVzLCBTaGFyZVZpZXdQb2ludCB9IGZyb20gJy4vbWFwYmFzZSdcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4vbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcbmltcG9ydCB7IE1hcFdpZGdldFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xuaW1wb3J0IHsgTWFwVmlld01hbmFnZXIsIEppbXVNYXBWaWV3LCBKaW11TWFwVmlld0dyb3VwLCBKaW11TWFwVmlld0NvbXBvbmVudCwgRGVmYXVsdE1hcEluZm8sIFNob3dPbk1hcERhdGFUeXBlIH0gZnJvbSAnamltdS1hcmNnaXMnXG5pbXBvcnQgTWFwRml4ZWRMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L21hcC1maXhlZC1sYXlvdXQnXG5pbXBvcnQgTGF5b3V0LCB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vbGF5b3V0L2xheW91dCdcbmltcG9ydCBwY0xheW91dEpzb25zIGZyb20gJy4uL2xheW91dC9wYy1sYXlvdXQtanNvbidcbmltcG9ydCBtb2JpbGVMYXlvdXRKc29ucyBmcm9tICcuLi9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBiYXNlV2lkZ2V0UHJvcHM6IE1hcFdpZGdldFByb3BzXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4gdm9pZFxuXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW5cbiAgb25WaWV3R3JvdXBDcmVhdGU/OiAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB2b2lkXG5cbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcbiAgd2lkZ2V0SGVpZ2h0OiBudW1iZXJcblxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cbiAgaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuXG4gIGRlZmF1bHRNYXBJbmZvPzogRGVmYXVsdE1hcEluZm9cbn1cblxuaW50ZXJmYWNlIE1hcENvbnRhaW5lclN0eWxlIHtcbiAgb3BhY2l0eTogbnVtYmVyXG4gIHpJbmRleDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGN1cnJlbnRNYXBJbmRleD86IDAgfCAxXG4gIG11bHRpTWFwU3R5bGU/OiBNYXBDb250YWluZXJTdHlsZVtdXG4gIGZpcnN0TWFwRHNJZD86IHN0cmluZ1xuICBzZWNvbmRNYXBEc0lkPzogc3RyaW5nXG4gIHVzZUFuaW1hdGlvbjogYm9vbGVhblxuXG4gIHVzZURhdGFTb3VyY2VzPzogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cbiAgY3VycmVudEppbXVNYXBWaWV3SWQ/OiBzdHJpbmdcbiAgbW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudFxuICBtb2JpbGVQYW5lbENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXG4gIC8vIHNob3dPbk1hcERhdGFzS2V5OiBzdHJpbmdbXVxufVxuXG5jb25zdCBWaXNpYmxlU3R5bGVzID0ge1xuICBmaXJzdE1hcFZpc2libGU6IFt7XG4gICAgekluZGV4OiA2LFxuICAgIG9wYWNpdHk6IDFcbiAgfSwge1xuICAgIHpJbmRleDogNSxcbiAgICBvcGFjaXR5OiAwXG4gIH1dLFxuICBzZWNvbmRNYXBWaXNpYmxlOiBbe1xuICAgIHpJbmRleDogNSxcbiAgICBvcGFjaXR5OiAwXG4gIH0sIHtcbiAgICB6SW5kZXg6IDYsXG4gICAgb3BhY2l0eTogMVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdWx0aVNvdXJjZU1hcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGlzUmVJbml0aW5nOiBib29sZWFuXG4gIG11dGFibGVTdGF0ZVByb3BzTWFwOiB7W3Byb3BLZXk6IHN0cmluZ106IHN0cmluZ1tdfSA9IHt9XG4gIHVzZU1hcFdpZGdldElkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPlxuICBfX3VubW91bnQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsICdyZXN0b3JlRGF0YScsXG4gICAgICBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgXSlcbiAgICBpZiAocmVzdG9yZURhdGEpIHtcbiAgICAgIGNvbnN0IG1vYmlsZVBhbmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmlkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LWJvdHRvbS1wYW5lbGBcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCdcbiAgICAgIHJlc3RvcmVEYXRhLm1vYmlsZVBhbmVsQ29udGFpbmVyID0gbW9iaWxlUGFuZWxDb250YWluZXJcblxuICAgICAgdGhpcy5yZUluaXRXaWRnZXRJbnN0YW5jZShyZXN0b3JlRGF0YSlcblxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXG4gICAgICAgIGByZXN0b3JlRGF0YS4ke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS1tdWx0aW1hcGAsIG51bGwpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1vYmlsZVBhbmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmlkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LWJvdHRvbS1wYW5lbGBcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCdcblxuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgY3VycmVudE1hcEluZGV4OiAwLFxuICAgICAgICBtdWx0aU1hcFN0eWxlOiBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZSxcbiAgICAgICAgZmlyc3RNYXBEc0lkOiBudWxsLFxuICAgICAgICBzZWNvbmRNYXBEc0lkOiBudWxsLFxuICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlLFxuICAgICAgICB1c2VEYXRhU291cmNlczogbnVsbCxcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3SWQ6IG51bGwsXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGVudDogbnVsbCxcbiAgICAgICAgbW9iaWxlUGFuZWxDb250YWluZXI6IG1vYmlsZVBhbmVsQ29udGFpbmVyLFxuICAgICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxuICAgICAgICAvLyBzaG93T25NYXBEYXRhc0tleTogbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXAgPSB7fVxuICAgIHRoaXMudXNlTWFwV2lkZ2V0SWRzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQgPyBJbW11dGFibGUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkgOiBJbW11dGFibGUoW10pXG4gIH1cblxuICByZUluaXRXaWRnZXRJbnN0YW5jZSA9IChyZXN0b3JlRGF0YSkgPT4ge1xuICAgIHRoaXMuc3RhdGUgPSByZXN0b3JlRGF0YSBhcyBTdGF0ZVxuICAgIHRoaXMuaXNSZUluaXRpbmcgPSB0cnVlXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5tYXBXaWRnZXRzSW5mbykge1xuICAgICAgaWYgKCFnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkubWFwV2lkZ2V0c0luZm9bdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5NYXBXaWRnZXRJbmZvQWRkZWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIEltbXV0YWJsZSh7IG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCB9KSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMuaXNSZUluaXRpbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcykge1xuICAgICAgY29uc3QgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEXG4gICAgICBpZiAoIWluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXG4gICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9PT0gKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGZpcnN0TWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkLFxuICAgICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmIChpbml0aWFsTWFwRGF0YVNvdXJjZUlEID09PSAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkKSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWQsXG4gICAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWRcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXG4gICAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWRcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxuICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNcblxuICAgIGlmICh3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSAmJiB3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXS51c2VEYXRhU291cmNlcyA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgIGNvbnN0IHJlc3RvcmVEYXRhID0ge1xuICAgICAgICBjdXJyZW50TWFwSW5kZXg6IHRoaXMuc3RhdGUuY3VycmVudE1hcEluZGV4LFxuICAgICAgICBtdWx0aU1hcFN0eWxlOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGUsXG4gICAgICAgIGZpcnN0TWFwRHNJZDogdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQsXG4gICAgICAgIHNlY29uZE1hcERzSWQ6IHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCxcbiAgICAgICAgdXNlQW5pbWF0aW9uOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbixcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3SWQ6IHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWRcbiAgICAgIH1cbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgLCByZXN0b3JlRGF0YSlcbiAgICB9XG5cbiAgICBpZiAoIXdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuTWFwV2lkZ2V0SW5mb1JlbW92ZWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpKVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRDaGFuZ2VkU3RhdGUgPSAoZmlyc3RNYXBEc0lkLCBzZWNvbmRNYXBEc0lkLCB1c2VEYXRhU291cmNlcyk6IFN0YXRlID0+IHtcbiAgICBjb25zdCBjaGFuZ2VkU3RhdGUgPSB7fSBhcyBTdGF0ZVxuXG4gICAgaWYgKHVzZURhdGFTb3VyY2VzICYmIHVzZURhdGFTb3VyY2VzWzBdKSB7XG4gICAgICBjb25zdCBuZXdEYXRhU291cmNlQXJyID0gW11cbiAgICAgIGNvbnN0IHJlcGVhdERhdGFTb3VyY2VBcnIgPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VEYXRhU291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZmlyc3RNYXBEc0lkICE9PSB1c2VEYXRhU291cmNlc1tpXS5kYXRhU291cmNlSWQpIHtcbiAgICAgICAgICBuZXdEYXRhU291cmNlQXJyLnB1c2godXNlRGF0YVNvdXJjZXNbaV0uZGF0YVNvdXJjZUlkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcGVhdERhdGFTb3VyY2VBcnIucHVzaCh1c2VEYXRhU291cmNlc1tpXS5kYXRhU291cmNlSWQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXBlYXREYXRhU291cmNlQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IGZpcnN0TWFwRHNJZFxuICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMF1cbiAgICAgIH0gZWxzZSBpZiAocmVwZWF0RGF0YVNvdXJjZUFyci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaWYgKG5ld0RhdGFTb3VyY2VBcnIuaW5jbHVkZXMoc2Vjb25kTWFwRHNJZCkpIHtcbiAgICAgICAgICBuZXdEYXRhU291cmNlQXJyLnNwbGljZShuZXdEYXRhU291cmNlQXJyLmluZGV4T2Yoc2Vjb25kTWFwRHNJZCksIDEpXG4gICAgICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMF1cbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IHNlY29uZE1hcERzSWRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclswXVxuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclsxXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBudWxsXG4gICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCAhPT0gZmlyc3RNYXBEc0lkKSB7XG4gICAgICBpZiAoY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCkge1xuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkKSB7XG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAxXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQpIHtcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZVxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCAhPT0gc2Vjb25kTWFwRHNJZCkge1xuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuc2Vjb25kTWFwVmlzaWJsZVxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZFN0YXRlXG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIChuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICBpZiAobmV3UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICE9PSBwcmV2U3RhdGUudXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gTXVsdGlTb3VyY2VNYXAuZ2V0Q2hhbmdlZFN0YXRlKHByZXZTdGF0ZS5maXJzdE1hcERzSWQsIHByZXZTdGF0ZS5zZWNvbmRNYXBEc0lkLCBuZXdQcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpXG4gICAgICByZXR1cm4gbmV3U3RhdGVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCkge1xuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5zdGF0ZVByb3BzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xuICAgICAgY29uc3QgaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMuaW5pdGlhbE1hcERhdGFTb3VyY2VJRFxuICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkID09PSBpbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXG4gICAgICAgIGlmIChmaXJzdE1hcEluc3RhbmNlKSB7XG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgPT09IGluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcbiAgICAgICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxuICAgICAgICBpZiAoc2Vjb25kTWFwSW5zdGFuY2UpIHtcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxuICAgICAgICAnaW5pdGlhbE1hcERhdGFTb3VyY2VJRCcsIG51bGwpKVxuICAgIH1cblxuICAgIGlmICh0aGlzLmlzUmVJbml0aW5nKSB7XG4gICAgICB0aGlzLmlzUmVJbml0aW5nID0gZmFsc2VcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCAhPT0gcHJldlByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xuICAgICAgdGhpcy5jaGFuZ2VJbml0aWFsTWFwRGF0YVNvdXJjZUlEKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwRGF0YVNvdXJjZUlELCB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAhPT0gcHJldlByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcykge1xuICAgICAgdGhpcy5jb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSgpXG4gICAgfVxuICB9XG5cbiAgY2hhbmdlSW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgY2FsbEJhY2s/OiBhbnkpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcbiAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcblxuICAgICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XG4gICAgICAgICAgdGhpcy5zdGFydENoYW5nZUluaXRpYWxNYXBBbmltYXRpb24oY2FsbEJhY2spXG4gICAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgPT09IGRhdGFTb3VyY2VJZCkge1xuICAgICAgICAgIHRoaXMuc3RhcnRDaGFuZ2VJbml0aWFsTWFwQW5pbWF0aW9uKGNhbGxCYWNrKVxuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbiA9IChjYWxsQmFjaz86IGFueSkgPT4ge1xuICAgIGNvbnN0IHRlbXBTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUpIGFzIGFueVxuXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcbiAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXG4gICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXG5cbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxuICAgICAgaWYgKHZpZXdQb2ludCkge1xuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQgJiYgc2Vjb25kTWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHZpZXdQb2ludClcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUodGVtcFN0YXRlLCAoKSA9PiB7IGNhbGxCYWNrKCkgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcblxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50ICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCgpXG4gICAgICBpZiAodmlld1BvaW50KSB7XG4gICAgICAgIGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHsgY2FsbEJhY2soKSB9KVxuICAgIH1cbiAgfVxuXG4gIHN3aXRjaE1hcCA9IGFzeW5jICgpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGlmICghdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgfHwgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZSgpXG4gICAgfVxuXG4gICAgY29uc3QgdGVtcFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSkgYXMgYW55XG4gICAgdGVtcFN0YXRlLnVzZUFuaW1hdGlvbiA9IHRydWVcblxuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXG5cbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxuICAgICAgaWYgKHZpZXdQb2ludCkge1xuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQgJiYgc2Vjb25kTWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHZpZXdQb2ludClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcblxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50ICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCgpXG4gICAgICBpZiAodmlld1BvaW50KSB7XG4gICAgICAgIGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlKSB7XG4gICAgICBjb25zdCBmaXJzdFZpZXdUeXBlID0gZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpXG4gICAgICBjb25zdCBzZWNvbmRWaWV3VHlwZSA9IHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdUeXBlKClcbiAgICAgIGlmIChmaXJzdFZpZXdUeXBlICYmIHNlY29uZFZpZXdUeXBlICYmIChmaXJzdFZpZXdUeXBlICE9PSBzZWNvbmRWaWV3VHlwZSkpIHtcbiAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb1RvVGlsdCgwKVxuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb1RvVGlsdCgwKVxuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb1RvVGlsdCg0NSlcbiAgICAgICAgICB9LCAzMDApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb1RvVGlsdCg0NSlcbiAgICAgICAgICB9LCAzMDApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHtcbiAgICAgICAgdGhpcy5jb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSgpXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlXG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbClcbiAgICAgICAgICB9KVxuICAgICAgICB9LCA1MDApXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHtcbiAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0pIHtcbiAgICAgIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0gPSBbZGF0YVNvdXJjZUlkXVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0uaW5jbHVkZXMoZGF0YVNvdXJjZUlkKSkge1xuICAgICAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldLnB1c2goZGF0YVNvdXJjZUlkKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG11bHRpTWFwRHNJZHMgPSBbXVxuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxuXG4gICAgaWYgKGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpKSB7XG4gICAgICBtdWx0aU1hcERzSWRzLnB1c2godGhpcy5zdGF0ZS5maXJzdE1hcERzSWQpXG4gICAgfVxuXG4gICAgaWYgKHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdUeXBlKCkpIHtcbiAgICAgIG11bHRpTWFwRHNJZHMucHVzaCh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQpXG4gICAgfVxuXG4gICAgbGV0IGlzQWxsTWF0Y2hlZCA9IHRydWVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11bHRpTWFwRHNJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5pbmNsdWRlcyhtdWx0aU1hcERzSWRzW2ldKSkge1xuICAgICAgICBpc0FsbE1hdGNoZWQgPSBmYWxzZVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0FsbE1hdGNoZWQpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldXG4gICAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcbiAgICAgICAgcHJvcEtleSwgdmFsdWUpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlVmlld0NoYW5nZWQgPSAoc2hhcmVWaWV3UG9pbnQ6IFNoYXJlVmlld1BvaW50KSA9PiB7XG4gICAgaWYgKHNoYXJlVmlld1BvaW50LnZpZXdwb2ludCA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcbiAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcbiAgICAgIGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXG4gICAgICBzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50VmlzaWJsZURzSWQgPSB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpXG4gICAgaWYgKGN1cnJlbnRWaXNpYmxlRHNJZCA9PT0gc2hhcmVWaWV3UG9pbnQuZGF0YVNvdXJjZUlkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgIT09IGN1cnJlbnRWaXNpYmxlRHNJZCkge1xuICAgICAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxuICAgICAgICBmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHNoYXJlVmlld1BvaW50LnZpZXdwb2ludClcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCAmJiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgIT09IGN1cnJlbnRWaXNpYmxlRHNJZCkge1xuICAgICAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXG4gICAgICAgIHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludChzaGFyZVZpZXdQb2ludC52aWV3cG9pbnQpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRXh0ZW50Q2hhbmdlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgZXh0ZW50TWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRWaXNpYmxlRHNJZCA9IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKClcbiAgICBpZiAoY3VycmVudFZpc2libGVEc0lkID09PSBkYXRhU291cmNlSWQpIHtcbiAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UoZXh0ZW50TWVzc2FnZSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNYXBMb2FkZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMpID0+IHtcbiAgICB0aGlzLmZvcmNlVXBkYXRlKClcbiAgfVxuXG4gIGhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5fX3VubW91bnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUoKVxuICB9XG5cbiAgY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7bnVsbH1gXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldywgdHJ1ZSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGFsbERhdGFzb3VyY2VJZHMgPSBbXVxuICAgIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICYmIGFsbERhdGFzb3VyY2VJZHMucHVzaCh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZClcbiAgICB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgYWxsRGF0YXNvdXJjZUlkcy5wdXNoKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZClcbiAgICBjb25zdCBjdXJyZW50RGF0YVNvdXJjZUlkID0gdGhpcy5nZXRDdXJyZW50VmlzaWJsZURzSWQoKVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxEYXRhc291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7YWxsRGF0YXNvdXJjZUlkc1tpXX1gXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcbiAgICAgICAgaWYgKGFsbERhdGFzb3VyY2VJZHNbaV0gPT09IGN1cnJlbnREYXRhU291cmNlSWQpIHtcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCB0cnVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcsIGZhbHNlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0QWN0aXZlSmltdU1hcFZpZXcgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgaXNBY3RpdmU6IGJvb2xlYW4pIHtcbiAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRKaW11TWFwVmlld0lkOiBqaW11TWFwVmlldy5pZFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgamltdU1hcFZpZXcuc2V0SXNBY3RpdmUoaXNBY3RpdmUpXG4gICAgfVxuICB9XG5cbiAgaXNTaG93TWFwU3dpdGNoQnRuID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZVxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlKSB7XG4gICAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZS5nZXRNYXBMb2FkU3RhdHVzKCkgIT09IE1hcExvYWRTdGF0dXMuTG9hZGluZyAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRNYXBMb2FkU3RhdHVzKCkgIT09IE1hcExvYWRTdGF0dXMuTG9hZGluZykge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBnZXRDdXJyZW50VmlzaWJsZURzSWQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5ID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5maXJzdE1hcERzSWRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZFxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVZpZXdHcm91cENyZWF0ZSA9ICh2aWV3R3JvdXA6IEppbXVNYXBWaWV3R3JvdXApID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZSh2aWV3R3JvdXApXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlID0gKG1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG1vYmlsZVBhbmVsQ29udGVudDogbW9iaWxlUGFuZWxDb250ZW50XG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlID0gKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWN0aXZlVG9vbEluZm86IGFjdGl2ZVRvb2xJbmZvXG4gICAgfSlcbiAgfVxuXG4gIC8vIGhhbmRsZVNob3dPbk1hcERhdGFDaGFuZ2UgPSAoc2hvd09uTWFwRGF0YXNLZXk6IHN0cmluZ1tdKSA9PiB7XG4gIC8vICB0aGlzLnNldFN0YXRlKHtcbiAgLy8gICAgc2hvd09uTWFwRGF0YXNLZXk6IHNob3dPbk1hcERhdGFzS2V5XG4gIC8vICB9KVxuICAvLyB9XG5cbiAgZ2V0TGF5b3V0Q29uZmlnID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCcpIHtcbiAgICAgIHJldHVybiBtb2JpbGVMYXlvdXRKc29uc1swXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmxheW91dEluZGV4ID8gcGNMYXlvdXRKc29uc1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcubGF5b3V0SW5kZXhdIDogcGNMYXlvdXRKc29uc1swXVxuICAgIH1cbiAgfVxuXG4gIGlzU2hvd0NsZWFyU2hvd09uTWFwRGF0YUJ0biA9ICgpID0+IHtcbiAgICBjb25zdCBzaG93T25NYXBEYXRhcyA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzPy5zaG93T25NYXBEYXRhc1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhzaG93T25NYXBEYXRhcyB8fCB7fSkuc29tZShlbnRyeSA9PiB7XG4gICAgICAvLyBUaGVyZSBpcyBubyBqaW11TWFwVmlld0lkIHdoaWxlIGdlbmVyYXRpbmcgdGhlIGFjdGlvbiBkYXRhIGlmIHRoZSBtYXAgd2lkZ2V0IGhhc24ndCBiZWVuIGxvYWRlZCBpbiB0aGUgYW5vdGhlciBwYWdlL3ZpZXcsXG4gICAgICAvLyB1c2UgYSBkZWZhdWx0IGppbXVNYXBWaWV3SWQgdG8gc2hvdyBkYXRhLlxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBlbnRyeVsxXS5qaW11TWFwVmlld0lkXG4gICAgICBpZiAoIWppbXVNYXBWaWV3SWQgJiYgZW50cnlbMV0ubWFwV2lkZ2V0SWQgPT09IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSB7XG4gICAgICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm86IEltbXV0YWJsZU9iamVjdDx7W2ppbXVNYXBWaWV3SWQ6IHN0cmluZ106IEppbXVNYXBWaWV3SW5mb30+ID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmppbXVNYXBWaWV3c0luZm9cbiAgICAgICAgamltdU1hcFZpZXdJZCA9IE9iamVjdC5rZXlzKGppbXVNYXBWaWV3c0luZm8gfHwge30pLmZpbmQodmlld0lkID0+IGppbXVNYXBWaWV3c0luZm9bdmlld0lkXS5tYXBXaWRnZXRJZCA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpXG4gICAgICB9XG4gICAgICByZXR1cm4gKGppbXVNYXBWaWV3SWQgPT09IHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQgJiYgZW50cnlbMV0udHlwZSA9PT0gU2hvd09uTWFwRGF0YVR5cGUuRGF0YUFjdGlvbilcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e1xuICAgICAgICBtYXBXaWRnZXRJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXG4gICAgICAgIG1hcFdpZGdldEhlaWdodDogdGhpcy5wcm9wcy53aWRnZXRIZWlnaHQsXG4gICAgICAgIGlzU2hvd01hcFN3aXRjaEJ0bjogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMSAmJiB0aGlzLmlzU2hvd01hcFN3aXRjaEJ0bigpLFxuICAgICAgICBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG46IHRoaXMuaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuKCksXG4gICAgICAgIGRhdGFTb3VyY2VJZHM6IFt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCwgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkXSxcbiAgICAgICAgYWN0aXZlRGF0YVNvdXJjZUlkOiB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpLFxuICAgICAgICBzd2l0Y2hNYXA6IHRoaXMuc3dpdGNoTWFwLFxuICAgICAgICBmdWxsU2NyZWVuTWFwOiB0aGlzLnByb3BzLmZ1bGxTY3JlZW5NYXAsXG4gICAgICAgIGlzRnVsbFNjcmVlbjogdGhpcy5wcm9wcy5pc0Z1bGxTY3JlZW4sXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyOiB0aGlzLnN0YXRlLm1vYmlsZVBhbmVsQ29udGFpbmVyLFxuICAgICAgICBvbk1vYmlsZVBhbmVsQ29udGVudENoYW5nZTogdGhpcy5oYW5kbGVNb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2UsXG4gICAgICAgIGluaXRpYWxNYXBTdGF0ZTogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUsXG4gICAgICAgIHRoZW1lOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy50aGVtZVxuICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgeyF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCAmJiA8ZGl2IGNsYXNzTmFtZT0namltdS13aWRnZXQnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnamltdS13aWRnZXQnLCB7XG4gICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmIHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5LFxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5KSxcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZSc6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5LFxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlJzogISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSlcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHpJbmRleDogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLnpJbmRleCB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiA8TWFwQmFzZVxuICAgICAgICAgICAgICByZWY9J2ZpcnN0TWFwSW5zdGFuY2UnXG4gICAgICAgICAgICAgIG9uVmlld0NoYW5nZWQ9e3RoaXMuaGFuZGxlVmlld0NoYW5nZWR9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cbiAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfVxuICAgICAgICAgICAgICBvbkV4dGVudENoYW5nZWQ9eyhkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4geyB0aGlzLmhhbmRsZUV4dGVudENoYW5nZWQoZGF0YVNvdXJjZUlkLCBtZXNzYWdlKSB9fVxuICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5oYW5kbGVKaW11TWFwVmlld0NyZWF0ZWR9XG4gICAgICAgICAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ9e3RoaXMuaGFuZGxlU2hvd09uTWFwRGF0YUNoYW5nZX1cbiAgICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxuICAgICAgICAgICAgICBkYXRhU291cmNlSWQ9e3RoaXMuc3RhdGUuZmlyc3RNYXBEc0lkfVxuICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxuICAgICAgICAgICAgICBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9NYXBCYXNlPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ppbXUtd2lkZ2V0Jywge1xuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSxcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSksXG4gICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUnOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSxcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyLW5vYW5pbWF0ZSc6ICEodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHkpXG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS56SW5kZXggfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIDxNYXBCYXNlXG4gICAgICAgICAgICAgIHJlZj0nc2Vjb25kTWFwSW5zdGFuY2UnXG4gICAgICAgICAgICAgIG9uVmlld0NoYW5nZWQ9e3RoaXMuaGFuZGxlVmlld0NoYW5nZWR9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cbiAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfVxuICAgICAgICAgICAgICBvbkV4dGVudENoYW5nZWQ9eyhkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4geyB0aGlzLmhhbmRsZUV4dGVudENoYW5nZWQoZGF0YVNvdXJjZUlkLCBtZXNzYWdlKSB9fVxuICAgICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5oYW5kbGVKaW11TWFwVmlld0NyZWF0ZWR9XG4gICAgICAgICAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ9e3RoaXMuaGFuZGxlU2hvd09uTWFwRGF0YUNoYW5nZX1cbiAgICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxuICAgICAgICAgICAgICBkYXRhU291cmNlSWQ9e3RoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZH1cbiAgICAgICAgICAgICAgd2lkdGhCcmVha3BvaW50PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludH1cbiAgICAgICAgICAgICAgaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvTWFwQmFzZT59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgICAge3RoaXMucHJvcHMuaXNEZWZhdWx0TWFwICYmIDxkaXYgY2xhc3NOYW1lPSdqaW11LXdpZGdldCcgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdqaW11LXdpZGdldCBtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUnKX1cbiAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6IDYgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TWFwQmFzZVxuICAgICAgICAgICAgICByZWY9J2ZpcnN0TWFwSW5zdGFuY2UnIGlzRGVmYXVsdE1hcD17dGhpcy5wcm9wcy5pc0RlZmF1bHRNYXB9XG4gICAgICAgICAgICAgIG9uVmlld0NoYW5nZWQ9e3RoaXMuaGFuZGxlVmlld0NoYW5nZWR9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cbiAgICAgICAgICAgICAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ9e3RoaXMuaGFuZGxlTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkfSBkYXRhU291cmNlSWQ9e251bGx9XG4gICAgICAgICAgICAgIG9uRXh0ZW50Q2hhbmdlZD17KGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB7IHRoaXMuaGFuZGxlRXh0ZW50Q2hhbmdlZChkYXRhU291cmNlSWQsIG1lc3NhZ2UpIH19XG4gICAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLmhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZH1cbiAgICAgICAgICAgICAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD17dGhpcy5oYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlfVxuICAgICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XG4gICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XG4gICAgICAgICAgICAgIGlzTWFwSW5WaXNpYmxlQXJlYT17dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWF9XG4gICAgICAgICAgICAgIGRlZmF1bHRNYXBJbmZvPXt0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICB7dGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCAmJiA8TWFwRml4ZWRMYXlvdXRcbiAgICAgICAgICBqaW11TWFwVmlldz17TWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQodGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCl9XG4gICAgICAgICAgYXBwTW9kZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZX0gbGF5b3V0cz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubGF5b3V0c31cbiAgICAgICAgICBMYXlvdXRFbnRyeT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcy5MYXlvdXRFbnRyeX1cbiAgICAgICAgICB3aWRnZXRNYW5pZmVzdE5hbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm1hbmlmZXN0Lm5hbWV9XG4gICAgICAgID5cbiAgICAgICAgPC9NYXBGaXhlZExheW91dD59XG4gICAgICAgIHt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkICYmIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQpICYmXG4gICAgICAgICAgPExheW91dFxuICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfSBpc01vYmlsZT17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnfVxuICAgICAgICAgICAgamltdU1hcFZpZXc9e01hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQpfVxuICAgICAgICAgICAgYXBwTW9kZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZX0gbGF5b3V0cz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubGF5b3V0c30gaW50bD17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaW50bH1cbiAgICAgICAgICAgIExheW91dEVudHJ5PXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLkxheW91dEVudHJ5fVxuICAgICAgICAgICAgbGF5b3V0Q29uZmlnPXt0aGlzLmdldExheW91dENvbmZpZygpfSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcudG9vbENvbmlmZyA/IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy50b29sQ29uaWZnIDoge319XG4gICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5zdGF0ZS5hY3RpdmVUb29sSW5mb30gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5oYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnRoZW1lfVxuICAgICAgICAgICAgd2lkZ2V0TWFuaWZlc3ROYW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tYW5pZmVzdC5uYW1lfSB3aWRnZXRIZWlnaHQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJyA/IG51bGwgOiB0aGlzLnByb3BzLndpZGdldEhlaWdodH1cbiAgICAgICAgICAvPn1cbiAgICAgICAgPEppbXVNYXBWaWV3Q29tcG9uZW50IHVzZU1hcFdpZGdldElkPXt0aGlzLnVzZU1hcFdpZGdldElkcz8uWzBdfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9IC8+XG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Qcm92aWRlcj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx":
/*!******************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseToolShell)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\");\n/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-modules */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts\");\n/** @jsx jsx */\n\n\n\nclass BaseToolShell extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {\n    componentDidMount() {\n        const baseToolInstance = this.refs.baseToolInstance;\n        if (!_tool_modules__WEBPACK_IMPORTED_MODULE_2__[\"default\"][this.props.toolName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${this.props.toolName}`])) {\n            this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName] = baseToolInstance;\n        }\n    }\n    componentWillUnmount() {\n        if (_tool_modules__WEBPACK_IMPORTED_MODULE_2__[\"default\"][this.props.toolName].getIsNeedSetting()) {\n            const tempInstance = this.props.jimuMapView && this.props.jimuMapView.view &&\n                this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName];\n            if (tempInstance && tempInstance.destroy) {\n                tempInstance.destroy();\n                delete this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName];\n            }\n        }\n    }\n    render() {\n        const ToolClass = _tool_modules__WEBPACK_IMPORTED_MODULE_2__[\"default\"][this.props.toolName];\n        if (ToolClass) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(this.props.className, 'exbmap-ui exbmap-ui-tool-shell divitem', this.props.layoutConfig.elements[this.props.toolName].className, {\n                    'exbmap-ui-hidden-element': this.props.isHidden,\n                    'mb-0 mr-0': this.props.isLastElement,\n                    'rounded-pill': ['Compass'].includes(this.props.toolName)\n                }), style: this.props.layoutConfig.elements[this.props.toolName].style },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolClass, { ref: 'baseToolInstance', toolJson: this.props.layoutConfig.elements[this.props.toolName], toolName: this.props.toolName, isMobile: this.props.isMobile, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, theme: this.props.theme })));\n        }\n        else {\n            if (this.props.isMobile) {\n                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", null);\n            }\n            else {\n                return null;\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLXNoZWxsLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFnQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL2Jhc2UtdG9vbC1zaGVsbC50c3g/YTA3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IGpzeCwgY2xhc3NOYW1lcywgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgVUlDb21wb25lbnQsIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcbmltcG9ydCB7IFRvb2xDb25maWcgfSBmcm9tICcuLi8uLi8uLi9jb25maWcnXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UtdG9vbCdcbmltcG9ydCB7IExheW91dEpzb24sIFRvb2xKc29uIH0gZnJvbSAnLi4vY29uZmlnJ1xuaW1wb3J0IFRvb2xNb2R1bGVzIGZyb20gJy4uL3Rvb2wtbW9kdWxlcydcblxuaW50ZXJmYWNlIFRvb2xTaGVsbFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XG4gIGxheW91dENvbmZpZzogTGF5b3V0SnNvblxuICB0b29sQ29uZmlnOiBUb29sQ29uZmlnXG4gIHRvb2xOYW1lOiBzdHJpbmdcbiAgaXNNb2JpbGU/OiBib29sZWFuXG4gIGlzSGlkZGVuPzogYm9vbGVhblxuICBpbnRsPzogSW50bFNoYXBlXG4gIGlzTGFzdEVsZW1lbnQ/OiBib29sZWFuXG5cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VUb29sU2hlbGwgZXh0ZW5kcyBVSUNvbXBvbmVudDxUb29sU2hlbGxQcm9wcywgdW5rbm93bj4ge1xuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgY29uc3QgYmFzZVRvb2xJbnN0YW5jZSA9IHRoaXMucmVmcy5iYXNlVG9vbEluc3RhbmNlIGFzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+XG5cbiAgICBpZiAoIVRvb2xNb2R1bGVzW3RoaXMucHJvcHMudG9vbE5hbWVdLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHt0aGlzLnByb3BzLnRvb2xOYW1lfWBdKSkge1xuICAgICAgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSBhcyBhbnkpLmV4Yk1hcFRvb2xzW3RoaXMucHJvcHMudG9vbE5hbWVdID0gYmFzZVRvb2xJbnN0YW5jZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICBpZiAoVG9vbE1vZHVsZXNbdGhpcy5wcm9wcy50b29sTmFtZV0uZ2V0SXNOZWVkU2V0dGluZygpKSB7XG4gICAgICBjb25zdCB0ZW1wSW5zdGFuY2UgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJlxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSBhcyBhbnkpLmV4Yk1hcFRvb2xzW3RoaXMucHJvcHMudG9vbE5hbWVdXG4gICAgICBpZiAodGVtcEluc3RhbmNlICYmIHRlbXBJbnN0YW5jZS5kZXN0cm95KSB7XG4gICAgICAgIHRlbXBJbnN0YW5jZS5kZXN0cm95KClcbiAgICAgICAgZGVsZXRlICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgYXMgYW55KS5leGJNYXBUb29sc1t0aGlzLnByb3BzLnRvb2xOYW1lXVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgY29uc3QgVG9vbENsYXNzID0gVG9vbE1vZHVsZXNbdGhpcy5wcm9wcy50b29sTmFtZV1cbiAgICBpZiAoVG9vbENsYXNzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHRoaXMucHJvcHMuY2xhc3NOYW1lLCAnZXhibWFwLXVpIGV4Ym1hcC11aS10b29sLXNoZWxsIGRpdml0ZW0nLCAodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV0gYXMgVG9vbEpzb24pLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgJ2V4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCc6IHRoaXMucHJvcHMuaXNIaWRkZW4sXG4gICAgICAgICAgICAgICdtYi0wIG1yLTAnOiB0aGlzLnByb3BzLmlzTGFzdEVsZW1lbnQsXG4gICAgICAgICAgICAgICdyb3VuZGVkLXBpbGwnOiBbJ0NvbXBhc3MnXS5pbmNsdWRlcyh0aGlzLnByb3BzLnRvb2xOYW1lKVxuICAgICAgICAgICAgfSl9IHN0eWxlPXsodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV0gYXMgVG9vbEpzb24pLnN0eWxlfVxuICAgICAgICA+XG4gICAgICAgICAgPFRvb2xDbGFzc1xuICAgICAgICAgICAgcmVmPSdiYXNlVG9vbEluc3RhbmNlJyB0b29sSnNvbj17dGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV19IHRvb2xOYW1lPXt0aGlzLnByb3BzLnRvb2xOYW1lfSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX1cbiAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxuICAgICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcbiAgICAgICAgcmV0dXJuIDxzcGFuIC8+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BaseTool\": () => (/* binding */ BaseTool)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-component */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\");\n/* harmony import */ var _scroll_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scroll-container */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx\");\n/* harmony import */ var _panel_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel-shell */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/** @jsx jsx */\n\n\n\n\n\n\nconst defaultIcon = __webpack_require__(/*! jimu-ui/lib/icons/widgets.svg */ \"./jimu-ui/lib/icons/widgets.svg\");\nconst closeIcon = __webpack_require__(/*! ../../assets/icons/close-12.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg\");\nclass BaseTool extends _ui_component__WEBPACK_IMPORTED_MODULE_2__.UIComponent {\n    constructor(props) {\n        super(props);\n        this.toolName = null;\n        this.isContainedToMobilePanel = false;\n        // this param is used to update pop position when pc content has changed\n        this.generation = 0;\n        this._getContent = () => {\n            if (this.props.toolJson.isOnlyExpanded) {\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this._cssStyle(), className: 'exbmap-ui exbmap-ui-tool-panel' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())));\n            }\n            else {\n                if (this.props.isMobile) {\n                    return this._renderMobileTool();\n                }\n                else {\n                    return this._renderPCTool();\n                }\n            }\n        };\n        this.onResize = (width, height) => {\n            if (!width || !height) {\n                return;\n            }\n            this.generation = height;\n            this.forceUpdate();\n        };\n        this.handleToggleMobilePanel = () => {\n            this.props.onActiveToolInfoChange(null);\n        };\n        const mapContainer = this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.container;\n        if (jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanelManager.getInstance().checkDomIsContained(mapContainer)) {\n            this.isContainedToMobilePanel = true;\n        }\n        this.modifiers = [{\n                name: 'flip',\n                options: {\n                    padding: 0\n                }\n            }, {\n                name: 'preventOverflow',\n                options: {\n                    boundary: mapContainer\n                }\n            }];\n    }\n    _cssStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      .exbmap-basetool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:after {\n        background-color: #6e6e6e;\n        width: 20%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      /* pointer-events: auto;\n      box-shadow: 0 1px 2px rgba(0,0,0,0.3);\n      position: relative;\n\n      .exbmap-ui-tool-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .exbmap-ui-expand-content {\n        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;\n        min-height: 10px;\n        min-width: 10px;\n        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};\n        padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};\n        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};\n        padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};\n\n        .exbmap-ui-expand-content-header {\n          margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};\n        }\n\n        .panel-title {\n          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};\n          color: #000000;\n        }\n      }\n\n      .expand-placement-bottom {\n        padding-top: 0.25rem !important;\n      }\n\n      .expand-placement-left {\n        padding-right: 0.25rem !important;\n      }\n\n      .expand-placement-right {\n        padding-left: 0.25rem !important;\n      }\n\n      .expand-placement-top {\n        padding-bottom: 0.25rem !important;\n      }\n\n      .exbmap-basetool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:after {\n        background-color: #6e6e6e;\n        width: 20%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      } */\n    `;\n    }\n    onShowPanel() { }\n    onClosePanel() { }\n    destroy() { }\n    static getIsNeedSetting() {\n        return true;\n    }\n    _onIconClick(e) {\n        const onIconClick = this.getIcon() && this.getIcon().onIconClick;\n        if (onIconClick) {\n            onIconClick(e);\n        }\n        if (!this.getExpandPanel()) {\n            return;\n        }\n        if (this.props.activeToolInfo) {\n            if (this.props.activeToolInfo.activeToolName === this.toolName) {\n                this.props.onActiveToolInfoChange(null);\n            }\n            else {\n                this.props.onActiveToolInfoChange({\n                    activeToolName: this.toolName,\n                    activeToolTitle: this.getTitle()\n                });\n                this.onShowPanel();\n            }\n        }\n        else {\n            this.props.onActiveToolInfoChange({\n                activeToolName: this.toolName,\n                activeToolTitle: this.getTitle()\n            });\n            this.onShowPanel();\n        }\n    }\n    _initIconContainer(ref) {\n        if (ref && !this.iconContainer) {\n            this.iconContainer = ref;\n            this.forceUpdate();\n        }\n    }\n    _renderPCTool() {\n        let toolIcon = this.getIcon();\n        if (!toolIcon) {\n            toolIcon = {\n                icon: defaultIcon,\n                onIconClick: () => { }\n            };\n        }\n        const expandPanel = this.getExpandPanel();\n        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;\n        this.generation = this.generation + 1;\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle(), style: { width: '32px', height: '32px' } },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {}, ref: ref => { this._initIconContainer(ref); }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {\n                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel\n                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),\n            this.iconContainer && (this.toolName === activeToolName && expandPanel) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { onDestroyed: () => { this.onClosePanel(); } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { className: 'exbmap-ui-popper', reference: this.iconContainer, open: !!(this.toolName === activeToolName && expandPanel), placement: this.props.toolJson.panelPlacement, modifiers: this.modifiers, version: this.generation, offset: [0, 4] },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mapWidgetHeight }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this._cssStyle(), className: this.getExpandPanelPlacementClassName() },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'exbmap-ui-expand-content' },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 justify-content-between d-flex exbmap-ui-expand-content-header' },\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'panel-title text-truncate', style: { maxWidth: '210px' }, title: this.getTitle() }, this.getTitle()),\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { onClick: () => { this.props.onActiveToolInfoChange(null); }, style: { cursor: 'pointer' } },\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 20, height: 20, icon: closeIcon }))),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null,\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { maxHeight: `${mapWidgetHeight - 55}px`, overflowY: this.toolName !== 'Search' ? 'auto' : 'inherit' } }, expandPanel),\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.onResize }))))))))));\n    }\n    _renderMobileTool() {\n        let toolIcon = this.getIcon();\n        if (!toolIcon) {\n            toolIcon = {\n                icon: defaultIcon,\n                onIconClick: () => { }\n            };\n        }\n        const expandPanel = this.getExpandPanel();\n        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle() },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {}, ref: ref => { this.iconContainer = ref; }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {\n                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel\n                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),\n            this.toolName === activeToolName && expandPanel &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { onDestroyed: () => { this.onClosePanel(); } },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 h-100 d-flex flex-column', css: this._cssStyle() },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_scroll_container__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { className: 'w-100 h-100' },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())))), mobilePanelContainer)))));\n    }\n    getExpandPanelPlacementClassName() {\n        if (!this.props.toolJson.panelPlacement) {\n            return null;\n        }\n        else {\n            return `expand-placement-${this.props.toolJson.panelPlacement.split('-')[0]}`;\n        }\n    }\n    render() {\n        return this._getContent();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFzQkE7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQVBBO0FBQ0E7QUFDQTtBQUNBO0FBNkxBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXdEQTtBQUNBO0FBQ0E7QUFqUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0RBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7OztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdURBO0FBQ0E7QUFRQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFTQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFVQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLnRzeD8xMWUzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGNzcywganN4LCBwb2xpc2hlZCwgY2xhc3NOYW1lcywgUmVhY3RET00sIEVycm9yQm91bmRhcnksIFJlYWN0UmVzaXplRGV0ZWN0b3IsIEludGxTaGFwZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEljb24sIFBvcHBlciwgTW9iaWxlUGFuZWxNYW5hZ2VyLCBNb2RpZmllcnMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgVUlDb21wb25lbnQsIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcbmltcG9ydCB7IFRvb2xKc29uIH0gZnJvbSAnLi4vY29uZmlnJ1xuaW1wb3J0IFNjcm9sbENvbnRhaW5lciBmcm9tICcuL3Njcm9sbC1jb250YWluZXInXG5pbXBvcnQgUGFuZWxTaGVsbCBmcm9tICcuL3BhbmVsLXNoZWxsJ1xuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xuXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZVRvb2xJbmZvIHtcbiAgYWN0aXZlVG9vbE5hbWU6IHN0cmluZ1xuICBhY3RpdmVUb29sVGl0bGU6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VUb29sUHJvcHMgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzIHtcbiAgdG9vbEpzb246IFRvb2xKc29uXG4gIHRvb2xOYW1lOiBzdHJpbmdcbiAgaXNNb2JpbGU/OiBib29sZWFuXG4gIGludGw/OiBJbnRsU2hhcGVcblxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEljb25UeXBlIHtcbiAgaWNvbjogUmVhY3QuQ29tcG9uZW50Q2xhc3M8UmVhY3QuU1ZHQXR0cmlidXRlczxTVkdFbGVtZW50Pj5cbiAgb25JY29uQ2xpY2s/OiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB2b2lkXG59XG5cbmNvbnN0IGRlZmF1bHRJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvd2lkZ2V0cy5zdmcnKVxuY29uc3QgY2xvc2VJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL2Nsb3NlLTEyLnN2ZycpXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlVG9vbDxQIGV4dGVuZHMgQmFzZVRvb2xQcm9wcywgUyBleHRlbmRzIHVua25vd24+IGV4dGVuZHMgVUlDb21wb25lbnQ8UCwgUz4ge1xuICBpY29uQ29udGFpbmVyOiBIVE1MRWxlbWVudFxuICB0b29sTmFtZTogc3RyaW5nID0gbnVsbFxuICBpc0NvbnRhaW5lZFRvTW9iaWxlUGFuZWwgPSBmYWxzZVxuICAvLyB0aGlzIHBhcmFtIGlzIHVzZWQgdG8gdXBkYXRlIHBvcCBwb3NpdGlvbiB3aGVuIHBjIGNvbnRlbnQgaGFzIGNoYW5nZWRcbiAgZ2VuZXJhdGlvbj86IG51bWJlciA9IDBcbiAgbW9kaWZpZXJzOiBNb2RpZmllcnNcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5jb250YWluZXJcbiAgICBpZiAoTW9iaWxlUGFuZWxNYW5hZ2VyLmdldEluc3RhbmNlKCkuY2hlY2tEb21Jc0NvbnRhaW5lZChtYXBDb250YWluZXIpKSB7XG4gICAgICB0aGlzLmlzQ29udGFpbmVkVG9Nb2JpbGVQYW5lbCA9IHRydWVcbiAgICB9XG4gICAgdGhpcy5tb2RpZmllcnMgPSBbe1xuICAgICAgbmFtZTogJ2ZsaXAnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBwYWRkaW5nOiAwXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgbmFtZTogJ3ByZXZlbnRPdmVyZmxvdycsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGJvdW5kYXJ5OiBtYXBDb250YWluZXJcbiAgICAgIH1cbiAgICB9XVxuICB9XG5cbiAgcHJpdmF0ZSBfY3NzU3R5bGUgKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YmVmb3JlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTZlNmU7XG4gICAgICAgIHdpZHRoOiAyMCU7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC8qIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICAgICAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwwLDAsMC4zKTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICAgLmV4Ym1hcC11aS10b29sLWljb24ge1xuICAgICAgICBmaWxsOiBibGFjaztcbiAgICAgICAgbGVmdDogOHB4O1xuICAgICAgICB0b3A6IDhweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC11aS1leHBhbmQtY29udGVudCB7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMjUwbXMgZWFzZS1pbi1vdXQsIG1hcmdpbiAyNTBtcyBlYXNlLWluLW91dDtcbiAgICAgICAgbWluLWhlaWdodDogMTBweDtcbiAgICAgICAgbWluLXdpZHRoOiAxMHB4O1xuICAgICAgICBwYWRkaW5nLXRvcDogJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgcGFkZGluZy1ib3R0b206ICR7cG9saXNoZWQucmVtKDEwKX07XG4gICAgICAgIHBhZGRpbmctbGVmdDogJHtwb2xpc2hlZC5yZW0oMjApfTtcbiAgICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMjApfTtcblxuICAgICAgICAuZXhibWFwLXVpLWV4cGFuZC1jb250ZW50LWhlYWRlciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYW5lbC10aXRsZSB7XG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNil9O1xuICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LWJvdHRvbSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAwLjI1cmVtICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LWxlZnQge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAwLjI1cmVtICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LXJpZ2h0IHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjI1cmVtICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LXRvcCB7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjI1cmVtICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjpiZWZvcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNmU2ZTtcbiAgICAgICAgd2lkdGg6IDIwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH0gKi9cbiAgICBgXG4gIH1cblxuICBhYnN0cmFjdCBnZXRUaXRsZSAoKTogc3RyaW5nXG5cbiAgYWJzdHJhY3QgZ2V0SWNvbiAoKTogSWNvblR5cGVcblxuICBhYnN0cmFjdCBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnRcblxuICBvblNob3dQYW5lbCAoKSB7fVxuXG4gIG9uQ2xvc2VQYW5lbCAoKSB7fVxuXG4gIGRlc3Ryb3kgKCkge31cblxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHByaXZhdGUgX29uSWNvbkNsaWNrIChlOiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pIHtcbiAgICBjb25zdCBvbkljb25DbGljayA9IHRoaXMuZ2V0SWNvbigpICYmIHRoaXMuZ2V0SWNvbigpLm9uSWNvbkNsaWNrXG4gICAgaWYgKG9uSWNvbkNsaWNrKSB7XG4gICAgICBvbkljb25DbGljayhlKVxuICAgIH1cblxuICAgIGlmICghdGhpcy5nZXRFeHBhbmRQYW5lbCgpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgPT09IHRoaXMudG9vbE5hbWUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xuICAgICAgICAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxuICAgICAgICAgIGFjdGl2ZVRvb2xUaXRsZTogdGhpcy5nZXRUaXRsZSgpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMub25TaG93UGFuZWwoKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xuICAgICAgICBhY3RpdmVUb29sTmFtZTogdGhpcy50b29sTmFtZSxcbiAgICAgICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLmdldFRpdGxlKClcbiAgICAgIH0pXG4gICAgICB0aGlzLm9uU2hvd1BhbmVsKClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IF9nZXRDb250ZW50ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5fY3NzU3R5bGUoKX0gY2xhc3NOYW1lPSdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wtcGFuZWwnPlxuICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAge3RoaXMuZ2V0RXhwYW5kUGFuZWwoKX1cbiAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyTW9iaWxlVG9vbCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUENUb29sKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9pbml0SWNvbkNvbnRhaW5lciAocmVmOiBIVE1MRWxlbWVudCkge1xuICAgIGlmIChyZWYgJiYgIXRoaXMuaWNvbkNvbnRhaW5lcikge1xuICAgICAgdGhpcy5pY29uQ29udGFpbmVyID0gcmVmXG4gICAgICB0aGlzLmZvcmNlVXBkYXRlKClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlYWRvbmx5IG9uUmVzaXplID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGhlaWdodFxuICAgIHRoaXMuZm9yY2VVcGRhdGUoKVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyUENUb29sICgpIHtcbiAgICBsZXQgdG9vbEljb24gPSB0aGlzLmdldEljb24oKVxuICAgIGlmICghdG9vbEljb24pIHtcbiAgICAgIHRvb2xJY29uID0ge1xuICAgICAgICBpY29uOiBkZWZhdWx0SWNvbixcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XG4gICAgICB9IGFzIEljb25UeXBlXG4gICAgfVxuXG4gICAgY29uc3QgZXhwYW5kUGFuZWwgPSB0aGlzLmdldEV4cGFuZFBhbmVsKClcbiAgICBjb25zdCBhY3RpdmVUb29sTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZVxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IHRoaXMuZ2VuZXJhdGlvbiArIDFcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpIGV4Ym1hcC11aS10b29sJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9IHN0eWxlPXt7IHdpZHRoOiAnMzJweCcsIGhlaWdodDogJzMycHgnIH19PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3t9fSByZWY9e3JlZiA9PiB7IHRoaXMuX2luaXRJY29uQ29udGFpbmVyKHJlZikgfX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBlc3JpLXdpZGdldC0tYnV0dG9uJywge1xuICAgICAgICAgICAgJ2V4Ym1hcC11aS10b29sLWljb24tc2VsZWN0ZWQnOiB0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbFxuICAgICAgICAgIH0pfVxuICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRvb2xKc29uLmlzU2hvd0ljb25UaXRsZSA/IHRoaXMuZ2V0VGl0bGUoKSA6ICcnfSBvbkNsaWNrPXtlID0+IHsgdGhpcy5fb25JY29uQ2xpY2soZSkgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0b29sSWNvbi5pY29ufSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMuaWNvbkNvbnRhaW5lciAmJiAodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpICYmIDxQYW5lbFNoZWxsIG9uRGVzdHJveWVkPXsoKSA9PiB7IHRoaXMub25DbG9zZVBhbmVsKCkgfX0+XG4gICAgICAgICAgPFBvcHBlclxuICAgICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWktcG9wcGVyJyByZWZlcmVuY2U9e3RoaXMuaWNvbkNvbnRhaW5lcn0gb3Blbj17ISEodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpfSBwbGFjZW1lbnQ9e3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnR9XG4gICAgICAgICAgICBtb2RpZmllcnM9e3RoaXMubW9kaWZpZXJzfSB2ZXJzaW9uPXt0aGlzLmdlbmVyYXRpb259IG9mZnNldD17WzAsIDRdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAgICAgIHsoeyBtYXBXaWRnZXRIZWlnaHQgfSkgPT4gKDxkaXYgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfSBjbGFzc05hbWU9e3RoaXMuZ2V0RXhwYW5kUGFuZWxQbGFjZW1lbnRDbGFzc05hbWUoKX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aS1leHBhbmQtY29udGVudCc+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAganVzdGlmeS1jb250ZW50LWJldHdlZW4gZC1mbGV4IGV4Ym1hcC11aS1leHBhbmQtY29udGVudC1oZWFkZXInPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtdGl0bGUgdGV4dC10cnVuY2F0ZScgc3R5bGU9e3sgbWF4V2lkdGg6ICcyMTBweCcgfX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VGl0bGUoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4geyB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbCkgfX0gc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezIwfSBoZWlnaHQ9ezIwfSBpY29uPXtjbG9zZUljb259IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXhIZWlnaHQ6IGAke21hcFdpZGdldEhlaWdodCAtIDU1fXB4YCwgb3ZlcmZsb3dZOiB0aGlzLnRvb2xOYW1lICE9PSAnU2VhcmNoJyA/ICdhdXRvJyA6ICdpbmhlcml0JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kUGFuZWx9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XG4gICAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2Pil9XG4gICAgICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICA8L1BvcHBlcj5cbiAgICAgICAgPC9QYW5lbFNoZWxsPn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZU1vYmlsZVBhbmVsID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyTW9iaWxlVG9vbCAoKSB7XG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKClcbiAgICBpZiAoIXRvb2xJY29uKSB7XG4gICAgICB0b29sSWNvbiA9IHtcbiAgICAgICAgaWNvbjogZGVmYXVsdEljb24sXG4gICAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7fVxuICAgICAgfSBhcyBJY29uVHlwZVxuICAgIH1cblxuICAgIGNvbnN0IGV4cGFuZFBhbmVsID0gdGhpcy5nZXRFeHBhbmRQYW5lbCgpXG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcbiAgICByZXR1cm4gKFxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyh7IG1vYmlsZVBhbmVsQ29udGFpbmVyIH0pID0+IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpIGV4Ym1hcC11aS10b29sJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e319IHJlZj17cmVmID0+IHsgdGhpcy5pY29uQ29udGFpbmVyID0gcmVmIH19IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcbiAgICAgICAgICAgICAgICAnZXhibWFwLXVpLXRvb2wtaWNvbi1zZWxlY3RlZCc6IHRoaXMudG9vbE5hbWUgPT09IGFjdGl2ZVRvb2xOYW1lICYmIGV4cGFuZFBhbmVsXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50b29sSnNvbi5pc1Nob3dJY29uVGl0bGUgPyB0aGlzLmdldFRpdGxlKCkgOiAnJ30gb25DbGljaz17ZSA9PiB7IHRoaXMuX29uSWNvbkNsaWNrKGUpIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0b29sSWNvbi5pY29ufSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwgJiZcbiAgICAgICAgICAgIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCg8UGFuZWxTaGVsbCBvbkRlc3Ryb3llZD17KCkgPT4geyB0aGlzLm9uQ2xvc2VQYW5lbCgpIH19PjxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBkLWZsZXggZmxleC1jb2x1bW4nIGNzcz17dGhpcy5fY3NzU3R5bGUoKX0+XG4gICAgICAgICAgICAgIDxTY3JvbGxDb250YWluZXIgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XG4gICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRFeHBhbmRQYW5lbCgpfVxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgPC9TY3JvbGxDb250YWluZXI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvUGFuZWxTaGVsbD4sIG1vYmlsZVBhbmVsQ29udGFpbmVyKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXhwYW5kUGFuZWxQbGFjZW1lbnRDbGFzc05hbWUgKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50b29sSnNvbi5wYW5lbFBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGBleHBhbmQtcGxhY2VtZW50LSR7dGhpcy5wcm9wcy50b29sSnNvbi5wYW5lbFBsYWNlbWVudC5zcGxpdCgnLScpWzBdfWBcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRDb250ZW50KClcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Group)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\");\n/* harmony import */ var _base_tool_shell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tool-shell */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx\");\n/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-modules */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/** @jsx jsx */\n\n\n\n\n\n\nclass Group extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {\n    constructor(props) {\n        super(props);\n        this.moveY = 0;\n        this.startY = 0;\n        this.sliding = false;\n        this.startDrag = false;\n        this.currentBottomPanelHeight = 0;\n        this.thumbMapElementNames = ['FullScreen', 'Zoom', 'MapSwitch'];\n        this.checkIsHiddenElement = (elementName) => {\n            if (this.props.hiddenElementNames) {\n                if (this.props.hiddenElementNames.includes(elementName)) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        };\n        this.start = (event, type) => {\n            this.startDrag = true;\n            if (type === 'touch') {\n                this.moveY = 0;\n                const touch = event.touches[0];\n                this.startY = touch.clientY;\n            }\n            if (type === 'mouse') {\n                this.moveY = 0;\n                this.startY = event.clientY;\n            }\n            document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).classList.remove('expand-mobile-panel-transition');\n        };\n        this.move = (event, type) => {\n            if (type === 'touch') {\n                this.sliding = true;\n                const touch = event.touches[0];\n                this.moveY = (touch.clientY - this.startY) * -1;\n            }\n            if (type === 'mouse' && this.startDrag) {\n                this.sliding = true;\n                this.moveY = (event.clientY - this.startY) * -1;\n            }\n            if (type === 'mouse' && !this.startDrag) {\n                return;\n            }\n            let expectHeight = 150;\n            if (this.state.bottomPanelHeight + this.moveY > expectHeight) {\n                expectHeight = this.state.bottomPanelHeight + this.moveY;\n            }\n            document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).style.height = `${expectHeight}px`;\n            this.currentBottomPanelHeight = expectHeight;\n            const aboveHeight = this.state.widgetHeight - (expectHeight);\n            if (aboveHeight > 360) {\n                this.props.onSetHiddenElementNames([]);\n            }\n            if (aboveHeight > 200 && aboveHeight <= 360) {\n                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage1);\n            }\n            if (aboveHeight > 54 && aboveHeight <= 200) {\n                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage2);\n            }\n            if (aboveHeight < 54) {\n                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage3);\n            }\n        };\n        this.end = (event, type) => {\n            if (type === 'mouse' && !this.startDrag) {\n                return;\n            }\n            this.startDrag = false;\n            this.sliding = false;\n            document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).classList.add('expand-mobile-panel-transition');\n            if (type === 'touch') {\n                if (Math.abs(this.moveY) < 10) {\n                    document.getElementById(`${this.props.jimuMapView.id}-bottom-panel`).style.height = `${this.state.bottomPanelHeight}px`;\n                    this.currentBottomPanelHeight = this.state.bottomPanelHeight;\n                    return;\n                }\n            }\n            if (this.moveY >= 0) {\n                // up slider\n                let targetBottomPanelHeight = 0;\n                if (this.currentBottomPanelHeight >= 150 && this.currentBottomPanelHeight < this.state.widgetHeight * 0.6) {\n                    targetBottomPanelHeight = this.state.widgetHeight * 0.6;\n                }\n                else if (this.currentBottomPanelHeight >= this.state.widgetHeight * 0.6 && this.currentBottomPanelHeight < this.state.widgetHeight) {\n                    targetBottomPanelHeight = this.state.widgetHeight - 20;\n                }\n                else {\n                    targetBottomPanelHeight = 150;\n                }\n                this.setState({\n                    bottomPanelHeight: targetBottomPanelHeight\n                }, () => {\n                    this.checkResponsive();\n                });\n                this.currentBottomPanelHeight = targetBottomPanelHeight;\n            }\n            else {\n                // down slider\n                let targetBottomPanelHeight = 0;\n                if (this.currentBottomPanelHeight > 150 && this.currentBottomPanelHeight < this.state.widgetHeight * 0.6) {\n                    targetBottomPanelHeight = 150;\n                }\n                else if (this.currentBottomPanelHeight >= this.state.widgetHeight * 0.6 && this.currentBottomPanelHeight < this.state.widgetHeight) {\n                    targetBottomPanelHeight = this.state.widgetHeight * 0.6;\n                }\n                else {\n                    targetBottomPanelHeight = 150;\n                }\n                this.setState({\n                    bottomPanelHeight: targetBottomPanelHeight\n                }, () => {\n                    this.checkResponsive();\n                });\n                this.currentBottomPanelHeight = targetBottomPanelHeight;\n            }\n        };\n        this.checkResponsive = () => {\n            if (this.state.isThumbMap) {\n                this.props.onSetHiddenElementNames([]);\n                return;\n            }\n            if (this.state.bottomPanelHeight === 0) {\n                this.props.onSetHiddenElementNames([]);\n                return;\n            }\n            const aboveHeight = this.state.widgetHeight - (this.state.bottomPanelHeight);\n            if (aboveHeight > 360) {\n                this.props.onSetHiddenElementNames([]);\n            }\n            if (aboveHeight > 200 && aboveHeight <= 360) {\n                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage1);\n            }\n            if (aboveHeight > 54 && aboveHeight <= 200) {\n                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage2);\n            }\n            if (aboveHeight < 54) {\n                this.props.onSetHiddenElementNames(this.props.layoutConfig.mobileResponsiveStrategy.stage3);\n            }\n        };\n        this.onResize = (width, height) => {\n            if (!width || !height) {\n                return;\n            }\n            this.setState({\n                widgetWidth: width,\n                widgetHeight: height,\n                isThumbMap: false\n            }, () => {\n                this.checkResponsive();\n            });\n        };\n        this.returnNullNode = (key) => {\n            if (this.props.isMobile) {\n                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { key: key });\n            }\n            else {\n                return null;\n            }\n        };\n        this.checkIsLastElement = (parentGroupJson, toolJson) => {\n            const toolName = toolJson.toolName;\n            const layoutJson = this.props.layoutConfig;\n            const children = layoutJson.layout[parentGroupJson.groupName].children;\n            const index = children.indexOf(toolName);\n            if (index === children.length - 1) {\n                return true;\n            }\n            if (index < children.length - 1) {\n                let isLastElement = true;\n                for (let i = (index + 1); i < children.length; i++) {\n                    const elementName = children[i];\n                    if (layoutJson.elements[children[i]].type === 'GROUP') {\n                        continue;\n                    }\n                    else if ((!_tool_modules__WEBPACK_IMPORTED_MODULE_3__[\"default\"][elementName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${elementName}`]) ||\n                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(elementName)))) {\n                        isLastElement = false;\n                        break;\n                    }\n                    else {\n                        continue;\n                    }\n                }\n                return isLastElement;\n            }\n        };\n        this.handleToggleMobilePanel = () => {\n            this.props.onActiveToolInfoChange(null);\n        };\n        this.handlePanelHeightChange = (panelWidth, panelHeight) => {\n            this.setState({ bottomPanelHeight: panelHeight }, () => {\n                this.checkResponsive();\n            });\n        };\n        this.getMobilePanelInContext = () => {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer, mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.MobilePanel, { mapWidgetId: mapWidgetId, title: this.props.activeToolInfo && this.props.activeToolInfo.activeToolTitle, open: !!this.props.activeToolInfo, toggle: () => { this.handleToggleMobilePanel(); } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 h-100', ref: (container) => { if (mobilePanelContainer && container) {\n                        container.appendChild(mobilePanelContainer);\n                    } } })))));\n        };\n        this.getGroupContent = (layoutJson) => {\n            if (!layoutJson) {\n                return this.returnNullNode();\n            }\n            else {\n                const children = layoutJson.layout[this.props.groupName] && layoutJson.layout[this.props.groupName].children;\n                if (this.checkIsShowGroup(layoutJson, children)) {\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { id: (this.props.isMainGroup ? this.props.mapWidgetId : undefined), css: this.getStyle(), className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui exbmap-ui-group', this.props.className, { 'exbmap-ui-hidden-element': this.props.isHidden }), style: this.props.style },\n                        children.map((key, index) => {\n                            if (!layoutJson.elements[key]) {\n                                return this.returnNullNode(index);\n                            }\n                            if (layoutJson.elements[key].type === 'GROUP') {\n                                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group, { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, isMobile: this.props.isMobile, intl: this.props.intl, jimuMapView: this.props.jimuMapView, groupName: key, activeToolInfo: this.props.activeToolInfo, hiddenElementNames: this.props.hiddenElementNames, onActiveToolInfoChange: this.props.onActiveToolInfoChange, theme: this.props.theme, isThumbMap: this.props.isMainGroup ? this.state.isThumbMap : this.props.isThumbMap }));\n                            }\n                            else if (layoutJson.elements[key].type === 'TOOL') {\n                                if (layoutJson.elements[key].toolName === 'Navigation' && this.props.jimuMapView && this.props.jimuMapView.view &&\n                                    this.props.jimuMapView.view.type === '2d') {\n                                    return this.returnNullNode(index);\n                                }\n                                if (!_tool_modules__WEBPACK_IMPORTED_MODULE_3__[\"default\"][key].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${key}`]) || (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(key))) {\n                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { isHidden: this.checkIsHiddenElement(key), key: index, layoutConfig: layoutJson, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: key, theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: this.checkIsLastElement(layoutJson.elements[this.props.groupName], layoutJson.elements[key]) }));\n                                }\n                                else {\n                                    return this.returnNullNode(index);\n                                }\n                            }\n                            else {\n                                return this.returnNullNode(index);\n                            }\n                        }),\n                        this.props.isMobile && this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }),\n                        this.props.isMainGroup && this.props.isMobile && this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== 'Select' && this.getMobilePanelInContext(),\n                        this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'exbmap-ui w-100', style: {\n                                position: 'relative',\n                                pointerEvents: 'auto',\n                                overflow: 'hidden',\n                                touchAction: 'none',\n                                display: this.props.isMobile && !(this.state.isThumbMap || this.props.isThumbMap) ? 'block' : 'none'\n                            } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: `${this.props.mapWidgetId}-bottom-panel exbmap-ui w-100 expand-mobile-panel`, style: { overflow: 'hidden', pointerEvents: 'auto', position: 'relative', touchAction: 'none' } },\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 h-100' },\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.handlePanelHeightChange }))))));\n                }\n                else {\n                    return this.returnNullNode();\n                }\n            }\n        };\n        this.checkIsShowGroup = (layoutJson, children) => {\n            if (!children || children.length === 0) {\n                return false;\n            }\n            else {\n                const toolNames = [];\n                this.findAllToolNames(layoutJson, children, toolNames);\n                let isShowGroup = false;\n                for (let i = 0; i < toolNames.length; i++) {\n                    if (this.props.toolConfig[`can${toolNames[i]}`] || !_tool_modules__WEBPACK_IMPORTED_MODULE_3__[\"default\"][toolNames[i]].getIsNeedSetting() ||\n                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(toolNames[i]))) {\n                        isShowGroup = true;\n                        break;\n                    }\n                }\n                return isShowGroup;\n            }\n        };\n        this.findAllToolNames = (layoutJson, children, toolNames) => {\n            if (!children || children.length === 0) {\n                return;\n            }\n            for (let i = 0; i < children.length; i++) {\n                if (layoutJson.elements[children[i]].type === 'GROUP') {\n                    const groupName = layoutJson.elements[children[i]].groupName;\n                    this.findAllToolNames(layoutJson, layoutJson.layout[groupName] && layoutJson.layout[groupName].children, toolNames);\n                }\n                else {\n                    toolNames.push(children[i]);\n                }\n            }\n        };\n        this.state = {\n            bottomPanelHeight: 0,\n            isThumbMap: !!this.props.isMobile\n        };\n    }\n    getStyle() {\n        const position = this.props.layoutConfig.layout[this.props.groupName] && this.props.layoutConfig.layout[this.props.groupName].position;\n        const direction = this.props.layoutConfig.elements[this.props.groupName].direction;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      position: ${position ? 'absolute' : 'relative'};\n      top: ${position ? position.top : null}px;\n      bottom: ${position ? position.bottom : null}px;\n      left: ${position ? position.left : null}px;\n      right: ${position ? position.right : null}px;\n      display: flex;\n      flex-flow: ${direction === 'vertical' ? 'column' : 'row'};\n      align-items: flex-start;\n\n      > .exbmap-ui + .exbmap-ui, > .exbmap-ui + span {\n        margin-top: ${direction === 'vertical' ? '10px' : 0};\n        margin-left: ${direction === 'horizontal' ? '10px' : 0};\n      }\n\n      .exbmap-ui-group-expand-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .expand-mobile-panel {\n        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;\n        border-radius: 10px 10px 0px 0px;\n      }\n\n      .expand-mobile-panel-transition {\n        transition: height 0.3s;\n      }\n\n      .expand-mobile-panel-touch-container {\n        top: 0;\n        position: absolute;\n        width: 100%;\n        height: 31px;\n      }\n\n      .expand-mobile-panel-bar {\n        width: 36px;\n        height: 4px;\n        background-color: #434343;\n        border-radius: 2px;\n      }\n      `;\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.activeToolInfo !== prevProps.activeToolInfo) {\n            if (this.props.activeToolInfo && prevProps.activeToolInfo) {\n                return;\n            }\n            if (this.props.activeToolInfo && !prevProps.activeToolInfo && this.props.isMobile && this.props.isMainGroup) {\n                this.setState({\n                    bottomPanelHeight: 150\n                }, () => {\n                    this.checkResponsive();\n                });\n                this.currentBottomPanelHeight = 150;\n            }\n            if (!this.props.activeToolInfo && prevProps.activeToolInfo && this.props.isMobile && this.props.isMainGroup) {\n                this.setState({\n                    bottomPanelHeight: 0\n                }, () => {\n                    this.checkResponsive();\n                });\n                this.currentBottomPanelHeight = 0;\n            }\n        }\n    }\n    render() {\n        if (this.props.isMainGroup && this.props.isMobile && this.props.toolConfig && this.props.toolConfig.canSelect) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { id: `${this.props.mapWidgetId}-with-select-container`, style: { position: 'absolute', top: 0, left: 0, bottom: 40, right: 0 } },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 h-100', style: { position: 'relative' } }, this.getGroupContent(this.props.layoutConfig))),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { position: 'absolute', left: 0, bottom: 0, right: 0, height: 40 } },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 h-100', style: { position: 'relative' } },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { isHidden: false, layoutConfig: this.props.layoutConfig, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: 'SelectState', theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: true })))));\n        }\n        else {\n            return this.getGroupContent(this.props.layoutConfig);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvZ3JvdXAudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQTZCQTtBQTZEQTtBQUNBO0FBN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQTJGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0RBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7OztBQUlBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQTRWQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9ncm91cC50c3g/YzdiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IGNzcywganN4LCBjbGFzc05hbWVzLCBSZWFjdFJlc2l6ZURldGVjdG9yLCBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBVSUNvbXBvbmVudCwgVUlDb21wb25lbnRQcm9wcyB9IGZyb20gJy4vdWktY29tcG9uZW50J1xuaW1wb3J0IHsgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZydcbmltcG9ydCB7IExheW91dEpzb24sIEdyb3VwSnNvbiwgSGlkZGVuRWxlbWVudE5hbWVzLCBUb29sSnNvbiB9IGZyb20gJy4uL2NvbmZpZydcbmltcG9ydCBCYXNlVG9vbFNoZWxsIGZyb20gJy4vYmFzZS10b29sLXNoZWxsJ1xuaW1wb3J0IHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UtdG9vbCdcbmltcG9ydCBUb29sTW9kdWxlcyBmcm9tICcuLi90b29sLW1vZHVsZXMnXG5pbXBvcnQgeyBNb2JpbGVQYW5lbCB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXG5cbmludGVyZmFjZSBHcm91cFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XG4gIG1hcFdpZGdldElkOiBzdHJpbmdcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXG4gIHRvb2xDb25maWc6IFRvb2xDb25maWdcbiAgZ3JvdXBOYW1lOiBzdHJpbmdcbiAgY2xhc3NOYW1lOiBzdHJpbmdcbiAgc3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXNcbiAgaXNSZXNwb25zaXZlPzogYm9vbGVhblxuICBpc01vYmlsZT86IGJvb2xlYW5cbiAgaXNNYWluR3JvdXA/OiBib29sZWFuXG4gIGhpZGRlbkVsZW1lbnROYW1lcz86IEhpZGRlbkVsZW1lbnROYW1lc1xuICBpc0hpZGRlbj86IGJvb2xlYW5cbiAgaXNUaHVtYk1hcD86IGJvb2xlYW5cbiAgaW50bD86IEludGxTaGFwZVxuXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXG4gIG9uU2V0SGlkZGVuRWxlbWVudE5hbWVzPzogKGhpZGRlbkVsZW1lbnROYW1lczogSGlkZGVuRWxlbWVudE5hbWVzKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBHcm91cFN0YXRlcyB7XG4gIGJvdHRvbVBhbmVsSGVpZ2h0PzogbnVtYmVyXG4gIHdpZGdldFdpZHRoPzogbnVtYmVyXG4gIHdpZGdldEhlaWdodD86IG51bWJlclxuICBpc1RodW1iTWFwPzogYm9vbGVhblxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcm91cCBleHRlbmRzIFVJQ29tcG9uZW50PEdyb3VwUHJvcHMsIEdyb3VwU3RhdGVzPiB7XG4gIG1vdmVZID0gMFxuICBzdGFydFkgPSAwXG4gIHNsaWRpbmcgPSBmYWxzZVxuICBzdGFydERyYWcgPSBmYWxzZVxuICBjdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPSAwXG4gIGJvdHRvbVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxuICB0aHVtYk1hcEVsZW1lbnROYW1lcyA9IFsnRnVsbFNjcmVlbicsICdab29tJywgJ01hcFN3aXRjaCddXG5cbiAgZ2V0U3R5bGUgKCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWcubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXSAmJiB0aGlzLnByb3BzLmxheW91dENvbmZpZy5sYXlvdXRbdGhpcy5wcm9wcy5ncm91cE5hbWVdLnBvc2l0aW9uXG4gICAgY29uc3QgZGlyZWN0aW9uID0gKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMuZ3JvdXBOYW1lXSBhcyBHcm91cEpzb24pLmRpcmVjdGlvblxuXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHBvc2l0aW9uOiAke3Bvc2l0aW9uID8gJ2Fic29sdXRlJyA6ICdyZWxhdGl2ZSd9O1xuICAgICAgdG9wOiAke3Bvc2l0aW9uID8gcG9zaXRpb24udG9wIDogbnVsbH1weDtcbiAgICAgIGJvdHRvbTogJHtwb3NpdGlvbiA/IHBvc2l0aW9uLmJvdHRvbSA6IG51bGx9cHg7XG4gICAgICBsZWZ0OiAke3Bvc2l0aW9uID8gcG9zaXRpb24ubGVmdCA6IG51bGx9cHg7XG4gICAgICByaWdodDogJHtwb3NpdGlvbiA/IHBvc2l0aW9uLnJpZ2h0IDogbnVsbH1weDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWZsb3c6ICR7ZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJ2NvbHVtbicgOiAncm93J307XG4gICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcblxuICAgICAgPiAuZXhibWFwLXVpICsgLmV4Ym1hcC11aSwgPiAuZXhibWFwLXVpICsgc3BhbiB7XG4gICAgICAgIG1hcmdpbi10b3A6ICR7ZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJzEwcHgnIDogMH07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAke2RpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJzEwcHgnIDogMH07XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtdWktZ3JvdXAtZXhwYW5kLWljb24ge1xuICAgICAgICBmaWxsOiBibGFjaztcbiAgICAgICAgbGVmdDogOHB4O1xuICAgICAgICB0b3A6IDhweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1tb2JpbGUtcGFuZWwge1xuICAgICAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMykgMHB4IDBweCAycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwcHggMHB4O1xuICAgICAgfVxuXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC10cmFuc2l0aW9uIHtcbiAgICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuM3M7XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsLXRvdWNoLWNvbnRhaW5lciB7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAzMXB4O1xuICAgICAgfVxuXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC1iYXIge1xuICAgICAgICB3aWR0aDogMzZweDtcbiAgICAgICAgaGVpZ2h0OiA0cHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MzQzNDM7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgIH1cbiAgICAgIGBcbiAgfVxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiAwLFxuICAgICAgaXNUaHVtYk1hcDogISF0aGlzLnByb3BzLmlzTW9iaWxlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEdyb3VwUHJvcHMsIHByZXZTdGF0ZTogR3JvdXBTdGF0ZXMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAhPT0gcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8pIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmICFwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLmlzTWFpbkdyb3VwKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiAxNTBcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IDE1MFxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy5pc01haW5Hcm91cCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBib3R0b21QYW5lbEhlaWdodDogMFxuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID0gMFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNoZWNrSXNIaWRkZW5FbGVtZW50ID0gKGVsZW1lbnROYW1lKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZGVuRWxlbWVudE5hbWVzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXMuaW5jbHVkZXMoZWxlbWVudE5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgc3RhcnQgPSAoZXZlbnQsIHR5cGUpID0+IHtcbiAgICB0aGlzLnN0YXJ0RHJhZyA9IHRydWVcblxuICAgIGlmICh0eXBlID09PSAndG91Y2gnKSB7XG4gICAgICB0aGlzLm1vdmVZID0gMFxuXG4gICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cbiAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnbW91c2UnKSB7XG4gICAgICB0aGlzLm1vdmVZID0gMFxuICAgICAgdGhpcy5zdGFydFkgPSBldmVudC5jbGllbnRZXG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZH0tYm90dG9tLXBhbmVsYCkuY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kLW1vYmlsZS1wYW5lbC10cmFuc2l0aW9uJylcbiAgfVxuXG4gIG1vdmUgPSAoZXZlbnQsIHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXG4gICAgICB0aGlzLm1vdmVZID0gKHRvdWNoLmNsaWVudFkgLSB0aGlzLnN0YXJ0WSkgKiAtMVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnbW91c2UnICYmIHRoaXMuc3RhcnREcmFnKSB7XG4gICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG4gICAgICB0aGlzLm1vdmVZID0gKGV2ZW50LmNsaWVudFkgLSB0aGlzLnN0YXJ0WSkgKiAtMVxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnbW91c2UnICYmICF0aGlzLnN0YXJ0RHJhZykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IGV4cGVjdEhlaWdodCA9IDE1MFxuICAgIGlmICh0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0ICsgdGhpcy5tb3ZlWSA+IGV4cGVjdEhlaWdodCkge1xuICAgICAgZXhwZWN0SGVpZ2h0ID0gdGhpcy5zdGF0ZS5ib3R0b21QYW5lbEhlaWdodCArIHRoaXMubW92ZVlcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkfS1ib3R0b20tcGFuZWxgKS5zdHlsZS5oZWlnaHQgPSBgJHtleHBlY3RIZWlnaHR9cHhgXG4gICAgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPSBleHBlY3RIZWlnaHRcblxuICAgIGNvbnN0IGFib3ZlSGVpZ2h0ID0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgLSAoZXhwZWN0SGVpZ2h0KVxuICAgIGlmIChhYm92ZUhlaWdodCA+IDM2MCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcbiAgICB9XG5cbiAgICBpZiAoYWJvdmVIZWlnaHQgPiAyMDAgJiYgYWJvdmVIZWlnaHQgPD0gMzYwKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneS5zdGFnZTEpXG4gICAgfVxuXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gNTQgJiYgYWJvdmVIZWlnaHQgPD0gMjAwKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneS5zdGFnZTIpXG4gICAgfVxuXG4gICAgaWYgKGFib3ZlSGVpZ2h0IDwgNTQpIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5LnN0YWdlMylcbiAgICB9XG4gIH1cblxuICBlbmQgPSAoZXZlbnQsIHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSA9PT0gJ21vdXNlJyAmJiAhdGhpcy5zdGFydERyYWcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLnN0YXJ0RHJhZyA9IGZhbHNlXG5cbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMucHJvcHMuamltdU1hcFZpZXcuaWR9LWJvdHRvbS1wYW5lbGApLmNsYXNzTGlzdC5hZGQoJ2V4cGFuZC1tb2JpbGUtcGFuZWwtdHJhbnNpdGlvbicpXG5cbiAgICBpZiAodHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgaWYgKE1hdGguYWJzKHRoaXMubW92ZVkpIDwgMTApIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZH0tYm90dG9tLXBhbmVsYCkuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zdGF0ZS5ib3R0b21QYW5lbEhlaWdodH1weGBcbiAgICAgICAgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPSB0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1vdmVZID49IDApIHtcbiAgICAgIC8vIHVwIHNsaWRlclxuICAgICAgbGV0IHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0ID0gMFxuXG4gICAgICBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPj0gMTUwICYmIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0IDwgdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjYpIHtcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNlxuICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA+PSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNiAmJiB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA8IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0KSB7XG4gICAgICAgIHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0ID0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgLSAyMFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAxNTBcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiB0YXJnZXRCb3R0b21QYW5lbEhlaWdodFxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvd24gc2xpZGVyXG4gICAgICBsZXQgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAwXG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA+IDE1MCAmJiB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA8IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0ICogMC42KSB7XG4gICAgICAgIHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0ID0gMTUwXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID49IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0ICogMC42ICYmIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0IDwgdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQpIHtcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAxNTBcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiB0YXJnZXRCb3R0b21QYW5lbEhlaWdodFxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0XG4gICAgfVxuICB9XG5cbiAgY2hlY2tSZXNwb25zaXZlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzVGh1bWJNYXApIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoW10pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5ib3R0b21QYW5lbEhlaWdodCA9PT0gMCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGFib3ZlSGVpZ2h0ID0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgLSAodGhpcy5zdGF0ZS5ib3R0b21QYW5lbEhlaWdodClcbiAgICBpZiAoYWJvdmVIZWlnaHQgPiAzNjApIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoW10pXG4gICAgfVxuXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gMjAwICYmIGFib3ZlSGVpZ2h0IDw9IDM2MCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyh0aGlzLnByb3BzLmxheW91dENvbmZpZy5tb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3kuc3RhZ2UxKVxuICAgIH1cblxuICAgIGlmIChhYm92ZUhlaWdodCA+IDU0ICYmIGFib3ZlSGVpZ2h0IDw9IDIwMCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyh0aGlzLnByb3BzLmxheW91dENvbmZpZy5tb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3kuc3RhZ2UyKVxuICAgIH1cblxuICAgIGlmIChhYm92ZUhlaWdodCA8IDU0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneS5zdGFnZTMpXG4gICAgfVxuICB9XG5cbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB3aWRnZXRXaWR0aDogd2lkdGgsXG4gICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodCxcbiAgICAgIGlzVGh1bWJNYXA6IGZhbHNlXG4gICAgfSwgKCkgPT4ge1xuICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm5OdWxsTm9kZSA9IChrZXk/KSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcbiAgICAgIHJldHVybiA8c3BhbiBrZXk9e2tleX0gLz5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBjaGVja0lzTGFzdEVsZW1lbnQgPSAocGFyZW50R3JvdXBKc29uOiBHcm91cEpzb24sIHRvb2xKc29uOiBUb29sSnNvbikgPT4ge1xuICAgIGNvbnN0IHRvb2xOYW1lID0gdG9vbEpzb24udG9vbE5hbWVcbiAgICBjb25zdCBsYXlvdXRKc29uID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWdcbiAgICBjb25zdCBjaGlsZHJlbiA9IGxheW91dEpzb24ubGF5b3V0W3BhcmVudEdyb3VwSnNvbi5ncm91cE5hbWVdLmNoaWxkcmVuXG4gICAgY29uc3QgaW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKHRvb2xOYW1lKVxuICAgIGlmIChpbmRleCA9PT0gY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICBsZXQgaXNMYXN0RWxlbWVudDogYm9vbGVhbiA9IHRydWVcbiAgICAgIGZvciAobGV0IGkgPSAoaW5kZXggKyAxKTsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gY2hpbGRyZW5baV1cbiAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNbY2hpbGRyZW5baV1dLnR5cGUgPT09ICdHUk9VUCcpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKCghVG9vbE1vZHVsZXNbZWxlbWVudE5hbWVdLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtlbGVtZW50TmFtZX1gXSkgfHxcbiAgICAgICAgICAobGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzICYmIGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcy5pbmNsdWRlcyhlbGVtZW50TmFtZSkpKSkge1xuICAgICAgICAgIGlzTGFzdEVsZW1lbnQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlzTGFzdEVsZW1lbnRcbiAgICB9XG4gIH1cblxuICBoYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcbiAgfVxuXG4gIGhhbmRsZVBhbmVsSGVpZ2h0Q2hhbmdlID0gKHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGJvdHRvbVBhbmVsSGVpZ2h0OiBwYW5lbEhlaWdodCB9LCAoKSA9PiB7XG4gICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpXG4gICAgfSlcbiAgfVxuXG4gIGdldE1vYmlsZVBhbmVsSW5Db250ZXh0ID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICB7KHsgbW9iaWxlUGFuZWxDb250YWluZXIsIG1hcFdpZGdldElkIH0pID0+IChcbiAgICAgICAgICA8TW9iaWxlUGFuZWxcbiAgICAgICAgICAgIG1hcFdpZGdldElkPXttYXBXaWRnZXRJZH0gdGl0bGU9e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sVGl0bGV9XG4gICAgICAgICAgICBvcGVuPXshIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvZ2dsZT17KCkgPT4geyB0aGlzLmhhbmRsZVRvZ2dsZU1vYmlsZVBhbmVsKCkgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIHJlZj17KGNvbnRhaW5lcikgPT4geyBpZiAobW9iaWxlUGFuZWxDb250YWluZXIgJiYgY29udGFpbmVyKSB7IGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2JpbGVQYW5lbENvbnRhaW5lcikgfSB9fSAvPlxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XG4gICAgICAgICl9XG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICApXG4gIH1cblxuICBnZXRHcm91cENvbnRlbnQgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbikgPT4ge1xuICAgIGlmICghbGF5b3V0SnNvbikge1xuICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGxheW91dEpzb24ubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXSAmJiBsYXlvdXRKc29uLmxheW91dFt0aGlzLnByb3BzLmdyb3VwTmFtZV0uY2hpbGRyZW5cbiAgICAgIGlmICh0aGlzLmNoZWNrSXNTaG93R3JvdXAobGF5b3V0SnNvbiwgY2hpbGRyZW4pKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgaWQ9eyh0aGlzLnByb3BzLmlzTWFpbkdyb3VwID8gdGhpcy5wcm9wcy5tYXBXaWRnZXRJZCA6IHVuZGVmaW5lZCl9XG4gICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWkgZXhibWFwLXVpLWdyb3VwJywgdGhpcy5wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgIHsgJ2V4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCc6IHRoaXMucHJvcHMuaXNIaWRkZW4gfSl9IHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjaGlsZHJlbi5tYXAoKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0udHlwZSA9PT0gJ0dST1VQJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8R3JvdXBcbiAgICAgICAgICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IGlzSGlkZGVuPXt0aGlzLmNoZWNrSXNIaWRkZW5FbGVtZW50KGtleSl9IGNsYXNzTmFtZT17KGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb24pLmNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9eyhsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uKS5zdHlsZX1cbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH0gbGF5b3V0Q29uZmlnPXtsYXlvdXRKc29ufSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLnRvb2xDb25maWd9IGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBncm91cE5hbWU9e2tleX0gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99XG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbkVsZW1lbnROYW1lcz17dGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XG4gICAgICAgICAgICAgICAgICAgIGlzVGh1bWJNYXA9e3RoaXMucHJvcHMuaXNNYWluR3JvdXAgPyB0aGlzLnN0YXRlLmlzVGh1bWJNYXAgOiB0aGlzLnByb3BzLmlzVGh1bWJNYXB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0udHlwZSA9PT0gJ1RPT0wnKSB7XG4gICAgICAgICAgICAgICAgaWYgKChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pLnRvb2xOYW1lID09PSAnTmF2aWdhdGlvbicgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzJkJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFUb29sTW9kdWxlc1trZXldLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtrZXl9YF0pIHx8IChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluY2x1ZGVzKGtleSkpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8QmFzZVRvb2xTaGVsbFxuICAgICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuPXt0aGlzLmNoZWNrSXNIaWRkZW5FbGVtZW50KGtleSl9IGtleT17aW5kZXh9IGxheW91dENvbmZpZz17bGF5b3V0SnNvbn1cbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfVxuICAgICAgICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSB0b29sTmFtZT17a2V5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IGludGw9e3RoaXMucHJvcHMuaW50bH1cbiAgICAgICAgICAgICAgICAgICAgICBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaXNMYXN0RWxlbWVudD17dGhpcy5jaGVja0lzTGFzdEVsZW1lbnQobGF5b3V0SnNvbi5lbGVtZW50c1t0aGlzLnByb3BzLmdyb3VwTmFtZV0gYXMgR3JvdXBKc29uLCBsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+fVxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgIT09ICdTZWxlY3QnICYmIHRoaXMuZ2V0TW9iaWxlUGFuZWxJbkNvbnRleHQoKX1cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWkgdy0xMDAnXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICB0b3VjaEFjdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgISh0aGlzLnN0YXRlLmlzVGh1bWJNYXAgfHwgdGhpcy5wcm9wcy5pc1RodW1iTWFwKSA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0tYm90dG9tLXBhbmVsIGV4Ym1hcC11aSB3LTEwMCBleHBhbmQtbW9iaWxlLXBhbmVsYH1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBvdmVyZmxvdzogJ2hpZGRlbicsIHBvaW50ZXJFdmVudHM6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHRvdWNoQWN0aW9uOiAnbm9uZScgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XG4gICAgICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMuaGFuZGxlUGFuZWxIZWlnaHRDaGFuZ2V9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZSgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2hlY2tJc1Nob3dHcm91cCA9IChsYXlvdXRKc29uOiBMYXlvdXRKc29uLCBjaGlsZHJlbjogc3RyaW5nW10pID0+IHtcbiAgICBpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRvb2xOYW1lcyA9IFtdXG4gICAgICB0aGlzLmZpbmRBbGxUb29sTmFtZXMobGF5b3V0SnNvbiwgY2hpbGRyZW4sIHRvb2xOYW1lcylcbiAgICAgIGxldCBpc1Nob3dHcm91cCA9IGZhbHNlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2xOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy50b29sQ29uZmlnW2BjYW4ke3Rvb2xOYW1lc1tpXX1gXSB8fCAhVG9vbE1vZHVsZXNbdG9vbE5hbWVzW2ldXS5nZXRJc05lZWRTZXR0aW5nKCkgfHxcbiAgICAgICAgICAobGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzICYmIGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcy5pbmNsdWRlcyh0b29sTmFtZXNbaV0pKSkge1xuICAgICAgICAgIGlzU2hvd0dyb3VwID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpc1Nob3dHcm91cFxuICAgIH1cbiAgfVxuXG4gIGZpbmRBbGxUb29sTmFtZXMgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbiwgY2hpbGRyZW46IHN0cmluZ1tdLCB0b29sTmFtZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZHJlbltpXV0udHlwZSA9PT0gJ0dST1VQJykge1xuICAgICAgICBjb25zdCBncm91cE5hbWUgPSAobGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZHJlbltpXV0gYXMgR3JvdXBKc29uKS5ncm91cE5hbWVcbiAgICAgICAgdGhpcy5maW5kQWxsVG9vbE5hbWVzKGxheW91dEpzb24sIGxheW91dEpzb24ubGF5b3V0W2dyb3VwTmFtZV0gJiYgbGF5b3V0SnNvbi5sYXlvdXRbZ3JvdXBOYW1lXS5jaGlsZHJlbiwgdG9vbE5hbWVzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9vbE5hbWVzLnB1c2goY2hpbGRyZW5baV0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiB0aGlzLnByb3BzLmlzTW9iaWxlICYmIHRoaXMucHJvcHMudG9vbENvbmZpZyAmJiB0aGlzLnByb3BzLnRvb2xDb25maWcuY2FuU2VsZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAgfX0+XG4gICAgICAgICAgPGRpdiBpZD17YCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0td2l0aC1zZWxlY3QtY29udGFpbmVyYH0gc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgbGVmdDogMCwgYm90dG9tOiA0MCwgcmlnaHQ6IDAgfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxuICAgICAgICAgICAgICB7dGhpcy5nZXRHcm91cENvbnRlbnQodGhpcy5wcm9wcy5sYXlvdXRDb25maWcpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMCwgaGVpZ2h0OiA0MCB9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCcgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XG4gICAgICAgICAgICAgIDxCYXNlVG9vbFNoZWxsXG4gICAgICAgICAgICAgICAgaXNIaWRkZW49e2ZhbHNlfSBsYXlvdXRDb25maWc9e3RoaXMucHJvcHMubGF5b3V0Q29uZmlnfVxuICAgICAgICAgICAgICAgIGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLnRvb2xDb25maWd9XG4gICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IHRvb2xOYW1lPSdTZWxlY3RTdGF0ZScgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XG4gICAgICAgICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICAgICAgaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTGFzdEVsZW1lbnRcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0R3JvdXBDb250ZW50KHRoaXMucHJvcHMubGF5b3V0Q29uZmlnKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PanelShell)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n\nclass PanelShell extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    componentWillUnmount() {\n        if (this.props.onDestroyed) {\n            this.props.onDestroyed();\n        }\n    }\n    render() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null, this.props.children));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvcGFuZWwtc2hlbGwudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvcGFuZWwtc2hlbGwudHN4PzZhNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG9uRGVzdHJveWVkPzogKCkgPT4gdm9pZFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5lbFNoZWxsIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgdW5rbm93bj4ge1xuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25EZXN0cm95ZWQpIHtcbiAgICAgIHRoaXMucHJvcHMub25EZXN0cm95ZWQoKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC8+XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx":
/*!*******************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScrollContainer)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/** @jsx jsx */\n\nclass ScrollContainer extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor() {\n        super(...arguments);\n        this.moveY = 0;\n        this.startY = 0;\n        this.isRegisted = false;\n        this.registerTouchEvent = (ref) => {\n            if (ref && !this.isRegisted) {\n                ref.addEventListener('touchstart', (event) => {\n                    this.moveY = 0;\n                    const touch = event.touches[0];\n                    this.startY = touch.clientY;\n                }, { passive: false });\n                ref.addEventListener('touchmove', (event) => {\n                    const touch = event.touches[0];\n                    this.moveY = (touch.clientY - this.startY) * -1;\n                    this.startY = touch.clientY;\n                    ref.scrollTop = ref.scrollTop + this.moveY;\n                }, { passive: false });\n                ref.addEventListener('touchend', (event) => {\n                    this.moveY = 0;\n                    this.startY = 0;\n                }, { passive: false });\n                this.isRegisted = true;\n            }\n        };\n    }\n    getStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      overflow: auto;\n      pointer-events: auto;\n      `;\n    }\n    render() {\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: this.props.className, style: this.props.style, ref: ref => {\n                this.registerTouchEvent(ref);\n            } }, this.props.children));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2Uvc2Nyb2xsLWNvbnRhaW5lci50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBT0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBY0E7QUE1Q0E7QUFDQTs7O0FBR0E7QUFDQTtBQTJCQTtBQUNBO0FBSUE7QUFDQTtBQUtBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL3Njcm9sbC1jb250YWluZXIudHN4PzE2YTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXG5cbmludGVyZmFjZSBTY3JvbGxDb250YWluZXJQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICBzdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXNcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Nyb2xsQ29udGFpbmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTY3JvbGxDb250YWluZXJQcm9wcywgdW5rbm93bj4ge1xuICBtb3ZlWSA9IDBcbiAgc3RhcnRZID0gMFxuICBpc1JlZ2lzdGVkID0gZmFsc2VcblxuICBnZXRTdHlsZSAoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgICBgXG4gIH1cblxuICByZWdpc3RlclRvdWNoRXZlbnQgPSAocmVmOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGlmIChyZWYgJiYgIXRoaXMuaXNSZWdpc3RlZCkge1xuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5tb3ZlWSA9IDBcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXG4gICAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WVxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxuXG4gICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXVxuICAgICAgICB0aGlzLm1vdmVZID0gKHRvdWNoLmNsaWVudFkgLSB0aGlzLnN0YXJ0WSkgKiAtMVxuICAgICAgICB0aGlzLnN0YXJ0WSA9IHRvdWNoLmNsaWVudFlcblxuICAgICAgICByZWYuc2Nyb2xsVG9wID0gcmVmLnNjcm9sbFRvcCArIHRoaXMubW92ZVlcbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSlcblxuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMubW92ZVkgPSAwXG4gICAgICAgIHRoaXMuc3RhcnRZID0gMFxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxuXG4gICAgICB0aGlzLmlzUmVnaXN0ZWQgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XG4gICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICB0aGlzLnJlZ2lzdGVyVG91Y2hFdmVudChyZWYpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UIComponent\": () => (/* binding */ UIComponent)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n\nclass UIComponent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvdWktY29tcG9uZW50LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBUUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvdWktY29tcG9uZW50LnRzeD83ZTgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBJTVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcblxuZXhwb3J0IGludGVyZmFjZSBVSUNvbXBvbmVudFByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBVSUNvbXBvbmVudDxQIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcywgUz4gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFAsIFM+IHtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _base_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/group */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx\");\n/** @jsx jsx */\n\n\nclass Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        // this item is used to solve the flash issue when swith mulitimap\n        this.cloneLayoutRef = null;\n        this.getMaxHeightForPcExpand = (widgetHeight) => {\n            if (!widgetHeight) {\n                return null;\n            }\n            else {\n                if (widgetHeight < 65) {\n                    return null;\n                }\n                else {\n                    const resultHeight = widgetHeight - 65;\n                    if (resultHeight < 300) {\n                        return resultHeight;\n                    }\n                    else {\n                        return 300;\n                    }\n                }\n            }\n        };\n        this.handSetHiddenElementNames = (elementNames) => {\n            this.setState({\n                hiddenElementNames: elementNames\n            });\n        };\n        this.getLayoutContent = (layoutJson) => {\n            if (!layoutJson || !this.props.toolConfig) {\n                return null;\n            }\n            else {\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle() }, Object.keys(layoutJson.layout).map((key, index) => {\n                    if (!layoutJson.elements[key] || layoutJson.elements[key].type !== 'GROUP' || !layoutJson.layout[key].position) {\n                        return null;\n                    }\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_group__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { mapWidgetId: this.props.mapWidgetId, className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, isResponsive: layoutJson.elements[key].isResponsive, isMobile: this.props.isMobile, isMainGroup: true, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, activeToolInfo: this.props.activeToolInfo, jimuMapView: this.props.jimuMapView, groupName: key, onActiveToolInfoChange: this.props.onActiveToolInfoChange, hiddenElementNames: layoutJson.mobileResponsiveStrategy && this.state.hiddenElementNames, intl: this.props.intl, onSetHiddenElementNames: this.handSetHiddenElementNames, theme: this.props.theme }));\n                })));\n            }\n        };\n        this.state = {\n            toolsContentInMobileExpandPanel: null,\n            hiddenElementNames: []\n        };\n        this.contentRef = document.createElement('div');\n        this.contentRef.className = 'exbmap-ui esri-ui-inner-container exbmap-ui-layout';\n    }\n    getStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      z-index: 0;\n\n      .expand-panel-transition {\n        transition: opacity 0.3s, right 0.3s;\n      }\n\n      .scale-attribution-xy-group {\n        > div:first-of-type:nth-last-of-type(1) {\n          width: 100%;\n          max-width: 100% !important;\n        }\n      }\n\n      .exbmap-ui-hidden-element {\n        display: none !important;\n      }\n/* \n      .exbmap-basetool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .exbmap-basetool-loader:after {\n        background-color: #6e6e6e;\n        width: 20%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      } */\n\n      .exbmap-ui-pc-expand-maxheight {\n        max-height: ${this.getMaxHeightForPcExpand(this.props.widgetHeight)}px;\n        overflow: auto\n      }\n      `;\n    }\n    componentDidMount() {\n        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {\n            this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        var _a, _b;\n        if (prevProps.appMode !== this.props.appMode && this.props.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {\n            this.props.onActiveToolInfoChange(null);\n        }\n        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {\n            const cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('tool-layout-clone');\n            if (cloneDoms && cloneDoms.length > 0) {\n                for (let i = 0; i < cloneDoms.length; i++) {\n                    cloneDoms[i].remove();\n                }\n            }\n        }\n        if (((_a = prevProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.id) !== ((_b = this.props.jimuMapView) === null || _b === void 0 ? void 0 : _b.id)) {\n            this.cloneLayoutRef = this.contentRef.cloneNode(true);\n            this.cloneLayoutRef.classList.add('tool-layout-clone');\n            setTimeout(() => {\n                if (this.cloneLayoutRef && this.cloneLayoutRef.parentNode) {\n                    this.cloneLayoutRef.parentNode.removeChild(this.cloneLayoutRef);\n                }\n                this.cloneLayoutRef = null;\n            }, 500);\n            if (prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui && prevProps.jimuMapView.view.ui.container) {\n                prevProps.jimuMapView.view.ui.container.appendChild(this.cloneLayoutRef);\n                prevProps.jimuMapView.view.ui.container.removeChild(this.contentRef);\n            }\n            if (this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {\n                this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);\n            }\n        }\n    }\n    render() {\n        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal(this.getLayoutContent(this.props.layoutConfig), this.contentRef)));\n        }\n        else {\n            return null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2xheW91dC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBaUNBO0FBS0E7QUFDQTtBQUpBO0FBQ0E7QUEyRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUdBO0FBQ0E7QUF0SEE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzREE7OztBQUdBO0FBQ0E7QUFvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9sYXlvdXQudHN4PzUyMGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwgUmVhY3RET00sIGNzcywganN4LCBBcHBNb2RlLCBTaXplTW9kZUxheW91dEpzb24sIEludGxTaGFwZSwgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFRvb2xDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcnXG5pbXBvcnQgeyBMYXlvdXRKc29uLCBHcm91cEpzb24sIEhpZGRlbkVsZW1lbnROYW1lcyB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IEdyb3VwIGZyb20gJy4vYmFzZS9ncm91cCdcbmltcG9ydCB0eXBlIHsgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuL2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcblxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xuICBsYXlvdXRDb25maWc6IExheW91dEpzb25cbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xuXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xuICBpc01vYmlsZTogYm9vbGVhblxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xuXG4gIGFwcE1vZGU6IEFwcE1vZGVcbiAgbGF5b3V0czogeyBbbmFtZTogc3RyaW5nXTogU2l6ZU1vZGVMYXlvdXRKc29uIH1cbiAgTGF5b3V0RW50cnk/OiBhbnlcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmdcblxuICB3aWRnZXRIZWlnaHQ/OiBudW1iZXJcbiAgaW50bD86IEludGxTaGFwZVxuXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBMYXlvdXRTdGF0ZSB7XG5cbiAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbD86IEpTWC5FbGVtZW50XG4gIGhpZGRlbkVsZW1lbnROYW1lczogSGlkZGVuRWxlbWVudE5hbWVzXG59XG5cbmV4cG9ydCB7IEFjdGl2ZVRvb2xJbmZvIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRQcm9wcywgTGF5b3V0U3RhdGU+IHtcbiAgY29udGVudFJlZjogSFRNTEVsZW1lbnRcbiAgLy8gdGhpcyBpdGVtIGlzIHVzZWQgdG8gc29sdmUgdGhlIGZsYXNoIGlzc3VlIHdoZW4gc3dpdGggbXVsaXRpbWFwXG4gIGNsb25lTGF5b3V0UmVmOiBIVE1MRWxlbWVudCB8IE5vZGUgPSBudWxsXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbDogbnVsbCxcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lczogW11cbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRSZWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuY29udGVudFJlZi5jbGFzc05hbWUgPSAnZXhibWFwLXVpIGVzcmktdWktaW5uZXItY29udGFpbmVyIGV4Ym1hcC11aS1sYXlvdXQnXG4gIH1cblxuICBnZXRTdHlsZSAoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHotaW5kZXg6IDA7XG5cbiAgICAgIC5leHBhbmQtcGFuZWwtdHJhbnNpdGlvbiB7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcywgcmlnaHQgMC4zcztcbiAgICAgIH1cblxuICAgICAgLnNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwIHtcbiAgICAgICAgPiBkaXY6Zmlyc3Qtb2YtdHlwZTpudGgtbGFzdC1vZi10eXBlKDEpIHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50IHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgfVxuLyogXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YmVmb3JlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTZlNmU7XG4gICAgICAgIHdpZHRoOiAyMCU7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9ICovXG5cbiAgICAgIC5leGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCB7XG4gICAgICAgIG1heC1oZWlnaHQ6ICR7dGhpcy5nZXRNYXhIZWlnaHRGb3JQY0V4cGFuZCh0aGlzLnByb3BzLndpZGdldEhlaWdodCl9cHg7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvXG4gICAgICB9XG4gICAgICBgXG4gIH1cblxuICBnZXRNYXhIZWlnaHRGb3JQY0V4cGFuZCA9ICh3aWRnZXRIZWlnaHQ6IG51bWJlcik6IG51bWJlciA9PiB7XG4gICAgaWYgKCF3aWRnZXRIZWlnaHQpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3aWRnZXRIZWlnaHQgPCA2NSkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0SGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0IC0gNjVcbiAgICAgICAgaWYgKHJlc3VsdEhlaWdodCA8IDMwMCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHRIZWlnaHRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gMzAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kU2V0SGlkZGVuRWxlbWVudE5hbWVzID0gKGVsZW1lbnROYW1lczogSGlkZGVuRWxlbWVudE5hbWVzKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXM6IGVsZW1lbnROYW1lc1xuICAgIH0pXG4gIH1cblxuICBnZXRMYXlvdXRDb250ZW50ID0gKGxheW91dEpzb246IExheW91dEpzb24pID0+IHtcbiAgICBpZiAoIWxheW91dEpzb24gfHwgIXRoaXMucHJvcHMudG9vbENvbmZpZykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0+XG4gICAgICAgICAge09iamVjdC5rZXlzKGxheW91dEpzb24ubGF5b3V0KS5tYXAoKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICghbGF5b3V0SnNvbi5lbGVtZW50c1trZXldIHx8IGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlICE9PSAnR1JPVVAnIHx8ICFsYXlvdXRKc29uLmxheW91dFtrZXldLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxHcm91cFxuICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSBjbGFzc05hbWU9eyhsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uKS5jbGFzc05hbWV9IHN0eWxlPXsobGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIEdyb3VwSnNvbikuc3R5bGV9XG4gICAgICAgICAgICAgICAgaXNSZXNwb25zaXZlPXsobGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIEdyb3VwSnNvbikuaXNSZXNwb25zaXZlfSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaXNNYWluR3JvdXBcbiAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ30gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99XG4gICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGdyb3VwTmFtZT17a2V5fSBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9XG4gICAgICAgICAgICAgICAgaGlkZGVuRWxlbWVudE5hbWVzPXtsYXlvdXRKc29uLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneSAmJiB0aGlzLnN0YXRlLmhpZGRlbkVsZW1lbnROYW1lc30gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxuICAgICAgICAgICAgICAgIG9uU2V0SGlkZGVuRWxlbWVudE5hbWVzPXt0aGlzLmhhbmRTZXRIaWRkZW5FbGVtZW50TmFtZXN9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikpIHtcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50UmVmKVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBMYXlvdXRQcm9wcykge1xuICAgIGlmIChwcmV2UHJvcHMuYXBwTW9kZSAhPT0gdGhpcy5wcm9wcy5hcHBNb2RlICYmIHRoaXMucHJvcHMuYXBwTW9kZSA9PT0gQXBwTW9kZS5EZXNpZ24pIHtcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxuICAgIH1cblxuICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkpIHtcbiAgICAgIGNvbnN0IGNsb25lRG9tcyA9IHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b29sLWxheW91dC1jbG9uZScpXG4gICAgICBpZiAoY2xvbmVEb21zICYmIGNsb25lRG9tcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvbmVEb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2xvbmVEb21zW2ldLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3Py5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8uaWQpIHtcbiAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSB0aGlzLmNvbnRlbnRSZWYuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgKHRoaXMuY2xvbmVMYXlvdXRSZWYgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ3Rvb2wtbGF5b3V0LWNsb25lJylcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNsb25lTGF5b3V0UmVmICYmIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNsb25lTGF5b3V0UmVmKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSBudWxsXG4gICAgICB9LCA1MDApXG5cbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIpIHtcbiAgICAgICAgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2xvbmVMYXlvdXRSZWYpXG4gICAgICAgIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmNvbnRlbnRSZWYpXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRSZWYpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge1JlYWN0RE9NLmNyZWF0ZVBvcnRhbCh0aGlzLmdldExheW91dENvbnRlbnQodGhpcy5wcm9wcy5sYXlvdXRDb25maWcpLCB0aGlzLmNvbnRlbnRSZWYpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\n/** @jsx jsx */\n\n\n\nclass Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        // this item is used to solve the flash issue when swith mulitimap\n        this.cloneLayoutRef = null;\n        this.insertFixedDom = (container, insertedDom) => {\n            if (!container || !insertedDom) {\n                return;\n            }\n            const toolLayoutDoms = container.getElementsByClassName('exbmap-ui-layout');\n            if (toolLayoutDoms && toolLayoutDoms[0]) {\n                container.insertBefore(insertedDom, toolLayoutDoms[0]);\n            }\n            else {\n                container.appendChild(insertedDom);\n            }\n        };\n        this.isItemAccepted = (item, isReplacePlaceholder) => {\n            var _a, _b;\n            const itemType = item === null || item === void 0 ? void 0 : item.itemType;\n            const type = (_a = item === null || item === void 0 ? void 0 : item.manifest) === null || _a === void 0 ? void 0 : _a.widgetType;\n            return itemType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.LayoutItemType.Section && type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.WidgetType.Layout && ((_b = item === null || item === void 0 ? void 0 : item.manifest) === null || _b === void 0 ? void 0 : _b.name) !== this.props.widgetManifestName;\n        };\n        this.getMapFixedLayout = () => {\n            if (window.jimuConfig.isInBuilder) {\n                const LayoutEntry = this.props.LayoutEntry;\n                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayoutEntry, { layouts: layout || null, isInWidget: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'widget-map-usemask': !(0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode), 'map-is-live-mode': (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode) }), isItemAccepted: this.isItemAccepted }));\n            }\n            else {\n                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;\n                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.LayoutEntry, { layouts: layout ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(layout) : null, className: 'w-100 h-100 map-is-live-mode' });\n            }\n        };\n        this.state = {};\n        this.fixedLayoutRef = document.createElement('div');\n        this.fixedLayoutRef.className = 'w-100 h-100';\n        this.fixedLayoutRef.style.position = 'absolute';\n        this.fixedLayoutRef.style.zIndex = '0';\n    }\n    componentDidMount() {\n        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {\n            this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);\n        }\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (!prevProps.jimuMapView || !this.props.jimuMapView) {\n            return;\n        }\n        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {\n            const cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('layout-clone');\n            if (cloneDoms && cloneDoms.length > 0) {\n                for (let i = 0; i < cloneDoms.length; i++) {\n                    cloneDoms[i].remove();\n                }\n            }\n        }\n        if (prevProps.jimuMapView.id !== this.props.jimuMapView.id) {\n            if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {\n                this.cloneLayoutRef = this.fixedLayoutRef.cloneNode(true);\n                this.cloneLayoutRef.classList.add('layout-clone');\n                this.insertFixedDom(prevProps.jimuMapView.view.ui.container, this.cloneLayoutRef);\n                setTimeout(() => {\n                    if (this.cloneLayoutRef && this.cloneLayoutRef.parentNode) {\n                        this.cloneLayoutRef.parentNode.removeChild(this.cloneLayoutRef);\n                    }\n                    this.cloneLayoutRef = null;\n                }, 500);\n                if (prevProps.jimuMapView.view.ui.container.contains(this.fixedLayoutRef)) {\n                    prevProps.jimuMapView.view.ui.container.removeChild(this.fixedLayoutRef);\n                }\n            }\n            this.props.jimuMapView && this.props.jimuMapView.view && this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);\n        }\n    }\n    render() {\n        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal(this.getMapFixedLayout(), this.fixedLayoutRef)));\n        }\n        else {\n            return this.getMapFixedLayout();\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L21hcC1maXhlZC1sYXlvdXQudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQWNBO0FBS0E7QUFDQTtBQUpBO0FBQ0E7QUFzREE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcEZBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1Q0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvbWFwLWZpeGVkLWxheW91dC50c3g/ZmY0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBSZWFjdERPTSwganN4LCBBcHBNb2RlLCBTaXplTW9kZUxheW91dEpzb24sIEltbXV0YWJsZSwgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsIExheW91dEl0ZW1UeXBlLCBXaWRnZXRUeXBlLCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcbmltcG9ydCB7IExheW91dEVudHJ5IH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xuaW1wb3J0IHsgY2hlY2tJc0xpdmUgfSBmcm9tICcuLi91dGlscydcblxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcbiAgamltdU1hcFZpZXc/OiBKaW11TWFwVmlld1xuXG4gIGFwcE1vZGU6IEFwcE1vZGVcbiAgbGF5b3V0czogeyBbbmFtZTogc3RyaW5nXTogU2l6ZU1vZGVMYXlvdXRKc29uIH1cbiAgTGF5b3V0RW50cnk/OiBhbnlcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmdcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5pbnRlcmZhY2UgTGF5b3V0U3RhdGUge31cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRQcm9wcywgTGF5b3V0U3RhdGU+IHtcbiAgZml4ZWRMYXlvdXRSZWY6IEhUTUxFbGVtZW50XG4gIC8vIHRoaXMgaXRlbSBpcyB1c2VkIHRvIHNvbHZlIHRoZSBmbGFzaCBpc3N1ZSB3aGVuIHN3aXRoIG11bGl0aW1hcFxuICBjbG9uZUxheW91dFJlZjogSFRNTEVsZW1lbnQgfCBOb2RlID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHt9XG5cbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCdcbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgIHRoaXMuZml4ZWRMYXlvdXRSZWYuc3R5bGUuekluZGV4ID0gJzAnXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikpIHtcbiAgICAgIHRoaXMuaW5zZXJ0Rml4ZWREb20odGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lciwgdGhpcy5maXhlZExheW91dFJlZilcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogTGF5b3V0UHJvcHMsIHByZXZTdGF0ZTogTGF5b3V0U3RhdGUpIHtcbiAgICBpZiAoIXByZXZQcm9wcy5qaW11TWFwVmlldyB8fCAhdGhpcy5wcm9wcy5qaW11TWFwVmlldykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aSkge1xuICAgICAgY29uc3QgY2xvbmVEb21zID0gcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xheW91dC1jbG9uZScpXG4gICAgICBpZiAoY2xvbmVEb21zICYmIGNsb25lRG9tcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvbmVEb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2xvbmVEb21zW2ldLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSB7XG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpKSB7XG4gICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSB0aGlzLmZpeGVkTGF5b3V0UmVmLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgKHRoaXMuY2xvbmVMYXlvdXRSZWYgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ2xheW91dC1jbG9uZScpXG4gICAgICAgIHRoaXMuaW5zZXJ0Rml4ZWREb20ocHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLCB0aGlzLmNsb25lTGF5b3V0UmVmKVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNsb25lTGF5b3V0UmVmICYmIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5jbG9uZUxheW91dFJlZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2xvbmVMYXlvdXRSZWYpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSBudWxsXG4gICAgICAgIH0sIDUwMClcblxuICAgICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmNvbnRhaW5zKHRoaXMuZml4ZWRMYXlvdXRSZWYpKSB7XG4gICAgICAgICAgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZml4ZWRMYXlvdXRSZWYpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMuaW5zZXJ0Rml4ZWREb20odGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lciwgdGhpcy5maXhlZExheW91dFJlZilcbiAgICB9XG4gIH1cblxuICBpbnNlcnRGaXhlZERvbSA9IChjb250YWluZXI6IEhUTUxFbGVtZW50LCBpbnNlcnRlZERvbSkgPT4ge1xuICAgIGlmICghY29udGFpbmVyIHx8ICFpbnNlcnRlZERvbSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdG9vbExheW91dERvbXMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXhibWFwLXVpLWxheW91dCcpXG4gICAgaWYgKHRvb2xMYXlvdXREb21zICYmIHRvb2xMYXlvdXREb21zWzBdKSB7XG4gICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGluc2VydGVkRG9tLCB0b29sTGF5b3V0RG9tc1swXSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGluc2VydGVkRG9tKVxuICAgIH1cbiAgfVxuXG4gIGlzSXRlbUFjY2VwdGVkID0gKGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBpc1JlcGxhY2VQbGFjZWhvbGRlcjogYm9vbGVhbik6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGl0ZW1UeXBlID0gaXRlbT8uaXRlbVR5cGVcbiAgICBjb25zdCB0eXBlID0gaXRlbT8ubWFuaWZlc3Q/LndpZGdldFR5cGVcblxuICAgIHJldHVybiBpdGVtVHlwZSAhPT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbiAmJiB0eXBlICE9PSBXaWRnZXRUeXBlLkxheW91dCAmJiBpdGVtPy5tYW5pZmVzdD8ubmFtZSAhPT0gdGhpcy5wcm9wcy53aWRnZXRNYW5pZmVzdE5hbWVcbiAgfVxuXG4gIGdldE1hcEZpeGVkTGF5b3V0ID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xuICAgICAgY29uc3QgTGF5b3V0RW50cnkgPSB0aGlzLnByb3BzLkxheW91dEVudHJ5XG4gICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnByb3BzLmxheW91dHMgJiYgdGhpcy5wcm9wcy5sYXlvdXRzLk1hcEZpeGVkTGF5b3V0XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TGF5b3V0RW50cnlcbiAgICAgICAgICBsYXlvdXRzPXtsYXlvdXQgfHwgbnVsbH0gaXNJbldpZGdldCBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJyxcbiAgICAgICAgICAgIHsgJ3dpZGdldC1tYXAtdXNlbWFzayc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpLCAnbWFwLWlzLWxpdmUtbW9kZSc6IGNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9XG4gICAgICAgICAgaXNJdGVtQWNjZXB0ZWQ9e3RoaXMuaXNJdGVtQWNjZXB0ZWR9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMucHJvcHMubGF5b3V0cyAmJiB0aGlzLnByb3BzLmxheW91dHMuTWFwRml4ZWRMYXlvdXRcbiAgICAgIHJldHVybiA8TGF5b3V0RW50cnkgbGF5b3V0cz17bGF5b3V0ID8gSW1tdXRhYmxlKGxheW91dCkgOiBudWxsfSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIG1hcC1pcy1saXZlLW1vZGUnIC8+XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge1JlYWN0RE9NLmNyZWF0ZVBvcnRhbCh0aGlzLmdldE1hcEZpeGVkTGF5b3V0KCksIHRoaXMuZml4ZWRMYXlvdXRSZWYpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFwRml4ZWRMYXlvdXQoKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* tslint:disable */\nconst mobileLayoutJson = {\n    elements: {\n        mainGroup: {\n            type: 'GROUP',\n            groupName: 'mainGroup',\n            direction: 'vertical',\n            style: {\n                position: 'absolute'\n            },\n            className: 'd-flex flex-column'\n        },\n        topGroup: {\n            type: 'GROUP',\n            groupName: 'topGroup',\n            direction: 'horizontal',\n            className: 'd-flex w-100 align-items-center justify-content-between',\n            style: {\n                padding: '10px'\n            }\n        },\n        midGroup: {\n            type: 'GROUP',\n            groupName: 'midGroup',\n            direction: 'horizontal',\n            className: 'flex-grow-1 d-flex w-100 justify-content-between',\n            style: {\n                position: 'relative'\n            }\n        },\n        'midGroup-left': {\n            type: 'GROUP',\n            groupName: 'midGroup-left',\n            direction: 'vertical',\n            className: 'h-100 d-flex flex-column-reverse',\n            style: {\n                paddingLeft: '10px',\n                paddingRight: '10px',\n                paddingBottom: '10px',\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                bottom: 0\n            }\n        },\n        'midGroup-left-content': {\n            type: 'GROUP',\n            groupName: 'midGroup-left-content',\n            direction: 'vertical'\n        },\n        'midGroup-right': {\n            type: 'GROUP',\n            groupName: 'midGroup-right',\n            direction: 'vertical',\n            className: 'h-100 d-flex flex-column justify-content-between',\n            style: {\n                paddingRight: '10px',\n                paddingLeft: '10px',\n                paddingBottom: '10px',\n                position: 'absolute',\n                top: 0,\n                right: 0,\n                bottom: 0\n            }\n        },\n        'midGroup-right-content-top': {\n            type: 'GROUP',\n            groupName: 'midGroup-right-content-top',\n            direction: 'vertical'\n        },\n        'midGroup-right-content-bottom': {\n            type: 'GROUP',\n            groupName: 'midGroup-right-content-bottom',\n            direction: 'vertical'\n        },\n        bottomGroup: {\n            type: 'GROUP',\n            groupName: 'bottomGroup',\n            direction: 'vertical'\n        },\n        Search: {\n            type: 'TOOL',\n            toolName: 'Search',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'flex-grow-1'\n        },\n        FullScreen: {\n            type: 'TOOL',\n            toolName: 'FullScreen',\n            isOnlyExpanded: false,\n            isShowIconTitle: true\n        },\n        Locate: {\n            type: 'TOOL',\n            toolName: 'Locate',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        ClearActionData: {\n            type: 'TOOL',\n            toolName: 'ClearActionData',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Compass: {\n            type: 'TOOL',\n            toolName: 'Compass',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'mb-0'\n        },\n        MapSwitch: {\n            type: 'TOOL',\n            toolName: 'MapSwitch',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        Zoom: {\n            type: 'TOOL',\n            toolName: 'Zoom',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Home: {\n            type: 'TOOL',\n            toolName: 'Home',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Layers: {\n            type: 'TOOL',\n            toolName: 'Layers',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        BaseMap: {\n            type: 'TOOL',\n            toolName: 'BaseMap',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        Select: {\n            type: 'TOOL',\n            toolName: 'Select',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        SelectState: {\n            type: 'TOOL',\n            toolName: 'SelectState',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Measure: {\n            type: 'TOOL',\n            toolName: 'Measure',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        }\n    },\n    layout: {\n        mainGroup: {\n            children: ['topGroup', 'midGroup', 'bottomGroup'],\n            position: {\n                top: 0,\n                left: 0,\n                bottom: 0,\n                right: 0\n            }\n        },\n        topGroup: {\n            children: ['Search', 'FullScreen']\n        },\n        midGroup: {\n            children: ['midGroup-left', 'midGroup-right']\n        },\n        'midGroup-left': {\n            children: ['midGroup-left-content']\n        },\n        'midGroup-left-content': {\n            children: ['Compass', 'MapSwitch']\n        },\n        'midGroup-right': {\n            children: ['midGroup-right-content-top', 'midGroup-right-content-bottom']\n        },\n        'midGroup-right-content-top': {\n            children: ['Layers', 'BaseMap', 'Measure', 'Select']\n        },\n        'midGroup-right-content-bottom': {\n            children: ['Zoom', 'Home', 'Locate', 'ClearActionData']\n        }\n    },\n    mobileResponsiveStrategy: {\n        stage1: ['midGroup-left-content', 'midGroup-right-content-bottom'],\n        stage2: ['midGroup-left-content', 'midGroup-right-content-bottom', 'midGroup-right-content-top'],\n        stage3: ['topGroup', 'midGroup-left-content', 'midGroup-right-content-bottom', 'midGroup-right-content-top']\n    },\n    lockToolNames: []\n};\n/* tslint:enable */\nconst mobileLayoutJsons = [mobileLayoutJson];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mobileLayoutJsons);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L21vYmlsZS1sYXlvdXQtanNvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L21vYmlsZS1sYXlvdXQtanNvbi50cz83N2NjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExheW91dEpzb24gfSBmcm9tICcuL2NvbmZpZydcblxuLyogdHNsaW50OmRpc2FibGUgKi9cbmNvbnN0IG1vYmlsZUxheW91dEpzb24gPSB7XG4gIGVsZW1lbnRzOiB7XG4gICAgbWFpbkdyb3VwOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWFpbkdyb3VwJyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGZsZXgtY29sdW1uJ1xuICAgIH0sXG4gICAgdG9wR3JvdXA6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICd0b3BHcm91cCcsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCB3LTEwMCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4nLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgcGFkZGluZzogJzEwcHgnXG4gICAgICB9XG4gICAgfSxcbiAgICBtaWRHcm91cDoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwJyxcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgY2xhc3NOYW1lOiAnZmxleC1ncm93LTEgZC1mbGV4IHctMTAwIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICB9XG4gICAgfSxcbiAgICAnbWlkR3JvdXAtbGVmdCc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1sZWZ0JyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2gtMTAwIGQtZmxleCBmbGV4LWNvbHVtbi1yZXZlcnNlJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmdMZWZ0OiAnMTBweCcsXG4gICAgICAgIHBhZGRpbmdSaWdodDogJzEwcHgnLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiAnMTBweCcsXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGJvdHRvbTogMFxuICAgICAgfVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLWxlZnQtY29udGVudCc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1sZWZ0LWNvbnRlbnQnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXG4gICAgfSxcbiAgICAnbWlkR3JvdXAtcmlnaHQnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtcmlnaHQnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgICAgY2xhc3NOYW1lOiAnaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmdSaWdodDogJzEwcHgnLFxuICAgICAgICBwYWRkaW5nTGVmdDogJzEwcHgnLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiAnMTBweCcsXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDBcbiAgICAgIH1cbiAgICB9LFxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCcsXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCdcbiAgICB9LFxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbScsXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCdcbiAgICB9LFxuICAgIGJvdHRvbUdyb3VwOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tR3JvdXAnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXG4gICAgfSxcbiAgICBTZWFyY2g6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VhcmNoJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogJ2ZsZXgtZ3Jvdy0xJ1xuICAgIH0sXG4gICAgRnVsbFNjcmVlbjoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgTG9jYXRlOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIENsZWFyQWN0aW9uRGF0YToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdDbGVhckFjdGlvbkRhdGEnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXG4gICAgfSxcbiAgICBDb21wYXNzOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0NvbXBhc3MnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiAnbWItMCdcbiAgICB9LFxuICAgIE1hcFN3aXRjaDoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdNYXBTd2l0Y2gnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcbiAgICB9LFxuICAgIFpvb206IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIEhvbWU6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnSG9tZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIExheWVyczoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xuICAgIH0sXG4gICAgQmFzZU1hcDoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdCYXNlTWFwJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcbiAgICB9LFxuICAgIFNlbGVjdDoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXG4gICAgfSxcbiAgICBTZWxlY3RTdGF0ZToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIE1lYXN1cmU6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnTWVhc3VyZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnXG4gICAgfVxuICB9LFxuICBsYXlvdXQ6IHtcbiAgICBtYWluR3JvdXA6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ3RvcEdyb3VwJywgJ21pZEdyb3VwJywgJ2JvdHRvbUdyb3VwJ10sXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgcmlnaHQ6IDBcbiAgICAgIH1cbiAgICB9LFxuICAgIHRvcEdyb3VwOiB7XG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnRnVsbFNjcmVlbiddXG4gICAgfSxcbiAgICBtaWRHcm91cDoge1xuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtbGVmdCcsICdtaWRHcm91cC1yaWdodCddXG4gICAgfSxcbiAgICAnbWlkR3JvdXAtbGVmdCc6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ21pZEdyb3VwLWxlZnQtY29udGVudCddXG4gICAgfSxcbiAgICAnbWlkR3JvdXAtbGVmdC1jb250ZW50Jzoge1xuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcycsICdNYXBTd2l0Y2gnXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0Jzoge1xuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJzoge1xuICAgICAgY2hpbGRyZW46IFsnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZScsICdTZWxlY3QnXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJzoge1xuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ0xvY2F0ZScsICdDbGVhckFjdGlvbkRhdGEnXVxuICAgIH1cbiAgfSxcbiAgbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5OiB7XG4gICAgc3RhZ2UxOiBbJ21pZEdyb3VwLWxlZnQtY29udGVudCcsICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSddLFxuICAgIHN0YWdlMjogWydtaWRHcm91cC1sZWZ0LWNvbnRlbnQnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnXSxcbiAgICBzdGFnZTM6IFsndG9wR3JvdXAnLCAnbWlkR3JvdXAtbGVmdC1jb250ZW50JywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJ11cbiAgfSxcbiAgbG9ja1Rvb2xOYW1lczogW11cbn0gYXMgTGF5b3V0SnNvblxuLyogdHNsaW50OmVuYWJsZSAqL1xuXG5jb25zdCBtb2JpbGVMYXlvdXRKc29uczogTGF5b3V0SnNvbltdID0gW21vYmlsZUxheW91dEpzb25dXG5cbmV4cG9ydCBkZWZhdWx0IG1vYmlsZUxheW91dEpzb25zXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* tslint:disable */\nconst layoutJson1 = {\n    elements: {\n        leftTopContainer: {\n            type: 'GROUP',\n            groupName: 'leftTopContainer',\n            direction: 'horizontal'\n        },\n        navigator: {\n            type: 'GROUP',\n            groupName: 'navigator',\n            direction: 'vertical'\n        },\n        interact: {\n            type: 'GROUP',\n            groupName: 'interact',\n            direction: 'vertical',\n            isResponsive: true\n        },\n        bottom: {\n            type: 'GROUP',\n            groupName: 'bottom',\n            direction: 'vertical',\n            className: 'w-100'\n        },\n        'bottom-line1': {\n            type: 'GROUP',\n            groupName: 'bottom-line1',\n            direction: 'horizontal',\n            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',\n            style: {\n                marginBottom: 0,\n                marginTop: 0\n            }\n        },\n        'bottom-line2': {\n            type: 'GROUP',\n            groupName: 'bottom-line2',\n            direction: 'horizontal',\n            className: 'd-flex align-items-end justify-content-between w-100',\n            style: {\n                paddingLeft: '15px',\n                paddingRight: '15px',\n                marginBottom: '10px'\n            }\n        },\n        'SelectState-FullScreen-Container': {\n            type: 'GROUP',\n            groupName: 'SelectState-FullScreen-Container',\n            direction: 'vertical',\n            className: 'align-items-end'\n        },\n        attributionGroup: {\n            type: 'GROUP',\n            groupName: 'attributionGroup',\n            direction: 'horizontal',\n            style: {\n                maxWidth: '60%'\n            }\n        },\n        Zoom: {\n            type: 'TOOL',\n            toolName: 'Zoom',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Home: {\n            type: 'TOOL',\n            toolName: 'Home',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Compass: {\n            type: 'TOOL',\n            toolName: 'Compass',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Navigation: {\n            type: 'TOOL',\n            toolName: 'Navigation',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Locate: {\n            type: 'TOOL',\n            toolName: 'Locate',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Layers: {\n            type: 'TOOL',\n            toolName: 'Layers',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        BaseMap: {\n            type: 'TOOL',\n            toolName: 'BaseMap',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        Select: {\n            type: 'TOOL',\n            toolName: 'Select',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        SelectState: {\n            type: 'TOOL',\n            toolName: 'SelectState',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            style: {\n                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'\n            }\n        },\n        Measure: {\n            type: 'TOOL',\n            toolName: 'Measure',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        MapSwitch: {\n            type: 'TOOL',\n            toolName: 'MapSwitch',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        FullScreen: {\n            type: 'TOOL',\n            toolName: 'FullScreen',\n            isOnlyExpanded: false,\n            isShowIconTitle: true\n        },\n        ClearActionData: {\n            type: 'TOOL',\n            toolName: 'ClearActionData',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        ScaleBar: {\n            type: 'TOOL',\n            toolName: 'ScaleBar',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Attribution: {\n            type: 'TOOL',\n            toolName: 'Attribution',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'w-100'\n        },\n        Search: {\n            type: 'TOOL',\n            toolName: 'Search',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        }\n    },\n    layout: {\n        leftTopContainer: {\n            children: ['navigator', 'Select'],\n            position: {\n                top: 15,\n                left: 15\n            }\n        },\n        navigator: {\n            children: ['Zoom', 'Home', 'Navigation', 'Locate', 'Compass']\n        },\n        interact: {\n            children: ['Search', 'Layers', 'BaseMap', 'Measure'],\n            position: {\n                top: 15,\n                right: 15\n            }\n        },\n        'bottom-line1': {\n            children: ['ScaleBar', 'attributionGroup']\n        },\n        'bottom-line2': {\n            children: ['MapSwitch', 'SelectState-FullScreen-Container']\n        },\n        'SelectState-FullScreen-Container': {\n            children: ['FullScreen', 'ClearActionData', 'SelectState']\n        },\n        bottom: {\n            children: ['bottom-line2', 'bottom-line1'],\n            position: {\n                bottom: 0,\n                left: 0\n            }\n        },\n        attributionGroup: {\n            children: ['Attribution']\n        }\n    }\n};\nconst layoutJson2 = {\n    elements: {\n        navigator: {\n            type: 'GROUP',\n            groupName: 'navigator',\n            direction: 'vertical',\n            className: 'align-items-end'\n        },\n        interact: {\n            type: 'GROUP',\n            groupName: 'interact',\n            direction: 'horizontal',\n            isResponsive: true\n        },\n        fullScreenGroup: {\n            type: 'GROUP',\n            groupName: 'fullScreenGroup',\n            direction: 'horizontal'\n        },\n        bottom: {\n            type: 'GROUP',\n            groupName: 'bottom',\n            direction: 'vertical',\n            className: 'w-100'\n        },\n        'bottom-line1': {\n            type: 'GROUP',\n            groupName: 'bottom-line1',\n            direction: 'horizontal',\n            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',\n            style: {\n                marginBottom: 0,\n                marginTop: 0\n            }\n        },\n        'bottom-line2': {\n            type: 'GROUP',\n            groupName: 'bottom-line2',\n            direction: 'horizontal',\n            className: 'd-flex align-items-end justify-content-between w-100',\n            style: {\n                paddingLeft: '15px',\n                paddingRight: '15px',\n                marginBottom: '10px'\n            }\n        },\n        attributionGroup: {\n            type: 'GROUP',\n            groupName: 'attributionGroup',\n            direction: 'horizontal',\n            style: {\n                maxWidth: '60%'\n            },\n            className: 'attibute-group'\n        },\n        Zoom: {\n            type: 'TOOL',\n            toolName: 'Zoom',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Home: {\n            type: 'TOOL',\n            toolName: 'Home',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Compass: {\n            type: 'TOOL',\n            toolName: 'Compass',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Navigation: {\n            type: 'TOOL',\n            toolName: 'Navigation',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Locate: {\n            type: 'TOOL',\n            toolName: 'Locate',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Layers: {\n            type: 'TOOL',\n            toolName: 'Layers',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n        BaseMap: {\n            type: 'TOOL',\n            toolName: 'BaseMap',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n        Select: {\n            type: 'TOOL',\n            toolName: 'Select',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        SelectState: {\n            type: 'TOOL',\n            toolName: 'SelectState',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            style: {\n                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'\n            }\n        },\n        Measure: {\n            type: 'TOOL',\n            toolName: 'Measure',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n        MapSwitch: {\n            type: 'TOOL',\n            toolName: 'MapSwitch',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        FullScreen: {\n            type: 'TOOL',\n            toolName: 'FullScreen',\n            isOnlyExpanded: false,\n            isShowIconTitle: true\n        },\n        ClearActionData: {\n            type: 'TOOL',\n            toolName: 'ClearActionData',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        ScaleBar: {\n            type: 'TOOL',\n            toolName: 'ScaleBar',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        Attribution: {\n            type: 'TOOL',\n            toolName: 'Attribution',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'w-100'\n        },\n        Search: {\n            type: 'TOOL',\n            toolName: 'Search',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        }\n    },\n    layout: {\n        navigator: {\n            children: ['Compass', 'Locate', 'Navigation', 'Zoom', 'Home', 'SelectState']\n        },\n        interact: {\n            children: ['Search', 'Layers', 'BaseMap', 'Measure', 'Select'],\n            position: {\n                top: 15,\n                left: 15\n            }\n        },\n        fullScreenGroup: {\n            children: ['FullScreen', 'ClearActionData'],\n            position: {\n                top: 15,\n                right: 15\n            }\n        },\n        'bottom-line1': {\n            children: ['ScaleBar', 'attributionGroup']\n        },\n        'bottom-line2': {\n            children: ['MapSwitch', 'navigator']\n        },\n        bottom: {\n            children: ['bottom-line2', 'bottom-line1'],\n            position: {\n                bottom: 0,\n                left: 0\n            }\n        },\n        attributionGroup: {\n            children: ['Attribution']\n        }\n    }\n};\n/* tslint:enable */\nconst layoutJsons = [layoutJson1, layoutJson2];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layoutJsons);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3BjLWxheW91dC1qc29uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3BjLWxheW91dC1qc29uLnRzP2I3NzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5b3V0SnNvbiB9IGZyb20gJy4vY29uZmlnJ1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuY29uc3QgbGF5b3V0SnNvbjEgPSB7XG4gIGVsZW1lbnRzOiB7XG4gICAgbGVmdFRvcENvbnRhaW5lcjoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2xlZnRUb3BDb250YWluZXInLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCdcbiAgICB9LFxuICAgIG5hdmlnYXRvcjoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ25hdmlnYXRvcicsXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCdcbiAgICB9LFxuICAgIGludGVyYWN0OiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnaW50ZXJhY3QnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlXG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdib3R0b20nLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUxJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMScsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAgc2NhbGUtYXR0cmlidXRpb24teHktZ3JvdXAnLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiAwLFxuICAgICAgICBtYXJnaW5Ub3A6IDBcbiAgICAgIH1cbiAgICB9LFxuICAgICdib3R0b20tbGluZTInOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUyJyxcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGFsaWduLWl0ZW1zLWVuZCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCcsXG4gICAgICBzdHlsZToge1xuICAgICAgICBwYWRkaW5nTGVmdDogJzE1cHgnLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6ICcxNXB4JyxcbiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCdcbiAgICAgIH1cbiAgICB9LFxuICAgICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcic6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcicsXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgICBjbGFzc05hbWU6ICdhbGlnbi1pdGVtcy1lbmQnXG4gICAgfSxcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYXR0cmlidXRpb25Hcm91cCcsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1heFdpZHRoOiAnNjAlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgWm9vbToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgSG9tZToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgQ29tcGFzczoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgTmF2aWdhdGlvbjoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdOYXZpZ2F0aW9uJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgTG9jYXRlOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIExheWVyczoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xuICAgIH0sXG4gICAgQmFzZU1hcDoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdCYXNlTWFwJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcbiAgICB9LFxuICAgIFNlbGVjdDoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcbiAgICB9LFxuICAgIFNlbGVjdFN0YXRlOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGJveFNoYWRvdzogJzAgMXB4IDJweCAwIHJnYmEoMCwwLDAsMCknXG4gICAgICB9XG4gICAgfSxcbiAgICBNZWFzdXJlOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ01lYXN1cmUnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xuICAgIH0sXG4gICAgTWFwU3dpdGNoOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgRnVsbFNjcmVlbjoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgQ2xlYXJBY3Rpb25EYXRhOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIFNjYWxlQmFyOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgQXR0cmlidXRpb246IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXG4gICAgfSxcbiAgICBTZWFyY2g6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VhcmNoJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcbiAgICB9XG4gIH0sXG4gIGxheW91dDoge1xuICAgIGxlZnRUb3BDb250YWluZXI6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ25hdmlnYXRvcicsICdTZWxlY3QnXSxcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHRvcDogMTUsXG4gICAgICAgIGxlZnQ6IDE1XG4gICAgICB9XG4gICAgfSxcbiAgICBuYXZpZ2F0b3I6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ1pvb20nLCAnSG9tZScsICdOYXZpZ2F0aW9uJywgJ0xvY2F0ZScsICdDb21wYXNzJ11cbiAgICB9LFxuICAgIGludGVyYWN0OiB7XG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZSddLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgdG9wOiAxNSxcbiAgICAgICAgcmlnaHQ6IDE1XG4gICAgICB9XG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUxJzoge1xuICAgICAgY2hpbGRyZW46IFsnU2NhbGVCYXInLCAnYXR0cmlidXRpb25Hcm91cCddXG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUyJzoge1xuICAgICAgY2hpbGRyZW46IFsnTWFwU3dpdGNoJywgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJ11cbiAgICB9LFxuICAgICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcic6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ0Z1bGxTY3JlZW4nLCAnQ2xlYXJBY3Rpb25EYXRhJywgJ1NlbGVjdFN0YXRlJ11cbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgY2hpbGRyZW46IFsnYm90dG9tLWxpbmUyJywgJ2JvdHRvbS1saW5lMSddLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSxcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XG4gICAgICBjaGlsZHJlbjogWydBdHRyaWJ1dGlvbiddXG4gICAgfVxuICB9XG59IGFzIExheW91dEpzb25cblxuY29uc3QgbGF5b3V0SnNvbjIgPSB7XG4gIGVsZW1lbnRzOiB7XG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbmF2aWdhdG9yJyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2FsaWduLWl0ZW1zLWVuZCdcbiAgICB9LFxuICAgIGludGVyYWN0OiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnaW50ZXJhY3QnLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBpc1Jlc3BvbnNpdmU6IHRydWVcbiAgICB9LFxuICAgIGZ1bGxTY3JlZW5Hcm91cDoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2Z1bGxTY3JlZW5Hcm91cCcsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJ1xuICAgIH0sXG4gICAgYm90dG9tOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIGNsYXNzTmFtZTogJ3ctMTAwJ1xuICAgIH0sXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTEnLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwIHNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcbiAgICAgICAgbWFyZ2luVG9wOiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUyJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMicsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1lbmQganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAnLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICcxNXB4JyxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMTVweCcsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXG4gICAgICB9XG4gICAgfSxcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYXR0cmlidXRpb25Hcm91cCcsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1heFdpZHRoOiAnNjAlJ1xuICAgICAgfSxcbiAgICAgIGNsYXNzTmFtZTogJ2F0dGlidXRlLWdyb3VwJ1xuICAgIH0sXG4gICAgWm9vbToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgSG9tZToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgQ29tcGFzczoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgTmF2aWdhdGlvbjoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdOYXZpZ2F0aW9uJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgTG9jYXRlOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIExheWVyczoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nXG4gICAgfSxcbiAgICBCYXNlTWFwOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nXG4gICAgfSxcbiAgICBTZWxlY3Q6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXG4gICAgfSxcbiAgICBTZWxlY3RTdGF0ZToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXG4gICAgICBzdHlsZToge1xuICAgICAgICBib3hTaGFkb3c6ICcwIDFweCAycHggMCByZ2JhKDAsMCwwLDApJ1xuICAgICAgfVxuICAgIH0sXG4gICAgTWVhc3VyZToge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdNZWFzdXJlJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJ1xuICAgIH0sXG4gICAgTWFwU3dpdGNoOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgRnVsbFNjcmVlbjoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgQ2xlYXJBY3Rpb25EYXRhOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgIFNjYWxlQmFyOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgQXR0cmlidXRpb246IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXG4gICAgfSxcbiAgICBTZWFyY2g6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VhcmNoJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJ1xuICAgIH1cbiAgfSxcbiAgbGF5b3V0OiB7XG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICBjaGlsZHJlbjogWydDb21wYXNzJywgJ0xvY2F0ZScsICdOYXZpZ2F0aW9uJywgJ1pvb20nLCAnSG9tZScsICdTZWxlY3RTdGF0ZSddXG4gICAgfSxcbiAgICBpbnRlcmFjdDoge1xuICAgICAgY2hpbGRyZW46IFsnU2VhcmNoJywgJ0xheWVycycsICdCYXNlTWFwJywgJ01lYXN1cmUnLCAnU2VsZWN0J10sXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IDE1LFxuICAgICAgICBsZWZ0OiAxNVxuICAgICAgfVxuICAgIH0sXG4gICAgZnVsbFNjcmVlbkdyb3VwOiB7XG4gICAgICBjaGlsZHJlbjogWydGdWxsU2NyZWVuJywgJ0NsZWFyQWN0aW9uRGF0YSddLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgdG9wOiAxNSxcbiAgICAgICAgcmlnaHQ6IDE1XG4gICAgICB9XG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUxJzoge1xuICAgICAgY2hpbGRyZW46IFsnU2NhbGVCYXInLCAnYXR0cmlidXRpb25Hcm91cCddXG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUyJzoge1xuICAgICAgY2hpbGRyZW46IFsnTWFwU3dpdGNoJywgJ25hdmlnYXRvciddXG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIGNoaWxkcmVuOiBbJ2JvdHRvbS1saW5lMicsICdib3R0b20tbGluZTEnXSxcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xuICAgICAgY2hpbGRyZW46IFsnQXR0cmlidXRpb24nXVxuICAgIH1cbiAgfVxufSBhcyBMYXlvdXRKc29uXG4vKiB0c2xpbnQ6ZW5hYmxlICovXG5cbmNvbnN0IGxheW91dEpzb25zOiBMYXlvdXRKc29uW10gPSBbbGF5b3V0SnNvbjEsIGxheW91dEpzb24yXVxuXG5leHBvcnQgZGVmYXVsdCBsYXlvdXRKc29uc1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _tools_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/zoom */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx\");\n/* harmony import */ var _tools_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/home */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx\");\n/* harmony import */ var _tools_compass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/compass */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx\");\n/* harmony import */ var _tools_locate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/locate */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx\");\n/* harmony import */ var _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/clear-action-data */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx\");\n/* harmony import */ var _tools_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/navigation */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx\");\n/* harmony import */ var _tools_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tools/search */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx\");\n/* harmony import */ var _tools_layers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/layers */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx\");\n/* harmony import */ var _tools_basemap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/basemap */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx\");\n/* harmony import */ var _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/mapswitch */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx\");\n/* harmony import */ var _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/fullscreen */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx\");\n/* harmony import */ var _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/scalebar */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx\");\n/* harmony import */ var _tools_attribution__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/attribution */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx\");\n/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tools/measure */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx\");\n/* harmony import */ var _tools_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/select */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx\");\n/* harmony import */ var _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/selectstate */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ToolModules = {\n    Zoom: _tools_zoom__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    Home: _tools_home__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    Navigation: _tools_navigation__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    Locate: _tools_locate__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    ClearActionData: _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    Compass: _tools_compass__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    Search: _tools_search__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    Layers: _tools_layers__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    BaseMap: _tools_basemap__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    Measure: _tools_measure__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n    MapSwitch: _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    FullScreen: _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    ScaleBar: _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n    Attribution: _tools_attribution__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n    Select: _tools_select__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n    SelectState: _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__[\"default\"]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolModules);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3Rvb2wtbW9kdWxlcy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC90b29sLW1vZHVsZXMudHM/OWZjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgWm9vbSBmcm9tICcuLi90b29scy96b29tJ1xuaW1wb3J0IEhvbWUgZnJvbSAnLi4vdG9vbHMvaG9tZSdcbmltcG9ydCBDb21wYXNzIGZyb20gJy4uL3Rvb2xzL2NvbXBhc3MnXG5pbXBvcnQgTG9jYXRlIGZyb20gJy4uL3Rvb2xzL2xvY2F0ZSdcbmltcG9ydCBDbGVhckFjdGlvbkRhdGEgZnJvbSAnLi4vdG9vbHMvY2xlYXItYWN0aW9uLWRhdGEnXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuLi90b29scy9uYXZpZ2F0aW9uJ1xuaW1wb3J0IFNlYXJjaCBmcm9tICcuLi90b29scy9zZWFyY2gnXG5pbXBvcnQgTGF5ZXJzIGZyb20gJy4uL3Rvb2xzL2xheWVycydcbmltcG9ydCBCYXNlTWFwIGZyb20gJy4uL3Rvb2xzL2Jhc2VtYXAnXG5pbXBvcnQgTWFwU3dpdGNoIGZyb20gJy4uL3Rvb2xzL21hcHN3aXRjaCdcbmltcG9ydCBGdWxsU2NyZWVuIGZyb20gJy4uL3Rvb2xzL2Z1bGxzY3JlZW4nXG5pbXBvcnQgU2NhbGVCYXIgZnJvbSAnLi4vdG9vbHMvc2NhbGViYXInXG5pbXBvcnQgQXR0cmlidXRpb24gZnJvbSAnLi4vdG9vbHMvYXR0cmlidXRpb24nXG5pbXBvcnQgTWVhc3VyZSBmcm9tICcuLi90b29scy9tZWFzdXJlJ1xuaW1wb3J0IFNlbGVjdCBmcm9tICcuLi90b29scy9zZWxlY3QnXG5pbXBvcnQgU2VsZWN0U3RhdGUgZnJvbSAnLi4vdG9vbHMvc2VsZWN0c3RhdGUnXG5cbmNvbnN0IFRvb2xNb2R1bGVzOiB7W01vZHVsZU5hbWU6IHN0cmluZ106IGFueX0gPSB7XG4gIFpvb206IFpvb20sXG4gIEhvbWU6IEhvbWUsXG4gIE5hdmlnYXRpb246IE5hdmlnYXRpb24sXG4gIExvY2F0ZTogTG9jYXRlLFxuICBDbGVhckFjdGlvbkRhdGE6IENsZWFyQWN0aW9uRGF0YSxcbiAgQ29tcGFzczogQ29tcGFzcyxcbiAgU2VhcmNoOiBTZWFyY2gsXG4gIExheWVyczogTGF5ZXJzLFxuICBCYXNlTWFwOiBCYXNlTWFwLFxuICBNZWFzdXJlOiBNZWFzdXJlLFxuICBNYXBTd2l0Y2g6IE1hcFN3aXRjaCxcbiAgRnVsbFNjcmVlbjogRnVsbFNjcmVlbixcbiAgU2NhbGVCYXI6IFNjYWxlQmFyLFxuICBBdHRyaWJ1dGlvbjogQXR0cmlidXRpb24sXG4gIFNlbGVjdDogU2VsZWN0LFxuICBTZWxlY3RTdGF0ZTogU2VsZWN0U3RhdGVcbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9vbE1vZHVsZXNcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Attribution)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n\n\n\nclass Attribution extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Attribution';\n    }\n    static getIsNeedSetting() {\n        return false;\n    }\n    getTitle() {\n        return 'Attribution';\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(AttributionInner, { jimuMapView: this.props.jimuMapView });\n    }\n}\nclass AttributionInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Attribution = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Attribution']).then(modules => {\n                [this.Attribution] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.AttributionBtn) {\n                    this.AttributionBtn.view = this.props.jimuMapView.view;\n                    this.AttributionBtn.renderNow();\n                }\n            }\n            else {\n                this.AttributionBtn = new this.Attribution({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.AttributionBtn) {\n            this.AttributionBtn.destroy();\n            this.AttributionBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { position: 'relative' }, ref: ref => { this.container = ref; } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvYXR0cmlidXRpb24udHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBaUJBO0FBZkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUtBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9hdHRyaWJ1dGlvbi50c3g/NTQ4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0dHJpYnV0aW9uIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xuICB0b29sTmFtZSA9ICdBdHRyaWJ1dGlvbidcblxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXRUaXRsZSAoKSB7XG4gICAgcmV0dXJuICdBdHRyaWJ1dGlvbidcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPEF0dHJpYnV0aW9uSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XG4gIH1cbn1cblxuaW50ZXJmYWNlIEF0dHJpYnV0aW9uSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xufVxuXG5pbnRlcmZhY2UgQXR0cmlidXRpb25Jbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIEF0dHJpYnV0aW9uSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEF0dHJpYnV0aW9uSW5uZXJQcm9wcywgQXR0cmlidXRpb25Jbm5lclN0YXRlPiB7XG4gIEF0dHJpYnV0aW9uOiB0eXBlb2YgX19lc3JpLkF0dHJpYnV0aW9uID0gbnVsbFxuICBBdHRyaWJ1dGlvbkJ0bjogX19lc3JpLkF0dHJpYnV0aW9uXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQXR0cmlidXRpb24nXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuQXR0cmlidXRpb25dID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEF0dHJpYnV0aW9uSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XG4gICAgICAgIGlmICh0aGlzLkF0dHJpYnV0aW9uQnRuKSB7XG4gICAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi5yZW5kZXJOb3coKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuID0gbmV3IHRoaXMuQXR0cmlidXRpb24oe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGlmICh0aGlzLkF0dHJpYnV0aW9uQnRuKSB7XG4gICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuLmRlc3Ryb3koKVxuICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0biA9IG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseMap)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n\n\n\n\nclass BaseMap extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'BaseMap';\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'BaseMapLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.BaseMapLabel });\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/basemap.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg\")\n        };\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(BaseMapInner, { jimuMapView: this.props.jimuMapView, isMobile: this.props.isMobile });\n    }\n}\nclass BaseMapInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.BaseMap = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/BasemapGallery']).then(modules => {\n                [this.BaseMap] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.BaseMapBtn) {\n                    this.BaseMapBtn.view = this.props.jimuMapView.view;\n                    this.BaseMapBtn.renderNow();\n                }\n            }\n            else {\n                this.BaseMapBtn = new this.BaseMap({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.BaseMapBtn) {\n            this.BaseMapBtn.destroy();\n            this.BaseMapBtn = null;\n        }\n    }\n    render() {\n        if (this.props.isMobile) {\n            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', maxWidth: 'none', maxHeight: 'none', overflowY: 'auto', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'exbmap-basetool-loader' })));\n        }\n        else {\n            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; }, style: { width: '250px', minHeight: '32px', position: 'relative' }, className: 'exbmap-ui-pc-expand-maxheight' }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'exbmap-basetool-loader' })));\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvYmFzZW1hcC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFlQTtBQWJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBS0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9iYXNlbWFwLnRzeD9mMjZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VNYXAgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0Jhc2VNYXAnXG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnQmFzZU1hcExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5CYXNlTWFwTGFiZWwgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnJylcbiAgICB9XG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8QmFzZU1hcElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gLz5cbiAgfVxufVxuXG5pbnRlcmZhY2UgQmFzZU1hcElubmVyUHJvcHMge1xuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcbiAgaXNNb2JpbGU6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIEJhc2VNYXBJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIEJhc2VNYXBJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8QmFzZU1hcElubmVyUHJvcHMsIEJhc2VNYXBJbm5lclN0YXRlPiB7XG4gIEJhc2VNYXA6IHR5cGVvZiBfX2VzcmkuQmFzZW1hcEdhbGxlcnkgPSBudWxsXG4gIEJhc2VNYXBCdG46IF9fZXNyaS5CYXNlbWFwR2FsbGVyeVxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0Jhc2VtYXBHYWxsZXJ5J10pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgIFt0aGlzLkJhc2VNYXBdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEJhc2VNYXBJbm5lclByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcbiAgICAgICAgaWYgKHRoaXMuQmFzZU1hcEJ0bikge1xuICAgICAgICAgIHRoaXMuQmFzZU1hcEJ0bi52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgICAgdGhpcy5CYXNlTWFwQnRuLnJlbmRlck5vdygpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuQmFzZU1hcEJ0biA9IG5ldyB0aGlzLkJhc2VNYXAoe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGlmICh0aGlzLkJhc2VNYXBCdG4pIHtcbiAgICAgIHRoaXMuQmFzZU1hcEJ0bi5kZXN0cm95KClcbiAgICAgIHRoaXMuQmFzZU1hcEJ0biA9IG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIG1heFdpZHRoOiAnbm9uZScsIG1heEhlaWdodDogJ25vbmUnLCBvdmVyZmxvd1k6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XG4gICAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzI1MHB4JywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19XG4gICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCdcbiAgICAgICAgPlxuICAgICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ClearActionData)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/** @jsx jsx */\n\n\n\n\n\nclass ClearActionData extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__.BaseTool {\n    constructor(props) {\n        super(props);\n        this.toolName = 'ClearActionData';\n        this.onIconClick = () => { };\n        this.onDropDownToggle = () => {\n            this.setState({ isOpen: !this.state.isOpen });\n        };\n        this.onActionItemClick = (evt, actionDataId, mapWidgetId) => {\n            var _a;\n            this.setState({ isOpen: false });\n            const showOnMapDatas = (_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _a === void 0 ? void 0 : _a.showOnMapDatas;\n            if (showOnMapDatas) {\n                delete showOnMapDatas[actionDataId];\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, 'showOnMapDatas', showOnMapDatas);\n            }\n        };\n        this.getContent = (isShowClearShowOnMapDataBtn, mapWidgetId) => {\n            if (isShowClearShowOnMapDataBtn) {\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), title: this.getTitle() },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Dropdown, { direction: 'down', size: 'sm', toggle: this.onDropDownToggle, isOpen: this.state.isOpen },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownToggle, { icon: true, size: 'sm', type: 'default' },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { size: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, null, this.getShowOnMapDatas(mapWidgetId).map((entry, index) => this.createActionDataItem(entry[0], entry[1].title, mapWidgetId, index))))));\n            }\n            else {\n                return null;\n            }\n        };\n        this.state = { isOpen: false };\n    }\n    static getIsNeedSetting() {\n        return false;\n    }\n    getStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      .jimu-dropdown {\n        display: flex;\n        .icon-btn {\n          padding: 7px;\n          border-radius: 0;\n        }\n      }\n    `;\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'clearResults', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.clearResults });\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! jimu-icons/svg/outlined/editor/trash.svg */ \"./jimu-icons/svg/outlined/editor/trash.svg\"),\n            onIconClick: () => {\n                this.onIconClick();\n            }\n        };\n    }\n    createActionDataItem(actionDataId, actionDataTitle, mapWidgetId, key) {\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { key: key, header: false, onClick: e => this.onActionItemClick(e, actionDataId, mapWidgetId) }, actionDataTitle));\n    }\n    getShowOnMapDatas(mapWidgetId) {\n        var _a;\n        const showOnMapDatas = ((_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _a === void 0 ? void 0 : _a.showOnMapDatas) || {};\n        return Object.entries(showOnMapDatas).filter(entry => {\n            // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,\n            // use a default jimuMapViewId to show data.\n            let jimuMapViewId = entry[1].jimuMapViewId;\n            if (!jimuMapViewId && entry[1].mapWidgetId === mapWidgetId) {\n                const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;\n                jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === mapWidgetId);\n            }\n            return (jimuMapViewId === this.props.jimuMapView.id && entry[1].type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.ShowOnMapDataType.DataAction);\n        });\n    }\n    getExpandPanel() {\n        // return (\n        //  <div className='exbmap-ui-tool esri-widget--button'>\n        //    <Icon width={16} height={16} className='exbmap-ui-tool-icon' icon={this.getIcon().icon} />\n        //  </div>\n        // )\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ isShowClearShowOnMapDataBtn, mapWidgetId }) => (this.getContent(isShowClearShowOnMapDataBtn, mapWidgetId))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvY2xlYXItYWN0aW9uLWRhdGEudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUhBO0FBK0RBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBRUE7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBaEhBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUF5QkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2NsZWFyLWFjdGlvbi1kYXRhLnRzeD8xMTdjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgY3NzLCBqc3gsIE11dGFibGVTdG9yZU1hbmFnZXIsIGdldEFwcFN0b3JlLCBJbW11dGFibGVPYmplY3QsIEppbXVNYXBWaWV3SW5mbyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IFNob3dPbk1hcERhdGFzLCBTaG93T25NYXBEYXRhVHlwZSB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuaW1wb3J0IHsgSWNvbiwgRHJvcGRvd24sIERyb3Bkb3duTWVudSwgRHJvcGRvd25Ub2dnbGUsIERyb3Bkb3duSXRlbSwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaXNPcGVuOiBib29sZWFuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsZWFyQWN0aW9uRGF0YSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlPiB7XG4gIHRvb2xOYW1lID0gJ0NsZWFyQWN0aW9uRGF0YSdcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0geyBpc09wZW46IGZhbHNlIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGdldFN0eWxlICgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLmppbXUtZHJvcGRvd24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAuaWNvbi1idG4ge1xuICAgICAgICAgIHBhZGRpbmc6IDdweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnY2xlYXJSZXN1bHRzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGVhclJlc3VsdHMgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL3RyYXNoLnN2ZycpLFxuICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vbkljb25DbGljaygpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQWN0aW9uRGF0YUl0ZW0gKGFjdGlvbkRhdGFJZDogc3RyaW5nLCBhY3Rpb25EYXRhVGl0bGU6IHN0cmluZywgbWFwV2lkZ2V0SWQ6IHN0cmluZywga2V5OiBudW1iZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPERyb3Bkb3duSXRlbVxuICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgaGVhZGVyPXtmYWxzZX1cbiAgICAgICAgb25DbGljaz17ZSA9PiB0aGlzLm9uQWN0aW9uSXRlbUNsaWNrKGUsIGFjdGlvbkRhdGFJZCwgbWFwV2lkZ2V0SWQpfVxuICAgICAgPlxuICAgICAgICB7YWN0aW9uRGF0YVRpdGxlfVxuICAgICAgPC9Ecm9wZG93bkl0ZW0+XG4gICAgKVxuICB9XG5cbiAgZ2V0U2hvd09uTWFwRGF0YXMgKG1hcFdpZGdldElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaG93T25NYXBEYXRhczogU2hvd09uTWFwRGF0YXMgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbbWFwV2lkZ2V0SWRdKT8uc2hvd09uTWFwRGF0YXMgfHwge31cbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoc2hvd09uTWFwRGF0YXMpLmZpbHRlcihlbnRyeSA9PiB7XG4gICAgICAvLyBUaGVyZSBpcyBubyBqaW11TWFwVmlld0lkIHdoaWxlIGdlbmVyYXRpbmcgdGhlIGFjdGlvbiBkYXRhIGlmIHRoZSBtYXAgd2lkZ2V0IGhhc24ndCBiZWVuIGxvYWRlZCBpbiB0aGUgYW5vdGhlciBwYWdlL3ZpZXcsXG4gICAgICAvLyB1c2UgYSBkZWZhdWx0IGppbXVNYXBWaWV3SWQgdG8gc2hvdyBkYXRhLlxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBlbnRyeVsxXS5qaW11TWFwVmlld0lkXG4gICAgICBpZiAoIWppbXVNYXBWaWV3SWQgJiYgZW50cnlbMV0ubWFwV2lkZ2V0SWQgPT09IG1hcFdpZGdldElkKSB7XG4gICAgICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm86IEltbXV0YWJsZU9iamVjdDx7W2ppbXVNYXBWaWV3SWQ6IHN0cmluZ106IEppbXVNYXBWaWV3SW5mb30+ID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmppbXVNYXBWaWV3c0luZm9cbiAgICAgICAgamltdU1hcFZpZXdJZCA9IE9iamVjdC5rZXlzKGppbXVNYXBWaWV3c0luZm8gfHwge30pLmZpbmQodmlld0lkID0+IGppbXVNYXBWaWV3c0luZm9bdmlld0lkXS5tYXBXaWRnZXRJZCA9PT0gbWFwV2lkZ2V0SWQpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoamltdU1hcFZpZXdJZCA9PT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCAmJiBlbnRyeVsxXS50eXBlID09PSBTaG93T25NYXBEYXRhVHlwZS5EYXRhQWN0aW9uKVxuICAgIH0pXG4gIH1cblxuICBvbkljb25DbGljayA9ICgpID0+IHt9XG5cbiAgb25Ecm9wRG93blRvZ2dsZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiAhdGhpcy5zdGF0ZS5pc09wZW4gfSlcbiAgfVxuXG4gIG9uQWN0aW9uSXRlbUNsaWNrID0gKGV2dCwgYWN0aW9uRGF0YUlkOiBzdHJpbmcsIG1hcFdpZGdldElkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KVxuICAgIGNvbnN0IHNob3dPbk1hcERhdGFzID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW21hcFdpZGdldElkXSk/LnNob3dPbk1hcERhdGFzXG4gICAgaWYgKHNob3dPbk1hcERhdGFzKSB7XG4gICAgICBkZWxldGUgc2hvd09uTWFwRGF0YXNbYWN0aW9uRGF0YUlkXVxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUobWFwV2lkZ2V0SWQsICdzaG93T25NYXBEYXRhcycsIHNob3dPbk1hcERhdGFzKVxuICAgIH1cbiAgfVxuXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XG4gICAgLy8gcmV0dXJuIChcbiAgICAvLyAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b24nPlxuICAgIC8vICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxuICAgIC8vICA8L2Rpdj5cbiAgICAvLyApXG4gICAgcmV0dXJuIChcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsoeyBpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG4sIG1hcFdpZGdldElkIH0pID0+IChcbiAgICAgICAgICB0aGlzLmdldENvbnRlbnQoaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuLCBtYXBXaWRnZXRJZClcbiAgICAgICAgKX1cbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuXG4gICAgKVxuICB9XG5cbiAgZ2V0Q29udGVudCA9IChpc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG46IGJvb2xlYW4sIG1hcFdpZGdldElkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfT5cbiAgICAgICAgICA8RHJvcGRvd25cbiAgICAgICAgICAgIGRpcmVjdGlvbj0nZG93bidcbiAgICAgICAgICAgIHNpemU9J3NtJ1xuICAgICAgICAgICAgdG9nZ2xlPXt0aGlzLm9uRHJvcERvd25Ub2dnbGV9XG4gICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUuaXNPcGVufVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxEcm9wZG93blRvZ2dsZSBpY29uIHNpemU9J3NtJyB0eXBlPSdkZWZhdWx0Jz5cbiAgICAgICAgICAgICAgPEljb24gc2l6ZT17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dGhpcy5nZXRJY29uKCkuaWNvbn0gLz5cbiAgICAgICAgICAgIDwvRHJvcGRvd25Ub2dnbGU+XG4gICAgICAgICAgICA8RHJvcGRvd25NZW51PlxuICAgICAgICAgICAgICB7dGhpcy5nZXRTaG93T25NYXBEYXRhcyhtYXBXaWRnZXRJZCkubWFwKChlbnRyeSwgaW5kZXgpID0+IHRoaXMuY3JlYXRlQWN0aW9uRGF0YUl0ZW0oZW50cnlbMF0sIGVudHJ5WzFdLnRpdGxlLCBtYXBXaWRnZXRJZCwgaW5kZXgpKX1cbiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51PlxuICAgICAgICAgIDwvRHJvcGRvd24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/clear-action-data.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Compass)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n\n\n\n\nclass Compass extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Compass';\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'CompassLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.CompassLabel });\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(CompassInner, { jimuMapView: this.props.jimuMapView });\n    }\n}\nclass CompassInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Compass = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Compass']).then(modules => {\n                [this.Compass] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.apiLoaded && this.container) {\n            if (this.CompassBtn) {\n                this.container.innerHTML = '';\n            }\n            this.CompassBtn = new this.Compass({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.CompassBtn) {\n            this.CompassBtn.destroy();\n            this.CompassBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvY29tcGFzcy50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFhQTtBQVhBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFLQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9jb21wYXNzLnRzeD9kYWJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBhc3MgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0NvbXBhc3MnXG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnQ29tcGFzc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5Db21wYXNzTGFiZWwgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPENvbXBhc3NJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cbiAgfVxufVxuXG5pbnRlcmZhY2UgQ29tcGFzc0lubmVyUHJvcHMge1xuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcbn1cblxuaW50ZXJmYWNlIENvbXBhc3NJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIENvbXBhc3NJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Q29tcGFzc0lubmVyUHJvcHMsIENvbXBhc3NJbm5lclN0YXRlPiB7XG4gIENvbXBhc3M6IHR5cGVvZiBfX2VzcmkuQ29tcGFzcyA9IG51bGxcbiAgQ29tcGFzc0J0bjogX19lc3JpLkNvbXBhc3NcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9Db21wYXNzJ10pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgIFt0aGlzLkNvbXBhc3NdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLkNvbXBhc3NCdG4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcbiAgICAgIH1cblxuICAgICAgdGhpcy5Db21wYXNzQnRuID0gbmV3IHRoaXMuQ29tcGFzcyh7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgaWYgKHRoaXMuQ29tcGFzc0J0bikge1xuICAgICAgdGhpcy5Db21wYXNzQnRuLmRlc3Ryb3koKVxuICAgICAgdGhpcy5Db21wYXNzQnRuID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIDxkaXYgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fullscreen)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n\n\n\n\nclass Fullscreen extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Fullscreen';\n        this.isFullScreen = false;\n        this.fullScreenMap = () => { };\n        this.getContent = (fullScreenMap, isFullScreen) => {\n            this.fullScreenMap = fullScreenMap;\n            this.isFullScreen = isFullScreen;\n            return super.render();\n        };\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'FullScreenLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.FullScreenLabel });\n    }\n    getIcon() {\n        return {\n            icon: this.isFullScreen ? __webpack_require__(/*! ../assets/icons/exit-full-screen.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg\") : __webpack_require__(/*! ../assets/icons/full-screen.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg\"),\n            onIconClick: (evt) => {\n                this.fullScreenMap();\n            }\n        };\n    }\n    getExpandPanel() {\n        return null;\n    }\n    render() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Consumer, null, ({ fullScreenMap, isFullScreen }) => (this.getContent(fullScreenMap, isFullScreen))));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvZnVsbHNjcmVlbi50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQWVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBbENBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBT0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvZnVsbHNjcmVlbi50c3g/OTc2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZ1bGxzY3JlZW4gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0Z1bGxzY3JlZW4nXG4gIGlzRnVsbFNjcmVlbiA9IGZhbHNlXG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnRnVsbFNjcmVlbkxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5GdWxsU2NyZWVuTGFiZWwgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogdGhpcy5pc0Z1bGxTY3JlZW4gPyByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmcnKSA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmcnKSxcbiAgICAgIG9uSWNvbkNsaWNrOiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgIHRoaXMuZnVsbFNjcmVlbk1hcCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVsbFNjcmVlbk1hcCA9ICgpID0+IHt9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0Q29udGVudCA9IChmdWxsU2NyZWVuTWFwLCBpc0Z1bGxTY3JlZW4pID0+IHtcbiAgICB0aGlzLmZ1bGxTY3JlZW5NYXAgPSBmdWxsU2NyZWVuTWFwXG4gICAgdGhpcy5pc0Z1bGxTY3JlZW4gPSBpc0Z1bGxTY3JlZW5cbiAgICByZXR1cm4gc3VwZXIucmVuZGVyKClcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsoeyBmdWxsU2NyZWVuTWFwLCBpc0Z1bGxTY3JlZW4gfSkgPT4gKFxuICAgICAgICAgIHRoaXMuZ2V0Q29udGVudChmdWxsU2NyZWVuTWFwLCBpc0Z1bGxTY3JlZW4pXG4gICAgICAgICl9XG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx":
/*!*************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n\n\n\n\n\nclass Home extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Home';\n        this.getHomeContent = (initialMapState) => {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(HomeInner, { jimuMapView: this.props.jimuMapView, initialMapState: initialMapState });\n        };\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'HomeLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.HomeLabel });\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        // return <HomeInner jimuMapView={this.props.jimuMapView}></HomeInner>;\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ initialMapState }) => (this.getHomeContent(initialMapState))));\n    }\n}\nclass HomeInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Home = null;\n        this.generateViewPointFromInitialMapState = (initialMapState) => {\n            if (initialMapState.viewType === '2d') {\n                return new this.Viewpoint({\n                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),\n                    rotation: initialMapState.rotation\n                });\n            }\n            else {\n                return this.Viewpoint.fromJSON(initialMapState.viewPoint);\n            }\n        };\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Home',\n                'esri/geometry/Extent',\n                'esri/Viewpoint']).then(modules => {\n                [this.Home, this.Extent, this.Viewpoint] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        var _a;\n        if (this.state.apiLoaded && this.container && ((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view)) {\n            if (this.homeBtn) {\n                this.container.innerHTML = '';\n            }\n            this.homeBtn = new this.Home({\n                container: this.container,\n                view: this.props.jimuMapView.view,\n                viewpoint: this.props.initialMapState\n                    ? this.generateViewPointFromInitialMapState(this.props.initialMapState)\n                    : this.props.jimuMapView.view.map.initialViewProperties.viewpoint\n            });\n            if (prevProps.initialMapState !== this.props.initialMapState) {\n                if (this.props.jimuMapView.view) {\n                    this.props.jimuMapView.view.goTo(this.homeBtn.viewpoint, {\n                        animate: false\n                    });\n                }\n                else {\n                    this.homeBtn.destroy();\n                    this.homeBtn = null;\n                }\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.homeBtn) {\n            this.homeBtn.destroy();\n            this.homeBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'esri-widget--button', ref: ref => { if (!this.container) {\n                this.container = ref;\n            } } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvaG9tZS50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7O0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFZQTtBQXRCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBV0E7QUFRQTtBQUNBO0FBUkE7QUF1REE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXhEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvaG9tZS50c3g/NjdjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgSW5pdGlhbE1hcFN0YXRlIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9tYXAnXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0hvbWUnXG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnSG9tZUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5Ib21lTGFiZWwgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0SG9tZUNvbnRlbnQgPSAoaW5pdGlhbE1hcFN0YXRlOiBJbml0aWFsTWFwU3RhdGUpID0+IHtcbiAgICByZXR1cm4gPEhvbWVJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gaW5pdGlhbE1hcFN0YXRlPXtpbml0aWFsTWFwU3RhdGV9IC8+XG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xuICAgIC8vIHJldHVybiA8SG9tZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fT48L0hvbWVJbm5lcj47XG4gICAgcmV0dXJuIChcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsoeyBpbml0aWFsTWFwU3RhdGUgfSkgPT4gKFxuICAgICAgICAgIHRoaXMuZ2V0SG9tZUNvbnRlbnQoaW5pdGlhbE1hcFN0YXRlKVxuICAgICAgICApfVxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgKVxuICB9XG59XG5cbmludGVyZmFjZSBIb21lSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xuICBpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZVxufVxuXG5pbnRlcmZhY2UgSG9tZUlubmVyU3RhdGUge1xuICBhcGlMb2FkZWQ6IGJvb2xlYW5cbn1cblxuY2xhc3MgSG9tZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxIb21lSW5uZXJQcm9wcywgSG9tZUlubmVyU3RhdGU+IHtcbiAgSG9tZTogdHlwZW9mIF9fZXNyaS5Ib21lID0gbnVsbFxuICBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnkuRXh0ZW50XG4gIFZpZXdwb2ludDogdHlwZW9mIF9fZXNyaS5WaWV3cG9pbnRcblxuICBob21lQnRuOiBfX2VzcmkuSG9tZVxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0hvbWUnLFxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnLFxuICAgICAgICAnZXNyaS9WaWV3cG9pbnQnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuSG9tZSwgdGhpcy5FeHRlbnQsIHRoaXMuVmlld3BvaW50XSA9IG1vZHVsZXNcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBIb21lSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lciAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3Py52aWV3KSB7XG4gICAgICBpZiAodGhpcy5ob21lQnRuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXG4gICAgICB9XG5cbiAgICAgIHRoaXMuaG9tZUJ0biA9IG5ldyB0aGlzLkhvbWUoe1xuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXG4gICAgICAgIHZpZXdwb2ludDogdGhpcy5wcm9wcy5pbml0aWFsTWFwU3RhdGVcbiAgICAgICAgICA/IHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuaW5pdGlhbE1hcFN0YXRlKVxuICAgICAgICAgIDogKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5tYXAgYXMgX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSkuaW5pdGlhbFZpZXdQcm9wZXJ0aWVzLnZpZXdwb2ludFxuICAgICAgfSlcblxuICAgICAgaWYgKHByZXZQcm9wcy5pbml0aWFsTWFwU3RhdGUgIT09IHRoaXMucHJvcHMuaW5pdGlhbE1hcFN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuZ29Ubyh0aGlzLmhvbWVCdG4udmlld3BvaW50LCB7XG4gICAgICAgICAgICBhbmltYXRlOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ob21lQnRuLmRlc3Ryb3koKVxuICAgICAgICAgIHRoaXMuaG9tZUJ0biA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSA9IChpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZSk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xuICAgIGlmIChpbml0aWFsTWFwU3RhdGUudmlld1R5cGUgPT09ICcyZCcpIHtcbiAgICAgIHJldHVybiBuZXcgdGhpcy5WaWV3cG9pbnQoXG4gICAgICAgIHtcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogdGhpcy5FeHRlbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLmV4dGVudCksXG4gICAgICAgICAgcm90YXRpb246IGluaXRpYWxNYXBTdGF0ZS5yb3RhdGlvblxuICAgICAgICB9XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLlZpZXdwb2ludC5mcm9tSlNPTihpbml0aWFsTWFwU3RhdGUudmlld1BvaW50KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICBpZiAodGhpcy5ob21lQnRuKSB7XG4gICAgICB0aGlzLmhvbWVCdG4uZGVzdHJveSgpXG4gICAgICB0aGlzLmhvbWVCdG4gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Vzcmktd2lkZ2V0LS1idXR0b24nIHJlZj17cmVmID0+IHsgaWYgKCF0aGlzLmNvbnRhaW5lcikgeyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9IH19IC8+XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layers)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n\n\n\n\nclass Layers extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor(props) {\n        super(props);\n        this.toolName = 'Layers';\n        this.handleTabIndexChange = (activeTabIndex) => {\n            this.setState({\n                activeTabIndex: activeTabIndex\n            });\n        };\n        this.state = {\n            activeTabIndex: 0\n        };\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'LayersLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabel });\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/layerlist.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg\")\n        };\n    }\n    getExpandPanel() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { width: this.props.isMobile ? '100%' : '250px', minHeight: '32px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Nav, { tabs: true },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 0, onClick: () => { this.handleTabIndexChange(0); } }, this.props.intl.formatMessage({ id: 'LayersLabelLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLayer }))),\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 1, onClick: () => { this.handleTabIndexChange(1); } }, this.props.intl.formatMessage({ id: 'LayersLabelLegend', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLegend })))),\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'mt-1' }),\n            this.state.activeTabIndex === 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LayerListInner, { jimuMapView: this.props.jimuMapView }),\n            this.state.activeTabIndex === 1 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LegendInner, { jimuMapView: this.props.jimuMapView })));\n    }\n}\nclass LayerListInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.LayerList = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/LayerList']).then(modules => {\n                [this.LayerList] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.LayerListBtn) {\n                    this.LayerListBtn.view = this.props.jimuMapView.view;\n                    this.LayerListBtn.renderNow();\n                }\n            }\n            else {\n                this.LayerListBtn = new this.LayerList({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.LayerListBtn) {\n            this.LayerListBtn = null;\n        }\n    }\n    render() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'exbmap-basetool-loader' })));\n    }\n}\nclass LegendInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Legend = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Legend']).then(modules => {\n                [this.Legend] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.LegendBtn) {\n                    this.LegendBtn.view = this.props.jimuMapView.view;\n                    this.LegendBtn.renderNow();\n                }\n            }\n            else {\n                this.LegendBtn = new this.Legend({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.LegendBtn) {\n            this.LegendBtn = null;\n        }\n    }\n    render() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'exbmap-basetool-loader' })));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbGF5ZXJzLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBSEE7QUE0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFVQTtBQUtBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9sYXllcnMudHN4PzIyZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzLCBOYXYsIE5hdkl0ZW0sIE5hdkxpbmsgfSBmcm9tICdqaW11LXVpJ1xuXG5pbnRlcmZhY2UgU3RhdGVzIHtcbiAgYWN0aXZlVGFiSW5kZXg6IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXllcnMgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcbiAgdG9vbE5hbWUgPSAnTGF5ZXJzJ1xuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVUYWJJbmRleDogMFxuICAgIH1cbiAgfVxuXG4gIGdldFRpdGxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5MYXllcnNMYWJlbCB9KVxuICB9XG5cbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbGF5ZXJsaXN0LnN2ZycpXG4gICAgfVxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17eyB3aWR0aDogdGhpcy5wcm9wcy5pc01vYmlsZSA/ICcxMDAlJyA6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoeyAnZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQnOiAhdGhpcy5wcm9wcy5pc01vYmlsZSB9KX1cbiAgICAgID5cbiAgICAgICAgPE5hdiB0YWJzPlxuICAgICAgICAgIDxOYXZJdGVtPlxuICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuaGFuZGxlVGFiSW5kZXhDaGFuZ2UoMCkgfX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnTGF5ZXJzTGFiZWxMYXllcicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTGF5ZXJzTGFiZWxMYXllciB9KX1cbiAgICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgICA8L05hdkl0ZW0+XG4gICAgICAgICAgPE5hdkl0ZW0+XG4gICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDF9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgxKSB9fT5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdMYXllcnNMYWJlbExlZ2VuZCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTGF5ZXJzTGFiZWxMZWdlbmQgfSl9XG4gICAgICAgICAgICA8L05hdkxpbms+XG4gICAgICAgICAgPC9OYXZJdGVtPlxuICAgICAgICA8L05hdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J210LTEnIC8+XG4gICAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwICYmIDxMYXllckxpc3RJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz59XG4gICAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAxICYmIDxMZWdlbmRJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBoYW5kbGVUYWJJbmRleENoYW5nZSA9IChhY3RpdmVUYWJJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhY3RpdmVUYWJJbmRleDogYWN0aXZlVGFiSW5kZXhcbiAgICB9KVxuICB9XG59XG5cbmludGVyZmFjZSBJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XG59XG5cbmludGVyZmFjZSBJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIExheWVyTGlzdElubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJbm5lclByb3BzLCBJbm5lclN0YXRlPiB7XG4gIExheWVyTGlzdDogdHlwZW9mIF9fZXNyaS5MYXllckxpc3QgPSBudWxsXG4gIExheWVyTGlzdEJ0bjogX19lc3JpLkxheWVyTGlzdFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xheWVyTGlzdCddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5MYXllckxpc3RdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IElubmVyUHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xuICAgICAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcbiAgICAgICAgICB0aGlzLkxheWVyTGlzdEJ0bi52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgICAgdGhpcy5MYXllckxpc3RCdG4ucmVuZGVyTm93KClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBuZXcgdGhpcy5MYXllckxpc3Qoe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGlmICh0aGlzLkxheWVyTGlzdEJ0bikge1xuICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuY2xhc3MgTGVnZW5kSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElubmVyUHJvcHMsIElubmVyU3RhdGU+IHtcbiAgTGVnZW5kOiB0eXBlb2YgX19lc3JpLkxlZ2VuZCA9IG51bGxcbiAgTGVnZW5kQnRuOiBfX2VzcmkuTGVnZW5kXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTGVnZW5kJ10pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgIFt0aGlzLkxlZ2VuZF0gPSBtb2R1bGVzXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XG4gICAgICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xuICAgICAgICAgIHRoaXMuTGVnZW5kQnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgICAgICB0aGlzLkxlZ2VuZEJ0bi5yZW5kZXJOb3coKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkxlZ2VuZEJ0biA9IG5ldyB0aGlzLkxlZ2VuZCh7XG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgaWYgKHRoaXMuTGVnZW5kQnRuKSB7XG4gICAgICB0aGlzLkxlZ2VuZEJ0biA9IG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Locate)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n\n\n\nclass Locate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Locate';\n    }\n    getTitle() {\n        return 'Locate';\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LocateInner, { jimuMapView: this.props.jimuMapView });\n    }\n}\nclass LocateInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Locate = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Locate']).then(modules => {\n                [this.Locate] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.apiLoaded && this.container) {\n            if (this.LocateBtn) {\n                this.container.innerHTML = '';\n            }\n            this.LocateBtn = new this.Locate({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.LocateBtn) {\n            this.LocateBtn.destroy();\n            this.LocateBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'esri-widget--button', ref: ref => { this.container = ref; } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbG9jYXRlLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTs7QUFDQTtBQWFBO0FBWEE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUtBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2xvY2F0ZS50c3g/MTE2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcbiAgdG9vbE5hbWUgPSAnTG9jYXRlJ1xuXG4gIGdldFRpdGxlICgpIHtcbiAgICByZXR1cm4gJ0xvY2F0ZSdcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPExvY2F0ZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxuICB9XG59XG5cbmludGVyZmFjZSBMb2NhdGVJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XG59XG5cbmludGVyZmFjZSBMb2NhdGVJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIExvY2F0ZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMb2NhdGVJbm5lclByb3BzLCBMb2NhdGVJbm5lclN0YXRlPiB7XG4gIExvY2F0ZTogdHlwZW9mIF9fZXNyaS5Mb2NhdGUgPSBudWxsXG4gIExvY2F0ZUJ0bjogX19lc3JpLkxvY2F0ZVxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xvY2F0ZSddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5Mb2NhdGVdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLkxvY2F0ZUJ0bikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xuICAgICAgfVxuXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG5ldyB0aGlzLkxvY2F0ZSh7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgaWYgKHRoaXMuTG9jYXRlQnRuKSB7XG4gICAgICB0aGlzLkxvY2F0ZUJ0bi5kZXN0cm95KClcbiAgICAgIHRoaXMuTG9jYXRlQnRuID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdlc3JpLXdpZGdldC0tYnV0dG9uJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx":
/*!******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MapSwitch)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/* harmony import */ var _components_map_thumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/map-thumb */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx\");\n/** @jsx jsx */\n\n\n\n\n\nclass MapSwitch extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'MapSwitch';\n        this.switchMap = () => { };\n        this.getContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme) => {\n            const onClick = () => {\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(mapWidgetId, mapWidgetId));\n                switchMap();\n            };\n            if (isShowMapSwitchBtn) {\n                if (this.props.isMobile) {\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'exbmap-ui-tool esri-widget--button', onClick: onClick },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })));\n                }\n                else {\n                    const dsJsons = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources;\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), onClick: onClick },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { title: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[0] !== activeDataSourceId }, { back: dataSourceIds[0] === activeDataSourceId }) },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { mapItemId: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].itemId : null, portUrl: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].portalUrl : null, theme: theme })),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { title: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[1] !== activeDataSourceId }, { back: dataSourceIds[1] === activeDataSourceId }) },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { mapItemId: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].itemId : null, portUrl: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].portalUrl : null, theme: theme }))));\n                }\n            }\n            else {\n                return null;\n            }\n        };\n        this.getIconContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) => {\n            if (isShowMapSwitchBtn) {\n                this.switchMap = switchMap;\n                return super.render();\n            }\n            else {\n                return null;\n            }\n        };\n    }\n    static getIsNeedSetting() {\n        return false;\n    }\n    getStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(68)};\n      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(52)};\n      cursor: pointer;\n      position: relative;\n\n      .mapthumb-item {\n        position: absolute;\n        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(64)};\n        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(48)};\n        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;\n      }\n\n      .front {\n        z-index: 1;\n        bottom: 0;\n        left: 0;\n      }\n\n      .back {\n        z-index: 0;\n        top: 0;\n        right: 0;\n      }\n    `;\n    }\n    getTitle() {\n        return 'MapSwitch';\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/exchange.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg\"),\n            onIconClick: () => {\n                this.switchMap();\n            }\n        };\n    }\n    getExpandPanel() {\n        if (this.props.toolJson.isOnlyExpanded) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme }) => (this.getContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme))));\n        }\n        else {\n            return null;\n        }\n    }\n    render() {\n        if (this.props.toolJson.isOnlyExpanded) {\n            return super.render();\n        }\n        else {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (this.getIconContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap))));\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWFwc3dpdGNoLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBK0NBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFJQTtBQU1BO0FBSUE7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQWhJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBd0RBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWFwc3dpdGNoLnRzeD9jZmJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgY3NzLCBqc3gsIHBvbGlzaGVkLCBnZXRBcHBTdG9yZSwgY2xhc3NOYW1lcywgYXBwQWN0aW9ucyB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEljb24gfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xuaW1wb3J0IE1hcFRodW1iIGZyb20gJy4uL2NvbXBvbmVudHMvbWFwLXRodW1iJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBTd2l0Y2ggZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ01hcFN3aXRjaCdcblxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBnZXRTdHlsZSAoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg2OCl9O1xuICAgICAgaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSg1Mil9O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICAgICAubWFwdGh1bWItaXRlbSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDY0KX07XG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNDgpfTtcbiAgICAgICAgdHJhbnNpdGlvbjogYm90dG9tIDAuNXMsIGxlZnQgMC41cywgdG9wIDAuNXMsIHJpZ2h0IDAuNXMsIHotaW5kZXggMC41cztcbiAgICAgIH1cblxuICAgICAgLmZyb250IHtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgfVxuXG4gICAgICAuYmFjayB7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiAnTWFwU3dpdGNoJ1xuICB9XG5cbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJyksXG4gICAgICBvbkljb25DbGljazogKCkgPT4ge1xuICAgICAgICB0aGlzLnN3aXRjaE1hcCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoTWFwID0gKCkgPT4ge31cblxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgIHsoeyBpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwLCBtYXBXaWRnZXRJZCwgdGhlbWUgfSkgPT4gKFxuICAgICAgICAgICAgdGhpcy5nZXRDb250ZW50KGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSlcbiAgICAgICAgICApfVxuICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICBnZXRDb250ZW50ID0gKGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhbiwgZGF0YVNvdXJjZUlkczogc3RyaW5nW10sIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSkgPT4ge1xuICAgIGNvbnN0IG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMucmVxdWVzdEF1dG9Db250cm9sTWFwV2lkZ2V0KG1hcFdpZGdldElkLCBtYXBXaWRnZXRJZCkpXG4gICAgICBzd2l0Y2hNYXAoKVxuICAgIH1cbiAgICBpZiAoaXNTaG93TWFwU3dpdGNoQnRuKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbCBlc3JpLXdpZGdldC0tYnV0dG9uJyBvbkNsaWNrPXtvbkNsaWNrfT5cbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkc0pzb25zID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5kYXRhU291cmNlc1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gb25DbGljaz17b25DbGlja30+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHRpdGxlPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5sYWJlbCA6IG51bGx9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWFwdGh1bWItaXRlbScsIHsgZnJvbnQ6IGRhdGFTb3VyY2VJZHNbMF0gIT09IGFjdGl2ZURhdGFTb3VyY2VJZCB9LFxuICAgICAgICAgICAgICAgIHsgYmFjazogZGF0YVNvdXJjZUlkc1swXSA9PT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8TWFwVGh1bWJcbiAgICAgICAgICAgICAgICBtYXBJdGVtSWQ9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dLml0ZW1JZCA6IG51bGx9XG4gICAgICAgICAgICAgICAgcG9ydFVybD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0ucG9ydGFsVXJsIDogbnVsbH1cbiAgICAgICAgICAgICAgICB0aGVtZT17dGhlbWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgdGl0bGU9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dLmxhYmVsIDogbnVsbH0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdtYXB0aHVtYi1pdGVtJywgeyBmcm9udDogZGF0YVNvdXJjZUlkc1sxXSAhPT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0sXG4gICAgICAgICAgICAgICAgeyBiYWNrOiBkYXRhU291cmNlSWRzWzFdID09PSBhY3RpdmVEYXRhU291cmNlSWQgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxNYXBUaHVtYlxuICAgICAgICAgICAgICAgIG1hcEl0ZW1JZD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0uaXRlbUlkIDogbnVsbH1cbiAgICAgICAgICAgICAgICBwb3J0VXJsPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXS5wb3J0YWxVcmwgOiBudWxsfVxuICAgICAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbkNvbnRlbnQgPSAoaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuLCBkYXRhU291cmNlSWRzOiBzdHJpbmdbXSwgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHN3aXRjaE1hcCkgPT4ge1xuICAgIGlmIChpc1Nob3dNYXBTd2l0Y2hCdG4pIHtcbiAgICAgIHRoaXMuc3dpdGNoTWFwID0gc3dpdGNoTWFwXG4gICAgICByZXR1cm4gc3VwZXIucmVuZGVyKClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gc3VwZXIucmVuZGVyKClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCB9KSA9PiAoXG4gICAgICAgICAgICB0aGlzLmdldEljb25Db250ZW50KGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXApXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICApXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Measure)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n\n\n\n\nclass Measure extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {\n    constructor(props) {\n        super(props);\n        this.toolName = 'Measure';\n        this.measureModules2D = [{\n                name: 'Line',\n                title: 'Line',\n                path: 'DistanceMeasurement2D',\n                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg\")\n            }, {\n                name: 'Polygon',\n                title: 'Polygon',\n                path: 'AreaMeasurement2D',\n                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg\")\n            }];\n        this.measureModules3D = [{\n                name: 'Line',\n                title: 'Line',\n                path: 'DirectLineMeasurement3D',\n                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg\")\n            }, {\n                name: 'Polygon',\n                title: 'Polygon',\n                path: 'AreaMeasurement3D',\n                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg\")\n            }];\n        this.handleMeasurceInstanceCreated = (measurceInstance, activeTabIndex) => {\n            const measureInstances = this.state.measureInstances;\n            measureInstances[activeTabIndex] = measurceInstance;\n            this.setState({\n                measureInstances: measureInstances\n            });\n        };\n        this.onTabClick = (index) => {\n            // eslint-disable-next-line\n            if (this.state.activeTabIndex === index) {\n            }\n            else {\n                this.setState({ activeTabIndex: index });\n                for (let i = 0; i < this.state.measureInstances.length; i++) {\n                    if (i !== index && this.state.measureInstances[i]) {\n                        this.state.measureInstances[i].visible = false;\n                    }\n                    if (i === index && this.state.measureInstances[i]) {\n                        this.state.measureInstances[i].visible = true;\n                    }\n                }\n            }\n        };\n        this.onClosePanel = () => {\n            for (let i = 0; i < this.state.measureInstances.length; i++) {\n                if (this.state.measureInstances[i]) {\n                    this.state.measureInstances[i].visible = false;\n                }\n            }\n        };\n        this.onShowPanel = () => {\n            for (let i = 0; i < this.state.measureInstances.length; i++) {\n                if (i !== this.state.activeTabIndex && this.state.measureInstances[i]) {\n                    this.state.measureInstances[i].visible = false;\n                }\n                if (i === this.state.activeTabIndex && this.state.measureInstances[i]) {\n                    this.state.measureInstances[i].visible = true;\n                }\n            }\n        };\n        this.getNavTab = () => {\n            if (this.props.jimuMapView.view.type === '2d') {\n                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules2D.map((module, index) => {\n                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },\n                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, onClick: () => { this.onTabClick(index); } },\n                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));\n                })));\n            }\n            else if (this.props.jimuMapView.view.type === '3d') {\n                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules3D.map((module, index) => {\n                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },\n                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, onClick: () => { this.onTabClick(index); } },\n                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));\n                })));\n            }\n            else {\n                return null;\n            }\n        };\n        this.getMeasureModule = () => {\n            if (this.props.jimuMapView.view.type === '2d') {\n                return this.measureModules2D[this.state.activeTabIndex];\n            }\n            else {\n                return this.measureModules3D[this.state.activeTabIndex];\n            }\n        };\n        this.state = {\n            activeTabIndex: 0,\n            measureInstances: [null, null]\n        };\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'MeasureLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.MeasureLabel });\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/measure.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg\")\n        };\n    }\n    destroy() {\n        for (let i = 0; i < this.state.measureInstances.length; i++) {\n            if (this.state.measureInstances[i] && !this.state.measureInstances[i].destroyed) {\n                this.state.measureInstances[i].destroy();\n            }\n        }\n    }\n    getExpandPanel() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { style: { width: this.props.isMobile ? '100%' : '250px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },\n            this.getNavTab(),\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(MeasureInner, { activeTabIndex: this.state.activeTabIndex, jimuMapView: this.props.jimuMapView, measureModule: this.getMeasureModule(), measureInstance: this.state.measureInstances[this.state.activeTabIndex], onMeasurceInstanceCreated: this.handleMeasurceInstanceCreated })));\n    }\n}\nclass MeasureInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.MeasureInstance = null;\n        this.checkContainer = () => {\n            if (this.container.style.opacity === '0' || this.container.style.opacity === 0) {\n                this.container.style.opacity = 1;\n                this.container.style.height = '';\n            }\n        };\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)(['esri/widgets/' + this.props.measureModule.path]).then(modules => {\n                [this.MeasureClass] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        var _a, _b;\n        if (prevProps.activeTabIndex !== this.props.activeTabIndex || prevProps.measureModule !== this.props.measureModule) {\n            this.reload();\n            return;\n        }\n        if (this.state.apiLoaded && this.parentContainer && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                this.props.measureInstance.view = this.props.jimuMapView.view;\n                this.props.measureInstance.renderNow();\n                this.props.measureInstance.viewModel.start();\n            }\n            else {\n                if (!this.props.measureInstance) {\n                    const tempInstance = new this.MeasureClass({\n                        container: this.container,\n                        view: this.props.jimuMapView.view\n                    });\n                    tempInstance.viewModel.start();\n                    this.props.onMeasurceInstanceCreated(tempInstance, this.props.activeTabIndex);\n                }\n                else {\n                    if (this.props.measureInstance.view === this.props.jimuMapView.view) {\n                        if (this.parentContainer.getElementsByClassName('measure-container') && this.parentContainer.getElementsByClassName('measure-container')[0]) {\n                            this.parentContainer.getElementsByClassName('measure-container')[0].remove();\n                        }\n                        this.parentContainer.appendChild(this.props.measureInstance.container);\n                        if (this.props.measureInstance.viewModel.state !== 'measured' && this.props.measureInstance.viewModel.state !== 'measuring') {\n                            this.props.measureInstance.viewModel.start();\n                        }\n                    }\n                    else {\n                        if (((_b = (_a = this.props.measureInstance) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) !== this.props.jimuMapView.view.type) {\n                            this.props.measureInstance.destroy();\n                            if (this.parentContainer.getElementsByClassName('measure-container') && this.parentContainer.getElementsByClassName('measure-container')[0]) {\n                                this.parentContainer.getElementsByClassName('measure-container')[0].remove();\n                            }\n                            this.container.innerHTML = '';\n                            this.container.style.opacity = 1;\n                            this.container.style.height = '';\n                            this.parentContainer.appendChild(this.container);\n                            const tempInstance = new this.MeasureClass({\n                                container: this.container,\n                                view: this.props.jimuMapView.view\n                            });\n                            tempInstance.viewModel.start();\n                            this.props.onMeasurceInstanceCreated(tempInstance, this.props.activeTabIndex);\n                        }\n                        else {\n                            this.props.measureInstance.view = this.props.jimuMapView.view;\n                            this.props.measureInstance.renderNow();\n                            this.props.measureInstance.viewModel.start();\n                        }\n                    }\n                }\n            }\n            this.checkContainer();\n        }\n    }\n    reload() {\n        if (this.container.childNodes && this.container.childNodes[0]) {\n            this.container.style.opacity = 0;\n            this.container.style.height = '35px';\n        }\n        this.setState({\n            apiLoaded: false\n        }, () => {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)(['esri/widgets/' + this.props.measureModule.path]).then(modules => {\n                [this.MeasureClass] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        });\n    }\n    render() {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'w-100', style: { width: '250px', position: 'relative', minHeight: '32px' }, ref: ref => { this.parentContainer = ref; } },\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'measure-container', ref: ref => { this.container = ref; } }),\n            !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { className: 'exbmap-basetool-loader' })));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWVhc3VyZS50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBMEJBO0FBQ0E7QUExQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUlBO0FBSUE7QUFBQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBSUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQWhIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNEZBO0FBQ0E7QUFLQTtBQUNBO0FBUUE7QUFDQTtBQWVBO0FBT0E7QUFDQTtBQU5BO0FBc0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5GQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL21lYXN1cmUudHN4PzAwYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBJY29uLCBOYXYsIE5hdkl0ZW0sIE5hdkxpbmssIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuXG50eXBlIE1lYXN1cmVUeXBlID0gKF9fZXNyaS5EaXN0YW5jZU1lYXN1cmVtZW50MkQgfCBfX2VzcmkuQXJlYU1lYXN1cmVtZW50MkQgfCBfX2VzcmkuRGlyZWN0TGluZU1lYXN1cmVtZW50M0QgfCBfX2VzcmkuQXJlYU1lYXN1cmVtZW50M0QpXG5cbmludGVyZmFjZSBTdGF0ZXMge1xuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXG4gIG1lYXN1cmVJbnN0YW5jZXM6IE1lYXN1cmVUeXBlW11cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVhc3VyZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xuICB0b29sTmFtZSA9ICdNZWFzdXJlJ1xuICBtZWFzdXJlTW9kdWxlczJEID0gW3tcbiAgICBuYW1lOiAnTGluZScsXG4gICAgdGl0bGU6ICdMaW5lJyxcbiAgICBwYXRoOiAnRGlzdGFuY2VNZWFzdXJlbWVudDJEJyxcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWRpc3RhbmNlLnN2ZycpXG4gIH0sIHtcbiAgICBuYW1lOiAnUG9seWdvbicsXG4gICAgdGl0bGU6ICdQb2x5Z29uJyxcbiAgICBwYXRoOiAnQXJlYU1lYXN1cmVtZW50MkQnLFxuICAgIHNyYzogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmcnKVxuICB9XVxuXG4gIG1lYXN1cmVNb2R1bGVzM0QgPSBbe1xuICAgIG5hbWU6ICdMaW5lJyxcbiAgICB0aXRsZTogJ0xpbmUnLFxuICAgIHBhdGg6ICdEaXJlY3RMaW5lTWVhc3VyZW1lbnQzRCcsXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxuICB9LCB7XG4gICAgbmFtZTogJ1BvbHlnb24nLFxuICAgIHRpdGxlOiAnUG9seWdvbicsXG4gICAgcGF0aDogJ0FyZWFNZWFzdXJlbWVudDNEJyxcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcbiAgfV1cblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVUYWJJbmRleDogMCxcbiAgICAgIG1lYXN1cmVJbnN0YW5jZXM6IFtudWxsLCBudWxsXVxuICAgIH1cbiAgfVxuXG4gIGdldFRpdGxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ01lYXN1cmVMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTWVhc3VyZUxhYmVsIH0pXG4gIH1cblxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2ZycpXG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSAoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gJiYgISh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gYXMgYW55KS5kZXN0cm95ZWQpIHtcbiAgICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSBhcyBhbnkpLmRlc3Ryb3koKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1lYXN1cmNlSW5zdGFuY2VDcmVhdGVkID0gKG1lYXN1cmNlSW5zdGFuY2U6IE1lYXN1cmVUeXBlLCBhY3RpdmVUYWJJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbWVhc3VyZUluc3RhbmNlcyA9IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1xuICAgIG1lYXN1cmVJbnN0YW5jZXNbYWN0aXZlVGFiSW5kZXhdID0gbWVhc3VyY2VJbnN0YW5jZVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbWVhc3VyZUluc3RhbmNlczogbWVhc3VyZUluc3RhbmNlc1xuICAgIH0pXG4gIH1cblxuICBvblRhYkNsaWNrID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXgpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlVGFiSW5kZXg6IGluZGV4IH0pXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldKSB7XG4gICAgICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSBhcyBhbnkpLnZpc2libGUgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPT09IGluZGV4ICYmIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSkge1xuICAgICAgICAgICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gYXMgYW55KS52aXNpYmxlID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25DbG9zZVBhbmVsID0gKCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldKSB7XG4gICAgICAgICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gYXMgYW55KS52aXNpYmxlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblNob3dQYW5lbCA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgIT09IHRoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggJiYgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldKSB7XG4gICAgICAgICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gYXMgYW55KS52aXNpYmxlID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgaWYgKGkgPT09IHRoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggJiYgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldKSB7XG4gICAgICAgICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gYXMgYW55KS52aXNpYmxlID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldE5hdlRhYiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICcyZCcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxOYXYgdGFicz57XG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczJELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPE5hdkl0ZW0ga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gb25DbGljaz17KCkgPT4geyB0aGlzLm9uVGFiQ2xpY2soaW5kZXgpIH19PlxuICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J20tMCcgaWNvbj17bW9kdWxlLnNyY30gLz5cbiAgICAgICAgICAgICAgICA8L05hdkxpbms+XG4gICAgICAgICAgICAgIDwvTmF2SXRlbT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIDwvTmF2PlxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICczZCcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxOYXYgdGFicz57XG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczNELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPE5hdkl0ZW0ga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gb25DbGljaz17KCkgPT4geyB0aGlzLm9uVGFiQ2xpY2soaW5kZXgpIH19PlxuICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J20tMCcgaWNvbj17bW9kdWxlLnNyY30gLz5cbiAgICAgICAgICAgICAgICA8L05hdkxpbms+XG4gICAgICAgICAgICAgIDwvTmF2SXRlbT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIDwvTmF2PlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGdldE1lYXN1cmVNb2R1bGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZWFzdXJlTW9kdWxlczJEW3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXhdXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm1lYXN1cmVNb2R1bGVzM0RbdGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleF1cbiAgICB9XG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7IHdpZHRoOiB0aGlzLnByb3BzLmlzTW9iaWxlID8gJzEwMCUnIDogJzI1MHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgJ2V4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0JzogIXRoaXMucHJvcHMuaXNNb2JpbGUgfSl9XG4gICAgICA+XG4gICAgICAgIHt0aGlzLmdldE5hdlRhYigpfVxuICAgICAgICA8TWVhc3VyZUlubmVyXG4gICAgICAgICAgYWN0aXZlVGFiSW5kZXg9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXh9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fVxuICAgICAgICAgIG1lYXN1cmVNb2R1bGU9e3RoaXMuZ2V0TWVhc3VyZU1vZHVsZSgpfVxuICAgICAgICAgIG1lYXN1cmVJbnN0YW5jZT17dGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXhdfVxuICAgICAgICAgIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ9e3RoaXMuaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuaW50ZXJmYWNlIE1lYXN1cmVJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XG4gIG1lYXN1cmVNb2R1bGU6IHtuYW1lOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHBhdGg6IHN0cmluZ31cbiAgbWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZVxuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXG5cbiAgb25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZDogKGluc3RhbmNlOiBNZWFzdXJlVHlwZSwgYWN0aXZlVGFiSW5kZXg6IG51bWJlcikgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgTWVhc3VyZUlubmVyU3RhdGUge1xuICBhcGlMb2FkZWQ6IGJvb2xlYW5cbn1cblxuY2xhc3MgTWVhc3VyZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxNZWFzdXJlSW5uZXJQcm9wcywgTWVhc3VyZUlubmVyU3RhdGU+IHtcbiAgTWVhc3VyZUNsYXNzOiB0eXBlb2YgX19lc3JpLkRpc3RhbmNlTWVhc3VyZW1lbnQyRCB8IHR5cGVvZiBfX2VzcmkuQXJlYU1lYXN1cmVtZW50MkQgfCB0eXBlb2YgX19lc3JpLkRpcmVjdExpbmVNZWFzdXJlbWVudDNEIHwgdHlwZW9mIF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQzRFxuICBNZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlID0gbnVsbFxuXG4gIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnRcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy8nICsgdGhpcy5wcm9wcy5tZWFzdXJlTW9kdWxlLnBhdGhdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5NZWFzdXJlQ2xhc3NdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IE1lYXN1cmVJbm5lclByb3BzKSB7XG4gICAgaWYgKHByZXZQcm9wcy5hY3RpdmVUYWJJbmRleCAhPT0gdGhpcy5wcm9wcy5hY3RpdmVUYWJJbmRleCB8fCBwcmV2UHJvcHMubWVhc3VyZU1vZHVsZSAhPT0gdGhpcy5wcm9wcy5tZWFzdXJlTW9kdWxlKSB7XG4gICAgICB0aGlzLnJlbG9hZCgpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5wYXJlbnRDb250YWluZXIgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xuICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgIHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnJlbmRlck5vdygpXG4gICAgICAgIHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnZpZXdNb2RlbC5zdGFydCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlKSB7XG4gICAgICAgICAgY29uc3QgdGVtcEluc3RhbmNlID0gbmV3IHRoaXMuTWVhc3VyZUNsYXNzKHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgICAgICB9KVxuICAgICAgICAgIHRlbXBJbnN0YW5jZS52aWV3TW9kZWwuc3RhcnQoKVxuXG4gICAgICAgICAgdGhpcy5wcm9wcy5vbk1lYXN1cmNlSW5zdGFuY2VDcmVhdGVkKHRlbXBJbnN0YW5jZSwgdGhpcy5wcm9wcy5hY3RpdmVUYWJJbmRleClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyA9PT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWVhc3VyZS1jb250YWluZXInKSAmJiB0aGlzLnBhcmVudENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZWFzdXJlLWNvbnRhaW5lcicpWzBdKSB7XG4gICAgICAgICAgICAgIHRoaXMucGFyZW50Q29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21lYXN1cmUtY29udGFpbmVyJylbMF0ucmVtb3ZlKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuY29udGFpbmVyIGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgaWYgKCh0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3TW9kZWwgYXMgYW55KS5zdGF0ZSAhPT0gJ21lYXN1cmVkJyAmJiAodGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2Uudmlld01vZGVsIGFzIGFueSkuc3RhdGUgIT09ICdtZWFzdXJpbmcnKSB7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnZpZXdNb2RlbC5zdGFydCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZT8udmlldz8udHlwZSAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuZGVzdHJveSgpXG4gICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZWFzdXJlLWNvbnRhaW5lcicpICYmIHRoaXMucGFyZW50Q29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21lYXN1cmUtY29udGFpbmVyJylbMF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZWFzdXJlLWNvbnRhaW5lcicpWzBdLnJlbW92ZSgpXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLmhlaWdodCA9ICcnXG5cbiAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXG5cbiAgICAgICAgICAgICAgY29uc3QgdGVtcEluc3RhbmNlID0gbmV3IHRoaXMuTWVhc3VyZUNsYXNzKHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB0ZW1wSW5zdGFuY2Uudmlld01vZGVsLnN0YXJ0KClcblxuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQodGVtcEluc3RhbmNlLCB0aGlzLnByb3BzLmFjdGl2ZVRhYkluZGV4KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS5yZW5kZXJOb3coKVxuICAgICAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3TW9kZWwuc3RhcnQoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5jaGVja0NvbnRhaW5lcigpXG4gICAgfVxuICB9XG5cbiAgY2hlY2tDb250YWluZXIgPSAoKSA9PiB7XG4gICAgaWYgKCh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPT09ICcwJyB8fCAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID09PSAwKSB7XG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLmhlaWdodCA9ICcnXG4gICAgfVxuICB9XG5cbiAgcmVsb2FkICgpIHtcbiAgICBpZiAodGhpcy5jb250YWluZXIuY2hpbGROb2RlcyAmJiB0aGlzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdKSB7XG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLmhlaWdodCA9ICczNXB4J1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH0sICgpID0+IHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvJyArIHRoaXMucHJvcHMubWVhc3VyZU1vZHVsZS5wYXRoXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuTWVhc3VyZUNsYXNzXSA9IG1vZHVsZXNcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAnIHN0eWxlPXt7IHdpZHRoOiAnMjUwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgbWluSGVpZ2h0OiAnMzJweCcgfX0gcmVmPXtyZWYgPT4geyB0aGlzLnBhcmVudENvbnRhaW5lciA9IHJlZiB9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21lYXN1cmUtY29udGFpbmVyJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Navigation)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n\n\n\nclass Navigation extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Navigation';\n    }\n    getTitle() {\n        return 'Navigation';\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(NavigationInner, { jimuMapView: this.props.jimuMapView });\n    }\n}\nclass NavigationInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Navigation = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/NavigationToggle']).then(modules => {\n                [this.Navigation] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.apiLoaded && this.container) {\n            if (this.NavigationBtn) {\n                this.container.innerHTML = '';\n            }\n            this.NavigationBtn = new this.Navigation({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.NavigationBtn) {\n            this.NavigationBtn.destroy();\n            this.NavigationBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbmF2aWdhdGlvbi50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFhQTtBQVhBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFLQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9uYXZpZ2F0aW9uLnRzeD9jNzMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcbiAgdG9vbE5hbWUgPSAnTmF2aWdhdGlvbidcblxuICBnZXRUaXRsZSAoKSB7XG4gICAgcmV0dXJuICdOYXZpZ2F0aW9uJ1xuICB9XG5cbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8TmF2aWdhdGlvbklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxuICB9XG59XG5cbmludGVyZmFjZSBOYXZpZ2F0aW9uSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xufVxuXG5pbnRlcmZhY2UgTmF2aWdhdGlvbklubmVyU3RhdGUge1xuICBhcGlMb2FkZWQ6IGJvb2xlYW5cbn1cblxuY2xhc3MgTmF2aWdhdGlvbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxOYXZpZ2F0aW9uSW5uZXJQcm9wcywgTmF2aWdhdGlvbklubmVyU3RhdGU+IHtcbiAgTmF2aWdhdGlvbjogdHlwZW9mIF9fZXNyaS5OYXZpZ2F0aW9uVG9nZ2xlID0gbnVsbFxuICBOYXZpZ2F0aW9uQnRuOiBfX2VzcmkuTmF2aWdhdGlvblRvZ2dsZVxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL05hdmlnYXRpb25Ub2dnbGUnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuTmF2aWdhdGlvbl0gPSBtb2R1bGVzXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xuICAgICAgfVxuXG4gICAgICB0aGlzLk5hdmlnYXRpb25CdG4gPSBuZXcgdGhpcy5OYXZpZ2F0aW9uKHtcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICBpZiAodGhpcy5OYXZpZ2F0aW9uQnRuKSB7XG4gICAgICB0aGlzLk5hdmlnYXRpb25CdG4uZGVzdHJveSgpXG4gICAgICB0aGlzLk5hdmlnYXRpb25CdG4gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx":
/*!*****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScaleBar)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n\n\n\nclass ScaleBar extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'ScaleBar';\n    }\n    getTitle() {\n        return 'ScaleBar';\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ScaleBarInner, { jimuMapView: this.props.jimuMapView });\n    }\n}\nclass ScaleBarInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.ScaleBar = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/ScaleBar']).then(modules => {\n                [this.ScaleBar] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.apiLoaded && this.container) {\n            if (this.ScaleBarBtn) {\n                this.container.innerHTML = '';\n            }\n            this.ScaleBarBtn = new this.ScaleBar({\n                container: this.container,\n                view: this.props.jimuMapView.view,\n                unit: 'dual'\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.ScaleBarBtn) {\n            this.ScaleBarBtn.destroy();\n            this.ScaleBarBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2NhbGViYXIudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBYUE7QUFYQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zY2FsZWJhci50c3g/ZDQwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEJhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYWxlQmFyIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xuICB0b29sTmFtZSA9ICdTY2FsZUJhcidcblxuICBnZXRUaXRsZSAoKSB7XG4gICAgcmV0dXJuICdTY2FsZUJhcidcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPFNjYWxlQmFySW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XG4gIH1cbn1cblxuaW50ZXJmYWNlIFNjYWxlQmFySW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xufVxuXG5pbnRlcmZhY2UgU2NhbGVCYXJJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIFNjYWxlQmFySW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNjYWxlQmFySW5uZXJQcm9wcywgU2NhbGVCYXJJbm5lclN0YXRlPiB7XG4gIFNjYWxlQmFyOiB0eXBlb2YgX19lc3JpLlNjYWxlQmFyID0gbnVsbFxuICBTY2FsZUJhckJ0bjogX19lc3JpLlNjYWxlQmFyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvU2NhbGVCYXInXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuU2NhbGVCYXJdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLlNjYWxlQmFyQnRuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXG4gICAgICB9XG5cbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBuZXcgdGhpcy5TY2FsZUJhcih7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyxcbiAgICAgICAgdW5pdDogJ2R1YWwnXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICBpZiAodGhpcy5TY2FsZUJhckJ0bikge1xuICAgICAgdGhpcy5TY2FsZUJhckJ0bi5kZXN0cm95KClcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Search)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/** @jsx jsx */\n\n\n\n\nclass Search extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Search';\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'SearchLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.SearchLabel });\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/search.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg\")\n        };\n    }\n    getExpandPanel() {\n        if (this.props.isMobile) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { minHeight: '32px', position: 'relative', width: '100%' } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView })));\n        }\n        else {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { minWidth: '250px', minHeight: '32px', position: 'relative' } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView })));\n        }\n    }\n}\nclass SearchInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Search = null;\n        this.Portal = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    getStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      /* border: solid 1px rgba(110,110,110,0.3); */\n    `;\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Search', 'esri/portal/Portal']).then(modules => {\n                [this.Search, this.Portal] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.apiLoaded && this.container) {\n            if (this.SearchBtn) {\n                this.container.innerHTML = '';\n            }\n            this.SearchBtn = new this.Search({\n                container: this.container,\n                view: this.props.jimuMapView.view,\n                portal: new this.Portal({\n                    url: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl\n                })\n            });\n            this.SearchBtn.own(this.SearchBtn.on('select-result', (event) => {\n                var _a, _b, _c, _d, _e;\n                // use zoomToUtils to instead of default zoom for searing result with single point\n                if (((_b = (_a = event === null || event === void 0 ? void 0 : event.result) === null || _a === void 0 ? void 0 : _a.feature) === null || _b === void 0 ? void 0 : _b.layer) && ((_e = (_d = (_c = event === null || event === void 0 ? void 0 : event.result) === null || _c === void 0 ? void 0 : _c.feature) === null || _d === void 0 ? void 0 : _d.geometry) === null || _e === void 0 ? void 0 : _e.type) === 'point') {\n                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(this.props.jimuMapView.view, [event.result.feature], {});\n                }\n            }));\n        }\n    }\n    componentWillUnmount() {\n        if (this.SearchBtn) {\n            this.SearchBtn.destroy();\n            this.SearchBtn = null;\n        }\n    }\n    render() {\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: 'w-100', ref: ref => { this.container = ref; } }, !this.state.apiLoaded && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'exbmap-basetool-loader' })));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VhcmNoLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBMkJBO0FBekJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBVUE7QUFNQTtBQUNBO0FBTkE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWFyY2gudHN4PzhhZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIGdldEFwcFN0b3JlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcsIHpvb21Ub1V0aWxzIH0gZnJvbSAnamltdS1hcmNnaXMnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2ggZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ1NlYXJjaCdcblxuICBnZXRUaXRsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWFyY2hMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VhcmNoTGFiZWwgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL3NlYXJjaC5zdmcnKVxuICAgIH1cbiAgfVxuXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgIDxTZWFyY2hJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWluV2lkdGg6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgICA8U2VhcmNoSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgU2VhcmNoSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xufVxuXG5pbnRlcmZhY2UgU2VhcmNoSW5uZXJTdGF0ZSB7XG4gIGFwaUxvYWRlZDogYm9vbGVhblxufVxuXG5jbGFzcyBTZWFyY2hJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2VhcmNoSW5uZXJQcm9wcywgU2VhcmNoSW5uZXJTdGF0ZT4ge1xuICBTZWFyY2g6IHR5cGVvZiBfX2Vzcmkud2lkZ2V0c1NlYXJjaCA9IG51bGxcbiAgUG9ydGFsOiB0eXBlb2YgX19lc3JpLlBvcnRhbCA9IG51bGxcbiAgU2VhcmNoQnRuOiBfX2Vzcmkud2lkZ2V0c1NlYXJjaFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGdldFN0eWxlICgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLyogYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgxMTAsMTEwLDExMCwwLjMpOyAqL1xuICAgIGBcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1NlYXJjaCcsICdlc3JpL3BvcnRhbC9Qb3J0YWwnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuU2VhcmNoLCB0aGlzLlBvcnRhbF0gPSBtb2R1bGVzXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuU2VhcmNoQnRuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXG4gICAgICB9XG5cbiAgICAgIHRoaXMuU2VhcmNoQnRuID0gbmV3IHRoaXMuU2VhcmNoKHtcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxuICAgICAgICBwb3J0YWw6IG5ldyB0aGlzLlBvcnRhbCh7XG4gICAgICAgICAgdXJsOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkucG9ydGFsVXJsXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICB0aGlzLlNlYXJjaEJ0bi5vd24odGhpcy5TZWFyY2hCdG4ub24oJ3NlbGVjdC1yZXN1bHQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgLy8gdXNlIHpvb21Ub1V0aWxzIHRvIGluc3RlYWQgb2YgZGVmYXVsdCB6b29tIGZvciBzZWFyaW5nIHJlc3VsdCB3aXRoIHNpbmdsZSBwb2ludFxuICAgICAgICBpZiAoZXZlbnQ/LnJlc3VsdD8uZmVhdHVyZT8ubGF5ZXIgJiYgZXZlbnQ/LnJlc3VsdD8uZmVhdHVyZT8uZ2VvbWV0cnk/LnR5cGUgPT09ICdwb2ludCcpIHtcbiAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8odGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LCBbZXZlbnQucmVzdWx0LmZlYXR1cmVdLCB7fSlcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGlmICh0aGlzLlNlYXJjaEJ0bikge1xuICAgICAgdGhpcy5TZWFyY2hCdG4uZGVzdHJveSgpXG4gICAgICB0aGlzLlNlYXJjaEJ0biA9IG51bGxcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19PlxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Select)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _select_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-pc */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx\");\n/* harmony import */ var _select_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-mobile */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx\");\n/** @jsx jsx */\n\n\n\n\n\nclass Select extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor(props) {\n        super(props);\n        this.toolName = 'Select';\n        this.state = {};\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.SelectLabel });\n    }\n    getIcon() {\n        return {\n            icon: __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\")\n        };\n    }\n    getExpandPanel() {\n        if (this.props.isMobile) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_mobile__WEBPACK_IMPORTED_MODULE_4__.SelectMobileTool, { isActive: this.toolName === (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName), activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); }, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView }));\n        }\n        else {\n            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_pc__WEBPACK_IMPORTED_MODULE_3__.SelectPCTool, { theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView });\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L2luZGV4LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUdBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3QvaW5kZXgudHN4Pzk3ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBqc3ggfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgU2VsZWN0UENUb29sIH0gZnJvbSAnLi9zZWxlY3QtcGMnXG5pbXBvcnQgeyBTZWxlY3RNb2JpbGVUb29sIH0gZnJvbSAnLi9zZWxlY3QtbW9iaWxlJ1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbmludGVyZmFjZSBTZWxlY3RTdGF0ZSB7fVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3QgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTZWxlY3RTdGF0ZT4ge1xuICB0b29sTmFtZSA9ICdTZWxlY3QnXG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG5cbiAgICB0aGlzLnN0YXRlID0ge31cbiAgfVxuXG4gIGdldFRpdGxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3RMYWJlbCB9KVxuICB9XG5cbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXJlY3RhbmdsZS5zdmcnKVxuICAgIH1cbiAgfVxuXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTZWxlY3RNb2JpbGVUb29sXG4gICAgICAgICAgaXNBY3RpdmU9e3RoaXMudG9vbE5hbWUgPT09ICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUpfVxuICAgICAgICAgIGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfSB0b29sTmFtZT17dGhpcy50b29sTmFtZX1cbiAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IF9vbkljb25DbGljaz17KCkgPT4geyAodGhpcyBhcyBhbnkpLl9vbkljb25DbGljaygpIH19XG4gICAgICAgICAgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGludGw9e3RoaXMucHJvcHMuaW50bH0gamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8U2VsZWN0UENUb29sIHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSBpbnRsPXt0aGlzLnByb3BzLmludGx9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx":
/*!*****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectMobileTool\": () => (/* binding */ SelectMobileTool)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/** @jsx jsx */\n\n\n\n\nconst defaultPointSymbol = {\n    style: 'esriSMSCircle',\n    color: [0, 0, 128, 128],\n    name: 'Circle',\n    outline: {\n        color: [0, 0, 128, 255],\n        width: 1\n    },\n    type: 'esriSMS',\n    size: 18\n};\nconst defaultPolylineSymbol = {\n    tags: ['solid'],\n    title: 'Blue Thin',\n    style: 'esriSLSSolid',\n    color: [79, 129, 189, 255],\n    width: 3,\n    name: 'Blue 1',\n    type: 'esriSLS'\n};\nconst defaultPolygonSymbol = {\n    style: 'esriSFSSolid',\n    color: [79, 129, 189, 77],\n    type: 'esriSFS',\n    outline: {\n        style: 'esriSLSSolid',\n        color: [54, 93, 141, 255],\n        width: 1.5,\n        type: 'esriSLS'\n    }\n};\nconst SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\");\nconst SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg\");\nconst SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg\");\nconst SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg\");\nconst SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg\");\nconst SelectMoreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-16.svg */ \"./jimu-ui/lib/icons/more-16.svg\");\nclass SelectMobileTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.jsonUtils = null;\n        this.currentActiveTool = 'rectangle';\n        this.setCurrentSelectType = (currentSelectType) => {\n            this.initialSketchTool();\n            if (currentSelectType === this.state.currentSelectType) {\n                return;\n            }\n            if (currentSelectType === 'Point') {\n                if (this.props.isActive) {\n                    this.sketchViewModel.create('point');\n                }\n                this.currentActiveTool = 'point';\n            }\n            if (currentSelectType === 'Rectangle') {\n                if (this.props.isActive) {\n                    this.sketchViewModel.create('rectangle');\n                }\n                this.currentActiveTool = 'rectangle';\n            }\n            if (currentSelectType === 'Lasso') {\n                if (this.props.isActive) {\n                    this.sketchViewModel.create('polygon');\n                }\n                this.currentActiveTool = 'polygon';\n            }\n            if (currentSelectType === 'Circle') {\n                if (this.props.isActive) {\n                    this.sketchViewModel.create('circle');\n                }\n                this.currentActiveTool = 'circle';\n            }\n            if (currentSelectType === 'Line') {\n                if (this.props.isActive) {\n                    this.sketchViewModel.create('polyline');\n                }\n                this.currentActiveTool = 'polyline';\n            }\n            this.setState({\n                currentSelectType: currentSelectType\n            }, () => {\n                if (!this.props.activeToolInfo || (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== this.props.toolName)) {\n                    this.props._onIconClick(null);\n                }\n            });\n        };\n        this.toggleIsSelectActive = () => {\n            this.props._onIconClick(null);\n        };\n        this.handleIsShowSelectSetting = () => {\n            this.setState({\n                isShowSelectSetting: !this.state.isShowSelectSetting\n            });\n        };\n        this.getSelectToolIcon = () => {\n            if (this.state.currentSelectType === 'Point') {\n                return SelectPointIcon;\n            }\n            else if (this.state.currentSelectType === 'Rectangle') {\n                return SelectRectangleIcon;\n            }\n            else if (this.state.currentSelectType === 'Lasso') {\n                return SelectLassoIcon;\n            }\n            else if (this.state.currentSelectType === 'Circle') {\n                return SelectCircleIcon;\n            }\n            else if (this.state.currentSelectType === 'Line') {\n                return SelectLineIcon;\n            }\n            else {\n                return SelectRectangleIcon;\n            }\n        };\n        this.getMobilePanelForSelectSetting = () => {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanel, { mapWidgetId: `${mapWidgetId}-with-select-container`, title: '', open: this.state.isShowSelectSetting, toggle: () => { this.handleIsShowSelectSetting(); } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100' }, this.getMobilePanelSettingContent())))));\n        };\n        this.getMobilePanelSettingContent = () => {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getCSSStyle() },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 select-tool-type-mobile-container-shell' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-mobile-container' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'\n                            }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, style: { float: 'left' } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'\n                            }), onClick: () => { this.setCurrentSelectType('Lasso'); }, style: { float: 'left' } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': this.state.currentSelectType === 'Circle'\n                            }), onClick: () => { this.setCurrentSelectType('Circle'); }, style: { float: 'left' } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }))),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': this.state.currentSelectType === 'Line'\n                            }), onClick: () => { this.setCurrentSelectType('Line'); }, style: { float: 'left' } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': this.state.currentSelectType === 'Point'\n                            }), onClick: () => { this.setCurrentSelectType('Point'); }, style: { float: 'left' } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null,\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center mt-2' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center mt-2' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain }))))));\n        };\n        this.state = {\n            currentSelectType: 'Rectangle',\n            sketchInitialed: false,\n            spatialRelationship: 'intersects',\n            isQuerying: false,\n            isShowSelectSetting: false\n        };\n    }\n    getCSSStyle() {\n        const theme = this.props.theme;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      background-color: 'initial';\n\n      .select-tool-btn-hover: hover {\n        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.palette.primary[500], 0.1)};;\n      }\n\n      .content-title {\n        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};\n        font-weight: bold;\n      }\n\n      .select-tool-type-mobile-container-shell {\n        overflow-x: auto;\n      }\n\n      .select-tool-type-mobile-container-shell::-webkit-scrollbar {\n        height: 0 !important;\n        display: none;\n      }\n\n      .select-tool-type-mobile-container {\n        width: 400px;\n      }\n\n      .select-tool-type {\n        width: 64px;\n        height: 64px;\n        border: 1px solid ${theme.colors.palette.light[400]};\n        cursor: pointer;\n      }\n\n      .select-tool-type-choosed {\n        border: 1px solid ${theme.colors.primary};\n        position: relative;\n      }\n\n      .select-tool-type-choosed:after {\n        width: 0;\n        height: 0;\n        border-top: 8px solid ${theme.colors.primary};\n        border-left: 8px solid transparent;\n        position: absolute;\n        top: 0;\n        right: 0;\n        content: \"\";\n      }\n\n      .select-tool-type-text {\n        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};\n      }\n\n      .select-tool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .select-tool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .select-tool-loader:after {\n        background-color: ${theme.colors.primary};\n        width: 40%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n    `;\n    }\n    componentDidMount() {\n        if (!this.state.sketchInitialed) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([\n                'esri/widgets/Sketch/SketchViewModel',\n                'esri/layers/GraphicsLayer',\n                'esri/rest/support/Query',\n                'esri/symbols/support/jsonUtils',\n                'esri/geometry/geometryEngine'\n            ]).then(modules => {\n                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;\n                this.props.jimuMapView.view.when(() => {\n                    this.initialSketchTool();\n                    this.setState({\n                        sketchInitialed: true\n                    });\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps, prevState) {\n        const prevActiveToolName = prevProps.activeToolInfo && prevProps.activeToolInfo.activeToolName;\n        const currentActiveToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;\n        if (prevActiveToolName !== currentActiveToolName && currentActiveToolName !== this.props.toolName && currentActiveToolName) {\n            this.setState({\n                isShowSelectSetting: false\n            });\n        }\n        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            if (this.props.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            this.sketchViewModel.view = this.props.jimuMapView.view;\n            if (this.props.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevProps.isActive !== this.props.isActive) {\n            this.initialSketchTool();\n            if (this.props.isActive) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            else {\n                this.sketchViewModel.destroy();\n                this.sketchViewModel = null;\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.sketchViewModel) {\n            this.sketchViewModel.destroy();\n        }\n    }\n    initialSketchTool() {\n        if (!this.SketchViewModel) {\n            return;\n        }\n        if (!this.sketchViewModel) {\n            this.sketchViewModel = new this.SketchViewModel({\n                view: this.props.jimuMapView.view,\n                layer: new this.GraphicsLayer(),\n                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),\n                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),\n                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)\n            });\n            this.sketchViewModel.on('create', (event) => {\n                if (event.state === 'complete') {\n                    this.sketchViewModel.create(this.currentActiveTool);\n                    this.setState({\n                        isQuerying: true\n                    });\n                    const jimuMapView = this.props.jimuMapView;\n                    jimuMapView.selectFeaturesByGraphic(event.graphic, this.state.spatialRelationship).then(() => {\n                        this.setState({\n                            isQuerying: false\n                        });\n                    });\n                }\n            });\n        }\n    }\n    render() {\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getCSSStyle() },\n            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { onClick: this.toggleIsSelectActive, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button', {\n                    'exbmap-ui-tool-icon-selected': this.props.isActive\n                }) },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),\n            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'border border-top-0 w-100', style: { height: '1px' } }),\n            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { onClick: this.handleIsShowSelectSetting, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),\n            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),\n            this.state.isShowSelectSetting && this.getMobilePanelForSelectSetting(),\n            (this.state.isQuerying || !this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-loader' })));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1tb2JpbGUudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFDQTtBQU5BO0FBR0E7QUE2TUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBQ0E7QUFJQTtBQU9BO0FBM1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTs7OztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CQTs7Ozs7QUFLQTs7Ozs7OztBQU9BOzs7Ozs7Ozs7QUFTQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQkE7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc01BO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdC9zZWxlY3QtbW9iaWxlLnRzeD8wMzI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgY3NzLCBqc3gsIGNsYXNzTmFtZXMsIFJlYWN0LCBwb2xpc2hlZCwgSU1UaGVtZVZhcmlhYmxlcywgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSWNvbiwgTW9iaWxlUGFuZWwsIGRlZmF1bHRNZXNzYWdlcywgUmFkaW8gfSBmcm9tICdqaW11LXVpJ1xuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcbmltcG9ydCB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcbiAgaW50bD86IEludGxTaGFwZVxuXG4gIGlzQWN0aXZlOiBib29sZWFuXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXG4gIHRvb2xOYW1lOiBzdHJpbmdcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT86IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcbiAgX29uSWNvbkNsaWNrPzogKGU6IGFueSkgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgU3RhdGVzIHtcbiAgc2tldGNoSW5pdGlhbGVkOiBib29sZWFuXG4gIGlzUXVlcnlpbmc6IGJvb2xlYW5cbiAgaXNTaG93U2VsZWN0U2V0dGluZzogYm9vbGVhblxuXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcbiAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIHwgJ2NvbnRhaW5zJ1xufVxuXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XG4gIHN0eWxlOiAnZXNyaVNNU0NpcmNsZScsXG4gIGNvbG9yOiBbMCwgMCwgMTI4LCAxMjhdLFxuICBuYW1lOiAnQ2lyY2xlJyxcbiAgb3V0bGluZToge1xuICAgIGNvbG9yOiBbMCwgMCwgMTI4LCAyNTVdLFxuICAgIHdpZHRoOiAxXG4gIH0sXG4gIHR5cGU6ICdlc3JpU01TJyxcbiAgc2l6ZTogMThcbn1cblxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xuICB0YWdzOiBbJ3NvbGlkJ10sXG4gIHRpdGxlOiAnQmx1ZSBUaGluJyxcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxuICBjb2xvcjogWzc5LCAxMjksIDE4OSwgMjU1XSxcbiAgd2lkdGg6IDMsXG4gIG5hbWU6ICdCbHVlIDEnLFxuICB0eXBlOiAnZXNyaVNMUydcbn1cblxuY29uc3QgZGVmYXVsdFBvbHlnb25TeW1ib2wgPSB7XG4gIHN0eWxlOiAnZXNyaVNGU1NvbGlkJyxcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcbiAgdHlwZTogJ2VzcmlTRlMnLFxuICBvdXRsaW5lOiB7XG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxuICAgIGNvbG9yOiBbNTQsIDkzLCAxNDEsIDI1NV0sXG4gICAgd2lkdGg6IDEuNSxcbiAgICB0eXBlOiAnZXNyaVNMUydcbiAgfVxufVxuXG5jb25zdCBTZWxlY3RSZWN0YW5nbGVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnJylcbmNvbnN0IFNlbGVjdExhc3NvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnJylcbmNvbnN0IFNlbGVjdENpcmNsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmcnKVxuY29uc3QgU2VsZWN0TGluZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxpbmUuc3ZnJylcbmNvbnN0IFNlbGVjdFBvaW50SWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnJylcbmNvbnN0IFNlbGVjdE1vcmVJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvbW9yZS0xNi5zdmcnKVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0TW9iaWxlVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xuICBTa2V0Y2hWaWV3TW9kZWw6IHR5cGVvZiBfX2VzcmkuU2tldGNoVmlld01vZGVsXG4gIEdyYXBoaWNzTGF5ZXI6IHR5cGVvZiBfX2VzcmkuR3JhcGhpY3NMYXllclxuICBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeVxuICBqc29uVXRpbHM6IHR5cGVvZiBfX2VzcmkuanNvblV0aWxzID0gbnVsbFxuICBnZW9tZXRyeUVuZ2luZTogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeUVuZ2luZVxuICBza2V0Y2hWaWV3TW9kZWw6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcbiAgY3VycmVudEFjdGl2ZVRvb2w6IHN0cmluZyA9ICdyZWN0YW5nbGUnXG5cbiAgY29uc3RydWN0b3IgKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogJ1JlY3RhbmdsZScsXG4gICAgICBza2V0Y2hJbml0aWFsZWQ6IGZhbHNlLFxuICAgICAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnLFxuICAgICAgaXNRdWVyeWluZzogZmFsc2UsXG4gICAgICBpc1Nob3dTZWxlY3RTZXR0aW5nOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGdldENTU1N0eWxlICgpIHtcbiAgICBjb25zdCB0aGVtZSA9IHRoaXMucHJvcHMudGhlbWVcblxuICAgIHJldHVybiBjc3NgXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAnaW5pdGlhbCc7XG5cbiAgICAgIC5zZWxlY3QtdG9vbC1idG4taG92ZXI6IGhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNTAwXSwgMC4xKX07O1xuICAgICAgfVxuXG4gICAgICAuY29udGVudC10aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwge1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZSB7XG4gICAgICAgIHdpZHRoOiA2NHB4O1xuICAgICAgICBoZWlnaHQ6IDY0cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQ6YWZ0ZXIge1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgICAgIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlcjpiZWZvcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YWZ0ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICAgICAgd2lkdGg6IDQwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgIGBcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL0dyYXBoaWNzTGF5ZXInLFxuICAgICAgICAnZXNyaS9yZXN0L3N1cHBvcnQvUXVlcnknLFxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcbiAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmUnXG4gICAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5Ta2V0Y2hWaWV3TW9kZWwsIHRoaXMuR3JhcGhpY3NMYXllciwgdGhpcy5RdWVyeSwgdGhpcy5qc29uVXRpbHMsIHRoaXMuZ2VvbWV0cnlFbmdpbmVdID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcud2hlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNrZXRjaEluaXRpYWxlZDogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZXMpIHtcbiAgICBjb25zdCBwcmV2QWN0aXZlVG9vbE5hbWUgPSBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lXG4gICAgY29uc3QgY3VycmVudEFjdGl2ZVRvb2xOYW1lID0gdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lXG5cbiAgICBpZiAocHJldkFjdGl2ZVRvb2xOYW1lICE9PSBjdXJyZW50QWN0aXZlVG9vbE5hbWUgJiYgY3VycmVudEFjdGl2ZVRvb2xOYW1lICE9PSB0aGlzLnByb3BzLnRvb2xOYW1lICYmIGN1cnJlbnRBY3RpdmVUb29sTmFtZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzU2hvd1NlbGVjdFNldHRpbmc6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChwcmV2U3RhdGUuc2tldGNoSW5pdGlhbGVkICE9PSB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcblxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUgJiYgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmlzQWN0aXZlICE9PSB0aGlzLnByb3BzLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZXN0cm95KClcbiAgICB9XG4gIH1cblxuICBpbml0aWFsU2tldGNoVG9vbCAoKSB7XG4gICAgaWYgKCF0aGlzLlNrZXRjaFZpZXdNb2RlbCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBuZXcgdGhpcy5Ta2V0Y2hWaWV3TW9kZWwoe1xuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXG4gICAgICAgIGxheWVyOiBuZXcgdGhpcy5HcmFwaGljc0xheWVyKCksXG4gICAgICAgIHBvaW50U3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9pbnRTeW1ib2wpIGFzIGFueSxcbiAgICAgICAgcG9seWxpbmVTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5bGluZVN5bWJvbCkgYXMgYW55LFxuICAgICAgICBwb2x5Z29uU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWdvblN5bWJvbCkgYXMgYW55XG4gICAgICB9KVxuXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSlcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzUXVlcnlpbmc6IHRydWVcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XG4gICAgICAgICAgamltdU1hcFZpZXcuc2VsZWN0RmVhdHVyZXNCeUdyYXBoaWMoZXZlbnQuZ3JhcGhpYywgdGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc1F1ZXJ5aW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHNldEN1cnJlbnRTZWxlY3RUeXBlID0gKGN1cnJlbnRTZWxlY3RUeXBlOiBhbnkpID0+IHtcbiAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvaW50JylcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9pbnQnXG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdyZWN0YW5nbGUnKVxuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdyZWN0YW5nbGUnXG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlnb24nKVxuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5Z29uJ1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgnY2lyY2xlJylcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAnY2lyY2xlJ1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlsaW5lJylcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9seWxpbmUnXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogY3VycmVudFNlbGVjdFR5cGVcbiAgICB9LCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gfHwgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSAhPT0gdGhpcy5wcm9wcy50b29sTmFtZSkpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5fb25JY29uQ2xpY2sobnVsbClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdG9nZ2xlSXNTZWxlY3RBY3RpdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5fb25JY29uQ2xpY2sobnVsbClcbiAgfVxuXG4gIGhhbmRsZUlzU2hvd1NlbGVjdFNldHRpbmcgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1Nob3dTZWxlY3RTZXR0aW5nOiAhdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RTZXR0aW5nXG4gICAgfSlcbiAgfVxuXG4gIGdldFNlbGVjdFRvb2xJY29uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0UG9pbnRJY29uXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcbiAgICAgIHJldHVybiBTZWxlY3RMYXNzb0ljb25cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0Q2lyY2xlSWNvblxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0TGluZUljb25cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cbiAgICB9XG4gIH1cblxuICBnZXRNb2JpbGVQYW5lbEZvclNlbGVjdFNldHRpbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsoeyBtYXBXaWRnZXRJZCB9KSA9PiAoXG4gICAgICAgICAgPE1vYmlsZVBhbmVsXG4gICAgICAgICAgICBtYXBXaWRnZXRJZD17YCR7bWFwV2lkZ2V0SWR9LXdpdGgtc2VsZWN0LWNvbnRhaW5lcmB9IHRpdGxlPScnXG4gICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFNldHRpbmd9IHRvZ2dsZT17KCkgPT4geyB0aGlzLmhhbmRsZUlzU2hvd1NlbGVjdFNldHRpbmcoKSB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCc+XG4gICAgICAgICAgICAgIHt0aGlzLmdldE1vYmlsZVBhbmVsU2V0dGluZ0NvbnRlbnQoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XG4gICAgICAgICl9XG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICApXG4gIH1cblxuICBnZXRNb2JpbGVQYW5lbFNldHRpbmdDb250ZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUgbXQtMSBtYi0yJz5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2wnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2wgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsJz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyJz5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcbiAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZSdcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUmVjdGFuZ2xlJykgfX0gc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JyB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFJlY3RhbmdsZUljb259IC8+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcbiAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJ1xuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMYXNzbycpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMYXNzb0ljb259IC8+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJ1xuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdDaXJjbGUnKSB9fSBzdHlsZT17eyBmbG9hdDogJ2xlZnQnIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2lyY2xlSWNvbn0gLz5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZSdcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnTGluZScpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMaW5lSWNvbn0gLz5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcbiAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50J1xuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdQb2ludCcpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RQb2ludEljb259IC8+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUgbXQtMSBtYi0yJz5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbk1vZGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbk1vZGUgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTInPlxuICAgICAgICAgICAgPFJhZGlvXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2ludGVyc2VjdHMnfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19PlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbldpdGhpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uV2l0aGluIH0pfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cbiAgICAgICAgICAgIDxSYWRpb1xuICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdjb250YWlucyd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnIH0pIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fT5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Db250YWluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Db250YWluIH0pfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfT5cbiAgICAgICAge3RoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXZcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUlzU2VsZWN0QWN0aXZlfSBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcbiAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy5wcm9wcy5pc0FjdGl2ZVxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICB7IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgc3R5bGU9e3t9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nKX0+XG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYm9yZGVyIGJvcmRlci10b3AtMCB3LTEwMCcgc3R5bGU9e3sgaGVpZ2h0OiAnMXB4JyB9fSAvPlxuICAgICAgICB7dGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdiBvbkNsaWNrPXt0aGlzLmhhbmRsZUlzU2hvd1NlbGVjdFNldHRpbmd9IHN0eWxlPXt7fX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJyl9PlxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXtTZWxlY3RNb3JlSWNvbn0gLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgICB7IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgc3R5bGU9e3t9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nKX0+XG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e1NlbGVjdE1vcmVJY29ufSAvPlxuICAgICAgICA8L2Rpdj59XG4gICAgICAgIHt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFNldHRpbmcgJiYgdGhpcy5nZXRNb2JpbGVQYW5lbEZvclNlbGVjdFNldHRpbmcoKX1cbiAgICAgICAgeyh0aGlzLnN0YXRlLmlzUXVlcnlpbmcgfHwgIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSAmJiA8ZGl2IGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtbG9hZGVyJyAvPn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectPCTool\": () => (/* binding */ SelectPCTool)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/** @jsx jsx */\n\n\n\nconst defaultPointSymbol = {\n    style: 'esriSMSCircle',\n    color: [0, 0, 128, 128],\n    name: 'Circle',\n    outline: {\n        color: [0, 0, 128, 255],\n        width: 1\n    },\n    type: 'esriSMS',\n    size: 18\n};\nconst defaultPolylineSymbol = {\n    tags: ['solid'],\n    title: 'Blue Thin',\n    style: 'esriSLSSolid',\n    color: [79, 129, 189, 255],\n    width: 3,\n    name: 'Blue 1',\n    type: 'esriSLS'\n};\nconst defaultPolygonSymbol = {\n    style: 'esriSFSSolid',\n    color: [79, 129, 189, 77],\n    type: 'esriSFS',\n    outline: {\n        style: 'esriSLSSolid',\n        color: [54, 93, 141, 255],\n        width: 1.5,\n        type: 'esriSLS'\n    }\n};\nconst IconArrowDown = __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-header.svg */ \"./jimu-ui/lib/icons/arrow-down-header.svg\");\nconst SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\");\nconst SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg\");\nconst SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg\");\nconst SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg\");\nconst SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg\");\nconst SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg\");\nclass SelectPCTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.currentActiveTool = 'rectangle';\n        this.jsonUtils = null;\n        this.resultGraphics = [];\n        this.toggleIsSelectActive = () => {\n            this.setState({\n                isActive: !this.state.isActive\n            });\n        };\n        this.getSelectToolIcon = () => {\n            if (this.state.currentSelectType === 'Point') {\n                return SelectPointIcon;\n            }\n            else if (this.state.currentSelectType === 'Rectangle') {\n                return SelectRectangleIcon;\n            }\n            else if (this.state.currentSelectType === 'Lasso') {\n                return SelectLassoIcon;\n            }\n            else if (this.state.currentSelectType === 'Circle') {\n                return SelectCircleIcon;\n            }\n            else if (this.state.currentSelectType === 'Line') {\n                return SelectLineIcon;\n            }\n            else {\n                return SelectRectangleIcon;\n            }\n        };\n        this.toggleSelectTypePopup = () => {\n            this.setState({\n                isShowSelectTypePopup: !this.state.isShowSelectTypePopup\n            });\n        };\n        this.toggleResultPopup = () => {\n            this.setState({\n                isShowResultPopup: !this.state.isShowResultPopup\n            });\n        };\n        this.setCurrentSelectType = (currentSelectType) => {\n            this.initialSketchTool();\n            if (currentSelectType === 'Point') {\n                this.sketchViewModel.create('point');\n                this.currentActiveTool = 'point';\n            }\n            if (currentSelectType === 'Rectangle') {\n                this.sketchViewModel.create('rectangle');\n                this.currentActiveTool = 'rectangle';\n            }\n            if (currentSelectType === 'Lasso') {\n                this.sketchViewModel.create('polygon');\n                this.currentActiveTool = 'polygon';\n            }\n            if (currentSelectType === 'Circle') {\n                this.sketchViewModel.create('circle');\n                this.currentActiveTool = 'circle';\n            }\n            if (currentSelectType === 'Line') {\n                this.sketchViewModel.create('polyline');\n                this.currentActiveTool = 'polyline';\n            }\n            this.setState({\n                currentSelectType: currentSelectType,\n                isShowSelectTypePopup: false,\n                isActive: true\n            });\n        };\n        this.clearSelect = () => {\n            this.props.jimuMapView.clearSelectedFeatures();\n        };\n        this.state = {\n            isShowResultPopup: false,\n            isShowSelectTypePopup: false,\n            currentSelectType: 'Rectangle',\n            sketchInitialed: false,\n            isActive: false,\n            spatialRelationship: 'intersects',\n            resultGraphics: [],\n            isQuerying: false\n        };\n    }\n    getCSSStyle() {\n        const theme = this.props.theme;\n        const containerbg = theme.arcgis.components.button.variants.default.default.bg;\n        const containerBorder = theme.arcgis.components.button.variants.default.default.border;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      .select-tool-container {\n        ${containerbg && `background-color: ${containerbg};`}\n        ${containerBorder && `border: ${containerBorder.color} ${containerBorder.width} solid;`}\n      }\n\n      .select-tool-btn {\n        width: 32px;\n        height: 32px;\n      }\n\n      .content-bg {\n        background-color: ${theme.colors.palette.light[100]};\n      }\n\n      .content-title {\n        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};\n        font-weight: bold;\n      }\n\n      .select-tool-type-mobile-container-shell {\n        overflow-x: auto;\n      }\n\n      .select-tool-type-mobile-container-shell::-webkit-scrollbar {\n        height: 0 !important;\n        display: none;\n      }\n\n      .select-tool-type-mobile-container {\n        width: 400px;\n      }\n\n      .select-tool-type {\n        width: 64px;\n        height: 64px;\n        border: 1px solid ${theme.colors.palette.light[400]};\n        cursor: pointer;\n      }\n\n      .select-tool-type-choosed {\n        border: 1px solid ${theme.colors.primary};\n        position: relative;\n      }\n\n      .select-tool-type-choosed:after {\n        width: 0;\n        height: 0;\n        border-top: 8px solid ${theme.colors.primary};\n        border-left: 8px solid transparent;\n        position: absolute;\n        top: 0;\n        right: 0;\n        content: \"\";\n      }\n\n      .select-tool-type-text {\n        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};\n      }\n\n      .select-tool-loader {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 2px;\n        width: 100%;\n        animation: esri-fade-in 500ms ease-in-out;\n      }\n\n      .select-tool-loader:before {\n        background-color: rgba(110,110,110,0.3);\n        width: 100%;\n        z-index: 0;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n      .select-tool-loader:after {\n        background-color: ${theme.colors.primary};\n        width: 20%;\n        z-index: 0;\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\n        content: \"\";\n        opacity: 1;\n        position: absolute;\n        height: 2px;\n        top: 0;\n        transition: opacity 500ms ease-in-out;\n      }\n\n    `;\n    }\n    componentDidMount() {\n        if (!this.state.sketchInitialed) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([\n                'esri/widgets/Sketch/SketchViewModel',\n                'esri/layers/GraphicsLayer',\n                'esri/rest/support/Query',\n                'esri/symbols/support/jsonUtils',\n                'esri/geometry/geometryEngine'\n            ]).then(modules => {\n                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;\n                this.props.jimuMapView.view.when(() => {\n                    this.initialSketchTool();\n                    this.setState({\n                        sketchInitialed: true\n                    });\n                });\n            });\n        }\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            if (this.state.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            this.sketchViewModel.view = this.props.jimuMapView.view;\n            if (this.state.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevState.isActive !== this.state.isActive) {\n            this.initialSketchTool();\n            if (this.state.isActive) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            else {\n                this.sketchViewModel.destroy();\n                this.sketchViewModel = null;\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.sketchViewModel) {\n            this.sketchViewModel.destroy();\n        }\n    }\n    initialSketchTool() {\n        if (!this.SketchViewModel) {\n            return;\n        }\n        if (!this.sketchViewModel) {\n            this.sketchViewModel = new this.SketchViewModel({\n                view: this.props.jimuMapView.view,\n                layer: new this.GraphicsLayer(),\n                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),\n                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),\n                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)\n            });\n            this.sketchViewModel.on('create', (event) => {\n                if (event.state === 'complete') {\n                    this.sketchViewModel.create(this.currentActiveTool);\n                    this.setState({\n                        isQuerying: true\n                    });\n                    const jimuMapView = this.props.jimuMapView;\n                    jimuMapView.selectFeaturesByGraphic(event.graphic, this.state.spatialRelationship).then(() => {\n                        this.setState({\n                            isQuerying: false\n                        });\n                    });\n                }\n            });\n        }\n    }\n    render() {\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getCSSStyle() },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center justify-content-center select-tool-container', ref: ref => { this.btnContainer = ref; } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", { onClick: this.toggleIsSelectActive, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isActive }), disabled: !this.state.sketchInitialed },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: this.getSelectToolIcon() })),\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", { onClick: this.toggleSelectTypePopup, style: { width: 18 }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isShowSelectTypePopup }), disabled: !this.state.sketchInitialed },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 8, height: 8, icon: IconArrowDown }))),\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", { className: 'select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0', ref: ref => { this.selectResultContainer = ref; }, onClick: this.clearSelect, disabled: !this.state.sketchInitialed },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectClearIcon })),\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { css: this.getCSSStyle(), reference: this.btnContainer, open: this.state.isShowSelectTypePopup, placement: 'bottom-start', toggle: this.toggleSelectTypePopup },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'p-3 content-bg', style: { display: 'flex', flexDirection: 'column' } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'mt-2 mb-2' },\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex mb-2' },\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'\n                                        }), onClick: () => { this.setCurrentSelectType('Rectangle'); } },\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'\n                                        }), onClick: () => { this.setCurrentSelectType('Lasso'); } },\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Circle'\n                                        }), onClick: () => { this.setCurrentSelectType('Circle'); } },\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle })))),\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex' },\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Line'\n                                        }), onClick: () => { this.setCurrentSelectType('Line'); } },\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Point'\n                                        }), onClick: () => { this.setCurrentSelectType('Point'); } },\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),\n                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", null,\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center mt-2' },\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex align-items-center mt-2' },\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),\n                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain })))))))),\n            (this.state.isQuerying || !this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'select-tool-loader' })));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wYy50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWFBO0FBQ0E7QUFQQTtBQUVBO0FBRUE7QUFnTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0NBO0FBQ0E7QUFDQTtBQW5SQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7QUFTQTs7OztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CQTs7Ozs7QUFLQTs7Ozs7OztBQU9BOzs7Ozs7Ozs7QUFTQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQkE7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1RUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBTUE7QUFHQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUlBO0FBU0E7QUFHQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3Qvc2VsZWN0LXBjLnRzeD85YTdmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgY3NzLCBqc3gsIGNsYXNzTmFtZXMsIFJlYWN0LCBwb2xpc2hlZCwgSU1UaGVtZVZhcmlhYmxlcywgRmVhdHVyZUxheWVyUXVlcnlQYXJhbXMsIEludGxTaGFwZSB9IGZyb20gJ2ppbXUtY29yZSdcbmltcG9ydCB7IEljb24sIFBvcHBlciwgZGVmYXVsdE1lc3NhZ2VzLCBSYWRpbyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXNcbiAgaW50bD86IEludGxTaGFwZVxuXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcbn1cblxuaW50ZXJmYWNlIFN0YXRlcyB7XG4gIHNrZXRjaEluaXRpYWxlZDogYm9vbGVhblxuICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGJvb2xlYW5cbiAgaXNTaG93UmVzdWx0UG9wdXA6IGJvb2xlYW5cbiAgaXNRdWVyeWluZzogYm9vbGVhblxuXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcbiAgaXNBY3RpdmU6IGJvb2xlYW5cbiAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIHwgJ2NvbnRhaW5zJ1xuICByZXN1bHRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXVxufVxuXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XG4gIHN0eWxlOiAnZXNyaVNNU0NpcmNsZScsXG4gIGNvbG9yOiBbMCwgMCwgMTI4LCAxMjhdLFxuICBuYW1lOiAnQ2lyY2xlJyxcbiAgb3V0bGluZToge1xuICAgIGNvbG9yOiBbMCwgMCwgMTI4LCAyNTVdLFxuICAgIHdpZHRoOiAxXG4gIH0sXG4gIHR5cGU6ICdlc3JpU01TJyxcbiAgc2l6ZTogMThcbn1cblxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xuICB0YWdzOiBbJ3NvbGlkJ10sXG4gIHRpdGxlOiAnQmx1ZSBUaGluJyxcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxuICBjb2xvcjogWzc5LCAxMjksIDE4OSwgMjU1XSxcbiAgd2lkdGg6IDMsXG4gIG5hbWU6ICdCbHVlIDEnLFxuICB0eXBlOiAnZXNyaVNMUydcbn1cblxuY29uc3QgZGVmYXVsdFBvbHlnb25TeW1ib2wgPSB7XG4gIHN0eWxlOiAnZXNyaVNGU1NvbGlkJyxcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcbiAgdHlwZTogJ2VzcmlTRlMnLFxuICBvdXRsaW5lOiB7XG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxuICAgIGNvbG9yOiBbNTQsIDkzLCAxNDEsIDI1NV0sXG4gICAgd2lkdGg6IDEuNSxcbiAgICB0eXBlOiAnZXNyaVNMUydcbiAgfVxufVxuXG5jb25zdCBJY29uQXJyb3dEb3duID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvYXJyb3ctZG93bi1oZWFkZXIuc3ZnJylcblxuY29uc3QgU2VsZWN0UmVjdGFuZ2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXG5jb25zdCBTZWxlY3RMYXNzb0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZycpXG5jb25zdCBTZWxlY3RDaXJjbGVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jaXJjbGUuc3ZnJylcbmNvbnN0IFNlbGVjdExpbmVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZycpXG5jb25zdCBTZWxlY3RQb2ludEljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZycpXG5jb25zdCBTZWxlY3RDbGVhckljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNsZWFyLnN2ZycpXG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RQQ1Rvb2wgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZXM+IHtcbiAgYnRuQ29udGFpbmVyOiBIVE1MRWxlbWVudFxuICBzZWxlY3RSZXN1bHRDb250YWluZXI6IEhUTUxFbGVtZW50XG4gIFNrZXRjaFZpZXdNb2RlbDogdHlwZW9mIF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcbiAgR3JhcGhpY3NMYXllcjogdHlwZW9mIF9fZXNyaS5HcmFwaGljc0xheWVyXG4gIFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5XG4gIHNrZXRjaFZpZXdNb2RlbDogX19lc3JpLlNrZXRjaFZpZXdNb2RlbFxuICBjdXJyZW50QWN0aXZlVG9vbDogc3RyaW5nID0gJ3JlY3RhbmdsZSdcbiAgcXVlcnk6IEZlYXR1cmVMYXllclF1ZXJ5UGFyYW1zXG4gIGpzb25VdGlsczogdHlwZW9mIF9fZXNyaS5qc29uVXRpbHMgPSBudWxsXG4gIGdlb21ldHJ5RW5naW5lOiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5RW5naW5lXG4gIHJlc3VsdEdyYXBoaWNzOiBfX2VzcmkuR3JhcGhpY1tdID0gW11cblxuICBjb25zdHJ1Y3RvciAocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzU2hvd1Jlc3VsdFBvcHVwOiBmYWxzZSxcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogJ1JlY3RhbmdsZScsXG4gICAgICBza2V0Y2hJbml0aWFsZWQ6IGZhbHNlLFxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnLFxuICAgICAgcmVzdWx0R3JhcGhpY3M6IFtdLFxuICAgICAgaXNRdWVyeWluZzogZmFsc2VcbiAgICB9XG4gIH1cblxuICBnZXRDU1NTdHlsZSAoKSB7XG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lXG4gICAgY29uc3QgY29udGFpbmVyYmcgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJnXG4gICAgY29uc3QgY29udGFpbmVyQm9yZGVyID0gdGhlbWUuYXJjZ2lzLmNvbXBvbmVudHMuYnV0dG9uLnZhcmlhbnRzLmRlZmF1bHQuZGVmYXVsdC5ib3JkZXJcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLnNlbGVjdC10b29sLWNvbnRhaW5lciB7XG4gICAgICAgICR7Y29udGFpbmVyYmcgJiYgYGJhY2tncm91bmQtY29sb3I6ICR7Y29udGFpbmVyYmd9O2B9XG4gICAgICAgICR7Y29udGFpbmVyQm9yZGVyICYmIGBib3JkZXI6ICR7Y29udGFpbmVyQm9yZGVyLmNvbG9yfSAke2NvbnRhaW5lckJvcmRlci53aWR0aH0gc29saWQ7YH1cbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLWJ0biB7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB9XG5cbiAgICAgIC5jb250ZW50LWJnIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFsxMDBdfTtcbiAgICAgIH1cblxuICAgICAgLmNvbnRlbnQtdGl0bGUge1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsIHtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lci1zaGVsbDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lciB7XG4gICAgICAgIHdpZHRoOiA0MDBweDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUge1xuICAgICAgICB3aWR0aDogNjRweDtcbiAgICAgICAgaGVpZ2h0OiA2NHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF19O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkOmFmdGVyIHtcbiAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLXRleHQge1xuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEyKX07XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXIge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YmVmb3JlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgICAgIHdpZHRoOiAyMCU7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICBgXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAgICdlc3JpL3dpZGdldHMvU2tldGNoL1NrZXRjaFZpZXdNb2RlbCcsXG4gICAgICAgICdlc3JpL2xheWVycy9HcmFwaGljc0xheWVyJyxcbiAgICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcbiAgICAgICAgJ2Vzcmkvc3ltYm9scy9zdXBwb3J0L2pzb25VdGlscycsXG4gICAgICAgICdlc3JpL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lJ1xuICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuU2tldGNoVmlld01vZGVsLCB0aGlzLkdyYXBoaWNzTGF5ZXIsIHRoaXMuUXVlcnksIHRoaXMuanNvblV0aWxzLCB0aGlzLmdlb21ldHJ5RW5naW5lXSA9IG1vZHVsZXNcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LndoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBza2V0Y2hJbml0aWFsZWQ6IHRydWVcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGVzKSB7XG4gICAgaWYgKHByZXZTdGF0ZS5za2V0Y2hJbml0aWFsZWQgIT09IHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcblxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUgJiYgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxuXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSAmJiB0aGlzLmN1cnJlbnRBY3RpdmVUb29sKSB7XG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwcmV2U3RhdGUuaXNBY3RpdmUgIT09IHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbnVsbFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcbiAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZUlzU2VsZWN0QWN0aXZlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNBY3RpdmU6ICF0aGlzLnN0YXRlLmlzQWN0aXZlXG4gICAgfSlcbiAgfVxuXG4gIGdldFNlbGVjdFRvb2xJY29uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0UG9pbnRJY29uXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcbiAgICAgIHJldHVybiBTZWxlY3RMYXNzb0ljb25cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0Q2lyY2xlSWNvblxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0TGluZUljb25cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cbiAgICB9XG4gIH1cblxuICB0b2dnbGVTZWxlY3RUeXBlUG9wdXAgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6ICF0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cFxuICAgIH0pXG4gIH1cblxuICB0b2dnbGVSZXN1bHRQb3B1cCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzU2hvd1Jlc3VsdFBvcHVwOiAhdGhpcy5zdGF0ZS5pc1Nob3dSZXN1bHRQb3B1cFxuICAgIH0pXG4gIH1cblxuICBzZXRDdXJyZW50U2VsZWN0VHlwZSA9IChjdXJyZW50U2VsZWN0VHlwZTogYW55KSA9PiB7XG4gICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9pbnQnKVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2ludCdcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3JlY3RhbmdsZScpXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3JlY3RhbmdsZSdcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWdvbicpXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlnb24nXG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdjaXJjbGUnKVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdjaXJjbGUnXG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZScpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWxpbmUnKVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5bGluZSdcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiBjdXJyZW50U2VsZWN0VHlwZSxcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBpbml0aWFsU2tldGNoVG9vbCAoKSB7XG4gICAgaWYgKCF0aGlzLlNrZXRjaFZpZXdNb2RlbCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBuZXcgdGhpcy5Ta2V0Y2hWaWV3TW9kZWwoe1xuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXG4gICAgICAgIGxheWVyOiBuZXcgdGhpcy5HcmFwaGljc0xheWVyKCksXG4gICAgICAgIHBvaW50U3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9pbnRTeW1ib2wpIGFzIGFueSxcbiAgICAgICAgcG9seWxpbmVTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5bGluZVN5bWJvbCkgYXMgYW55LFxuICAgICAgICBwb2x5Z29uU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWdvblN5bWJvbCkgYXMgYW55XG4gICAgICB9KVxuXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSlcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzUXVlcnlpbmc6IHRydWVcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3XG4gICAgICAgICAgamltdU1hcFZpZXcuc2VsZWN0RmVhdHVyZXNCeUdyYXBoaWMoZXZlbnQuZ3JhcGhpYywgdGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc1F1ZXJ5aW5nOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyU2VsZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuY2xlYXJTZWxlY3RlZEZlYXR1cmVzKClcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PjxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtY29udGFpbmVyJyByZWY9e3JlZiA9PiB7IHRoaXMuYnRuQ29udGFpbmVyID0gcmVmIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVJc1NlbGVjdEFjdGl2ZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uICBib3JkZXItMCBzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyxcbiAgICAgICAgICAgICAgICB7IGFjdGl2ZTogdGhpcy5zdGF0ZS5pc0FjdGl2ZSB9KX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9IC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXB9IHN0eWxlPXt7IHdpZHRoOiAxOCB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2Vzcmktd2lkZ2V0LS1idXR0b24gYm9yZGVyLTAgcGwtMSBwci0xIHNlbGVjdC10b29sLWJ0biBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXInLFxuICAgICAgICAgICAgICAgIHsgYWN0aXZlOiB0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cCB9KX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezh9IGhlaWdodD17OH0gaWNvbj17SWNvbkFycm93RG93bn0gLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtYnRuIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXIgZXNyaS13aWRnZXQtLWJ1dHRvbiBib3JkZXItMCdcbiAgICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5zZWxlY3RSZXN1bHRDb250YWluZXIgPSByZWYgfX0gb25DbGljaz17dGhpcy5jbGVhclNlbGVjdH1cbiAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDbGVhckljb259IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPFBvcHBlciBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0gcmVmZXJlbmNlPXt0aGlzLmJ0bkNvbnRhaW5lcn0gb3Blbj17dGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXB9IHBsYWNlbWVudD0nYm90dG9tLXN0YXJ0JyB0b2dnbGU9e3RoaXMudG9nZ2xlU2VsZWN0VHlwZVBvcHVwfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwLTMgY29udGVudC1iZycgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUnPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbCB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdtdC0yIG1iLTInPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggbWItMic+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnXG4gICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ1JlY3RhbmdsZScpIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UmVjdGFuZ2xlSWNvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMiBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nXG4gICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xhc3NvJykgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMYXNzb0ljb259IC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZSdcbiAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnQ2lyY2xlJykgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDaXJjbGVJY29ufSAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJ1xuICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMaW5lJykgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMaW5lSWNvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sTGluZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExpbmUgfSl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCdcbiAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUG9pbnQnKSB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFBvaW50SWNvbn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xQb2ludCB9KX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGVudC10aXRsZSc+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Nb2RlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Nb2RlIH0pfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cbiAgICAgICAgICAgICAgICAgIDxSYWRpb1xuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdpbnRlcnNlY3RzJ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J20tMCBtbC0yIGNvbnRlbnQtdGl0bGUnIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB9KSB9fT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25XaXRoaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbldpdGhpbiB9KX1cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XG4gICAgICAgICAgICAgICAgICA8UmFkaW9cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnY29udGFpbnMnfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9J20tMCBtbC0yIGNvbnRlbnQtdGl0bGUnIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucycgfSkgfX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uQ29udGFpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uQ29udGFpbiB9KX1cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Qb3BwZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB7KHRoaXMuc3RhdGUuaXNRdWVyeWluZyB8fCAhdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpICYmIDxkaXYgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC1sb2FkZXInIC8+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectState)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _selected_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selected-number */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx\");\n/** @jsx jsx */\n\n\n\n\nconst SelectZoomtoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-zoomto.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg\");\nconst SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg\");\nclass SelectState extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {\n    constructor(props) {\n        super(props);\n        this.toolName = 'SelectState';\n        this.handleSelectedGraphicsChanged = (selectedGraphics) => {\n            this.setState({\n                selectedGraphics: selectedGraphics\n            });\n        };\n        this.zoomToSelectedFeatures = () => {\n            if (this.props.jimuMapView.view) {\n                this.props.jimuMapView.view.goTo(this.state.selectedGraphics);\n            }\n        };\n        this.clearSelectedFeatures = () => {\n            this.props.jimuMapView.clearSelectedFeatures();\n        };\n        this.state = {\n            selectedGraphics: []\n        };\n    }\n    getStyle() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      background-color: ${this.props.theme.arcgis.components.button.variants.default.default.bg};\n\n      .divide-line {\n        border-right: 1px solid ${this.props.theme.colors.palette.dark[400]};\n        height: 100%;\n      }\n    `;\n    }\n    getTitle() {\n        return '';\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        if (this.props.isMobile) {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: 'w-100 d-flex justify-content-between align-items-center', style: { height: '40px' } },\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'ml-2' }, `${this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures })}:${this.state.selectedGraphics.length}`),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'd-flex' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'h-100 border border-top-0 border-bottom-0 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.zoomToSelectedFeatures },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectZoomtoIcon })),\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'h-100 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.clearSelectedFeatures },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectClearIcon }))),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));\n        }\n        else {\n            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.zoomToSelectedFeatures },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectZoomtoIcon, className: 'mr-2' }),\n                    `${this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures })}:${this.state.selectedGraphics.length}`),\n                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvaW5kZXgudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUdBO0FBQ0E7QUFIQTtBQTZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXRDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBSUE7QUFFQTtBQUlBO0FBR0E7QUFHQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvaW5kZXgudHN4P2FmOGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBCdXR0b24sIEljb24sIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5pbXBvcnQgeyBCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGUgfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXG5pbXBvcnQgeyBTZWxlY3RlZE51bWJlciB9IGZyb20gJy4vc2VsZWN0ZWQtbnVtYmVyJ1xuXG5jb25zdCBTZWxlY3Rab29tdG9JY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC16b29tdG8uc3ZnJylcbmNvbnN0IFNlbGVjdENsZWFySWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2xlYXIuc3ZnJylcblxuaW50ZXJmYWNlIFN0YXRlc3tcbiAgc2VsZWN0ZWRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWxlY3RTdGF0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xuICB0b29sTmFtZSA9ICdTZWxlY3RTdGF0ZSdcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzZWxlY3RlZEdyYXBoaWNzOiBbXVxuICAgIH1cbiAgfVxuXG4gIGdldFN0eWxlICgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLnByb3BzLnRoZW1lLmFyY2dpcy5jb21wb25lbnRzLmJ1dHRvbi52YXJpYW50cy5kZWZhdWx0LmRlZmF1bHQuYmd9O1xuXG4gICAgICAuZGl2aWRlLWxpbmUge1xuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke3RoaXMucHJvcHMudGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIGdldFRpdGxlICgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQgPSAoc2VsZWN0ZWRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0ZWRHcmFwaGljczogc2VsZWN0ZWRHcmFwaGljc1xuICAgIH0pXG4gIH1cblxuICB6b29tVG9TZWxlY3RlZEZlYXR1cmVzID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcpIHtcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5nb1RvKHRoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljcylcbiAgICB9XG4gIH1cblxuICBjbGVhclNlbGVjdGVkRmVhdHVyZXMgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKVxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPSd3LTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyJyBzdHlsZT17eyBoZWlnaHQ6ICc0MHB4JyB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWwtMic+XG4gICAgICAgICAgICB7YCR7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMgfSl9OiR7dGhpcy5zdGF0ZS5zZWxlY3RlZEdyYXBoaWNzLmxlbmd0aH1gfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTAwIGJvcmRlciBib3JkZXItdG9wLTAgYm9yZGVyLWJvdHRvbS0wIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3sgd2lkdGg6ICc0MHB4JywgY3Vyc29yOiAncG9pbnRlcicgfX1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy56b29tVG9TZWxlY3RlZEZlYXR1cmVzfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTh9IGhlaWdodD17MTh9IGljb249e1NlbGVjdFpvb210b0ljb259IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdoLTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt7IHdpZHRoOiAnNDBweCcsIGN1cnNvcjogJ3BvaW50ZXInIH19XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3RlZEZlYXR1cmVzfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTh9IGhlaWdodD17MTh9IGljb249e1NlbGVjdENsZWFySWNvbn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxTZWxlY3RlZE51bWJlciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gb25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZD17dGhpcy5oYW5kbGVTZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuem9vbVRvU2VsZWN0ZWRGZWF0dXJlc30+XG4gICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFpvb210b0ljb259IGNsYXNzTmFtZT0nbXItMicgLz5cbiAgICAgICAgICAgIHtgJHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uU2VsZWN0ZWRGZWF0dXJlcycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uU2VsZWN0ZWRGZWF0dXJlcyB9KX06JHt0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY3MubGVuZ3RofWB9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPFNlbGVjdGVkTnVtYmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBvblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkPXt0aGlzLmhhbmRsZVNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkfSAvPlxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx":
/*!************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SelectedNumber\": () => (/* binding */ SelectedNumber)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n\nclass _SelectedNumber extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    componentDidMount() {\n        this.computerSelectedGraphics();\n    }\n    componentDidUpdate() {\n        this.computerSelectedGraphics();\n    }\n    computerSelectedGraphics() {\n        if (this.props.onSelectedGraphicsChanged) {\n            const jimuLayerViews = this.props.jimuMapView.jimuLayerViews;\n            const jimuLayerViewIds = Object.keys(jimuLayerViews);\n            const selectedGraphics = [];\n            for (let i = 0; i < jimuLayerViewIds.length; i++) {\n                const jimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n                const dsId = jimuLayerView.layerDataSourceId;\n                const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);\n                if (ds) {\n                    const selectedRecords = ds.getSelectedRecords();\n                    for (let j = 0; j < selectedRecords.length; j++) {\n                        const tempFeature = selectedRecords[j].feature.clone();\n                        selectedGraphics.push(tempFeature);\n                    }\n                }\n            }\n            this.props.onSelectedGraphicsChanged(selectedGraphics);\n        }\n    }\n    render() {\n        return null;\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    if (state.appStateInBuilder) {\n        const dataSourcesInfo = state.appStateInBuilder && state.appStateInBuilder.dataSourcesInfo;\n        const jimuMapViewsInfo = state.appStateInBuilder && state.appStateInBuilder.jimuMapViewsInfo;\n        return {\n            dataSourcesInfo: dataSourcesInfo,\n            viewInfos: jimuMapViewsInfo\n        };\n    }\n    else {\n        const dataSourcesInfo = state && state.dataSourcesInfo;\n        const jimuMapViewsInfo = state && state.jimuMapViewsInfo;\n        return {\n            dataSourcesInfo: dataSourcesInfo,\n            viewInfos: jimuMapViewsInfo\n        };\n    }\n};\nconst SelectedNumber = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_SelectedNumber);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvc2VsZWN0ZWQtbnVtYmVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvc2VsZWN0ZWQtbnVtYmVyLnRzeD9iOGM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBSZWFjdFJlZHV4LCBJbW11dGFibGVPYmplY3QsIEppbXVNYXBWaWV3SW5mbywgSU1TdGF0ZSwgRGF0YVNvdXJjZUluZm8sIERhdGFTb3VyY2VNYW5hZ2VyIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcblxuaW50ZXJmYWNlIFByb3Bze1xuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcblxuICBvblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkPzogKHNlbGVjdGVkR3JhcGhpY3M6IF9fZXNyaS5HcmFwaGljW10pID0+IHZvaWRcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5pbnRlcmZhY2UgU3RhdGVze31cblxuY2xhc3MgX1NlbGVjdGVkTnVtYmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcyAmIEV4dHJhUHJvcHMsIFN0YXRlcz4ge1xuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgdGhpcy5jb21wdXRlclNlbGVjdGVkR3JhcGhpY3MoKVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcbiAgICB0aGlzLmNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljcygpXG4gIH1cblxuICBjb21wdXRlclNlbGVjdGVkR3JhcGhpY3MgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQpIHtcbiAgICAgIGNvbnN0IGppbXVMYXllclZpZXdzID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5qaW11TGF5ZXJWaWV3c1xuICAgICAgY29uc3QgamltdUxheWVyVmlld0lkcyA9IE9iamVjdC5rZXlzKGppbXVMYXllclZpZXdzKVxuICAgICAgY29uc3Qgc2VsZWN0ZWRHcmFwaGljcyA9IFtdXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGppbXVMYXllclZpZXdJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgamltdUxheWVyVmlldyA9IGppbXVMYXllclZpZXdzW2ppbXVMYXllclZpZXdJZHNbaV1dXG4gICAgICAgIGNvbnN0IGRzSWQgPSBqaW11TGF5ZXJWaWV3LmxheWVyRGF0YVNvdXJjZUlkXG4gICAgICAgIGNvbnN0IGRzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSWQpXG4gICAgICAgIGlmIChkcykge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkUmVjb3JkcyA9IGRzLmdldFNlbGVjdGVkUmVjb3JkcygpXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzZWxlY3RlZFJlY29yZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gKHNlbGVjdGVkUmVjb3Jkc1tqXSBhcyBhbnkpLmZlYXR1cmUuY2xvbmUoKVxuICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljcy5wdXNoKHRlbXBGZWF0dXJlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkKHNlbGVjdGVkR3JhcGhpY3MpXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IFByb3BzKTogRXh0cmFQcm9wcyA9PiB7XG4gIGlmIChzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcikge1xuICAgIGNvbnN0IGRhdGFTb3VyY2VzSW5mbyA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyICYmIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyLmRhdGFTb3VyY2VzSW5mb1xuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlciAmJiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5qaW11TWFwVmlld3NJbmZvXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGFTb3VyY2VzSW5mbzogZGF0YVNvdXJjZXNJbmZvLFxuICAgICAgdmlld0luZm9zOiBqaW11TWFwVmlld3NJbmZvXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRhdGFTb3VyY2VzSW5mbyA9IHN0YXRlICYmIHN0YXRlLmRhdGFTb3VyY2VzSW5mb1xuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZSAmJiBzdGF0ZS5qaW11TWFwVmlld3NJbmZvXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGFTb3VyY2VzSW5mbzogZGF0YVNvdXJjZXNJbmZvLFxuICAgICAgdmlld0luZm9zOiBqaW11TWFwVmlld3NJbmZvXG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBFeHRyYVByb3BzIHtcbiAgZGF0YVNvdXJjZXNJbmZvPzogSW1tdXRhYmxlT2JqZWN0PHsgW2RzSWQ6IHN0cmluZ106IERhdGFTb3VyY2VJbmZvIH0+XG4gIHZpZXdJbmZvcz86IEltbXV0YWJsZU9iamVjdDx7W2ppbXVNYXBWaWV3SWQ6IHN0cmluZ106IEppbXVNYXBWaWV3SW5mb30+XG59XG5cbmV4cG9ydCBjb25zdCBTZWxlY3RlZE51bWJlciA9IFJlYWN0UmVkdXguY29ubmVjdDxFeHRyYVByb3BzLCB1bmtub3duLCBQcm9wcz4obWFwU3RhdGVUb1Byb3BzKShfU2VsZWN0ZWROdW1iZXIpXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx":
/*!*************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Zoom)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n\n\n\n\nclass Zoom extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {\n    constructor() {\n        super(...arguments);\n        this.toolName = 'Zoom';\n    }\n    getTitle() {\n        return this.props.intl.formatMessage({ id: 'ZoomLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.ZoomLabel });\n    }\n    getIcon() {\n        return null;\n    }\n    getExpandPanel() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ZoomInner, { jimuMapView: this.props.jimuMapView });\n    }\n}\nclass ZoomInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.Zoom = null;\n        this.state = {\n            apiLoaded: false\n        };\n    }\n    componentDidMount() {\n        if (!this.state.apiLoaded) {\n            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Zoom']).then(modules => {\n                [this.Zoom] = modules;\n                this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.apiLoaded && this.container) {\n            if (this.ZoomBtn) {\n                this.container.innerHTML = '';\n            }\n            this.ZoomBtn = new this.Zoom({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    }\n    componentWillUnmount() {\n        if (this.ZoomBtn) {\n            this.ZoomBtn.destroy();\n            this.ZoomBtn = null;\n        }\n    }\n    render() {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(\"div\", { ref: ref => { this.container = ref; } });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvem9vbS50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFhQTtBQVhBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFLQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy96b29tLnRzeD9iYWFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgQmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvb20gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ1pvb20nXG5cbiAgZ2V0VGl0bGUgKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnWm9vbUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5ab29tTGFiZWwgfSlcbiAgfVxuXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPFpvb21Jbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cbiAgfVxufVxuXG5pbnRlcmZhY2UgWm9vbUlubmVyUHJvcHMge1xuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcbn1cblxuaW50ZXJmYWNlIFpvb21Jbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuXG59XG5cbmNsYXNzIFpvb21Jbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Wm9vbUlubmVyUHJvcHMsIFpvb21Jbm5lclN0YXRlPiB7XG4gIFpvb206IHR5cGVvZiBfX2VzcmkuWm9vbSA9IG51bGxcbiAgWm9vbUJ0bjogX19lc3JpLlpvb21cbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9ab29tJ10pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgIFt0aGlzLlpvb21dID0gbW9kdWxlc1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLlpvb21CdG4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcbiAgICAgIH1cblxuICAgICAgdGhpcy5ab29tQnRuID0gbmV3IHRoaXMuWm9vbSh7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG4gICAgaWYgKHRoaXMuWm9vbUJ0bikge1xuICAgICAgdGhpcy5ab29tQnRuLmRlc3Ryb3koKVxuICAgICAgdGhpcy5ab29tQnRuID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIDxkaXYgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts":
/*!*******************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"controlUIWidget\": () => (/* binding */ controlUIWidget),\n/* harmony export */   \"createNewFeaturelayer\": () => (/* binding */ createNewFeaturelayer),\n/* harmony export */   \"updateFeaturelayer\": () => (/* binding */ updateFeaturelayer),\n/* harmony export */   \"selectFeature\": () => (/* binding */ selectFeature),\n/* harmony export */   \"mapPanto\": () => (/* binding */ mapPanto),\n/* harmony export */   \"filterFeaturesByQuery\": () => (/* binding */ filterFeaturesByQuery),\n/* harmony export */   \"flashFeaturesByQuery\": () => (/* binding */ flashFeaturesByQuery),\n/* harmony export */   \"handleFeature\": () => (/* binding */ handleFeature),\n/* harmony export */   \"projectGeometries\": () => (/* binding */ projectGeometries),\n/* harmony export */   \"processZoomToFeatures\": () => (/* binding */ processZoomToFeatures),\n/* harmony export */   \"checkIsLive\": () => (/* binding */ checkIsLive),\n/* harmony export */   \"getMapBaseRestoreData\": () => (/* binding */ getMapBaseRestoreData),\n/* harmony export */   \"restoreMapBase\": () => (/* binding */ restoreMapBase)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable prefer-const */\n\n\nfunction controlUIWidget(mapBaseView, isOpen, uiWidget, position, widgetName) {\n    const ui = mapBaseView.ui;\n    if (!uiWidget) {\n        return;\n    }\n    if (isOpen) {\n        ui.add(uiWidget, position);\n        if (widgetName && ui.exbMapTools.indexOf(widgetName) === -1) {\n            ui.exbMapTools.push(widgetName);\n        }\n    }\n    else {\n        ui.remove(uiWidget);\n    }\n}\nfunction createNewFeaturelayer(mapBaseView, newFeatureSetValue) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const newLayerPromises = [];\n        newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(layerId => {\n            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);\n            if (layer) {\n                console.warn('the feature layer is already created');\n                return;\n            }\n            newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));\n        });\n        if (newLayerPromises.length === 0) {\n            return null;\n        }\n        else {\n            return Promise.all(newLayerPromises);\n        }\n    });\n}\nfunction updateFeaturelayer(mapBaseView, changedFeatureSetValue) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const updatePromises = [];\n        changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(layerId => {\n            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);\n            if (layer) {\n                mapBaseView.map.remove(layer);\n                updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));\n            }\n        });\n        if (updatePromises.length === 0) {\n            return null;\n        }\n        else {\n            return Promise.all(updatePromises);\n        }\n    });\n}\nfunction addFeatureSetToMap(mapBaseView, featureSet, layerId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield new Promise((resolve, reject) => {\n            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([\n                'esri/layers/FeatureLayer'\n            ]).then(modules => {\n                if (featureSet.features.length < 1) {\n                    return resolve(null);\n                }\n                else {\n                    // let FeatureSet: typeof  __esri.FeatureSet;\n                    let FeatureLayer;\n                    // eslint-disable-next-line\n                    [FeatureLayer] = modules;\n                    const layerFromFeatureSet = featureSet.features[0].layer;\n                    const fieldsInFeaturelayer = [];\n                    const fieldMap = {};\n                    for (let i = 0; i < layerFromFeatureSet.fields.length; i++) {\n                        const fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);\n                        fieldMap[layerFromFeatureSet.fields[i].name] = fieldsItem.name;\n                        fieldsInFeaturelayer.push(fieldsItem);\n                    }\n                    const fieldsInPopupTemplate = [];\n                    for (const key in featureSet.features[0].attributes) {\n                        if (fieldMap[key]) {\n                            const fieldsItem = {\n                                fieldName: fieldMap[key],\n                                label: key\n                            };\n                            fieldsInPopupTemplate.push(fieldsItem);\n                        }\n                    }\n                    const sourceFeatures = [];\n                    featureSet.features.forEach((feature, index) => {\n                        const tempFeature = feature;\n                        if (tempFeature.attributes) {\n                            for (const key in tempFeature.attributes) {\n                                tempFeature.attributes[fieldMap[key]] = tempFeature.attributes[key];\n                            }\n                            tempFeature.attributes.exbfid = index;\n                        }\n                        else {\n                            tempFeature.attributes = {\n                                exbfid: index\n                            };\n                        }\n                        sourceFeatures.push(tempFeature);\n                    });\n                    const layer = new FeatureLayer({\n                        id: layerId,\n                        title: layerFromFeatureSet.title,\n                        source: sourceFeatures,\n                        fields: fieldsInFeaturelayer,\n                        outFields: ['*'],\n                        objectIdField: 'exbfid',\n                        renderer: layerFromFeatureSet.renderer,\n                        popupEnabled: true,\n                        popupTemplate: {\n                            title: 'information',\n                            content: [{\n                                    type: 'fields',\n                                    fieldInfos: fieldsInPopupTemplate\n                                }]\n                        }\n                    });\n                    mapBaseView.map.add(layer);\n                    layer.on('layerview-create', event => {\n                        return resolve(null);\n                    });\n                }\n            });\n        });\n    });\n}\nfunction getReasonableField(field) {\n    // the function is supported to normalize the field.name\n    const fieldName = field.name;\n    return {\n        name: fieldName.replace(/\\./g, '_').replace(/\\(/g, '_').replace(/\\)/g, '_'),\n        alias: field.alias,\n        type: field.type\n    };\n}\nfunction selectFeature(mapBaseView, target, layerId) {\n    // In this function, we assume that features come from the same layer\n    let featureLayerId = layerId;\n    let featureLayerView = null;\n    let tempFeature = null;\n    // if layerId doesn't exist, we get layerId by feature\n    if (!featureLayerId) {\n        if (target instanceof Array) {\n            tempFeature = target[0];\n        }\n        else {\n            tempFeature = target;\n        }\n        if (tempFeature) {\n            featureLayerId = tempFeature.layer && tempFeature.layer.id;\n        }\n    }\n    if (featureLayerId) {\n        const layerViews = mapBaseView.allLayerViews;\n        for (let i = 0; i < layerViews.length; i++) {\n            if (layerViews.getItemAt(i).layer.id === featureLayerId) {\n                featureLayerView = layerViews.getItemAt(i);\n            }\n        }\n        if (featureLayerView) {\n            return {\n                layerId: featureLayerId,\n                handle: featureLayerView.highlight(target)\n            };\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction mapPanto(mapBaseView, target) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const panToTarget = target;\n        const tempBaseMapView = mapBaseView;\n        if (panToTarget instanceof Array) {\n            if (panToTarget.length === 0)\n                return yield Promise.resolve();\n            if (panToTarget[0].geometry) {\n                const geometryArr = [];\n                for (let i = 0; i < panToTarget.length; i++) {\n                    geometryArr.push(panToTarget[i].geometry);\n                }\n                return yield getGeometriesExtent(geometryArr).then((extent) => {\n                    return tempBaseMapView.goTo(extent.center);\n                });\n            }\n            else {\n                return getGeometriesExtent(panToTarget).then((extent) => {\n                    return tempBaseMapView.goTo(extent.center);\n                });\n            }\n        }\n        else {\n            if (panToTarget.geometry) {\n                const getmetry = panToTarget.geometry;\n                return tempBaseMapView.goTo(getCenterPoint(getmetry));\n            }\n            else {\n                return tempBaseMapView.goTo(getCenterPoint(panToTarget));\n            }\n        }\n    });\n}\nfunction getGeometriesExtent(geometries) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([\n            'esri/geometry/Extent'\n        ]).then((modules) => __awaiter(this, void 0, void 0, function* () {\n            // eslint-disable-next-line\n            let Extent;\n            [Extent] = modules;\n            if (!geometries || !geometries.length) {\n                return yield Promise.resolve(null);\n            }\n            let fullExtent = null;\n            let index;\n            const numGeometries = geometries.length;\n            for (index = 0; index < numGeometries; index++) {\n                const geometry = geometries[index];\n                if (!geometry) {\n                    continue;\n                }\n                let extent = geometry.extent;\n                if (!extent && geometry.type === 'point') {\n                    const pointGeometry = geometry;\n                    if (pointGeometry.x && pointGeometry.y) {\n                        extent = new Extent({\n                            xmax: pointGeometry.x,\n                            xmin: pointGeometry.x,\n                            ymax: pointGeometry.y,\n                            ymin: pointGeometry.y,\n                            zmax: pointGeometry.z,\n                            zmin: pointGeometry.z,\n                            spatialReference: pointGeometry.spatialReference\n                        });\n                    }\n                }\n                if (!extent) {\n                    continue;\n                }\n                if (fullExtent) {\n                    fullExtent = fullExtent.union(extent);\n                }\n                else {\n                    fullExtent = extent;\n                }\n            }\n            if (fullExtent.width < 0 && fullExtent.height < 0) {\n                return yield Promise.resolve(null);\n            }\n            return yield Promise.resolve(fullExtent);\n        }));\n    });\n}\nfunction filterFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {\n    if (layerDataSourceId) {\n        const jimuLayerViews = jimuMapView.jimuLayerViews;\n        const jimuLayerViewIds = Object.keys(jimuLayerViews);\n        for (let i = 0; i < jimuLayerViewIds.length; i++) {\n            let tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId &&\n                (tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer || tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer)) {\n                tempJimuLayerView.setLocalDefinitionExpression(querySQL);\n            }\n        }\n    }\n}\nfunction queryFeatures(layerObject, querySQL) {\n    return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([\n        'esri/rest/support/Query'\n    ]).then(modules => {\n        let Query;\n        [Query] = modules;\n        const query = new Query();\n        query.where = querySQL;\n        query.outFields = ['*'];\n        query.returnGeometry = true;\n        return layerObject.queryFeatures(query).then(featureSet => {\n            return featureSet;\n        });\n    });\n}\nfunction flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView) {\n    if ((tempJimuLayerView).view) {\n        let featureLayerView = (tempJimuLayerView).view;\n        if (featureLayerView) {\n            queryFeatures(featureLayerView.layer, querySQL).then(featureSet => {\n                if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                    const symbol = getFlashSymbol(featureLayerView.layer.geometryType);\n                    startFlash(jimuMapView.view, featureSet.features, symbol);\n                }\n            });\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([\n            'esri/layers/FeatureLayer'\n        ]).then(modules => {\n            let FeatureLayer;\n            [FeatureLayer] = modules;\n            let tempFeatureLayer = new FeatureLayer({\n                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(tempJimuLayerView.layer)\n            });\n            tempFeatureLayer.load().then(() => {\n                queryFeatures(tempFeatureLayer, querySQL).then(featureSet => {\n                    if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                        const symbol = getFlashSymbol(featureSet.features[0].geometry.type);\n                        startFlash(jimuMapView.view, featureSet.features, symbol);\n                    }\n                });\n            });\n        });\n    }\n}\nlet sceneHightlightHandle = null;\nfunction flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView) {\n    var _a;\n    if ((tempJimuLayerView).view) {\n        let sceneLayerView = (tempJimuLayerView).view;\n        // @ts-expect-error\n        queryFeatures((_a = sceneLayerView === null || sceneLayerView === void 0 ? void 0 : sceneLayerView.layer) === null || _a === void 0 ? void 0 : _a.associatedLayer, querySQL).then(featureSet => {\n            if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                const objectIdField = sceneLayerView.layer.objectIdField;\n                const objectIds = featureSet.features.map(feature => feature.attributes[objectIdField]);\n                let i = 0;\n                const maxFlashCount = 6;\n                let highlightColor = [255, 255, 0, 0.8];\n                const originalHighlightOptions = jimuMapView.view.highlightOptions;\n                const flash = function () {\n                    if (i < maxFlashCount) {\n                        i++;\n                        if (highlightColor) {\n                            highlightColor = null;\n                            // @ts-expect-error\n                            jimuMapView.view.highlightOptions = { color: [0, 0, 0, 0] };\n                            sceneHightlightHandle && sceneHightlightHandle.remove();\n                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);\n                        }\n                        else {\n                            highlightColor = [255, 255, 0, 0.8];\n                            // @ts-expect-error\n                            jimuMapView.view.highlightOptions = { color: highlightColor };\n                            sceneHightlightHandle && sceneHightlightHandle.remove();\n                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);\n                        }\n                        setTimeout(flash, 500);\n                    }\n                    else {\n                        jimuMapView.view.highlightOptions = originalHighlightOptions;\n                        sceneHightlightHandle && sceneHightlightHandle.remove();\n                    }\n                };\n                setTimeout(flash, 500);\n            }\n        });\n    }\n}\nfunction flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {\n    if (layerDataSourceId) {\n        const jimuLayerViews = jimuMapView.jimuLayerViews;\n        const jimuLayerViewIds = Object.keys(jimuLayerViews);\n        for (let i = 0; i < jimuLayerViewIds.length; i++) {\n            let tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId) {\n                if (tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer) {\n                    flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView);\n                }\n                else if (tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer) {\n                    flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView);\n                }\n            }\n        }\n    }\n}\nfunction startFlash(mapBaseView, features, symbol) {\n    (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([\n        'esri/Graphic'\n    ]).then(modules => {\n        // eslint-disable-next-line\n        let Graphic;\n        [Graphic] = modules;\n        const flashFeatures = function (features, maxFlashCount) {\n            const graphics = [];\n            let flashCount = 0;\n            for (let i = 0; i < features.length; i++) {\n                const tempGraphic = new Graphic({\n                    geometry: features[i].geometry,\n                    symbol: symbol,\n                    attributes: features[i].attributes\n                });\n                graphics.push(tempGraphic);\n            }\n            const singleFlash = function () {\n                mapBaseView.graphics.addMany(graphics);\n                setTimeout(() => {\n                    mapBaseView.graphics.removeMany(graphics);\n                    flashCount = flashCount + 1;\n                    if (flashCount < maxFlashCount) {\n                        setTimeout(() => {\n                            singleFlash();\n                        }, 500);\n                    }\n                }, 500);\n            };\n            singleFlash();\n        };\n        flashFeatures(features, 3);\n    });\n}\nfunction getFlashSymbol(geometryType) {\n    if (['point', 'multipoint'].includes(geometryType)) {\n        return {\n            type: 'simple-marker',\n            style: 'circle',\n            color: [255, 255, 0, 0.8],\n            size: '16px',\n            outline: {\n                color: [255, 255, 0, 0.8],\n                width: 3\n            }\n        };\n    }\n    else if (['polyline'].includes(geometryType)) {\n        return {\n            type: 'simple-line',\n            color: [255, 255, 0, 0.8],\n            width: 3,\n            style: 'solid'\n        };\n    }\n    else if (['polygon', 'extent'].includes(geometryType)) {\n        return {\n            type: 'simple-fill',\n            color: [255, 255, 0, 0.5],\n            style: 'solid',\n            outline: {\n                color: [255, 255, 0, 0.8],\n                width: 3\n            }\n        };\n    }\n    else if (['mesh'].includes(geometryType)) {\n        return {\n            type: 'mesh-3d',\n            symbolLayers: [{\n                    type: 'fill',\n                    material: { color: [255, 255, 0, 0.8] }\n                }]\n        };\n    }\n    else {\n        return null;\n    }\n}\nfunction getCenterPoint(geometry) {\n    // point | multipoint | polyline | polygon | extent | mesh\n    switch (geometry.type) {\n        case 'point':\n            return geometry;\n        case 'extent':\n            return geometry.center;\n        case 'polygon':\n            return geometry.centroid;\n        case 'polyline':\n            return geometry.extent.center;\n        default:\n            return geometry && geometry.extent ? geometry.extent.center : undefined;\n        // todo\n    }\n}\nfunction handleFeature(feature, Graphic) {\n    let tempFeature = null;\n    if (feature.clone) {\n        tempFeature = feature.clone();\n    }\n    else {\n        tempFeature = Graphic.fromJSON(Object.assign({}, feature));\n        tempFeature.attributes = Object.assign({}, feature.attributes);\n    }\n    return tempFeature;\n}\nfunction projectGeometries(geometries, spatialReference) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!geometries || geometries.length === 0 || !geometries[0] ||\n            spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {\n            return yield Promise.resolve(geometries);\n        }\n        else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {\n            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto\n            return yield Promise.resolve(geometries);\n        }\n        else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {\n            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto\n            return yield Promise.resolve(geometries);\n        }\n        else {\n            return yield jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.geometryUtils.projectToSpatialReference(geometries, spatialReference);\n        }\n    });\n}\nfunction processZoomToFeatures(mapBaseView, layer, features) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {\n            return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([\n                'esri/rest/support/Query'\n            ]).then((modules) => {\n                const [Query] = modules;\n                const query = new Query();\n                query.returnGeometry = true;\n                query.outFields = ['*'];\n                query.objectIds = features.map(feature => feature.attributes[layer.objectIdField]);\n                return layer.queryFeatures(query).then((result) => __awaiter(this, void 0, void 0, function* () {\n                    if (result && result.features && result.features.length === features.length) {\n                        return yield Promise.resolve(result.features);\n                    }\n                    else {\n                        return yield Promise.resolve(features);\n                    }\n                }), () => __awaiter(this, void 0, void 0, function* () {\n                    return yield Promise.resolve(features);\n                }));\n            });\n        }\n        else {\n            return yield Promise.resolve(features);\n        }\n    });\n}\nfunction checkIsLive(appMode) {\n    if (window.jimuConfig.isInBuilder) {\n        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return true;\n    }\n}\nfunction getMapBaseRestoreData(mapInstance) {\n    return {\n        mapContainer: mapInstance.mapContainer,\n        state: mapInstance.state,\n        MapView: mapInstance.MapView,\n        SceneView: mapInstance.SceneView,\n        Extent: mapInstance.Extent,\n        Viewpoint: mapInstance.Viewpoint,\n        mapView: mapInstance.mapView,\n        sceneView: mapInstance.sceneView,\n        extentWatch: mapInstance.extentWatch,\n        fatalErrorWatch: mapInstance.fatalErrorWatch,\n        dsManager: mapInstance.dsManager,\n        highLightHandles: mapInstance.highLightHandles,\n        mapBaseViewEventHandles: mapInstance.mapBaseViewEventHandles,\n        Color: mapInstance.Color,\n        isRequestingMap: mapInstance.isRequestingMap\n    };\n}\nfunction restoreMapBase(mapInstance, restoreData) {\n    mapInstance.mapContainer = restoreData.mapContainer;\n    mapInstance.state = restoreData.state;\n    mapInstance.MapView = restoreData.MapView;\n    mapInstance.SceneView = restoreData.SceneView;\n    mapInstance.Extent = restoreData.Extent;\n    mapInstance.Viewpoint = restoreData.Viewpoint;\n    mapInstance.mapView = restoreData.mapView;\n    mapInstance.sceneView = restoreData.sceneView;\n    mapInstance.extentWatch = restoreData.extentWatch;\n    mapInstance.fatalErrorWatch = restoreData.fatalErrorWatch;\n    mapInstance.dsManager = restoreData.dsManager;\n    mapInstance.highLightHandles = restoreData.highLightHandles;\n    mapInstance.mapBaseViewEventHandles = restoreData.mapBaseViewEventHandles;\n    mapInstance.Color = restoreData.Color;\n    mapInstance.isRequestingMap = restoreData.isRequestingMap;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS91dGlscy50cz9mZTQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuaW1wb3J0IHsgQXBwTW9kZSwgZGF0YVNvdXJjZVV0aWxzIH0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IE1hcEJhc2UsIHsgSGlnaExpZ2h0SGFuZGxlIH0gZnJvbSAnLi9jb21wb25lbnRzL21hcGJhc2UnXG5pbXBvcnQgeyBJRmVhdHVyZSB9IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LXR5cGVzJ1xuaW1wb3J0IHsgZ2VvbWV0cnlVdGlscywgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcsIExheWVyVHlwZXMsIEppbXVGZWF0dXJlTGF5ZXJWaWV3LCBKaW11U2NlbmVMYXllclZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyb2xVSVdpZGdldCAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgaXNPcGVuOiBib29sZWFuLCB1aVdpZGdldDogX19lc3JpLldpZGdldCwgcG9zaXRpb24/OiBzdHJpbmcsIHdpZGdldE5hbWU/OiBzdHJpbmcpIHtcbiAgY29uc3QgdWkgPSBtYXBCYXNlVmlldy51aSBhcyBhbnlcbiAgaWYgKCF1aVdpZGdldCkge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChpc09wZW4pIHtcbiAgICB1aS5hZGQodWlXaWRnZXQsIHBvc2l0aW9uKVxuICAgIGlmICh3aWRnZXROYW1lICYmIHVpLmV4Yk1hcFRvb2xzLmluZGV4T2Yod2lkZ2V0TmFtZSkgPT09IC0xKSB7XG4gICAgICB1aS5leGJNYXBUb29scy5wdXNoKHdpZGdldE5hbWUpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVpLnJlbW92ZSh1aVdpZGdldClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTmV3RmVhdHVyZWxheWVyIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBuZXdGZWF0dXJlU2V0VmFsdWU/OiB7W2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0fSk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IG5ld0xheWVyUHJvbWlzZXMgPSBbXVxuICBuZXdGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMobmV3RmVhdHVyZVNldFZhbHVlKS5mb3JFYWNoKGxheWVySWQgPT4ge1xuICAgIGNvbnN0IGxheWVyID0gbWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSBsYXllcklkKVxuICAgIGlmIChsYXllcikge1xuICAgICAgY29uc29sZS53YXJuKCd0aGUgZmVhdHVyZSBsYXllciBpcyBhbHJlYWR5IGNyZWF0ZWQnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIG5ld0xheWVyUHJvbWlzZXMucHVzaChhZGRGZWF0dXJlU2V0VG9NYXAobWFwQmFzZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpXG4gIH0pXG5cbiAgaWYgKG5ld0xheWVyUHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwobmV3TGF5ZXJQcm9taXNlcylcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRmVhdHVyZWxheWVyIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlPzoge1tsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldH0pOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCB1cGRhdGVQcm9taXNlcyA9IFtdXG4gIGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMoY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZSkuZm9yRWFjaChsYXllcklkID0+IHtcbiAgICBjb25zdCBsYXllciA9IG1hcEJhc2VWaWV3Lm1hcC5sYXllcnMuZmluZChsYXllciA9PiBsYXllci5pZCA9PT0gbGF5ZXJJZClcbiAgICBpZiAobGF5ZXIpIHtcbiAgICAgIG1hcEJhc2VWaWV3Lm1hcC5yZW1vdmUobGF5ZXIpXG4gICAgICB1cGRhdGVQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpXG4gICAgfVxuICB9KVxuXG4gIGlmICh1cGRhdGVQcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh1cGRhdGVQcm9taXNlcylcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBhZGRGZWF0dXJlU2V0VG9NYXAgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGZlYXR1cmVTZXQ6IF9fZXNyaS5GZWF0dXJlU2V0LCBsYXllcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgIGlmIChmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGxldCBGZWF0dXJlU2V0OiB0eXBlb2YgIF9fZXNyaS5GZWF0dXJlU2V0O1xuICAgICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlcztcblxuICAgICAgICBjb25zdCBsYXllckZyb21GZWF0dXJlU2V0ID0gZmVhdHVyZVNldC5mZWF0dXJlc1swXS5sYXllciBhcyBhbnlcbiAgICAgICAgY29uc3QgZmllbGRzSW5GZWF0dXJlbGF5ZXIgPSBbXVxuICAgICAgICBjb25zdCBmaWVsZE1hcCA9IHt9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSBnZXRSZWFzb25hYmxlRmllbGQobGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0pXG4gICAgICAgICAgZmllbGRNYXBbbGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0ubmFtZV0gPSBmaWVsZHNJdGVtLm5hbWVcbiAgICAgICAgICBmaWVsZHNJbkZlYXR1cmVsYXllci5wdXNoKGZpZWxkc0l0ZW0pXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZHNJblBvcHVwVGVtcGxhdGUgPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBmZWF0dXJlU2V0LmZlYXR1cmVzWzBdLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICBpZiAoZmllbGRNYXBba2V5XSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRzSXRlbSA9IHtcbiAgICAgICAgICAgICAgZmllbGROYW1lOiBmaWVsZE1hcFtrZXldLFxuICAgICAgICAgICAgICBsYWJlbDoga2V5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWVsZHNJblBvcHVwVGVtcGxhdGUucHVzaChmaWVsZHNJdGVtKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZUZlYXR1cmVzID0gW11cbiAgICAgICAgZmVhdHVyZVNldC5mZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gZmVhdHVyZVxuICAgICAgICAgIGlmICh0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXNbZmllbGRNYXBba2V5XV0gPSB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzW2tleV1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcy5leGJmaWQgPSBpbmRleFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgICBleGJmaWQ6IGluZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNvdXJjZUZlYXR1cmVzLnB1c2godGVtcEZlYXR1cmUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgRmVhdHVyZUxheWVyKHtcbiAgICAgICAgICBpZDogbGF5ZXJJZCxcbiAgICAgICAgICB0aXRsZTogbGF5ZXJGcm9tRmVhdHVyZVNldC50aXRsZSxcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZUZlYXR1cmVzLFxuICAgICAgICAgIGZpZWxkczogZmllbGRzSW5GZWF0dXJlbGF5ZXIsXG4gICAgICAgICAgb3V0RmllbGRzOiBbJyonXSxcbiAgICAgICAgICBvYmplY3RJZEZpZWxkOiAnZXhiZmlkJyxcbiAgICAgICAgICByZW5kZXJlcjogbGF5ZXJGcm9tRmVhdHVyZVNldC5yZW5kZXJlcixcbiAgICAgICAgICBwb3B1cEVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgcG9wdXBUZW1wbGF0ZToge1xuICAgICAgICAgICAgdGl0bGU6ICdpbmZvcm1hdGlvbicsXG4gICAgICAgICAgICBjb250ZW50OiBbe1xuICAgICAgICAgICAgICB0eXBlOiAnZmllbGRzJyxcbiAgICAgICAgICAgICAgZmllbGRJbmZvczogZmllbGRzSW5Qb3B1cFRlbXBsYXRlXG4gICAgICAgICAgICB9XVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBtYXBCYXNlVmlldy5tYXAuYWRkKGxheWVyKVxuXG4gICAgICAgIGxheWVyLm9uKCdsYXllcnZpZXctY3JlYXRlJywgZXZlbnQgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0UmVhc29uYWJsZUZpZWxkIChmaWVsZDogX19lc3JpLkZpZWxkKTogX19lc3JpLkZpZWxkIHtcbiAgLy8gdGhlIGZ1bmN0aW9uIGlzIHN1cHBvcnRlZCB0byBub3JtYWxpemUgdGhlIGZpZWxkLm5hbWVcbiAgY29uc3QgZmllbGROYW1lID0gZmllbGQubmFtZVxuICByZXR1cm4ge1xuICAgIG5hbWU6IGZpZWxkTmFtZS5yZXBsYWNlKC9cXC4vZywgJ18nKS5yZXBsYWNlKC9cXCgvZywgJ18nKS5yZXBsYWNlKC9cXCkvZywgJ18nKSxcbiAgICBhbGlhczogZmllbGQuYWxpYXMsXG4gICAgdHlwZTogZmllbGQudHlwZVxuICB9IGFzIGFueVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0RmVhdHVyZSAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgdGFyZ2V0OiBfX2VzcmkuR3JhcGhpYyB8IF9fZXNyaS5HcmFwaGljW10gfCBJRmVhdHVyZSB8IElGZWF0dXJlW10sIGxheWVySWQ/OiBzdHJpbmcpOiBIaWdoTGlnaHRIYW5kbGUge1xuICAvLyBJbiB0aGlzIGZ1bmN0aW9uLCB3ZSBhc3N1bWUgdGhhdCBmZWF0dXJlcyBjb21lIGZyb20gdGhlIHNhbWUgbGF5ZXJcbiAgbGV0IGZlYXR1cmVMYXllcklkID0gbGF5ZXJJZFxuICBsZXQgZmVhdHVyZUxheWVyVmlldyA9IG51bGxcbiAgbGV0IHRlbXBGZWF0dXJlID0gbnVsbFxuXG4gIC8vIGlmIGxheWVySWQgZG9lc24ndCBleGlzdCwgd2UgZ2V0IGxheWVySWQgYnkgZmVhdHVyZVxuICBpZiAoIWZlYXR1cmVMYXllcklkKSB7XG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICB0ZW1wRmVhdHVyZSA9IHRhcmdldFswXSBhcyBfX2VzcmkuR3JhcGhpY1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wRmVhdHVyZSA9IHRhcmdldCBhcyBfX2VzcmkuR3JhcGhpY1xuICAgIH1cblxuICAgIGlmICh0ZW1wRmVhdHVyZSkge1xuICAgICAgZmVhdHVyZUxheWVySWQgPSB0ZW1wRmVhdHVyZS5sYXllciAmJiB0ZW1wRmVhdHVyZS5sYXllci5pZFxuICAgIH1cbiAgfVxuXG4gIGlmIChmZWF0dXJlTGF5ZXJJZCkge1xuICAgIGNvbnN0IGxheWVyVmlld3MgPSBtYXBCYXNlVmlldy5hbGxMYXllclZpZXdzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllclZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGF5ZXJWaWV3cy5nZXRJdGVtQXQoaSkubGF5ZXIuaWQgPT09IGZlYXR1cmVMYXllcklkKSB7XG4gICAgICAgIGZlYXR1cmVMYXllclZpZXcgPSBsYXllclZpZXdzLmdldEl0ZW1BdChpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXllcklkOiBmZWF0dXJlTGF5ZXJJZCxcbiAgICAgICAgaGFuZGxlOiBmZWF0dXJlTGF5ZXJWaWV3LmhpZ2hsaWdodCh0YXJnZXQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXBQYW50byAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgdGFyZ2V0OiBfX2VzcmkuR2VvbWV0cnkgfCBfX2VzcmkuR2VvbWV0cnlbXSB8XG5fX2VzcmkuR3JhcGhpYyB8IF9fZXNyaS5HcmFwaGljW10gfCBfX2VzcmkuRXh0ZW50KTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgcGFuVG9UYXJnZXQgPSB0YXJnZXQgYXMgYW55XG4gIGNvbnN0IHRlbXBCYXNlTWFwVmlldyA9IG1hcEJhc2VWaWV3IGFzIGFueVxuICBpZiAocGFuVG9UYXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGlmIChwYW5Ub1RhcmdldC5sZW5ndGggPT09IDApIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxuXG4gICAgaWYgKHBhblRvVGFyZ2V0WzBdLmdlb21ldHJ5KSB7XG4gICAgICBjb25zdCBnZW9tZXRyeUFycjogX19lc3JpLkdlb21ldHJ5W10gPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5Ub1RhcmdldC5sZW5ndGg7IGkrKykge1xuICAgICAgICBnZW9tZXRyeUFyci5wdXNoKHBhblRvVGFyZ2V0W2ldLmdlb21ldHJ5KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgZ2V0R2VvbWV0cmllc0V4dGVudChnZW9tZXRyeUFycikudGhlbigoZXh0ZW50KSA9PiB7XG4gICAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhleHRlbnQuY2VudGVyKVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldEdlb21ldHJpZXNFeHRlbnQocGFuVG9UYXJnZXQpLnRoZW4oKGV4dGVudCkgPT4ge1xuICAgICAgICByZXR1cm4gdGVtcEJhc2VNYXBWaWV3LmdvVG8oZXh0ZW50LmNlbnRlcilcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwYW5Ub1RhcmdldC5nZW9tZXRyeSkge1xuICAgICAgY29uc3QgZ2V0bWV0cnkgPSBwYW5Ub1RhcmdldC5nZW9tZXRyeSBhcyBfX2VzcmkuR2VvbWV0cnlcbiAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhnZXRDZW50ZXJQb2ludChnZXRtZXRyeSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhnZXRDZW50ZXJQb2ludChwYW5Ub1RhcmdldCkpXG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEdlb21ldHJpZXNFeHRlbnQgKGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdKTogUHJvbWlzZTxfX2VzcmkuRXh0ZW50PiB7XG4gIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnXG4gIF0pLnRoZW4oYXN5bmMgbW9kdWxlcyA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgbGV0IEV4dGVudDogdHlwZW9mIF9fZXNyaS5FeHRlbnQ7XG4gICAgW0V4dGVudF0gPSBtb2R1bGVzXG5cbiAgICBpZiAoIWdlb21ldHJpZXMgfHwgIWdlb21ldHJpZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKG51bGwpXG4gICAgfVxuXG4gICAgbGV0IGZ1bGxFeHRlbnQ6IF9fZXNyaS5FeHRlbnQgPSBudWxsXG4gICAgbGV0IGluZGV4XG4gICAgY29uc3QgbnVtR2VvbWV0cmllcyA9IGdlb21ldHJpZXMubGVuZ3RoXG5cbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBudW1HZW9tZXRyaWVzOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaW5kZXhdXG4gICAgICBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGxldCBleHRlbnQgPSBnZW9tZXRyeS5leHRlbnRcblxuICAgICAgaWYgKCFleHRlbnQgJiYgZ2VvbWV0cnkudHlwZSA9PT0gJ3BvaW50Jykge1xuICAgICAgICBjb25zdCBwb2ludEdlb21ldHJ5ID0gZ2VvbWV0cnkgYXMgYW55XG5cbiAgICAgICAgaWYgKHBvaW50R2VvbWV0cnkueCAmJiBwb2ludEdlb21ldHJ5LnkpIHtcbiAgICAgICAgICBleHRlbnQgPSBuZXcgRXh0ZW50KHtcbiAgICAgICAgICAgIHhtYXg6IHBvaW50R2VvbWV0cnkueCxcbiAgICAgICAgICAgIHhtaW46IHBvaW50R2VvbWV0cnkueCxcbiAgICAgICAgICAgIHltYXg6IHBvaW50R2VvbWV0cnkueSxcbiAgICAgICAgICAgIHltaW46IHBvaW50R2VvbWV0cnkueSxcbiAgICAgICAgICAgIHptYXg6IHBvaW50R2VvbWV0cnkueixcbiAgICAgICAgICAgIHptaW46IHBvaW50R2VvbWV0cnkueixcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHBvaW50R2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKGZ1bGxFeHRlbnQpIHtcbiAgICAgICAgZnVsbEV4dGVudCA9IGZ1bGxFeHRlbnQudW5pb24oZXh0ZW50KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsbEV4dGVudCA9IGV4dGVudFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmdWxsRXh0ZW50LndpZHRoIDwgMCAmJiBmdWxsRXh0ZW50LmhlaWdodCA8IDApIHtcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUobnVsbClcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZ1bGxFeHRlbnQpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJGZWF0dXJlc0J5UXVlcnkgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IHZvaWQge1xuICBpZiAobGF5ZXJEYXRhU291cmNlSWQpIHtcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzXG4gICAgY29uc3QgamltdUxheWVyVmlld0lkcyA9IE9iamVjdC5rZXlzKGppbXVMYXllclZpZXdzKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgamltdUxheWVyVmlld0lkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHRlbXBKaW11TGF5ZXJWaWV3ID0gamltdUxheWVyVmlld3NbamltdUxheWVyVmlld0lkc1tpXV1cbiAgICAgIGlmICh0ZW1wSmltdUxheWVyVmlldyAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllciAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllckRhdGFTb3VyY2VJZCA9PT0gbGF5ZXJEYXRhU291cmNlSWQgJiZcbiAgICAgICAgKHRlbXBKaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuRmVhdHVyZUxheWVyIHx8IHRlbXBKaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuU2NlbmVMYXllcikpIHtcbiAgICAgICAgKHRlbXBKaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3IHwgSmltdVNjZW5lTGF5ZXJWaWV3KS5zZXRMb2NhbERlZmluaXRpb25FeHByZXNzaW9uKHF1ZXJ5U1FMKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBxdWVyeUZlYXR1cmVzIChsYXllck9iamVjdCwgcXVlcnlTUUwpIHtcbiAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeSdcbiAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICBsZXQgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnk7XG4gICAgW1F1ZXJ5XSA9IG1vZHVsZXNcbiAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXG4gICAgcXVlcnkud2hlcmUgPSBxdWVyeVNRTFxuICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IFsnKiddXG4gICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlXG4gICAgcmV0dXJuIGxheWVyT2JqZWN0LnF1ZXJ5RmVhdHVyZXMocXVlcnkpLnRoZW4oZmVhdHVyZVNldCA9PiB7XG4gICAgICByZXR1cm4gZmVhdHVyZVNldFxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGZsYXNoT25GZWF0dXJlTGF5ZXIgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgcXVlcnlTUUw6IHN0cmluZywgdGVtcEppbXVMYXllclZpZXc6IEppbXVGZWF0dXJlTGF5ZXJWaWV3KSB7XG4gIGlmICgodGVtcEppbXVMYXllclZpZXcpLnZpZXcpIHtcbiAgICBsZXQgZmVhdHVyZUxheWVyVmlldzogX19lc3JpLkZlYXR1cmVMYXllclZpZXcgPSAodGVtcEppbXVMYXllclZpZXcpLnZpZXdcbiAgICBpZiAoZmVhdHVyZUxheWVyVmlldykge1xuICAgICAgcXVlcnlGZWF0dXJlcyhmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLCBxdWVyeVNRTCkudGhlbihmZWF0dXJlU2V0ID0+IHtcbiAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBzeW1ib2wgPSBnZXRGbGFzaFN5bWJvbChmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLmdlb21ldHJ5VHlwZSlcbiAgICAgICAgICBzdGFydEZsYXNoKGppbXVNYXBWaWV3LnZpZXcsIGZlYXR1cmVTZXQuZmVhdHVyZXMsIHN5bWJvbClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJ1xuICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcbiAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlc1xuXG4gICAgICBsZXQgdGVtcEZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xuICAgICAgICB1cmw6IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykubGF5ZXIpXG4gICAgICB9KVxuICAgICAgdGVtcEZlYXR1cmVMYXllci5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHF1ZXJ5RmVhdHVyZXModGVtcEZlYXR1cmVMYXllciwgcXVlcnlTUUwpLnRoZW4oZmVhdHVyZVNldCA9PiB7XG4gICAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldEZsYXNoU3ltYm9sKGZlYXR1cmVTZXQuZmVhdHVyZXNbMF0uZ2VvbWV0cnkudHlwZSlcbiAgICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG5sZXQgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gbnVsbFxuZnVuY3Rpb24gZmxhc2hPblNjZW5lTGF5ZXIgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgcXVlcnlTUUw6IHN0cmluZywgdGVtcEppbXVMYXllclZpZXc6IEppbXVTY2VuZUxheWVyVmlldykge1xuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XG4gICAgbGV0IHNjZW5lTGF5ZXJWaWV3OiBfX2VzcmkuU2NlbmVMYXllclZpZXcgPSAodGVtcEppbXVMYXllclZpZXcpLnZpZXdcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgcXVlcnlGZWF0dXJlcyhzY2VuZUxheWVyVmlldz8ubGF5ZXI/LmFzc29jaWF0ZWRMYXllciwgcXVlcnlTUUwpLnRoZW4oZmVhdHVyZVNldCA9PiB7XG4gICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBvYmplY3RJZEZpZWxkID0gc2NlbmVMYXllclZpZXcubGF5ZXIub2JqZWN0SWRGaWVsZFxuICAgICAgICBjb25zdCBvYmplY3RJZHMgPSBmZWF0dXJlU2V0LmZlYXR1cmVzLm1hcChmZWF0dXJlID0+IGZlYXR1cmUuYXR0cmlidXRlc1tvYmplY3RJZEZpZWxkXSlcblxuICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgY29uc3QgbWF4Rmxhc2hDb3VudCA9IDZcbiAgICAgICAgbGV0IGhpZ2hsaWdodENvbG9yID0gWzI1NSwgMjU1LCAwLCAwLjhdXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSGlnaGxpZ2h0T3B0aW9ucyA9IGppbXVNYXBWaWV3LnZpZXcuaGlnaGxpZ2h0T3B0aW9uc1xuXG4gICAgICAgIGNvbnN0IGZsYXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChpIDwgbWF4Rmxhc2hDb3VudCkge1xuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0Q29sb3IpIHtcbiAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3IgPSBudWxsXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0geyBjb2xvcjogWzAsIDAsIDAsIDBdIH1cbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlICYmIHNjZW5lSGlnaHRsaWdodEhhbmRsZS5yZW1vdmUoKVxuICAgICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgPSBzY2VuZUxheWVyVmlldy5oaWdobGlnaHQob2JqZWN0SWRzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3IgPSBbMjU1LCAyNTUsIDAsIDAuOF1cbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7IGNvbG9yOiBoaWdobGlnaHRDb2xvciB9XG4gICAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSAmJiBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUucmVtb3ZlKClcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gc2NlbmVMYXllclZpZXcuaGlnaGxpZ2h0KG9iamVjdElkcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZmxhc2gsIDUwMClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgamltdU1hcFZpZXcudmlldy5oaWdobGlnaHRPcHRpb25zID0gb3JpZ2luYWxIaWdobGlnaHRPcHRpb25zXG4gICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgJiYgc2NlbmVIaWdodGxpZ2h0SGFuZGxlLnJlbW92ZSgpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZmxhc2gsIDUwMClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGFzaEZlYXR1cmVzQnlRdWVyeSAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBsYXllckRhdGFTb3VyY2VJZDogc3RyaW5nLCBxdWVyeVNRTDogc3RyaW5nKTogdm9pZCB7XG4gIGlmIChsYXllckRhdGFTb3VyY2VJZCkge1xuICAgIGNvbnN0IGppbXVMYXllclZpZXdzID0gamltdU1hcFZpZXcuamltdUxheWVyVmlld3NcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3SWRzID0gT2JqZWN0LmtleXMoamltdUxheWVyVmlld3MpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdGVtcEppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXVxuICAgICAgaWYgKHRlbXBKaW11TGF5ZXJWaWV3ICYmIHRlbXBKaW11TGF5ZXJWaWV3LmxheWVyICYmIHRlbXBKaW11TGF5ZXJWaWV3LmxheWVyRGF0YVNvdXJjZUlkID09PSBsYXllckRhdGFTb3VyY2VJZCkge1xuICAgICAgICBpZiAodGVtcEppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIpIHtcbiAgICAgICAgICBmbGFzaE9uRmVhdHVyZUxheWVyKGppbXVNYXBWaWV3LCBxdWVyeVNRTCwgdGVtcEppbXVMYXllclZpZXcgYXMgSmltdUZlYXR1cmVMYXllclZpZXcpXG4gICAgICAgIH0gZWxzZSBpZiAodGVtcEppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5TY2VuZUxheWVyKSB7XG4gICAgICAgICAgZmxhc2hPblNjZW5lTGF5ZXIoamltdU1hcFZpZXcsIHF1ZXJ5U1FMLCB0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11U2NlbmVMYXllclZpZXcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRGbGFzaCAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIHN5bWJvbCkge1xuICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAnZXNyaS9HcmFwaGljJ1xuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGxldCBHcmFwaGljOiB0eXBlb2YgX19lc3JpLkdyYXBoaWM7XG4gICAgW0dyYXBoaWNdID0gbW9kdWxlc1xuXG4gICAgY29uc3QgZmxhc2hGZWF0dXJlcyA9IGZ1bmN0aW9uIChmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSwgbWF4Rmxhc2hDb3VudDogbnVtYmVyKSB7XG4gICAgICBjb25zdCBncmFwaGljcyA9IFtdXG4gICAgICBsZXQgZmxhc2hDb3VudCA9IDBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGVtcEdyYXBoaWMgPSBuZXcgR3JhcGhpYyh7XG4gICAgICAgICAgZ2VvbWV0cnk6IGZlYXR1cmVzW2ldLmdlb21ldHJ5LFxuICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IGZlYXR1cmVzW2ldLmF0dHJpYnV0ZXNcbiAgICAgICAgfSlcbiAgICAgICAgZ3JhcGhpY3MucHVzaCh0ZW1wR3JhcGhpYylcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2luZ2xlRmxhc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1hcEJhc2VWaWV3LmdyYXBoaWNzLmFkZE1hbnkoZ3JhcGhpY3MpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG1hcEJhc2VWaWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoZ3JhcGhpY3MpXG4gICAgICAgICAgZmxhc2hDb3VudCA9IGZsYXNoQ291bnQgKyAxXG4gICAgICAgICAgaWYgKGZsYXNoQ291bnQgPCBtYXhGbGFzaENvdW50KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgc2luZ2xlRmxhc2goKVxuICAgICAgICAgICAgfSwgNTAwKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKVxuICAgICAgfVxuXG4gICAgICBzaW5nbGVGbGFzaCgpXG4gICAgfVxuXG4gICAgZmxhc2hGZWF0dXJlcyhmZWF0dXJlcywgMylcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0Rmxhc2hTeW1ib2wgKGdlb21ldHJ5VHlwZTogc3RyaW5nKSB7XG4gIGlmIChbJ3BvaW50JywgJ211bHRpcG9pbnQnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzaW1wbGUtbWFya2VyJyxcbiAgICAgIHN0eWxlOiAnY2lyY2xlJyxcbiAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXG4gICAgICBzaXplOiAnMTZweCcsXG4gICAgICBvdXRsaW5lOiB7XG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDAsIDAuOF0sXG4gICAgICAgIHdpZHRoOiAzXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKFsncG9seWxpbmUnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzaW1wbGUtbGluZScsXG4gICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxuICAgICAgd2lkdGg6IDMsXG4gICAgICBzdHlsZTogJ3NvbGlkJ1xuICAgIH1cbiAgfSBlbHNlIGlmIChbJ3BvbHlnb24nLCAnZXh0ZW50J10uaW5jbHVkZXMoZ2VvbWV0cnlUeXBlKSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnc2ltcGxlLWZpbGwnLCAvLyBhdXRvY2FzdHMgYXMgbmV3IFNpbXBsZUZpbGxTeW1ib2woKVxuICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC41XSxcbiAgICAgIHN0eWxlOiAnc29saWQnLFxuICAgICAgb3V0bGluZTogeyAvLyBhdXRvY2FzdHMgYXMgbmV3IFNpbXBsZUxpbmVTeW1ib2woKVxuICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxuICAgICAgICB3aWR0aDogM1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChbJ21lc2gnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdtZXNoLTNkJywgLy8gYXV0b2Nhc3RzIGFzIG5ldyBNZXNoU3ltYm9sM0QoKVxuICAgICAgc3ltYm9sTGF5ZXJzOiBbe1xuICAgICAgICB0eXBlOiAnZmlsbCcsIC8vIGF1dG9jYXN0cyBhcyBuZXcgRmlsbFN5bWJvbDNETGF5ZXIoKVxuICAgICAgICBtYXRlcmlhbDogeyBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdIH1cbiAgICAgIH1dXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2VudGVyUG9pbnQgKGdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnkpOiBfX2VzcmkuUG9pbnQge1xuICAvLyBwb2ludCB8IG11bHRpcG9pbnQgfCBwb2x5bGluZSB8IHBvbHlnb24gfCBleHRlbnQgfCBtZXNoXG4gIHN3aXRjaCAoZ2VvbWV0cnkudHlwZSkge1xuICAgIGNhc2UgJ3BvaW50JzpcbiAgICAgIHJldHVybiBnZW9tZXRyeSBhcyBfX2VzcmkuUG9pbnRcbiAgICBjYXNlICdleHRlbnQnOlxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuRXh0ZW50KS5jZW50ZXJcbiAgICBjYXNlICdwb2x5Z29uJzpcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLlBvbHlnb24pLmNlbnRyb2lkXG4gICAgY2FzZSAncG9seWxpbmUnOlxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWxpbmUpLmV4dGVudC5jZW50ZXJcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGdlb21ldHJ5ICYmIGdlb21ldHJ5LmV4dGVudCA/IGdlb21ldHJ5LmV4dGVudC5jZW50ZXIgOiB1bmRlZmluZWRcbiAgICAvLyB0b2RvXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmUgKGZlYXR1cmU6IElGZWF0dXJlIHwgX19lc3JpLkdyYXBoaWMsIEdyYXBoaWM6IF9fZXNyaS5HcmFwaGljQ29uc3RydWN0b3IpOiBfX2VzcmkuR3JhcGhpYyB7XG4gIGxldCB0ZW1wRmVhdHVyZSA9IG51bGxcbiAgaWYgKChmZWF0dXJlIGFzIGFueSkuY2xvbmUpIHtcbiAgICB0ZW1wRmVhdHVyZSA9IChmZWF0dXJlIGFzIGFueSkuY2xvbmUoKVxuICB9IGVsc2Uge1xuICAgIHRlbXBGZWF0dXJlID0gR3JhcGhpYy5mcm9tSlNPTihPYmplY3QuYXNzaWduKHt9LCBmZWF0dXJlKSlcbiAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgZmVhdHVyZS5hdHRyaWJ1dGVzKVxuICB9XG4gIHJldHVybiB0ZW1wRmVhdHVyZVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvamVjdEdlb21ldHJpZXMgKGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdLCBzcGF0aWFsUmVmZXJlbmNlOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IFByb21pc2U8X19lc3JpLkdlb21ldHJ5W10+IHtcbiAgaWYgKCFnZW9tZXRyaWVzIHx8IGdlb21ldHJpZXMubGVuZ3RoID09PSAwIHx8ICFnZW9tZXRyaWVzWzBdIHx8XG4gICAgc3BhdGlhbFJlZmVyZW5jZS53a2lkID09PSBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2Uud2tpZCB8fCAoc3BhdGlhbFJlZmVyZW5jZS5lcXVhbHMoZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlKSkpIHtcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpXG4gIH0gZWxzZSBpZiAoc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yICYmIGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS5pc1dHUzg0KSB7XG4gICAgLy8gSW4ganMgYXBpIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKVxuICB9IGVsc2UgaWYgKHNwYXRpYWxSZWZlcmVuY2UuaXNXR1M4NCAmJiBnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UuaXNXZWJNZXJjYXRvcikge1xuICAgIC8vIEluIGpzIGFwaSA0LngsIHRoZSB2aWV3IGNhbiBoYW5kbGUgV2ViTWVyY2F0b3IgYW5kIFdHUzg0IHNwYXRpYWxSZWZlcmVuY2UgYXV0b1xuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcylcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXdhaXQgZ2VvbWV0cnlVdGlscy5wcm9qZWN0VG9TcGF0aWFsUmVmZXJlbmNlKGdlb21ldHJpZXMsIHNwYXRpYWxSZWZlcmVuY2UpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3Nab29tVG9GZWF0dXJlcyAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgbGF5ZXI6IGFueSwgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10pOiBQcm9taXNlPF9fZXNyaS5HcmFwaGljW10+IHtcbiAgaWYgKG1hcEJhc2VWaWV3ICYmIG1hcEJhc2VWaWV3LnR5cGUgPT09ICczZCcgJiYgbGF5ZXIgJiYgbGF5ZXIucXVlcnlGZWF0dXJlcyAmJiBmZWF0dXJlcykge1xuICAgIHJldHVybiBhd2FpdCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeSdcbiAgICBdKS50aGVuKChtb2R1bGVzKSA9PiB7XG4gICAgICBjb25zdCBbUXVlcnldID0gbW9kdWxlc1xuICAgICAgY29uc3QgcXVlcnkgPSBuZXcgUXVlcnkoKVxuICAgICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlXG4gICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXVxuICAgICAgcXVlcnkub2JqZWN0SWRzID0gZmVhdHVyZXMubWFwKGZlYXR1cmUgPT4gZmVhdHVyZS5hdHRyaWJ1dGVzW2xheWVyLm9iamVjdElkRmllbGRdKVxuICAgICAgcmV0dXJuIGxheWVyLnF1ZXJ5RmVhdHVyZXMocXVlcnkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5mZWF0dXJlcyAmJiByZXN1bHQuZmVhdHVyZXMubGVuZ3RoID09PSBmZWF0dXJlcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5mZWF0dXJlcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKVxuICAgICAgICB9XG4gICAgICB9LCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZmVhdHVyZXMpXG4gICAgICB9KVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShmZWF0dXJlcylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tJc0xpdmUgKGFwcE1vZGU6IEFwcE1vZGUpOiBib29sZWFuIHtcbiAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XG4gICAgaWYgKGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwQmFzZVJlc3RvcmVEYXRhIChtYXBJbnN0YW5jZTogTWFwQmFzZSk6IGFueSB7XG4gIHJldHVybiB7XG4gICAgbWFwQ29udGFpbmVyOiBtYXBJbnN0YW5jZS5tYXBDb250YWluZXIsXG4gICAgc3RhdGU6IG1hcEluc3RhbmNlLnN0YXRlLFxuICAgIE1hcFZpZXc6IG1hcEluc3RhbmNlLk1hcFZpZXcsXG4gICAgU2NlbmVWaWV3OiBtYXBJbnN0YW5jZS5TY2VuZVZpZXcsXG4gICAgRXh0ZW50OiBtYXBJbnN0YW5jZS5FeHRlbnQsXG4gICAgVmlld3BvaW50OiBtYXBJbnN0YW5jZS5WaWV3cG9pbnQsXG4gICAgbWFwVmlldzogbWFwSW5zdGFuY2UubWFwVmlldyxcbiAgICBzY2VuZVZpZXc6IG1hcEluc3RhbmNlLnNjZW5lVmlldyxcbiAgICBleHRlbnRXYXRjaDogbWFwSW5zdGFuY2UuZXh0ZW50V2F0Y2gsXG4gICAgZmF0YWxFcnJvcldhdGNoOiBtYXBJbnN0YW5jZS5mYXRhbEVycm9yV2F0Y2gsXG4gICAgZHNNYW5hZ2VyOiBtYXBJbnN0YW5jZS5kc01hbmFnZXIsXG4gICAgaGlnaExpZ2h0SGFuZGxlczogbWFwSW5zdGFuY2UuaGlnaExpZ2h0SGFuZGxlcyxcbiAgICBtYXBCYXNlVmlld0V2ZW50SGFuZGxlczogbWFwSW5zdGFuY2UubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMsXG4gICAgQ29sb3I6IG1hcEluc3RhbmNlLkNvbG9yLFxuICAgIGlzUmVxdWVzdGluZ01hcDogbWFwSW5zdGFuY2UuaXNSZXF1ZXN0aW5nTWFwXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVNYXBCYXNlIChtYXBJbnN0YW5jZTogTWFwQmFzZSwgcmVzdG9yZURhdGE6IGFueSk6IHZvaWQge1xuICBtYXBJbnN0YW5jZS5tYXBDb250YWluZXIgPSByZXN0b3JlRGF0YS5tYXBDb250YWluZXJcbiAgbWFwSW5zdGFuY2Uuc3RhdGUgPSByZXN0b3JlRGF0YS5zdGF0ZVxuICBtYXBJbnN0YW5jZS5NYXBWaWV3ID0gcmVzdG9yZURhdGEuTWFwVmlld1xuICBtYXBJbnN0YW5jZS5TY2VuZVZpZXcgPSByZXN0b3JlRGF0YS5TY2VuZVZpZXdcbiAgbWFwSW5zdGFuY2UuRXh0ZW50ID0gcmVzdG9yZURhdGEuRXh0ZW50XG4gIG1hcEluc3RhbmNlLlZpZXdwb2ludCA9IHJlc3RvcmVEYXRhLlZpZXdwb2ludFxuICBtYXBJbnN0YW5jZS5tYXBWaWV3ID0gcmVzdG9yZURhdGEubWFwVmlld1xuICBtYXBJbnN0YW5jZS5zY2VuZVZpZXcgPSByZXN0b3JlRGF0YS5zY2VuZVZpZXdcbiAgbWFwSW5zdGFuY2UuZXh0ZW50V2F0Y2ggPSByZXN0b3JlRGF0YS5leHRlbnRXYXRjaFxuICBtYXBJbnN0YW5jZS5mYXRhbEVycm9yV2F0Y2ggPSByZXN0b3JlRGF0YS5mYXRhbEVycm9yV2F0Y2hcbiAgbWFwSW5zdGFuY2UuZHNNYW5hZ2VyID0gcmVzdG9yZURhdGEuZHNNYW5hZ2VyXG4gIG1hcEluc3RhbmNlLmhpZ2hMaWdodEhhbmRsZXMgPSByZXN0b3JlRGF0YS5oaWdoTGlnaHRIYW5kbGVzXG4gIG1hcEluc3RhbmNlLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzID0gcmVzdG9yZURhdGEubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNcbiAgbWFwSW5zdGFuY2UuQ29sb3IgPSByZXN0b3JlRGF0YS5Db2xvclxuICBtYXBJbnN0YW5jZS5pc1JlcXVlc3RpbmdNYXAgPSByZXN0b3JlRGF0YS5pc1JlcXVlc3RpbmdNYXBcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx":
/*!*********************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Widget)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var _components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/multisourcemap */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx\");\n/* harmony import */ var _components_default_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/default-map */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/default-map.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/** @jsx jsx */\n\n\n\n\n\nclass Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.multiSourceMapInstance = null;\n        this.startRenderMap = () => {\n            setTimeout(() => {\n                this.setState({\n                    startLoadModules: true\n                });\n            }, 100);\n        };\n        this.getPlaceHolderImage = () => {\n            let placeHolderImage = this.props.config.placeholderImage;\n            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getMainSession();\n            if (placeHolderImage) {\n                // eslint-disable-next-line\n                const isPortalThumbExp = new RegExp('^(.)+/sharing/rest/content/items/(.)+/info/(.)+');\n                if (isPortalThumbExp.test(placeHolderImage)) {\n                    if (session) {\n                        placeHolderImage = placeHolderImage + `?token=${session.token}`;\n                    }\n                    else {\n                        // eslint-disable-next-line no-self-assign\n                        placeHolderImage = placeHolderImage;\n                    }\n                }\n            }\n            return placeHolderImage;\n        };\n        this.fullScreenMap = () => {\n            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isTouchDevice()) {\n                // is touch device\n                if (this.container.style.position === 'fixed') {\n                    this.container.style.height = `${this.containerClientRect.height}px`;\n                    this.container.style.width = `${this.containerClientRect.width}px`;\n                    this.container.style.top = `${this.containerClientRect.top}px`;\n                    this.container.style.left = `${this.containerClientRect.left}px`;\n                    setTimeout(() => {\n                        this.container.style.transition = null;\n                        this.container.style.position = 'relative';\n                        this.container.style.height = '100%';\n                        this.container.style.width = '100%';\n                        this.container.style.top = '0';\n                        this.container.style.left = '0';\n                        this.container.style.backgroundColor = 'none';\n                        this.parentContainer.appendChild(this.container);\n                        this.setState({\n                            isFullScreen: false\n                        });\n                    }, 100);\n                }\n                else {\n                    const clientRect = this.container.getBoundingClientRect();\n                    this.containerClientRect = clientRect;\n                    this.container.style.height = `${clientRect.height}px`;\n                    this.container.style.width = `${clientRect.width}px`;\n                    this.container.style.position = 'fixed';\n                    this.container.style.top = `${clientRect.top}px`;\n                    this.container.style.left = `${clientRect.left}px`;\n                    document && document.body.appendChild(this.container);\n                    setTimeout(() => {\n                        this.container.style.transition = 'top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s';\n                        this.container.style.top = '0px';\n                        this.container.style.left = '0px';\n                        this.container.style.right = '0px';\n                        this.container.style.bottom = '0px';\n                        this.container.style.height = null;\n                        this.container.style.width = null;\n                        this.container.style.backgroundColor = '#fff';\n                        this.setState({\n                            isFullScreen: true\n                        });\n                    }, 100);\n                }\n            }\n            else {\n                const element = this.container;\n                if (!document) {\n                    return;\n                }\n                document.addEventListener('webkitfullscreenchange', (event) => {\n                    if (!document.fullscreenElement && !document.webkitFullscreenElement) {\n                        this.setState({\n                            isFullScreen: false\n                        });\n                    }\n                });\n                document.addEventListener('fullscreenchange', (event) => {\n                    if (!document.fullscreenElement && !document.webkitFullscreenElement) {\n                        this.setState({\n                            isFullScreen: false\n                        });\n                    }\n                });\n                if (document.fullscreenElement === element) {\n                    document.exitFullscreen();\n                    this.setState({\n                        isFullScreen: false\n                    });\n                    return;\n                }\n                if (document.webkitFullscreenElement === element) {\n                    document.webkitCancelFullScreen();\n                    this.setState({\n                        isFullScreen: false\n                    });\n                    return;\n                }\n                const requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;\n                if (requestMethod) {\n                    this.setState({\n                        isFullScreen: true\n                    });\n                    requestMethod.call(element);\n                }\n                else if (typeof window.ActiveXObject !== 'undefined') {\n                    const wscript = new ActiveXObject('WScript.Shell');\n                    if (wscript !== null) {\n                        wscript.SendKeys('{F11}');\n                    }\n                }\n            }\n        };\n        this.handleViewGroupCreate = (viewGroup) => {\n            if (viewGroup) {\n                viewGroup.setMapWidgetInstance(this);\n            }\n        };\n        this.switchMap = () => __awaiter(this, void 0, void 0, function* () {\n            if (this.multiSourceMapInstance) {\n                return yield this.multiSourceMapInstance.switchMap();\n            }\n            else {\n                return yield Promise.resolve();\n            }\n        });\n        this.setMultiSourceMapInstance = (instance) => {\n            this.multiSourceMapInstance = instance;\n        };\n        this.onResize = (width, height) => {\n            if (!width || !height) {\n                return;\n            }\n            if (width <= 545 && width > 0) {\n                this.setState({\n                    widthBreakpoint: 'xsmall',\n                    widgetHeight: height\n                });\n            }\n            else {\n                this.setState({\n                    widthBreakpoint: 'other',\n                    widgetHeight: height\n                });\n            }\n        };\n        this.getInnerContent = (isMapInVisibleArea) => {\n            if (!this.state.startLoadModules) {\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: 'jimu-widget' },\n                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'widget-map jimu-widget' },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' }))));\n            }\n            else {\n                if (!(this.props.useDataSources && this.props.useDataSources[0] && this.props.useDataSources[0].dataSourceId)) {\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'jimu-widget', ref: ref => { this.parentContainer = ref; } },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: 'jimu-widget', ref: ref => { this.container = ref; } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, isMapInVisibleArea && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_default_map__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, isDefaultMap: true, setMultiSourceMapInstance: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea })),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));\n                }\n                else {\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'jimu-widget', ref: ref => { this.parentContainer = ref; } },\n                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { css: this.getStyle(), className: 'jimu-widget', ref: ref => { this.container = ref; } },\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, isMapInVisibleArea && this.props.useDataSources.length >= 1 &&\n                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { key: 1, fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea })),\n                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));\n                }\n            }\n        };\n        this.state = {\n            widthBreakpoint: null,\n            widgetHeight: null,\n            isFullScreen: false\n        };\n    }\n    getStyle() {\n        const theme = this.props.theme;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `\n      position: relative;\n\n      .map-is-live-mode {\n        .exbmap-ui {\n          pointer-events: auto !important;\n        }\n\n        .is-widget {\n          pointer-events: auto !important;\n        }\n      }\n\n      .widget-map-usemask {\n        pointer-events: auto !important;\n      }\n\n      .map-is-design-mode {\n        .exbmap-ui,\n        .exbmap-ui-tool {\n          pointer-events: none !important;\n        }\n\n        .is-widget {\n          pointer-events: auto !important;\n        }\n      }\n\n      .widget-map{\n        padding: 0;\n        margin: 0;\n        height: 100%;\n        width: 100%;\n        z-index: -1;\n        .overview-container{\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 300px;\n          height: 200px;\n          border: 1px solid black;\n          z-index: 1;\n        }\n\n        .extent-container{\n          background-color: rgba(0, 0, 0, 0.5);\n          position: absolute;\n          z-index: 2;\n        }\n\n        .extent-btn-container{\n          button{\n            outline: none;\n          }\n          .previous-extent-btn{\n            color: #111;\n          }\n          .next-extent-btn{\n            color: #222;\n          }\n        }\n      }\n\n      .exbmap-ui-layout{\n        z-index: 0;\n      }\n\n      .mapswitch-container {\n        position: absolute;\n        z-index: 7;\n        width: 32px;\n        height: 32px;\n        bottom: 10px;\n        left: 10px;\n        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)\n      }\n\n      .mapswitch-icon {\n        fill: black;\n        left: 8px;\n        top: 8px;\n        position: absolute;\n        display: block;\n      }\n\n      .widget-map-background {\n        background-color: ${theme.colors.white};\n        position: absolute;\n        z-index: 1;\n      }\n\n      .widget-map-crashed {\n        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.white, 0.85)};\n        position: absolute;\n        z-index: 1;\n        top: 0;\n\n        .widget-map-crashed-label-padding {\n          padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};\n          padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};\n        }\n\n        .widget-map-crashed-label {\n          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};\n          color: ${theme.colors.black};\n          font-weight: bold;\n          text-align: center;\n        }\n      }\n\n      @keyframes appear {\n        0%{opacity:0}\n        25%{opacity:.25}\n        50%{opacity:.5;}\n        75%{opacity:.75}\n        100%{opacity:1;}\n      }\n\n      @keyframes disappear {\n        0%{opacity:1}\n        25%{opacity:.75}\n        50%{opacity:.5;}\n        75%{opacity:.25}\n        100%{opacity:0;}\n      }\n\n      .multisourcemap-item-appear {\n        animation: appear 300ms;\n        -webkit-animation: appear 300ms;\n        -moz-animation: appear 300ms;\n        animation-fill-mode: forwards;\n        -webkit-animation-fill-mode: forwards;\n        -moz-animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n        -webkit-animation-timing-function: ease-in;\n        -moz-animation-timing-function: ease-in;\n      }\n\n      .multisourcemap-item-disappear {\n        animation: disappear 300ms;\n        -webkit-animation: disappear 300ms;\n        -moz-animation: disappear 300ms;\n        animation-fill-mode: forwards;\n        -webkit-animation-fill-mode: forwards;\n        -moz-animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n        -webkit-animation-timing-function: ease-in;\n        -moz-animation-timing-function: ease-in;\n      }\n\n      .multisourcemap-item-appear-noanimate {\n        opacity: 1;\n      }\n\n      .multisourcemap-item-disappear-noanimate {\n        opacity: 0;\n      }\n      `;\n    }\n    componentDidMount() {\n        if (!this.state.startLoadModules) {\n            if (window.jimuConfig.isInBuilder || !this.props.config.canPlaceHolder) {\n                this.startRenderMap();\n            }\n        }\n    }\n    componentWillUnmount() {\n        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;\n        if (!widgets[this.props.id]) {\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.id, 'restoreData', null);\n        }\n    }\n    render() {\n        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: 'w-100 h-100' },\n            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__.PageVisibilityContext.Consumer, null, (isVisibleInPage) => {\n                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__.ViewportVisibilityContext.Consumer, null, (isVisibleInViewPort) => {\n                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__.ViewVisibilityContext.Consumer, null, (viewVisibilityContextProps) => {\n                        const isVisibleInView = viewVisibilityContextProps.isInView ? viewVisibilityContextProps.isInCurrentView : true;\n                        return this.getInnerContent((0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) ? ((isVisibleInViewPort || this.props.isPrintPreview) && isVisibleInView) : isVisibleInPage);\n                    }));\n                }));\n            })));\n    }\n}\nWidget.mapExtraStateProps = (state) => {\n    return {\n        appMode: state && state.appRuntimeInfo && state.appRuntimeInfo.appMode,\n        isPrintPreview: state.appRuntimeInfo.isPrintPreview,\n        queryObject: state.queryObject\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvd2lkZ2V0LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBRUE7QUFtREE7QUFNQTtBQUNBO0FBSEE7QUFzTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBUUE7QUFJQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQXpaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBc0ZBOzs7Ozs7QUFNQTs7Ozs7O0FBTUE7QUFDQTs7OztBQUlBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcURBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvTkE7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFJQTs7QUF6UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3dpZGdldC50c3g/MTEzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LCBjc3MsIGpzeCwgZ2V0QXBwU3RvcmUsIEFsbFdpZGdldFByb3BzLCBTZXNzaW9uTWFuYWdlcixcbiAgdXRpbHMsIEFwcE1vZGUsIElNU3RhdGUsIGNsYXNzTmFtZXMsIHBvbGlzaGVkLCBSZWFjdFJlc2l6ZURldGVjdG9yLCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCBJTVVybFBhcmFtZXRlcnNcbn0gZnJvbSAnamltdS1jb3JlJ1xuaW1wb3J0IHsgSU1Db25maWcgfSBmcm9tICcuLi9jb25maWcnXG5pbXBvcnQgTXVsdGlTb3VyY2VNYXAgZnJvbSAnLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwJ1xuaW1wb3J0IERlZmF1bHRNYXAgZnJvbSAnLi9jb21wb25lbnRzL2RlZmF1bHQtbWFwJ1xuaW1wb3J0IHsgSUZlYXR1cmUgfSBmcm9tICdAZXNyaS9hcmNnaXMtcmVzdC10eXBlcydcbmltcG9ydCB7IGNoZWNrSXNMaXZlIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IEppbXVNYXBWaWV3R3JvdXAsIFNob3dPbk1hcERhdGFzIH0gZnJvbSAnamltdS1hcmNnaXMnXG5pbXBvcnQgeyBWaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LCBQYWdlVmlzaWJpbGl0eUNvbnRleHQsIFZpZXdWaXNpYmlsaXR5Q29udGV4dCB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSdcblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25SZWxhdGVkUHJvcHMge1xuICB6b29tVG9GZWF0dXJlQWN0aW9uVmFsdWU/OiB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGZlYXR1cmVzOiBfX2VzcmkuRmVhdHVyZVNldCB8IF9fZXNyaS5HcmFwaGljW10gfCBJRmVhdHVyZVtdIHwgX19lc3JpLkV4dGVudCB8IF9fZXNyaS5HZW9tZXRyeVtdXG4gICAgICBsYXllcklkPzogc3RyaW5nXG4gICAgICB6b29tVG9PcHRpb24/OiB7XG4gICAgICAgIHNjYWxlPzogbnVtYmVyXG4gICAgICB9XG4gICAgICB0eXBlOiAnem9vbS10by1ncmFwaGljcycgfCAnem9vbS10by1leHRlbnQnXG4gICAgfVxuICAgIHJlbGF0ZWRXaWRnZXRzPzogc3RyaW5nW11cbiAgfVxuICBuZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7XG4gICAgdmFsdWU6IHtbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXR9XG4gICAgcHJvbWlzZT86IFByb21pc2U8YW55PlxuICB9XG4gIGNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7W2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0fVxuICBzZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWU/OiBJRmVhdHVyZVtdIHwgX19lc3JpLkdyYXBoaWNbXVxuICBwYW5Ub0FjdGlvblZhbHVlPzoge1xuICAgIHZhbHVlOiBfX2VzcmkuRmVhdHVyZVNldCB8IF9fZXNyaS5HcmFwaGljW10gfCBJRmVhdHVyZVtdIHwgX19lc3JpLkV4dGVudFxuICAgIHJlbGF0ZWRXaWRnZXRzPzogc3RyaW5nW11cbiAgfVxuICBmbGFzaEFjdGlvblZhbHVlPzoge1xuICAgIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmdcbiAgICBxdWVyeVNRTDogc3RyaW5nXG4gIH1cbiAgZmlsdGVyQWN0aW9uVmFsdWU/OiB7XG4gICAgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZ1xuICAgIHF1ZXJ5U1FMOiBzdHJpbmdcbiAgfVxuICBzaG93T25NYXBEYXRhcz86IFNob3dPbk1hcERhdGFzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwV2lkZ2V0UHJvcHMgZXh0ZW5kcyBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz57XG4gIG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHNcbiAgYXBwTW9kZTogQXBwTW9kZVxuICBpc1ByaW50UHJldmlldzogYm9vbGVhblxuICBxdWVyeU9iamVjdDogSU1VcmxQYXJhbWV0ZXJzXG59XG5cbmludGVyZmFjZSBTdGF0ZXtcbiAgc3RhcnRMb2FkTW9kdWxlczogYm9vbGVhblxuXG4gIHdpZHRoQnJlYWtwb2ludDogc3RyaW5nXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXG5cbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpZGdldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TWFwV2lkZ2V0UHJvcHMsIFN0YXRlPiB7XG4gIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnRcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxuICBjb250YWluZXJDbGllbnRSZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdFxuICBtdWx0aVNvdXJjZU1hcEluc3RhbmNlOiBNdWx0aVNvdXJjZU1hcCA9IG51bGxcblxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgd2lkdGhCcmVha3BvaW50OiBudWxsLFxuICAgICAgd2lkZ2V0SGVpZ2h0OiBudWxsLFxuICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgIH0gYXMgU3RhdGVcbiAgfVxuXG4gIGdldFN0eWxlICgpIHtcbiAgICBjb25zdCB0aGVtZSA9IHRoaXMucHJvcHMudGhlbWVcblxuICAgIHJldHVybiBjc3NgXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgIC5tYXAtaXMtbGl2ZS1tb2RlIHtcbiAgICAgICAgLmV4Ym1hcC11aSB7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pcy13aWRnZXQge1xuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLndpZGdldC1tYXAtdXNlbWFzayB7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5tYXAtaXMtZGVzaWduLW1vZGUge1xuICAgICAgICAuZXhibWFwLXVpLFxuICAgICAgICAuZXhibWFwLXVpLXRvb2wge1xuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAuaXMtd2lkZ2V0IHtcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC53aWRnZXQtbWFwe1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHotaW5kZXg6IC0xO1xuICAgICAgICAub3ZlcnZpZXctY29udGFpbmVye1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDEycHg7XG4gICAgICAgICAgcmlnaHQ6IDEycHg7XG4gICAgICAgICAgd2lkdGg6IDMwMHB4O1xuICAgICAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5leHRlbnQtY29udGFpbmVye1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgei1pbmRleDogMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5leHRlbnQtYnRuLWNvbnRhaW5lcntcbiAgICAgICAgICBidXR0b257XG4gICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgICAucHJldmlvdXMtZXh0ZW50LWJ0bntcbiAgICAgICAgICAgIGNvbG9yOiAjMTExO1xuICAgICAgICAgIH1cbiAgICAgICAgICAubmV4dC1leHRlbnQtYnRue1xuICAgICAgICAgICAgY29sb3I6ICMyMjI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtdWktbGF5b3V0e1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgfVxuXG4gICAgICAubWFwc3dpdGNoLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDogNztcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgYm90dG9tOiAxMHB4O1xuICAgICAgICBsZWZ0OiAxMHB4O1xuICAgICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpXG4gICAgICB9XG5cbiAgICAgIC5tYXBzd2l0Y2gtaWNvbiB7XG4gICAgICAgIGZpbGw6IGJsYWNrO1xuICAgICAgICBsZWZ0OiA4cHg7XG4gICAgICAgIHRvcDogOHB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICAud2lkZ2V0LW1hcC1iYWNrZ3JvdW5kIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLndoaXRlLCAwLjg1KX07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgdG9wOiAwO1xuXG4gICAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwtcGFkZGluZyB7XG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyNCl9O1xuICAgICAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDI0KX07XG4gICAgICAgIH1cblxuICAgICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkLWxhYmVsIHtcbiAgICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfTtcbiAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgQGtleWZyYW1lcyBhcHBlYXIge1xuICAgICAgICAwJXtvcGFjaXR5OjB9XG4gICAgICAgIDI1JXtvcGFjaXR5Oi4yNX1cbiAgICAgICAgNTAle29wYWNpdHk6LjU7fVxuICAgICAgICA3NSV7b3BhY2l0eTouNzV9XG4gICAgICAgIDEwMCV7b3BhY2l0eToxO31cbiAgICAgIH1cblxuICAgICAgQGtleWZyYW1lcyBkaXNhcHBlYXIge1xuICAgICAgICAwJXtvcGFjaXR5OjF9XG4gICAgICAgIDI1JXtvcGFjaXR5Oi43NX1cbiAgICAgICAgNTAle29wYWNpdHk6LjU7fVxuICAgICAgICA3NSV7b3BhY2l0eTouMjV9XG4gICAgICAgIDEwMCV7b3BhY2l0eTowO31cbiAgICAgIH1cblxuICAgICAgLm11bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyIHtcbiAgICAgICAgYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XG4gICAgICAgIC1tb3otYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XG4gICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgICAgICAtbW96LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XG4gICAgICAgIC1tb3otYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcbiAgICAgIH1cblxuICAgICAgLm11bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyIHtcbiAgICAgICAgYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XG4gICAgICAgIC1tb3otYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XG4gICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgICAgICAtbW96LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xuICAgICAgICBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XG4gICAgICAgIC1tb3otYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcbiAgICAgIH1cblxuICAgICAgLm11bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZSB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG5cbiAgICAgIC5tdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci1ub2FuaW1hdGUge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuICAgICAgYFxuICB9XG5cbiAgc3RhdGljIG1hcEV4dHJhU3RhdGVQcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBhcHBNb2RlOiBzdGF0ZSAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbyAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mby5hcHBNb2RlLFxuICAgICAgaXNQcmludFByZXZpZXc6IHN0YXRlLmFwcFJ1bnRpbWVJbmZvLmlzUHJpbnRQcmV2aWV3LFxuICAgICAgcXVlcnlPYmplY3Q6IHN0YXRlLnF1ZXJ5T2JqZWN0XG4gICAgfVxuICB9XG5cbiAgc3RhcnRSZW5kZXJNYXAgPSAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc3RhcnRMb2FkTW9kdWxlczogdHJ1ZVxuICAgICAgfSlcbiAgICB9LCAxMDApXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXMpIHtcbiAgICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciB8fCAhdGhpcy5wcm9wcy5jb25maWcuY2FuUGxhY2VIb2xkZXIpIHtcbiAgICAgICAgdGhpcy5zdGFydFJlbmRlck1hcCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNcbiAgICBpZiAoIXdpZGdldHNbdGhpcy5wcm9wcy5pZF0pIHtcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuaWQsICdyZXN0b3JlRGF0YScsIG51bGwpXG4gICAgfVxuICB9XG5cbiAgZ2V0UGxhY2VIb2xkZXJJbWFnZSA9ICgpID0+IHtcbiAgICBsZXQgcGxhY2VIb2xkZXJJbWFnZSA9IHRoaXMucHJvcHMuY29uZmlnLnBsYWNlaG9sZGVySW1hZ2VcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpXG4gICAgaWYgKHBsYWNlSG9sZGVySW1hZ2UpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgY29uc3QgaXNQb3J0YWxUaHVtYkV4cCA9IG5ldyBSZWdFeHAoJ14oLikrL3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyguKSsvaW5mby8oLikrJylcblxuICAgICAgaWYgKGlzUG9ydGFsVGh1bWJFeHAudGVzdChwbGFjZUhvbGRlckltYWdlKSkge1xuICAgICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICAgIHBsYWNlSG9sZGVySW1hZ2UgPSBwbGFjZUhvbGRlckltYWdlICsgYD90b2tlbj0ke3Nlc3Npb24udG9rZW59YFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxuICAgICAgICAgIHBsYWNlSG9sZGVySW1hZ2UgPSBwbGFjZUhvbGRlckltYWdlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcGxhY2VIb2xkZXJJbWFnZVxuICB9XG5cbiAgZnVsbFNjcmVlbk1hcCA9ICgpID0+IHtcbiAgICBpZiAodXRpbHMuaXNUb3VjaERldmljZSgpKSB7XG4gICAgLy8gaXMgdG91Y2ggZGV2aWNlXG4gICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LmhlaWdodH1weGBcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3Qud2lkdGh9cHhgXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC50b3B9cHhgXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QubGVmdH1weGBcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gbnVsbFxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJ1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJ1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudG9wID0gJzAnXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwJ1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdub25lJ1xuICAgICAgICAgIHRoaXMucGFyZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKVxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sIDEwMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICB0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QgPSBjbGllbnRSZWN0XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2NsaWVudFJlY3QuaGVpZ2h0fXB4YFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke2NsaWVudFJlY3Qud2lkdGh9cHhgXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSBgJHtjbGllbnRSZWN0LnRvcH1weGBcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9IGAke2NsaWVudFJlY3QubGVmdH1weGBcblxuICAgICAgICBkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAndG9wIDAuM3MsIGJvdHRvbSAwLjNzLCBsZWZ0IDAuM3MsIHJpZ2h0IDAuM3MsIGhlaWdodCAwLjNzLCB3aWR0aCAwLjNzJ1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9ICcwcHgnXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwcHgnXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucmlnaHQgPSAnMHB4J1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9ICcwcHgnXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbnVsbFxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gbnVsbFxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZmZmJ1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgMTAwKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb250YWluZXIgYXMgYW55XG5cbiAgICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCEoZG9jdW1lbnQgYXMgYW55KS5mdWxsc2NyZWVuRWxlbWVudCAmJiAhKGRvY3VtZW50IGFzIGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgJiYgIShkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgaWYgKChkb2N1bWVudCBhcyBhbnkpLmZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLmV4aXRGdWxsc2NyZWVuKClcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXF1ZXN0TWV0aG9kID0gZWxlbWVudC5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC5tc1JlcXVlc3RGdWxsU2NyZWVuXG4gICAgICBpZiAocmVxdWVzdE1ldGhvZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcbiAgICAgICAgfSlcbiAgICAgICAgcmVxdWVzdE1ldGhvZC5jYWxsKGVsZW1lbnQpXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuQWN0aXZlWE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgd3NjcmlwdCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdXU2NyaXB0LlNoZWxsJylcbiAgICAgICAgaWYgKHdzY3JpcHQgIT09IG51bGwpIHtcbiAgICAgICAgICB3c2NyaXB0LlNlbmRLZXlzKCd7RjExfScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XG4gICAgaWYgKHZpZXdHcm91cCkge1xuICAgICAgdmlld0dyb3VwLnNldE1hcFdpZGdldEluc3RhbmNlKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgc3dpdGNoTWFwID0gYXN5bmMgKCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgaWYgKHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZS5zd2l0Y2hNYXAoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9XG4gIH1cblxuICBzZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlID0gKGluc3RhbmNlOiBNdWx0aVNvdXJjZU1hcCkgPT4ge1xuICAgIHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZSA9IGluc3RhbmNlXG4gIH1cblxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAod2lkdGggPD0gNTQ1ICYmIHdpZHRoID4gMCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ3hzbWFsbCcsXG4gICAgICAgIHdpZGdldEhlaWdodDogaGVpZ2h0XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgd2lkdGhCcmVha3BvaW50OiAnb3RoZXInLFxuICAgICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBnZXRJbm5lckNvbnRlbnQgPSAoaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuKSA9PiB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0namltdS13aWRnZXQnPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3aWRnZXQtbWFwIGppbXUtd2lkZ2V0Jz5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnIH19IGNsYXNzTmFtZT0namltdS1zZWNvbmRhcnktbG9hZGluZycgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0namltdS13aWRnZXQnIHJlZj17cmVmID0+IHsgdGhpcy5wYXJlbnRDb250YWluZXIgPSByZWYgfX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0J1xuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdqaW11LXdpZGdldCcsIHsgJ21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpIH0pfT5cbiAgICAgICAgICAgICAgICB7aXNNYXBJblZpc2libGVBcmVhICYmIDxEZWZhdWx0TWFwXG4gICAgICAgICAgICAgICAgICBmdWxsU2NyZWVuTWFwPXt0aGlzLmZ1bGxTY3JlZW5NYXB9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wc30gc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5zdGF0ZS5zdGFydExvYWRNb2R1bGVzfVxuICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0TWFwIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2U9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX0gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfVxuICAgICAgICAgICAgICAgICAgd2lkZ2V0SGVpZ2h0PXt0aGlzLnN0YXRlLndpZGdldEhlaWdodH0gd2lkdGhCcmVha3BvaW50PXt0aGlzLnN0YXRlLndpZHRoQnJlYWtwb2ludH0gaXNGdWxsU2NyZWVuPXt0aGlzLnN0YXRlLmlzRnVsbFNjcmVlbn0gaXNNYXBJblZpc2libGVBcmVhPXtpc01hcEluVmlzaWJsZUFyZWF9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDwvRGVmYXVsdE1hcD59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0namltdS13aWRnZXQnIHJlZj17cmVmID0+IHsgdGhpcy5wYXJlbnRDb250YWluZXIgPSByZWYgfX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0J1xuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdqaW11LXdpZGdldCcsIHsgJ21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpIH0pfT5cbiAgICAgICAgICAgICAgICB7aXNNYXBJblZpc2libGVBcmVhICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID49IDEgJiZcbiAgICAgICAgICAgICAgICAgIDxNdWx0aVNvdXJjZU1hcFxuICAgICAgICAgICAgICAgICAgICBrZXk9ezF9IGZ1bGxTY3JlZW5NYXA9e3RoaXMuZnVsbFNjcmVlbk1hcH0gYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzfSBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXN9XG4gICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5zdGF0ZS53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5zdGF0ZS53aWR0aEJyZWFrcG9pbnR9XG4gICAgICAgICAgICAgICAgICAgIGlzRnVsbFNjcmVlbj17dGhpcy5zdGF0ZS5pc0Z1bGxTY3JlZW59IGlzTWFwSW5WaXNpYmxlQXJlYT17aXNNYXBJblZpc2libGVBcmVhfVxuICAgICAgICAgICAgICAgICAgLz59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XG4gICAgICAgIDxQYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAgeyhpc1Zpc2libGVJblBhZ2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxWaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgICAgICAgIHsoaXNWaXNpYmxlSW5WaWV3UG9ydCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFZpZXdWaXNpYmlsaXR5Q29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICAgICAgICAgICAgICB7KHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1Zpc2libGVJblZpZXcgPSB2aWV3VmlzaWJpbGl0eUNvbnRleHRQcm9wcy5pc0luVmlldyA/IHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzLmlzSW5DdXJyZW50VmlldyA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldElubmVyQ29udGVudChjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpID8gKChpc1Zpc2libGVJblZpZXdQb3J0IHx8IHRoaXMucHJvcHMuaXNQcmludFByZXZpZXcpICYmIGlzVmlzaWJsZUluVmlldykgOiBpc1Zpc2libGVJblBhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9WaWV3VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XG5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA8L1ZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfX1cbiAgICAgICAgPC9QYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx\n");

/***/ }),

/***/ "./jimu-core/lib/set-public-path.ts":
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("/**\n * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.\n * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.\n * */\n// eslint-disable-next-line\n// @ts-ignore\n__webpack_require__.p = window.jimuConfig.baseUrl;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWNvcmUvbGliL3NldC1wdWJsaWMtcGF0aC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1jb3JlL2xpYi9zZXQtcHVibGljLXBhdGgudHM/NzA4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFdlYnBhY2sgd2lsbCByZXBsYWNlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHdpdGggX193ZWJwYWNrX3JlcXVpcmVfXy5wIHRvIHNldCB0aGUgcHVibGljIHBhdGggZHluYW1pY2FsbHkuXG4gKiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzZXQgdGhlIHB1YmxpY1BhdGggaW4gd2VicGFjayBjb25maWcgaXM6IHdlIGNoYW5nZSB0aGUgcHVibGljUGF0aCB3aGVuIGRvd25sb2FkLlxuICogKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gQHRzLWlnbm9yZVxuX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSB3aW5kb3cuamltdUNvbmZpZy5iYXNlVXJsXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-core/lib/set-public-path.ts\n");

/***/ }),

/***/ "./jimu-icons/filled/data/placeholder-map.tsx":
/*!****************************************************!*\
  !*** ./jimu-icons/filled/data/placeholder-map.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlaceholderMapFilled\": () => (/* binding */ PlaceholderMapFilled)\n/* harmony export */ });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/filled/data/placeholder-map.svg */ \"./jimu-icons/svg/filled/data/placeholder-map.svg\");\n/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n\nconst PlaceholderMapFilled = (props) => {\n    const { className } = props, others = __rest(props, [\"className\"]);\n    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.SVG, Object.assign({ className: classes, src: (_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAudHN4PzliYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXG5pbXBvcnQgeyBTVkcsIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcC5zdmcnXG5cbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlck1hcEZpbGxlZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/filled/data/placeholder-map.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg ***!
  \***********************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M.1 6.9h6.8V.1H.1v6.8Zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 0 0 1.609.805V6.1Zm0-1.128a3.758 3.758 0 0 1-1.006-.523c.31-.203.65-.358 1.006-.459v.982ZM6.1.9v2.266a4.229 4.229 0 0 0-1.613.73 6.038 6.038 0 0 1-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 0 1 2.99.9H6.1ZM.9.9h1.266a8.7 8.7 0 0 0 .359 1.249A1.93 1.93 0 0 1 .9 3.188V.9Zm0 3.09a2.828 2.828 0 0 0 2.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 0 0 3.17 6.1H.9V3.99ZM9.1.1v6.8h6.8V.1H9.1Zm.8.8h4.063a.373.373 0 0 1-.045.2.594.594 0 0 1-.438.176 1.637 1.637 0 0 0-1.175.49.91.91 0 0 0-.203.708c-.001.007-.114.736-.607.742a.74.74 0 0 0-.719.384.828.828 0 0 0-.026.6H9.9V.9Zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 0 1-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 0 1 .028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 0 0 .16-.625h.344v5.2Zm-15 9.8h6.8V9.1H.1v6.8Zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089V9.9Zm0 4.01 4 .112v-1.355l1.2-1.182V15.1H.9v-1.19Zm8.2 1.99h6.8V9.1H9.1v6.8Zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605V15.1Zm0-5.2v2.628L12.49 9.9h2.61Zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9V9.9Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvYmFzZW1hcC5zdmc/MGRhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTS4xIDYuOWg2LjhWLjFILjF2Ni44Wm02LS44SDMuOTg1Yy4wNzctLjQwMy4yNS0uNzguNTA2LTEuMTAyYTQuNTc0IDQuNTc0IDAgMCAwIDEuNjA5LjgwNVY2LjFabTAtMS4xMjhhMy43NTggMy43NTggMCAwIDEtMS4wMDYtLjUyM2MuMzEtLjIwMy42NS0uMzU4IDEuMDA2LS40NTl2Ljk4MlpNNi4xLjl2Mi4yNjZhNC4yMjkgNC4yMjkgMCAwIDAtMS42MTMuNzMgNi4wMzggNi4wMzggMCAwIDEtMS4xLTEuNzY3bC4wMDItLjAwNC0uMDA0LS4wMDFBOC4xNiA4LjE2IDAgMCAxIDIuOTkuOUg2LjFaTS45LjloMS4yNjZhOC43IDguNyAwIDAgMCAuMzU5IDEuMjQ5QTEuOTMgMS45MyAwIDAgMSAuOSAzLjE4OFYuOVptMCAzLjA5YTIuODI4IDIuODI4IDAgMCAwIDIuMDA2LS45NjZjLjI2Mi41MTkuNTk0IDEgLjk4NyAxLjQyOEEzLjM2NyAzLjM2NyAwIDAgMCAzLjE3IDYuMUguOVYzLjk5Wk05LjEuMXY2LjhoNi44Vi4xSDkuMVptLjguOGg0LjA2M2EuMzczLjM3MyAwIDAgMS0uMDQ1LjIuNTk0LjU5NCAwIDAgMS0uNDM4LjE3NiAxLjYzNyAxLjYzNyAwIDAgMC0xLjE3NS40OS45MS45MSAwIDAgMC0uMjAzLjcwOGMtLjAwMS4wMDctLjExNC43MzYtLjYwNy43NDJhLjc0Ljc0IDAgMCAwLS43MTkuMzg0LjgyOC44MjggMCAwIDAtLjAyNi42SDkuOVYuOVptNS4yIDUuMkg5LjlWNWgyLjI5NmwtLjQ3NC0uNjM5YTEuNTYyIDEuNTYyIDAgMCAxLS4xOTItLjM0NmMxLjA0MS0uMDMgMS4zNy0xLjE4OCAxLjM2NS0xLjU4N2EuMTkuMTkgMCAwIDEgLjAyOC0uMTU0Yy4wMzEtLjAzNy4xNjYtLjE2Mi42MjQtLjIuNDE5IDAgLjgxLS4yMDUgMS4wNDktLjU0OWExLjEzIDEuMTMgMCAwIDAgLjE2LS42MjVoLjM0NHY1LjJabS0xNSA5LjhoNi44VjkuMUguMXY2LjhabS44LTZoNS4ydi40NmwtMiAxLjk3M3YuODY3bC0zLjItLjA4OVY5LjlabTAgNC4wMSA0IC4xMTJ2LTEuMzU1bDEuMi0xLjE4MlYxNS4xSC45di0xLjE5Wm04LjIgMS45OWg2LjhWOS4xSDkuMXY2LjhabTYtLjhoLTEuNzkybC0xLjI3LTEuNTcyIDEuNDY4LTEuNDY4IDEuNTk0IDEuNjA1VjE1LjFabTAtNS4ydjIuNjI4TDEyLjQ5IDkuOWgyLjYxWm0tNS4yIDBoMS40NmwxLjU4MSAxLjU5Mi0xLjk3OCAxLjk4IDEuMzE2IDEuNjI4SDkuOVY5LjlaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg ***!
  \************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 14 14\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill-rule=\\\"nonzero\\\" fill=\\\"none\\\"><path d=\\\"m7.745 7 4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746L7.746 7Z\\\" fill=\\\"#000\\\"></path><path d=\\\"M1 1h12v12H1z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Nsb3NlLTEyLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Nsb3NlLTEyLnN2Zz84NDI4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNCAxNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48ZyBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjxwYXRoIGQ9XFxcIm03Ljc0NSA3IDQuMSA0LjFhLjUyNy41MjcgMCAwIDEtLjc0NS43NDZMNyA3Ljc0NmwtNC4xIDQuMWEuNTI3LjUyNyAwIDAgMS0uNzQ2LS43NDZsNC4xLTQuMS00LjEtNC4xYS41MjcuNTI3IDAgMCAxIC43NDYtLjc0Nmw0LjEgNC4xIDQuMS00LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni43NDZMNy43NDYgN1pcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMSAxaDEydjEySDF6XFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg ***!
  \************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 39 32\\\"><path d=\\\"M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665h31.29zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2Zz80ODU0Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDM5IDMyXFxcIj48cGF0aCBkPVxcXCJNMzguNzg0IDkuNzc4djIuOTYySDMuMjM2VjkuNzc4aC4wNzRMMTMuMDg2LjAwMmwyLjExMSAyLjExMS03LjcwMiA3LjY2NWgzMS4yOXpNMy4yMzYgMjEuNjI4aDMxLjMyN2wtNy43MDIgNy43MDIgMi4xMTEgMi4xMTEgOS43NzYtOS44MTNoLjAzN3YtMi45NjJIMy4yMzd2Mi45NjJ6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg":
/*!********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg ***!
  \********************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M5 11v5H4v-4.001L0 12v-1h5Zm11 0v1l-4-.001V16h-1v-5h5ZM5 0v5H0V4l4 .001V0h1Zm7 0v4.001L16 4v1h-5V0h1Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4aXQtZnVsbC1zY3JlZW4uc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmc/NWY5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTUgMTF2NUg0di00LjAwMUwwIDEydi0xaDVabTExIDB2MWwtNC0uMDAxVjE2aC0xdi01aDVaTTUgMHY1SDBWNGw0IC4wMDFWMGgxWm03IDB2NC4wMDFMMTYgNHYxaC01VjBoMVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M1 11v4.001L5 15v1H0v-5h1Zm15 0v5h-5v-1l4 .001V11h1ZM5 0v1L1 .999V5H0V0h5Zm11 0v5h-1V.999L11 1V0h5Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Z1bGwtc2NyZWVuLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Z1bGwtc2NyZWVuLnN2Zz9mOTFhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNMSAxMXY0LjAwMUw1IDE1djFIMHYtNWgxWm0xNSAwdjVoLTV2LTFsNCAuMDAxVjExaDFaTTUgMHYxTDEgLjk5OVY1SDBWMGg1Wm0xMSAwdjVoLTFWLjk5OUwxMSAxVjBoNVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"m14.376 10.573 1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353 1.02-.574Zm-.999-2.414.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915-1.02.574ZM8.023 1.023l-8 4.5 8 4.5 8-4.5-8-4.5Zm-5.96 4.5 5.96-3.352 5.96 3.352-5.96 3.353-5.96-3.353Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9sYXllcmxpc3Quc3ZnPzUyMTkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIm0xNC4zNzYgMTAuNTczIDEuNjQ3LjkyNy04IDQuNS04LTQuNSAxLjY0OC0uOTI3IDEuMDIuNTc0LS42MjguMzUzIDUuOTYgMy4zNTMgNS45Ni0zLjM1My0uNjI3LS4zNTMgMS4wMi0uNTc0Wm0tLjk5OS0yLjQxNC42MDYuMzQxLTUuOTYgMy4zNTNMMi4wNjMgOC41bC42MDctLjM0MS0xLjAyLS41NzRMLjAyMyA4LjVsOCA0LjUgOC00LjUtMS42MjYtLjkxNS0xLjAyLjU3NFpNOC4wMjMgMS4wMjNsLTggNC41IDggNC41IDgtNC41LTgtNC41Wm0tNS45NiA0LjUgNS45Ni0zLjM1MiA1Ljk2IDMuMzUyLTUuOTYgMy4zNTMtNS45Ni0zLjM1M1pcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg":
/*!****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg ***!
  \****************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 15 16\\\"><g fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"M4 8h1v3H4V8ZM2 9h1v2H2V9Zm6-1h1v3H8V8Zm4 0h1v3h-1V8Z\\\"></path><path d=\\\"M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1h2Zm-3-9h1v1h-1V3Zm-8-.92L11 4v1h1v1H3V3h1v-.92ZM2 1h1v1H2V1Zm1 14H2v-1h1v1Zm8-1H4v-1H3v-1h9v1h-1v1Zm2 1h-1v-1h1v1ZM1 11V7h13v4H1Z\\\"></path><path d=\\\"M6 9h1v2H6V9Zm4 0h1v2h-1V9Z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnPzBhMDIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTUgMTZcXFwiPjxnIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwiTTQgOGgxdjNINFY4Wk0yIDloMXYySDJWOVptNi0xaDF2M0g4VjhabTQgMGgxdjNoLTFWOFpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTUgMTJWNmgtMlY1aDFWMmgtM3YxTDQgMS4wNVYwSDF2M2gxdjNIMHY2aDJ2MUgxdjNoM3YtMWg3djFoM3YtM2gtMXYtMWgyWm0tMy05aDF2MWgtMVYzWm0tOC0uOTJMMTEgNHYxaDF2MUgzVjNoMXYtLjkyWk0yIDFoMXYxSDJWMVptMSAxNEgydi0xaDF2MVptOC0xSDR2LTFIM3YtMWg5djFoLTF2MVptMiAxaC0xdi0xaDF2MVpNMSAxMVY3aDEzdjRIMVpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNNiA5aDF2Mkg2VjlabTQgMGgxdjJoLTFWOVpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg":
/*!********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg ***!
  \********************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 15 10\\\"><path d=\\\"M0 10h15V4H0v6Zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1V5Zm11-5v1H3V0H0v3h3V2h9v1h3V0h-3ZM2 2H1V1h1v1Zm12 0h-1V1h1v1Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtZGlzdGFuY2Uuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmc/NzgzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNSAxMFxcXCI+PHBhdGggZD1cXFwiTTAgMTBoMTVWNEgwdjZabTEtNWgxM3Y0aC0xVjZoLTF2M2gtMVY3aC0xdjJIOVY2SDh2M0g3VjdINnYySDVWNkg0djNIM1Y3SDJ2MkgxVjVabTExLTV2MUgzVjBIMHYzaDNWMmg5djFoM1YwaC0zWk0yIDJIMVYxaDF2MVptMTIgMGgtMVYxaDF2MVpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg ***!
  \***********************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M0 9v6h16V9H0Zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14v2Zm.18-7.5-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7 2.85 2.89ZM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7L2.68 4Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbWVhc3VyZS5zdmc/YzQxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTAgOXY2aDE2VjlIMFptMTUgM2gtMXYyaC0xdi0zaC0xdjNoLTF2LTJoLTF2Mkg5di0zSDh2M0g3di0ySDZ2Mkg1di0zSDR2M0gzdi0ySDJ2Mkgxdi00aDE0djJabS4xOC03LjUtMi44NSAyLjg1LS43MS0uN0wxMy4yMyA1SDlWNGg0LjMybC0xLjctMS42OS43MS0uNyAyLjg1IDIuODlaTTIuNjggNEg3djFIMi43N2wxLjYxIDEuNjUtLjcxLjdMLjgyIDQuNWwyLjg1LTIuODUuNzEuN0wyLjY4IDRaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg":
/*!**********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg ***!
  \**********************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M7 1a6 6 0 1 0 0 12A6 6 0 0 0 7 1Zm0 13a7 7 0 1 1 5.621-2.828l-.222.284 3.405 3.404a.668.668 0 0 1-.944.944L11.456 12.4A6.974 6.974 0 0 1 7 14Z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlYXJjaC5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWFyY2guc3ZnPzk1YTEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIk03IDFhNiA2IDAgMSAwIDAgMTJBNiA2IDAgMCAwIDcgMVptMCAxM2E3IDcgMCAxIDEgNS42MjEtMi44MjhsLS4yMjIuMjg0IDMuNDA1IDMuNDA0YS42NjguNjY4IDAgMCAxLS45NDQuOTQ0TDExLjQ1NiAxMi40QTYuOTc0IDYuOTc0IDAgMCAxIDcgMTRaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg":
/*!*****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><g fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814Z\\\"></path><path d=\\\"M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 0 1-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0Z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jaXJjbGUuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmc/MWY1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PGcgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJtLjI1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NUwuMjUgM1ptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4LTQuODkzLTIuODE0WlxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMC4zMTggMEMxMy40NTYgMCAxNiAyLjQ2MiAxNiA1LjVTMTMuNDU2IDExIDEwLjMxOCAxMWE1Ljc5NiA1Ljc5NiAwIDAgMS0zLjAyMy0uODQybC0uMjItLjE0Mi41NC0uNzUyYy43ODguNTMgMS43MjIuODIgMi43MDMuODIgMi42MTUgMCA0LjczNS0yLjA1MyA0LjczNS00LjU4NCAwLTIuNTMxLTIuMTItNC41ODMtNC43MzUtNC41ODMtMS45MTYgMC0zLjYxNyAxLjExMi00LjM1NCAyLjc3OWwtLjA3OC4xODdMNSAzLjU2QzUuODI3IDEuNDM1IDcuOTMzIDAgMTAuMzE4IDBaXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M16 0v16H0V0h16ZM7.077 1H1v14h10.561L7.078 7.616 7.077 1ZM15 6.391 9.56 9.779 12.73 15H15V6.391ZM15 1H8.077v6.335l.965 1.589L15 5.213V1Z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2xlYXIuc3ZnPzkzNGEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIk0xNiAwdjE2SDBWMGgxNlpNNy4wNzcgMUgxdjE0aDEwLjU2MUw3LjA3OCA3LjYxNiA3LjA3NyAxWk0xNSA2LjM5MSA5LjU2IDkuNzc5IDEyLjczIDE1SDE1VjYuMzkxWk0xNSAxSDguMDc3djYuMzM1bC45NjUgMS41ODlMMTUgNS4yMTNWMVpcXFwiIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 17 16\\\"><g fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"m.75 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.75 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814Z\\\"></path><path d=\\\"M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0Z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1sYXNzby5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnPzVkYTgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTcgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwibS43NSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTVMLjc1IDNabS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OC00Ljg5My0yLjgxNFpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNOC43MjEgMGMxLjgyIDAgMi44NjUgMS41NTYgMi44NjUgNC4zNSAwIC40NjIuMTIuNjYuMzg1Ljc3NC4yMTkuMDkzLjQ3My4xMjYuOTkuMTMxaC41NTFsLjM5Ny4wMDljMS4yNTEuMDUgMS44MDcuMzM2IDIuMDQgMS4zMzMuNDEgMS43Ni0xLjYyIDMuMTE0LTUuOTA0IDQuMzEzbC0uMzI2LjA5LS4yNDUtLjk5OS42NC0uMThjMy41MTYtMS4wMiA1LjA4OC0yLjA4OSA0Ljg4LTIuOTc5LS4wOTQtLjQwNy0uMzgyLS41MzUtMS4zMDQtLjU1M2wtLjc4Ny0uMDAyYy0uNjItLjAwOC0uOTQzLS4wNTUtMS4zLS4yMDctLjY0OC0uMjc2LS45OTgtLjg1OS0uOTk4LTEuNzMgMC0yLjI4Ni0uNjk0LTMuMzE4LTEuODg0LTMuMzE4LS43MzEgMC0xLjY4LjU1LTIuODE1IDEuNjg1bC0uMjE1LjIyTDUgMi4yMDNDNi4zOTguNzQ4IDcuNjI2IDAgOC43MjEgMFpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg":
/*!***************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg ***!
  \***************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><g fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2Zz82NDk2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48ZyBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaTTkuNzIgMS4xMWwuNTg4LS44MDggNS4wODIgMy43LTQuNTc3IDIuNjU2TDE0LjYxIDkuNDlsLS41OTguODAxTDkgNi41NTVsNC41Ni0yLjY0OXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1wb2ludC5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnP2JkNTYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaTTEyIDZhMiAyIDAgMSAwIDAtNCAyIDIgMCAwIDAgMCA0WlxcXCIgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM16 0v11H8.5v-1H15V1H6v2.5H5V0h11Z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXJlY3RhbmdsZS5zdmc/NWQwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwibS4yNSAzIDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTVMLjI1IDNabS45OTYgMS43MjYtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OC00Ljg5My0yLjgxNFpNMTYgMHYxMUg4LjV2LTFIMTVWMUg2djIuNUg1VjBoMTFaXFxcIiBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg":
/*!*****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M7.682 6.318a4.5 4.5 0 0 1 .335 5.99l2.847 2.849-.707.707-2.848-2.848a4.5 4.5 0 1 1 .373-6.698Zm-5.657.707a3.5 3.5 0 1 0 4.95 4.95 3.5 3.5 0 0 0-4.95-4.95ZM16 0v11H9.5v-1h3.099L10 5.153V1H6v2.5H5V0h11Zm-1 5.954L12.637 7.83 13.801 10H15V5.954ZM15 1h-3.981v3.813l1.055 1.967L15 4.457V1Z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC16b29tdG8uc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXpvb210by5zdmc/YmMxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTcuNjgyIDYuMzE4YTQuNSA0LjUgMCAwIDEgLjMzNSA1Ljk5bDIuODQ3IDIuODQ5LS43MDcuNzA3LTIuODQ4LTIuODQ4YTQuNSA0LjUgMCAxIDEgLjM3My02LjY5OFptLTUuNjU3LjcwN2EzLjUgMy41IDAgMSAwIDQuOTUgNC45NSAzLjUgMy41IDAgMCAwLTQuOTUtNC45NVpNMTYgMHYxMUg5LjV2LTFoMy4wOTlMMTAgNS4xNTNWMUg2djIuNUg1VjBoMTFabS0xIDUuOTU0TDEyLjYzNyA3LjgzIDEzLjgwMSAxMEgxNVY1Ljk1NFpNMTUgMWgtMy45ODF2My44MTNsMS4wNTUgMS45NjdMMTUgNC40NTdWMVpcXFwiIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/filled/data/placeholder-map.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/filled/data/placeholder-map.svg ***!
  \********************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m12.687 9.074.073-.133a.147.147 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.05.05 0 0 1-.019.01l-.092.017a.042.042 0 0 0-.033.051l.019.077a.135.135 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066ZM13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069c.002 0 .002 0 .003.002l.104.13c.005.006.013.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131V9.39ZM13.878 6.775l-.048.043a.294.294 0 0 0-.094.187.299.299 0 0 1-.082.178.496.496 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.546.546 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011-.04-.067ZM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.125.125 0 0 0-.058.105v.333ZM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.063.063 0 0 0-.031-.008h-.328l-.035-.038a.216.216 0 0 0-.157-.074L5.778 4l-.048.009a2.362 2.362 0 0 1-.048.009l-.289.122a.209.209 0 0 1-.076.018l-.464.023a.232.232 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.093.093 0 0 0-.015.105l.183.37a.134.134 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.097.097 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.227.227 0 0 0-.001-.172l-.03-.07a.227.227 0 0 1 .097-.28ZM4.03 4.643l.061-.11a.221.221 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.203.203 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.226.226 0 0 0 .199-.118ZM4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.137.137 0 0 0-.081-.027h-.224a.131.131 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085c.006.01.018.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038c0 .005 0 .01-.002.016l-.03.073a.036.036 0 0 0 .006.036l.07.084a.032.032 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007c.008 0 .018.002.024.007l.174.133c.013.011.017.029.01.044l-.057.116a.033.033 0 0 1-.03.018l-.054.004a.036.036 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009c.024.001.048.01.069.024l.206.146c.014.01.03.008.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.035.035 0 0 0-.004-.029l-.07-.11.022-.004a.037.037 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008ZM2.08 5.136h.07l.104.147c.014.018.03.033.05.044l.136.068c.018.01.04.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.136.136 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138v-.123ZM2.679 5.022l.11-.058a.139.139 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003-.016-.031ZM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028H3.06ZM2.414 4.698l.158.057a.12.12 0 0 1 .03.015l.109.073c.018.012.038.02.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122l-.108.087ZM7.46 5.712l.058.092a.025.025 0 0 1-.001.028l-.044.06c-.004.008-.007.016-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.138.138 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.023.023 0 0 1 .014-.017l.049-.024c.01-.004.015-.015.013-.026l-.002-.03a.026.026 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118c-.003.011-.013.018-.024.018l-.11-.003a.024.024 0 0 1-.018-.007.024.024 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002c.008 0 .014-.004.02-.01l.053-.079A.027.027 0 0 0 7.3 5.94V5.82c0-.008.004-.015.01-.019l.115-.094a.024.024 0 0 1 .037.005Z\\\" fill=\\\"#050505\\\"></path><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M15.073 5.1H14.7a.042.042 0 0 1-.04-.03l-.358-.069a.161.161 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.033.033 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049c0-.017.006-.032.02-.044l.218-.2a.162.162 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.057.057 0 0 1-.03.008h-.101a.159.159 0 0 0-.114.049l-.244.252a.165.165 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.161.161 0 0 1-.098.11l-.081.032a.157.157 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.147.147 0 0 0-.042.027l-.62.565a.162.162 0 0 0-.006.231l.058.061.083-.069a.057.057 0 0 1 .076.003l.155.146h.04l.146-.176a.057.057 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.042.042 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.134.134 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.161.161 0 0 1-.134.064l-.254-.01a.046.046 0 0 1-.031-.013.047.047 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.042.042 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.158.158 0 0 1 .13-.067h.097c.032 0 .064.01.09.028l.157.11c.03.022.033.068.004.092l-.088.077a.156.156 0 0 1-.104.04h-.55a.158.158 0 0 0-.126.064l-.425.573a.168.168 0 0 0-.032.096v.38c0 .035.011.069.032.097l.148.198c.013.016.02.036.027.055.01.033.036.08.1.08h.686s.172.005.172.12c0 .04-.001.08-.003.116a.162.162 0 0 0 .083.148c.048.028.099.077.099.155v.21a.203.203 0 0 1-.007.049.772.772 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.583.583 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.115.115 0 0 0-.018-.062l-.033-.057a.162.162 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.596.596 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.158.158 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.159.159 0 0 0-.035-.1l-.125-.158a.159.159 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5.405 5.405 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001c.011 0 .021 0 .03-.002a.132.132 0 0 1 .127.083c.006.016.01.034.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.122.122 0 0 1 .075-.045l.054-.011a.125.125 0 0 0 .08-.053l.247-.373a.165.165 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.155.155 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.158.158 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.125.125 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.154.154 0 0 0 .104-.039l.159-.14a.043.043 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08c0-.013.005-.024.013-.032l.062-.058a.156.156 0 0 1 .181-.024l.104.055a.061.061 0 0 0 .076-.016l.051-.065a.062.062 0 0 0 .012-.052.062.062 0 0 0-.033-.042l-.503-.25a5.427 5.427 0 0 0-.39-.014ZM8.141 7.024l.09-.078-.09.079-.133-.163a.053.053 0 0 1-.01-.019.053.053 0 0 0 .01.018l.133.163Zm.755.493h-.081a.13.13 0 0 1-.032-.004 9.127 9.127 0 0 1-.61-.186.062.062 0 0 1-.035-.045.063.063 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056c-.011-.027.048-.061.048-.061s.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088Zm.417-.503H9.2l-.083-.065a.057.057 0 0 0-.032-.01h-.108a.067.067 0 0 0-.044.017l-.078.07-.078.012a.053.053 0 0 1-.056-.026.055.055 0 0 1-.006-.02l-.011-.087a.09.09 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.051.051 0 0 0 .05.058h.029a.069.069 0 0 0 .064-.042l.026-.058.12.02.01.087a.077.077 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052Zm.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.052.052 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004c.006.02 0 .04-.013.056a.061.061 0 0 0-.015.031l-.013.085.113.105-.08.054.043.054Z\\\" fill=\\\"#050505\\\"></path><path d=\\\"M12.945 7.8c-.006-.015-.01-.022-.017-.021-.007 0-.018.009-.036.025a.11.11 0 0 0-.039.08c0 .02.003.04.012.062.007.018.02.032.028.032.025 0 .066-.14.052-.178ZM12.894 8.108a.116.116 0 0 1 .024.005l.014.004c.018.006.027.009.033.015.005.005.008.014.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016-.007.007 0 .016.014.021.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.047.047 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02-.038.01-.05.006-.05-.018a.05.05 0 0 1 .03-.044c.013-.005.02-.009.02-.017 0-.008-.007-.019-.02-.038a.174.174 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201.004-.002.009-.008.012-.016a.148.148 0 0 0 .009-.053c0-.04.003-.054.021-.052ZM12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013ZM12.912 8.698a.02.02 0 0 1 .021.02c0 .011-.003.02-.008.02 0 0-.005 0-.007-.003a.064.064 0 0 1-.015-.017c-.007-.011-.003-.02.01-.02ZM13.254 8.913c-.013-.03-.03-.045-.044-.043-.014.001-.025.018-.03.05a.058.058 0 0 1-.01.026c.013.052.052.06.064.063h.004a.255.255 0 0 1 .025-.029.751.751 0 0 0 .014-.015l-.023-.052ZM13.082 8.894c.026-.004.035.015.011.043a.044.044 0 0 0-.008.015l-.057.01a.62.62 0 0 1-.036.005c-.038.006-.077.011-.1.037 0 .004.004.007.01.009.007.002.019.002.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017-.006-.023-.01-.016-.012.021-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.142.142 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012c.01-.005.02-.01.031-.011ZM13.36 9.136c0-.027-.034-.042-.092-.042a.445.445 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015ZM5.866 9.362l-.35-.185a.222.222 0 0 0-.102-.026h-.101a.038.038 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.217.217 0 0 1-.173-.088l-.048-.065a.216.216 0 0 0-.155-.086l-.262-.023a.028.028 0 0 1-.017-.007l-.043-.03c-.012-.007-.026-.009-.038 0l-.187.106a.216.216 0 0 1-.108.028h-.192a.037.037 0 0 1-.017-.004.146.146 0 0 1-.071-.133v-.112a.038.038 0 0 0-.023-.035.037.037 0 0 0-.014-.003h-.122a.037.037 0 0 1-.032-.019.038.038 0 0 1 0-.038l.057-.1a.044.044 0 0 0 .006-.02V8.2c0-.01-.004-.02-.011-.027a.037.037 0 0 0-.027-.011h-.066a.037.037 0 0 0-.03.017l-.038.06a.217.217 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.097.097 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.038.038 0 0 1 .043.005l.07.066c.007.007.015.01.024.01h.015c.022 0 .051 0 .057-.003.004-.002.004-.007.003-.014 0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.037.037 0 0 0 .05.006l.023-.016a.038.038 0 0 0 .012-.05l-.002-.005a.223.223 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.767.767 0 0 0 .208-.093.036.036 0 0 0 .019-.033v-.047l-.143.03a.038.038 0 0 1-.044-.031l-.016-.095a.038.038 0 0 0-.036-.03l-.143.015.018-.043a.043.043 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.038.038 0 0 0 .004-.055l-.396-.41a.039.039 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.033.033 0 0 0-.007.02l-.01.174c0 .011.003.02.011.029l.048.05a.038.038 0 0 1-.005.056l-.07.051a.037.037 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.042.042 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.123.123 0 0 1-.12.104H2.54l-.05-.01a2.652 2.652 0 0 1-.04-.009l-.358-.162a2.003 2.003 0 0 0-.075-.018l-.33-.022a2.158 2.158 0 0 1-.092.015l-.148.058a.217.217 0 0 1-.124.01L.591 5.23a.212.212 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.037.037 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.215.215 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.222.222 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.038.038 0 0 0 .014-.055s.365.383.4.399l.296.148a.22.22 0 0 0 .097.023h.147c.015 0 .028.008.033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.036.036 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212c0 .01.003.017.008.024.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.038.038 0 0 1 .008.024v.122a.04.04 0 0 1 .001.006l.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.222.222 0 0 1 .076.186l-.027.345-.003.02a.43.43 0 0 1-.003.02l-.119.45a1.75 1.75 0 0 0-.007.08l.012.185a.233.233 0 0 1-.01.095l-.044.126a.235.235 0 0 0-.007.125l.056.233a.123.123 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114c.01 0 .02-.004.026-.012l.266-.294a.036.036 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.039.039 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215ZM14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044.036.023.028.034-.022.03-.038-.004-.049.002-.07.039a.27.27 0 0 1-.078.074c-.071.044-.108.109-.06.109.013 0 .017.01.012.026-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.065.065 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076-.005-.006.001-.011.012-.011.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003-.024.005-.035.002-.035-.01 0-.02-.075-.089-.102-.097ZM12.885 9.274l-.486-.057a.119.119 0 0 1-.035-.01l-.118-.048a.144.144 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.128.128 0 0 0 .04.005h.397l.005-.083ZM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.254.254 0 0 0-.1.023l-.098.046a.249.249 0 0 0-.07.049l-.18.178a.24.24 0 0 1-.075.051l-.123.055a.259.259 0 0 0-.152.236v.02c0 .034.007.068.02.1l.096.228c.003.005.004.01.005.015a.11.11 0 0 0 .143.077l.245-.088a.248.248 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.254.254 0 0 0 .218.122h.118a.255.255 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006ZM13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.332.332 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043.02-.022.041-.032.058-.03ZM13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027ZM6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.133.133 0 0 1-.1-.028l-.153-.121.056-.067ZM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.132.132 0 0 0-.076-.024ZM8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08-.076-.057ZM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109-.117-.06ZM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456l-.044-.049ZM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082-.087-.007ZM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038-.067-.022Z\\\" fill=\\\"#050505\\\"></path><path d=\\\"m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13h-.222ZM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0ZM14.162 10.93h-.28l.074.164h.066l.14-.165Z\\\" fill=\\\"#050505\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9maWxsZWQvZGF0YS9wbGFjZWhvbGRlci1tYXAuc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcC5zdmc/YTRiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwibTEyLjY4NyA5LjA3NC4wNzMtLjEzM2EuMTQ3LjE0NyAwIDAgMCAuMDE3LS4wNzhsLS4wMTItLjE0MmMtLjAwMi0uMDMzLS4wNDItLjA1MS0uMDY4LS4wMjhsLS4yMDUuMTc1YS4wNS4wNSAwIDAgMS0uMDE5LjAxbC0uMDkyLjAxN2EuMDQyLjA0MiAwIDAgMC0uMDMzLjA1MWwuMDE5LjA3N2EuMTM1LjEzNSAwIDAgMCAuMDkzLjA5N2wuMDcuMDJhLjEzNC4xMzQgMCAwIDAgLjE1Ny0uMDY2Wk0xMy44IDkuMzg5YS4xMy4xMyAwIDAgMCAuMDU4LS4wMTRsLjE0MS0uMDY5Yy4wMDIgMCAuMDAyIDAgLjAwMy4wMDJsLjEwNC4xM2MuMDA1LjAwNi4wMTMuMDEuMDIzLjAxaC4wNjlhLjAyOC4wMjggMCAwIDAgLjAyMy0uMDQ2bC0uMTA4LS4xNDEtLjA0Ny0uMDQtLjM4Mi0uMTkxLS4wOTIuMDM2aC0uMDd2LS4wMDFsLS4wMjYtLjA4NGEuMDI3LjAyNyAwIDAgMC0uMDI1LS4wMTloLS4wOTNhLjAyNy4wMjcgMCAwIDAtLjAyNy4wMjh2LjA4MmguMDZ2LjAyNGMwIC4wMy4wMjMuMDU1LjA1Mi4wNmwuMTM2LjAxNmguMDAxbC4wNzQuMDkzYy4wMjMuMDI4LjAxOS4wOTctLjAwNi4xMjV2LjAwMWguMTMxVjkuMzlaTTEzLjg3OCA2Ljc3NWwtLjA0OC4wNDNhLjI5NC4yOTQgMCAwIDAtLjA5NC4xODcuMjk5LjI5OSAwIDAgMS0uMDgyLjE3OC40OTYuNDk2IDAgMCAxLS4yNDYuMTM2bC0uMDE4LjAwNC0uMDc2LjA2MnMtLjAyMi4xMSAwIC4xMzVjLjAwOS4wMTIuMDQ5LjAxLjA2MSAwIC4wMTYtLjAxMi4wMTctLjA4LjAxNy0uMDhsLjI0Mi0uMDg3cy4wNi4wOC4wOS4wODNjLjAxMi4wMDIuMDQyLS4wMTMuMDUtLjAyNS4wMzItLjA0NS4wNjgtLjIwOC4wNjgtLjIwOGEuNTQ2LjU0NiAwIDAgMCAuMDI0LS4xMTNsLjAxMy0uMTQzLjEwOC0uMDA3LjA0My0uMDg3LS4xMTItLjAxMS0uMDQtLjA2N1pNOS40MjcgMTAuMTJhLjE0MS4xNDEgMCAwIDAgLjI0NSAwdi0uMzM0YS4xMjIuMTIyIDAgMCAwLS4xODctLjEwNS4xMjUuMTI1IDAgMCAwLS4wNTguMTA1di4zMzNaTTYuNjk4IDQuMzE1bC4xNDQtLjA4NC4wMDItLjAwNmEuMDY1LjA2NSAwIDAgMC0uMDI2LS4wODUuMDYzLjA2MyAwIDAgMC0uMDMxLS4wMDhoLS4zMjhsLS4wMzUtLjAzOGEuMjE2LjIxNiAwIDAgMC0uMTU3LS4wNzRMNS43NzggNGwtLjA0OC4wMDlhMi4zNjIgMi4zNjIgMCAwIDEtLjA0OC4wMDlsLS4yODkuMTIyYS4yMDkuMjA5IDAgMCAxLS4wNzYuMDE4bC0uNDY0LjAyM2EuMjMyLjIzMiAwIDAgMC0uMDk5LjAyOGwtLjI2LjE0OGEuMDMuMDMgMCAwIDAtLjAxNS4wMjQuMDMuMDMgMCAwIDAgLjAxMi4wMjZjLjAyLjAxNS4wMTQuMDQ3LS4wMS4wNTNsLS4yMDMuMDUxYS4wMy4wMyAwIDAgMC0uMDE5LjA0NGwuMDY4LjExMmEuMDMuMDMgMCAwIDAgLjAyLjAxNGwuMzY0LjA2M2MuMDU2LjAxLjEwNi4wNC4xNC4wODZsLjI1MS4zMzMuMDc0LjEwMmEuMDk0LjA5NCAwIDAgMS0uMDA3LjExOGwtLjA1Ni4wNmEuMDkzLjA5MyAwIDAgMC0uMDE1LjEwNWwuMTgzLjM3YS4xMzQuMTM0IDAgMCAwIC4wODEuMDY4LjIyMy4yMjMgMCAwIDAgLjI3NC0uMTQybC4wNDgtLjEzN2EuMDk3LjA5NyAwIDAgMSAuMDQtLjA1bC4yMDQtLjE3NWEuMjQuMjQgMCAwIDEgLjA4NS0uMDQ2bC4zMi0uMDg4YS4yMi4yMiAwIDAgMCAuMTQ4LS4xMzNsLjE1MS0uMzc4YS4yMjcuMjI3IDAgMCAwLS4wMDEtLjE3MmwtLjAzLS4wN2EuMjI3LjIyNyAwIDAgMSAuMDk3LS4yOFpNNC4wMyA0LjY0M2wuMDYxLS4xMWEuMjIxLjIyMSAwIDAgMSAuMDg4LS4wODdsLjUwNC0uMjgyLS4wNTctLjA2Ni0uNTcyLS4wMzVhLjIwMy4yMDMgMCAwIDAtLjA1LjAwM2wtLjU1Ny4wOWEuMjMyLjIzMiAwIDAgMC0uMTM3LjM3N2wuMTI1LjE0OGMuMDQzLjA1MS4xMDcuMDguMTcyLjA4aC4yMjRhLjIyNi4yMjYgMCAwIDAgLjE5OS0uMTE4Wk00LjY2NiA1LjY3MmwuMDUyLS4wNjFjLjAxMy0uMDE2LjAxLS4wNC0uMDA3LS4wNTFsLS4xNjItLjExNi0uNTY5LS40MjVhLjEzNy4xMzcgMCAwIDAtLjA4MS0uMDI3aC0uMjI0YS4xMzEuMTMxIDAgMCAwLS4wOTUuMDRsLS4xMTguMTE1YS4wMzQuMDM0IDAgMCAwLS4wMDMuMDQ3bC4wNjcuMDg1Yy4wMDYuMDEuMDE4LjAxNS4wMy4wMTRsLjA2NC0uMDA2YS4wMzUuMDM1IDAgMCAxIC4wMzguMDMzbC4wMDIuMDM4YzAgLjAwNSAwIC4wMS0uMDAyLjAxNmwtLjAzLjA3M2EuMDM2LjAzNiAwIDAgMCAuMDA2LjAzNmwuMDcuMDg0YS4wMzIuMDMyIDAgMCAwIC4wMjguMDEybC4wNjgtLjAwM2EuMDM1LjAzNSAwIDAgMCAuMDM0LS4wMzV2LS4xNDdjMC0uMDE5LjAxNC0uMDM0LjAzMi0uMDM1bC4wOTQtLjAwN2MuMDA4IDAgLjAxOC4wMDIuMDI0LjAwN2wuMTc0LjEzM2MuMDEzLjAxMS4wMTcuMDI5LjAxLjA0NGwtLjA1Ny4xMTZhLjAzMy4wMzMgMCAwIDEtLjAzLjAxOGwtLjA1NC4wMDRhLjAzNi4wMzYgMCAwIDAtLjAzMi4wMjcuMDM2LjAzNiAwIDAgMCAuMDMyLjA0NGwuMTE3LjAwOWMuMDI0LjAwMS4wNDguMDEuMDY5LjAyNGwuMjA2LjE0NmMuMDE0LjAxLjAzLjAwOC4wNDMtLjAwM2wuMDY1LS4wNTVhLjAzLjAzIDAgMCAwIC4wMTEtLjAxOGwuMDIxLS4wODNhLjAzNS4wMzUgMCAwIDAtLjAwNC0uMDI5bC0uMDctLjExLjAyMi0uMDA0YS4wMzcuMDM3IDAgMCAxIC4wMjQuMDA0bC4wOTEuMDU0YS4wMzUuMDM1IDAgMCAwIC4wNDQtLjAwOFpNMi4wOCA1LjEzNmguMDdsLjEwNC4xNDdjLjAxNC4wMTguMDMuMDMzLjA1LjA0NGwuMTM2LjA2OGMuMDE4LjAxLjA0LjAxNS4wNjEuMDE1aC40MjJWNS4yN2wtLjE1Ni0uMDU2LS4xOC0uMDk3QS4xNC4xNCAwIDAgMSAyLjUyIDUuMWwtLjI4OC0uMTY2YS4xMy4xMyAwIDAgMC0uMDY3LS4wMThoLS4xNzNhLjEzNi4xMzYgMCAwIDAtLjEzLjA5NWwtLjAxNC4wNDdhLjE0LjE0IDAgMCAwIC4wMzMuMTRsLjA2MS4wNjJoLjEzOHYtLjEyM1pNMi42NzkgNS4wMjJsLjExLS4wNThhLjEzOS4xMzkgMCAwIDEgLjA2My0uMDE1aC4wNmMuMDUyIDAgLjEuMDMuMTIzLjA3OGwuMDQ0LjA5MnYuMDk0aC0uMnYtLjEybC0uMDg0LS4wNDMtLjEuMDAzLS4wMTYtLjAzMVpNMy4wNjEgNC45NWwuMS4xNjQuMDguMDQ3aC4xMTVsLjExNi0uMTI0LS4wODgtLjExNi0uMjI1LjAyOEgzLjA2Wk0yLjQxNCA0LjY5OGwuMTU4LjA1N2EuMTIuMTIgMCAwIDEgLjAzLjAxNWwuMTA5LjA3M2MuMDE4LjAxMi4wMzguMDIuMDYuMDIxbC4yLjAyLS4wMjQtLjEyNC0uMjM4LS4xMzJhLjE0LjE0IDAgMCAwLS4wNjUtLjAxN2gtLjEyMmwtLjEwOC4wODdaTTcuNDYgNS43MTJsLjA1OC4wOTJhLjAyNS4wMjUgMCAwIDEtLjAwMS4wMjhsLS4wNDQuMDZjLS4wMDQuMDA4LS4wMDcuMDE2LS4wMDQuMDIybC4wMTcuMDYxYS4wMi4wMiAwIDAgMCAuMDA4LjAxMmwuMDkyLjA3MmMuMDYzLjA0OC4wNy4xNDEuMDE3LjJsLS4wMDEuMDAyYS4xMzguMTM4IDAgMCAxLS4xMDEuMDQ2aC0uMTFhLjAyNS4wMjUgMCAwIDEtLjAyNC0uMDMxbC4wMjgtLjExYS4wMjMuMDIzIDAgMCAxIC4wMTQtLjAxN2wuMDQ5LS4wMjRjLjAxLS4wMDQuMDE1LS4wMTUuMDEzLS4wMjZsLS4wMDItLjAzYS4wMjYuMDI2IDAgMCAwLS4wMi0uMDIxbC0uMDcxLS4wMTVhLjAyNC4wMjQgMCAwIDAtLjAyNy4wMTRsLS4wMTYuMDM1di4wMDJsLS4wMDEuMDAyLS4wMzUuMTE4Yy0uMDAzLjAxMS0uMDEzLjAxOC0uMDI0LjAxOGwtLjExLS4wMDNhLjAyNC4wMjQgMCAwIDEtLjAxOC0uMDA3LjAyNC4wMjQgMCAwIDEtLjAwNy0uMDE3di0uMTI3YzAtLjAxMy4wMTEtLjAyNC4wMjQtLjAyNGwuMDU4LS4wMDJjLjAwOCAwIC4wMTQtLjAwNC4wMi0uMDFsLjA1My0uMDc5QS4wMjcuMDI3IDAgMCAwIDcuMyA1Ljk0VjUuODJjMC0uMDA4LjAwNC0uMDE1LjAxLS4wMTlsLjExNS0uMDk0YS4wMjQuMDI0IDAgMCAxIC4wMzcuMDA1WlxcXCIgZmlsbD1cXFwiIzA1MDUwNVxcXCI+PC9wYXRoPjxwYXRoIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTUuMDczIDUuMUgxNC43YS4wNDIuMDQyIDAgMCAxLS4wNC0uMDNsLS4zNTgtLjA2OWEuMTYxLjE2MSAwIDAgMS0uMDg4LS4wMjdsLS4wODEtLjA1NWEuMTYuMTYgMCAwIDAtLjA4OC0uMDI3cy0uODMyLS40My0xLjkyMi0uMzg4Yy0uNDEuMDE2LS43Ny4yMjItLjc3LjIyMmEuMDMzLjAzMyAwIDAgMC0uMDIuMDI2bC0uMDA0LjAzNGEuMDMzLjAzMyAwIDAgMS0uMDMzLjAyOGwtLjE2NC0uMDA0YS4wMzMuMDMzIDAgMCAwLS4wMzQuMDMybC0uNDU5LjAxNmMtLjA0IDAtLjA3Ny4wMi0uMS4wNTNsLS4wNDEuMDZjLS4wMy4wNDUtLjQ0MS4wNi0uNDQxLjA2YS4wNi4wNiAwIDAgMS0uMDM2LS4wNTV2LS4wNDljMC0uMDE3LjAwNi0uMDMyLjAyLS4wNDRsLjIxOC0uMmEuMTYyLjE2MiAwIDAgMSAuMDg3LS4wNGwuMTM2LS4wMThhLjA2LjA2IDAgMCAwIC4wNC0uMDI0bC4wMTYtLjAyNGEuMDYuMDYgMCAwIDAtLjAyOC0uMDlsLS4wMS0uMDA1YS4wNi4wNiAwIDAgMC0uMDQ3LjAwNGwtLjEwNC4wNjFhLjA1Ny4wNTcgMCAwIDEtLjAzLjAwOGgtLjEwMWEuMTU5LjE1OSAwIDAgMC0uMTE0LjA0OWwtLjI0NC4yNTJhLjE2NS4xNjUgMCAwIDAtLjA0Mi4wOGwtLjAyMy4xMS4wMTYuMDQ3LS4wOTYuMTM1LS4wODcuMDg3aC0uMDgxdi0uMDg3SDkuNDVsLS4wMjguMTFhLjE2MS4xNjEgMCAwIDEtLjA5OC4xMWwtLjA4MS4wMzJhLjE1Ny4xNTcgMCAwIDEtLjE1Ni0uMDI2bC0uMTA2LS4wODYuMjg0LjAxNS4wMzItLjA2MlM5IDUuMTggOC44MjggNS4wODRjLS4xNC0uMDgtLjMyNC0uMDEzLS4zODguMDE2YS4xNDcuMTQ3IDAgMCAwLS4wNDIuMDI3bC0uNjIuNTY1YS4xNjIuMTYyIDAgMCAwLS4wMDYuMjMxbC4wNTguMDYxLjA4My0uMDY5YS4wNTcuMDU3IDAgMCAxIC4wNzYuMDAzbC4xNTUuMTQ2aC4wNGwuMTQ2LS4xNzZhLjA1Ny4wNTcgMCAwIDAgLjAwMi0uMDcybC0uMDE5LS4wMjZhLjA2LjA2IDAgMCAxLS4wMDQtLjA2NmwuMjA0LS4zMzRhLjA0Mi4wNDIgMCAwIDEgLjA1Mi0uMDE3bC4wMzYuMDE4Yy4wMjIuMDEuMDMuMDM1LjAxOS4wNTdsLS4xNC4yNjhhLjEzNC4xMzQgMCAwIDAtLjAxLjEwNGwuMDIzLjA3MWEuMTguMTggMCAwIDEtLjAzLjE0NmwtLjA4Ny4xMmEuMTYxLjE2MSAwIDAgMS0uMTM0LjA2NGwtLjI1NC0uMDFhLjA0Ni4wNDYgMCAwIDEtLjAzMS0uMDEzLjA0Ny4wNDcgMCAwIDEtLjAxMy0uMDMydi0uMDQyYS4wNDUuMDQ1IDAgMCAwLS4wNDYtLjA0Ni4wNDYuMDQ2IDAgMCAwLS4wNDUuMDQybC0uMDA3LjA3NGEuMDQ2LjA0NiAwIDAgMS0uMDQ1LjA0MmgtLjAyNGEuMDQyLjA0MiAwIDAgMC0uMDMuMDEybC0uNDE0LjM4Ni4wNi4wODh2LjA5M2EuMDU3LjA1NyAwIDAgMS0uMDU2LjA1NmgtLjEzMmMtLjA3MSAwLS4xMjcuMDYtLjEyMy4xMzJsLjAwMS4wMThhLjEyNC4xMjQgMCAwIDAgLjExOS4xMTZsLjE0MS4wMDRhLjE2LjE2IDAgMCAwIC4xMzUtLjA2OGwuMTAxLS4xNDRhLjE1OC4xNTggMCAwIDEgLjEzLS4wNjdoLjA5N2MuMDMyIDAgLjA2NC4wMS4wOS4wMjhsLjE1Ny4xMWMuMDMuMDIyLjAzMy4wNjguMDA0LjA5MmwtLjA4OC4wNzdhLjE1Ni4xNTYgMCAwIDEtLjEwNC4wNGgtLjU1YS4xNTguMTU4IDAgMCAwLS4xMjYuMDY0bC0uNDI1LjU3M2EuMTY4LjE2OCAwIDAgMC0uMDMyLjA5NnYuMzhjMCAuMDM1LjAxMS4wNjkuMDMyLjA5N2wuMTQ4LjE5OGMuMDEzLjAxNi4wMi4wMzYuMDI3LjA1NS4wMS4wMzMuMDM2LjA4LjEuMDhoLjY4NnMuMTcyLjAwNS4xNzIuMTJjMCAuMDQtLjAwMS4wOC0uMDAzLjExNmEuMTYyLjE2MiAwIDAgMCAuMDgzLjE0OGMuMDQ4LjAyOC4wOTkuMDc3LjA5OS4xNTV2LjIxYS4yMDMuMjAzIDAgMCAxLS4wMDcuMDQ5Ljc3Mi43NzIgMCAwIDEtLjA3OS4xNzhjLS4wMzYuMDU0LjAxNS4xMzUuMDUyLjE4MmEuMTcuMTcgMCAwIDEgLjAzNS4xMDJ2LjIxcy4wMTYuMDc2LjA4OC4xMDlhLjU4My41ODMgMCAwIDEgLjA5Ny4wNXYuMDg0YzAgLjA5LjA3MS4xNi4xNi4xNmguMjA3cy4wOTQuMDA4LjE1NS0uMDg3bC4yOC0uNDM3cy4wNC0uMDQzIDAtLjEyYy0uMDQtLjA3Ni0uMDIxLS4xNDUtLjAyMS0uMTQ1bC4xOS0uMTFzLjA5LS4wMTYuMDktLjE0MXYtLjEzNmEuMTE1LjExNSAwIDAgMC0uMDE4LS4wNjJsLS4wMzMtLjA1N2EuMTYyLjE2MiAwIDAgMSAuMDIxLS4xOTFsLjM5NS0uNDI0cy4xMDQtLjE1Ni4xMDQtLjIzNUg5LjQ5YS4xNi4xNiAwIDAgMS0uMTM2LS4wNzdsLS4zNDYtLjU3NmEuMDg3LjA4NyAwIDAgMSAuMDMzLS4xMjEuMDg0LjA4NCAwIDAgMSAuMTEyLjAzbC4zMzUuNTUyLS4wMDEuMDVjMCAuMDE2LjAxMi4wMjguMDI4LjAyOC4wODMgMCAuMzI3LS4wMS40NjMtLjEzYS41OTYuNTk2IDAgMCAwIC4xNDMtLjE4MS4xNi4xNiAwIDAgMC0uMDM4LS4xOWwtLjA4NS0uMDc2LS4xMS4wMjUtLjE5Ny0uMTk5YS4wNjMuMDYzIDAgMCAxIC4wMTYtLjEuMDYuMDYgMCAwIDEgLjA2NS4wMDdsLjMwNy4yMzhzLjA2My4wNTYuMTI3LjA1NmguMThjLjA1NiAwIC4xMDguMDMuMTM2LjA3OGwuNDAyLjY4M3MuMDYuMDU2LjA5NC4wNTRjLjAzNS0uMDAzLjA4Mi0uMTUuMDgyLS4xNSAwLS4xMzYuMDY1LS4yNjYuMTc2LS4zNDRsLjEzOC0uMDk4YS4xNTguMTU4IDAgMCAxIC4yMDIuMDE1bC4wODUuMDgzdi4wOWMwIC4wMTQuMDEyLjAyNy4wMjguMDI3aC4wMzhsLjAzNi0uMDM2aC4wNDJ2LjM1OWMwIC4wNC4wMTUuMDguMDQzLjEwOWwuMjY3LjI4OHYtLjEwM2EuMTU5LjE1OSAwIDAgMC0uMDM1LS4xbC0uMTI1LS4xNThhLjE1OS4xNTkgMCAwIDEtLjAzNS0uMXYtLjEwOWMwLS4wMTcuMDIxLS4wMjYuMDMzLS4wMTNsLjE2Mi4xNjcuMDA0LjEwNWMuMDAxLjAyLjAyNS4wMy4wMzguMDE1bC4yMjktLjI1cy4wNjYtLjA4MyAwLS4xNTJhNS40MDUgNS40MDUgMCAwIDAtLjE1OC0uMTU0LjA1LjA1IDAgMCAxLS4wMTYtLjAzOS4wNS4wNSAwIDAgMSAuMDE5LS4wMzhsLjA0NC0uMDM3LjExLjAwMnMtLjAyMy4wNTItLjA1OC4xMTJjMCAwIC4wMTcuMDk2LjEyMy0uMDgzLjAwOC0uMDA3LjAzNi0uMDAzLjA2Ny4wMDIuMDQuMDA2LjA4NC4wMTQuMS0uMDAyLjA2LS4wNjQuMzA5LS40MDcuMzA5LS40MDdzLjAzMi0uMTI2LS4wNDMtLjE5MmMtLjA3Ni0uMDY2LS4wNDMtLjE0Ny0uMDQzLS4xNDdsLjA5NC0uMDgydi0uMDU4aC0uMjQ0cy4wMi0uMTMuMTk0LS4xMzlsLjAzMS0uMDAxYy4wMTEgMCAuMDIxIDAgLjAzLS4wMDJhLjEzMi4xMzIgMCAwIDEgLjEyNy4wODNjLjAwNi4wMTYuMDEuMDM0LjAxLjA1MnYuMjQzbC4wMzYuMDA0cy4wNjguMDA3LjA5My0uMDg0YzAgMCAuMDQ2LS4wMTMuMDQ2LS4wNjh2LS4wNjZsLS4wNjYtLjA4LjEwNy0uMTM4YS4xMjIuMTIyIDAgMCAxIC4wNzUtLjA0NWwuMDU0LS4wMTFhLjEyNS4xMjUgMCAwIDAgLjA4LS4wNTNsLjI0Ny0uMzczYS4xNjUuMTY1IDAgMCAwIC4wMjctLjA5di0uMTAyYS4wNS4wNSAwIDAgMC0uMDUtLjA1aC0uMTQ0cy0uMDYtLjA3LjAyMi0uMTJjLjA1Ny0uMDM1LjE2OS0uMTI4LjIzMi0uMThhLjE1NS4xNTUgMCAwIDEgLjEwMS0uMDM4aC4yOWEuMTYuMTYgMCAwIDAgLjA5My0uMDNsLjE5LS4xMzdhLjA0LjA0IDAgMCAxIC4wMjUtLjAwOGMuMDgyIDAgLjEyNS4xLjA3LjE2MmwtLjE5OC4yMTRhLjE1OC4xNTggMCAwIDAtLjA0My4xMDZsLS4wMDMuMTczYzAgLjAzMi4wMjYuMDYuMDU5LjA2aC4wNDhsLjI1OS0uMjY4YS4xMjUuMTI1IDAgMCAwIC4wMzMtLjA2NmwuMDEtLjA1NmEuMTYuMTYgMCAwIDEgLjE1NS0uMTM0aC4xMTRhLjE1NC4xNTQgMCAwIDAgLjEwNC0uMDM5bC4xNTktLjE0YS4wNDMuMDQzIDAgMCAxIC4wMjgtLjAxaC4wODJhLjA0Mi4wNDIgMCAwIDAgLjA0My0uMDQ0di0uMDhjMC0uMDEzLjAwNS0uMDI0LjAxMy0uMDMybC4wNjItLjA1OGEuMTU2LjE1NiAwIDAgMSAuMTgxLS4wMjRsLjEwNC4wNTVhLjA2MS4wNjEgMCAwIDAgLjA3Ni0uMDE2bC4wNTEtLjA2NWEuMDYyLjA2MiAwIDAgMCAuMDEyLS4wNTIuMDYyLjA2MiAwIDAgMC0uMDMzLS4wNDJsLS41MDMtLjI1YTUuNDI3IDUuNDI3IDAgMCAwLS4zOS0uMDE0Wk04LjE0MSA3LjAyNGwuMDktLjA3OC0uMDkuMDc5LS4xMzMtLjE2M2EuMDUzLjA1MyAwIDAgMS0uMDEtLjAxOS4wNTMuMDUzIDAgMCAwIC4wMS4wMThsLjEzMy4xNjNabS43NTUuNDkzaC0uMDgxYS4xMy4xMyAwIDAgMS0uMDMyLS4wMDQgOS4xMjcgOS4xMjcgMCAwIDEtLjYxLS4xODYuMDYyLjA2MiAwIDAgMS0uMDM1LS4wNDUuMDYzLjA2MyAwIDAgMSAuMDE1LS4wNTVsLjExLS4xMTdhLjA5NC4wOTQgMCAwIDEgLjEzLjAwNWwuMS4xMDcuMDg3LS4wMTYtLjAyNC0uMDY0cy0uMDEtLjAzLS4wMjEtLjA1NmMtLjAxMS0uMDI3LjA0OC0uMDYxLjA0OC0uMDYxcy4wNi0uMDA2LjA2LjA4OGMwIC4wOTMuMDk3LjE2My4wOTcuMTYzaC4zMzJjLjAyMSAwIC4wMzUuMDIzLjAyNC4wNGwtLjA1OS4xMTNhLjE2LjE2IDAgMCAxLS4xNDEuMDg4Wm0uNDE3LS41MDNIOS4ybC0uMDgzLS4wNjVhLjA1Ny4wNTcgMCAwIDAtLjAzMi0uMDFoLS4xMDhhLjA2Ny4wNjcgMCAwIDAtLjA0NC4wMTdsLS4wNzguMDctLjA3OC4wMTJhLjA1My4wNTMgMCAwIDEtLjA1Ni0uMDI2LjA1NS4wNTUgMCAwIDEtLjAwNi0uMDJsLS4wMTEtLjA4N2EuMDkuMDkgMCAwIDEgLjAyMS0uMDY5bC4xMjgtLjE0NS4wNTgtLjAwNS0uMDAzLjAyNmEuMDUxLjA1MSAwIDAgMCAuMDUuMDU4aC4wMjlhLjA2OS4wNjkgMCAwIDAgLjA2NC0uMDQybC4wMjYtLjA1OC4xMi4wMi4wMS4wODdhLjA3Ny4wNzcgMCAwIDAgLjAyNi4wNDhsLjEzMy4xMTJ2LjAyNWMwIC4wMy0uMDIzLjA1Mi0uMDUzLjA1MlptLjU3NC4wOTN2LjA5OWgtLjIwNWwtLjAxOC0uMDk5YS4wNS4wNSAwIDAgMSAuMDA4LS4wMzlsLjAxMS0uMDE1YS4wNTIuMDUyIDAgMCAwLS4wMDgtLjA2OWwtLjA5Ni0uMDg5di0uMTYzbC4xNC0uMDZoLjA3MmMuMDI4IDAgLjA1Mi4wMTkuMDYuMDQ2bC4wMDEuMDA0Yy4wMDYuMDIgMCAuMDQtLjAxMy4wNTZhLjA2MS4wNjEgMCAwIDAtLjAxNS4wMzFsLS4wMTMuMDg1LjExMy4xMDUtLjA4LjA1NC4wNDMuMDU0WlxcXCIgZmlsbD1cXFwiIzA1MDUwNVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMi45NDUgNy44Yy0uMDA2LS4wMTUtLjAxLS4wMjItLjAxNy0uMDIxLS4wMDcgMC0uMDE4LjAwOS0uMDM2LjAyNWEuMTEuMTEgMCAwIDAtLjAzOS4wOGMwIC4wMi4wMDMuMDQuMDEyLjA2Mi4wMDcuMDE4LjAyLjAzMi4wMjguMDMyLjAyNSAwIC4wNjYtLjE0LjA1Mi0uMTc4Wk0xMi44OTQgOC4xMDhhLjExNi4xMTYgMCAwIDEgLjAyNC4wMDVsLjAxNC4wMDRjLjAxOC4wMDYuMDI3LjAwOS4wMzMuMDE1LjAwNS4wMDUuMDA4LjAxNC4wMTMuMDNsLjAwNC4wMTRjLjAwOC4wMjcuMDAyLjA1My0uMDE4LjA3LS4wNDYuMDM3LS4wMzguMDU3LjAzLjA3Mi4wNDcuMDEuMDYxLjAyNC4wNjEuMDYyIDAgLjA0Ni0uMDAzLjA0Ni0uMDU1LjAxOS0uMDMtLjAxNi0uMDYtLjAyMy0uMDY1LS4wMTYtLjAwNy4wMDcgMCAuMDE2LjAxNC4wMjEuMDU1LjAyLjA4Ni4wNzEuMDc0LjEyLS4wMTQuMDU3LjAxNC4wNjYuMDU5LjAyLjA0OC0uMDQ5LjA4OS4wMjMuMDc4LjEzNi0uMDA0LjAzOC0uMDM4LjA1NS0uMDkuMDQzYS4wNDcuMDQ3IDAgMCAxLS4wMjItLjAxMi4wNC4wNCAwIDAgMS0uMDEzLS4wMjdjMC0uMDI0LS4wMTMtLjAyOS0uMDUxLS4wMi0uMDM4LjAxLS4wNS4wMDYtLjA1LS4wMThhLjA1LjA1IDAgMCAxIC4wMy0uMDQ0Yy4wMTMtLjAwNS4wMi0uMDA5LjAyLS4wMTcgMC0uMDA4LS4wMDctLjAxOS0uMDItLjAzOGEuMTc0LjE3NCAwIDAgMS0uMDMtLjA4YzAtLjAyLS4wMDgtLjAzNy0uMDE5LS4wMzctLjAyNyAwLS4wODgtLjE5My0uMDYzLS4yMDEuMDA0LS4wMDIuMDA5LS4wMDguMDEyLS4wMTZhLjE0OC4xNDggMCAwIDAgLjAwOS0uMDUzYzAtLjA0LjAwMy0uMDU0LjAyMS0uMDUyWk0xMi44IDguNTY3Yy4wNDctLjA0NC4wNzItLjExNi4wNC0uMTE2LS4wMTQgMC0uMDgyLjA3OS0uMTEuMTI5LS4wMy4wNTIuMDA5LjA0NS4wNy0uMDEzWk0xMi45MTIgOC42OThhLjAyLjAyIDAgMCAxIC4wMjEuMDJjMCAuMDExLS4wMDMuMDItLjAwOC4wMiAwIDAtLjAwNSAwLS4wMDctLjAwM2EuMDY0LjA2NCAwIDAgMS0uMDE1LS4wMTdjLS4wMDctLjAxMS0uMDAzLS4wMi4wMS0uMDJaTTEzLjI1NCA4LjkxM2MtLjAxMy0uMDMtLjAzLS4wNDUtLjA0NC0uMDQzLS4wMTQuMDAxLS4wMjUuMDE4LS4wMy4wNWEuMDU4LjA1OCAwIDAgMS0uMDEuMDI2Yy4wMTMuMDUyLjA1Mi4wNi4wNjQuMDYzaC4wMDRhLjI1NS4yNTUgMCAwIDEgLjAyNS0uMDI5Ljc1MS43NTEgMCAwIDAgLjAxNC0uMDE1bC0uMDIzLS4wNTJaTTEzLjA4MiA4Ljg5NGMuMDI2LS4wMDQuMDM1LjAxNS4wMTEuMDQzYS4wNDQuMDQ0IDAgMCAwLS4wMDguMDE1bC0uMDU3LjAxYS42Mi42MiAwIDAgMS0uMDM2LjAwNWMtLjAzOC4wMDYtLjA3Ny4wMTEtLjEuMDM3IDAgLjAwNC4wMDQuMDA3LjAxLjAwOS4wMDcuMDAyLjAxOS4wMDIuMDMyLS4wMDFsLjAwNi0uMDAzLjAwNS0uMDAzLjAyLS4wMDIuMDY0LjAwOC0uMDA0LjAwNmgtLjAwMmwtLjAwNS4wMDQtLjAxMy4wMDhjLS4wMy4wMjYtLjA0NC4wNTQtLjAzNC4wNjcuMDA4LjAxMi4wMTUuMDQuMDE1LjA2Mi0uMDAyLjA1My0uMDY2LjA2Ny0uMDc5LjAxNy0uMDA2LS4wMjMtLjAxLS4wMTYtLjAxMi4wMjEtLjAwMS4wNDQtLjAxMS4wNTctLjAzOC4wNTEtLjAyLS4wMDQtLjAzNS0uMDI1LS4wMzUtLjA0N2EuMTQyLjE0MiAwIDAgMC0uMDE2LS4wNjVjLS4wMDgtLjAxMy0uMDA2LS4wNDguMDA2LS4wNzguMDA3LS4wMTkuMDA5LS4wMjguMDEtLjAzNmwuMDAyLS4wMDYuMDEyLS4wMzIuMDE4LS4wNS0uMDAzLjAwMWMuMDI4LS4wMjYuMDU2LS4wMzIuMS0uMDIybC4wMzIuMDA0YS4xNS4xNSAwIDAgMCAuMDY4LS4wMTJjLjAxLS4wMDUuMDItLjAxLjAzMS0uMDExWk0xMy4zNiA5LjEzNmMwLS4wMjctLjAzNC0uMDQyLS4wOTItLjA0MmEuNDQ1LjQ0NSAwIDAgMC0uMDY0LjAwNmMtLjA4LjAxMi0uMTAzLjAyNy0uMDguMDUxLjAyLjAyLjIzNi4wMDcuMjM2LS4wMTVaTTUuODY2IDkuMzYybC0uMzUtLjE4NWEuMjIyLjIyMiAwIDAgMC0uMTAyLS4wMjZoLS4xMDFhLjAzOC4wMzggMCAwIDEtLjAzNy0uMDMzLjIyLjIyIDAgMCAwLS4yMTgtLjIwMWgtLjAzMmEuMjE3LjIxNyAwIDAgMS0uMTczLS4wODhsLS4wNDgtLjA2NWEuMjE2LjIxNiAwIDAgMC0uMTU1LS4wODZsLS4yNjItLjAyM2EuMDI4LjAyOCAwIDAgMS0uMDE3LS4wMDdsLS4wNDMtLjAzYy0uMDEyLS4wMDctLjAyNi0uMDA5LS4wMzggMGwtLjE4Ny4xMDZhLjIxNi4yMTYgMCAwIDEtLjEwOC4wMjhoLS4xOTJhLjAzNy4wMzcgMCAwIDEtLjAxNy0uMDA0LjE0Ni4xNDYgMCAwIDEtLjA3MS0uMTMzdi0uMTEyYS4wMzguMDM4IDAgMCAwLS4wMjMtLjAzNS4wMzcuMDM3IDAgMCAwLS4wMTQtLjAwM2gtLjEyMmEuMDM3LjAzNyAwIDAgMS0uMDMyLS4wMTkuMDM4LjAzOCAwIDAgMSAwLS4wMzhsLjA1Ny0uMWEuMDQ0LjA0NCAwIDAgMCAuMDA2LS4wMlY4LjJjMC0uMDEtLjAwNC0uMDItLjAxMS0uMDI3YS4wMzcuMDM3IDAgMCAwLS4wMjctLjAxMWgtLjA2NmEuMDM3LjAzNyAwIDAgMC0uMDMuMDE3bC0uMDM4LjA2YS4yMTcuMjE3IDAgMCAxLS4xODQuMWgtLjA1NHMtLjA4Ni0uMDE1LS4wODYtLjEwOHYtLjMzOWEuMDk3LjA5NyAwIDAgMSAuMDQ1LS4wNjdjLjAzMi0uMDIuMTA3LS4wNjEuMTQ0LS4wODFhLjAzOC4wMzggMCAwIDEgLjA0My4wMDVsLjA3LjA2NmMuMDA3LjAwNy4wMTUuMDEuMDI0LjAxaC4wMTVjLjAyMiAwIC4wNTEgMCAuMDU3LS4wMDMuMDA0LS4wMDIuMDA0LS4wMDcuMDAzLS4wMTQgMC0uMDE3IDAtLjA0Ni4wNDUtLjA2LjA2Ni0uMDE5LjEwOS4wNC4xMDkuMDRsLjE2NS4xOTlhLjAzNy4wMzcgMCAwIDAgLjA1LjAwNmwuMDIzLS4wMTZhLjAzOC4wMzggMCAwIDAgLjAxMi0uMDVsLS4wMDItLjAwNWEuMjIzLjIyMyAwIDAgMSAuMDQ4LS4yOGwuMTM3LS4xMThzLjAxNi0uMDEuMDI0LS4wNzFjLjAwNS0uMDM3LjAxNS0uMDkuMDIxLS4xMjhsLjAyMS0uMDM2LjAyLS4wMzYuMjk3LS4yNTJhLjAzNi4wMzYgMCAwIDEgLjA1NS4wMDhjLjAxNC4wMjIuMDM4LjA0Ni4wNjkuMDQ1YS43NjcuNzY3IDAgMCAwIC4yMDgtLjA5My4wMzYuMDM2IDAgMCAwIC4wMTktLjAzM3YtLjA0N2wtLjE0My4wM2EuMDM4LjAzOCAwIDAgMS0uMDQ0LS4wMzFsLS4wMTYtLjA5NWEuMDM4LjAzOCAwIDAgMC0uMDM2LS4wM2wtLjE0My4wMTUuMDE4LS4wNDNhLjA0My4wNDMgMCAwIDEgLjAzNC0uMDI3bC4zNTItLjAzNy4wNTYtLjAyMy4wNTYtLjAyMy4wNzEtLjA1NmEuMDM4LjAzOCAwIDAgMCAuMDA0LS4wNTVsLS4zOTYtLjQxYS4wMzkuMDM5IDAgMCAwLS4wNDMtLjAwOGwtLjExOC4wNTdhLjA0LjA0IDAgMCAxLS4wMzgtLjAwM0w0LjEgNS45MWEuMDM2LjAzNiAwIDAgMC0uMDUuMDA4bC0uMDUxLjA3YS4wMzMuMDMzIDAgMCAwLS4wMDcuMDJsLS4wMS4xNzRjMCAuMDExLjAwMy4wMi4wMTEuMDI5bC4wNDguMDVhLjAzOC4wMzggMCAwIDEtLjAwNS4wNTZsLS4wNy4wNTFhLjAzNy4wMzcgMCAwIDEtLjAzNC4wMDZsLS4xNi4wMjdhLjIyLjIyIDAgMCAwLS4xMzMtLjEzbC0uMDgtLjAyOGEuMjIyLjIyMiAwIDAgMS0uMDk4LS4zNWwuMTU2LS4xOWEuMDQyLjA0MiAwIDAgMCAuMDA3LS4wMzhsLS4wNDQtLjExNS0uMDA4LS4wMTItLjE3Ni0uMTlhLjEyMi4xMjIgMCAwIDAtLjIxLjA2NWwtLjAwMS4wMWEuMTIzLjEyMyAwIDAgMS0uMTIuMTA0SDIuNTRsLS4wNS0uMDFhMi42NTIgMi42NTIgMCAwIDEtLjA0LS4wMDlsLS4zNTgtLjE2MmEyLjAwMyAyLjAwMyAwIDAgMC0uMDc1LS4wMThsLS4zMy0uMDIyYTIuMTU4IDIuMTU4IDAgMCAxLS4wOTIuMDE1bC0uMTQ4LjA1OGEuMjE3LjIxNyAwIDAgMS0uMTI0LjAxTC41OTEgNS4yM2EuMjEyLjIxMiAwIDAgMC0uMTMyLjAxM2wtLjM0Ni4xNWEuMDM4LjAzOCAwIDAgMC0uMDA5LjA2M2wuMDkuMDc3Yy4wMjYuMDIxLjAxMS4wNjUtLjAyMi4wNjZsLS4xMzYuMDAzYy0uMDIgMC0uMDM2LjAxNy0uMDM2LjAzN3YuMDJjMCAuMDIuMDE2LjAzNi4wMzYuMDM3bC4xMTcuMDAxYy4wNC4wMDIuMDUxLjA1Ni4wMTUuMDcybC0uMTAxLjA0NmEuMDM3LjAzNyAwIDAgMC0uMDIyLjAzN2wuMDEuMTAzYS4yMi4yMiAwIDAgMCAuMTg0LjE5OGwuMDcyLjAxMmMuMDM0LjAwNi4wNDIuMDUxLjAxMy4wNjlsLS4wMjMuMDEzYy0uMDI0LjAxNS0uMDI0LjA1IDAgLjA2NGwuMDEyLjAwNmEuMDQuMDQgMCAwIDAgLjAzNS4wMDNsLjYxOC0uMjgyYS4yMTUuMjE1IDAgMCAxIC4yMzcuMDRsLjU4OC41NDNhLjIyLjIyIDAgMCAxIC4wNzEuMTUybC4wMi40MTVhLjIyMi4yMjIgMCAwIDAgLjA0OC4xMjhsLjU3OS43MjhjLjAxLjAxNC4wMy4wMTguMDQ1LjAxYS4wMzguMDM4IDAgMCAwIC4wMTQtLjA1NXMuMzY1LjM4My40LjM5OWwuMjk2LjE0OGEuMjIuMjIgMCAwIDAgLjA5Ny4wMjNoLjE0N2MuMDE1IDAgLjAyOC4wMDguMDMzLjAyMWwuMDUuMTA4VjguN2wuMDAxLjAwMS4wMDIuMDAzYy4wMTUuMDI1LjA4OC4xNDMuMTY1LjE0OC4wODcuMDA1LjI0MyAwIC4yNDMgMHMuMDU2LS4wMDEuMDU2LjA2di4wOTVhLjAzNi4wMzYgMCAwIDEtLjAxOS4wMzJjLS4wNDguMDI3LS4xNzIuMTA3LS4xNzIuMTk3di4yMTJjMCAuMDEuMDAzLjAxNy4wMDguMDI0LjAxNi4wMTkuMDUuMDYuMDguMDg0LjAyNy4wMjIuMDcyLjA3My4wOTguMTAzbC4wMTMuMDE0YS4wMzguMDM4IDAgMCAxIC4wMDguMDI0di4xMjJhLjA0LjA0IDAgMCAxIC4wMDEuMDA2bC4wMDEuMDA3Yy4wMDcuMDE2LjAyNC4wNTcuMDU1LjA3Mi4wMTkuMDA5LjA2NS4wNDcuMTA4LjA4NWEuMjIyLjIyMiAwIDAgMSAuMDc2LjE4NmwtLjAyNy4zNDUtLjAwMy4wMmEuNDMuNDMgMCAwIDEtLjAwMy4wMmwtLjExOS40NWExLjc1IDEuNzUgMCAwIDAtLjAwNy4wOGwuMDEyLjE4NWEuMjMzLjIzMyAwIDAgMS0uMDEuMDk1bC0uMDQ0LjEyNmEuMjM1LjIzNSAwIDAgMC0uMDA3LjEyNWwuMDU2LjIzM2EuMTIzLjEyMyAwIDAgMCAuMDQ0LjA3bC4wNTcuMDQ1Yy4wMjIuMDE4LjA1NC4wNDIuMDc2LjAyNi4wNzctLjA1NC4xMi0uMjE4LjE1NS0uMzUzLjAxNS0uMDYuMDMtLjExNS4wNDQtLjE1LjAxLS4wMjMuMDY3LS4xMDUuMTM0LS4yMDIuMTEtLjE1Ni4yNDUtLjM1LjI0NC0uMzg5bC0uMDAzLS4wOWMwLS4wMjIuMDE2LS4wMzguMDM3LS4wMzhoLjExNGMuMDEgMCAuMDItLjAwNC4wMjYtLjAxMmwuMjY2LS4yOTRhLjAzNi4wMzYgMCAwIDAgLjAxLS4wMjZ2LS4xMmMwLS4wMjEuMDE3LS4wMzcuMDM4LS4wMzcuMDQ1LjAwMi4xMi4wMDIuMTQ1LS4wMi4wMjctLjAyMS4wOTctLjEwMy4xMzgtLjE1bC4wMjEtLjAyNGEuMDM5LjAzOSAwIDAgMCAuMDEtLjAyNXYtLjE5YzAtLjA1NS4wMi0uMTA4LjA1Ny0uMTVsLjEzMy0uMTQ4YS4xMzcuMTM3IDAgMCAwLS4wNDMtLjIxNVpNMTQuOTE2IDEwLjdsLS4wMDguMDAxYy0uMDA2LjAwNS4wMDUuMDM2LjAyNC4wNjcuMDMxLjA1MS4wMzMuMDYyLjAxNi4wODYtLjAxNy4wMjUtLjAxNi4wMy4wMDQuMDQ0LjAzNi4wMjMuMDI4LjAzNC0uMDIyLjAzLS4wMzgtLjAwNC0uMDQ5LjAwMi0uMDcuMDM5YS4yNy4yNyAwIDAgMS0uMDc4LjA3NGMtLjA3MS4wNDQtLjEwOC4xMDktLjA2LjEwOS4wMTMgMCAuMDE3LjAxLjAxMi4wMjYtLjAxLjAzMi0uMDA2LjAzMi4wNjUtLjAwMi4wNDEtLjAyLjA2LS4wMzguMDY2LS4wNjVhLjA2NS4wNjUgMCAwIDEgLjA0MS0uMDQ4Yy4wMTgtLjAwNi4wMzItLjAxNS4wMy0uMDE5LS4wMDctLjAxOC4wMzMtLjA4Mi4wNDgtLjA3Ny4wMi4wMDYuMDgtLjA2LjA3LS4wNzYtLjAwNS0uMDA2LjAwMS0uMDExLjAxMi0uMDExLjAyMiAwIC4wNDMtLjA0OC4wMy0uMDY3LS4wMDQtLjAwNi0uMDIzLS4wMDctLjA0My0uMDAzLS4wMjQuMDA1LS4wMzUuMDAyLS4wMzUtLjAxIDAtLjAyLS4wNzUtLjA4OS0uMTAyLS4wOTdaTTEyLjg4NSA5LjI3NGwtLjQ4Ni0uMDU3YS4xMTkuMTE5IDAgMCAxLS4wMzUtLjAxbC0uMTE4LS4wNDhhLjE0NC4xNDQgMCAwIDEtLjA0OC0uMDMybC0uMzktLjQxNGEuMDUuMDUgMCAwIDAtLjA0Mi0uMDE1LjA0Ny4wNDcgMCAwIDAtLjAyOC4wNzhsLjQxLjQ2NmEuMTUuMTUgMCAwIDAgLjA2My4wNGwuMjMyLjA3YS4xMjguMTI4IDAgMCAwIC4wNC4wMDVoLjM5N2wuMDA1LS4wODNaTTEzLjg1IDkuNTM1bC0uMDIuMDU3YS4yNTUuMjU1IDAgMCAxLS4yNy4xNy4wNS4wNSAwIDAgMS0uMDM4LS4wMjcuMDUuMDUgMCAwIDEgLjAwMS0uMDQ3bC4xLS4xODYtLjI2LjAxYS4yNTQuMjU0IDAgMCAwLS4xLjAyM2wtLjA5OC4wNDZhLjI0OS4yNDkgMCAwIDAtLjA3LjA0OWwtLjE4LjE3OGEuMjQuMjQgMCAwIDEtLjA3NS4wNTFsLS4xMjMuMDU1YS4yNTkuMjU5IDAgMCAwLS4xNTIuMjM2di4wMmMwIC4wMzQuMDA3LjA2OC4wMi4xbC4wOTYuMjI4Yy4wMDMuMDA1LjAwNC4wMS4wMDUuMDE1YS4xMS4xMSAwIDAgMCAuMTQzLjA3N2wuMjQ1LS4wODhhLjI0OC4yNDggMCAwIDEgLjEwOC0uMDEzbC4yOTQuMDI3Yy4wOC4wMDYuMTUuMDUuMTkzLjEybC4wMi4wM2EuMjU0LjI1NCAwIDAgMCAuMjE4LjEyMmguMTE4YS4yNTUuMjU1IDAgMCAwIC4xODItLjA3NmwuMTMtLjEzMmEuMjYuMjYgMCAwIDAgLjA3NS0uMTgzdi0uMTczYS4yNi4yNiAwIDAgMC0uMDgyLS4xOWwtLjI2OC0uMjQ4YS4yNC4yNCAwIDAgMS0uMDYtLjA4MmwtLjA4LS4xNzVjLS4wMTctLjAyNy0uMDYtLjAyNi0uMDcxLjAwNlpNMTMuMzIyIDkuMjVjLjAxNy4wMDEuMDI5LjAxNC4wMjguMDM3IDAgLjAxNS0uMDI5LjA0My0uMDY0LjA2M2EuMzMyLjMzMiAwIDAgMS0uMDY4LjAzMmMtLjAxNi4wMDQtLjAxOS0uMDA1LS4wMTktLjAyNyAwLS4wMTcuMDA2LS4wMzEuMDE0LS4wMzEuMDA3IDAgLjAzLS4wMi4wNTEtLjA0My4wMi0uMDIyLjA0MS0uMDMyLjA1OC0uMDNaTTEzLjA3OSA5LjI3MmMuMTYgMCAuMTQ5LjA0LS4wMTMuMDQ4LS4wOTUuMDA0LS4xMiAwLS4xMTUtLjAyMS4wMDUtLjAxOC4wNDUtLjAyNy4xMjgtLjAyN1pNNi4xMTcgNS41MmguMDlsLjA2Ny4wNDYuMTgyLS4wNDcuMDMzLjA4MXYuMTE1bC0uMTc1LjAyMWEuMTMzLjEzMyAwIDAgMS0uMS0uMDI4bC0uMTUzLS4xMjEuMDU2LS4wNjdaTTguMTIgNC41NTFoLS4yM2wtLjA1Ni4wNC4xOTcuMjVoLjA5bC4wODItLjE1Mi4yMDIuMTAzLjAzMi0uMDQ4LS4yNC0uMTY5YS4xMzIuMTMyIDAgMCAwLS4wNzYtLjAyNFpNOC42MTEgNC4zNzJoLS4yOThsLS4wMjguMDQ2LjA4Ni4wNjRhLjEzLjEzIDAgMCAwIC4wOC4wMjdoLjE2bC4wNzYtLjA4LS4wNzYtLjA1N1pNMy4wNDIgNC4zNzlsLS4xOTcuMDc0LS4xOS4wNDguMjczLjEzLjIxNi0uMDcuMDcyLS4wMTMtLjA1Ny0uMTA5LS4xMTctLjA2Wk0zLjQxNSA0Ljc4aC0uMDg2di4wNDNsLjA0Ni4wMTcuMDEuMDQ0LjA3MS4wMS4wNDguMDU1LjQyNC0uMDE0LjAyNC0uMDUtLjAzNy0uMDU2aC0uNDU2bC0uMDQ0LS4wNDlaTTMuMDMgNC44ODRsLS4wMzMtLjA5Ni4wMzMtLjAxOC4xMjcuMDEuMDMuMDI5LS4wNy4wODItLjA4Ny0uMDA3Wk0zLjIxNiA0LjcyNWwuMDE2LS4wNTQuMDM1LS4wMjQuMDM0LjAxMy4wNTguMDI1di4wMjRoLS4wM2wtLjA0Ni4wMzgtLjA2Ny0uMDIyWlxcXCIgZmlsbD1cXFwiIzA1MDUwNVxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIm0zLjg0NCA4LjA5NS0uMDgzLjAzN2MtLjAxLjAwNS0uMDEuMDIxIDAgLjAyNGwuMDg4LjAzNy4xMDMtLjAxNy4xNjcuMTE1aC4xMTlzLjA4MS0uMDEuMDgxLS4wMzItLjA4MS0uMDMzLS4wODEtLjAzM2wtLjE3Mi0uMTNoLS4yMjJaTTQuNCA4LjI3MnMtLjA3NC4wNDUtLjA2NS4wNjZjLjAxNi4wMzguMTYgMCAuMTYgMHMuMDUyLS4wNDguMDQzLS4wNjZjLS4wMTgtLjAzMS0uMTM4IDAtLjEzOCAwWk0xNC4xNjIgMTAuOTNoLS4yOGwuMDc0LjE2NGguMDY2bC4xNC0uMTY1WlxcXCIgZmlsbD1cXFwiIzA1MDUwNVxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-icons/svg/filled/data/placeholder-map.svg\n");

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6ZM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5Z\\\" fill=\\\"#000\\\"></path><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1Zm0 3V1H5v2h6Zm1.895 1h-9.79l.8 11h8.19l.8-11Z\\\" fill=\\\"#000\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdHJhc2guc3ZnLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmc/NGUwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTYgNi41YS41LjUgMCAwIDEgMSAwdjZhLjUuNSAwIDAgMS0xIDB2LTZaTTkuNSA2YS41LjUgMCAwIDAtLjUuNXY2YS41LjUgMCAwIDAgMSAwdi02YS41LjUgMCAwIDAtLjUtLjVaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xMSAwSDVhMSAxIDAgMCAwLTEgMXYySC41YS41LjUgMCAwIDAgMCAxaDEuNmwuODEgMTEuMWExIDEgMCAwIDAgLjk5NS45aDguMTlhMSAxIDAgMCAwIC45OTUtLjlMMTMuOSA0aDEuNmEuNS41IDAgMCAwIDAtMUgxMlYxYTEgMSAwIDAgMC0xLTFabTAgM1YxSDV2Mmg2Wm0xLjg5NSAxaC05Ljc5bC44IDExaDguMTlsLjgtMTFaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-icons/svg/outlined/editor/trash.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-header.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-header.svg ***!
  \*************************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 9 5\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4.128 4.587.751.834A.5.5 0 0 1 1.123 0h6.754a.5.5 0 0 1 .372.834L4.872 4.587a.5.5 0 0 1-.744 0Z\\\" fill=\\\"#000\\\" fill-rule=\\\"evenodd\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9saWIvaWNvbnMvYXJyb3ctZG93bi1oZWFkZXIuc3ZnP2E5YzMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDkgNVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNNC4xMjggNC41ODcuNzUxLjgzNEEuNS41IDAgMCAxIDEuMTIzIDBoNi43NTRhLjUuNSAwIDAgMSAuMzcyLjgzNEw0Ljg3MiA0LjU4N2EuNS41IDAgMCAxLS43NDQgMFpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-down-header.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/more-16.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/more-16.svg ***!
  \***************************************/
/***/ ((module) => {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill-rule=\\\"nonzero\\\" fill=\\\"none\\\"><path d=\\\"M13 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm-6.5 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM0 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z\\\" fill=\\\"#000\\\"></path><path d=\\\"M0 0h16v16H0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2Zz84MjJhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48ZyBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjxwYXRoIGQ9XFxcIk0xMyA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBabS02LjUgMGExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgMFpNMCA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBaXFxcIiBmaWxsPVxcXCIjMDAwXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgxNnYxNkgwelxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/more-16.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/widgets.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/widgets.svg ***!
  \***************************************/
/***/ ((module) => {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M20.889 1.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556h-6.222a3.556 3.556 0 0 1-3.556-3.556V4.889a3.556 3.556 0 0 1 3.556-3.556zM20 4v8h8V4h-8zM4.889 17.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556H4.889a3.556 3.556 0 0 1-3.556-3.556v-6.222a3.556 3.556 0 0 1 3.556-3.556zM4 20v8h8v-8H4zm20 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 2.667a6.667 6.667 0 1 1 0-13.334 6.667 6.667 0 0 1 0 13.334zM4.981 12h6.037L7.999 5.963 4.98 12zm4.212-9.615 5.176 10.352a1.334 1.334 0 0 1-1.192 1.93H2.825a1.333 1.333 0 0 1-1.192-1.929L6.809 2.386a1.332 1.332 0 0 1 2.385 0z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy93aWRnZXRzLnN2Zy5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LXVpL2xpYi9pY29ucy93aWRnZXRzLnN2Zz9lMzkxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDMyXFxcIj48cGF0aCBkPVxcXCJNMjAuODg5IDEuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2aC02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMS0zLjU1Ni0zLjU1NlY0Ljg4OWEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1NnpNMjAgNHY4aDhWNGgtOHpNNC44ODkgMTcuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2SDQuODg5YTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2LTMuNTU2di02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1NnpNNCAyMHY4aDh2LThINHptMjAgOGE0IDQgMCAxIDAgMC04IDQgNCAwIDAgMCAwIDh6bTAgMi42NjdhNi42NjcgNi42NjcgMCAxIDEgMC0xMy4zMzQgNi42NjcgNi42NjcgMCAwIDEgMCAxMy4zMzR6TTQuOTgxIDEyaDYuMDM3TDcuOTk5IDUuOTYzIDQuOTggMTJ6bTQuMjEyLTkuNjE1IDUuMTc2IDEwLjM1MmExLjMzNCAxLjMzNCAwIDAgMS0xLjE5MiAxLjkzSDIuODI1YTEuMzMzIDEuMzMzIDAgMCAxLTEuMTkyLTEuOTI5TDYuODA5IDIuMzg2YTEuMzMyIDEuMzMyIDAgMCAxIDIuMzg1IDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/widgets.svg\n");

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./jimu-core/lib/set-public-path.ts");
/******/ 	var __webpack_exports__ = __webpack_require__("./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});