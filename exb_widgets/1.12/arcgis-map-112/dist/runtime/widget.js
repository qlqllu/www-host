System.register(["jimu-core","jimu-arcgis","jimu-ui","jimu-layouts/layout-runtime"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./jimu-icons/svg/filled/data/placeholder-map.svg":
/*!********************************************************!*\
  !*** ./jimu-icons/svg/filled/data/placeholder-map.svg ***!
  \********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#050505\" d=\"m12.687 9.074.073-.133a.147.147 0 0 0 .017-.078l-.012-.142c-.002-.033-.042-.051-.068-.028l-.205.175a.05.05 0 0 1-.019.01l-.092.017a.042.042 0 0 0-.033.051l.019.077a.135.135 0 0 0 .093.097l.07.02a.134.134 0 0 0 .157-.066ZM13.8 9.389a.13.13 0 0 0 .058-.014l.141-.069c.002 0 .002 0 .003.002l.104.13c.005.006.013.01.023.01h.069a.028.028 0 0 0 .023-.046l-.108-.141-.047-.04-.382-.191-.092.036h-.07v-.001l-.026-.084a.027.027 0 0 0-.025-.019h-.093a.027.027 0 0 0-.027.028v.082h.06v.024c0 .03.023.055.052.06l.136.016h.001l.074.093c.023.028.019.097-.006.125v.001h.131V9.39ZM13.878 6.775l-.048.043a.294.294 0 0 0-.094.187.299.299 0 0 1-.082.178.496.496 0 0 1-.246.136l-.018.004-.076.062s-.022.11 0 .135c.009.012.049.01.061 0 .016-.012.017-.08.017-.08l.242-.087s.06.08.09.083c.012.002.042-.013.05-.025.032-.045.068-.208.068-.208a.546.546 0 0 0 .024-.113l.013-.143.108-.007.043-.087-.112-.011-.04-.067ZM9.427 10.12a.141.141 0 0 0 .245 0v-.334a.122.122 0 0 0-.187-.105.125.125 0 0 0-.058.105v.333ZM6.698 4.315l.144-.084.002-.006a.065.065 0 0 0-.026-.085.063.063 0 0 0-.031-.008h-.328l-.035-.038a.216.216 0 0 0-.157-.074L5.778 4l-.048.009a2.362 2.362 0 0 1-.048.009l-.289.122a.209.209 0 0 1-.076.018l-.464.023a.232.232 0 0 0-.099.028l-.26.148a.03.03 0 0 0-.015.024.03.03 0 0 0 .012.026c.02.015.014.047-.01.053l-.203.051a.03.03 0 0 0-.019.044l.068.112a.03.03 0 0 0 .02.014l.364.063c.056.01.106.04.14.086l.251.333.074.102a.094.094 0 0 1-.007.118l-.056.06a.093.093 0 0 0-.015.105l.183.37a.134.134 0 0 0 .081.068.223.223 0 0 0 .274-.142l.048-.137a.097.097 0 0 1 .04-.05l.204-.175a.24.24 0 0 1 .085-.046l.32-.088a.22.22 0 0 0 .148-.133l.151-.378a.227.227 0 0 0-.001-.172l-.03-.07a.227.227 0 0 1 .097-.28ZM4.03 4.643l.061-.11a.221.221 0 0 1 .088-.087l.504-.282-.057-.066-.572-.035a.203.203 0 0 0-.05.003l-.557.09a.232.232 0 0 0-.137.377l.125.148c.043.051.107.08.172.08h.224a.226.226 0 0 0 .199-.118ZM4.666 5.672l.052-.061c.013-.016.01-.04-.007-.051l-.162-.116-.569-.425a.137.137 0 0 0-.081-.027h-.224a.131.131 0 0 0-.095.04l-.118.115a.034.034 0 0 0-.003.047l.067.085c.006.01.018.015.03.014l.064-.006a.035.035 0 0 1 .038.033l.002.038c0 .005 0 .01-.002.016l-.03.073a.036.036 0 0 0 .006.036l.07.084a.032.032 0 0 0 .028.012l.068-.003a.035.035 0 0 0 .034-.035v-.147c0-.019.014-.034.032-.035l.094-.007c.008 0 .018.002.024.007l.174.133c.013.011.017.029.01.044l-.057.116a.033.033 0 0 1-.03.018l-.054.004a.036.036 0 0 0-.032.027.036.036 0 0 0 .032.044l.117.009c.024.001.048.01.069.024l.206.146c.014.01.03.008.043-.003l.065-.055a.03.03 0 0 0 .011-.018l.021-.083a.035.035 0 0 0-.004-.029l-.07-.11.022-.004a.037.037 0 0 1 .024.004l.091.054a.035.035 0 0 0 .044-.008ZM2.08 5.136h.07l.104.147c.014.018.03.033.05.044l.136.068c.018.01.04.015.061.015h.422V5.27l-.156-.056-.18-.097A.14.14 0 0 1 2.52 5.1l-.288-.166a.13.13 0 0 0-.067-.018h-.173a.136.136 0 0 0-.13.095l-.014.047a.14.14 0 0 0 .033.14l.061.062h.138v-.123ZM2.679 5.022l.11-.058a.139.139 0 0 1 .063-.015h.06c.052 0 .1.03.123.078l.044.092v.094h-.2v-.12l-.084-.043-.1.003-.016-.031ZM3.061 4.95l.1.164.08.047h.115l.116-.124-.088-.116-.225.028H3.06ZM2.414 4.698l.158.057a.12.12 0 0 1 .03.015l.109.073c.018.012.038.02.06.021l.2.02-.024-.124-.238-.132a.14.14 0 0 0-.065-.017h-.122l-.108.087ZM7.46 5.712l.058.092a.025.025 0 0 1-.001.028l-.044.06c-.004.008-.007.016-.004.022l.017.061a.02.02 0 0 0 .008.012l.092.072c.063.048.07.141.017.2l-.001.002a.138.138 0 0 1-.101.046h-.11a.025.025 0 0 1-.024-.031l.028-.11a.023.023 0 0 1 .014-.017l.049-.024c.01-.004.015-.015.013-.026l-.002-.03a.026.026 0 0 0-.02-.021l-.071-.015a.024.024 0 0 0-.027.014l-.016.035v.002l-.001.002-.035.118c-.003.011-.013.018-.024.018l-.11-.003a.024.024 0 0 1-.018-.007.024.024 0 0 1-.007-.017v-.127c0-.013.011-.024.024-.024l.058-.002c.008 0 .014-.004.02-.01l.053-.079A.027.027 0 0 0 7.3 5.94V5.82c0-.008.004-.015.01-.019l.115-.094a.024.024 0 0 1 .037.005Z\"></path><path fill=\"#050505\" fill-rule=\"evenodd\" d=\"M15.073 5.1H14.7a.042.042 0 0 1-.04-.03l-.358-.069a.161.161 0 0 1-.088-.027l-.081-.055a.16.16 0 0 0-.088-.027s-.832-.43-1.922-.388c-.41.016-.77.222-.77.222a.033.033 0 0 0-.02.026l-.004.034a.033.033 0 0 1-.033.028l-.164-.004a.033.033 0 0 0-.034.032l-.459.016c-.04 0-.077.02-.1.053l-.041.06c-.03.045-.441.06-.441.06a.06.06 0 0 1-.036-.055v-.049c0-.017.006-.032.02-.044l.218-.2a.162.162 0 0 1 .087-.04l.136-.018a.06.06 0 0 0 .04-.024l.016-.024a.06.06 0 0 0-.028-.09l-.01-.005a.06.06 0 0 0-.047.004l-.104.061a.057.057 0 0 1-.03.008h-.101a.159.159 0 0 0-.114.049l-.244.252a.165.165 0 0 0-.042.08l-.023.11.016.047-.096.135-.087.087h-.081v-.087H9.45l-.028.11a.161.161 0 0 1-.098.11l-.081.032a.157.157 0 0 1-.156-.026l-.106-.086.284.015.032-.062S9 5.18 8.828 5.084c-.14-.08-.324-.013-.388.016a.147.147 0 0 0-.042.027l-.62.565a.162.162 0 0 0-.006.231l.058.061.083-.069a.057.057 0 0 1 .076.003l.155.146h.04l.146-.176a.057.057 0 0 0 .002-.072l-.019-.026a.06.06 0 0 1-.004-.066l.204-.334a.042.042 0 0 1 .052-.017l.036.018c.022.01.03.035.019.057l-.14.268a.134.134 0 0 0-.01.104l.023.071a.18.18 0 0 1-.03.146l-.087.12a.161.161 0 0 1-.134.064l-.254-.01a.046.046 0 0 1-.031-.013.047.047 0 0 1-.013-.032v-.042a.045.045 0 0 0-.046-.046.046.046 0 0 0-.045.042l-.007.074a.046.046 0 0 1-.045.042h-.024a.042.042 0 0 0-.03.012l-.414.386.06.088v.093a.057.057 0 0 1-.056.056h-.132c-.071 0-.127.06-.123.132l.001.018a.124.124 0 0 0 .119.116l.141.004a.16.16 0 0 0 .135-.068l.101-.144a.158.158 0 0 1 .13-.067h.097c.032 0 .064.01.09.028l.157.11c.03.022.033.068.004.092l-.088.077a.156.156 0 0 1-.104.04h-.55a.158.158 0 0 0-.126.064l-.425.573a.168.168 0 0 0-.032.096v.38c0 .035.011.069.032.097l.148.198c.013.016.02.036.027.055.01.033.036.08.1.08h.686s.172.005.172.12c0 .04-.001.08-.003.116a.162.162 0 0 0 .083.148c.048.028.099.077.099.155v.21a.203.203 0 0 1-.007.049.772.772 0 0 1-.079.178c-.036.054.015.135.052.182a.17.17 0 0 1 .035.102v.21s.016.076.088.109a.583.583 0 0 1 .097.05v.084c0 .09.071.16.16.16h.207s.094.008.155-.087l.28-.437s.04-.043 0-.12c-.04-.076-.021-.145-.021-.145l.19-.11s.09-.016.09-.141v-.136a.115.115 0 0 0-.018-.062l-.033-.057a.162.162 0 0 1 .021-.191l.395-.424s.104-.156.104-.235H9.49a.16.16 0 0 1-.136-.077l-.346-.576a.087.087 0 0 1 .033-.121.084.084 0 0 1 .112.03l.335.552-.001.05c0 .016.012.028.028.028.083 0 .327-.01.463-.13a.596.596 0 0 0 .143-.181.16.16 0 0 0-.038-.19l-.085-.076-.11.025-.197-.199a.063.063 0 0 1 .016-.1.06.06 0 0 1 .065.007l.307.238s.063.056.127.056h.18c.056 0 .108.03.136.078l.402.683s.06.056.094.054c.035-.003.082-.15.082-.15 0-.136.065-.266.176-.344l.138-.098a.158.158 0 0 1 .202.015l.085.083v.09c0 .014.012.027.028.027h.038l.036-.036h.042v.359c0 .04.015.08.043.109l.267.288v-.103a.159.159 0 0 0-.035-.1l-.125-.158a.159.159 0 0 1-.035-.1v-.109c0-.017.021-.026.033-.013l.162.167.004.105c.001.02.025.03.038.015l.229-.25s.066-.083 0-.152a5.405 5.405 0 0 0-.158-.154.05.05 0 0 1-.016-.039.05.05 0 0 1 .019-.038l.044-.037.11.002s-.023.052-.058.112c0 0 .017.096.123-.083.008-.007.036-.003.067.002.04.006.084.014.1-.002.06-.064.309-.407.309-.407s.032-.126-.043-.192c-.076-.066-.043-.147-.043-.147l.094-.082v-.058h-.244s.02-.13.194-.139l.031-.001c.011 0 .021 0 .03-.002a.132.132 0 0 1 .127.083c.006.016.01.034.01.052v.243l.036.004s.068.007.093-.084c0 0 .046-.013.046-.068v-.066l-.066-.08.107-.138a.122.122 0 0 1 .075-.045l.054-.011a.125.125 0 0 0 .08-.053l.247-.373a.165.165 0 0 0 .027-.09v-.102a.05.05 0 0 0-.05-.05h-.144s-.06-.07.022-.12c.057-.035.169-.128.232-.18a.155.155 0 0 1 .101-.038h.29a.16.16 0 0 0 .093-.03l.19-.137a.04.04 0 0 1 .025-.008c.082 0 .125.1.07.162l-.198.214a.158.158 0 0 0-.043.106l-.003.173c0 .032.026.06.059.06h.048l.259-.268a.125.125 0 0 0 .033-.066l.01-.056a.16.16 0 0 1 .155-.134h.114a.154.154 0 0 0 .104-.039l.159-.14a.043.043 0 0 1 .028-.01h.082a.042.042 0 0 0 .043-.044v-.08c0-.013.005-.024.013-.032l.062-.058a.156.156 0 0 1 .181-.024l.104.055a.061.061 0 0 0 .076-.016l.051-.065a.062.062 0 0 0 .012-.052.062.062 0 0 0-.033-.042l-.503-.25a5.427 5.427 0 0 0-.39-.014ZM8.141 7.024l.09-.078-.09.079-.133-.163a.053.053 0 0 1-.01-.019.053.053 0 0 0 .01.018l.133.163Zm.755.493h-.081a.13.13 0 0 1-.032-.004 9.127 9.127 0 0 1-.61-.186.062.062 0 0 1-.035-.045.063.063 0 0 1 .015-.055l.11-.117a.094.094 0 0 1 .13.005l.1.107.087-.016-.024-.064s-.01-.03-.021-.056c-.011-.027.048-.061.048-.061s.06-.006.06.088c0 .093.097.163.097.163h.332c.021 0 .035.023.024.04l-.059.113a.16.16 0 0 1-.141.088Zm.417-.503H9.2l-.083-.065a.057.057 0 0 0-.032-.01h-.108a.067.067 0 0 0-.044.017l-.078.07-.078.012a.053.053 0 0 1-.056-.026.055.055 0 0 1-.006-.02l-.011-.087a.09.09 0 0 1 .021-.069l.128-.145.058-.005-.003.026a.051.051 0 0 0 .05.058h.029a.069.069 0 0 0 .064-.042l.026-.058.12.02.01.087a.077.077 0 0 0 .026.048l.133.112v.025c0 .03-.023.052-.053.052Zm.574.093v.099h-.205l-.018-.099a.05.05 0 0 1 .008-.039l.011-.015a.052.052 0 0 0-.008-.069l-.096-.089v-.163l.14-.06h.072c.028 0 .052.019.06.046l.001.004c.006.02 0 .04-.013.056a.061.061 0 0 0-.015.031l-.013.085.113.105-.08.054.043.054Z\" clip-rule=\"evenodd\"></path><path fill=\"#050505\" d=\"M12.945 7.8c-.006-.015-.01-.022-.017-.021-.007 0-.018.009-.036.025a.11.11 0 0 0-.039.08c0 .02.003.04.012.062.007.018.02.032.028.032.025 0 .066-.14.052-.178ZM12.894 8.108a.116.116 0 0 1 .024.005l.014.004c.018.006.027.009.033.015.005.005.008.014.013.03l.004.014c.008.027.002.053-.018.07-.046.037-.038.057.03.072.047.01.061.024.061.062 0 .046-.003.046-.055.019-.03-.016-.06-.023-.065-.016-.007.007 0 .016.014.021.055.02.086.071.074.12-.014.057.014.066.059.02.048-.049.089.023.078.136-.004.038-.038.055-.09.043a.047.047 0 0 1-.022-.012.04.04 0 0 1-.013-.027c0-.024-.013-.029-.051-.02-.038.01-.05.006-.05-.018a.05.05 0 0 1 .03-.044c.013-.005.02-.009.02-.017 0-.008-.007-.019-.02-.038a.174.174 0 0 1-.03-.08c0-.02-.008-.037-.019-.037-.027 0-.088-.193-.063-.201.004-.002.009-.008.012-.016a.148.148 0 0 0 .009-.053c0-.04.003-.054.021-.052ZM12.8 8.567c.047-.044.072-.116.04-.116-.014 0-.082.079-.11.129-.03.052.009.045.07-.013ZM12.912 8.698a.02.02 0 0 1 .021.02c0 .011-.003.02-.008.02 0 0-.005 0-.007-.003a.064.064 0 0 1-.015-.017c-.007-.011-.003-.02.01-.02ZM13.254 8.913c-.013-.03-.03-.045-.044-.043-.014.001-.025.018-.03.05a.058.058 0 0 1-.01.026c.013.052.052.06.064.063h.004a.255.255 0 0 1 .025-.029.751.751 0 0 0 .014-.015l-.023-.052ZM13.082 8.894c.026-.004.035.015.011.043a.044.044 0 0 0-.008.015l-.057.01a.62.62 0 0 1-.036.005c-.038.006-.077.011-.1.037 0 .004.004.007.01.009.007.002.019.002.032-.001l.006-.003.005-.003.02-.002.064.008-.004.006h-.002l-.005.004-.013.008c-.03.026-.044.054-.034.067.008.012.015.04.015.062-.002.053-.066.067-.079.017-.006-.023-.01-.016-.012.021-.001.044-.011.057-.038.051-.02-.004-.035-.025-.035-.047a.142.142 0 0 0-.016-.065c-.008-.013-.006-.048.006-.078.007-.019.009-.028.01-.036l.002-.006.012-.032.018-.05-.003.001c.028-.026.056-.032.1-.022l.032.004a.15.15 0 0 0 .068-.012c.01-.005.02-.01.031-.011ZM13.36 9.136c0-.027-.034-.042-.092-.042a.445.445 0 0 0-.064.006c-.08.012-.103.027-.08.051.02.02.236.007.236-.015ZM5.866 9.362l-.35-.185a.222.222 0 0 0-.102-.026h-.101a.038.038 0 0 1-.037-.033.22.22 0 0 0-.218-.201h-.032a.217.217 0 0 1-.173-.088l-.048-.065a.216.216 0 0 0-.155-.086l-.262-.023a.028.028 0 0 1-.017-.007l-.043-.03c-.012-.007-.026-.009-.038 0l-.187.106a.216.216 0 0 1-.108.028h-.192a.037.037 0 0 1-.017-.004.146.146 0 0 1-.071-.133v-.112a.038.038 0 0 0-.023-.035.037.037 0 0 0-.014-.003h-.122a.037.037 0 0 1-.032-.019.038.038 0 0 1 0-.038l.057-.1a.044.044 0 0 0 .006-.02V8.2c0-.01-.004-.02-.011-.027a.037.037 0 0 0-.027-.011h-.066a.037.037 0 0 0-.03.017l-.038.06a.217.217 0 0 1-.184.1h-.054s-.086-.015-.086-.108v-.339a.097.097 0 0 1 .045-.067c.032-.02.107-.061.144-.081a.038.038 0 0 1 .043.005l.07.066c.007.007.015.01.024.01h.015c.022 0 .051 0 .057-.003.004-.002.004-.007.003-.014 0-.017 0-.046.045-.06.066-.019.109.04.109.04l.165.199a.037.037 0 0 0 .05.006l.023-.016a.038.038 0 0 0 .012-.05l-.002-.005a.223.223 0 0 1 .048-.28l.137-.118s.016-.01.024-.071c.005-.037.015-.09.021-.128l.021-.036.02-.036.297-.252a.036.036 0 0 1 .055.008c.014.022.038.046.069.045a.767.767 0 0 0 .208-.093.036.036 0 0 0 .019-.033v-.047l-.143.03a.038.038 0 0 1-.044-.031l-.016-.095a.038.038 0 0 0-.036-.03l-.143.015.018-.043a.043.043 0 0 1 .034-.027l.352-.037.056-.023.056-.023.071-.056a.038.038 0 0 0 .004-.055l-.396-.41a.039.039 0 0 0-.043-.008l-.118.057a.04.04 0 0 1-.038-.003L4.1 5.91a.036.036 0 0 0-.05.008l-.051.07a.033.033 0 0 0-.007.02l-.01.174c0 .011.003.02.011.029l.048.05a.038.038 0 0 1-.005.056l-.07.051a.037.037 0 0 1-.034.006l-.16.027a.22.22 0 0 0-.133-.13l-.08-.028a.222.222 0 0 1-.098-.35l.156-.19a.042.042 0 0 0 .007-.038l-.044-.115-.008-.012-.176-.19a.122.122 0 0 0-.21.065l-.001.01a.123.123 0 0 1-.12.104H2.54l-.05-.01a2.652 2.652 0 0 1-.04-.009l-.358-.162a2.003 2.003 0 0 0-.075-.018l-.33-.022a2.158 2.158 0 0 1-.092.015l-.148.058a.217.217 0 0 1-.124.01L.591 5.23a.212.212 0 0 0-.132.013l-.346.15a.038.038 0 0 0-.009.063l.09.077c.026.021.011.065-.022.066l-.136.003c-.02 0-.036.017-.036.037v.02c0 .02.016.036.036.037l.117.001c.04.002.051.056.015.072l-.101.046a.037.037 0 0 0-.022.037l.01.103a.22.22 0 0 0 .184.198l.072.012c.034.006.042.051.013.069l-.023.013c-.024.015-.024.05 0 .064l.012.006a.04.04 0 0 0 .035.003l.618-.282a.215.215 0 0 1 .237.04l.588.543a.22.22 0 0 1 .071.152l.02.415a.222.222 0 0 0 .048.128l.579.728c.01.014.03.018.045.01a.038.038 0 0 0 .014-.055s.365.383.4.399l.296.148a.22.22 0 0 0 .097.023h.147c.015 0 .028.008.033.021l.05.108V8.7l.001.001.002.003c.015.025.088.143.165.148.087.005.243 0 .243 0s.056-.001.056.06v.095a.036.036 0 0 1-.019.032c-.048.027-.172.107-.172.197v.212c0 .01.003.017.008.024.016.019.05.06.08.084.027.022.072.073.098.103l.013.014a.038.038 0 0 1 .008.024v.122a.04.04 0 0 1 .001.006l.001.007c.007.016.024.057.055.072.019.009.065.047.108.085a.222.222 0 0 1 .076.186l-.027.345-.003.02a.43.43 0 0 1-.003.02l-.119.45a1.75 1.75 0 0 0-.007.08l.012.185a.233.233 0 0 1-.01.095l-.044.126a.235.235 0 0 0-.007.125l.056.233a.123.123 0 0 0 .044.07l.057.045c.022.018.054.042.076.026.077-.054.12-.218.155-.353.015-.06.03-.115.044-.15.01-.023.067-.105.134-.202.11-.156.245-.35.244-.389l-.003-.09c0-.022.016-.038.037-.038h.114c.01 0 .02-.004.026-.012l.266-.294a.036.036 0 0 0 .01-.026v-.12c0-.021.017-.037.038-.037.045.002.12.002.145-.02.027-.021.097-.103.138-.15l.021-.024a.039.039 0 0 0 .01-.025v-.19c0-.055.02-.108.057-.15l.133-.148a.137.137 0 0 0-.043-.215ZM14.916 10.7l-.008.001c-.006.005.005.036.024.067.031.051.033.062.016.086-.017.025-.016.03.004.044.036.023.028.034-.022.03-.038-.004-.049.002-.07.039a.27.27 0 0 1-.078.074c-.071.044-.108.109-.06.109.013 0 .017.01.012.026-.01.032-.006.032.065-.002.041-.02.06-.038.066-.065a.065.065 0 0 1 .041-.048c.018-.006.032-.015.03-.019-.007-.018.033-.082.048-.077.02.006.08-.06.07-.076-.005-.006.001-.011.012-.011.022 0 .043-.048.03-.067-.004-.006-.023-.007-.043-.003-.024.005-.035.002-.035-.01 0-.02-.075-.089-.102-.097ZM12.885 9.274l-.486-.057a.119.119 0 0 1-.035-.01l-.118-.048a.144.144 0 0 1-.048-.032l-.39-.414a.05.05 0 0 0-.042-.015.047.047 0 0 0-.028.078l.41.466a.15.15 0 0 0 .063.04l.232.07a.128.128 0 0 0 .04.005h.397l.005-.083ZM13.85 9.535l-.02.057a.255.255 0 0 1-.27.17.05.05 0 0 1-.038-.027.05.05 0 0 1 .001-.047l.1-.186-.26.01a.254.254 0 0 0-.1.023l-.098.046a.249.249 0 0 0-.07.049l-.18.178a.24.24 0 0 1-.075.051l-.123.055a.259.259 0 0 0-.152.236v.02c0 .034.007.068.02.1l.096.228c.003.005.004.01.005.015a.11.11 0 0 0 .143.077l.245-.088a.248.248 0 0 1 .108-.013l.294.027c.08.006.15.05.193.12l.02.03a.254.254 0 0 0 .218.122h.118a.255.255 0 0 0 .182-.076l.13-.132a.26.26 0 0 0 .075-.183v-.173a.26.26 0 0 0-.082-.19l-.268-.248a.24.24 0 0 1-.06-.082l-.08-.175c-.017-.027-.06-.026-.071.006ZM13.322 9.25c.017.001.029.014.028.037 0 .015-.029.043-.064.063a.332.332 0 0 1-.068.032c-.016.004-.019-.005-.019-.027 0-.017.006-.031.014-.031.007 0 .03-.02.051-.043.02-.022.041-.032.058-.03ZM13.079 9.272c.16 0 .149.04-.013.048-.095.004-.12 0-.115-.021.005-.018.045-.027.128-.027ZM6.117 5.52h.09l.067.046.182-.047.033.081v.115l-.175.021a.133.133 0 0 1-.1-.028l-.153-.121.056-.067ZM8.12 4.551h-.23l-.056.04.197.25h.09l.082-.152.202.103.032-.048-.24-.169a.132.132 0 0 0-.076-.024ZM8.611 4.372h-.298l-.028.046.086.064a.13.13 0 0 0 .08.027h.16l.076-.08-.076-.057ZM3.042 4.379l-.197.074-.19.048.273.13.216-.07.072-.013-.057-.109-.117-.06ZM3.415 4.78h-.086v.043l.046.017.01.044.071.01.048.055.424-.014.024-.05-.037-.056h-.456l-.044-.049ZM3.03 4.884l-.033-.096.033-.018.127.01.03.029-.07.082-.087-.007ZM3.216 4.725l.016-.054.035-.024.034.013.058.025v.024h-.03l-.046.038-.067-.022Z\"></path><path fill=\"#050505\" d=\"m3.844 8.095-.083.037c-.01.005-.01.021 0 .024l.088.037.103-.017.167.115h.119s.081-.01.081-.032-.081-.033-.081-.033l-.172-.13h-.222ZM4.4 8.272s-.074.045-.065.066c.016.038.16 0 .16 0s.052-.048.043-.066c-.018-.031-.138 0-.138 0ZM14.162 10.93h-.28l.074.164h.066l.14-.165Z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6ZM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5Z\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1Zm0 3V1H5v2h6Zm1.895 1h-9.79l.8 11h8.19l.8-11Z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-header.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-header.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9 5\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.128 4.587.751.834A.5.5 0 0 1 1.123 0h6.754a.5.5 0 0 1 .372.834L4.872 4.587a.5.5 0 0 1-.744 0Z\"></path></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/more-16.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/more-16.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"none\" fill-rule=\"nonzero\"><path fill=\"#000\" d=\"M13 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm-6.5 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM0 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z\"></path><path d=\"M0 0h16v16H0z\"></path></g></svg>"

/***/ }),

/***/ "./jimu-ui/lib/icons/widgets.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/widgets.svg ***!
  \***************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M20.889 1.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556h-6.222a3.556 3.556 0 0 1-3.556-3.556V4.889a3.556 3.556 0 0 1 3.556-3.556zM20 4v8h8V4h-8zM4.889 17.333h6.222a3.556 3.556 0 0 1 3.556 3.556v6.222a3.556 3.556 0 0 1-3.556 3.556H4.889a3.556 3.556 0 0 1-3.556-3.556v-6.222a3.556 3.556 0 0 1 3.556-3.556zM4 20v8h8v-8H4zm20 8a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm0 2.667a6.667 6.667 0 1 1 0-13.334 6.667 6.667 0 0 1 0 13.334zM4.981 12h6.037L7.999 5.963 4.98 12zm4.212-9.615 5.176 10.352a1.334 1.334 0 0 1-1.192 1.93H2.825a1.333 1.333 0 0 1-1.192-1.929L6.809 2.386a1.332 1.332 0 0 1 2.385 0z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/basemap.svg":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/basemap.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M.1 6.9h6.8V.1H.1v6.8Zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 0 0 1.609.805V6.1Zm0-1.128a3.758 3.758 0 0 1-1.006-.523c.31-.203.65-.358 1.006-.459v.982ZM6.1.9v2.266a4.229 4.229 0 0 0-1.613.73 6.038 6.038 0 0 1-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 0 1 2.99.9H6.1ZM.9.9h1.266a8.7 8.7 0 0 0 .359 1.249A1.93 1.93 0 0 1 .9 3.188V.9Zm0 3.09a2.828 2.828 0 0 0 2.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 0 0 3.17 6.1H.9V3.99ZM9.1.1v6.8h6.8V.1H9.1Zm.8.8h4.063a.373.373 0 0 1-.045.2.594.594 0 0 1-.438.176 1.637 1.637 0 0 0-1.175.49.91.91 0 0 0-.203.708c-.001.007-.114.736-.607.742a.74.74 0 0 0-.719.384.828.828 0 0 0-.026.6H9.9V.9Zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 0 1-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 0 1 .028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 0 0 .16-.625h.344v5.2Zm-15 9.8h6.8V9.1H.1v6.8Zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089V9.9Zm0 4.01 4 .112v-1.355l1.2-1.182V15.1H.9v-1.19Zm8.2 1.99h6.8V9.1H9.1v6.8Zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605V15.1Zm0-5.2v2.628L12.49 9.9h2.61Zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9V9.9Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/close-12.svg":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/close-12.svg ***!
  \**************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14 14\"><g fill=\"none\" fill-rule=\"nonzero\"><path fill=\"#000\" d=\"m7.745 7 4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746L7.746 7Z\"></path><path d=\"M1 1h12v12H1z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exchange.svg":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exchange.svg ***!
  \**************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 39 32\"><path d=\"M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665h31.29zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exit-full-screen.svg":
/*!**********************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exit-full-screen.svg ***!
  \**********************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M5 11v5H4v-4.001L0 12v-1h5Zm11 0v1l-4-.001V16h-1v-5h5ZM5 0v5H0V4l4 .001V0h1Zm7 0v4.001L16 4v1h-5V0h1Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/full-screen.svg":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/full-screen.svg ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M1 11v4.001L5 15v1H0v-5h1Zm15 0v5h-5v-1l4 .001V11h1ZM5 0v1L1 .999V5H0V0h5Zm11 0v5h-1V.999L11 1V0h5Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/layerlist.svg":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/layerlist.svg ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"m14.376 10.573 1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353 1.02-.574Zm-.999-2.414.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915-1.02.574ZM8.023 1.023l-8 4.5 8 4.5 8-4.5-8-4.5Zm-5.96 4.5 5.96-3.352 5.96 3.352-5.96 3.353-5.96-3.353Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-area.svg":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-area.svg ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 16\"><g fill=\"#000\" fill-rule=\"nonzero\"><path d=\"M4 8h1v3H4V8ZM2 9h1v2H2V9Zm6-1h1v3H8V8Zm4 0h1v3h-1V8Z\"></path><path d=\"M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1h2Zm-3-9h1v1h-1V3Zm-8-.92L11 4v1h1v1H3V3h1v-.92ZM2 1h1v1H2V1Zm1 14H2v-1h1v1Zm8-1H4v-1H3v-1h9v1h-1v1Zm2 1h-1v-1h1v1ZM1 11V7h13v4H1Z\"></path><path d=\"M6 9h1v2H6V9Zm4 0h1v2h-1V9Z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-distance.svg":
/*!**********************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-distance.svg ***!
  \**********************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15 10\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M0 10h15V4H0v6Zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1V5Zm11-5v1H3V0H0v3h3V2h9v1h3V0h-3ZM2 2H1V1h1v1Zm12 0h-1V1h1v1Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure.svg":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure.svg ***!
  \*************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M0 9v6h16V9H0Zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14v2Zm.18-7.5-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7 2.85 2.89ZM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7L2.68 4Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/search.svg":
/*!************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/search.svg ***!
  \************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"nonzero\" d=\"M7 1a6 6 0 1 0 0 12A6 6 0 0 0 7 1Zm0 13a7 7 0 1 1 5.621-2.828l-.222.284 3.405 3.404a.668.668 0 0 1-.944.944L11.456 12.4A6.974 6.974 0 0 1 7 14Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-circle.svg":
/*!*******************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-circle.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814Z\"></path><path d=\"M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 0 1-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0Z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-clear.svg":
/*!******************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-clear.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"M16 0v16H0V0h16ZM7.077 1H1v14h10.561L7.078 7.616 7.077 1ZM15 6.391 9.56 9.779 12.73 15H15V6.391ZM15 1H8.077v6.335l.965 1.589L15 5.213V1Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-lasso.svg":
/*!******************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-lasso.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 17 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.75 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.75 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814Z\"></path><path d=\"M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0Z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-line.svg":
/*!*****************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-line.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g fill=\"#363636\" fill-rule=\"nonzero\"><path d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z\"></path></g></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-point.svg":
/*!******************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-point.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-rectangle.svg":
/*!**********************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-rectangle.svg ***!
  \**********************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"m.25 3 8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3Zm.996 1.726-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814ZM16 0v11H8.5v-1H15V1H6v2.5H5V0h11Z\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-zoomto.svg":
/*!*******************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-zoomto.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"#363636\" fill-rule=\"nonzero\" d=\"M7.682 6.318a4.5 4.5 0 0 1 .335 5.99l2.847 2.849-.707.707-2.848-2.848a4.5 4.5 0 1 1 .373-6.698Zm-5.657.707a3.5 3.5 0 1 0 4.95 4.95 3.5 3.5 0 0 0-4.95-4.95ZM16 0v11H9.5v-1h3.099L10 5.153V1H6v2.5H5V0h11Zm-1 5.954L12.637 7.83 13.801 10H15V5.954ZM15 1h-3.981v3.813l1.055 1.967L15 4.457V1Z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/filled/data/placeholder-map.tsx":
/*!****************************************************!*\
  !*** ./jimu-icons/filled/data/placeholder-map.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PlaceholderMapFilled": () => (/* binding */ PlaceholderMapFilled)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/filled/data/placeholder-map.svg */ "./jimu-icons/svg/filled/data/placeholder-map.svg");
/* harmony import */ var _svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const PlaceholderMapFilled = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_filled_data_placeholder_map_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/config.ts":
/*!**************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/config.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SceneQualityMode": () => (/* binding */ SceneQualityMode)
/* harmony export */ });
var SceneQualityMode;
(function (SceneQualityMode) {
    SceneQualityMode["auto"] = "auto";
    SceneQualityMode["low"] = "low";
    SceneQualityMode["medium"] = "medium";
    SceneQualityMode["high"] = "high";
})(SceneQualityMode || (SceneQualityMode = {}));


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/default-map.tsx":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/components/default-map.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ DefaultMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class DefaultMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {
            defaultMapInfo: null
        };
    }
    componentDidMount() {
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.portalUtils.getDefaultWebMap(this.props.baseWidgetProps.portalUrl).then(defaultMapInfo => {
            this.setState({
                defaultMapInfo: defaultMapInfo
            });
        });
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100' },
            !this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'widget-map w-100 h-100 widget-map-background' },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            this.state.defaultMapInfo && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_1__.checkIsLive)(this.props.baseWidgetProps.appMode) }) }, this.props.isMapInVisibleArea && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap__WEBPACK_IMPORTED_MODULE_2__["default"], { key: 0, fullScreenMap: this.props.fullScreenMap, baseWidgetProps: this.props.baseWidgetProps, startLoadModules: this.props.startLoadModules, isDefaultMap: true, ref: this.props.setMultiSourceMapInstance, onViewGroupCreate: this.props.onViewGroupCreate, widgetHeight: this.props.widgetHeight, widthBreakpoint: this.props.widthBreakpoint, isFullScreen: this.props.isFullScreen, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.state.defaultMapInfo, autoControlWidgetId: this.props.autoControlWidgetId }))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/map-thumb.tsx":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/components/map-thumb.tsx ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapThumb)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-icons/filled/data/placeholder-map */ "./jimu-icons/filled/data/placeholder-map.tsx");



class MapThumb extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.unmount = false;
        this.setMapThumbUrl = (mapId) => {
            var _a;
            if (!mapId) {
                this.setState({ mapThumbUrl: null });
            }
            // if no portalUrl or same to config portalurl, use app config's portalUrl
            const portalUrl = ((_a = this.props) === null || _a === void 0 ? void 0 : _a.portUrl) || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl) || null;
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restPortal.searchItems({
                q: `id:${mapId}`,
                authentication: session,
                portal: portalUrl + '/sharing/rest'
            }).then(items => {
                var _a;
                if (!this.unmount) {
                    if ((_a = items.results[0]) === null || _a === void 0 ? void 0 : _a.thumbnail) {
                        const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl);
                        let tempThumbUrl = null;
                        if (session && session.token) {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}?token=${session.token}`;
                        }
                        else {
                            tempThumbUrl = `${portalUrl}/sharing/rest/content/items/${items.results[0].id}/` +
                                `info/${items.results[0].thumbnail}`;
                        }
                        this.setState({ mapThumbUrl: tempThumbUrl });
                    }
                    else {
                        this.setState({ mapThumbUrl: null });
                    }
                }
            });
        };
        this.state = {
            mapThumbUrl: null
        };
    }
    componentDidMount() {
        this.unmount = false;
        this.setMapThumbUrl(this.props.mapItemId);
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevProps.mapItemId !== this.props.mapItemId) {
            this.setMapThumbUrl(this.props.mapItemId);
        }
    }
    componentWillUnmount() {
        this.unmount = true;
    }
    render() {
        if (this.state.mapThumbUrl) {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.ImageWithParam, { imageParam: { url: this.state.mapThumbUrl } });
        }
        else {
            const palette = this.props.theme.colors.palette;
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { backgroundColor: palette.light[200], height: '100%' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_icons_filled_data_placeholder_map__WEBPACK_IMPORTED_MODULE_2__.PlaceholderMapFilled, { color: palette.light[600], size: '100%' })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/mapbase.tsx":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/components/mapbase.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapLoadStatus": () => (/* binding */ MapLoadStatus),
/* harmony export */   "default": () => (/* binding */ MapBase)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./your-extensions/widgets/arcgis-map-112/src/config.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */






const Exchange = __webpack_require__(/*! ../assets/icons/exchange.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exchange.svg");
const DEFAULT_HIGHLIGHT_COLOR = '#00FFFF';
const DEFAULT_HIGHLIGHT_HALO_COLOR = '#00FFFF';
var MapLoadStatus;
(function (MapLoadStatus) {
    MapLoadStatus["Loading"] = "LOADING";
    MapLoadStatus["Loadok"] = "LOADOK";
    MapLoadStatus["LoadError"] = "LOADERROR";
})(MapLoadStatus || (MapLoadStatus = {}));
class MapBase extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.isFirstReceiveMessage = true;
        this.__unmount = false;
        this.getInitViewPointForDefaultWebMap = () => {
            const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
            let tempViewPoint = null;
            if (this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.viewPoint) {
                tempViewPoint = this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            else {
                tempViewPoint = new this.Viewpoint({
                    targetGeometry: new this.Extent({
                        xmin: defaultExtent && defaultExtent.xmin,
                        ymin: defaultExtent && defaultExtent.ymin,
                        xmax: defaultExtent && defaultExtent.xmax,
                        ymax: defaultExtent && defaultExtent.ymax,
                        spatialReference: { wkid: defaultExtent.spatialReference.wkid }
                    })
                });
            }
            return tempViewPoint;
        };
        /**
         * onDataSourceCreated and onCreateDataSourceFailed will not invoked when this.props.isWebMap is true
         * @param dataSource
         */
        this.onDataSourceCreated = (dataSource) => {
            if (dataSource.id === this.props.dataSourceId) {
                this.mapDs = dataSource;
                if (this.isReadyToCreateJimuMapView()) {
                    this.createJimuMapView();
                }
            }
        };
        this.onCreateDataSourceFailed = (err) => {
            console.warn('onCreateDataSourceFailed', err);
            this.mapDs = null;
            this.setState({
                mapLoadStatus: MapLoadStatus.LoadError
            }, () => {
                this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.LoadError);
            });
        };
        // This method is used to sync viewpoint between two mapbase of same map widget.
        this.setViewPoint = (viewPoint) => {
            if (this.view && viewPoint) {
                this.view.viewpoint = viewPoint.clone();
            }
        };
        // This method is used to sync viewpoint between two mapbase of same map widget.
        this.getViewPoint = () => {
            return this.view && this.view.viewpoint ? this.view.viewpoint.clone() : null;
        };
        this.getMapLoadStatus = () => {
            return this.state.mapLoadStatus;
        };
        this.getViewType = () => {
            return this.getDsJsonFromDsId(this.props.dataSourceId).type;
        };
        this.queryExtentFromSingleLayerQueryParams = (dataSourceId) => {
            const dataSource = this.dsManager.getDataSource(dataSourceId);
            const queryParams = dataSource.getCurrentQueryParams();
            let layerObjectPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerObjectPromise = Promise.resolve(dataSource.layer);
            }
            else {
                layerObjectPromise = dataSource.createJSAPILayerByDataSource().then((layerObject) => Promise.resolve(layerObject));
            }
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query',
                'esri/Graphic',
                'esri/geometry/Point'
            ]).then(modules => {
                const [Query, Graphic, Point] = modules;
                const query = new Query();
                query.where = queryParams === null || queryParams === void 0 ? void 0 : queryParams.where;
                return layerObjectPromise.then(layerObject => {
                    return layerObject.queryExtent(query).then(result => {
                        var _a;
                        const extentCenter = (_a = result === null || result === void 0 ? void 0 : result.extent) === null || _a === void 0 ? void 0 : _a.center;
                        const extent = result === null || result === void 0 ? void 0 : result.extent;
                        let singlePointGraphic;
                        if ((result === null || result === void 0 ? void 0 : result.count) === 1 && (layerObject.geometryType === 'point') && extentCenter) {
                            const point = new Point({
                                x: extentCenter.x,
                                y: extentCenter.y,
                                spatialReference: extent.spatialReference
                            });
                            singlePointGraphic = new Graphic({ geometry: point });
                        }
                        return {
                            extent: extent,
                            singlePointGraphic: singlePointGraphic,
                            count: result === null || result === void 0 ? void 0 : result.count,
                            layer: layerObject
                        };
                    });
                });
            });
        };
        this.queryExtentFromQueryParams = (mapBaseView, dataSourceIds, useDataSources) => {
            //const dataSource = this.dsManager.getDataSource(dataSourceId) as FeatureLayerDataSource
            //const queryParams: SqlQueryParams = dataSource.getCurrentQueryParams()
            const useDefaultExtentOfCurrentView = !useDataSources.some(useDataSource => {
                const dataSource = this.dsManager.getDataSource(useDataSource.dataSourceId);
                const queryParams = dataSource.getRuntimeQueryParams();
                // use default extent if all merged SQLs on data source is remvoved.
                const hasQueryWhere = (queryParams === null || queryParams === void 0 ? void 0 : queryParams.where) && queryParams.where !== '1=1';
                if (hasQueryWhere) {
                    return true;
                }
                else {
                    return false;
                }
            });
            if (useDefaultExtentOfCurrentView) {
                const initViewPoint = this.getMapBaseInitViewPoint();
                return Promise.resolve({
                    viewpoint: initViewPoint,
                    useDefaultExtentOfCurrentView: true,
                    singlePointGraphic: null,
                    count: 2,
                    layer: null
                });
            }
            const extentResultPromises = [];
            dataSourceIds.forEach(dataSourceId => {
                extentResultPromises.push(this.queryExtentFromSingleLayerQueryParams(dataSourceId));
            });
            return Promise.all(extentResultPromises).then(results => {
                let fullExtent = null;
                let count = 0;
                if ((results === null || results === void 0 ? void 0 : results.length) === 1) {
                    return results[0];
                }
                else {
                    results.forEach(result => {
                        if (result.extent) {
                            fullExtent = fullExtent ? fullExtent.union(result.extent) : result.extent;
                        }
                        count = count + result.count;
                    });
                    return {
                        extent: fullExtent,
                        singlePointGraphic: null,
                        count: count,
                        layer: null
                    };
                }
            });
        };
        this.restored = false;
        this.updateExpectedDataSourceInfo();
        const restoreData = this.getRestoreDataFromMS();
        if (restoreData && restoreData.expectedDataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.restoreMapBase)(this, restoreData);
            this.updateRestoreDataToMS(null);
            this.bindMapBaseViewEvent(this.view);
            if (this.view) {
                this.view.isInCaching = false;
                this.view.mapbase = this;
                this.restored = true;
                this.tryFatalErrorRecovery(this.view);
            }
        }
        else {
            this.state = {
                dataSourceId: null,
                isBasicModulesLoaded: false,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
    }
    static getDerivedStateFromProps(nextProps, prevState) {
        if (nextProps.dataSourceId !== prevState.dataSourceId) {
            return {
                dataSourceId: nextProps.dataSourceId,
                mapLoadStatus: MapLoadStatus.Loading
            };
        }
        else {
            return null;
        }
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .hide-tools-panel .map-tool-layout{
        display: none;
      }

      .esri-view .esri-view-surface:focus::after {
        display: none;
      }
    `;
    }
    render() {
        let useDataSource = null;
        if (this.props.baseWidgetProps.useDataSources) {
            useDataSource = this.props.baseWidgetProps.useDataSources.find((item) => item.dataSourceId === this.props.dataSourceId);
        }
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 map-base', style: { position: 'relative' }, css: this.getStyle(), ref: ref => { this.widgetContainer = ref; } },
            (this.state.mapLoadStatus === MapLoadStatus.Loading) &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 widget-map-background' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' })),
            (this.state.mapLoadStatus === MapLoadStatus.LoadError) &&
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 widget-map-background' },
                    this.getMapSwitchForErrorMap(),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex justify-content-center align-items-center' }, this.formatMessage('mapFailure'))),
            !this.props.isDefaultMap && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', display: 'none' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { useDataSource: useDataSource, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed }))));
    }
    componentDidMount() {
        this.__unmount = false;
        if (this.widgetContainer.getElementsByClassName('widget-map').length === 0) {
            if (!this.mapContainer) {
                this.mapContainer = document && document.createElement('div');
                this.mapContainer.className = 'w-100 h-100 widget-map mapview-container';
            }
            this.widgetContainer.appendChild(this.mapContainer);
        }
        if (this.props.startLoadModules) {
            this.loadCommonModules();
        }
        if (this.restored) {
            const jimuMapView = this.getJimuMapViewFoView(this.view);
            if (jimuMapView && !jimuMapView.isCached()) {
                jimuMapView.onRestore();
            }
        }
    }
    componentDidUpdate(prevProps) {
        // update the this.expectedDataSourceInfo by the current props
        this.updateExpectedDataSourceInfo();
        if (!this.state.isBasicModulesLoaded) {
            return;
        }
        // TODO: should we check isMapInVisibleArea before this.checkAndHandleIfDataSourceIdPropChange() ?
        // props.isMapInVisibleArea changed
        if (this.view && prevProps.isMapInVisibleArea !== this.props.isMapInVisibleArea && (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length === 2)) {
            if (this.props.isMapInVisibleArea) {
                this.view.isInCaching = false;
                this.tryFatalErrorRecovery(this.view);
            }
            else {
                this.view.isInCaching = true;
            }
        }
        // the following code is mainly used to check and handle if dataSourceId prop change
        let needCreateNewView = false;
        if (this.view) {
            // this.view created, now need to check if this.view match this.props.dataSourceId or not
            if (this.isViewExpected(this.view)) {
                // data source match this.props.dataSourceId, do nothing
                needCreateNewView = false;
                // this.view is the expected view
                // We call this.tryUpdateCurrentViewByConfigProps() to consume this.props.baseWidgetProps.config change
                this.tryUpdateCurrentViewByConfigProps();
                // We call this.checkAndHandleMutableStateProps() to consume this.props.baseWidgetProps.mutableStateProps change
                this.checkAndHandleMutableStateProps();
                return;
            }
            else {
                // data source changed, we need to destroy this.view
                needCreateNewView = true;
            }
        }
        else {
            // this.view not created, we need to check if we are creating the expected view
            if (this.isCreatingExpectedView()) {
                // We are creating the expected view, do nothing
                needCreateNewView = false;
                return;
            }
            else {
                // need to create new view
                needCreateNewView = true;
            }
        }
        if (needCreateNewView) {
            this.destroyCurrentMapbaseView();
            this.cacheLoadModulesAndCreateMapbaseView(this.expectedDataSourceInfo);
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        if (this.view) {
            this.view.mapbase = null;
        }
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources &&
            this.state.mapLoadStatus !== MapLoadStatus.Loading) {
            // JS API limits only 16 canvas with WebGL context on a html page. Caching the map widget (unmount the canvas from the html tree but don't destroy the view) is a workround.
            // We scroll the page and the map widget is not in the visible area, we need to cache it so we can restore it quickly.
            // We don't destroy the map view here, just cache it to mutable store.
            const restoreData = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getMapBaseRestoreData)(this);
            if (this.view) {
                this.view.isInCaching = true;
            }
            this.updateRestoreDataToMS(restoreData);
            if (this.view) {
                const jimuMapView = this.getJimuMapViewFoView(this.view);
                if (jimuMapView) {
                    jimuMapView.onCache();
                }
            }
        }
        else {
            // Destroy the map view
            this.destroyCurrentMapbaseView();
            this.mapCreatingInfo = null;
            if (this.view && !this.view.destroyed) {
                this.view.container = null;
                this.view = null;
            }
            this.mapDs = null;
        }
    }
    createDataSourceInfo(dataSourceId) {
        let result = null;
        const dataSourceJson = this.getDsJsonFromDsId(dataSourceId);
        if (dataSourceJson && dataSourceJson.id) {
            // data source case2 or data source case3
            const type = dataSourceJson.type || '';
            const itemId = dataSourceJson.itemId || '';
            const dataSourceId = dataSourceJson.id;
            const jimuMapViewId = this.getJimuMapViewId(dataSourceId);
            if (type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.DataSourceTypes.WebScene) {
                // user select a web scene
                result = {
                    isDefaultMap: false,
                    isWebMap: false,
                    uniqueId: `webscene-${dataSourceId}-${itemId}`,
                    dataSourceId,
                    jimuMapViewId,
                    dataSourceJson
                };
            }
            else {
                // user select a web map
                result = {
                    isDefaultMap: false,
                    isWebMap: true,
                    uniqueId: `webmap-${dataSourceId}-${itemId}`,
                    dataSourceId,
                    jimuMapViewId,
                    dataSourceJson
                };
            }
        }
        else {
            // data source case1: use default web map
            const dataSourceId = '';
            // TODO: could we use this.getJimuMapViewId('defaultmap') here ?
            const jimuMapViewId = this.getJimuMapViewId(dataSourceId);
            result = {
                isDefaultMap: true,
                isWebMap: true,
                uniqueId: 'webmap-default',
                dataSourceId,
                jimuMapViewId,
                dataSourceJson
            };
        }
        return result;
    }
    getJimuMapViewId(dataSourceId) {
        return (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getJimuMapViewId)(this.props.baseWidgetProps.id, dataSourceId);
    }
    getDsJsonFromDsId(dataSourceId) {
        let result = null;
        if (dataSourceId) {
            result = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources[dataSourceId];
        }
        if (!result) {
            result = {};
        }
        return result;
    }
    getCurrentDataSourceJson() {
        // when select a web map or web scene in builder, this.props.dataSourceId is not null, the result is like this
        // {
        //   id: "dataSource_5",
        //   type: "WEB_MAP",
        //   sourceLabel: "China Version 1_2",
        //   itemId: "a2c5449c4c624447bf45d48478b25838",
        //   portalUrl: "https://esridevbeijing.maps.arcgis.com",
        // }
        // when use the default web map in builder, this.props.dataSourceId is null, the result is empty object {}
        return this.getDsJsonFromDsId(this.props.dataSourceId);
    }
    updateExpectedDataSourceInfo() {
        this.expectedDataSourceInfo = this.createDataSourceInfo(this.props.dataSourceId);
    }
    isCurrentViewExpected() {
        return this.isViewExpected(this.view);
    }
    isViewExpected(view) {
        return view && view.dataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId;
    }
    isCreatingExpectedView() {
        return this.mapCreatingInfo && this.isDataSourceInfoExpected(this.mapCreatingInfo.dataSourceInfo);
    }
    isDataSourceInfoExpected(dataSourceInfo) {
        return dataSourceInfo && dataSourceInfo.uniqueId === this.expectedDataSourceInfo.uniqueId;
    }
    /**
     * Consume this.props.baseWidgetProps.config change
     */
    tryUpdateCurrentViewByConfigProps() {
        if (!this.view) {
            return;
        }
        const config = this.props.baseWidgetProps.config;
        const preConfig = this.lastUpdateViewConfig;
        this.lastUpdateViewConfig = config;
        // update popup options
        const popupEnabled = !config.disablePopUp;
        if (this.view.popupEnabled !== popupEnabled) {
            // popupEnabled changed
            this.view.popupEnabled = popupEnabled;
            if (!popupEnabled) {
                this.view.closePopup();
            }
        }
        if ((config.selectionHighlightColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightColor)) || (config.selectionHighlightHaloColor !== (preConfig === null || preConfig === void 0 ? void 0 : preConfig.selectionHighlightHaloColor))) {
            // highlight info changes
            const highlightColor = config.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = config.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
            const highlightOptions = Object.assign(Object.assign({}, this.view.highlightOptions), { color: new this.Color(highlightColor), haloColor: new this.Color(highlightHaloColor) });
            this.view.highlightOptions = highlightOptions;
        }
        const enableScroll = !config.disableScroll;
        if (this.view.navigation.mouseWheelZoomEnabled !== enableScroll) {
            this.view.navigation.mouseWheelZoomEnabled = enableScroll;
        }
        if (this.view.navigation.browserTouchPanEnabled !== enableScroll) {
            this.view.navigation.browserTouchPanEnabled = enableScroll;
        }
        if (this.view.ui) {
            this.view.ui.components = [];
        }
        const sceneQualityMode = config.sceneQualityMode;
        if (this.isSceneView(this.view)) {
            const sceneView = this.view;
            if (sceneQualityMode && sceneQualityMode !== sceneView.qualityProfile) {
                sceneView.qualityProfile = sceneQualityMode;
            }
        }
    }
    /**
     * Consume this.props.baseWidgetProps.mutableStateProps change
     */
    checkAndHandleMutableStateProps() {
        if (this.view && this.props.baseWidgetProps.mutableStateProps) {
            const jimuMapViewId = this.view.dataSourceInfo.jimuMapViewId;
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            if (jimuMapView) {
                jimuMapView.whenJimuMapViewLoaded().then(() => {
                    setTimeout(() => {
                        // We don't need to check this.view if null or destroyed here, we do it in this.handleAction()
                        this.handleAction(this.props.baseWidgetProps.mutableStateProps, this.view, jimuMapView);
                        this.isFirstReceiveMessage = false;
                    }, this.isFirstReceiveMessage ? 500 : 0);
                });
            }
        }
    }
    isMapView(view) {
        return view && view.declaredClass === 'esri.views.MapView';
    }
    isSceneView(view) {
        return view && view.declaredClass === 'esri.views.SceneView';
    }
    diffProps(prevProps) {
        const addedKeys = [];
        const removeKeys = [];
        const updatedKeys = [];
        const currKeys = Object.keys(this.props);
        const prevKeys = Object.keys(prevProps);
        const prevKeysMap = {};
        prevKeys.forEach(key => {
            prevKeysMap[key] = true;
        });
        const currKeysMap = {};
        currKeys.forEach(key => {
            currKeysMap[key] = true;
        });
        currKeys.forEach(currKey => {
            if (prevKeysMap[currKey]) {
                if (prevProps[currKey] !== this.props[currKey]) {
                    updatedKeys.push(currKey);
                }
            }
            else {
                addedKeys.push(currKey);
            }
        });
        prevKeys.forEach(prevKey => {
            if (!currKeysMap[prevKey]) {
                removeKeys.push(prevKey);
            }
        });
        return {
            addedKeys,
            removeKeys,
            updatedKeys
        };
    }
    loadCommonModules() {
        return __awaiter(this, void 0, void 0, function* () {
            const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/geometry/Extent',
                'esri/Viewpoint',
                'esri/portal/Portal',
                'esri/portal/PortalItem',
                'esri/Color'
            ]);
            [
                this.Extent, this.Viewpoint, this.Portal, this.PortalItem, this.Color
            ] = modules;
            if (this.__unmount) {
                return;
            }
            this.setState({
                isBasicModulesLoaded: true
            });
        });
    }
    cacheLoadModulesAndCreateMapbaseView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.__unmount || this.isCurrentViewExpected() || this.isCreatingExpectedView()) {
                return;
            }
            this.setState({
                mapLoadStatus: MapLoadStatus.Loading
            });
            const mapCreatingInfo = {
                dataSourceInfo
            };
            this.mapCreatingInfo = mapCreatingInfo;
            if (dataSourceInfo.isWebMap) {
                // load modules to create MapView
                if (!this.MapView) {
                    const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                        'esri/geometry/Geometry',
                        'esri/webmap/InitialViewProperties',
                        'esri/Basemap',
                        'esri/layers/TileLayer',
                        'esri/views/MapView',
                        'esri/WebMap'
                    ]);
                    [
                        this.Geometry, this.InitialViewProperties, this.Basemap, this.TileLayer, this.MapView, this.WebMap
                    ] = modules;
                }
            }
            else {
                // load modules for create SceneView
                if (!this.SceneView) {
                    const modules = yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                        'esri/views/SceneView',
                        'esri/WebScene'
                    ]);
                    [
                        this.SceneView, this.WebScene
                    ] = modules;
                }
            }
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(mapCreatingInfo.dataSourceInfo)) {
                return;
            }
            yield this.createMapbaseView(mapCreatingInfo);
        });
    }
    createMapbaseView(mapCreatingInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            const dataSourceInfo = mapCreatingInfo.dataSourceInfo;
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(dataSourceInfo)) {
                return;
            }
            // get mapViewOption or sceneViewOption
            let mapViewOption = null;
            let sceneViewOption = null;
            if (dataSourceInfo.isWebMap) {
                // get map view option
                mapViewOption = yield this.getMapViewOptionToCreateMapView(dataSourceInfo);
            }
            else {
                // get scene view option
                sceneViewOption = yield this.getSceneViewOptionToCreateSceneView(dataSourceInfo);
            }
            // need to check view again to avoid new MapView() twice, because we use async function to get mapViewOption
            if (this.__unmount || this.isCurrentViewExpected() || !this.isDataSourceInfoExpected(dataSourceInfo)) {
                return;
            }
            let view = null;
            // create map view or scene view
            if (dataSourceInfo.isWebMap) {
                view = new this.MapView(mapViewOption);
            }
            else {
                view = new this.SceneView(sceneViewOption);
            }
            view.mapbase = this;
            view.highLightHandles = {};
            view.mapBaseViewEventHandles = {};
            view.extentChangeRelatedWidgetIds = [];
            view.publishExtentChangeMessage = function (stationary, interacive) {
                try {
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props && mapbase.props.onExtentChanged) {
                            mapbase.publishExtentChangeMessage(view, stationary, interacive);
                        }
                    }
                }
                catch (e) {
                    console.error('view hide map tools error', e);
                }
            };
            view.hideMapTools = function () {
                try {
                    if (view && !view.destroyed) {
                        const mapbase = view.mapbase;
                        if (mapbase && !mapbase.__unmount && mapbase.props && mapbase.props.onActiveToolInfoChange) {
                            // set no active tool
                            mapbase.props.onActiveToolInfoChange(null);
                        }
                    }
                }
                catch (e) {
                    console.error('view hide map tools error', e);
                }
            };
            if (view.popup) {
                view.popup.spinnerEnabled = false;
            }
            view.dataSourceInfo = dataSourceInfo;
            if (this.view) {
                this.destroyCurrentMapbaseView();
                this.view = null;
            }
            // update this.view
            this.view = view;
            this.mapCreatingInfo = null;
            if (this.isReadyToCreateJimuMapView()) {
                this.createJimuMapView();
            }
            // the following code are same for both map view and scene view
            view.when(() => {
                var _a, _b, _c;
                // view.when() is async, we need to check the view is expected or not
                // if the view is not expected again, we don't execute the following logic
                const isViewOk = !view.destroyed && this.view === view && this.isViewExpected(view);
                if (!isViewOk) {
                    return;
                }
                setTimeout(() => {
                    if (!view.destroyed) {
                        // make sure publish extent-change message at least once
                        this.publishExtentChangeMessage(view, true);
                    }
                }, 1000);
                view.watchInteractingHandle = view.watch('interacting', () => {
                    if (view.interacting) {
                        MapBase.lastInteraciveView = view;
                        // We must set view.extentChangeRelatedWidgetIds to empty array, becuase current view is the extent-change sourcer.
                        this.setExtentChangeRelatedWidgetIdsForView(view, []);
                    }
                });
                view.extentWatchHandle = view.watch('extent', (extent) => {
                    if (!extent) {
                        return;
                    }
                    this.publishExtentChangeMessage(view, false);
                    if (view.stationaryTimerId) {
                        clearTimeout(view.stationaryTimerId);
                        view.stationaryTimerId = null;
                    }
                    // We don't use view.watch('stationary', cb) to check if view is static or not, because the behavior of view.stationary is strange.
                    // Instead, we use a timeout to check if view is static or not.
                    view.stationaryTimerId = setTimeout(() => {
                        view.stationaryTimerId = null;
                        // view is static now
                        // We need to publish extent-change message again when view is static.
                        this.publishExtentChangeMessage(view, true);
                        // Note, make sure we call setExtentChangeRelatedWidgetIdsForView() after publish extent-change message.
                        this.setExtentChangeRelatedWidgetIdsForView(view, []);
                        setTimeout(() => {
                            if (view === MapBase.lastInteraciveView && !view.interacting) {
                                MapBase.lastInteraciveView = null;
                            }
                        }, 1000);
                    }, 200);
                });
                if (!view.fatalErrorWatchHandle) {
                    view.fatalErrorWatchHandle = view.watch('fatalError', (error) => {
                        var _a, _b;
                        if (error) {
                            // Don't use this.props.isMapInVisibleArea to check is map visible or not, because mapbase maybe unmounted and this.props.isMapInVisibleArea is still true.
                            // It is more safe to
                            const shouldRecovery = !view.isInCaching && view.container && view.container.clientWidth > 0 && view.container.clientHeight > 0;
                            const widgetId = ((_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.baseWidgetProps) === null || _b === void 0 ? void 0 : _b.id) || '';
                            if (shouldRecovery) {
                                console.error(`${widgetId} Fatal Error! View has lost its WebGL context. Attempting to recover it because the view is visible.`);
                                this.tryFatalErrorRecovery(view);
                            }
                            else {
                                console.error(`${widgetId} Fatal Error! View has lost its WebGL context. Don't recover it because the view is not visible.`);
                            }
                        }
                    });
                }
                // after view is loaded, send extent change message
                this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, () => {
                    this.props.onMapLoaded(this.props.dataSourceId, MapLoadStatus.Loadok);
                });
                // If there is an extent is passed from extentMessage before, don't init extent here as this will publish
                // extentMessage and change other mapWidget's extent.
                if (!((_c = (_b = (_a = this.props.baseWidgetProps) === null || _a === void 0 ? void 0 : _a.mutableStateProps) === null || _b === void 0 ? void 0 : _b.zoomToFeatureActionValue) === null || _c === void 0 ? void 0 : _c.value)) {
                    this.goHome(false);
                }
                if (this.isMapView(view)) {
                    // snapToZoom: true means integer zoom, false means float zoom
                    // We need to set the initial value to true for backward compatibility and keep the same behavior with MapViewer
                    // After map inited, we will set snapToZoom to false to get the best synchronization between two map widgets
                    // We use setTimeout here to make sure the above this.goHome(false) is done.
                    setTimeout(() => {
                        view.constraints.snapToZoom = false;
                    }, 0);
                }
            });
            this.bindMapBaseViewEvent(view);
            this.tryUpdateCurrentViewByConfigProps();
            this.checkAndHandleMutableStateProps();
        });
    }
    publishExtentChangeMessage(view, stationary, interacive) {
        if (!view) {
            return;
        }
        const nowTime = Date.now();
        if (!view.firstPublishExtentChangeTime) {
            view.firstPublishExtentChangeTime = nowTime;
        }
        const extent = view.extent.clone();
        const viewpoint = view.viewpoint.clone();
        const extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__.ExtentChangeMessage(this.props.baseWidgetProps.id, extent, viewpoint, stationary);
        extentMessage.publishTime = nowTime;
        extentMessage.interacive = interacive || view.interacting;
        const extentChangeRelatedWidgetIdsOfView = this.getExtentChangeRelatedWidgetIdsOfView(view);
        extentMessage.setRelatedWidgetIds(extentChangeRelatedWidgetIdsOfView);
        extentMessage.addRelatedWidgetId(this.props.baseWidgetProps.id);
        this.props.onExtentChanged(this.props.dataSourceId, extentMessage);
    }
    generateViewPointFromInitialMapState(initialMapState) {
        if (initialMapState.viewType === '2d') {
            return new this.Viewpoint({
                targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                rotation: initialMapState.rotation
            });
        }
        else {
            return this.Viewpoint.fromJSON(initialMapState.viewPoint);
        }
    }
    /**
     * This method create web map or web scene by data source. This method doesn't consider default web map case.
     * @param dataSourceInfo
     * @returns
     */
    createWebMapOrWebSceneByDataSource(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            let webMapOrWebScene = null;
            const MapClass = dataSourceInfo.isWebMap ? this.WebMap : this.WebScene;
            const dataSourceJson = dataSourceInfo.dataSourceJson;
            if (dataSourceJson.portalUrl) {
                // create web map or web scene for portal
                const portal = new this.Portal({
                    url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.portalUrlUtils.getPlatformUrlByOrgUrl(dataSourceJson.portalUrl)
                });
                webMapOrWebScene = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId,
                        portal: portal
                    })
                });
            }
            else {
                // create web map or web scene for arcgis online
                webMapOrWebScene = new MapClass({
                    portalItem: new this.PortalItem({
                        id: dataSourceJson.itemId
                    })
                });
            }
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getWhetherUseProxy()) {
                yield webMapOrWebScene.load();
                yield webMapOrWebScene.when();
                const tables = webMapOrWebScene.tables ? webMapOrWebScene.tables.toArray() : [];
                tables.forEach(table => {
                    const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(table);
                    if (!sourceUrl) {
                        return;
                    }
                    const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);
                    if (proxyUrl) {
                        table.url = proxyUrl;
                    }
                });
                webMapOrWebScene.allLayers.toArray().forEach(layer => {
                    const sourceUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(layer);
                    if (!sourceUrl) {
                        return;
                    }
                    const proxyUrl = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getDataSourceProxyUrl(sourceUrl);
                    if (proxyUrl) {
                        layer.url = proxyUrl;
                    }
                });
            }
            return webMapOrWebScene;
        });
    }
    getDefaultWebMap() {
        const defaultExtent = this.props.defaultMapInfo && this.props.defaultMapInfo.defaultExtent;
        const tempViewPoint = new this.Viewpoint({
            targetGeometry: new this.Extent({
                xmin: defaultExtent && defaultExtent.xmin,
                ymin: defaultExtent && defaultExtent.ymin,
                xmax: defaultExtent && defaultExtent.xmax,
                ymax: defaultExtent && defaultExtent.ymax,
                spatialReference: { wkid: defaultExtent.spatialReference.wkid }
            })
        });
        const defaultWebmap = new this.WebMap({
            portalItem: {
                id: this.props.defaultMapInfo.defaultMapId,
                portal: {
                    url: this.props.baseWidgetProps.portalUrl
                }
            },
            initialViewProperties: new this.InitialViewProperties({
                spatialReference: defaultExtent && defaultExtent.spatialReference,
                viewpoint: tempViewPoint
            })
        });
        return defaultWebmap;
    }
    getMapViewOptionToCreateMapView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            let mapViewOption;
            if (this.props.isDefaultMap) {
                const defaultMap = this.getDefaultWebMap();
                mapViewOption = {
                    map: defaultMap,
                    container: this.mapContainer,
                    viewpoint: this.getInitViewPointForDefaultWebMap(),
                    rotation: this.props.baseWidgetProps.config.initialMapState && this.props.baseWidgetProps.config.initialMapState.rotation
                };
            }
            else {
                const webMap = yield this.createWebMapOrWebSceneByDataSource(dataSourceInfo);
                if (this.props.baseWidgetProps.config.initialMapState) {
                    mapViewOption = {
                        map: webMap,
                        container: this.mapContainer,
                        viewpoint: this.props.baseWidgetProps.config.initialMapState &&
                            this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState)
                    };
                }
                else {
                    mapViewOption = {
                        map: webMap,
                        container: this.mapContainer
                    };
                }
                const highlightColor = this.props.baseWidgetProps.config.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
                const highlightHaloColor = this.props.baseWidgetProps.config.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
                mapViewOption.highlightOptions = {
                    color: new this.Color(highlightColor),
                    haloColor: new this.Color(highlightHaloColor)
                };
            }
            mapViewOption.popup = {
                defaultPopupTemplateEnabled: true
            };
            mapViewOption.constraints = {
                // snapToZoom: true means integer zoom, false means float zoom
                // We need to set the initial value to true for backward compatibility and keep the same behavior with MapViewer
                // After map inited, we will set snapToZoom to false to get the best synchronization between two map widgets
                snapToZoom: true
            };
            if (!window.jimuConfig.isInBuilder) {
                if (this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id]) {
                    const extentStr = this.props.baseWidgetProps.queryObject[this.props.baseWidgetProps.id].substr('extent='.length);
                    let extent;
                    try {
                        extent = new this.Extent(JSON.parse(extentStr));
                    }
                    catch (err) {
                        console.error('Bad extent URL parameter.');
                    }
                    if (extent) {
                        mapViewOption.extent = extent;
                    }
                }
            }
            return mapViewOption;
        });
    }
    getSceneViewOptionToCreateSceneView(dataSourceInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            const webScene = yield this.createWebMapOrWebSceneByDataSource(dataSourceInfo);
            const mapViewOption = {
                map: webScene,
                container: this.mapContainer,
                popup: {
                    defaultPopupTemplateEnabled: true
                }
            };
            if (this.props.baseWidgetProps.config.initialMapState) {
                mapViewOption.viewpoint = this.props.baseWidgetProps.config.initialMapState &&
                    this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            const highlightColor = this.props.baseWidgetProps.config.selectionHighlightColor || DEFAULT_HIGHLIGHT_COLOR;
            const highlightHaloColor = this.props.baseWidgetProps.config.selectionHighlightHaloColor || DEFAULT_HIGHLIGHT_HALO_COLOR;
            mapViewOption.highlightOptions = {
                color: new this.Color(highlightColor),
                haloColor: new this.Color(highlightHaloColor)
            };
            const sceneQualityMode = this.props.baseWidgetProps.config.sceneQualityMode;
            if (sceneQualityMode && sceneQualityMode !== _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.auto) {
                mapViewOption.qualityProfile = sceneQualityMode;
            }
            else {
                // use 'low' as default value
                mapViewOption.qualityProfile = _config__WEBPACK_IMPORTED_MODULE_1__.SceneQualityMode.low;
            }
            return mapViewOption;
        });
    }
    bindMapBaseViewEvent(view) {
        if (view) {
            this.releaseMapbaseViewEventHandles(view);
            view.mapBaseViewEventHandles.click = view.on('click', () => {
                this.releaseHighLightHandles(view);
            });
        }
    }
    isReadyToCreateJimuMapView() {
        if (this.view) {
            if (this.props.isDefaultMap) {
                // Don't need data source if use default map.
                return true;
            }
            else {
                return this.mapDs && this.mapDs.id === this.props.dataSourceId;
            }
        }
        return false;
    }
    getJimuMapViewFoView(view) {
        var _a;
        const jimuMapViewId = (_a = view === null || view === void 0 ? void 0 : view.dataSourceInfo) === null || _a === void 0 ? void 0 : _a.jimuMapViewId;
        if (jimuMapViewId) {
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            return jimuMapView;
        }
        return null;
    }
    createJimuMapView() {
        if (!this.isReadyToCreateJimuMapView()) {
            return;
        }
        const view = this.view;
        // If dataSourceId is null, make sure it converts to empty string.
        const dataSourceId = this.props.dataSourceId || '';
        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().createJimuMapView({
            mapWidgetId: this.props.baseWidgetProps.id,
            dataSourceId,
            view,
            isEnablePopup: this.props.baseWidgetProps.config && !this.props.baseWidgetProps.config.disablePopUp,
            mapViewManager: jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance()
        });
        view.when(() => {
            const jimuMapViewId = view.dataSourceInfo.jimuMapViewId;
            const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            if (jimuMapView) {
                if (jimuMapView.view) {
                    jimuMapView.whenJimuMapViewLoaded().then(() => {
                        if (!jimuMapView.view) {
                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
                            return;
                        }
                        if (this.isViewExpected(view)) {
                            this.props.onJimuMapViewCreated();
                        }
                    });
                }
                else {
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
                }
            }
        });
    }
    destroyCurrentMapbaseView() {
        if (this.view) {
            this.destroyMapbaseView(this.view);
        }
        // Note, don't set this.mapDs to null here.
        // Consider this case:
        // We create a new Mapbase instance, onDataSourceCreated callback is quickly, then we get this.mapDs.
        // Then componentDidMount is invoked for some reason (e.g. this.isBasicModulesLoaded changed from false to true),
        // and we need to call this method to destroy this.view.
        // So, if we set this.mapDs to null, we will never get this.mapDs,
        // and this.isReadyToCreateJimuMapView() always return false, then we can't create jimu map view.
        this.view = null;
    }
    destroyMapbaseView(view) {
        if (view) {
            // release handles
            if (view.watchInteractingHandle) {
                view.watchInteractingHandle.remove();
                view.watchInteractingHandle = null;
            }
            if (view.extentWatchHandle) {
                view.extentWatchHandle.remove();
                view.extentWatchHandle = null;
            }
            if (view.fatalErrorWatchHandle) {
                view.fatalErrorWatchHandle.remove();
                view.fatalErrorWatchHandle = null;
            }
            if (view.stationaryTimerId) {
                clearTimeout(view.stationaryTimerId);
                view.stationaryTimerId = null;
            }
            this.releaseHighLightHandles(view);
            this.releaseMapbaseViewEventHandles(view);
        }
        const jimuMapViewId = view.dataSourceInfo.jimuMapViewId;
        if (jimuMapViewId) {
            jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().destroyJimuMapView(jimuMapViewId);
        }
        if (!view.destroyed) {
            view.destroy();
        }
    }
    releaseHighLightHandles(view) {
        if (view.highLightHandles) {
            const keys = Object.keys(view.highLightHandles);
            for (const key of keys) {
                view.highLightHandles[key].remove();
            }
        }
        view.highLightHandles = {};
    }
    releaseMapbaseViewEventHandles(view) {
        if (view.mapBaseViewEventHandles) {
            const keys = Object.keys(view.mapBaseViewEventHandles);
            for (const key of keys) {
                view.mapBaseViewEventHandles[key].remove();
            }
        }
        view.mapBaseViewEventHandles = {};
    }
    getRestoreDataFromMS() {
        const basicKey = this.getRestoreDataKey();
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData', basicKey]);
        return restoreData;
    }
    updateRestoreDataToMS(restoreData) {
        const basicKey = this.getRestoreDataKey();
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${basicKey}`, restoreData);
    }
    getRestoreDataKey() {
        return `${this.props.baseWidgetProps.id}-restoreData-${this.props.dataSourceId}`;
    }
    goHome(useAmination) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!this.getDsJsonFromDsId(this.props.dataSourceId)) {
                return;
            }
            const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
            if (this.view && widgets[this.props.baseWidgetProps.id]) {
                const initViewPoint = this.getMapBaseInitViewPoint();
                if (initViewPoint) {
                    return this.view.goTo(initViewPoint, {
                        animate: useAmination
                    });
                }
            }
        });
    }
    getMapBaseInitViewPoint() {
        var _a, _b;
        if (this.props.isDefaultMap) {
            return this.getInitViewPointForDefaultWebMap();
        }
        else {
            if (this.props.baseWidgetProps.config.initialMapState) {
                return this.generateViewPointFromInitialMapState(this.props.baseWidgetProps.config.initialMapState);
            }
            else {
                if (this.view) {
                    const map = this.view.map;
                    return (_b = (_a = map === null || map === void 0 ? void 0 : map.initialViewProperties) === null || _a === void 0 ? void 0 : _a.viewpoint) === null || _b === void 0 ? void 0 : _b.clone();
                }
            }
        }
    }
    formatMessage(id) {
        return this.props.baseWidgetProps.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages[id] });
    }
    handleDisableWheel() {
        this.widgetContainer.style.pointerEvents = 'none';
        setTimeout(() => {
            this.widgetContainer.style.pointerEvents = 'auto';
        }, 50);
    }
    getMapSwitchForErrorMap() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-container', style: {
                display: isShowMapSwitchBtn ? 'block' : 'none',
                marginBottom: this.props.widthBreakpoint === 'xsmall' ? 10 : 0
            } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: (e) => { e.preventDefault(); switchMap(); }, className: 'w-100 h-100 esri-widget--button' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Icon, { icon: Exchange, width: 16, height: 16, className: 'mapswitch-icon' }))))));
    }
    /**
     * handle message/action.
     */
    handleAction(mutableStateProps, mapBaseView, jimuMapView) {
        if (!mapBaseView || mapBaseView.destroyed) {
            return;
        }
        // consume mutableStateProps.zoomToFeatureActionValue
        this.handleActionForZoomToFeatureActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.panToActionValue
        this.handleActionForPanToActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.newFeatureSetActionValue
        this.handleActionForNewFeatureSetActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.changedFeatureSetActionValue
        this.handleActionForChangedFeatureSetActionValue(mutableStateProps, mapBaseView);
        // consume mutableStateProps.selectFeatureActionValue
        this.handleActionForSelectFeatureActionValue(mutableStateProps, mapBaseView);
        // consume flashActionValue and filterActionValue
        this.handleActionForFlashActionValueAndFilterActionValue(mutableStateProps, mapBaseView);
        // handle show data on map action
        this.handleActionForShowOnMapDatas(mutableStateProps, jimuMapView);
        // handle add data to map action
        this.handleActionForAddToMapDatas(mutableStateProps, jimuMapView);
    }
    getExtentChangeRelatedWidgetIdsOfView(view) {
        let result = [];
        if (view) {
            const relatedWidgetIds = view.extentChangeRelatedWidgetIds || [];
            // We need to clone the relatedWidgetIds.
            result = relatedWidgetIds.slice();
        }
        return result;
    }
    setExtentChangeRelatedWidgetIdsForView(view, _relatedWidgetIds) {
        if (view) {
            const relatedWidgetIds = _relatedWidgetIds || [];
            // We need to clone the relatedWidgetIds.
            view.extentChangeRelatedWidgetIds = relatedWidgetIds.slice();
        }
    }
    tryFatalErrorRecovery(view) {
        if (view) {
            view.tryFatalErrorRecovery();
        }
    }
    handleActionForZoomToFeatureActionValue(mutableStateProps, mapBaseView) {
        if (!mutableStateProps.zoomToFeatureActionValue) {
            return;
        }
        const receiveMessageTime = Date.now();
        const zoomToFeatureActionValue = mutableStateProps.zoomToFeatureActionValue;
        const relatedWidgetIds = mutableStateProps.zoomToFeatureActionValue.relatedWidgets || [];
        if (relatedWidgetIds && relatedWidgetIds.includes(this.props.baseWidgetProps.id)) {
            // avoid endless loop
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
        }
        else {
            const zoomToFeatureInternalValue = zoomToFeatureActionValue.value;
            if (zoomToFeatureInternalValue.type === 'zoom-to-extent') {
                // ZoomToExtentInternalValue
                const nowTime = Date.now();
                mapBaseView.lastZoomToExtentTime = nowTime;
                // map widget1 extent chagnes and map widget2 needs to sync the extent by message action.
                // Finally, it calls view.goTo(extent)
                // Consider this case:
                // On app load:
                // 1. Both map widget1 and map widget2 set zoom-to action for each other.
                // 2. The initial extent of map widget1 is extent1 and the initial extent of map widget2 is extent2.
                // 3. map widget1 first publish extent-change message after the view is ready.
                // 4. Then map widget2 publish extent-change message.
                // 5. Then map widget2 receive message from map widget1 and call handleAction.
                // 6. Then map widget1 receive message from map widget2 and call handleAction.
                // At last, the extent of map widget1 is extent2 and the extent of map widget2 is extent1. This is not the expected result.
                // To avoid the above case, we need to stop the step6 because map widget1 first publish message.
                let isAboveCase = false;
                if (mapBaseView.firstPublishExtentChangeTime) {
                    if ((nowTime - mapBaseView.firstPublishExtentChangeTime) <= 2000) {
                        if (mapBaseView.firstPublishExtentChangeTime <= zoomToFeatureInternalValue.publishTime) {
                            if (!zoomToFeatureInternalValue.interacive) {
                                // #14391, if extentMessage.interacive is true, means the extent comes from a interactiving map and needs to sync viewpoint with the interactiving map
                                if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTwoWidgetsMutuallyExtentChange)(this.props.baseWidgetProps.id, zoomToFeatureInternalValue.publishWidgetId)) {
                                    isAboveCase = true;
                                }
                            }
                        }
                    }
                }
                // If mapBaseView is the last interactive view, it means mapBaseView is the extent-change source, we should ignore the zoom-to-extent message.
                if (!isAboveCase && mapBaseView !== MapBase.lastInteraciveView) {
                    const viewpoint = zoomToFeatureInternalValue.viewpoint;
                    const extent = zoomToFeatureInternalValue.extent;
                    const stationary = zoomToFeatureInternalValue.stationary;
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    const viewSR = mapBaseView.spatialReference;
                    // viewpoint has high priority than exent, because it contains more information
                    if (viewpoint) {
                        // update view by viewpoint
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectViewpoint)(viewpoint, viewSR)) {
                            if (stationary) {
                                // only project the viewpoint when map is static
                                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectViewpoint)(viewpoint, viewSR).then((projectedViewpoint) => {
                                    // Consider this case(#16423):
                                    // 1. handleActionForZoomToFeatureActionValue receive message at time1, the message viewpoint is viewpoint1
                                    // 2. the viewpoint needs to be project, then send http request to project the viewpoint1, this async step maybe take long time
                                    // 3. then JimuMapView needs to update viewpoint to viewpoint2 by url data_id (sync step) in JimuMapView.moveFeatureToCenter() at time2
                                    // 4. then the async step2 is done at time3, and udpate viewpoint by the projected viewpoint1, finally the viewpoint is the projected viewpoint1
                                    // The step4 is wrong, because viewpoint2 of step3 is the new one, and the projected viewpoint1 is stale.
                                    // To avoid this case, we should check projectedViewpoint is fresh or stale.
                                    const isProjectedViewpointStale = mapBaseView.receiveMessageTimeOfLastViewUpdate && mapBaseView.receiveMessageTimeOfLastViewUpdate > receiveMessageTime;
                                    if (!isProjectedViewpointStale) {
                                        mapBaseView.viewpoint = projectedViewpoint;
                                    }
                                });
                            }
                        }
                        else {
                            mapBaseView.viewpoint = viewpoint;
                        }
                    }
                    else {
                        // TODO: need to remove the following extent logic
                        // update view by extent
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectSpatialReference)(extent.spatialReference, viewSR)) {
                            if (stationary) {
                                // only project the extent when map is static
                                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)([extent], viewSR).then((projectedGeometries) => {
                                    const projectedExtent = projectedGeometries[0];
                                    mapBaseView.goTo(projectedExtent);
                                });
                            }
                        }
                        else {
                            mapBaseView.goTo(extent, { animate: false });
                        }
                    }
                }
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-query-params') {
                // ZoomToQueryParamsInternalValue
                this.queryExtentFromQueryParams(mapBaseView, zoomToFeatureInternalValue.dataSourceIds, zoomToFeatureInternalValue.useDataSources).then((result) => {
                    let target;
                    if (result.count === 0) {
                        return;
                    }
                    else if (result.count === 1 && (result === null || result === void 0 ? void 0 : result.singlePointGraphic)) {
                        target = {
                            graphics: [result === null || result === void 0 ? void 0 : result.singlePointGraphic],
                            layer: result === null || result === void 0 ? void 0 : result.layer
                        };
                    }
                    else {
                        target = result === null || result === void 0 ? void 0 : result.extent;
                    }
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    // Because of 'zoomToUtils' does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                    if (result.useDefaultExtentOfCurrentView) {
                        mapBaseView.goTo(result.viewpoint);
                    }
                    else {
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, target, zoomToFeatureInternalValue.zoomToOption);
                    }
                });
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-array-graphics') {
                // ZoomToArrayGraphicsInternalValue
                this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, zoomToFeatureInternalValue.arrayFeatures, zoomToFeatureInternalValue.zoomToOption);
            }
            else if (zoomToFeatureInternalValue.type === 'zoom-to-layers') {
                // ZoomToLayersInternalValue
                const dataSourceIds = zoomToFeatureInternalValue.dataSourceIds;
                (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getLayersFromDataSourceIds)(dataSourceIds).then(layers => {
                    this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, layers, zoomToFeatureInternalValue.zoomToOption);
                });
            }
            else {
                // zoom-to-graphics
                const dataSource = this.dsManager.getDataSource(zoomToFeatureInternalValue.dataSourceId);
                let layerPromise;
                if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                    layerPromise = Promise.resolve(dataSource.layer);
                }
                else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
                    layerPromise = dataSource.createJSAPILayerByDataSource();
                }
                else {
                    layerPromise = Promise.resolve(null);
                }
                layerPromise.then(layer => {
                    let target = null;
                    if (layer) {
                        target = {
                            layer: layer,
                            graphics: zoomToFeatureInternalValue.features
                        };
                    }
                    else {
                        target = zoomToFeatureInternalValue.features;
                    }
                    (0,_utils__WEBPACK_IMPORTED_MODULE_4__.processZoomToFeatures)(mapBaseView, target.layer, (target && target.graphics) ? target.graphics : target).then(graphics => {
                        if (layer) {
                            target.graphics = graphics;
                        }
                        else {
                            target = graphics;
                        }
                        if (!zoomToFeatureInternalValue.zoomToOption) {
                            zoomToFeatureInternalValue.zoomToOption = {};
                        }
                        this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                        zoomToFeatureInternalValue.zoomToOption.queryParams = ((dataSource === null || dataSource === void 0 ? void 0 : dataSource.getCurrentQueryParams) && dataSource.getCurrentQueryParams()) || '';
                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(mapBaseView, target, zoomToFeatureInternalValue.zoomToOption);
                    });
                });
            }
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'zoomToFeatureActionValue', null);
        }
    }
    handleActionForPanToActionValue(mutableStateProps, mapBaseView) {
        var _a;
        if (!mutableStateProps.panToActionValue) {
            return;
        }
        const relatedWidgetIds = mutableStateProps.panToActionValue.relatedWidgets || [];
        const panToType = (_a = mutableStateProps.panToActionValue.value) === null || _a === void 0 ? void 0 : _a.type;
        if (relatedWidgetIds && relatedWidgetIds.includes(this.props.baseWidgetProps.id)) {
            // avoid endless loop
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
        }
        else if (panToType === 'pan-to-query-params') {
            const panToValue = mutableStateProps.panToActionValue.value;
            this.queryExtentFromQueryParams(mapBaseView, panToValue.dataSourceIds, panToValue.useDataSources).then((result) => {
                var _a, _b, _c;
                // Because of 'panToGeometry' method does not support 'viewpoint', temporary code for using default viewpoint of sceneView.
                if (result.useDefaultExtentOfCurrentView) {
                    const targetGeometry = ((_b = (_a = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _a === void 0 ? void 0 : _a.camera) === null || _b === void 0 ? void 0 : _b.position) || ((_c = result === null || result === void 0 ? void 0 : result.viewpoint) === null || _c === void 0 ? void 0 : _c.targetGeometry);
                    this.panToGeometry([targetGeometry], mapBaseView, relatedWidgetIds);
                }
                else {
                    this.panToGeometry([result === null || result === void 0 ? void 0 : result.extent], mapBaseView, relatedWidgetIds);
                }
            });
        }
        else if (panToType === 'pan-to-layer') {
            const panToValue = mutableStateProps.panToActionValue.value;
            const dataSource = this.dsManager.getDataSource(panToValue.dataSourceId);
            let layerPromise;
            if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
                layerPromise = Promise.resolve(dataSource.layer);
            }
            else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
                layerPromise = dataSource.createJSAPILayerByDataSource();
            }
            else {
                layerPromise = Promise.resolve(null);
            }
            layerPromise.then(layer => {
                jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.layerExtent(mapBaseView, layer).then(layerExtent => {
                    if (layerExtent) {
                        this.panToGeometry([layerExtent], mapBaseView, []);
                    }
                });
            });
        }
        else if (panToType === 'pan-to-layers') {
            const panToValue = mutableStateProps.panToActionValue.value;
            const dataSourceIds = panToValue.dataSourceIds;
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getLayersFromDataSourceIds)(dataSourceIds).then(layers => {
                const extentPromises = [];
                layers.forEach(layer => {
                    if (layer) {
                        extentPromises.push(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.layerExtent(mapBaseView, layer));
                    }
                });
                let fullExtent = null;
                return Promise.all(extentPromises).then(extents => {
                    extents.forEach(extent => {
                        if (extent) {
                            fullExtent = fullExtent ? fullExtent.union(extent) : extent;
                        }
                    });
                    if (fullExtent) {
                        this.panToGeometry([fullExtent], mapBaseView, []);
                    }
                });
            });
        }
        else if (panToType === 'pan-to-geometries') {
            const panToValue = mutableStateProps.panToActionValue.value;
            this.panToGeometry(panToValue.geometries, mapBaseView, relatedWidgetIds);
        }
        else if (panToType === 'pan-to-extent') {
            // map widget1 extent changes and map widget2 needs to sync the extent by message action.
            // Finally, it calls view.goTo(extent.center).
            // Consider this case:
            // 1. Both map widget1 and map widget2 set pan-to action for each other.
            // 2. The initial extent of map widget1 is extent1 and the initial extent of map widget2 is extent2.
            // 3. map widget1 first publish extent-change message after the view is ready.
            // 4. Then map widget2 publish extent-change message.
            // 5. Then map widget2 receive message from map widget1 and call handleAction.
            // 6. Then map widget1 receive message from map widget2 and call handleAction.
            // At last, the extent of map widget1 is extent2 and the extent of map widget2 is extent1. This is not the expected result.
            // To avoid the above case, we need to stop the step6 because map widget1 first publish message.
            let isAboveCase = false;
            const nowTime = Date.now();
            if (mapBaseView.firstPublishExtentChangeTime) {
                if ((nowTime - mapBaseView.firstPublishExtentChangeTime) <= 2000) {
                    if (mapBaseView.firstPublishExtentChangeTime <= mutableStateProps.panToActionValue.value.publishTime) {
                        if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isTwoWidgetsMutuallyExtentChange)(this.props.baseWidgetProps.id, mutableStateProps.panToActionValue.value.publishWidgetId)) {
                            isAboveCase = true;
                        }
                    }
                }
            }
            // Consider this case:
            // 1. We have 4 map widgets. Here are the actions.
            // 2. Widget1 -> zoom to -> Widget2 -> zoom to -> Widget4
            // 3. Widget1 -> zoom to -> Widget3 -> pan to -> Widget4
            // 4. We move the map of widget1, finally widget4 will receive zoomTo and panTo actions serially, like zoomTo, panTo, zoomTo, panTo, ...
            // 5. Step4 will result in widget4's map view jumping.
            // 6. To avoid this case, we need to stop executing panTo action if zoomTo action is executed recently.
            let isPanZoomConflictCase = false;
            if (mapBaseView.lastZoomToExtentTime) {
                // By test, the biggest delta time is about 200ms in most cases, but it is safe to use a bigger one.
                if ((nowTime - mapBaseView.lastZoomToExtentTime) <= 500) {
                    isPanZoomConflictCase = true;
                }
            }
            // If mapBaseView is the last interactive view, it means mapBaseView is the extent-change source, we should ignore the pan-to-extent message.
            if (!isAboveCase && !isPanZoomConflictCase && mapBaseView !== MapBase.lastInteraciveView) {
                this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
                const panToValue = mutableStateProps.panToActionValue.value;
                const extent = panToValue.geometries[0];
                const extentCenter = extent.center;
                const stationary = panToValue.stationary;
                const viewSR = mapBaseView.spatialReference;
                if ((0,_utils__WEBPACK_IMPORTED_MODULE_4__.isNeedProjectSpatialReference)(extentCenter.spatialReference, viewSR)) {
                    if (stationary) {
                        // only project the extent when map is static
                        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)([extentCenter], viewSR).then((projectedGeometries) => {
                            const projectedCenter = projectedGeometries[0];
                            mapBaseView.goTo(projectedCenter);
                        });
                    }
                }
                else {
                    // mapBaseView.goTo(extentCenter, { animate: false })
                    mapBaseView.center = extentCenter;
                }
            }
        }
        this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'panToActionValue', null);
    }
    panToGeometry(originalGeometries, mapBaseView, relatedWidgetIds) {
        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.projectGeometries)(originalGeometries, mapBaseView.spatialReference).then((projectedGeometries) => {
            this.setExtentChangeRelatedWidgetIdsForView(mapBaseView, relatedWidgetIds);
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.mapPanto)(mapBaseView, projectedGeometries);
        });
    }
    handleActionForNewFeatureSetActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.newFeatureSetActionValue && !mutableStateProps.newFeatureSetActionValue.promise) {
            const createNewFeaturelayerPromise = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.createNewFeaturelayer)(mapBaseView, mutableStateProps.newFeatureSetActionValue.value);
            if (createNewFeaturelayerPromise) {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue.promise', createNewFeaturelayerPromise);
                createNewFeaturelayerPromise.then(() => {
                    this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
                });
            }
            else {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'newFeatureSetActionValue', null);
            }
        }
    }
    handleActionForChangedFeatureSetActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.changedFeatureSetActionValue) {
            (0,_utils__WEBPACK_IMPORTED_MODULE_4__.updateFeaturelayer)(mapBaseView, mutableStateProps.changedFeatureSetActionValue);
            this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'changedFeatureSetActionValue', null);
        }
    }
    handleActionForSelectFeatureActionValue(mutableStateProps, mapBaseView) {
        if (mutableStateProps.selectFeatureActionValue) {
            mapBaseView.closePopup();
            this.releaseHighLightHandles(mapBaseView);
            const selectFeatureHandle = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.selectFeature)(mapBaseView, mutableStateProps.selectFeatureActionValue);
            if (selectFeatureHandle) {
                mapBaseView.highLightHandles[selectFeatureHandle.layerId] = selectFeatureHandle.handle;
            }
            setTimeout(() => {
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, 'selectFeatureActionValue', null);
            }, 500);
        }
    }
    handleActionForFlashActionValueAndFilterActionValue(mutableStateProps, mapBaseView) {
        const mutableStatePropsKeys = Object.keys(mutableStateProps);
        // WHY: why use array.some() here ? the callback always return false
        mutableStatePropsKeys.some(actionKey => {
            var _a;
            const jimuMapViewId = mapBaseView.dataSourceInfo.jimuMapViewId;
            const tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
            // handle flash action
            if (actionKey.indexOf('flashActionValue-') === 0 && mutableStateProps[actionKey]) {
                mutableStateProps[actionKey].querySQL && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.flashFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
            }
            // handle filter action
            if (actionKey.indexOf('filterActionValue-') === 0 && mutableStateProps[actionKey]) {
                ((_a = mutableStateProps[actionKey].querySQL) === null || _a === void 0 ? void 0 : _a.length) >= 0 && (0,_utils__WEBPACK_IMPORTED_MODULE_4__.filterFeaturesByQuery)(tempJimuMapView, mutableStateProps[actionKey].layerDataSourceId, mutableStateProps[actionKey].querySQL);
                this.props.onMutableStatePropsChanged(this.props.dataSourceId, actionKey, null);
            }
            return false;
        });
    }
    handleActionForShowOnMapDatas(mutableStateProps, jimuMapView) {
        if (mutableStateProps.showOnMapDatas) {
            jimuMapView.drawDataOnMap(mutableStateProps.showOnMapDatas);
        }
    }
    handleActionForAddToMapDatas(mutableStateProps, jimuMapView) {
        if (mutableStateProps.addToMapDatas) {
            jimuMapView.addOrRemoveDataOnMap(mutableStateProps.addToMapDatas);
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts":
/*!*************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MultiSourceMapContext": () => (/* binding */ MultiSourceMapContext)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

const MultiSourceMapContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createContext({
    mapWidgetId: null,
    mapWidgetHeight: null,
    isShowMapSwitchBtn: false,
    isShowClearShowOnMapDataBtn: false,
    isFullScreen: false,
    dataSourceIds: [],
    activeDataSourceId: null,
    switchMap: () => { },
    fullScreenMap: () => { },
    initialMapState: null,
    mobilePanelContainer: null,
    onMobilePanelContentChange: (MobilePanelContent) => { },
    theme: null
});


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap.tsx":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MultiSourceMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _mapbase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapbase */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/mapbase.tsx");
/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layout/map-fixed-layout */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/map-fixed-layout.tsx");
/* harmony import */ var _layout_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/layout */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/layout.tsx");
/* harmony import */ var _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/pc-layout-json */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/pc-layout-json.ts");
/* harmony import */ var _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout/mobile-layout-json */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/mobile-layout-json.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};









const VisibleStyles = {
    firstMapVisible: [{
            zIndex: 6,
            opacity: 1
        }, {
            zIndex: 5,
            opacity: 0
        }],
    secondMapVisible: [{
            zIndex: 5,
            opacity: 0
        }, {
            zIndex: 6,
            opacity: 1
        }]
};
class MultiSourceMap extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.mutableStatePropsMap = {};
        this.__unmount = false;
        this.onPageChange = (prePageId, currentPageId) => {
            // close active tool
            if (prePageId && currentPageId && prePageId !== currentPageId) {
                this.setState({
                    activeToolInfo: null
                });
            }
        };
        this.onResize = (width, height) => {
            // close active tool
            this.setState({
                activeToolInfo: null
            });
        };
        this.reInitWidgetInstance = (restoreData) => {
            this.state = restoreData;
            this.isReIniting = true;
        };
        this.changeInitialMapDataSourceID = (dataSourceId, callBack) => {
            if (this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1) {
                const firstMapInstance = this.refs.firstMapInstance;
                const secondMapInstance = this.refs.secondMapInstance;
                if (!firstMapInstance || !secondMapInstance) {
                    // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                    if (callBack) {
                        callBack();
                    }
                    return;
                }
                if (!this.state.currentMapIndex) {
                    if (this.state.secondMapDsId && this.state.secondMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        secondMapInstance.goHome(false);
                    }
                    else {
                        firstMapInstance.goHome(false);
                    }
                }
                else {
                    if (this.state.firstMapDsId && this.state.firstMapDsId === dataSourceId) {
                        this.startChangeInitialMapAnimation(callBack);
                        firstMapInstance.goHome(false);
                    }
                    else {
                        secondMapInstance.goHome(false);
                    }
                }
            }
        };
        this.startChangeInitialMapAnimation = (callBack) => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!firstMapInstance || !secondMapInstance) {
                // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                if (callBack) {
                    callBack();
                }
                return;
            }
            const tempState = Object.assign({}, this.state);
            if (!this.state.currentMapIndex) {
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack && callBack(); });
            }
            else {
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance.setViewPoint(viewPoint);
                }
                this.setState(tempState, () => { callBack && callBack(); });
            }
        };
        this.switchMap = () => __awaiter(this, void 0, void 0, function* () {
            if (!this.props.baseWidgetProps.useDataSources || this.props.baseWidgetProps.useDataSources.length < 2) {
                yield Promise.resolve();
                return;
            }
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (!firstMapInstance || !secondMapInstance) {
                // Make sure both firstMapInstance and secondMapInstance exist, otherwise we don't need to call this method.
                return;
            }
            const tempState = Object.assign({}, this.state);
            tempState.useAnimation = true;
            if (!this.state.currentMapIndex) {
                tempState.currentMapIndex = 1;
                tempState.multiMapStyle = VisibleStyles.secondMapVisible;
                const viewPoint = firstMapInstance.getViewPoint();
                if (viewPoint) {
                    secondMapInstance.setViewPoint(viewPoint);
                }
            }
            else {
                tempState.currentMapIndex = 0;
                tempState.multiMapStyle = VisibleStyles.firstMapVisible;
                const viewPoint = secondMapInstance.getViewPoint();
                if (viewPoint) {
                    firstMapInstance.setViewPoint(viewPoint);
                }
            }
            return new Promise((resolve, reject) => {
                this.setState(tempState, () => {
                    this.confirmJimuMapViewIsActive();
                    setTimeout(() => {
                        this.setState({
                            useAnimation: false
                        }, () => {
                            resolve(null);
                        });
                    }, 500);
                });
            });
        });
        this.handleMutableStatePropsChanged = (dataSourceId, propKey, value) => {
            if (!this.mutableStatePropsMap[propKey]) {
                this.mutableStatePropsMap[propKey] = [dataSourceId];
            }
            else {
                if (!this.mutableStatePropsMap[propKey].includes(dataSourceId)) {
                    this.mutableStatePropsMap[propKey].push(dataSourceId);
                }
            }
            const multiMapDsIds = [];
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && firstMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.firstMapDsId);
            }
            if (secondMapInstance && secondMapInstance.getViewType()) {
                multiMapDsIds.push(this.state.secondMapDsId);
            }
            let isAllMatched = true;
            for (let i = 0; i < multiMapDsIds.length; i++) {
                if (!this.mutableStatePropsMap[propKey].includes(multiMapDsIds[i])) {
                    isAllMatched = false;
                    break;
                }
            }
            if (isAllMatched) {
                delete this.mutableStatePropsMap[propKey];
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, propKey, value);
            }
        };
        // callback of view.extent change
        this.onMapbaseExtentChanged = (dataSourceId, message) => {
            const currentVisibleDsId = this.getCurrentVisibleDsId();
            if (currentVisibleDsId === dataSourceId) {
                const clonedViewpoint = message.viewpoint.clone();
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(message);
                // sync viewpoint of hidden mapbase
                let hiddenMapBase = null;
                if (this.state.firstMapDsId && this.state.firstMapDsId !== dataSourceId) {
                    hiddenMapBase = this.refs.firstMapInstance;
                }
                else if (this.state.secondMapDsId && this.state.secondMapDsId !== dataSourceId) {
                    hiddenMapBase = this.refs.secondMapInstance;
                }
                if (hiddenMapBase) {
                    hiddenMapBase.setViewPoint(clonedViewpoint);
                }
            }
        };
        this.handleMapLoaded = (dataSourceId, mapLoadStatus) => {
            this.forceUpdate();
        };
        this.handleJimuMapViewCreated = () => {
            if (this.__unmount) {
                return;
            }
            this.confirmJimuMapViewIsActive();
        };
        this.confirmJimuMapViewIsActive = () => {
            if (this.props.isDefaultMap) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(null);
                if (jimuMapView) {
                    this.setActiveJimuMapView(jimuMapView, true);
                }
                return;
            }
            const allDatasourceIds = [];
            this.state.firstMapDsId && allDatasourceIds.push(this.state.firstMapDsId);
            this.state.secondMapDsId && allDatasourceIds.push(this.state.secondMapDsId);
            const currentDataSourceId = this.getCurrentVisibleDsId();
            for (let i = 0; i < allDatasourceIds.length; i++) {
                const jimuMapView = this.getJimuMapViewByDataSourceId(allDatasourceIds[i]);
                if (jimuMapView) {
                    if (allDatasourceIds[i] === currentDataSourceId) {
                        this.setActiveJimuMapView(jimuMapView, true);
                    }
                    else {
                        this.setActiveJimuMapView(jimuMapView, false);
                    }
                }
            }
        };
        this.isShowMapSwitchBtn = () => {
            const firstMapInstance = this.refs.firstMapInstance;
            const secondMapInstance = this.refs.secondMapInstance;
            if (firstMapInstance && secondMapInstance) {
                if (firstMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading && secondMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__.MapLoadStatus.Loading) {
                    return true;
                }
            }
            else {
                return false;
            }
        };
        this.getCurrentVisibleDsId = () => {
            if (this.state.multiMapStyle[0].opacity === 1) {
                return this.state.firstMapDsId;
            }
            else {
                return this.state.secondMapDsId;
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (this.props.onViewGroupCreate) {
                this.props.onViewGroupCreate(viewGroup);
            }
        };
        this.handleMobilePanelContentChange = (mobilePanelContent) => {
            this.setState({
                mobilePanelContent: mobilePanelContent
            });
        };
        this.handleActiveToolInfoChange = (activeToolInfo) => {
            this.setState({
                activeToolInfo: activeToolInfo
            });
        };
        this.isShowClearShowOnMapDataBtn = () => {
            var _a, _b;
            const showOnMapDatas = ((_a = this.props.baseWidgetProps.mutableStateProps) === null || _a === void 0 ? void 0 : _a.showOnMapDatas) || {};
            const addToMapDatas = ((_b = this.props.baseWidgetProps.mutableStateProps) === null || _b === void 0 ? void 0 : _b.addToMapDatas) || {};
            const showOnMapDataInfos = Object.entries(showOnMapDatas).map(entry => {
                return {
                    jimuMapViewId: entry[1].jimuMapViewId,
                    mapWidgetId: entry[1].mapWidgetId,
                    needToRemove: true,
                    type: entry[1].type
                };
            });
            const addToMapDataInfos = Object.entries(addToMapDatas).map(entry => {
                return {
                    jimuMapViewId: entry[1].jimuMapViewId,
                    mapWidgetId: entry[1].mapWidgetId,
                    needToRemove: entry[1].dataChangeType === jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.DataChangeType.Created,
                    type: entry[1].type
                };
            });
            return showOnMapDataInfos.concat(addToMapDataInfos).some(dataInfo => {
                // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,
                // use a default jimuMapViewId to show data.
                let jimuMapViewId = dataInfo.jimuMapViewId;
                if (!jimuMapViewId && dataInfo.mapWidgetId === this.props.baseWidgetProps.id) {
                    const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;
                    jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === this.props.baseWidgetProps.id);
                }
                return (jimuMapViewId === this.state.currentJimuMapViewId && dataInfo.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.ActionType.DataAction && dataInfo.needToRemove);
            });
        };
        const restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([this.props.baseWidgetProps.id, 'restoreData',
            `${this.props.baseWidgetProps.id}-restoreData-multimap`]);
        if (restoreData) {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            restoreData.mobilePanelContainer = mobilePanelContainer;
            this.reInitWidgetInstance(restoreData);
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, null);
        }
        else {
            const mobilePanelContainer = document.createElement('div');
            mobilePanelContainer.id = `${this.props.baseWidgetProps.id}-bottom-panel`;
            mobilePanelContainer.className = 'w-100 h-100';
            this.state = {
                currentMapIndex: 0,
                multiMapStyle: VisibleStyles.firstMapVisible,
                firstMapDsId: null,
                secondMapDsId: null,
                useAnimation: false,
                useDataSources: null,
                currentJimuMapViewId: null,
                mobilePanelContent: null,
                mobilePanelContainer: mobilePanelContainer,
                activeToolInfo: null
                // showOnMapDatasKey: null
            };
        }
        this.mutableStatePropsMap = {};
        this.useMapWidgetIds = this.props.baseWidgetProps.id ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([this.props.baseWidgetProps.id]) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]);
        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.observeStore)(this.onPageChange, ['appRuntimeInfo', 'currentPageId']);
    }
    componentDidMount() {
        if ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo) {
            if (!(0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().mapWidgetsInfo[this.props.baseWidgetProps.id]) {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoAdded(this.props.baseWidgetProps.id, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({ mapWidgetId: this.props.baseWidgetProps.id })));
            }
        }
        this.__unmount = false;
        if (this.isReIniting) {
            return;
        }
        if (this.props.baseWidgetProps.useDataSources) {
            const initialMapDataSourceID = this.props.baseWidgetProps.config.initialMapDataSourceID;
            if (!initialMapDataSourceID) {
                this.setState({
                    firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,
                    secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId
                });
            }
            else {
                if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId)) {
                    this.setState({
                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,
                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId
                    });
                }
                else if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId)) {
                    this.setState({
                        firstMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId,
                        secondMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId
                    });
                }
                else {
                    this.setState({
                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,
                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId
                    });
                }
            }
        }
    }
    componentWillUnmount() {
        this.__unmount = true;
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources) {
            const restoreData = {
                currentMapIndex: this.state.currentMapIndex,
                multiMapStyle: this.state.multiMapStyle,
                firstMapDsId: this.state.firstMapDsId,
                secondMapDsId: this.state.secondMapDsId,
                useAnimation: this.state.useAnimation,
                currentJimuMapViewId: this.state.currentJimuMapViewId
            };
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.baseWidgetProps.id, `restoreData.${this.props.baseWidgetProps.id}-restoreData-multimap`, restoreData);
        }
        if (!widgets[this.props.baseWidgetProps.id]) {
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.MapWidgetInfoRemoved(this.props.baseWidgetProps.id));
        }
    }
    static getDerivedStateFromProps(newProps, prevState) {
        if (newProps.baseWidgetProps.useDataSources !== prevState.useDataSources) {
            const newState = MultiSourceMap.getChangedState(prevState.firstMapDsId, prevState.secondMapDsId, newProps.baseWidgetProps.useDataSources);
            return newState;
        }
        else {
            return null;
        }
    }
    componentDidUpdate(prevProps, prevState, snapshot) {
        if (this.props.baseWidgetProps.stateProps && this.props.baseWidgetProps.stateProps.initialMapDataSourceID) {
            const initialMapDataSourceID = this.props.baseWidgetProps.stateProps.initialMapDataSourceID;
            if (this.state.firstMapDsId === initialMapDataSourceID) {
                const firstMapInstance = this.refs.firstMapInstance;
                if (firstMapInstance) {
                    firstMapInstance.goHome(false);
                }
            }
            if (this.state.secondMapDsId === initialMapDataSourceID) {
                const secondMapInstance = this.refs.secondMapInstance;
                if (secondMapInstance) {
                    secondMapInstance.goHome(false);
                }
            }
            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(this.props.baseWidgetProps.id, 'initialMapDataSourceID', null));
        }
        if (this.isReIniting) {
            this.isReIniting = false;
            return;
        }
        if (this.props.baseWidgetProps.config.initialMapDataSourceID !== prevProps.baseWidgetProps.config.initialMapDataSourceID) {
            this.changeInitialMapDataSourceID(this.props.baseWidgetProps.config.initialMapDataSourceID, this.confirmJimuMapViewIsActive);
        }
        if (this.props.baseWidgetProps.useDataSources !== prevProps.baseWidgetProps.useDataSources) {
            this.confirmJimuMapViewIsActive();
        }
    }
    getJimuMapViewByDataSourceId(dsId) {
        const jimuMapViewId = (0,_utils__WEBPACK_IMPORTED_MODULE_8__.getJimuMapViewId)(this.props.baseWidgetProps.id, dsId);
        const jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(jimuMapViewId);
        return jimuMapView;
    }
    setActiveJimuMapView(jimuMapView, isActive) {
        if (isActive) {
            jimuMapView.setIsActive(isActive);
            this.setState({
                currentJimuMapViewId: jimuMapView.id
            });
        }
        else {
            jimuMapView.setIsActive(isActive);
        }
    }
    // handleShowOnMapDataChange = (showOnMapDatasKey: string[]) => {
    //  this.setState({
    //    showOnMapDatasKey: showOnMapDatasKey
    //  })
    // }
    getLayoutConfig() {
        if (this.props.widthBreakpoint === 'xsmall') {
            return _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__["default"][0];
        }
        else {
            return this.props.baseWidgetProps.config.layoutIndex ? _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][this.props.baseWidgetProps.config.layoutIndex] : _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__["default"][0];
        }
    }
    render() {
        var _a;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Provider, { value: {
                mapWidgetId: this.props.baseWidgetProps.id,
                mapWidgetHeight: this.props.widgetHeight,
                isShowMapSwitchBtn: this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1 && this.isShowMapSwitchBtn(),
                isShowClearShowOnMapDataBtn: this.isShowClearShowOnMapDataBtn(),
                dataSourceIds: [this.state.firstMapDsId, this.state.secondMapDsId],
                activeDataSourceId: this.getCurrentVisibleDsId(),
                switchMap: this.switchMap,
                fullScreenMap: this.props.fullScreenMap,
                isFullScreen: this.props.isFullScreen,
                mobilePanelContainer: this.state.mobilePanelContainer,
                onMobilePanelContentChange: this.handleMobilePanelContentChange,
                initialMapState: this.props.baseWidgetProps.config && this.props.baseWidgetProps.config.initialMapState,
                theme: this.props.baseWidgetProps.theme
            } },
            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 multi-map-container', style: { position: 'relative' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map1', {
                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[0].opacity,
                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[0].opacity),
                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[0].opacity,
                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[0].opacity)
                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[0].zIndex } }, this.state.firstMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                    // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                    startLoadModules: this.props.startLoadModules, dataSourceId: this.state.firstMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea })),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map2', {
                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[1].opacity,
                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[1].opacity),
                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[1].opacity,
                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[1].opacity)
                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[1].zIndex } }, this.state.secondMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'secondMapInstance', baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                    // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                    startLoadModules: this.props.startLoadModules, dataSourceId: this.state.secondMapDsId, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea }))),
            this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100 h-100 default-map-container', style: { position: 'relative' } },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 multisourcemap-item-appear-noanimate default-map'), style: { position: 'absolute', zIndex: 6 } },
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__["default"], { ref: 'firstMapInstance', isDefaultMap: this.props.isDefaultMap, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, dataSourceId: null, onExtentChanged: this.onMapbaseExtentChanged, onJimuMapViewCreated: this.handleJimuMapViewCreated, onActiveToolInfoChange: this.handleActiveToolInfoChange, 
                        // onShowOnMapDataChanged={this.handleShowOnMapDataChange}
                        startLoadModules: this.props.startLoadModules, widthBreakpoint: this.props.widthBreakpoint, isMapInVisibleArea: this.props.isMapInVisibleArea, defaultMapInfo: this.props.defaultMapInfo }))),
            this.state.currentJimuMapViewId && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__["default"], { jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, widgetManifestName: this.props.baseWidgetProps.manifest.name }),
            this.state.currentJimuMapViewId && jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId) &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_layout_layout__WEBPACK_IMPORTED_MODULE_5__["default"], { mapWidgetId: this.props.baseWidgetProps.id, isMobile: this.props.widthBreakpoint === 'xsmall', jimuMapView: jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.MapViewManager.getInstance().getJimuMapViewById(this.state.currentJimuMapViewId), appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, intl: this.props.baseWidgetProps.intl, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, layoutConfig: this.getLayoutConfig(), toolConfig: this.props.baseWidgetProps.config.toolConfig ? this.props.baseWidgetProps.config.toolConfig : {}, activeToolInfo: this.state.activeToolInfo, onActiveToolInfoChange: this.handleActiveToolInfoChange, theme: this.props.baseWidgetProps.theme, widgetManifestName: this.props.baseWidgetProps.manifest.name, widgetHeight: this.props.widthBreakpoint === 'xsmall' ? null : this.props.widgetHeight, autoControlWidgetId: this.props.autoControlWidgetId }),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.JimuMapViewComponent, { useMapWidgetId: (_a = this.useMapWidgetIds) === null || _a === void 0 ? void 0 : _a[0], onViewGroupCreate: this.handleViewGroupCreate }),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, handleWidth: true, onResize: this.onResize })));
    }
}
MultiSourceMap.getChangedState = (firstMapDsId, secondMapDsId, useDataSources) => {
    const changedState = {};
    if (useDataSources && useDataSources[0]) {
        const newDataSourceArr = [];
        const repeatDataSourceArr = [];
        for (let i = 0; i < useDataSources.length; i++) {
            if (firstMapDsId !== useDataSources[i].dataSourceId) {
                newDataSourceArr.push(useDataSources[i].dataSourceId);
            }
            else {
                repeatDataSourceArr.push(useDataSources[i].dataSourceId);
            }
        }
        if (repeatDataSourceArr.length > 0) {
            changedState.firstMapDsId = firstMapDsId;
            changedState.secondMapDsId = newDataSourceArr[0];
        }
        else if (repeatDataSourceArr.length === 0) {
            if (newDataSourceArr.includes(secondMapDsId)) {
                newDataSourceArr.splice(newDataSourceArr.indexOf(secondMapDsId), 1);
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = secondMapDsId;
            }
            else {
                changedState.firstMapDsId = newDataSourceArr[0];
                changedState.secondMapDsId = newDataSourceArr[1];
            }
        }
    }
    else {
        changedState.firstMapDsId = null;
        changedState.secondMapDsId = null;
    }
    if (changedState.firstMapDsId !== firstMapDsId) {
        if (changedState.firstMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
        else {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
    }
    else {
        if (!changedState.secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.firstMapVisible;
            changedState.currentMapIndex = 0;
        }
        else if (changedState.secondMapDsId !== secondMapDsId) {
            changedState.multiMapStyle = VisibleStyles.secondMapVisible;
            changedState.currentMapIndex = 1;
        }
    }
    return changedState;
};


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool-shell.tsx":
/*!********************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool-shell.tsx ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseToolShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-modules */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/tool-modules.ts");
/** @jsx jsx */



class BaseToolShell extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    getStyle() {
        const styleObj = this.props.layoutConfig.elements[this.props.toolName].style;
        let styleStr = '';
        if (styleObj) {
            const styleStrs = Object.keys(styleObj).map((styleKey) => {
                return `${styleKey}: ${styleObj[styleKey]};`;
            });
            styleStr = styleStrs.join('');
        }
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      ${styleStr}
      `;
    }
    render() {
        const ToolClass = _tool_modules__WEBPACK_IMPORTED_MODULE_2__["default"][this.props.toolName];
        let isAvailable = true;
        if (ToolClass) {
            if (ToolClass.isAvailable) {
                isAvailable = ToolClass.isAvailable(this.props);
            }
            else {
                isAvailable = true;
            }
        }
        else {
            isAvailable = false;
        }
        if (isAvailable) {
            const className = `exbmap-ui exbmap-ui-tool-shell divitem exbmap-ui-tool-shell-${this.props.toolName}`;
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(this.props.className, className, this.props.layoutConfig.elements[this.props.toolName].className, {
                    'exbmap-ui-hidden-element': this.props.isHidden,
                    'mb-0 mr-0': this.props.isLastElement,
                    'rounded-pill': ['Compass'].includes(this.props.toolName)
                }) },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToolClass, { mapWidgetId: this.props.mapWidgetId, ref: 'baseToolInstance', toolJson: this.props.layoutConfig.elements[this.props.toolName], toolName: this.props.toolName, isMobile: this.props.isMobile, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, theme: this.props.theme, autoControlWidgetId: this.props.autoControlWidgetId })));
        }
        else {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null);
            }
            else {
                return null;
            }
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx":
/*!**************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseTool": () => (/* binding */ BaseTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _scroll_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scroll-container */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/scroll-container.tsx");
/* harmony import */ var _panel_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel-shell */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/panel-shell.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






const defaultIcon = __webpack_require__(/*! jimu-ui/lib/icons/widgets.svg */ "./jimu-ui/lib/icons/widgets.svg");
const closeIcon = __webpack_require__(/*! ../../assets/icons/close-12.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/close-12.svg");
class BaseTool extends _ui_component__WEBPACK_IMPORTED_MODULE_2__.UIComponent {
    constructor(props) {
        super(props);
        this.toolName = null;
        this.isContainedToMobilePanel = false;
        // this param is used to update pop position when pc content has changed
        this.generation = 0;
        this._getContent = () => {
            if (this.props.toolJson.isOnlyExpanded) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: 'exbmap-ui exbmap-ui-tool-panel' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())));
            }
            else {
                if (this.props.isMobile) {
                    return this._renderMobileTool();
                }
                else {
                    return this._renderPCTool();
                }
            }
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.generation = height;
            this.forceUpdate();
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        const mapContainer = this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.container;
        if (jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanelManager.getInstance().checkDomIsContained(mapContainer)) {
            this.isContainedToMobilePanel = true;
        }
        this.modifiers = [{
                name: 'flip',
                options: {
                    padding: 0
                }
            }, {
                name: 'preventOverflow',
                options: {
                    boundary: mapContainer
                }
            }];
        this._onKeyDown = this._onKeyDown.bind(this);
        this.onPopperToggle = this.onPopperToggle.bind(this);
    }
    _cssStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      /* pointer-events: auto;
      box-shadow: 0 1px 2px rgba(0,0,0,0.3);
      position: relative;

      .exbmap-ui-tool-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .exbmap-ui-expand-content {
        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;
        min-height: 10px;
        min-width: 10px;
        padding-top: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};
        padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(20)};

        .exbmap-ui-expand-content-header {
          margin-bottom: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(10)};
        }

        .panel-title {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
          color: #000000;
        }
      }

      .expand-placement-bottom {
        padding-top: 0.25rem !important;
      }

      .expand-placement-left {
        padding-right: 0.25rem !important;
      }

      .expand-placement-right {
        padding-left: 0.25rem !important;
      }

      .expand-placement-top {
        padding-bottom: 0.25rem !important;
      }

      .exbmap-basetool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .exbmap-basetool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .exbmap-basetool-loader:after {
        background-color: #6e6e6e;
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      } */
    `;
    }
    focusDefaultElement() { }
    onShowPanel() { }
    onClosePanel() { }
    destroy() { }
    static getIsNeedSetting() {
        return true;
    }
    /**
     * Retrun true if the tool should be rendered on the map, otherwise return false.
     * e.g. ScaleBar only supports map view, so ScaleBarTool.isAvailable() will return false if the map is scene view.
     */
    static isAvailable(toolShellProps) {
        return true;
    }
    onPopperToggle(e) {
        if (e) {
            if (e.type === 'keydown' && e.key === 'Escape') {
                this._onIconClick();
                this.iconContainer.focus();
            }
        }
    }
    _onKeyDown(e) {
        var _a;
        if (e.key === 'Enter' || e.key === ' ') {
            if (((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) !== this.toolName) {
                this._onIconClick();
            }
            else {
                this.focusDefaultElement();
            }
        }
    }
    _onIconClick(e) {
        const onIconClick = this.getIcon() && this.getIcon().onIconClick;
        if (onIconClick) {
            onIconClick(e);
        }
        if (!this.getExpandPanel()) {
            return;
        }
        if (this.props.activeToolInfo) {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
            else {
                this.props.onActiveToolInfoChange({
                    activeToolName: this.toolName,
                    activeToolTitle: this.getTitle()
                });
                this.onShowPanel();
            }
        }
        else {
            this.props.onActiveToolInfoChange({
                activeToolName: this.toolName,
                activeToolTitle: this.getTitle()
            });
            this.onShowPanel();
        }
    }
    _initIconContainer(ref) {
        if (ref && !this.iconContainer) {
            this.iconContainer = ref;
            this.forceUpdate();
        }
    }
    _renderPCTool() {
        var _a;
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        this.generation = this.generation + 1;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle(), style: { width: '32px', height: '32px' } },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this._initIconContainer(ref); }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); }, "aria-expanded": ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) === this.toolName, role: 'button', tabIndex: 0, onKeyDown: this._onKeyDown },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.iconContainer && (this.toolName === activeToolName && expandPanel) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { className: 'exbmap-ui-popper', reference: this.iconContainer, open: !!(this.toolName === activeToolName && expandPanel), placement: this.props.toolJson.panelPlacement, modifiers: this.modifiers, version: this.generation, offset: [0, 4], toggle: this.onPopperToggle, forceLatestFocusElements: true },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mapWidgetHeight }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this._cssStyle(), className: this.getExpandPanelPlacementClassName() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-expand-content' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 justify-content-between d-flex exbmap-ui-expand-content-header' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'panel-title text-truncate', style: { maxWidth: '210px' }, title: this.getTitle() }, this.getTitle()),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: () => { this.props.onActiveToolInfoChange(null); }, style: { cursor: 'pointer' }, tabIndex: 0, role: "button", "aria-label": this.props.intl.formatMessage({ id: 'close', defaultMessage: 'close' }) },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 20, height: 20, icon: closeIcon }))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { maxHeight: `${mapWidgetHeight - 55}px`, overflowY: this.toolName !== 'Search' ? 'auto' : 'inherit' } }, expandPanel),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.onResize }))))))))));
    }
    _renderMobileTool() {
        let toolIcon = this.getIcon();
        if (!toolIcon) {
            toolIcon = {
                icon: defaultIcon,
                onIconClick: () => { }
            };
        }
        const expandPanel = this.getExpandPanel();
        const activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui exbmap-ui-tool', css: this._cssStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, ref: ref => { this.iconContainer = ref; }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel
                }), role: 'button', tabIndex: 0, onKeyDown: this._onKeyDown, title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: e => { this._onIconClick(e); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: toolIcon.icon })),
            this.toolName === activeToolName && expandPanel &&
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_panel_shell__WEBPACK_IMPORTED_MODULE_4__["default"], { onDestroyed: () => { this.onClosePanel(); } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100 d-flex flex-column', css: this._cssStyle() },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_scroll_container__WEBPACK_IMPORTED_MODULE_3__["default"], { className: 'w-100 h-100' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ErrorBoundary, null, this.getExpandPanel())))), mobilePanelContainer)))));
    }
    getExpandPanelPlacementClassName() {
        if (!this.props.toolJson.panelPlacement) {
            return null;
        }
        else {
            return `expand-placement-${this.props.toolJson.panelPlacement.split('-')[0]}`;
        }
    }
    render() {
        return this._getContent();
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/group.tsx":
/*!**********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/group.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Group)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/ui-component.tsx");
/* harmony import */ var _base_tool_shell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tool-shell */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool-shell.tsx");
/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-modules */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/tool-modules.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */






class Group extends _ui_component__WEBPACK_IMPORTED_MODULE_1__.UIComponent {
    getStyle() {
        const styleObj = this.props.layoutConfig.elements[this.props.groupName].style;
        const direction = this.props.layoutConfig.elements[this.props.groupName].direction;
        let styleStr = '';
        if (styleObj) {
            const styleStrs = Object.keys(styleObj).map((styleKey) => {
                return `${styleKey}: ${styleObj[styleKey]};`;
            });
            styleStr = styleStrs.join('');
        }
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      ${styleStr}

      display: flex;
      flex-flow: ${direction === 'vertical' ? 'column' : 'row'};
      align-items: flex-start;

      .exbmap-ui-group-expand-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .expand-mobile-panel {
        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;
        border-radius: 10px 10px 0px 0px;
      }

      .expand-mobile-panel-transition {
        transition: height 0.3s;
      }

      .expand-mobile-panel-touch-container {
        top: 0;
        position: absolute;
        width: 100%;
        height: 31px;
      }

      .expand-mobile-panel-bar {
        width: 36px;
        height: 4px;
        background-color: #434343;
        border-radius: 2px;
      }
      `;
    }
    constructor(props) {
        super(props);
        this.checkIsHiddenElement = (elementName) => {
            if (this.props.hiddenElementNames) {
                if (this.props.hiddenElementNames.includes(elementName)) {
                    return true;
                }
                else {
                    return false;
                }
            }
            else {
                return false;
            }
        };
        /**
         * Hide some tools if widget hegith is too small.
         * This method only hide child element names if current group is main group and in mobile size.
         * @returns
         */
        this.checkResponsive = () => {
            if (!this.props.onSetHiddenElementNames) {
                return;
            }
            if (!this.props.isMainGroup || !this.props.isMobile) {
                this.props.onSetHiddenElementNames([]);
                return;
            }
            const mobileResponsiveStrategy = this.props.layoutConfig.mobileResponsiveStrategy;
            const aboveHeight = this.state.widgetHeight;
            // see issue #2862 for more details
            let hiddenElementNames = [];
            if (aboveHeight >= 465) {
                hiddenElementNames = [];
            }
            else if (aboveHeight >= 400 && aboveHeight < 465) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage1) || [];
            }
            else if (aboveHeight >= 320 && aboveHeight < 400) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage2) || [];
            }
            else if (aboveHeight >= 250 && aboveHeight < 320) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage3) || [];
            }
            else if (aboveHeight >= 160 && aboveHeight < 250) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage4) || [];
            }
            else if (aboveHeight >= 54 && aboveHeight < 160) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage5) || [];
            }
            else if (aboveHeight < 54) {
                hiddenElementNames = (mobileResponsiveStrategy === null || mobileResponsiveStrategy === void 0 ? void 0 : mobileResponsiveStrategy.stage6) || [];
            }
            this.props.onSetHiddenElementNames(hiddenElementNames);
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            this.setState({
                widgetWidth: width,
                widgetHeight: height
                // isThumbMap: false
            }, () => {
                this.checkResponsive();
            });
        };
        this.returnNullNode = (key) => {
            if (this.props.isMobile) {
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { key: key });
            }
            else {
                return null;
            }
        };
        this.checkIsLastElement = (parentGroupJson, toolJson) => {
            const toolName = toolJson.toolName;
            const layoutJson = this.props.layoutConfig;
            const children = layoutJson.layout[parentGroupJson.groupName].children;
            const index = children.indexOf(toolName);
            if (index === children.length - 1) {
                return true;
            }
            if (index < children.length - 1) {
                let isLastElement = true;
                for (let i = (index + 1); i < children.length; i++) {
                    const elementName = children[i];
                    if (layoutJson.elements[children[i]].type === 'GROUP') {
                        continue;
                    }
                    else if ((!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][elementName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${elementName}`]) ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(elementName)))) {
                        isLastElement = false;
                        break;
                    }
                    else {
                        continue;
                    }
                }
                return isLastElement;
            }
        };
        this.handleToggleMobilePanel = () => {
            this.props.onActiveToolInfoChange(null);
        };
        this.handlePanelHeightChange = (panelWidth, panelHeight) => {
            this.setState({ bottomPanelHeight: panelHeight }, () => {
                this.checkResponsive();
            });
        };
        this.getMobilePanelInContext = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__.MultiSourceMapContext.Consumer, null, ({ mobilePanelContainer, mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_4__.MobilePanel, { mapWidgetId: mapWidgetId, title: this.props.activeToolInfo && this.props.activeToolInfo.activeToolTitle, open: !!this.props.activeToolInfo, onClose: () => { this.handleToggleMobilePanel(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: (container) => { if (mobilePanelContainer && container) {
                        container.appendChild(mobilePanelContainer);
                    } } })))));
        };
        this.getGroupContent = (layoutJson) => {
            if (!layoutJson) {
                return this.returnNullNode();
            }
            else {
                const children = layoutJson.layout[this.props.groupName] && layoutJson.layout[this.props.groupName].children;
                if (this.checkIsShowGroup(layoutJson, children)) {
                    const groupClassName = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)(`exbmap-ui exbmap-ui-group exbmap-ui-group-${this.props.groupName}`, this.props.className, { 'exbmap-ui-hidden-element': this.props.isHidden });
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: (this.props.isMainGroup ? this.props.mapWidgetId : undefined), css: this.getStyle(), className: groupClassName },
                        children.map((key, index) => {
                            var _a, _b;
                            if (!layoutJson.elements[key]) {
                                return this.returnNullNode(index);
                            }
                            if (layoutJson.elements[key].type === 'GROUP') {
                                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(Group, { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, isMobile: this.props.isMobile, intl: this.props.intl, jimuMapView: this.props.jimuMapView, groupName: key, activeToolInfo: this.props.activeToolInfo, hiddenElementNames: this.props.hiddenElementNames, onActiveToolInfoChange: this.props.onActiveToolInfoChange, theme: this.props.theme, isThumbMap: this.props.isMainGroup ? this.state.isThumbMap : this.props.isThumbMap, autoControlWidgetId: this.props.autoControlWidgetId }));
                            }
                            else if (layoutJson.elements[key].type === 'TOOL') {
                                const toolName = layoutJson.elements[key].toolName;
                                const viewType = (_b = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type;
                                // Navigation is not available for 2D MapView.
                                if ((toolName === 'Navigation' && viewType === '2d') || (toolName === 'ScaleBar' && viewType === '3d')) {
                                    return this.returnNullNode(index);
                                }
                                if (!_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][key].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[`can${key}`]) || (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(key))) {
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__["default"], { mapWidgetId: this.props.mapWidgetId, isHidden: this.checkIsHiddenElement(key), key: index, layoutConfig: layoutJson, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: key, theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: this.checkIsLastElement(layoutJson.elements[this.props.groupName], layoutJson.elements[key]), autoControlWidgetId: this.props.autoControlWidgetId }));
                                }
                                else {
                                    return this.returnNullNode(index);
                                }
                            }
                            else {
                                return this.returnNullNode(index);
                            }
                        }),
                        this.props.isMainGroup && this.props.isMobile && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }),
                        this.props.isMainGroup && this.props.isMobile && this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== 'Select' && this.getMobilePanelInContext(),
                        this.props.isMainGroup && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui w-100', style: {
                                position: 'relative',
                                pointerEvents: 'auto',
                                overflow: 'hidden',
                                touchAction: 'none',
                                display: this.props.isMobile && !(this.state.isThumbMap || this.props.isThumbMap) ? 'block' : 'none'
                            } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.props.mapWidgetId}-bottom-panel exbmap-ui w-100 expand-mobile-panel`, style: { overflow: 'hidden', pointerEvents: 'auto', position: 'relative', touchAction: 'none' } },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleHeight: true, onResize: this.handlePanelHeightChange }))))));
                }
                else {
                    return this.returnNullNode();
                }
            }
        };
        this.checkIsShowGroup = (layoutJson, children) => {
            if (!children || children.length === 0) {
                return false;
            }
            else {
                const toolNames = [];
                this.findAllToolNames(layoutJson, children, toolNames);
                let isShowGroup = false;
                for (let i = 0; i < toolNames.length; i++) {
                    if (this.props.toolConfig[`can${toolNames[i]}`] || !_tool_modules__WEBPACK_IMPORTED_MODULE_3__["default"][toolNames[i]].getIsNeedSetting() ||
                        (layoutJson.lockToolNames && layoutJson.lockToolNames.includes(toolNames[i]))) {
                        isShowGroup = true;
                        break;
                    }
                }
                return isShowGroup;
            }
        };
        this.findAllToolNames = (layoutJson, children, toolNames) => {
            if (!children || children.length === 0) {
                return;
            }
            for (let i = 0; i < children.length; i++) {
                const childName = children[i];
                const elementInfo = layoutJson.elements[childName];
                if (elementInfo.type === 'GROUP') {
                    const groupName = elementInfo.groupName;
                    this.findAllToolNames(layoutJson, layoutJson.layout[groupName] && layoutJson.layout[groupName].children, toolNames);
                }
                else {
                    toolNames.push(children[i]);
                }
            }
        };
        this.state = {
            bottomPanelHeight: 0,
            isThumbMap: !!this.props.isMobile
        };
    }
    componentDidMount() {
        this.checkResponsive();
    }
    render() {
        if (this.props.isMainGroup && this.props.isMobile && this.props.toolConfig && this.props.toolConfig.canSelect) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { id: `${this.props.mapWidgetId}-with-select-container`, style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', style: { position: 'relative' } }, this.getGroupContent(this.props.layoutConfig)))));
        }
        else {
            return this.getGroupContent(this.props.layoutConfig);
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/panel-shell.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/panel-shell.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PanelShell)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class PanelShell extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    componentWillUnmount() {
        if (this.props.onDestroyed) {
            this.props.onDestroyed();
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null, this.props.children));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/scroll-container.tsx":
/*!*********************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/scroll-container.tsx ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScrollContainer)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/** @jsx jsx */

class ScrollContainer extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.moveY = 0;
        this.startY = 0;
        this.isRegisted = false;
        this.registerTouchEvent = (ref) => {
            if (ref && !this.isRegisted) {
                ref.addEventListener('touchstart', (event) => {
                    this.moveY = 0;
                    const touch = event.touches[0];
                    this.startY = touch.clientY;
                }, { passive: false });
                ref.addEventListener('touchmove', (event) => {
                    const touch = event.touches[0];
                    this.moveY = (touch.clientY - this.startY) * -1;
                    this.startY = touch.clientY;
                    ref.scrollTop = ref.scrollTop + this.moveY;
                }, { passive: false });
                ref.addEventListener('touchend', (event) => {
                    this.moveY = 0;
                    this.startY = 0;
                }, { passive: false });
                this.isRegisted = true;
            }
        };
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      overflow: auto;
      pointer-events: auto;
      `;
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: this.props.className, style: this.props.style, ref: ref => {
                this.registerTouchEvent(ref);
            } }, this.props.children));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/ui-component.tsx":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/ui-component.tsx ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UIComponent": () => (/* binding */ UIComponent)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class UIComponent extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/layout.tsx":
/*!******************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/layout.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _base_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/group */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/group.tsx");
/** @jsx jsx */


class Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        // this item is used to solve the flash issue when swith mulitimap
        this.cloneLayoutRef = null;
        this.getMaxHeightForPcExpand = (widgetHeight) => {
            if (!widgetHeight) {
                return null;
            }
            else {
                if (widgetHeight < 65) {
                    return null;
                }
                else {
                    const resultHeight = widgetHeight - 65;
                    if (resultHeight < 300) {
                        return resultHeight;
                    }
                    else {
                        return 300;
                    }
                }
            }
        };
        this.handSetHiddenElementNames = (elementNames) => {
            this.setState({
                hiddenElementNames: elementNames
            });
        };
        this.state = {
            toolsContentInMobileExpandPanel: null,
            hiddenElementNames: []
        };
        this.contentRef = document.createElement('div');
        this.contentRef.className = 'exbmap-ui esri-ui-inner-container map-tool-layout';
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      z-index: 0;

      .expand-panel-transition {
        transition: opacity 0.3s, right 0.3s;
      }

      .scale-attribution-xy-group {
        > div:first-of-type:nth-last-of-type(1) {
          width: 100%;
          max-width: 100% !important;
        }
      }

      .exbmap-ui-hidden-element {
        display: none !important;
      }

      .exbmap-ui-pc-expand-maxheight {
        max-height: ${this.getMaxHeightForPcExpand(this.props.widgetHeight)}px;
        overflow: auto
      }
      `;
    }
    getLayoutContent(layoutJson) {
        if (!layoutJson || !this.props.toolConfig) {
            return null;
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle() }, Object.keys(layoutJson.layout).map((key, index) => {
                const elementItem = layoutJson.elements[key];
                const layoutItem = layoutJson.layout[key];
                if (!elementItem || elementItem.type !== 'GROUP' || !layoutItem.isMainGroup) {
                    return null;
                }
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_group__WEBPACK_IMPORTED_MODULE_1__["default"], { mapWidgetId: this.props.mapWidgetId, className: elementItem.className, style: elementItem.style, isMobile: this.props.isMobile, isMainGroup: true, key: index, layoutConfig: layoutJson, toolConfig: this.props.toolConfig, activeToolInfo: this.props.activeToolInfo, jimuMapView: this.props.jimuMapView, groupName: key, onActiveToolInfoChange: this.props.onActiveToolInfoChange, hiddenElementNames: layoutJson.mobileResponsiveStrategy && this.state.hiddenElementNames, intl: this.props.intl, onSetHiddenElementNames: this.handSetHiddenElementNames, theme: this.props.theme, autoControlWidgetId: this.props.autoControlWidgetId }));
            })));
        }
    }
    componentDidMount() {
        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {
            this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);
        }
    }
    componentDidUpdate(prevProps) {
        var _a, _b;
        if (prevProps.appMode !== this.props.appMode && this.props.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            this.props.onActiveToolInfoChange(null);
        }
        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {
            const cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('tool-layout-clone');
            if (cloneDoms && cloneDoms.length > 0) {
                for (let i = 0; i < cloneDoms.length; i++) {
                    cloneDoms[i].remove();
                }
            }
        }
        if (((_a = prevProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.id) !== ((_b = this.props.jimuMapView) === null || _b === void 0 ? void 0 : _b.id)) {
            this.cloneLayoutRef = this.contentRef.cloneNode(true);
            this.cloneLayoutRef.classList.add('tool-layout-clone');
            setTimeout(() => {
                if (this.cloneLayoutRef && this.cloneLayoutRef.parentNode) {
                    this.cloneLayoutRef.parentNode.removeChild(this.cloneLayoutRef);
                }
                this.cloneLayoutRef = null;
            }, 500);
            if (prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui && prevProps.jimuMapView.view.ui.container) {
                prevProps.jimuMapView.view.ui.container.appendChild(this.cloneLayoutRef);
                prevProps.jimuMapView.view.ui.container.removeChild(this.contentRef);
            }
            if (this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {
                this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);
            }
        }
    }
    render() {
        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal(this.getLayoutContent(this.props.layoutConfig), this.contentRef)));
        }
        else {
            return null;
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/map-fixed-layout.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/map-fixed-layout.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layout)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ "./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts");
/** @jsx jsx */



class Layout extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        // this item is used to solve the flash issue when swith mulitimap
        this.cloneLayoutRef = null;
        this.insertFixedDom = (container, insertedDom) => {
            if (!container || !insertedDom) {
                return;
            }
            const toolLayoutDoms = container.getElementsByClassName('map-tool-layout');
            if (toolLayoutDoms && toolLayoutDoms[0]) {
                container.insertBefore(insertedDom, toolLayoutDoms[0]);
            }
            else {
                container.appendChild(insertedDom);
            }
        };
        this.getMapFixedLayout = () => {
            if (window.jimuConfig.isInBuilder) {
                const LayoutEntry = this.props.LayoutEntry;
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(LayoutEntry, { layouts: layout || null, isInWidget: true, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100 map-fix-layout', { 'widget-map-usemask': !(0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode), 'map-is-live-mode': (0,_utils__WEBPACK_IMPORTED_MODULE_2__.checkIsLive)(this.props.appMode) }) }));
            }
            else {
                const layout = this.props.layouts && this.props.layouts.MapFixedLayout;
                return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__.LayoutEntry, { layouts: layout ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(layout) : null, className: 'w-100 h-100 map-is-live-mode map-fix-layout' });
            }
        };
        this.state = {};
        this.fixedLayoutRef = document.createElement('div');
        this.fixedLayoutRef.className = 'w-100 h-100 map-fix-layout';
        this.fixedLayoutRef.style.position = 'absolute';
        this.fixedLayoutRef.style.zIndex = '0';
    }
    componentDidMount() {
        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {
            this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (!prevProps.jimuMapView || !this.props.jimuMapView) {
            return;
        }
        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {
            const cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('layout-clone');
            if (cloneDoms && cloneDoms.length > 0) {
                for (let i = 0; i < cloneDoms.length; i++) {
                    cloneDoms[i].remove();
                }
            }
        }
        if (prevProps.jimuMapView.id !== this.props.jimuMapView.id) {
            if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {
                this.cloneLayoutRef = this.fixedLayoutRef.cloneNode(true);
                this.cloneLayoutRef.classList.add('layout-clone');
                this.insertFixedDom(prevProps.jimuMapView.view.ui.container, this.cloneLayoutRef);
                setTimeout(() => {
                    if (this.cloneLayoutRef && this.cloneLayoutRef.parentNode) {
                        this.cloneLayoutRef.parentNode.removeChild(this.cloneLayoutRef);
                    }
                    this.cloneLayoutRef = null;
                }, 500);
                if (prevProps.jimuMapView.view.ui.container.contains(this.fixedLayoutRef)) {
                    prevProps.jimuMapView.view.ui.container.removeChild(this.fixedLayoutRef);
                }
            }
            this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);
        }
    }
    render() {
        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactDOM.createPortal(this.getMapFixedLayout(), this.fixedLayoutRef)));
        }
        else {
            // seems we can't run to here?
            return this.getMapFixedLayout();
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/mobile-layout-json.ts":
/*!*****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/mobile-layout-json.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const mobileLayoutJson = {
    elements: {
        mainGroup: {
            type: 'GROUP',
            groupName: 'mainGroup',
            direction: 'vertical',
            className: 'd-flex flex-column',
            style: {
                position: 'absolute',
                top: '0px',
                left: '0px',
                bottom: '0px',
                right: '0px'
            }
        },
        topGroup: {
            type: 'GROUP',
            groupName: 'topGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between',
            style: {
                padding: '10px 10px 0 10px'
            }
        },
        midGroup: {
            type: 'GROUP',
            groupName: 'midGroup',
            direction: 'horizontal',
            className: 'flex-grow-1 d-flex w-100 justify-content-between',
            style: {
                position: 'relative'
            }
        },
        bottomGroup: {
            type: 'GROUP',
            groupName: 'bottomGroup',
            direction: 'horizontal',
            className: 'd-flex w-100 align-items-center justify-content-between'
        },
        'midGroup-left-top': {
            type: 'GROUP',
            groupName: 'midGroup-left-top',
            direction: 'vertical',
            style: {
                position: 'absolute',
                left: '0px',
                top: '0px'
            }
        },
        'midGroup-left-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-left-bottom',
            direction: 'vertical',
            className: 'd-flex flex-column',
            style: {
                position: 'absolute',
                left: '0px',
                bottom: '0px'
            }
        },
        'midGroup-right-content-top': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-top',
            direction: 'vertical',
            style: {
                position: 'absolute',
                top: '0px',
                right: '10px'
            }
        },
        'midGroup-right-content-bottom': {
            type: 'GROUP',
            groupName: 'midGroup-right-content-bottom',
            direction: 'vertical',
            style: {
                position: 'absolute',
                bottom: '10px',
                right: '10px'
            }
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'flex-grow-1'
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            style: {
                'margin-left': '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'mb-0',
            style: {
                'margin-left': '10px',
                'margin-top': '10px'
            }
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true,
            style: {
                'margin-left': '10px',
                'margin-bottom': '10px !important'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                'margin-top': '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                'margin-top': '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                width: '100%'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                'margin-top': '10px'
            }
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        }
    },
    layout: {
        mainGroup: {
            isMainGroup: true,
            children: ['topGroup', 'midGroup', 'bottomGroup']
        },
        topGroup: {
            children: ['Search', 'FullScreen']
        },
        midGroup: {
            children: ['midGroup-left-top', 'midGroup-left-bottom', 'midGroup-right-content-top', 'midGroup-right-content-bottom']
        },
        'midGroup-left-top': {
            children: ['Compass']
        },
        'midGroup-left-bottom': {
            children: ['MapSwitch', 'ScaleBar']
        },
        'midGroup-right-content-top': {
            children: ['Layers', 'BaseMap', 'Measure', 'Select']
        },
        'midGroup-right-content-bottom': {
            children: ['Zoom', 'Home', 'Locate', 'ClearActionData']
        },
        bottomGroup: {
            children: ['SelectState']
        }
    },
    mobileResponsiveStrategy: {
        // height: 400-465
        stage1: ['Measure', 'Locate'],
        // height: 320-400
        stage2: ['Measure', 'Select', 'Locate', 'bottomGroup'],
        // height: 250-320
        stage3: ['midGroup-right-content-top', 'Locate', 'bottomGroup'],
        // height: 160-250
        stage4: ['MapSwitch', 'midGroup-right-content-top', 'Home', 'Locate', 'ClearActionData', 'bottomGroup'],
        // height: 54-160
        stage5: ['midGroup', 'bottomGroup'],
        // height: 0-54
        stage6: ['topGroup', 'midGroup', 'bottomGroup']
    },
    lockToolNames: []
};
const mobileLayoutJsons = [mobileLayoutJson];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mobileLayoutJsons);


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/pc-layout-json.ts":
/*!*************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/pc-layout-json.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const layoutJson1 = {
    elements: {
        leftTopContainer: {
            type: 'GROUP',
            groupName: 'leftTopContainer',
            direction: 'horizontal',
            style: {
                position: 'absolute',
                top: '15px',
                left: '15px'
            }
        },
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            style: {
                'margin-right': '10px'
            }
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'vertical',
            isResponsive: true,
            style: {
                position: 'absolute',
                top: '15px',
                right: '15px'
            }
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100',
            style: {
                position: 'absolute',
                bottom: '0px',
                left: '0px'
            }
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                'margin-bottom': '0px',
                'margin-top': '0px'
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                'padding-left': '15px',
                'padding-right': '15px',
                'margin-bottom': '10px'
            }
        },
        'SelectState-FullScreen-Container': {
            type: 'GROUP',
            groupName: 'SelectState-FullScreen-Container',
            direction: 'vertical',
            className: 'align-items-end'
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                'max-width': '60%'
            }
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-bottom': '10px'
            }
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-bottom': '10px'
            }
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-bottom': '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-bottom': '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                'margin-bottom': '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                'margin-bottom': '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px',
                'box-shadow': '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start'
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'left-start',
            style: {
                'margin-bottom': '10px'
            }
        }
    },
    layout: {
        leftTopContainer: {
            isMainGroup: true,
            children: ['navigator', 'Select']
        },
        navigator: {
            children: ['Zoom', 'Home', 'Navigation', 'Locate', 'Compass']
        },
        interact: {
            isMainGroup: true,
            children: ['Search', 'Layers', 'BaseMap', 'Measure']
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'SelectState-FullScreen-Container']
        },
        'SelectState-FullScreen-Container': {
            children: ['FullScreen', 'ClearActionData', 'SelectState']
        },
        bottom: {
            isMainGroup: true,
            children: ['bottom-line2', 'bottom-line1']
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJson2 = {
    elements: {
        navigator: {
            type: 'GROUP',
            groupName: 'navigator',
            direction: 'vertical',
            className: 'align-items-end'
        },
        interact: {
            type: 'GROUP',
            groupName: 'interact',
            direction: 'horizontal',
            isResponsive: true,
            style: {
                position: 'absolute',
                top: '15px',
                left: '15px'
            }
        },
        fullScreenGroup: {
            type: 'GROUP',
            groupName: 'fullScreenGroup',
            direction: 'horizontal',
            style: {
                position: 'absolute',
                top: '15px',
                right: '15px'
            }
        },
        bottom: {
            type: 'GROUP',
            groupName: 'bottom',
            direction: 'vertical',
            className: 'w-100',
            style: {
                position: 'absolute',
                bottom: '0px',
                left: '0px'
            }
        },
        'bottom-line1': {
            type: 'GROUP',
            groupName: 'bottom-line1',
            direction: 'horizontal',
            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',
            style: {
                'margin-bottom': '0px',
                'margin-top': '0px'
            }
        },
        'bottom-line2': {
            type: 'GROUP',
            groupName: 'bottom-line2',
            direction: 'horizontal',
            className: 'd-flex align-items-end justify-content-between w-100',
            style: {
                'padding-left': '15px',
                'padding-right': '15px',
                'margin-bottom': '10px'
            }
        },
        attributionGroup: {
            type: 'GROUP',
            groupName: 'attributionGroup',
            direction: 'horizontal',
            style: {
                'max-width': '60%'
            },
            className: 'attibute-group'
        },
        Zoom: {
            type: 'TOOL',
            toolName: 'Zoom',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        Home: {
            type: 'TOOL',
            toolName: 'Home',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        Compass: {
            type: 'TOOL',
            toolName: 'Compass',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Navigation: {
            type: 'TOOL',
            toolName: 'Navigation',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        Locate: {
            type: 'TOOL',
            toolName: 'Locate',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px'
            }
        },
        Layers: {
            type: 'TOOL',
            toolName: 'Layers',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                'margin-right': '10px'
            }
        },
        BaseMap: {
            type: 'TOOL',
            toolName: 'BaseMap',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                'margin-right': '10px'
            }
        },
        Select: {
            type: 'TOOL',
            toolName: 'Select',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        SelectState: {
            type: 'TOOL',
            toolName: 'SelectState',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            style: {
                'margin-top': '10px',
                'box-shadow': '0 1px 2px 0 rgba(0,0,0,0)'
            }
        },
        Measure: {
            type: 'TOOL',
            toolName: 'Measure',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                'margin-right': '10px'
            }
        },
        MapSwitch: {
            type: 'TOOL',
            toolName: 'MapSwitch',
            isOnlyExpanded: true,
            isShowIconTitle: true
        },
        FullScreen: {
            type: 'TOOL',
            toolName: 'FullScreen',
            isOnlyExpanded: false,
            isShowIconTitle: true
        },
        ClearActionData: {
            type: 'TOOL',
            toolName: 'ClearActionData',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        ScaleBar: {
            type: 'TOOL',
            toolName: 'ScaleBar',
            isOnlyExpanded: true,
            isShowIconTitle: false
        },
        Attribution: {
            type: 'TOOL',
            toolName: 'Attribution',
            isOnlyExpanded: true,
            isShowIconTitle: false,
            className: 'w-100'
        },
        Search: {
            type: 'TOOL',
            toolName: 'Search',
            isOnlyExpanded: false,
            isShowIconTitle: true,
            panelPlacement: 'bottom',
            style: {
                'margin-right': '10px'
            }
        }
    },
    layout: {
        navigator: {
            children: ['Compass', 'Locate', 'Navigation', 'Zoom', 'Home', 'SelectState']
        },
        interact: {
            isMainGroup: true,
            children: ['Search', 'Layers', 'BaseMap', 'Measure', 'Select']
        },
        fullScreenGroup: {
            isMainGroup: true,
            children: ['FullScreen', 'ClearActionData']
        },
        'bottom-line1': {
            children: ['ScaleBar', 'attributionGroup']
        },
        'bottom-line2': {
            children: ['MapSwitch', 'navigator']
        },
        bottom: {
            isMainGroup: true,
            children: ['bottom-line2', 'bottom-line1']
        },
        attributionGroup: {
            children: ['Attribution']
        }
    }
};
const layoutJsons = [layoutJson1, layoutJson2];
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (layoutJsons);


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/tool-modules.ts":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/layout/tool-modules.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _tools_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/zoom */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/zoom.tsx");
/* harmony import */ var _tools_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/home */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/home.tsx");
/* harmony import */ var _tools_compass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/compass */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/compass.tsx");
/* harmony import */ var _tools_locate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/locate */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/locate.tsx");
/* harmony import */ var _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/clear-action-data */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/clear-action-data.tsx");
/* harmony import */ var _tools_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/navigation */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/navigation.tsx");
/* harmony import */ var _tools_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tools/search */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/search.tsx");
/* harmony import */ var _tools_layers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/layers */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/layers.tsx");
/* harmony import */ var _tools_basemap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/basemap */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/basemap.tsx");
/* harmony import */ var _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/mapswitch */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/mapswitch.tsx");
/* harmony import */ var _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/fullscreen */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/fullscreen.tsx");
/* harmony import */ var _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/scalebar */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/scalebar.tsx");
/* harmony import */ var _tools_attribution__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/attribution */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/attribution.tsx");
/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tools/measure */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/measure.tsx");
/* harmony import */ var _tools_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/select */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/index.tsx");
/* harmony import */ var _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../tools/selectstate */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/selectstate/index.tsx");
















const ToolModules = {
    Zoom: _tools_zoom__WEBPACK_IMPORTED_MODULE_0__["default"],
    Home: _tools_home__WEBPACK_IMPORTED_MODULE_1__["default"],
    Navigation: _tools_navigation__WEBPACK_IMPORTED_MODULE_5__["default"],
    Locate: _tools_locate__WEBPACK_IMPORTED_MODULE_3__["default"],
    ClearActionData: _tools_clear_action_data__WEBPACK_IMPORTED_MODULE_4__["default"],
    Compass: _tools_compass__WEBPACK_IMPORTED_MODULE_2__["default"],
    Search: _tools_search__WEBPACK_IMPORTED_MODULE_6__["default"],
    Layers: _tools_layers__WEBPACK_IMPORTED_MODULE_7__["default"],
    BaseMap: _tools_basemap__WEBPACK_IMPORTED_MODULE_8__["default"],
    Measure: _tools_measure__WEBPACK_IMPORTED_MODULE_13__["default"],
    MapSwitch: _tools_mapswitch__WEBPACK_IMPORTED_MODULE_9__["default"],
    FullScreen: _tools_fullscreen__WEBPACK_IMPORTED_MODULE_10__["default"],
    ScaleBar: _tools_scalebar__WEBPACK_IMPORTED_MODULE_11__["default"],
    Attribution: _tools_attribution__WEBPACK_IMPORTED_MODULE_12__["default"],
    Select: _tools_select__WEBPACK_IMPORTED_MODULE_14__["default"],
    SelectState: _tools_selectstate__WEBPACK_IMPORTED_MODULE_15__["default"]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolModules);


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/attribution.tsx":
/*!**********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/attribution.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Attribution)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Attribution extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Attribution';
    }
    static getIsNeedSetting() {
        return false;
    }
    getTitle() {
        return 'Attribution';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(AttributionInner, { jimuMapView: this.props.jimuMapView });
    }
}
class AttributionInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Attribution = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Attribution']).then(modules => {
                [this.Attribution] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.AttributionBtn && !this.AttributionBtn.destroy) {
                    this.AttributionBtn.view = this.props.jimuMapView.view;
                    this.AttributionBtn.renderNow();
                    this.props.jimuMapView.addJimuMapTool({
                        name: 'Attribution',
                        instance: this.AttributionBtn
                    });
                }
            }
            else {
                this.AttributionBtn = new this.Attribution({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Attribution');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Attribution',
                    instance: this.AttributionBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.AttributionBtn) {
            this.AttributionBtn.destroy();
            this.AttributionBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Attribution');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'attribution-map-tool', style: { position: 'relative' }, ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/basemap.tsx":
/*!******************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/basemap.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ BaseMap)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class BaseMap extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'BaseMap';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'BaseMapLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.BaseMapLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/basemap.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/basemap.svg")
        };
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(BaseMapInner, { jimuMapView: this.props.jimuMapView, isMobile: this.props.isMobile });
    }
}
class BaseMapInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.BaseMap = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/BasemapGallery']).then(modules => {
                [this.BaseMap] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.BaseMapBtn) {
                    this.BaseMapBtn.view = this.props.jimuMapView.view;
                    this.BaseMapBtn.renderNow();
                }
            }
            else {
                this.BaseMapBtn = new this.BaseMap({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('BaseMap');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'BaseMap',
                    instance: this.BaseMapBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.BaseMapBtn) {
            this.BaseMapBtn.destroy();
            this.BaseMapBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('BaseMap');
        }
    }
    render() {
        if (this.props.isMobile) {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'basemap-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', maxWidth: 'none', maxHeight: 'none', overflowY: 'auto', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
        else {
            return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '250px', minHeight: '32px', position: 'relative' }, className: 'exbmap-ui-pc-expand-maxheight basemap-map-tool' }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/clear-action-data.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/clear-action-data.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ClearActionData)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */





class ClearActionData extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_3__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'ClearActionData';
        this.onIconClick = () => { };
        this.onDropDownToggle = () => {
            this.setState({ isOpen: !this.state.isOpen });
        };
        this.onActionItemClick = (evt, actionDataId, mapWidgetId) => {
            var _a, _b, _c;
            this.setState({ isOpen: false });
            const showOnMapDatas = (_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _a === void 0 ? void 0 : _a.showOnMapDatas;
            const addToMapDatas = (_b = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _b === void 0 ? void 0 : _b.addToMapDatas;
            if (showOnMapDatas) {
                delete showOnMapDatas[actionDataId];
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, 'showOnMapDatas', showOnMapDatas);
            }
            if (addToMapDatas && ((_c = addToMapDatas[actionDataId]) === null || _c === void 0 ? void 0 : _c.dataChangeType) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Created) {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(mapWidgetId, `addToMapDatas.${actionDataId}.dataChangeType`, jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Remove);
            }
        };
        this.getContent = (isShowClearShowOnMapDataBtn, mapWidgetId) => {
            if (isShowClearShowOnMapDataBtn) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), title: this.getTitle() },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Dropdown, { direction: 'down', size: 'sm', toggle: this.onDropDownToggle, isOpen: this.state.isOpen },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownButton, { icon: true, arrow: false, size: 'sm', type: 'default' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, { size: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownMenu, null, this.getAddOrShowOnMapDatas(mapWidgetId).map((dataInfo, index) => this.createActionDataItem(dataInfo.id, dataInfo.title, mapWidgetId, index))))));
            }
            else {
                return null;
            }
        };
        this.state = { isOpen: false };
    }
    static getIsNeedSetting() {
        return false;
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .jimu-dropdown {
        display: flex;
        .icon-btn {
          padding: 7px;
          border-radius: 0;
        }
      }
    `;
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'clearResults', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.clearResults });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! jimu-icons/svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg"),
            onIconClick: () => {
                this.onIconClick();
            }
        };
    }
    createActionDataItem(actionDataId, actionDataTitle, mapWidgetId, key) {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_2__.DropdownItem, { key: key, header: false, onClick: e => { this.onActionItemClick(e, actionDataId, mapWidgetId); } }, actionDataTitle));
    }
    getAddOrShowOnMapDatas(mapWidgetId) {
        var _a, _b;
        const showOnMapDatas = ((_a = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _a === void 0 ? void 0 : _a.showOnMapDatas) || {};
        const addToMapDatas = ((_b = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().getStateValue([mapWidgetId])) === null || _b === void 0 ? void 0 : _b.addToMapDatas) || {};
        const showOnMapDataInfos = Object.entries(showOnMapDatas).map(entry => {
            return {
                id: entry[0],
                title: entry[1].title,
                jimuMapViewId: entry[1].jimuMapViewId,
                mapWidgetId: entry[1].mapWidgetId,
                needToRemove: true,
                type: entry[1].type
            };
        });
        const addToMapDataInfos = Object.entries(addToMapDatas).map(entry => {
            return {
                id: entry[0],
                title: entry[1].title,
                jimuMapViewId: entry[1].jimuMapViewId,
                mapWidgetId: entry[1].mapWidgetId,
                needToRemove: entry[1].dataChangeType === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.DataChangeType.Created,
                type: entry[1].type
            };
        });
        return showOnMapDataInfos.concat(addToMapDataInfos).filter(dataInfo => {
            // There is no jimuMapViewId while generating the action data if the map widget hasn't been loaded in the another page/view,
            // use a default jimuMapViewId to show data.
            let jimuMapViewId = dataInfo.jimuMapViewId;
            if (!jimuMapViewId && dataInfo.mapWidgetId === mapWidgetId) {
                const jimuMapViewsInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().jimuMapViewsInfo;
                jimuMapViewId = Object.keys(jimuMapViewsInfo || {}).find(viewId => jimuMapViewsInfo[viewId].mapWidgetId === mapWidgetId);
            }
            return (jimuMapViewId === this.props.jimuMapView.id && dataInfo.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.ActionType.DataAction && dataInfo.needToRemove);
        });
    }
    getExpandPanel() {
        // return (
        //  <div className='exbmap-ui-tool esri-widget--button'>
        //    <Icon width={16} height={16} className='exbmap-ui-tool-icon' icon={this.getIcon().icon} />
        //  </div>
        // )
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ isShowClearShowOnMapDataBtn, mapWidgetId }) => (this.getContent(isShowClearShowOnMapDataBtn, mapWidgetId))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/compass.tsx":
/*!******************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/compass.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Compass)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Compass extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Compass';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'CompassLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.CompassLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(CompassInner, { jimuMapView: this.props.jimuMapView });
    }
}
class CompassInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Compass = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Compass']).then(modules => {
                [this.Compass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.CompassBtn) {
                this.container.innerHTML = '';
            }
            this.CompassBtn = new this.Compass({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Compass');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Compass',
                instance: this.CompassBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.CompassBtn) {
            this.CompassBtn.destroy();
            this.CompassBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Compass');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'compass-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/fullscreen.tsx":
/*!*********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/fullscreen.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Fullscreen)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Fullscreen extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Fullscreen';
        this.isFullScreen = false;
        this.fullScreenMap = () => { };
        this.getContent = (fullScreenMap, isFullScreen) => {
            this.fullScreenMap = fullScreenMap;
            this.isFullScreen = isFullScreen;
            return super.render();
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'FullScreenLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.FullScreenLabel });
    }
    getIcon() {
        return {
            icon: this.isFullScreen ? __webpack_require__(/*! ../assets/icons/exit-full-screen.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exit-full-screen.svg") : __webpack_require__(/*! ../assets/icons/full-screen.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/full-screen.svg"),
            onIconClick: (evt) => {
                this.fullScreenMap();
            }
        };
    }
    getExpandPanel() {
        return null;
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__.MultiSourceMapContext.Consumer, null, ({ fullScreenMap, isFullScreen }) => (this.getContent(fullScreenMap, isFullScreen))));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/home.tsx":
/*!***************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/home.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Home)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");





class Home extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Home';
        this.getHomeContent = (initialMapState) => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(HomeInner, { jimuMapView: this.props.jimuMapView, initialMapState: initialMapState });
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'HomeLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.HomeLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        // return <HomeInner jimuMapView={this.props.jimuMapView}></HomeInner>;
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__.MultiSourceMapContext.Consumer, null, ({ initialMapState }) => (this.getHomeContent(initialMapState))));
    }
}
class HomeInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Home = null;
        this.generateViewPointFromInitialMapState = (initialMapState) => {
            if (initialMapState.viewType === '2d') {
                return new this.Viewpoint({
                    targetGeometry: this.Extent.fromJSON(initialMapState.extent),
                    rotation: initialMapState.rotation
                });
            }
            else {
                return this.Viewpoint.fromJSON(initialMapState.viewPoint);
            }
        };
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Home',
                'esri/geometry/Extent',
                'esri/Viewpoint']).then(modules => {
                [this.Home, this.Extent, this.Viewpoint] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        var _a;
        if (this.state.apiLoaded && this.container && ((_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view)) {
            if (this.homeBtn) {
                this.container.innerHTML = '';
            }
            this.homeBtn = new this.Home({
                container: this.container,
                view: this.props.jimuMapView.view,
                viewpoint: this.props.initialMapState
                    ? this.generateViewPointFromInitialMapState(this.props.initialMapState)
                    : this.props.jimuMapView.view.map.initialViewProperties.viewpoint
            });
            this.props.jimuMapView.deleteJimuMapTool('Home');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Home',
                instance: this.homeBtn
            });
            if (prevProps.initialMapState !== this.props.initialMapState) {
                if (this.props.jimuMapView.view) {
                    this.props.jimuMapView.view.goTo(this.homeBtn.viewpoint, {
                        animate: false
                    });
                }
                else {
                    this.homeBtn.destroy();
                    this.homeBtn = null;
                }
            }
        }
    }
    componentWillUnmount() {
        if (this.homeBtn) {
            this.homeBtn.destroy();
            this.homeBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Home');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'esri-widget--button home-map-tool', ref: ref => { if (!this.container) {
                this.container = ref;
            } } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/layers.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/layers.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Layers)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Layers extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Layers';
        this.handleTabIndexChange = (activeTabIndex) => {
            this.setState({
                activeTabIndex: activeTabIndex
            });
        };
        this.handleKeyDown = (e, index) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.handleTabIndexChange(index);
            }
        };
        this.state = {
            activeTabIndex: 0
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'LayersLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/layerlist.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/layerlist.svg")
        };
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', minHeight: '32px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.Nav, { tabs: true },
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 0, onClick: () => { this.handleTabIndexChange(0); }, onKeyDown: e => { this.handleKeyDown(e, 0); } }, this.props.intl.formatMessage({ id: 'LayersLabelLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLayer }))),
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavItem, null,
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__.NavLink, { active: this.state.activeTabIndex === 1, onClick: () => { this.handleTabIndexChange(1); }, onKeyDown: e => { this.handleKeyDown(e, 1); } }, this.props.intl.formatMessage({ id: 'LayersLabelLegend', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.LayersLabelLegend })))),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'mt-1' }),
            this.state.activeTabIndex === 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LayerListInner, { jimuMapView: this.props.jimuMapView }),
            this.state.activeTabIndex === 1 && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LegendInner, { jimuMapView: this.props.jimuMapView })));
    }
}
class LayerListInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.LayerList = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/LayerList']).then(modules => {
                [this.LayerList] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LayerListBtn) {
                    this.LayerListBtn.view = this.props.jimuMapView.view;
                    this.LayerListBtn.renderNow();
                }
            }
            else {
                this.LayerListBtn = new this.LayerList({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('LayerList');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'LayerList',
                    instance: this.LayerListBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LayerListBtn) {
            this.LayerListBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('LayerList');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'layers-map-tool', ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}
class LegendInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Legend = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Legend']).then(modules => {
                [this.Legend] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.container) {
            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {
                if (this.LegendBtn) {
                    this.LegendBtn.view = this.props.jimuMapView.view;
                    this.LegendBtn.renderNow();
                }
            }
            else {
                this.LegendBtn = new this.Legend({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                this.props.jimuMapView.deleteJimuMapTool('Legend');
                this.props.jimuMapView.addJimuMapTool({
                    name: 'Legend',
                    instance: this.LegendBtn
                });
            }
        }
    }
    componentWillUnmount() {
        if (this.LegendBtn) {
            this.LegendBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Legend');
        }
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { ref: ref => { this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/locate.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/locate.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Locate)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Locate extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Locate';
    }
    getTitle() {
        return 'Locate';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(LocateInner, { jimuMapView: this.props.jimuMapView });
    }
}
class LocateInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Locate = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Locate']).then(modules => {
                [this.Locate] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.LocateBtn) {
                this.container.innerHTML = '';
            }
            this.LocateBtn = new this.Locate({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Locate');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Locate',
                instance: this.LocateBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.LocateBtn) {
            this.LocateBtn.destroy();
            this.LocateBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Locate');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'esri-widget--button locate-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/mapswitch.tsx":
/*!********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/mapswitch.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MapSwitch)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/* harmony import */ var _components_map_thumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/map-thumb */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/map-thumb.tsx");
/** @jsx jsx */





class MapSwitch extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'MapSwitch';
        this.switchMap = () => { };
        this.handleKeyDown = (e, onClick) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e === null || e === void 0 ? void 0 : e.preventDefault();
                onClick();
            }
        };
        this.getContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme) => {
            const onClick = () => {
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(mapWidgetId, mapWidgetId));
                switchMap();
            };
            if (isShowMapSwitchBtn) {
                if (this.props.isMobile) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-ui-tool esri-widget--button', onClick: onClick, role: 'button', tabIndex: 0, onKeyDown: e => { this.handleKeyDown(e, onClick); }, "aria-label": this.props.intl.formatMessage({ id: 'SwitchMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SwitchMap }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getIcon().icon })));
                }
                else {
                    const dsJsons = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.dataSources;
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mapswitch-map-tool', css: this.getStyle(), onClick: onClick, role: 'button', tabIndex: 0, onKeyDown: e => { this.handleKeyDown(e, onClick); }, "aria-label": this.props.intl.formatMessage({ id: 'SwitchMap', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SwitchMap }) },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[0] !== activeDataSourceId }, { back: dataSourceIds[0] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].itemId : null, portUrl: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].portalUrl : null, theme: theme })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].label : null, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('mapthumb-item', { front: dataSourceIds[1] !== activeDataSourceId }, { back: dataSourceIds[1] === activeDataSourceId }) },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__["default"], { mapItemId: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].itemId : null, portUrl: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].portalUrl : null, theme: theme }))));
                }
            }
            else {
                return null;
            }
        };
        this.getIconContent = (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) => {
            if (isShowMapSwitchBtn) {
                this.switchMap = switchMap;
                return super.render();
            }
            else {
                return null;
            }
        };
    }
    static getIsNeedSetting() {
        return false;
    }
    static isAvailable(toolShellProps) {
        if (toolShellProps.isMobile) {
            const widgetId = toolShellProps.mapWidgetId;
            if (widgetId) {
                const widgetInfo = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets[widgetId];
                if (widgetInfo) {
                    return widgetInfo.useDataSources && widgetInfo.useDataSources.length >= 2;
                }
            }
            return false;
        }
        // Always return true for pc layout because false will let SelectState-FullScreen-Container in wroing position.
        return true;
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(68)};
      height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(52)};
      cursor: pointer;
      position: relative;

      .mapthumb-item {
        position: absolute;
        width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(64)};
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(48)};
        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;
      }

      .front {
        z-index: 1;
        bottom: 0;
        left: 0;
      }

      .back {
        z-index: 0;
        top: 0;
        right: 0;
      }
    `;
    }
    getTitle() {
        return 'MapSwitch';
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/exchange.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/exchange.svg"),
            onIconClick: () => {
                this.switchMap();
            }
        };
    }
    getExpandPanel() {
        if (this.props.toolJson.isOnlyExpanded) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme }) => (this.getContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap, mapWidgetId, theme))));
        }
        else {
            return null;
        }
    }
    render() {
        if (this.props.toolJson.isOnlyExpanded) {
            return super.render();
            // In fact, it never goes here.
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap }) => (this.getIconContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap))));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/measure.tsx":
/*!******************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/measure.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Measure)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");




class Measure extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Measure';
        this.measureModules2D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'distance',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-area.svg")
            }];
        this.measureModules3D = [{
                name: 'Line',
                title: 'Line',
                activeTool: 'direct-line',
                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-distance.svg")
            }, {
                name: 'Polygon',
                title: 'Polygon',
                activeTool: 'area',
                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure-area.svg")
            }];
        this.destroy = () => {
            if (this.state.measureInstance && !this.state.measureInstance.destroyed) {
                this.state.measureInstance.destroy();
                this.setState({
                    measureInstance: null,
                    activeTabIndex: 0
                });
            }
        };
        this.handleMeasurceInstanceCreated = (measureInstance) => {
            this.setState({
                measureInstance: measureInstance
            });
        };
        this.onTabClick = (index) => {
            if (this.state.activeTabIndex === index) {
                return;
            }
            this.state.measureInstance.clear();
            this.setState({ activeTabIndex: index });
            if (index === 0) {
                this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
            }
            else if (index === 1) {
                this.state.measureInstance.activeTool = 'area';
            }
        };
        this.handleKeyDown = (e, index) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.onTabClick(index);
            }
        };
        this.onRequestClosePanel = () => {
            if (this.props.activeToolInfo.activeToolName === this.toolName) {
                this.props.onActiveToolInfoChange(null);
            }
        };
        this.onClosePanel = () => {
            this.destroy();
        };
        this.onShowPanel = () => {
            if (this.state.measureInstance) {
                if (this.state.activeTabIndex === 0) {
                    this.state.measureInstance.activeTool = this.props.jimuMapView.view.type === '2d' ? 'distance' : 'direct-line';
                }
                else if (this.state.activeTabIndex === 1) {
                    this.state.measureInstance.activeTool = 'area';
                }
            }
        };
        this.getNavTab = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules2D.map((module, index) => {
                    const tabTitle = index === 0 ? 'drawModeLine' : 'drawModePolygon';
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, ref: ref => { this.state.activeTabIndex === index && (this.activeTabRef = ref); }, onClick: () => { this.onTabClick(index); }, onKeyDown: e => { this.handleKeyDown(e, index); }, "aria-label": this.props.intl.formatMessage({ id: `${tabTitle}`, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[tabTitle] }) },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else if (this.props.jimuMapView.view.type === '3d') {
                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Nav, { tabs: true }, this.measureModules3D.map((module, index) => {
                    const tabTitle = index === 0 ? 'drawModeLine' : 'drawModePolygon';
                    return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavItem, { key: index },
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.NavLink, { active: this.state.activeTabIndex === index, ref: ref => { this.state.activeTabIndex === index && (this.activeTabRef = ref); }, onClick: () => { this.onTabClick(index); }, onKeyDown: e => { this.handleKeyDown(e, index); }, "aria-label": this.props.intl.formatMessage({ id: `${tabTitle}`, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages[tabTitle] }) },
                            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'm-0', icon: module.src }))));
                })));
            }
            else {
                return null;
            }
        };
        this.getMeasureModule = () => {
            if (this.props.jimuMapView.view.type === '2d') {
                return this.measureModules2D[this.state.activeTabIndex];
            }
            else {
                return this.measureModules3D[this.state.activeTabIndex];
            }
        };
        this.state = {
            activeTabIndex: 0,
            measureInstance: null
        };
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'MeasureLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.MeasureLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/measure.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/measure.svg")
        };
    }
    focusDefaultElement() {
        var _a;
        (_a = this.activeTabRef) === null || _a === void 0 ? void 0 : _a.focus();
    }
    getExpandPanel() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { style: { width: this.props.isMobile ? '100%' : '250px', position: 'relative' }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },
            this.getNavTab(),
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(MeasureInner, { mapWidgetId: this.props.mapWidgetId, activeTabIndex: this.state.activeTabIndex, jimuMapView: this.props.jimuMapView, measureModule: this.getMeasureModule(), measureInstance: this.state.measureInstance, onMeasurceInstanceCreated: this.handleMeasurceInstanceCreated, autoControlWidgetId: this.props.autoControlWidgetId, onRequestClosePanel: this.onRequestClosePanel })));
    }
}
class MeasureInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.MeasureInstance = null;
        this.toolName = 'measurement';
        this.checkContainer = () => {
            if (this.container.style.opacity === '0' || this.container.style.opacity === 0) {
                this.container.style.opacity = 1;
                this.container.style.height = '';
            }
        };
        this.id = `${this.props.mapWidgetId}-measure-tool`;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)(['esri/widgets/Measurement']).then(modules => {
                [this.MeasureClass] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate(prevProps) {
        if (this.state.apiLoaded && this.parentContainer && this.container) {
            if (!this.props.measureInstance) {
                // crate measure isntance here
                const tempInstance = new this.MeasureClass({
                    container: this.container,
                    view: this.props.jimuMapView.view
                });
                tempInstance.activeTool = this.props.measureModule.activeTool;
                this.setCurrentJimuMapView(this.props.jimuMapView);
                this.currentJimuMapView.deleteJimuMapTool(this.toolName);
                this.currentJimuMapView.addJimuMapTool({
                    name: this.toolName,
                    instance: tempInstance
                });
                this.props.onMeasurceInstanceCreated(tempInstance);
                const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.requestAutoControlMapWidget(this.props.mapWidgetId, this.id);
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
            }
            else {
                const newJimuMapView = this.props.jimuMapView;
                if (this.props.measureInstance.view !== newJimuMapView.view) {
                    // map view changed by switch
                    this.restoreClickHighlightEnabledForCurrentJimuMapView();
                    this.setCurrentJimuMapView(newJimuMapView);
                    this.props.measureInstance.clear();
                    this.props.measureInstance.view = newJimuMapView.view;
                    // @ts-expect-error
                    this.props.measureInstance.activeTool = this.props.measureModule.activeTool;
                }
            }
            this.checkContainer();
        }
        // check if autoControlWidgetId changed
        const prevAutoControlWidgetId = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.autoControlWidgetId) || '';
        if (prevAutoControlWidgetId === this.id && this.props.autoControlWidgetId !== this.id) {
            // measure is from active to inactive, destroy MeasureInner
            this.props.onRequestClosePanel();
        }
    }
    componentWillUnmount() {
        this.restoreClickHighlightEnabledForCurrentJimuMapView();
        if (this.props.autoControlWidgetId === this.id) {
            const action = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.releaseAutoControlMapWidget(this.props.mapWidgetId);
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().dispatch(action);
        }
    }
    setCurrentJimuMapView(jimuMapView) {
        this.currentJimuMapView = jimuMapView;
        this.originalClickHighlightEnabled = jimuMapView.isClickHighlightEnabled();
        // disable click highlight to avoid conflict with clicking-select
        this.currentJimuMapView.disableClickHighlight();
    }
    restoreClickHighlightEnabledForCurrentJimuMapView() {
        if (this.currentJimuMapView) {
            if (this.originalClickHighlightEnabled) {
                this.currentJimuMapView.enableClickHighlight();
            }
            else {
                this.currentJimuMapView.disableClickHighlight();
            }
        }
    }
    reload() {
        if (this.container.childNodes && this.container.childNodes[0]) {
            this.container.style.opacity = 0;
            this.container.style.height = '35px';
        }
        //this.setState({
        //  apiLoaded: false
        //}, () => {
        //  loadArcGISJSAPIModules(['esri/widgets/Measurement']).then(modules => {
        //    [this.MeasureClass] = modules
        //    this.setState({
        //      apiLoaded: true
        //    })
        //  })
        //})
    }
    render() {
        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'w-100', style: { width: '250px', position: 'relative', minHeight: '32px' }, ref: ref => { this.parentContainer = ref; } },
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'measure-container measure-map-tool', ref: ref => { this.container = ref; } }),
            !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/navigation.tsx":
/*!*********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/navigation.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Navigation)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class Navigation extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Navigation';
    }
    getTitle() {
        return 'Navigation';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(NavigationInner, { jimuMapView: this.props.jimuMapView });
    }
    /**
     * Navigation only supports scene view, so ScaleBarTool.isAvailable() will return false if the map is map view.
     */
    static isAvailable(toolShellProps) {
        var _a, _b;
        return ((_b = (_a = toolShellProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) === '3d';
    }
}
class NavigationInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Navigation = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/NavigationToggle']).then(modules => {
                [this.Navigation] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.NavigationBtn) {
                this.container.innerHTML = '';
            }
            this.NavigationBtn = new this.Navigation({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Navigation',
                instance: this.NavigationBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.NavigationBtn) {
            this.NavigationBtn.destroy();
            this.NavigationBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Navigation');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'navigation-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/scalebar.tsx":
/*!*******************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/scalebar.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ScaleBar)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");



class ScaleBar extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'ScaleBar';
    }
    getTitle() {
        return 'ScaleBar';
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ScaleBarInner, { jimuMapView: this.props.jimuMapView });
    }
    /**
     * ScaleBar only supports map view, so ScaleBarTool.isAvailable() will return false if the map is scene view.
     */
    static isAvailable(toolShellProps) {
        var _a, _b;
        return ((_b = (_a = toolShellProps.jimuMapView) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) === '2d';
    }
}
class ScaleBarInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.ScaleBar = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/ScaleBar']).then(modules => {
                [this.ScaleBar] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ScaleBarBtn) {
                this.container.innerHTML = '';
            }
            this.ScaleBarBtn = new this.ScaleBar({
                container: this.container,
                view: this.props.jimuMapView.view,
                unit: 'dual'
            });
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
            this.props.jimuMapView.addJimuMapTool({
                name: 'ScaleBar',
                instance: this.ScaleBarBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ScaleBarBtn) {
            this.ScaleBarBtn.destroy();
            this.ScaleBarBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('ScaleBar');
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'scalebar-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/search.tsx":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/search.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Search)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/** @jsx jsx */




class Search extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Search';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SearchLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.SearchLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../assets/icons/search.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/search.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minHeight: '32px', position: 'relative', width: '100%' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { minWidth: '250px', minHeight: '32px', position: 'relative' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchInner, { jimuMapView: this.props.jimuMapView, mapWidgetId: this.props.mapWidgetId })));
        }
    }
}
class SearchInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Search = null;
        this.Portal = null;
        this.state = {
            apiLoaded: false
        };
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      /* border: solid 1px rgba(110,110,110,0.3); */
    `;
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Search', 'esri/portal/Portal']).then(modules => {
                [this.Search, this.Portal] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.SearchBtn) {
                const containerParent = this.container.parentElement;
                this.SearchBtn.destroy();
                this.SearchBtn = null;
                if (!this.container.parentElement && containerParent) {
                    containerParent.appendChild(this.container);
                }
                this.container.innerHTML = '';
            }
            this.SearchBtn = new this.Search({
                container: this.container,
                view: this.props.jimuMapView.view,
                portal: new this.Portal({
                    url: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().portalUrl
                })
            });
            this.props.jimuMapView.deleteJimuMapTool('Search');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Search',
                instance: this.SearchBtn
            });
            this.SearchBtn.on('select-result', (event) => {
                var _a, _b, _c, _d, _e;
                // use zoomToUtils to instead of default zoom for searing result with single point
                if (((_b = (_a = event === null || event === void 0 ? void 0 : event.result) === null || _a === void 0 ? void 0 : _a.feature) === null || _b === void 0 ? void 0 : _b.layer) && ((_e = (_d = (_c = event === null || event === void 0 ? void 0 : event.result) === null || _c === void 0 ? void 0 : _c.feature) === null || _d === void 0 ? void 0 : _d.geometry) === null || _e === void 0 ? void 0 : _e.type) === 'point') {
                    jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.zoomToUtils.zoomTo(this.props.jimuMapView.view, [event.result.feature], {});
                }
                if (!event.result.feature.layer) {
                    const geometry = event.result.feature.geometry.toJSON();
                    jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry));
                }
                else {
                    const geometry = event.result.feature.geometry;
                    if (geometry.type === 'point') {
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, geometry.toJSON()));
                    }
                    else {
                        const point = geometry.extent.center;
                        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.LocationChangeMessage(this.props.mapWidgetId, point.toJSON()));
                    }
                }
            });
        }
    }
    componentWillUnmount() {
        if (this.SearchBtn) {
            this.SearchBtn.destroy();
            this.SearchBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Search');
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 search-map-tool', ref: ref => { this.container = ref; } }, !this.state.apiLoaded && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'exbmap-basetool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/index.tsx":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/index.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _select_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-pc */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/select-pc.tsx");
/* harmony import */ var _select_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-mobile */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/select-mobile.tsx");
/** @jsx jsx */





class Select extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'Select';
        this.state = {};
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__.defaultMessages.SelectLabel });
    }
    getIcon() {
        return {
            icon: __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-rectangle.svg")
        };
    }
    getExpandPanel() {
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_mobile__WEBPACK_IMPORTED_MODULE_4__.SelectMobileTool, { isActive: this.toolName === (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName), activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: () => { this._onIconClick(); }, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView }));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select_pc__WEBPACK_IMPORTED_MODULE_3__.SelectPCTool, { theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange }));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/select-mobile.tsx":
/*!*******************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/select-mobile.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectMobileTool": () => (/* binding */ SelectMobileTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/multisourcemap-context */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap-context.ts");
/** @jsx jsx */




const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectMoreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-16.svg */ "./jimu-ui/lib/icons/more-16.svg");
class SelectMobileTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.jsonUtils = null;
        this.currentActiveTool = 'rectangle';
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === this.state.currentSelectType) {
                return;
            }
            if (currentSelectType === 'Point') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('point');
                }
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('rectangle');
                }
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('polygon');
                }
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('circle');
                }
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                if (this.props.isActive) {
                    this.sketchViewModel.create('polyline');
                }
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType
            }, () => {
                if (!this.props.activeToolInfo || (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName !== this.props.toolName)) {
                    this.props._onIconClick(null);
                }
            });
        };
        this.toggleIsSelectActive = () => {
            this.props._onIconClick(null);
        };
        this.handleIsShowSelectSetting = () => {
            this.setState({
                isShowSelectSetting: !this.state.isShowSelectSetting
            });
        };
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.getMobilePanelForSelectSetting = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__.MultiSourceMapContext.Consumer, null, ({ mapWidgetId }) => ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.MobilePanel, { mapWidgetId: `${mapWidgetId}-with-select-container`, title: '', open: this.state.isShowSelectSetting, onClose: () => { this.handleIsShowSelectSetting(); } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100' }, this.getMobilePanelSettingContent())))));
        };
        this.getMobilePanelSettingContent = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 select-tool-type-mobile-container-shell' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-mobile-container' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                            }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, style: { float: 'left' }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Rectangle'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                            }), onClick: () => { this.setCurrentSelectType('Lasso'); }, style: { float: 'left' }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Lasso'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                            }), onClick: () => { this.setCurrentSelectType('Circle'); }, style: { float: 'left' }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Circle'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                            }), onClick: () => { this.setCurrentSelectType('Line'); }, style: { float: 'left' }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Line'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                            }), onClick: () => { this.setCurrentSelectType('Point'); }, style: { float: 'left' }, onKeyDown: e => { this.handleSelectTypeKeyDown(e, 'Point'); }, role: 'button', tabIndex: 0 },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title mt-1 mb-2' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain }))))));
        };
        this.handleSelectTypeKeyDown = (e, selectType) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.setCurrentSelectType(selectType);
            }
        };
        this.handleKeyDown = (e, action) => {
            if (e.key === 'Enter' || e.key === ' ') {
                if (action === 'toggleIsSelectActive') {
                    this.toggleIsSelectActive();
                }
                else if (action === 'showSelectSetting') {
                    this.handleIsShowSelectSetting();
                }
            }
        };
        this.state = {
            currentSelectType: 'Rectangle',
            sketchInitialed: false,
            spatialRelationship: 'intersects',
            isQuerying: false,
            isShowSelectSetting: false
        };
    }
    getCSSStyle() {
        const theme = this.props.theme;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .select-tool-btn-hover: hover {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.palette.primary[500], 0.1)};;
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
        padding: 4px;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 40%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        const prevActiveToolName = prevProps.activeToolInfo && prevProps.activeToolInfo.activeToolName;
        const currentActiveToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;
        if (prevActiveToolName !== currentActiveToolName && currentActiveToolName !== this.props.toolName && currentActiveToolName) {
            this.setState({
                isShowSelectSetting: false
            });
        }
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            this.initialSketchTool();
            if (this.props.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            this.initialSketchTool();
            this.sketchViewModel.view = this.props.jimuMapView.view;
            if (this.props.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.isActive !== this.props.isActive) {
            this.initialSketchTool();
            if (this.props.isActive) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            else {
                this.sketchViewModel.destroy();
                this.sketchViewModel = null;
            }
        }
    }
    componentWillUnmount() {
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
        }
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.sketchViewModel = new this.SketchViewModel({
                view: this.props.jimuMapView.view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    this.sketchViewModel.create(this.currentActiveTool);
                    this.setState({
                        isQuerying: true
                    });
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.selectFeaturesByGraphic(event.graphic, this.state.spatialRelationship).then(() => {
                        this.setState({
                            isQuerying: false
                        });
                    });
                }
            });
        }
    }
    getSelectIconTitle() {
        let selectTitle = '';
        if (this.state.currentSelectType === 'Point') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByPoint });
        }
        else if (this.state.currentSelectType === 'Rectangle') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByRectangle });
        }
        else if (this.state.currentSelectType === 'Lasso') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByLasso });
        }
        else if (this.state.currentSelectType === 'Circle') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByCircle });
        }
        else if (this.state.currentSelectType === 'Line') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByLine });
        }
        else {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectLabel });
        }
        return selectTitle;
    }
    render() {
        const selectIconTitle = this.getSelectIconTitle();
        const moreIconTitle = this.props.intl.formatMessage({ id: 'more', defaultMessage: 'More' });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.toggleIsSelectActive, style: {}, title: selectIconTitle, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button', {
                    'exbmap-ui-tool-icon-selected': this.props.isActive
                }), onKeyDown: e => { this.handleKeyDown(e, 'toggleIsSelectActive'); }, role: 'button', tabIndex: 0 },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: this.getSelectToolIcon() })),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'border border-top-0 w-100', style: { height: '1px' } }),
            this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onClick: this.handleIsShowSelectSetting, title: moreIconTitle, style: {}, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button'), onKeyDown: e => { this.handleKeyDown(e, 'showSelectSetting'); }, role: 'button', tabIndex: 0 },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            !this.state.sketchInitialed && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {}, title: moreIconTitle, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('exbmap-ui-tool border-0 esri-widget--button') },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, className: 'exbmap-ui-tool-icon', icon: SelectMoreIcon })),
            this.state.isShowSelectSetting && this.getMobilePanelForSelectSetting()));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/select-pc.tsx":
/*!***************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/select/select-pc.tsx ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectPCTool": () => (/* binding */ SelectPCTool)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/** @jsx jsx */



const defaultPointSymbol = {
    style: 'esriSMSCircle',
    color: [0, 0, 128, 128],
    name: 'Circle',
    outline: {
        color: [0, 0, 128, 255],
        width: 1
    },
    type: 'esriSMS',
    size: 18
};
const defaultPolylineSymbol = {
    tags: ['solid'],
    title: 'Blue Thin',
    style: 'esriSLSSolid',
    color: [79, 129, 189, 255],
    width: 3,
    name: 'Blue 1',
    type: 'esriSLS'
};
const defaultPolygonSymbol = {
    style: 'esriSFSSolid',
    color: [79, 129, 189, 77],
    type: 'esriSFS',
    outline: {
        style: 'esriSLSSolid',
        color: [54, 93, 141, 255],
        width: 1.5,
        type: 'esriSLS'
    }
};
const IconArrowDown = __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-header.svg */ "./jimu-ui/lib/icons/arrow-down-header.svg");
const SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-rectangle.svg");
const SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-lasso.svg");
const SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-circle.svg");
const SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-line.svg");
const SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-point.svg");
const SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-clear.svg");
class SelectPCTool extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.currentActiveTool = 'rectangle';
        this.jsonUtils = null;
        this.resultGraphics = [];
        this.toggleIsSelectActive = () => {
            this.setState({
                isActive: !this.state.isActive
            }, () => {
                this.tryUpdateActiveToolInfoWhenStateChange();
            });
        };
        this.getSelectToolIcon = () => {
            if (this.state.currentSelectType === 'Point') {
                return SelectPointIcon;
            }
            else if (this.state.currentSelectType === 'Rectangle') {
                return SelectRectangleIcon;
            }
            else if (this.state.currentSelectType === 'Lasso') {
                return SelectLassoIcon;
            }
            else if (this.state.currentSelectType === 'Circle') {
                return SelectCircleIcon;
            }
            else if (this.state.currentSelectType === 'Line') {
                return SelectLineIcon;
            }
            else {
                return SelectRectangleIcon;
            }
        };
        this.toggleSelectTypePopup = () => {
            this.setState({
                isShowSelectTypePopup: !this.state.isShowSelectTypePopup
            }, () => {
                this.tryUpdateActiveToolInfoWhenStateChange();
            });
        };
        this.setCurrentSelectType = (currentSelectType) => {
            this.initialSketchTool();
            if (currentSelectType === 'Point') {
                this.sketchViewModel.create('point');
                this.currentActiveTool = 'point';
            }
            if (currentSelectType === 'Rectangle') {
                this.sketchViewModel.create('rectangle');
                this.currentActiveTool = 'rectangle';
            }
            if (currentSelectType === 'Lasso') {
                this.sketchViewModel.create('polygon');
                this.currentActiveTool = 'polygon';
            }
            if (currentSelectType === 'Circle') {
                this.sketchViewModel.create('circle');
                this.currentActiveTool = 'circle';
            }
            if (currentSelectType === 'Line') {
                this.sketchViewModel.create('polyline');
                this.currentActiveTool = 'polyline';
            }
            this.setState({
                currentSelectType: currentSelectType,
                isShowSelectTypePopup: false,
                isActive: true
            });
        };
        this.clearSelect = () => {
            this.props.jimuMapView.clearSelectedFeatures();
        };
        this.onPopperToggle = (e) => {
            this.toggleSelectTypePopup();
            if (e) {
                if (e.type === 'keydown' && e.key === 'Escape') {
                    this.btnSelectTypeContainer.focus();
                }
            }
        };
        this.handleKeyDown = (e, selectType) => {
            if (e.key === 'Enter' || e.key === ' ') {
                this.setCurrentSelectType(selectType);
            }
        };
        this.state = {
            isShowSelectTypePopup: false,
            currentSelectType: 'Rectangle',
            sketchInitialed: false,
            isActive: false,
            spatialRelationship: 'intersects',
            resultGraphics: [],
            isQuerying: false
        };
    }
    getCSSStyle() {
        const theme = this.props.theme;
        const containerbg = theme.arcgis.components.button.variants.default.default.bg;
        const containerBorder = theme.arcgis.components.button.variants.default.default.border;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .select-tool-container {
        ${containerbg && `background-color: ${containerbg};`}
        ${containerBorder && `border: ${containerBorder.color} ${containerBorder.width} solid;`}
      }

      .select-tool-btn {
        width: 32px;
        height: 32px;
      }

      .content-bg {
        background-color: ${theme.colors.palette.light[100]};
      }

      .content-title {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
        font-weight: bold;
      }

      .select-tool-type-mobile-container-shell {
        overflow-x: auto;
      }

      .select-tool-type-mobile-container-shell::-webkit-scrollbar {
        height: 0 !important;
        display: none;
      }

      .select-tool-type-mobile-container {
        width: 400px;
      }

      .select-tool-type {
        width: 64px;
        height: 64px;
        border: 1px solid ${theme.colors.palette.light[400]};
        cursor: pointer;
      }

      .select-tool-type-choosed {
        border: 1px solid ${theme.colors.primary};
        position: relative;
      }

      .select-tool-type-choosed:after {
        width: 0;
        height: 0;
        border-top: 8px solid ${theme.colors.primary};
        border-left: 8px solid transparent;
        position: absolute;
        top: 0;
        right: 0;
        content: "";
      }

      .select-tool-type-text {
        font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
      }

      .select-tool-loader {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        width: 100%;
        animation: esri-fade-in 500ms ease-in-out;
      }

      .select-tool-loader:before {
        background-color: rgba(110,110,110,0.3);
        width: 100%;
        z-index: 0;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

      .select-tool-loader:after {
        background-color: ${theme.colors.primary};
        width: 20%;
        z-index: 0;
        animation: looping-progresss-bar-ani 1500ms linear infinite;
        content: "";
        opacity: 1;
        position: absolute;
        height: 2px;
        top: 0;
        transition: opacity 500ms ease-in-out;
      }

    `;
    }
    componentDidMount() {
        if (!this.state.sketchInitialed) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)([
                'esri/widgets/Sketch/SketchViewModel',
                'esri/layers/GraphicsLayer',
                'esri/rest/support/Query',
                'esri/symbols/support/jsonUtils',
                'esri/geometry/geometryEngine'
            ]).then(modules => {
                [this.SketchViewModel, this.GraphicsLayer, this.Query, this.jsonUtils, this.geometryEngine] = modules;
                this.props.jimuMapView.view.when(() => {
                    this.initialSketchTool();
                    this.setState({
                        sketchInitialed: true
                    });
                });
            });
        }
    }
    componentDidUpdate(prevProps, prevState) {
        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {
            this.initialSketchTool();
            if (this.state.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {
            this.initialSketchTool();
            this.sketchViewModel.view = this.props.jimuMapView.view;
            if (this.state.isActive && this.currentActiveTool) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            return;
        }
        if (prevState.isActive !== this.state.isActive) {
            this.initialSketchTool();
            if (this.state.isActive) {
                this.sketchViewModel.create(this.currentActiveTool);
            }
            else {
                this.sketchViewModel.destroy();
                this.sketchViewModel = null;
            }
        }
        this.tryUpdateActiveToolInfoWhenPropsChange(prevProps);
    }
    componentWillUnmount() {
        if (this.sketchViewModel) {
            this.sketchViewModel.destroy();
        }
    }
    getSelectIconTitle() {
        let selectTitle = '';
        if (this.state.currentSelectType === 'Point') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByPoint });
        }
        else if (this.state.currentSelectType === 'Rectangle') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByRectangle });
        }
        else if (this.state.currentSelectType === 'Lasso') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByLasso });
        }
        else if (this.state.currentSelectType === 'Circle') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByCircle });
        }
        else if (this.state.currentSelectType === 'Line') {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectionByLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionByLine });
        }
        else {
            selectTitle = this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectLabel });
        }
        return selectTitle;
    }
    tryUpdateActiveToolInfoWhenStateChange() {
        var _a;
        const prevSelectIsActiveTool = ((_a = this.props.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) === this.props.toolName;
        const currentSelectIsActiveTool = !!(this.state.isActive || this.state.isShowSelectTypePopup);
        if (!prevSelectIsActiveTool && currentSelectIsActiveTool) {
            // select changes to active tool
            this.props.onActiveToolInfoChange({
                activeToolName: this.props.toolName,
                activeToolTitle: this.props.toolName
            });
        }
        else if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
            // select changes to inactive tool
            this.setState({
                isActive: false,
                isShowSelectTypePopup: false
            });
            this.props.onActiveToolInfoChange(null);
        }
    }
    tryUpdateActiveToolInfoWhenPropsChange(prevProps) {
        var _a, _b;
        const preActiveToolName = ((_a = prevProps === null || prevProps === void 0 ? void 0 : prevProps.activeToolInfo) === null || _a === void 0 ? void 0 : _a.activeToolName) || '';
        const currentActiveToolName = ((_b = this.props.activeToolInfo) === null || _b === void 0 ? void 0 : _b.activeToolName) || '';
        if (preActiveToolName !== currentActiveToolName) {
            // props.activeToolInfo.activeToolName changes
            const toolName = this.props.toolName;
            const prevSelectIsActiveTool = preActiveToolName === toolName;
            const currentSelectIsActiveTool = currentActiveToolName === toolName;
            if (prevSelectIsActiveTool && !currentSelectIsActiveTool) {
                // select changes to inactive tool
                this.setState({
                    isActive: false,
                    isShowSelectTypePopup: false
                });
            }
        }
    }
    initialSketchTool() {
        if (!this.SketchViewModel) {
            return;
        }
        if (!this.sketchViewModel) {
            this.sketchViewModel = new this.SketchViewModel({
                view: this.props.jimuMapView.view,
                layer: new this.GraphicsLayer(),
                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),
                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),
                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)
            });
            this.sketchViewModel.on('create', (event) => {
                if (event.state === 'complete') {
                    this.sketchViewModel.create(this.currentActiveTool);
                    this.setState({
                        isQuerying: true
                    });
                    const jimuMapView = this.props.jimuMapView;
                    jimuMapView.selectFeaturesByGraphic(event.graphic, this.state.spatialRelationship).then(() => {
                        this.setState({
                            isQuerying: false
                        });
                    });
                }
            });
        }
    }
    render() {
        const selectIconTitle = this.getSelectIconTitle();
        const clearSelectionTitle = this.props.intl.formatMessage({ id: 'clearSelection', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clearSelection });
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getCSSStyle() },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center justify-content-center select-tool-container', ref: ref => { this.btnContainer = ref; } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex', title: selectIconTitle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleIsSelectActive, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isActive }), disabled: !this.state.sketchInitialed },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: this.getSelectToolIcon() })),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: this.toggleSelectTypePopup, style: { width: 18 }, className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isShowSelectTypePopup }), disabled: !this.state.sketchInitialed, ref: ref => { this.btnSelectTypeContainer = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 8, height: 8, icon: IconArrowDown }))),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { title: clearSelectionTitle, className: 'select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0', ref: ref => { this.selectResultContainer = ref; }, onClick: this.clearSelect, disabled: !this.state.sketchInitialed },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectClearIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Popper, { css: this.getCSSStyle(), reference: this.btnContainer, open: this.state.isShowSelectTypePopup, placement: 'bottom-start', toggle: this.onPopperToggle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'p-3 content-bg', style: { display: 'flex', flexDirection: 'column' } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionTool })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-2 mb-2' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex mb-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'
                                        }), onClick: () => { this.setCurrentSelectType('Rectangle'); }, onKeyDown: e => { this.handleKeyDown(e, 'Rectangle'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectRectangleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolRectangle }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'
                                        }), onClick: () => { this.setCurrentSelectType('Lasso'); }, onKeyDown: e => { this.handleKeyDown(e, 'Lasso'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLassoIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLasso }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Circle'
                                        }), onClick: () => { this.setCurrentSelectType('Circle'); }, onKeyDown: e => { this.handleKeyDown(e, 'Circle'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectCircleIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolCircle })))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Line'
                                        }), onClick: () => { this.setCurrentSelectType('Line'); }, onKeyDown: e => { this.handleKeyDown(e, 'Line'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectLineIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolLine }))),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {
                                            'select-tool-type-choosed': this.state.currentSelectType === 'Point'
                                        }), onClick: () => { this.setCurrentSelectType('Point'); }, onKeyDown: e => { this.handleKeyDown(e, 'Point'); }, role: 'button', tabIndex: 0 },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectPointIcon }),
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center', title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionToolPoint }))))),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'content-title' }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionMode })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: () => { this.setState({ spatialRelationship: 'intersects' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionWithin }))),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center mt-2' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Radio, { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: () => { this.setState({ spatialRelationship: 'contains' }); } }),
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: 'm-0 ml-2 content-title', style: { cursor: 'pointer' }, onClick: () => { this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionContain })))))))),
            (this.state.isQuerying || !this.state.sketchInitialed) && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'select-tool-loader' })));
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/selectstate/index.tsx":
/*!****************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/selectstate/index.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ SelectState)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var _selected_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selected-number */ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/selectstate/selected-number.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */




const SelectZoomtoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-zoomto.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-zoomto.svg");
const SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ "./your-extensions/widgets/arcgis-map-112/src/runtime/assets/icons/select-tool/select-clear.svg");
class SelectState extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__.BaseTool {
    constructor(props) {
        super(props);
        this.toolName = 'SelectState';
        this.handleSelectedGraphicsChanged = (selectedGraphicCount) => {
            this.setState({
                selectedGraphicCount
            });
        };
        this.zoomToSelectedFeatures = () => __awaiter(this, void 0, void 0, function* () {
            var _a;
            const view = (_a = this.props.jimuMapView) === null || _a === void 0 ? void 0 : _a.view;
            if (view) {
                const graphics = yield this.getSelectedGraphics();
                if (graphics.length > 0) {
                    view.goTo(graphics);
                }
            }
        });
        this.clearSelectedFeatures = () => {
            this.props.jimuMapView.clearSelectedFeatures();
        };
        this.state = {
            selectedGraphicCount: 0
        };
    }
    getStyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      background-color: ${this.props.theme.arcgis.components.button.variants.default.default.bg};

      .divide-line {
        border-right: 1px solid ${this.props.theme.colors.palette.dark[400]};
        height: 100%;
      }
    `;
    }
    getTitle() {
        return '';
    }
    getIcon() {
        return null;
    }
    getSelectedGraphics() {
        return __awaiter(this, void 0, void 0, function* () {
            const selectedGraphics = [];
            if (!this.props.jimuMapView) {
                return selectedGraphics;
            }
            const jimuLayerViews = this.props.jimuMapView.jimuLayerViews;
            const jimuLayerViewIds = Object.keys(jimuLayerViews);
            const dataSourceManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
            const promises = [];
            for (let i = 0; i < jimuLayerViewIds.length; i++) {
                const jimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];
                const dsId = jimuLayerView.layerDataSourceId;
                const ds = dataSourceManager.getDataSource(dsId);
                let dsSelectedRecords = [];
                // If dataSource exist, we get selected features from dataSource, otherwise we get selected features from JimuLayerView.
                if (ds) {
                    dsSelectedRecords = ds.getSelectedRecords();
                    for (let j = 0; j < dsSelectedRecords.length; j++) {
                        const tempFeature = (dsSelectedRecords[j]).feature.clone();
                        selectedGraphics.push(tempFeature);
                    }
                }
                if (dsSelectedRecords.length === 0 && jimuLayerView.querySelectedFeaturesFromClient) {
                    // Typically, this is the case that we highlight a feature by popup click, but the data source is not used and not created.
                    const p = jimuLayerView.querySelectedFeaturesFromClient();
                    promises.push(p);
                }
            }
            if (promises.length > 0) {
                const results = yield Promise.all(promises);
                if (results.length > 0) {
                    results.forEach(graphics => {
                        if (graphics && graphics.length > 0) {
                            graphics.forEach(graphic => {
                                const clonedGraphic = graphic.clone();
                                selectedGraphics.push(clonedGraphic);
                            });
                        }
                    });
                }
            }
            return selectedGraphics;
        });
    }
    getExpandPanel() {
        const selectedFeaturesTip = this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionSelectedFeatures });
        const clearSelectionTitle = this.props.intl.formatMessage({ id: 'clearSelection', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.clearSelection });
        const zoomToSelectedFeaturesTip = this.props.intl.formatMessage({ id: 'SelectionZoomToSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__.defaultMessages.SelectionZoomToSelectedFeatures });
        if (this.props.isMobile) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 d-flex justify-content-between align-items-center', style: { height: '40px' } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ml-2' }, `${selectedFeaturesTip}: ${this.state.selectedGraphicCount}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { title: zoomToSelectedFeaturesTip, className: 'h-100 border border-top-0 border-bottom-0 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.zoomToSelectedFeatures },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectZoomtoIcon })),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'h-100 d-flex justify-content-center align-items-center', style: { width: '40px', cursor: 'pointer' }, onClick: this.clearSelectedFeatures, title: clearSelectionTitle },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 18, height: 18, icon: SelectClearIcon }))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
        else {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.Fragment, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Button, { onClick: this.zoomToSelectedFeatures, title: zoomToSelectedFeaturesTip },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_1__.Icon, { width: 16, height: 16, icon: SelectZoomtoIcon, className: 'mr-2' }),
                    `${selectedFeaturesTip}: ${this.state.selectedGraphicCount}`),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_selected_number__WEBPACK_IMPORTED_MODULE_3__.SelectedNumber, { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged })));
        }
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/selectstate/selected-number.tsx":
/*!**************************************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/selectstate/selected-number.tsx ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SelectedNumber": () => (/* binding */ SelectedNumber)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class _SelectedNumber extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor() {
        super(...arguments);
        this.onJimuLayerViewSelectedFeatureIdsChange = () => {
            // Typically, this callback method is called when we highlight a feature by popup click, but the data source is not used and not created.
            this.computerSelectedGraphicCount();
        };
    }
    componentDidMount() {
        this.setCurrentJimuMapView(this.props.jimuMapView);
        this.computerSelectedGraphicCount();
    }
    componentDidUpdate(prevProps) {
        const preJimuMapView = (prevProps === null || prevProps === void 0 ? void 0 : prevProps.jimuMapView) || null;
        const currJimuMapView = this.props.jimuMapView || null;
        if (preJimuMapView !== currJimuMapView) {
            // switch map
            this.setCurrentJimuMapView(currJimuMapView);
        }
        this.computerSelectedGraphicCount();
    }
    componentWillUnmount() {
        this.setCurrentJimuMapView(null);
    }
    setCurrentJimuMapView(jimuMapView) {
        if (this.currentJimuMapView) {
            this.currentJimuMapView.removeJimuLayerViewSelectedFeatureIdsChangeListener(this.onJimuLayerViewSelectedFeatureIdsChange);
        }
        this.currentJimuMapView = jimuMapView;
        if (this.currentJimuMapView) {
            this.currentJimuMapView.addJimuLayerViewSelectedFeatureIdsChangeListener(this.onJimuLayerViewSelectedFeatureIdsChange);
        }
    }
    computerSelectedGraphicCount() {
        if (this.props.onSelectedGraphicsChanged) {
            const jimuLayerViews = this.props.jimuMapView.jimuLayerViews;
            const jimuLayerViewIds = Object.keys(jimuLayerViews);
            let selectedGraphicCount = 0;
            for (let i = 0; i < jimuLayerViewIds.length; i++) {
                const jimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];
                const dsId = jimuLayerView.layerDataSourceId;
                const ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dsId);
                let count = 0;
                // If dataSource exist, we get selected features from dataSource, otherwise we get selected features from JimuLayerView.
                if (ds) {
                    const selectedRecords = ds.getSelectedRecords();
                    count = selectedRecords.length;
                }
                if (count === 0 && jimuLayerView.getSelectedFeatureIds) {
                    // Typically, this is the case that we highlight a feature by popup click, but the data source is not used and not created.
                    const jimuLayerViewSelectedFeatureIds = jimuLayerView.getSelectedFeatureIds();
                    count = jimuLayerViewSelectedFeatureIds.length;
                }
                selectedGraphicCount += count;
            }
            this.props.onSelectedGraphicsChanged(selectedGraphicCount);
        }
    }
    render() {
        return null;
    }
}
const mapStateToProps = (state, ownProps) => {
    if (state.appStateInBuilder) {
        const dataSourcesInfo = state.appStateInBuilder && state.appStateInBuilder.dataSourcesInfo;
        const jimuMapViewsInfo = state.appStateInBuilder && state.appStateInBuilder.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
    else {
        const dataSourcesInfo = state && state.dataSourcesInfo;
        const jimuMapViewsInfo = state && state.jimuMapViewsInfo;
        return {
            dataSourcesInfo: dataSourcesInfo,
            viewInfos: jimuMapViewsInfo
        };
    }
};
const SelectedNumber = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactRedux.connect(mapStateToProps)(_SelectedNumber);


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/tools/zoom.tsx":
/*!***************************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/tools/zoom.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Zoom)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ "./your-extensions/widgets/arcgis-map-112/src/runtime/layout/base/base-tool.tsx");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");




class Zoom extends _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__.BaseTool {
    constructor() {
        super(...arguments);
        this.toolName = 'Zoom';
    }
    getTitle() {
        return this.props.intl.formatMessage({ id: 'ZoomLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__.defaultMessages.ZoomLabel });
    }
    getIcon() {
        return null;
    }
    getExpandPanel() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(ZoomInner, { jimuMapView: this.props.jimuMapView });
    }
}
class ZoomInner extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.Zoom = null;
        this.state = {
            apiLoaded: false
        };
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__.loadArcGISJSAPIModules)(['esri/widgets/Zoom']).then(modules => {
                [this.Zoom] = modules;
                this.setState({
                    apiLoaded: true
                });
            });
        }
    }
    componentDidUpdate() {
        if (this.state.apiLoaded && this.container) {
            if (this.ZoomBtn) {
                this.container.innerHTML = '';
            }
            this.ZoomBtn = new this.Zoom({
                container: this.container,
                view: this.props.jimuMapView.view
            });
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            this.props.jimuMapView.addJimuMapTool({
                name: 'Zoom',
                instance: this.ZoomBtn
            });
        }
    }
    componentWillUnmount() {
        if (this.ZoomBtn) {
            this.ZoomBtn.destroy();
            this.ZoomBtn = null;
            this.props.jimuMapView.deleteJimuMapTool('Zoom');
            /**
             * TODO
             * When the map widget has two maps, the "componentWillUnmount" is called only for the current active view,
             * so the another view's mapTool is not cleared.
             */
        }
    }
    render() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("div", { className: 'zoom-map-tool', ref: ref => { this.container = ref; } });
    }
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts":
/*!*********************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkIsLive": () => (/* binding */ checkIsLive),
/* harmony export */   "createNewFeaturelayer": () => (/* binding */ createNewFeaturelayer),
/* harmony export */   "filterFeaturesByQuery": () => (/* binding */ filterFeaturesByQuery),
/* harmony export */   "flashFeaturesByQuery": () => (/* binding */ flashFeaturesByQuery),
/* harmony export */   "getJimuMapViewId": () => (/* binding */ getJimuMapViewId),
/* harmony export */   "getLayersFromDataSourceIds": () => (/* binding */ getLayersFromDataSourceIds),
/* harmony export */   "getMapBaseRestoreData": () => (/* binding */ getMapBaseRestoreData),
/* harmony export */   "goToTargetImmediately": () => (/* binding */ goToTargetImmediately),
/* harmony export */   "goToViewpointImmediately": () => (/* binding */ goToViewpointImmediately),
/* harmony export */   "handleFeature": () => (/* binding */ handleFeature),
/* harmony export */   "isNeedProjectSpatialReference": () => (/* binding */ isNeedProjectSpatialReference),
/* harmony export */   "isNeedProjectViewpoint": () => (/* binding */ isNeedProjectViewpoint),
/* harmony export */   "isTwoWidgetsMutuallyExtentChange": () => (/* binding */ isTwoWidgetsMutuallyExtentChange),
/* harmony export */   "isWidgetSendZoomToActionToAnother": () => (/* binding */ isWidgetSendZoomToActionToAnother),
/* harmony export */   "mapPanto": () => (/* binding */ mapPanto),
/* harmony export */   "processZoomToFeatures": () => (/* binding */ processZoomToFeatures),
/* harmony export */   "projectGeometries": () => (/* binding */ projectGeometries),
/* harmony export */   "projectViewpoint": () => (/* binding */ projectViewpoint),
/* harmony export */   "restoreMapBase": () => (/* binding */ restoreMapBase),
/* harmony export */   "selectFeature": () => (/* binding */ selectFeature),
/* harmony export */   "updateFeaturelayer": () => (/* binding */ updateFeaturelayer)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/* eslint-disable prefer-const */


function createNewFeaturelayer(mapBaseView, newFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const newLayerPromises = [];
        newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                console.warn('the feature layer is already created');
                return;
            }
            newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));
        });
        if (newLayerPromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(newLayerPromises);
        }
    });
}
function updateFeaturelayer(mapBaseView, changedFeatureSetValue) {
    return __awaiter(this, void 0, void 0, function* () {
        const updatePromises = [];
        changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(layerId => {
            const layer = mapBaseView.map.layers.find(layer => layer.id === layerId);
            if (layer) {
                mapBaseView.map.remove(layer);
                updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));
            }
        });
        if (updatePromises.length === 0) {
            return null;
        }
        else {
            return Promise.all(updatePromises);
        }
    });
}
function addFeatureSetToMap(mapBaseView, featureSet, layerId) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield new Promise((resolve, reject) => {
            return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/layers/FeatureLayer'
            ]).then(modules => {
                if (featureSet.features.length < 1) {
                    resolve(null);
                }
                else {
                    // let FeatureSet: typeof  __esri.FeatureSet;
                    let FeatureLayer;
                    // eslint-disable-next-line
                    [FeatureLayer] = modules;
                    const layerFromFeatureSet = featureSet.features[0].layer;
                    const fieldsInFeaturelayer = [];
                    const fieldMap = {};
                    for (let i = 0; i < layerFromFeatureSet.fields.length; i++) {
                        const fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);
                        fieldMap[layerFromFeatureSet.fields[i].name] = fieldsItem.name;
                        fieldsInFeaturelayer.push(fieldsItem);
                    }
                    const fieldsInPopupTemplate = [];
                    for (const key in featureSet.features[0].attributes) {
                        if (fieldMap[key]) {
                            const fieldsItem = {
                                fieldName: fieldMap[key],
                                label: key
                            };
                            fieldsInPopupTemplate.push(fieldsItem);
                        }
                    }
                    const sourceFeatures = [];
                    featureSet.features.forEach((feature, index) => {
                        const tempFeature = feature;
                        if (tempFeature.attributes) {
                            for (const key in tempFeature.attributes) {
                                tempFeature.attributes[fieldMap[key]] = tempFeature.attributes[key];
                            }
                            tempFeature.attributes.exbfid = index;
                        }
                        else {
                            tempFeature.attributes = {
                                exbfid: index
                            };
                        }
                        sourceFeatures.push(tempFeature);
                    });
                    const layer = new FeatureLayer({
                        id: layerId,
                        title: layerFromFeatureSet.title,
                        source: sourceFeatures,
                        fields: fieldsInFeaturelayer,
                        outFields: ['*'],
                        objectIdField: 'exbfid',
                        renderer: layerFromFeatureSet.renderer,
                        popupEnabled: true,
                        popupTemplate: {
                            title: 'information',
                            content: [{
                                    type: 'fields',
                                    fieldInfos: fieldsInPopupTemplate
                                }]
                        }
                    });
                    mapBaseView.map.add(layer);
                    layer.on('layerview-create', event => {
                        resolve(null);
                    });
                }
            });
        });
    });
}
function getReasonableField(field) {
    // the function is supported to normalize the field.name
    const fieldName = field.name;
    return {
        name: fieldName.replace(/\./g, '_').replace(/\(/g, '_').replace(/\)/g, '_'),
        alias: field.alias,
        type: field.type
    };
}
function selectFeature(mapBaseView, target, layerId) {
    // In this function, we assume that features come from the same layer
    let featureLayerId = layerId;
    let featureLayerView = null;
    let tempFeature = null;
    // if layerId doesn't exist, we get layerId by feature
    if (!featureLayerId) {
        if (target instanceof Array) {
            tempFeature = target[0];
        }
        else {
            tempFeature = target;
        }
        if (tempFeature) {
            featureLayerId = tempFeature.layer && tempFeature.layer.id;
        }
    }
    if (featureLayerId) {
        const layerViews = mapBaseView.allLayerViews;
        for (let i = 0; i < layerViews.length; i++) {
            if (layerViews.getItemAt(i).layer.id === featureLayerId) {
                featureLayerView = layerViews.getItemAt(i);
            }
        }
        if (featureLayerView) {
            return {
                layerId: featureLayerId,
                handle: featureLayerView.highlight(target)
            };
        }
        else {
            return null;
        }
    }
}
function goToTargetImmediately(view, _target) {
    return __awaiter(this, void 0, void 0, function* () {
        const viewSR = view.spatialReference;
        const geometries = yield projectGeometries([_target], viewSR);
        if (geometries && geometries.length > 0) {
            const target = geometries[0];
            view.goTo(target, { animate: false });
        }
    });
}
function goToViewpointImmediately(view, _viewpoint) {
    return __awaiter(this, void 0, void 0, function* () {
        const viewSR = view.spatialReference;
        const viewpoint = yield projectViewpoint(_viewpoint, viewSR);
        // view.goTo(viewpoint, { animate: false })
        view.viewpoint = viewpoint;
    });
}
function isNeedProjectViewpoint(viewpoint, viewSR) {
    var _a, _b, _c;
    const sr1 = (_a = viewpoint.targetGeometry) === null || _a === void 0 ? void 0 : _a.spatialReference;
    if (sr1 && isNeedProjectSpatialReference(sr1, viewSR)) {
        return true;
    }
    const sr2 = (_c = (_b = viewpoint.camera) === null || _b === void 0 ? void 0 : _b.position) === null || _c === void 0 ? void 0 : _c.spatialReference;
    if (sr2 && isNeedProjectSpatialReference(sr2, viewSR)) {
        return true;
    }
    return false;
}
function isNeedProjectSpatialReference(sr1, sr2) {
    const isSame = sr1.wkid === sr2.wkid || sr1.equals(sr2);
    //  In JS API 4.x, the view can handle WebMercator and WGS84 spatialReference auto
    const isLike = (sr1.isWebMercator || sr1.isWGS84) && (sr2.isWebMercator || sr2.isWGS84);
    return !isSame && !isLike;
}
function projectViewpoint(_viewpoint, viewSR) {
    var _a;
    return __awaiter(this, void 0, void 0, function* () {
        const viewpoint = _viewpoint.clone();
        const targetGeometry = viewpoint.targetGeometry;
        const cameraPositon = (_a = viewpoint.camera) === null || _a === void 0 ? void 0 : _a.position;
        const toProjectGeometries = [];
        let isProjectTargetGeometry = false;
        let isProjectCameraPosition = false;
        if (targetGeometry && isNeedProjectSpatialReference(targetGeometry.spatialReference, viewSR)) {
            isProjectTargetGeometry = true;
            toProjectGeometries.push(targetGeometry);
        }
        if (cameraPositon && isNeedProjectSpatialReference(cameraPositon.spatialReference, viewSR)) {
            isProjectCameraPosition = true;
            toProjectGeometries.push(cameraPositon);
        }
        if (toProjectGeometries.length > 0) {
            const projectedGeometries = yield projectGeometries(toProjectGeometries, viewSR);
            if (isProjectTargetGeometry) {
                viewpoint.targetGeometry = projectedGeometries[0];
            }
            if (isProjectCameraPosition) {
                viewpoint.camera.position = projectedGeometries[projectedGeometries.length - 1];
            }
        }
        return viewpoint;
    });
}
function mapPanto(mapBaseView, target) {
    return __awaiter(this, void 0, void 0, function* () {
        const panToTarget = target;
        const tempBaseMapView = mapBaseView;
        if (panToTarget instanceof Array) {
            if (panToTarget.length === 0) {
                yield Promise.resolve();
                return;
            }
            if (panToTarget[0].geometry) {
                const geometryArr = [];
                for (let i = 0; i < panToTarget.length; i++) {
                    geometryArr.push(panToTarget[i].geometry);
                }
                yield getGeometriesExtent(geometryArr).then((extent) => {
                    return goTo(tempBaseMapView, extent.center);
                });
            }
            else {
                return getGeometriesExtent(panToTarget).then((extent) => {
                    return goTo(tempBaseMapView, extent.center);
                });
            }
        }
        else {
            if (panToTarget.geometry) {
                const getmetry = panToTarget.geometry;
                return goTo(tempBaseMapView, getCenterPoint(getmetry));
            }
            else {
                return goTo(tempBaseMapView, getCenterPoint(panToTarget));
            }
        }
    });
}
function goTo(view, target) {
    return __awaiter(this, void 0, void 0, function* () {
        return new Promise((resolve, reject) => {
            // delay before updating of view turns true, 400ms is a temporary solution.
            setTimeout(() => {
                //// there is a conflict for paning when the layer view is updating, such as 'pan to' and 'filter'.
                //// this is a temporary solution, it can reduce the frequency of the problem rather than solve it completely.
                //if (view.updating) {
                //  const handler = view.watch('updating', value => {
                //    if (!value) {
                //      view.goTo(target).then(() => resolve()).catch(() => reject())
                //      handler.remove()
                //    }
                //  })
                //} else {
                //  view.goTo(target).then(() => resolve()).catch(() => reject())
                //}
                view.goTo(target).then(() => { resolve(); }).catch(() => { reject(); });
            }, 400);
        });
    });
}
function getGeometriesExtent(geometries) {
    return __awaiter(this, void 0, void 0, function* () {
        return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/geometry/Extent'
        ]).then((modules) => __awaiter(this, void 0, void 0, function* () {
            // eslint-disable-next-line
            let Extent;
            [Extent] = modules;
            if (!geometries || !geometries.length) {
                return yield Promise.resolve(null);
            }
            let fullExtent = null;
            let index;
            const numGeometries = geometries.length;
            for (index = 0; index < numGeometries; index++) {
                const geometry = geometries[index];
                if (!geometry) {
                    continue;
                }
                let extent = geometry.extent;
                if (!extent && geometry.type === 'point') {
                    const pointGeometry = geometry;
                    if (pointGeometry.x && pointGeometry.y) {
                        extent = new Extent({
                            xmax: pointGeometry.x,
                            xmin: pointGeometry.x,
                            ymax: pointGeometry.y,
                            ymin: pointGeometry.y,
                            zmax: pointGeometry.z,
                            zmin: pointGeometry.z,
                            spatialReference: pointGeometry.spatialReference
                        });
                    }
                }
                if (!extent) {
                    continue;
                }
                if (fullExtent) {
                    fullExtent = fullExtent.union(extent);
                }
                else {
                    fullExtent = extent;
                }
            }
            if (fullExtent.width < 0 && fullExtent.height < 0) {
                return yield Promise.resolve(null);
            }
            return yield Promise.resolve(fullExtent);
        }));
    });
}
function filterFeaturesByQuery(jimuMapView, actionLayerDataSourceId, querySQL) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!actionLayerDataSourceId) {
            return;
        }
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(actionLayerDataSourceId);
        if (!dataSource) {
            return;
        }
        let jimuLayerView = null;
        try {
            jimuLayerView = yield jimuMapView.whenJimuLayerViewLoadedByDataSource(dataSource);
        }
        catch (err) {
            jimuLayerView = null;
            console.error('can\'t get jimuLayerView by dataSource', dataSource, err);
        }
        if (jimuLayerView && jimuLayerView.layer && (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer || jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer)) {
            jimuLayerView.setDefinitionExpression(querySQL);
        }
    });
}
function queryFeatures(layerObject, querySQL) {
    return (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/rest/support/Query'
    ]).then(modules => {
        let Query;
        [Query] = modules;
        const query = new Query();
        query.where = querySQL;
        query.outFields = ['*'];
        query.returnGeometry = true;
        return layerObject.queryFeatures(query).then(featureSet => {
            return featureSet;
        });
    });
}
function flashOnFeatureLayer(jimuMapView, querySQL, tempJimuLayerView) {
    if ((tempJimuLayerView).view) {
        let featureLayerView = (tempJimuLayerView).view;
        if (featureLayerView) {
            queryFeatures(featureLayerView.layer, querySQL).then(featureSet => {
                if (featureSet && featureSet.features && featureSet.features.length > 0) {
                    const symbol = getFlashSymbol(featureLayerView.layer.geometryType);
                    startFlash(jimuMapView.view, featureSet.features, symbol);
                }
            });
        }
        else {
            return null;
        }
    }
    else {
        (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
            'esri/layers/FeatureLayer'
        ]).then(modules => {
            let FeatureLayer;
            [FeatureLayer] = modules;
            let tempFeatureLayer = new FeatureLayer({
                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getUrlByLayer(tempJimuLayerView.layer)
            });
            tempFeatureLayer.load().then(() => {
                queryFeatures(tempFeatureLayer, querySQL).then(featureSet => {
                    if (featureSet && featureSet.features && featureSet.features.length > 0) {
                        const symbol = getFlashSymbol(featureSet.features[0].geometry.type);
                        startFlash(jimuMapView.view, featureSet.features, symbol);
                    }
                });
            });
        });
    }
}
let sceneHightlightHandle = null;
function flashOnSceneLayer(jimuMapView, querySQL, tempJimuLayerView) {
    var _a;
    if ((tempJimuLayerView).view) {
        let sceneLayerView = (tempJimuLayerView).view;
        // @ts-expect-error
        queryFeatures((_a = sceneLayerView === null || sceneLayerView === void 0 ? void 0 : sceneLayerView.layer) === null || _a === void 0 ? void 0 : _a.associatedLayer, querySQL).then(featureSet => {
            if (featureSet && featureSet.features && featureSet.features.length > 0) {
                const objectIdField = sceneLayerView.layer.objectIdField;
                const objectIds = featureSet.features.map(feature => feature.attributes[objectIdField]);
                let i = 0;
                const maxFlashCount = 6;
                let highlightColor = [255, 255, 0, 0.8];
                const originalHighlightOptions = jimuMapView.view.highlightOptions;
                const flash = function () {
                    if (i < maxFlashCount) {
                        i++;
                        if (highlightColor) {
                            highlightColor = null;
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: [0, 0, 0, 0] };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        else {
                            highlightColor = [255, 255, 0, 0.8];
                            // @ts-expect-error
                            jimuMapView.view.highlightOptions = { color: highlightColor };
                            sceneHightlightHandle && sceneHightlightHandle.remove();
                            sceneHightlightHandle = sceneLayerView.highlight(objectIds);
                        }
                        setTimeout(flash, 500);
                    }
                    else {
                        jimuMapView.view.highlightOptions = originalHighlightOptions;
                        sceneHightlightHandle && sceneHightlightHandle.remove();
                    }
                };
                setTimeout(flash, 500);
            }
        });
    }
}
function flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!layerDataSourceId) {
            return;
        }
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(layerDataSourceId);
        if (!dataSource) {
            return;
        }
        let jimuLayerView = null;
        try {
            jimuLayerView = yield jimuMapView.whenJimuLayerViewLoadedByDataSource(dataSource);
        }
        catch (err) {
            jimuLayerView = null;
            console.error('can\'t get jimuLayerView by dataSource', dataSource, err);
        }
        if (jimuLayerView && jimuLayerView.layer) {
            if (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.FeatureLayer) {
                flashOnFeatureLayer(jimuMapView, querySQL, jimuLayerView);
            }
            else if (jimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.LayerTypes.SceneLayer) {
                flashOnSceneLayer(jimuMapView, querySQL, jimuLayerView);
            }
        }
    });
}
function startFlash(mapBaseView, features, symbol) {
    (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
        'esri/Graphic'
    ]).then(modules => {
        // eslint-disable-next-line
        let Graphic;
        [Graphic] = modules;
        const flashFeatures = function (features, maxFlashCount) {
            const graphics = [];
            let flashCount = 0;
            for (let i = 0; i < features.length; i++) {
                const tempGraphic = new Graphic({
                    geometry: features[i].geometry,
                    symbol: symbol,
                    attributes: features[i].attributes
                });
                graphics.push(tempGraphic);
            }
            const singleFlash = function () {
                mapBaseView.graphics.addMany(graphics);
                setTimeout(() => {
                    mapBaseView.graphics.removeMany(graphics);
                    flashCount = flashCount + 1;
                    if (flashCount < maxFlashCount) {
                        setTimeout(() => {
                            singleFlash();
                        }, 500);
                    }
                }, 500);
            };
            singleFlash();
        };
        flashFeatures(features, 3);
    });
}
function getFlashSymbol(geometryType) {
    if (['point', 'multipoint'].includes(geometryType)) {
        return {
            type: 'simple-marker',
            style: 'circle',
            color: [255, 255, 0, 0.8],
            size: '16px',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['polyline'].includes(geometryType)) {
        return {
            type: 'simple-line',
            color: [255, 255, 0, 0.8],
            width: 3,
            style: 'solid'
        };
    }
    else if (['polygon', 'extent'].includes(geometryType)) {
        return {
            type: 'simple-fill',
            color: [255, 255, 0, 0.5],
            style: 'solid',
            outline: {
                color: [255, 255, 0, 0.8],
                width: 3
            }
        };
    }
    else if (['mesh'].includes(geometryType)) {
        return {
            type: 'mesh-3d',
            symbolLayers: [{
                    type: 'fill',
                    material: { color: [255, 255, 0, 0.8] }
                }]
        };
    }
    else {
        return null;
    }
}
function getCenterPoint(geometry) {
    // point | multipoint | polyline | polygon | extent | mesh
    switch (geometry.type) {
        case 'point':
            return geometry;
        case 'extent':
            return geometry.center;
        case 'polygon':
            return geometry.centroid;
        case 'polyline':
            return geometry.extent.center;
        default:
            return geometry && geometry.extent ? geometry.extent.center : undefined;
        // todo
    }
}
function handleFeature(feature, Graphic) {
    let tempFeature = null;
    if (feature.clone) {
        tempFeature = feature.clone();
    }
    else {
        tempFeature = Graphic.fromJSON(Object.assign({}, feature));
        tempFeature.attributes = Object.assign({}, feature.attributes);
    }
    return tempFeature;
}
function projectGeometries(geometries, spatialReference) {
    return __awaiter(this, void 0, void 0, function* () {
        if (!geometries || geometries.length === 0 || !geometries[0] ||
            spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {
            // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto
            return yield Promise.resolve(geometries);
        }
        else {
            return yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.geometryUtils.projectToSpatialReference(geometries, spatialReference);
        }
    });
}
function processZoomToFeatures(mapBaseView, layer, features) {
    return __awaiter(this, void 0, void 0, function* () {
        if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {
            return yield (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__.loadArcGISJSAPIModules)([
                'esri/rest/support/Query'
            ]).then((modules) => {
                const [Query] = modules;
                const query = new Query();
                query.returnGeometry = true;
                query.outFields = ['*'];
                query.objectIds = features.map(feature => feature.attributes[layer.objectIdField]);
                return layer.queryFeatures(query).then((result) => __awaiter(this, void 0, void 0, function* () {
                    if (result && result.features && result.features.length === features.length) {
                        return yield Promise.resolve(result.features);
                    }
                    else {
                        return yield Promise.resolve(features);
                    }
                }), () => __awaiter(this, void 0, void 0, function* () {
                    return yield Promise.resolve(features);
                }));
            });
        }
        else {
            return yield Promise.resolve(features);
        }
    });
}
function checkIsLive(appMode) {
    if (window.jimuConfig.isInBuilder) {
        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design) {
            return false;
        }
        else {
            return true;
        }
    }
    else {
        return true;
    }
}
function getLayersFromDataSourceIds(dataSourceIds) {
    const layerPromises = [];
    dataSourceIds.forEach(dataSourceId => {
        const dataSource = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance().getDataSource(dataSourceId);
        let layerPromise;
        if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) {
            layerPromise = Promise.resolve(dataSource.layer);
        }
        else if (dataSource === null || dataSource === void 0 ? void 0 : dataSource.createJSAPILayerByDataSource) {
            layerPromise = dataSource.createJSAPILayerByDataSource();
        }
        else {
            layerPromise = Promise.resolve(null);
        }
        layerPromises.push(layerPromise);
    });
    return Promise.all(layerPromises);
}
function getJimuMapViewId(widgetId, dataSourceId) {
    // If dataSourceId is null, make sure it converts to empty string.
    const dsId = dataSourceId || '';
    return `${widgetId}-${dsId}`;
}
function getMapBaseRestoreData(mapInstance) {
    const { mapContainer, state, Geometry, InitialViewProperties, TileLayer, Basemap, MapView, SceneView, Extent, Viewpoint, PortalItem, Portal, WebMap, WebScene, Color, expectedDataSourceInfo, mapCreatingInfo, view, lastUpdateViewConfig, mapDs, dsManager, isFirstReceiveMessage } = mapInstance;
    return {
        mapContainer,
        state,
        Geometry,
        InitialViewProperties,
        TileLayer,
        Basemap,
        MapView,
        SceneView,
        Extent,
        Viewpoint,
        PortalItem,
        Portal,
        WebMap,
        WebScene,
        Color,
        expectedDataSourceInfo,
        mapCreatingInfo,
        view,
        lastUpdateViewConfig,
        mapDs,
        dsManager,
        isFirstReceiveMessage
    };
}
function restoreMapBase(mapInstance, restoreData) {
    const keys = Object.keys(restoreData);
    for (const key of keys) {
        mapInstance[key] = restoreData[key];
    }
}
function isTwoWidgetsMutuallyExtentChange(widgetId1, widgetId2) {
    if (widgetId1 && widgetId2) {
        const messageConfigs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.messageConfigs;
        if (messageConfigs) {
            const actionNames = ['panTo', 'zoomToFeature'];
            const messageType = jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageType.ExtentChange;
            if (isWidgetSendActionsToAnother(widgetId1, widgetId2, messageConfigs, messageType, actionNames) &&
                isWidgetSendActionsToAnother(widgetId2, widgetId1, messageConfigs, messageType, actionNames)) {
                return true;
            }
        }
    }
    return false;
}
function isWidgetSendZoomToActionToAnother(sendMessageWidgetId, actionWidgetId, messageType) {
    if (sendMessageWidgetId && actionWidgetId) {
        const messageConfigs = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.messageConfigs;
        if (messageConfigs) {
            const actionNames = ['zoomToFeature'];
            return isWidgetSendActionsToAnother(sendMessageWidgetId, actionWidgetId, messageConfigs, messageType, actionNames);
        }
    }
    return false;
}
function isWidgetSendActionsToAnother(sendMessageWidgetId, actionWidgetId, messageConfigs, messageType, actionNames) {
    if (messageConfigs) {
        const messageJsonArray = Object.values(messageConfigs);
        for (let i = 0; i < messageJsonArray.length; i++) {
            const messageJson = messageJsonArray[i];
            if (messageJson.widgetId === sendMessageWidgetId && messageJson.messageType === messageType) {
                const actions = messageJson.actions;
                for (let j = 0; j < actions.length; j++) {
                    const action = actions[j];
                    if (action.widgetId === actionWidgetId) {
                        if (actionNames.includes(action.actionName)) {
                            return true;
                        }
                    }
                }
            }
        }
    }
    return false;
}


/***/ }),

/***/ "./your-extensions/widgets/arcgis-map-112/src/version-manager.ts":
/*!***********************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/version-manager.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "versionManager": () => (/* binding */ versionManager)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");

class VersionManager extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.BaseVersionManager {
    constructor() {
        super(...arguments);
        this.versions = [{
                version: '1.10.0',
                description: '1.10.0',
                upgrader: (oldConfig) => {
                    let newConfig;
                    if (oldConfig.toolConifg) {
                        // fix typo for 'toolConifg'
                        newConfig = jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable.without(oldConfig, 'toolConifg');
                        newConfig = newConfig.set('toolConfig', oldConfig.toolConifg);
                    }
                    return newConfig;
                }
            }];
    }
}
const versionManager = new VersionManager();


/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!***********************************************************************!*\
  !*** ./your-extensions/widgets/arcgis-map-112/src/runtime/widget.tsx ***!
  \***********************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__set_webpack_public_path__": () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (/* binding */ Widget)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/multisourcemap */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/multisourcemap.tsx");
/* harmony import */ var _components_default_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/default-map */ "./your-extensions/widgets/arcgis-map-112/src/runtime/components/default-map.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./your-extensions/widgets/arcgis-map-112/src/runtime/utils.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _version_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../version-manager */ "./your-extensions/widgets/arcgis-map-112/src/version-manager.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */








class Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        super(props);
        this.multiSourceMapInstance = null;
        this.startRenderMap = () => {
            setTimeout(() => {
                this.setState({
                    startLoadModules: true
                });
            }, 100);
        };
        this.getPlaceHolderImage = () => {
            let placeHolderImage = this.props.config.placeholderImage;
            const session = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getMainSession();
            if (placeHolderImage) {
                // eslint-disable-next-line
                const isPortalThumbExp = new RegExp('^(.)+/sharing/rest/content/items/(.)+/info/(.)+');
                if (isPortalThumbExp.test(placeHolderImage)) {
                    if (session) {
                        placeHolderImage = placeHolderImage + `?token=${session.token}`;
                    }
                    else {
                        // eslint-disable-next-line no-self-assign
                        placeHolderImage = placeHolderImage;
                    }
                }
            }
            return placeHolderImage;
        };
        this.fullScreenHanlder = (event) => {
            if (!document.fullscreenElement && !document.webkitFullscreenElement) {
                this.setState({
                    isFullScreen: false
                });
            }
        };
        this.fullScreenMap = () => {
            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__.utils.isTouchDevice()) {
                // is touch device
                if (this.container.style.position === 'fixed') {
                    this.container.style.height = `${this.containerClientRect.height}px`;
                    this.container.style.width = `${this.containerClientRect.width}px`;
                    this.container.style.top = `${this.containerClientRect.top}px`;
                    this.container.style.left = `${this.containerClientRect.left}px`;
                    setTimeout(() => {
                        this.container.style.transition = null;
                        this.container.style.position = 'relative';
                        this.container.style.height = '100%';
                        this.container.style.width = '100%';
                        this.container.style.top = '0';
                        this.container.style.left = '0';
                        this.container.style.backgroundColor = 'none';
                        this.parentContainer.appendChild(this.container);
                        this.setState({
                            isFullScreen: false
                        });
                    }, 100);
                }
                else {
                    const clientRect = this.container.getBoundingClientRect();
                    this.containerClientRect = clientRect;
                    this.container.style.height = `${clientRect.height}px`;
                    this.container.style.width = `${clientRect.width}px`;
                    this.container.style.position = 'fixed';
                    this.container.style.top = `${clientRect.top}px`;
                    this.container.style.left = `${clientRect.left}px`;
                    this.container.style.zIndex = '1';
                    document && document.body.appendChild(this.container);
                    setTimeout(() => {
                        this.container.style.transition = 'top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s';
                        this.container.style.top = '0px';
                        this.container.style.left = '0px';
                        this.container.style.right = '0px';
                        this.container.style.bottom = '0px';
                        this.container.style.height = null;
                        this.container.style.width = null;
                        this.container.style.backgroundColor = '#fff';
                        this.setState({
                            isFullScreen: true
                        });
                    }, 100);
                }
            }
            else {
                const element = this.container;
                if (!document) {
                    return;
                }
                document.addEventListener('webkitfullscreenchange', this.fullScreenHanlder);
                document.addEventListener('fullscreenchange', this.fullScreenHanlder);
                if (document.fullscreenElement === element) {
                    document.exitFullscreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                if (document.webkitFullscreenElement === element) {
                    document.webkitCancelFullScreen();
                    this.setState({
                        isFullScreen: false
                    });
                    return;
                }
                const requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;
                if (requestMethod) {
                    this.setState({
                        isFullScreen: true
                    });
                    requestMethod.call(element);
                }
                else if (typeof window.ActiveXObject !== 'undefined') {
                    const wscript = new ActiveXObject('WScript.Shell');
                    if (wscript !== null) {
                        wscript.SendKeys('{F11}');
                    }
                }
            }
        };
        this.handleViewGroupCreate = (viewGroup) => {
            if (viewGroup) {
                viewGroup.setMapWidgetInstance(this);
            }
        };
        this.switchMap = () => __awaiter(this, void 0, void 0, function* () {
            if (this.multiSourceMapInstance) {
                return yield this.multiSourceMapInstance.switchMap();
            }
            else {
                yield Promise.resolve();
            }
        });
        this.setMultiSourceMapInstance = (instance) => {
            this.multiSourceMapInstance = instance;
        };
        this.onResize = (width, height) => {
            if (!width || !height) {
                return;
            }
            if (width <= 545 && width > 0) {
                this.setState({
                    widthBreakpoint: 'xsmall',
                    widgetHeight: height
                });
            }
            else {
                this.setState({
                    widthBreakpoint: 'other',
                    widgetHeight: height
                });
            }
        };
        this.isLoadingDisplayed = () => {
            var _a;
            const addToMapDatas = ((_a = this.props.mutableStateProps) === null || _a === void 0 ? void 0 : _a.addToMapDatas) || {};
            return Object.values(addToMapDatas).some(value => (value === null || value === void 0 ? void 0 : value.dataChangeStatus) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.DataChangeStatus.Pending);
        };
        this.isWarningDisplayed = () => {
            var _a;
            const addToMapDatas = ((_a = this.props.mutableStateProps) === null || _a === void 0 ? void 0 : _a.addToMapDatas) || {};
            return Object.values(addToMapDatas).some(value => (value === null || value === void 0 ? void 0 : value.dataChangeStatus) === jimu_arcgis__WEBPACK_IMPORTED_MODULE_4__.DataChangeStatus.Rejected);
        };
        this.getInnerContent = (isMapInVisibleArea) => {
            if (!this.state.startLoadModules) {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'widget-map w-100 h-100' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: { position: 'absolute', left: '50%', top: '50%' }, className: 'jimu-secondary-loading' }))));
            }
            else {
                if (!(this.props.useDataSources && this.props.useDataSources[0] && this.props.useDataSources[0].dataSourceId)) {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, isMapInVisibleArea && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_default_map__WEBPACK_IMPORTED_MODULE_2__["default"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, isDefaultMap: true, setMultiSourceMapInstance: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea, autoControlWidgetId: this.props.autoControlWidgetId })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
                else {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'w-100 h-100', ref: ref => { this.parentContainer = ref; } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { css: this.getStyle(), className: 'w-100 h-100', ref: ref => { this.container = ref; } },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('w-100 h-100', { 'map-is-design-mode': !(0,_utils__WEBPACK_IMPORTED_MODULE_3__.checkIsLive)(this.props.appMode) }) }, isMapInVisibleArea && this.props.useDataSources.length >= 1 &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_1__["default"], { key: 1, fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen, isMapInVisibleArea: isMapInVisibleArea, autoControlWidgetId: this.props.autoControlWidgetId })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.onResize }))));
                }
            }
        };
        this.warningIcon = `<svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.09926 5.37004C7.04598 4.83729 7.46434 4.375 7.99975 4.375C8.53516 4.375 8.95353 4.83728 8.90025 5.37004L8.5495 8.87748C8.52126 9.15992 8.2836 9.375 7.99975 9.375C7.71591 9.375 7.47825 9.15992 7.45 8.87748L7.09926 5.37004Z" fill="#938500"/>
                        <path d="M7.99975 12.375C8.55204 12.375 8.99975 11.9273 8.99975 11.375C8.99975 10.8227 8.55204 10.375 7.99975 10.375C7.44747 10.375 6.99975 10.8227 6.99975 11.375C6.99975 11.9273 7.44747 12.375 7.99975 12.375Z" fill="#938500"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.66642 14.375C0.9115 14.375 0.428811 13.5705 0.784067 12.9044L7.1174 1.02941C7.49387 0.323529 8.50564 0.323529 8.88211 1.02941L15.2154 12.9044C15.5707 13.5705 15.088 14.375 14.3331 14.375H1.66642ZM1.66642 13.375L7.99975 1.5L14.3331 13.375H1.66642Z" fill="#938500"/>
                        </svg>`;
        this.state = {
            widthBreakpoint: null,
            widgetHeight: null,
            isFullScreen: false
        };
    }
    getWidgetSyle() {
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      .map-loading-bar {
        z-index: 8;
      }
      .map-warning-bar {
        z-index: 8;
        position: absolute;
        bottom: 4px;
        left: 4px;
        right: 4px;
        height: 35px;
        background: #fffdeb;
        border: 1px solid #fff592;
        display: flex;
        align-items: center;
        justify-content: flex-start;

        .warning-icon {
          width: 14px;
          margin: 0 12px 0 12px;
        }
      }
    `;
    }
    getStyle() {
        const theme = this.props.theme;
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.css `
      position: relative;

      .map-is-live-mode {
        .exbmap-ui {
          pointer-events: auto !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map-usemask {
        pointer-events: auto !important;
      }

      .map-is-design-mode {
        .exbmap-ui,
        .exbmap-ui-tool {
          pointer-events: none !important;
        }

        .is-widget {
          pointer-events: auto !important;
        }
      }

      .widget-map{
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        z-index: -1;
        .overview-container{
          position: absolute;
          top: 12px;
          right: 12px;
          width: 300px;
          height: 200px;
          border: 1px solid black;
          z-index: 1;
        }

        .extent-container{
          background-color: rgba(0, 0, 0, 0.5);
          position: absolute;
          z-index: 2;
        }

        .extent-btn-container{
          button{
            outline: none;
          }
          .previous-extent-btn{
            color: #111;
          }
          .next-extent-btn{
            color: #222;
          }
        }
      }

      .map-tool-layout{
        z-index: 0;
      }

      .mapswitch-container {
        position: absolute;
        z-index: 7;
        width: 32px;
        height: 32px;
        bottom: 10px;
        left: 10px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)
      }

      .mapswitch-icon {
        fill: black;
        left: 8px;
        top: 8px;
        position: absolute;
        display: block;
      }

      .widget-map-background {
        background-color: ${theme.colors.white};
        position: absolute;
        z-index: 1;
      }

      .widget-map-crashed {
        background-color: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba(theme.colors.white, 0.85)};
        position: absolute;
        z-index: 1;
        top: 0;

        .widget-map-crashed-label-padding {
          padding-left: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
          padding-right: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(24)};
        }

        .widget-map-crashed-label {
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(13)};
          color: ${theme.colors.black};
          font-weight: bold;
          text-align: center;
        }
      }

      @keyframes appear {
        0%{opacity:0}
        25%{opacity:.25}
        50%{opacity:.5;}
        75%{opacity:.75}
        100%{opacity:1;}
      }

      @keyframes disappear {
        0%{opacity:1}
        25%{opacity:.75}
        50%{opacity:.5;}
        75%{opacity:.25}
        100%{opacity:0;}
      }

      .multisourcemap-item-appear {
        animation: appear 300ms;
        -webkit-animation: appear 300ms;
        -moz-animation: appear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-disappear {
        animation: disappear 300ms;
        -webkit-animation: disappear 300ms;
        -moz-animation: disappear 300ms;
        animation-fill-mode: forwards;
        -webkit-animation-fill-mode: forwards;
        -moz-animation-fill-mode: forwards;
        animation-timing-function: ease-in;
        -webkit-animation-timing-function: ease-in;
        -moz-animation-timing-function: ease-in;
      }

      .multisourcemap-item-appear-noanimate {
        opacity: 1;
      }

      .multisourcemap-item-disappear-noanimate {
        opacity: 0;
      }
      `;
    }
    componentDidMount() {
        if (!this.state.startLoadModules) {
            if (window.jimuConfig.isInBuilder || !this.props.config.canPlaceHolder) {
                this.startRenderMap();
            }
        }
    }
    componentWillUnmount() {
        const widgets = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState().appConfig.widgets;
        document.removeEventListener('webkitfullscreenchange', this.fullScreenHanlder);
        document.removeEventListener('fullscreenchange', this.fullScreenHanlder);
        if (!widgets[this.props.id]) {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(this.props.id, 'restoreData', null);
        }
    }
    render() {
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'jimu-widget arcgis-map', css: this.getWidgetSyle() },
            this.isLoadingDisplayed() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Loading, { className: 'map-loading-bar', type: jimu_ui__WEBPACK_IMPORTED_MODULE_7__.LoadingType.Bar }),
            this.isWarningDisplayed() && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'map-warning-bar' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { className: 'warning-icon', icon: this.warningIcon, size: 26, currentColor: false }),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", null, this.props.intl.formatMessage({ id: 'failToAddTheDataOnMap', defaultMessage: 'Fail to add the data.' }))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.PageVisibilityContext.Consumer, null, (isPageVisible) => {
                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.ViewportVisibilityContext.Consumer, null, (isVisibleInViewPort) => {
                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__.ViewVisibilityContext.Consumer, null, (viewVisibilityContextProps) => {
                        // isPageVisible:
                        // App can have page1, page2, isPageVisible is used to judge whether the current page is visible.
                        // isVisibleInViewPort:
                        // When scrolling the scroll page, the widget may be scrolled out of the current viewport,
                        // isVisibleInViewPort is used to determine whether the current widget is in the viewport of the browser.
                        // isPrintPreview
                        // isPrintPreview is used to determine whether it is currently in browser printing mode.
                        // isVisibleInView:
                        // The widget is ultimately placed in a view in a layout. It is possible that we have a section with multiple views in it, similar to tabs.
                        // isVisibleInView is used to determine whether the widget is in the currently visible view.
                        const isVisibleInView = viewVisibilityContextProps.isInView ? viewVisibilityContextProps.isInCurrentView : true;
                        // isMapInVisibleArea:
                        // isMapInVisibleArea is used to finally determine whether the dom of the map is visible to the user.
                        // Here we use (isVisibleInViewPort || this.props.isPrintPreview), not only isVisibleInViewPort, consider the following case.
                        // Case:
                        // We create a scroll page with map. We scroll the page and the map is not visible for user.
                        // User wants to print the scroll page, including the map (even the map is not visible).
                        // Then the user enables print view mode by a button. Now, isVisibleInViewPort is false and this.props.isPrintPreview is true.
                        // We need to make sure the map widget is visible (let isMapInVisibleArea be true) when in print view mode, otherwise the print result will lose map.
                        // So we use (isVisibleInViewPort || this.props.isPrintPreview), instead of this.props.isPrintPreview.
                        const isMapInVisibleArea = isPageVisible && (isVisibleInViewPort || this.props.isPrintPreview) && isVisibleInView;
                        return this.getInnerContent(isMapInVisibleArea);
                    }));
                }));
            })));
    }
}
Widget.versionManager = _version_manager__WEBPACK_IMPORTED_MODULE_6__.versionManager;
Widget.mapExtraStateProps = (state, props) => {
    var _a;
    let autoControlWidgetId = '';
    const mapWidgetId = props.id;
    if (state.mapWidgetsInfo && mapWidgetId) {
        autoControlWidgetId = ((_a = state.mapWidgetsInfo[mapWidgetId]) === null || _a === void 0 ? void 0 : _a.autoControlWidgetId) || '';
    }
    return {
        appMode: state && state.appRuntimeInfo && state.appRuntimeInfo.appMode,
        isPrintPreview: state.appRuntimeInfo.isPrintPreview,
        queryObject: state.queryObject,
        autoControlWidgetId
    };
};
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9kaXN0L3J1bnRpbWUvd2lkZ2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBNkM7QUFFYztBQUVwRCxNQUFNLG9CQUFvQixHQUFHLENBQUMsS0FBd0IsRUFBRSxFQUFFO0lBQy9ELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHO0lBQ3RCLE1BQU0sRUFBRSxTQUFTLEtBQWdCLEtBQUssRUFBaEIsTUFBTSxVQUFLLEtBQUssRUFBaEMsYUFBd0IsQ0FBUTtJQUV0QyxNQUFNLE9BQU8sR0FBRyxxREFBVSxDQUFDLCtCQUErQixFQUFFLFNBQVMsQ0FBQztJQUN0RSxJQUFJLENBQUMsR0FBRztRQUFFLE9BQU8sa0ZBQUssU0FBUyxFQUFFLE9BQU8sSUFBTSxNQUFhLEVBQUk7SUFDL0QsT0FBTywyREFBQyxHQUFHLGtCQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLDZFQUFHLElBQU0sTUFBTSxFQUFJO0FBQzFELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNSRCxJQUFZLGdCQUtYO0FBTEQsV0FBWSxnQkFBZ0I7SUFDMUIsaUNBQWE7SUFDYiwrQkFBVztJQUNYLHFD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QUFzRzt3QkFDdEcsTUFBTSxrQkFBa0IsR0FBRyxhQUFhLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLGVBQWU7d0JBRWpILE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDakQsQ0FBQyxDQUM4QixDQUVsQztnQkFDSCxDQUFDLENBQ2tDLENBQ3RDO1lBQ0gsQ0FBQyxDQUM4QixDQUM3QixDQUNQO0lBQ0gsQ0FBQzs7QUE5VE0scUJBQWMsR0FBRyw0REFBYztBQUUvQix5QkFBa0IsR0FBRyxDQUFDLEtBQWMsRUFBRSxLQUErQixFQUFFLEVBQUU7O0lBQzlFLElBQUksbUJBQW1CLEdBQUcsRUFBRTtJQUU1QixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsRUFBRTtJQUU1QixJQUFJLEtBQUssQ0FBQyxjQUFjLElBQUksV0FBVyxFQUFFO1FBQ3ZDLG1CQUFtQixHQUFHLFlBQUssQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLDBDQUFFLG1CQUFtQixLQUFJLEVBQUU7S0FDbkY7SUFFRCxPQUFPO1FBQ0wsT0FBTyxFQUFFLEtBQUssSUFBSSxLQUFLLENBQUMsY0FBYyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsT0FBTztRQUN0RSxjQUFjLEVBQUUsS0FBSyxDQUFDLGNBQWMsQ0FBQyxjQUFjO1FBQ25ELFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztRQUM5QixtQkFBbUI7S0FDcEI7QUFDSCxDQUFDO0FBZ1RLLFNBQVMsMkJBQTJCLENBQUMsR0FBRyxJQUFJLHFCQUF1QixHQUFHLEdBQUcsRUFBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL2ZpbGxlZC9kYXRhL3BsYWNlaG9sZGVyLW1hcC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL2Fycm93LWRvd24taGVhZGVyLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS11aS9saWIvaWNvbnMvbW9yZS0xNi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtdWkvbGliL2ljb25zL3dpZGdldHMuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvYmFzZW1hcC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9jbG9zZS0xMi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9leGNoYW5nZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9leGl0LWZ1bGwtc2NyZWVuLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Z1bGwtc2NyZWVuLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlYXJjaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxpbmUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXpvb210by5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvZmlsbGVkL2RhdGEvcGxhY2Vob2xkZXItbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL2NvbmZpZy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9kZWZhdWx0LW1hcC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbWFwLXRodW1iLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXBiYXNlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9jb21wb25lbnRzL211bHRpc291cmNlbWFwLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLXNoZWxsLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvZ3JvdXAudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9wYW5lbC1zaGVsbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL3Njcm9sbC1jb250YWluZXIudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS91aS1jb21wb25lbnQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9sYXlvdXQvbGF5b3V0LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvbGF5b3V0L21hcC1maXhlZC1sYXlvdXQudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS9sYXlvdXQvcGMtbGF5b3V0LWpzb24udHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL2xheW91dC90b29sLW1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL2F0dHJpYnV0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvYmFzZW1hcC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL2NsZWFyLWFjdGlvbi1kYXRhLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvY29tcGFzcy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL2Z1bGxzY3JlZW4udHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS90b29scy9ob21lLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvbGF5ZXJzLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvbG9jYXRlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvbWFwc3dpdGNoLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvbWVhc3VyZS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL25hdmlnYXRpb24udHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvcnVudGltZS90b29scy9zY2FsZWJhci50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL3NlYXJjaC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdC9zZWxlY3QtbW9iaWxlLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wYy50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdHN0YXRlL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvc2VsZWN0ZWQtbnVtYmVyLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzLW1hcC0xMTIvc3JjL3J1bnRpbWUvdG9vbHMvem9vbS50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3V0aWxzLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMtbWFwLTExMi9zcmMvdmVyc2lvbi1tYW5hZ2VyLnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1hcmNnaXNcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LXVpXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1jb3JlL2xpYi9zZXQtcHVibGljLXBhdGgudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy1tYXAtMTEyL3NyYy9ydW50aW1lL3dpZGdldC50c3giXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwNTA1MDVcXFwiIGQ9XFxcIm0xMi42ODcgOS4wNzQuMDczLS4xMzNhLjE0Ny4xNDcgMCAwIDAgLjAxNy0uMDc4bC0uMDEyLS4xNDJjLS4wMDItLjAzMy0uMDQyLS4wNTEtLjA2OC0uMDI4bC0uMjA1LjE3NWEuMDUuMDUgMCAwIDEtLjAxOS4wMWwtLjA5Mi4wMTdhLjA0Mi4wNDIgMCAwIDAtLjAzMy4wNTFsLjAxOS4wNzdhLjEzNS4xMzUgMCAwIDAgLjA5My4wOTdsLjA3LjAyYS4xMzQuMTM0IDAgMCAwIC4xNTctLjA2NlpNMTMuOCA5LjM4OWEuMTMuMTMgMCAwIDAgLjA1OC0uMDE0bC4xNDEtLjA2OWMuMDAyIDAgLjAwMiAwIC4wMDMuMDAybC4xMDQuMTNjLjAwNS4wMDYuMDEzLjAxLjAyMy4wMWguMDY5YS4wMjguMDI4IDAgMCAwIC4wMjMtLjA0NmwtLjEwOC0uMTQxLS4wNDctLjA0LS4zODItLjE5MS0uMDkyLjAzNmgtLjA3di0uMDAxbC0uMDI2LS4wODRhLjAyNy4wMjcgMCAwIDAtLjAyNS0uMDE5aC0uMDkzYS4wMjcuMDI3IDAgMCAwLS4wMjcuMDI4di4wODJoLjA2di4wMjRjMCAuMDMuMDIzLjA1NS4wNTIuMDZsLjEzNi4wMTZoLjAwMWwuMDc0LjA5M2MuMDIzLjAyOC4wMTkuMDk3LS4wMDYuMTI1di4wMDFoLjEzMVY5LjM5Wk0xMy44NzggNi43NzVsLS4wNDguMDQzYS4yOTQuMjk0IDAgMCAwLS4wOTQuMTg3LjI5OS4yOTkgMCAwIDEtLjA4Mi4xNzguNDk2LjQ5NiAwIDAgMS0uMjQ2LjEzNmwtLjAxOC4wMDQtLjA3Ni4wNjJzLS4wMjIuMTEgMCAuMTM1Yy4wMDkuMDEyLjA0OS4wMS4wNjEgMCAuMDE2LS4wMTIuMDE3LS4wOC4wMTctLjA4bC4yNDItLjA4N3MuMDYuMDguMDkuMDgzYy4wMTIuMDAyLjA0Mi0uMDEzLjA1LS4wMjUuMDMyLS4wNDUuMDY4LS4yMDguMDY4LS4yMDhhLjU0Ni41NDYgMCAwIDAgLjAyNC0uMTEzbC4wMTMtLjE0My4xMDgtLjAwNy4wNDMtLjA4Ny0uMTEyLS4wMTEtLjA0LS4wNjdaTTkuNDI3IDEwLjEyYS4xNDEuMTQxIDAgMCAwIC4yNDUgMHYtLjMzNGEuMTIyLjEyMiAwIDAgMC0uMTg3LS4xMDUuMTI1LjEyNSAwIDAgMC0uMDU4LjEwNXYuMzMzWk02LjY5OCA0LjMxNWwuMTQ0LS4wODQuMDAyLS4wMDZhLjA2NS4wNjUgMCAwIDAtLjAyNi0uMDg1LjA2My4wNjMgMCAwIDAtLjAzMS0uMDA4aC0uMzI4bC0uMDM1LS4wMzhhLjIxNi4yMTYgMCAwIDAtLjE1Ny0uMDc0TDUuNzc4IDRsLS4wNDguMDA5YTIuMzYyIDIuMzYyIDAgMCAxLS4wNDguMDA5bC0uMjg5LjEyMmEuMjA5LjIwOSAwIDAgMS0uMDc2LjAxOGwtLjQ2NC4wMjNhLjIzMi4yMzIgMCAwIDAtLjA5OS4wMjhsLS4yNi4xNDhhLjAzLjAzIDAgMCAwLS4wMTUuMDI0LjAzLjAzIDAgMCAwIC4wMTIuMDI2Yy4wMi4wMTUuMDE0LjA0Ny0uMDEuMDUzbC0uMjAzLjA1MWEuMDMuMDMgMCAwIDAtLjAxOS4wNDRsLjA2OC4xMTJhLjAzLjAzIDAgMCAwIC4wMi4wMTRsLjM2NC4wNjNjLjA1Ni4wMS4xMDYuMDQuMTQuMDg2bC4yNTEuMzMzLjA3NC4xMDJhLjA5NC4wOTQgMCAwIDEtLjAwNy4xMThsLS4wNTYuMDZhLjA5My4wOTMgMCAwIDAtLjAxNS4xMDVsLjE4My4zN2EuMTM0LjEzNCAwIDAgMCAuMDgxLjA2OC4yMjMuMjIzIDAgMCAwIC4yNzQtLjE0MmwuMDQ4LS4xMzdhLjA5Ny4wOTcgMCAwIDEgLjA0LS4wNWwuMjA0LS4xNzVhLjI0LjI0IDAgMCAxIC4wODUtLjA0NmwuMzItLjA4OGEuMjIuMjIgMCAwIDAgLjE0OC0uMTMzbC4xNTEtLjM3OGEuMjI3LjIyNyAwIDAgMC0uMDAxLS4xNzJsLS4wMy0uMDdhLjIyNy4yMjcgMCAwIDEgLjA5Ny0uMjhaTTQuMDMgNC42NDNsLjA2MS0uMTFhLjIyMS4yMjEgMCAwIDEgLjA4OC0uMDg3bC41MDQtLjI4Mi0uMDU3LS4wNjYtLjU3Mi0uMDM1YS4yMDMuMjAzIDAgMCAwLS4wNS4wMDNsLS41NTcuMDlhLjIzMi4yMzIgMCAwIDAtLjEzNy4zNzdsLjEyNS4xNDhjLjA0My4wNTEuMTA3LjA4LjE3Mi4wOGguMjI0YS4yMjYuMjI2IDAgMCAwIC4xOTktLjExOFpNNC42NjYgNS42NzJsLjA1Mi0uMDYxYy4wMTMtLjAxNi4wMS0uMDQtLjAwNy0uMDUxbC0uMTYyLS4xMTYtLjU2OS0uNDI1YS4xMzcuMTM3IDAgMCAwLS4wODEtLjAyN2gtLjIyNGEuMTMxLjEzMSAwIDAgMC0uMDk1LjA0bC0uMTE4LjExNWEuMDM0LjAzNCAwIDAgMC0uMDAzLjA0N2wuMDY3LjA4NWMuMDA2LjAxLjAxOC4wMTUuMDMuMDE0bC4wNjQtLjAwNmEuMDM1LjAzNSAwIDAgMSAuMDM4LjAzM2wuMDAyLjAzOGMwIC4wMDUgMCAuMDEtLjAwMi4wMTZsLS4wMy4wNzNhLjAzNi4wMzYgMCAwIDAgLjAwNi4wMzZsLjA3LjA4NGEuMDMyLjAzMiAwIDAgMCAuMDI4LjAxMmwuMDY4LS4wMDNhLjAzNS4wMzUgMCAwIDAgLjAzNC0uMDM1di0uMTQ3YzAtLjAxOS4wMTQtLjAzNC4wMzItLjAzNWwuMDk0LS4wMDdjLjAwOCAwIC4wMTguMDAyLjAyNC4wMDdsLjE3NC4xMzNjLjAxMy4wMTEuMDE3LjAyOS4wMS4wNDRsLS4wNTcuMTE2YS4wMzMuMDMzIDAgMCAxLS4wMy4wMThsLS4wNTQuMDA0YS4wMzYuMDM2IDAgMCAwLS4wMzIuMDI3LjAzNi4wMzYgMCAwIDAgLjAzMi4wNDRsLjExNy4wMDljLjAyNC4wMDEuMDQ4LjAxLjA2OS4wMjRsLjIwNi4xNDZjLjAxNC4wMS4wMy4wMDguMDQzLS4wMDNsLjA2NS0uMDU1YS4wMy4wMyAwIDAgMCAuMDExLS4wMThsLjAyMS0uMDgzYS4wMzUuMDM1IDAgMCAwLS4wMDQtLjAyOWwtLjA3LS4xMS4wMjItLjAwNGEuMDM3LjAzNyAwIDAgMSAuMDI0LjAwNGwuMDkxLjA1NGEuMDM1LjAzNSAwIDAgMCAuMDQ0LS4wMDhaTTIuMDggNS4xMzZoLjA3bC4xMDQuMTQ3Yy4wMTQuMDE4LjAzLjAzMy4wNS4wNDRsLjEzNi4wNjhjLjAxOC4wMS4wNC4wMTUuMDYxLjAxNWguNDIyVjUuMjdsLS4xNTYtLjA1Ni0uMTgtLjA5N0EuMTQuMTQgMCAwIDEgMi41MiA1LjFsLS4yODgtLjE2NmEuMTMuMTMgMCAwIDAtLjA2Ny0uMDE4aC0uMTczYS4xMzYuMTM2IDAgMCAwLS4xMy4wOTVsLS4wMTQuMDQ3YS4xNC4xNCAwIDAgMCAuMDMzLjE0bC4wNjEuMDYyaC4xMzh2LS4xMjNaTTIuNjc5IDUuMDIybC4xMS0uMDU4YS4xMzkuMTM5IDAgMCAxIC4wNjMtLjAxNWguMDZjLjA1MiAwIC4xLjAzLjEyMy4wNzhsLjA0NC4wOTJ2LjA5NGgtLjJ2LS4xMmwtLjA4NC0uMDQzLS4xLjAwMy0uMDE2LS4wMzFaTTMuMDYxIDQuOTVsLjEuMTY0LjA4LjA0N2guMTE1bC4xMTYtLjEyNC0uMDg4LS4xMTYtLjIyNS4wMjhIMy4wNlpNMi40MTQgNC42OThsLjE1OC4wNTdhLjEyLjEyIDAgMCAxIC4wMy4wMTVsLjEwOS4wNzNjLjAxOC4wMTIuMDM4LjAyLjA2LjAyMWwuMi4wMi0uMDI0LS4xMjQtLjIzOC0uMTMyYS4xNC4xNCAwIDAgMC0uMDY1LS4wMTdoLS4xMjJsLS4xMDguMDg3Wk03LjQ2IDUuNzEybC4wNTguMDkyYS4wMjUuMDI1IDAgMCAxLS4wMDEuMDI4bC0uMDQ0LjA2Yy0uMDA0LjAwOC0uMDA3LjAxNi0uMDA0LjAyMmwuMDE3LjA2MWEuMDIuMDIgMCAwIDAgLjAwOC4wMTJsLjA5Mi4wNzJjLjA2My4wNDguMDcuMTQxLjAxNy4ybC0uMDAxLjAwMmEuMTM4LjEzOCAwIDAgMS0uMTAxLjA0NmgtLjExYS4wMjUuMDI1IDAgMCAxLS4wMjQtLjAzMWwuMDI4LS4xMWEuMDIzLjAyMyAwIDAgMSAuMDE0LS4wMTdsLjA0OS0uMDI0Yy4wMS0uMDA0LjAxNS0uMDE1LjAxMy0uMDI2bC0uMDAyLS4wM2EuMDI2LjAyNiAwIDAgMC0uMDItLjAyMWwtLjA3MS0uMDE1YS4wMjQuMDI0IDAgMCAwLS4wMjcuMDE0bC0uMDE2LjAzNXYuMDAybC0uMDAxLjAwMi0uMDM1LjExOGMtLjAwMy4wMTEtLjAxMy4wMTgtLjAyNC4wMThsLS4xMS0uMDAzYS4wMjQuMDI0IDAgMCAxLS4wMTgtLjAwNy4wMjQuMDI0IDAgMCAxLS4wMDctLjAxN3YtLjEyN2MwLS4wMTMuMDExLS4wMjQuMDI0LS4wMjRsLjA1OC0uMDAyYy4wMDggMCAuMDE0LS4wMDQuMDItLjAxbC4wNTMtLjA3OUEuMDI3LjAyNyAwIDAgMCA3LjMgNS45NFY1LjgyYzAtLjAwOC4wMDQtLjAxNS4wMS0uMDE5bC4xMTUtLjA5NGEuMDI0LjAyNCAwIDAgMSAuMDM3LjAwNVpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDUwNTA1XFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xNS4wNzMgNS4xSDE0LjdhLjA0Mi4wNDIgMCAwIDEtLjA0LS4wM2wtLjM1OC0uMDY5YS4xNjEuMTYxIDAgMCAxLS4wODgtLjAyN2wtLjA4MS0uMDU1YS4xNi4xNiAwIDAgMC0uMDg4LS4wMjdzLS44MzItLjQzLTEuOTIyLS4zODhjLS40MS4wMTYtLjc3LjIyMi0uNzcuMjIyYS4wMzMuMDMzIDAgMCAwLS4wMi4wMjZsLS4wMDQuMDM0YS4wMzMuMDMzIDAgMCAxLS4wMzMuMDI4bC0uMTY0LS4wMDRhLjAzMy4wMzMgMCAwIDAtLjAzNC4wMzJsLS40NTkuMDE2Yy0uMDQgMC0uMDc3LjAyLS4xLjA1M2wtLjA0MS4wNmMtLjAzLjA0NS0uNDQxLjA2LS40NDEuMDZhLjA2LjA2IDAgMCAxLS4wMzYtLjA1NXYtLjA0OWMwLS4wMTcuMDA2LS4wMzIuMDItLjA0NGwuMjE4LS4yYS4xNjIuMTYyIDAgMCAxIC4wODctLjA0bC4xMzYtLjAxOGEuMDYuMDYgMCAwIDAgLjA0LS4wMjRsLjAxNi0uMDI0YS4wNi4wNiAwIDAgMC0uMDI4LS4wOWwtLjAxLS4wMDVhLjA2LjA2IDAgMCAwLS4wNDcuMDA0bC0uMTA0LjA2MWEuMDU3LjA1NyAwIDAgMS0uMDMuMDA4aC0uMTAxYS4xNTkuMTU5IDAgMCAwLS4xMTQuMDQ5bC0uMjQ0LjI1MmEuMTY1LjE2NSAwIDAgMC0uMDQyLjA4bC0uMDIzLjExLjAxNi4wNDctLjA5Ni4xMzUtLjA4Ny4wODdoLS4wODF2LS4wODdIOS40NWwtLjAyOC4xMWEuMTYxLjE2MSAwIDAgMS0uMDk4LjExbC0uMDgxLjAzMmEuMTU3LjE1NyAwIDAgMS0uMTU2LS4wMjZsLS4xMDYtLjA4Ni4yODQuMDE1LjAzMi0uMDYyUzkgNS4xOCA4LjgyOCA1LjA4NGMtLjE0LS4wOC0uMzI0LS4wMTMtLjM4OC4wMTZhLjE0Ny4xNDcgMCAwIDAtLjA0Mi4wMjdsLS42Mi41NjVhLjE2Mi4xNjIgMCAwIDAtLjAwNi4yMzFsLjA1OC4wNjEuMDgzLS4wNjlhLjA1Ny4wNTcgMCAwIDEgLjA3Ni4wMDNsLjE1NS4xNDZoLjA0bC4xNDYtLjE3NmEuMDU3LjA1NyAwIDAgMCAuMDAyLS4wNzJsLS4wMTktLjAyNmEuMDYuMDYgMCAwIDEtLjAwNC0uMDY2bC4yMDQtLjMzNGEuMDQyLjA0MiAwIDAgMSAuMDUyLS4wMTdsLjAzNi4wMThjLjAyMi4wMS4wMy4wMzUuMDE5LjA1N2wtLjE0LjI2OGEuMTM0LjEzNCAwIDAgMC0uMDEuMTA0bC4wMjMuMDcxYS4xOC4xOCAwIDAgMS0uMDMuMTQ2bC0uMDg3LjEyYS4xNjEuMTYxIDAgMCAxLS4xMzQuMDY0bC0uMjU0LS4wMWEuMDQ2LjA0NiAwIDAgMS0uMDMxLS4wMTMuMDQ3LjA0NyAwIDAgMS0uMDEzLS4wMzJ2LS4wNDJhLjA0NS4wNDUgMCAwIDAtLjA0Ni0uMDQ2LjA0Ni4wNDYgMCAwIDAtLjA0NS4wNDJsLS4wMDcuMDc0YS4wNDYuMDQ2IDAgMCAxLS4wNDUuMDQyaC0uMDI0YS4wNDIuMDQyIDAgMCAwLS4wMy4wMTJsLS40MTQuMzg2LjA2LjA4OHYuMDkzYS4wNTcuMDU3IDAgMCAxLS4wNTYuMDU2aC0uMTMyYy0uMDcxIDAtLjEyNy4wNi0uMTIzLjEzMmwuMDAxLjAxOGEuMTI0LjEyNCAwIDAgMCAuMTE5LjExNmwuMTQxLjAwNGEuMTYuMTYgMCAwIDAgLjEzNS0uMDY4bC4xMDEtLjE0NGEuMTU4LjE1OCAwIDAgMSAuMTMtLjA2N2guMDk3Yy4wMzIgMCAuMDY0LjAxLjA5LjAyOGwuMTU3LjExYy4wMy4wMjIuMDMzLjA2OC4wMDQuMDkybC0uMDg4LjA3N2EuMTU2LjE1NiAwIDAgMS0uMTA0LjA0aC0uNTVhLjE1OC4xNTggMCAwIDAtLjEyNi4wNjRsLS40MjUuNTczYS4xNjguMTY4IDAgMCAwLS4wMzIuMDk2di4zOGMwIC4wMzUuMDExLjA2OS4wMzIuMDk3bC4xNDguMTk4Yy4wMTMuMDE2LjAyLjAzNi4wMjcuMDU1LjAxLjAzMy4wMzYuMDguMS4wOGguNjg2cy4xNzIuMDA1LjE3Mi4xMmMwIC4wNC0uMDAxLjA4LS4wMDMuMTE2YS4xNjIuMTYyIDAgMCAwIC4wODMuMTQ4Yy4wNDguMDI4LjA5OS4wNzcuMDk5LjE1NXYuMjFhLjIwMy4yMDMgMCAwIDEtLjAwNy4wNDkuNzcyLjc3MiAwIDAgMS0uMDc5LjE3OGMtLjAzNi4wNTQuMDE1LjEzNS4wNTIuMTgyYS4xNy4xNyAwIDAgMSAuMDM1LjEwMnYuMjFzLjAxNi4wNzYuMDg4LjEwOWEuNTgzLjU4MyAwIDAgMSAuMDk3LjA1di4wODRjMCAuMDkuMDcxLjE2LjE2LjE2aC4yMDdzLjA5NC4wMDguMTU1LS4wODdsLjI4LS40MzdzLjA0LS4wNDMgMC0uMTJjLS4wNC0uMDc2LS4wMjEtLjE0NS0uMDIxLS4xNDVsLjE5LS4xMXMuMDktLjAxNi4wOS0uMTQxdi0uMTM2YS4xMTUuMTE1IDAgMCAwLS4wMTgtLjA2MmwtLjAzMy0uMDU3YS4xNjIuMTYyIDAgMCAxIC4wMjEtLjE5MWwuMzk1LS40MjRzLjEwNC0uMTU2LjEwNC0uMjM1SDkuNDlhLjE2LjE2IDAgMCAxLS4xMzYtLjA3N2wtLjM0Ni0uNTc2YS4wODcuMDg3IDAgMCAxIC4wMzMtLjEyMS4wODQuMDg0IDAgMCAxIC4xMTIuMDNsLjMzNS41NTItLjAwMS4wNWMwIC4wMTYuMDEyLjAyOC4wMjguMDI4LjA4MyAwIC4zMjctLjAxLjQ2My0uMTNhLjU5Ni41OTYgMCAwIDAgLjE0My0uMTgxLjE2LjE2IDAgMCAwLS4wMzgtLjE5bC0uMDg1LS4wNzYtLjExLjAyNS0uMTk3LS4xOTlhLjA2My4wNjMgMCAwIDEgLjAxNi0uMS4wNi4wNiAwIDAgMSAuMDY1LjAwN2wuMzA3LjIzOHMuMDYzLjA1Ni4xMjcuMDU2aC4xOGMuMDU2IDAgLjEwOC4wMy4xMzYuMDc4bC40MDIuNjgzcy4wNi4wNTYuMDk0LjA1NGMuMDM1LS4wMDMuMDgyLS4xNS4wODItLjE1IDAtLjEzNi4wNjUtLjI2Ni4xNzYtLjM0NGwuMTM4LS4wOThhLjE1OC4xNTggMCAwIDEgLjIwMi4wMTVsLjA4NS4wODN2LjA5YzAgLjAxNC4wMTIuMDI3LjAyOC4wMjdoLjAzOGwuMDM2LS4wMzZoLjA0MnYuMzU5YzAgLjA0LjAxNS4wOC4wNDMuMTA5bC4yNjcuMjg4di0uMTAzYS4xNTkuMTU5IDAgMCAwLS4wMzUtLjFsLS4xMjUtLjE1OGEuMTU5LjE1OSAwIDAgMS0uMDM1LS4xdi0uMTA5YzAtLjAxNy4wMjEtLjAyNi4wMzMtLjAxM2wuMTYyLjE2Ny4wMDQuMTA1Yy4wMDEuMDIuMDI1LjAzLjAzOC4wMTVsLjIyOS0uMjVzLjA2Ni0uMDgzIDAtLjE1MmE1LjQwNSA1LjQwNSAwIDAgMC0uMTU4LS4xNTQuMDUuMDUgMCAwIDEtLjAxNi0uMDM5LjA1LjA1IDAgMCAxIC4wMTktLjAzOGwuMDQ0LS4wMzcuMTEuMDAycy0uMDIzLjA1Mi0uMDU4LjExMmMwIDAgLjAxNy4wOTYuMTIzLS4wODMuMDA4LS4wMDcuMDM2LS4wMDMuMDY3LjAwMi4wNC4wMDYuMDg0LjAxNC4xLS4wMDIuMDYtLjA2NC4zMDktLjQwNy4zMDktLjQwN3MuMDMyLS4xMjYtLjA0My0uMTkyYy0uMDc2LS4wNjYtLjA0My0uMTQ3LS4wNDMtLjE0N2wuMDk0LS4wODJ2LS4wNThoLS4yNDRzLjAyLS4xMy4xOTQtLjEzOWwuMDMxLS4wMDFjLjAxMSAwIC4wMjEgMCAuMDMtLjAwMmEuMTMyLjEzMiAwIDAgMSAuMTI3LjA4M2MuMDA2LjAxNi4wMS4wMzQuMDEuMDUydi4yNDNsLjAzNi4wMDRzLjA2OC4wMDcuMDkzLS4wODRjMCAwIC4wNDYtLjAxMy4wNDYtLjA2OHYtLjA2NmwtLjA2Ni0uMDguMTA3LS4xMzhhLjEyMi4xMjIgMCAwIDEgLjA3NS0uMDQ1bC4wNTQtLjAxMWEuMTI1LjEyNSAwIDAgMCAuMDgtLjA1M2wuMjQ3LS4zNzNhLjE2NS4xNjUgMCAwIDAgLjAyNy0uMDl2LS4xMDJhLjA1LjA1IDAgMCAwLS4wNS0uMDVoLS4xNDRzLS4wNi0uMDcuMDIyLS4xMmMuMDU3LS4wMzUuMTY5LS4xMjguMjMyLS4xOGEuMTU1LjE1NSAwIDAgMSAuMTAxLS4wMzhoLjI5YS4xNi4xNiAwIDAgMCAuMDkzLS4wM2wuMTktLjEzN2EuMDQuMDQgMCAwIDEgLjAyNS0uMDA4Yy4wODIgMCAuMTI1LjEuMDcuMTYybC0uMTk4LjIxNGEuMTU4LjE1OCAwIDAgMC0uMDQzLjEwNmwtLjAwMy4xNzNjMCAuMDMyLjAyNi4wNi4wNTkuMDZoLjA0OGwuMjU5LS4yNjhhLjEyNS4xMjUgMCAwIDAgLjAzMy0uMDY2bC4wMS0uMDU2YS4xNi4xNiAwIDAgMSAuMTU1LS4xMzRoLjExNGEuMTU0LjE1NCAwIDAgMCAuMTA0LS4wMzlsLjE1OS0uMTRhLjA0My4wNDMgMCAwIDEgLjAyOC0uMDFoLjA4MmEuMDQyLjA0MiAwIDAgMCAuMDQzLS4wNDR2LS4wOGMwLS4wMTMuMDA1LS4wMjQuMDEzLS4wMzJsLjA2Mi0uMDU4YS4xNTYuMTU2IDAgMCAxIC4xODEtLjAyNGwuMTA0LjA1NWEuMDYxLjA2MSAwIDAgMCAuMDc2LS4wMTZsLjA1MS0uMDY1YS4wNjIuMDYyIDAgMCAwIC4wMTItLjA1Mi4wNjIuMDYyIDAgMCAwLS4wMzMtLjA0MmwtLjUwMy0uMjVhNS40MjcgNS40MjcgMCAwIDAtLjM5LS4wMTRaTTguMTQxIDcuMDI0bC4wOS0uMDc4LS4wOS4wNzktLjEzMy0uMTYzYS4wNTMuMDUzIDAgMCAxLS4wMS0uMDE5LjA1My4wNTMgMCAwIDAgLjAxLjAxOGwuMTMzLjE2M1ptLjc1NS40OTNoLS4wODFhLjEzLjEzIDAgMCAxLS4wMzItLjAwNCA5LjEyNyA5LjEyNyAwIDAgMS0uNjEtLjE4Ni4wNjIuMDYyIDAgMCAxLS4wMzUtLjA0NS4wNjMuMDYzIDAgMCAxIC4wMTUtLjA1NWwuMTEtLjExN2EuMDk0LjA5NCAwIDAgMSAuMTMuMDA1bC4xLjEwNy4wODctLjAxNi0uMDI0LS4wNjRzLS4wMS0uMDMtLjAyMS0uMDU2Yy0uMDExLS4wMjcuMDQ4LS4wNjEuMDQ4LS4wNjFzLjA2LS4wMDYuMDYuMDg4YzAgLjA5My4wOTcuMTYzLjA5Ny4xNjNoLjMzMmMuMDIxIDAgLjAzNS4wMjMuMDI0LjA0bC0uMDU5LjExM2EuMTYuMTYgMCAwIDEtLjE0MS4wODhabS40MTctLjUwM0g5LjJsLS4wODMtLjA2NWEuMDU3LjA1NyAwIDAgMC0uMDMyLS4wMWgtLjEwOGEuMDY3LjA2NyAwIDAgMC0uMDQ0LjAxN2wtLjA3OC4wNy0uMDc4LjAxMmEuMDUzLjA1MyAwIDAgMS0uMDU2LS4wMjYuMDU1LjA1NSAwIDAgMS0uMDA2LS4wMmwtLjAxMS0uMDg3YS4wOS4wOSAwIDAgMSAuMDIxLS4wNjlsLjEyOC0uMTQ1LjA1OC0uMDA1LS4wMDMuMDI2YS4wNTEuMDUxIDAgMCAwIC4wNS4wNThoLjAyOWEuMDY5LjA2OSAwIDAgMCAuMDY0LS4wNDJsLjAyNi0uMDU4LjEyLjAyLjAxLjA4N2EuMDc3LjA3NyAwIDAgMCAuMDI2LjA0OGwuMTMzLjExMnYuMDI1YzAgLjAzLS4wMjMuMDUyLS4wNTMuMDUyWm0uNTc0LjA5M3YuMDk5aC0uMjA1bC0uMDE4LS4wOTlhLjA1LjA1IDAgMCAxIC4wMDgtLjAzOWwuMDExLS4wMTVhLjA1Mi4wNTIgMCAwIDAtLjAwOC0uMDY5bC0uMDk2LS4wODl2LS4xNjNsLjE0LS4wNmguMDcyYy4wMjggMCAuMDUyLjAxOS4wNi4wNDZsLjAwMS4wMDRjLjAwNi4wMiAwIC4wNC0uMDEzLjA1NmEuMDYxLjA2MSAwIDAgMC0uMDE1LjAzMWwtLjAxMy4wODUuMTEzLjEwNS0uMDguMDU0LjA0My4wNTRaXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDUwNTA1XFxcIiBkPVxcXCJNMTIuOTQ1IDcuOGMtLjAwNi0uMDE1LS4wMS0uMDIyLS4wMTctLjAyMS0uMDA3IDAtLjAxOC4wMDktLjAzNi4wMjVhLjExLjExIDAgMCAwLS4wMzkuMDhjMCAuMDIuMDAzLjA0LjAxMi4wNjIuMDA3LjAxOC4wMi4wMzIuMDI4LjAzMi4wMjUgMCAuMDY2LS4xNC4wNTItLjE3OFpNMTIuODk0IDguMTA4YS4xMTYuMTE2IDAgMCAxIC4wMjQuMDA1bC4wMTQuMDA0Yy4wMTguMDA2LjAyNy4wMDkuMDMzLjAxNS4wMDUuMDA1LjAwOC4wMTQuMDEzLjAzbC4wMDQuMDE0Yy4wMDguMDI3LjAwMi4wNTMtLjAxOC4wNy0uMDQ2LjAzNy0uMDM4LjA1Ny4wMy4wNzIuMDQ3LjAxLjA2MS4wMjQuMDYxLjA2MiAwIC4wNDYtLjAwMy4wNDYtLjA1NS4wMTktLjAzLS4wMTYtLjA2LS4wMjMtLjA2NS0uMDE2LS4wMDcuMDA3IDAgLjAxNi4wMTQuMDIxLjA1NS4wMi4wODYuMDcxLjA3NC4xMi0uMDE0LjA1Ny4wMTQuMDY2LjA1OS4wMi4wNDgtLjA0OS4wODkuMDIzLjA3OC4xMzYtLjAwNC4wMzgtLjAzOC4wNTUtLjA5LjA0M2EuMDQ3LjA0NyAwIDAgMS0uMDIyLS4wMTIuMDQuMDQgMCAwIDEtLjAxMy0uMDI3YzAtLjAyNC0uMDEzLS4wMjktLjA1MS0uMDItLjAzOC4wMS0uMDUuMDA2LS4wNS0uMDE4YS4wNS4wNSAwIDAgMSAuMDMtLjA0NGMuMDEzLS4wMDUuMDItLjAwOS4wMi0uMDE3IDAtLjAwOC0uMDA3LS4wMTktLjAyLS4wMzhhLjE3NC4xNzQgMCAwIDEtLjAzLS4wOGMwLS4wMi0uMDA4LS4wMzctLjAxOS0uMDM3LS4wMjcgMC0uMDg4LS4xOTMtLjA2My0uMjAxLjAwNC0uMDAyLjAwOS0uMDA4LjAxMi0uMDE2YS4xNDguMTQ4IDAgMCAwIC4wMDktLjA1M2MwLS4wNC4wMDMtLjA1NC4wMjEtLjA1MlpNMTIuOCA4LjU2N2MuMDQ3LS4wNDQuMDcyLS4xMTYuMDQtLjExNi0uMDE0IDAtLjA4Mi4wNzktLjExLjEyOS0uMDMuMDUyLjAwOS4wNDUuMDctLjAxM1pNMTIuOTEyIDguNjk4YS4wMi4wMiAwIDAgMSAuMDIxLjAyYzAgLjAxMS0uMDAzLjAyLS4wMDguMDIgMCAwLS4wMDUgMC0uMDA3LS4wMDNhLjA2NC4wNjQgMCAwIDEtLjAxNS0uMDE3Yy0uMDA3LS4wMTEtLjAwMy0uMDIuMDEtLjAyWk0xMy4yNTQgOC45MTNjLS4wMTMtLjAzLS4wMy0uMDQ1LS4wNDQtLjA0My0uMDE0LjAwMS0uMDI1LjAxOC0uMDMuMDVhLjA1OC4wNTggMCAwIDEtLjAxLjAyNmMuMDEzLjA1Mi4wNTIuMDYuMDY0LjA2M2guMDA0YS4yNTUuMjU1IDAgMCAxIC4wMjUtLjAyOS43NTEuNzUxIDAgMCAwIC4wMTQtLjAxNWwtLjAyMy0uMDUyWk0xMy4wODIgOC44OTRjLjAyNi0uMDA0LjAzNS4wMTUuMDExLjA0M2EuMDQ0LjA0NCAwIDAgMC0uMDA4LjAxNWwtLjA1Ny4wMWEuNjIuNjIgMCAwIDEtLjAzNi4wMDVjLS4wMzguMDA2LS4wNzcuMDExLS4xLjAzNyAwIC4wMDQuMDA0LjAwNy4wMS4wMDkuMDA3LjAwMi4wMTkuMDAyLjAzMi0uMDAxbC4wMDYtLjAwMy4wMDUtLjAwMy4wMi0uMDAyLjA2NC4wMDgtLjAwNC4wMDZoLS4wMDJsLS4wMDUuMDA0LS4wMTMuMDA4Yy0uMDMuMDI2LS4wNDQuMDU0LS4wMzQuMDY3LjAwOC4wMTIuMDE1LjA0LjAxNS4wNjItLjAwMi4wNTMtLjA2Ni4wNjctLjA3OS4wMTctLjAwNi0uMDIzLS4wMS0uMDE2LS4wMTIuMDIxLS4wMDEuMDQ0LS4wMTEuMDU3LS4wMzguMDUxLS4wMi0uMDA0LS4wMzUtLjAyNS0uMDM1LS4wNDdhLjE0Mi4xNDIgMCAwIDAtLjAxNi0uMDY1Yy0uMDA4LS4wMTMtLjAwNi0uMDQ4LjAwNi0uMDc4LjAwNy0uMDE5LjAwOS0uMDI4LjAxLS4wMzZsLjAwMi0uMDA2LjAxMi0uMDMyLjAxOC0uMDUtLjAwMy4wMDFjLjAyOC0uMDI2LjA1Ni0uMDMyLjEtLjAyMmwuMDMyLjAwNGEuMTUuMTUgMCAwIDAgLjA2OC0uMDEyYy4wMS0uMDA1LjAyLS4wMS4wMzEtLjAxMVpNMTMuMzYgOS4xMzZjMC0uMDI3LS4wMzQtLjA0Mi0uMDkyLS4wNDJhLjQ0NS40NDUgMCAwIDAtLjA2NC4wMDZjLS4wOC4wMTItLjEwMy4wMjctLjA4LjA1MS4wMi4wMi4yMzYuMDA3LjIzNi0uMDE1Wk01Ljg2NiA5LjM2MmwtLjM1LS4xODVhLjIyMi4yMjIgMCAwIDAtLjEwMi0uMDI2aC0uMTAxYS4wMzguMDM4IDAgMCAxLS4wMzctLjAzMy4yMi4yMiAwIDAgMC0uMjE4LS4yMDFoLS4wMzJhLjIxNy4yMTcgMCAwIDEtLjE3My0uMDg4bC0uMDQ4LS4wNjVhLjIxNi4yMTYgMCAwIDAtLjE1NS0uMDg2bC0uMjYyLS4wMjNhLjAyOC4wMjggMCAwIDEtLjAxNy0uMDA3bC0uMDQzLS4wM2MtLjAxMi0uMDA3LS4wMjYtLjAwOS0uMDM4IDBsLS4xODcuMTA2YS4yMTYuMjE2IDAgMCAxLS4xMDguMDI4aC0uMTkyYS4wMzcuMDM3IDAgMCAxLS4wMTctLjAwNC4xNDYuMTQ2IDAgMCAxLS4wNzEtLjEzM3YtLjExMmEuMDM4LjAzOCAwIDAgMC0uMDIzLS4wMzUuMDM3LjAzNyAwIDAgMC0uMDE0LS4wMDNoLS4xMjJhLjAzNy4wMzcgMCAwIDEtLjAzMi0uMDE5LjAzOC4wMzggMCAwIDEgMC0uMDM4bC4wNTctLjFhLjA0NC4wNDQgMCAwIDAgLjAwNi0uMDJWOC4yYzAtLjAxLS4wMDQtLjAyLS4wMTEtLjAyN2EuMDM3LjAzNyAwIDAgMC0uMDI3LS4wMTFoLS4wNjZhLjAzNy4wMzcgMCAwIDAtLjAzLjAxN2wtLjAzOC4wNmEuMjE3LjIxNyAwIDAgMS0uMTg0LjFoLS4wNTRzLS4wODYtLjAxNS0uMDg2LS4xMDh2LS4zMzlhLjA5Ny4wOTcgMCAwIDEgLjA0NS0uMDY3Yy4wMzItLjAyLjEwNy0uMDYxLjE0NC0uMDgxYS4wMzguMDM4IDAgMCAxIC4wNDMuMDA1bC4wNy4wNjZjLjAwNy4wMDcuMDE1LjAxLjAyNC4wMWguMDE1Yy4wMjIgMCAuMDUxIDAgLjA1Ny0uMDAzLjAwNC0uMDAyLjAwNC0uMDA3LjAwMy0uMDE0IDAtLjAxNyAwLS4wNDYuMDQ1LS4wNi4wNjYtLjAxOS4xMDkuMDQuMTA5LjA0bC4xNjUuMTk5YS4wMzcuMDM3IDAgMCAwIC4wNS4wMDZsLjAyMy0uMDE2YS4wMzguMDM4IDAgMCAwIC4wMTItLjA1bC0uMDAyLS4wMDVhLjIyMy4yMjMgMCAwIDEgLjA0OC0uMjhsLjEzNy0uMTE4cy4wMTYtLjAxLjAyNC0uMDcxYy4wMDUtLjAzNy4wMTUtLjA5LjAyMS0uMTI4bC4wMjEtLjAzNi4wMi0uMDM2LjI5Ny0uMjUyYS4wMzYuMDM2IDAgMCAxIC4wNTUuMDA4Yy4wMTQuMDIyLjAzOC4wNDYuMDY5LjA0NWEuNzY3Ljc2NyAwIDAgMCAuMjA4LS4wOTMuMDM2LjAzNiAwIDAgMCAuMDE5LS4wMzN2LS4wNDdsLS4xNDMuMDNhLjAzOC4wMzggMCAwIDEtLjA0NC0uMDMxbC0uMDE2LS4wOTVhLjAzOC4wMzggMCAwIDAtLjAzNi0uMDNsLS4xNDMuMDE1LjAxOC0uMDQzYS4wNDMuMDQzIDAgMCAxIC4wMzQtLjAyN2wuMzUyLS4wMzcuMDU2LS4wMjMuMDU2LS4wMjMuMDcxLS4wNTZhLjAzOC4wMzggMCAwIDAgLjAwNC0uMDU1bC0uMzk2LS40MWEuMDM5LjAzOSAwIDAgMC0uMDQzLS4wMDhsLS4xMTguMDU3YS4wNC4wNCAwIDAgMS0uMDM4LS4wMDNMNC4xIDUuOTFhLjAzNi4wMzYgMCAwIDAtLjA1LjAwOGwtLjA1MS4wN2EuMDMzLjAzMyAwIDAgMC0uMDA3LjAybC0uMDEuMTc0YzAgLjAxMS4wMDMuMDIuMDExLjAyOWwuMDQ4LjA1YS4wMzguMDM4IDAgMCAxLS4wMDUuMDU2bC0uMDcuMDUxYS4wMzcuMDM3IDAgMCAxLS4wMzQuMDA2bC0uMTYuMDI3YS4yMi4yMiAwIDAgMC0uMTMzLS4xM2wtLjA4LS4wMjhhLjIyMi4yMjIgMCAwIDEtLjA5OC0uMzVsLjE1Ni0uMTlhLjA0Mi4wNDIgMCAwIDAgLjAwNy0uMDM4bC0uMDQ0LS4xMTUtLjAwOC0uMDEyLS4xNzYtLjE5YS4xMjIuMTIyIDAgMCAwLS4yMS4wNjVsLS4wMDEuMDFhLjEyMy4xMjMgMCAwIDEtLjEyLjEwNEgyLjU0bC0uMDUtLjAxYTIuNjUyIDIuNjUyIDAgMCAxLS4wNC0uMDA5bC0uMzU4LS4xNjJhMi4wMDMgMi4wMDMgMCAwIDAtLjA3NS0uMDE4bC0uMzMtLjAyMmEyLjE1OCAyLjE1OCAwIDAgMS0uMDkyLjAxNWwtLjE0OC4wNThhLjIxNy4yMTcgMCAwIDEtLjEyNC4wMUwuNTkxIDUuMjNhLjIxMi4yMTIgMCAwIDAtLjEzMi4wMTNsLS4zNDYuMTVhLjAzOC4wMzggMCAwIDAtLjAwOS4wNjNsLjA5LjA3N2MuMDI2LjAyMS4wMTEuMDY1LS4wMjIuMDY2bC0uMTM2LjAwM2MtLjAyIDAtLjAzNi4wMTctLjAzNi4wMzd2LjAyYzAgLjAyLjAxNi4wMzYuMDM2LjAzN2wuMTE3LjAwMWMuMDQuMDAyLjA1MS4wNTYuMDE1LjA3MmwtLjEwMS4wNDZhLjAzNy4wMzcgMCAwIDAtLjAyMi4wMzdsLjAxLjEwM2EuMjIuMjIgMCAwIDAgLjE4NC4xOThsLjA3Mi4wMTJjLjAzNC4wMDYuMDQyLjA1MS4wMTMuMDY5bC0uMDIzLjAxM2MtLjAyNC4wMTUtLjAyNC4wNSAwIC4wNjRsLjAxMi4wMDZhLjA0LjA0IDAgMCAwIC4wMzUuMDAzbC42MTgtLjI4MmEuMjE1LjIxNSAwIDAgMSAuMjM3LjA0bC41ODguNTQzYS4yMi4yMiAwIDAgMSAuMDcxLjE1MmwuMDIuNDE1YS4yMjIuMjIyIDAgMCAwIC4wNDguMTI4bC41NzkuNzI4Yy4wMS4wMTQuMDMuMDE4LjA0NS4wMWEuMDM4LjAzOCAwIDAgMCAuMDE0LS4wNTVzLjM2NS4zODMuNC4zOTlsLjI5Ni4xNDhhLjIyLjIyIDAgMCAwIC4wOTcuMDIzaC4xNDdjLjAxNSAwIC4wMjguMDA4LjAzMy4wMjFsLjA1LjEwOFY4LjdsLjAwMS4wMDEuMDAyLjAwM2MuMDE1LjAyNS4wODguMTQzLjE2NS4xNDguMDg3LjAwNS4yNDMgMCAuMjQzIDBzLjA1Ni0uMDAxLjA1Ni4wNnYuMDk1YS4wMzYuMDM2IDAgMCAxLS4wMTkuMDMyYy0uMDQ4LjAyNy0uMTcyLjEwNy0uMTcyLjE5N3YuMjEyYzAgLjAxLjAwMy4wMTcuMDA4LjAyNC4wMTYuMDE5LjA1LjA2LjA4LjA4NC4wMjcuMDIyLjA3Mi4wNzMuMDk4LjEwM2wuMDEzLjAxNGEuMDM4LjAzOCAwIDAgMSAuMDA4LjAyNHYuMTIyYS4wNC4wNCAwIDAgMSAuMDAxLjAwNmwuMDAxLjAwN2MuMDA3LjAxNi4wMjQuMDU3LjA1NS4wNzIuMDE5LjAwOS4wNjUuMDQ3LjEwOC4wODVhLjIyMi4yMjIgMCAwIDEgLjA3Ni4xODZsLS4wMjcuMzQ1LS4wMDMuMDJhLjQzLjQzIDAgMCAxLS4wMDMuMDJsLS4xMTkuNDVhMS43NSAxLjc1IDAgMCAwLS4wMDcuMDhsLjAxMi4xODVhLjIzMy4yMzMgMCAwIDEtLjAxLjA5NWwtLjA0NC4xMjZhLjIzNS4yMzUgMCAwIDAtLjAwNy4xMjVsLjA1Ni4yMzNhLjEyMy4xMjMgMCAwIDAgLjA0NC4wN2wuMDU3LjA0NWMuMDIyLjAxOC4wNTQuMDQyLjA3Ni4wMjYuMDc3LS4wNTQuMTItLjIxOC4xNTUtLjM1My4wMTUtLjA2LjAzLS4xMTUuMDQ0LS4xNS4wMS0uMDIzLjA2Ny0uMTA1LjEzNC0uMjAyLjExLS4xNTYuMjQ1LS4zNS4yNDQtLjM4OWwtLjAwMy0uMDljMC0uMDIyLjAxNi0uMDM4LjAzNy0uMDM4aC4xMTRjLjAxIDAgLjAyLS4wMDQuMDI2LS4wMTJsLjI2Ni0uMjk0YS4wMzYuMDM2IDAgMCAwIC4wMS0uMDI2di0uMTJjMC0uMDIxLjAxNy0uMDM3LjAzOC0uMDM3LjA0NS4wMDIuMTIuMDAyLjE0NS0uMDIuMDI3LS4wMjEuMDk3LS4xMDMuMTM4LS4xNWwuMDIxLS4wMjRhLjAzOS4wMzkgMCAwIDAgLjAxLS4wMjV2LS4xOWMwLS4wNTUuMDItLjEwOC4wNTctLjE1bC4xMzMtLjE0OGEuMTM3LjEzNyAwIDAgMC0uMDQzLS4yMTVaTTE0LjkxNiAxMC43bC0uMDA4LjAwMWMtLjAwNi4wMDUuMDA1LjAzNi4wMjQuMDY3LjAzMS4wNTEuMDMzLjA2Mi4wMTYuMDg2LS4wMTcuMDI1LS4wMTYuMDMuMDA0LjA0NC4wMzYuMDIzLjAyOC4wMzQtLjAyMi4wMy0uMDM4LS4wMDQtLjA0OS4wMDItLjA3LjAzOWEuMjcuMjcgMCAwIDEtLjA3OC4wNzRjLS4wNzEuMDQ0LS4xMDguMTA5LS4wNi4xMDkuMDEzIDAgLjAxNy4wMS4wMTIuMDI2LS4wMS4wMzItLjAwNi4wMzIuMDY1LS4wMDIuMDQxLS4wMi4wNi0uMDM4LjA2Ni0uMDY1YS4wNjUuMDY1IDAgMCAxIC4wNDEtLjA0OGMuMDE4LS4wMDYuMDMyLS4wMTUuMDMtLjAxOS0uMDA3LS4wMTguMDMzLS4wODIuMDQ4LS4wNzcuMDIuMDA2LjA4LS4wNi4wNy0uMDc2LS4wMDUtLjAwNi4wMDEtLjAxMS4wMTItLjAxMS4wMjIgMCAuMDQzLS4wNDguMDMtLjA2Ny0uMDA0LS4wMDYtLjAyMy0uMDA3LS4wNDMtLjAwMy0uMDI0LjAwNS0uMDM1LjAwMi0uMDM1LS4wMSAwLS4wMi0uMDc1LS4wODktLjEwMi0uMDk3Wk0xMi44ODUgOS4yNzRsLS40ODYtLjA1N2EuMTE5LjExOSAwIDAgMS0uMDM1LS4wMWwtLjExOC0uMDQ4YS4xNDQuMTQ0IDAgMCAxLS4wNDgtLjAzMmwtLjM5LS40MTRhLjA1LjA1IDAgMCAwLS4wNDItLjAxNS4wNDcuMDQ3IDAgMCAwLS4wMjguMDc4bC40MS40NjZhLjE1LjE1IDAgMCAwIC4wNjMuMDRsLjIzMi4wN2EuMTI4LjEyOCAwIDAgMCAuMDQuMDA1aC4zOTdsLjAwNS0uMDgzWk0xMy44NSA5LjUzNWwtLjAyLjA1N2EuMjU1LjI1NSAwIDAgMS0uMjcuMTcuMDUuMDUgMCAwIDEtLjAzOC0uMDI3LjA1LjA1IDAgMCAxIC4wMDEtLjA0N2wuMS0uMTg2LS4yNi4wMWEuMjU0LjI1NCAwIDAgMC0uMS4wMjNsLS4wOTguMDQ2YS4yNDkuMjQ5IDAgMCAwLS4wNy4wNDlsLS4xOC4xNzhhLjI0LjI0IDAgMCAxLS4wNzUuMDUxbC0uMTIzLjA1NWEuMjU5LjI1OSAwIDAgMC0uMTUyLjIzNnYuMDJjMCAuMDM0LjAwNy4wNjguMDIuMWwuMDk2LjIyOGMuMDAzLjAwNS4wMDQuMDEuMDA1LjAxNWEuMTEuMTEgMCAwIDAgLjE0My4wNzdsLjI0NS0uMDg4YS4yNDguMjQ4IDAgMCAxIC4xMDgtLjAxM2wuMjk0LjAyN2MuMDguMDA2LjE1LjA1LjE5My4xMmwuMDIuMDNhLjI1NC4yNTQgMCAwIDAgLjIxOC4xMjJoLjExOGEuMjU1LjI1NSAwIDAgMCAuMTgyLS4wNzZsLjEzLS4xMzJhLjI2LjI2IDAgMCAwIC4wNzUtLjE4M3YtLjE3M2EuMjYuMjYgMCAwIDAtLjA4Mi0uMTlsLS4yNjgtLjI0OGEuMjQuMjQgMCAwIDEtLjA2LS4wODJsLS4wOC0uMTc1Yy0uMDE3LS4wMjctLjA2LS4wMjYtLjA3MS4wMDZaTTEzLjMyMiA5LjI1Yy4wMTcuMDAxLjAyOS4wMTQuMDI4LjAzNyAwIC4wMTUtLjAyOS4wNDMtLjA2NC4wNjNhLjMzMi4zMzIgMCAwIDEtLjA2OC4wMzJjLS4wMTYuMDA0LS4wMTktLjAwNS0uMDE5LS4wMjcgMC0uMDE3LjAwNi0uMDMxLjAxNC0uMDMxLjAwNyAwIC4wMy0uMDIuMDUxLS4wNDMuMDItLjAyMi4wNDEtLjAzMi4wNTgtLjAzWk0xMy4wNzkgOS4yNzJjLjE2IDAgLjE0OS4wNC0uMDEzLjA0OC0uMDk1LjAwNC0uMTIgMC0uMTE1LS4wMjEuMDA1LS4wMTguMDQ1LS4wMjcuMTI4LS4wMjdaTTYuMTE3IDUuNTJoLjA5bC4wNjcuMDQ2LjE4Mi0uMDQ3LjAzMy4wODF2LjExNWwtLjE3NS4wMjFhLjEzMy4xMzMgMCAwIDEtLjEtLjAyOGwtLjE1My0uMTIxLjA1Ni0uMDY3Wk04LjEyIDQuNTUxaC0uMjNsLS4wNTYuMDQuMTk3LjI1aC4wOWwuMDgyLS4xNTIuMjAyLjEwMy4wMzItLjA0OC0uMjQtLjE2OWEuMTMyLjEzMiAwIDAgMC0uMDc2LS4wMjRaTTguNjExIDQuMzcyaC0uMjk4bC0uMDI4LjA0Ni4wODYuMDY0YS4xMy4xMyAwIDAgMCAuMDguMDI3aC4xNmwuMDc2LS4wOC0uMDc2LS4wNTdaTTMuMDQyIDQuMzc5bC0uMTk3LjA3NC0uMTkuMDQ4LjI3My4xMy4yMTYtLjA3LjA3Mi0uMDEzLS4wNTctLjEwOS0uMTE3LS4wNlpNMy40MTUgNC43OGgtLjA4NnYuMDQzbC4wNDYuMDE3LjAxLjA0NC4wNzEuMDEuMDQ4LjA1NS40MjQtLjAxNC4wMjQtLjA1LS4wMzctLjA1NmgtLjQ1NmwtLjA0NC0uMDQ5Wk0zLjAzIDQuODg0bC0uMDMzLS4wOTYuMDMzLS4wMTguMTI3LjAxLjAzLjAyOS0uMDcuMDgyLS4wODctLjAwN1pNMy4yMTYgNC43MjVsLjAxNi0uMDU0LjAzNS0uMDI0LjAzNC4wMTMuMDU4LjAyNXYuMDI0aC0uMDNsLS4wNDYuMDM4LS4wNjctLjAyMlpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDUwNTA1XFxcIiBkPVxcXCJtMy44NDQgOC4wOTUtLjA4My4wMzdjLS4wMS4wMDUtLjAxLjAyMSAwIC4wMjRsLjA4OC4wMzcuMTAzLS4wMTcuMTY3LjExNWguMTE5cy4wODEtLjAxLjA4MS0uMDMyLS4wODEtLjAzMy0uMDgxLS4wMzNsLS4xNzItLjEzaC0uMjIyWk00LjQgOC4yNzJzLS4wNzQuMDQ1LS4wNjUuMDY2Yy4wMTYuMDM4LjE2IDAgLjE2IDBzLjA1Mi0uMDQ4LjA0My0uMDY2Yy0uMDE4LS4wMzEtLjEzOCAwLS4xMzggMFpNMTQuMTYyIDEwLjkzaC0uMjhsLjA3NC4xNjRoLjA2NmwuMTQtLjE2NVpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNiA2LjVhLjUuNSAwIDAgMSAxIDB2NmEuNS41IDAgMCAxLTEgMHYtNlpNOS41IDZhLjUuNSAwIDAgMC0uNS41djZhLjUuNSAwIDAgMCAxIDB2LTZhLjUuNSAwIDAgMC0uNS0uNVpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk0xMSAwSDVhMSAxIDAgMCAwLTEgMXYySC41YS41LjUgMCAwIDAgMCAxaDEuNmwuODEgMTEuMWExIDEgMCAwIDAgLjk5NS45aDguMTlhMSAxIDAgMCAwIC45OTUtLjlMMTMuOSA0aDEuNmEuNS41IDAgMCAwIDAtMUgxMlYxYTEgMSAwIDAgMC0xLTFabTAgM1YxSDV2Mmg2Wm0xLjg5NSAxaC05Ljc5bC44IDExaDguMTlsLjgtMTFaXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDkgNVxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNNC4xMjggNC41ODcuNzUxLjgzNEEuNS41IDAgMCAxIDEuMTIzIDBoNi43NTRhLjUuNSAwIDAgMSAuMzcyLjgzNEw0Ljg3MiA0LjU4N2EuNS41IDAgMCAxLS43NDQgMFpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48ZyBmaWxsPVxcXCJub25lXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIk0xMyA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBabS02LjUgMGExLjUgMS41IDAgMSAxIDMgMCAxLjUgMS41IDAgMCAxLTMgMFpNMCA3LjVhMS41IDEuNSAwIDEgMSAzIDAgMS41IDEuNSAwIDAgMS0zIDBaXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgxNnYxNkgwelxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDMyXFxcIj48cGF0aCBkPVxcXCJNMjAuODg5IDEuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2aC02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMS0zLjU1Ni0zLjU1NlY0Ljg4OWEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1NnpNMjAgNHY4aDhWNGgtOHpNNC44ODkgMTcuMzMzaDYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxIDMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2IDMuNTU2SDQuODg5YTMuNTU2IDMuNTU2IDAgMCAxLTMuNTU2LTMuNTU2di02LjIyMmEzLjU1NiAzLjU1NiAwIDAgMSAzLjU1Ni0zLjU1NnpNNCAyMHY4aDh2LThINHptMjAgOGE0IDQgMCAxIDAgMC04IDQgNCAwIDAgMCAwIDh6bTAgMi42NjdhNi42NjcgNi42NjcgMCAxIDEgMC0xMy4zMzQgNi42NjcgNi42NjcgMCAwIDEgMCAxMy4zMzR6TTQuOTgxIDEyaDYuMDM3TDcuOTk5IDUuOTYzIDQuOTggMTJ6bTQuMjEyLTkuNjE1IDUuMTc2IDEwLjM1MmExLjMzNCAxLjMzNCAwIDAgMS0xLjE5MiAxLjkzSDIuODI1YTEuMzMzIDEuMzMzIDAgMCAxLTEuMTkyLTEuOTI5TDYuODA5IDIuMzg2YTEuMzMyIDEuMzMyIDAgMCAxIDIuMzg1IDB6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNLjEgNi45aDYuOFYuMUguMXY2LjhabTYtLjhIMy45ODVjLjA3Ny0uNDAzLjI1LS43OC41MDYtMS4xMDJhNC41NzQgNC41NzQgMCAwIDAgMS42MDkuODA1VjYuMVptMC0xLjEyOGEzLjc1OCAzLjc1OCAwIDAgMS0xLjAwNi0uNTIzYy4zMS0uMjAzLjY1LS4zNTggMS4wMDYtLjQ1OXYuOTgyWk02LjEuOXYyLjI2NmE0LjIyOSA0LjIyOSAwIDAgMC0xLjYxMy43MyA2LjAzOCA2LjAzOCAwIDAgMS0xLjEtMS43NjdsLjAwMi0uMDA0LS4wMDQtLjAwMUE4LjE2IDguMTYgMCAwIDEgMi45OS45SDYuMVpNLjkuOWgxLjI2NmE4LjcgOC43IDAgMCAwIC4zNTkgMS4yNDlBMS45MyAxLjkzIDAgMCAxIC45IDMuMTg4Vi45Wm0wIDMuMDlhMi44MjggMi44MjggMCAwIDAgMi4wMDYtLjk2NmMuMjYyLjUxOS41OTQgMSAuOTg3IDEuNDI4QTMuMzY3IDMuMzY3IDAgMCAwIDMuMTcgNi4xSC45VjMuOTlaTTkuMS4xdjYuOGg2LjhWLjFIOS4xWm0uOC44aDQuMDYzYS4zNzMuMzczIDAgMCAxLS4wNDUuMi41OTQuNTk0IDAgMCAxLS40MzguMTc2IDEuNjM3IDEuNjM3IDAgMCAwLTEuMTc1LjQ5LjkxLjkxIDAgMCAwLS4yMDMuNzA4Yy0uMDAxLjAwNy0uMTE0LjczNi0uNjA3Ljc0MmEuNzQuNzQgMCAwIDAtLjcxOS4zODQuODI4LjgyOCAwIDAgMC0uMDI2LjZIOS45Vi45Wm01LjIgNS4ySDkuOVY1aDIuMjk2bC0uNDc0LS42MzlhMS41NjIgMS41NjIgMCAwIDEtLjE5Mi0uMzQ2YzEuMDQxLS4wMyAxLjM3LTEuMTg4IDEuMzY1LTEuNTg3YS4xOS4xOSAwIDAgMSAuMDI4LS4xNTRjLjAzMS0uMDM3LjE2Ni0uMTYyLjYyNC0uMi40MTkgMCAuODEtLjIwNSAxLjA0OS0uNTQ5YTEuMTMgMS4xMyAwIDAgMCAuMTYtLjYyNWguMzQ0djUuMlptLTE1IDkuOGg2LjhWOS4xSC4xdjYuOFptLjgtNmg1LjJ2LjQ2bC0yIDEuOTczdi44NjdsLTMuMi0uMDg5VjkuOVptMCA0LjAxIDQgLjExMnYtMS4zNTVsMS4yLTEuMTgyVjE1LjFILjl2LTEuMTlabTguMiAxLjk5aDYuOFY5LjFIOS4xdjYuOFptNi0uOGgtMS43OTJsLTEuMjctMS41NzIgMS40NjgtMS40NjggMS41OTQgMS42MDVWMTUuMVptMC01LjJ2Mi42MjhMMTIuNDkgOS45aDIuNjFabS01LjIgMGgxLjQ2bDEuNTgxIDEuNTkyLTEuOTc4IDEuOTggMS4zMTYgMS42MjhIOS45VjkuOVpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIj48ZyBmaWxsPVxcXCJub25lXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIm03Ljc0NSA3IDQuMSA0LjFhLjUyNy41MjcgMCAwIDEtLjc0NS43NDZMNyA3Ljc0NmwtNC4xIDQuMWEuNTI3LjUyNyAwIDAgMS0uNzQ2LS43NDZsNC4xLTQuMS00LjEtNC4xYS41MjcuNTI3IDAgMCAxIC43NDYtLjc0Nmw0LjEgNC4xIDQuMS00LjFhLjUyNy41MjcgMCAwIDEgLjc0Ni43NDZMNy43NDYgN1pcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMSAxaDEydjEySDF6XFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzkgMzJcXFwiPjxwYXRoIGQ9XFxcIk0zOC43ODQgOS43Nzh2Mi45NjJIMy4yMzZWOS43NzhoLjA3NEwxMy4wODYuMDAybDIuMTExIDIuMTExLTcuNzAyIDcuNjY1aDMxLjI5ek0zLjIzNiAyMS42MjhoMzEuMzI3bC03LjcwMiA3LjcwMiAyLjExMSAyLjExMSA5Ljc3Ni05LjgxM2guMDM3di0yLjk2MkgzLjIzN3YyLjk2MnpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIk01IDExdjVINHYtNC4wMDFMMCAxMnYtMWg1Wm0xMSAwdjFsLTQtLjAwMVYxNmgtMXYtNWg1Wk01IDB2NUgwVjRsNCAuMDAxVjBoMVptNyAwdjQuMDAxTDE2IDR2MWgtNVYwaDFaXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNMSAxMXY0LjAwMUw1IDE1djFIMHYtNWgxWm0xNSAwdjVoLTV2LTFsNCAuMDAxVjExaDFaTTUgMHYxTDEgLjk5OVY1SDBWMGg1Wm0xMSAwdjVoLTFWLjk5OUwxMSAxVjBoNVpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIm0xNC4zNzYgMTAuNTczIDEuNjQ3LjkyNy04IDQuNS04LTQuNSAxLjY0OC0uOTI3IDEuMDIuNTc0LS42MjguMzUzIDUuOTYgMy4zNTMgNS45Ni0zLjM1My0uNjI3LS4zNTMgMS4wMi0uNTc0Wm0tLjk5OS0yLjQxNC42MDYuMzQxLTUuOTYgMy4zNTNMMi4wNjMgOC41bC42MDctLjM0MS0xLjAyLS41NzRMLjAyMyA4LjVsOCA0LjUgOC00LjUtMS42MjYtLjkxNS0xLjAyLjU3NFpNOC4wMjMgMS4wMjNsLTggNC41IDggNC41IDgtNC41LTgtNC41Wm0tNS45NiA0LjUgNS45Ni0zLjM1MiA1Ljk2IDMuMzUyLTUuOTYgMy4zNTMtNS45Ni0zLjM1M1pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE1IDE2XFxcIj48ZyBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIk00IDhoMXYzSDRWOFpNMiA5aDF2MkgyVjlabTYtMWgxdjNIOFY4Wm00IDBoMXYzaC0xVjhaXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTE1IDEyVjZoLTJWNWgxVjJoLTN2MUw0IDEuMDVWMEgxdjNoMXYzSDB2NmgydjFIMXYzaDN2LTFoN3YxaDN2LTNoLTF2LTFoMlptLTMtOWgxdjFoLTFWM1ptLTgtLjkyTDExIDR2MWgxdjFIM1YzaDF2LS45MlpNMiAxaDF2MUgyVjFabTEgMTRIMnYtMWgxdjFabTgtMUg0di0xSDN2LTFoOXYxaC0xdjFabTIgMWgtMXYtMWgxdjFaTTEgMTFWN2gxM3Y0SDFaXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTYgOWgxdjJINlY5Wm00IDBoMXYyaC0xVjlaXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTUgMTBcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwiTTAgMTBoMTVWNEgwdjZabTEtNWgxM3Y0aC0xVjZoLTF2M2gtMVY3aC0xdjJIOVY2SDh2M0g3VjdINnYySDVWNkg0djNIM1Y3SDJ2MkgxVjVabTExLTV2MUgzVjBIMHYzaDNWMmg5djFoM1YwaC0zWk0yIDJIMVYxaDF2MVptMTIgMGgtMVYxaDF2MVpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIk0wIDl2NmgxNlY5SDBabTE1IDNoLTF2MmgtMXYtM2gtMXYzaC0xdi0yaC0xdjJIOXYtM0g4djNIN3YtMkg2djJINXYtM0g0djNIM3YtMkgydjJIMXYtNGgxNHYyWm0uMTgtNy41LTIuODUgMi44NS0uNzEtLjdMMTMuMjMgNUg5VjRoNC4zMmwtMS43LTEuNjkuNzEtLjcgMi44NSAyLjg5Wk0yLjY4IDRIN3YxSDIuNzdsMS42MSAxLjY1LS43MS43TC44MiA0LjVsMi44NS0yLjg1LjcxLjdMMi42OCA0WlxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwiTTcgMWE2IDYgMCAxIDAgMCAxMkE2IDYgMCAwIDAgNyAxWm0wIDEzYTcgNyAwIDEgMSA1LjYyMS0yLjgyOGwtLjIyMi4yODQgMy40MDUgMy40MDRhLjY2OC42NjggMCAwIDEtLjk0NC45NDRMMTEuNDU2IDEyLjRBNi45NzQgNi45NzQgMCAwIDEgNyAxNFpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48ZyBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTEwLjMxOCAwQzEzLjQ1NiAwIDE2IDIuNDYyIDE2IDUuNVMxMy40NTYgMTEgMTAuMzE4IDExYTUuNzk2IDUuNzk2IDAgMCAxLTMuMDIzLS44NDJsLS4yMi0uMTQyLjU0LS43NTJjLjc4OC41MyAxLjcyMi44MiAyLjcwMy44MiAyLjYxNSAwIDQuNzM1LTIuMDUzIDQuNzM1LTQuNTg0IDAtMi41MzEtMi4xMi00LjU4My00LjczNS00LjU4My0xLjkxNiAwLTMuNjE3IDEuMTEyLTQuMzU0IDIuNzc5bC0uMDc4LjE4N0w1IDMuNTZDNS44MjcgMS40MzUgNy45MzMgMCAxMC4zMTggMFpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJNMTYgMHYxNkgwVjBoMTZaTTcuMDc3IDFIMXYxNGgxMC41NjFMNy4wNzggNy42MTYgNy4wNzcgMVpNMTUgNi4zOTEgOS41NiA5Ljc3OSAxMi43MyAxNUgxNVY2LjM5MVpNMTUgMUg4LjA3N3Y2LjMzNWwuOTY1IDEuNTg5TDE1IDUuMjEzVjFaXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNyAxNlxcXCI+PGcgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJtLjc1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NUwuNzUgM1ptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4LTQuODkzLTIuODE0WlxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk04LjcyMSAwYzEuODIgMCAyLjg2NSAxLjU1NiAyLjg2NSA0LjM1IDAgLjQ2Mi4xMi42Ni4zODUuNzc0LjIxOS4wOTMuNDczLjEyNi45OS4xMzFoLjU1MWwuMzk3LjAwOWMxLjI1MS4wNSAxLjgwNy4zMzYgMi4wNCAxLjMzMy40MSAxLjc2LTEuNjIgMy4xMTQtNS45MDQgNC4zMTNsLS4zMjYuMDktLjI0NS0uOTk5LjY0LS4xOGMzLjUxNi0xLjAyIDUuMDg4LTIuMDg5IDQuODgtMi45NzktLjA5NC0uNDA3LS4zODItLjUzNS0xLjMwNC0uNTUzbC0uNzg3LS4wMDJjLS42Mi0uMDA4LS45NDMtLjA1NS0xLjMtLjIwNy0uNjQ4LS4yNzYtLjk5OC0uODU5LS45OTgtMS43MyAwLTIuMjg2LS42OTQtMy4zMTgtMS44ODQtMy4zMTgtLjczMSAwLTEuNjguNTUtMi44MTUgMS42ODVsLS4yMTUuMjJMNSAyLjIwM0M2LjM5OC43NDggNy42MjYgMCA4LjcyMSAwWlxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48ZyBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaTTkuNzIgMS4xMWwuNTg4LS44MDggNS4wODIgMy43LTQuNTc3IDIuNjU2TDE0LjYxIDkuNDlsLS41OTguODAxTDkgNi41NTVsNC41Ni0yLjY0OXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBkPVxcXCJtLjI1IDMgOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NUwuMjUgM1ptLjk5NiAxLjcyNi0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4LTQuODkzLTIuODE0Wk0xMiA2YTIgMiAwIDEgMCAwLTQgMiAyIDAgMCAwIDAgNFpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIGQ9XFxcIm0uMjUgMyA4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzWm0uOTk2IDEuNzI2LS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTRaTTE2IDB2MTFIOC41di0xSDE1VjFINnYyLjVINVYwaDExWlxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZD1cXFwiTTcuNjgyIDYuMzE4YTQuNSA0LjUgMCAwIDEgLjMzNSA1Ljk5bDIuODQ3IDIuODQ5LS43MDcuNzA3LTIuODQ4LTIuODQ4YTQuNSA0LjUgMCAxIDEgLjM3My02LjY5OFptLTUuNjU3LjcwN2EzLjUgMy41IDAgMSAwIDQuOTUgNC45NSAzLjUgMy41IDAgMCAwLTQuOTUtNC45NVpNMTYgMHYxMUg5LjV2LTFoMy4wOTlMMTAgNS4xNTNWMUg2djIuNUg1VjBoMTFabS0xIDUuOTU0TDEyLjYzNyA3LjgzIDEzLjgwMSAxMEgxNVY1Ljk1NFpNMTUgMWgtMy45ODF2My44MTNsMS4wNTUgMS45NjdMMTUgNC40NTdWMVpcXFwiPjwvcGF0aD48L3N2Zz5cIiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvZmlsbGVkL2RhdGEvcGxhY2Vob2xkZXItbWFwLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlck1hcEZpbGxlZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgdHlwZSBJbW11dGFibGVPYmplY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSU1KaW11TWFwQ29uZmlnIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9tYXAnXHJcblxyXG5leHBvcnQgZW51bSBTY2VuZVF1YWxpdHlNb2RlIHtcclxuICBhdXRvID0gJ2F1dG8nLFxyXG4gIGxvdyA9ICdsb3cnLFxyXG4gIG1lZGl1bSA9ICdtZWRpdW0nLFxyXG4gIGhpZ2ggPSAnaGlnaCdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWcgZXh0ZW5kcyBJTUppbXVNYXBDb25maWcge1xyXG4gIGlzVXNlQ3VzdG9tTWFwU3RhdGU6IGJvb2xlYW5cclxuICBzY2VuZVF1YWxpdHlNb2RlOiBTY2VuZVF1YWxpdHlNb2RlXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIElNQ29uZmlnID0gSW1tdXRhYmxlT2JqZWN0PENvbmZpZz5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9vbENvbmZpZyB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBNYXBXaWRnZXRQcm9wcyB9IGZyb20gJy4uL3dpZGdldCdcclxuaW1wb3J0IHsgY2hlY2tJc0xpdmUgfSBmcm9tICcuLi91dGlscydcclxuaW1wb3J0IE11bHRpU291cmNlTWFwIGZyb20gJy4vbXVsdGlzb3VyY2VtYXAnXHJcbmltcG9ydCB7IHR5cGUgSmltdU1hcFZpZXdHcm91cCwgcG9ydGFsVXRpbHMsIHR5cGUgRGVmYXVsdE1hcEluZm8gfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgYmFzZVdpZGdldFByb3BzOiBNYXBXaWRnZXRQcm9wc1xyXG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW5cclxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkXHJcblxyXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW5cclxuICBvblZpZXdHcm91cENyZWF0ZT86ICh2aWV3R3JvdXA6IEppbXVNYXBWaWV3R3JvdXApID0+IHZvaWRcclxuXHJcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmdcclxuICB3aWRnZXRIZWlnaHQ6IG51bWJlclxyXG5cclxuICBpc0Z1bGxTY3JlZW46IGJvb2xlYW5cclxuICBpc01hcEluVmlzaWJsZUFyZWE6IGJvb2xlYW5cclxuXHJcbiAgc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZTogKGluc3RhbmNlOiBNdWx0aVNvdXJjZU1hcCkgPT4gdm9pZFxyXG5cclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxyXG5cclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICBkZWZhdWx0TWFwSW5mbzogRGVmYXVsdE1hcEluZm9cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVmYXVsdE1hcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBkZWZhdWx0TWFwSW5mbzogbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgcG9ydGFsVXRpbHMuZ2V0RGVmYXVsdFdlYk1hcCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5wb3J0YWxVcmwpLnRoZW4oZGVmYXVsdE1hcEluZm8gPT4ge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkZWZhdWx0TWFwSW5mbzogZGVmYXVsdE1hcEluZm9cclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICB7IXRoaXMuc3RhdGUuZGVmYXVsdE1hcEluZm8gJiYgPGRpdiBjbGFzc05hbWU9J3dpZGdldC1tYXAgdy0xMDAgaC0xMDAgd2lkZ2V0LW1hcC1iYWNrZ3JvdW5kJz5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnIH19IGNsYXNzTmFtZT0namltdS1zZWNvbmRhcnktbG9hZGluZycgLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAge3RoaXMuc3RhdGUuZGVmYXVsdE1hcEluZm8gJiYgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJywgeyAnbWFwLWlzLWRlc2lnbi1tb2RlJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmFwcE1vZGUpIH0pfT5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiA8TXVsdGlTb3VyY2VNYXBcclxuICAgICAgICAgICAga2V5PXswfSBmdWxsU2NyZWVuTWFwPXt0aGlzLnByb3BzLmZ1bGxTY3JlZW5NYXB9XHJcbiAgICAgICAgICAgIGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlc30gaXNEZWZhdWx0TWFwXHJcbiAgICAgICAgICAgIHJlZj17dGhpcy5wcm9wcy5zZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZX1cclxuICAgICAgICAgICAgd2lkZ2V0SGVpZ2h0PXt0aGlzLnByb3BzLndpZGdldEhlaWdodH0gd2lkdGhCcmVha3BvaW50PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludH1cclxuICAgICAgICAgICAgaXNGdWxsU2NyZWVuPXt0aGlzLnByb3BzLmlzRnVsbFNjcmVlbn0gaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgZGVmYXVsdE1hcEluZm89e3RoaXMuc3RhdGUuZGVmYXVsdE1hcEluZm99XHJcbiAgICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgID5cclxuICAgICAgICAgIDwvTXVsdGlTb3VyY2VNYXA+fVxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBTZXNzaW9uTWFuYWdlciwgZXNyaSwgZ2V0QXBwU3RvcmUsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgSW1hZ2VXaXRoUGFyYW0gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBQbGFjZWhvbGRlck1hcEZpbGxlZCB9IGZyb20gJ2ppbXUtaWNvbnMvZmlsbGVkL2RhdGEvcGxhY2Vob2xkZXItbWFwJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBtYXBJdGVtSWQ6IHN0cmluZ1xyXG4gIHBvcnRVcmw6IHN0cmluZ1xyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIG1hcFRodW1iVXJsOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwVGh1bWIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZXM+IHtcclxuICB1bm1vdW50ID0gZmFsc2VcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBtYXBUaHVtYlVybDogbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgdGhpcy51bm1vdW50ID0gZmFsc2VcclxuICAgIHRoaXMuc2V0TWFwVGh1bWJVcmwodGhpcy5wcm9wcy5tYXBJdGVtSWQpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZSkge1xyXG4gICAgaWYgKHByZXZQcm9wcy5tYXBJdGVtSWQgIT09IHRoaXMucHJvcHMubWFwSXRlbUlkKSB7XHJcbiAgICAgIHRoaXMuc2V0TWFwVGh1bWJVcmwodGhpcy5wcm9wcy5tYXBJdGVtSWQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRNYXBUaHVtYlVybCA9IChtYXBJZDogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoIW1hcElkKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBUaHVtYlVybDogbnVsbCB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIG5vIHBvcnRhbFVybCBvciBzYW1lIHRvIGNvbmZpZyBwb3J0YWx1cmwsIHVzZSBhcHAgY29uZmlnJ3MgcG9ydGFsVXJsXHJcbiAgICBjb25zdCBwb3J0YWxVcmwgPSB0aGlzLnByb3BzPy5wb3J0VXJsIHx8IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5wb3J0YWxVcmxcclxuICAgIGNvbnN0IHNlc3Npb24gPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25CeVVybChwb3J0YWxVcmwpIHx8IG51bGxcclxuICAgIGVzcmkucmVzdFBvcnRhbC5zZWFyY2hJdGVtcyh7XHJcbiAgICAgIHE6IGBpZDoke21hcElkfWAsXHJcbiAgICAgIGF1dGhlbnRpY2F0aW9uOiBzZXNzaW9uLFxyXG4gICAgICBwb3J0YWw6IHBvcnRhbFVybCArICcvc2hhcmluZy9yZXN0J1xyXG4gICAgfSkudGhlbihpdGVtcyA9PiB7XHJcbiAgICAgIGlmICghdGhpcy51bm1vdW50KSB7XHJcbiAgICAgICAgaWYgKGl0ZW1zLnJlc3VsdHNbMF0/LnRodW1ibmFpbCkge1xyXG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U2Vzc2lvbkJ5VXJsKHBvcnRhbFVybClcclxuICAgICAgICAgIGxldCB0ZW1wVGh1bWJVcmwgPSBudWxsXHJcbiAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnRva2VuKSB7XHJcbiAgICAgICAgICAgIHRlbXBUaHVtYlVybCA9IGAke3BvcnRhbFVybH0vc2hhcmluZy9yZXN0L2NvbnRlbnQvaXRlbXMvJHtpdGVtcy5yZXN1bHRzWzBdLmlkfS9gICtcclxuICAgICAgICAgICAgYGluZm8vJHtpdGVtcy5yZXN1bHRzWzBdLnRodW1ibmFpbH0/dG9rZW49JHtzZXNzaW9uLnRva2VufWBcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRlbXBUaHVtYlVybCA9IGAke3BvcnRhbFVybH0vc2hhcmluZy9yZXN0L2NvbnRlbnQvaXRlbXMvJHtpdGVtcy5yZXN1bHRzWzBdLmlkfS9gICtcclxuICAgICAgICAgICAgYGluZm8vJHtpdGVtcy5yZXN1bHRzWzBdLnRodW1ibmFpbH1gXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1hcFRodW1iVXJsOiB0ZW1wVGh1bWJVcmwgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1hcFRodW1iVXJsOiBudWxsIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy51bm1vdW50ID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLm1hcFRodW1iVXJsKSB7XHJcbiAgICAgIHJldHVybiA8SW1hZ2VXaXRoUGFyYW0gaW1hZ2VQYXJhbT17eyB1cmw6IHRoaXMuc3RhdGUubWFwVGh1bWJVcmwgfX0gLz5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHBhbGV0dGUgPSB0aGlzLnByb3BzLnRoZW1lLmNvbG9ycy5wYWxldHRlXHJcbiAgICAgIHJldHVybiAoPGRpdiBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IHBhbGV0dGUubGlnaHRbMjAwXSwgaGVpZ2h0OiAnMTAwJScgfX0gPlxyXG4gICAgICAgICAgPFBsYWNlaG9sZGVyTWFwRmlsbGVkIGNvbG9yPXtwYWxldHRlLmxpZ2h0WzYwMF19IHNpemU9eycxMDAlJ30gLz5cclxuICAgICAgICA8L2Rpdj4pXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQge1xyXG4gIFJlYWN0LCBEYXRhU291cmNlTWFuYWdlciwgRXh0ZW50Q2hhbmdlTWVzc2FnZSwgRGF0YVNvdXJjZUNvbXBvbmVudCwgcG9ydGFsVXJsVXRpbHMsIHR5cGUgU3FsUXVlcnlQYXJhbXMsIHR5cGUgRGF0YVNvdXJjZUpzb24sXHJcbiAgZ2V0QXBwU3RvcmUsIE11dGFibGVTdG9yZU1hbmFnZXIsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCBkYXRhU291cmNlVXRpbHMsIHR5cGUgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSwgdHlwZSBVc2VEYXRhU291cmNlLFxyXG4gIHR5cGUgSW1tdXRhYmxlQXJyYXksIHR5cGUgSlNBUElMYXllck1peGluLCBjc3MsIGpzeFxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBJTUNvbmZpZywgU2NlbmVRdWFsaXR5TW9kZSB9IGZyb20gJy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgdHlwZSBNYXBEYXRhU291cmNlLCBEYXRhU291cmNlVHlwZXMsIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIE1hcFZpZXdNYW5hZ2VyLCB0eXBlIEppbXVNYXBWaWV3LCB6b29tVG9VdGlscywgdHlwZSBEZWZhdWx0TWFwSW5mbyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyB0eXBlIEluaXRpYWxNYXBTdGF0ZSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIEljb24gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQge1xyXG4gIGNyZWF0ZU5ld0ZlYXR1cmVsYXllciwgdXBkYXRlRmVhdHVyZWxheWVyLCBnZXRNYXBCYXNlUmVzdG9yZURhdGEsIHJlc3RvcmVNYXBCYXNlLCBzZWxlY3RGZWF0dXJlLFxyXG4gIG1hcFBhbnRvLCBmbGFzaEZlYXR1cmVzQnlRdWVyeSwgcHJvamVjdEdlb21ldHJpZXMsIGZpbHRlckZlYXR1cmVzQnlRdWVyeSwgcHJvY2Vzc1pvb21Ub0ZlYXR1cmVzLFxyXG4gIGdldExheWVyc0Zyb21EYXRhU291cmNlSWRzLCBnZXRKaW11TWFwVmlld0lkLCBpc05lZWRQcm9qZWN0Vmlld3BvaW50LCBwcm9qZWN0Vmlld3BvaW50LCBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZSxcclxuICBpc1R3b1dpZGdldHNNdXR1YWxseUV4dGVudENoYW5nZVxyXG59IGZyb20gJy4uL3V0aWxzJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IHR5cGUgTWFwV2lkZ2V0UHJvcHMsIHR5cGUgQWN0aW9uUmVsYXRlZFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xyXG5pbXBvcnQgdHlwZSB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vbGF5b3V0L2xheW91dCdcclxuXHJcbmNvbnN0IEV4Y2hhbmdlID0gcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2ZycpXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGlzTWFwSW5WaXNpYmxlQXJlYTogYm9vbGVhblxyXG4gIHdpZHRoQnJlYWtwb2ludDogc3RyaW5nXHJcbiAgaXNEZWZhdWx0TWFwPzogYm9vbGVhblxyXG4gIGJhc2VXaWRnZXRQcm9wczogTWFwV2lkZ2V0UHJvcHNcclxuICBzdGFydExvYWRNb2R1bGVzOiBib29sZWFuXHJcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICBkZWZhdWx0TWFwSW5mbz86IERlZmF1bHRNYXBJbmZvXHJcbiAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHZvaWRcclxuXHJcbiAgb25FeHRlbnRDaGFuZ2VkPzogKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB2b2lkXHJcbiAgb25NYXBMb2FkZWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMpID0+IHZvaWRcclxuICBvbkppbXVNYXBWaWV3Q3JlYXRlZD86ICgpID0+IHZvaWRcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxyXG4gIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ/OiAoc2hvd09uTWFwRGF0YXNLZXk6IHN0cmluZ1tdKSA9PiB2b2lkXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG59XHJcblxyXG5jb25zdCBERUZBVUxUX0hJR0hMSUdIVF9DT0xPUiA9ICcjMDBGRkZGJ1xyXG5jb25zdCBERUZBVUxUX0hJR0hMSUdIVF9IQUxPX0NPTE9SID0gJyMwMEZGRkYnXHJcblxyXG5leHBvcnQgZW51bSBNYXBMb2FkU3RhdHVzIHtcclxuICBMb2FkaW5nID0gJ0xPQURJTkcnLFxyXG4gIExvYWRvayA9ICdMT0FET0snLFxyXG4gIExvYWRFcnJvciA9ICdMT0FERVJST1InXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGlnaExpZ2h0SGFuZGxlIHtcclxuICBsYXllcklkOiBzdHJpbmdcclxuICBoYW5kbGU6IF9fZXNyaS5IYW5kbGVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZSB7XHJcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICBpc0Jhc2ljTW9kdWxlc0xvYWRlZDogYm9vbGVhbiAvLyB0cnVlIG1lYW5zIGNvbW1vbiBtb2R1bGVzIGxvYWRlZCwgbm90IG1lYW5zIGFsbCBuZWVkIG1vZHVsZXMgbG9hZGVkXHJcbiAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1c1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBNYXBiYXNlVmlldyA9IChfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcpICYge1xyXG4gIG1hcGJhc2U6IE1hcEJhc2VcclxuICBkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvXHJcbiAgaXNJbkNhY2hpbmc6IGJvb2xlYW5cclxuICB3YXRjaEludGVyYWN0aW5nSGFuZGxlOiBfX2VzcmkuV2F0Y2hIYW5kbGVcclxuICBleHRlbnRXYXRjaEhhbmRsZTogX19lc3JpLldhdGNoSGFuZGxlXHJcbiAgZmF0YWxFcnJvcldhdGNoSGFuZGxlOiBfX2VzcmkuV2F0Y2hIYW5kbGVcclxuICBoaWdoTGlnaHRIYW5kbGVzOiB7IFtsYXllcklkOiBzdHJpbmddOiBfX2VzcmkuSGFuZGxlIH1cclxuICBtYXBCYXNlVmlld0V2ZW50SGFuZGxlczogeyBbZXZlbnROYW1lOiBzdHJpbmddOiBfX2VzcmkuSGFuZGxlIH1cclxuICBzdGF0aW9uYXJ5VGltZXJJZDogTm9kZUpTLlRpbWVvdXRcclxuICAvLyBVc2UgZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkcyB0byBhdm9pZCB0d28gbWFwIHdpZGdldCB0d28td2F5IGV4dGVudCBzeW5jXHJcbiAgZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkczogc3RyaW5nW11cclxuICBmaXJzdFB1Ymxpc2hFeHRlbnRDaGFuZ2VUaW1lOiBudW1iZXJcclxuICBsYXN0Wm9vbVRvRXh0ZW50VGltZTogbnVtYmVyXHJcbiAgLyoqXHJcbiAgICogbWVzc2FnZSB3b3JrZmxvdzogcmVjZWl2ZSBtZXNzYWdlICh0aW1lMSkgLT4gbWF5YmUgYXN5bmMgLT4gdXBkYXRlIHZpZXcgKHRpbWUyKSwgdGltZTEgYW5kIHRpbWUyIG1heWJlIGRpZmZlcmVudFxyXG4gICAqIHJlY2VpdmVNZXNzYWdlVGltZU9mTGFzdFZpZXdVcGRhdGUgaXMgdGltZTEgb2YgbGFzdCB1cGRhdGUgdmlld1xyXG4gICAqL1xyXG4gIHJlY2VpdmVNZXNzYWdlVGltZU9mTGFzdFZpZXdVcGRhdGU6IG51bWJlclxyXG4gIHB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlOiAoc3RhdGlvbmFyeTogYm9vbGVhbiwgaW50ZXJhY2l2ZTogYm9vbGVhbikgPT4gdm9pZFxyXG4gIGhpZGVNYXBUb29sczogKCkgPT4gdm9pZFxyXG59XHJcblxyXG4vKipcclxuICogQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gKiBXZSBhcmUgY3JlYXRpbmcgbWFwVmlldzEgZm9yIGRhdGFTb3VyY2UxLCB0aGUgY3JlYXRpb24gcHJvY2VzcyBpcyBhc3luYyBhbmQgd2UgZ2V0IHRoZSBwcm9taXNlMS5cclxuICogRHVyaW5nIHRoZSBjcmVhdGlvbiBwcm9jZXNzLCB0aGUgcHJvcHMuZGF0YVNvdXJjZUlkIGNoYW5nZWQsIHRoZW4gcHJvbWlzZTEgaXMgcmVzb2x2ZWQuXHJcbiAqIFdlIHNob3VsZCBub3QgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgbG9naWMgb2YgcHJvbWlzZTEudGhlbihjYWxsYmFjaykgYmVjYXVzZSB0aGUgbGF0ZXN0IGV4cGVjdGVkIG1hcFZpZXcgaXMgbWFwVmlldzIsIG5vdCBtYXBWaWV3MS5cclxuICogU28gd2UgbmVlZCBhIHdheSB0byBpZGVudGlmeSBpZiB3ZSBzaG91bGQgZXhlY3V0ZSBjYWxsYmFjayBpbiBldmVyeSBwcm9taXNlLnRoZW4oY2FsbGJhY2spLiBXZSBjYW4gdXNlIE1hcGJhc2VEYXRhU291cmNlSW5mbyB0byBzb2x2ZSBpdC5cclxuICpcclxuICogTWFwYmFzZURhdGFTb3VyY2VJbmZvIGlzIHVzZWQgdG8gY3JlYXRlIG1hcCB2aWV3IG9yIHNjZW5lIHZpZXcuIEVhY2ggTWFwYmFzZURhdGFTb3VyY2VJbmZvIGhhcyBhIHVuaXF1ZSBpZCwgdGhlIHVuaXF1ZUlkIGlzIGNhbGN1bGF0ZWQgYnkgZGF0YSBzb3VyY2UgdHlwZSwgZGF0YSBzb3VyY2VJZCBhbmQgaXRlbUlkLlxyXG4gKiBXaGVuIHdlIG5lZWQgdG8gY3JlYXRlIG1hcFZpZXcxLCB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8uIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbyBhbHdheXMgYmluZCB0byB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZC5cclxuICogV2UgcGFzcyB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gYXMgZm9ybWFsIHBhcmFtZXRlciB0byBtYXAgY3JlYXRpb24gcmVsYXRlZCBmdW5jdGlvbnMgd2hlbiB3ZSBjcmVhdGUgYSBtYXBWaWV3LlxyXG4gKiBBbmQgaW4gdGhlIG1hcCBjcmVhdGlvbiBwcm9taXNlLnRoZW4oY2FsbGJhY2spLCB3ZSBjaGVjayB0aGUgZGF0YVNvdXJjZUluZm8udW5pcXVlSWQgaXMgY2hhbmdlZCBvciBub3QuIElmIGNoYW5nZWQsIHdlIHN0b3AgdGhlIGNhbGxiYWNrIGxvZ2ljLiBJZiBub3QgY2hhbmdlZCwgZ28gaGVhZC5cclxuICpcclxuICogQWxsIGRhdGEgc291cmNlIGNhc2VzOlxyXG4gKiAxLiB1c2UgZGVmYXVsdCB3ZWJtYXBcclxuICogMi4gdXNlciBzZWxlY3QgYSB3ZWJtYXAgZGF0YSBzb3VyY2VcclxuICogMy4gdXNlciBzZWxlY3QgYSB3ZWJzY2VuZSBkYXRhIHNvdXJjZVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNYXBiYXNlRGF0YVNvdXJjZUluZm8ge1xyXG4gIC8vIHRydWUgZm9yIGRhdGEgc291cmNlIGNhc2UxLCBmYWxzZSBmb3IgZGF0YSBzb3VyY2UgY2FzZTIgYW5kIGNhc2UzXHJcbiAgaXNEZWZhdWx0TWFwOiBib29sZWFuXHJcblxyXG4gIC8vIHRydWUgZm9yIGRhdGEgc291cmNlIGNhc2UxIGFuZCBjYXNlMiwgZmFsc2UgZm9yIGRhdGEgc291cmNlIGNhc2UzXHJcbiAgaXNXZWJNYXA6IGJvb2xlYW5cclxuXHJcbiAgLy8gZm9ybWF0IGlzIDx3ZWJtYXAgb3Igd2Vic2NlbmU+LWRhdGFTb3VyY2VJZC1pdGVtSWRcclxuICAvLyBleGFtcGxlczpcclxuICAvLyB1c2UgZGVmYXVsdCB3ZWJtYXA6ICd3ZWJtYXAtZGVmYXVsdCdcclxuICAvLyB1c2VyIHNlbGVjdCBhIHdlYm1hcCBkYXRhIHNvdXJjZTogJ3dlYm1hcC1kYXRhU291cmNlXzEtMmM4ZDlhNzcyYWEwNGU1OTg1YWMzMDMwZGJlY2IyMzInXHJcbiAgLy8gdXNlciBzZWxlY3QgYSB3ZWJzY2VuZSBkYXRhIHNvdXJjZTogJ3dlYnNjZW5lLWRhdGFTb3VyY2VfMS0yYzhkOWE3NzJhYTA0ZTU5ODVhYzMwMzBkYmVjYjIzMidcclxuICB1bmlxdWVJZDogc3RyaW5nXHJcblxyXG4gIC8vIG51bGwgZm9yIGRhdGEgc291cmNlIGNhc2UxLCBub3QgbnVsbCBmb3IgZGF0YSBzb3VyY2UgY2FzZTIgYW5kIGNhc2UzXHJcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuXHJcbiAgamltdU1hcFZpZXdJZDogc3RyaW5nXHJcblxyXG4gIGRhdGFTb3VyY2VKc29uOiBJbW11dGFibGVPYmplY3Q8RGF0YVNvdXJjZUpzb24+XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBtYXBiYXNlLm1hcENyZWF0aW5nSW5mbyBpcyBub3QgbnVsbCBkdXJpbmcgdGhlIGFzeW5jIG1hcChNYXBWaWV3L0ppbXVNYXBWaWV3KSBjcmVhdGlvbiBwZXJpb2QuXHJcbiAqIFdoZW4gbWFwIGNyZWF0ZWQsIG1hcGJhc2UubWFwQ3JlYXRpbmdJbmZvIGlzIHNldCB0byBudWxsLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBNYXBDcmVhdGluZ0luZm8ge1xyXG4gIGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm9cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNYXBiYXNlUmVzdG9yZURhdGEge1xyXG4gIG1hcENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuICBzdGF0ZTogU3RhdGVcclxuXHJcbiAgR2VvbWV0cnk6IHR5cGVvZiBfX2VzcmkuR2VvbWV0cnlcclxuICBJbml0aWFsVmlld1Byb3BlcnRpZXM6IHR5cGVvZiBfX2VzcmkuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzXHJcbiAgVGlsZUxheWVyOiB0eXBlb2YgX19lc3JpLlRpbGVMYXllclxyXG4gIEJhc2VtYXA6IHR5cGVvZiBfX2VzcmkuQmFzZW1hcFxyXG4gIE1hcFZpZXc6IHR5cGVvZiBfX2VzcmkuTWFwVmlld1xyXG4gIFNjZW5lVmlldzogdHlwZW9mIF9fZXNyaS5TY2VuZVZpZXdcclxuICBFeHRlbnQ6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnkuRXh0ZW50XHJcbiAgVmlld3BvaW50OiB0eXBlb2YgX19lc3JpLlZpZXdwb2ludFxyXG4gIFBvcnRhbEl0ZW06IHR5cGVvZiBfX2VzcmkuUG9ydGFsSXRlbVxyXG4gIFBvcnRhbDogdHlwZW9mIF9fZXNyaS5Qb3J0YWxcclxuICBXZWJNYXA6IHR5cGVvZiBfX2VzcmkuV2ViTWFwXHJcbiAgV2ViU2NlbmU6IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmVcclxuICBDb2xvcjogdHlwZW9mIF9fZXNyaS5Db2xvclxyXG5cclxuICBleHBlY3RlZERhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm9cclxuICBtYXBDcmVhdGluZ0luZm86IE1hcENyZWF0aW5nSW5mb1xyXG4gIHZpZXc6IE1hcGJhc2VWaWV3XHJcbiAgbGFzdFVwZGF0ZVZpZXdDb25maWc6IElNQ29uZmlnXHJcbiAgbWFwRHM6IE1hcERhdGFTb3VyY2VcclxuXHJcbiAgZHNNYW5hZ2VyOiBEYXRhU291cmNlTWFuYWdlclxyXG4gIGlzRmlyc3RSZWNlaXZlTWVzc2FnZTogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBCYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBtYXBDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcbiAgd2lkZ2V0Q29udGFpbmVyOiBIVE1MRGl2RWxlbWVudFxyXG5cclxuICBHZW9tZXRyeTogdHlwZW9mIF9fZXNyaS5HZW9tZXRyeVxyXG4gIEluaXRpYWxWaWV3UHJvcGVydGllczogdHlwZW9mIF9fZXNyaS5Jbml0aWFsVmlld1Byb3BlcnRpZXNcclxuICBUaWxlTGF5ZXI6IHR5cGVvZiBfX2VzcmkuVGlsZUxheWVyXHJcbiAgQmFzZW1hcDogdHlwZW9mIF9fZXNyaS5CYXNlbWFwXHJcbiAgTWFwVmlldzogdHlwZW9mIF9fZXNyaS5NYXBWaWV3XHJcbiAgU2NlbmVWaWV3OiB0eXBlb2YgX19lc3JpLlNjZW5lVmlld1xyXG4gIEV4dGVudDogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeS5FeHRlbnRcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50XHJcbiAgUG9ydGFsSXRlbTogdHlwZW9mIF9fZXNyaS5Qb3J0YWxJdGVtXHJcbiAgUG9ydGFsOiB0eXBlb2YgX19lc3JpLlBvcnRhbFxyXG4gIFdlYk1hcDogdHlwZW9mIF9fZXNyaS5XZWJNYXBcclxuICBXZWJTY2VuZTogdHlwZW9mIF9fZXNyaS5XZWJTY2VuZVxyXG4gIENvbG9yOiB0eXBlb2YgX19lc3JpLkNvbG9yXHJcblxyXG4gIGV4cGVjdGVkRGF0YVNvdXJjZUluZm86IE1hcGJhc2VEYXRhU291cmNlSW5mb1xyXG4gIG1hcENyZWF0aW5nSW5mbzogTWFwQ3JlYXRpbmdJbmZvIC8vIG1hcENyZWF0aW5nSW5mbyBhbmQgdmlldyBhcmUgbXV0dWFsbHktZXhjbHVzaXZlXHJcbiAgdmlldzogTWFwYmFzZVZpZXdcclxuICBsYXN0VXBkYXRlVmlld0NvbmZpZzogSU1Db25maWdcclxuICBtYXBEczogTWFwRGF0YVNvdXJjZVxyXG5cclxuICBkc01hbmFnZXIgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gdHJ1ZVxyXG5cclxuICBfX3VubW91bnQgPSBmYWxzZVxyXG4gIC8vIHRydWUgbWVhbnMgbWFwYmFzZS52aWV3IGlzIHJlc3RvcmVkIGZyb20gTXV0YWJsZVN0b3JlXHJcbiAgcmVzdG9yZWQ6IGJvb2xlYW5cclxuXHJcbiAgLy8gbGFzdCB1c2VyIGludGVyYWN0aXZlIHZpZXdcclxuICBzdGF0aWMgbGFzdEludGVyYWNpdmVWaWV3OiBNYXBiYXNlVmlld1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMucmVzdG9yZWQgPSBmYWxzZVxyXG5cclxuICAgIHRoaXMudXBkYXRlRXhwZWN0ZWREYXRhU291cmNlSW5mbygpXHJcblxyXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSB0aGlzLmdldFJlc3RvcmVEYXRhRnJvbU1TKClcclxuXHJcbiAgICBpZiAocmVzdG9yZURhdGEgJiYgcmVzdG9yZURhdGEuZXhwZWN0ZWREYXRhU291cmNlSW5mby51bmlxdWVJZCA9PT0gdGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvLnVuaXF1ZUlkKSB7XHJcbiAgICAgIHJlc3RvcmVNYXBCYXNlKHRoaXMsIHJlc3RvcmVEYXRhKVxyXG4gICAgICB0aGlzLnVwZGF0ZVJlc3RvcmVEYXRhVG9NUyhudWxsKVxyXG4gICAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHRoaXMudmlldylcclxuXHJcbiAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMudmlldy5tYXBiYXNlID0gdGhpc1xyXG4gICAgICAgIHRoaXMucmVzdG9yZWQgPSB0cnVlXHJcbiAgICAgICAgdGhpcy50cnlGYXRhbEVycm9yUmVjb3ZlcnkodGhpcy52aWV3KVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogbnVsbCxcclxuICAgICAgICBpc0Jhc2ljTW9kdWxlc0xvYWRlZDogZmFsc2UsXHJcbiAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgKG5leHRQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcclxuICAgIGlmIChuZXh0UHJvcHMuZGF0YVNvdXJjZUlkICE9PSBwcmV2U3RhdGUuZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YVNvdXJjZUlkOiBuZXh0UHJvcHMuZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZGluZ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLmhpZGUtdG9vbHMtcGFuZWwgLm1hcC10b29sLWxheW91dHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXNyaS12aWV3IC5lc3JpLXZpZXctc3VyZmFjZTpmb2N1czo6YWZ0ZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBsZXQgdXNlRGF0YVNvdXJjZSA9IG51bGxcclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgdXNlRGF0YVNvdXJjZSA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uZGF0YVNvdXJjZUlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgbWFwLWJhc2UnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19IGNzcz17dGhpcy5nZXRTdHlsZSgpfSByZWY9e3JlZiA9PiB7IHRoaXMud2lkZ2V0Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgIHsodGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzID09PSBNYXBMb2FkU3RhdHVzLkxvYWRpbmcpICYmXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgd2lkZ2V0LW1hcC1iYWNrZ3JvdW5kJz5cclxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJScgfX0gY2xhc3NOYW1lPSdqaW11LXNlY29uZGFyeS1sb2FkaW5nJyAvPlxyXG4gICAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHsodGhpcy5zdGF0ZS5tYXBMb2FkU3RhdHVzID09PSBNYXBMb2FkU3RhdHVzLkxvYWRFcnJvcikgJiZcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCB3aWRnZXQtbWFwLWJhY2tncm91bmQnPlxyXG4gICAgICAgICAgICB7dGhpcy5nZXRNYXBTd2l0Y2hGb3JFcnJvck1hcCgpfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyJz57dGhpcy5mb3JtYXRNZXNzYWdlKCdtYXBGYWlsdXJlJyl9PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCAmJiA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBkaXNwbGF5OiAnbm9uZScgfX0+PERhdGFTb3VyY2VDb21wb25lbnRcclxuICAgICAgICAgIHVzZURhdGFTb3VyY2U9e3VzZURhdGFTb3VyY2V9XHJcbiAgICAgICAgICBvbkRhdGFTb3VyY2VDcmVhdGVkPXt0aGlzLm9uRGF0YVNvdXJjZUNyZWF0ZWR9IG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZD17dGhpcy5vbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWR9XHJcbiAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSBmYWxzZVxyXG5cclxuICAgIGlmICh0aGlzLndpZGdldENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3aWRnZXQtbWFwJykubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGlmICghdGhpcy5tYXBDb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLm1hcENvbnRhaW5lciA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgdGhpcy5tYXBDb250YWluZXIuY2xhc3NOYW1lID0gJ3ctMTAwIGgtMTAwIHdpZGdldC1tYXAgbWFwdmlldy1jb250YWluZXInXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubWFwQ29udGFpbmVyKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXMpIHtcclxuICAgICAgdGhpcy5sb2FkQ29tbW9uTW9kdWxlcygpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucmVzdG9yZWQpIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgIGlmIChqaW11TWFwVmlldyAmJiAhamltdU1hcFZpZXcuaXNDYWNoZWQoKSkge1xyXG4gICAgICAgIGppbXVNYXBWaWV3Lm9uUmVzdG9yZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcykge1xyXG4gICAgLy8gdXBkYXRlIHRoZSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8gYnkgdGhlIGN1cnJlbnQgcHJvcHNcclxuICAgIHRoaXMudXBkYXRlRXhwZWN0ZWREYXRhU291cmNlSW5mbygpXHJcblxyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzQmFzaWNNb2R1bGVzTG9hZGVkKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBjaGVjayBpc01hcEluVmlzaWJsZUFyZWEgYmVmb3JlIHRoaXMuY2hlY2tBbmRIYW5kbGVJZkRhdGFTb3VyY2VJZFByb3BDaGFuZ2UoKSA/XHJcbiAgICAvLyBwcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgY2hhbmdlZFxyXG4gICAgaWYgKHRoaXMudmlldyAmJiBwcmV2UHJvcHMuaXNNYXBJblZpc2libGVBcmVhICE9PSB0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYSAmJiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID09PSAyKSkge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEpIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMudHJ5RmF0YWxFcnJvclJlY292ZXJ5KHRoaXMudmlldylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnZpZXcuaXNJbkNhY2hpbmcgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGUgZm9sbG93aW5nIGNvZGUgaXMgbWFpbmx5IHVzZWQgdG8gY2hlY2sgYW5kIGhhbmRsZSBpZiBkYXRhU291cmNlSWQgcHJvcCBjaGFuZ2VcclxuICAgIGxldCBuZWVkQ3JlYXRlTmV3VmlldyA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAvLyB0aGlzLnZpZXcgY3JlYXRlZCwgbm93IG5lZWQgdG8gY2hlY2sgaWYgdGhpcy52aWV3IG1hdGNoIHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkIG9yIG5vdFxyXG4gICAgICBpZiAodGhpcy5pc1ZpZXdFeHBlY3RlZCh0aGlzLnZpZXcpKSB7XHJcbiAgICAgICAgLy8gZGF0YSBzb3VyY2UgbWF0Y2ggdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGRvIG5vdGhpbmdcclxuICAgICAgICBuZWVkQ3JlYXRlTmV3VmlldyA9IGZhbHNlXHJcbiAgICAgICAgLy8gdGhpcy52aWV3IGlzIHRoZSBleHBlY3RlZCB2aWV3XHJcbiAgICAgICAgLy8gV2UgY2FsbCB0aGlzLnRyeVVwZGF0ZUN1cnJlbnRWaWV3QnlDb25maWdQcm9wcygpIHRvIGNvbnN1bWUgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnIGNoYW5nZVxyXG4gICAgICAgIHRoaXMudHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzKClcclxuICAgICAgICAvLyBXZSBjYWxsIHRoaXMuY2hlY2tBbmRIYW5kbGVNdXRhYmxlU3RhdGVQcm9wcygpIHRvIGNvbnN1bWUgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMgY2hhbmdlXHJcbiAgICAgICAgdGhpcy5jaGVja0FuZEhhbmRsZU11dGFibGVTdGF0ZVByb3BzKClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBkYXRhIHNvdXJjZSBjaGFuZ2VkLCB3ZSBuZWVkIHRvIGRlc3Ryb3kgdGhpcy52aWV3XHJcbiAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHRoaXMudmlldyBub3QgY3JlYXRlZCwgd2UgbmVlZCB0byBjaGVjayBpZiB3ZSBhcmUgY3JlYXRpbmcgdGhlIGV4cGVjdGVkIHZpZXdcclxuICAgICAgaWYgKHRoaXMuaXNDcmVhdGluZ0V4cGVjdGVkVmlldygpKSB7XHJcbiAgICAgICAgLy8gV2UgYXJlIGNyZWF0aW5nIHRoZSBleHBlY3RlZCB2aWV3LCBkbyBub3RoaW5nXHJcbiAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSBmYWxzZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIG5lZWQgdG8gY3JlYXRlIG5ldyB2aWV3XHJcbiAgICAgICAgbmVlZENyZWF0ZU5ld1ZpZXcgPSB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobmVlZENyZWF0ZU5ld1ZpZXcpIHtcclxuICAgICAgdGhpcy5kZXN0cm95Q3VycmVudE1hcGJhc2VWaWV3KClcclxuICAgICAgdGhpcy5jYWNoZUxvYWRNb2R1bGVzQW5kQ3JlYXRlTWFwYmFzZVZpZXcodGhpcy5leHBlY3RlZERhdGFTb3VyY2VJbmZvKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgdGhpcy5fX3VubW91bnQgPSB0cnVlXHJcblxyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICB0aGlzLnZpZXcubWFwYmFzZSA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3aWRnZXRzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzXHJcblxyXG4gICAgaWYgKHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdICYmIHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdLnVzZURhdGFTb3VyY2VzID09PSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAmJlxyXG4gICAgICB0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXMgIT09IE1hcExvYWRTdGF0dXMuTG9hZGluZykge1xyXG4gICAgICAvLyBKUyBBUEkgbGltaXRzIG9ubHkgMTYgY2FudmFzIHdpdGggV2ViR0wgY29udGV4dCBvbiBhIGh0bWwgcGFnZS4gQ2FjaGluZyB0aGUgbWFwIHdpZGdldCAodW5tb3VudCB0aGUgY2FudmFzIGZyb20gdGhlIGh0bWwgdHJlZSBidXQgZG9uJ3QgZGVzdHJveSB0aGUgdmlldykgaXMgYSB3b3Jrcm91bmQuXHJcbiAgICAgIC8vIFdlIHNjcm9sbCB0aGUgcGFnZSBhbmQgdGhlIG1hcCB3aWRnZXQgaXMgbm90IGluIHRoZSB2aXNpYmxlIGFyZWEsIHdlIG5lZWQgdG8gY2FjaGUgaXQgc28gd2UgY2FuIHJlc3RvcmUgaXQgcXVpY2tseS5cclxuICAgICAgLy8gV2UgZG9uJ3QgZGVzdHJveSB0aGUgbWFwIHZpZXcgaGVyZSwganVzdCBjYWNoZSBpdCB0byBtdXRhYmxlIHN0b3JlLlxyXG4gICAgICBjb25zdCByZXN0b3JlRGF0YSA9IGdldE1hcEJhc2VSZXN0b3JlRGF0YSh0aGlzKVxyXG5cclxuICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgIHRoaXMudmlldy5pc0luQ2FjaGluZyA9IHRydWVcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy51cGRhdGVSZXN0b3JlRGF0YVRvTVMocmVzdG9yZURhdGEpXHJcblxyXG4gICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgY29uc3QgamltdU1hcFZpZXcgPSB0aGlzLmdldEppbXVNYXBWaWV3Rm9WaWV3KHRoaXMudmlldylcclxuXHJcbiAgICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgICBqaW11TWFwVmlldy5vbkNhY2hlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIERlc3Ryb3kgdGhlIG1hcCB2aWV3XHJcbiAgICAgIHRoaXMuZGVzdHJveUN1cnJlbnRNYXBiYXNlVmlldygpXHJcbiAgICAgIHRoaXMubWFwQ3JlYXRpbmdJbmZvID0gbnVsbFxyXG5cclxuICAgICAgaWYgKHRoaXMudmlldyAmJiAhdGhpcy52aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgIHRoaXMudmlldy5jb250YWluZXIgPSBudWxsXHJcbiAgICAgICAgdGhpcy52aWV3ID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1hcERzID0gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlRGF0YVNvdXJjZUluZm8gKGRhdGFTb3VyY2VJZDogc3RyaW5nKTogTWFwYmFzZURhdGFTb3VyY2VJbmZvIHtcclxuICAgIGxldCByZXN1bHQ6IE1hcGJhc2VEYXRhU291cmNlSW5mbyA9IG51bGxcclxuXHJcbiAgICBjb25zdCBkYXRhU291cmNlSnNvbiA9IHRoaXMuZ2V0RHNKc29uRnJvbURzSWQoZGF0YVNvdXJjZUlkKVxyXG5cclxuICAgIGlmIChkYXRhU291cmNlSnNvbiAmJiBkYXRhU291cmNlSnNvbi5pZCkge1xyXG4gICAgICAvLyBkYXRhIHNvdXJjZSBjYXNlMiBvciBkYXRhIHNvdXJjZSBjYXNlM1xyXG4gICAgICBjb25zdCB0eXBlID0gZGF0YVNvdXJjZUpzb24udHlwZSB8fCAnJ1xyXG4gICAgICBjb25zdCBpdGVtSWQgPSBkYXRhU291cmNlSnNvbi5pdGVtSWQgfHwgJydcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZUlkID0gZGF0YVNvdXJjZUpzb24uaWRcclxuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHRoaXMuZ2V0SmltdU1hcFZpZXdJZChkYXRhU291cmNlSWQpXHJcblxyXG4gICAgICBpZiAodHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lKSB7XHJcbiAgICAgICAgLy8gdXNlciBzZWxlY3QgYSB3ZWIgc2NlbmVcclxuICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICBpc0RlZmF1bHRNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgaXNXZWJNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgdW5pcXVlSWQ6IGB3ZWJzY2VuZS0ke2RhdGFTb3VyY2VJZH0tJHtpdGVtSWR9YCxcclxuICAgICAgICAgIGRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgIGppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgICBkYXRhU291cmNlSnNvblxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB1c2VyIHNlbGVjdCBhIHdlYiBtYXBcclxuICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICBpc0RlZmF1bHRNYXA6IGZhbHNlLFxyXG4gICAgICAgICAgaXNXZWJNYXA6IHRydWUsXHJcbiAgICAgICAgICB1bmlxdWVJZDogYHdlYm1hcC0ke2RhdGFTb3VyY2VJZH0tJHtpdGVtSWR9YCxcclxuICAgICAgICAgIGRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgIGppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgICBkYXRhU291cmNlSnNvblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZGF0YSBzb3VyY2UgY2FzZTE6IHVzZSBkZWZhdWx0IHdlYiBtYXBcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZUlkID0gJydcclxuICAgICAgLy8gVE9ETzogY291bGQgd2UgdXNlIHRoaXMuZ2V0SmltdU1hcFZpZXdJZCgnZGVmYXVsdG1hcCcpIGhlcmUgP1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gdGhpcy5nZXRKaW11TWFwVmlld0lkKGRhdGFTb3VyY2VJZClcclxuICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgIGlzRGVmYXVsdE1hcDogdHJ1ZSxcclxuICAgICAgICBpc1dlYk1hcDogdHJ1ZSxcclxuICAgICAgICB1bmlxdWVJZDogJ3dlYm1hcC1kZWZhdWx0JyxcclxuICAgICAgICBkYXRhU291cmNlSWQsXHJcbiAgICAgICAgamltdU1hcFZpZXdJZCxcclxuICAgICAgICBkYXRhU291cmNlSnNvblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgZ2V0SmltdU1hcFZpZXdJZCAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGdldEppbXVNYXBWaWV3SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIGRhdGFTb3VyY2VJZClcclxuICB9XHJcblxyXG4gIGdldERzSnNvbkZyb21Ec0lkIChkYXRhU291cmNlSWQ6IHN0cmluZyk6IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj4ge1xyXG4gICAgbGV0IHJlc3VsdDogSW1tdXRhYmxlT2JqZWN0PERhdGFTb3VyY2VKc29uPiA9IG51bGxcclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgIHJlc3VsdCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcuZGF0YVNvdXJjZXNbZGF0YVNvdXJjZUlkXVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIHJlc3VsdCA9IHt9IGFzIEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50RGF0YVNvdXJjZUpzb24gKCk6IEltbXV0YWJsZU9iamVjdDxEYXRhU291cmNlSnNvbj4ge1xyXG4gICAgLy8gd2hlbiBzZWxlY3QgYSB3ZWIgbWFwIG9yIHdlYiBzY2VuZSBpbiBidWlsZGVyLCB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCBpcyBub3QgbnVsbCwgdGhlIHJlc3VsdCBpcyBsaWtlIHRoaXNcclxuICAgIC8vIHtcclxuICAgIC8vICAgaWQ6IFwiZGF0YVNvdXJjZV81XCIsXHJcbiAgICAvLyAgIHR5cGU6IFwiV0VCX01BUFwiLFxyXG4gICAgLy8gICBzb3VyY2VMYWJlbDogXCJDaGluYSBWZXJzaW9uIDFfMlwiLFxyXG4gICAgLy8gICBpdGVtSWQ6IFwiYTJjNTQ0OWM0YzYyNDQ0N2JmNDVkNDg0NzhiMjU4MzhcIixcclxuICAgIC8vICAgcG9ydGFsVXJsOiBcImh0dHBzOi8vZXNyaWRldmJlaWppbmcubWFwcy5hcmNnaXMuY29tXCIsXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gd2hlbiB1c2UgdGhlIGRlZmF1bHQgd2ViIG1hcCBpbiBidWlsZGVyLCB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCBpcyBudWxsLCB0aGUgcmVzdWx0IGlzIGVtcHR5IG9iamVjdCB7fVxyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpXHJcbiAgfVxyXG5cclxuICB1cGRhdGVFeHBlY3RlZERhdGFTb3VyY2VJbmZvICgpIHtcclxuICAgIHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mbyA9IHRoaXMuY3JlYXRlRGF0YVNvdXJjZUluZm8odGhpcy5wcm9wcy5kYXRhU291cmNlSWQpXHJcbiAgfVxyXG5cclxuICBpc0N1cnJlbnRWaWV3RXhwZWN0ZWQgKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNWaWV3RXhwZWN0ZWQodGhpcy52aWV3KVxyXG4gIH1cclxuXHJcbiAgaXNWaWV3RXhwZWN0ZWQgKHZpZXc6IE1hcGJhc2VWaWV3KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdmlldyAmJiB2aWV3LmRhdGFTb3VyY2VJbmZvLnVuaXF1ZUlkID09PSB0aGlzLmV4cGVjdGVkRGF0YVNvdXJjZUluZm8udW5pcXVlSWRcclxuICB9XHJcblxyXG4gIGlzQ3JlYXRpbmdFeHBlY3RlZFZpZXcgKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwQ3JlYXRpbmdJbmZvICYmIHRoaXMuaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkKHRoaXMubWFwQ3JlYXRpbmdJbmZvLmRhdGFTb3VyY2VJbmZvKVxyXG4gIH1cclxuXHJcbiAgaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkIChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gZGF0YVNvdXJjZUluZm8gJiYgZGF0YVNvdXJjZUluZm8udW5pcXVlSWQgPT09IHRoaXMuZXhwZWN0ZWREYXRhU291cmNlSW5mby51bmlxdWVJZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3VtZSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcgY2hhbmdlXHJcbiAgICovXHJcbiAgdHJ5VXBkYXRlQ3VycmVudFZpZXdCeUNvbmZpZ1Byb3BzICgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy52aWV3KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbmZpZzogSU1Db25maWcgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWdcclxuICAgIGNvbnN0IHByZUNvbmZpZzogSU1Db25maWcgPSB0aGlzLmxhc3RVcGRhdGVWaWV3Q29uZmlnXHJcbiAgICB0aGlzLmxhc3RVcGRhdGVWaWV3Q29uZmlnID0gY29uZmlnXHJcblxyXG4gICAgLy8gdXBkYXRlIHBvcHVwIG9wdGlvbnNcclxuICAgIGNvbnN0IHBvcHVwRW5hYmxlZCA9ICFjb25maWcuZGlzYWJsZVBvcFVwXHJcblxyXG4gICAgaWYgKHRoaXMudmlldy5wb3B1cEVuYWJsZWQgIT09IHBvcHVwRW5hYmxlZCkge1xyXG4gICAgICAvLyBwb3B1cEVuYWJsZWQgY2hhbmdlZFxyXG4gICAgICB0aGlzLnZpZXcucG9wdXBFbmFibGVkID0gcG9wdXBFbmFibGVkXHJcblxyXG4gICAgICBpZiAoIXBvcHVwRW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMudmlldy5jbG9zZVBvcHVwKClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yICE9PSBwcmVDb25maWc/LnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB8fCAoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciAhPT0gcHJlQ29uZmlnPy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IpKSB7XHJcbiAgICAgIC8vIGhpZ2hsaWdodCBpbmZvIGNoYW5nZXNcclxuICAgICAgY29uc3QgaGlnaGxpZ2h0Q29sb3IgPSBjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IgfHwgREVGQVVMVF9ISUdITElHSFRfQ09MT1JcclxuICAgICAgY29uc3QgaGlnaGxpZ2h0SGFsb0NvbG9yID0gY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodEhhbG9Db2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9IQUxPX0NPTE9SXHJcbiAgICAgIGNvbnN0IGhpZ2hsaWdodE9wdGlvbnMgPSB7XHJcbiAgICAgICAgLi4udGhpcy52aWV3LmhpZ2hsaWdodE9wdGlvbnMsXHJcbiAgICAgICAgY29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodENvbG9yKSxcclxuICAgICAgICBoYWxvQ29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodEhhbG9Db2xvcilcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IGhpZ2hsaWdodE9wdGlvbnNcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbmFibGVTY3JvbGwgPSAhY29uZmlnLmRpc2FibGVTY3JvbGxcclxuXHJcbiAgICBpZiAodGhpcy52aWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkICE9PSBlbmFibGVTY3JvbGwpIHtcclxuICAgICAgdGhpcy52aWV3Lm5hdmlnYXRpb24ubW91c2VXaGVlbFpvb21FbmFibGVkID0gZW5hYmxlU2Nyb2xsXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudmlldy5uYXZpZ2F0aW9uLmJyb3dzZXJUb3VjaFBhbkVuYWJsZWQgIT09IGVuYWJsZVNjcm9sbCkge1xyXG4gICAgICB0aGlzLnZpZXcubmF2aWdhdGlvbi5icm93c2VyVG91Y2hQYW5FbmFibGVkID0gZW5hYmxlU2Nyb2xsXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMudmlldy51aSkge1xyXG4gICAgICB0aGlzLnZpZXcudWkuY29tcG9uZW50cyA9IFtdXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2NlbmVRdWFsaXR5TW9kZSA9IGNvbmZpZy5zY2VuZVF1YWxpdHlNb2RlXHJcblxyXG4gICAgaWYgKHRoaXMuaXNTY2VuZVZpZXcodGhpcy52aWV3KSkge1xyXG4gICAgICBjb25zdCBzY2VuZVZpZXcgPSB0aGlzLnZpZXcgYXMgX19lc3JpLlNjZW5lVmlld1xyXG5cclxuICAgICAgaWYgKHNjZW5lUXVhbGl0eU1vZGUgJiYgc2NlbmVRdWFsaXR5TW9kZSAhPT0gc2NlbmVWaWV3LnF1YWxpdHlQcm9maWxlKSB7XHJcbiAgICAgICAgc2NlbmVWaWV3LnF1YWxpdHlQcm9maWxlID0gc2NlbmVRdWFsaXR5TW9kZSBhcyAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN1bWUgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMgY2hhbmdlXHJcbiAgICovXHJcbiAgY2hlY2tBbmRIYW5kbGVNdXRhYmxlU3RhdGVQcm9wcyAoKSB7XHJcbiAgICBpZiAodGhpcy52aWV3ICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzKSB7XHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSB0aGlzLnZpZXcuZGF0YVNvdXJjZUluZm8uamltdU1hcFZpZXdJZFxyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpXHJcblxyXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgICBqaW11TWFwVmlldy53aGVuSmltdU1hcFZpZXdMb2FkZWQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGNoZWNrIHRoaXMudmlldyBpZiBudWxsIG9yIGRlc3Ryb3llZCBoZXJlLCB3ZSBkbyBpdCBpbiB0aGlzLmhhbmRsZUFjdGlvbigpXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzLCB0aGlzLnZpZXcsIGppbXVNYXBWaWV3KVxyXG4gICAgICAgICAgICB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA9IGZhbHNlXHJcbiAgICAgICAgICB9LCB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA/IDUwMCA6IDApXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNNYXBWaWV3ICh2aWV3OiBNYXBiYXNlVmlldyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHZpZXcgJiYgdmlldy5kZWNsYXJlZENsYXNzID09PSAnZXNyaS52aWV3cy5NYXBWaWV3J1xyXG4gIH1cclxuXHJcbiAgaXNTY2VuZVZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdmlldyAmJiB2aWV3LmRlY2xhcmVkQ2xhc3MgPT09ICdlc3JpLnZpZXdzLlNjZW5lVmlldydcclxuICB9XHJcblxyXG4gIGRpZmZQcm9wcyAocHJldlByb3BzOiBQcm9wcykge1xyXG4gICAgY29uc3QgYWRkZWRLZXlzOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBjb25zdCByZW1vdmVLZXlzOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBjb25zdCB1cGRhdGVkS2V5czogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgIGNvbnN0IGN1cnJLZXlzID0gT2JqZWN0LmtleXModGhpcy5wcm9wcylcclxuICAgIGNvbnN0IHByZXZLZXlzID0gT2JqZWN0LmtleXMocHJldlByb3BzKVxyXG5cclxuICAgIGNvbnN0IHByZXZLZXlzTWFwOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9XHJcbiAgICBwcmV2S2V5cy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgIHByZXZLZXlzTWFwW2tleV0gPSB0cnVlXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGN1cnJLZXlzTWFwOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9XHJcbiAgICBjdXJyS2V5cy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgIGN1cnJLZXlzTWFwW2tleV0gPSB0cnVlXHJcbiAgICB9KVxyXG5cclxuICAgIGN1cnJLZXlzLmZvckVhY2goY3VycktleSA9PiB7XHJcbiAgICAgIGlmIChwcmV2S2V5c01hcFtjdXJyS2V5XSkge1xyXG4gICAgICAgIGlmIChwcmV2UHJvcHNbY3VycktleV0gIT09IHRoaXMucHJvcHNbY3VycktleV0pIHtcclxuICAgICAgICAgIHVwZGF0ZWRLZXlzLnB1c2goY3VycktleSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWRkZWRLZXlzLnB1c2goY3VycktleSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBwcmV2S2V5cy5mb3JFYWNoKHByZXZLZXkgPT4ge1xyXG4gICAgICBpZiAoIWN1cnJLZXlzTWFwW3ByZXZLZXldKSB7XHJcbiAgICAgICAgcmVtb3ZlS2V5cy5wdXNoKHByZXZLZXkpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkZWRLZXlzLFxyXG4gICAgICByZW1vdmVLZXlzLFxyXG4gICAgICB1cGRhdGVkS2V5c1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgbG9hZENvbW1vbk1vZHVsZXMgKCkge1xyXG4gICAgY29uc3QgbW9kdWxlcyA9IGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnLFxyXG4gICAgICAnZXNyaS9WaWV3cG9pbnQnLFxyXG4gICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsJyxcclxuICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbEl0ZW0nLFxyXG4gICAgICAnZXNyaS9Db2xvcidcclxuICAgIF0pO1xyXG5cclxuICAgIFtcclxuICAgICAgdGhpcy5FeHRlbnQsIHRoaXMuVmlld3BvaW50LCB0aGlzLlBvcnRhbCwgdGhpcy5Qb3J0YWxJdGVtLCB0aGlzLkNvbG9yXHJcbiAgICBdID0gbW9kdWxlc1xyXG5cclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNCYXNpY01vZHVsZXNMb2FkZWQ6IHRydWVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBjYWNoZUxvYWRNb2R1bGVzQW5kQ3JlYXRlTWFwYmFzZVZpZXcgKGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm8pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCB8fCB0aGlzLmlzQ3VycmVudFZpZXdFeHBlY3RlZCgpIHx8IHRoaXMuaXNDcmVhdGluZ0V4cGVjdGVkVmlldygpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmdcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgbWFwQ3JlYXRpbmdJbmZvOiBNYXBDcmVhdGluZ0luZm8gPSB7XHJcbiAgICAgIGRhdGFTb3VyY2VJbmZvXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tYXBDcmVhdGluZ0luZm8gPSBtYXBDcmVhdGluZ0luZm9cclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZUluZm8uaXNXZWJNYXApIHtcclxuICAgICAgLy8gbG9hZCBtb2R1bGVzIHRvIGNyZWF0ZSBNYXBWaWV3XHJcbiAgICAgIGlmICghdGhpcy5NYXBWaWV3KSB7XHJcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IGF3YWl0IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xyXG4gICAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvR2VvbWV0cnknLFxyXG4gICAgICAgICAgJ2Vzcmkvd2VibWFwL0luaXRpYWxWaWV3UHJvcGVydGllcycsXHJcbiAgICAgICAgICAnZXNyaS9CYXNlbWFwJyxcclxuICAgICAgICAgICdlc3JpL2xheWVycy9UaWxlTGF5ZXInLFxyXG4gICAgICAgICAgJ2Vzcmkvdmlld3MvTWFwVmlldycsXHJcbiAgICAgICAgICAnZXNyaS9XZWJNYXAnXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgIHRoaXMuR2VvbWV0cnksIHRoaXMuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzLCB0aGlzLkJhc2VtYXAsIHRoaXMuVGlsZUxheWVyLCB0aGlzLk1hcFZpZXcsIHRoaXMuV2ViTWFwXHJcbiAgICAgICAgXSA9IG1vZHVsZXNcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gbG9hZCBtb2R1bGVzIGZvciBjcmVhdGUgU2NlbmVWaWV3XHJcbiAgICAgIGlmICghdGhpcy5TY2VuZVZpZXcpIHtcclxuICAgICAgICBjb25zdCBtb2R1bGVzID0gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgICAnZXNyaS92aWV3cy9TY2VuZVZpZXcnLFxyXG4gICAgICAgICAgJ2VzcmkvV2ViU2NlbmUnXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIFtcclxuICAgICAgICAgIHRoaXMuU2NlbmVWaWV3LCB0aGlzLldlYlNjZW5lXHJcbiAgICAgICAgXSA9IG1vZHVsZXNcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCB8fCB0aGlzLmlzQ3VycmVudFZpZXdFeHBlY3RlZCgpIHx8ICF0aGlzLmlzRGF0YVNvdXJjZUluZm9FeHBlY3RlZChtYXBDcmVhdGluZ0luZm8uZGF0YVNvdXJjZUluZm8pKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuY3JlYXRlTWFwYmFzZVZpZXcobWFwQ3JlYXRpbmdJbmZvKVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgY3JlYXRlTWFwYmFzZVZpZXcgKG1hcENyZWF0aW5nSW5mbzogTWFwQ3JlYXRpbmdJbmZvKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlSW5mbyA9IG1hcENyZWF0aW5nSW5mby5kYXRhU291cmNlSW5mb1xyXG5cclxuICAgIGlmICh0aGlzLl9fdW5tb3VudCB8fCB0aGlzLmlzQ3VycmVudFZpZXdFeHBlY3RlZCgpIHx8ICF0aGlzLmlzRGF0YVNvdXJjZUluZm9FeHBlY3RlZChkYXRhU291cmNlSW5mbykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IG1hcFZpZXdPcHRpb24gb3Igc2NlbmVWaWV3T3B0aW9uXHJcbiAgICBsZXQgbWFwVmlld09wdGlvbjogX19lc3JpLk1hcFZpZXdQcm9wZXJ0aWVzID0gbnVsbFxyXG4gICAgbGV0IHNjZW5lVmlld09wdGlvbjogX19lc3JpLlNjZW5lVmlld1Byb3BlcnRpZXMgPSBudWxsXHJcblxyXG4gICAgaWYgKGRhdGFTb3VyY2VJbmZvLmlzV2ViTWFwKSB7XHJcbiAgICAgIC8vIGdldCBtYXAgdmlldyBvcHRpb25cclxuICAgICAgbWFwVmlld09wdGlvbiA9IGF3YWl0IHRoaXMuZ2V0TWFwVmlld09wdGlvblRvQ3JlYXRlTWFwVmlldyhkYXRhU291cmNlSW5mbylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGdldCBzY2VuZSB2aWV3IG9wdGlvblxyXG4gICAgICBzY2VuZVZpZXdPcHRpb24gPSBhd2FpdCB0aGlzLmdldFNjZW5lVmlld09wdGlvblRvQ3JlYXRlU2NlbmVWaWV3KGRhdGFTb3VyY2VJbmZvKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG5lZWQgdG8gY2hlY2sgdmlldyBhZ2FpbiB0byBhdm9pZCBuZXcgTWFwVmlldygpIHR3aWNlLCBiZWNhdXNlIHdlIHVzZSBhc3luYyBmdW5jdGlvbiB0byBnZXQgbWFwVmlld09wdGlvblxyXG4gICAgaWYgKHRoaXMuX191bm1vdW50IHx8IHRoaXMuaXNDdXJyZW50Vmlld0V4cGVjdGVkKCkgfHwgIXRoaXMuaXNEYXRhU291cmNlSW5mb0V4cGVjdGVkKGRhdGFTb3VyY2VJbmZvKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBsZXQgdmlldzogTWFwYmFzZVZpZXcgPSBudWxsXHJcblxyXG4gICAgLy8gY3JlYXRlIG1hcCB2aWV3IG9yIHNjZW5lIHZpZXdcclxuICAgIGlmIChkYXRhU291cmNlSW5mby5pc1dlYk1hcCkge1xyXG4gICAgICB2aWV3ID0gbmV3IHRoaXMuTWFwVmlldyhtYXBWaWV3T3B0aW9uKSBhcyBNYXBiYXNlVmlld1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlldyA9IG5ldyB0aGlzLlNjZW5lVmlldyhzY2VuZVZpZXdPcHRpb24pIGFzIE1hcGJhc2VWaWV3XHJcbiAgICB9XHJcblxyXG4gICAgdmlldy5tYXBiYXNlID0gdGhpc1xyXG4gICAgdmlldy5oaWdoTGlnaHRIYW5kbGVzID0ge31cclxuICAgIHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMgPSB7fVxyXG4gICAgdmlldy5leHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzID0gW11cclxuICAgIHZpZXcucHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2UgPSBmdW5jdGlvbiAoc3RhdGlvbmFyeTogYm9vbGVhbiwgaW50ZXJhY2l2ZTogYm9vbGVhbikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICh2aWV3ICYmICF2aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgY29uc3QgbWFwYmFzZSA9IHZpZXcubWFwYmFzZVxyXG5cclxuICAgICAgICAgIGlmIChtYXBiYXNlICYmICFtYXBiYXNlLl9fdW5tb3VudCAmJiBtYXBiYXNlLnByb3BzICYmIG1hcGJhc2UucHJvcHMub25FeHRlbnRDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIG1hcGJhc2UucHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2Uodmlldywgc3RhdGlvbmFyeSwgaW50ZXJhY2l2ZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCd2aWV3IGhpZGUgbWFwIHRvb2xzIGVycm9yJywgZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZpZXcuaGlkZU1hcFRvb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICh2aWV3ICYmICF2aWV3LmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgY29uc3QgbWFwYmFzZSA9IHZpZXcubWFwYmFzZVxyXG5cclxuICAgICAgICAgIGlmIChtYXBiYXNlICYmICFtYXBiYXNlLl9fdW5tb3VudCAmJiBtYXBiYXNlLnByb3BzICYmIG1hcGJhc2UucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSkge1xyXG4gICAgICAgICAgICAvLyBzZXQgbm8gYWN0aXZlIHRvb2xcclxuICAgICAgICAgICAgbWFwYmFzZS5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcigndmlldyBoaWRlIG1hcCB0b29scyBlcnJvcicsIGUpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodmlldy5wb3B1cCkge1xyXG4gICAgICB2aWV3LnBvcHVwLnNwaW5uZXJFbmFibGVkID0gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICB2aWV3LmRhdGFTb3VyY2VJbmZvID0gZGF0YVNvdXJjZUluZm9cclxuXHJcbiAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgIHRoaXMuZGVzdHJveUN1cnJlbnRNYXBiYXNlVmlldygpXHJcbiAgICAgIHRoaXMudmlldyA9IG51bGxcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgdGhpcy52aWV3XHJcbiAgICB0aGlzLnZpZXcgPSB2aWV3XHJcbiAgICB0aGlzLm1hcENyZWF0aW5nSW5mbyA9IG51bGxcclxuXHJcbiAgICBpZiAodGhpcy5pc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldygpKSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlSmltdU1hcFZpZXcoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoZSBmb2xsb3dpbmcgY29kZSBhcmUgc2FtZSBmb3IgYm90aCBtYXAgdmlldyBhbmQgc2NlbmUgdmlld1xyXG5cclxuICAgIHZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgIC8vIHZpZXcud2hlbigpIGlzIGFzeW5jLCB3ZSBuZWVkIHRvIGNoZWNrIHRoZSB2aWV3IGlzIGV4cGVjdGVkIG9yIG5vdFxyXG4gICAgICAvLyBpZiB0aGUgdmlldyBpcyBub3QgZXhwZWN0ZWQgYWdhaW4sIHdlIGRvbid0IGV4ZWN1dGUgdGhlIGZvbGxvd2luZyBsb2dpY1xyXG4gICAgICBjb25zdCBpc1ZpZXdPayA9ICF2aWV3LmRlc3Ryb3llZCAmJiB0aGlzLnZpZXcgPT09IHZpZXcgJiYgdGhpcy5pc1ZpZXdFeHBlY3RlZCh2aWV3KVxyXG5cclxuICAgICAgaWYgKCFpc1ZpZXdPaykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoIXZpZXcuZGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAvLyBtYWtlIHN1cmUgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UgYXQgbGVhc3Qgb25jZVxyXG4gICAgICAgICAgdGhpcy5wdWJsaXNoRXh0ZW50Q2hhbmdlTWVzc2FnZSh2aWV3LCB0cnVlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTAwMClcclxuXHJcbiAgICAgIHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZSA9IHZpZXcud2F0Y2goJ2ludGVyYWN0aW5nJywgKCkgPT4ge1xyXG4gICAgICAgIGlmICh2aWV3LmludGVyYWN0aW5nKSB7XHJcbiAgICAgICAgICBNYXBCYXNlLmxhc3RJbnRlcmFjaXZlVmlldyA9IHZpZXdcclxuICAgICAgICAgIC8vIFdlIG11c3Qgc2V0IHZpZXcuZXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkcyB0byBlbXB0eSBhcnJheSwgYmVjdWFzZSBjdXJyZW50IHZpZXcgaXMgdGhlIGV4dGVudC1jaGFuZ2Ugc291cmNlci5cclxuICAgICAgICAgIHRoaXMuc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcodmlldywgW10pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdmlldy5leHRlbnRXYXRjaEhhbmRsZSA9IHZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcclxuICAgICAgICBpZiAoIWV4dGVudCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnB1Ymxpc2hFeHRlbnRDaGFuZ2VNZXNzYWdlKHZpZXcsIGZhbHNlKVxyXG5cclxuICAgICAgICBpZiAodmlldy5zdGF0aW9uYXJ5VGltZXJJZCkge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHZpZXcuc3RhdGlvbmFyeVRpbWVySWQpXHJcbiAgICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gbnVsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2UgZG9uJ3QgdXNlIHZpZXcud2F0Y2goJ3N0YXRpb25hcnknLCBjYikgdG8gY2hlY2sgaWYgdmlldyBpcyBzdGF0aWMgb3Igbm90LCBiZWNhdXNlIHRoZSBiZWhhdmlvciBvZiB2aWV3LnN0YXRpb25hcnkgaXMgc3RyYW5nZS5cclxuICAgICAgICAvLyBJbnN0ZWFkLCB3ZSB1c2UgYSB0aW1lb3V0IHRvIGNoZWNrIGlmIHZpZXcgaXMgc3RhdGljIG9yIG5vdC5cclxuICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gbnVsbFxyXG4gICAgICAgICAgLy8gdmlldyBpcyBzdGF0aWMgbm93XHJcblxyXG4gICAgICAgICAgLy8gV2UgbmVlZCB0byBwdWJsaXNoIGV4dGVudC1jaGFuZ2UgbWVzc2FnZSBhZ2FpbiB3aGVuIHZpZXcgaXMgc3RhdGljLlxyXG4gICAgICAgICAgdGhpcy5wdWJsaXNoRXh0ZW50Q2hhbmdlTWVzc2FnZSh2aWV3LCB0cnVlKVxyXG5cclxuICAgICAgICAgIC8vIE5vdGUsIG1ha2Ugc3VyZSB3ZSBjYWxsIHNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KCkgYWZ0ZXIgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UuXHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KHZpZXcsIFtdKVxyXG5cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmlldyA9PT0gTWFwQmFzZS5sYXN0SW50ZXJhY2l2ZVZpZXcgJiYgIXZpZXcuaW50ZXJhY3RpbmcpIHtcclxuICAgICAgICAgICAgICBNYXBCYXNlLmxhc3RJbnRlcmFjaXZlVmlldyA9IG51bGxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICB9LCAyMDApXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoIXZpZXcuZmF0YWxFcnJvcldhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgdmlldy5mYXRhbEVycm9yV2F0Y2hIYW5kbGUgPSB2aWV3LndhdGNoKCdmYXRhbEVycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRG9uJ3QgdXNlIHRoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhIHRvIGNoZWNrIGlzIG1hcCB2aXNpYmxlIG9yIG5vdCwgYmVjYXVzZSBtYXBiYXNlIG1heWJlIHVubW91bnRlZCBhbmQgdGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWEgaXMgc3RpbGwgdHJ1ZS5cclxuICAgICAgICAgICAgLy8gSXQgaXMgbW9yZSBzYWZlIHRvXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlY292ZXJ5ID0gIXZpZXcuaXNJbkNhY2hpbmcgJiYgdmlldy5jb250YWluZXIgJiYgdmlldy5jb250YWluZXIuY2xpZW50V2lkdGggPiAwICYmIHZpZXcuY29udGFpbmVyLmNsaWVudEhlaWdodCA+IDBcclxuICAgICAgICAgICAgY29uc3Qgd2lkZ2V0SWQgPSB0aGlzLnByb3BzPy5iYXNlV2lkZ2V0UHJvcHM/LmlkIHx8ICcnXHJcblxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVjb3ZlcnkpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3dpZGdldElkfSBGYXRhbCBFcnJvciEgVmlldyBoYXMgbG9zdCBpdHMgV2ViR0wgY29udGV4dC4gQXR0ZW1wdGluZyB0byByZWNvdmVyIGl0IGJlY2F1c2UgdGhlIHZpZXcgaXMgdmlzaWJsZS5gKVxyXG4gICAgICAgICAgICAgIHRoaXMudHJ5RmF0YWxFcnJvclJlY292ZXJ5KHZpZXcpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt3aWRnZXRJZH0gRmF0YWwgRXJyb3IhIFZpZXcgaGFzIGxvc3QgaXRzIFdlYkdMIGNvbnRleHQuIERvbid0IHJlY292ZXIgaXQgYmVjYXVzZSB0aGUgdmlldyBpcyBub3QgdmlzaWJsZS5gKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYWZ0ZXIgdmlldyBpcyBsb2FkZWQsIHNlbmQgZXh0ZW50IGNoYW5nZSBtZXNzYWdlXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRvayB9LCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1hcExvYWRlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgTWFwTG9hZFN0YXR1cy5Mb2Fkb2spXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBleHRlbnQgaXMgcGFzc2VkIGZyb20gZXh0ZW50TWVzc2FnZSBiZWZvcmUsIGRvbid0IGluaXQgZXh0ZW50IGhlcmUgYXMgdGhpcyB3aWxsIHB1Ymxpc2hcclxuICAgICAgLy8gZXh0ZW50TWVzc2FnZSBhbmQgY2hhbmdlIG90aGVyIG1hcFdpZGdldCdzIGV4dGVudC5cclxuICAgICAgaWYgKCF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcz8ubXV0YWJsZVN0YXRlUHJvcHM/Lnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZT8udmFsdWUpIHtcclxuICAgICAgICB0aGlzLmdvSG9tZShmYWxzZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuaXNNYXBWaWV3KHZpZXcpKSB7XHJcbiAgICAgICAgLy8gc25hcFRvWm9vbTogdHJ1ZSBtZWFucyBpbnRlZ2VyIHpvb20sIGZhbHNlIG1lYW5zIGZsb2F0IHpvb21cclxuICAgICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGUgaW5pdGlhbCB2YWx1ZSB0byB0cnVlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFuZCBrZWVwIHRoZSBzYW1lIGJlaGF2aW9yIHdpdGggTWFwVmlld2VyXHJcbiAgICAgICAgLy8gQWZ0ZXIgbWFwIGluaXRlZCwgd2Ugd2lsbCBzZXQgc25hcFRvWm9vbSB0byBmYWxzZSB0byBnZXQgdGhlIGJlc3Qgc3luY2hyb25pemF0aW9uIGJldHdlZW4gdHdvIG1hcCB3aWRnZXRzXHJcblxyXG4gICAgICAgIC8vIFdlIHVzZSBzZXRUaW1lb3V0IGhlcmUgdG8gbWFrZSBzdXJlIHRoZSBhYm92ZSB0aGlzLmdvSG9tZShmYWxzZSkgaXMgZG9uZS5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICh2aWV3IGFzIF9fZXNyaS5NYXBWaWV3KS5jb25zdHJhaW50cy5zbmFwVG9ab29tID0gZmFsc2VcclxuICAgICAgICB9LCAwKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuYmluZE1hcEJhc2VWaWV3RXZlbnQodmlldylcclxuXHJcbiAgICB0aGlzLnRyeVVwZGF0ZUN1cnJlbnRWaWV3QnlDb25maWdQcm9wcygpXHJcbiAgICB0aGlzLmNoZWNrQW5kSGFuZGxlTXV0YWJsZVN0YXRlUHJvcHMoKVxyXG4gIH1cclxuXHJcbiAgcHVibGlzaEV4dGVudENoYW5nZU1lc3NhZ2UgKHZpZXc6IE1hcGJhc2VWaWV3LCBzdGF0aW9uYXJ5OiBib29sZWFuLCBpbnRlcmFjaXZlPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgaWYgKCF2aWV3KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5vd1RpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgaWYgKCF2aWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIHtcclxuICAgICAgdmlldy5maXJzdFB1Ymxpc2hFeHRlbnRDaGFuZ2VUaW1lID0gbm93VGltZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4dGVudCA9IHZpZXcuZXh0ZW50LmNsb25lKClcclxuICAgIGNvbnN0IHZpZXdwb2ludCA9IHZpZXcudmlld3BvaW50LmNsb25lKClcclxuICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZXh0ZW50LCB2aWV3cG9pbnQsIHN0YXRpb25hcnkpXHJcbiAgICBleHRlbnRNZXNzYWdlLnB1Ymxpc2hUaW1lID0gbm93VGltZVxyXG4gICAgZXh0ZW50TWVzc2FnZS5pbnRlcmFjaXZlID0gaW50ZXJhY2l2ZSB8fCB2aWV3LmludGVyYWN0aW5nXHJcbiAgICBjb25zdCBleHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzT2ZWaWV3ID0gdGhpcy5nZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzT2ZWaWV3KHZpZXcpXHJcblxyXG4gICAgZXh0ZW50TWVzc2FnZS5zZXRSZWxhdGVkV2lkZ2V0SWRzKGV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNPZlZpZXcpXHJcbiAgICBleHRlbnRNZXNzYWdlLmFkZFJlbGF0ZWRXaWRnZXRJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZClcclxuICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKVxyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlIChpbml0aWFsTWFwU3RhdGU6IEltbXV0YWJsZU9iamVjdDxJbml0aWFsTWFwU3RhdGU+KTogX19lc3JpLlZpZXdwb2ludCB7XHJcbiAgICBpZiAoaW5pdGlhbE1hcFN0YXRlLnZpZXdUeXBlID09PSAnMmQnKSB7XHJcbiAgICAgIHJldHVybiBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IHRoaXMuRXh0ZW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS5leHRlbnQpLFxyXG4gICAgICAgICAgcm90YXRpb246IGluaXRpYWxNYXBTdGF0ZS5yb3RhdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuVmlld3BvaW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS52aWV3UG9pbnQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIG1ldGhvZCBjcmVhdGUgd2ViIG1hcCBvciB3ZWIgc2NlbmUgYnkgZGF0YSBzb3VyY2UuIFRoaXMgbWV0aG9kIGRvZXNuJ3QgY29uc2lkZXIgZGVmYXVsdCB3ZWIgbWFwIGNhc2UuXHJcbiAgICogQHBhcmFtIGRhdGFTb3VyY2VJbmZvXHJcbiAgICogQHJldHVybnNcclxuICAgKi9cclxuICBhc3luYyBjcmVhdGVXZWJNYXBPcldlYlNjZW5lQnlEYXRhU291cmNlIChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogUHJvbWlzZTxfX2VzcmkuV2ViTWFwIHwgX19lc3JpLldlYlNjZW5lPiB7XHJcbiAgICBsZXQgd2ViTWFwT3JXZWJTY2VuZTogX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSA9IG51bGxcclxuICAgIGNvbnN0IE1hcENsYXNzOiB0eXBlb2YgX19lc3JpLldlYk1hcCB8IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmUgPSBkYXRhU291cmNlSW5mby5pc1dlYk1hcCA/IHRoaXMuV2ViTWFwIDogdGhpcy5XZWJTY2VuZVxyXG5cclxuICAgIGNvbnN0IGRhdGFTb3VyY2VKc29uID0gZGF0YVNvdXJjZUluZm8uZGF0YVNvdXJjZUpzb25cclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZUpzb24ucG9ydGFsVXJsKSB7XHJcbiAgICAgIC8vIGNyZWF0ZSB3ZWIgbWFwIG9yIHdlYiBzY2VuZSBmb3IgcG9ydGFsXHJcbiAgICAgIGNvbnN0IHBvcnRhbCA9IG5ldyB0aGlzLlBvcnRhbCh7XHJcbiAgICAgICAgdXJsOiBwb3J0YWxVcmxVdGlscy5nZXRQbGF0Zm9ybVVybEJ5T3JnVXJsKGRhdGFTb3VyY2VKc29uLnBvcnRhbFVybClcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHdlYk1hcE9yV2ViU2NlbmUgPSBuZXcgTWFwQ2xhc3Moe1xyXG4gICAgICAgIHBvcnRhbEl0ZW06IG5ldyB0aGlzLlBvcnRhbEl0ZW0oe1xyXG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VKc29uLml0ZW1JZCxcclxuICAgICAgICAgIHBvcnRhbDogcG9ydGFsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGNyZWF0ZSB3ZWIgbWFwIG9yIHdlYiBzY2VuZSBmb3IgYXJjZ2lzIG9ubGluZVxyXG4gICAgICB3ZWJNYXBPcldlYlNjZW5lID0gbmV3IE1hcENsYXNzKHtcclxuICAgICAgICBwb3J0YWxJdGVtOiBuZXcgdGhpcy5Qb3J0YWxJdGVtKHtcclxuICAgICAgICAgIGlkOiBkYXRhU291cmNlSnNvbi5pdGVtSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhU291cmNlVXRpbHMuZ2V0V2hldGhlclVzZVByb3h5KCkpIHtcclxuICAgICAgYXdhaXQgd2ViTWFwT3JXZWJTY2VuZS5sb2FkKClcclxuICAgICAgYXdhaXQgd2ViTWFwT3JXZWJTY2VuZS53aGVuKClcclxuICAgICAgY29uc3QgdGFibGVzID0gKHdlYk1hcE9yV2ViU2NlbmUgYXMgYW55KS50YWJsZXMgPyAod2ViTWFwT3JXZWJTY2VuZSBhcyBhbnkpLnRhYmxlcy50b0FycmF5KCkgOiBbXVxyXG4gICAgICB0YWJsZXMuZm9yRWFjaCh0YWJsZSA9PiB7IC8vIHNldCBwcm94eSB1cmwgZm9yIHRhYmxlc1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVVybCA9IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKHRhYmxlKVxyXG5cclxuICAgICAgICBpZiAoIXNvdXJjZVVybCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm94eVVybDogc3RyaW5nID0gZGF0YVNvdXJjZVV0aWxzLmdldERhdGFTb3VyY2VQcm94eVVybChzb3VyY2VVcmwpXHJcblxyXG4gICAgICAgIGlmIChwcm94eVVybCkge1xyXG4gICAgICAgICAgKHRhYmxlIGFzIF9fZXNyaS5MYXllciAmIHsgdXJsOiBzdHJpbmcgfSkudXJsID0gcHJveHlVcmxcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB3ZWJNYXBPcldlYlNjZW5lLmFsbExheWVycy50b0FycmF5KCkuZm9yRWFjaChsYXllciA9PiB7IC8vIHNldCBwcm94eSB1cmwgZm9yIGxheWVyc1xyXG4gICAgICAgIGNvbnN0IHNvdXJjZVVybCA9IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKGxheWVyKVxyXG5cclxuICAgICAgICBpZiAoIXNvdXJjZVVybCkge1xyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwcm94eVVybDogc3RyaW5nID0gZGF0YVNvdXJjZVV0aWxzLmdldERhdGFTb3VyY2VQcm94eVVybChzb3VyY2VVcmwpXHJcblxyXG4gICAgICAgIGlmIChwcm94eVVybCkge1xyXG4gICAgICAgICAgKGxheWVyIGFzIF9fZXNyaS5MYXllciAmIHsgdXJsOiBzdHJpbmcgfSkudXJsID0gcHJveHlVcmxcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHdlYk1hcE9yV2ViU2NlbmVcclxuICB9XHJcblxyXG4gIGdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwID0gKCk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xyXG4gICAgY29uc3QgZGVmYXVsdEV4dGVudCA9IHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8gJiYgdGhpcy5wcm9wcy5kZWZhdWx0TWFwSW5mby5kZWZhdWx0RXh0ZW50XHJcbiAgICBsZXQgdGVtcFZpZXdQb2ludCA9IG51bGxcclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUudmlld1BvaW50KSB7XHJcbiAgICAgIHRlbXBWaWV3UG9pbnQgPSB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVtcFZpZXdQb2ludCA9IG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogbmV3IHRoaXMuRXh0ZW50KHtcclxuICAgICAgICAgICAgeG1pbjogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtaW4sXHJcbiAgICAgICAgICAgIHltaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWluLFxyXG4gICAgICAgICAgICB4bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1heCxcclxuICAgICAgICAgICAgeW1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnltYXgsXHJcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHsgd2tpZDogZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLndraWQgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICAgIHJldHVybiB0ZW1wVmlld1BvaW50XHJcbiAgfVxyXG5cclxuICBnZXREZWZhdWx0V2ViTWFwICgpIHtcclxuICAgIGNvbnN0IGRlZmF1bHRFeHRlbnQgPSB0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvICYmIHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdEV4dGVudFxyXG5cclxuICAgIGNvbnN0IHRlbXBWaWV3UG9pbnQgPSBuZXcgdGhpcy5WaWV3cG9pbnQoXHJcbiAgICAgIHtcclxuICAgICAgICB0YXJnZXRHZW9tZXRyeTogbmV3IHRoaXMuRXh0ZW50KHtcclxuICAgICAgICAgIHhtaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC54bWluLFxyXG4gICAgICAgICAgeW1pbjogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnltaW4sXHJcbiAgICAgICAgICB4bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1heCxcclxuICAgICAgICAgIHltYXg6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWF4LFxyXG4gICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogeyB3a2lkOiBkZWZhdWx0RXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Uud2tpZCB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgKVxyXG5cclxuICAgIGNvbnN0IGRlZmF1bHRXZWJtYXAgPSBuZXcgdGhpcy5XZWJNYXAoe1xyXG4gICAgICBwb3J0YWxJdGVtOiB7XHJcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuZGVmYXVsdE1hcEluZm8uZGVmYXVsdE1hcElkLFxyXG4gICAgICAgIHBvcnRhbDoge1xyXG4gICAgICAgICAgdXJsOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5wb3J0YWxVcmxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGluaXRpYWxWaWV3UHJvcGVydGllczogbmV3IHRoaXMuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzKHtcclxuICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQuc3BhdGlhbFJlZmVyZW5jZSxcclxuICAgICAgICB2aWV3cG9pbnQ6IHRlbXBWaWV3UG9pbnRcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIGRlZmF1bHRXZWJtYXBcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldE1hcFZpZXdPcHRpb25Ub0NyZWF0ZU1hcFZpZXcgKGRhdGFTb3VyY2VJbmZvOiBNYXBiYXNlRGF0YVNvdXJjZUluZm8pOiBQcm9taXNlPF9fZXNyaS5NYXBWaWV3UHJvcGVydGllcz4ge1xyXG4gICAgbGV0IG1hcFZpZXdPcHRpb246IF9fZXNyaS5NYXBWaWV3UHJvcGVydGllc1xyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICBjb25zdCBkZWZhdWx0TWFwID0gdGhpcy5nZXREZWZhdWx0V2ViTWFwKClcclxuICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICBtYXA6IGRlZmF1bHRNYXAsXHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcclxuICAgICAgICB2aWV3cG9pbnQ6IHRoaXMuZ2V0SW5pdFZpZXdQb2ludEZvckRlZmF1bHRXZWJNYXAoKSxcclxuICAgICAgICByb3RhdGlvbjogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHdlYk1hcCA9IGF3YWl0IHRoaXMuY3JlYXRlV2ViTWFwT3JXZWJTY2VuZUJ5RGF0YVNvdXJjZShkYXRhU291cmNlSW5mbylcclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XHJcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcclxuICAgICAgICAgIG1hcDogd2ViTWFwLFxyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXdwb2ludDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJlxyXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtYXBWaWV3T3B0aW9uID0ge1xyXG4gICAgICAgICAgbWFwOiB3ZWJNYXAsXHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMubWFwQ29udGFpbmVyXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBoaWdobGlnaHRDb2xvciA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvciB8fCBERUZBVUxUX0hJR0hMSUdIVF9DT0xPUlxyXG4gICAgICBjb25zdCBoaWdobGlnaHRIYWxvQ29sb3IgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0SGFsb0NvbG9yIHx8IERFRkFVTFRfSElHSExJR0hUX0hBTE9fQ09MT1JcclxuICAgICAgbWFwVmlld09wdGlvbi5oaWdobGlnaHRPcHRpb25zID0ge1xyXG4gICAgICAgIGNvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRDb2xvciksXHJcbiAgICAgICAgaGFsb0NvbG9yOiBuZXcgdGhpcy5Db2xvcihoaWdobGlnaHRIYWxvQ29sb3IpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtYXBWaWV3T3B0aW9uLnBvcHVwID0ge1xyXG4gICAgICBkZWZhdWx0UG9wdXBUZW1wbGF0ZUVuYWJsZWQ6IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBtYXBWaWV3T3B0aW9uLmNvbnN0cmFpbnRzID0ge1xyXG4gICAgICAvLyBzbmFwVG9ab29tOiB0cnVlIG1lYW5zIGludGVnZXIgem9vbSwgZmFsc2UgbWVhbnMgZmxvYXQgem9vbVxyXG4gICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGUgaW5pdGlhbCB2YWx1ZSB0byB0cnVlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFuZCBrZWVwIHRoZSBzYW1lIGJlaGF2aW9yIHdpdGggTWFwVmlld2VyXHJcbiAgICAgIC8vIEFmdGVyIG1hcCBpbml0ZWQsIHdlIHdpbGwgc2V0IHNuYXBUb1pvb20gdG8gZmFsc2UgdG8gZ2V0IHRoZSBiZXN0IHN5bmNocm9uaXphdGlvbiBiZXR3ZWVuIHR3byBtYXAgd2lkZ2V0c1xyXG4gICAgICBzbmFwVG9ab29tOiB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucXVlcnlPYmplY3RbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW50U3RyID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMucXVlcnlPYmplY3RbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdLnN1YnN0cignZXh0ZW50PScubGVuZ3RoKVxyXG4gICAgICAgIGxldCBleHRlbnRcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGV4dGVudCA9IG5ldyB0aGlzLkV4dGVudChKU09OLnBhcnNlKGV4dGVudFN0cikpXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdCYWQgZXh0ZW50IFVSTCBwYXJhbWV0ZXIuJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChleHRlbnQpIHtcclxuICAgICAgICAgIG1hcFZpZXdPcHRpb24uZXh0ZW50ID0gZXh0ZW50XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1hcFZpZXdPcHRpb25cclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFNjZW5lVmlld09wdGlvblRvQ3JlYXRlU2NlbmVWaWV3IChkYXRhU291cmNlSW5mbzogTWFwYmFzZURhdGFTb3VyY2VJbmZvKTogUHJvbWlzZTxfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcz4ge1xyXG4gICAgY29uc3Qgd2ViU2NlbmUgPSBhd2FpdCB0aGlzLmNyZWF0ZVdlYk1hcE9yV2ViU2NlbmVCeURhdGFTb3VyY2UoZGF0YVNvdXJjZUluZm8pXHJcblxyXG4gICAgY29uc3QgbWFwVmlld09wdGlvbjogX19lc3JpLlNjZW5lVmlld1Byb3BlcnRpZXMgPSB7XHJcbiAgICAgIG1hcDogd2ViU2NlbmUsXHJcbiAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIsXHJcbiAgICAgIHBvcHVwOiB7XHJcbiAgICAgICAgZGVmYXVsdFBvcHVwVGVtcGxhdGVFbmFibGVkOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSkge1xyXG4gICAgICBtYXBWaWV3T3B0aW9uLnZpZXdwb2ludCA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUgJiZcclxuICAgICAgICAgIHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGlnaGxpZ2h0Q29sb3IgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IgfHwgREVGQVVMVF9ISUdITElHSFRfQ09MT1JcclxuICAgIGNvbnN0IGhpZ2hsaWdodEhhbG9Db2xvciA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRIYWxvQ29sb3IgfHwgREVGQVVMVF9ISUdITElHSFRfSEFMT19DT0xPUlxyXG4gICAgbWFwVmlld09wdGlvbi5oaWdobGlnaHRPcHRpb25zID0ge1xyXG4gICAgICBjb2xvcjogbmV3IHRoaXMuQ29sb3IoaGlnaGxpZ2h0Q29sb3IpLFxyXG4gICAgICBoYWxvQ29sb3I6IG5ldyB0aGlzLkNvbG9yKGhpZ2hsaWdodEhhbG9Db2xvcilcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzY2VuZVF1YWxpdHlNb2RlID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLnNjZW5lUXVhbGl0eU1vZGVcclxuICAgIGlmIChzY2VuZVF1YWxpdHlNb2RlICYmIHNjZW5lUXVhbGl0eU1vZGUgIT09IFNjZW5lUXVhbGl0eU1vZGUuYXV0bykge1xyXG4gICAgICBtYXBWaWV3T3B0aW9uLnF1YWxpdHlQcm9maWxlID0gc2NlbmVRdWFsaXR5TW9kZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdXNlICdsb3cnIGFzIGRlZmF1bHQgdmFsdWVcclxuICAgICAgbWFwVmlld09wdGlvbi5xdWFsaXR5UHJvZmlsZSA9IFNjZW5lUXVhbGl0eU1vZGUubG93XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1hcFZpZXdPcHRpb25cclxuICB9XHJcblxyXG4gIGJpbmRNYXBCYXNlVmlld0V2ZW50ICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcpIHtcclxuICAgICAgdGhpcy5yZWxlYXNlTWFwYmFzZVZpZXdFdmVudEhhbmRsZXModmlldylcclxuXHJcbiAgICAgIHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMuY2xpY2sgPSB2aWV3Lm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICB0aGlzLnJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzKHZpZXcpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldyAoKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICAgIC8vIERvbid0IG5lZWQgZGF0YSBzb3VyY2UgaWYgdXNlIGRlZmF1bHQgbWFwLlxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwRHMgJiYgdGhpcy5tYXBEcy5pZCA9PT0gdGhpcy5wcm9wcy5kYXRhU291cmNlSWRcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZ2V0SmltdU1hcFZpZXdGb1ZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KTogSmltdU1hcFZpZXcge1xyXG4gICAgY29uc3QgamltdU1hcFZpZXdJZCA9IHZpZXc/LmRhdGFTb3VyY2VJbmZvPy5qaW11TWFwVmlld0lkXHJcblxyXG4gICAgaWYgKGppbXVNYXBWaWV3SWQpIHtcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgcmV0dXJuIGppbXVNYXBWaWV3XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGNyZWF0ZUppbXVNYXBWaWV3ICgpIHtcclxuICAgIGlmICghdGhpcy5pc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldygpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdcclxuXHJcbiAgICAvLyBJZiBkYXRhU291cmNlSWQgaXMgbnVsbCwgbWFrZSBzdXJlIGl0IGNvbnZlcnRzIHRvIGVtcHR5IHN0cmluZy5cclxuICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkIHx8ICcnXHJcblxyXG4gICAgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVKaW11TWFwVmlldyh7XHJcbiAgICAgIG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgZGF0YVNvdXJjZUlkLFxyXG4gICAgICB2aWV3LFxyXG4gICAgICBpc0VuYWJsZVBvcHVwOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcgJiYgIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5kaXNhYmxlUG9wVXAsXHJcbiAgICAgIG1hcFZpZXdNYW5hZ2VyOiBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgICB9KVxyXG5cclxuICAgIHZpZXcud2hlbigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSB2aWV3LmRhdGFTb3VyY2VJbmZvLmppbXVNYXBWaWV3SWRcclxuICAgICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XHJcbiAgICAgICAgaWYgKGppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgIGppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhqaW11TWFwVmlld0lkKVxyXG4gICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZpZXdFeHBlY3RlZCh2aWV3KSkge1xyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMub25KaW11TWFwVmlld0NyZWF0ZWQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhqaW11TWFwVmlld0lkKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGRlc3Ryb3lDdXJyZW50TWFwYmFzZVZpZXcgKCkge1xyXG4gICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICB0aGlzLmRlc3Ryb3lNYXBiYXNlVmlldyh0aGlzLnZpZXcpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm90ZSwgZG9uJ3Qgc2V0IHRoaXMubWFwRHMgdG8gbnVsbCBoZXJlLlxyXG4gICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlOlxyXG4gICAgLy8gV2UgY3JlYXRlIGEgbmV3IE1hcGJhc2UgaW5zdGFuY2UsIG9uRGF0YVNvdXJjZUNyZWF0ZWQgY2FsbGJhY2sgaXMgcXVpY2tseSwgdGhlbiB3ZSBnZXQgdGhpcy5tYXBEcy5cclxuICAgIC8vIFRoZW4gY29tcG9uZW50RGlkTW91bnQgaXMgaW52b2tlZCBmb3Igc29tZSByZWFzb24gKGUuZy4gdGhpcy5pc0Jhc2ljTW9kdWxlc0xvYWRlZCBjaGFuZ2VkIGZyb20gZmFsc2UgdG8gdHJ1ZSksXHJcbiAgICAvLyBhbmQgd2UgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kIHRvIGRlc3Ryb3kgdGhpcy52aWV3LlxyXG4gICAgLy8gU28sIGlmIHdlIHNldCB0aGlzLm1hcERzIHRvIG51bGwsIHdlIHdpbGwgbmV2ZXIgZ2V0IHRoaXMubWFwRHMsXHJcbiAgICAvLyBhbmQgdGhpcy5pc1JlYWR5VG9DcmVhdGVKaW11TWFwVmlldygpIGFsd2F5cyByZXR1cm4gZmFsc2UsIHRoZW4gd2UgY2FuJ3QgY3JlYXRlIGppbXUgbWFwIHZpZXcuXHJcbiAgICB0aGlzLnZpZXcgPSBudWxsXHJcbiAgfVxyXG5cclxuICBkZXN0cm95TWFwYmFzZVZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KSB7XHJcbiAgICBpZiAodmlldykge1xyXG4gICAgICAvLyByZWxlYXNlIGhhbmRsZXNcclxuICAgICAgaWYgKHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZSkge1xyXG4gICAgICAgIHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgIHZpZXcud2F0Y2hJbnRlcmFjdGluZ0hhbmRsZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpZXcuZXh0ZW50V2F0Y2hIYW5kbGUpIHtcclxuICAgICAgICB2aWV3LmV4dGVudFdhdGNoSGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgdmlldy5leHRlbnRXYXRjaEhhbmRsZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpZXcuZmF0YWxFcnJvcldhdGNoSGFuZGxlKSB7XHJcbiAgICAgICAgdmlldy5mYXRhbEVycm9yV2F0Y2hIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICB2aWV3LmZhdGFsRXJyb3JXYXRjaEhhbmRsZSA9IG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHZpZXcuc3RhdGlvbmFyeVRpbWVySWQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodmlldy5zdGF0aW9uYXJ5VGltZXJJZClcclxuICAgICAgICB2aWV3LnN0YXRpb25hcnlUaW1lcklkID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzKHZpZXcpXHJcblxyXG4gICAgICB0aGlzLnJlbGVhc2VNYXBiYXNlVmlld0V2ZW50SGFuZGxlcyh2aWV3KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSB2aWV3LmRhdGFTb3VyY2VJbmZvLmppbXVNYXBWaWV3SWRcclxuXHJcbiAgICBpZiAoamltdU1hcFZpZXdJZCkge1xyXG4gICAgICBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmRlc3Ryb3lKaW11TWFwVmlldyhqaW11TWFwVmlld0lkKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgdmlldy5kZXN0cm95KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbGVhc2VIaWdoTGlnaHRIYW5kbGVzICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcuaGlnaExpZ2h0SGFuZGxlcykge1xyXG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmlldy5oaWdoTGlnaHRIYW5kbGVzKVxyXG5cclxuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xyXG4gICAgICAgIHZpZXcuaGlnaExpZ2h0SGFuZGxlc1trZXldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2aWV3LmhpZ2hMaWdodEhhbmRsZXMgPSB7fVxyXG4gIH1cclxuXHJcbiAgcmVsZWFzZU1hcGJhc2VWaWV3RXZlbnRIYW5kbGVzICh2aWV3OiBNYXBiYXNlVmlldykge1xyXG4gICAgaWYgKHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMpIHtcclxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZpZXcubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMpXHJcblxyXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XHJcbiAgICAgICAgdmlldy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1trZXldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2aWV3Lm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzID0ge31cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIG9uRGF0YVNvdXJjZUNyZWF0ZWQgYW5kIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCB3aWxsIG5vdCBpbnZva2VkIHdoZW4gdGhpcy5wcm9wcy5pc1dlYk1hcCBpcyB0cnVlXHJcbiAgICogQHBhcmFtIGRhdGFTb3VyY2VcclxuICAgKi9cclxuICBvbkRhdGFTb3VyY2VDcmVhdGVkID0gKGRhdGFTb3VyY2U6IE1hcERhdGFTb3VyY2UpOiB2b2lkID0+IHtcclxuICAgIGlmIChkYXRhU291cmNlLmlkID09PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkge1xyXG4gICAgICB0aGlzLm1hcERzID0gZGF0YVNvdXJjZVxyXG5cclxuICAgICAgaWYgKHRoaXMuaXNSZWFkeVRvQ3JlYXRlSmltdU1hcFZpZXcoKSkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlSmltdU1hcFZpZXcoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQgPSAoZXJyKTogdm9pZCA9PiB7XHJcbiAgICBjb25zb2xlLndhcm4oJ29uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCcsIGVycilcclxuICAgIHRoaXMubWFwRHMgPSBudWxsXHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZEVycm9yXHJcbiAgICB9LCAoKSA9PiB7XHJcbiAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZEVycm9yKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldFJlc3RvcmVEYXRhRnJvbU1TICgpOiBNYXBiYXNlUmVzdG9yZURhdGEge1xyXG4gICAgY29uc3QgYmFzaWNLZXkgPSB0aGlzLmdldFJlc3RvcmVEYXRhS2V5KClcclxuICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCAncmVzdG9yZURhdGEnLCBiYXNpY0tleV0pIGFzIE1hcGJhc2VSZXN0b3JlRGF0YVxyXG4gICAgcmV0dXJuIHJlc3RvcmVEYXRhXHJcbiAgfVxyXG5cclxuICB1cGRhdGVSZXN0b3JlRGF0YVRvTVMgKHJlc3RvcmVEYXRhOiBNYXBiYXNlUmVzdG9yZURhdGEpIHtcclxuICAgIGNvbnN0IGJhc2ljS2V5ID0gdGhpcy5nZXRSZXN0b3JlRGF0YUtleSgpXHJcbiAgICBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkudXBkYXRlU3RhdGVWYWx1ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgYHJlc3RvcmVEYXRhLiR7YmFzaWNLZXl9YCwgcmVzdG9yZURhdGEpXHJcbiAgfVxyXG5cclxuICBnZXRSZXN0b3JlRGF0YUtleSAoKSB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YFxyXG4gIH1cclxuXHJcbiAgLy8gVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzeW5jIHZpZXdwb2ludCBiZXR3ZWVuIHR3byBtYXBiYXNlIG9mIHNhbWUgbWFwIHdpZGdldC5cclxuICBzZXRWaWV3UG9pbnQgPSAodmlld1BvaW50OiBfX2VzcmkuVmlld3BvaW50KTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy52aWV3ICYmIHZpZXdQb2ludCkge1xyXG4gICAgICB0aGlzLnZpZXcudmlld3BvaW50ID0gdmlld1BvaW50LmNsb25lKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc3luYyB2aWV3cG9pbnQgYmV0d2VlbiB0d28gbWFwYmFzZSBvZiBzYW1lIG1hcCB3aWRnZXQuXHJcbiAgZ2V0Vmlld1BvaW50ID0gKCk6IF9fZXNyaS5WaWV3cG9pbnQgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmlldyAmJiB0aGlzLnZpZXcudmlld3BvaW50ID8gdGhpcy52aWV3LnZpZXdwb2ludC5jbG9uZSgpIDogbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwTG9hZFN0YXR1cyA9ICgpOiBNYXBMb2FkU3RhdHVzID0+IHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXNcclxuICB9XHJcblxyXG4gIGdldFZpZXdUeXBlID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkudHlwZVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ29Ib21lICh1c2VBbWluYXRpb24/OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHdpZGdldHMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHNcclxuXHJcbiAgICBpZiAodGhpcy52aWV3ICYmIHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XHJcbiAgICAgIGNvbnN0IGluaXRWaWV3UG9pbnQgPSB0aGlzLmdldE1hcEJhc2VJbml0Vmlld1BvaW50KClcclxuXHJcbiAgICAgIGlmIChpbml0Vmlld1BvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nb1RvKGluaXRWaWV3UG9pbnQsIHtcclxuICAgICAgICAgIGFuaW1hdGU6IHVzZUFtaW5hdGlvblxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1hcEJhc2VJbml0Vmlld1BvaW50ICgpOiBfX2VzcmkuVmlld3BvaW50IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRJbml0Vmlld1BvaW50Rm9yRGVmYXVsdFdlYk1hcCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IG1hcCA9IHRoaXMudmlldy5tYXAgYXMgX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZVxyXG4gICAgICAgICAgcmV0dXJuIG1hcD8uaW5pdGlhbFZpZXdQcm9wZXJ0aWVzPy52aWV3cG9pbnQ/LmNsb25lKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvcm1hdE1lc3NhZ2UgKGlkOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbaWRdIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVEaXNhYmxlV2hlZWwgKCkge1xyXG4gICAgdGhpcy53aWRnZXRDb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJ1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0bydcclxuICAgIH0sIDUwKVxyXG4gIH1cclxuXHJcbiAgZ2V0TWFwU3dpdGNoRm9yRXJyb3JNYXAgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCB9KSA9PiAoXHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nbWFwc3dpdGNoLWNvbnRhaW5lcicgc3R5bGU9e3tcclxuICAgICAgICAgICAgICBkaXNwbGF5OiBpc1Nob3dNYXBTd2l0Y2hCdG4gPyAnYmxvY2snIDogJ25vbmUnLFxyXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogdGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnID8gMTAgOiAwXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgb25DbGljaz17KGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzd2l0Y2hNYXAoKSB9fSBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIGVzcmktd2lkZ2V0LS1idXR0b24nPlxyXG4gICAgICAgICAgICAgIDxJY29uIGljb249e0V4Y2hhbmdlfSB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nbWFwc3dpdGNoLWljb24nIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBxdWVyeUV4dGVudEZyb21TaW5nbGVMYXllclF1ZXJ5UGFyYW1zID0gKGRhdGFTb3VyY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2VcclxuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgIGxldCBsYXllck9iamVjdFByb21pc2VcclxuXHJcbiAgICBpZiAoZGF0YVNvdXJjZT8ubGF5ZXIpIHtcclxuICAgICAgbGF5ZXJPYmplY3RQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGRhdGFTb3VyY2UubGF5ZXIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsYXllck9iamVjdFByb21pc2UgPSBkYXRhU291cmNlLmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKS50aGVuKChsYXllck9iamVjdCkgPT4gUHJvbWlzZS5yZXNvbHZlKGxheWVyT2JqZWN0KSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeScsXHJcbiAgICAgICdlc3JpL0dyYXBoaWMnLFxyXG4gICAgICAnZXNyaS9nZW9tZXRyeS9Qb2ludCdcclxuICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgIGNvbnN0IFtRdWVyeSwgR3JhcGhpYywgUG9pbnRdID0gbW9kdWxlc1xyXG4gICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpXHJcbiAgICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlQYXJhbXM/LndoZXJlXHJcblxyXG4gICAgICByZXR1cm4gbGF5ZXJPYmplY3RQcm9taXNlLnRoZW4obGF5ZXJPYmplY3QgPT4ge1xyXG4gICAgICAgIHJldHVybiBsYXllck9iamVjdC5xdWVyeUV4dGVudChxdWVyeSkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZXh0ZW50Q2VudGVyID0gcmVzdWx0Py5leHRlbnQ/LmNlbnRlclxyXG4gICAgICAgICAgY29uc3QgZXh0ZW50ID0gcmVzdWx0Py5leHRlbnRcclxuICAgICAgICAgIGxldCBzaW5nbGVQb2ludEdyYXBoaWNcclxuICAgICAgICAgIGlmIChyZXN1bHQ/LmNvdW50ID09PSAxICYmIChsYXllck9iamVjdC5nZW9tZXRyeVR5cGUgPT09ICdwb2ludCcpICYmIGV4dGVudENlbnRlcikge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludCh7XHJcbiAgICAgICAgICAgICAgeDogZXh0ZW50Q2VudGVyLngsXHJcbiAgICAgICAgICAgICAgeTogZXh0ZW50Q2VudGVyLnksXHJcbiAgICAgICAgICAgICAgc3BhdGlhbFJlZmVyZW5jZTogZXh0ZW50LnNwYXRpYWxSZWZlcmVuY2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHNpbmdsZVBvaW50R3JhcGhpYyA9IG5ldyBHcmFwaGljKHsgZ2VvbWV0cnk6IHBvaW50IH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBleHRlbnQ6IGV4dGVudCxcclxuICAgICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBzaW5nbGVQb2ludEdyYXBoaWMsXHJcbiAgICAgICAgICAgIGNvdW50OiByZXN1bHQ/LmNvdW50LFxyXG4gICAgICAgICAgICBsYXllcjogbGF5ZXJPYmplY3RcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHF1ZXJ5RXh0ZW50RnJvbVF1ZXJ5UGFyYW1zID0gKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGRhdGFTb3VyY2VJZHM6IHN0cmluZ1tdLCB1c2VEYXRhU291cmNlczogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT4pID0+IHtcclxuICAgIC8vY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UoZGF0YVNvdXJjZUlkKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAvL2NvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgIGNvbnN0IHVzZURlZmF1bHRFeHRlbnRPZkN1cnJlbnRWaWV3ID0gIXVzZURhdGFTb3VyY2VzLnNvbWUodXNlRGF0YVNvdXJjZSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2UgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKHVzZURhdGFTb3VyY2UuZGF0YVNvdXJjZUlkKSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zOiBTcWxRdWVyeVBhcmFtcyA9IGRhdGFTb3VyY2UuZ2V0UnVudGltZVF1ZXJ5UGFyYW1zKClcclxuICAgICAgLy8gdXNlIGRlZmF1bHQgZXh0ZW50IGlmIGFsbCBtZXJnZWQgU1FMcyBvbiBkYXRhIHNvdXJjZSBpcyByZW12b3ZlZC5cclxuICAgICAgY29uc3QgaGFzUXVlcnlXaGVyZSA9IHF1ZXJ5UGFyYW1zPy53aGVyZSAmJiBxdWVyeVBhcmFtcy53aGVyZSAhPT0gJzE9MSdcclxuXHJcbiAgICAgIGlmIChoYXNRdWVyeVdoZXJlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAodXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXcpIHtcclxuICAgICAgY29uc3QgaW5pdFZpZXdQb2ludCA9IHRoaXMuZ2V0TWFwQmFzZUluaXRWaWV3UG9pbnQoKVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcclxuICAgICAgICB2aWV3cG9pbnQ6IGluaXRWaWV3UG9pbnQsXHJcbiAgICAgICAgdXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXc6IHRydWUsXHJcbiAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBudWxsLFxyXG4gICAgICAgIGNvdW50OiAyLFxyXG4gICAgICAgIGxheWVyOiBudWxsXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXh0ZW50UmVzdWx0UHJvbWlzZXMgPSBbXVxyXG4gICAgZGF0YVNvdXJjZUlkcy5mb3JFYWNoKGRhdGFTb3VyY2VJZCA9PiB7XHJcbiAgICAgIGV4dGVudFJlc3VsdFByb21pc2VzLnB1c2godGhpcy5xdWVyeUV4dGVudEZyb21TaW5nbGVMYXllclF1ZXJ5UGFyYW1zKGRhdGFTb3VyY2VJZCkpXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChleHRlbnRSZXN1bHRQcm9taXNlcykudGhlbihyZXN1bHRzID0+IHtcclxuICAgICAgbGV0IGZ1bGxFeHRlbnQgPSBudWxsXHJcbiAgICAgIGxldCBjb3VudCA9IDBcclxuICAgICAgaWYgKHJlc3VsdHM/Lmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiByZXN1bHRzWzBdXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzdWx0LmV4dGVudCkge1xyXG4gICAgICAgICAgICBmdWxsRXh0ZW50ID0gZnVsbEV4dGVudCA/IGZ1bGxFeHRlbnQudW5pb24ocmVzdWx0LmV4dGVudCkgOiByZXN1bHQuZXh0ZW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb3VudCA9IGNvdW50ICsgcmVzdWx0LmNvdW50XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZXh0ZW50OiBmdWxsRXh0ZW50LFxyXG4gICAgICAgICAgc2luZ2xlUG9pbnRHcmFwaGljOiBudWxsLFxyXG4gICAgICAgICAgY291bnQ6IGNvdW50LFxyXG4gICAgICAgICAgbGF5ZXI6IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBoYW5kbGUgbWVzc2FnZS9hY3Rpb24uXHJcbiAgICovXHJcbiAgaGFuZGxlQWN0aW9uIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcsIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldykge1xyXG4gICAgaWYgKCFtYXBCYXNlVmlldyB8fCBtYXBCYXNlVmlldy5kZXN0cm95ZWQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY29uc3VtZSBtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yWm9vbVRvRmVhdHVyZUFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yUGFuVG9BY3Rpb25WYWx1ZShtdXRhYmxlU3RhdGVQcm9wcywgbWFwQmFzZVZpZXcpXHJcblxyXG4gICAgLy8gY29uc3VtZSBtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yTmV3RmVhdHVyZVNldEFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yQ2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZShtdXRhYmxlU3RhdGVQcm9wcywgbWFwQmFzZVZpZXcpXHJcblxyXG4gICAgLy8gY29uc3VtZSBtdXRhYmxlU3RhdGVQcm9wcy5zZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWVcclxuICAgIHRoaXMuaGFuZGxlQWN0aW9uRm9yU2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlKG11dGFibGVTdGF0ZVByb3BzLCBtYXBCYXNlVmlldylcclxuXHJcbiAgICAvLyBjb25zdW1lIGZsYXNoQWN0aW9uVmFsdWUgYW5kIGZpbHRlckFjdGlvblZhbHVlXHJcbiAgICB0aGlzLmhhbmRsZUFjdGlvbkZvckZsYXNoQWN0aW9uVmFsdWVBbmRGaWx0ZXJBY3Rpb25WYWx1ZShtdXRhYmxlU3RhdGVQcm9wcywgbWFwQmFzZVZpZXcpXHJcblxyXG4gICAgLy8gaGFuZGxlIHNob3cgZGF0YSBvbiBtYXAgYWN0aW9uXHJcbiAgICB0aGlzLmhhbmRsZUFjdGlvbkZvclNob3dPbk1hcERhdGFzKG11dGFibGVTdGF0ZVByb3BzLCBqaW11TWFwVmlldylcclxuXHJcbiAgICAvLyBoYW5kbGUgYWRkIGRhdGEgdG8gbWFwIGFjdGlvblxyXG4gICAgdGhpcy5oYW5kbGVBY3Rpb25Gb3JBZGRUb01hcERhdGFzKG11dGFibGVTdGF0ZVByb3BzLCBqaW11TWFwVmlldylcclxuICB9XHJcblxyXG4gIGdldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNPZlZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3KTogc3RyaW5nW10ge1xyXG4gICAgbGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRJZHMgPSB2aWV3LmV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHMgfHwgW11cclxuICAgICAgLy8gV2UgbmVlZCB0byBjbG9uZSB0aGUgcmVsYXRlZFdpZGdldElkcy5cclxuICAgICAgcmVzdWx0ID0gcmVsYXRlZFdpZGdldElkcy5zbGljZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgc2V0RXh0ZW50Q2hhbmdlUmVsYXRlZFdpZGdldElkc0ZvclZpZXcgKHZpZXc6IE1hcGJhc2VWaWV3LCBfcmVsYXRlZFdpZGdldElkczogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IHJlbGF0ZWRXaWRnZXRJZHMgPSBfcmVsYXRlZFdpZGdldElkcyB8fCBbXVxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGNsb25lIHRoZSByZWxhdGVkV2lkZ2V0SWRzLlxyXG4gICAgICB2aWV3LmV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHMgPSByZWxhdGVkV2lkZ2V0SWRzLnNsaWNlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRyeUZhdGFsRXJyb3JSZWNvdmVyeSAodmlldzogTWFwYmFzZVZpZXcpIHtcclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIHZpZXcudHJ5RmF0YWxFcnJvclJlY292ZXJ5KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvclpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAoIW11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlaXZlTWVzc2FnZVRpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgY29uc3Qgem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlXHJcblxyXG4gICAgY29uc3QgcmVsYXRlZFdpZGdldElkczogc3RyaW5nW10gPSBtdXRhYmxlU3RhdGVQcm9wcy56b29tVG9GZWF0dXJlQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHMgfHwgW11cclxuXHJcbiAgICBpZiAocmVsYXRlZFdpZGdldElkcyAmJiByZWxhdGVkV2lkZ2V0SWRzLmluY2x1ZGVzKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSkge1xyXG4gICAgICAvLyBhdm9pZCBlbmRsZXNzIGxvb3BcclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3pvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZSA9IHpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS52YWx1ZVxyXG5cclxuICAgICAgaWYgKHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnR5cGUgPT09ICd6b29tLXRvLWV4dGVudCcpIHtcclxuICAgICAgICAvLyBab29tVG9FeHRlbnRJbnRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgIGNvbnN0IG5vd1RpbWUgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgICAgIG1hcEJhc2VWaWV3Lmxhc3Rab29tVG9FeHRlbnRUaW1lID0gbm93VGltZVxyXG5cclxuICAgICAgICAvLyBtYXAgd2lkZ2V0MSBleHRlbnQgY2hhZ25lcyBhbmQgbWFwIHdpZGdldDIgbmVlZHMgdG8gc3luYyB0aGUgZXh0ZW50IGJ5IG1lc3NhZ2UgYWN0aW9uLlxyXG4gICAgICAgIC8vIEZpbmFsbHksIGl0IGNhbGxzIHZpZXcuZ29UbyhleHRlbnQpXHJcblxyXG4gICAgICAgIC8vIENvbnNpZGVyIHRoaXMgY2FzZTpcclxuICAgICAgICAvLyBPbiBhcHAgbG9hZDpcclxuICAgICAgICAvLyAxLiBCb3RoIG1hcCB3aWRnZXQxIGFuZCBtYXAgd2lkZ2V0MiBzZXQgem9vbS10byBhY3Rpb24gZm9yIGVhY2ggb3RoZXIuXHJcbiAgICAgICAgLy8gMi4gVGhlIGluaXRpYWwgZXh0ZW50IG9mIG1hcCB3aWRnZXQxIGlzIGV4dGVudDEgYW5kIHRoZSBpbml0aWFsIGV4dGVudCBvZiBtYXAgd2lkZ2V0MiBpcyBleHRlbnQyLlxyXG4gICAgICAgIC8vIDMuIG1hcCB3aWRnZXQxIGZpcnN0IHB1Ymxpc2ggZXh0ZW50LWNoYW5nZSBtZXNzYWdlIGFmdGVyIHRoZSB2aWV3IGlzIHJlYWR5LlxyXG4gICAgICAgIC8vIDQuIFRoZW4gbWFwIHdpZGdldDIgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UuXHJcbiAgICAgICAgLy8gNS4gVGhlbiBtYXAgd2lkZ2V0MiByZWNlaXZlIG1lc3NhZ2UgZnJvbSBtYXAgd2lkZ2V0MSBhbmQgY2FsbCBoYW5kbGVBY3Rpb24uXHJcbiAgICAgICAgLy8gNi4gVGhlbiBtYXAgd2lkZ2V0MSByZWNlaXZlIG1lc3NhZ2UgZnJvbSBtYXAgd2lkZ2V0MiBhbmQgY2FsbCBoYW5kbGVBY3Rpb24uXHJcbiAgICAgICAgLy8gQXQgbGFzdCwgdGhlIGV4dGVudCBvZiBtYXAgd2lkZ2V0MSBpcyBleHRlbnQyIGFuZCB0aGUgZXh0ZW50IG9mIG1hcCB3aWRnZXQyIGlzIGV4dGVudDEuIFRoaXMgaXMgbm90IHRoZSBleHBlY3RlZCByZXN1bHQuXHJcbiAgICAgICAgLy8gVG8gYXZvaWQgdGhlIGFib3ZlIGNhc2UsIHdlIG5lZWQgdG8gc3RvcCB0aGUgc3RlcDYgYmVjYXVzZSBtYXAgd2lkZ2V0MSBmaXJzdCBwdWJsaXNoIG1lc3NhZ2UuXHJcbiAgICAgICAgbGV0IGlzQWJvdmVDYXNlID0gZmFsc2VcclxuXHJcbiAgICAgICAgaWYgKG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIHtcclxuICAgICAgICAgIGlmICgobm93VGltZSAtIG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIDw9IDIwMDApIHtcclxuICAgICAgICAgICAgaWYgKG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUgPD0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUucHVibGlzaFRpbWUpIHtcclxuICAgICAgICAgICAgICBpZiAoIXpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmludGVyYWNpdmUpIHtcclxuICAgICAgICAgICAgICAgIC8vICMxNDM5MSwgaWYgZXh0ZW50TWVzc2FnZS5pbnRlcmFjaXZlIGlzIHRydWUsIG1lYW5zIHRoZSBleHRlbnQgY29tZXMgZnJvbSBhIGludGVyYWN0aXZpbmcgbWFwIGFuZCBuZWVkcyB0byBzeW5jIHZpZXdwb2ludCB3aXRoIHRoZSBpbnRlcmFjdGl2aW5nIG1hcFxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVHdvV2lkZ2V0c011dHVhbGx5RXh0ZW50Q2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5wdWJsaXNoV2lkZ2V0SWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlzQWJvdmVDYXNlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgbWFwQmFzZVZpZXcgaXMgdGhlIGxhc3QgaW50ZXJhY3RpdmUgdmlldywgaXQgbWVhbnMgbWFwQmFzZVZpZXcgaXMgdGhlIGV4dGVudC1jaGFuZ2Ugc291cmNlLCB3ZSBzaG91bGQgaWdub3JlIHRoZSB6b29tLXRvLWV4dGVudCBtZXNzYWdlLlxyXG4gICAgICAgIGlmICghaXNBYm92ZUNhc2UgJiYgbWFwQmFzZVZpZXcgIT09IE1hcEJhc2UubGFzdEludGVyYWNpdmVWaWV3KSB7XHJcbiAgICAgICAgICBjb25zdCB2aWV3cG9pbnQgPSB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS52aWV3cG9pbnRcclxuICAgICAgICAgIGNvbnN0IGV4dGVudCA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmV4dGVudFxyXG4gICAgICAgICAgY29uc3Qgc3RhdGlvbmFyeSA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnN0YXRpb25hcnlcclxuXHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG5cclxuICAgICAgICAgIGNvbnN0IHZpZXdTUiA9IG1hcEJhc2VWaWV3LnNwYXRpYWxSZWZlcmVuY2VcclxuXHJcbiAgICAgICAgICAvLyB2aWV3cG9pbnQgaGFzIGhpZ2ggcHJpb3JpdHkgdGhhbiBleGVudCwgYmVjYXVzZSBpdCBjb250YWlucyBtb3JlIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICBpZiAodmlld3BvaW50KSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3IGJ5IHZpZXdwb2ludFxyXG4gICAgICAgICAgICBpZiAoaXNOZWVkUHJvamVjdFZpZXdwb2ludCh2aWV3cG9pbnQsIHZpZXdTUikpIHtcclxuICAgICAgICAgICAgICBpZiAoc3RhdGlvbmFyeSkge1xyXG4gICAgICAgICAgICAgICAgLy8gb25seSBwcm9qZWN0IHRoZSB2aWV3cG9pbnQgd2hlbiBtYXAgaXMgc3RhdGljXHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0Vmlld3BvaW50KHZpZXdwb2ludCwgdmlld1NSKS50aGVuKChwcm9qZWN0ZWRWaWV3cG9pbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXIgdGhpcyBjYXNlKCMxNjQyMyk6XHJcbiAgICAgICAgICAgICAgICAgIC8vIDEuIGhhbmRsZUFjdGlvbkZvclpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSByZWNlaXZlIG1lc3NhZ2UgYXQgdGltZTEsIHRoZSBtZXNzYWdlIHZpZXdwb2ludCBpcyB2aWV3cG9pbnQxXHJcbiAgICAgICAgICAgICAgICAgIC8vIDIuIHRoZSB2aWV3cG9pbnQgbmVlZHMgdG8gYmUgcHJvamVjdCwgdGhlbiBzZW5kIGh0dHAgcmVxdWVzdCB0byBwcm9qZWN0IHRoZSB2aWV3cG9pbnQxLCB0aGlzIGFzeW5jIHN0ZXAgbWF5YmUgdGFrZSBsb25nIHRpbWVcclxuICAgICAgICAgICAgICAgICAgLy8gMy4gdGhlbiBKaW11TWFwVmlldyBuZWVkcyB0byB1cGRhdGUgdmlld3BvaW50IHRvIHZpZXdwb2ludDIgYnkgdXJsIGRhdGFfaWQgKHN5bmMgc3RlcCkgaW4gSmltdU1hcFZpZXcubW92ZUZlYXR1cmVUb0NlbnRlcigpIGF0IHRpbWUyXHJcbiAgICAgICAgICAgICAgICAgIC8vIDQuIHRoZW4gdGhlIGFzeW5jIHN0ZXAyIGlzIGRvbmUgYXQgdGltZTMsIGFuZCB1ZHBhdGUgdmlld3BvaW50IGJ5IHRoZSBwcm9qZWN0ZWQgdmlld3BvaW50MSwgZmluYWxseSB0aGUgdmlld3BvaW50IGlzIHRoZSBwcm9qZWN0ZWQgdmlld3BvaW50MVxyXG4gICAgICAgICAgICAgICAgICAvLyBUaGUgc3RlcDQgaXMgd3JvbmcsIGJlY2F1c2Ugdmlld3BvaW50MiBvZiBzdGVwMyBpcyB0aGUgbmV3IG9uZSwgYW5kIHRoZSBwcm9qZWN0ZWQgdmlld3BvaW50MSBpcyBzdGFsZS5cclxuICAgICAgICAgICAgICAgICAgLy8gVG8gYXZvaWQgdGhpcyBjYXNlLCB3ZSBzaG91bGQgY2hlY2sgcHJvamVjdGVkVmlld3BvaW50IGlzIGZyZXNoIG9yIHN0YWxlLlxyXG5cclxuICAgICAgICAgICAgICAgICAgY29uc3QgaXNQcm9qZWN0ZWRWaWV3cG9pbnRTdGFsZSA9IG1hcEJhc2VWaWV3LnJlY2VpdmVNZXNzYWdlVGltZU9mTGFzdFZpZXdVcGRhdGUgJiYgbWFwQmFzZVZpZXcucmVjZWl2ZU1lc3NhZ2VUaW1lT2ZMYXN0Vmlld1VwZGF0ZSA+IHJlY2VpdmVNZXNzYWdlVGltZVxyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2plY3RlZFZpZXdwb2ludFN0YWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQmFzZVZpZXcudmlld3BvaW50ID0gcHJvamVjdGVkVmlld3BvaW50XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIG1hcEJhc2VWaWV3LnZpZXdwb2ludCA9IHZpZXdwb2ludFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIHJlbW92ZSB0aGUgZm9sbG93aW5nIGV4dGVudCBsb2dpY1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdmlldyBieSBleHRlbnRcclxuICAgICAgICAgICAgaWYgKGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKGV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLCB2aWV3U1IpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXRpb25hcnkpIHtcclxuICAgICAgICAgICAgICAgIC8vIG9ubHkgcHJvamVjdCB0aGUgZXh0ZW50IHdoZW4gbWFwIGlzIHN0YXRpY1xyXG4gICAgICAgICAgICAgICAgcHJvamVjdEdlb21ldHJpZXMoW2V4dGVudF0sIHZpZXdTUikudGhlbigocHJvamVjdGVkR2VvbWV0cmllcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRFeHRlbnQgPSBwcm9qZWN0ZWRHZW9tZXRyaWVzWzBdXHJcbiAgICAgICAgICAgICAgICAgIG1hcEJhc2VWaWV3LmdvVG8ocHJvamVjdGVkRXh0ZW50KVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbWFwQmFzZVZpZXcuZ29UbyhleHRlbnQsIHsgYW5pbWF0ZTogZmFsc2UgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS50eXBlID09PSAnem9vbS10by1xdWVyeS1wYXJhbXMnKSB7XHJcbiAgICAgICAgLy8gWm9vbVRvUXVlcnlQYXJhbXNJbnRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgIHRoaXMucXVlcnlFeHRlbnRGcm9tUXVlcnlQYXJhbXMobWFwQmFzZVZpZXcsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmRhdGFTb3VyY2VJZHMsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnVzZURhdGFTb3VyY2VzKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgIGxldCB0YXJnZXRcclxuICAgICAgICAgIGlmIChyZXN1bHQuY291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5jb3VudCA9PT0gMSAmJiByZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpYykge1xyXG4gICAgICAgICAgICB0YXJnZXQgPSB7XHJcbiAgICAgICAgICAgICAgZ3JhcGhpY3M6IFtyZXN1bHQ/LnNpbmdsZVBvaW50R3JhcGhpY10sXHJcbiAgICAgICAgICAgICAgbGF5ZXI6IHJlc3VsdD8ubGF5ZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gcmVzdWx0Py5leHRlbnRcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG5cclxuICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgJ3pvb21Ub1V0aWxzJyBkb2VzIG5vdCBzdXBwb3J0ICd2aWV3cG9pbnQnLCB0ZW1wb3JhcnkgY29kZSBmb3IgdXNpbmcgZGVmYXVsdCB2aWV3cG9pbnQgb2Ygc2NlbmVWaWV3LlxyXG4gICAgICAgICAgaWYgKHJlc3VsdC51c2VEZWZhdWx0RXh0ZW50T2ZDdXJyZW50Vmlldykge1xyXG4gICAgICAgICAgICBtYXBCYXNlVmlldy5nb1RvKHJlc3VsdC52aWV3cG9pbnQpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8obWFwQmFzZVZpZXcsIHRhcmdldCwgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSBpZiAoem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tYXJyYXktZ3JhcGhpY3MnKSB7XHJcbiAgICAgICAgLy8gWm9vbVRvQXJyYXlHcmFwaGljc0ludGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyhtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuXHJcbiAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKG1hcEJhc2VWaWV3LCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5hcnJheUZlYXR1cmVzLCB6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS56b29tVG9PcHRpb24pXHJcbiAgICAgIH0gZWxzZSBpZiAoem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tbGF5ZXJzJykge1xyXG4gICAgICAgIC8vIFpvb21Ub0xheWVyc0ludGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YVNvdXJjZUlkcyA9IHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLmRhdGFTb3VyY2VJZHNcclxuICAgICAgICBnZXRMYXllcnNGcm9tRGF0YVNvdXJjZUlkcyhkYXRhU291cmNlSWRzKS50aGVuKGxheWVycyA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKG1hcEJhc2VWaWV3LCBsYXllcnMsIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbilcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHpvb20tdG8tZ3JhcGhpY3NcclxuICAgICAgICBjb25zdCBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZSh6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS5kYXRhU291cmNlSWQpIGFzIHVua25vd24gYXMgSlNBUElMYXllck1peGluICYgRmVhdHVyZUxheWVyRGF0YVNvdXJjZVxyXG4gICAgICAgIGxldCBsYXllclByb21pc2VcclxuXHJcbiAgICAgICAgaWYgKGRhdGFTb3VyY2U/LmxheWVyKSB7XHJcbiAgICAgICAgICBsYXllclByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZGF0YVNvdXJjZS5sYXllcilcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2U/LmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UpIHtcclxuICAgICAgICAgIGxheWVyUHJvbWlzZSA9IGRhdGFTb3VyY2UuY3JlYXRlSlNBUElMYXllckJ5RGF0YVNvdXJjZSgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGF5ZXJQcm9taXNlLnRoZW4obGF5ZXIgPT4ge1xyXG4gICAgICAgICAgbGV0IHRhcmdldCA9IG51bGxcclxuXHJcbiAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0ge1xyXG4gICAgICAgICAgICAgIGxheWVyOiBsYXllcixcclxuICAgICAgICAgICAgICBncmFwaGljczogem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuZmVhdHVyZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuZmVhdHVyZXNcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBwcm9jZXNzWm9vbVRvRmVhdHVyZXMobWFwQmFzZVZpZXcsIHRhcmdldC5sYXllciwgKHRhcmdldCAmJiB0YXJnZXQuZ3JhcGhpY3MpID8gdGFyZ2V0LmdyYXBoaWNzIDogdGFyZ2V0KS50aGVuKFxyXG4gICAgICAgICAgICBncmFwaGljcyA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuZ3JhcGhpY3MgPSBncmFwaGljc1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBncmFwaGljc1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKCF6b29tVG9GZWF0dXJlSW50ZXJuYWxWYWx1ZS56b29tVG9PcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbiA9IHt9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgICAgICAgICAgIHpvb21Ub0ZlYXR1cmVJbnRlcm5hbFZhbHVlLnpvb21Ub09wdGlvbi5xdWVyeVBhcmFtcyA9IChkYXRhU291cmNlPy5nZXRDdXJyZW50UXVlcnlQYXJhbXMgJiYgZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKSkgfHwgJydcclxuICAgICAgICAgICAgICB6b29tVG9VdGlscy56b29tVG8obWFwQmFzZVZpZXcsIHRhcmdldCwgem9vbVRvRmVhdHVyZUludGVybmFsVmFsdWUuem9vbVRvT3B0aW9uKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3pvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3Rpb25Gb3JQYW5Ub0FjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGlmICghbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWxhdGVkV2lkZ2V0SWRzOiBzdHJpbmdbXSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUucmVsYXRlZFdpZGdldHMgfHwgW11cclxuICAgIGNvbnN0IHBhblRvVHlwZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWU/LnR5cGVcclxuXHJcbiAgICBpZiAocmVsYXRlZFdpZGdldElkcyAmJiByZWxhdGVkV2lkZ2V0SWRzLmluY2x1ZGVzKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSkge1xyXG4gICAgICAvLyBhdm9pZCBlbmRsZXNzIGxvb3BcclxuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3BhblRvQWN0aW9uVmFsdWUnLCBudWxsKVxyXG4gICAgfSBlbHNlIGlmIChwYW5Ub1R5cGUgPT09ICdwYW4tdG8tcXVlcnktcGFyYW1zJykge1xyXG4gICAgICBjb25zdCBwYW5Ub1ZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZVxyXG4gICAgICB0aGlzLnF1ZXJ5RXh0ZW50RnJvbVF1ZXJ5UGFyYW1zKG1hcEJhc2VWaWV3LCBwYW5Ub1ZhbHVlLmRhdGFTb3VyY2VJZHMsIHBhblRvVmFsdWUudXNlRGF0YVNvdXJjZXMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgJ3BhblRvR2VvbWV0cnknIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0ICd2aWV3cG9pbnQnLCB0ZW1wb3JhcnkgY29kZSBmb3IgdXNpbmcgZGVmYXVsdCB2aWV3cG9pbnQgb2Ygc2NlbmVWaWV3LlxyXG4gICAgICAgIGlmIChyZXN1bHQudXNlRGVmYXVsdEV4dGVudE9mQ3VycmVudFZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldEdlb21ldHJ5ID0gcmVzdWx0Py52aWV3cG9pbnQ/LmNhbWVyYT8ucG9zaXRpb24gfHwgcmVzdWx0Py52aWV3cG9pbnQ/LnRhcmdldEdlb21ldHJ5XHJcbiAgICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkoW3RhcmdldEdlb21ldHJ5XSwgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShbcmVzdWx0Py5leHRlbnRdLCBtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHBhblRvVHlwZSA9PT0gJ3Bhbi10by1sYXllcicpIHtcclxuICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWVcclxuICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UocGFuVG9WYWx1ZS5kYXRhU291cmNlSWQpIGFzIHVua25vd24gYXMgSlNBUElMYXllck1peGluXHJcbiAgICAgIGxldCBsYXllclByb21pc2VcclxuXHJcbiAgICAgIGlmIChkYXRhU291cmNlPy5sYXllcikge1xyXG4gICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShkYXRhU291cmNlLmxheWVyKVxyXG4gICAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2U/LmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UpIHtcclxuICAgICAgICBsYXllclByb21pc2UgPSBkYXRhU291cmNlLmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsYXllclByb21pc2UudGhlbihsYXllciA9PiB7XHJcbiAgICAgICAgem9vbVRvVXRpbHMubGF5ZXJFeHRlbnQobWFwQmFzZVZpZXcsIGxheWVyKS50aGVuKGxheWVyRXh0ZW50ID0+IHtcclxuICAgICAgICAgIGlmIChsYXllckV4dGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhblRvR2VvbWV0cnkoW2xheWVyRXh0ZW50XSwgbWFwQmFzZVZpZXcsIFtdKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2UgaWYgKHBhblRvVHlwZSA9PT0gJ3Bhbi10by1sYXllcnMnKSB7XHJcbiAgICAgIGNvbnN0IHBhblRvVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlXHJcbiAgICAgIGNvbnN0IGRhdGFTb3VyY2VJZHMgPSBwYW5Ub1ZhbHVlLmRhdGFTb3VyY2VJZHNcclxuICAgICAgZ2V0TGF5ZXJzRnJvbURhdGFTb3VyY2VJZHMoZGF0YVNvdXJjZUlkcykudGhlbihsYXllcnMgPT4ge1xyXG4gICAgICAgIGNvbnN0IGV4dGVudFByb21pc2VzID0gW11cclxuICAgICAgICBsYXllcnMuZm9yRWFjaChsYXllciA9PiB7XHJcbiAgICAgICAgICBpZiAobGF5ZXIpIHtcclxuICAgICAgICAgICAgZXh0ZW50UHJvbWlzZXMucHVzaCh6b29tVG9VdGlscy5sYXllckV4dGVudChtYXBCYXNlVmlldywgbGF5ZXIpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxldCBmdWxsRXh0ZW50ID0gbnVsbFxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChleHRlbnRQcm9taXNlcykudGhlbihleHRlbnRzID0+IHtcclxuICAgICAgICAgIGV4dGVudHMuZm9yRWFjaChleHRlbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXh0ZW50KSB7XHJcbiAgICAgICAgICAgICAgZnVsbEV4dGVudCA9IGZ1bGxFeHRlbnQgPyBmdWxsRXh0ZW50LnVuaW9uKGV4dGVudCkgOiBleHRlbnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIGlmIChmdWxsRXh0ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFuVG9HZW9tZXRyeShbZnVsbEV4dGVudF0sIG1hcEJhc2VWaWV3LCBbXSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChwYW5Ub1R5cGUgPT09ICdwYW4tdG8tZ2VvbWV0cmllcycpIHtcclxuICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWVcclxuICAgICAgdGhpcy5wYW5Ub0dlb21ldHJ5KHBhblRvVmFsdWUuZ2VvbWV0cmllcywgbWFwQmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHMpXHJcbiAgICB9IGVsc2UgaWYgKHBhblRvVHlwZSA9PT0gJ3Bhbi10by1leHRlbnQnKSB7XHJcbiAgICAgIC8vIG1hcCB3aWRnZXQxIGV4dGVudCBjaGFuZ2VzIGFuZCBtYXAgd2lkZ2V0MiBuZWVkcyB0byBzeW5jIHRoZSBleHRlbnQgYnkgbWVzc2FnZSBhY3Rpb24uXHJcbiAgICAgIC8vIEZpbmFsbHksIGl0IGNhbGxzIHZpZXcuZ29UbyhleHRlbnQuY2VudGVyKS5cclxuXHJcbiAgICAgIC8vIENvbnNpZGVyIHRoaXMgY2FzZTpcclxuICAgICAgLy8gMS4gQm90aCBtYXAgd2lkZ2V0MSBhbmQgbWFwIHdpZGdldDIgc2V0IHBhbi10byBhY3Rpb24gZm9yIGVhY2ggb3RoZXIuXHJcbiAgICAgIC8vIDIuIFRoZSBpbml0aWFsIGV4dGVudCBvZiBtYXAgd2lkZ2V0MSBpcyBleHRlbnQxIGFuZCB0aGUgaW5pdGlhbCBleHRlbnQgb2YgbWFwIHdpZGdldDIgaXMgZXh0ZW50Mi5cclxuICAgICAgLy8gMy4gbWFwIHdpZGdldDEgZmlyc3QgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UgYWZ0ZXIgdGhlIHZpZXcgaXMgcmVhZHkuXHJcbiAgICAgIC8vIDQuIFRoZW4gbWFwIHdpZGdldDIgcHVibGlzaCBleHRlbnQtY2hhbmdlIG1lc3NhZ2UuXHJcbiAgICAgIC8vIDUuIFRoZW4gbWFwIHdpZGdldDIgcmVjZWl2ZSBtZXNzYWdlIGZyb20gbWFwIHdpZGdldDEgYW5kIGNhbGwgaGFuZGxlQWN0aW9uLlxyXG4gICAgICAvLyA2LiBUaGVuIG1hcCB3aWRnZXQxIHJlY2VpdmUgbWVzc2FnZSBmcm9tIG1hcCB3aWRnZXQyIGFuZCBjYWxsIGhhbmRsZUFjdGlvbi5cclxuICAgICAgLy8gQXQgbGFzdCwgdGhlIGV4dGVudCBvZiBtYXAgd2lkZ2V0MSBpcyBleHRlbnQyIGFuZCB0aGUgZXh0ZW50IG9mIG1hcCB3aWRnZXQyIGlzIGV4dGVudDEuIFRoaXMgaXMgbm90IHRoZSBleHBlY3RlZCByZXN1bHQuXHJcbiAgICAgIC8vIFRvIGF2b2lkIHRoZSBhYm92ZSBjYXNlLCB3ZSBuZWVkIHRvIHN0b3AgdGhlIHN0ZXA2IGJlY2F1c2UgbWFwIHdpZGdldDEgZmlyc3QgcHVibGlzaCBtZXNzYWdlLlxyXG4gICAgICBsZXQgaXNBYm92ZUNhc2UgPSBmYWxzZVxyXG4gICAgICBjb25zdCBub3dUaW1lID0gRGF0ZS5ub3coKVxyXG5cclxuICAgICAgaWYgKG1hcEJhc2VWaWV3LmZpcnN0UHVibGlzaEV4dGVudENoYW5nZVRpbWUpIHtcclxuICAgICAgICBpZiAoKG5vd1RpbWUgLSBtYXBCYXNlVmlldy5maXJzdFB1Ymxpc2hFeHRlbnRDaGFuZ2VUaW1lKSA8PSAyMDAwKSB7XHJcbiAgICAgICAgICBpZiAobWFwQmFzZVZpZXcuZmlyc3RQdWJsaXNoRXh0ZW50Q2hhbmdlVGltZSA8PSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlLnB1Ymxpc2hUaW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1R3b1dpZGdldHNNdXR1YWxseUV4dGVudENoYW5nZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgbXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS52YWx1ZS5wdWJsaXNoV2lkZ2V0SWQpKSB7XHJcbiAgICAgICAgICAgICAgaXNBYm92ZUNhc2UgPSB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnNpZGVyIHRoaXMgY2FzZTpcclxuICAgICAgLy8gMS4gV2UgaGF2ZSA0IG1hcCB3aWRnZXRzLiBIZXJlIGFyZSB0aGUgYWN0aW9ucy5cclxuICAgICAgLy8gMi4gV2lkZ2V0MSAtPiB6b29tIHRvIC0+IFdpZGdldDIgLT4gem9vbSB0byAtPiBXaWRnZXQ0XHJcbiAgICAgIC8vIDMuIFdpZGdldDEgLT4gem9vbSB0byAtPiBXaWRnZXQzIC0+IHBhbiB0byAtPiBXaWRnZXQ0XHJcbiAgICAgIC8vIDQuIFdlIG1vdmUgdGhlIG1hcCBvZiB3aWRnZXQxLCBmaW5hbGx5IHdpZGdldDQgd2lsbCByZWNlaXZlIHpvb21UbyBhbmQgcGFuVG8gYWN0aW9ucyBzZXJpYWxseSwgbGlrZSB6b29tVG8sIHBhblRvLCB6b29tVG8sIHBhblRvLCAuLi5cclxuICAgICAgLy8gNS4gU3RlcDQgd2lsbCByZXN1bHQgaW4gd2lkZ2V0NCdzIG1hcCB2aWV3IGp1bXBpbmcuXHJcbiAgICAgIC8vIDYuIFRvIGF2b2lkIHRoaXMgY2FzZSwgd2UgbmVlZCB0byBzdG9wIGV4ZWN1dGluZyBwYW5UbyBhY3Rpb24gaWYgem9vbVRvIGFjdGlvbiBpcyBleGVjdXRlZCByZWNlbnRseS5cclxuICAgICAgbGV0IGlzUGFuWm9vbUNvbmZsaWN0Q2FzZSA9IGZhbHNlXHJcblxyXG4gICAgICBpZiAobWFwQmFzZVZpZXcubGFzdFpvb21Ub0V4dGVudFRpbWUpIHtcclxuICAgICAgICAvLyBCeSB0ZXN0LCB0aGUgYmlnZ2VzdCBkZWx0YSB0aW1lIGlzIGFib3V0IDIwMG1zIGluIG1vc3QgY2FzZXMsIGJ1dCBpdCBpcyBzYWZlIHRvIHVzZSBhIGJpZ2dlciBvbmUuXHJcbiAgICAgICAgaWYgKChub3dUaW1lIC0gbWFwQmFzZVZpZXcubGFzdFpvb21Ub0V4dGVudFRpbWUpIDw9IDUwMCkge1xyXG4gICAgICAgICAgaXNQYW5ab29tQ29uZmxpY3RDYXNlID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbWFwQmFzZVZpZXcgaXMgdGhlIGxhc3QgaW50ZXJhY3RpdmUgdmlldywgaXQgbWVhbnMgbWFwQmFzZVZpZXcgaXMgdGhlIGV4dGVudC1jaGFuZ2Ugc291cmNlLCB3ZSBzaG91bGQgaWdub3JlIHRoZSBwYW4tdG8tZXh0ZW50IG1lc3NhZ2UuXHJcbiAgICAgIGlmICghaXNBYm92ZUNhc2UgJiYgIWlzUGFuWm9vbUNvbmZsaWN0Q2FzZSAmJiBtYXBCYXNlVmlldyAhPT0gTWFwQmFzZS5sYXN0SW50ZXJhY2l2ZVZpZXcpIHtcclxuICAgICAgICB0aGlzLnNldEV4dGVudENoYW5nZVJlbGF0ZWRXaWRnZXRJZHNGb3JWaWV3KG1hcEJhc2VWaWV3LCByZWxhdGVkV2lkZ2V0SWRzKVxyXG4gICAgICAgIGNvbnN0IHBhblRvVmFsdWUgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnZhbHVlXHJcbiAgICAgICAgY29uc3QgZXh0ZW50ID0gcGFuVG9WYWx1ZS5nZW9tZXRyaWVzWzBdXHJcbiAgICAgICAgY29uc3QgZXh0ZW50Q2VudGVyID0gZXh0ZW50LmNlbnRlclxyXG4gICAgICAgIGNvbnN0IHN0YXRpb25hcnkgPSBwYW5Ub1ZhbHVlLnN0YXRpb25hcnlcclxuICAgICAgICBjb25zdCB2aWV3U1IgPSBtYXBCYXNlVmlldy5zcGF0aWFsUmVmZXJlbmNlXHJcblxyXG4gICAgICAgIGlmIChpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZShleHRlbnRDZW50ZXIuc3BhdGlhbFJlZmVyZW5jZSwgdmlld1NSKSkge1xyXG4gICAgICAgICAgaWYgKHN0YXRpb25hcnkpIHtcclxuICAgICAgICAgICAgLy8gb25seSBwcm9qZWN0IHRoZSBleHRlbnQgd2hlbiBtYXAgaXMgc3RhdGljXHJcbiAgICAgICAgICAgIHByb2plY3RHZW9tZXRyaWVzKFtleHRlbnRDZW50ZXJdLCB2aWV3U1IpLnRoZW4oKHByb2plY3RlZEdlb21ldHJpZXMpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRDZW50ZXIgPSBwcm9qZWN0ZWRHZW9tZXRyaWVzWzBdXHJcbiAgICAgICAgICAgICAgbWFwQmFzZVZpZXcuZ29Ubyhwcm9qZWN0ZWRDZW50ZXIpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIG1hcEJhc2VWaWV3LmdvVG8oZXh0ZW50Q2VudGVyLCB7IGFuaW1hdGU6IGZhbHNlIH0pXHJcbiAgICAgICAgICBtYXBCYXNlVmlldy5jZW50ZXIgPSBleHRlbnRDZW50ZXJcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAncGFuVG9BY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgfVxyXG5cclxuICBwYW5Ub0dlb21ldHJ5IChvcmlnaW5hbEdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcsIHJlbGF0ZWRXaWRnZXRJZHM6IHN0cmluZ1tdKTogdm9pZCB7XHJcbiAgICBwcm9qZWN0R2VvbWV0cmllcyhvcmlnaW5hbEdlb21ldHJpZXMsIG1hcEJhc2VWaWV3LnNwYXRpYWxSZWZlcmVuY2UpLnRoZW4oKHByb2plY3RlZEdlb21ldHJpZXMpID0+IHtcclxuICAgICAgdGhpcy5zZXRFeHRlbnRDaGFuZ2VSZWxhdGVkV2lkZ2V0SWRzRm9yVmlldyhtYXBCYXNlVmlldywgcmVsYXRlZFdpZGdldElkcylcclxuICAgICAgbWFwUGFudG8obWFwQmFzZVZpZXcsIHByb2plY3RlZEdlb21ldHJpZXMpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yTmV3RmVhdHVyZVNldEFjdGlvblZhbHVlIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBtYXBCYXNlVmlldzogTWFwYmFzZVZpZXcpOiB2b2lkIHtcclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5uZXdGZWF0dXJlU2V0QWN0aW9uVmFsdWUgJiYgIW11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZS5wcm9taXNlKSB7XHJcbiAgICAgIGNvbnN0IGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UgPSBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZS52YWx1ZSlcclxuICAgICAgaWYgKGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnbmV3RmVhdHVyZVNldEFjdGlvblZhbHVlLnByb21pc2UnLCBjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlKVxyXG5cclxuICAgICAgICBjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnbmV3RmVhdHVyZVNldEFjdGlvblZhbHVlJywgbnVsbClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yQ2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZSAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuY2hhbmdlZEZlYXR1cmVTZXRBY3Rpb25WYWx1ZSkge1xyXG4gICAgICB1cGRhdGVGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUpXHJcbiAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdjaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlJywgbnVsbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvclNlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZSAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlKSB7XHJcbiAgICAgIG1hcEJhc2VWaWV3LmNsb3NlUG9wdXAoKVxyXG5cclxuICAgICAgdGhpcy5yZWxlYXNlSGlnaExpZ2h0SGFuZGxlcyhtYXBCYXNlVmlldylcclxuXHJcbiAgICAgIGNvbnN0IHNlbGVjdEZlYXR1cmVIYW5kbGUgPSBzZWxlY3RGZWF0dXJlKG1hcEJhc2VWaWV3LCBtdXRhYmxlU3RhdGVQcm9wcy5zZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUpXHJcbiAgICAgIGlmIChzZWxlY3RGZWF0dXJlSGFuZGxlKSB7XHJcbiAgICAgICAgbWFwQmFzZVZpZXcuaGlnaExpZ2h0SGFuZGxlc1tzZWxlY3RGZWF0dXJlSGFuZGxlLmxheWVySWRdID0gc2VsZWN0RmVhdHVyZUhhbmRsZS5oYW5kbGVcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3NlbGVjdEZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpXHJcbiAgICAgIH0sIDUwMClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvckZsYXNoQWN0aW9uVmFsdWVBbmRGaWx0ZXJBY3Rpb25WYWx1ZSAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgbWFwQmFzZVZpZXc6IE1hcGJhc2VWaWV3KTogdm9pZCB7XHJcbiAgICBjb25zdCBtdXRhYmxlU3RhdGVQcm9wc0tleXMgPSBPYmplY3Qua2V5cyhtdXRhYmxlU3RhdGVQcm9wcylcclxuICAgIC8vIFdIWTogd2h5IHVzZSBhcnJheS5zb21lKCkgaGVyZSA/IHRoZSBjYWxsYmFjayBhbHdheXMgcmV0dXJuIGZhbHNlXHJcbiAgICBtdXRhYmxlU3RhdGVQcm9wc0tleXMuc29tZShhY3Rpb25LZXkgPT4ge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gbWFwQmFzZVZpZXcuZGF0YVNvdXJjZUluZm8uamltdU1hcFZpZXdJZFxyXG4gICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG5cclxuICAgICAgLy8gaGFuZGxlIGZsYXNoIGFjdGlvblxyXG4gICAgICBpZiAoYWN0aW9uS2V5LmluZGV4T2YoJ2ZsYXNoQWN0aW9uVmFsdWUtJykgPT09IDAgJiYgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XSkge1xyXG4gICAgICAgIG11dGFibGVTdGF0ZVByb3BzW2FjdGlvbktleV0ucXVlcnlTUUwgJiYgZmxhc2hGZWF0dXJlc0J5UXVlcnkodGVtcEppbXVNYXBWaWV3LCBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLmxheWVyRGF0YVNvdXJjZUlkLCBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldLnF1ZXJ5U1FMKVxyXG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGFjdGlvbktleSwgbnVsbClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaGFuZGxlIGZpbHRlciBhY3Rpb25cclxuICAgICAgaWYgKGFjdGlvbktleS5pbmRleE9mKCdmaWx0ZXJBY3Rpb25WYWx1ZS0nKSA9PT0gMCAmJiBtdXRhYmxlU3RhdGVQcm9wc1thY3Rpb25LZXldKSB7XHJcbiAgICAgICAgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTD8ubGVuZ3RoID49IDAgJiYgZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5KHRlbXBKaW11TWFwVmlldywgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5sYXllckRhdGFTb3VyY2VJZCwgbXV0YWJsZVN0YXRlUHJvcHNbYWN0aW9uS2V5XS5xdWVyeVNRTClcclxuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBhY3Rpb25LZXksIG51bGwpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZUFjdGlvbkZvclNob3dPbk1hcERhdGFzIChtdXRhYmxlU3RhdGVQcm9wczogQWN0aW9uUmVsYXRlZFByb3BzLCBqaW11TWFwVmlldzogSmltdU1hcFZpZXcpOiB2b2lkIHtcclxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5zaG93T25NYXBEYXRhcykge1xyXG4gICAgICBqaW11TWFwVmlldy5kcmF3RGF0YU9uTWFwKG11dGFibGVTdGF0ZVByb3BzLnNob3dPbk1hcERhdGFzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWN0aW9uRm9yQWRkVG9NYXBEYXRhcyAobXV0YWJsZVN0YXRlUHJvcHM6IEFjdGlvblJlbGF0ZWRQcm9wcywgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuYWRkVG9NYXBEYXRhcykge1xyXG4gICAgICBqaW11TWFwVmlldy5hZGRPclJlbW92ZURhdGFPbk1hcChtdXRhYmxlU3RhdGVQcm9wcy5hZGRUb01hcERhdGFzKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgdHlwZSBJTVRoZW1lVmFyaWFibGVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5cclxuaW50ZXJmYWNlIE11bHRpU291cmNlTWFwQ29udGV4dFR5cGUge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBtYXBXaWRnZXRIZWlnaHQ6IG51bWJlclxyXG4gIGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhblxyXG4gIGlzU2hvd0NsZWFyU2hvd09uTWFwRGF0YUJ0bjogYm9vbGVhblxyXG4gIGlzRnVsbFNjcmVlbjogYm9vbGVhblxyXG4gIGRhdGFTb3VyY2VJZHM6IHN0cmluZ1tdXHJcbiAgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICBzd2l0Y2hNYXA6ICgpID0+IHZvaWRcclxuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkXHJcbiAgaW5pdGlhbE1hcFN0YXRlOiBhbnlcclxuICBtb2JpbGVQYW5lbENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuICBvbk1vYmlsZVBhbmVsQ29udGVudENoYW5nZTogKE1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQpID0+IHZvaWRcclxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTXVsdGlTb3VyY2VNYXBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxNdWx0aVNvdXJjZU1hcENvbnRleHRUeXBlPih7XHJcbiAgbWFwV2lkZ2V0SWQ6IG51bGwsXHJcbiAgbWFwV2lkZ2V0SGVpZ2h0OiBudWxsLFxyXG4gIGlzU2hvd01hcFN3aXRjaEJ0bjogZmFsc2UsXHJcbiAgaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuOiBmYWxzZSxcclxuICBpc0Z1bGxTY3JlZW46IGZhbHNlLFxyXG4gIGRhdGFTb3VyY2VJZHM6IFtdLFxyXG4gIGFjdGl2ZURhdGFTb3VyY2VJZDogbnVsbCxcclxuICBzd2l0Y2hNYXA6ICgpID0+IHt9LFxyXG4gIGZ1bGxTY3JlZW5NYXA6ICgpID0+IHt9LFxyXG4gIGluaXRpYWxNYXBTdGF0ZTogbnVsbCxcclxuICBtb2JpbGVQYW5lbENvbnRhaW5lcjogbnVsbCxcclxuICBvbk1vYmlsZVBhbmVsQ29udGVudENoYW5nZTogKE1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQpID0+IHt9LFxyXG4gIHRoZW1lOiBudWxsXHJcbn0pXHJcbiIsImltcG9ydCB7XHJcbiAgUmVhY3QsIGNsYXNzTmFtZXMsIE1lc3NhZ2VNYW5hZ2VyLCB0eXBlIEltbXV0YWJsZUFycmF5LCBJbW11dGFibGUsIG9ic2VydmVTdG9yZSwgUmVhY3RSZXNpemVEZXRlY3RvcixcclxuICBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucywgTXV0YWJsZVN0b3JlTWFuYWdlciwgdHlwZSBFeHRlbnRDaGFuZ2VNZXNzYWdlLCB0eXBlIFVzZURhdGFTb3VyY2UsIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCB0eXBlIEppbXVNYXBWaWV3SW5mb1xyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IE1hcEJhc2UsIHsgTWFwTG9hZFN0YXR1cyB9IGZyb20gJy4vbWFwYmFzZSdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5pbXBvcnQgeyB0eXBlIE1hcFdpZGdldFByb3BzIH0gZnJvbSAnLi4vd2lkZ2V0J1xyXG5pbXBvcnQgeyBNYXBWaWV3TWFuYWdlciwgdHlwZSBKaW11TWFwVmlldywgdHlwZSBKaW11TWFwVmlld0dyb3VwLCBKaW11TWFwVmlld0NvbXBvbmVudCwgdHlwZSBEZWZhdWx0TWFwSW5mbywgQWN0aW9uVHlwZSwgRGF0YUNoYW5nZVR5cGUgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IE1hcEZpeGVkTGF5b3V0IGZyb20gJy4uL2xheW91dC9tYXAtZml4ZWQtbGF5b3V0J1xyXG5pbXBvcnQgTGF5b3V0LCB7IHR5cGUgQWN0aXZlVG9vbEluZm8gfSBmcm9tICcuLi9sYXlvdXQvbGF5b3V0J1xyXG5pbXBvcnQgcGNMYXlvdXRKc29ucyBmcm9tICcuLi9sYXlvdXQvcGMtbGF5b3V0LWpzb24nXHJcbmltcG9ydCBtb2JpbGVMYXlvdXRKc29ucyBmcm9tICcuLi9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uJ1xyXG5pbXBvcnQgeyBnZXRKaW11TWFwVmlld0lkIH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiB9IGZyb20gJy4uL2xheW91dC9jb25maWcnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIGJhc2VXaWRnZXRQcm9wczogTWFwV2lkZ2V0UHJvcHNcclxuICBzdGFydExvYWRNb2R1bGVzOiBib29sZWFuXHJcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4gdm9pZFxyXG5cclxuICBpc0RlZmF1bHRNYXA/OiBib29sZWFuXHJcbiAgb25WaWV3R3JvdXBDcmVhdGU/OiAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB2b2lkXHJcblxyXG4gIHdpZHRoQnJlYWtwb2ludDogc3RyaW5nXHJcbiAgd2lkZ2V0SGVpZ2h0OiBudW1iZXJcclxuXHJcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuXHJcbiAgaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuXHJcbiAgZGVmYXVsdE1hcEluZm8/OiBEZWZhdWx0TWFwSW5mb1xyXG5cclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxyXG5cclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIE1hcENvbnRhaW5lclN0eWxlIHtcclxuICBvcGFjaXR5OiBudW1iZXJcclxuICB6SW5kZXg6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGUge1xyXG4gIGN1cnJlbnRNYXBJbmRleD86IDAgfCAxXHJcbiAgbXVsdGlNYXBTdHlsZT86IE1hcENvbnRhaW5lclN0eWxlW11cclxuICBmaXJzdE1hcERzSWQ/OiBzdHJpbmdcclxuICBzZWNvbmRNYXBEc0lkPzogc3RyaW5nXHJcbiAgdXNlQW5pbWF0aW9uOiBib29sZWFuXHJcblxyXG4gIHVzZURhdGFTb3VyY2VzPzogSW1tdXRhYmxlQXJyYXk8VXNlRGF0YVNvdXJjZT5cclxuICBjdXJyZW50SmltdU1hcFZpZXdJZD86IHN0cmluZ1xyXG4gIG1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnRcclxuICBtb2JpbGVQYW5lbENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnRcclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICAvLyBzaG93T25NYXBEYXRhc0tleTogc3RyaW5nW11cclxufVxyXG5cclxuY29uc3QgVmlzaWJsZVN0eWxlcyA9IHtcclxuICBmaXJzdE1hcFZpc2libGU6IFt7XHJcbiAgICB6SW5kZXg6IDYsXHJcbiAgICBvcGFjaXR5OiAxXHJcbiAgfSwge1xyXG4gICAgekluZGV4OiA1LFxyXG4gICAgb3BhY2l0eTogMFxyXG4gIH1dLFxyXG4gIHNlY29uZE1hcFZpc2libGU6IFt7XHJcbiAgICB6SW5kZXg6IDUsXHJcbiAgICBvcGFjaXR5OiAwXHJcbiAgfSwge1xyXG4gICAgekluZGV4OiA2LFxyXG4gICAgb3BhY2l0eTogMVxyXG4gIH1dXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11bHRpU291cmNlTWFwIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcclxuICBpc1JlSW5pdGluZzogYm9vbGVhblxyXG4gIG11dGFibGVTdGF0ZVByb3BzTWFwOiB7IFtwcm9wS2V5OiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge31cclxuICB1c2VNYXBXaWRnZXRJZHM6IEltbXV0YWJsZUFycmF5PHN0cmluZz5cclxuICBfX3VubW91bnQgPSBmYWxzZVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCAncmVzdG9yZURhdGEnLFxyXG4gICAgICBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgXSlcclxuICAgIGlmIChyZXN0b3JlRGF0YSkge1xyXG4gICAgICBjb25zdCBtb2JpbGVQYW5lbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmlkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LWJvdHRvbS1wYW5lbGBcclxuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuY2xhc3NOYW1lID0gJ3ctMTAwIGgtMTAwJ1xyXG4gICAgICByZXN0b3JlRGF0YS5tb2JpbGVQYW5lbENvbnRhaW5lciA9IG1vYmlsZVBhbmVsQ29udGFpbmVyXHJcblxyXG4gICAgICB0aGlzLnJlSW5pdFdpZGdldEluc3RhbmNlKHJlc3RvcmVEYXRhKVxyXG5cclxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXHJcbiAgICAgICAgYHJlc3RvcmVEYXRhLiR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLW11bHRpbWFwYCwgbnVsbClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG1vYmlsZVBhbmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuaWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tYm90dG9tLXBhbmVsYFxyXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5jbGFzc05hbWUgPSAndy0xMDAgaC0xMDAnXHJcblxyXG4gICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgIGN1cnJlbnRNYXBJbmRleDogMCxcclxuICAgICAgICBtdWx0aU1hcFN0eWxlOiBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZSxcclxuICAgICAgICBmaXJzdE1hcERzSWQ6IG51bGwsXHJcbiAgICAgICAgc2Vjb25kTWFwRHNJZDogbnVsbCxcclxuICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlLFxyXG4gICAgICAgIHVzZURhdGFTb3VyY2VzOiBudWxsLFxyXG4gICAgICAgIGN1cnJlbnRKaW11TWFwVmlld0lkOiBudWxsLFxyXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGVudDogbnVsbCxcclxuICAgICAgICBtb2JpbGVQYW5lbENvbnRhaW5lcjogbW9iaWxlUGFuZWxDb250YWluZXIsXHJcbiAgICAgICAgYWN0aXZlVG9vbEluZm86IG51bGxcclxuICAgICAgICAvLyBzaG93T25NYXBEYXRhc0tleTogbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcCA9IHt9XHJcbiAgICB0aGlzLnVzZU1hcFdpZGdldElkcyA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkID8gSW1tdXRhYmxlKFt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIDogSW1tdXRhYmxlKFtdKVxyXG5cclxuICAgIG9ic2VydmVTdG9yZSh0aGlzLm9uUGFnZUNoYW5nZSwgWydhcHBSdW50aW1lSW5mbycsICdjdXJyZW50UGFnZUlkJ10pXHJcbiAgfVxyXG5cclxuICBvblBhZ2VDaGFuZ2UgPSAocHJlUGFnZUlkLCBjdXJyZW50UGFnZUlkKSA9PiB7XHJcbiAgICAvLyBjbG9zZSBhY3RpdmUgdG9vbFxyXG4gICAgaWYgKHByZVBhZ2VJZCAmJiBjdXJyZW50UGFnZUlkICYmIHByZVBhZ2VJZCAhPT0gY3VycmVudFBhZ2VJZCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgLy8gY2xvc2UgYWN0aXZlIHRvb2xcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVUb29sSW5mbzogbnVsbFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlSW5pdFdpZGdldEluc3RhbmNlID0gKHJlc3RvcmVEYXRhKSA9PiB7XHJcbiAgICB0aGlzLnN0YXRlID0gcmVzdG9yZURhdGEgYXMgU3RhdGVcclxuICAgIHRoaXMuaXNSZUluaXRpbmcgPSB0cnVlXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLm1hcFdpZGdldHNJbmZvKSB7XHJcbiAgICAgIGlmICghZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLm1hcFdpZGdldHNJbmZvW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkge1xyXG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5NYXBXaWRnZXRJbmZvQWRkZWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsIEltbXV0YWJsZSh7IG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCB9KSkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9fdW5tb3VudCA9IGZhbHNlXHJcblxyXG4gICAgaWYgKHRoaXMuaXNSZUluaXRpbmcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxNYXBEYXRhU291cmNlSUQgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRFxyXG4gICAgICBpZiAoIWluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGZpcnN0TWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9PT0gKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9PT0gKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZCxcclxuICAgICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIHRoaXMuX191bm1vdW50ID0gdHJ1ZVxyXG4gICAgY29uc3Qgd2lkZ2V0cyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcud2lkZ2V0c1xyXG5cclxuICAgIGlmICh3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSAmJiB3aWRnZXRzW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXS51c2VEYXRhU291cmNlcyA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcclxuICAgICAgY29uc3QgcmVzdG9yZURhdGEgPSB7XHJcbiAgICAgICAgY3VycmVudE1hcEluZGV4OiB0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCxcclxuICAgICAgICBtdWx0aU1hcFN0eWxlOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGUsXHJcbiAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCxcclxuICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQsXHJcbiAgICAgICAgdXNlQW5pbWF0aW9uOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbixcclxuICAgICAgICBjdXJyZW50SmltdU1hcFZpZXdJZDogdGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZFxyXG4gICAgICB9XHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxyXG4gICAgICAgIGByZXN0b3JlRGF0YS4ke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS1tdWx0aW1hcGAsIHJlc3RvcmVEYXRhKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghd2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0pIHtcclxuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLk1hcFdpZGdldEluZm9SZW1vdmVkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRDaGFuZ2VkU3RhdGUgPSAoZmlyc3RNYXBEc0lkLCBzZWNvbmRNYXBEc0lkLCB1c2VEYXRhU291cmNlcyk6IFN0YXRlID0+IHtcclxuICAgIGNvbnN0IGNoYW5nZWRTdGF0ZSA9IHt9IGFzIFN0YXRlXHJcblxyXG4gICAgaWYgKHVzZURhdGFTb3VyY2VzICYmIHVzZURhdGFTb3VyY2VzWzBdKSB7XHJcbiAgICAgIGNvbnN0IG5ld0RhdGFTb3VyY2VBcnIgPSBbXVxyXG4gICAgICBjb25zdCByZXBlYXREYXRhU291cmNlQXJyID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1c2VEYXRhU291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChmaXJzdE1hcERzSWQgIT09IHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCkge1xyXG4gICAgICAgICAgbmV3RGF0YVNvdXJjZUFyci5wdXNoKHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVwZWF0RGF0YVNvdXJjZUFyci5wdXNoKHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlcGVhdERhdGFTb3VyY2VBcnIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBmaXJzdE1hcERzSWRcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMF1cclxuICAgICAgfSBlbHNlIGlmIChyZXBlYXREYXRhU291cmNlQXJyLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChuZXdEYXRhU291cmNlQXJyLmluY2x1ZGVzKHNlY29uZE1hcERzSWQpKSB7XHJcbiAgICAgICAgICBuZXdEYXRhU291cmNlQXJyLnNwbGljZShuZXdEYXRhU291cmNlQXJyLmluZGV4T2Yoc2Vjb25kTWFwRHNJZCksIDEpXHJcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclswXVxyXG4gICAgICAgICAgY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgPSBzZWNvbmRNYXBEc0lkXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzBdXHJcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMV1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBudWxsXHJcbiAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkICE9PSBmaXJzdE1hcERzSWQpIHtcclxuICAgICAgaWYgKGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQpIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDBcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCFjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCkge1xyXG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkICE9PSBzZWNvbmRNYXBEc0lkKSB7XHJcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hhbmdlZFN0YXRlXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIChuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcclxuICAgIGlmIChuZXdQcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgIT09IHByZXZTdGF0ZS51c2VEYXRhU291cmNlcykge1xyXG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IE11bHRpU291cmNlTWFwLmdldENoYW5nZWRTdGF0ZShwcmV2U3RhdGUuZmlyc3RNYXBEc0lkLCBwcmV2U3RhdGUuc2Vjb25kTWFwRHNJZCwgbmV3UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKVxyXG4gICAgICByZXR1cm4gbmV3U3RhdGVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgIGNvbnN0IGluaXRpYWxNYXBEYXRhU291cmNlSUQgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5zdGF0ZVByb3BzLmluaXRpYWxNYXBEYXRhU291cmNlSURcclxuICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkID09PSBpbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZSkge1xyXG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgPT09IGluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcclxuICAgICAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICAgICAgaWYgKHNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxyXG4gICAgICAgICdpbml0aWFsTWFwRGF0YVNvdXJjZUlEJywgbnVsbCkpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSZUluaXRpbmcpIHtcclxuICAgICAgdGhpcy5pc1JlSW5pdGluZyA9IGZhbHNlXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCAhPT0gcHJldlByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xyXG4gICAgICB0aGlzLmNoYW5nZUluaXRpYWxNYXBEYXRhU291cmNlSUQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQsIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICE9PSBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XHJcbiAgICAgIHRoaXMuY29uZmlybUppbXVNYXBWaWV3SXNBY3RpdmUoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hhbmdlSW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgY2FsbEJhY2s/OiBhbnkpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICAgIGlmICghZmlyc3RNYXBJbnN0YW5jZSB8fCAhc2Vjb25kTWFwSW5zdGFuY2UpIHtcclxuICAgICAgICAvLyBNYWtlIHN1cmUgYm90aCBmaXJzdE1hcEluc3RhbmNlIGFuZCBzZWNvbmRNYXBJbnN0YW5jZSBleGlzdCwgb3RoZXJ3aXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cclxuICAgICAgICBpZiAoY2FsbEJhY2spIHtcclxuICAgICAgICAgIGNhbGxCYWNrKClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbihjYWxsQmFjaylcclxuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXJ0Q2hhbmdlSW5pdGlhbE1hcEFuaW1hdGlvbihjYWxsQmFjaylcclxuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGFydENoYW5nZUluaXRpYWxNYXBBbmltYXRpb24gPSAoY2FsbEJhY2s/OiBhbnkpID0+IHtcclxuICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcbiAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlXHJcblxyXG4gICAgaWYgKCFmaXJzdE1hcEluc3RhbmNlIHx8ICFzZWNvbmRNYXBJbnN0YW5jZSkge1xyXG4gICAgICAvLyBNYWtlIHN1cmUgYm90aCBmaXJzdE1hcEluc3RhbmNlIGFuZCBzZWNvbmRNYXBJbnN0YW5jZSBleGlzdCwgb3RoZXJ3aXNlIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZC5cclxuICAgICAgaWYgKGNhbGxCYWNrKSB7XHJcbiAgICAgICAgY2FsbEJhY2soKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRlbXBTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUpIGFzIGFueVxyXG5cclxuICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcclxuICAgICAgdGVtcFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDFcclxuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGVcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KClcclxuXHJcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcclxuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNldFN0YXRlKHRlbXBTdGF0ZSwgKCkgPT4geyBjYWxsQmFjayAmJiBjYWxsQmFjaygpIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMFxyXG4gICAgICB0ZW1wU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuZmlyc3RNYXBWaXNpYmxlXHJcblxyXG4gICAgICBjb25zdCB2aWV3UG9pbnQgPSBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxyXG5cclxuICAgICAgaWYgKHZpZXdQb2ludCkge1xyXG4gICAgICAgIGZpcnN0TWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHZpZXdQb2ludClcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHsgY2FsbEJhY2sgJiYgY2FsbEJhY2soKSB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3dpdGNoTWFwID0gYXN5bmMgKCk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgICBpZiAoIXRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzIHx8IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA8IDIpIHtcclxuICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICBpZiAoIWZpcnN0TWFwSW5zdGFuY2UgfHwgIXNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgIC8vIE1ha2Ugc3VyZSBib3RoIGZpcnN0TWFwSW5zdGFuY2UgYW5kIHNlY29uZE1hcEluc3RhbmNlIGV4aXN0LCBvdGhlcndpc2Ugd2UgZG9uJ3QgbmVlZCB0byBjYWxsIHRoaXMgbWV0aG9kLlxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZW1wU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlKSBhcyBhbnlcclxuICAgIHRlbXBTdGF0ZS51c2VBbmltYXRpb24gPSB0cnVlXHJcblxyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xyXG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMVxyXG4gICAgICB0ZW1wU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuc2Vjb25kTWFwVmlzaWJsZVxyXG5cclxuICAgICAgY29uc3Qgdmlld1BvaW50ID0gZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKVxyXG5cclxuICAgICAgaWYgKHZpZXdQb2ludCkge1xyXG4gICAgICAgIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwXHJcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGVcclxuXHJcbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCgpXHJcblxyXG4gICAgICBpZiAodmlld1BvaW50KSB7XHJcbiAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKClcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdXNlQW5pbWF0aW9uOiBmYWxzZVxyXG4gICAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDUwMClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHtcclxuICAgIGlmICghdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XSkge1xyXG4gICAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldID0gW2RhdGFTb3VyY2VJZF1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5pbmNsdWRlcyhkYXRhU291cmNlSWQpKSB7XHJcbiAgICAgICAgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5wdXNoKGRhdGFTb3VyY2VJZClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG11bHRpTWFwRHNJZHMgPSBbXVxyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuXHJcbiAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZSAmJiBmaXJzdE1hcEluc3RhbmNlLmdldFZpZXdUeXBlKCkpIHtcclxuICAgICAgbXVsdGlNYXBEc0lkcy5wdXNoKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpKSB7XHJcbiAgICAgIG11bHRpTWFwRHNJZHMucHVzaCh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGlzQWxsTWF0Y2hlZCA9IHRydWVcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXVsdGlNYXBEc0lkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0uaW5jbHVkZXMobXVsdGlNYXBEc0lkc1tpXSkpIHtcclxuICAgICAgICBpc0FsbE1hdGNoZWQgPSBmYWxzZVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNBbGxNYXRjaGVkKSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldXHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBwcm9wS2V5LCB2YWx1ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGNhbGxiYWNrIG9mIHZpZXcuZXh0ZW50IGNoYW5nZVxyXG4gIG9uTWFwYmFzZUV4dGVudENoYW5nZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1lc3NhZ2U6IEV4dGVudENoYW5nZU1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRWaXNpYmxlRHNJZCA9IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKClcclxuXHJcbiAgICBpZiAoY3VycmVudFZpc2libGVEc0lkID09PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgY29uc3QgY2xvbmVkVmlld3BvaW50ID0gbWVzc2FnZS52aWV3cG9pbnQuY2xvbmUoKVxyXG4gICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG1lc3NhZ2UpXHJcblxyXG4gICAgICAvLyBzeW5jIHZpZXdwb2ludCBvZiBoaWRkZW4gbWFwYmFzZVxyXG4gICAgICBsZXQgaGlkZGVuTWFwQmFzZTogTWFwQmFzZSA9IG51bGxcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAhPT0gZGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgICAgaGlkZGVuTWFwQmFzZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICE9PSBkYXRhU291cmNlSWQpIHtcclxuICAgICAgICBoaWRkZW5NYXBCYXNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGhpZGRlbk1hcEJhc2UpIHtcclxuICAgICAgICBoaWRkZW5NYXBCYXNlLnNldFZpZXdQb2ludChjbG9uZWRWaWV3cG9pbnQpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZU1hcExvYWRlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cykgPT4ge1xyXG4gICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgfVxyXG5cclxuICBoYW5kbGVKaW11TWFwVmlld0NyZWF0ZWQgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5fX3VubW91bnQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSgpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEppbXVNYXBWaWV3QnlEYXRhU291cmNlSWQgKGRzSWQ6IHN0cmluZyk6IEppbXVNYXBWaWV3IHtcclxuICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSBnZXRKaW11TWFwVmlld0lkKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCBkc0lkKVxyXG4gICAgY29uc3QgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKVxyXG4gICAgcmV0dXJuIGppbXVNYXBWaWV3XHJcbiAgfVxyXG5cclxuICBjb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCkge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuZ2V0SmltdU1hcFZpZXdCeURhdGFTb3VyY2VJZChudWxsKVxyXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCB0cnVlKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFsbERhdGFzb3VyY2VJZHMgPSBbXVxyXG4gICAgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgJiYgYWxsRGF0YXNvdXJjZUlkcy5wdXNoKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkKVxyXG4gICAgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIGFsbERhdGFzb3VyY2VJZHMucHVzaCh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQpXHJcbiAgICBjb25zdCBjdXJyZW50RGF0YVNvdXJjZUlkID0gdGhpcy5nZXRDdXJyZW50VmlzaWJsZURzSWQoKVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsRGF0YXNvdXJjZUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMuZ2V0SmltdU1hcFZpZXdCeURhdGFTb3VyY2VJZChhbGxEYXRhc291cmNlSWRzW2ldKVxyXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcclxuICAgICAgICBpZiAoYWxsRGF0YXNvdXJjZUlkc1tpXSA9PT0gY3VycmVudERhdGFTb3VyY2VJZCkge1xyXG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldywgdHJ1ZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldywgZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRBY3RpdmVKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3LCBpc0FjdGl2ZTogYm9vbGVhbikge1xyXG4gICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBjdXJyZW50SmltdU1hcFZpZXdJZDogamltdU1hcFZpZXcuaWRcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNTaG93TWFwU3dpdGNoQnRuID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGNvbnN0IHNlY29uZE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLnNlY29uZE1hcEluc3RhbmNlIGFzIE1hcEJhc2VcclxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlKSB7XHJcbiAgICAgIGlmIChmaXJzdE1hcEluc3RhbmNlLmdldE1hcExvYWRTdGF0dXMoKSAhPT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nICYmIHNlY29uZE1hcEluc3RhbmNlLmdldE1hcExvYWRTdGF0dXMoKSAhPT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50VmlzaWJsZURzSWQgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkgPT09IDEpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5vblZpZXdHcm91cENyZWF0ZSkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uVmlld0dyb3VwQ3JlYXRlKHZpZXdHcm91cClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZU1vYmlsZVBhbmVsQ29udGVudENoYW5nZSA9IChtb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgbW9iaWxlUGFuZWxDb250ZW50OiBtb2JpbGVQYW5lbENvbnRlbnRcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZSA9IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVUb29sSW5mbzogYWN0aXZlVG9vbEluZm9cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBoYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlID0gKHNob3dPbk1hcERhdGFzS2V5OiBzdHJpbmdbXSkgPT4ge1xyXG4gIC8vICB0aGlzLnNldFN0YXRlKHtcclxuICAvLyAgICBzaG93T25NYXBEYXRhc0tleTogc2hvd09uTWFwRGF0YXNLZXlcclxuICAvLyAgfSlcclxuICAvLyB9XHJcblxyXG4gIGdldExheW91dENvbmZpZyAoKTogTGF5b3V0SnNvbiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnKSB7XHJcbiAgICAgIHJldHVybiBtb2JpbGVMYXlvdXRKc29uc1swXVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5sYXlvdXRJbmRleCA/IHBjTGF5b3V0SnNvbnNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmxheW91dEluZGV4XSA6IHBjTGF5b3V0SnNvbnNbMF1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzU2hvd0NsZWFyU2hvd09uTWFwRGF0YUJ0biA9ICgpID0+IHtcclxuICAgIGNvbnN0IHNob3dPbk1hcERhdGFzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHM/LnNob3dPbk1hcERhdGFzIHx8IHt9XHJcbiAgICBjb25zdCBhZGRUb01hcERhdGFzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHM/LmFkZFRvTWFwRGF0YXMgfHwge31cclxuICAgIGNvbnN0IHNob3dPbk1hcERhdGFJbmZvcyA9IE9iamVjdC5lbnRyaWVzKHNob3dPbk1hcERhdGFzKS5tYXAoZW50cnkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGppbXVNYXBWaWV3SWQ6IGVudHJ5WzFdLmppbXVNYXBWaWV3SWQsXHJcbiAgICAgICAgbWFwV2lkZ2V0SWQ6IGVudHJ5WzFdLm1hcFdpZGdldElkLFxyXG4gICAgICAgIG5lZWRUb1JlbW92ZTogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBlbnRyeVsxXS50eXBlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBjb25zdCBhZGRUb01hcERhdGFJbmZvcyA9IE9iamVjdC5lbnRyaWVzKGFkZFRvTWFwRGF0YXMpLm1hcChlbnRyeSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgamltdU1hcFZpZXdJZDogZW50cnlbMV0uamltdU1hcFZpZXdJZCxcclxuICAgICAgICBtYXBXaWRnZXRJZDogZW50cnlbMV0ubWFwV2lkZ2V0SWQsXHJcbiAgICAgICAgbmVlZFRvUmVtb3ZlOiBlbnRyeVsxXS5kYXRhQ2hhbmdlVHlwZSA9PT0gRGF0YUNoYW5nZVR5cGUuQ3JlYXRlZCxcclxuICAgICAgICB0eXBlOiBlbnRyeVsxXS50eXBlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gc2hvd09uTWFwRGF0YUluZm9zLmNvbmNhdChhZGRUb01hcERhdGFJbmZvcykuc29tZShkYXRhSW5mbyA9PiB7XHJcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGppbXVNYXBWaWV3SWQgd2hpbGUgZ2VuZXJhdGluZyB0aGUgYWN0aW9uIGRhdGEgaWYgdGhlIG1hcCB3aWRnZXQgaGFzbid0IGJlZW4gbG9hZGVkIGluIHRoZSBhbm90aGVyIHBhZ2UvdmlldyxcclxuICAgICAgLy8gdXNlIGEgZGVmYXVsdCBqaW11TWFwVmlld0lkIHRvIHNob3cgZGF0YS5cclxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBkYXRhSW5mby5qaW11TWFwVmlld0lkXHJcbiAgICAgIGlmICghamltdU1hcFZpZXdJZCAmJiBkYXRhSW5mby5tYXBXaWRnZXRJZCA9PT0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpIHtcclxuICAgICAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvOiBJbW11dGFibGVPYmplY3Q8eyBbamltdU1hcFZpZXdJZDogc3RyaW5nXTogSmltdU1hcFZpZXdJbmZvIH0+ID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmppbXVNYXBWaWV3c0luZm9cclxuICAgICAgICBqaW11TWFwVmlld0lkID0gT2JqZWN0LmtleXMoamltdU1hcFZpZXdzSW5mbyB8fCB7fSkuZmluZCh2aWV3SWQgPT4gamltdU1hcFZpZXdzSW5mb1t2aWV3SWRdLm1hcFdpZGdldElkID09PSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gKGppbXVNYXBWaWV3SWQgPT09IHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQgJiYgZGF0YUluZm8udHlwZSA9PT0gQWN0aW9uVHlwZS5EYXRhQWN0aW9uICYmIGRhdGFJbmZvLm5lZWRUb1JlbW92ZSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e1xyXG4gICAgICAgIG1hcFdpZGdldElkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcclxuICAgICAgICBtYXBXaWRnZXRIZWlnaHQ6IHRoaXMucHJvcHMud2lkZ2V0SGVpZ2h0LFxyXG4gICAgICAgIGlzU2hvd01hcFN3aXRjaEJ0bjogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMSAmJiB0aGlzLmlzU2hvd01hcFN3aXRjaEJ0bigpLFxyXG4gICAgICAgIGlzU2hvd0NsZWFyU2hvd09uTWFwRGF0YUJ0bjogdGhpcy5pc1Nob3dDbGVhclNob3dPbk1hcERhdGFCdG4oKSxcclxuICAgICAgICBkYXRhU291cmNlSWRzOiBbdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQsIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZF0sXHJcbiAgICAgICAgYWN0aXZlRGF0YVNvdXJjZUlkOiB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpLFxyXG4gICAgICAgIHN3aXRjaE1hcDogdGhpcy5zd2l0Y2hNYXAsXHJcbiAgICAgICAgZnVsbFNjcmVlbk1hcDogdGhpcy5wcm9wcy5mdWxsU2NyZWVuTWFwLFxyXG4gICAgICAgIGlzRnVsbFNjcmVlbjogdGhpcy5wcm9wcy5pc0Z1bGxTY3JlZW4sXHJcbiAgICAgICAgbW9iaWxlUGFuZWxDb250YWluZXI6IHRoaXMuc3RhdGUubW9iaWxlUGFuZWxDb250YWluZXIsXHJcbiAgICAgICAgb25Nb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2U6IHRoaXMuaGFuZGxlTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlLFxyXG4gICAgICAgIGluaXRpYWxNYXBTdGF0ZTogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUsXHJcbiAgICAgICAgdGhlbWU6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnRoZW1lXHJcbiAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7IXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwICYmIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtdWx0aS1tYXAtY29udGFpbmVyJyBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCBtYXAxJywge1xyXG4gICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmIHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5LFxyXG4gICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmICEodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkpLFxyXG4gICAgICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUnOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSxcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlJzogISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSlcclxuICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS56SW5kZXggfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUuZmlyc3RNYXBEc0lkICYmIDxNYXBCYXNlXHJcbiAgICAgICAgICAgICAgcmVmPSdmaXJzdE1hcEluc3RhbmNlJ1xyXG4gICAgICAgICAgICAgIGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cclxuICAgICAgICAgICAgICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD17dGhpcy5oYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWR9XHJcbiAgICAgICAgICAgICAgb25FeHRlbnRDaGFuZ2VkPXt0aGlzLm9uTWFwYmFzZUV4dGVudENoYW5nZWR9XHJcbiAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMuaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkfVxyXG4gICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMuaGFuZGxlQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD17dGhpcy5oYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICBkYXRhU291cmNlSWQ9e3RoaXMuc3RhdGUuZmlyc3RNYXBEc0lkfVxyXG4gICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgaXNNYXBJblZpc2libGVBcmVhPXt0aGlzLnByb3BzLmlzTWFwSW5WaXNpYmxlQXJlYX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICA8L01hcEJhc2U+fVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAgbWFwMicsIHtcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSxcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXInOiB0aGlzLnN0YXRlLnVzZUFuaW1hdGlvbiAmJiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5KSxcclxuICAgICAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlJzogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHksXHJcbiAgICAgICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyLW5vYW5pbWF0ZSc6ICEodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHkpXHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0uekluZGV4IH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgPE1hcEJhc2VcclxuICAgICAgICAgICAgICByZWY9J3NlY29uZE1hcEluc3RhbmNlJ1xyXG4gICAgICAgICAgICAgIGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cclxuICAgICAgICAgICAgICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD17dGhpcy5oYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWR9XHJcbiAgICAgICAgICAgICAgb25FeHRlbnRDaGFuZ2VkPXt0aGlzLm9uTWFwYmFzZUV4dGVudENoYW5nZWR9XHJcbiAgICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMuaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkfVxyXG4gICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMuaGFuZGxlQWN0aXZlVG9vbEluZm9DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgLy8gb25TaG93T25NYXBEYXRhQ2hhbmdlZD17dGhpcy5oYW5kbGVTaG93T25NYXBEYXRhQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICBkYXRhU291cmNlSWQ9e3RoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZH1cclxuICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fVxyXG4gICAgICAgICAgICAgIGlzTWFwSW5WaXNpYmxlQXJlYT17dGhpcy5wcm9wcy5pc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgPC9NYXBCYXNlPn1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2Pn1cclxuICAgICAgICB7dGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgJiYgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwIGRlZmF1bHQtbWFwLWNvbnRhaW5lcicgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAgbXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlIGRlZmF1bHQtbWFwJyl9XHJcbiAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6IDYgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPE1hcEJhc2VcclxuICAgICAgICAgICAgICByZWY9J2ZpcnN0TWFwSW5zdGFuY2UnIGlzRGVmYXVsdE1hcD17dGhpcy5wcm9wcy5pc0RlZmF1bHRNYXB9XHJcbiAgICAgICAgICAgICAgYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wc30gb25NYXBMb2FkZWQ9e3RoaXMuaGFuZGxlTWFwTG9hZGVkfVxyXG4gICAgICAgICAgICAgIG9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkPXt0aGlzLmhhbmRsZU11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZH0gZGF0YVNvdXJjZUlkPXtudWxsfVxyXG4gICAgICAgICAgICAgIG9uRXh0ZW50Q2hhbmdlZD17dGhpcy5vbk1hcGJhc2VFeHRlbnRDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLmhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZH1cclxuICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLmhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIC8vIG9uU2hvd09uTWFwRGF0YUNoYW5nZWQ9e3RoaXMuaGFuZGxlU2hvd09uTWFwRGF0YUNoYW5nZX1cclxuICAgICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XHJcbiAgICAgICAgICAgICAgd2lkdGhCcmVha3BvaW50PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludH1cclxuICAgICAgICAgICAgICBpc01hcEluVmlzaWJsZUFyZWE9e3RoaXMucHJvcHMuaXNNYXBJblZpc2libGVBcmVhfVxyXG4gICAgICAgICAgICAgIGRlZmF1bHRNYXBJbmZvPXt0aGlzLnByb3BzLmRlZmF1bHRNYXBJbmZvfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkICYmIDxNYXBGaXhlZExheW91dFxyXG4gICAgICAgICAgamltdU1hcFZpZXc9e01hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3SWQpfVxyXG4gICAgICAgICAgYXBwTW9kZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZX0gbGF5b3V0cz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubGF5b3V0c31cclxuICAgICAgICAgIExheW91dEVudHJ5PXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLkxheW91dEVudHJ5fVxyXG4gICAgICAgICAgd2lkZ2V0TWFuaWZlc3ROYW1lPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tYW5pZmVzdC5uYW1lfVxyXG4gICAgICAgID5cclxuICAgICAgICA8L01hcEZpeGVkTGF5b3V0Pn1cclxuICAgICAgICB7dGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdJZCAmJiBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkKSAmJlxyXG4gICAgICAgICAgPExheW91dFxyXG4gICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9IGlzTW9iaWxlPXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCd9XHJcbiAgICAgICAgICAgIGppbXVNYXBWaWV3PXtNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld0lkKX1cclxuICAgICAgICAgICAgYXBwTW9kZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYXBwTW9kZX0gbGF5b3V0cz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubGF5b3V0c30gaW50bD17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaW50bH1cclxuICAgICAgICAgICAgTGF5b3V0RW50cnk9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmJ1aWxkZXJTdXBwb3J0TW9kdWxlcyAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMuTGF5b3V0RW50cnl9XHJcbiAgICAgICAgICAgIGxheW91dENvbmZpZz17dGhpcy5nZXRMYXlvdXRDb25maWcoKX0gdG9vbENvbmZpZz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLnRvb2xDb25maWcgPyB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcudG9vbENvbmZpZyA6IHt9fVxyXG4gICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5zdGF0ZS5hY3RpdmVUb29sSW5mb30gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5oYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnRoZW1lfVxyXG4gICAgICAgICAgICB3aWRnZXRNYW5pZmVzdE5hbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm1hbmlmZXN0Lm5hbWV9IHdpZGdldEhlaWdodD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnQgPT09ICd4c21hbGwnID8gbnVsbCA6IHRoaXMucHJvcHMud2lkZ2V0SGVpZ2h0fVxyXG4gICAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICAvPn1cclxuICAgICAgICA8SmltdU1hcFZpZXdDb21wb25lbnQgdXNlTWFwV2lkZ2V0SWQ9e3RoaXMudXNlTWFwV2lkZ2V0SWRzPy5bMF19IG9uVmlld0dyb3VwQ3JlYXRlPXt0aGlzLmhhbmRsZVZpZXdHcm91cENyZWF0ZX0gLz5cclxuICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgaGFuZGxlV2lkdGggb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LlByb3ZpZGVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIGNsYXNzTmFtZXMsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBVSUNvbXBvbmVudCwgdHlwZSBVSUNvbXBvbmVudFByb3BzIH0gZnJvbSAnLi91aS1jb21wb25lbnQnXHJcbmltcG9ydCB7IHR5cGUgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgdHlwZSBBY3RpdmVUb29sSW5mbyB9IGZyb20gJy4vYmFzZS10b29sJ1xyXG5pbXBvcnQgeyB0eXBlIExheW91dEpzb24sIHR5cGUgVG9vbEpzb24gfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBUb29sTW9kdWxlcyBmcm9tICcuLi90b29sLW1vZHVsZXMnXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xTaGVsbFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XHJcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZ1xyXG4gIGxheW91dENvbmZpZzogTGF5b3V0SnNvblxyXG4gIHRvb2xDb25maWc6IFRvb2xDb25maWdcclxuICB0b29sTmFtZTogc3RyaW5nXHJcbiAgaXNNb2JpbGU/OiBib29sZWFuXHJcbiAgaXNIaWRkZW4/OiBib29sZWFuXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG4gIGlzTGFzdEVsZW1lbnQ/OiBib29sZWFuXHJcblxyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mb1xyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWRcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVRvb2xTaGVsbCBleHRlbmRzIFVJQ29tcG9uZW50PFRvb2xTaGVsbFByb3BzLCB1bmtub3duPiB7XHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgY29uc3Qgc3R5bGVPYmogPSB0aGlzLnByb3BzLmxheW91dENvbmZpZy5lbGVtZW50c1t0aGlzLnByb3BzLnRvb2xOYW1lXS5zdHlsZVxyXG5cclxuICAgIGxldCBzdHlsZVN0cjogc3RyaW5nID0gJydcclxuXHJcbiAgICBpZiAoc3R5bGVPYmopIHtcclxuICAgICAgY29uc3Qgc3R5bGVTdHJzID0gT2JqZWN0LmtleXMoc3R5bGVPYmopLm1hcCgoc3R5bGVLZXkpID0+IHtcclxuICAgICAgICByZXR1cm4gYCR7c3R5bGVLZXl9OiAke3N0eWxlT2JqW3N0eWxlS2V5XX07YFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgc3R5bGVTdHIgPSBzdHlsZVN0cnMuam9pbignJylcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAke3N0eWxlU3RyfVxyXG4gICAgICBgXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3QgVG9vbENsYXNzID0gVG9vbE1vZHVsZXNbdGhpcy5wcm9wcy50b29sTmFtZV1cclxuXHJcbiAgICBsZXQgaXNBdmFpbGFibGUgPSB0cnVlXHJcblxyXG4gICAgaWYgKFRvb2xDbGFzcykge1xyXG4gICAgICBpZiAoVG9vbENsYXNzLmlzQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgaXNBdmFpbGFibGUgPSBUb29sQ2xhc3MuaXNBdmFpbGFibGUodGhpcy5wcm9wcylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpc0F2YWlsYWJsZSA9IHRydWVcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXNBdmFpbGFibGUgPSBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0F2YWlsYWJsZSkge1xyXG4gICAgICBjb25zdCBjbGFzc05hbWUgPSBgZXhibWFwLXVpIGV4Ym1hcC11aS10b29sLXNoZWxsIGRpdml0ZW0gZXhibWFwLXVpLXRvb2wtc2hlbGwtJHt0aGlzLnByb3BzLnRvb2xOYW1lfWBcclxuXHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXModGhpcy5wcm9wcy5jbGFzc05hbWUsIGNsYXNzTmFtZSwgKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMudG9vbE5hbWVdIGFzIFRvb2xKc29uKS5jbGFzc05hbWUsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAnZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50JzogdGhpcy5wcm9wcy5pc0hpZGRlbixcclxuICAgICAgICAgICAgICAnbWItMCBtci0wJzogdGhpcy5wcm9wcy5pc0xhc3RFbGVtZW50LFxyXG4gICAgICAgICAgICAgICdyb3VuZGVkLXBpbGwnOiBbJ0NvbXBhc3MnXS5pbmNsdWRlcyh0aGlzLnByb3BzLnRvb2xOYW1lKVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8VG9vbENsYXNzXHJcbiAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfVxyXG4gICAgICAgICAgICByZWY9J2Jhc2VUb29sSW5zdGFuY2UnIHRvb2xKc29uPXt0aGlzLnByb3BzLmxheW91dENvbmZpZy5lbGVtZW50c1t0aGlzLnByb3BzLnRvb2xOYW1lXX0gdG9vbE5hbWU9e3RoaXMucHJvcHMudG9vbE5hbWV9IGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfVxyXG4gICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX1cclxuICAgICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgICByZXR1cm4gPHNwYW4gLz5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgY3NzLCBqc3gsIHBvbGlzaGVkLCBjbGFzc05hbWVzLCBSZWFjdERPTSwgRXJyb3JCb3VuZGFyeSwgUmVhY3RSZXNpemVEZXRlY3RvciwgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIFBvcHBlciwgTW9iaWxlUGFuZWxNYW5hZ2VyLCB0eXBlIE1vZGlmaWVycyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IFVJQ29tcG9uZW50LCB0eXBlIFVJQ29tcG9uZW50UHJvcHMgfSBmcm9tICcuL3VpLWNvbXBvbmVudCdcclxuaW1wb3J0IHsgdHlwZSBUb29sSnNvbiB9IGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IFNjcm9sbENvbnRhaW5lciBmcm9tICcuL3Njcm9sbC1jb250YWluZXInXHJcbmltcG9ydCBQYW5lbFNoZWxsIGZyb20gJy4vcGFuZWwtc2hlbGwnXHJcbmltcG9ydCB7IE11bHRpU291cmNlTWFwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCdcclxuaW1wb3J0IHsgdHlwZSBUb29sU2hlbGxQcm9wcyB9IGZyb20gJy4vYmFzZS10b29sLXNoZWxsJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVUb29sSW5mbyB7XHJcbiAgYWN0aXZlVG9vbE5hbWU6IHN0cmluZ1xyXG4gIGFjdGl2ZVRvb2xUaXRsZTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVRvb2xQcm9wcyBleHRlbmRzIFVJQ29tcG9uZW50UHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICB0b29sSnNvbjogVG9vbEpzb25cclxuICB0b29sTmFtZTogc3RyaW5nXHJcbiAgaXNNb2JpbGU/OiBib29sZWFuXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSWNvblR5cGUge1xyXG4gIGljb246IFJlYWN0LkNvbXBvbmVudENsYXNzPFJlYWN0LlNWR0F0dHJpYnV0ZXM8U1ZHRWxlbWVudD4+XHJcbiAgb25JY29uQ2xpY2s/OiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB2b2lkXHJcbn1cclxuXHJcbmNvbnN0IGRlZmF1bHRJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvd2lkZ2V0cy5zdmcnKVxyXG5jb25zdCBjbG9zZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvY2xvc2UtMTIuc3ZnJylcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlVG9vbDxQIGV4dGVuZHMgQmFzZVRvb2xQcm9wcywgUz4gZXh0ZW5kcyBVSUNvbXBvbmVudDxQLCBTPiB7XHJcbiAgaWNvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICB0b29sTmFtZTogc3RyaW5nID0gbnVsbFxyXG4gIGlzQ29udGFpbmVkVG9Nb2JpbGVQYW5lbCA9IGZhbHNlXHJcbiAgLy8gdGhpcyBwYXJhbSBpcyB1c2VkIHRvIHVwZGF0ZSBwb3AgcG9zaXRpb24gd2hlbiBwYyBjb250ZW50IGhhcyBjaGFuZ2VkXHJcbiAgZ2VuZXJhdGlvbj86IG51bWJlciA9IDBcclxuICBtb2RpZmllcnM6IE1vZGlmaWVyc1xyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5jb250YWluZXJcclxuICAgIGlmIChNb2JpbGVQYW5lbE1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jaGVja0RvbUlzQ29udGFpbmVkKG1hcENvbnRhaW5lcikpIHtcclxuICAgICAgdGhpcy5pc0NvbnRhaW5lZFRvTW9iaWxlUGFuZWwgPSB0cnVlXHJcbiAgICB9XHJcbiAgICB0aGlzLm1vZGlmaWVycyA9IFt7XHJcbiAgICAgIG5hbWU6ICdmbGlwJyxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIHBhZGRpbmc6IDBcclxuICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIGJvdW5kYXJ5OiBtYXBDb250YWluZXJcclxuICAgICAgfVxyXG4gICAgfV1cclxuXHJcbiAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKVxyXG4gICAgdGhpcy5vblBvcHBlclRvZ2dsZSA9IHRoaXMub25Qb3BwZXJUb2dnbGUuYmluZCh0aGlzKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfY3NzU3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNmU2ZTtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyogcG9pbnRlci1ldmVudHM6IGF1dG87XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMyk7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAgIC5leGJtYXAtdWktdG9vbC1pY29uIHtcclxuICAgICAgICBmaWxsOiBibGFjaztcclxuICAgICAgICBsZWZ0OiA4cHg7XHJcbiAgICAgICAgdG9wOiA4cHg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhibWFwLXVpLWV4cGFuZC1jb250ZW50IHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDI1MG1zIGVhc2UtaW4tb3V0LCBtYXJnaW4gMjUwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgICAgbWluLWhlaWdodDogMTBweDtcclxuICAgICAgICBtaW4td2lkdGg6IDEwcHg7XHJcbiAgICAgICAgcGFkZGluZy10b3A6ICR7cG9saXNoZWQucmVtKDEwKX07XHJcbiAgICAgICAgcGFkZGluZy1ib3R0b206ICR7cG9saXNoZWQucmVtKDEwKX07XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6ICR7cG9saXNoZWQucmVtKDIwKX07XHJcblxyXG4gICAgICAgIC5leGJtYXAtdWktZXhwYW5kLWNvbnRlbnQtaGVhZGVyIHtcclxuICAgICAgICAgIG1hcmdpbi1ib3R0b206ICR7cG9saXNoZWQucmVtKDEwKX07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAucGFuZWwtdGl0bGUge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxNil9O1xyXG4gICAgICAgICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLXBsYWNlbWVudC1ib3R0b20ge1xyXG4gICAgICAgIHBhZGRpbmctdG9wOiAwLjI1cmVtICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtcGxhY2VtZW50LWxlZnQge1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMjVyZW0gIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtcmlnaHQge1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogMC4yNXJlbSAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLXBsYWNlbWVudC10b3Age1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwLjI1cmVtICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMTAsMTEwLDExMCwwLjMpO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YWZ0ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2ZTZlNmU7XHJcbiAgICAgICAgd2lkdGg6IDIwJTtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIGFuaW1hdGlvbjogbG9vcGluZy1wcm9ncmVzc3MtYmFyLWFuaSAxNTAwbXMgbGluZWFyIGluZmluaXRlO1xyXG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH0gKi9cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGFic3RyYWN0IGdldFRpdGxlICgpOiBzdHJpbmdcclxuXHJcbiAgYWJzdHJhY3QgZ2V0SWNvbiAoKTogSWNvblR5cGVcclxuXHJcbiAgYWJzdHJhY3QgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50XHJcblxyXG4gIGZvY3VzRGVmYXVsdEVsZW1lbnQgKCkge31cclxuXHJcbiAgb25TaG93UGFuZWwgKCkge31cclxuXHJcbiAgb25DbG9zZVBhbmVsICgpIHt9XHJcblxyXG4gIGRlc3Ryb3kgKCkge31cclxuXHJcbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJ1biB0cnVlIGlmIHRoZSB0b29sIHNob3VsZCBiZSByZW5kZXJlZCBvbiB0aGUgbWFwLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqIGUuZy4gU2NhbGVCYXIgb25seSBzdXBwb3J0cyBtYXAgdmlldywgc28gU2NhbGVCYXJUb29sLmlzQXZhaWxhYmxlKCkgd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIG1hcCBpcyBzY2VuZSB2aWV3LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0F2YWlsYWJsZSAodG9vbFNoZWxsUHJvcHM6IFRvb2xTaGVsbFByb3BzKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHBlclRvZ2dsZSAoZTogYW55KSB7XHJcbiAgICBpZiAoZSkge1xyXG4gICAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicgJiYgZS5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgdGhpcy5fb25JY29uQ2xpY2soKVxyXG4gICAgICAgIHRoaXMuaWNvbkNvbnRhaW5lci5mb2N1cygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX29uS2V5RG93biAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+KSB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbz8uYWN0aXZlVG9vbE5hbWUgIT09IHRoaXMudG9vbE5hbWUpIHtcclxuICAgICAgICB0aGlzLl9vbkljb25DbGljaygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5mb2N1c0RlZmF1bHRFbGVtZW50KClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfb25JY29uQ2xpY2sgKGU/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pIHtcclxuICAgIGNvbnN0IG9uSWNvbkNsaWNrID0gdGhpcy5nZXRJY29uKCkgJiYgdGhpcy5nZXRJY29uKCkub25JY29uQ2xpY2tcclxuICAgIGlmIChvbkljb25DbGljaykge1xyXG4gICAgICBvbkljb25DbGljayhlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGhpcy5nZXRFeHBhbmRQYW5lbCgpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lID09PSB0aGlzLnRvb2xOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKHtcclxuICAgICAgICAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxyXG4gICAgICAgICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLmdldFRpdGxlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMub25TaG93UGFuZWwoKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xyXG4gICAgICAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnRvb2xOYW1lLFxyXG4gICAgICAgIGFjdGl2ZVRvb2xUaXRsZTogdGhpcy5nZXRUaXRsZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIHRoaXMub25TaG93UGFuZWwoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWFkb25seSBfZ2V0Q29udGVudCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9IGNsYXNzTmFtZT0nZXhibWFwLXVpIGV4Ym1hcC11aS10b29sLXBhbmVsJz5cclxuICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICB7dGhpcy5nZXRFeHBhbmRQYW5lbCgpfVxyXG4gICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJNb2JpbGVUb29sKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUENUb29sKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfaW5pdEljb25Db250YWluZXIgKHJlZjogSFRNTEVsZW1lbnQpIHtcclxuICAgIGlmIChyZWYgJiYgIXRoaXMuaWNvbkNvbnRhaW5lcikge1xyXG4gICAgICB0aGlzLmljb25Db250YWluZXIgPSByZWZcclxuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlYWRvbmx5IG9uUmVzaXplID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcclxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdlbmVyYXRpb24gPSBoZWlnaHRcclxuICAgIHRoaXMuZm9yY2VVcGRhdGUoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBfcmVuZGVyUENUb29sICgpIHtcclxuICAgIGxldCB0b29sSWNvbiA9IHRoaXMuZ2V0SWNvbigpXHJcbiAgICBpZiAoIXRvb2xJY29uKSB7XHJcbiAgICAgIHRvb2xJY29uID0ge1xyXG4gICAgICAgIGljb246IGRlZmF1bHRJY29uLFxyXG4gICAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7fVxyXG4gICAgICB9IGFzIEljb25UeXBlXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXhwYW5kUGFuZWwgPSB0aGlzLmdldEV4cGFuZFBhbmVsKClcclxuICAgIGNvbnN0IGFjdGl2ZVRvb2xOYW1lID0gdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lXHJcbiAgICB0aGlzLmdlbmVyYXRpb24gPSB0aGlzLmdlbmVyYXRpb24gKyAxXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aSBleGJtYXAtdWktdG9vbCcgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfSBzdHlsZT17eyB3aWR0aDogJzMycHgnLCBoZWlnaHQ6ICczMnB4JyB9fT5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBzdHlsZT17e319IHJlZj17cmVmID0+IHsgdGhpcy5faW5pdEljb25Db250YWluZXIocmVmKSB9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b24nLCB7XHJcbiAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWxcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudG9vbEpzb24uaXNTaG93SWNvblRpdGxlID8gdGhpcy5nZXRUaXRsZSgpIDogJyd9IG9uQ2xpY2s9e2UgPT4geyB0aGlzLl9vbkljb25DbGljayhlKSB9fSBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvPy5hY3RpdmVUb29sTmFtZSA9PT0gdGhpcy50b29sTmFtZX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH0gb25LZXlEb3duPXt0aGlzLl9vbktleURvd259XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3Rvb2xJY29uLmljb259IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge3RoaXMuaWNvbkNvbnRhaW5lciAmJiAodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpICYmIDxQYW5lbFNoZWxsIG9uRGVzdHJveWVkPXsoKSA9PiB7IHRoaXMub25DbG9zZVBhbmVsKCkgfX0+XHJcbiAgICAgICAgICA8UG9wcGVyXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT0nZXhibWFwLXVpLXBvcHBlcicgcmVmZXJlbmNlPXt0aGlzLmljb25Db250YWluZXJ9IG9wZW49eyEhKHRoaXMudG9vbE5hbWUgPT09IGFjdGl2ZVRvb2xOYW1lICYmIGV4cGFuZFBhbmVsKX0gcGxhY2VtZW50PXt0aGlzLnByb3BzLnRvb2xKc29uLnBhbmVsUGxhY2VtZW50fVxyXG4gICAgICAgICAgICBtb2RpZmllcnM9e3RoaXMubW9kaWZpZXJzfSB2ZXJzaW9uPXt0aGlzLmdlbmVyYXRpb259IG9mZnNldD17WzAsIDRdfSB0b2dnbGU9e3RoaXMub25Qb3BwZXJUb2dnbGV9IGZvcmNlTGF0ZXN0Rm9jdXNFbGVtZW50cz17dHJ1ZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgICAgICB7KHsgbWFwV2lkZ2V0SGVpZ2h0IH0pID0+ICg8ZGl2IGNzcz17dGhpcy5fY3NzU3R5bGUoKX0gY2xhc3NOYW1lPXt0aGlzLmdldEV4cGFuZFBhbmVsUGxhY2VtZW50Q2xhc3NOYW1lKCl9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC11aS1leHBhbmQtY29udGVudCc+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBkLWZsZXggZXhibWFwLXVpLWV4cGFuZC1jb250ZW50LWhlYWRlcic+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsLXRpdGxlIHRleHQtdHJ1bmNhdGUnIHN0eWxlPXt7IG1heFdpZHRoOiAnMjEwcHgnIH19IHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0VGl0bGUoKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpIH19IHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IHRhYkluZGV4PXswfSByb2xlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2Nsb3NlJywgZGVmYXVsdE1lc3NhZ2U6ICdjbG9zZScgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezIwfSBoZWlnaHQ9ezIwfSBpY29uPXtjbG9zZUljb259Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWF4SGVpZ2h0OiBgJHttYXBXaWRnZXRIZWlnaHQgLSA1NX1weGAsIG92ZXJmbG93WTogdGhpcy50b29sTmFtZSAhPT0gJ1NlYXJjaCcgPyAnYXV0bycgOiAnaW5oZXJpdCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZXhwYW5kUGFuZWx9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPlxyXG4gICAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj4pfVxyXG4gICAgICAgICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgIDwvUG9wcGVyPlxyXG4gICAgICAgIDwvUGFuZWxTaGVsbD59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVG9nZ2xlTW9iaWxlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3JlbmRlck1vYmlsZVRvb2wgKCkge1xyXG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKClcclxuICAgIGlmICghdG9vbEljb24pIHtcclxuICAgICAgdG9vbEljb24gPSB7XHJcbiAgICAgICAgaWNvbjogZGVmYXVsdEljb24sXHJcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XHJcbiAgICAgIH0gYXMgSWNvblR5cGVcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleHBhbmRQYW5lbCA9IHRoaXMuZ2V0RXhwYW5kUGFuZWwoKVxyXG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IG1vYmlsZVBhbmVsQ29udGFpbmVyIH0pID0+IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWkgZXhibWFwLXVpLXRvb2wnIGNzcz17dGhpcy5fY3NzU3R5bGUoKX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBzdHlsZT17e319IHJlZj17cmVmID0+IHsgdGhpcy5pY29uQ29udGFpbmVyID0gcmVmIH19IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicsIHtcclxuICAgICAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWxcclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfSBvbktleURvd249e3RoaXMuX29uS2V5RG93bn1cclxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50b29sSnNvbi5pc1Nob3dJY29uVGl0bGUgPyB0aGlzLmdldFRpdGxlKCkgOiAnJ30gb25DbGljaz17ZSA9PiB7IHRoaXMuX29uSWNvbkNsaWNrKGUpIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wtaWNvbicgaWNvbj17dG9vbEljb24uaWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIHt0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbCAmJlxyXG4gICAgICAgICAgICBSZWFjdERPTS5jcmVhdGVQb3J0YWwoPFBhbmVsU2hlbGwgb25EZXN0cm95ZWQ9eygpID0+IHsgdGhpcy5vbkNsb3NlUGFuZWwoKSB9fT48ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAgZC1mbGV4IGZsZXgtY29sdW1uJyBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9PlxyXG4gICAgICAgICAgICAgIDxTY3JvbGxDb250YWluZXIgY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCc+XHJcbiAgICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICAgICAge3RoaXMuZ2V0RXhwYW5kUGFuZWwoKX1cclxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cclxuICAgICAgICAgICAgICA8L1Njcm9sbENvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUGFuZWxTaGVsbD4sIG1vYmlsZVBhbmVsQ29udGFpbmVyKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRFeHBhbmRQYW5lbFBsYWNlbWVudENsYXNzTmFtZSAoKSB7XHJcbiAgICBpZiAoIXRoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBgZXhwYW5kLXBsYWNlbWVudC0ke3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQuc3BsaXQoJy0nKVswXX1gXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldENvbnRlbnQoKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIGNsYXNzTmFtZXMsIFJlYWN0UmVzaXplRGV0ZWN0b3IsIHR5cGUgSW50bFNoYXBlIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBVSUNvbXBvbmVudCwgdHlwZSBVSUNvbXBvbmVudFByb3BzIH0gZnJvbSAnLi91aS1jb21wb25lbnQnXHJcbmltcG9ydCB7IHR5cGUgVG9vbENvbmZpZyB9IGZyb20gJy4uLy4uLy4uL2NvbmZpZydcclxuaW1wb3J0IHsgdHlwZSBMYXlvdXRKc29uLCB0eXBlIEdyb3VwSnNvbiwgdHlwZSBIaWRkZW5FbGVtZW50TmFtZXMsIHR5cGUgVG9vbEpzb24gfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBCYXNlVG9vbFNoZWxsIGZyb20gJy4vYmFzZS10b29sLXNoZWxsJ1xyXG5pbXBvcnQgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi9iYXNlLXRvb2wnXHJcbmltcG9ydCBUb29sTW9kdWxlcyBmcm9tICcuLi90b29sLW1vZHVsZXMnXHJcbmltcG9ydCB7IE1vYmlsZVBhbmVsIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5cclxuaW50ZXJmYWNlIEdyb3VwUHJvcHMgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXHJcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xyXG4gIGdyb3VwTmFtZTogc3RyaW5nXHJcbiAgY2xhc3NOYW1lOiBzdHJpbmdcclxuICBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllc1xyXG4gIGlzTW9iaWxlPzogYm9vbGVhblxyXG4gIGlzTWFpbkdyb3VwPzogYm9vbGVhblxyXG4gIC8vIGNoZWNrUmVzcG9uc2l2ZSgpIHdpbGwgY2hlY2sgaGVpZ2h0IGFuZCB1c2UgcHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoKSB0byBzZXQgZWxlbWVudCBuYW1lcyB0aGF0IG5lZWQgdG8gaGlkZVxyXG4gIGhpZGRlbkVsZW1lbnROYW1lcz86IEhpZGRlbkVsZW1lbnROYW1lc1xyXG4gIC8vIHRydWUgbWVhbnMgd2Ugc2hvdWxkIGhpZGUgdGhlIEdyb3VwIGRpdiB3aXRoIGNsYXNzIC5leGJtYXAtdWktaGlkZGVuLWVsZW1lbnQgYmVjYXVzZSBjaGVja1Jlc3BvbnNpdmUoKSBtZXRob2QgdGhpbmsgdGhlIGhlaWdodCBpcyBzbWFsbC5cclxuICBpc0hpZGRlbj86IGJvb2xlYW5cclxuICBpc1RodW1iTWFwPzogYm9vbGVhblxyXG4gIGludGw/OiBJbnRsU2hhcGVcclxuXHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG4gIG9uU2V0SGlkZGVuRWxlbWVudE5hbWVzPzogKGhpZGRlbkVsZW1lbnROYW1lczogSGlkZGVuRWxlbWVudE5hbWVzKSA9PiB2b2lkXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBHcm91cFN0YXRlcyB7XHJcbiAgYm90dG9tUGFuZWxIZWlnaHQ/OiBudW1iZXJcclxuICB3aWRnZXRXaWR0aD86IG51bWJlclxyXG4gIHdpZGdldEhlaWdodD86IG51bWJlclxyXG4gIGlzVGh1bWJNYXA/OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyb3VwIGV4dGVuZHMgVUlDb21wb25lbnQ8R3JvdXBQcm9wcywgR3JvdXBTdGF0ZXM+IHtcclxuICBnZXRTdHlsZSAoKSB7XHJcbiAgICBjb25zdCBzdHlsZU9iaiA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMuZ3JvdXBOYW1lXS5zdHlsZVxyXG4gICAgY29uc3QgZGlyZWN0aW9uID0gKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMuZ3JvdXBOYW1lXSBhcyBHcm91cEpzb24pLmRpcmVjdGlvblxyXG5cclxuICAgIGxldCBzdHlsZVN0cjogc3RyaW5nID0gJydcclxuXHJcbiAgICBpZiAoc3R5bGVPYmopIHtcclxuICAgICAgY29uc3Qgc3R5bGVTdHJzID0gT2JqZWN0LmtleXMoc3R5bGVPYmopLm1hcCgoc3R5bGVLZXkpID0+IHtcclxuICAgICAgICByZXR1cm4gYCR7c3R5bGVLZXl9OiAke3N0eWxlT2JqW3N0eWxlS2V5XX07YFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgc3R5bGVTdHIgPSBzdHlsZVN0cnMuam9pbignJylcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAke3N0eWxlU3RyfVxyXG5cclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1mbG93OiAke2RpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdjb2x1bW4nIDogJ3Jvdyd9O1xyXG4gICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuXHJcbiAgICAgIC5leGJtYXAtdWktZ3JvdXAtZXhwYW5kLWljb24ge1xyXG4gICAgICAgIGZpbGw6IGJsYWNrO1xyXG4gICAgICAgIGxlZnQ6IDhweDtcclxuICAgICAgICB0b3A6IDhweDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsIHtcclxuICAgICAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMykgMHB4IDBweCAycHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDBweCAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsLXRyYW5zaXRpb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IGhlaWdodCAwLjNzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC10b3VjaC1jb250YWluZXIge1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAzMXB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC1iYXIge1xyXG4gICAgICAgIHdpZHRoOiAzNnB4O1xyXG4gICAgICAgIGhlaWdodDogNHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MzQzNDM7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYm90dG9tUGFuZWxIZWlnaHQ6IDAsXHJcbiAgICAgIGlzVGh1bWJNYXA6ICEhdGhpcy5wcm9wcy5pc01vYmlsZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJc0hpZGRlbkVsZW1lbnQgPSAoZWxlbWVudE5hbWUpID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbkVsZW1lbnROYW1lcykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXMuaW5jbHVkZXMoZWxlbWVudE5hbWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIaWRlIHNvbWUgdG9vbHMgaWYgd2lkZ2V0IGhlZ2l0aCBpcyB0b28gc21hbGwuXHJcbiAgICogVGhpcyBtZXRob2Qgb25seSBoaWRlIGNoaWxkIGVsZW1lbnQgbmFtZXMgaWYgY3VycmVudCBncm91cCBpcyBtYWluIGdyb3VwIGFuZCBpbiBtb2JpbGUgc2l6ZS5cclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIGNoZWNrUmVzcG9uc2l2ZSA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRoaXMucHJvcHMuaXNNYWluR3JvdXAgfHwgIXRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5ID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5XHJcbiAgICBjb25zdCBhYm92ZUhlaWdodCA9IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0XHJcblxyXG4gICAgLy8gc2VlIGlzc3VlICMyODYyIGZvciBtb3JlIGRldGFpbHNcclxuICAgIGxldCBoaWRkZW5FbGVtZW50TmFtZXM6IHN0cmluZ1tdID0gW11cclxuXHJcbiAgICBpZiAoYWJvdmVIZWlnaHQgPj0gNDY1KSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IFtdXHJcbiAgICB9IGVsc2UgaWYgKGFib3ZlSGVpZ2h0ID49IDQwMCAmJiBhYm92ZUhlaWdodCA8IDQ2NSkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlMSB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA+PSAzMjAgJiYgYWJvdmVIZWlnaHQgPCA0MDApIHtcclxuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzID0gbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5Py5zdGFnZTIgfHwgW11cclxuICAgIH0gZWxzZSBpZiAoYWJvdmVIZWlnaHQgPj0gMjUwICYmIGFib3ZlSGVpZ2h0IDwgMzIwKSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneT8uc3RhZ2UzIHx8IFtdXHJcbiAgICB9IGVsc2UgaWYgKGFib3ZlSGVpZ2h0ID49IDE2MCAmJiBhYm92ZUhlaWdodCA8IDI1MCkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlNCB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA+PSA1NCAmJiBhYm92ZUhlaWdodCA8IDE2MCkge1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXMgPSBtb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3k/LnN0YWdlNSB8fCBbXVxyXG4gICAgfSBlbHNlIGlmIChhYm92ZUhlaWdodCA8IDU0KSB7XHJcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lcyA9IG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneT8uc3RhZ2U2IHx8IFtdXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhoaWRkZW5FbGVtZW50TmFtZXMpXHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHdpZGdldFdpZHRoOiB3aWR0aCxcclxuICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHRcclxuICAgICAgLy8gaXNUaHVtYk1hcDogZmFsc2VcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJldHVybk51bGxOb2RlID0gKGtleT8pID0+IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiA8c3BhbiBrZXk9e2tleX0gLz5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0lzTGFzdEVsZW1lbnQgPSAocGFyZW50R3JvdXBKc29uOiBHcm91cEpzb24sIHRvb2xKc29uOiBUb29sSnNvbikgPT4ge1xyXG4gICAgY29uc3QgdG9vbE5hbWUgPSB0b29sSnNvbi50b29sTmFtZVxyXG4gICAgY29uc3QgbGF5b3V0SnNvbiA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IGxheW91dEpzb24ubGF5b3V0W3BhcmVudEdyb3VwSnNvbi5ncm91cE5hbWVdLmNoaWxkcmVuXHJcbiAgICBjb25zdCBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YodG9vbE5hbWUpXHJcbiAgICBpZiAoaW5kZXggPT09IGNoaWxkcmVuLmxlbmd0aCAtIDEpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGxldCBpc0xhc3RFbGVtZW50OiBib29sZWFuID0gdHJ1ZVxyXG4gICAgICBmb3IgKGxldCBpID0gKGluZGV4ICsgMSk7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnROYW1lID0gY2hpbGRyZW5baV1cclxuICAgICAgICBpZiAobGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZHJlbltpXV0udHlwZSA9PT0gJ0dST1VQJykge1xyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICB9IGVsc2UgaWYgKCghVG9vbE1vZHVsZXNbZWxlbWVudE5hbWVdLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtlbGVtZW50TmFtZX1gXSkgfHxcclxuICAgICAgICAgIChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluY2x1ZGVzKGVsZW1lbnROYW1lKSkpKSB7XHJcbiAgICAgICAgICBpc0xhc3RFbGVtZW50ID0gZmFsc2VcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpc0xhc3RFbGVtZW50XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUGFuZWxIZWlnaHRDaGFuZ2UgPSAocGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBib3R0b21QYW5lbEhlaWdodDogcGFuZWxIZWlnaHQgfSwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0TW9iaWxlUGFuZWxJbkNvbnRleHQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBtb2JpbGVQYW5lbENvbnRhaW5lciwgbWFwV2lkZ2V0SWQgfSkgPT4gKFxyXG4gICAgICAgICAgPE1vYmlsZVBhbmVsXHJcbiAgICAgICAgICAgIG1hcFdpZGdldElkPXttYXBXaWRnZXRJZH0gdGl0bGU9e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sVGl0bGV9XHJcbiAgICAgICAgICAgIG9wZW49eyEhdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gb25DbG9zZT17KCkgPT4geyB0aGlzLmhhbmRsZVRvZ2dsZU1vYmlsZVBhbmVsKCkgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9eyhjb250YWluZXIpID0+IHsgaWYgKG1vYmlsZVBhbmVsQ29udGFpbmVyICYmIGNvbnRhaW5lcikgeyBjb250YWluZXIuYXBwZW5kQ2hpbGQobW9iaWxlUGFuZWxDb250YWluZXIpIH0gfX0gLz5cclxuICAgICAgICAgIDwvTW9iaWxlUGFuZWw+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRHcm91cENvbnRlbnQgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbikgPT4ge1xyXG4gICAgaWYgKCFsYXlvdXRKc29uKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gbGF5b3V0SnNvbi5sYXlvdXRbdGhpcy5wcm9wcy5ncm91cE5hbWVdICYmIGxheW91dEpzb24ubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXS5jaGlsZHJlblxyXG4gICAgICBpZiAodGhpcy5jaGVja0lzU2hvd0dyb3VwKGxheW91dEpzb24sIGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyhcclxuICAgICAgICAgIGBleGJtYXAtdWkgZXhibWFwLXVpLWdyb3VwIGV4Ym1hcC11aS1ncm91cC0ke3RoaXMucHJvcHMuZ3JvdXBOYW1lfWAsXHJcbiAgICAgICAgICB0aGlzLnByb3BzLmNsYXNzTmFtZSxcclxuICAgICAgICAgIHsgJ2V4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCc6IHRoaXMucHJvcHMuaXNIaWRkZW4gfVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgaWQ9eyh0aGlzLnByb3BzLmlzTWFpbkdyb3VwID8gdGhpcy5wcm9wcy5tYXBXaWRnZXRJZCA6IHVuZGVmaW5lZCl9XHJcbiAgICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9e2dyb3VwQ2xhc3NOYW1lfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7Y2hpbGRyZW4ubWFwKChrZXksIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKCFsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKGluZGV4KVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlID09PSAnR1JPVVAnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8R3JvdXBcclxuICAgICAgICAgICAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0gaXNIaWRkZW49e3RoaXMuY2hlY2tJc0hpZGRlbkVsZW1lbnQoa2V5KX0gY2xhc3NOYW1lPXsobGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIEdyb3VwSnNvbikuY2xhc3NOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0uc3R5bGV9XHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH0gbGF5b3V0Q29uZmlnPXtsYXlvdXRKc29ufSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLnRvb2xDb25maWd9IGlzTW9iaWxlPXt0aGlzLnByb3BzLmlzTW9iaWxlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XHJcbiAgICAgICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGdyb3VwTmFtZT17a2V5fSBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb31cclxuICAgICAgICAgICAgICAgICAgICBoaWRkZW5FbGVtZW50TmFtZXM9e3RoaXMucHJvcHMuaGlkZGVuRWxlbWVudE5hbWVzfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNUaHVtYk1hcD17dGhpcy5wcm9wcy5pc01haW5Hcm91cCA/IHRoaXMuc3RhdGUuaXNUaHVtYk1hcCA6IHRoaXMucHJvcHMuaXNUaHVtYk1hcH1cclxuICAgICAgICAgICAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0udHlwZSA9PT0gJ1RPT0wnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IChsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pLnRvb2xOYW1lXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3VHlwZSA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnR5cGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIDJEIE1hcFZpZXcuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRvb2xOYW1lID09PSAnTmF2aWdhdGlvbicgJiYgdmlld1R5cGUgPT09ICcyZCcpIHx8ICh0b29sTmFtZSA9PT0gJ1NjYWxlQmFyJyAmJiB2aWV3VHlwZSA9PT0gJzNkJykpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFUb29sTW9kdWxlc1trZXldLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtrZXl9YF0pIHx8IChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluY2x1ZGVzKGtleSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPEJhc2VUb29sU2hlbGxcclxuICAgICAgICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW49e3RoaXMuY2hlY2tJc0hpZGRlbkVsZW1lbnQoa2V5KX0ga2V5PXtpbmRleH0gbGF5b3V0Q29uZmlnPXtsYXlvdXRKc29ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ31cclxuICAgICAgICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSB0b29sTmFtZT17a2V5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTGFzdEVsZW1lbnQ9e3RoaXMuY2hlY2tJc0xhc3RFbGVtZW50KGxheW91dEpzb24uZWxlbWVudHNbdGhpcy5wcm9wcy5ncm91cE5hbWVdIGFzIEdyb3VwSnNvbiwgbGF5b3V0SnNvbi5lbGVtZW50c1trZXldIGFzIFRvb2xKc29uKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAge3RoaXMucHJvcHMuaXNNYWluR3JvdXAgJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+fVxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiB0aGlzLnByb3BzLmlzTW9iaWxlICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSAhPT0gJ1NlbGVjdCcgJiYgdGhpcy5nZXRNb2JpbGVQYW5lbEluQ29udGV4dCgpfVxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPSdleGJtYXAtdWkgdy0xMDAnXHJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxyXG4gICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgdG91Y2hBY3Rpb246ICdub25lJyxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgISh0aGlzLnN0YXRlLmlzVGh1bWJNYXAgfHwgdGhpcy5wcm9wcy5pc1RodW1iTWFwKSA/ICdibG9jaycgOiAnbm9uZSdcclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS1ib3R0b20tcGFuZWwgZXhibWFwLXVpIHctMTAwIGV4cGFuZC1tb2JpbGUtcGFuZWxgfVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgb3ZlcmZsb3c6ICdoaWRkZW4nLCBwb2ludGVyRXZlbnRzOiAnYXV0bycsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCB0b3VjaEFjdGlvbjogJ25vbmUnIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJz5cclxuICAgICAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLmhhbmRsZVBhbmVsSGVpZ2h0Q2hhbmdlfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZSgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNoZWNrSXNTaG93R3JvdXAgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbiwgY2hpbGRyZW46IHN0cmluZ1tdKSA9PiB7XHJcbiAgICBpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHRvb2xOYW1lcyA9IFtdXHJcbiAgICAgIHRoaXMuZmluZEFsbFRvb2xOYW1lcyhsYXlvdXRKc29uLCBjaGlsZHJlbiwgdG9vbE5hbWVzKVxyXG4gICAgICBsZXQgaXNTaG93R3JvdXAgPSBmYWxzZVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2xOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7dG9vbE5hbWVzW2ldfWBdIHx8ICFUb29sTW9kdWxlc1t0b29sTmFtZXNbaV1dLmdldElzTmVlZFNldHRpbmcoKSB8fFxyXG4gICAgICAgICAgKGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcyAmJiBsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMuaW5jbHVkZXModG9vbE5hbWVzW2ldKSkpIHtcclxuICAgICAgICAgIGlzU2hvd0dyb3VwID0gdHJ1ZVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGlzU2hvd0dyb3VwXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmaW5kQWxsVG9vbE5hbWVzID0gKGxheW91dEpzb246IExheW91dEpzb24sIGNoaWxkcmVuOiBzdHJpbmdbXSwgdG9vbE5hbWVzOiBzdHJpbmdbXSkgPT4ge1xyXG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoaWxkTmFtZSA9IGNoaWxkcmVuW2ldXHJcbiAgICAgIGNvbnN0IGVsZW1lbnRJbmZvID0gbGF5b3V0SnNvbi5lbGVtZW50c1tjaGlsZE5hbWVdXHJcblxyXG4gICAgICBpZiAoZWxlbWVudEluZm8udHlwZSA9PT0gJ0dST1VQJykge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwTmFtZSA9IGVsZW1lbnRJbmZvLmdyb3VwTmFtZVxyXG4gICAgICAgIHRoaXMuZmluZEFsbFRvb2xOYW1lcyhsYXlvdXRKc29uLCBsYXlvdXRKc29uLmxheW91dFtncm91cE5hbWVdICYmIGxheW91dEpzb24ubGF5b3V0W2dyb3VwTmFtZV0uY2hpbGRyZW4sIHRvb2xOYW1lcylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b29sTmFtZXMucHVzaChjaGlsZHJlbltpXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZy5jYW5TZWxlY3QpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAgfX0+XHJcbiAgICAgICAgICA8ZGl2IGlkPXtgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS13aXRoLXNlbGVjdC1jb250YWluZXJgfSBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDAsIHJpZ2h0OiAwIH19PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgICAgICAgIHt0aGlzLmdldEdyb3VwQ29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZyl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEdyb3VwQ29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZylcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIG9uRGVzdHJveWVkPzogKCkgPT4gdm9pZFxyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhbmVsU2hlbGwgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCB1bmtub3duPiB7XHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMucHJvcHMub25EZXN0cm95ZWQpIHtcclxuICAgICAgdGhpcy5wcm9wcy5vbkRlc3Ryb3llZCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgPC8+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5pbnRlcmZhY2UgU2Nyb2xsQ29udGFpbmVyUHJvcHMge1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xyXG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllc1xyXG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbENvbnRhaW5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2Nyb2xsQ29udGFpbmVyUHJvcHMsIHVua25vd24+IHtcclxuICBtb3ZlWSA9IDBcclxuICBzdGFydFkgPSAwXHJcbiAgaXNSZWdpc3RlZCA9IGZhbHNlXHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJUb3VjaEV2ZW50ID0gKHJlZjogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGlmIChyZWYgJiYgIXRoaXMuaXNSZWdpc3RlZCkge1xyXG4gICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMubW92ZVkgPSAwXHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSB0b3VjaC5jbGllbnRZXHJcbiAgICAgIH0sIHsgcGFzc2l2ZTogZmFsc2UgfSlcclxuXHJcbiAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cclxuICAgICAgICB0aGlzLm1vdmVZID0gKHRvdWNoLmNsaWVudFkgLSB0aGlzLnN0YXJ0WSkgKiAtMVxyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WVxyXG5cclxuICAgICAgICByZWYuc2Nyb2xsVG9wID0gcmVmLnNjcm9sbFRvcCArIHRoaXMubW92ZVlcclxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxyXG5cclxuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5tb3ZlWSA9IDBcclxuICAgICAgICB0aGlzLnN0YXJ0WSA9IDBcclxuICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KVxyXG5cclxuICAgICAgdGhpcy5pc1JlZ2lzdGVkID0gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XHJcbiAgICAgICAgcmVmPXtyZWYgPT4ge1xyXG4gICAgICAgICAgdGhpcy5yZWdpc3RlclRvdWNoRXZlbnQocmVmKVxyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCB0eXBlIElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVUlDb21wb25lbnRQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXNcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVJQ29tcG9uZW50PFAgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzLCBTPiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UCwgUz4ge1xyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgUmVhY3RET00sIGNzcywganN4LCBBcHBNb2RlLCB0eXBlIFNpemVNb2RlTGF5b3V0SnNvbiwgdHlwZSBJbnRsU2hhcGUsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBUb29sQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnJ1xyXG5pbXBvcnQgeyB0eXBlIExheW91dEpzb24sIHR5cGUgR3JvdXBKc29uLCB0eXBlIExheW91dEl0ZW1Kc29uLCB0eXBlIEhpZGRlbkVsZW1lbnROYW1lcyB9IGZyb20gJy4vY29uZmlnJ1xyXG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9iYXNlL2dyb3VwJ1xyXG5pbXBvcnQgdHlwZSB7IEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbiAgbGF5b3V0Q29uZmlnOiBMYXlvdXRKc29uXHJcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZ1xyXG5cclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBpc01vYmlsZTogYm9vbGVhblxyXG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzXHJcblxyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBsYXlvdXRzOiB7IFtuYW1lOiBzdHJpbmddOiBTaXplTW9kZUxheW91dEpzb24gfVxyXG4gIExheW91dEVudHJ5PzogYW55XHJcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmdcclxuXHJcbiAgd2lkZ2V0SGVpZ2h0PzogbnVtYmVyXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG5cclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBMYXlvdXRTdGF0ZSB7XHJcbiAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbD86IEpTWC5FbGVtZW50XHJcbiAgaGlkZGVuRWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXNcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgeyBBY3RpdmVUb29sSW5mbyB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzLCBMYXlvdXRTdGF0ZT4ge1xyXG4gIGNvbnRlbnRSZWY6IEhUTUxFbGVtZW50XHJcbiAgLy8gdGhpcyBpdGVtIGlzIHVzZWQgdG8gc29sdmUgdGhlIGZsYXNoIGlzc3VlIHdoZW4gc3dpdGggbXVsaXRpbWFwXHJcbiAgY2xvbmVMYXlvdXRSZWY6IEhUTUxFbGVtZW50IHwgTm9kZSA9IG51bGxcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICB0b29sc0NvbnRlbnRJbk1vYmlsZUV4cGFuZFBhbmVsOiBudWxsLFxyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXM6IFtdXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb250ZW50UmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIHRoaXMuY29udGVudFJlZi5jbGFzc05hbWUgPSAnZXhibWFwLXVpIGVzcmktdWktaW5uZXItY29udGFpbmVyIG1hcC10b29sLWxheW91dCdcclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIHotaW5kZXg6IDA7XHJcblxyXG4gICAgICAuZXhwYW5kLXBhbmVsLXRyYW5zaXRpb24ge1xyXG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcywgcmlnaHQgMC4zcztcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwIHtcclxuICAgICAgICA+IGRpdjpmaXJzdC1vZi10eXBlOm50aC1sYXN0LW9mLXR5cGUoMSkge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5leGJtYXAtdWktaGlkZGVuLWVsZW1lbnQge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmV4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0IHtcclxuICAgICAgICBtYXgtaGVpZ2h0OiAke3RoaXMuZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQodGhpcy5wcm9wcy53aWRnZXRIZWlnaHQpfXB4O1xyXG4gICAgICAgIG92ZXJmbG93OiBhdXRvXHJcbiAgICAgIH1cclxuICAgICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQgPSAod2lkZ2V0SGVpZ2h0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgaWYgKCF3aWRnZXRIZWlnaHQpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh3aWRnZXRIZWlnaHQgPCA2NSkge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0SGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0IC0gNjVcclxuICAgICAgICBpZiAocmVzdWx0SGVpZ2h0IDwgMzAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0SGVpZ2h0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiAzMDBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRTZXRIaWRkZW5FbGVtZW50TmFtZXMgPSAoZWxlbWVudE5hbWVzOiBIaWRkZW5FbGVtZW50TmFtZXMpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBoaWRkZW5FbGVtZW50TmFtZXM6IGVsZW1lbnROYW1lc1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldExheW91dENvbnRlbnQgKGxheW91dEpzb246IExheW91dEpzb24pIHtcclxuICAgIGlmICghbGF5b3V0SnNvbiB8fCAhdGhpcy5wcm9wcy50b29sQ29uZmlnKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9PlxyXG4gICAgICAgICAge09iamVjdC5rZXlzKGxheW91dEpzb24ubGF5b3V0KS5tYXAoKGtleSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudEl0ZW0gPSBsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uXHJcbiAgICAgICAgICAgIGNvbnN0IGxheW91dEl0ZW06IExheW91dEl0ZW1Kc29uID0gbGF5b3V0SnNvbi5sYXlvdXRba2V5XVxyXG5cclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50SXRlbSB8fCBlbGVtZW50SXRlbS50eXBlICE9PSAnR1JPVVAnIHx8ICFsYXlvdXRJdGVtLmlzTWFpbkdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8R3JvdXBcclxuICAgICAgICAgICAgICAgIG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSBjbGFzc05hbWU9e2VsZW1lbnRJdGVtLmNsYXNzTmFtZX0gc3R5bGU9e2VsZW1lbnRJdGVtLnN0eWxlfVxyXG4gICAgICAgICAgICAgICAgaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTWFpbkdyb3VwXHJcbiAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259IHRvb2xDb25maWc9e3RoaXMucHJvcHMudG9vbENvbmZpZ30gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99XHJcbiAgICAgICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gZ3JvdXBOYW1lPXtrZXl9IG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX1cclxuICAgICAgICAgICAgICAgIGhpZGRlbkVsZW1lbnROYW1lcz17bGF5b3V0SnNvbi5tb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3kgJiYgdGhpcy5zdGF0ZS5oaWRkZW5FbGVtZW50TmFtZXN9IGludGw9e3RoaXMucHJvcHMuaW50bH1cclxuICAgICAgICAgICAgICAgIG9uU2V0SGlkZGVuRWxlbWVudE5hbWVzPXt0aGlzLmhhbmRTZXRIaWRkZW5FbGVtZW50TmFtZXN9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxyXG4gICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoKHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSkge1xyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudFJlZilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBMYXlvdXRQcm9wcykge1xyXG4gICAgaWYgKHByZXZQcm9wcy5hcHBNb2RlICE9PSB0aGlzLnByb3BzLmFwcE1vZGUgJiYgdGhpcy5wcm9wcy5hcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnbikge1xyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpKSB7XHJcbiAgICAgIGNvbnN0IGNsb25lRG9tcyA9IHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0b29sLWxheW91dC1jbG9uZScpXHJcbiAgICAgIGlmIChjbG9uZURvbXMgJiYgY2xvbmVEb21zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsb25lRG9tcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY2xvbmVEb21zW2ldLnJlbW92ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldz8uaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXc/LmlkKSB7XHJcbiAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSB0aGlzLmNvbnRlbnRSZWYuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAodGhpcy5jbG9uZUxheW91dFJlZiBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZCgndG9vbC1sYXlvdXQtY2xvbmUnKVxyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2xvbmVMYXlvdXRSZWYgJiYgdGhpcy5jbG9uZUxheW91dFJlZi5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICB0aGlzLmNsb25lTGF5b3V0UmVmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jbG9uZUxheW91dFJlZilcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jbG9uZUxheW91dFJlZiA9IG51bGxcclxuICAgICAgfSwgNTAwKVxyXG5cclxuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikge1xyXG4gICAgICAgIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNsb25lTGF5b3V0UmVmKVxyXG4gICAgICAgIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmNvbnRlbnRSZWYpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudFJlZilcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICB7UmVhY3RET00uY3JlYXRlUG9ydGFsKHRoaXMuZ2V0TGF5b3V0Q29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZyksIHRoaXMuY29udGVudFJlZil9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBSZWFjdCwgUmVhY3RET00sIGpzeCwgdHlwZSBBcHBNb2RlLCB0eXBlIFNpemVNb2RlTGF5b3V0SnNvbiwgSW1tdXRhYmxlLCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IExheW91dEVudHJ5IH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xyXG5pbXBvcnQgeyBjaGVja0lzTGl2ZSB9IGZyb20gJy4uL3V0aWxzJ1xyXG5cclxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcclxuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3XHJcblxyXG4gIGFwcE1vZGU6IEFwcE1vZGVcclxuICBsYXlvdXRzOiB7IFtuYW1lOiBzdHJpbmddOiBTaXplTW9kZUxheW91dEpzb24gfVxyXG4gIExheW91dEVudHJ5PzogYW55XHJcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmdcclxuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuaW50ZXJmYWNlIExheW91dFN0YXRlIHt9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzLCBMYXlvdXRTdGF0ZT4ge1xyXG4gIGZpeGVkTGF5b3V0UmVmOiBIVE1MRWxlbWVudFxyXG4gIC8vIHRoaXMgaXRlbSBpcyB1c2VkIHRvIHNvbHZlIHRoZSBmbGFzaCBpc3N1ZSB3aGVuIHN3aXRoIG11bGl0aW1hcFxyXG4gIGNsb25lTGF5b3V0UmVmOiBIVE1MRWxlbWVudCB8IE5vZGUgPSBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHt9XHJcblxyXG4gICAgdGhpcy5maXhlZExheW91dFJlZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCBtYXAtZml4LWxheW91dCdcclxuICAgIHRoaXMuZml4ZWRMYXlvdXRSZWYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmLnN0eWxlLnpJbmRleCA9ICcwJ1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikpIHtcclxuICAgICAgdGhpcy5pbnNlcnRGaXhlZERvbSh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLCB0aGlzLmZpeGVkTGF5b3V0UmVmKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IExheW91dFByb3BzLCBwcmV2U3RhdGU6IExheW91dFN0YXRlKSB7XHJcbiAgICBpZiAoIXByZXZQcm9wcy5qaW11TWFwVmlldyB8fCAhdGhpcy5wcm9wcy5qaW11TWFwVmlldykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpKSB7XHJcbiAgICAgIGNvbnN0IGNsb25lRG9tcyA9IHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsYXlvdXQtY2xvbmUnKVxyXG4gICAgICBpZiAoY2xvbmVEb21zICYmIGNsb25lRG9tcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbG9uZURvbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNsb25lRG9tc1tpXS5yZW1vdmUoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpIHtcclxuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aSkge1xyXG4gICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYgPSB0aGlzLmZpeGVkTGF5b3V0UmVmLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAodGhpcy5jbG9uZUxheW91dFJlZiBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnbGF5b3V0LWNsb25lJylcclxuICAgICAgICB0aGlzLmluc2VydEZpeGVkRG9tKHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lciwgdGhpcy5jbG9uZUxheW91dFJlZilcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5jbG9uZUxheW91dFJlZiAmJiB0aGlzLmNsb25lTGF5b3V0UmVmLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9uZUxheW91dFJlZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY2xvbmVMYXlvdXRSZWYpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmNsb25lTGF5b3V0UmVmID0gbnVsbFxyXG4gICAgICAgIH0sIDUwMClcclxuXHJcbiAgICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5jb250YWlucyh0aGlzLmZpeGVkTGF5b3V0UmVmKSkge1xyXG4gICAgICAgICAgcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuZml4ZWRMYXlvdXRSZWYpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLmluc2VydEZpeGVkRG9tKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIsIHRoaXMuZml4ZWRMYXlvdXRSZWYpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpbnNlcnRGaXhlZERvbSA9IChjb250YWluZXI6IEhUTUxFbGVtZW50LCBpbnNlcnRlZERvbSkgPT4ge1xyXG4gICAgaWYgKCFjb250YWluZXIgfHwgIWluc2VydGVkRG9tKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRvb2xMYXlvdXREb21zID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21hcC10b29sLWxheW91dCcpXHJcbiAgICBpZiAodG9vbExheW91dERvbXMgJiYgdG9vbExheW91dERvbXNbMF0pIHtcclxuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShpbnNlcnRlZERvbSwgdG9vbExheW91dERvbXNbMF0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5zZXJ0ZWREb20pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNYXBGaXhlZExheW91dCA9ICgpID0+IHtcclxuICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xyXG4gICAgICBjb25zdCBMYXlvdXRFbnRyeSA9IHRoaXMucHJvcHMuTGF5b3V0RW50cnlcclxuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5wcm9wcy5sYXlvdXRzICYmIHRoaXMucHJvcHMubGF5b3V0cy5NYXBGaXhlZExheW91dFxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxMYXlvdXRFbnRyeVxyXG4gICAgICAgICAgbGF5b3V0cz17bGF5b3V0IHx8IG51bGx9IGlzSW5XaWRnZXQgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCBtYXAtZml4LWxheW91dCcsXHJcbiAgICAgICAgICAgIHsgJ3dpZGdldC1tYXAtdXNlbWFzayc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpLCAnbWFwLWlzLWxpdmUtbW9kZSc6IGNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9XHJcbiAgICAgICAgLz5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5wcm9wcy5sYXlvdXRzICYmIHRoaXMucHJvcHMubGF5b3V0cy5NYXBGaXhlZExheW91dFxyXG4gICAgICByZXR1cm4gPExheW91dEVudHJ5IGxheW91dHM9e2xheW91dCA/IEltbXV0YWJsZShsYXlvdXQpIDogbnVsbH0gY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCBtYXAtaXMtbGl2ZS1tb2RlIG1hcC1maXgtbGF5b3V0JyAvPlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICB7UmVhY3RET00uY3JlYXRlUG9ydGFsKHRoaXMuZ2V0TWFwRml4ZWRMYXlvdXQoKSwgdGhpcy5maXhlZExheW91dFJlZil9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHNlZW1zIHdlIGNhbid0IHJ1biB0byBoZXJlP1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXRNYXBGaXhlZExheW91dCgpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiB9IGZyb20gJy4vY29uZmlnJ1xyXG5cclxuY29uc3QgbW9iaWxlTGF5b3V0SnNvbjogTGF5b3V0SnNvbiA9IHtcclxuICBlbGVtZW50czoge1xyXG4gICAgbWFpbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21haW5Hcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGZsZXgtY29sdW1uJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICB0b3A6ICcwcHgnLFxyXG4gICAgICAgIGxlZnQ6ICcwcHgnLFxyXG4gICAgICAgIGJvdHRvbTogJzBweCcsXHJcbiAgICAgICAgcmlnaHQ6ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB0b3BHcm91cDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICd0b3BHcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggdy0xMDAgYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwYWRkaW5nOiAnMTBweCAxMHB4IDAgMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1pZEdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2ZsZXgtZ3Jvdy0xIGQtZmxleCB3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJvdHRvbUdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbUdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCB3LTEwMCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4nXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLWxlZnQtdG9wJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cC1sZWZ0LXRvcCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICBsZWZ0OiAnMHB4JyxcclxuICAgICAgICB0b3A6ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtbGVmdC1ib3R0b20nOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwLWxlZnQtYm90dG9tJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggZmxleC1jb2x1bW4nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGxlZnQ6ICcwcHgnLFxyXG4gICAgICAgIGJvdHRvbTogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCc6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnMHB4JyxcclxuICAgICAgICByaWdodDogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJyxcclxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGJvdHRvbTogJzEwcHgnLFxyXG4gICAgICAgIHJpZ2h0OiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNlYXJjaDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VhcmNoJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2ZsZXgtZ3Jvdy0xJ1xyXG4gICAgfSxcclxuICAgIEZ1bGxTY3JlZW46IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Z1bGxTY3JlZW4nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLWxlZnQnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIExvY2F0ZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTG9jYXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIENsZWFyQWN0aW9uRGF0YToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQ2xlYXJBY3Rpb25EYXRhJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBDb21wYXNzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIGNsYXNzTmFtZTogJ21iLTAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICcxMHB4JyxcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTWFwU3dpdGNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNYXBTd2l0Y2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tbGVmdCc6ICcxMHB4JyxcclxuICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcxMHB4ICFpbXBvcnRhbnQnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBab29tOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBIb21lOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIExheWVyczoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTGF5ZXJzJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0JyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VsZWN0OiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3QnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgU2VsZWN0U3RhdGU6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTWVhc3VyZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTWVhc3VyZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBTY2FsZUJhcjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2NhbGVCYXInLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBtYWluR3JvdXA6IHtcclxuICAgICAgaXNNYWluR3JvdXA6IHRydWUsXHJcbiAgICAgIGNoaWxkcmVuOiBbJ3RvcEdyb3VwJywgJ21pZEdyb3VwJywgJ2JvdHRvbUdyb3VwJ11cclxuICAgIH0sXHJcbiAgICB0b3BHcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnRnVsbFNjcmVlbiddXHJcbiAgICB9LFxyXG4gICAgbWlkR3JvdXA6IHtcclxuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtbGVmdC10b3AnLCAnbWlkR3JvdXAtbGVmdC1ib3R0b20nLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1sZWZ0LXRvcCc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcyddXHJcbiAgICB9LFxyXG4gICAgJ21pZEdyb3VwLWxlZnQtYm90dG9tJzoge1xyXG4gICAgICBjaGlsZHJlbjogWydNYXBTd2l0Y2gnLCAnU2NhbGVCYXInXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZScsICdTZWxlY3QnXVxyXG4gICAgfSxcclxuICAgICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ0xvY2F0ZScsICdDbGVhckFjdGlvbkRhdGEnXVxyXG4gICAgfSxcclxuICAgIGJvdHRvbUdyb3VwOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NlbGVjdFN0YXRlJ11cclxuICAgIH1cclxuICB9LFxyXG4gIG1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneToge1xyXG4gICAgLy8gaGVpZ2h0OiA0MDAtNDY1XHJcbiAgICBzdGFnZTE6IFsnTWVhc3VyZScsICdMb2NhdGUnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDMyMC00MDBcclxuICAgIHN0YWdlMjogWydNZWFzdXJlJywgJ1NlbGVjdCcsICdMb2NhdGUnLCAnYm90dG9tR3JvdXAnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDI1MC0zMjBcclxuICAgIHN0YWdlMzogWydtaWRHcm91cC1yaWdodC1jb250ZW50LXRvcCcsICdMb2NhdGUnLCAnYm90dG9tR3JvdXAnXSxcclxuXHJcbiAgICAvLyBoZWlnaHQ6IDE2MC0yNTBcclxuICAgIHN0YWdlNDogWydNYXBTd2l0Y2gnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnSG9tZScsICdMb2NhdGUnLCAnQ2xlYXJBY3Rpb25EYXRhJywgJ2JvdHRvbUdyb3VwJ10sXHJcblxyXG4gICAgLy8gaGVpZ2h0OiA1NC0xNjBcclxuICAgIHN0YWdlNTogWydtaWRHcm91cCcsICdib3R0b21Hcm91cCddLFxyXG5cclxuICAgIC8vIGhlaWdodDogMC01NFxyXG4gICAgc3RhZ2U2OiBbJ3RvcEdyb3VwJywgJ21pZEdyb3VwJywgJ2JvdHRvbUdyb3VwJ11cclxuICB9LFxyXG4gIGxvY2tUb29sTmFtZXM6IFtdXHJcbn1cclxuXHJcbmNvbnN0IG1vYmlsZUxheW91dEpzb25zOiBMYXlvdXRKc29uW10gPSBbbW9iaWxlTGF5b3V0SnNvbl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vYmlsZUxheW91dEpzb25zXHJcbiIsImltcG9ydCB7IHR5cGUgTGF5b3V0SnNvbiB9IGZyb20gJy4vY29uZmlnJ1xyXG5cclxuY29uc3QgbGF5b3V0SnNvbjE6IExheW91dEpzb24gPSB7XHJcbiAgZWxlbWVudHM6IHtcclxuICAgIGxlZnRUb3BDb250YWluZXI6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnbGVmdFRvcENvbnRhaW5lcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzE1cHgnLFxyXG4gICAgICAgIGxlZnQ6ICcxNXB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdG9yOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ25hdmlnYXRvcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXJpZ2h0JzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdpbnRlcmFjdCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzE1cHgnLFxyXG4gICAgICAgIHJpZ2h0OiAnMTVweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGJvdHRvbToge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b20nLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ3ctMTAwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICBib3R0b206ICcwcHgnLFxyXG4gICAgICAgIGxlZnQ6ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUxJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTEnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCBzY2FsZS1hdHRyaWJ1dGlvbi14eS1ncm91cCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnMHB4JyxcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAnYm90dG9tLWxpbmUyJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTInLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGFsaWduLWl0ZW1zLWVuZCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ3BhZGRpbmctbGVmdCc6ICcxNXB4JyxcclxuICAgICAgICAncGFkZGluZy1yaWdodCc6ICcxNXB4JyxcclxuICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJzoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lcicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAnYWxpZ24taXRlbXMtZW5kJ1xyXG4gICAgfSxcclxuICAgIGF0dHJpYnV0aW9uR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnYXR0cmlidXRpb25Hcm91cCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXgtd2lkdGgnOiAnNjAlJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgWm9vbToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tYm90dG9tJzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBIb21lOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIENvbXBhc3M6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NvbXBhc3MnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIE5hdmlnYXRpb246IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ05hdmlnYXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTG9jYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTGF5ZXJzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0JyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgQmFzZU1hcDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQmFzZU1hcCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tYm90dG9tJzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBTZWxlY3Q6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBTZWxlY3RTdGF0ZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0U3RhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMHB4JyxcclxuICAgICAgICAnYm94LXNoYWRvdyc6ICcwIDFweCAycHggMCByZ2JhKDAsMCwwLDApJ1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTWVhc3VyZToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnTWVhc3VyZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxyXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnXHJcbiAgICB9LFxyXG4gICAgTWFwU3dpdGNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNYXBTd2l0Y2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgRnVsbFNjcmVlbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnRnVsbFNjcmVlbicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgQ2xlYXJBY3Rpb25EYXRhOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdDbGVhckFjdGlvbkRhdGEnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIFNjYWxlQmFyOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTY2FsZUJhcicsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgQXR0cmlidXRpb246IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0F0dHJpYnV0aW9uJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIGNsYXNzTmFtZTogJ3ctMTAwJ1xyXG4gICAgfSxcclxuICAgIFNlYXJjaDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VhcmNoJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBsZWZ0VG9wQ29udGFpbmVyOiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWyduYXZpZ2F0b3InLCAnU2VsZWN0J11cclxuICAgIH0sXHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ05hdmlnYXRpb24nLCAnTG9jYXRlJywgJ0NvbXBhc3MnXVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZSddXHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcclxuICAgICAgY2hpbGRyZW46IFsnU2NhbGVCYXInLCAnYXR0cmlidXRpb25Hcm91cCddXHJcbiAgICB9LFxyXG4gICAgJ2JvdHRvbS1saW5lMic6IHtcclxuICAgICAgY2hpbGRyZW46IFsnTWFwU3dpdGNoJywgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJ11cclxuICAgIH0sXHJcbiAgICAnU2VsZWN0U3RhdGUtRnVsbFNjcmVlbi1Db250YWluZXInOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ0Z1bGxTY3JlZW4nLCAnQ2xlYXJBY3Rpb25EYXRhJywgJ1NlbGVjdFN0YXRlJ11cclxuICAgIH0sXHJcbiAgICBib3R0b206IHtcclxuICAgICAgaXNNYWluR3JvdXA6IHRydWUsXHJcbiAgICAgIGNoaWxkcmVuOiBbJ2JvdHRvbS1saW5lMicsICdib3R0b20tbGluZTEnXVxyXG4gICAgfSxcclxuICAgIGF0dHJpYnV0aW9uR3JvdXA6IHtcclxuICAgICAgY2hpbGRyZW46IFsnQXR0cmlidXRpb24nXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbGF5b3V0SnNvbjI6IExheW91dEpzb24gPSB7XHJcbiAgZWxlbWVudHM6IHtcclxuICAgIG5hdmlnYXRvcjoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICduYXZpZ2F0b3InLFxyXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2FsaWduLWl0ZW1zLWVuZCdcclxuICAgIH0sXHJcbiAgICBpbnRlcmFjdDoge1xyXG4gICAgICB0eXBlOiAnR1JPVVAnLFxyXG4gICAgICBncm91cE5hbWU6ICdpbnRlcmFjdCcsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBpc1Jlc3BvbnNpdmU6IHRydWUsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnMTVweCcsXHJcbiAgICAgICAgbGVmdDogJzE1cHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmdWxsU2NyZWVuR3JvdXA6IHtcclxuICAgICAgdHlwZTogJ0dST1VQJyxcclxuICAgICAgZ3JvdXBOYW1lOiAnZnVsbFNjcmVlbkdyb3VwJyxcclxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgdG9wOiAnMTVweCcsXHJcbiAgICAgICAgcmlnaHQ6ICcxNXB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYm90dG9tOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIGJvdHRvbTogJzBweCcsXHJcbiAgICAgICAgbGVmdDogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTEnOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMScsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwIHNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcwcHgnLFxyXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMicsXHJcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtZW5kIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAncGFkZGluZy1sZWZ0JzogJzE1cHgnLFxyXG4gICAgICAgICdwYWRkaW5nLXJpZ2h0JzogJzE1cHgnLFxyXG4gICAgICAgICdtYXJnaW4tYm90dG9tJzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhdHRyaWJ1dGlvbkdyb3VwOiB7XHJcbiAgICAgIHR5cGU6ICdHUk9VUCcsXHJcbiAgICAgIGdyb3VwTmFtZTogJ2F0dHJpYnV0aW9uR3JvdXAnLFxyXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWF4LXdpZHRoJzogJzYwJSdcclxuICAgICAgfSxcclxuICAgICAgY2xhc3NOYW1lOiAnYXR0aWJ1dGUtZ3JvdXAnXHJcbiAgICB9LFxyXG4gICAgWm9vbToge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBIb21lOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgJ21hcmdpbi10b3AnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIENvbXBhc3M6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NvbXBhc3MnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxyXG4gICAgfSxcclxuICAgIE5hdmlnYXRpb246IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ05hdmlnYXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTG9jYXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXRvcCc6ICcxMHB4J1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgTGF5ZXJzOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tcmlnaHQnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIEJhc2VNYXA6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tcmlnaHQnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIFNlbGVjdDoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIFNlbGVjdFN0YXRlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tdG9wJzogJzEwcHgnLFxyXG4gICAgICAgICdib3gtc2hhZG93JzogJzAgMXB4IDJweCAwIHJnYmEoMCwwLDAsMCknXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNZWFzdXJlOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdNZWFzdXJlJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXHJcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJyxcclxuICAgICAgc3R5bGU6IHtcclxuICAgICAgICAnbWFyZ2luLXJpZ2h0JzogJzEwcHgnXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBNYXBTd2l0Y2g6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBGdWxsU2NyZWVuOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBDbGVhckFjdGlvbkRhdGE6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ0NsZWFyQWN0aW9uRGF0YScsXHJcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxyXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgU2NhbGVCYXI6IHtcclxuICAgICAgdHlwZTogJ1RPT0wnLFxyXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcclxuICAgIH0sXHJcbiAgICBBdHRyaWJ1dGlvbjoge1xyXG4gICAgICB0eXBlOiAnVE9PTCcsXHJcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcclxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcclxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXHJcbiAgICB9LFxyXG4gICAgU2VhcmNoOiB7XHJcbiAgICAgIHR5cGU6ICdUT09MJyxcclxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxyXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXHJcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcclxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nLFxyXG4gICAgICBzdHlsZToge1xyXG4gICAgICAgICdtYXJnaW4tcmlnaHQnOiAnMTBweCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbGF5b3V0OiB7XHJcbiAgICBuYXZpZ2F0b3I6IHtcclxuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcycsICdMb2NhdGUnLCAnTmF2aWdhdGlvbicsICdab29tJywgJ0hvbWUnLCAnU2VsZWN0U3RhdGUnXVxyXG4gICAgfSxcclxuICAgIGludGVyYWN0OiB7XHJcbiAgICAgIGlzTWFpbkdyb3VwOiB0cnVlLFxyXG4gICAgICBjaGlsZHJlbjogWydTZWFyY2gnLCAnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZScsICdTZWxlY3QnXVxyXG4gICAgfSxcclxuICAgIGZ1bGxTY3JlZW5Hcm91cDoge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnRnVsbFNjcmVlbicsICdDbGVhckFjdGlvbkRhdGEnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTEnOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ1NjYWxlQmFyJywgJ2F0dHJpYnV0aW9uR3JvdXAnXVxyXG4gICAgfSxcclxuICAgICdib3R0b20tbGluZTInOiB7XHJcbiAgICAgIGNoaWxkcmVuOiBbJ01hcFN3aXRjaCcsICduYXZpZ2F0b3InXVxyXG4gICAgfSxcclxuICAgIGJvdHRvbToge1xyXG4gICAgICBpc01haW5Hcm91cDogdHJ1ZSxcclxuICAgICAgY2hpbGRyZW46IFsnYm90dG9tLWxpbmUyJywgJ2JvdHRvbS1saW5lMSddXHJcbiAgICB9LFxyXG4gICAgYXR0cmlidXRpb25Hcm91cDoge1xyXG4gICAgICBjaGlsZHJlbjogWydBdHRyaWJ1dGlvbiddXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBsYXlvdXRKc29uczogTGF5b3V0SnNvbltdID0gW2xheW91dEpzb24xLCBsYXlvdXRKc29uMl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxheW91dEpzb25zXHJcbiIsImltcG9ydCBab29tIGZyb20gJy4uL3Rvb2xzL3pvb20nXHJcbmltcG9ydCBIb21lIGZyb20gJy4uL3Rvb2xzL2hvbWUnXHJcbmltcG9ydCBDb21wYXNzIGZyb20gJy4uL3Rvb2xzL2NvbXBhc3MnXHJcbmltcG9ydCBMb2NhdGUgZnJvbSAnLi4vdG9vbHMvbG9jYXRlJ1xyXG5pbXBvcnQgQ2xlYXJBY3Rpb25EYXRhIGZyb20gJy4uL3Rvb2xzL2NsZWFyLWFjdGlvbi1kYXRhJ1xyXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuLi90b29scy9uYXZpZ2F0aW9uJ1xyXG5pbXBvcnQgU2VhcmNoIGZyb20gJy4uL3Rvb2xzL3NlYXJjaCdcclxuaW1wb3J0IExheWVycyBmcm9tICcuLi90b29scy9sYXllcnMnXHJcbmltcG9ydCBCYXNlTWFwIGZyb20gJy4uL3Rvb2xzL2Jhc2VtYXAnXHJcbmltcG9ydCBNYXBTd2l0Y2ggZnJvbSAnLi4vdG9vbHMvbWFwc3dpdGNoJ1xyXG5pbXBvcnQgRnVsbFNjcmVlbiBmcm9tICcuLi90b29scy9mdWxsc2NyZWVuJ1xyXG5pbXBvcnQgU2NhbGVCYXIgZnJvbSAnLi4vdG9vbHMvc2NhbGViYXInXHJcbmltcG9ydCBBdHRyaWJ1dGlvbiBmcm9tICcuLi90b29scy9hdHRyaWJ1dGlvbidcclxuaW1wb3J0IE1lYXN1cmUgZnJvbSAnLi4vdG9vbHMvbWVhc3VyZSdcclxuaW1wb3J0IFNlbGVjdCBmcm9tICcuLi90b29scy9zZWxlY3QnXHJcbmltcG9ydCBTZWxlY3RTdGF0ZSBmcm9tICcuLi90b29scy9zZWxlY3RzdGF0ZSdcclxuXHJcbmNvbnN0IFRvb2xNb2R1bGVzOiB7IFtNb2R1bGVOYW1lOiBzdHJpbmddOiBhbnkgfSA9IHtcclxuICBab29tOiBab29tLFxyXG4gIEhvbWU6IEhvbWUsXHJcbiAgTmF2aWdhdGlvbjogTmF2aWdhdGlvbixcclxuICBMb2NhdGU6IExvY2F0ZSxcclxuICBDbGVhckFjdGlvbkRhdGE6IENsZWFyQWN0aW9uRGF0YSxcclxuICBDb21wYXNzOiBDb21wYXNzLFxyXG4gIFNlYXJjaDogU2VhcmNoLFxyXG4gIExheWVyczogTGF5ZXJzLFxyXG4gIEJhc2VNYXA6IEJhc2VNYXAsXHJcbiAgTWVhc3VyZTogTWVhc3VyZSxcclxuICBNYXBTd2l0Y2g6IE1hcFN3aXRjaCxcclxuICBGdWxsU2NyZWVuOiBGdWxsU2NyZWVuLFxyXG4gIFNjYWxlQmFyOiBTY2FsZUJhcixcclxuICBBdHRyaWJ1dGlvbjogQXR0cmlidXRpb24sXHJcbiAgU2VsZWN0OiBTZWxlY3QsXHJcbiAgU2VsZWN0U3RhdGU6IFNlbGVjdFN0YXRlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvb2xNb2R1bGVzXHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRyaWJ1dGlvbiBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdBdHRyaWJ1dGlvbidcclxuXHJcbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gJ0F0dHJpYnV0aW9uJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPEF0dHJpYnV0aW9uSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQXR0cmlidXRpb25Jbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxufVxyXG5cclxuaW50ZXJmYWNlIEF0dHJpYnV0aW9uSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIEF0dHJpYnV0aW9uSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEF0dHJpYnV0aW9uSW5uZXJQcm9wcywgQXR0cmlidXRpb25Jbm5lclN0YXRlPiB7XHJcbiAgQXR0cmlidXRpb246IHR5cGVvZiBfX2VzcmkuQXR0cmlidXRpb24gPSBudWxsXHJcbiAgQXR0cmlidXRpb25CdG46IF9fZXNyaS5BdHRyaWJ1dGlvblxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQXR0cmlidXRpb24nXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5BdHRyaWJ1dGlvbl0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEF0dHJpYnV0aW9uSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xyXG4gICAgICAgIGlmICh0aGlzLkF0dHJpYnV0aW9uQnRuICYmICF0aGlzLkF0dHJpYnV0aW9uQnRuLmRlc3Ryb3kpIHtcclxuICAgICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi5yZW5kZXJOb3coKVxyXG5cclxuICAgICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgICBuYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICAgICAgICBpbnN0YW5jZTogdGhpcy5BdHRyaWJ1dGlvbkJ0blxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0biA9IG5ldyB0aGlzLkF0dHJpYnV0aW9uKHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdBdHRyaWJ1dGlvbicpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnQXR0cmlidXRpb24nLFxyXG4gICAgICAgICAgaW5zdGFuY2U6IHRoaXMuQXR0cmlidXRpb25CdG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5BdHRyaWJ1dGlvbkJ0bikge1xyXG4gICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkF0dHJpYnV0aW9uQnRuID0gbnVsbFxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdBdHRyaWJ1dGlvbicpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdhdHRyaWJ1dGlvbi1tYXAtdG9vbCcgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0gcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZU1hcCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdCYXNlTWFwJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0Jhc2VNYXBMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuQmFzZU1hcExhYmVsIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvYmFzZW1hcC5zdmcnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiA8QmFzZU1hcElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gLz5cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBCYXNlTWFwSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbiAgaXNNb2JpbGU6IGJvb2xlYW5cclxufVxyXG5cclxuaW50ZXJmYWNlIEJhc2VNYXBJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgQmFzZU1hcElubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxCYXNlTWFwSW5uZXJQcm9wcywgQmFzZU1hcElubmVyU3RhdGU+IHtcclxuICBCYXNlTWFwOiB0eXBlb2YgX19lc3JpLkJhc2VtYXBHYWxsZXJ5ID0gbnVsbFxyXG4gIEJhc2VNYXBCdG46IF9fZXNyaS5CYXNlbWFwR2FsbGVyeVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvQmFzZW1hcEdhbGxlcnknXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5CYXNlTWFwXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogQmFzZU1hcElubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcclxuICAgICAgICBpZiAodGhpcy5CYXNlTWFwQnRuKSB7XHJcbiAgICAgICAgICB0aGlzLkJhc2VNYXBCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5CYXNlTWFwQnRuLnJlbmRlck5vdygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuQmFzZU1hcEJ0biA9IG5ldyB0aGlzLkJhc2VNYXAoe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0Jhc2VNYXAnKVxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgbmFtZTogJ0Jhc2VNYXAnLFxyXG4gICAgICAgICAgaW5zdGFuY2U6IHRoaXMuQmFzZU1hcEJ0blxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkJhc2VNYXBCdG4pIHtcclxuICAgICAgdGhpcy5CYXNlTWFwQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkJhc2VNYXBCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0Jhc2VNYXAnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Jhc2VtYXAtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIG1heFdpZHRoOiAnbm9uZScsIG1heEhlaWdodDogJ25vbmUnLCBvdmVyZmxvd1k6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IHN0eWxlPXt7IHdpZHRoOiAnMjUwcHgnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX1cclxuICAgICAgICAgIGNsYXNzTmFtZT0nZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQgYmFzZW1hcC1tYXAtdG9vbCdcclxuICAgICAgICA+XHJcbiAgICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIE11dGFibGVTdG9yZU1hbmFnZXIsIGdldEFwcFN0b3JlLCB0eXBlIEltbXV0YWJsZU9iamVjdCwgdHlwZSBKaW11TWFwVmlld0luZm8gfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU2hvd09uTWFwRGF0YXMsIHR5cGUgQWRkVG9NYXBEYXRhcywgQWN0aW9uVHlwZSwgRGF0YUNoYW5nZVR5cGUgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgSWNvbiwgRHJvcGRvd24sIERyb3Bkb3duTWVudSwgRHJvcGRvd25CdXR0b24sIERyb3Bkb3duSXRlbSwgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgTXVsdGlTb3VyY2VNYXBDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0J1xyXG5cclxuaW50ZXJmYWNlIFN0YXRlIHtcclxuICBpc09wZW46IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xlYXJBY3Rpb25EYXRhIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU3RhdGU+IHtcclxuICB0b29sTmFtZSA9ICdDbGVhckFjdGlvbkRhdGEnXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLnN0YXRlID0geyBpc09wZW46IGZhbHNlIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLmppbXUtZHJvcGRvd24ge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgLmljb24tYnRuIHtcclxuICAgICAgICAgIHBhZGRpbmc6IDdweDtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBgXHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NsZWFyUmVzdWx0cycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY2xlYXJSZXN1bHRzIH0pXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvdHJhc2guc3ZnJyksXHJcbiAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5vbkljb25DbGljaygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNyZWF0ZUFjdGlvbkRhdGFJdGVtIChhY3Rpb25EYXRhSWQ6IHN0cmluZywgYWN0aW9uRGF0YVRpdGxlOiBzdHJpbmcsIG1hcFdpZGdldElkOiBzdHJpbmcsIGtleTogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8RHJvcGRvd25JdGVtXHJcbiAgICAgICAga2V5PXtrZXl9XHJcbiAgICAgICAgaGVhZGVyPXtmYWxzZX1cclxuICAgICAgICBvbkNsaWNrPXtlID0+IHsgdGhpcy5vbkFjdGlvbkl0ZW1DbGljayhlLCBhY3Rpb25EYXRhSWQsIG1hcFdpZGdldElkKSB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge2FjdGlvbkRhdGFUaXRsZX1cclxuICAgICAgPC9Ecm9wZG93bkl0ZW0+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRBZGRPclNob3dPbk1hcERhdGFzIChtYXBXaWRnZXRJZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBzaG93T25NYXBEYXRhczogU2hvd09uTWFwRGF0YXMgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbbWFwV2lkZ2V0SWRdKT8uc2hvd09uTWFwRGF0YXMgfHwge31cclxuICAgIGNvbnN0IGFkZFRvTWFwRGF0YXM6IEFkZFRvTWFwRGF0YXMgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbbWFwV2lkZ2V0SWRdKT8uYWRkVG9NYXBEYXRhcyB8fCB7fVxyXG4gICAgY29uc3Qgc2hvd09uTWFwRGF0YUluZm9zID0gT2JqZWN0LmVudHJpZXMoc2hvd09uTWFwRGF0YXMpLm1hcChlbnRyeSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IGVudHJ5WzBdLFxyXG4gICAgICAgIHRpdGxlOiBlbnRyeVsxXS50aXRsZSxcclxuICAgICAgICBqaW11TWFwVmlld0lkOiBlbnRyeVsxXS5qaW11TWFwVmlld0lkLFxyXG4gICAgICAgIG1hcFdpZGdldElkOiBlbnRyeVsxXS5tYXBXaWRnZXRJZCxcclxuICAgICAgICBuZWVkVG9SZW1vdmU6IHRydWUsXHJcbiAgICAgICAgdHlwZTogZW50cnlbMV0udHlwZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgY29uc3QgYWRkVG9NYXBEYXRhSW5mb3MgPSBPYmplY3QuZW50cmllcyhhZGRUb01hcERhdGFzKS5tYXAoZW50cnkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBlbnRyeVswXSxcclxuICAgICAgICB0aXRsZTogZW50cnlbMV0udGl0bGUsXHJcbiAgICAgICAgamltdU1hcFZpZXdJZDogZW50cnlbMV0uamltdU1hcFZpZXdJZCxcclxuICAgICAgICBtYXBXaWRnZXRJZDogZW50cnlbMV0ubWFwV2lkZ2V0SWQsXHJcbiAgICAgICAgbmVlZFRvUmVtb3ZlOiBlbnRyeVsxXS5kYXRhQ2hhbmdlVHlwZSA9PT0gRGF0YUNoYW5nZVR5cGUuQ3JlYXRlZCxcclxuICAgICAgICB0eXBlOiBlbnRyeVsxXS50eXBlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIHNob3dPbk1hcERhdGFJbmZvcy5jb25jYXQoYWRkVG9NYXBEYXRhSW5mb3MpLmZpbHRlcihkYXRhSW5mbyA9PiB7XHJcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGppbXVNYXBWaWV3SWQgd2hpbGUgZ2VuZXJhdGluZyB0aGUgYWN0aW9uIGRhdGEgaWYgdGhlIG1hcCB3aWRnZXQgaGFzbid0IGJlZW4gbG9hZGVkIGluIHRoZSBhbm90aGVyIHBhZ2UvdmlldyxcclxuICAgICAgLy8gdXNlIGEgZGVmYXVsdCBqaW11TWFwVmlld0lkIHRvIHNob3cgZGF0YS5cclxuICAgICAgbGV0IGppbXVNYXBWaWV3SWQgPSBkYXRhSW5mby5qaW11TWFwVmlld0lkXHJcbiAgICAgIGlmICghamltdU1hcFZpZXdJZCAmJiBkYXRhSW5mby5tYXBXaWRnZXRJZCA9PT0gbWFwV2lkZ2V0SWQpIHtcclxuICAgICAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvOiBJbW11dGFibGVPYmplY3Q8eyBbamltdU1hcFZpZXdJZDogc3RyaW5nXTogSmltdU1hcFZpZXdJbmZvIH0+ID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmppbXVNYXBWaWV3c0luZm9cclxuICAgICAgICBqaW11TWFwVmlld0lkID0gT2JqZWN0LmtleXMoamltdU1hcFZpZXdzSW5mbyB8fCB7fSkuZmluZCh2aWV3SWQgPT4gamltdU1hcFZpZXdzSW5mb1t2aWV3SWRdLm1hcFdpZGdldElkID09PSBtYXBXaWRnZXRJZClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIChqaW11TWFwVmlld0lkID09PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkICYmIGRhdGFJbmZvLnR5cGUgPT09IEFjdGlvblR5cGUuRGF0YUFjdGlvbiAmJiBkYXRhSW5mby5uZWVkVG9SZW1vdmUpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25JY29uQ2xpY2sgPSAoKSA9PiB7fVxyXG5cclxuICBvbkRyb3BEb3duVG9nZ2xlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogIXRoaXMuc3RhdGUuaXNPcGVuIH0pXHJcbiAgfVxyXG5cclxuICBvbkFjdGlvbkl0ZW1DbGljayA9IChldnQsIGFjdGlvbkRhdGFJZDogc3RyaW5nLCBtYXBXaWRnZXRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNPcGVuOiBmYWxzZSB9KVxyXG4gICAgY29uc3Qgc2hvd09uTWFwRGF0YXMgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbbWFwV2lkZ2V0SWRdKT8uc2hvd09uTWFwRGF0YXNcclxuICAgIGNvbnN0IGFkZFRvTWFwRGF0YXMgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbbWFwV2lkZ2V0SWRdKT8uYWRkVG9NYXBEYXRhc1xyXG4gICAgaWYgKHNob3dPbk1hcERhdGFzKSB7XHJcbiAgICAgIGRlbGV0ZSBzaG93T25NYXBEYXRhc1thY3Rpb25EYXRhSWRdXHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKG1hcFdpZGdldElkLCAnc2hvd09uTWFwRGF0YXMnLCBzaG93T25NYXBEYXRhcylcclxuICAgIH1cclxuICAgIGlmIChhZGRUb01hcERhdGFzICYmIGFkZFRvTWFwRGF0YXNbYWN0aW9uRGF0YUlkXT8uZGF0YUNoYW5nZVR5cGUgPT09IERhdGFDaGFuZ2VUeXBlLkNyZWF0ZWQpIHtcclxuICAgICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUobWFwV2lkZ2V0SWQsIGBhZGRUb01hcERhdGFzLiR7YWN0aW9uRGF0YUlkfS5kYXRhQ2hhbmdlVHlwZWAsIERhdGFDaGFuZ2VUeXBlLlJlbW92ZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAvLyByZXR1cm4gKFxyXG4gICAgLy8gIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbCBlc3JpLXdpZGdldC0tYnV0dG9uJz5cclxuICAgIC8vICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxyXG4gICAgLy8gIDwvZGl2PlxyXG4gICAgLy8gKVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICB7KHsgaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuLCBtYXBXaWRnZXRJZCB9KSA9PiAoXHJcbiAgICAgICAgICB0aGlzLmdldENvbnRlbnQoaXNTaG93Q2xlYXJTaG93T25NYXBEYXRhQnRuLCBtYXBXaWRnZXRJZClcclxuICAgICAgICApfVxyXG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRDb250ZW50ID0gKGlzU2hvd0NsZWFyU2hvd09uTWFwRGF0YUJ0bjogYm9vbGVhbiwgbWFwV2lkZ2V0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKGlzU2hvd0NsZWFyU2hvd09uTWFwRGF0YUJ0bikge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9IHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9PlxyXG4gICAgICAgICAgPERyb3Bkb3duXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbj0nZG93bidcclxuICAgICAgICAgICAgc2l6ZT0nc20nXHJcbiAgICAgICAgICAgIHRvZ2dsZT17dGhpcy5vbkRyb3BEb3duVG9nZ2xlfVxyXG4gICAgICAgICAgICBpc09wZW49e3RoaXMuc3RhdGUuaXNPcGVufVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8RHJvcGRvd25CdXR0b24gaWNvbiBhcnJvdz17ZmFsc2V9IHNpemU9J3NtJyB0eXBlPSdkZWZhdWx0Jz5cclxuICAgICAgICAgICAgICA8SWNvbiBzaXplPXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxyXG4gICAgICAgICAgICA8L0Ryb3Bkb3duQnV0dG9uPlxyXG4gICAgICAgICAgICA8RHJvcGRvd25NZW51PlxyXG4gICAgICAgICAgICAgIHt0aGlzLmdldEFkZE9yU2hvd09uTWFwRGF0YXMobWFwV2lkZ2V0SWQpLm1hcCgoZGF0YUluZm8sIGluZGV4KSA9PiB0aGlzLmNyZWF0ZUFjdGlvbkRhdGFJdGVtKGRhdGFJbmZvLmlkLCBkYXRhSW5mby50aXRsZSwgbWFwV2lkZ2V0SWQsIGluZGV4KSl9XHJcbiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51PlxyXG4gICAgICAgICAgPC9Ecm9wZG93bj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBhc3MgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnQ29tcGFzcydcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdDb21wYXNzTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkNvbXBhc3NMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPENvbXBhc3NJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb21wYXNzSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBDb21wYXNzSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIENvbXBhc3NJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Q29tcGFzc0lubmVyUHJvcHMsIENvbXBhc3NJbm5lclN0YXRlPiB7XHJcbiAgQ29tcGFzczogdHlwZW9mIF9fZXNyaS5Db21wYXNzID0gbnVsbFxyXG4gIENvbXBhc3NCdG46IF9fZXNyaS5Db21wYXNzXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9Db21wYXNzJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuQ29tcGFzc10gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5Db21wYXNzQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5Db21wYXNzQnRuID0gbmV3IHRoaXMuQ29tcGFzcyh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0NvbXBhc3MnKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnQ29tcGFzcycsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuQ29tcGFzc0J0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuQ29tcGFzc0J0bikge1xyXG4gICAgICB0aGlzLkNvbXBhc3NCdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuQ29tcGFzc0J0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnQ29tcGFzcycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdjb21wYXNzLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGdWxsc2NyZWVuIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0Z1bGxzY3JlZW4nXHJcbiAgaXNGdWxsU2NyZWVuID0gZmFsc2VcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdGdWxsU2NyZWVuTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkZ1bGxTY3JlZW5MYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogdGhpcy5pc0Z1bGxTY3JlZW4gPyByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmcnKSA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmcnKSxcclxuICAgICAgb25JY29uQ2xpY2s6IChldnQ/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pID0+IHtcclxuICAgICAgICB0aGlzLmZ1bGxTY3JlZW5NYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdWxsU2NyZWVuTWFwID0gKCkgPT4ge31cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRDb250ZW50ID0gKGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbikgPT4ge1xyXG4gICAgdGhpcy5mdWxsU2NyZWVuTWFwID0gZnVsbFNjcmVlbk1hcFxyXG4gICAgdGhpcy5pc0Z1bGxTY3JlZW4gPSBpc0Z1bGxTY3JlZW5cclxuICAgIHJldHVybiBzdXBlci5yZW5kZXIoKVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgeyh7IGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbiB9KSA9PiAoXHJcbiAgICAgICAgICB0aGlzLmdldENvbnRlbnQoZnVsbFNjcmVlbk1hcCwgaXNGdWxsU2NyZWVuKVxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyB0eXBlIEluaXRpYWxNYXBTdGF0ZSB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvbWFwJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ0hvbWUnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnSG9tZUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5Ib21lTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRIb21lQ29udGVudCA9IChpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZSkgPT4ge1xyXG4gICAgcmV0dXJuIDxIb21lSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGluaXRpYWxNYXBTdGF0ZT17aW5pdGlhbE1hcFN0YXRlfSAvPlxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIC8vIHJldHVybiA8SG9tZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fT48L0hvbWVJbm5lcj47XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBpbml0aWFsTWFwU3RhdGUgfSkgPT4gKFxyXG4gICAgICAgICAgdGhpcy5nZXRIb21lQ29udGVudChpbml0aWFsTWFwU3RhdGUpXHJcbiAgICAgICAgKX1cclxuICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSG9tZUlubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIGluaXRpYWxNYXBTdGF0ZTogSW5pdGlhbE1hcFN0YXRlXHJcbn1cclxuXHJcbmludGVyZmFjZSBIb21lSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIEhvbWVJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SG9tZUlubmVyUHJvcHMsIEhvbWVJbm5lclN0YXRlPiB7XHJcbiAgSG9tZTogdHlwZW9mIF9fZXNyaS5Ib21lID0gbnVsbFxyXG4gIEV4dGVudDogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeS5FeHRlbnRcclxuICBWaWV3cG9pbnQ6IHR5cGVvZiBfX2VzcmkuVmlld3BvaW50XHJcblxyXG4gIGhvbWVCdG46IF9fZXNyaS5Ib21lXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9Ib21lJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnLFxyXG4gICAgICAgICdlc3JpL1ZpZXdwb2ludCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkhvbWUsIHRoaXMuRXh0ZW50LCB0aGlzLlZpZXdwb2ludF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IEhvbWVJbm5lclByb3BzKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlldykge1xyXG4gICAgICBpZiAodGhpcy5ob21lQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5ob21lQnRuID0gbmV3IHRoaXMuSG9tZSh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXHJcbiAgICAgICAgdmlld3BvaW50OiB0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZVxyXG4gICAgICAgICAgPyB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZSlcclxuICAgICAgICAgIDogKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5tYXAgYXMgX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSkuaW5pdGlhbFZpZXdQcm9wZXJ0aWVzLnZpZXdwb2ludFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnSG9tZScpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdIb21lJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5ob21lQnRuXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAocHJldlByb3BzLmluaXRpYWxNYXBTdGF0ZSAhPT0gdGhpcy5wcm9wcy5pbml0aWFsTWFwU3RhdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3KSB7XHJcbiAgICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuZ29Ubyh0aGlzLmhvbWVCdG4udmlld3BvaW50LCB7XHJcbiAgICAgICAgICAgIGFuaW1hdGU6IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmhvbWVCdG4uZGVzdHJveSgpXHJcbiAgICAgICAgICB0aGlzLmhvbWVCdG4gPSBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUgPSAoaW5pdGlhbE1hcFN0YXRlOiBJbml0aWFsTWFwU3RhdGUpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcclxuICAgIGlmIChpbml0aWFsTWFwU3RhdGUudmlld1R5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIG5ldyB0aGlzLlZpZXdwb2ludChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRHZW9tZXRyeTogdGhpcy5FeHRlbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLmV4dGVudCksXHJcbiAgICAgICAgICByb3RhdGlvbjogaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5WaWV3cG9pbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLmhvbWVCdG4pIHtcclxuICAgICAgdGhpcy5ob21lQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLmhvbWVCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0hvbWUnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nZXNyaS13aWRnZXQtLWJ1dHRvbiBob21lLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IGlmICghdGhpcy5jb250YWluZXIpIHsgdGhpcy5jb250YWluZXIgPSByZWYgfSB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgQmFzZVRvb2wsIHR5cGUgQmFzZVRvb2xQcm9wcywgdHlwZSBJY29uVHlwZSB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyBkZWZhdWx0TWVzc2FnZXMsIE5hdiwgTmF2SXRlbSwgTmF2TGluayB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheWVycyBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFN0YXRlcz4ge1xyXG4gIHRvb2xOYW1lID0gJ0xheWVycydcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiAwXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5MYXllcnNMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmcnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBzdHlsZT17eyB3aWR0aDogdGhpcy5wcm9wcy5pc01vYmlsZSA/ICcxMDAlJyA6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fVxyXG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7ICdleGJtYXAtdWktcGMtZXhwYW5kLW1heGhlaWdodCc6ICF0aGlzLnByb3BzLmlzTW9iaWxlIH0pfVxyXG4gICAgICA+XHJcbiAgICAgICAgPE5hdiB0YWJzPlxyXG4gICAgICAgICAgPE5hdkl0ZW0+XHJcbiAgICAgICAgICAgIDxOYXZMaW5rIGFjdGl2ZT17dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMH0gb25DbGljaz17KCkgPT4geyB0aGlzLmhhbmRsZVRhYkluZGV4Q2hhbmdlKDApIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAwKSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ0xheWVyc0xhYmVsTGF5ZXInLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLkxheWVyc0xhYmVsTGF5ZXIgfSl9XHJcbiAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IDF9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgxKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgMSkgfX0+XHJcbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdMYXllcnNMYWJlbExlZ2VuZCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuTGF5ZXJzTGFiZWxMZWdlbmQgfSl9XHJcbiAgICAgICAgICAgIDwvTmF2TGluaz5cclxuICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICA8L05hdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtMScgLz5cclxuICAgICAgICB7dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMCAmJiA8TGF5ZXJMaXN0SW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+fVxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAxICYmIDxMZWdlbmRJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVGFiSW5kZXhDaGFuZ2UgPSAoYWN0aXZlVGFiSW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiBhY3RpdmVUYWJJbmRleFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICB0aGlzLmhhbmRsZVRhYkluZGV4Q2hhbmdlKGluZGV4KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIElubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIExheWVyTGlzdElubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxJbm5lclByb3BzLCBJbm5lclN0YXRlPiB7XHJcbiAgTGF5ZXJMaXN0OiB0eXBlb2YgX19lc3JpLkxheWVyTGlzdCA9IG51bGxcclxuICBMYXllckxpc3RCdG46IF9fZXNyaS5MYXllckxpc3RcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xheWVyTGlzdCddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkxheWVyTGlzdF0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IElubmVyUHJvcHMpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcclxuICAgICAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcclxuICAgICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuLnJlbmRlck5vdygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuTGF5ZXJMaXN0QnRuID0gbmV3IHRoaXMuTGF5ZXJMaXN0KHtcclxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdMYXllckxpc3QnKVxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgICAgbmFtZTogJ0xheWVyTGlzdCcsXHJcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcy5MYXllckxpc3RCdG5cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5MYXllckxpc3RCdG4pIHtcclxuICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBudWxsXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xheWVyTGlzdCcpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2xheWVycy1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLWJhc2V0b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgTGVnZW5kSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElubmVyUHJvcHMsIElubmVyU3RhdGU+IHtcclxuICBMZWdlbmQ6IHR5cGVvZiBfX2VzcmkuTGVnZW5kID0gbnVsbFxyXG4gIExlZ2VuZEJ0bjogX19lc3JpLkxlZ2VuZFxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTGVnZW5kJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuTGVnZW5kXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wczogSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xyXG4gICAgICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xyXG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4ucmVuZGVyTm93KClcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5MZWdlbmRCdG4gPSBuZXcgdGhpcy5MZWdlbmQoe1xyXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xlZ2VuZCcpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiAnTGVnZW5kJyxcclxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLkxlZ2VuZEJ0blxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xyXG4gICAgICB0aGlzLkxlZ2VuZEJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTGVnZW5kJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9J2V4Ym1hcC1iYXNldG9vbC1sb2FkZXInIC8+fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0ZSBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdMb2NhdGUnXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnTG9jYXRlJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPExvY2F0ZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIExvY2F0ZUlubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTG9jYXRlSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIExvY2F0ZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMb2NhdGVJbm5lclByb3BzLCBMb2NhdGVJbm5lclN0YXRlPiB7XHJcbiAgTG9jYXRlOiB0eXBlb2YgX19lc3JpLkxvY2F0ZSA9IG51bGxcclxuICBMb2NhdGVCdG46IF9fZXNyaS5Mb2NhdGVcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xvY2F0ZSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLkxvY2F0ZV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5Mb2NhdGVCdG4pIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG5ldyB0aGlzLkxvY2F0ZSh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ0xvY2F0ZScpXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuYWRkSmltdU1hcFRvb2woe1xyXG4gICAgICAgIG5hbWU6ICdMb2NhdGUnLFxyXG4gICAgICAgIGluc3RhbmNlOiB0aGlzLkxvY2F0ZUJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuTG9jYXRlQnRuKSB7XHJcbiAgICAgIHRoaXMuTG9jYXRlQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTG9jYXRlJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Vzcmktd2lkZ2V0LS1idXR0b24gbG9jYXRlLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBjc3MsIGpzeCwgcG9saXNoZWQsIGdldEFwcFN0b3JlLCBjbGFzc05hbWVzLCBhcHBBY3Rpb25zIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcbmltcG9ydCBNYXBUaHVtYiBmcm9tICcuLi9jb21wb25lbnRzL21hcC10aHVtYidcclxuaW1wb3J0IHsgdHlwZSBUb29sU2hlbGxQcm9wcyB9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbC1zaGVsbCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFN3aXRjaCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdNYXBTd2l0Y2gnXHJcblxyXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzQXZhaWxhYmxlICh0b29sU2hlbGxQcm9wczogVG9vbFNoZWxsUHJvcHMpOiBib29sZWFuIHtcclxuICAgIGlmICh0b29sU2hlbGxQcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICBjb25zdCB3aWRnZXRJZCA9IHRvb2xTaGVsbFByb3BzLm1hcFdpZGdldElkXHJcblxyXG4gICAgICBpZiAod2lkZ2V0SWQpIHtcclxuICAgICAgICBjb25zdCB3aWRnZXRJbmZvID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzW3dpZGdldElkXVxyXG5cclxuICAgICAgICBpZiAod2lkZ2V0SW5mbykge1xyXG4gICAgICAgICAgcmV0dXJuIHdpZGdldEluZm8udXNlRGF0YVNvdXJjZXMgJiYgd2lkZ2V0SW5mby51c2VEYXRhU291cmNlcy5sZW5ndGggPj0gMlxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWx3YXlzIHJldHVybiB0cnVlIGZvciBwYyBsYXlvdXQgYmVjYXVzZSBmYWxzZSB3aWxsIGxldCBTZWxlY3RTdGF0ZS1GdWxsU2NyZWVuLUNvbnRhaW5lciBpbiB3cm9pbmcgcG9zaXRpb24uXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgd2lkdGg6ICR7cG9saXNoZWQucmVtKDY4KX07XHJcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNTIpfTtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcblxyXG4gICAgICAubWFwdGh1bWItaXRlbSB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg2NCl9O1xyXG4gICAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNDgpfTtcclxuICAgICAgICB0cmFuc2l0aW9uOiBib3R0b20gMC41cywgbGVmdCAwLjVzLCB0b3AgMC41cywgcmlnaHQgMC41cywgei1pbmRleCAwLjVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuZnJvbnQge1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5iYWNrIHtcclxuICAgICAgICB6LWluZGV4OiAwO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgfVxyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdNYXBTd2l0Y2gnXHJcbiAgfVxyXG5cclxuICBnZXRJY29uICgpOiBJY29uVHlwZSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpY29uOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJyksXHJcbiAgICAgIG9uSWNvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zd2l0Y2hNYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzd2l0Y2hNYXAgPSAoKSA9PiB7fVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgICAgeyh7IGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSB9KSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29udGVudChpc1Nob3dNYXBTd2l0Y2hCdG4sIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwLCBtYXBXaWRnZXRJZCwgdGhlbWUpXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIG9uQ2xpY2spID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIGU/LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgb25DbGljaygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRDb250ZW50ID0gKGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhbiwgZGF0YVNvdXJjZUlkczogc3RyaW5nW10sIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nLCBzd2l0Y2hNYXAsIG1hcFdpZGdldElkLCB0aGVtZSkgPT4ge1xyXG4gICAgY29uc3Qgb25DbGljayA9ICgpID0+IHtcclxuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnJlcXVlc3RBdXRvQ29udHJvbE1hcFdpZGdldChtYXBXaWRnZXRJZCwgbWFwV2lkZ2V0SWQpKVxyXG4gICAgICBzd2l0Y2hNYXAoKVxyXG4gICAgfVxyXG4gICAgaWYgKGlzU2hvd01hcFN3aXRjaEJ0bikge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZXhibWFwLXVpLXRvb2wgZXNyaS13aWRnZXQtLWJ1dHRvbicgb25DbGljaz17b25DbGlja30gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIG9uQ2xpY2spIH19IGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTd2l0Y2hNYXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlN3aXRjaE1hcCB9KX0+XHJcbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXt0aGlzLmdldEljb24oKS5pY29ufSAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGRzSnNvbnMgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLmRhdGFTb3VyY2VzXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFwc3dpdGNoLW1hcC10b29sJyBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gb25DbGljaz17b25DbGlja30gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIG9uQ2xpY2spIH19IGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTd2l0Y2hNYXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlN3aXRjaE1hcCB9KX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICB0aXRsZT17ZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0ubGFiZWwgOiBudWxsfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ21hcHRodW1iLWl0ZW0nLCB7IGZyb250OiBkYXRhU291cmNlSWRzWzBdICE9PSBhY3RpdmVEYXRhU291cmNlSWQgfSxcclxuICAgICAgICAgICAgICAgIHsgYmFjazogZGF0YVNvdXJjZUlkc1swXSA9PT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0pfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPE1hcFRodW1iXHJcbiAgICAgICAgICAgICAgICBtYXBJdGVtSWQ9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1swXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dLml0ZW1JZCA6IG51bGx9XHJcbiAgICAgICAgICAgICAgICBwb3J0VXJsPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5wb3J0YWxVcmwgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgdGl0bGU9e2RzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0gPyBkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dLmxhYmVsIDogbnVsbH0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdtYXB0aHVtYi1pdGVtJywgeyBmcm9udDogZGF0YVNvdXJjZUlkc1sxXSAhPT0gYWN0aXZlRGF0YVNvdXJjZUlkIH0sXHJcbiAgICAgICAgICAgICAgICB7IGJhY2s6IGRhdGFTb3VyY2VJZHNbMV0gPT09IGFjdGl2ZURhdGFTb3VyY2VJZCB9KX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxNYXBUaHVtYlxyXG4gICAgICAgICAgICAgICAgbWFwSXRlbUlkPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMV1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXS5pdGVtSWQgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgcG9ydFVybD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0ucG9ydGFsVXJsIDogbnVsbH1cclxuICAgICAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEljb25Db250ZW50ID0gKGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhbiwgZGF0YVNvdXJjZUlkczogc3RyaW5nW10sIGFjdGl2ZURhdGFTb3VyY2VJZDogc3RyaW5nLCBzd2l0Y2hNYXApID0+IHtcclxuICAgIGlmIChpc1Nob3dNYXBTd2l0Y2hCdG4pIHtcclxuICAgICAgdGhpcy5zd2l0Y2hNYXAgPSBzd2l0Y2hNYXBcclxuICAgICAgcmV0dXJuIHN1cGVyLnJlbmRlcigpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XHJcbiAgICAgIHJldHVybiBzdXBlci5yZW5kZXIoKVxyXG4gICAgICAvLyBJbiBmYWN0LCBpdCBuZXZlciBnb2VzIGhlcmUuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICB7KHsgaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcCB9KSA9PiAoXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0SWNvbkNvbnRlbnQoaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcClcclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMsIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBJY29uLCBOYXYsIE5hdkl0ZW0sIE5hdkxpbmssIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuXHJcbnR5cGUgTWVhc3VyZVR5cGUgPSBfX2VzcmkuTWVhc3VyZW1lbnRcclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIGFjdGl2ZVRhYkluZGV4OiBudW1iZXJcclxuICBtZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lYXN1cmUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcclxuICBhY3RpdmVUYWJSZWY6IEhUTUxFbGVtZW50XHJcbiAgdG9vbE5hbWUgPSAnTWVhc3VyZSdcclxuICBtZWFzdXJlTW9kdWxlczJEID0gW3tcclxuICAgIG5hbWU6ICdMaW5lJyxcclxuICAgIHRpdGxlOiAnTGluZScsXHJcbiAgICBhY3RpdmVUb29sOiAnZGlzdGFuY2UnLFxyXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdQb2x5Z29uJyxcclxuICAgIHRpdGxlOiAnUG9seWdvbicsXHJcbiAgICBhY3RpdmVUb29sOiAnYXJlYScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcclxuICB9XVxyXG5cclxuICBtZWFzdXJlTW9kdWxlczNEID0gW3tcclxuICAgIG5hbWU6ICdMaW5lJyxcclxuICAgIHRpdGxlOiAnTGluZScsXHJcbiAgICBhY3RpdmVUb29sOiAnZGlyZWN0LWxpbmUnLFxyXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1kaXN0YW5jZS5zdmcnKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdQb2x5Z29uJyxcclxuICAgIHRpdGxlOiAnUG9seWdvbicsXHJcbiAgICBhY3RpdmVUb29sOiAnYXJlYScsXHJcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWFyZWEuc3ZnJylcclxuICB9XVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiAwLFxyXG4gICAgICBtZWFzdXJlSW5zdGFuY2U6IG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnTWVhc3VyZUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5NZWFzdXJlTGFiZWwgfSlcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2ZycpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb2N1c0RlZmF1bHRFbGVtZW50ICgpIHtcclxuICAgIHRoaXMuYWN0aXZlVGFiUmVmPy5mb2N1cygpXHJcbiAgfVxyXG5cclxuICBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlICYmICEodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UgYXMgYW55KS5kZXN0cm95ZWQpIHtcclxuICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlIGFzIGFueSkuZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG1lYXN1cmVJbnN0YW5jZTogbnVsbCxcclxuICAgICAgICBhY3RpdmVUYWJJbmRleDogMFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQgPSAobWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZSkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1lYXN1cmVJbnN0YW5jZTogbWVhc3VyZUluc3RhbmNlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25UYWJDbGljayA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZS5jbGVhcigpXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlVGFiSW5kZXg6IGluZGV4IH0pXHJcbiAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnID8gJ2Rpc3RhbmNlJyA6ICdkaXJlY3QtbGluZSdcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2UuYWN0aXZlVG9vbCA9ICdhcmVhJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIHRoaXMub25UYWJDbGljayhpbmRleClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uUmVxdWVzdENsb3NlUGFuZWwgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSA9PT0gdGhpcy50b29sTmFtZSkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uQ2xvc2VQYW5lbCA9ICgpID0+IHtcclxuICAgIHRoaXMuZGVzdHJveSgpXHJcbiAgfVxyXG5cclxuICBvblNob3dQYW5lbCA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZSkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlLmFjdGl2ZVRvb2wgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzJkJyA/ICdkaXN0YW5jZScgOiAnZGlyZWN0LWxpbmUnXHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlLmFjdGl2ZVRvb2wgPSAnYXJlYSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TmF2VGFiID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy50eXBlID09PSAnMmQnKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPE5hdiB0YWJzPntcclxuICAgICAgICAgIHRoaXMubWVhc3VyZU1vZHVsZXMyRC5tYXAoKG1vZHVsZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFiVGl0bGUgPSBpbmRleCA9PT0gMCA/ICdkcmF3TW9kZUxpbmUnIDogJ2RyYXdNb2RlUG9seWdvbidcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8TmF2SXRlbSBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICAgIDxOYXZMaW5rIGFjdGl2ZT17dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXh9IHJlZj17cmVmID0+IHsgdGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXggJiYgKHRoaXMuYWN0aXZlVGFiUmVmID0gcmVmKSB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMub25UYWJDbGljayhpbmRleCkgfX1cclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCBpbmRleCkgfX1cclxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IGAke3RhYlRpdGxlfWAsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbdGFiVGl0bGVdIH0pfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT0nbS0wJyBpY29uPXttb2R1bGUuc3JjfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9OYXZMaW5rPlxyXG4gICAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgPC9OYXY+XHJcbiAgICAgIClcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICczZCcpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8TmF2IHRhYnM+e1xyXG4gICAgICAgICAgdGhpcy5tZWFzdXJlTW9kdWxlczNELm1hcCgobW9kdWxlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YWJUaXRsZSA9IGluZGV4ID09PSAwID8gJ2RyYXdNb2RlTGluZScgOiAnZHJhd01vZGVQb2x5Z29uJ1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxOYXZJdGVtIGtleT17aW5kZXh9PlxyXG4gICAgICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gcmVmPXtyZWYgPT4geyB0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleCAmJiAodGhpcy5hY3RpdmVUYWJSZWYgPSByZWYpIH19IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5vblRhYkNsaWNrKGluZGV4KSB9fVxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsIGluZGV4KSB9fVxyXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogYCR7dGFiVGl0bGV9YCwgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1t0YWJUaXRsZV0gfSl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdtLTAnIGljb249e21vZHVsZS5zcmN9IC8+XHJcbiAgICAgICAgICAgICAgICA8L05hdkxpbms+XHJcbiAgICAgICAgICAgICAgPC9OYXZJdGVtPlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICA8L05hdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldE1lYXN1cmVNb2R1bGUgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICcyZCcpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVhc3VyZU1vZHVsZXMyRFt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4XVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVhc3VyZU1vZHVsZXMzRFt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4XVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXZcclxuICAgICAgICBzdHlsZT17eyB3aWR0aDogdGhpcy5wcm9wcy5pc01vYmlsZSA/ICcxMDAlJyA6ICcyNTBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsgJ2V4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0JzogIXRoaXMucHJvcHMuaXNNb2JpbGUgfSl9XHJcbiAgICAgID5cclxuICAgICAgICB7dGhpcy5nZXROYXZUYWIoKX1cclxuICAgICAgICA8TWVhc3VyZUlubmVyXHJcbiAgICAgICAgICBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH1cclxuICAgICAgICAgIGFjdGl2ZVRhYkluZGV4PXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4fSBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld31cclxuICAgICAgICAgIG1lYXN1cmVNb2R1bGU9e3RoaXMuZ2V0TWVhc3VyZU1vZHVsZSgpfVxyXG4gICAgICAgICAgbWVhc3VyZUluc3RhbmNlPXt0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZX1cclxuICAgICAgICAgIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ9e3RoaXMuaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWR9XHJcbiAgICAgICAgICBhdXRvQ29udHJvbFdpZGdldElkPXt0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWR9XHJcbiAgICAgICAgICBvblJlcXVlc3RDbG9zZVBhbmVsPXt0aGlzLm9uUmVxdWVzdENsb3NlUGFuZWx9XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVhc3VyZUlubmVyUHJvcHMge1xyXG4gIG1hcFdpZGdldElkOiBzdHJpbmdcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBtZWFzdXJlTW9kdWxlOiB7IG5hbWU6IHN0cmluZywgdGl0bGU6IHN0cmluZywgYWN0aXZlVG9vbDogc3RyaW5nIH1cclxuICBtZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlXHJcbiAgYWN0aXZlVGFiSW5kZXg6IG51bWJlclxyXG4gIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ6IChpbnN0YW5jZTogTWVhc3VyZVR5cGUpID0+IHZvaWRcclxuICBhdXRvQ29udHJvbFdpZGdldElkOiBzdHJpbmdcclxuICBvblJlcXVlc3RDbG9zZVBhbmVsOiAoKSA9PiB2b2lkXHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWFzdXJlSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIE1lYXN1cmVJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TWVhc3VyZUlubmVyUHJvcHMsIE1lYXN1cmVJbm5lclN0YXRlPiB7XHJcbiAgTWVhc3VyZUNsYXNzOiB0eXBlb2YgX19lc3JpLkRpc3RhbmNlTWVhc3VyZW1lbnQyRCB8IHR5cGVvZiBfX2VzcmkuQXJlYU1lYXN1cmVtZW50MkQgfCB0eXBlb2YgX19lc3JpLkRpcmVjdExpbmVNZWFzdXJlbWVudDNEIHwgdHlwZW9mIF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQzRFxyXG4gIE1lYXN1cmVJbnN0YW5jZTogTWVhc3VyZVR5cGUgPSBudWxsXHJcblxyXG4gIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgdG9vbE5hbWU6IHN0cmluZyA9ICdtZWFzdXJlbWVudCdcclxuICBpZDogc3RyaW5nXHJcbiAgY3VycmVudEppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG4gIG9yaWdpbmFsQ2xpY2tIaWdobGlnaHRFbmFibGVkOiBib29sZWFuXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5pZCA9IGAke3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9LW1lYXN1cmUtdG9vbGBcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTWVhc3VyZW1lbnQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5NZWFzdXJlQ2xhc3NdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBNZWFzdXJlSW5uZXJQcm9wcykge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMucGFyZW50Q29udGFpbmVyICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICghdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UpIHtcclxuICAgICAgICAvLyBjcmF0ZSBtZWFzdXJlIGlzbnRhbmNlIGhlcmVcclxuICAgICAgICBjb25zdCB0ZW1wSW5zdGFuY2U6IGFueSA9IG5ldyB0aGlzLk1lYXN1cmVDbGFzcyh7XHJcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgICAgfSlcclxuICAgICAgICB0ZW1wSW5zdGFuY2UuYWN0aXZlVG9vbCA9IHRoaXMucHJvcHMubWVhc3VyZU1vZHVsZS5hY3RpdmVUb29sXHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KHRoaXMucHJvcHMuamltdU1hcFZpZXcpXHJcbiAgICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2wodGhpcy50b29sTmFtZSlcclxuICAgICAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgICBuYW1lOiB0aGlzLnRvb2xOYW1lLFxyXG4gICAgICAgICAgaW5zdGFuY2U6IHRlbXBJbnN0YW5jZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMub25NZWFzdXJjZUluc3RhbmNlQ3JlYXRlZCh0ZW1wSW5zdGFuY2UpXHJcbiAgICAgICAgY29uc3QgYWN0aW9uID0gYXBwQWN0aW9ucy5yZXF1ZXN0QXV0b0NvbnRyb2xNYXBXaWRnZXQodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgdGhpcy5pZClcclxuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBuZXdKaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnZpZXcgIT09IG5ld0ppbXVNYXBWaWV3LnZpZXcpIHtcclxuICAgICAgICAgIC8vIG1hcCB2aWV3IGNoYW5nZWQgYnkgc3dpdGNoXHJcbiAgICAgICAgICB0aGlzLnJlc3RvcmVDbGlja0hpZ2hsaWdodEVuYWJsZWRGb3JDdXJyZW50SmltdU1hcFZpZXcoKVxyXG4gICAgICAgICAgdGhpcy5zZXRDdXJyZW50SmltdU1hcFZpZXcobmV3SmltdU1hcFZpZXcpXHJcblxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuY2xlYXIoKVxyXG4gICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyA9IG5ld0ppbXVNYXBWaWV3LnZpZXdcclxuXHJcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS5hY3RpdmVUb29sID0gdGhpcy5wcm9wcy5tZWFzdXJlTW9kdWxlLmFjdGl2ZVRvb2xcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuY2hlY2tDb250YWluZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIGF1dG9Db250cm9sV2lkZ2V0SWQgY2hhbmdlZFxyXG4gICAgY29uc3QgcHJldkF1dG9Db250cm9sV2lkZ2V0SWQgPSBwcmV2UHJvcHM/LmF1dG9Db250cm9sV2lkZ2V0SWQgfHwgJydcclxuICAgIGlmIChwcmV2QXV0b0NvbnRyb2xXaWRnZXRJZCA9PT0gdGhpcy5pZCAmJiB0aGlzLnByb3BzLmF1dG9Db250cm9sV2lkZ2V0SWQgIT09IHRoaXMuaWQpIHtcclxuICAgICAgLy8gbWVhc3VyZSBpcyBmcm9tIGFjdGl2ZSB0byBpbmFjdGl2ZSwgZGVzdHJveSBNZWFzdXJlSW5uZXJcclxuICAgICAgdGhpcy5wcm9wcy5vblJlcXVlc3RDbG9zZVBhbmVsKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpOiB2b2lkIHtcclxuICAgIHRoaXMucmVzdG9yZUNsaWNrSGlnaGxpZ2h0RW5hYmxlZEZvckN1cnJlbnRKaW11TWFwVmlldygpXHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZCA9PT0gdGhpcy5pZCkge1xyXG4gICAgICBjb25zdCBhY3Rpb24gPSBhcHBBY3Rpb25zLnJlbGVhc2VBdXRvQ29udHJvbE1hcFdpZGdldCh0aGlzLnByb3BzLm1hcFdpZGdldElkKVxyXG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFjdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KTogdm9pZCB7XHJcbiAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldyA9IGppbXVNYXBWaWV3XHJcbiAgICB0aGlzLm9yaWdpbmFsQ2xpY2tIaWdobGlnaHRFbmFibGVkID0gamltdU1hcFZpZXcuaXNDbGlja0hpZ2hsaWdodEVuYWJsZWQoKVxyXG4gICAgLy8gZGlzYWJsZSBjbGljayBoaWdobGlnaHQgdG8gYXZvaWQgY29uZmxpY3Qgd2l0aCBjbGlja2luZy1zZWxlY3RcclxuICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LmRpc2FibGVDbGlja0hpZ2hsaWdodCgpXHJcbiAgfVxyXG5cclxuICByZXN0b3JlQ2xpY2tIaWdobGlnaHRFbmFibGVkRm9yQ3VycmVudEppbXVNYXBWaWV3ICgpIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRKaW11TWFwVmlldykge1xyXG4gICAgICBpZiAodGhpcy5vcmlnaW5hbENsaWNrSGlnaGxpZ2h0RW5hYmxlZCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3LmVuYWJsZUNsaWNrSGlnaGxpZ2h0KClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRKaW11TWFwVmlldy5kaXNhYmxlQ2xpY2tIaWdobGlnaHQoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjaGVja0NvbnRhaW5lciA9ICgpID0+IHtcclxuICAgIGlmICgodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID09PSAnMCcgfHwgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9PT0gMCkge1xyXG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUuaGVpZ2h0ID0gJydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbG9hZCAoKSB7XHJcbiAgICBpZiAodGhpcy5jb250YWluZXIuY2hpbGROb2RlcyAmJiB0aGlzLmNvbnRhaW5lci5jaGlsZE5vZGVzWzBdKSB7XHJcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5oZWlnaHQgPSAnMzVweCdcclxuICAgIH1cclxuXHJcbiAgICAvL3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgLy8gIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIC8vfSwgKCkgPT4ge1xyXG4gICAgLy8gIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTWVhc3VyZW1lbnQnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgIC8vICAgIFt0aGlzLk1lYXN1cmVDbGFzc10gPSBtb2R1bGVzXHJcbiAgICAvLyAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgIC8vICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAvLyAgICB9KVxyXG4gICAgLy8gIH0pXHJcbiAgICAvL30pXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJyBzdHlsZT17eyB3aWR0aDogJzI1MHB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScsIG1pbkhlaWdodDogJzMycHgnIH19IHJlZj17cmVmID0+IHsgdGhpcy5wYXJlbnRDb250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J21lYXN1cmUtY29udGFpbmVyIG1lYXN1cmUtbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IHR5cGUgVG9vbFNoZWxsUHJvcHMgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wtc2hlbGwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZpZ2F0aW9uIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xyXG4gIHRvb2xOYW1lID0gJ05hdmlnYXRpb24nXHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnTmF2aWdhdGlvbidcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxOYXZpZ2F0aW9uSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IC8+XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOYXZpZ2F0aW9uIG9ubHkgc3VwcG9ydHMgc2NlbmUgdmlldywgc28gU2NhbGVCYXJUb29sLmlzQXZhaWxhYmxlKCkgd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIG1hcCBpcyBtYXAgdmlldy5cclxuICAgKi9cclxuICBzdGF0aWMgaXNBdmFpbGFibGUgKHRvb2xTaGVsbFByb3BzOiBUb29sU2hlbGxQcm9wcyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRvb2xTaGVsbFByb3BzLmppbXVNYXBWaWV3Py52aWV3Py50eXBlID09PSAnM2QnXHJcbiAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgTmF2aWdhdGlvbklubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTmF2aWdhdGlvbklubmVyU3RhdGUge1xyXG4gIGFwaUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG5jbGFzcyBOYXZpZ2F0aW9uSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE5hdmlnYXRpb25Jbm5lclByb3BzLCBOYXZpZ2F0aW9uSW5uZXJTdGF0ZT4ge1xyXG4gIE5hdmlnYXRpb246IHR5cGVvZiBfX2VzcmkuTmF2aWdhdGlvblRvZ2dsZSA9IG51bGxcclxuICBOYXZpZ2F0aW9uQnRuOiBfX2VzcmkuTmF2aWdhdGlvblRvZ2dsZVxyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XHJcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTmF2aWdhdGlvblRvZ2dsZSddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLk5hdmlnYXRpb25dID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcclxuICAgICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0biA9IG5ldyB0aGlzLk5hdmlnYXRpb24oe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3IGFzIF9fZXNyaS5TY2VuZVZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ05hdmlnYXRpb24nKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnTmF2aWdhdGlvbicsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuTmF2aWdhdGlvbkJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xyXG4gICAgICB0aGlzLk5hdmlnYXRpb25CdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnTmF2aWdhdGlvbicpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSduYXZpZ2F0aW9uLW1hcC10b29sJyByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19IC8+XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCB0eXBlIEppbXVNYXBWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IHR5cGUgVG9vbFNoZWxsUHJvcHMgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wtc2hlbGwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2FsZUJhciBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcclxuICB0b29sTmFtZSA9ICdTY2FsZUJhcidcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuICdTY2FsZUJhcidcclxuICB9XHJcblxyXG4gIGdldEljb24gKCk6IEljb25UeXBlIHtcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgcmV0dXJuIDxTY2FsZUJhcklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSAvPlxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2NhbGVCYXIgb25seSBzdXBwb3J0cyBtYXAgdmlldywgc28gU2NhbGVCYXJUb29sLmlzQXZhaWxhYmxlKCkgd2lsbCByZXR1cm4gZmFsc2UgaWYgdGhlIG1hcCBpcyBzY2VuZSB2aWV3LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0F2YWlsYWJsZSAodG9vbFNoZWxsUHJvcHM6IFRvb2xTaGVsbFByb3BzKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdG9vbFNoZWxsUHJvcHMuamltdU1hcFZpZXc/LnZpZXc/LnR5cGUgPT09ICcyZCdcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBTY2FsZUJhcklubmVyUHJvcHMge1xyXG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlld1xyXG59XHJcblxyXG5pbnRlcmZhY2UgU2NhbGVCYXJJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgU2NhbGVCYXJJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2NhbGVCYXJJbm5lclByb3BzLCBTY2FsZUJhcklubmVyU3RhdGU+IHtcclxuICBTY2FsZUJhcjogdHlwZW9mIF9fZXNyaS5TY2FsZUJhciA9IG51bGxcclxuICBTY2FsZUJhckJ0bjogX19lc3JpLlNjYWxlQmFyXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9TY2FsZUJhciddKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIFt0aGlzLlNjYWxlQmFyXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLlNjYWxlQmFyQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5TY2FsZUJhckJ0biA9IG5ldyB0aGlzLlNjYWxlQmFyKHtcclxuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxyXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyBhcyBfX2VzcmkuTWFwVmlldyxcclxuICAgICAgICB1bml0OiAnZHVhbCdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1NjYWxlQmFyJylcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5hZGRKaW11TWFwVG9vbCh7XHJcbiAgICAgICAgbmFtZTogJ1NjYWxlQmFyJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5TY2FsZUJhckJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuU2NhbGVCYXJCdG4pIHtcclxuICAgICAgdGhpcy5TY2FsZUJhckJ0bi5kZXN0cm95KClcclxuICAgICAgdGhpcy5TY2FsZUJhckJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnU2NhbGVCYXInKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nc2NhbGViYXItbWFwLXRvb2wnIHJlZj17cmVmID0+IHsgdGhpcy5jb250YWluZXIgPSByZWYgfX0gLz5cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IFJlYWN0LCBjc3MsIGpzeCwgZ2V0QXBwU3RvcmUsIE1lc3NhZ2VNYW5hZ2VyLCBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcsIHpvb21Ub1V0aWxzIH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWFyY2ggZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnU2VhcmNoJ1xyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlYXJjaExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWFyY2hMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL3NlYXJjaC5zdmcnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RXhwYW5kUGFuZWwgKCk6IEpTWC5FbGVtZW50IHtcclxuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHdpZHRoOiAnMTAwJScgfX0+XHJcbiAgICAgICAgICA8U2VhcmNoSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG1hcFdpZGdldElkPXt0aGlzLnByb3BzLm1hcFdpZGdldElkfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWluV2lkdGg6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cclxuICAgICAgICAgIDxTZWFyY2hJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBTZWFyY2hJbm5lclByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuICBtYXBXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBTZWFyY2hJbm5lclN0YXRlIHtcclxuICBhcGlMb2FkZWQ6IGJvb2xlYW5cclxufVxyXG5cclxuY2xhc3MgU2VhcmNoSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFNlYXJjaElubmVyUHJvcHMsIFNlYXJjaElubmVyU3RhdGU+IHtcclxuICBTZWFyY2g6IHR5cGVvZiBfX2Vzcmkud2lkZ2V0c1NlYXJjaCA9IG51bGxcclxuICBQb3J0YWw6IHR5cGVvZiBfX2VzcmkuUG9ydGFsID0gbnVsbFxyXG4gIFNlYXJjaEJ0bjogX19lc3JpLndpZGdldHNTZWFyY2hcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLyogYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgxMTAsMTEwLDExMCwwLjMpOyAqL1xyXG4gICAgYFxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1NlYXJjaCcsICdlc3JpL3BvcnRhbC9Qb3J0YWwnXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5TZWFyY2gsIHRoaXMuUG9ydGFsXSA9IG1vZHVsZXNcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUgKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLlNlYXJjaEJ0bikge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclBhcmVudCA9IHRoaXMuY29udGFpbmVyLnBhcmVudEVsZW1lbnRcclxuICAgICAgICB0aGlzLlNlYXJjaEJ0bi5kZXN0cm95KClcclxuICAgICAgICB0aGlzLlNlYXJjaEJ0biA9IG51bGxcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50ICYmIGNvbnRhaW5lclBhcmVudCkge1xyXG4gICAgICAgICAgY29udGFpbmVyUGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5TZWFyY2hCdG4gPSBuZXcgdGhpcy5TZWFyY2goe1xyXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxyXG4gICAgICAgIHBvcnRhbDogbmV3IHRoaXMuUG9ydGFsKHtcclxuICAgICAgICAgIHVybDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFVybFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmRlbGV0ZUppbXVNYXBUb29sKCdTZWFyY2gnKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnU2VhcmNoJyxcclxuICAgICAgICBpbnN0YW5jZTogdGhpcy5TZWFyY2hCdG5cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuU2VhcmNoQnRuLm9uKCdzZWxlY3QtcmVzdWx0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gdXNlIHpvb21Ub1V0aWxzIHRvIGluc3RlYWQgb2YgZGVmYXVsdCB6b29tIGZvciBzZWFyaW5nIHJlc3VsdCB3aXRoIHNpbmdsZSBwb2ludFxyXG4gICAgICAgIGlmIChldmVudD8ucmVzdWx0Py5mZWF0dXJlPy5sYXllciAmJiBldmVudD8ucmVzdWx0Py5mZWF0dXJlPy5nZW9tZXRyeT8udHlwZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICAgICAgem9vbVRvVXRpbHMuem9vbVRvKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldywgW2V2ZW50LnJlc3VsdC5mZWF0dXJlXSwge30pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWV2ZW50LnJlc3VsdC5mZWF0dXJlLmxheWVyKSB7XHJcbiAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGV2ZW50LnJlc3VsdC5mZWF0dXJlLmdlb21ldHJ5LnRvSlNPTigpXHJcbiAgICAgICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG5ldyBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgZ2VvbWV0cnkpKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBnZW9tZXRyeSA9IGV2ZW50LnJlc3VsdC5mZWF0dXJlLmdlb21ldHJ5XHJcbiAgICAgICAgICBpZiAoZ2VvbWV0cnkudHlwZSA9PT0gJ3BvaW50Jykge1xyXG4gICAgICAgICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKG5ldyBMb2NhdGlvbkNoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5tYXBXaWRnZXRJZCwgZ2VvbWV0cnkudG9KU09OKCkpKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBnZW9tZXRyeS5leHRlbnQuY2VudGVyXHJcbiAgICAgICAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UobmV3IExvY2F0aW9uQ2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLm1hcFdpZGdldElkLCBwb2ludC50b0pTT04oKSkpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuU2VhcmNoQnRuKSB7XHJcbiAgICAgIHRoaXMuU2VhcmNoQnRuLmRlc3Ryb3koKVxyXG4gICAgICB0aGlzLlNlYXJjaEJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnU2VhcmNoJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIHNlYXJjaC1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fT5cclxuICAgICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPSdleGJtYXAtYmFzZXRvb2wtbG9hZGVyJyAvPn1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQgeyBqc3ggfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IFNlbGVjdFBDVG9vbCB9IGZyb20gJy4vc2VsZWN0LXBjJ1xyXG5pbXBvcnQgeyBTZWxlY3RNb2JpbGVUb29sIH0gZnJvbSAnLi9zZWxlY3QtbW9iaWxlJ1xyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbmludGVyZmFjZSBTZWxlY3RTdGF0ZSB7fVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0IGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU2VsZWN0U3RhdGU+IHtcclxuICB0b29sTmFtZSA9ICdTZWxlY3QnXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcblxyXG4gICAgdGhpcy5zdGF0ZSA9IHt9XHJcbiAgfVxyXG5cclxuICBnZXRUaXRsZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3RMYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxTZWxlY3RNb2JpbGVUb29sXHJcbiAgICAgICAgICBpc0FjdGl2ZT17dGhpcy50b29sTmFtZSA9PT0gKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSl9XHJcbiAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbE5hbWU9e3RoaXMudG9vbE5hbWV9XHJcbiAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IF9vbkljb25DbGljaz17KCkgPT4geyAodGhpcyBhcyBhbnkpLl9vbkljb25DbGljaygpIH19XHJcbiAgICAgICAgICB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfSBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld31cclxuICAgICAgICAvPlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxTZWxlY3RQQ1Rvb2xcclxuICAgICAgICAgIHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSBpbnRsPXt0aGlzLnByb3BzLmludGx9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fVxyXG4gICAgICAgICAgYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvb2xOYW1lPXt0aGlzLnRvb2xOYW1lfVxyXG4gICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBjbGFzc05hbWVzLCBSZWFjdCwgcG9saXNoZWQsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIE1vYmlsZVBhbmVsLCBkZWZhdWx0TWVzc2FnZXMsIFJhZGlvIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5pbXBvcnQgeyB0eXBlIEFjdGl2ZVRvb2xJbmZvIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBNdWx0aVNvdXJjZU1hcENvbnRleHQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnXHJcblxyXG5pbnRlcmZhY2UgUHJvcHMge1xyXG4gIHRoZW1lPzogSU1UaGVtZVZhcmlhYmxlc1xyXG4gIGludGw/OiBJbnRsU2hhcGVcclxuXHJcbiAgaXNBY3RpdmU6IGJvb2xlYW5cclxuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3XHJcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvXHJcbiAgdG9vbE5hbWU6IHN0cmluZ1xyXG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U/OiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkXHJcbiAgX29uSWNvbkNsaWNrPzogKGU6IGFueSkgPT4gdm9pZFxyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBza2V0Y2hJbml0aWFsZWQ6IGJvb2xlYW5cclxuICBpc1F1ZXJ5aW5nOiBib29sZWFuXHJcbiAgaXNTaG93U2VsZWN0U2V0dGluZzogYm9vbGVhblxyXG5cclxuICBjdXJyZW50U2VsZWN0VHlwZTogJ1BvaW50JyB8ICdSZWN0YW5nbGUnIHwgJ0xhc3NvJyB8ICdDaXJjbGUnIHwgJ0xpbmUnXHJcbiAgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIHwgJ2NvbnRhaW5zJ1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XHJcbiAgc3R5bGU6ICdlc3JpU01TQ2lyY2xlJyxcclxuICBjb2xvcjogWzAsIDAsIDEyOCwgMTI4XSxcclxuICBuYW1lOiAnQ2lyY2xlJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBjb2xvcjogWzAsIDAsIDEyOCwgMjU1XSxcclxuICAgIHdpZHRoOiAxXHJcbiAgfSxcclxuICB0eXBlOiAnZXNyaVNNUycsXHJcbiAgc2l6ZTogMThcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xyXG4gIHRhZ3M6IFsnc29saWQnXSxcclxuICB0aXRsZTogJ0JsdWUgVGhpbicsXHJcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCAyNTVdLFxyXG4gIHdpZHRoOiAzLFxyXG4gIG5hbWU6ICdCbHVlIDEnLFxyXG4gIHR5cGU6ICdlc3JpU0xTJ1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWdvblN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTRlNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcclxuICB0eXBlOiAnZXNyaVNGUycsXHJcbiAgb3V0bGluZToge1xyXG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gICAgY29sb3I6IFs1NCwgOTMsIDE0MSwgMjU1XSxcclxuICAgIHdpZHRoOiAxLjUsXHJcbiAgICB0eXBlOiAnZXNyaVNMUydcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFNlbGVjdFJlY3RhbmdsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXJlY3RhbmdsZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RMYXNzb0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZycpXHJcbmNvbnN0IFNlbGVjdENpcmNsZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWNpcmNsZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RMaW5lSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGluZS5zdmcnKVxyXG5jb25zdCBTZWxlY3RQb2ludEljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZycpXHJcbmNvbnN0IFNlbGVjdE1vcmVJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvbW9yZS0xNi5zdmcnKVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdE1vYmlsZVRvb2wgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZXM+IHtcclxuICBTa2V0Y2hWaWV3TW9kZWw6IHR5cGVvZiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgR3JhcGhpY3NMYXllcjogdHlwZW9mIF9fZXNyaS5HcmFwaGljc0xheWVyXHJcbiAgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnlcclxuICBqc29uVXRpbHM6IHR5cGVvZiBfX2VzcmkuanNvblV0aWxzID0gbnVsbFxyXG4gIGdlb21ldHJ5RW5naW5lOiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5RW5naW5lXHJcbiAgc2tldGNoVmlld01vZGVsOiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgY3VycmVudEFjdGl2ZVRvb2w6IHN0cmluZyA9ICdyZWN0YW5nbGUnXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wczogUHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgY3VycmVudFNlbGVjdFR5cGU6ICdSZWN0YW5nbGUnLFxyXG4gICAgICBza2V0Y2hJbml0aWFsZWQ6IGZhbHNlLFxyXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXHJcbiAgICAgIGlzUXVlcnlpbmc6IGZhbHNlLFxyXG4gICAgICBpc1Nob3dTZWxlY3RTZXR0aW5nOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Q1NTU3R5bGUgKCkge1xyXG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lXHJcblxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLnNlbGVjdC10b29sLWJ0bi1ob3ZlcjogaG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7cG9saXNoZWQucmdiYSh0aGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzUwMF0sIDAuMSl9OztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQtdGl0bGUge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lci1zaGVsbCB7XHJcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcclxuICAgICAgICBwYWRkaW5nOiA0cHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcclxuICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlIHtcclxuICAgICAgICB3aWR0aDogNjRweDtcclxuICAgICAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZDphZnRlciB7XHJcbiAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICB3aWR0aDogNDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcclxuICAgICAgICAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcclxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZSdcclxuICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5Ta2V0Y2hWaWV3TW9kZWwsIHRoaXMuR3JhcGhpY3NMYXllciwgdGhpcy5RdWVyeSwgdGhpcy5qc29uVXRpbHMsIHRoaXMuZ2VvbWV0cnlFbmdpbmVdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy53aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBza2V0Y2hJbml0aWFsZWQ6IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZXMpIHtcclxuICAgIGNvbnN0IHByZXZBY3RpdmVUb29sTmFtZSA9IHByZXZQcm9wcy5hY3RpdmVUb29sSW5mbyAmJiBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWVcclxuICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVUb29sTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZVxyXG5cclxuICAgIGlmIChwcmV2QWN0aXZlVG9vbE5hbWUgIT09IGN1cnJlbnRBY3RpdmVUb29sTmFtZSAmJiBjdXJyZW50QWN0aXZlVG9vbE5hbWUgIT09IHRoaXMucHJvcHMudG9vbE5hbWUgJiYgY3VycmVudEFjdGl2ZVRvb2xOYW1lKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzU2hvd1NlbGVjdFNldHRpbmc6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZTdGF0ZS5za2V0Y2hJbml0aWFsZWQgIT09IHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUgJiYgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCkge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZQcm9wcy5pc0FjdGl2ZSAhPT0gdGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpXHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwgPSBudWxsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGlmICh0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZXN0cm95KClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGluaXRpYWxTa2V0Y2hUb29sICgpIHtcclxuICAgIGlmICghdGhpcy5Ta2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG5ldyB0aGlzLlNrZXRjaFZpZXdNb2RlbCh7XHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxyXG4gICAgICAgIGxheWVyOiBuZXcgdGhpcy5HcmFwaGljc0xheWVyKCksXHJcbiAgICAgICAgcG9pbnRTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2ludFN5bWJvbCkgYXMgYW55LFxyXG4gICAgICAgIHBvbHlsaW5lU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWxpbmVTeW1ib2wpIGFzIGFueSxcclxuICAgICAgICBwb2x5Z29uU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWdvblN5bWJvbCkgYXMgYW55XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNRdWVyeWluZzogdHJ1ZVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuICAgICAgICAgIGppbXVNYXBWaWV3LnNlbGVjdEZlYXR1cmVzQnlHcmFwaGljKGV2ZW50LmdyYXBoaWMsIHRoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIGlzUXVlcnlpbmc6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRTZWxlY3RUeXBlID0gKGN1cnJlbnRTZWxlY3RUeXBlOiBhbnkpID0+IHtcclxuICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvaW50JylcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvaW50J1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3JlY3RhbmdsZScpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdyZWN0YW5nbGUnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2x5Z29uJylcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlnb24nXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgnY2lyY2xlJylcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ2NpcmNsZSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWxpbmUnKVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9seWxpbmUnXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiBjdXJyZW50U2VsZWN0VHlwZVxyXG4gICAgfSwgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gfHwgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZSAhPT0gdGhpcy5wcm9wcy50b29sTmFtZSkpIHtcclxuICAgICAgICB0aGlzLnByb3BzLl9vbkljb25DbGljayhudWxsKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdG9nZ2xlSXNTZWxlY3RBY3RpdmUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLl9vbkljb25DbGljayhudWxsKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlSXNTaG93U2VsZWN0U2V0dGluZyA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc1Nob3dTZWxlY3RTZXR0aW5nOiAhdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RTZXR0aW5nXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0SWNvblRpdGxlICgpIHtcclxuICAgIGxldCBzZWxlY3RUaXRsZTogc3RyaW5nID0gJydcclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50Jykge1xyXG4gICAgICBzZWxlY3RUaXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25CeVBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25CeVBvaW50IH0pXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XHJcbiAgICAgIHNlbGVjdFRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkJ5UmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25CeVJlY3RhbmdsZSB9KVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIHNlbGVjdFRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkJ5TGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkJ5TGFzc28gfSlcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgc2VsZWN0VGl0bGUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uQnlDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkJ5Q2lyY2xlIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICBzZWxlY3RUaXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25CeUxpbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkJ5TGluZSB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2VsZWN0VGl0bGUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0TGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdExhYmVsIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGVjdFRpdGxlXHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RUb29sSWNvbiA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RQb2ludEljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdFJlY3RhbmdsZUljb25cclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGFzc29JY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RDaXJjbGVJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0TGluZUljb25cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRNb2JpbGVQYW5lbEZvclNlbGVjdFNldHRpbmcgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxyXG4gICAgICAgIHsoeyBtYXBXaWRnZXRJZCB9KSA9PiAoXHJcbiAgICAgICAgICA8TW9iaWxlUGFuZWxcclxuICAgICAgICAgICAgbWFwV2lkZ2V0SWQ9e2Ake21hcFdpZGdldElkfS13aXRoLXNlbGVjdC1jb250YWluZXJgfSB0aXRsZT0nJ1xyXG4gICAgICAgICAgICBvcGVuPXt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFNldHRpbmd9IG9uQ2xvc2U9eygpID0+IHsgdGhpcy5oYW5kbGVJc1Nob3dTZWxlY3RTZXR0aW5nKCkgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwJz5cclxuICAgICAgICAgICAgICB7dGhpcy5nZXRNb2JpbGVQYW5lbFNldHRpbmdDb250ZW50KCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9Nb2JpbGVQYW5lbD5cclxuICAgICAgICApfVxyXG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIGdldE1vYmlsZVBhbmVsU2V0dGluZ0NvbnRlbnQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGVudC10aXRsZSBtdC0xIG1iLTInPlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sIH0pfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd3LTEwMCBzZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwnPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lcic+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnXHJcbiAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUmVjdGFuZ2xlJykgfX0gc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JyB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ1JlY3RhbmdsZScpIH19XHJcbiAgICAgICAgICAgICAgcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UmVjdGFuZ2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUmVjdGFuZ2xlIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbydcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMYXNzbycpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZVNlbGVjdFR5cGVLZXlEb3duKGUsICdMYXNzbycpIH19XHJcbiAgICAgICAgICAgICAgcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0TGFzc29JY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGFzc28gfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJ1xyXG4gICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0NpcmNsZScpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZVNlbGVjdFR5cGVLZXlEb3duKGUsICdDaXJjbGUnKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdENpcmNsZUljb259IC8+XHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbENpcmNsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbENpcmNsZSB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTMgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZSdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMaW5lJykgfX0gc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JyB9fVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlU2VsZWN0VHlwZUtleURvd24oZSwgJ0xpbmUnKSB9fVxyXG4gICAgICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExpbmVJY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCdcclxuICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdQb2ludCcpIH19IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZVNlbGVjdFR5cGVLZXlEb3duKGUsICdQb2ludCcpIH19XHJcbiAgICAgICAgICAgICAgcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0UG9pbnRJY29ufSAvPlxyXG4gICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFBvaW50IH0pfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sUG9pbnQgfSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUgbXQtMSBtYi0yJz5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uTW9kZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uTW9kZSB9KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMic+XHJcbiAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2ludGVyc2VjdHMnfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfSkgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19PlxyXG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uV2l0aGluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25XaXRoaW4gfSl9XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTInPlxyXG4gICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdjb250YWlucyd9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHsgdGhpcy5zZXRTdGF0ZSh7IHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucycgfSkgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT0nbS0wIG1sLTIgY29udGVudC10aXRsZScgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJyB9KSB9fT5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkNvbnRhaW4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkNvbnRhaW4gfSl9XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWxlY3RUeXBlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIHNlbGVjdFR5cGU6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInIHx8IGUua2V5ID09PSAnICcpIHtcclxuICAgICAgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZShzZWxlY3RUeXBlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PGFueT4sIGFjdGlvbjogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xyXG4gICAgICBpZiAoYWN0aW9uID09PSAndG9nZ2xlSXNTZWxlY3RBY3RpdmUnKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVJc1NlbGVjdEFjdGl2ZSgpXHJcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAnc2hvd1NlbGVjdFNldHRpbmcnKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVJc1Nob3dTZWxlY3RTZXR0aW5nKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IHNlbGVjdEljb25UaXRsZSA9IHRoaXMuZ2V0U2VsZWN0SWNvblRpdGxlKClcclxuICAgIGNvbnN0IG1vcmVJY29uVGl0bGUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnbW9yZScsIGRlZmF1bHRNZXNzYWdlOiAnTW9yZScgfSlcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfT5cclxuICAgICAgICB7dGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdlxyXG4gICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVJc1NlbGVjdEFjdGl2ZX0gc3R5bGU9e3t9fSB0aXRsZT17c2VsZWN0SWNvblRpdGxlfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nLCB7XHJcbiAgICAgICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy5wcm9wcy5pc0FjdGl2ZVxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ3RvZ2dsZUlzU2VsZWN0QWN0aXZlJykgfX1cclxuICAgICAgICAgIHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiA8ZGl2IHN0eWxlPXt7fX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBib3JkZXItMCBlc3JpLXdpZGdldC0tYnV0dG9uJyl9PlxyXG4gICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9J2V4Ym1hcC11aS10b29sLWljb24nIGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2JvcmRlciBib3JkZXItdG9wLTAgdy0xMDAnIHN0eWxlPXt7IGhlaWdodDogJzFweCcgfX0gLz5cclxuICAgICAgICB7dGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdiBvbkNsaWNrPXt0aGlzLmhhbmRsZUlzU2hvd1NlbGVjdFNldHRpbmd9IHRpdGxlPXttb3JlSWNvblRpdGxlfSBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfVxyXG4gICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdzaG93U2VsZWN0U2V0dGluZycpIH19XHJcbiAgICAgICAgICByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXtTZWxlY3RNb3JlSWNvbn0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAgeyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiA8ZGl2IHN0eWxlPXt7fX0gdGl0bGU9e21vcmVJY29uVGl0bGV9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfT5cclxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPSdleGJtYXAtdWktdG9vbC1pY29uJyBpY29uPXtTZWxlY3RNb3JlSWNvbn0gLz5cclxuICAgICAgICA8L2Rpdj59XHJcbiAgICAgICAge3RoaXMuc3RhdGUuaXNTaG93U2VsZWN0U2V0dGluZyAmJiB0aGlzLmdldE1vYmlsZVBhbmVsRm9yU2VsZWN0U2V0dGluZygpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7IGNzcywganN4LCBjbGFzc05hbWVzLCBSZWFjdCwgcG9saXNoZWQsIHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgdHlwZSBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtcywgdHlwZSBJbnRsU2hhcGUgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEljb24sIFBvcHBlciwgZGVmYXVsdE1lc3NhZ2VzLCBSYWRpbyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgdHlwZSBBY3RpdmVUb29sSW5mbyB9IGZyb20gJy4uLy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCdcclxuXHJcbmludGVyZmFjZSBQcm9wcyB7XHJcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzXHJcbiAgaW50bD86IEludGxTaGFwZVxyXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXdcclxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm9cclxuICB0b29sTmFtZTogc3RyaW5nXHJcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZFxyXG59XHJcblxyXG5pbnRlcmZhY2UgU3RhdGVzIHtcclxuICBza2V0Y2hJbml0aWFsZWQ6IGJvb2xlYW5cclxuICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGJvb2xlYW5cclxuICBpc1F1ZXJ5aW5nOiBib29sZWFuXHJcblxyXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSdcclxuICBpc0FjdGl2ZTogYm9vbGVhblxyXG4gIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB8ICdjb250YWlucydcclxuICByZXN1bHRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXVxyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XHJcbiAgc3R5bGU6ICdlc3JpU01TQ2lyY2xlJyxcclxuICBjb2xvcjogWzAsIDAsIDEyOCwgMTI4XSxcclxuICBuYW1lOiAnQ2lyY2xlJyxcclxuICBvdXRsaW5lOiB7XHJcbiAgICBjb2xvcjogWzAsIDAsIDEyOCwgMjU1XSxcclxuICAgIHdpZHRoOiAxXHJcbiAgfSxcclxuICB0eXBlOiAnZXNyaVNNUycsXHJcbiAgc2l6ZTogMThcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xyXG4gIHRhZ3M6IFsnc29saWQnXSxcclxuICB0aXRsZTogJ0JsdWUgVGhpbicsXHJcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCAyNTVdLFxyXG4gIHdpZHRoOiAzLFxyXG4gIG5hbWU6ICdCbHVlIDEnLFxyXG4gIHR5cGU6ICdlc3JpU0xTJ1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0UG9seWdvblN5bWJvbCA9IHtcclxuICBzdHlsZTogJ2VzcmlTRlNTb2xpZCcsXHJcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcclxuICB0eXBlOiAnZXNyaVNGUycsXHJcbiAgb3V0bGluZToge1xyXG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxyXG4gICAgY29sb3I6IFs1NCwgOTMsIDE0MSwgMjU1XSxcclxuICAgIHdpZHRoOiAxLjUsXHJcbiAgICB0eXBlOiAnZXNyaVNMUydcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IEljb25BcnJvd0Rvd24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmcnKVxyXG5cclxuY29uc3QgU2VsZWN0UmVjdGFuZ2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExhc3NvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtbGFzc28uc3ZnJylcclxuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpXHJcbmNvbnN0IFNlbGVjdExpbmVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2ZycpXHJcbmNvbnN0IFNlbGVjdFBvaW50SWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcG9pbnQuc3ZnJylcclxuY29uc3QgU2VsZWN0Q2xlYXJJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmcnKVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBDVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz4ge1xyXG4gIGJ0bkNvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBidG5TZWxlY3RUeXBlQ29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG4gIHNlbGVjdFJlc3VsdENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBTa2V0Y2hWaWV3TW9kZWw6IHR5cGVvZiBfX2VzcmkuU2tldGNoVmlld01vZGVsXHJcbiAgR3JhcGhpY3NMYXllcjogdHlwZW9mIF9fZXNyaS5HcmFwaGljc0xheWVyXHJcbiAgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnlcclxuICBza2V0Y2hWaWV3TW9kZWw6IF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWxcclxuICBjdXJyZW50QWN0aXZlVG9vbDogc3RyaW5nID0gJ3JlY3RhbmdsZSdcclxuICBxdWVyeTogRmVhdHVyZUxheWVyUXVlcnlQYXJhbXNcclxuICBqc29uVXRpbHM6IHR5cGVvZiBfX2VzcmkuanNvblV0aWxzID0gbnVsbFxyXG4gIGdlb21ldHJ5RW5naW5lOiB0eXBlb2YgX19lc3JpLmdlb21ldHJ5RW5naW5lXHJcbiAgcmVzdWx0R3JhcGhpY3M6IF9fZXNyaS5HcmFwaGljW10gPSBbXVxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHM6IFByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2UsXHJcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiAnUmVjdGFuZ2xlJyxcclxuICAgICAgc2tldGNoSW5pdGlhbGVkOiBmYWxzZSxcclxuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXHJcbiAgICAgIHJlc3VsdEdyYXBoaWNzOiBbXSxcclxuICAgICAgaXNRdWVyeWluZzogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldENTU1N0eWxlICgpIHtcclxuICAgIGNvbnN0IHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZVxyXG4gICAgY29uc3QgY29udGFpbmVyYmcgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJnXHJcbiAgICBjb25zdCBjb250YWluZXJCb3JkZXIgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJvcmRlclxyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgLnNlbGVjdC10b29sLWNvbnRhaW5lciB7XHJcbiAgICAgICAgJHtjb250YWluZXJiZyAmJiBgYmFja2dyb3VuZC1jb2xvcjogJHtjb250YWluZXJiZ307YH1cclxuICAgICAgICAke2NvbnRhaW5lckJvcmRlciAmJiBgYm9yZGVyOiAke2NvbnRhaW5lckJvcmRlci5jb2xvcn0gJHtjb250YWluZXJCb3JkZXIud2lkdGh9IHNvbGlkO2B9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1idG4ge1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNvbnRlbnQtYmcge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMTAwXX07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jb250ZW50LXRpdGxlIHtcclxuICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDEzKX07XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwge1xyXG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcclxuICAgICAgICB3aWR0aDogNDAwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlIHtcclxuICAgICAgICB3aWR0aDogNjRweDtcclxuICAgICAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZDphZnRlciB7XHJcbiAgICAgICAgd2lkdGg6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAwO1xyXG4gICAgICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICBib3JkZXItbGVmdDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YmVmb3JlIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGhlaWdodDogMnB4O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICAgIHotaW5kZXg6IDA7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgY29udGVudDogXCJcIjtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBoZWlnaHQ6IDJweDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcclxuICAgICAgfVxyXG5cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcclxuICAgICAgICAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvcmVzdC9zdXBwb3J0L1F1ZXJ5JyxcclxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9nZW9tZXRyeUVuZ2luZSdcclxuICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcclxuICAgICAgICBbdGhpcy5Ta2V0Y2hWaWV3TW9kZWwsIHRoaXMuR3JhcGhpY3NMYXllciwgdGhpcy5RdWVyeSwgdGhpcy5qc29uVXRpbHMsIHRoaXMuZ2VvbWV0cnlFbmdpbmVdID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy53aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBza2V0Y2hJbml0aWFsZWQ6IHRydWVcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZXMpIHtcclxuICAgIGlmIChwcmV2U3RhdGUuc2tldGNoSW5pdGlhbGVkICE9PSB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiB0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkge1xyXG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKClcclxuXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcclxuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKVxyXG5cclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSAmJiB0aGlzLmN1cnJlbnRBY3RpdmVUb29sKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmV2U3RhdGUuaXNBY3RpdmUgIT09IHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmRlc3Ryb3koKVxyXG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbnVsbFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5Qcm9wc0NoYW5nZShwcmV2UHJvcHMpXHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBpZiAodGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0b2dnbGVJc1NlbGVjdEFjdGl2ZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBpc0FjdGl2ZTogIXRoaXMuc3RhdGUuaXNBY3RpdmVcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5TdGF0ZUNoYW5nZSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0VG9vbEljb24gPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50Jykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0UG9pbnRJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XHJcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdExhc3NvSWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xyXG4gICAgICByZXR1cm4gU2VsZWN0Q2lyY2xlSWNvblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZScpIHtcclxuICAgICAgcmV0dXJuIFNlbGVjdExpbmVJY29uXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gU2VsZWN0UmVjdGFuZ2xlSWNvblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0SWNvblRpdGxlICgpIHtcclxuICAgIGxldCBzZWxlY3RUaXRsZTogc3RyaW5nID0gJydcclxuXHJcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50Jykge1xyXG4gICAgICBzZWxlY3RUaXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25CeVBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25CeVBvaW50IH0pXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnKSB7XHJcbiAgICAgIHNlbGVjdFRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkJ5UmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25CeVJlY3RhbmdsZSB9KVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XHJcbiAgICAgIHNlbGVjdFRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbkJ5TGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkJ5TGFzc28gfSlcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgc2VsZWN0VGl0bGUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uQnlDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkJ5Q2lyY2xlIH0pXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICBzZWxlY3RUaXRsZSA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25CeUxpbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbkJ5TGluZSB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2VsZWN0VGl0bGUgPSB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0TGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdExhYmVsIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGVjdFRpdGxlXHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZWxlY3RUeXBlUG9wdXAgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiAhdGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RUeXBlUG9wdXBcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy50cnlVcGRhdGVBY3RpdmVUb29sSW5mb1doZW5TdGF0ZUNoYW5nZSgpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuU3RhdGVDaGFuZ2UgKCkge1xyXG4gICAgY29uc3QgcHJldlNlbGVjdElzQWN0aXZlVG9vbCA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lID09PSB0aGlzLnByb3BzLnRvb2xOYW1lXHJcbiAgICBjb25zdCBjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sID0gISEodGhpcy5zdGF0ZS5pc0FjdGl2ZSB8fCB0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cClcclxuXHJcbiAgICBpZiAoIXByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgJiYgY3VycmVudFNlbGVjdElzQWN0aXZlVG9vbCkge1xyXG4gICAgICAvLyBzZWxlY3QgY2hhbmdlcyB0byBhY3RpdmUgdG9vbFxyXG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2Uoe1xyXG4gICAgICAgIGFjdGl2ZVRvb2xOYW1lOiB0aGlzLnByb3BzLnRvb2xOYW1lLFxyXG4gICAgICAgIGFjdGl2ZVRvb2xUaXRsZTogdGhpcy5wcm9wcy50b29sTmFtZVxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIGlmIChwcmV2U2VsZWN0SXNBY3RpdmVUb29sICYmICFjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sKSB7XHJcbiAgICAgIC8vIHNlbGVjdCBjaGFuZ2VzIHRvIGluYWN0aXZlIHRvb2xcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogZmFsc2VcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdHJ5VXBkYXRlQWN0aXZlVG9vbEluZm9XaGVuUHJvcHNDaGFuZ2UgKHByZXZQcm9wczogUHJvcHMpIHtcclxuICAgIGNvbnN0IHByZUFjdGl2ZVRvb2xOYW1lID0gcHJldlByb3BzPy5hY3RpdmVUb29sSW5mbz8uYWN0aXZlVG9vbE5hbWUgfHwgJydcclxuICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVUb29sTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8/LmFjdGl2ZVRvb2xOYW1lIHx8ICcnXHJcblxyXG4gICAgaWYgKHByZUFjdGl2ZVRvb2xOYW1lICE9PSBjdXJyZW50QWN0aXZlVG9vbE5hbWUpIHtcclxuICAgICAgLy8gcHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUgY2hhbmdlc1xyXG4gICAgICBjb25zdCB0b29sTmFtZSA9IHRoaXMucHJvcHMudG9vbE5hbWVcclxuICAgICAgY29uc3QgcHJldlNlbGVjdElzQWN0aXZlVG9vbCA9IHByZUFjdGl2ZVRvb2xOYW1lID09PSB0b29sTmFtZVxyXG4gICAgICBjb25zdCBjdXJyZW50U2VsZWN0SXNBY3RpdmVUb29sID0gY3VycmVudEFjdGl2ZVRvb2xOYW1lID09PSB0b29sTmFtZVxyXG5cclxuICAgICAgaWYgKHByZXZTZWxlY3RJc0FjdGl2ZVRvb2wgJiYgIWN1cnJlbnRTZWxlY3RJc0FjdGl2ZVRvb2wpIHtcclxuICAgICAgICAvLyBzZWxlY3QgY2hhbmdlcyB0byBpbmFjdGl2ZSB0b29sXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudFNlbGVjdFR5cGUgPSAoY3VycmVudFNlbGVjdFR5cGU6IGFueSkgPT4ge1xyXG4gICAgdGhpcy5pbml0aWFsU2tldGNoVG9vbCgpXHJcblxyXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XHJcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9pbnQnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvaW50J1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdyZWN0YW5nbGUnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3JlY3RhbmdsZSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2x5Z29uJylcclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5Z29uJ1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0NpcmNsZScpIHtcclxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdjaXJjbGUnKVxyXG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ2NpcmNsZSdcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlsaW5lJylcclxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5bGluZSdcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY3VycmVudFNlbGVjdFR5cGU6IGN1cnJlbnRTZWxlY3RUeXBlLFxyXG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlLFxyXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGluaXRpYWxTa2V0Y2hUb29sICgpIHtcclxuICAgIGlmICghdGhpcy5Ta2V0Y2hWaWV3TW9kZWwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLnNrZXRjaFZpZXdNb2RlbCkge1xyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG5ldyB0aGlzLlNrZXRjaFZpZXdNb2RlbCh7XHJcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxyXG4gICAgICAgIGxheWVyOiBuZXcgdGhpcy5HcmFwaGljc0xheWVyKCksXHJcbiAgICAgICAgcG9pbnRTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2ludFN5bWJvbCkgYXMgYW55LFxyXG4gICAgICAgIHBvbHlsaW5lU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWxpbmVTeW1ib2wpIGFzIGFueSxcclxuICAgICAgICBwb2x5Z29uU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWdvblN5bWJvbCkgYXMgYW55XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNRdWVyeWluZzogdHJ1ZVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXdcclxuICAgICAgICAgIGppbXVNYXBWaWV3LnNlbGVjdEZlYXR1cmVzQnlHcmFwaGljKGV2ZW50LmdyYXBoaWMsIHRoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIGlzUXVlcnlpbmc6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNsZWFyU2VsZWN0ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5jbGVhclNlbGVjdGVkRmVhdHVyZXMoKVxyXG4gIH1cclxuXHJcbiAgb25Qb3BwZXJUb2dnbGUgPSAoZTogYW55KSA9PiB7XHJcbiAgICB0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cCgpXHJcblxyXG4gICAgaWYgKGUpIHtcclxuICAgICAgaWYgKGUudHlwZSA9PT0gJ2tleWRvd24nICYmIGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgIHRoaXMuYnRuU2VsZWN0VHlwZUNvbnRhaW5lci5mb2N1cygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxhbnk+LCBzZWxlY3RUeXBlOiBzdHJpbmcpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoc2VsZWN0VHlwZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBzZWxlY3RJY29uVGl0bGUgPSB0aGlzLmdldFNlbGVjdEljb25UaXRsZSgpXHJcbiAgICBjb25zdCBjbGVhclNlbGVjdGlvblRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NsZWFyU2VsZWN0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGVhclNlbGVjdGlvbiB9KVxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtY29udGFpbmVyJyByZWY9e3JlZiA9PiB7IHRoaXMuYnRuQ29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnIHRpdGxlPXtzZWxlY3RJY29uVGl0bGV9PlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlSXNTZWxlY3RBY3RpdmV9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2Vzcmktd2lkZ2V0LS1idXR0b24gIGJvcmRlci0wIHNlbGVjdC10b29sLWJ0biBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICB7IGFjdGl2ZTogdGhpcy5zdGF0ZS5pc0FjdGl2ZSB9KX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9IC8+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXB9IHN0eWxlPXt7IHdpZHRoOiAxOCB9fVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uIGJvcmRlci0wIHBsLTEgcHItMSBzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgeyBhY3RpdmU6IHRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwIH0pfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cclxuICAgICAgICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5idG5TZWxlY3RUeXBlQ29udGFpbmVyID0gcmVmIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezh9IGhlaWdodD17OH0gaWNvbj17SWNvbkFycm93RG93bn0gLz5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICB0aXRsZT17Y2xlYXJTZWxlY3Rpb25UaXRsZX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLWJ0biBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyIGVzcmktd2lkZ2V0LS1idXR0b24gYm9yZGVyLTAnXHJcbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLnNlbGVjdFJlc3VsdENvbnRhaW5lciA9IHJlZiB9fSBvbkNsaWNrPXt0aGlzLmNsZWFyU2VsZWN0fVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWR9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdENsZWFySWNvbn0gLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxQb3BwZXIgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9IHJlZmVyZW5jZT17dGhpcy5idG5Db250YWluZXJ9IG9wZW49e3RoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwfSBwbGFjZW1lbnQ9J2JvdHRvbS1zdGFydCcgdG9nZ2xlPXt0aGlzLm9uUG9wcGVyVG9nZ2xlfT5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncC0zIGNvbnRlbnQtYmcnIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgfX0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGVudC10aXRsZSc+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbCB9KX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J210LTIgbWItMic+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggbWItMic+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTIgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdSZWN0YW5nbGUnKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ1JlY3RhbmdsZScpIH19IHJvbGU9J2J1dHRvbicgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RSZWN0YW5nbGVJY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xSZWN0YW5nbGUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4geyB0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMYXNzbycpIH19IG9uS2V5RG93bj17ZSA9PiB7IHRoaXMuaGFuZGxlS2V5RG93bihlLCAnTGFzc28nKSB9fSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0TGFzc29JY29ufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uVG9vbExhc3NvIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnQ2lyY2xlJykgfX0gb25LZXlEb3duPXtlID0+IHsgdGhpcy5oYW5kbGVLZXlEb3duKGUsICdDaXJjbGUnKSB9fSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2lyY2xlSWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sQ2lyY2xlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xDaXJjbGUgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGluZSdcclxuICAgICAgICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ0xpbmUnKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ0xpbmUnKSB9fSByb2xlPSdidXR0b24nIHRhYkluZGV4PXswfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0TGluZUljb259IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7IGlkOiAnU2VsZWN0aW9uVG9vbExpbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xMaW5lIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Ub29sTGluZSB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50J1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHsgdGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUG9pbnQnKSB9fSBvbktleURvd249e2UgPT4geyB0aGlzLmhhbmRsZUtleURvd24oZSwgJ1BvaW50JykgfX0gcm9sZT0nYnV0dG9uJyB0YWJJbmRleD17MH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFBvaW50SWNvbn0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xQb2ludCB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvblRvb2xQb2ludCB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2NvbnRlbnQtdGl0bGUnPlxyXG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbk1vZGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlNlbGVjdGlvbk1vZGUgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTInPlxyXG4gICAgICAgICAgICAgICAgICAgIDxSYWRpb1xyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnaW50ZXJzZWN0cyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgc3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnIH0pIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdtLTAgbWwtMiBjb250ZW50LXRpdGxlJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycgfSkgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ1NlbGVjdGlvbldpdGhpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuU2VsZWN0aW9uV2l0aGluIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yJz5cclxuICAgICAgICAgICAgICAgICAgICA8UmFkaW9cclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2NvbnRhaW5zJ31cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnIH0pIH19XHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPSdtLTAgbWwtMiBjb250ZW50LXRpdGxlJyBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSBvbkNsaWNrPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnIH0pIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25Db250YWluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25Db250YWluIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUG9wcGVyPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIHsodGhpcy5zdGF0ZS5pc1F1ZXJ5aW5nIHx8ICF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCkgJiYgPGRpdiBjbGFzc05hbWU9J3NlbGVjdC10b29sLWxvYWRlcicgLz59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgY3NzLCBqc3gsIFJlYWN0LCBEYXRhU291cmNlTWFuYWdlciB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBKaW11RmVhdHVyZUxheWVyVmlldywgdHlwZSBKaW11U2NlbmVMYXllclZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgQnV0dG9uLCBJY29uLCBkZWZhdWx0TWVzc2FnZXMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyBCYXNlVG9vbCwgdHlwZSBCYXNlVG9vbFByb3BzLCB0eXBlIEljb25UeXBlIH0gZnJvbSAnLi4vLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJ1xyXG5pbXBvcnQgeyBTZWxlY3RlZE51bWJlciB9IGZyb20gJy4vc2VsZWN0ZWQtbnVtYmVyJ1xyXG5cclxuY29uc3QgU2VsZWN0Wm9vbXRvSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3Qtem9vbXRvLnN2ZycpXHJcbmNvbnN0IFNlbGVjdENsZWFySWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2xlYXIuc3ZnJylcclxuXHJcbmludGVyZmFjZSBTdGF0ZXMge1xyXG4gIHNlbGVjdGVkR3JhcGhpY0NvdW50OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0U3RhdGUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcclxuICB0b29sTmFtZSA9ICdTZWxlY3RTdGF0ZSdcclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBzZWxlY3RlZEdyYXBoaWNDb3VudDogMFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGUgKCkge1xyXG4gICAgcmV0dXJuIGNzc2BcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLnByb3BzLnRoZW1lLmFyY2dpcy5jb21wb25lbnRzLmJ1dHRvbi52YXJpYW50cy5kZWZhdWx0LmRlZmF1bHQuYmd9O1xyXG5cclxuICAgICAgLmRpdmlkZS1saW5lIHtcclxuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAke3RoaXMucHJvcHMudGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s0MDBdfTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGdldFRpdGxlICgpIHtcclxuICAgIHJldHVybiAnJ1xyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkID0gKHNlbGVjdGVkR3JhcGhpY0NvdW50OiBudW1iZXIpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBzZWxlY3RlZEdyYXBoaWNDb3VudFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHpvb21Ub1NlbGVjdGVkRmVhdHVyZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldz8udmlld1xyXG5cclxuICAgIGlmICh2aWV3KSB7XHJcbiAgICAgIGNvbnN0IGdyYXBoaWNzID0gYXdhaXQgdGhpcy5nZXRTZWxlY3RlZEdyYXBoaWNzKClcclxuXHJcbiAgICAgIGlmIChncmFwaGljcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmlldy5nb1RvKGdyYXBoaWNzKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRTZWxlY3RlZEdyYXBoaWNzICgpIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkR3JhcGhpY3MgPSBbXVxyXG5cclxuICAgIGlmICghdGhpcy5wcm9wcy5qaW11TWFwVmlldykge1xyXG4gICAgICByZXR1cm4gc2VsZWN0ZWRHcmFwaGljc1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGppbXVMYXllclZpZXdzID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5qaW11TGF5ZXJWaWV3c1xyXG4gICAgY29uc3QgamltdUxheWVyVmlld0lkcyA9IE9iamVjdC5rZXlzKGppbXVMYXllclZpZXdzKVxyXG4gICAgY29uc3QgZGF0YVNvdXJjZU1hbmFnZXIgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgICBjb25zdCBwcm9taXNlczogQXJyYXk8UHJvbWlzZTxfX2VzcmkuR3JhcGhpY1tdPj4gPSBbXVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgamltdUxheWVyVmlld0lkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBqaW11TGF5ZXJWaWV3ID0gamltdUxheWVyVmlld3NbamltdUxheWVyVmlld0lkc1tpXV1cclxuICAgICAgY29uc3QgZHNJZCA9IGppbXVMYXllclZpZXcubGF5ZXJEYXRhU291cmNlSWRcclxuICAgICAgY29uc3QgZHMgPSBkYXRhU291cmNlTWFuYWdlci5nZXREYXRhU291cmNlKGRzSWQpXHJcblxyXG4gICAgICBsZXQgZHNTZWxlY3RlZFJlY29yZHMgPSBbXVxyXG5cclxuICAgICAgLy8gSWYgZGF0YVNvdXJjZSBleGlzdCwgd2UgZ2V0IHNlbGVjdGVkIGZlYXR1cmVzIGZyb20gZGF0YVNvdXJjZSwgb3RoZXJ3aXNlIHdlIGdldCBzZWxlY3RlZCBmZWF0dXJlcyBmcm9tIEppbXVMYXllclZpZXcuXHJcbiAgICAgIGlmIChkcykge1xyXG4gICAgICAgIGRzU2VsZWN0ZWRSZWNvcmRzID0gZHMuZ2V0U2VsZWN0ZWRSZWNvcmRzKClcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkc1NlbGVjdGVkUmVjb3Jkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgY29uc3QgdGVtcEZlYXR1cmUgPSAoZHNTZWxlY3RlZFJlY29yZHNbal0pLmZlYXR1cmUuY2xvbmUoKVxyXG4gICAgICAgICAgc2VsZWN0ZWRHcmFwaGljcy5wdXNoKHRlbXBGZWF0dXJlKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRzU2VsZWN0ZWRSZWNvcmRzLmxlbmd0aCA9PT0gMCAmJiAoamltdUxheWVyVmlldyBhcyAoSmltdUZlYXR1cmVMYXllclZpZXcgfCBKaW11U2NlbmVMYXllclZpZXcpKS5xdWVyeVNlbGVjdGVkRmVhdHVyZXNGcm9tQ2xpZW50KSB7XHJcbiAgICAgICAgLy8gVHlwaWNhbGx5LCB0aGlzIGlzIHRoZSBjYXNlIHRoYXQgd2UgaGlnaGxpZ2h0IGEgZmVhdHVyZSBieSBwb3B1cCBjbGljaywgYnV0IHRoZSBkYXRhIHNvdXJjZSBpcyBub3QgdXNlZCBhbmQgbm90IGNyZWF0ZWQuXHJcbiAgICAgICAgY29uc3QgcCA9IChqaW11TGF5ZXJWaWV3IGFzIChKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykpLnF1ZXJ5U2VsZWN0ZWRGZWF0dXJlc0Zyb21DbGllbnQoKVxyXG4gICAgICAgIHByb21pc2VzLnB1c2gocClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcm9taXNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcylcclxuXHJcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXN1bHRzLmZvckVhY2goZ3JhcGhpY3MgPT4ge1xyXG4gICAgICAgICAgaWYgKGdyYXBoaWNzICYmIGdyYXBoaWNzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZ3JhcGhpY3MuZm9yRWFjaChncmFwaGljID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBjbG9uZWRHcmFwaGljID0gZ3JhcGhpYy5jbG9uZSgpXHJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljcy5wdXNoKGNsb25lZEdyYXBoaWMpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxlY3RlZEdyYXBoaWNzXHJcbiAgfVxyXG5cclxuICBjbGVhclNlbGVjdGVkRmVhdHVyZXMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpXHJcbiAgfVxyXG5cclxuICBnZXRFeHBhbmRQYW5lbCAoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRGZWF0dXJlc1RpcCA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25TZWxlY3RlZEZlYXR1cmVzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25TZWxlY3RlZEZlYXR1cmVzIH0pXHJcbiAgICBjb25zdCBjbGVhclNlbGVjdGlvblRpdGxlID0gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2NsZWFyU2VsZWN0aW9uJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jbGVhclNlbGVjdGlvbiB9KVxyXG4gICAgY29uc3Qgem9vbVRvU2VsZWN0ZWRGZWF0dXJlc1RpcCA9IHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdTZWxlY3Rpb25ab29tVG9TZWxlY3RlZEZlYXR1cmVzJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5TZWxlY3Rpb25ab29tVG9TZWxlY3RlZEZlYXR1cmVzIH0pXHJcblxyXG4gICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9J3ctMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt7IGhlaWdodDogJzQwcHgnIH19PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21sLTInPlxyXG4gICAgICAgICAgICB7YCR7c2VsZWN0ZWRGZWF0dXJlc1RpcH06ICR7dGhpcy5zdGF0ZS5zZWxlY3RlZEdyYXBoaWNDb3VudH1gfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4Jz5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIHRpdGxlPXt6b29tVG9TZWxlY3RlZEZlYXR1cmVzVGlwfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT0naC0xMDAgYm9yZGVyIGJvcmRlci10b3AtMCBib3JkZXItYm90dG9tLTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyJyBzdHlsZT17eyB3aWR0aDogJzQwcHgnLCBjdXJzb3I6ICdwb2ludGVyJyB9fVxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuem9vbVRvU2VsZWN0ZWRGZWF0dXJlc31cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Wm9vbXRvSWNvbn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2gtMTAwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3sgd2lkdGg6ICc0MHB4JywgY3Vyc29yOiAncG9pbnRlcicgfX1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsZWFyU2VsZWN0ZWRGZWF0dXJlc31cclxuICAgICAgICAgICAgICB0aXRsZT17Y2xlYXJTZWxlY3Rpb25UaXRsZX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPFNlbGVjdGVkTnVtYmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBvblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkPXt0aGlzLmhhbmRsZVNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy56b29tVG9TZWxlY3RlZEZlYXR1cmVzfSB0aXRsZT17em9vbVRvU2VsZWN0ZWRGZWF0dXJlc1RpcH0+XHJcbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Wm9vbXRvSWNvbn0gY2xhc3NOYW1lPSdtci0yJyAvPlxyXG4gICAgICAgICAgICB7YCR7c2VsZWN0ZWRGZWF0dXJlc1RpcH06ICR7dGhpcy5zdGF0ZS5zZWxlY3RlZEdyYXBoaWNDb3VudH1gfVxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8U2VsZWN0ZWROdW1iZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQ9e3RoaXMuaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWR9IC8+XHJcbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgUmVhY3RSZWR1eCwgdHlwZSBJbW11dGFibGVPYmplY3QsIHR5cGUgSmltdU1hcFZpZXdJbmZvLCB0eXBlIElNU3RhdGUsIHR5cGUgRGF0YVNvdXJjZUluZm8sIERhdGFTb3VyY2VNYW5hZ2VyIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIEppbXVNYXBWaWV3LCB0eXBlIEppbXVGZWF0dXJlTGF5ZXJWaWV3LCB0eXBlIEppbXVTY2VuZUxheWVyVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuaW50ZXJmYWNlIFByb3BzIHtcclxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXdcclxuXHJcbiAgb25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZD86IChzZWxlY3RlZEdyYXBoaWNDb3VudDogbnVtYmVyKSA9PiB2b2lkXHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG5pbnRlcmZhY2UgU3RhdGVze31cclxuXHJcbmNsYXNzIF9TZWxlY3RlZE51bWJlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZXM+IHtcclxuICBjdXJyZW50SmltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KHRoaXMucHJvcHMuamltdU1hcFZpZXcpXHJcbiAgICB0aGlzLmNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljQ291bnQoKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHM6IFJlYWRvbmx5PFByb3BzICYgRXh0cmFQcm9wcz4pOiB2b2lkIHtcclxuICAgIGNvbnN0IHByZUppbXVNYXBWaWV3ID0gcHJldlByb3BzPy5qaW11TWFwVmlldyB8fCBudWxsXHJcbiAgICBjb25zdCBjdXJySmltdU1hcFZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3IHx8IG51bGxcclxuXHJcbiAgICBpZiAocHJlSmltdU1hcFZpZXcgIT09IGN1cnJKaW11TWFwVmlldykge1xyXG4gICAgICAvLyBzd2l0Y2ggbWFwXHJcbiAgICAgIHRoaXMuc2V0Q3VycmVudEppbXVNYXBWaWV3KGN1cnJKaW11TWFwVmlldylcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljQ291bnQoKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zZXRDdXJyZW50SmltdU1hcFZpZXcobnVsbClcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRKaW11TWFwVmlldyAoamltdU1hcFZpZXc6IEppbXVNYXBWaWV3KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50SmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcucmVtb3ZlSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZUlkc0NoYW5nZUxpc3RlbmVyKHRoaXMub25KaW11TGF5ZXJWaWV3U2VsZWN0ZWRGZWF0dXJlSWRzQ2hhbmdlKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY3VycmVudEppbXVNYXBWaWV3ID0gamltdU1hcFZpZXdcclxuXHJcbiAgICBpZiAodGhpcy5jdXJyZW50SmltdU1hcFZpZXcpIHtcclxuICAgICAgdGhpcy5jdXJyZW50SmltdU1hcFZpZXcuYWRkSmltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZUlkc0NoYW5nZUxpc3RlbmVyKHRoaXMub25KaW11TGF5ZXJWaWV3U2VsZWN0ZWRGZWF0dXJlSWRzQ2hhbmdlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25KaW11TGF5ZXJWaWV3U2VsZWN0ZWRGZWF0dXJlSWRzQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgLy8gVHlwaWNhbGx5LCB0aGlzIGNhbGxiYWNrIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB3ZSBoaWdobGlnaHQgYSBmZWF0dXJlIGJ5IHBvcHVwIGNsaWNrLCBidXQgdGhlIGRhdGEgc291cmNlIGlzIG5vdCB1c2VkIGFuZCBub3QgY3JlYXRlZC5cclxuICAgIHRoaXMuY29tcHV0ZXJTZWxlY3RlZEdyYXBoaWNDb3VudCgpXHJcbiAgfVxyXG5cclxuICBjb21wdXRlclNlbGVjdGVkR3JhcGhpY0NvdW50ICgpIHtcclxuICAgIGlmICh0aGlzLnByb3BzLm9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQpIHtcclxuICAgICAgY29uc3QgamltdUxheWVyVmlld3MgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzXHJcbiAgICAgIGNvbnN0IGppbXVMYXllclZpZXdJZHMgPSBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cylcclxuICAgICAgbGV0IHNlbGVjdGVkR3JhcGhpY0NvdW50ID0gMFxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgamltdUxheWVyVmlldyA9IGppbXVMYXllclZpZXdzW2ppbXVMYXllclZpZXdJZHNbaV1dXHJcbiAgICAgICAgY29uc3QgZHNJZCA9IGppbXVMYXllclZpZXcubGF5ZXJEYXRhU291cmNlSWRcclxuICAgICAgICBjb25zdCBkcyA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkc0lkKVxyXG5cclxuICAgICAgICBsZXQgY291bnQgPSAwXHJcblxyXG4gICAgICAgIC8vIElmIGRhdGFTb3VyY2UgZXhpc3QsIHdlIGdldCBzZWxlY3RlZCBmZWF0dXJlcyBmcm9tIGRhdGFTb3VyY2UsIG90aGVyd2lzZSB3ZSBnZXQgc2VsZWN0ZWQgZmVhdHVyZXMgZnJvbSBKaW11TGF5ZXJWaWV3LlxyXG4gICAgICAgIGlmIChkcykge1xyXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRSZWNvcmRzID0gZHMuZ2V0U2VsZWN0ZWRSZWNvcmRzKClcclxuICAgICAgICAgIGNvdW50ID0gc2VsZWN0ZWRSZWNvcmRzLmxlbmd0aFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvdW50ID09PSAwICYmIChqaW11TGF5ZXJWaWV3IGFzIChKaW11RmVhdHVyZUxheWVyVmlldyB8IEppbXVTY2VuZUxheWVyVmlldykpLmdldFNlbGVjdGVkRmVhdHVyZUlkcykge1xyXG4gICAgICAgICAgLy8gVHlwaWNhbGx5LCB0aGlzIGlzIHRoZSBjYXNlIHRoYXQgd2UgaGlnaGxpZ2h0IGEgZmVhdHVyZSBieSBwb3B1cCBjbGljaywgYnV0IHRoZSBkYXRhIHNvdXJjZSBpcyBub3QgdXNlZCBhbmQgbm90IGNyZWF0ZWQuXHJcbiAgICAgICAgICBjb25zdCBqaW11TGF5ZXJWaWV3U2VsZWN0ZWRGZWF0dXJlSWRzID0gKGppbXVMYXllclZpZXcgYXMgKEppbXVGZWF0dXJlTGF5ZXJWaWV3IHwgSmltdVNjZW5lTGF5ZXJWaWV3KSkuZ2V0U2VsZWN0ZWRGZWF0dXJlSWRzKClcclxuICAgICAgICAgIGNvdW50ID0gamltdUxheWVyVmlld1NlbGVjdGVkRmVhdHVyZUlkcy5sZW5ndGhcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGVjdGVkR3JhcGhpY0NvdW50ICs9IGNvdW50XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMucHJvcHMub25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZChzZWxlY3RlZEdyYXBoaWNDb3VudClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJTVN0YXRlLCBvd25Qcm9wczogUHJvcHMpOiBFeHRyYVByb3BzID0+IHtcclxuICBpZiAoc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIpIHtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VzSW5mbyA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyICYmIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyLmRhdGFTb3VyY2VzSW5mb1xyXG4gICAgY29uc3QgamltdU1hcFZpZXdzSW5mbyA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyICYmIHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyLmppbXVNYXBWaWV3c0luZm9cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGFTb3VyY2VzSW5mbzogZGF0YVNvdXJjZXNJbmZvLFxyXG4gICAgICB2aWV3SW5mb3M6IGppbXVNYXBWaWV3c0luZm9cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZXNJbmZvID0gc3RhdGUgJiYgc3RhdGUuZGF0YVNvdXJjZXNJbmZvXHJcbiAgICBjb25zdCBqaW11TWFwVmlld3NJbmZvID0gc3RhdGUgJiYgc3RhdGUuamltdU1hcFZpZXdzSW5mb1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YVNvdXJjZXNJbmZvOiBkYXRhU291cmNlc0luZm8sXHJcbiAgICAgIHZpZXdJbmZvczogamltdU1hcFZpZXdzSW5mb1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEV4dHJhUHJvcHMge1xyXG4gIGRhdGFTb3VyY2VzSW5mbz86IEltbXV0YWJsZU9iamVjdDx7IFtkc0lkOiBzdHJpbmddOiBEYXRhU291cmNlSW5mbyB9PlxyXG4gIHZpZXdJbmZvcz86IEltbXV0YWJsZU9iamVjdDx7IFtqaW11TWFwVmlld0lkOiBzdHJpbmddOiBKaW11TWFwVmlld0luZm8gfT5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNlbGVjdGVkTnVtYmVyID0gUmVhY3RSZWR1eC5jb25uZWN0PEV4dHJhUHJvcHMsIHVua25vd24sIFByb3BzPihtYXBTdGF0ZVRvUHJvcHMpKF9TZWxlY3RlZE51bWJlcilcclxuIiwiaW1wb3J0IHsgUmVhY3QgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IEJhc2VUb29sLCB0eXBlIEJhc2VUb29sUHJvcHMsIHR5cGUgSWNvblR5cGUgfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnXHJcbmltcG9ydCB7IGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIHR5cGUgSmltdU1hcFZpZXcgfSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IHsgZGVmYXVsdE1lc3NhZ2VzIH0gZnJvbSAnamltdS11aSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvb20gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XHJcbiAgdG9vbE5hbWUgPSAnWm9vbSdcclxuXHJcbiAgZ2V0VGl0bGUgKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6ICdab29tTGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLlpvb21MYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SWNvbiAoKTogSWNvblR5cGUge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGdldEV4cGFuZFBhbmVsICgpOiBKU1guRWxlbWVudCB7XHJcbiAgICByZXR1cm4gPFpvb21Jbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gLz5cclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBab29tSW5uZXJQcm9wcyB7XHJcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3XHJcbn1cclxuXHJcbmludGVyZmFjZSBab29tSW5uZXJTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbn1cclxuXHJcbmNsYXNzIFpvb21Jbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Wm9vbUlubmVyUHJvcHMsIFpvb21Jbm5lclN0YXRlPiB7XHJcbiAgWm9vbTogdHlwZW9mIF9fZXNyaS5ab29tID0gbnVsbFxyXG4gIFpvb21CdG46IF9fZXNyaS5ab29tXHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxyXG5cclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50ICgpIHtcclxuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcclxuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9ab29tJ10pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgICAgW3RoaXMuWm9vbV0gPSBtb2R1bGVzXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkVXBkYXRlICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xyXG4gICAgICBpZiAodGhpcy5ab29tQnRuKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5ab29tQnRuID0gbmV3IHRoaXMuWm9vbSh7XHJcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcclxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuZGVsZXRlSmltdU1hcFRvb2woJ1pvb20nKVxyXG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmFkZEppbXVNYXBUb29sKHtcclxuICAgICAgICBuYW1lOiAnWm9vbScsXHJcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuWm9vbUJ0blxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xyXG4gICAgaWYgKHRoaXMuWm9vbUJ0bikge1xyXG4gICAgICB0aGlzLlpvb21CdG4uZGVzdHJveSgpXHJcbiAgICAgIHRoaXMuWm9vbUJ0biA9IG51bGxcclxuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy5kZWxldGVKaW11TWFwVG9vbCgnWm9vbScpXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBUT0RPXHJcbiAgICAgICAqIFdoZW4gdGhlIG1hcCB3aWRnZXQgaGFzIHR3byBtYXBzLCB0aGUgXCJjb21wb25lbnRXaWxsVW5tb3VudFwiIGlzIGNhbGxlZCBvbmx5IGZvciB0aGUgY3VycmVudCBhY3RpdmUgdmlldyxcclxuICAgICAgICogc28gdGhlIGFub3RoZXIgdmlldydzIG1hcFRvb2wgaXMgbm90IGNsZWFyZWQuXHJcbiAgICAgICAqL1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpIHtcclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nem9vbS1tYXAtdG9vbCcgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fSAvPlxyXG4gIH1cclxufVxyXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cclxuaW1wb3J0IHtcclxuICBBcHBNb2RlLCBkYXRhU291cmNlVXRpbHMsIERhdGFTb3VyY2VNYW5hZ2VyLCB0eXBlIEpTQVBJTGF5ZXJNaXhpbiwgZ2VvbWV0cnlVdGlscyxcclxuICBnZXRBcHBTdG9yZSwgdHlwZSBNZXNzYWdlc0pzb24sIHR5cGUgSW1tdXRhYmxlT2JqZWN0LCBNZXNzYWdlVHlwZVxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBIaWdoTGlnaHRIYW5kbGUsIHR5cGUgTWFwYmFzZVJlc3RvcmVEYXRhIH0gZnJvbSAnLi9jb21wb25lbnRzL21hcGJhc2UnXHJcbmltcG9ydCB0eXBlIE1hcEJhc2UgZnJvbSAnLi9jb21wb25lbnRzL21hcGJhc2UnXHJcbmltcG9ydCB7IHR5cGUgSUZlYXR1cmUgfSBmcm9tICdAZXNyaS9hcmNnaXMtcmVzdC10eXBlcydcclxuaW1wb3J0IHsgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgdHlwZSBKaW11TWFwVmlldywgTGF5ZXJUeXBlcywgdHlwZSBKaW11RmVhdHVyZUxheWVyVmlldywgdHlwZSBKaW11U2NlbmVMYXllclZpZXcsIHR5cGUgSmltdUxheWVyVmlldyB9IGZyb20gJ2ppbXUtYXJjZ2lzJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5ld0ZlYXR1cmVsYXllciAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgbmV3RmVhdHVyZVNldFZhbHVlPzogeyBbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXQgfSk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgbmV3TGF5ZXJQcm9taXNlcyA9IFtdXHJcbiAgbmV3RmVhdHVyZVNldFZhbHVlICYmIE9iamVjdC5rZXlzKG5ld0ZlYXR1cmVTZXRWYWx1ZSkuZm9yRWFjaChsYXllcklkID0+IHtcclxuICAgIGNvbnN0IGxheWVyID0gbWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSBsYXllcklkKVxyXG4gICAgaWYgKGxheWVyKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybigndGhlIGZlYXR1cmUgbGF5ZXIgaXMgYWxyZWFkeSBjcmVhdGVkJylcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBuZXdMYXllclByb21pc2VzLnB1c2goYWRkRmVhdHVyZVNldFRvTWFwKG1hcEJhc2VWaWV3LCBuZXdGZWF0dXJlU2V0VmFsdWVbbGF5ZXJJZF0sIGxheWVySWQpKVxyXG4gIH0pXHJcblxyXG4gIGlmIChuZXdMYXllclByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKG5ld0xheWVyUHJvbWlzZXMpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRmVhdHVyZWxheWVyIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlPzogeyBbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXQgfSk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc3QgdXBkYXRlUHJvbWlzZXMgPSBbXVxyXG4gIGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMoY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZSkuZm9yRWFjaChsYXllcklkID0+IHtcclxuICAgIGNvbnN0IGxheWVyID0gbWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSBsYXllcklkKVxyXG4gICAgaWYgKGxheWVyKSB7XHJcbiAgICAgIG1hcEJhc2VWaWV3Lm1hcC5yZW1vdmUobGF5ZXIpXHJcbiAgICAgIHVwZGF0ZVByb21pc2VzLnB1c2goYWRkRmVhdHVyZVNldFRvTWFwKG1hcEJhc2VWaWV3LCBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlW2xheWVySWRdLCBsYXllcklkKSlcclxuICAgIH1cclxuICB9KVxyXG5cclxuICBpZiAodXBkYXRlUHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodXBkYXRlUHJvbWlzZXMpXHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBhZGRGZWF0dXJlU2V0VG9NYXAgKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGZlYXR1cmVTZXQ6IF9fZXNyaS5GZWF0dXJlU2V0LCBsYXllcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXHJcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICBpZiAoZmVhdHVyZVNldC5mZWF0dXJlcy5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgcmVzb2x2ZShudWxsKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGxldCBGZWF0dXJlU2V0OiB0eXBlb2YgIF9fZXNyaS5GZWF0dXJlU2V0O1xyXG4gICAgICAgIGxldCBGZWF0dXJlTGF5ZXI6IHR5cGVvZiBfX2VzcmkuRmVhdHVyZUxheWVyO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlcztcclxuXHJcbiAgICAgICAgY29uc3QgbGF5ZXJGcm9tRmVhdHVyZVNldCA9IGZlYXR1cmVTZXQuZmVhdHVyZXNbMF0ubGF5ZXIgYXMgYW55XHJcbiAgICAgICAgY29uc3QgZmllbGRzSW5GZWF0dXJlbGF5ZXIgPSBbXVxyXG4gICAgICAgIGNvbnN0IGZpZWxkTWFwID0ge31cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgZmllbGRzSXRlbSA9IGdldFJlYXNvbmFibGVGaWVsZChsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkc1tpXSlcclxuICAgICAgICAgIGZpZWxkTWFwW2xheWVyRnJvbUZlYXR1cmVTZXQuZmllbGRzW2ldLm5hbWVdID0gZmllbGRzSXRlbS5uYW1lXHJcbiAgICAgICAgICBmaWVsZHNJbkZlYXR1cmVsYXllci5wdXNoKGZpZWxkc0l0ZW0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmaWVsZHNJblBvcHVwVGVtcGxhdGUgPSBbXVxyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGZlYXR1cmVTZXQuZmVhdHVyZXNbMF0uYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgaWYgKGZpZWxkTWFwW2tleV0pIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRzSXRlbSA9IHtcclxuICAgICAgICAgICAgICBmaWVsZE5hbWU6IGZpZWxkTWFwW2tleV0sXHJcbiAgICAgICAgICAgICAgbGFiZWw6IGtleVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpZWxkc0luUG9wdXBUZW1wbGF0ZS5wdXNoKGZpZWxkc0l0ZW0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzb3VyY2VGZWF0dXJlcyA9IFtdXHJcbiAgICAgICAgZmVhdHVyZVNldC5mZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdGVtcEZlYXR1cmUgPSBmZWF0dXJlXHJcbiAgICAgICAgICBpZiAodGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlc1tmaWVsZE1hcFtrZXldXSA9IHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXNba2V5XVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzLmV4YmZpZCA9IGluZGV4XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzID0ge1xyXG4gICAgICAgICAgICAgIGV4YmZpZDogaW5kZXhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc291cmNlRmVhdHVyZXMucHVzaCh0ZW1wRmVhdHVyZSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zdCBsYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xyXG4gICAgICAgICAgaWQ6IGxheWVySWQsXHJcbiAgICAgICAgICB0aXRsZTogbGF5ZXJGcm9tRmVhdHVyZVNldC50aXRsZSxcclxuICAgICAgICAgIHNvdXJjZTogc291cmNlRmVhdHVyZXMsXHJcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkc0luRmVhdHVyZWxheWVyLFxyXG4gICAgICAgICAgb3V0RmllbGRzOiBbJyonXSxcclxuICAgICAgICAgIG9iamVjdElkRmllbGQ6ICdleGJmaWQnLFxyXG4gICAgICAgICAgcmVuZGVyZXI6IGxheWVyRnJvbUZlYXR1cmVTZXQucmVuZGVyZXIsXHJcbiAgICAgICAgICBwb3B1cEVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICBwb3B1cFRlbXBsYXRlOiB7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnaW5mb3JtYXRpb24nLFxyXG4gICAgICAgICAgICBjb250ZW50OiBbe1xyXG4gICAgICAgICAgICAgIHR5cGU6ICdmaWVsZHMnLFxyXG4gICAgICAgICAgICAgIGZpZWxkSW5mb3M6IGZpZWxkc0luUG9wdXBUZW1wbGF0ZVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIG1hcEJhc2VWaWV3Lm1hcC5hZGQobGF5ZXIpXHJcblxyXG4gICAgICAgIGxheWVyLm9uKCdsYXllcnZpZXctY3JlYXRlJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZShudWxsKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UmVhc29uYWJsZUZpZWxkIChmaWVsZDogX19lc3JpLkZpZWxkKTogX19lc3JpLkZpZWxkIHtcclxuICAvLyB0aGUgZnVuY3Rpb24gaXMgc3VwcG9ydGVkIHRvIG5vcm1hbGl6ZSB0aGUgZmllbGQubmFtZVxyXG4gIGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkLm5hbWVcclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogZmllbGROYW1lLnJlcGxhY2UoL1xcLi9nLCAnXycpLnJlcGxhY2UoL1xcKC9nLCAnXycpLnJlcGxhY2UoL1xcKS9nLCAnXycpLFxyXG4gICAgYWxpYXM6IGZpZWxkLmFsaWFzLFxyXG4gICAgdHlwZTogZmllbGQudHlwZVxyXG4gIH0gYXMgYW55XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RGZWF0dXJlIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IF9fZXNyaS5HcmFwaGljIHwgX19lc3JpLkdyYXBoaWNbXSB8IElGZWF0dXJlIHwgSUZlYXR1cmVbXSwgbGF5ZXJJZD86IHN0cmluZyk6IEhpZ2hMaWdodEhhbmRsZSB7XHJcbiAgLy8gSW4gdGhpcyBmdW5jdGlvbiwgd2UgYXNzdW1lIHRoYXQgZmVhdHVyZXMgY29tZSBmcm9tIHRoZSBzYW1lIGxheWVyXHJcbiAgbGV0IGZlYXR1cmVMYXllcklkID0gbGF5ZXJJZFxyXG4gIGxldCBmZWF0dXJlTGF5ZXJWaWV3ID0gbnVsbFxyXG4gIGxldCB0ZW1wRmVhdHVyZSA9IG51bGxcclxuXHJcbiAgLy8gaWYgbGF5ZXJJZCBkb2Vzbid0IGV4aXN0LCB3ZSBnZXQgbGF5ZXJJZCBieSBmZWF0dXJlXHJcbiAgaWYgKCFmZWF0dXJlTGF5ZXJJZCkge1xyXG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgIHRlbXBGZWF0dXJlID0gdGFyZ2V0WzBdIGFzIF9fZXNyaS5HcmFwaGljXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZW1wRmVhdHVyZSA9IHRhcmdldCBhcyBfX2VzcmkuR3JhcGhpY1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZW1wRmVhdHVyZSkge1xyXG4gICAgICBmZWF0dXJlTGF5ZXJJZCA9IHRlbXBGZWF0dXJlLmxheWVyICYmIHRlbXBGZWF0dXJlLmxheWVyLmlkXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoZmVhdHVyZUxheWVySWQpIHtcclxuICAgIGNvbnN0IGxheWVyVmlld3MgPSBtYXBCYXNlVmlldy5hbGxMYXllclZpZXdzXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyVmlld3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGxheWVyVmlld3MuZ2V0SXRlbUF0KGkpLmxheWVyLmlkID09PSBmZWF0dXJlTGF5ZXJJZCkge1xyXG4gICAgICAgIGZlYXR1cmVMYXllclZpZXcgPSBsYXllclZpZXdzLmdldEl0ZW1BdChpKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZlYXR1cmVMYXllclZpZXcpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBsYXllcklkOiBmZWF0dXJlTGF5ZXJJZCxcclxuICAgICAgICBoYW5kbGU6IGZlYXR1cmVMYXllclZpZXcuaGlnaGxpZ2h0KHRhcmdldClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnb1RvVGFyZ2V0SW1tZWRpYXRlbHkgKHZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgX3RhcmdldDogX19lc3JpLkdlb21ldHJ5KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3Qgdmlld1NSID0gdmlldy5zcGF0aWFsUmVmZXJlbmNlXHJcbiAgY29uc3QgZ2VvbWV0cmllcyA9IGF3YWl0IHByb2plY3RHZW9tZXRyaWVzKFtfdGFyZ2V0XSwgdmlld1NSKVxyXG5cclxuICBpZiAoZ2VvbWV0cmllcyAmJiBnZW9tZXRyaWVzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGdlb21ldHJpZXNbMF1cclxuICAgIHZpZXcuZ29Ubyh0YXJnZXQsIHsgYW5pbWF0ZTogZmFsc2UgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnb1RvVmlld3BvaW50SW1tZWRpYXRlbHkgKHZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgX3ZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHZpZXdTUiA9IHZpZXcuc3BhdGlhbFJlZmVyZW5jZVxyXG4gIGNvbnN0IHZpZXdwb2ludCA9IGF3YWl0IHByb2plY3RWaWV3cG9pbnQoX3ZpZXdwb2ludCwgdmlld1NSKVxyXG4gIC8vIHZpZXcuZ29Ubyh2aWV3cG9pbnQsIHsgYW5pbWF0ZTogZmFsc2UgfSlcclxuICB2aWV3LnZpZXdwb2ludCA9IHZpZXdwb2ludFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOZWVkUHJvamVjdFZpZXdwb2ludCAodmlld3BvaW50OiBfX2VzcmkuVmlld3BvaW50LCB2aWV3U1I6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogYm9vbGVhbiB7XHJcbiAgY29uc3Qgc3IxID0gdmlld3BvaW50LnRhcmdldEdlb21ldHJ5Py5zcGF0aWFsUmVmZXJlbmNlXHJcblxyXG4gIGlmIChzcjEgJiYgaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2Uoc3IxLCB2aWV3U1IpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgc3IyID0gdmlld3BvaW50LmNhbWVyYT8ucG9zaXRpb24/LnNwYXRpYWxSZWZlcmVuY2VcclxuXHJcbiAgaWYgKHNyMiAmJiBpc05lZWRQcm9qZWN0U3BhdGlhbFJlZmVyZW5jZShzcjIsIHZpZXdTUikpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlIChzcjE6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlLCBzcjI6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgaXNTYW1lID0gc3IxLndraWQgPT09IHNyMi53a2lkIHx8IHNyMS5lcXVhbHMoc3IyKVxyXG4gIC8vICBJbiBKUyBBUEkgNC54LCB0aGUgdmlldyBjYW4gaGFuZGxlIFdlYk1lcmNhdG9yIGFuZCBXR1M4NCBzcGF0aWFsUmVmZXJlbmNlIGF1dG9cclxuICBjb25zdCBpc0xpa2UgPSAoc3IxLmlzV2ViTWVyY2F0b3IgfHwgc3IxLmlzV0dTODQpICYmIChzcjIuaXNXZWJNZXJjYXRvciB8fCBzcjIuaXNXR1M4NClcclxuICByZXR1cm4gIWlzU2FtZSAmJiAhaXNMaWtlXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9qZWN0Vmlld3BvaW50IChfdmlld3BvaW50OiBfX2VzcmkuVmlld3BvaW50LCB2aWV3U1I6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogUHJvbWlzZTxfX2VzcmkuVmlld3BvaW50PiB7XHJcbiAgY29uc3Qgdmlld3BvaW50ID0gX3ZpZXdwb2ludC5jbG9uZSgpXHJcbiAgY29uc3QgdGFyZ2V0R2VvbWV0cnkgPSB2aWV3cG9pbnQudGFyZ2V0R2VvbWV0cnlcclxuICBjb25zdCBjYW1lcmFQb3NpdG9uID0gdmlld3BvaW50LmNhbWVyYT8ucG9zaXRpb25cclxuXHJcbiAgY29uc3QgdG9Qcm9qZWN0R2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10gPSBbXVxyXG4gIGxldCBpc1Byb2plY3RUYXJnZXRHZW9tZXRyeTogYm9vbGVhbiA9IGZhbHNlXHJcbiAgbGV0IGlzUHJvamVjdENhbWVyYVBvc2l0aW9uOiBib29sZWFuID0gZmFsc2VcclxuXHJcbiAgaWYgKHRhcmdldEdlb21ldHJ5ICYmIGlzTmVlZFByb2plY3RTcGF0aWFsUmVmZXJlbmNlKHRhcmdldEdlb21ldHJ5LnNwYXRpYWxSZWZlcmVuY2UsIHZpZXdTUikpIHtcclxuICAgIGlzUHJvamVjdFRhcmdldEdlb21ldHJ5ID0gdHJ1ZVxyXG4gICAgdG9Qcm9qZWN0R2VvbWV0cmllcy5wdXNoKHRhcmdldEdlb21ldHJ5KVxyXG4gIH1cclxuXHJcbiAgaWYgKGNhbWVyYVBvc2l0b24gJiYgaXNOZWVkUHJvamVjdFNwYXRpYWxSZWZlcmVuY2UoY2FtZXJhUG9zaXRvbi5zcGF0aWFsUmVmZXJlbmNlLCB2aWV3U1IpKSB7XHJcbiAgICBpc1Byb2plY3RDYW1lcmFQb3NpdGlvbiA9IHRydWVcclxuICAgIHRvUHJvamVjdEdlb21ldHJpZXMucHVzaChjYW1lcmFQb3NpdG9uKVxyXG4gIH1cclxuXHJcbiAgaWYgKHRvUHJvamVjdEdlb21ldHJpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgY29uc3QgcHJvamVjdGVkR2VvbWV0cmllcyA9IGF3YWl0IHByb2plY3RHZW9tZXRyaWVzKHRvUHJvamVjdEdlb21ldHJpZXMsIHZpZXdTUilcclxuXHJcbiAgICBpZiAoaXNQcm9qZWN0VGFyZ2V0R2VvbWV0cnkpIHtcclxuICAgICAgdmlld3BvaW50LnRhcmdldEdlb21ldHJ5ID0gcHJvamVjdGVkR2VvbWV0cmllc1swXVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1Byb2plY3RDYW1lcmFQb3NpdGlvbikge1xyXG4gICAgICB2aWV3cG9pbnQuY2FtZXJhLnBvc2l0aW9uID0gcHJvamVjdGVkR2VvbWV0cmllc1twcm9qZWN0ZWRHZW9tZXRyaWVzLmxlbmd0aCAtIDFdIGFzIF9fZXNyaS5Qb2ludFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHZpZXdwb2ludFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFwUGFudG8gKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIHRhcmdldDogX19lc3JpLkdlb21ldHJ5IHwgX19lc3JpLkdlb21ldHJ5W10gfFxyXG5fX2VzcmkuR3JhcGhpYyB8IF9fZXNyaS5HcmFwaGljW10gfCBfX2VzcmkuRXh0ZW50KTogUHJvbWlzZTxhbnk+IHtcclxuICBjb25zdCBwYW5Ub1RhcmdldCA9IHRhcmdldCBhcyBhbnlcclxuICBjb25zdCB0ZW1wQmFzZU1hcFZpZXcgPSBtYXBCYXNlVmlldyBhcyBhbnlcclxuICBpZiAocGFuVG9UYXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgaWYgKHBhblRvVGFyZ2V0Lmxlbmd0aCA9PT0gMCkgeyBhd2FpdCBQcm9taXNlLnJlc29sdmUoKTsgcmV0dXJuIH1cclxuXHJcbiAgICBpZiAocGFuVG9UYXJnZXRbMF0uZ2VvbWV0cnkpIHtcclxuICAgICAgY29uc3QgZ2VvbWV0cnlBcnI6IF9fZXNyaS5HZW9tZXRyeVtdID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5Ub1RhcmdldC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGdlb21ldHJ5QXJyLnB1c2gocGFuVG9UYXJnZXRbaV0uZ2VvbWV0cnkpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IGdldEdlb21ldHJpZXNFeHRlbnQoZ2VvbWV0cnlBcnIpLnRoZW4oKGV4dGVudCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBnb1RvKHRlbXBCYXNlTWFwVmlldywgZXh0ZW50LmNlbnRlcilcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBnZXRHZW9tZXRyaWVzRXh0ZW50KHBhblRvVGFyZ2V0KS50aGVuKChleHRlbnQpID0+IHtcclxuICAgICAgICByZXR1cm4gZ29Ubyh0ZW1wQmFzZU1hcFZpZXcsIGV4dGVudC5jZW50ZXIpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChwYW5Ub1RhcmdldC5nZW9tZXRyeSkge1xyXG4gICAgICBjb25zdCBnZXRtZXRyeSA9IHBhblRvVGFyZ2V0Lmdlb21ldHJ5IGFzIF9fZXNyaS5HZW9tZXRyeVxyXG4gICAgICByZXR1cm4gZ29Ubyh0ZW1wQmFzZU1hcFZpZXcsIGdldENlbnRlclBvaW50KGdldG1ldHJ5KSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBnb1RvKHRlbXBCYXNlTWFwVmlldywgZ2V0Q2VudGVyUG9pbnQocGFuVG9UYXJnZXQpKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ29UbyAodmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IGFueSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAvLyBkZWxheSBiZWZvcmUgdXBkYXRpbmcgb2YgdmlldyB0dXJucyB0cnVlLCA0MDBtcyBpcyBhIHRlbXBvcmFyeSBzb2x1dGlvbi5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAvLy8vIHRoZXJlIGlzIGEgY29uZmxpY3QgZm9yIHBhbmluZyB3aGVuIHRoZSBsYXllciB2aWV3IGlzIHVwZGF0aW5nLCBzdWNoIGFzICdwYW4gdG8nIGFuZCAnZmlsdGVyJy5cclxuICAgICAgLy8vLyB0aGlzIGlzIGEgdGVtcG9yYXJ5IHNvbHV0aW9uLCBpdCBjYW4gcmVkdWNlIHRoZSBmcmVxdWVuY3kgb2YgdGhlIHByb2JsZW0gcmF0aGVyIHRoYW4gc29sdmUgaXQgY29tcGxldGVseS5cclxuICAgICAgLy9pZiAodmlldy51cGRhdGluZykge1xyXG4gICAgICAvLyAgY29uc3QgaGFuZGxlciA9IHZpZXcud2F0Y2goJ3VwZGF0aW5nJywgdmFsdWUgPT4ge1xyXG4gICAgICAvLyAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgIC8vICAgICAgdmlldy5nb1RvKHRhcmdldCkudGhlbigoKSA9PiByZXNvbHZlKCkpLmNhdGNoKCgpID0+IHJlamVjdCgpKVxyXG4gICAgICAvLyAgICAgIGhhbmRsZXIucmVtb3ZlKClcclxuICAgICAgLy8gICAgfVxyXG4gICAgICAvLyAgfSlcclxuICAgICAgLy99IGVsc2Uge1xyXG4gICAgICAvLyAgdmlldy5nb1RvKHRhcmdldCkudGhlbigoKSA9PiByZXNvbHZlKCkpLmNhdGNoKCgpID0+IHJlamVjdCgpKVxyXG4gICAgICAvL31cclxuICAgICAgdmlldy5nb1RvKHRhcmdldCkudGhlbigoKSA9PiB7IHJlc29sdmUoKSB9KS5jYXRjaCgoKSA9PiB7IHJlamVjdCgpIH0pXHJcbiAgICB9LCA0MDApXHJcbiAgfSlcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0R2VvbWV0cmllc0V4dGVudCAoZ2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10pOiBQcm9taXNlPF9fZXNyaS5FeHRlbnQ+IHtcclxuICByZXR1cm4gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnXHJcbiAgXSkudGhlbihhc3luYyBtb2R1bGVzID0+IHtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgbGV0IEV4dGVudDogdHlwZW9mIF9fZXNyaS5FeHRlbnQ7XHJcbiAgICBbRXh0ZW50XSA9IG1vZHVsZXNcclxuXHJcbiAgICBpZiAoIWdlb21ldHJpZXMgfHwgIWdlb21ldHJpZXMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUobnVsbClcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZnVsbEV4dGVudDogX19lc3JpLkV4dGVudCA9IG51bGxcclxuICAgIGxldCBpbmRleFxyXG4gICAgY29uc3QgbnVtR2VvbWV0cmllcyA9IGdlb21ldHJpZXMubGVuZ3RoXHJcblxyXG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbnVtR2VvbWV0cmllczsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaW5kZXhdXHJcbiAgICAgIGlmICghZ2VvbWV0cnkpIHtcclxuICAgICAgICBjb250aW51ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgZXh0ZW50ID0gZ2VvbWV0cnkuZXh0ZW50XHJcblxyXG4gICAgICBpZiAoIWV4dGVudCAmJiBnZW9tZXRyeS50eXBlID09PSAncG9pbnQnKSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnRHZW9tZXRyeSA9IGdlb21ldHJ5IGFzIGFueVxyXG5cclxuICAgICAgICBpZiAocG9pbnRHZW9tZXRyeS54ICYmIHBvaW50R2VvbWV0cnkueSkge1xyXG4gICAgICAgICAgZXh0ZW50ID0gbmV3IEV4dGVudCh7XHJcbiAgICAgICAgICAgIHhtYXg6IHBvaW50R2VvbWV0cnkueCxcclxuICAgICAgICAgICAgeG1pbjogcG9pbnRHZW9tZXRyeS54LFxyXG4gICAgICAgICAgICB5bWF4OiBwb2ludEdlb21ldHJ5LnksXHJcbiAgICAgICAgICAgIHltaW46IHBvaW50R2VvbWV0cnkueSxcclxuICAgICAgICAgICAgem1heDogcG9pbnRHZW9tZXRyeS56LFxyXG4gICAgICAgICAgICB6bWluOiBwb2ludEdlb21ldHJ5LnosXHJcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHBvaW50R2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZXh0ZW50KSB7XHJcbiAgICAgICAgY29udGludWVcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGZ1bGxFeHRlbnQpIHtcclxuICAgICAgICBmdWxsRXh0ZW50ID0gZnVsbEV4dGVudC51bmlvbihleHRlbnQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZnVsbEV4dGVudCA9IGV4dGVudFxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZ1bGxFeHRlbnQud2lkdGggPCAwICYmIGZ1bGxFeHRlbnQuaGVpZ2h0IDwgMCkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKG51bGwpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShmdWxsRXh0ZW50KVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaWx0ZXJGZWF0dXJlc0J5UXVlcnkgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgYWN0aW9uTGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmICghYWN0aW9uTGF5ZXJEYXRhU291cmNlSWQpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShhY3Rpb25MYXllckRhdGFTb3VyY2VJZClcclxuXHJcbiAgaWYgKCFkYXRhU291cmNlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGxldCBqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3ID0gbnVsbFxyXG5cclxuICB0cnkge1xyXG4gICAgamltdUxheWVyVmlldyA9IGF3YWl0IGppbXVNYXBWaWV3LndoZW5KaW11TGF5ZXJWaWV3TG9hZGVkQnlEYXRhU291cmNlKGRhdGFTb3VyY2UpXHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBqaW11TGF5ZXJWaWV3ID0gbnVsbFxyXG4gICAgY29uc29sZS5lcnJvcignY2FuXFwndCBnZXQgamltdUxheWVyVmlldyBieSBkYXRhU291cmNlJywgZGF0YVNvdXJjZSwgZXJyKVxyXG4gIH1cclxuXHJcbiAgaWYgKGppbXVMYXllclZpZXcgJiYgamltdUxheWVyVmlldy5sYXllciAmJiAoamltdUxheWVyVmlldy50eXBlID09PSBMYXllclR5cGVzLkZlYXR1cmVMYXllciB8fCBqaW11TGF5ZXJWaWV3LnR5cGUgPT09IExheWVyVHlwZXMuU2NlbmVMYXllcikpIHtcclxuICAgIChqaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3IHwgSmltdVNjZW5lTGF5ZXJWaWV3KS5zZXREZWZpbml0aW9uRXhwcmVzc2lvbihxdWVyeVNRTClcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHF1ZXJ5RmVhdHVyZXMgKGxheWVyT2JqZWN0LCBxdWVyeVNRTCkge1xyXG4gIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeSdcclxuICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgbGV0IFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5O1xyXG4gICAgW1F1ZXJ5XSA9IG1vZHVsZXNcclxuICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KClcclxuICAgIHF1ZXJ5LndoZXJlID0gcXVlcnlTUUxcclxuICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IFsnKiddXHJcbiAgICBxdWVyeS5yZXR1cm5HZW9tZXRyeSA9IHRydWVcclxuICAgIHJldHVybiBsYXllck9iamVjdC5xdWVyeUZlYXR1cmVzKHF1ZXJ5KS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICByZXR1cm4gZmVhdHVyZVNldFxyXG4gICAgfSlcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBmbGFzaE9uRmVhdHVyZUxheWVyIChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIHF1ZXJ5U1FMOiBzdHJpbmcsIHRlbXBKaW11TGF5ZXJWaWV3OiBKaW11RmVhdHVyZUxheWVyVmlldykge1xyXG4gIGlmICgodGVtcEppbXVMYXllclZpZXcpLnZpZXcpIHtcclxuICAgIGxldCBmZWF0dXJlTGF5ZXJWaWV3OiBfX2VzcmkuRmVhdHVyZUxheWVyVmlldyA9ICh0ZW1wSmltdUxheWVyVmlldykudmlld1xyXG4gICAgaWYgKGZlYXR1cmVMYXllclZpZXcpIHtcclxuICAgICAgcXVlcnlGZWF0dXJlcyhmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLCBxdWVyeVNRTCkudGhlbihmZWF0dXJlU2V0ID0+IHtcclxuICAgICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0Rmxhc2hTeW1ib2woZmVhdHVyZUxheWVyVmlldy5sYXllci5nZW9tZXRyeVR5cGUpXHJcbiAgICAgICAgICBzdGFydEZsYXNoKGppbXVNYXBWaWV3LnZpZXcsIGZlYXR1cmVTZXQuZmVhdHVyZXMsIHN5bWJvbClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgJ2VzcmkvbGF5ZXJzL0ZlYXR1cmVMYXllcidcclxuICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAgIGxldCBGZWF0dXJlTGF5ZXI6IHR5cGVvZiBfX2VzcmkuRmVhdHVyZUxheWVyO1xyXG4gICAgICBbRmVhdHVyZUxheWVyXSA9IG1vZHVsZXNcclxuXHJcbiAgICAgIGxldCB0ZW1wRmVhdHVyZUxheWVyID0gbmV3IEZlYXR1cmVMYXllcih7XHJcbiAgICAgICAgdXJsOiBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcigodGVtcEppbXVMYXllclZpZXcgYXMgSmltdUZlYXR1cmVMYXllclZpZXcgfCBKaW11U2NlbmVMYXllclZpZXcpLmxheWVyKVxyXG4gICAgICB9KVxyXG4gICAgICB0ZW1wRmVhdHVyZUxheWVyLmxvYWQoKS50aGVuKCgpID0+IHtcclxuICAgICAgICBxdWVyeUZlYXR1cmVzKHRlbXBGZWF0dXJlTGF5ZXIsIHF1ZXJ5U1FMKS50aGVuKGZlYXR1cmVTZXQgPT4ge1xyXG4gICAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0Rmxhc2hTeW1ib2woZmVhdHVyZVNldC5mZWF0dXJlc1swXS5nZW9tZXRyeS50eXBlKVxyXG4gICAgICAgICAgICBzdGFydEZsYXNoKGppbXVNYXBWaWV3LnZpZXcsIGZlYXR1cmVTZXQuZmVhdHVyZXMsIHN5bWJvbClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmxldCBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgPSBudWxsXHJcbmZ1bmN0aW9uIGZsYXNoT25TY2VuZUxheWVyIChqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIHF1ZXJ5U1FMOiBzdHJpbmcsIHRlbXBKaW11TGF5ZXJWaWV3OiBKaW11U2NlbmVMYXllclZpZXcpIHtcclxuICBpZiAoKHRlbXBKaW11TGF5ZXJWaWV3KS52aWV3KSB7XHJcbiAgICBsZXQgc2NlbmVMYXllclZpZXc6IF9fZXNyaS5TY2VuZUxheWVyVmlldyA9ICh0ZW1wSmltdUxheWVyVmlldykudmlld1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgcXVlcnlGZWF0dXJlcyhzY2VuZUxheWVyVmlldz8ubGF5ZXI/LmFzc29jaWF0ZWRMYXllciwgcXVlcnlTUUwpLnRoZW4oZmVhdHVyZVNldCA9PiB7XHJcbiAgICAgIGlmIChmZWF0dXJlU2V0ICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMgJiYgZmVhdHVyZVNldC5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc3Qgb2JqZWN0SWRGaWVsZCA9IHNjZW5lTGF5ZXJWaWV3LmxheWVyLm9iamVjdElkRmllbGRcclxuICAgICAgICBjb25zdCBvYmplY3RJZHMgPSBmZWF0dXJlU2V0LmZlYXR1cmVzLm1hcChmZWF0dXJlID0+IGZlYXR1cmUuYXR0cmlidXRlc1tvYmplY3RJZEZpZWxkXSlcclxuXHJcbiAgICAgICAgbGV0IGkgPSAwXHJcbiAgICAgICAgY29uc3QgbWF4Rmxhc2hDb3VudCA9IDZcclxuICAgICAgICBsZXQgaGlnaGxpZ2h0Q29sb3IgPSBbMjU1LCAyNTUsIDAsIDAuOF1cclxuICAgICAgICBjb25zdCBvcmlnaW5hbEhpZ2hsaWdodE9wdGlvbnMgPSBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnNcclxuXHJcbiAgICAgICAgY29uc3QgZmxhc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAoaSA8IG1heEZsYXNoQ291bnQpIHtcclxuICAgICAgICAgICAgaSsrXHJcbiAgICAgICAgICAgIGlmIChoaWdobGlnaHRDb2xvcikge1xyXG4gICAgICAgICAgICAgIGhpZ2hsaWdodENvbG9yID0gbnVsbFxyXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSB7IGNvbG9yOiBbMCwgMCwgMCwgMF0gfVxyXG4gICAgICAgICAgICAgIHNjZW5lSGlnaHRsaWdodEhhbmRsZSAmJiBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUucmVtb3ZlKClcclxuICAgICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgPSBzY2VuZUxheWVyVmlldy5oaWdobGlnaHQob2JqZWN0SWRzKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGhpZ2hsaWdodENvbG9yID0gWzI1NSwgMjU1LCAwLCAwLjhdXHJcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgIGppbXVNYXBWaWV3LnZpZXcuaGlnaGxpZ2h0T3B0aW9ucyA9IHsgY29sb3I6IGhpZ2hsaWdodENvbG9yIH1cclxuICAgICAgICAgICAgICBzY2VuZUhpZ2h0bGlnaHRIYW5kbGUgJiYgc2NlbmVIaWdodGxpZ2h0SGFuZGxlLnJlbW92ZSgpXHJcbiAgICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlID0gc2NlbmVMYXllclZpZXcuaGlnaGxpZ2h0KG9iamVjdElkcylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsYXNoLCA1MDApXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBqaW11TWFwVmlldy52aWV3LmhpZ2hsaWdodE9wdGlvbnMgPSBvcmlnaW5hbEhpZ2hsaWdodE9wdGlvbnNcclxuICAgICAgICAgICAgc2NlbmVIaWdodGxpZ2h0SGFuZGxlICYmIHNjZW5lSGlnaHRsaWdodEhhbmRsZS5yZW1vdmUoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KGZsYXNoLCA1MDApXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmxhc2hGZWF0dXJlc0J5UXVlcnkgKGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGlmICghbGF5ZXJEYXRhU291cmNlSWQpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShsYXllckRhdGFTb3VyY2VJZClcclxuXHJcbiAgaWYgKCFkYXRhU291cmNlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGxldCBqaW11TGF5ZXJWaWV3OiBKaW11TGF5ZXJWaWV3ID0gbnVsbFxyXG5cclxuICB0cnkge1xyXG4gICAgamltdUxheWVyVmlldyA9IGF3YWl0IGppbXVNYXBWaWV3LndoZW5KaW11TGF5ZXJWaWV3TG9hZGVkQnlEYXRhU291cmNlKGRhdGFTb3VyY2UpXHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBqaW11TGF5ZXJWaWV3ID0gbnVsbFxyXG4gICAgY29uc29sZS5lcnJvcignY2FuXFwndCBnZXQgamltdUxheWVyVmlldyBieSBkYXRhU291cmNlJywgZGF0YVNvdXJjZSwgZXJyKVxyXG4gIH1cclxuXHJcbiAgaWYgKGppbXVMYXllclZpZXcgJiYgamltdUxheWVyVmlldy5sYXllcikge1xyXG4gICAgaWYgKGppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIpIHtcclxuICAgICAgZmxhc2hPbkZlYXR1cmVMYXllcihqaW11TWFwVmlldywgcXVlcnlTUUwsIGppbXVMYXllclZpZXcgYXMgSmltdUZlYXR1cmVMYXllclZpZXcpXHJcbiAgICB9IGVsc2UgaWYgKGppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5TY2VuZUxheWVyKSB7XHJcbiAgICAgIGZsYXNoT25TY2VuZUxheWVyKGppbXVNYXBWaWV3LCBxdWVyeVNRTCwgamltdUxheWVyVmlldyBhcyBKaW11U2NlbmVMYXllclZpZXcpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGFydEZsYXNoIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSwgc3ltYm9sKSB7XHJcbiAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAnZXNyaS9HcmFwaGljJ1xyXG4gIF0pLnRoZW4obW9kdWxlcyA9PiB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIGxldCBHcmFwaGljOiB0eXBlb2YgX19lc3JpLkdyYXBoaWM7XHJcbiAgICBbR3JhcGhpY10gPSBtb2R1bGVzXHJcblxyXG4gICAgY29uc3QgZmxhc2hGZWF0dXJlcyA9IGZ1bmN0aW9uIChmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSwgbWF4Rmxhc2hDb3VudDogbnVtYmVyKSB7XHJcbiAgICAgIGNvbnN0IGdyYXBoaWNzID0gW11cclxuICAgICAgbGV0IGZsYXNoQ291bnQgPSAwXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0ZW1wR3JhcGhpYyA9IG5ldyBHcmFwaGljKHtcclxuICAgICAgICAgIGdlb21ldHJ5OiBmZWF0dXJlc1tpXS5nZW9tZXRyeSxcclxuICAgICAgICAgIHN5bWJvbDogc3ltYm9sLFxyXG4gICAgICAgICAgYXR0cmlidXRlczogZmVhdHVyZXNbaV0uYXR0cmlidXRlc1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgZ3JhcGhpY3MucHVzaCh0ZW1wR3JhcGhpYylcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc2luZ2xlRmxhc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbWFwQmFzZVZpZXcuZ3JhcGhpY3MuYWRkTWFueShncmFwaGljcylcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIG1hcEJhc2VWaWV3LmdyYXBoaWNzLnJlbW92ZU1hbnkoZ3JhcGhpY3MpXHJcbiAgICAgICAgICBmbGFzaENvdW50ID0gZmxhc2hDb3VudCArIDFcclxuICAgICAgICAgIGlmIChmbGFzaENvdW50IDwgbWF4Rmxhc2hDb3VudCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICBzaW5nbGVGbGFzaCgpXHJcbiAgICAgICAgICAgIH0sIDUwMClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNpbmdsZUZsYXNoKClcclxuICAgIH1cclxuXHJcbiAgICBmbGFzaEZlYXR1cmVzKGZlYXR1cmVzLCAzKVxyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZsYXNoU3ltYm9sIChnZW9tZXRyeVR5cGU6IHN0cmluZykge1xyXG4gIGlmIChbJ3BvaW50JywgJ211bHRpcG9pbnQnXS5pbmNsdWRlcyhnZW9tZXRyeVR5cGUpKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0eXBlOiAnc2ltcGxlLW1hcmtlcicsXHJcbiAgICAgIHN0eWxlOiAnY2lyY2xlJyxcclxuICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcclxuICAgICAgc2l6ZTogJzE2cHgnLFxyXG4gICAgICBvdXRsaW5lOiB7XHJcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcclxuICAgICAgICB3aWR0aDogM1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChbJ3BvbHlsaW5lJ10uaW5jbHVkZXMoZ2VvbWV0cnlUeXBlKSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogJ3NpbXBsZS1saW5lJyxcclxuICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcclxuICAgICAgd2lkdGg6IDMsXHJcbiAgICAgIHN0eWxlOiAnc29saWQnXHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChbJ3BvbHlnb24nLCAnZXh0ZW50J10uaW5jbHVkZXMoZ2VvbWV0cnlUeXBlKSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHlwZTogJ3NpbXBsZS1maWxsJywgLy8gYXV0b2Nhc3RzIGFzIG5ldyBTaW1wbGVGaWxsU3ltYm9sKClcclxuICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC41XSxcclxuICAgICAgc3R5bGU6ICdzb2xpZCcsXHJcbiAgICAgIG91dGxpbmU6IHsgLy8gYXV0b2Nhc3RzIGFzIG5ldyBTaW1wbGVMaW5lU3ltYm9sKClcclxuICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxyXG4gICAgICAgIHdpZHRoOiAzXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGVsc2UgaWYgKFsnbWVzaCddLmluY2x1ZGVzKGdlb21ldHJ5VHlwZSkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHR5cGU6ICdtZXNoLTNkJywgLy8gYXV0b2Nhc3RzIGFzIG5ldyBNZXNoU3ltYm9sM0QoKVxyXG4gICAgICBzeW1ib2xMYXllcnM6IFt7XHJcbiAgICAgICAgdHlwZTogJ2ZpbGwnLCAvLyBhdXRvY2FzdHMgYXMgbmV3IEZpbGxTeW1ib2wzRExheWVyKClcclxuICAgICAgICBtYXRlcmlhbDogeyBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdIH1cclxuICAgICAgfV1cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENlbnRlclBvaW50IChnZW9tZXRyeTogX19lc3JpLkdlb21ldHJ5KTogX19lc3JpLlBvaW50IHtcclxuICAvLyBwb2ludCB8IG11bHRpcG9pbnQgfCBwb2x5bGluZSB8IHBvbHlnb24gfCBleHRlbnQgfCBtZXNoXHJcbiAgc3dpdGNoIChnZW9tZXRyeS50eXBlKSB7XHJcbiAgICBjYXNlICdwb2ludCc6XHJcbiAgICAgIHJldHVybiBnZW9tZXRyeSBhcyBfX2VzcmkuUG9pbnRcclxuICAgIGNhc2UgJ2V4dGVudCc6XHJcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLkV4dGVudCkuY2VudGVyXHJcbiAgICBjYXNlICdwb2x5Z29uJzpcclxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWdvbikuY2VudHJvaWRcclxuICAgIGNhc2UgJ3BvbHlsaW5lJzpcclxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWxpbmUpLmV4dGVudC5jZW50ZXJcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBnZW9tZXRyeSAmJiBnZW9tZXRyeS5leHRlbnQgPyBnZW9tZXRyeS5leHRlbnQuY2VudGVyIDogdW5kZWZpbmVkXHJcbiAgICAvLyB0b2RvXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRmVhdHVyZSAoZmVhdHVyZTogSUZlYXR1cmUgfCBfX2VzcmkuR3JhcGhpYywgR3JhcGhpYzogX19lc3JpLkdyYXBoaWNDb25zdHJ1Y3Rvcik6IF9fZXNyaS5HcmFwaGljIHtcclxuICBsZXQgdGVtcEZlYXR1cmUgPSBudWxsXHJcbiAgaWYgKChmZWF0dXJlIGFzIGFueSkuY2xvbmUpIHtcclxuICAgIHRlbXBGZWF0dXJlID0gKGZlYXR1cmUgYXMgYW55KS5jbG9uZSgpXHJcbiAgfSBlbHNlIHtcclxuICAgIHRlbXBGZWF0dXJlID0gR3JhcGhpYy5mcm9tSlNPTihPYmplY3QuYXNzaWduKHt9LCBmZWF0dXJlKSlcclxuICAgIHRlbXBGZWF0dXJlLmF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBmZWF0dXJlLmF0dHJpYnV0ZXMpXHJcbiAgfVxyXG4gIHJldHVybiB0ZW1wRmVhdHVyZVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvamVjdEdlb21ldHJpZXMgKGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdLCBzcGF0aWFsUmVmZXJlbmNlOiBfX2VzcmkuU3BhdGlhbFJlZmVyZW5jZSk6IFByb21pc2U8X19lc3JpLkdlb21ldHJ5W10+IHtcclxuICBpZiAoIWdlb21ldHJpZXMgfHwgZ2VvbWV0cmllcy5sZW5ndGggPT09IDAgfHwgIWdlb21ldHJpZXNbMF0gfHxcclxuICAgIHNwYXRpYWxSZWZlcmVuY2Uud2tpZCA9PT0gZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLndraWQgfHwgKHNwYXRpYWxSZWZlcmVuY2UuZXF1YWxzKGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZSkpKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpXHJcbiAgfSBlbHNlIGlmIChzcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IgJiYgZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQpIHtcclxuICAgIC8vIEluIGpzIGFwaSA0LngsIHRoZSB2aWV3IGNhbiBoYW5kbGUgV2ViTWVyY2F0b3IgYW5kIFdHUzg0IHNwYXRpYWxSZWZlcmVuY2UgYXV0b1xyXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKVxyXG4gIH0gZWxzZSBpZiAoc3BhdGlhbFJlZmVyZW5jZS5pc1dHUzg0ICYmIGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yKSB7XHJcbiAgICAvLyBJbiBqcyBhcGkgNC54LCB0aGUgdmlldyBjYW4gaGFuZGxlIFdlYk1lcmNhdG9yIGFuZCBXR1M4NCBzcGF0aWFsUmVmZXJlbmNlIGF1dG9cclxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcylcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGF3YWl0IGdlb21ldHJ5VXRpbHMucHJvamVjdFRvU3BhdGlhbFJlZmVyZW5jZShnZW9tZXRyaWVzLCBzcGF0aWFsUmVmZXJlbmNlKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3Nab29tVG9GZWF0dXJlcyAobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgX19lc3JpLlNjZW5lVmlldywgbGF5ZXI6IGFueSwgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10pOiBQcm9taXNlPF9fZXNyaS5HcmFwaGljW10+IHtcclxuICBpZiAobWFwQmFzZVZpZXcgJiYgbWFwQmFzZVZpZXcudHlwZSA9PT0gJzNkJyAmJiBsYXllciAmJiBsYXllci5xdWVyeUZlYXR1cmVzICYmIGZlYXR1cmVzKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXHJcbiAgICAgICdlc3JpL3Jlc3Qvc3VwcG9ydC9RdWVyeSdcclxuICAgIF0pLnRoZW4oKG1vZHVsZXMpID0+IHtcclxuICAgICAgY29uc3QgW1F1ZXJ5XSA9IG1vZHVsZXNcclxuICAgICAgY29uc3QgcXVlcnkgPSBuZXcgUXVlcnkoKVxyXG4gICAgICBxdWVyeS5yZXR1cm5HZW9tZXRyeSA9IHRydWVcclxuICAgICAgcXVlcnkub3V0RmllbGRzID0gWycqJ11cclxuICAgICAgcXVlcnkub2JqZWN0SWRzID0gZmVhdHVyZXMubWFwKGZlYXR1cmUgPT4gZmVhdHVyZS5hdHRyaWJ1dGVzW2xheWVyLm9iamVjdElkRmllbGRdKVxyXG4gICAgICByZXR1cm4gbGF5ZXIucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZmVhdHVyZXMgJiYgcmVzdWx0LmZlYXR1cmVzLmxlbmd0aCA9PT0gZmVhdHVyZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHJlc3VsdC5mZWF0dXJlcylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShmZWF0dXJlcylcclxuICAgICAgICB9XHJcbiAgICAgIH0sIGFzeW5jICgpID0+IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmVzb2x2ZShmZWF0dXJlcylcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lzTGl2ZSAoYXBwTW9kZTogQXBwTW9kZSk6IGJvb2xlYW4ge1xyXG4gIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xyXG4gICAgaWYgKGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXllcnNGcm9tRGF0YVNvdXJjZUlkcyAoZGF0YVNvdXJjZUlkczogc3RyaW5nW10pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IGxheWVyUHJvbWlzZXMgPSBbXVxyXG4gIGRhdGFTb3VyY2VJZHMuZm9yRWFjaChkYXRhU291cmNlSWQgPT4ge1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZSA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpIGFzIHVua25vd24gYXMgSlNBUElMYXllck1peGluXHJcbiAgICBsZXQgbGF5ZXJQcm9taXNlXHJcbiAgICBpZiAoZGF0YVNvdXJjZT8ubGF5ZXIpIHtcclxuICAgICAgbGF5ZXJQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGRhdGFTb3VyY2UubGF5ZXIpXHJcbiAgICB9IGVsc2UgaWYgKGRhdGFTb3VyY2U/LmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UpIHtcclxuICAgICAgbGF5ZXJQcm9taXNlID0gZGF0YVNvdXJjZS5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxheWVyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShudWxsKVxyXG4gICAgfVxyXG4gICAgbGF5ZXJQcm9taXNlcy5wdXNoKGxheWVyUHJvbWlzZSlcclxuICB9KVxyXG4gIHJldHVybiBQcm9taXNlLmFsbChsYXllclByb21pc2VzKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SmltdU1hcFZpZXdJZCAod2lkZ2V0SWQ6IHN0cmluZywgZGF0YVNvdXJjZUlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIC8vIElmIGRhdGFTb3VyY2VJZCBpcyBudWxsLCBtYWtlIHN1cmUgaXQgY29udmVydHMgdG8gZW1wdHkgc3RyaW5nLlxyXG4gIGNvbnN0IGRzSWQgPSBkYXRhU291cmNlSWQgfHwgJydcclxuICByZXR1cm4gYCR7d2lkZ2V0SWR9LSR7ZHNJZH1gXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXBCYXNlUmVzdG9yZURhdGEgKG1hcEluc3RhbmNlOiBNYXBCYXNlKTogTWFwYmFzZVJlc3RvcmVEYXRhIHtcclxuICBjb25zdCB7XHJcbiAgICBtYXBDb250YWluZXIsXHJcbiAgICBzdGF0ZSxcclxuICAgIEdlb21ldHJ5LFxyXG4gICAgSW5pdGlhbFZpZXdQcm9wZXJ0aWVzLFxyXG4gICAgVGlsZUxheWVyLFxyXG4gICAgQmFzZW1hcCxcclxuICAgIE1hcFZpZXcsXHJcbiAgICBTY2VuZVZpZXcsXHJcbiAgICBFeHRlbnQsXHJcbiAgICBWaWV3cG9pbnQsXHJcbiAgICBQb3J0YWxJdGVtLFxyXG4gICAgUG9ydGFsLFxyXG4gICAgV2ViTWFwLFxyXG4gICAgV2ViU2NlbmUsXHJcbiAgICBDb2xvcixcclxuICAgIGV4cGVjdGVkRGF0YVNvdXJjZUluZm8sXHJcbiAgICBtYXBDcmVhdGluZ0luZm8sXHJcbiAgICB2aWV3LFxyXG4gICAgbGFzdFVwZGF0ZVZpZXdDb25maWcsXHJcbiAgICBtYXBEcyxcclxuICAgIGRzTWFuYWdlcixcclxuICAgIGlzRmlyc3RSZWNlaXZlTWVzc2FnZVxyXG4gIH0gPSBtYXBJbnN0YW5jZVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWFwQ29udGFpbmVyLFxyXG4gICAgc3RhdGUsXHJcblxyXG4gICAgR2VvbWV0cnksXHJcbiAgICBJbml0aWFsVmlld1Byb3BlcnRpZXMsXHJcbiAgICBUaWxlTGF5ZXIsXHJcbiAgICBCYXNlbWFwLFxyXG4gICAgTWFwVmlldyxcclxuICAgIFNjZW5lVmlldyxcclxuICAgIEV4dGVudCxcclxuICAgIFZpZXdwb2ludCxcclxuICAgIFBvcnRhbEl0ZW0sXHJcbiAgICBQb3J0YWwsXHJcbiAgICBXZWJNYXAsXHJcbiAgICBXZWJTY2VuZSxcclxuICAgIENvbG9yLFxyXG5cclxuICAgIGV4cGVjdGVkRGF0YVNvdXJjZUluZm8sXHJcbiAgICBtYXBDcmVhdGluZ0luZm8sXHJcbiAgICB2aWV3LFxyXG4gICAgbGFzdFVwZGF0ZVZpZXdDb25maWcsXHJcbiAgICBtYXBEcyxcclxuXHJcbiAgICBkc01hbmFnZXIsXHJcbiAgICBpc0ZpcnN0UmVjZWl2ZU1lc3NhZ2VcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXN0b3JlTWFwQmFzZSAobWFwSW5zdGFuY2U6IE1hcEJhc2UsIHJlc3RvcmVEYXRhOiBNYXBiYXNlUmVzdG9yZURhdGEpOiB2b2lkIHtcclxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVzdG9yZURhdGEpXHJcblxyXG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcclxuICAgIG1hcEluc3RhbmNlW2tleV0gPSByZXN0b3JlRGF0YVtrZXldXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNUd29XaWRnZXRzTXV0dWFsbHlFeHRlbnRDaGFuZ2UgKHdpZGdldElkMTogc3RyaW5nLCB3aWRnZXRJZDI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGlmICh3aWRnZXRJZDEgJiYgd2lkZ2V0SWQyKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlQ29uZmlncyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcubWVzc2FnZUNvbmZpZ3NcclxuXHJcbiAgICBpZiAobWVzc2FnZUNvbmZpZ3MpIHtcclxuICAgICAgY29uc3QgYWN0aW9uTmFtZXM6IHN0cmluZ1tdID0gWydwYW5UbycsICd6b29tVG9GZWF0dXJlJ11cclxuICAgICAgY29uc3QgbWVzc2FnZVR5cGUgPSBNZXNzYWdlVHlwZS5FeHRlbnRDaGFuZ2VcclxuXHJcbiAgICAgIGlmIChpc1dpZGdldFNlbmRBY3Rpb25zVG9Bbm90aGVyKHdpZGdldElkMSwgd2lkZ2V0SWQyLCBtZXNzYWdlQ29uZmlncywgbWVzc2FnZVR5cGUsIGFjdGlvbk5hbWVzKSAmJlxyXG4gICAgICAgICBpc1dpZGdldFNlbmRBY3Rpb25zVG9Bbm90aGVyKHdpZGdldElkMiwgd2lkZ2V0SWQxLCBtZXNzYWdlQ29uZmlncywgbWVzc2FnZVR5cGUsIGFjdGlvbk5hbWVzKSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmYWxzZVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNXaWRnZXRTZW5kWm9vbVRvQWN0aW9uVG9Bbm90aGVyIChzZW5kTWVzc2FnZVdpZGdldElkOiBzdHJpbmcsIGFjdGlvbldpZGdldElkOiBzdHJpbmcsIG1lc3NhZ2VUeXBlOiBNZXNzYWdlVHlwZSk6IGJvb2xlYW4ge1xyXG4gIGlmIChzZW5kTWVzc2FnZVdpZGdldElkICYmIGFjdGlvbldpZGdldElkKSB7XHJcbiAgICBjb25zdCBtZXNzYWdlQ29uZmlncyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcubWVzc2FnZUNvbmZpZ3NcclxuXHJcbiAgICBpZiAobWVzc2FnZUNvbmZpZ3MpIHtcclxuICAgICAgY29uc3QgYWN0aW9uTmFtZXM6IHN0cmluZ1tdID0gWyd6b29tVG9GZWF0dXJlJ11cclxuXHJcbiAgICAgIHJldHVybiBpc1dpZGdldFNlbmRBY3Rpb25zVG9Bbm90aGVyKHNlbmRNZXNzYWdlV2lkZ2V0SWQsIGFjdGlvbldpZGdldElkLCBtZXNzYWdlQ29uZmlncywgbWVzc2FnZVR5cGUsIGFjdGlvbk5hbWVzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzV2lkZ2V0U2VuZEFjdGlvbnNUb0Fub3RoZXIgKFxyXG4gIHNlbmRNZXNzYWdlV2lkZ2V0SWQ6IHN0cmluZyxcclxuICBhY3Rpb25XaWRnZXRJZDogc3RyaW5nLFxyXG4gIG1lc3NhZ2VDb25maWdzOiBJbW11dGFibGVPYmplY3Q8TWVzc2FnZXNKc29uPixcclxuICBtZXNzYWdlVHlwZTogTWVzc2FnZVR5cGUsXHJcbiAgYWN0aW9uTmFtZXM6IHN0cmluZ1tdXHJcbik6IGJvb2xlYW4ge1xyXG4gIGlmIChtZXNzYWdlQ29uZmlncykge1xyXG4gICAgY29uc3QgbWVzc2FnZUpzb25BcnJheSA9IE9iamVjdC52YWx1ZXMobWVzc2FnZUNvbmZpZ3MpXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlSnNvbkFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2VKc29uID0gbWVzc2FnZUpzb25BcnJheVtpXVxyXG5cclxuICAgICAgaWYgKG1lc3NhZ2VKc29uLndpZGdldElkID09PSBzZW5kTWVzc2FnZVdpZGdldElkICYmIG1lc3NhZ2VKc29uLm1lc3NhZ2VUeXBlID09PSBtZXNzYWdlVHlwZSkge1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBtZXNzYWdlSnNvbi5hY3Rpb25zXHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWN0aW9ucy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgY29uc3QgYWN0aW9uID0gYWN0aW9uc1tqXVxyXG5cclxuICAgICAgICAgIGlmIChhY3Rpb24ud2lkZ2V0SWQgPT09IGFjdGlvbldpZGdldElkKSB7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpb25OYW1lcy5pbmNsdWRlcyhhY3Rpb24uYWN0aW9uTmFtZSkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZmFsc2VcclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlVmVyc2lvbk1hbmFnZXIsIEltbXV0YWJsZSB9IGZyb20gJ2ppbXUtY29yZSdcclxuXHJcbmNsYXNzIFZlcnNpb25NYW5hZ2VyIGV4dGVuZHMgQmFzZVZlcnNpb25NYW5hZ2VyIHtcclxuICB2ZXJzaW9ucyA9IFt7XHJcbiAgICB2ZXJzaW9uOiAnMS4xMC4wJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnMS4xMC4wJyxcclxuICAgIHVwZ3JhZGVyOiAob2xkQ29uZmlnKSA9PiB7XHJcbiAgICAgIGxldCBuZXdDb25maWdcclxuICAgICAgaWYgKG9sZENvbmZpZy50b29sQ29uaWZnKSB7XHJcbiAgICAgICAgLy8gZml4IHR5cG8gZm9yICd0b29sQ29uaWZnJ1xyXG4gICAgICAgIG5ld0NvbmZpZyA9IEltbXV0YWJsZS53aXRob3V0KG9sZENvbmZpZywgJ3Rvb2xDb25pZmcnKVxyXG4gICAgICAgIG5ld0NvbmZpZyA9IG5ld0NvbmZpZy5zZXQoJ3Rvb2xDb25maWcnLCBvbGRDb25maWcudG9vbENvbmlmZylcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmV3Q29uZmlnXHJcbiAgICB9XHJcbiAgfV1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHZlcnNpb25NYW5hZ2VyID0gbmV3IFZlcnNpb25NYW5hZ2VyKClcclxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2xheW91dHNfbGF5b3V0X3J1bnRpbWVfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV91aV9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8qKlxyXG4gKiBXZWJwYWNrIHdpbGwgcmVwbGFjZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB3aXRoIF9fd2VicGFja19yZXF1aXJlX18ucCB0byBzZXQgdGhlIHB1YmxpYyBwYXRoIGR5bmFtaWNhbGx5LlxyXG4gKiBUaGUgcmVhc29uIHdoeSB3ZSBjYW4ndCBzZXQgdGhlIHB1YmxpY1BhdGggaW4gd2VicGFjayBjb25maWcgaXM6IHdlIGNoYW5nZSB0aGUgcHVibGljUGF0aCB3aGVuIGRvd25sb2FkLlxyXG4gKiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuLy8gQHRzLWlnbm9yZVxyXG5fX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHdpbmRvdy5qaW11Q29uZmlnLmJhc2VVcmxcclxuIiwiLyoqIEBqc3gganN4ICovXHJcbmltcG9ydCB7XHJcbiAgUmVhY3QsIGNzcywganN4LCBnZXRBcHBTdG9yZSwgdHlwZSBBbGxXaWRnZXRQcm9wcywgU2Vzc2lvbk1hbmFnZXIsXHJcbiAgdXRpbHMsIHR5cGUgQXBwTW9kZSwgdHlwZSBJTVN0YXRlLCBjbGFzc05hbWVzLCBwb2xpc2hlZCwgUmVhY3RSZXNpemVEZXRlY3RvciwgTXV0YWJsZVN0b3JlTWFuYWdlciwgdHlwZSBJTVVybFBhcmFtZXRlcnNcclxufSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgSU1Db25maWcgfSBmcm9tICcuLi9jb25maWcnXHJcbmltcG9ydCBNdWx0aVNvdXJjZU1hcCBmcm9tICcuL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAnXHJcbmltcG9ydCBEZWZhdWx0TWFwIGZyb20gJy4vY29tcG9uZW50cy9kZWZhdWx0LW1hcCdcclxuaW1wb3J0IHsgdHlwZSBJRmVhdHVyZSB9IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LXR5cGVzJ1xyXG5pbXBvcnQgeyBjaGVja0lzTGl2ZSB9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7IHR5cGUgSmltdU1hcFZpZXdHcm91cCwgdHlwZSBTaG93T25NYXBEYXRhcywgdHlwZSBBZGRUb01hcERhdGFzLCBEYXRhQ2hhbmdlU3RhdHVzIH0gZnJvbSAnamltdS1hcmNnaXMnXHJcbmltcG9ydCB7IFZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQsIFBhZ2VWaXNpYmlsaXR5Q29udGV4dCwgVmlld1Zpc2liaWxpdHlDb250ZXh0IH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xyXG5pbXBvcnQgeyB2ZXJzaW9uTWFuYWdlciB9IGZyb20gJy4uL3ZlcnNpb24tbWFuYWdlcidcclxuaW1wb3J0IHsgTG9hZGluZywgTG9hZGluZ1R5cGUsIEljb24gfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgeyB0eXBlIFpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZSB9IGZyb20gJy4uL21lc3NhZ2UtYWN0aW9ucy96b29tLXRvLWZlYXR1cmUtYWN0aW9uJ1xyXG5pbXBvcnQgeyB0eXBlIFBhblRvQWN0aW9uVmFsdWUgfSBmcm9tICcuLi9tZXNzYWdlLWFjdGlvbnMvcGFuLXRvLWFjdGlvbidcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uUmVsYXRlZFByb3BzIHtcclxuICB6b29tVG9GZWF0dXJlQWN0aW9uVmFsdWU/OiBab29tVG9GZWF0dXJlQWN0aW9uVmFsdWVcclxuICBwYW5Ub0FjdGlvblZhbHVlPzogUGFuVG9BY3Rpb25WYWx1ZVxyXG4gIG5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZT86IHtcclxuICAgIHZhbHVlOiB7IFtsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldCB9XHJcbiAgICBwcm9taXNlPzogUHJvbWlzZTxhbnk+XHJcbiAgfVxyXG4gIGNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7IFtsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldCB9XHJcbiAgc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlPzogSUZlYXR1cmVbXSB8IF9fZXNyaS5HcmFwaGljW11cclxuICBmbGFzaEFjdGlvblZhbHVlPzoge1xyXG4gICAgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZ1xyXG4gICAgcXVlcnlTUUw6IHN0cmluZ1xyXG4gIH1cclxuICBmaWx0ZXJBY3Rpb25WYWx1ZT86IHtcclxuICAgIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmdcclxuICAgIHF1ZXJ5U1FMOiBzdHJpbmdcclxuICB9XHJcbiAgc2hvd09uTWFwRGF0YXM/OiBTaG93T25NYXBEYXRhc1xyXG4gIGFkZFRvTWFwRGF0YXM/OiBBZGRUb01hcERhdGFzXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWFwV2lkZ2V0UHJvcHMgZXh0ZW5kcyBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz4ge1xyXG4gIG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHNcclxuICBhcHBNb2RlOiBBcHBNb2RlXHJcbiAgaXNQcmludFByZXZpZXc6IGJvb2xlYW5cclxuICBxdWVyeU9iamVjdDogSU1VcmxQYXJhbWV0ZXJzXHJcbiAgYXV0b0NvbnRyb2xXaWRnZXRJZDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdGF0ZSB7XHJcbiAgc3RhcnRMb2FkTW9kdWxlczogYm9vbGVhblxyXG5cclxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZ1xyXG4gIHdpZGdldEhlaWdodDogbnVtYmVyXHJcblxyXG4gIGlzRnVsbFNjcmVlbjogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaWRnZXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE1hcFdpZGdldFByb3BzLCBTdGF0ZT4ge1xyXG4gIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnRcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50XHJcbiAgY29udGFpbmVyQ2xpZW50UmVjdDogQ2xpZW50UmVjdCB8IERPTVJlY3RcclxuICBtdWx0aVNvdXJjZU1hcEluc3RhbmNlOiBNdWx0aVNvdXJjZU1hcCA9IG51bGxcclxuICByZWFkb25seSB3YXJuaW5nSWNvbjogc3RyaW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLndhcm5pbmdJY29uID0gYDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE1XCIgdmlld0JveD1cIjAgMCAxNiAxNVwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcuMDk5MjYgNS4zNzAwNEM3LjA0NTk4IDQuODM3MjkgNy40NjQzNCA0LjM3NSA3Ljk5OTc1IDQuMzc1QzguNTM1MTYgNC4zNzUgOC45NTM1MyA0LjgzNzI4IDguOTAwMjUgNS4zNzAwNEw4LjU0OTUgOC44Nzc0OEM4LjUyMTI2IDkuMTU5OTIgOC4yODM2IDkuMzc1IDcuOTk5NzUgOS4zNzVDNy43MTU5MSA5LjM3NSA3LjQ3ODI1IDkuMTU5OTIgNy40NSA4Ljg3NzQ4TDcuMDk5MjYgNS4zNzAwNFpcIiBmaWxsPVwiIzkzODUwMFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk03Ljk5OTc1IDEyLjM3NUM4LjU1MjA0IDEyLjM3NSA4Ljk5OTc1IDExLjkyNzMgOC45OTk3NSAxMS4zNzVDOC45OTk3NSAxMC44MjI3IDguNTUyMDQgMTAuMzc1IDcuOTk5NzUgMTAuMzc1QzcuNDQ3NDcgMTAuMzc1IDYuOTk5NzUgMTAuODIyNyA2Ljk5OTc1IDExLjM3NUM2Ljk5OTc1IDExLjkyNzMgNy40NDc0NyAxMi4zNzUgNy45OTk3NSAxMi4zNzVaXCIgZmlsbD1cIiM5Mzg1MDBcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xLjY2NjQyIDE0LjM3NUMwLjkxMTUgMTQuMzc1IDAuNDI4ODExIDEzLjU3MDUgMC43ODQwNjcgMTIuOTA0NEw3LjExNzQgMS4wMjk0MUM3LjQ5Mzg3IDAuMzIzNTI5IDguNTA1NjQgMC4zMjM1MjkgOC44ODIxMSAxLjAyOTQxTDE1LjIxNTQgMTIuOTA0NEMxNS41NzA3IDEzLjU3MDUgMTUuMDg4IDE0LjM3NSAxNC4zMzMxIDE0LjM3NUgxLjY2NjQyWk0xLjY2NjQyIDEzLjM3NUw3Ljk5OTc1IDEuNUwxNC4zMzMxIDEzLjM3NUgxLjY2NjQyWlwiIGZpbGw9XCIjOTM4NTAwXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICB3aWR0aEJyZWFrcG9pbnQ6IG51bGwsXHJcbiAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcclxuICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxyXG4gICAgfSBhcyBTdGF0ZVxyXG4gIH1cclxuXHJcbiAgZ2V0V2lkZ2V0U3lsZSAoKSB7XHJcbiAgICByZXR1cm4gY3NzYFxyXG4gICAgICAubWFwLWxvYWRpbmctYmFyIHtcclxuICAgICAgICB6LWluZGV4OiA4O1xyXG4gICAgICB9XHJcbiAgICAgIC5tYXAtd2FybmluZy1iYXIge1xyXG4gICAgICAgIHotaW5kZXg6IDg7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGJvdHRvbTogNHB4O1xyXG4gICAgICAgIGxlZnQ6IDRweDtcclxuICAgICAgICByaWdodDogNHB4O1xyXG4gICAgICAgIGhlaWdodDogMzVweDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZGViO1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmY1OTI7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuXHJcbiAgICAgICAgLndhcm5pbmctaWNvbiB7XHJcbiAgICAgICAgICB3aWR0aDogMTRweDtcclxuICAgICAgICAgIG1hcmdpbjogMCAxMnB4IDAgMTJweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIGBcclxuICB9XHJcblxyXG4gIGdldFN0eWxlICgpIHtcclxuICAgIGNvbnN0IHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZVxyXG5cclxuICAgIHJldHVybiBjc3NgXHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAgIC5tYXAtaXMtbGl2ZS1tb2RlIHtcclxuICAgICAgICAuZXhibWFwLXVpIHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuaXMtd2lkZ2V0IHtcclxuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcC11c2VtYXNrIHtcclxuICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubWFwLWlzLWRlc2lnbi1tb2RlIHtcclxuICAgICAgICAuZXhibWFwLXVpLFxyXG4gICAgICAgIC5leGJtYXAtdWktdG9vbCB7XHJcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmlzLXdpZGdldCB7XHJcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLndpZGdldC1tYXB7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IC0xO1xyXG4gICAgICAgIC5vdmVydmlldy1jb250YWluZXJ7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICB0b3A6IDEycHg7XHJcbiAgICAgICAgICByaWdodDogMTJweDtcclxuICAgICAgICAgIHdpZHRoOiAzMDBweDtcclxuICAgICAgICAgIGhlaWdodDogMjAwcHg7XHJcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZXh0ZW50LWNvbnRhaW5lcntcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHotaW5kZXg6IDI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZXh0ZW50LWJ0bi1jb250YWluZXJ7XHJcbiAgICAgICAgICBidXR0b257XHJcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAucHJldmlvdXMtZXh0ZW50LWJ0bntcclxuICAgICAgICAgICAgY29sb3I6ICMxMTE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAubmV4dC1leHRlbnQtYnRue1xyXG4gICAgICAgICAgICBjb2xvcjogIzIyMjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXAtdG9vbC1sYXlvdXR7XHJcbiAgICAgICAgei1pbmRleDogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLm1hcHN3aXRjaC1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiA3O1xyXG4gICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgICBib3R0b206IDEwcHg7XHJcbiAgICAgICAgbGVmdDogMTBweDtcclxuICAgICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5tYXBzd2l0Y2gtaWNvbiB7XHJcbiAgICAgICAgZmlsbDogYmxhY2s7XHJcbiAgICAgICAgbGVmdDogOHB4O1xyXG4gICAgICAgIHRvcDogOHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLndpZGdldC1tYXAtYmFja2dyb3VuZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMud2hpdGV9O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB6LWluZGV4OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3BvbGlzaGVkLnJnYmEodGhlbWUuY29sb3JzLndoaXRlLCAwLjg1KX07XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHotaW5kZXg6IDE7XHJcbiAgICAgICAgdG9wOiAwO1xyXG5cclxuICAgICAgICAud2lkZ2V0LW1hcC1jcmFzaGVkLWxhYmVsLXBhZGRpbmcge1xyXG4gICAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyNCl9O1xyXG4gICAgICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMjQpfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xyXG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfTtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgQGtleWZyYW1lcyBhcHBlYXIge1xyXG4gICAgICAgIDAle29wYWNpdHk6MH1cclxuICAgICAgICAyNSV7b3BhY2l0eTouMjV9XHJcbiAgICAgICAgNTAle29wYWNpdHk6LjU7fVxyXG4gICAgICAgIDc1JXtvcGFjaXR5Oi43NX1cclxuICAgICAgICAxMDAle29wYWNpdHk6MTt9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEBrZXlmcmFtZXMgZGlzYXBwZWFyIHtcclxuICAgICAgICAwJXtvcGFjaXR5OjF9XHJcbiAgICAgICAgMjUle29wYWNpdHk6Ljc1fVxyXG4gICAgICAgIDUwJXtvcGFjaXR5Oi41O31cclxuICAgICAgICA3NSV7b3BhY2l0eTouMjV9XHJcbiAgICAgICAgMTAwJXtvcGFjaXR5OjA7fVxyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb246IGFwcGVhciAzMDBtcztcclxuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXIge1xyXG4gICAgICAgIGFuaW1hdGlvbjogZGlzYXBwZWFyIDMwMG1zO1xyXG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBkaXNhcHBlYXIgMzAwbXM7XHJcbiAgICAgICAgLW1vei1hbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcclxuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkcztcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGZvcndhcmRzO1xyXG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcclxuICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlIHtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICB9XHJcbiAgICAgIGBcclxuICB9XHJcblxyXG4gIHN0YXRpYyB2ZXJzaW9uTWFuYWdlciA9IHZlcnNpb25NYW5hZ2VyXHJcblxyXG4gIHN0YXRpYyBtYXBFeHRyYVN0YXRlUHJvcHMgPSAoc3RhdGU6IElNU3RhdGUsIHByb3BzOiBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz4pID0+IHtcclxuICAgIGxldCBhdXRvQ29udHJvbFdpZGdldElkID0gJydcclxuXHJcbiAgICBjb25zdCBtYXBXaWRnZXRJZCA9IHByb3BzLmlkXHJcblxyXG4gICAgaWYgKHN0YXRlLm1hcFdpZGdldHNJbmZvICYmIG1hcFdpZGdldElkKSB7XHJcbiAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQgPSBzdGF0ZS5tYXBXaWRnZXRzSW5mb1ttYXBXaWRnZXRJZF0/LmF1dG9Db250cm9sV2lkZ2V0SWQgfHwgJydcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhcHBNb2RlOiBzdGF0ZSAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbyAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mby5hcHBNb2RlLFxyXG4gICAgICBpc1ByaW50UHJldmlldzogc3RhdGUuYXBwUnVudGltZUluZm8uaXNQcmludFByZXZpZXcsXHJcbiAgICAgIHF1ZXJ5T2JqZWN0OiBzdGF0ZS5xdWVyeU9iamVjdCxcclxuICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnRSZW5kZXJNYXAgPSAoKSA9PiB7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc3RhcnRMb2FkTW9kdWxlczogdHJ1ZVxyXG4gICAgICB9KVxyXG4gICAgfSwgMTAwKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXMpIHtcclxuICAgICAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyIHx8ICF0aGlzLnByb3BzLmNvbmZpZy5jYW5QbGFjZUhvbGRlcikge1xyXG4gICAgICAgIHRoaXMuc3RhcnRSZW5kZXJNYXAoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XHJcbiAgICBjb25zdCB3aWRnZXRzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsU2NyZWVuSGFubGRlcilcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCB0aGlzLmZ1bGxTY3JlZW5IYW5sZGVyKVxyXG4gICAgaWYgKCF3aWRnZXRzW3RoaXMucHJvcHMuaWRdKSB7XHJcbiAgICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKHRoaXMucHJvcHMuaWQsICdyZXN0b3JlRGF0YScsIG51bGwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRQbGFjZUhvbGRlckltYWdlID0gKCkgPT4ge1xyXG4gICAgbGV0IHBsYWNlSG9sZGVySW1hZ2UgPSB0aGlzLnByb3BzLmNvbmZpZy5wbGFjZWhvbGRlckltYWdlXHJcbiAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpXHJcbiAgICBpZiAocGxhY2VIb2xkZXJJbWFnZSkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgY29uc3QgaXNQb3J0YWxUaHVtYkV4cCA9IG5ldyBSZWdFeHAoJ14oLikrL3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyguKSsvaW5mby8oLikrJylcclxuXHJcbiAgICAgIGlmIChpc1BvcnRhbFRodW1iRXhwLnRlc3QocGxhY2VIb2xkZXJJbWFnZSkpIHtcclxuICAgICAgICBpZiAoc2Vzc2lvbikge1xyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2UgKyBgP3Rva2VuPSR7c2Vzc2lvbi50b2tlbn1gXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWFzc2lnblxyXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGxhY2VIb2xkZXJJbWFnZVxyXG4gIH1cclxuXHJcbiAgZnVsbFNjcmVlbkhhbmxkZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmICghKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgJiYgIShkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bGxTY3JlZW5NYXAgPSAoKSA9PiB7XHJcbiAgICBpZiAodXRpbHMuaXNUb3VjaERldmljZSgpKSB7XHJcbiAgICAvLyBpcyB0b3VjaCBkZXZpY2VcclxuICAgICAgaWYgKHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LmhlaWdodH1weGBcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3RoaXMuY29udGFpbmVyQ2xpZW50UmVjdC53aWR0aH1weGBcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QudG9wfXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QubGVmdH1weGBcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uID0gbnVsbFxyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnXHJcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnMCdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMCdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdub25lJ1xyXG4gICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9LCAxMDApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgY2xpZW50UmVjdCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJDbGllbnRSZWN0ID0gY2xpZW50UmVjdFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2NsaWVudFJlY3QuaGVpZ2h0fXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7Y2xpZW50UmVjdC53aWR0aH1weGBcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSBgJHtjbGllbnRSZWN0LnRvcH1weGBcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7Y2xpZW50UmVjdC5sZWZ0fXB4YFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnpJbmRleCA9ICcxJ1xyXG5cclxuICAgICAgICBkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAndG9wIDAuM3MsIGJvdHRvbSAwLjNzLCBsZWZ0IDAuM3MsIHJpZ2h0IDAuM3MsIGhlaWdodCAwLjNzLCB3aWR0aCAwLjNzJ1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudG9wID0gJzBweCdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucmlnaHQgPSAnMHB4J1xyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYm90dG9tID0gJzBweCdcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG51bGxcclxuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gbnVsbFxyXG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiB0cnVlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIDEwMClcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY29udGFpbmVyIGFzIGFueVxyXG5cclxuICAgICAgaWYgKCFkb2N1bWVudCkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdGhpcy5mdWxsU2NyZWVuSGFubGRlcilcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbFNjcmVlbkhhbmxkZXIpXHJcblxyXG4gICAgICBpZiAoKGRvY3VtZW50IGFzIGFueSkuZnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS5leGl0RnVsbHNjcmVlbigpXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgKGRvY3VtZW50IGFzIGFueSkud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBpc0Z1bGxTY3JlZW46IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVxdWVzdE1ldGhvZCA9IGVsZW1lbnQucmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubXNSZXF1ZXN0RnVsbFNjcmVlblxyXG4gICAgICBpZiAocmVxdWVzdE1ldGhvZCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgaXNGdWxsU2NyZWVuOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXF1ZXN0TWV0aG9kLmNhbGwoZWxlbWVudClcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKHdpbmRvdyBhcyBhbnkpLkFjdGl2ZVhPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc3Qgd3NjcmlwdCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdXU2NyaXB0LlNoZWxsJylcclxuICAgICAgICBpZiAod3NjcmlwdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgd3NjcmlwdC5TZW5kS2V5cygne0YxMX0nKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVmlld0dyb3VwQ3JlYXRlID0gKHZpZXdHcm91cDogSmltdU1hcFZpZXdHcm91cCkgPT4ge1xyXG4gICAgaWYgKHZpZXdHcm91cCkge1xyXG4gICAgICB2aWV3R3JvdXAuc2V0TWFwV2lkZ2V0SW5zdGFuY2UodGhpcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN3aXRjaE1hcCA9IGFzeW5jICgpOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgaWYgKHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZSkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5tdWx0aVNvdXJjZU1hcEluc3RhbmNlLnN3aXRjaE1hcCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZSA9IChpbnN0YW5jZTogTXVsdGlTb3VyY2VNYXApID0+IHtcclxuICAgIHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZSA9IGluc3RhbmNlXHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHdpZHRoIDw9IDU0NSAmJiB3aWR0aCA+IDApIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgd2lkdGhCcmVha3BvaW50OiAneHNtYWxsJyxcclxuICAgICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodFxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgd2lkdGhCcmVha3BvaW50OiAnb3RoZXInLFxyXG4gICAgICAgIHdpZGdldEhlaWdodDogaGVpZ2h0XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc0xvYWRpbmdEaXNwbGF5ZWQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhZGRUb01hcERhdGFzID0gdGhpcy5wcm9wcy5tdXRhYmxlU3RhdGVQcm9wcz8uYWRkVG9NYXBEYXRhcyB8fCB7fVxyXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoYWRkVG9NYXBEYXRhcykuc29tZSh2YWx1ZSA9PiB2YWx1ZT8uZGF0YUNoYW5nZVN0YXR1cyA9PT0gRGF0YUNoYW5nZVN0YXR1cy5QZW5kaW5nKVxyXG4gIH1cclxuXHJcbiAgaXNXYXJuaW5nRGlzcGxheWVkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYWRkVG9NYXBEYXRhcyA9IHRoaXMucHJvcHMubXV0YWJsZVN0YXRlUHJvcHM/LmFkZFRvTWFwRGF0YXMgfHwge31cclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGFkZFRvTWFwRGF0YXMpLnNvbWUodmFsdWUgPT4gdmFsdWU/LmRhdGFDaGFuZ2VTdGF0dXMgPT09IERhdGFDaGFuZ2VTdGF0dXMuUmVqZWN0ZWQpXHJcbiAgfVxyXG5cclxuICBnZXRJbm5lckNvbnRlbnQgPSAoaXNNYXBJblZpc2libGVBcmVhOiBib29sZWFuKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlcykge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3dpZGdldC1tYXAgdy0xMDAgaC0xMDAnPlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBsZWZ0OiAnNTAlJywgdG9wOiAnNTAlJyB9fSBjbGFzc05hbWU9J2ppbXUtc2Vjb25kYXJ5LWxvYWRpbmcnIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKCEodGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXNbMF0uZGF0YVNvdXJjZUlkKSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnIHJlZj17cmVmID0+IHsgdGhpcy5wYXJlbnRDb250YWluZXIgPSByZWYgfX0+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPSd3LTEwMCBoLTEwMCdcclxuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuY29udGFpbmVyID0gcmVmIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndy0xMDAgaC0xMDAnLCB7ICdtYXAtaXMtZGVzaWduLW1vZGUnOiAhY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKSB9KX0+XHJcbiAgICAgICAgICAgICAgICB7aXNNYXBJblZpc2libGVBcmVhICYmIDxEZWZhdWx0TWFwXHJcbiAgICAgICAgICAgICAgICAgIGZ1bGxTY3JlZW5NYXA9e3RoaXMuZnVsbFNjcmVlbk1hcH0gYmFzZVdpZGdldFByb3BzPXt0aGlzLnByb3BzfSBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnN0YXRlLnN0YXJ0TG9hZE1vZHVsZXN9XHJcbiAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdE1hcCBzZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlPXt0aGlzLnNldE11bHRpU291cmNlTWFwSW5zdGFuY2V9IG9uVmlld0dyb3VwQ3JlYXRlPXt0aGlzLmhhbmRsZVZpZXdHcm91cENyZWF0ZX1cclxuICAgICAgICAgICAgICAgICAgd2lkZ2V0SGVpZ2h0PXt0aGlzLnN0YXRlLndpZGdldEhlaWdodH0gd2lkdGhCcmVha3BvaW50PXt0aGlzLnN0YXRlLndpZHRoQnJlYWtwb2ludH0gaXNGdWxsU2NyZWVuPXt0aGlzLnN0YXRlLmlzRnVsbFNjcmVlbn0gaXNNYXBJblZpc2libGVBcmVhPXtpc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgICAgICAgIGF1dG9Db250cm9sV2lkZ2V0SWQ9e3RoaXMucHJvcHMuYXV0b0NvbnRyb2xXaWRnZXRJZH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDwvRGVmYXVsdE1hcD59XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlV2lkdGggaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3ctMTAwIGgtMTAwJyByZWY9e3JlZiA9PiB7IHRoaXMucGFyZW50Q29udGFpbmVyID0gcmVmIH19PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT0ndy0xMDAgaC0xMDAnXHJcbiAgICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmNvbnRhaW5lciA9IHJlZiB9fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3ctMTAwIGgtMTAwJywgeyAnbWFwLWlzLWRlc2lnbi1tb2RlJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSkgfSl9PlxyXG4gICAgICAgICAgICAgICAge2lzTWFwSW5WaXNpYmxlQXJlYSAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA+PSAxICYmXHJcbiAgICAgICAgICAgICAgICAgIDxNdWx0aVNvdXJjZU1hcFxyXG4gICAgICAgICAgICAgICAgICAgIGtleT17MX0gZnVsbFNjcmVlbk1hcD17dGhpcy5mdWxsU2NyZWVuTWFwfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlc31cclxuICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX0gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgIHdpZGdldEhlaWdodD17dGhpcy5zdGF0ZS53aWRnZXRIZWlnaHR9IHdpZHRoQnJlYWtwb2ludD17dGhpcy5zdGF0ZS53aWR0aEJyZWFrcG9pbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGdWxsU2NyZWVuPXt0aGlzLnN0YXRlLmlzRnVsbFNjcmVlbn0gaXNNYXBJblZpc2libGVBcmVhPXtpc01hcEluVmlzaWJsZUFyZWF9XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0NvbnRyb2xXaWRnZXRJZD17dGhpcy5wcm9wcy5hdXRvQ29udHJvbFdpZGdldElkfVxyXG4gICAgICAgICAgICAgICAgICAvPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J2ppbXUtd2lkZ2V0IGFyY2dpcy1tYXAnIGNzcz17dGhpcy5nZXRXaWRnZXRTeWxlKCl9PlxyXG4gICAgICAgIHt0aGlzLmlzTG9hZGluZ0Rpc3BsYXllZCgpICYmIDxMb2FkaW5nIGNsYXNzTmFtZT0nbWFwLWxvYWRpbmctYmFyJyB0eXBlPXtMb2FkaW5nVHlwZS5CYXJ9Lz59XHJcbiAgICAgICAge3RoaXMuaXNXYXJuaW5nRGlzcGxheWVkKCkgJiYgPGRpdiBjbGFzc05hbWU9J21hcC13YXJuaW5nLWJhcic+XHJcbiAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9J3dhcm5pbmctaWNvbicgaWNvbj17dGhpcy53YXJuaW5nSWNvbn0gc2l6ZT17MjZ9IGN1cnJlbnRDb2xvcj17ZmFsc2V9IC8+XHJcbiAgICAgICAgICA8c3Bhbj57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2UoeyBpZDogJ2ZhaWxUb0FkZFRoZURhdGFPbk1hcCcsIGRlZmF1bHRNZXNzYWdlOiAnRmFpbCB0byBhZGQgdGhlIGRhdGEuJyB9KX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+fVxyXG4gICAgICAgIDxQYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICB7KGlzUGFnZVZpc2libGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8Vmlld3BvcnRWaXNpYmlsaXR5Q29udGV4dC5Db25zdW1lcj5cclxuICAgICAgICAgICAgICAgIHsoaXNWaXNpYmxlSW5WaWV3UG9ydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxWaWV3VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7KHZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUGFnZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcCBjYW4gaGF2ZSBwYWdlMSwgcGFnZTIsIGlzUGFnZVZpc2libGUgaXMgdXNlZCB0byBqdWRnZSB3aGV0aGVyIHRoZSBjdXJyZW50IHBhZ2UgaXMgdmlzaWJsZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzVmlzaWJsZUluVmlld1BvcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gc2Nyb2xsaW5nIHRoZSBzY3JvbGwgcGFnZSwgdGhlIHdpZGdldCBtYXkgYmUgc2Nyb2xsZWQgb3V0IG9mIHRoZSBjdXJyZW50IHZpZXdwb3J0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1Zpc2libGVJblZpZXdQb3J0IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGN1cnJlbnQgd2lkZ2V0IGlzIGluIHRoZSB2aWV3cG9ydCBvZiB0aGUgYnJvd3Nlci5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbnRQcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbnRQcmV2aWV3IGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQgaXMgY3VycmVudGx5IGluIGJyb3dzZXIgcHJpbnRpbmcgbW9kZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzVmlzaWJsZUluVmlldzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdpZGdldCBpcyB1bHRpbWF0ZWx5IHBsYWNlZCBpbiBhIHZpZXcgaW4gYSBsYXlvdXQuIEl0IGlzIHBvc3NpYmxlIHRoYXQgd2UgaGF2ZSBhIHNlY3Rpb24gd2l0aCBtdWx0aXBsZSB2aWV3cyBpbiBpdCwgc2ltaWxhciB0byB0YWJzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1Zpc2libGVJblZpZXcgaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgd2lkZ2V0IGlzIGluIHRoZSBjdXJyZW50bHkgdmlzaWJsZSB2aWV3LlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNWaXNpYmxlSW5WaWV3ID0gdmlld1Zpc2liaWxpdHlDb250ZXh0UHJvcHMuaXNJblZpZXcgPyB2aWV3VmlzaWJpbGl0eUNvbnRleHRQcm9wcy5pc0luQ3VycmVudFZpZXcgOiB0cnVlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc01hcEluVmlzaWJsZUFyZWE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzTWFwSW5WaXNpYmxlQXJlYSBpcyB1c2VkIHRvIGZpbmFsbHkgZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGRvbSBvZiB0aGUgbWFwIGlzIHZpc2libGUgdG8gdGhlIHVzZXIuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHVzZSAoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSwgbm90IG9ubHkgaXNWaXNpYmxlSW5WaWV3UG9ydCwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBjcmVhdGUgYSBzY3JvbGwgcGFnZSB3aXRoIG1hcC4gV2Ugc2Nyb2xsIHRoZSBwYWdlIGFuZCB0aGUgbWFwIGlzIG5vdCB2aXNpYmxlIGZvciB1c2VyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIHdhbnRzIHRvIHByaW50IHRoZSBzY3JvbGwgcGFnZSwgaW5jbHVkaW5nIHRoZSBtYXAgKGV2ZW4gdGhlIG1hcCBpcyBub3QgdmlzaWJsZSkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZW4gdGhlIHVzZXIgZW5hYmxlcyBwcmludCB2aWV3IG1vZGUgYnkgYSBidXR0b24uIE5vdywgaXNWaXNpYmxlSW5WaWV3UG9ydCBpcyBmYWxzZSBhbmQgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldyBpcyB0cnVlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgbWFwIHdpZGdldCBpcyB2aXNpYmxlIChsZXQgaXNNYXBJblZpc2libGVBcmVhIGJlIHRydWUpIHdoZW4gaW4gcHJpbnQgdmlldyBtb2RlLCBvdGhlcndpc2UgdGhlIHByaW50IHJlc3VsdCB3aWxsIGxvc2UgbWFwLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTbyB3ZSB1c2UgKGlzVmlzaWJsZUluVmlld1BvcnQgfHwgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldyksIGluc3RlYWQgb2YgdGhpcy5wcm9wcy5pc1ByaW50UHJldmlldy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNYXBJblZpc2libGVBcmVhID0gaXNQYWdlVmlzaWJsZSAmJiAoaXNWaXNpYmxlSW5WaWV3UG9ydCB8fCB0aGlzLnByb3BzLmlzUHJpbnRQcmV2aWV3KSAmJiBpc1Zpc2libGVJblZpZXdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldElubmVyQ29udGVudChpc01hcEluVmlzaWJsZUFyZWEpXHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvVmlld1Zpc2liaWxpdHlDb250ZXh0LkNvbnN1bWVyPlxyXG5cclxuICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA8L1ZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPC9QYWdlVmlzaWJpbGl0eUNvbnRleHQuQ29uc3VtZXI+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cbiBleHBvcnQgZnVuY3Rpb24gX19zZXRfd2VicGFja19wdWJsaWNfcGF0aF9fKHVybCkgeyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHVybCB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9